<div fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutGap="16px grid" fxLayoutGap.lt-sm="0">

    <div *ngIf="tuChoiDuyet" fxFlex="100%" fxFlex.sm="100%" style="color: red;">Lí do: {{yeuCauTraThuoc.LyDoKhongDuyet}}
    </div>

    <app-combobox fxFlex="16%" fxFlex.sm="100%" id="hoan-tra-tu-kho" label="Hoàn trả từ kho"
        url="YeuCauTraThuoc/GetKhoLoaiDuocPham" [(model)]="yeuCauTraThuoc.KhoXuatId" [modelText]="yeuCauTraThuoc.KhoXuat"
        disabled="true" bind="true" [required]="true">
    </app-combobox>

    <app-combobox fxFlex="16%" fxFlex.sm="100%" id="hoan-tra-ve-kho" label="Hoàn trả về kho"
        url="YeuCauTraThuoc/GetKhoLoaiDuocHoanTra" [(model)]="yeuCauTraThuoc.KhoNhapId" [modelText]="yeuCauTraThuoc.KhoNhap"
        disabled="true" bind="true" [required]="true">
    </app-combobox>

    <app-combobox fxFlex="16%" fxFlex.sm="100%" id="nguoi-yeu-cau" label="Người yêu cầu"
        url="NhanVien/GetListLookupNhanVien" [(model)]="yeuCauTraThuoc.NhanVienYeuCauId"
        [modelText]="yeuCauTraThuoc.NhanVienYeuCau" disabled="true" bind="true" [required]="true">
    </app-combobox>

    <app-datepicker [disabled]="true" id="ngay-yeu-cau" fxFlex="16%" fxFlex.sm="100%" [required]="true"
        [(model)]="yeuCauTraThuoc.NgayYeuCau" label="Ngày yêu cầu" [disabled]="true">
    </app-datepicker>

    <app-combobox *ngIf="tuChoiDuyet" fxFlex="16%" fxFlex.sm="100%" id="nguoi-tu-choi-duyet" label="Người từ chối duyệt"
        url="NhanVien/GetListLookupNhanVien" [(model)]="yeuCauTraThuoc.NhanVienDuyetId"
        [modelText]="yeuCauTraThuoc.NhanVienDuyet" disabled="true" bind="true" [required]="true">
    </app-combobox>

    <app-combobox *ngIf="!tuChoiDuyet" fxFlex="16%" fxFlex.sm="100%" id="nguoi-duyet" label="Người phê duyệt"
        url="NhanVien/GetListLookupNhanVien" [(model)]="yeuCauTraThuoc.NhanVienDuyetId"
        [modelText]="yeuCauTraThuoc.NhanVienDuyet" disabled="true" bind="true" [required]="true">
    </app-combobox>

    <app-datepicker *ngIf="tuChoiDuyet" [disabled]="true" id="ngay-tu-choi-duyet" fxFlex="16%" fxFlex.sm="100%"
        [(model)]="yeuCauTraThuoc.NgayDuyet" label="Ngày từ chối duyệt" [required]="true">
    </app-datepicker>

    <app-datepicker *ngIf="!tuChoiDuyet" [disabled]="true" id="ngay-duyet" fxFlex="16%" fxFlex.sm="100%"
        [(model)]="yeuCauTraThuoc.NgayDuyet" label="Ngày phê duyệt" [required]="true">
    </app-datepicker>

    <app-textbox id="ghi-chu" fxFlex="100%" fxFlex.sm="100%" [(model)]="yeuCauTraThuoc.GhiChu" label="Ghi chú"
        disabled="true" maxlength="1000">
    </app-textbox>
    <h3 fxFlex="100%" class="sub-title mt-0">THÔNG TIN DƯỢC PHẨM
    </h3>

    <app-grid [groups]="groups" #grid fxFlex="100%" fxFlex.sm="100%" [gridColumns]="gridColumns" [sort]="sort"
        [useActionDefault]="false" [urlGetData]="urlGetDataGridChild" [urlGetTotalPage]="urlGetTotalPageGridChild"
        [additionalSearchString]="id" [useActionDefault]="actionTemplate" maxHeight="500" [useAddDeault]="false"
        [checkboxAble]="false" [pageable]="true" [autoHeight]="true" [lazyLoadPage]="true">
    </app-grid>

    <ng-template #giaTemplate let-dataItem>
        {{dataItem.DonGiaNhap | number:'0.2-2':'vi-VN'}}
    </ng-template>

    <ng-template #tenNhomGroupHeaderTemplate let-value="value" let-dataItem>
        <strong>{{value}}</strong>
    </ng-template>

    <ng-template #soLuongTemplate let-dataItem>
        {{dataItem.SoLuongTra | number:'1.0':'vi-VN' }}
    </ng-template>
</div>