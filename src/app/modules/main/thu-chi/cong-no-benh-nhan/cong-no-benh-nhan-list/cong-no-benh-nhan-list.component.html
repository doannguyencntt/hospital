<vex-page-layout>
    <vex-page-layout-header class="pb-15" fxLayout="column" fxLayoutAlign="center start">
        <div [class.px-gutter]="true" class="w-full flex justify-between">
            <div>
                <vex-breadcrumbs [crumbs]="[
                    { Title: 'Thu Ngân', Path: '' },
                    { Title: 'Công Nợ Người Bệnh', Path: '/thu-ngan/cong-no-benh-nhan' , Active: true }]">
                </vex-breadcrumbs>
            </div>
        </div>
    </vex-page-layout-header>
    <vex-page-layout-content [class.px-gutter]="true" class="-mt-6">
        <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" class="card overflow-auto -mt-15">
            <div class="card" fxFlex="auto" style="color: rgba(0,0,0,0.54);">
                <div class="px-2 py-1 border-b" fxLayout="row" fxLayoutAlign="start center" fxLayoutAlign="space-between center" style="background: #ebebee;">
                    <div class="bg-card rounded-full border px-4 ml-2" fxFlex="400px" fxFlex.lt-md="auto" fxHide.xs fxLayout="row" fxLayoutAlign="start center" style="margin-top: 2px;">
                        <ic-icon [icIcon]="icSearch" size="20px"></ic-icon>
                        <input class="px-4 py-2 border-0 outline-none w-full bg-transparent" type="search" name="searchString" placeholder="Nhập từ khoá tìm kiếm"
                            [formControl]="searchCtrl"
                            [(ngModel)]="congNoBenhNhanSearch.searchString" 
                            (ngModelChange)="clearSearch()" (keyup)="onKey($event)"/>
                    </div>

                    <div>
                        <button [matMenuTriggerFor]="columnFilterMenu" class="mr-2" fxFlex="none" mat-icon-button kendoTooltip title="Lọc cột" type="button">
                            <mat-icon [icIcon]="icFilterList"></mat-icon>
                        </button>

                        <button class="mr-2" (click)="exportExcel()" fxFlex="none" mat-icon-button kendoTooltip title="Xuất Excel" type="button">
                            <mat-icon [icIcon]="icFileExcel"></mat-icon>
                        </button>

                        <mat-menu #columnFilterMenu="matMenu" xPosition="before" yPosition="below">
                            <div *ngFor="let column of filterColumns">
                                <button
                                    class="checkbox-item mat-menu-item mat-checkbox mat-primary mat-checkbox-disabled _mat-animation-noopable ng-untouched ng-pristine mat-checkbox-checked">
                                    <mat-checkbox [disabled]="true" color="primary">
                                        {{ column.Title }}
                                    </mat-checkbox>
                                </button>
                            </div>
                        </mat-menu>
                    </div>

                    <!-- <button [matMenuTriggerFor]="columnFilterMenu" class="mr-4" fxFlex="none" mat-icon-button
                        kendoTooltip title="Lọc cột" type="button">
                        <mat-icon [icIcon]="icFilterList"></mat-icon>
                    </button>

                    <button (click)="exportExcel()" class="mr-4" fxFlex="none" mat-icon-button kendoTooltip title="Xuất Excel"
                        type="button">
                        <mat-icon [icIcon]="icFileExcel"></mat-icon>
                    </button>

                    <mat-menu #columnFilterMenu="matMenu" xPosition="before" yPosition="below">
                        <div *ngFor="let column of filterColumns">
                            <button
                                class="checkbox-item mat-menu-item mat-checkbox mat-primary mat-checkbox-disabled _mat-animation-noopable ng-untouched ng-pristine mat-checkbox-checked">
                                <mat-checkbox [disabled]="true" color="primary">
                                    {{ column.Title }}
                                </mat-checkbox>
                            </button>
                        </div>
                    </mat-menu> -->
                </div>
    
                <div class="px-3 py-2" fxLayout="column">
                    <kendo-tabstrip #tabStrip class="content-has-border sticky-kendotab-item-2" (tabSelect)="changeTab($event)">
                        <kendo-tabstrip-tab name="1" [selected]="congNoBenhNhanSearch.listTabCongNoBenhNhan.tabConNoSelected">
                            <ng-template kendoTabTitle>
                                <div>
                                    CÒN NỢ
                                </div>
                            </ng-template>
                
                            <ng-template kendoTabContent>
                                <app-cong-no-benh-nhan-con-no [searchString]="congNoBenhNhanSearch.searchString"></app-cong-no-benh-nhan-con-no>
                            </ng-template>
                        </kendo-tabstrip-tab>
                
                        <kendo-tabstrip-tab [selected]="congNoBenhNhanSearch.listTabCongNoBenhNhan.tabHetNoSelected">
                            <ng-template kendoTabTitle>
                                <div>
                                    HẾT NỢ
                                </div>
                            </ng-template>
                
                            <ng-template kendoTabContent>
                                <app-cong-no-benh-nhan-het-no [searchString]="congNoBenhNhanSearch.searchString"></app-cong-no-benh-nhan-het-no>
                            </ng-template>
                        </kendo-tabstrip-tab>
                    </kendo-tabstrip>
                </div>
            </div>
        </div>
    </vex-page-layout-content>
</vex-page-layout>