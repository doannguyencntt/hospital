<kendo-grid [data]="gridDataDaThu" [resizable]="true" [selectable]="{enabled: true, checkboxOnly: true}" class="grid-custom" id="danhSachChuaThuTienGrid" height="541">
	<kendo-grid-column field="" title="" width="41" [style]="{'text-align': 'center'}" [headerStyle]="{'text-align': 'center'}"> </kendo-grid-column>
	<kendo-grid-column field="" title="#" width="28" [style]="{'text-align': 'center'}" [headerStyle]="{'text-align': 'center'}">
		<ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex"> {{rowIndex + 1}} </ng-template>
	</kendo-grid-column>
	<kendo-grid-column field="Ma" title="Mã" width="60" [style]="{'text-align': 'left'}" [headerStyle]="{'text-align': 'left'}">
		<ng-template kendoGridCellTemplate let-dataItem="dataItem">
			<div fxLayout="row" fxLayoutGap="8px" class="mt-2" kendoTooltip>
				<span class="reverse-ellipsis r" title="{{dataItem.Ma}}"> {{dataItem.Ma}} </span>
			</div>
		</ng-template>
	</kendo-grid-column>
	<kendo-grid-column field="Khoa" title="Khoa" width="60" [hidden]="true" [style]="{'text-align': 'center'}" [headerStyle]="{'text-align': 'center'}" class="k-grouping-row p">
		<ng-template kendoGridGroupHeaderTemplate let-group let-field="field" let-value="value"> <strong>Khoa: </strong> {{value}} </ng-template>
	</kendo-grid-column>
	<kendo-grid-column field="NgayPhatSinhDiplay" title="NgayPhatSinhDiplay" width="60" [hidden]="true" [style]="{'text-align': 'center'}" [headerStyle]="{'text-align': 'center'}" class="k-grouping-row p">
		<ng-template kendoGridGroupHeaderTemplate let-group let-field="field" let-value="value"> <strong>Ngày phát sinh: </strong> {{value}} </ng-template>
	</kendo-grid-column>
	<kendo-grid-column field="TenDichVu" title="Tên Dịch Vụ" width="100" [style]="{'text-align': 'left'}" [headerStyle]="{'text-align': 'left'}">
		<ng-template kendoGridCellTemplate let-dataItem="dataItem">
			<div fxLayout="row" fxLayoutGap="8px" class="mt-2" kendoTooltip>
				<p class="reverse-ellipsis r" title="{{dataItem.TenDichVu}}">{{dataItem.TenDichVu}}</p>
			</div>
		</ng-template>
		<ng-template kendoGridFooterTemplate let-column let-columnIndex="columnIndex">
			<div class="text-center" style="font-weight: bold; color: #000" kendoTooltip title="Tổng cộng DV đang chọn">Tổng cộng:</div>
		</ng-template>
	</kendo-grid-column>
	<kendo-grid-column field="LoaiGia" title="Loại Giá" width="60" [style]="{'text-align': 'left'}" [headerStyle]="{'text-align': 'left'}"> </kendo-grid-column>
	<kendo-grid-column field="Soluong" title="Số Lượng" width="60" [style]="{'text-align': 'right'}" [headerStyle]="{'text-align': 'center'}"> </kendo-grid-column>
	<kendo-grid-column field="DonGia" title="Đơn Giá" width="100" [style]="{'text-align': 'center'}" [headerStyle]="{'text-align': 'center'}">
		<ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
			<div class="float_right">{{ dataItem.DonGia | number:'0.2-2':'vi-VN'}}</div>
		</ng-template>
	</kendo-grid-column>
	<kendo-grid-column field="ThanhTien" title="Thành Tiền" width="90" [headerStyle]="{'text-align': 'center'}">
		<ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
			<div class="float_right">{{ dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}</div>
		</ng-template>
		<ng-template kendoGridFooterTemplate let-column let-columnIndex="columnIndex" style="text-align: center">
			<span style="float: right">{{total('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>
		</ng-template>
	</kendo-grid-column>
	<kendo-grid-column field="BHYTThanhToan" title="BHYT TT" width="100" [headerStyle]="{'text-align': 'center'}">
		<ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
			<div class="float_right">
				<div *ngIf="dataItem.DuocHuongBHYT !== true">{{ dataItem.BHYTThanhToan | number:'0.2-2':'vi-VN'}}</div>
				<div *ngIf="dataItem.DuocHuongBHYT === true">
					{{ dataItem.BHYTThanhToan | number:'0.2-2':'vi-VN'}}
					<ic-icon *ngIf="dataItem.KiemTraBHYTXacNhan===true" [icon]="icCheck" class="size-icon-duoc-bhyt mr-3" inline="true"> </ic-icon>
					<ic-icon *ngIf="dataItem.KiemTraBHYTXacNhan !==true" [icon]="icCheck" class="size-icon-khong-bhyt mr-3" inline="true"> </ic-icon>
				</div>
			</div>
		</ng-template>
		<ng-template kendoGridFooterTemplate let-column let-columnIndex="columnIndex" style="text-align: center">
			<span style="float: right">{{total('BHYTThanhToan') | number:'0.2-2':'vi-VN'}}</span>
		</ng-template>
	</kendo-grid-column>
	<kendo-grid-column width="90" [style]="{'text-align': 'right'}" title="Tổng công nợ" [headerStyle]="{'text-align': 'center'}">
		<ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
			<div class="float_right">{{ dataItem.TongCongNo | number:'0.2-2':'vi-VN'}}</div>
		</ng-template>
		<!-- <ng-template kendoGridGroupFooterTemplate let-group="group" let-aggregates="aggregates">
			<div class="float_right">{{aggregates.TongCongNo.sum | number:'0.2-2':'vi-VN'}}</div>
		</ng-template>	 -->
	</kendo-grid-column>
	<kendo-grid-column field="SoTienMG" title="Số tiền MG" width="120" [style]="{'text-align': 'right'}" [headerStyle]="{'text-align': 'center'}">
		<ng-template kendoGridCellTemplate let-dataItem="dataItem">
			<div class="float_right">
				<div inline="true">
					<div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="8px" class="mt-2" kendoTooltip>
						<a *ngIf="dataItem.SoTienMG > 0" class="reverse-ellipsis r" title="Xem thông tin miễm giảm" (click)="ViewThongTinMG(dataItem)">{{ dataItem.SoTienMG | number:'0.2-2':'vi-VN'}}</a>
						<span *ngIf="dataItem.SoTienMG === 0">{{ dataItem.SoTienMG | number:'0.2-2':'vi-VN'}}</span>
					</div>
				</div>
			</div>
		</ng-template>
		<ng-template kendoGridFooterTemplate let-column let-columnIndex="columnIndex" style="text-align: center">
			<span style="float: right">{{total('SoTienMG') | number:'0.2-2':'vi-VN'}}</span>
		</ng-template>
	</kendo-grid-column>
	<kendo-grid-column field="DaThanhToan" title="Bệnh Nhân TT" width="90" [headerStyle]="{'text-align': 'center'}">
		<ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
			<div class="float_right">{{ dataItem.DaThanhToan | number:'0.2-2':'vi-VN'}}</div>
		</ng-template>
		<ng-template kendoGridFooterTemplate let-column let-columnIndex="columnIndex">
			<span style="float: right">{{total('DaThanhToan') | number:'0.2-2':'vi-VN'}}</span>
		</ng-template>
	</kendo-grid-column>
	<kendo-grid-column field="" title="" width="90" [headerStyle]="{'text-align': 'center'}">
		<ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
			<button *ngIf="!dataItem.DaHoanThu && dataItem.DuocHoanThu" type="button" mat-raised-button (click)="hoanThu(dataItem)" color="primary">Hoàn thu</button>
		</ng-template>
	</kendo-grid-column>
	<kendo-grid-messages noRecords="Không có dữ liệu." pagerOf="trong số" pagerItems="dòng" detailExpand="Mở rộng chi tiết" detailCollapse="Thu gọn chi tiết"> </kendo-grid-messages>
</kendo-grid>
