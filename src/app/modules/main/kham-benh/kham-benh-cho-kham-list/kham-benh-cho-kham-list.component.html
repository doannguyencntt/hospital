<div class="card overflow-auto mb-4">
    <app-grid [gridColumns]="gridColumns" [documentType]="documentType" [useActionDefault]="false" [lazyLoadPage]="true"
        [urlGetData]="urlGetData" [urlGetTotalPage]="urlGetTotalPage" [useHeaderDefault]="false" [checkboxAble]="false"
        [sort]="sort" [headerTemplate]="headerTemplate" heightToolbar="235">
        <ng-template #thoiDiemTiepNhanTemplate let-dataItem>
            {{dataItem.ThoiDiemTiepNhanDisplay}}
        </ng-template>
    </app-grid>
</div>
<ng-template #tinhtrangTemplate let-dataItem>
    <label *ngIf="dataItem.TrangThai == 1" style="color: black;">
        <span>Chưa khám</span>
    </label>
    <label *ngIf="dataItem.TrangThai == 2" style="color: chocolate;">
        <span><b>Đang khám</b></span>
    </label>
</ng-template>
<ng-template #headerTemplate>
    <div class="bg-app-bar px-6 h-15 border-b sticky left-0" fxLayout="row" fxLayoutAlign="start center"
        style="height: 4rem;">
        <div class="bg-card rounded-full border px-4" fxFlex="400px" fxFlex.lt-md="auto" fxHide.xs fxLayout="row"
            fxLayoutAlign="start center" style="margin-top: 2px;">
            <ic-icon [icIcon]="icSearch" size="20px"></ic-icon>
            <input [formControl]="searchCtrl" class="px-4 py-2 border-0 outline-none w-full bg-transparent"
                type="search" name="searchString" [(ngModel)]="searchString" (keyup)="onKey($event)"
                (ngModelChange)="searchChanges()" placeholder="Nhập từ khóa..." />
        </div>
        <app-datetimepicker fxFlex="205px" [(model)]="danhSachChoKhamSearch.ThoiDiemTiepNhanTuFormat" #tiepnhantu
        id="ThoiDiemTiepNhanTuFormat" (modelChange)="getInputSearchValue($event, tiepnhantu.id, tiepnhantu.label)"
        label="Tiếp nhận từ" class="ml-2 on-header" (keyup)="onKey($event)">
    </app-datetimepicker>
    <app-datetimepicker fxFlex="205px" [(model)]="danhSachChoKhamSearch.ThoiDiemTiepNhanDenFormat" #tiepnhanden
        id="ThoiDiemTiepNhanDenFormat"
        (modelChange)="getInputSearchValue($event, tiepnhanden.id, tiepnhanden.label)" label="Tiếp nhận đến"
        class="ml-2 on-header" (keyup)="onKey($event)">
    </app-datetimepicker>
    <button type="button" color="primary" (click)="TimkiemNangCao()" class="ml-2" mat-raised-button>Tìm</button>
    <button class="ml-4" fxFlex="none" fxHide.gt-xs mat-icon-button type="button" (click)="clearSearch()">
        <mat-icon [icIcon]="icSearch"></mat-icon>
    </button>
    </div>
</ng-template>
<ng-template #trangThaiTemplate let-dataItem>
    <!-- <button kendoTooltip title="Hành động" [matMenuTriggerFor]="actionsMenu" mat-icon-button type="button">
        <mat-icon [icIcon]="icMoreHoriz"></mat-icon>
    </button> -->
    <button mat-menu-item kendoTooltip title="Vào đợi khám" class="icon-color-button" (click)="vaoHangDoi(dataItem)">
        <mat-icon [icIcon]="icPlay"></mat-icon>
    </button>
    <!-- <mat-menu #actionsMenu="matMenu" xPosition="before" yPosition="below">
        <ng-template let-customer="customer" matMenuContent>
            <button mat-menu-item>
                <mat-icon [icIcon]="icPlay"></mat-icon>
                <span>Vào phòng đợi</span>
            </button>
            <button mat-menu-item>
                <mat-icon [icIcon]="icAssignment"></mat-icon>
                <span>Vào phòng kết luận</span>
            </button>
        </ng-template>
    </mat-menu> -->
</ng-template>
<ng-template #actionTemplate let-dataItem>

</ng-template>