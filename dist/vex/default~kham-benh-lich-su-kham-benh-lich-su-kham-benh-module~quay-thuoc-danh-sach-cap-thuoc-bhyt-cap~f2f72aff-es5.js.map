{"version":3,"sources":["default~kham-benh-lich-su-kham-benh-lich-su-kham-benh-module~quay-thuoc-danh-sach-cap-thuoc-bhyt-cap~f2f72aff-es5.js","webpack:///node_modules/@iconify/icons-ic/delete.js","webpack:///node_modules/@iconify/icons-ic/info.js","webpack:///src/app/modules/main/quay-thuoc/ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.html","webpack:///src/app/modules/main/quay-thuoc/ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component.html","webpack:///src/app/modules/main/quay-thuoc/in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component.html","webpack:///src/app/modules/main/quay-thuoc/in-don-thuoc-pop-up/in-don-thuoc-pop-up.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-cho-xuat-thuoc/quay-thuoc-cho-xuat-thuoc.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-list/quay-thuoc-list.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-bao-hiem-tu-nhan/quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-hanh-chinh/quay-thuoc-thong-tin-hanh-chinh.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan/quay-thuoc-tim-benh-nhan.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.html","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-pop-up/quay-thuoc-xac-nhan-pop-up.component.html","webpack:///src/app/modules/main/quay-thuoc/thong-tin-phieu-da-thu/thong-tin-phieu-da-thu.component.html","webpack:///src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.html","webpack:///src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc.component.html","webpack:///src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component.html","webpack:///src/app/modules/main/quay-thuoc/ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.scss","webpack:///src/app/modules/main/quay-thuoc/ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.ts","webpack:///src/app/modules/main/quay-thuoc/ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component.scss","webpack:///src/app/modules/main/quay-thuoc/ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component.ts","webpack:///src/app/modules/main/quay-thuoc/in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component.scss","webpack:///src/app/modules/main/quay-thuoc/in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component.ts","webpack:///src/app/modules/main/quay-thuoc/in-don-thuoc-pop-up/in-don-thuoc-pop-up.component.scss","webpack:///src/app/modules/main/quay-thuoc/in-don-thuoc-pop-up/in-don-thuoc-pop-up.component.ts","webpack:///src/app/modules/main/quay-thuoc/lich-su-quay-thuoc/lich-su-quay-thuoc.model.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-cho-xuat-thuoc/quay-thuoc-cho-xuat-thuoc.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-cho-xuat-thuoc/quay-thuoc-cho-xuat-thuoc.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-list/quay-thuoc-list.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-list/quay-thuoc-list.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-routing.module.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-bao-hiem-tu-nhan/quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-bao-hiem-tu-nhan/quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-hanh-chinh/quay-thuoc-thong-tin-hanh-chinh.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-hanh-chinh/quay-thuoc-thong-tin-hanh-chinh.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan/quay-thuoc-tim-benh-nhan.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan/quay-thuoc-tim-benh-nhan.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-pop-up/quay-thuoc-xac-nhan-pop-up.component.scss","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-pop-up/quay-thuoc-xac-nhan-pop-up.component.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc.module.ts","webpack:///src/app/modules/main/quay-thuoc/quay-thuoc.service.ts","webpack:///src/app/modules/main/quay-thuoc/thong-tin-phieu-da-thu/thong-tin-phieu-da-thu.component.scss","webpack:///src/app/modules/main/quay-thuoc/thong-tin-phieu-da-thu/thong-tin-phieu-da-thu.component.ts","webpack:///src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.scss","webpack:///src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.ts","webpack:///src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc.component.scss","webpack:///src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc.component.ts","webpack:///src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component.scss","webpack:///src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component.ts"],"names":[],"mappings":"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","file":"x","sourcesContent":["(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[\"default~kham-benh-lich-su-kham-benh-lich-su-kham-benh-module~quay-thuoc-danh-sach-cap-thuoc-bhyt-cap~f2f72aff\"],{\n\n/***/ \"./node_modules/@iconify/icons-ic/delete.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/@iconify/icons-ic/delete.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar data = {\n\t\"body\": \"<path d=\\\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n\n\n/***/ }),\n\n/***/ \"./node_modules/@iconify/icons-ic/info.js\":\n/*!************************************************!*\\\n  !*** ./node_modules/@iconify/icons-ic/info.js ***!\n  \\************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar data = {\n\t\"body\": \"<path d=\\\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.html\":\n/*!**************************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.html ***!\n  \\**************************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div style=\\\"font: 500 18px/26px var(--font)\\\">\\n        Miễn giảm dịch vụ: <strong style=\\\"color: green;\\\">{{tenDichVu}}</strong>\\n    </div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div width=\\\"100%\\\" fxLayout=\\\"row\\\">\\n        <table class=\\\"table table-border\\\" width=\\\"100%\\\">\\n            <tr>\\n                <td colspan=\\\"2\\\" align=\\\"right\\\">Số tiền trước miễn giảm :</td>\\n                <td><strong style=\\\"color: blue;\\\">{{tongTienTungDichVu | number:'0.2-2':'vi-VN'}}</strong></td>\\n            </tr>\\n            <ng-container *ngFor=\\\"let item of danhSachChiPhi.DanhSachMienGiamVos; let i = index\\\">\\n                <tr *ngIf=\\\"item.LoaiMienGiam === 1\\\">\\n                    <td colspan=\\\"3\\\" class=\\\"no-border-bottom pb-0\\\">Đối tượng: <strong>{{item.DoiTuongUuDai}}</strong>\\n                    </td>\\n                </tr>\\n                <tr *ngIf=\\\"item.LoaiMienGiam === 1\\\">\\n                    <td width=\\\"140px\\\" style=\\\"width: 31%;\\\">\\n                        <app-radio class=\\\"no-format-css p-0\\\" [disabled]=\\\"true\\\" [model]=\\\"item.LoaiChietKhau\\\"\\n                            [items]=\\\"[{Value:2,Text:'Tiền'},{Value:1,Text:'%'}]\\\"></app-radio>\\n                    </td>\\n                    <td>\\n                        <app-textboxnumeric label=\\\" \\\" class=\\\"no-label p-0\\\" max=\\\"100\\\" min=\\\"0\\\" [disabled]=\\\"true\\\"\\n                            [model]=\\\"item.TiLe\\\">\\n                        </app-textboxnumeric>\\n                    </td>\\n                    <td>= <strong>{{ item.TongTienMiemGiam | number:'0.2-2':'vi-VN'}}</strong></td>\\n                </tr>\\n            </ng-container>\\n            <ng-container *ngFor=\\\"let item of danhSachChiPhi.DanhSachMienGiamVos; let i = index\\\">\\n                <tr *ngIf=\\\"item.LoaiMienGiam === 2\\\">\\n                    <td colspan=\\\"3\\\" class=\\\"no-border-bottom pb-0\\\">Voucher: <strong>{{item.MaTheVoucher}}</strong></td>\\n                </tr>\\n                <tr *ngIf=\\\"item.LoaiMienGiam === 2\\\">\\n                    <td class=\\\"no-border-bottom pb-0\\\" style=\\\"width: 31%;\\\">\\n                        <app-radio class=\\\"no-format-css p-0\\\" [disabled]=\\\"true\\\" [model]=\\\"item.LoaiChietKhau\\\"\\n                            [items]=\\\"[{Value:2,Text:'Tiền'},{Value:1,Text:'%'}]\\\"></app-radio>\\n                    </td>\\n                    <td *ngIf=\\\"item.LoaiMienGiam === 2 && item.LoaiChietKhau === 1\\\" class=\\\"no-border-bottom pb-0\\\">\\n                        <app-textboxnumeric label=\\\" \\\"  class=\\\"no-label p-0\\\" max=\\\"100\\\"\\n                            min=\\\"0\\\" [disabled]=\\\"true\\\" [model]=\\\"item.TiLe\\\">\\n                        </app-textboxnumeric>\\n                    </td>\\n                    <td *ngIf=\\\"item.LoaiMienGiam === 2 && item.LoaiChietKhau === 2\\\" class=\\\"no-border-bottom pb-0\\\">\\n                        <app-textboxnumeric label=\\\" \\\" class=\\\"no-label p-0\\\" max=\\\"999999\\\" min=\\\"0\\\" [disabled]=\\\"true\\\"\\n                            [model]=\\\"item.SoTien\\\">\\n                        </app-textboxnumeric>\\n                    </td>\\n                    <td class=\\\"no-border-bottom pb-0\\\">= <strong>{{ item.TongTienMiemGiam | number:'0.2-2':'vi-VN'}}</strong>\\n                    </td>\\n                </tr>\\n            </ng-container>\\n\\n            <tr>\\n                <td colspan=\\\"3\\\" class=\\\"no-border-bottom pb-0\\\">MG thêm:</td>\\n            </tr>\\n            <ng-container *ngFor=\\\"let item of danhSachChiPhi.DanhSachMienGiamVos; let i = index\\\">\\n                <tr *ngIf=\\\"item.LoaiMienGiam === 3  && item.LoaiChietKhau === 1\\\">\\n                    <td class=\\\"no-border-bottom\\\">\\n                        <app-checkbox id=\\\"phan-tram\\\" value=\\\"1\\\" fxFlex=\\\"40%\\\" label=\\\"%\\\" [(model)]=\\\"disableInputPhanTram\\\"\\n                            (modelChange)=\\\"apDungPhanTram($event , item)\\\">\\n                        </app-checkbox>\\n                    </td>\\n                    <td class=\\\"no-border-bottom\\\" style=\\\"width: 1200px;\\\">\\n                        <app-textboxnumeric style=\\\"width: 1200px;\\\" max=\\\"100\\\" class=\\\"no-label p-0\\\" label=\\\" \\\" min=\\\"0\\\"\\n                            [(model)]=\\\"item.TiLe\\\" [disabled]=\\\"!disableInputPhanTram\\\"\\n                            (modelChange)=\\\"changePhanTram($event, item)\\\" \\n                            [validationerror]=\\\"'TiLe' | validationerror: validationErrors\\\">\\n                        </app-textboxnumeric>\\n                    </td>\\n                    <td class=\\\"no-border-bottom\\\">= <strong>{{ item.TongTienMiemGiam | number:'0.2-2':'vi-VN'}}</strong></td>\\n                </tr>\\n                <tr *ngIf=\\\"item.LoaiMienGiam === 3  && item.LoaiChietKhau === 2\\\">\\n                    <td class=\\\"no-border-bottom pb-0\\\">\\n                        <app-checkbox id=\\\"so-tien\\\" value=\\\"1\\\" fxFlex=\\\"40%\\\" label=\\\"Tiền\\\" [(model)]=\\\"disableInputSoTien\\\"\\n                            (modelChange)=\\\"apDungSoTien($event , item)\\\">\\n                        </app-checkbox>\\n                    </td>\\n                    <td class=\\\"no-border-bottom pb-0\\\" style=\\\"width: 1200px;\\\">\\n                        <app-textboxnumeric label=\\\"\\\" style=\\\"width: 1200px;\\\" class=\\\"no-label p-0\\\" [(model)]=\\\"item.SoTien\\\"\\n                            min=\\\"0\\\" max=\\\"99999999\\\" [disabled]=\\\"!disableInputSoTien\\\"\\n                            (modelChange)=\\\"changeSoTien($event, item)\\\"\\n                            [validationerror]=\\\"'SoTien' | validationerror: validationErrors\\\">\\n                        </app-textboxnumeric>\\n                    </td>\\n                    <td class=\\\"no-border-bottom pb-0\\\" style=\\\"width: 500px;\\\">=\\n                        <strong>{{ item.TongTienMiemGiam | number:'0.2-2':'vi-VN'}}</strong></td>\\n                </tr>\\n            </ng-container>\\n            <tr>\\n                <td colspan=\\\"2\\\" align=\\\"right\\\">Tổng cộng MG :</td>\\n                <td><strong style=\\\"color: red;\\\">{{tongTatCaSoTienMg | number:'0.2-2':'vi-VN'}}</strong></td>\\n            </tr>\\n            <tr>\\n                <td colspan=\\\"3\\\">\\n                    <app-textarea label=\\\"Ghi chú\\\" maxlength=\\\"2000\\\" minHeight=\\\"60\\\"\\n                        [(model)]=\\\"data.dataItem.GhiChuMienGiamThem\\\">\\n                    </app-textarea>\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button mat-button mat-dialog-close (click)=\\\"HuyApDungMGT()\\\">Hủy</button>\\n    <div *ngIf=\\\"tongTienTungDichVu > 0\\\">\\n        <button mat-raised-button mat-button color=\\\"primary\\\"\\n            *ngIf=\\\"disableInputPhanTram || disableInputSoTien || kiemTraThayDoiSoTienTiLe\\\" (click)=\\\"ApDungMGT()\\\"\\n            cdkFocusInitial>Áp dụng</button>\\n    </div>\\n</mat-dialog-actions>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component.html\":\n/*!********************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component.html ***!\n  \\********************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div style=\\\"font: 500 18px/26px var(--font)\\\">\\n        MIỄN GIẢM TẤT CẢ DỊCH VỤ\\n    </div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div width=\\\"100%\\\" fxLayout=\\\"row\\\">\\n        <table class=\\\"table table-border\\\" width=\\\"100%\\\">\\n            <tr>\\n                <td width=\\\"100%\\\">\\n                    <app-checkbox id=\\\"phan-tram\\\" [(model)]=\\\"apDungMiemGiamThem.ChietKhauTheoTiLe\\\" value=\\\"1\\\" fxFlex=\\\"30%\\\"\\n                        label=\\\"%\\\" value=\\\"true\\\" (modelChange)=\\\"apDungPhanTram($event)\\\">\\n                    </app-checkbox>\\n                    <app-textboxnumeric fxFlex=\\\"60%\\\" label=\\\"\\\" class=\\\"no-label\\\" max=\\\"100\\\" min=\\\"0\\\"\\n                        [(model)]=\\\"apDungMiemGiamThem.TiLe\\\" [required]=\\\"true\\\" [disabled]=\\\"disablePhanTram\\\"\\n                        [validationerror]=\\\"'TiLe' | validationerror: validationErrors\\\">\\n                    </app-textboxnumeric>\\n                    <label class=\\\"red\\\" fxFlex=\\\"10%\\\">(*)</label>\\n                </td>\\n            </tr>\\n            <tr>\\n                <td width=\\\"100%\\\">\\n                    <app-checkbox id=\\\"so-tien\\\" [(model)]=\\\"apDungMiemGiamThem.ChietKhauTheoSoTien\\\" value=\\\"1\\\" fxFlex=\\\"30%\\\"\\n                         label=\\\"Tiền\\\" value=\\\"true\\\"\\n                        (modelChange)=\\\"apDungSoTien($event)\\\">\\n                    </app-checkbox>\\n                    <app-textboxnumeric  fxFlex=\\\"60%\\\" class=\\\"no-label\\\"\\n                          [disabled]=\\\"disableSoTien\\\"\\n                          [(model)]=\\\"apDungMiemGiamThem.SoTien\\\" [required]=\\\"true\\\"\\n                        [validationerror]=\\\"'SoTien' | validationerror: validationErrors\\\">\\n                    </app-textboxnumeric>\\n                    <label class=\\\"red\\\" fxFlex=\\\"10%\\\">(*)</label>\\n                </td>\\n            </tr>\\n            <tr>\\n                <td width=\\\"100%\\\">\\n                    <app-textarea id=\\\"ghichu\\\" [(model)]=\\\"apDungMiemGiamThem.GhiChu\\\" label=\\\"Ghi chú\\\" maxlength=\\\"2000\\\"\\n                        minHeight=\\\"60\\\">\\n                    </app-textarea>\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button mat-button mat-dialog-close (click)=\\\"HuyApDungMGT()\\\">Hủy</button>\\n    <button *ngIf=\\\"apDungMiemGiamThem.ChietKhauTheoTiLe || apDungMiemGiamThem.ChietKhauTheoSoTien\\\" mat-raised-button\\n        mat-button color=\\\"primary\\\" (click)=\\\"ApDungMGT()\\\" cdkFocusInitial>Áp dụng</button>\\n</mat-dialog-actions>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component.html\":\n/*!**********************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component.html ***!\n  \\**********************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>XEM TRƯỚC KHI IN</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"overflow:hidden\\\">\\n    <div class=\\\"container-iframe\\\">\\n        <iframe width=\\\"100%\\\" style=\\\"height: 500px;\\\" [src]=\\\"src| safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <app-print-form textPrint=\\\"In Bảng Kê Thu Tiền Thuốc\\\" style=\\\"text-align: right;\\\"  type=\\\"PDF\\\" [event]=\\\"data\\\" typeSize=\\\"A5\\\" [bodyComponent]=\\\"this\\\" *ngIf=\\\"kiemtraPhieuInManhinh != true && InBangKe == true\\\"\\n        (click)=\\\"InPhieu(1)\\\" copies=\\\"2\\\">\\n    </app-print-form>\\n    <app-print-form textPrint=\\\"In Phiếu Thu\\\" type=\\\"PDF\\\"  style=\\\"text-align: right;\\\" typeLayout=\\\"landscape\\\" [event]=\\\"data\\\" typeSize=\\\"A5\\\"\\n        [bodyComponent]=\\\"this\\\" (click)=\\\"InPhieu(2)\\\" *ngIf=\\\"kiemtraPhieuInManhinh != true && InPhieuThu == true\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/in-don-thuoc-pop-up/in-don-thuoc-pop-up.component.html\":\n/*!**************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/in-don-thuoc-pop-up/in-don-thuoc-pop-up.component.html ***!\n  \\**************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>XEM TRƯỚC KHI IN</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"overflow:hidden\\\">\\n    <div class=\\\"container-iframe\\\">\\n        <iframe width=\\\"100%\\\" style=\\\"height: 500px;\\\" [src]=\\\"src| safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <app-print-form textPrint=\\\"In đơn thuốc\\\" style=\\\"text-align: right;\\\"  type=\\\"PDF\\\" [event]=\\\"data\\\" typeSize=\\\"A5\\\" [bodyComponent]=\\\"this\\\" *ngIf=\\\"kiemtraPhieuInManhinh != true && InBangKe == true\\\"\\n        (click)=\\\"InPhieu(1)\\\" >\\n    </app-print-form>\\n    <app-print-form textPrint=\\\"In đơn thuốc\\\" type=\\\"PDF\\\"  style=\\\"text-align: right;\\\" typeLayout=\\\"landscape\\\" [event]=\\\"data\\\" typeSize=\\\"A5\\\"\\n        [bodyComponent]=\\\"this\\\" (click)=\\\"InPhieu(2)\\\" *ngIf=\\\"kiemtraPhieuInManhinh != true && InPhieuThu == true\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component.html\":\n/*!**************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component.html ***!\n  \\**************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-16\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <vex-breadcrumbs [crumbs]=\\\"\\n                    [\\n                    {Title:'Nhà Thuốc',Path:''},\\n                    {Title:'DS Đơn Thuốc',Path:'/nha-thuoc', Active:true}\\n                    ]\\\">\\n            </vex-breadcrumbs>\\n            <app-hot-key  style=\\\"position: absolute;right: 180px;top: 7px;\\\" [keys]=\\\"[\\n            {Key:'Ctrl + Q',Description:'Quét mã vạch',End:true}\\n            ]\\\"></app-hot-key>\\n            <button type=\\\"button\\\" (click)=\\\"ToKhachVangLai(typeDanhSachThanhToan)\\\"\\n                style=\\\"position: absolute;right: 21px;top: 7px;\\\" mat-raised-button mat-button>Khách Vãng Lai</button>\\n               \\n        </div>\\n       \\n    </vex-page-layout-header>\\n\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div class=\\\"-mt-16\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n                <div class=\\\"card\\\" fxFlex=\\\"100%\\\">\\n                    <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\" style=\\\"position: relative;\\\">\\n                        <!-- (onHaddlekiemTraDonThuocThanhToan)=\\\"getkiemTraDonThuocThanhToan($event)\\\"  -->\\n                        <app-quay-thuoc-tim-benh-nhan (dataSearch)=\\\"getData($event)\\\" class=\\\"mb-2\\\"\\n                             \\n                            (onHaddleeXportExel)=\\\"KiemTraeXportExel($event)\\\"\\n                            (onHaddleUuTienSearch)=\\\"getonHaddleUuTienSearch($event)\\\"\\n                            [typeDanhSachThanhToan]=\\\"typeDanhSachThanhToan\\\"\\n                            [dataQuayThuocSearch]=\\\"dataQuayThuocSearch\\\" \\n                            [hoquerySearch]=\\\"hoquerySearch\\\"\\n                            >\\n                        </app-quay-thuoc-tim-benh-nhan>\\n                        <!-- [typeDanhSachThanhToan]=\\\"typeDanhSachThanhToan\\\"  -->\\n                        <app-quay-thuoc-list \\n                        [(id)]=id \\n                        [xacNhanIn]=\\\"xacNhanIn\\\" \\n                        [queryStringSearchUuTien]=\\\"queryStringSearchUuTien\\\"\\n                        (OnHandleDataQuayThuocSearchList)=\\\"getonHaddleDataSearch($event)\\\"\\n                        >\\n                        </app-quay-thuoc-list>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </vex-page-layout-content>\\n</vex-page-layout>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-cho-xuat-thuoc/quay-thuoc-cho-xuat-thuoc.component.html\":\n/*!**************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-cho-xuat-thuoc/quay-thuoc-cho-xuat-thuoc.component.html ***!\n  \\**************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <app-grid *ngIf=\\\"dataSourcedanhsachThuocBHYT.data.length>0\\\" fxFlex=\\\"100%\\\" [gridColumns]=\\\"gridColumns\\\"\\n        [gridDataSource]=\\\"dataSourcedanhsachThuocBHYT\\\" [autoHeight]=\\\"true\\\" [lazyLoadPage]=\\\"false\\\"\\n        [useActionDefault]=\\\"false\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [allowSortDefault]=\\\"false\\\"\\n        [pageable]=\\\"false\\\" [headerTemplate]=\\\"headerTemplate\\\" useActionDefault=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n        [lazyLoadPage]=\\\"true\\\">\\n        <ng-template #headerTemplate>\\n            <div class=\\\"px-2 py-2\\\" style=\\\"background: burlywood;overflow: hidden;\\\">\\n                <h4 style=\\\"font-weight: bold;float: left;line-height: 36px;\\\">THUỐC BHYT- VẬT TƯ</h4>\\n                <button type=\\\"button\\\" (click)=\\\"KeThuoc()\\\" style=\\\"float: right;\\\" mat-raised-button>\\n                    In kê thuốc</button>\\n            </div>\\n        </ng-template>\\n    </app-grid>\\n    <app-grid *ngIf=\\\"dataSourcedanhsachThuocKhongBHYT.data.length>0\\\" fxFlex=\\\"100%\\\" [gridColumns]=\\\"gridColumns\\\"\\n        [gridDataSource]=\\\"dataSourcedanhsachThuocKhongBHYT\\\" [autoHeight]=\\\"true\\\" [lazyLoadPage]=\\\"false\\\"\\n        [useActionDefault]=\\\"false\\\" [headerTemplate]=\\\"headerTemplate1\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n        [allowSortDefault]=\\\"false\\\" [pageable]=\\\"false\\\" useActionDefault=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n        [lazyLoadPage]=\\\"true\\\">\\n        <ng-template #headerTemplate1>\\n            <div class=\\\"px-2 py-2\\\" style=\\\"background: lightblue;\\\">\\n                <h4 style=\\\"font-weight: bold;\\\">THUỐC KHÔNG BHYT-VẬT TƯ</h4>\\n\\n            </div>\\n        </ng-template>\\n    </app-grid>\\n    <p *ngIf=\\\"dataSourcedanhsachThuocKhongBHYT.data.length == 0 && dataSourcedanhsachThuocBHYT.data.length == 0\\\"\\n        class=\\\"m-0 p-0\\\"><strong>Không có dược phẩm nào chờ xuất</strong></p>\\n    <ng-template #donGiaTemplate let-dataItem>\\n        <span> {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}</span>\\n    </ng-template>\\n\\n    <ng-template #thanhTienTemplate let-dataItem>\\n        <span> {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}</span>\\n    </ng-template>\\n\\n</div>\\n<br>\\n<div *ngIf=\\\"dataSourcedanhsachThuocBHYT.data.length>0 || dataSourcedanhsachThuocKhongBHYT.data.length>0\\\">\\n    <button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"GuiData()\\\" class=\\\"mr-1 float-right\\\" mat-raised-button>\\n        Xuất thuốc</button>\\n</div>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component.html\":\n/*!**************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component.html ***!\n  \\**************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <div fxFlex=\\\"100%\\\" class=\\\"mt-3\\\">\\n        <span style=\\\"float: left;\\\" *ngIf=\\\"!(benhnhanThongTin.SoDuTaiKhoan > 0)\\\">\\n            <strong style=\\\"font-size: 14px;\\\">Số tiền cần thu của bệnh nhân: </strong>\\n            <strong style=\\\"color:red\\\">{{tongTien | number:'0.2-2':'vi-VN'}}</strong></span>\\n        <span style=\\\"float: left;\\\" *ngIf=\\\"benhnhanThongTin.SoDuTaiKhoan > 0\\\">\\n            <strong style=\\\"font-size: 14px;\\\">Số tiền cần thu của bệnh nhân: </strong>\\n            <strong style=\\\"color:red\\\">{{tongTien |number:'0.2-2':'vi-VN'}}</strong>\\n        </span>\\n        <!-- <span style=\\\"float: right;\\\">Tài khoản\\n            <strong style=\\\"color:green\\\">{{benhnhanThongTin.SoDuTaiKhoan |number:'0.2-2':'vi-VN'}}</strong>\\n        </span> -->\\n        <span style=\\\"float: right;\\\">\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"nguoiBenhKhongMuaThuoc()\\\"\\n                title=\\\"Phím tắt: Người bệnh không mua thuốc\\\">NB không mua thuốc</button>\\n        </span>\\n    </div>\\n    <div fxFlex=\\\"100%\\\">\\n        <kendo-splitter>           \\n            <kendo-splitter-pane [collapsible]=\\\"true\\\" size=\\\"18%\\\" class=\\\"sticky-panelbar\\\" style=\\\"overflow-x: hidden;\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                    class=\\\"px-2 py-3\\\" style=\\\"overflow:hidden;\\\">\\n                    <app-multiselect [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                        label=\\\"Hình thức thanh toán\\\" [(model)]=\\\"setDefeautTienMat\\\"\\n                        (valueChange)=\\\"ChangeHinhThucThanhToan($event)\\\" [data]=\\\"hinhThucThanhToan\\\"\\n                        [validationerror]=\\\"'HinhThucThanhToan' | validationerror:validationThuThuocErrors\\\"\\n                        required=\\\"true\\\">\\n                    </app-multiselect>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedTienMat\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"so-tien\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                        label=\\\"Tiền mặt\\\" [step]=\\\"100\\\" [(model)]=\\\"thongtinDonThuoc.TienMat\\\"\\n                        [(selectMoney)]=\\\"selectMoneyTienMat\\\" (modelChange)=\\\"modelChangeTienMat($event , 1)\\\" min=\\\"0\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'TienMat' | validationerror:validationThuThuocErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedChuyenKhoan\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"chuyen-khoan\\\" fxFlex=\\\"100%\\\"\\n                        fxFlex.sm=\\\"100%\\\" label=\\\"Chuyển khoản\\\" [step]=\\\"100\\\" [(model)]=\\\"thongtinDonThuoc.ChuyenKhoan\\\"\\n                        [(selectMoney)]=\\\"selectMoneyTienChuyenKhoan\\\" (modelChange)=\\\"modelChangeChuyenKhoan($event , 2)\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'ChuyenKhoan' | validationerror:validationThuThuocErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedPos\\\" [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\"\\n                        id=\\\"pos\\\" fxFlex=\\\"100%\\\" [(selectMoney)]=\\\"selectMoneyTienPos\\\"\\n                        (modelChange)=\\\"modelChangePos($event , 3)\\\" fxFlex.sm=\\\"100%\\\" label=\\\"POS\\\" [step]=\\\"100\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.POS\\\" [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'POS' | validationerror:validationThuThuocErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedSoTienCongNo\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"pos\\\" fxFlex=\\\"100%\\\"\\n                        [(selectMoney)]=\\\"selectMoneySoTienCongNo\\\" (modelChange)=\\\"modelChangeSoTienCongNo($event , 4)\\\"\\n                        fxFlex.sm=\\\"100%\\\" label=\\\"Công nợ\\\" [step]=\\\"100\\\" [(model)]=\\\"thongtinDonThuoc.SoTienCongNo\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'SoTienCongNo' | validationerror:validationThuThuocErrors\\\">\\n                    </app-textboxnumeric>\\n                    <p style=\\\"margin-top:-20px;\\\" *ngIf=\\\"showCanhBaoSoTienNhap\\\" class=\\\"color-red\\\">Số tiền nhập không đúng\\n                        số tiền thu.</p>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedTienMat\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"benh-nhan-dua\\\" fxFlex=\\\"100%\\\"\\n                        fxFlex.sm=\\\"100%\\\" label=\\\"Người bệnh đưa\\\" [step]=\\\"100\\\" [spinners]=\\\"false\\\"\\n                        [(selectMoney)]=\\\"selectMoneyTienBNDua\\\" (modelChange)=\\\"modelChangeTienBNDua($event)\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.BenhNhanDua\\\" (keyup)=\\\"onChangeBenhNhanDua()\\\" min=\\\"0\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'BenhNhanDua' | validationerror:validationThuThuocErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedTienMat\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"tra-lai\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                        label=\\\"Trả lại\\\" [(model)]=\\\"thongtinDonThuoc.TienTraLai\\\" [readonly]=\\\"true\\\" [spinners]=\\\"false\\\"\\n                        [isFormatCurrenly]=\\\"true\\\">\\n                    </app-textboxnumeric>\\n                    <app-datepicker id=\\\"ngay-thu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Ngày thu\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.NgayThu\\\" [readonly]=\\\"true\\\"\\n                        [validationerror]=\\\"'NgayThu' | validationerror:validationThuThuocErrors\\\">\\n                    </app-datepicker>\\n                    <app-textbox id=\\\"noi-dung-thu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Nội dung thu\\\" maxlength=\\\"1000\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.NoiDungThu\\\"\\n                        [validationerror]=\\\"'NoiDungThu' | validationerror:validationThuThuocErrors\\\" required=\\\"true\\\">\\n                    </app-textbox>\\n\\n                    <div fxFlex=\\\"100%\\\" fxLayout=\\\"row\\\" style=\\\"margin-right:10px;margin-top:15px;\\\"\\n                        fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"padding-thu-tien\\\" kendoTooltip>\\n                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"ThuTienVaXuatThuoc()\\\"\\n                            title=\\\"Phím tắt: Thu tiền và xuất thuốc\\\">Thu tiền và xuất thuốc</button>\\n                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"ThuTien()\\\"\\n                            title=\\\"Phím tắt: Ctrl + S\\\">Thu\\n                            tiền</button>\\n                    </div>\\n                </div>\\n            </kendo-splitter-pane>\\n            <kendo-splitter-pane>\\n                <kendo-tabstrip #tabStrip fxFlex=\\\"100%\\\" class=\\\"content-has-border\\\" style=\\\"padding: 5px !important\\\"\\n                    (tabSelect)=\\\"chuyenDen($event)\\\">\\n                    <kendo-tabstrip-tab [title]=\\\"'Chưa thu'\\\" [selected]=\\\"true\\\">\\n                        <ng-template kendoTabContent>\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                                style=\\\"padding: 4px; margin-top: -16px;\\\">\\n                                <app-combobox #duocPhamCombobox id=\\\"DuocPham\\\" fxFlex=\\\"55%\\\" fxFlex.sm=\\\"55%\\\"\\n                                    [required]=\\\"true\\\" [(model)]=\\\"themDuocPham.DuocPhamId\\\"\\n                                    [modelText]=\\\"themDuocPham.DuocPhamText\\\" label=\\\"Dược phẩm\\\"\\n                                    class=\\\"item-no-padding pb-0\\\" [template]=\\\"dichVuGiuongTemplate\\\"\\n                                    [templateHeader]=\\\"dichVuGiuongTemplateHeader\\\"\\n                                    (selectionChange)=\\\"onSelectDuocPham($event)\\\" url=\\\"QuayThuoc/GetDuocPham\\\"\\n                                    [validationerror]=\\\"'DuocPhamId' | validationerror:validationErrors\\\"\\n                                    [popupSettings]=\\\"{width: 900,popupClass:'item-no-padding'}\\\"\\n                                    (keyup)=\\\"onKeyEnterAddItem($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\">\\n                                    <ng-template #dichVuGiuongTemplateHeader let-dataItem>\\n                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                            <tr>\\n                                                <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Loại</th>\\n                                                <th width=\\\"20%\\\" style=\\\"text-align: left;\\\">Tên</th>\\n                                                <th width=\\\"10%\\\">Hàm lượng</th>\\n                                                <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Hoạt chất</th>\\n                                                <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">ĐVT</th>\\n                                                <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">ĐD</th>\\n                                                <th>NSX</th>\\n                                                <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Tồn</th>\\n                                                <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Hạn Sử Dụng</th>\\n                                            </tr>\\n                                        </table>\\n                                    </ng-template>\\n                                    <ng-template #dichVuGiuongTemplate let-dataItem>\\n                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                            <tr>\\n                                                <td width=\\\"10%\\\">{{dataItem.Loai}}</td>\\n                                                <td width=\\\"20%\\\">{{dataItem.Ten}}</td>\\n                                                <td width=\\\"10%\\\">{{dataItem.HamLuong}}</td>\\n                                                <td width=\\\"10%\\\">{{dataItem.HoatChat}}</td>\\n                                                <td width=\\\"10%\\\">{{dataItem.DonViTinh}}</td>\\n                                                <td width=\\\"10%\\\">{{dataItem.DuongDung}}</td>\\n                                                <td>{{dataItem.NhaSanXuat}}</td>\\n                                                <td width=\\\"10%\\\" style=\\\"text-align: center;\\\">{{dataItem.SoLuongTon |\\n                                                    number }}</td>\\n                                                <td width=\\\"10%\\\" style=\\\"text-align: left;\\\">{{dataItem.HanSuDung}}\\n                                                </td>\\n                                            </tr>\\n                                        </table>\\n                                    </ng-template>\\n                                </app-combobox>\\n                                <app-textboxnumeric class=\\\"pb-0\\\" label=\\\"Số lượng tồn\\\" fxFlex=\\\"15%\\\"\\n                                    [(model)]=\\\"themDuocPham.SoLuongTon\\\" disabled=\\\"true\\\" moreClass=\\\"text-green bold\\\">\\n                                </app-textboxnumeric>\\n                                <app-textboxnumeric class=\\\"pb-0\\\" fxFlex=\\\"15%\\\" label=\\\"Số lượng\\\"\\n                                    [(model)]=\\\"themDuocPham.SoLuong\\\" [required]=\\\"true\\\"\\n                                    [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\" min=\\\"1\\\"\\n                                    (keyup)=\\\"onKey($event)\\\">\\n                                </app-textboxnumeric>\\n                                <div fxFlex=\\\"10%\\\" class=\\\"mt-5\\\">\\n                                    <button type=\\\"button\\\" color=\\\"primary\\\" class=\\\"mr-1\\\" (click)=\\\"themThuoc()\\\"\\n                                        mat-raised-button>Thêm</button>\\n                                </div>\\n                            </div>\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                                <kendo-grid fxFlex=\\\"100%\\\" [data]=\\\"gridData\\\" [resizable]=\\\"true\\\"\\n                                    [kendoGridSelectBy]=\\\"keySelectBy\\\" [selectable]=\\\"{enabled: true, checkboxOnly: true}\\\"\\n                                    class=\\\"header-center header-small\\\">\\n                                    <kendo-grid-checkbox-column width=\\\"51\\\">\\n                                        <ng-template kendoGridHeaderTemplate>\\n                                            <input class=\\\"k-checkbox\\\" id=\\\"selectAllCheckboxId\\\"\\n                                                kendoGridSelectAllCheckbox [state]=\\\"selectAllState\\\"\\n                                                (selectAllChange)=\\\"onSelectAllChange($event)\\\">\\n                                            <label class=\\\"k-checkbox-label\\\" for=\\\"selectAllCheckboxId\\\"></label>\\n                                        </ng-template>\\n\\n                                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                            <div>\\n                                                <input class=\\\"k-checkbox\\\" id=\\\"selectCheckboxId{{dataItem[keySelectBy]}}\\\"\\n                                                    type=\\\"checkbox\\\" kendoCheckBox [(ngModel)]=\\\"dataItem.CheckedDefault\\\"\\n                                                    (change)=\\\"onSelectChangeCheckbox($event,dataItem[keySelectBy])\\\" />\\n                                                <label class=\\\"k-checkbox-label\\\"\\n                                                    for=\\\"selectCheckboxId{{dataItem[keySelectBy]}}\\\"\\n                                                    [style.display]=\\\"'block'\\\"></label>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-grid-checkbox-column>\\n                                    <kendo-grid-column field=\\\"STT\\\" title=\\\"#\\\" width=\\\"59\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"TenDuocPham\\\" title=\\\"Tên Thuốc-Vật Tư\\\" width=\\\"143\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n                                            <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\"\\n                                                class=\\\"mt-2\\\" kendoTooltip>\\n                                                <span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.TenDuocPham}}\\\">\\n                                                    {{dataItem.TenDuocPham}}\\n                                                </span>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"NongDoVaHamLuong\\\" title=\\\"Nồng Độ/Hàm Lượng\\\" width=\\\"80\\\"\\n                                        [hidden]=\\\"loaiYeuCauTiepNhanKhachVangLai\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n                                        [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n                                            <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\"\\n                                                class=\\\"mt-2\\\" kendoTooltip>\\n                                                <span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.NongDoVaHamLuong}}\\\">\\n                                                    {{dataItem.NongDoVaHamLuong}}\\n                                                </span>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"MaHoatChat\\\" title=\\\"Hoạt Chất\\\" width=\\\"100\\\"\\n                                        [hidden]=\\\"loaiYeuCauTiepNhanKhachVangLai\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n                                        [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n                                            <span style=\\\"color: black;font-size: 14px;font-weight: bold\\\">Tổng\\n                                                cộng:</span>\\n                                        </ng-template>\\n                                        <ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n                                            <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\"\\n                                                class=\\\"mt-2\\\" kendoTooltip>\\n                                                <span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.MaHoatChat}}\\\">\\n                                                    {{dataItem.MaHoatChat}}\\n                                                </span>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"DonViTinh\\\" title=\\\"ĐVT\\\" width=\\\"40\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n                                            <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\"\\n                                                class=\\\"mt-2\\\" kendoTooltip>\\n                                                <span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.DonViTinh}}\\\">\\n                                                    {{dataItem.DonViTinh}}\\n                                                </span>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"SoLuongToa\\\" title=\\\"SL Toa\\\" width=\\\"78\\\"\\n                                        [hidden]=\\\"loaiYeuCauTiepNhanKhachVangLai\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n                                        [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"SoLuongMua\\\" title=\\\"SL Mua\\\" width=\\\"95\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                            <app-textboxnumeric class=\\\"no-label numeric-in-grid\\\"\\n                                                [disabled]=\\\"!dataItem.CheckedDefault\\\"\\n                                                (modelChange)=\\\"modelChangeSoLuongMua($event , dataItem)\\\"\\n                                                [(model)]=\\\"dataItem.SoLuongMua\\\">\\n                                            </app-textboxnumeric>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"DonGia\\\" title=\\\"Đơn Giá\\\" width=\\\"90\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                            <div>{{ dataItem.DonGia | number:'0.2-2':'vi-VN'}}</div>\\n                                        </ng-template>\\n                                        <ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n                                            <span style=\\\"color: black;font-size: 14px;font-weight: bold\\\"\\n                                                *ngIf=\\\"loaiYeuCauTiepNhanKhachVangLai\\\">Tổng\\n                                                cộng:</span>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"ThanhTien\\\" title=\\\"Thành Tiền\\\" width=\\\"90\\\"\\n                                        [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                            <div style=\\\"float: right;\\\">{{ dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n                                            </div>\\n                                        </ng-template>\\n                                        <!-- <ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\"\\n                                            style=\\\"text-align: center\\\">\\n                                            <span style=\\\"float: right;\\\">{{total('ThanhTien') |\\n                                                number:'0.2-2':'vi-VN'}} 654</span>\\n                                        </ng-template> -->\\n                                        <ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n                                            <span style=\\\"color:red;float: right;\\\"\\n                                                *ngIf=\\\"loaiYeuCauTiepNhanKhachVangLai\\\">{{total('ThanhTien') |\\n                                                number:'0.2-2':'vi-VN'}}</span>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column-group [style]=\\\"{'text-align': 'center'}\\\"\\n                                        *ngFor=\\\"let col of danhSachCongNoChoThus\\\"\\n                                        [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <div>\\n                                            <ng-template kendoGridHeaderTemplate let-columnIndex=\\\"columnIndex\\\"\\n                                                let-column=\\\"column\\\">\\n                                                <div class=\\\"text-center\\\">Công nợ </div>\\n                                            </ng-template>\\n                                        </div>\\n                                        <kendo-grid-column *ngFor=\\\"let col1 of col.CongNoChoThus\\\" width=\\\"150\\\"\\n                                            [style]=\\\"{'text-align': 'center'}\\\" title=\\\"{{col1.TenCongTy}}\\\"\\n                                            [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                            <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"5px grid\\\"\\n                                                    fxLayoutGap.lt-sm=\\\"0\\\" fxLayoutAlign=\\\"space-between\\\">\\n                                                    <app-textboxnumeric class=\\\"no-label\\\" [step]=\\\"100\\\" decimals=\\\"2\\\"\\n                                                        [format]=\\\"format\\\" min=\\\"0.00\\\"\\n                                                        (modelChange)=\\\"modelChangeCongNo($event , dataItem, col1.ViTri)\\\"\\n                                                        [(model)]=\\\"dataItem.DanhSachCongNoChoThus[col1.ViTri].SoTienCongNoChoThu\\\">\\n                                                    </app-textboxnumeric>\\n                                                </div>\\n                                            </ng-template>\\n                                            <ng-template kendoGridGroupFooterTemplate>\\n                                                <div *ngIf=\\\"col1.SoTienCongNoChoThu !== 0\\\">\\n                                                    {{col1.SoTienCongNoChoThu | number:'0.2-2':'vi-VN'}}\\n                                                </div>\\n                                                <div\\n                                                    *ngIf=\\\"col1.SoTienCongNoChoThu === undefined && col1.SoTienCongNoChoThu === 0\\\">\\n                                                    {{0 | number:'0.2-2':'vi-VN'}}\\n                                                </div>\\n                                            </ng-template>\\n                                            <ng-template kendoGridFooterTemplate let-column\\n                                                let-columnIndex=\\\"columnIndex\\\" style=\\\"text-align: center\\\">\\n                                                <span style=\\\"color:black;float: right;\\\">{{totalCongno(col1.ViTri) |\\n                                                    number:'0.2-2':'vi-VN'}}</span>\\n                                            </ng-template>\\n                                        </kendo-grid-column>\\n                                    </kendo-grid-column-group>\\n                                    <kendo-grid-column field=\\\"SoTienMG\\\" title=\\\"Số tiền MG\\\" width=\\\"130\\\"\\n                                        [hidden]=\\\"loaiYeuCauTiepNhanKhachVangLai\\\"\\n                                        [headerStyle]=\\\"{'text-align': 'center'}\\\" [style]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridHeaderTemplate let-columnIndex=\\\"columnIndex\\\"\\n                                            let-column=\\\"column\\\">\\n                                            Số tiền MG\\n                                            <mat-icon style=\\\"margin-top: 10px;cursor: pointer\\\" [icIcon]=\\\"icRoundEdit\\\"\\n                                                (click)=\\\"apDungMiemGiamThem()\\\">\\n                                            </mat-icon>\\n                                        </ng-template>\\n                                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                            <div class=\\\"float_right\\\">\\n                                                <div style=\\\"cursor: pointer;\\\">\\n                                                    {{ dataItem.SoTienMG | number:'0.2-2':'vi-VN'}}\\n                                                    <ic-icon [icon]=\\\"icRoundEdit\\\" class=\\\"mr-3\\\" inline=\\\"true\\\"\\n                                                        (click)=\\\"apDungMiemGiamChoTungDichVu(dataItem)\\\">\\n                                                    </ic-icon>\\n                                                </div>\\n                                            </div>\\n                                        </ng-template>\\n                                        <ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\"\\n                                            let-aggregates=\\\"aggregates\\\">\\n                                            <div style=\\\"margin-right: 28px;\\\" class=\\\"float_right\\\">\\n                                                {{aggregates.SoTienMG.sum |number:'0.2-2':'vi-VN'}}\\n                                            </div>\\n                                        </ng-template>\\n                                        <ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n                                            <span style=\\\"margin-right: 28px;\\\" class=\\\"float_right\\\">{{total('SoTienMG') |\\n                                                number:'0.2-2':'vi-VN'}}</span>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"BNConPhaiThanhToan\\\" title=\\\"BN Còn Phải TT\\\" width=\\\"90\\\"\\n                                        [hidden]=\\\"loaiYeuCauTiepNhanKhachVangLai\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                            <div *ngIf=\\\"dataItem.BNConPhaiThanhToan >= 0\\\">\\n                                                <span style=\\\"float: right;\\\">{{dataItem.BNConPhaiThanhToan |\\n                                                    number:'0.2-2':'vi-VN'}}</span>\\n                                            </div>\\n                                            <div *ngIf=\\\"dataItem.BNConPhaiThanhToan < 0\\\" style=\\\"color:red;float: right\\\">\\n                                                {{ dataItem.BNConPhaiThanhToan | number:'0.2-2':'vi-VN'}}\\n                                                <mat-icon [icIcon]=\\\"icInfo\\\" kendoTooltip\\n                                                    title=\\\"Số tiền bạn nhập không đúng.\\\">\\n                                                </mat-icon>\\n                                            </div>\\n                                        </ng-template>\\n                                        <ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n                                            <span style=\\\"color:red;float: right;\\\">{{total('BNConPhaiThanhToan') |\\n                                                number:'0.2-2':'vi-VN'}}</span>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"Solo\\\" title=\\\"Số Lô\\\" width=\\\"125\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"HanSuDungHientThi\\\" title=\\\"Hạn Sử Dụng\\\" width=\\\"80\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"BacSiKeToa\\\" title=\\\"Bác Sĩ Kê Toa\\\" width=\\\"80\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\"\\n                                        [hidden]=\\\"loaiYeuCauTiepNhanKhachVangLai\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n                                            <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\"\\n                                                class=\\\"mt-2\\\" kendoTooltip>\\n                                                <span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.BacSiKeToa}}\\\">\\n                                                    {{dataItem.BacSiKeToa}}\\n                                                </span>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"Action\\\" title=\\\"\\\" width=\\\"54\\\"\\n                                        [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                            <button type=\\\"button\\\" mat-icon-button (click)=\\\"delete(dataItem)\\\"\\n                                                *ngIf=\\\"dataItem.isNew\\\">\\n                                                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                            </button>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-messages noRecords=\\\"Không có dữ liệu.\\\" pagerOf=\\\"trong số\\\"\\n                                        pagerItems=\\\"dòng\\\" detailExpand=\\\"Mở rộng chi tiết\\\"\\n                                        detailCollapse=\\\"Thu gọn chi tiết\\\">\\n                                    </kendo-grid-messages>\\n                                </kendo-grid>\\n                            </div>\\n                        </ng-template>\\n                    </kendo-tabstrip-tab>\\n                    <kendo-tabstrip-tab [title]=\\\"'Đã thu'\\\">\\n                        <ng-template kendoTabContent>\\n                            <app-thong-tin-phieu-da-thu [yeuCauTiepNhanId]=\\\"maYCTNId\\\"></app-thong-tin-phieu-da-thu>\\n                        </ng-template>\\n                    </kendo-tabstrip-tab>\\n                </kendo-tabstrip>\\n            </kendo-splitter-pane>\\n        </kendo-splitter>\\n    </div>\\n</div>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component.html\":\n/*!********************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component.html ***!\n  \\********************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <div fxFlex=\\\"100%\\\" class=\\\"mt-3\\\">\\n        <span style=\\\"float: left;\\\">Số tiền <strong  style=\\\"color:red\\\">{{tongTien | number:'0.2-2':'vi-VN'}}</strong></span>\\n    </div>\\n    <div fxFlex=\\\"100%\\\">\\n        <kendo-splitter>\\n            <kendo-splitter-pane [collapsible]=\\\"true\\\" size=\\\"18%\\\" class=\\\"sticky-panelbar\\\" style=\\\"overflow-x: hidden;\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                    class=\\\"px-2 py-3\\\" style=\\\"overflow:hidden;\\\">\\n                    <app-multiselect [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                        label=\\\"Hình thức thanh toán\\\" [(model)]=\\\"setDefeautTienMat\\\"\\n                        (valueChange)=\\\"ChangeHinhThucThanhToan($event)\\\" [data]=\\\"hinhThucThanhToan\\\"\\n                        [validationerror]=\\\"'HinhThucThanhToan' | validationerror:validationErrors\\\"\\n                        required=\\\"true\\\">\\n                    </app-multiselect>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedTienMat\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"so-tien\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                        label=\\\"Tiền mặt\\\" [step]=\\\"100\\\" [(model)]=\\\"thongtinDonThuoc.TienMat\\\"\\n                        [(selectMoney)]=\\\"selectMoneyTienMat\\\" (modelChange)=\\\"modelChangeTienMat($event , 1)\\\" min=\\\"0\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'TienMat' | validationerror:validationErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedChuyenKhoan\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"chuyen-khoan\\\" fxFlex=\\\"100%\\\"\\n                        fxFlex.sm=\\\"100%\\\" label=\\\"Chuyển khoản\\\" [step]=\\\"100\\\" [(model)]=\\\"thongtinDonThuoc.ChuyenKhoan\\\"\\n                        [(selectMoney)]=\\\"selectMoneyTienChuyenKhoan\\\" (modelChange)=\\\"modelChangeChuyenKhoan($event , 2)\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'ChuyenKhoan' | validationerror:validationErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedPos\\\" [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\"\\n                        id=\\\"pos\\\" fxFlex=\\\"100%\\\" [(selectMoney)]=\\\"selectMoneyTienPos\\\"\\n                        (modelChange)=\\\"modelChangePos($event , 3)\\\" fxFlex.sm=\\\"100%\\\" label=\\\"POS\\\" [step]=\\\"100\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.POS\\\" [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'POS' | validationerror:validationErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedSoTienCongNo\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"pos\\\" fxFlex=\\\"100%\\\"\\n                        [(selectMoney)]=\\\"selectMoneySoTienCongNo\\\" (modelChange)=\\\"modelChangeSoTienCongNo($event , 4)\\\"\\n                        fxFlex.sm=\\\"100%\\\" label=\\\"Công nợ\\\" [step]=\\\"100\\\" [(model)]=\\\"thongtinDonThuoc.SoTienCongNo\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'SoTienCongNo' | validationerror:validationErrors\\\">\\n                    </app-textboxnumeric>\\n                    <!-- <p style=\\\"margin-top:-20px;\\\" *ngIf=\\\"showCanhBaoSoTienNhap\\\" class=\\\"color-red\\\">\\n                        Số tiền nhập không đúng số tiền thu.</p> -->\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedTienMat\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"benh-nhan-dua\\\" fxFlex=\\\"100%\\\"\\n                        fxFlex.sm=\\\"100%\\\" label=\\\"Người bệnh đưa\\\" [step]=\\\"100\\\" [spinners]=\\\"false\\\"\\n                        [(selectMoney)]=\\\"selectMoneyTienBNDua\\\" (modelChange)=\\\"modelChangeTienBNDua($event)\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.BenhNhanDua\\\" (keyup)=\\\"onChangeBenhNhanDua()\\\" min=\\\"0\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'BenhNhanDua' | validationerror:validationErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedTienMat\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"tra-lai\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                        label=\\\"Trả lại\\\" [(model)]=\\\"thongtinDonThuoc.TienTraLai\\\" [readonly]=\\\"true\\\" [spinners]=\\\"false\\\"\\n                        [isFormatCurrenly]=\\\"true\\\">\\n                    </app-textboxnumeric>\\n                    <app-datepicker id=\\\"ngay-thu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Ngày thu\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.NgayThu\\\" [readonly]=\\\"true\\\"\\n                        [validationerror]=\\\"'NgayThu' | validationerror:validationErrors\\\">\\n                    </app-datepicker>\\n                    <app-textbox id=\\\"noi-dung-thu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Nội dung thu\\\" maxlength=\\\"1000\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.NoiDungThu\\\"\\n                        [validationerror]=\\\"'NoiDungThu' | validationerror:validationErrors\\\" required=\\\"true\\\">\\n                    </app-textbox>\\n                    <div fxFlex=\\\"100%\\\" fxLayout=\\\"row\\\" style=\\\"margin-right:10px;margin-top:15px;\\\"\\n                        fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"padding-thu-tien\\\" kendoTooltip>\\n                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"ThuTienVaXuatThuoc()\\\"\\n                            title=\\\"Phím tắt: Thu tiền và xuất thuốc\\\">Thu tiền và xuất thuốc</button>\\n                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"ThuTien()\\\"\\n                            title=\\\"Phím tắt: Ctrl + S\\\">Thu\\n                            tiền</button>\\n                    </div>\\n                </div>\\n            </kendo-splitter-pane>\\n            <kendo-splitter-pane style=\\\"overflow:hidden;\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px \\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                    <app-grid #gridDanhSachMuaThuoc masterName=\\\"MuaThuoc\\\" [documentType]=\\\"documentType\\\" fxFlex=\\\"100%\\\"\\n                        [gridColumns]=\\\"gridColumns\\\" [gridDataSource]=\\\"dataSourcedanhsachThuoc\\\" [autoHeight]=\\\"true\\\"\\n                        [lazyLoadPage]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [useAddDeault]=\\\"false\\\"\\n                        [headerTemplate]=\\\"headerTemplate\\\" [useHeaderDefault]=\\\"false\\\" [allowSortDefault]=\\\"false\\\"\\n                        [pageable]=\\\"false\\\" useActionDefault=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\">\\n                    </app-grid>\\n                    <ng-template #donGiaTemplate let-dataItem>\\n                        <span *ngIf=\\\"dataItem.DonGia != null\\\">{{dataItem.DonGia | number:'0.2-2':'vi-VN'}}</span>\\n                        <span *ngIf=\\\"dataItem.DonGia == null\\\">{{0| number:'0.2-2':'vi-VN'}}</span>\\n                    </ng-template>\\n                    <ng-template #thanhTienTemplate let-dataItem>\\n                        <span>{{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}</span>\\n                    </ng-template>\\n                    <ng-template #footerTemplateDonGia let-dataItem> <span style=\\\"float: right;\\\">Tổng:</span>\\n                    </ng-template>\\n                    <ng-template #footerTemplateTongTienDonThuoc let-dataItem>\\n                        <span style=\\\"color:red\\\">{{tongTienHienThi | number:'0.2-2':'vi-VN'}}</span>\\n                    </ng-template>\\n                    <ng-template #soLuonTemplate let-dataItem>\\n                        <!-- <span >{{dataItem.SoLuongMua | number}}</span> -->\\n                        <app-textboxnumeric class=\\\"no-label numeric-in-grid\\\"\\n                        [disabled]=\\\"!dataItem.CheckedDefault\\\"\\n                        (modelChange)=\\\"modelChangeSoLuongMua($event , dataItem)\\\"\\n                        [(model)]=\\\"dataItem.SoLuongMua\\\">\\n                    </app-textboxnumeric>\\n                    </ng-template>\\n                    <ng-template #headerTemplate>\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                            class=\\\"px-2 py-3\\\">\\n                            <app-combobox #duocphamCombobox id=\\\"DuocPham\\\" fxFlex=\\\"55%\\\" fxFlex.sm=\\\"55%\\\"\\n                                [(model)]=\\\"themDuocPham.DuocPhamId\\\" [required]=\\\"true\\\"\\n                                (selectionChange)=\\\"onSelectDuocPham($event)\\\" [modelText]=\\\"themDuocPham.DuocPhamText\\\"\\n                                label=\\\"Dược phẩm\\\" class=\\\"item-no-padding\\\" [template]=\\\"dichVuGiuongTemplate\\\"\\n                                [templateHeader]=\\\"dichVuGiuongTemplateHeader\\\" url=\\\"QuayThuoc/GetDuocPham\\\"\\n                                [popupSettings]=\\\"{width: 900,popupClass:'item-no-padding'}\\\"\\n                                [validationerror]=\\\"'DuocPhamId' | validationerror:validationThuocErrors\\\"\\n                                (keyup)=\\\"onKeyEnterAddItem($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\">\\n                                <ng-template #dichVuGiuongTemplateHeader let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Loại</th>\\n                                            <th width=\\\"20%\\\" style=\\\"text-align: left;\\\">Tên</th>\\n                                            <th width=\\\"10%\\\">Hàm lượng</th>\\n                                            <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Hoạt chất</th>\\n                                            <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">ĐVT</th>\\n                                            <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Đường dùng</th>\\n                                            <th>NSX</th>\\n                                            <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Tồn</th>\\n                                            <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">HSD</th>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                                <ng-template #dichVuGiuongTemplate let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <td width=\\\"10%\\\">{{dataItem.Loai}}</td>\\n                                            <td width=\\\"20%\\\">{{dataItem.Ten}}</td>\\n                                            <td width=\\\"10%\\\">{{dataItem.HamLuong}}</td>\\n                                            <td width=\\\"10%\\\">{{dataItem.HoatChat}}</td>\\n                                            <td width=\\\"10%\\\">{{dataItem.DonViTinh}}</td>\\n                                            <td width=\\\"10%\\\">{{dataItem.DuongDung}}</td>\\n                                            <td>{{dataItem.NhaSanXuat}}</td>\\n                                            <td width=\\\"10%\\\" style=\\\"text-align: center;\\\">\\n                                                {{dataItem.SoLuongTon | number }}</td>\\n                                            <td width=\\\"10%\\\" style=\\\"text-align: left;\\\">{{dataItem.HanSuDung}}</td>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                            </app-combobox>\\n\\n                            <app-textboxnumeric label=\\\"Số lượng tồn\\\" fxFlex=\\\"15%\\\" [(model)]=\\\"themDuocPham.SoLuongTon\\\"\\n                                disabled=\\\"true\\\" moreClass=\\\"text-green bold\\\">\\n                            </app-textboxnumeric>\\n                            <app-textboxnumeric fxFlex=\\\"15%\\\" label=\\\"Số lượng\\\" [(model)]=\\\"themDuocPham.SoLuong\\\"\\n                                [required]=\\\"true\\\" [validationerror]=\\\"'SoLuong' | validationerror:validationThuocErrors\\\"\\n                                (keyup)=\\\"onKey($event)\\\">\\n                            </app-textboxnumeric>\\n                            <div fxFlex=\\\"10%\\\" class=\\\"mt-5\\\">\\n                                <button type=\\\"button\\\" color=\\\"primary\\\" class=\\\"mr-1\\\" (click)=\\\"them1()\\\"\\n                                    mat-raised-button>Thêm</button>\\n                            </div>\\n\\n                        </div>\\n                    </ng-template>\\n                    <ng-template #actionTemplate let-dataItem>\\n                        <div class=\\\"text-center\\\" *ngIf=\\\"dataItem.LoaiDonThuoc === 1\\\">\\n                            <p style=\\\"color: red\\\">\\n                                <mat-icon [icIcon]=\\\"icInfo\\\" class=\\\"mt-4\\\" kendoTooltip\\n                                    title=\\\"Thuốc bảo hiểm y tế không có trong kho.\\\">\\n                                </mat-icon>\\n                            </p>\\n                        </div>\\n                        <div class=\\\"text-center\\\" *ngIf=\\\"dataItem.ThuocTrongKhoExit == true\\\">\\n                            <p style=\\\"color: red\\\">\\n                                <mat-icon [icIcon]=\\\"icInfo\\\" class=\\\"mt-4\\\" kendoTooltip title=\\\"Thuốc trong kho đã hết.\\\">\\n                                </mat-icon>\\n                            </p>\\n                        </div>\\n                        <div class=\\\"text-center\\\" kendoTooltip *ngIf=\\\"dataItem.isNew==true\\\">\\n                            <button type=\\\"button\\\" mat-icon-button (click)=\\\"delete(dataItem)\\\">\\n                                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                            </button>\\n                        </div>\\n                    </ng-template>\\n\\n                </div>\\n            </kendo-splitter-pane>\\n        </kendo-splitter>\\n    </div>\\n</div>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.html\":\n/*!********************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.html ***!\n  \\********************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <app-grid [gridColumns]=\\\"gridColumns\\\" [gridDataSource]=\\\"dataSourcedanhsachThuoc\\\" [autoHeight]=\\\"true\\\"\\n        [lazyLoadPage]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n        [allowSortDefault]=\\\"false\\\" [pageable]=\\\"false\\\" useActionDefault=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n        [lazyLoadPage]=\\\"true\\\">\\n    </app-grid>\\n</div>\\n<br>\\n<div *ngIf=\\\"dataSourcedanhsachThuoc.data.length>0\\\">\\n    <button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"GuiData()\\\" class=\\\"mr-1 float-right\\\" mat-raised-button>\\n        Xuất thuốc</button>\\n</div>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.html\":\n/*!********************************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.html ***!\n  \\********************************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div class=\\\"row\\\">\\n    <fieldset fxFlex=\\\"100%\\\" *ngIf=\\\"data != null\\\">\\n        <legend>THÔNG TIN HÀNH CHÍNH</legend>\\n        <div fxFlex=\\\"100%\\\">\\n            <ul class=\\\"inline\\\">\\n                <!-- <li>Mã TN:\\n                    <strong>{{data.MaTN}}</strong>\\n                </li> -->\\n                <li>Mã NB:\\n                    <strong>{{data.MaBN}}</strong>\\n                </li>\\n                <li>Họ tên:\\n                    <strong>{{data.HoTen}}</strong>\\n                </li>\\n                <li>Giới tính:\\n                    <strong>{{data.GioiTinhHienThi}}</strong>\\n                </li>\\n                <li>Năm sinh:\\n                    <strong>{{data.NamSinh}}</strong>\\n                </li>\\n                <li>Địa chỉ:\\n                    <strong>{{data.DiaChiDayDu}}</strong>\\n                </li>\\n\\n                <li>SĐT:\\n                    <strong>{{data.SoDienThoai}}</strong>\\n                </li>\\n                <li>Email:\\n                    <strong>{{data.Email}}</strong>\\n                </li>\\n            </ul>\\n        </div>\\n    </fieldset>\\n\\n\\n    <fieldset fxFlex=\\\"100%\\\" *ngIf=\\\"data == null\\\">\\n        <legend>THÔNG TIN HÀNH CHÍNH</legend>\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n            fxLayoutAlign=\\\"space-between\\\">\\n            <app-textbox id=\\\"Ten\\\" fxFlex=\\\"14%\\\" fxFlex.sm=\\\"14%\\\" maxlength=\\\"100\\\" [(model)]=\\\"thongTinBenhNhan.HoTen\\\" class=\\\"text-transform-uppercase\\\"\\n                [required]=\\\"true\\\" (modelChange)=\\\"onSaveTen()\\\" label=\\\"Họ tên\\\"\\n                [validationerror]=\\\"'HoTen' | validationerror:validationErrors\\\">\\n            </app-textbox>\\n\\n            <app-radio id=\\\"GioiTinh\\\" label=\\\"Giới tính\\\" fxFlex=\\\"11%\\\" fxFlex.sm=\\\"11%\\\"\\n                (modelChange)=\\\"onSaveGioiTinh($event)\\\" [(model)]=\\\"thongTinBenhNhan.GioiTinh\\\"\\n                [items]=\\\"[{Value:1,Text:'Nam'},{Value:2,Text:'Nữ'}]\\\">\\n            </app-radio>\\n\\n            <app-textboxnumeric id=\\\"NamSinh\\\" fxFlex=\\\"12.5%\\\" fxFlex.sm=\\\"12.5%\\\" label=\\\"Năm sinh\\\" [format]=\\\"'0'\\\"\\n                (modelChange)=\\\"onSaveNamSinh($event)\\\" [(model)]=\\\"thongTinBenhNhan.NamSinh\\\" [max]=\\\"9999\\\"\\n                [validationerror]=\\\"'NamSinh' | validationerror:validationErrors\\\">\\n            </app-textboxnumeric>\\n\\n            <!-- <app-textbox id=\\\"SDT\\\" fxFlex=\\\"12.5%\\\" fxFlex.sm=\\\"12.5%\\\" maxlength=\\\"12\\\" (modelChange)=\\\"onSaveSDT($event)\\\"\\n                [(model)]=\\\"thongTinBenhNhan.SoDienThoai\\\" label=\\\"Điện thoại\\\">\\n            </app-textbox> -->\\n            <app-textboxmask id=\\\"SDT\\\" onlynumber=\\\"true\\\" fxFlex=\\\"12.5%\\\" fxFlex.sm=\\\"12.5%\\\" label=\\\"Số điện thoại\\\" (modelChange)=\\\"onSaveSDT($event)\\\"\\n                 maxlength=\\\"10\\\" [(model)]=\\\"thongTinBenhNhan.SoDienThoai\\\" mask=\\\"000 000 0000\\\">\\n            </app-textboxmask>\\n            <app-combobox id=\\\"TinhThanhPho\\\" fxFlex=\\\"12.5%\\\" fxFlex.sm=\\\"12.5%\\\" (modelChange)=\\\"TinhThanhPhoChange($event)\\\"\\n                label=\\\"Tỉnh/Thành Phố\\\" url=\\\"QuayThuoc/GetTinhThanh\\\" hierarchyKeyToSend=\\\"tinhThanh\\\"\\n                [(model)]=\\\"thongTinBenhNhan.TinhThanhId\\\"  [modelText]=\\\"thongTinBenhNhan.TenTinhDisplay\\\" bind =\\\"true\\\" class=\\\"item-no-padding\\\" [template]=\\\"tinhThanhTemplate\\\"\\n                [templateHeader]=\\\"tinhThanhTemplateHeader\\\">\\n                <ng-template #tinhThanhTemplateHeader let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <th width=\\\"20%\\\">Mã</th>\\n                            <th>Tên</th>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n                <ng-template #tinhThanhTemplate let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                            <td>{{dataItem.Ten}}</td>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n            </app-combobox>\\n\\n            <app-combobox id=\\\"QuanHuyen\\\" fxFlex=\\\"12.5%\\\" fxFlex.sm=\\\"12.5%\\\" label=\\\"Quận/Huyện\\\"\\n                (modelChange)=\\\"QuanHuyenChange($event)\\\" [modelText]=\\\"thongTinBenhNhan.TenHuyenDisplay\\\" url=\\\"QuayThuoc/GetQuanHuyen\\\" hierarchyKeyToListen=\\\"tinhThanh\\\"\\n                hierarchyKeyToSend=\\\"quanHuyen\\\" [(model)]=\\\"thongTinBenhNhan.QuanHuyenId\\\" class=\\\"item-no-padding\\\" bind =\\\"true\\\"\\n                [template]=\\\"quanHuyenTemplate\\\" [templateHeader]=\\\"quanHuyenTemplateHeader\\\">\\n                <ng-template #quanHuyenTemplateHeader let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <th width=\\\"20%\\\">Mã</th>\\n                            <th>Tên</th>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n                <ng-template #quanHuyenTemplate let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                            <td>{{dataItem.Ten}}</td>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n            </app-combobox>\\n\\n            <app-combobox id=\\\"PhuongXa\\\" fxFlex=\\\"12.5%\\\" fxFlex.sm=\\\"12.5%\\\" label=\\\"Phường/Xã\\\" url=\\\"QuayThuoc/GetPhuongXa\\\"\\n                hierarchyKeyToListen=\\\"quanHuyen\\\" (modelChange)=\\\"PhuongXaChange($event)\\\" \\n                [(model)]=\\\"thongTinBenhNhan.PhuongXaId\\\" class=\\\"item-no-padding\\\" [template]=\\\"phuongXaTemplate\\\"\\n                [templateHeader]=\\\"phuongXaTemplateHeader\\\">\\n                <ng-template #phuongXaTemplateHeader let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <th width=\\\"20%\\\">Mã</th>\\n                            <th>Tên</th>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n                <ng-template #phuongXaTemplate let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                            <td>{{dataItem.Ten}}</td>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n            </app-combobox>\\n\\n            <app-textbox id=\\\"DiaChi\\\" fxFlex=\\\"12.5%\\\" fxFlex.sm=\\\"12.5%\\\" maxlength=\\\"200\\\"\\n                (modelChange)=\\\"onSaveDiaChi($event)\\\" [(model)]=\\\"thongTinBenhNhan.DiaChi\\\" label=\\\"Địa chỉ\\\">\\n            </app-textbox>\\n        </div>\\n    </fieldset>\\n</div>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component.html\":\n/*!**************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component.html ***!\n  \\**************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-16\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <vex-breadcrumbs [crumbs]=\\\"\\n                    [\\n                    {Title:'Nhà Thuốc',Path:''},\\n                    {Title:'Khách vãng lai',Path:'/nha-thuoc', Active:true}\\n                    ]\\\">\\n            </vex-breadcrumbs>\\n            <app-hot-key [keys]=\\\"[\\n            {Key:'Ctrl + F1',Description:'Di chuyển tới và mở tab Mua thuốc'},\\n            {Key:'Ctrl + F2',Description:'Di chuyển tới và mở tab Chờ xuất thuốc'},\\n            {Key:'Ctrl + S',Description:'Thu tiền'},\\n            {Key:'Esc',Description:'Quay lại', End:true}\\n            ]\\\"></app-hot-key>\\n        </div>\\n    </vex-page-layout-header>\\n\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div class=\\\"-mt-16\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n                <div class=\\\"card\\\" fxFlex=\\\"100%\\\">\\n                    <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\">\\n                        <app-quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh (valueChange)=\\\"switchValueChanges($event)\\\"\\n                            [validationErrors]=\\\"validationErrorForThongTin\\\" [donThuocId]=\\\"donThuocIds\\\" [MaBN]=\\\"MaBN\\\"\\n                            [TenBenhNhan]=\\\"TenBenhNhan\\\" [SDT]=\\\"SDT\\\"\\n                            [ThongTinBenhNhanDaThuTienData]=\\\"ThongTinBenhNhanDaThuTien\\\">\\n                        </app-quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh>\\n                        <kendo-tabstrip fxFlex=\\\"100%\\\" class=\\\"content-has-border has-padding mt-3\\\"\\n                            [keepTabContent]=\\\"true\\\" (tabSelect)=\\\"onTabSelect($event)\\\" #tabVangLai>\\n                            <kendo-tabstrip-tab [selected]=\\\"kendoTabSelected===1\\\">\\n                                <ng-template kendoTabContent>\\n                                    <app-quay-thuoc-khach-vang-lai-cho-thanh-toan\\n                                        [thongTinKhachVangLai]=\\\"thongTinBenhNhan\\\"\\n                                        (valueChangeThuTien)=\\\"switchValueChangesChoThanhToan($event)\\\"\\n                                        [donThuocId]=\\\"donThuocIds\\\" [ttCheck]=\\\"ttCheck\\\" (changeTab)=\\\"changeTab($event)\\\"\\n                                        (MaTiepNhanBenhNhanDaThuTien)=\\\"MaTiepNhanBenhNhanDaThuTien($event)\\\"\\n                                        (danhSachChuaThanhToan)=\\\"danhSachChuaThanhToan($event)\\\">\\n                                    </app-quay-thuoc-khach-vang-lai-cho-thanh-toan>\\n                                </ng-template>\\n                                <ng-template kendoTabTitle>\\n                                    <div kendoTooltip title=\\\"Phím tắt: Ctrl + F1\\\">\\n                                        Mua thuốc\\n                                    </div>\\n                                </ng-template>\\n                            </kendo-tabstrip-tab>\\n                            <kendo-tabstrip-tab [selected]=\\\"kendoTabSelected===2\\\">\\n                                <ng-template kendoTabContent>\\n                                    <app-quay-thuoc-khach-vang-lai-cho-xuat-thuoc\\n                                        [ThongTinBenhNhanDaThuTienData]=\\\"ThongTinBenhNhanDaThuTien\\\" [ttCheck]=\\\"ttCheck\\\">\\n                                    </app-quay-thuoc-khach-vang-lai-cho-xuat-thuoc>\\n                                </ng-template>\\n                                <ng-template kendoTabTitle>\\n                                    <div kendoTooltip title=\\\"Phím tắt: Ctrl + F2\\\">\\n                                        Chờ xuất thuốc\\n                                    </div>\\n                                </ng-template>\\n                            </kendo-tabstrip-tab>\\n                        </kendo-tabstrip>\\n                        <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\" kendoTooltip>\\n                            <!-- <button type=\\\"button\\\" (click)=\\\"inXemTruocBangKeThuoc()\\\" mat-raised-button\\n                                title=\\\"In Bảng Kê\\\">\\n                                In Bảng Kê\\n                            </button> -->\\n                            <button type=\\\"button\\\" (click)=\\\"Huy()\\\" mat-raised-button title=\\\"Phím tắt: ESC\\\">\\n                                Quay lại\\n                            </button>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </vex-page-layout-content>\\n</vex-page-layout>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-list/quay-thuoc-list.component.html\":\n/*!******************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-list/quay-thuoc-list.component.html ***!\n  \\******************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<app-grid #gridD [gridColumns]=\\\"gridChildColumnsChoThanhToan\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n    [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n    [sort]=\\\"sortConfig\\\" [urlGetData]=\\\"urlGetDataGridChild\\\" [urlGetTotalPage]=\\\"urlGetTotalPageGridChild\\\"\\n    heightToolbar=\\\"272\\\" [additionalSearchString]=\\\"queryStringSearchUuTien\\\" [detailTemplate]=\\\"detailTemplate\\\"\\n    (extOnDataBound)=\\\"onDataBound($event)\\\">\\n</app-grid>\\n<ng-template #TongGiaTriDonThuocTemplate let-dataItem>\\n    <strong class=\\\"text-color\\\" style=\\\"color:red\\\" *ngIf=\\\"dataItem.TrangThaiHienThi=='Chưa thanh toán'\\\">\\n        {{dataItem.TongGiaTriDonThuoc | number:'0.2-2':'vi-VN'}}</strong>\\n    <strong class=\\\"text-color\\\" style=\\\"color:blue\\\" *ngIf=\\\"dataItem.TrangThaiHienThi=='Đã thanh toán'\\\">\\n        {{dataItem.TongGiaTriDonThuoc | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #SoTienChoThanhToanTemplate let-dataItem>\\n    <strong class=\\\"text-color\\\" style=\\\"color:red\\\" *ngIf=\\\"dataItem.TrangThaiHienThi=='Chưa thanh toán'\\\">\\n        {{dataItem.SoTienChoThanhToan | number:'0.2-2':'vi-VN'}}</strong>\\n    <strong class=\\\"text-color\\\" style=\\\"color:blue\\\" *ngIf=\\\"dataItem.TrangThaiHienThi=='Đã thanh toán'\\\">\\n        {{dataItem.SoTienChoThanhToan | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #trangThaiTemplate let-dataItem>\\n    <strong class=\\\"text-color\\\" style=\\\"color:red\\\" *ngIf=\\\"dataItem.TrangThaiHienThi=='Chưa thanh toán'\\\">\\n        {{dataItem.TrangThaiHienThi}}</strong>\\n    <strong class=\\\"text-color\\\" style=\\\"color:blue\\\" *ngIf=\\\"dataItem.TrangThaiHienThi =='Đã thanh toán'\\\">\\n        {{dataItem.TrangThaiHienThi}}</strong>\\n</ng-template>\\n\\n<ng-template #actionTemplate let-dataItem>\\n    <div class=\\\"text-center\\\" kendoTooltip>\\n        <button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"Xem(dataItem)\\\" class=\\\"mr-1 float-right\\\" mat-raised-button>\\n            Xem</button>\\n    </div>\\n</ng-template>\\n\\n<ng-template #maTNTemplate let-dataItem>\\n    <a (click)=\\\"Xem(dataItem)\\\">{{dataItem.MaTN}}</a>\\n</ng-template>\\n<ng-template #detailTemplate let-dataItem>\\n    <app-grid baseRoute=\\\"\\\" [gridColumns]=\\\"gridChild\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n        [urlGetData]=\\\"urlGetDataChild\\\"\\n        [additionalSearchString]=\\\"dataItem.Id + '-' +dataItem.DateStart + '-' + dataItem.DateEnd\\\" [autoHeight]=\\\"true\\\"\\n        [pageable]=\\\"false\\\">\\n    </app-grid>\\n</ng-template>\\n<ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n    <strong>{{value}}</strong>\\n</ng-template>\\n<ng-template #templatePrint let-dataItem>\\n    <span *ngIf=\\\"dataItem.DonThuocBacSiKeToa == false\\\">\\n        <button kendoTooltip title=\\\"In phiếu\\\"\\n            (click)=\\\"PrinAllDonThuocBenhNhan(dataItem.DonThuocThanhToanId, dataItem.LoaiDonThuoc , dataItem.YeuCauKhambenhId)\\\"\\n            mat-icon-button type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icPrint\\\"></mat-icon>\\n        </button>\\n    </span>\\n</ng-template>\\n<ng-template #SoTienThuoctemplate let-dataItem>\\n    <span style=\\\"color:red\\\"> {{dataItem.SoTienDisPlay}}</span>\\n</ng-template>\\n<ng-template #TinhTrangThuoctemplate let-dataItem>\\n    <span style=\\\"color:red\\\" *ngIf=\\\"dataItem.TinhTrang =='Chưa xuất thuốc' || dataItem.TinhTrang =='Chưa thanh toán'\\\">\\n        {{dataItem.TinhTrang}}</span>\\n    <span style=\\\"color:blue\\\" *ngIf=\\\"dataItem.TinhTrang =='Đã thanh toán'\\\"> {{dataItem.TinhTrang}}</span>\\n    <span style=\\\"color: blue;\\\" *ngIf=\\\"dataItem.TinhTrang =='Đã xuất thuốc'\\\"> {{dataItem.TinhTrang}}</span>\\n</ng-template>\\n<ng-template #nguoiDungKhongMuaThuocTemplate let-dataItem>\\n    <button *ngIf=\\\"dataItem.TrangThai === 1\\\"  type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"nguoiBenhKhongMuaThuoc(dataItem)\\\"\\n     title=\\\"Phím tắt: Người bệnh không mua thuốc\\\">NB không mua thuốc</button>\\n</ng-template>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component.html\":\n/*!****************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component.html ***!\n  \\****************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-16\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <vex-breadcrumbs [crumbs]=\\\"\\n                    [\\n                    {Title:'Nhà Thuốc',Path:''},\\n                    {Title:'Mua thuốc',Path:'/nha-thuoc',queryParams: { page: this.ttcheck,hoQuerysearch:false},Active:true}\\n                    ]\\\">\\n            </vex-breadcrumbs>\\n            <app-hot-key [keys]=\\\"[\\n            {Key:'Ctrl + F1',Description:'Di chuyển tới và mở tab Mua thuốc'},\\n            {Key:'Ctrl + F2',Description:'Di chuyển tới và mở tab Chờ xuất thuốc'},\\n            {Key:'Ctrl + S',Description:'Thu tiền'},\\n            {Key:'Esc',Description:'Quay lại', End:true}\\n            ]\\\"></app-hot-key>\\n        </div>\\n    </vex-page-layout-header>\\n\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div class=\\\"-mt-16\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n                <div class=\\\"card\\\" fxFlex=\\\"100%\\\">\\n                    <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\">\\n                        <app-quay-thuoc-thong-tin-hanh-chinh [benhnhanThongTin]=\\\"benhnhanThongTin\\\">\\n                        </app-quay-thuoc-thong-tin-hanh-chinh>\\n                        <!-- class=\\\"content-has-border\\\" -->\\n                        <kendo-tabstrip fxFlex=\\\"100%\\\" class=\\\"content-has-border has-padding mt-3\\\" (tabSelect)=\\\"onTabSelect($event)\\\" [keepTabContent]=\\\"true\\\" #tabQuayThuoc>\\n                            <kendo-tabstrip-tab [selected]=\\\"tt==1\\\">\\n\\n                                <ng-template kendoTabContent>\\n                                    <app-quay-thuoc-thong-tin-bao-hiem-tu-nhan [tongTienBNThanhToan]=\\\"tongTienBNThanhToan\\\" (valueChangeBaoHiem)=\\\"getBaoHiem($event)\\\" (valueChangeMg)=\\\"getMg($event)\\\">\\n                                    </app-quay-thuoc-thong-tin-bao-hiem-tu-nhan>\\n\\n                                    <app-quay-thuoc-hinh-thuc-thanh-toan [benhnhanThongTin]=\\\"benhnhanThongTin\\\" (afterChangedCongNo)=\\\"afterChangedCongNo()\\\" (changeTab)=\\\"changeTab()\\\" (afterChangedMg)=\\\"afterChangedMienGiam()\\\" [apDungCongNoThuoc]=\\\"apDungCongNoThuoc\\\" [thongTinTam]=\\\"thongTinTam\\\"\\n                                        [apDungMienGiam]=\\\"apDungMienGiam\\\" [viTri]=\\\"viTri\\\" [thongTinMienGiamVos]=\\\"thongTinMienGiamVos\\\" (danhSachChuaThanhToan)=\\\"danhSachChuaThanhToan($event)\\\">\\n                                    </app-quay-thuoc-hinh-thuc-thanh-toan>\\n\\n                                </ng-template>\\n                                <ng-template kendoTabTitle>\\n                                    <div kendoTooltip title=\\\"Phím tắt: Ctrl + F1\\\">\\n                                        Mua thuốc-vật tư\\n                                    </div>\\n                                </ng-template>\\n                            </kendo-tabstrip-tab>\\n                            <kendo-tabstrip-tab [selected]=\\\"tt==2\\\">\\n                                <ng-template kendoTabContent>\\n                                    <app-quay-thuoc-cho-xuat-thuoc [flagOnce]=\\\"flagAllowLoadThuoc\\\" [trangThaiXuatThuoc]=\\\"tt\\\" [ttcheck]=\\\"ttcheck\\\">\\n                                    </app-quay-thuoc-cho-xuat-thuoc>\\n                                </ng-template>\\n                                <ng-template kendoTabTitle>\\n                                    <div kendoTooltip title=\\\"Phím tắt: Ctrl + F2\\\">\\n                                        Chờ xuất thuốc-vật tư\\n                                    </div>\\n                                </ng-template>\\n                            </kendo-tabstrip-tab>\\n                        </kendo-tabstrip>\\n                        <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\" kendoTooltip>\\n                            <button type=\\\"button\\\"  (click)=\\\"inXemTruocBangKeThuoc()\\\" mat-raised-button title=\\\"In Bảng Kê\\\">\\n                               In Bảng Kê\\n                            </button>\\n                            <button type=\\\"button\\\" (click)=\\\"Huy()\\\" mat-raised-button title=\\\"Phím tắt: ESC\\\">\\n                                Quay lại\\n                            </button>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </vex-page-layout-content>\\n</vex-page-layout>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-bao-hiem-tu-nhan/quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.html\":\n/*!**************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-bao-hiem-tu-nhan/quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.html ***!\n  \\**************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3\\\" *ngIf=\\\"checkHaveBHTN === true\\\">\\n        <legend>Thông tin bảo hiểm tư nhân</legend>\\n        <div class=\\\" mt-1\\\">\\n            <app-grid [gridColumns]=\\\"gridChildColumns2\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n                class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n                [lazyLoadPage]=\\\"true\\\" [gridDataSource]=\\\"dataSourceDanhSachBHTN\\\" [autoHeight]=\\\"true\\\" style=\\\"width: 1px;\\\"\\n                [pageable]=\\\"false\\\">\\n            </app-grid>\\n        </div>\\n    </fieldset>\\n    <!-- <fieldset *ngIf=\\\"!khachVangLaiMuaThuoc\\\" fxFlex=\\\"100%\\\" class=\\\"mb-3\\\">\\n        <legend>Thông tin miễn giảm</legend>\\n\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            start thông tim voucher\\n            <div fxFlex=\\\"15%\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                    <app-checkbox id=\\\"loaiVoucher\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" value=\\\"true\\\"\\n                        [disabled]=\\\"disabledVoucher\\\" [model]=\\\"flagEnableVoucher\\\" (modelChange)=\\\"onChangeVoucher($event)\\\"\\n                        label=\\\"Voucher\\\">\\n                    </app-checkbox>\\n                    <app-multiselect *ngIf=\\\"flagEnableVoucher\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Mã Voucher\\\"\\n                        [(model)]=\\\"listVouchers\\\" [required]=\\\"true\\\"\\n                        url=\\\"ThuNgan/GetMaVoucher?loaiVoucher={{loaiVoucher}}&yeucauTiepNhanId={{idMYCTN}}\\\"\\n                        (openChange)=\\\"onOpenChange()\\\" (modelChange)=\\\"onSelectChangeVoucher($event)\\\"\\n                        (valueChange)=\\\"valueChangeTheVoucher($event)\\\"\\n                        [validationerror]=\\\"'ListVouchers' | validationerror:quayThuocValidationErrors\\\" #voucherList>\\n                    </app-multiselect>\\n                </div>\\n            </div>\\n            end thông tim voucher\\n\\n\\n            thông tin miễm giảm thêm\\n            <div fxFlex=\\\"{{flagEnableMGThem?'75%':'10%'}}\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                    <app-checkbox id=\\\"MiemGiamThem\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" value=\\\"true\\\"\\n                        [model]=\\\"flagEnableMGThem\\\" [disabled]=\\\"disabledMGThem\\\" (modelChange)=\\\"onChangeMienGiam($event)\\\"\\n                        label=\\\"MG thêm\\\">\\n                    </app-checkbox>\\n                </div>\\n                <div *ngIf=\\\"flagEnableMGThem\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"10px grid\\\"\\n                    fxLayoutGap.lt-sm=\\\"0\\\">\\n                    <div fxFlex=\\\"13%\\\">\\n                        <mat-radio-button name=\\\"loaiMG\\\" style=\\\"position: absolute;z-index: 1;\\\" [checked]=\\\"soTienMgCheck\\\"\\n                            (change)=\\\"onChangeLoaiMg(1)\\\" value=\\\"chon-miem-giam\\\">\\n                            Số tiền MG <span style=\\\"color: red;\\\">*</span>\\n                        </mat-radio-button>\\n                        <app-textboxnumeric [(model)]=\\\"thongTinMienGiamThem.SoTienMG\\\" class=\\\"mb-0 pb-0\\\"\\n                            [isFormatCurrenly]=\\\"true\\\"\\n                            [validationerror]=\\\"'SoTienMG' | validationerror:quayThuocValidationErrors\\\">\\n                        </app-textboxnumeric>\\n                    </div>\\n                    <div fxFlex=\\\"13%\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap.lt-sm=\\\"0\\\" *ngIf=\\\"!checkHiddenSoTienConLai\\\">\\n                        <app-textboxnumeric fxFlex=\\\"100%\\\" [disabled]=\\\"true\\\" label=\\\"Số tiền còn lại\\\" class=\\\"green\\\"\\n                            [isFormatCurrenly]=\\\"true\\\" [spinners]=\\\"false\\\"\\n                            [(model)]=\\\"thongTinMienGiamThem.SoTienMGConLai\\\">\\n                        </app-textboxnumeric>\\n                    </div>\\n                    <div fxFlex=\\\"13%\\\">\\n                        <mat-radio-button name=\\\"loaiMG\\\" [checked]=\\\"tiLeMgCheck\\\" style=\\\"position: absolute;z-index: 1;\\\"\\n                            (change)=\\\"onChangeLoaiMg(2)\\\" value=\\\"chon-miem-giam\\\">\\n                            % MG <span style=\\\"color: red;\\\">*</span>\\n                        </mat-radio-button>\\n                        <app-textboxnumeric fxFlex=\\\"100%\\\" [disabled]=\\\"disabledTiLeMG\\\" max=\\\"100\\\"\\n                            [(model)]=\\\"thongTinMienGiamThem.TiLeMienGiam\\\" class=\\\"mb-0 pb-0\\\"\\n                            style=\\\"margin-top: 1px !important;\\\"\\n                            [validationerror]=\\\"'TiLeMienGiam' | validationerror:quayThuocValidationErrors\\\">\\n                        </app-textboxnumeric>\\n                    </div>\\n                    <div fxFlex=\\\"17%\\\" fxFlex.sm=\\\"17%\\\">\\n                        <app-textarea id=\\\"MienGiamConLai\\\" [required]=\\\"true\\\" label=\\\"Lý do MG\\\"\\n                            [(model)]=\\\"thongTinMienGiamThem.LyDoMiemGiam\\\" minHeight=\\\"20\\\"\\n                            [validationerror]=\\\"'LyDoMienGiam' | validationerror:quayThuocValidationErrors\\\">\\n                        </app-textarea>\\n                    </div>\\n                    <div fxFlex=\\\"27%\\\" fxFlex.sm=\\\"27%\\\">\\n                        <app-upload id=\\\"Upload\\\" label=\\\"File đính kèm\\\" [required]=\\\"true\\\"\\n                            [model]=\\\"thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam\\\"\\n                            (uploadFileDone)=\\\"uploadFileDone($event)\\\"\\n                            [validationerror]=\\\"'TaiLieuDinhKem' | validationerror:quayThuocValidationErrors\\\">\\n                        </app-upload>\\n                    </div>\\n                    <app-combobox id=\\\"NguoiDuyet\\\" fxFlex=\\\"17%\\\" fxFlex.sm=\\\"17%\\\"\\n                        [(model)]=\\\"thongTinMienGiamThem.NhanVienDuyetMienGiamThemId\\\"\\n                        [modelText]=\\\"thongTinMienGiamThem.TenNhanVienDuyet\\\" label=\\\"Người duyệt\\\"\\n                        class=\\\"item-no-padding\\\" url=\\\"NhanVien/GetListLookupNhanVien\\\">\\n                    </app-combobox>\\n                </div>\\n            </div>\\n            thông tin Áp dụng\\n            <div fxFlex=\\\"10%\\\">\\n                <button mat-raised-button color=\\\"primary\\\" (click)=\\\"onApplyMGThem()\\\" *ngIf=\\\"flagApDung==true\\\"\\n                    class=\\\"mt-12\\\">\\n                    Áp dụng\\n                </button>\\n            </div>\\n        </div>\\n    </fieldset> -->\\n    <ng-template #actionTemplateSTCongNo let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        <app-textboxnumeric class=\\\"no-label\\\" [step]=\\\"100\\\" [(model)]=\\\"dataItem.SoTien\\\" \\n             decimals=\\\"2\\\" [format]=\\\"format\\\" min=\\\"0.00\\\"\\n            (keyup)=\\\"onKeyCongNo($event, rowIndex)\\\">\\n        </app-textboxnumeric>\\n    </ng-template>\\n    <ng-template #actionTemplateSubmitCongNo let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        <button color=\\\"primary\\\" mat-raised-button mat-button (click)=\\\"ApDungCongNo(rowIndex)\\\" cdkFocusInitial>Áp\\n            dụng</button>\\n    </ng-template>\\n</div>\\n\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-hanh-chinh/quay-thuoc-thong-tin-hanh-chinh.component.html\":\n/*!**************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-hanh-chinh/quay-thuoc-thong-tin-hanh-chinh.component.html ***!\n  \\**************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div class=\\\"row\\\" >\\n    <fieldset fxFlex=\\\"100%\\\" *ngIf=\\\"MaBN == null\\\">\\n        <legend>THÔNG TIN HÀNH CHÍNH</legend>\\n        <div fxFlex=\\\"100%\\\">\\n            <ul class=\\\"inline\\\">\\n                <li>Mã TN:\\n                    <strong>{{benhnhanThongTin.MaYeuCauTiepNhan}}</strong>\\n                </li>\\n                <li>Mã NB:\\n                    \\n                    <strong>{{benhnhanThongTin.MaBN}}</strong>\\n                </li>\\n                <li>Họ tên:\\n                    <strong>{{benhnhanThongTin.HoTen}}</strong>\\n                </li>\\n                <li>Giới tính:\\n                    <strong>{{benhnhanThongTin.GioiTinhHienThi}}</strong>\\n                </li>\\n                <li>Năm sinh:\\n                    <strong>{{benhnhanThongTin.NamSinh}}</strong>\\n                </li>\\n                <li>Địa chỉ:\\n                    <strong>{{benhnhanThongTin.DiaChiDayDu}}</strong>\\n                </li>\\n               \\n                <li>SĐT:\\n                    <strong>{{benhnhanThongTin.SoDienThoai}}</strong>\\n                </li>\\n                <li>Email:\\n                    <strong>{{benhnhanThongTin.Email}}</strong>\\n                </li>\\n               \\n            </ul>\\n        </div>\\n    </fieldset>\\n    <fieldset fxFlex=\\\"100%\\\" *ngIf=\\\"MaBN != null\\\">\\n        <legend>THÔNG TIN HÀNH CHÍNH</legend>\\n        <div fxFlex=\\\"100%\\\" >\\n            <ul class=\\\"inline\\\">\\n                <li>Mã NB:\\n                    \\n                    <strong>{{MaBN}}</strong>\\n                </li>\\n                <li>Họ tên:\\n                    <strong>{{data.HoTen}}</strong>\\n                </li>\\n                <li>Giới tính:\\n                    <strong>{{data.GioiTinhHienThi}}</strong>\\n                </li>\\n                <li>Năm sinh:\\n                    <strong>{{data.NamSinh}}</strong>\\n                </li>\\n                <li>Địa chỉ:\\n                    <strong>{{data.DiaChiDayDu}}</strong>\\n                </li>\\n               \\n                <li>SĐT:\\n                    <strong>{{data.SoDienThoai}}</strong>\\n                </li>\\n                <li>Email:\\n                    <strong>{{data.Email}}</strong>\\n                </li>\\n               \\n            </ul>\\n        </div>\\n    </fieldset>\\n</div>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component.html\":\n/*!**************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component.html ***!\n  \\**************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>{{Title}}</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close('No answer',1)\\\" tabindex=\\\"-1\\\" >\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <app-grid\\n    [gridColumns]=\\\"gridChildColumns2\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" [gridDataSource]=\\\"data\\\"\\n    [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n     [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\" [detailTemplate]=\\\"detailTemplate\\\">\\n    </app-grid>\\n    <ng-template #actionTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <button type=\\\"button\\\"  color=\\\"primary\\\" mat-raised-button (click)=\\\"close(dataItem,2)\\\" tabindex=\\\"-1\\\">\\n                Chọn\\n            </button>\\n        </div>\\n    </ng-template>\\n    <ng-template #detailTemplate let-dataItem>\\n        <app-grid baseRoute=\\\"\\\"\\n                        [gridColumns]=\\\"gridChild\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n                        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                        [urlGetData]=\\\"urlGetDataChild\\\" [additionalSearchString]=\\\"dataItem.Id + '-' +dataItem.DateStart + '-' + dataItem.DateEnd\\\"\\n                        [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\"  >\\n                    </app-grid>\\n    </ng-template>\\n    <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n        <strong>{{value}}</strong>\\n    </ng-template>\\n    <ng-template #templatePrint let-dataItem >\\n        <span *ngIf=\\\"dataItem.DonThuocBacSiKeToa == false\\\">\\n            <button  kendoTooltip title=\\\"In phiếu\\\"\\n            (click)=\\\"PrinAllDonThuocBenhNhan(dataItem.DonThuocThanhToanId)\\\" mat-icon-button type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icPrint\\\"></mat-icon>\\n        </button>\\n        </span>\\n    </ng-template>\\n    <ng-template #SoTienThuoctemplate let-dataItem>\\n        <span style=\\\"color:red\\\"> {{dataItem.SoTienDisPlay}}</span>\\n    </ng-template>\\n    <ng-template #TinhTrangThuoctemplate let-dataItem>\\n        <span style=\\\"color:red\\\" *ngIf=\\\"dataItem.TinhTrang =='Chưa xuất thuốc' || dataItem.TinhTrang =='Chưa thanh toán'\\\"> {{dataItem.TinhTrang}}</span>\\n        <span style=\\\"color:blue\\\" *ngIf=\\\"dataItem.TinhTrang =='Đã thanh toán'\\\"> {{dataItem.TinhTrang}}</span>\\n    </ng-template>\\n</mat-dialog-content>\\n\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan/quay-thuoc-tim-benh-nhan.component.html\":\n/*!************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan/quay-thuoc-tim-benh-nhan.component.html ***!\n  \\************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<fieldset class=\\\"m-0\\\">\\n    <legend>TÌM NGƯỜI BỆNH</legend>\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <div fxFlex=\\\"300px\\\" fxFlex.sm=\\\"20%\\\" style=\\\"position: relative;\\\">\\n            <div style=\\\"background-color: rgba(0, 0, 0, 0.04);height: 100%;\\n            width: 100% !important;\\n            border-radius: 4px 4px 0 0;\\n            padding: 0.75em 0.75em 0 0.75em;\\n            border-bottom: 1px solid rgba(82, 63, 105, 0.42);\\\">\\n                <app-checkbox name=\\\"dang-thanh-toan\\\" (modelChange)=\\\"checkTrangThai($event,1)\\\" fxFlex=\\\"150px\\\"\\n                    fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\"\\n                    [(model)]=\\\"kiemTraDanhSachThanhToan\\\" value=\\\"dangthanhtoan\\\" label=\\\"Chờ thanh toán\\\">\\n                </app-checkbox>\\n                <app-checkbox name=\\\"da-thanh-toan\\\" (modelChange)=\\\"checkTrangThai($event,2)\\\"\\n                    [(model)]=\\\"kiemTraDanhSachDaThanhToan\\\" value=\\\"dathanhtoan\\\" fxFlex=\\\"150px\\\" fxFlex.lt-md=\\\"auto\\\"\\n                    fxHide.xs fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\" label=\\\"Đã thanh toán\\\">\\n                </app-checkbox>\\n            </div>\\n        </div>\\n        <div fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" style=\\\"position: relative;\\\">\\n            <app-textbox id=\\\"SoTheBHYT\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Mã NB\\\" [(model)]=\\\"timKiem.MaBenhNhan\\\"\\n                (keyup)=\\\"onKey($event)\\\" [isAutoFocus]=\\\"true\\\" (blurChange)=\\\"blurChange($event, true)\\\"\\n                (modelChange)=\\\"searchChangeMaBN($event)\\\">\\n            </app-textbox>\\n            <button style=\\\"position: absolute;right: 21px;margin-top: 10px;\\\" (click)=\\\"QuetMaQRCodeClick()\\\"\\n                color=\\\"primary\\\" mat-mini-fab type=\\\"button\\\" kendoTooltip title=\\\"Quét mã vạch thẻ BHYT\\\">\\n                <img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n            </button>\\n\\n        </div>\\n        <!-- <app-textbox id=\\\"MaBN\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"40%\\\" maxlength=\\\"4000\\\" [(model)]=\\\"timKiem.MaBenhNhan\\\"\\n            label=\\\"Mã NB\\\" [validationerror]=\\\"'MaBN' | validationerror:validationErrors\\\">\\n        </app-textbox> -->\\n        <app-textbox id=\\\"MaTN\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"15%\\\" maxlength=\\\"4000\\\" [(model)]=\\\"timKiem.MaTiepNhan\\\"\\n            style=\\\"padding-left: 10px;\\\" (keyup)=\\\"onKey($event)\\\" label=\\\"Mã TN\\\"\\n            (modelChange)=\\\"searchChangeMaTN($event)\\\" [validationerror]=\\\"'MaTN' | validationerror:validationErrors\\\">\\n        </app-textbox>\\n        <app-textbox id=\\\"HoTen\\\" fxFlex=\\\"15%\\\" fxFlex.sm=\\\"15%\\\" maxlength=\\\"4000\\\" [(model)]=\\\"timKiem.HoTen\\\"\\n            style=\\\"padding-left: 10px;\\\" (keyup)=\\\"onKey($event)\\\" label=\\\"Họ Tên\\\"\\n            [validationerror]=\\\"'HoTen' | validationerror:validationErrors\\\">\\n        </app-textbox>\\n        <!-- <app-textbox id=\\\"DienThoai\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" maxlength=\\\"4000\\\" [(model)]=\\\"timKiem.SoDienThoai\\\"\\n            style=\\\"padding-left: 10px;\\\" (keyup)=\\\"onKey($event)\\\" label=\\\"Điện thoại\\\"\\n            [validationerror]=\\\"'DienThoai' | validationerror:validationErrors\\\">\\n        </app-textbox> -->\\n        <app-textboxmask id=\\\"SoDienThoai\\\" onlynumber=\\\"true\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Số điện thoại\\\" (keyup)=\\\"onKey($event)\\\"\\n                                maxlength=\\\"10\\\" [(model)]=\\\"timKiem.SoDienThoai\\\" mask=\\\"000 000 0000\\\">\\n        </app-textboxmask>\\n        <app-daterangepicker id=\\\"Daterange\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" (blur)=\\\"blur($event)\\\"\\n            [(model)]=\\\"timKiem.RangeDate\\\" label=\\\"Từ ngày - Đến ngày\\\" (keyup)=\\\"onKey3($event)\\\"\\n            (modelChange)=\\\"changRange($event)\\\">\\n        </app-daterangepicker>\\n        <div fxFlex=\\\"209px\\\">\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-5\\\" (click)=\\\"TimKiem(true)\\\">Tìm\\n                kiếm</button>\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"exportExcel()\\\">Xuất Excel</button>\\n\\n        </div>\\n        <app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\" style=\\\"display: none;\\\"></app-barcode>\\n    </div>\\n</fieldset>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component.html\":\n/*!**********************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component.html ***!\n  \\**********************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-16\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <vex-breadcrumbs [crumbs]=\\\"\\n                    [\\n                    {Title:'Nhà Thuốc',Path:'/nha-thuoc'},\\n                    {Title:'Mua Toa Cũ ',Path:'',Active:true}\\n                    ]\\\">\\n            </vex-breadcrumbs>\\n        </div>\\n    </vex-page-layout-header>\\n\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div class=\\\"-mt-16\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n                <div class=\\\"card\\\" fxFlex=\\\"auto\\\">\\n                    <div class=\\\"card\\\" fxFlex=\\\"auto\\\">\\n                        <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\" style=\\\"position: relative;\\\">\\n                            <app-quay-thuoc-thong-tin-hanh-chinh [MaBN]=\\\"id\\\"></app-quay-thuoc-thong-tin-hanh-chinh>\\n                            <h4 class=\\\"sub-title\\\" fxFlex=\\\"100%\\\" style=\\\"font-weight: bold;\\\">Toa Thuốc Cũ</h4>\\n                            <app-grid [headerTemplate]=\\\"headerTemplate\\\" [useHeaderDefault]=\\\"false\\\"\\n                                [urlGetData]=\\\"urlGetDataGridChild\\\" [urlGetTotalPage]=\\\"urlGetTotalPageGridChild\\\"\\n                                [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n                                [checkboxAble]=\\\"true\\\" [detailTemplate]=\\\"detailTemplate\\\" [lazyLoadPage]=\\\"true\\\"\\n                                (extCheckboxSelection)=\\\"extCheckboxSelection($event)\\\" heightToolbar=\\\"325\\\">\\n                            </app-grid>\\n\\n                            <ng-template #detailTemplate let-dataItem>\\n                                <app-grid [gridColumns]=\\\"gridChildColumns\\\" [useAddDeault]=\\\"false\\\"\\n                                    [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n                                    [lazyLoadPage]=\\\"true\\\" [urlGetData]=\\\"urlGetDataGridChild1\\\"\\n                                    [urlGetTotalPage]=\\\"urlGetTotalPageGridChild1\\\" searchString=\\\"{{dataItem.Id}}\\\"\\n                                    [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\">\\n                                </app-grid>\\n                            </ng-template>\\n                            <ng-template #detailTemplateCT let-dataItem>\\n                                <span style=\\\"color:red\\\" *ngIf=\\\"dataItem.LaDuocPhamBenhVien ==  false\\\">Dược phẩm ngoài\\n                                    bệnh viện</span>\\n                                <span style=\\\"color:blue\\\" *ngIf=\\\"dataItem.LaDuocPhamBenhVien ==  true\\\">Dược phẩm trong\\n                                    bệnh viện</span>\\n                            </ng-template>\\n                            <ng-template #headerTemplate>\\n                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                    fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"px-2 py-3\\\">\\n                                    <app-textbox id=\\\"DVKhamHienThi\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"40%\\\" maxlength=\\\"4000\\\"\\n                                        [(model)]=\\\"timKiemToaThuocCu.DVKhamHienThi\\\" style=\\\"padding-left: 10px;\\\"\\n                                        label=\\\"DV Khám\\\" (keyup)=\\\"onKey($event)\\\">\\n                                    </app-textbox>\\n                                    <app-textbox id=\\\"ChuanDoan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"40%\\\" maxlength=\\\"4000\\\"\\n                                        [(model)]=\\\"timKiemToaThuocCu.ChuanDoan\\\" style=\\\"padding-left: 10px;\\\"\\n                                        label=\\\"Chẩn đoán\\\" (keyup)=\\\"onKey($event)\\\">\\n                                    </app-textbox>\\n                                    <app-textbox id=\\\"BSKham\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"40%\\\" maxlength=\\\"4000\\\"\\n                                        [(model)]=\\\"timKiemToaThuocCu.BSKham\\\" style=\\\"padding-left: 10px;\\\"\\n                                        label=\\\"BS Khám\\\" (keyup)=\\\"onKey($event)\\\">\\n                                    </app-textbox>\\n                                   \\n                                    <!-- <app-datepicker id=\\\"NgayKham\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"40%\\\"\\n                                        [(model)]=\\\"timKiemToaThuocCu.NgayKham\\\"  label=\\\"Ngày khám\\\" (keyup)=\\\"onKey($event)\\\">\\n                                    </app-datepicker> -->\\n                                    <app-daterangepicker id=\\\"Daterange\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" [(model)]=\\\"timKiemToaThuocCu.RangeDate\\\"\\n                                        label=\\\"Từ ngày - Đến ngày\\\" (keyup)=\\\"onKey3($event)\\\" (modelChange)=\\\"changRange($event)\\\">\\n                                    </app-daterangepicker>\\n                                    <div fxFlex=\\\"15%\\\" class=\\\"mt-5\\\">\\n                                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\"\\n                                            (click)=\\\"TimKiem()\\\">Tìm kiếm</button>\\n                                    </div>\\n\\n                                </div>\\n                            </ng-template>\\n\\n\\n\\n\\n\\n                            <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\">\\n                                <button type=\\\"button\\\" mat-raised-button mat-button (click)=\\\"Huy()\\\">\\n                                    Hủy\\n                                </button>\\n                                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button\\n                                    (click)=\\\"ChonThuoc()\\\">\\n                                    Chọn\\n                                </button>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </vex-page-layout-content>\\n</vex-page-layout>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component.html\":\n/*!**********************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component.html ***!\n  \\**********************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n\\n<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>{{Title}}</div>\\n</div>\\n<p class=\\\"mb-3\\\"> Thực hiện in phiếu cho NB : </p>\\n<app-checkbox id=\\\"InPhieuThu\\\" [(model)]=\\\"thongTin.InPhieuThu\\\" label=\\\"In phiếu thu\\\" class=\\\"pb-0\\\"></app-checkbox>\\n<app-checkbox id=\\\"InBangKe\\\" [(model)]=\\\"thongTin.InBangKe\\\" label=\\\"In bảng kê thuốc\\\" class=\\\"pb-0\\\"></app-checkbox>\\n<div style=\\\"float: right;\\\">\\n    <button type=\\\"button\\\"  mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n    (click)=\\\"close('No answer')\\\">Không</button>\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n    (click)=\\\"close('In')\\\">In</button>\\n</div>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.html\":\n/*!******************************************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.html ***!\n  \\******************************************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>{{Title}}</div>\\n</div>\\n<p class=\\\"mb-3\\\" *ngIf=\\\"dataItem.Model != null\\\"> Người bệnh này chưa có phát sinh đơn thuốc nào. Bạn có muốn bán thuốc cho người bệnh này như khách vãng lai hay không?  </p>\\n<p class=\\\"mb-3\\\" *ngIf=\\\"dataItem.Model == null\\\"> Không tìm thấy người bệnh này trong hệ thống. Bạn có muốn bán thuốc cho người bệnh này như khách vãng lai hay không?  </p>\\n<div style=\\\"float: right;\\\">\\n    <button type=\\\"button\\\"  mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n    (click)=\\\"close(1)\\\">Không</button>\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n    (click)=\\\"close(2)\\\">Có</button>\\n</div>\\n\\n\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-pop-up/quay-thuoc-xac-nhan-pop-up.component.html\":\n/*!****************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-pop-up/quay-thuoc-xac-nhan-pop-up.component.html ***!\n  \\****************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>{{Title}}</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close('No answer')\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<p> Bạn chắc chắn muốn thu của người bệnh <b>{{tenBenhNhan}}</b> với số tiền <b>{{soTien| number:'0.2-2':'vi-VN'}}</b> hay không?\\n</p>\\n<div style=\\\"float: right;\\\">\\n    <button type=\\\"button\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"close('No answer')\\\">Không</button>\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n        (click)=\\\"close('Yes')\\\">Có</button>\\n</div>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/thong-tin-phieu-da-thu/thong-tin-phieu-da-thu.component.html\":\n/*!********************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/thong-tin-phieu-da-thu/thong-tin-phieu-da-thu.component.html ***!\n  \\********************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div id=\\\"phieu-thu\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t<fieldset fxFlex=\\\"100%\\\" style=\\\"padding: 0 !important\\\">\\n\\t\\t<div class=\\\"mt-1\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t<ul fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t<app-combobox id=\\\"ten-pttt\\\" fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\" [data]=\\\"dataSoPhieus\\\" label=\\\"Số phiếu\\\"\\n\\t\\t\\t\\t\\t\\t(selectionChange)=\\\"selectionChangeSoPhieu($event)\\\" [autoSelectFirstItem]=\\\"true\\\" [bind]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t[(model)]=\\\"thongTinSoPhieuDaThu.SoPhieuId\\\" [modelText]=\\\"thongTinSoPhieuDaThu.TenSoPhieu\\\"\\n\\t\\t\\t\\t\\t\\t[template]=\\\"soPhieuTemplate\\\" [templateHeader]=\\\"soPhieuTemplateHeader\\\" [popupSettings]=\\\"null\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"pb-0\\\">\\n\\t\\t\\t\\t\\t\\t<ng-template #soPhieuTemplateHeader let-dataItem>\\n\\t\\t\\t\\t\\t\\t\\t<table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th width=\\\"50%\\\">Loại phiếu</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th width=\\\"50%\\\">Tình trạng</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t<ng-template #soPhieuTemplate let-dataItem>\\n\\t\\t\\t\\t\\t\\t\\t<table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td width=\\\"50%\\\">{{dataItem.DisplayName}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td width=\\\"50%\\\" *ngIf=\\\"dataItem.TinhTrang === trangThaiThuTienBenhNhan.Huy \\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong style=\\\"color: red\\\"> {{dataItem.TinhTrang}}</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td width=\\\"50%\\\" *ngIf=\\\"dataItem.TinhTrang !== trangThaiThuTienBenhNhan.Huy \\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong style=\\\"color: green\\\"> {{dataItem.TinhTrang}}</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t</app-combobox>\\n\\t\\t\\t\\t\\t<fieldset fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" class=\\\"ml-3\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"padding: 13px;flex: 1 1 100%;box-sizing: border-box;max-width: 100%;\\\"\\n\\t\\t\\t\\t\\t\\t*ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ul class=\\\"inline\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tLoại phiếu:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.LoaiPhieu}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tTình trạng:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinSoPhieuDaThu.TinhTrang === trangThaiThuTienBenhNhan.Huy\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"color: red\\\"> {{thongTinSoPhieuDaThu.TinhTrang}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinSoPhieuDaThu.TinhTrang !== trangThaiThuTienBenhNhan.Huy\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"color: green\\\"> {{thongTinSoPhieuDaThu.TinhTrang}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.TinhTrang === trangThaiThuTienBenhNhan.Huy\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tNgười hủy:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NhanVienHuyPhieu}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.TinhTrang === trangThaiThuTienBenhNhan.Huy\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tNgày hủy:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NgayHuyStr}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null \\n                                && ((thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi)\\n                                && thongTinSoPhieuDaThu.TinhTrang === trangThaiThuTienBenhNhan.Huy)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Thu hồi: </span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinSoPhieuDaThu.DaThuHoi\\\"> Rồi </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"!thongTinSoPhieuDaThu.DaThuHoi\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tChưa\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon [icIcon]=\\\"icEdit\\\" style=\\\"transform: scale(0.8)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"huyPhieuThu(thongTinSoPhieuDaThu ,true)\\\"> </mat-icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.DaThuHoi\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tNgười thu hồi:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NguoiThuHoi}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.DaThuHoi\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tNgày thu:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NgayThuStr}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t</fieldset>\\n\\t<fieldset fxFlex=\\\"100%\\\" class=\\\"mb-1\\\">\\n\\t\\t<div class=\\\"mt-1 ml-1\\\">\\n\\t\\t\\t<ul class=\\\"inline\\\" *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null && \\n            thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi\\\">\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null\\\">\\n\\t\\t\\t\\t\\tTổng số tiền:\\n\\t\\t\\t\\t\\t<strong style=\\\"color: red\\\"> {{thongTinSoPhieuDaThu.TongChiPhi | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tBHYT TT:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.BHYTThanhToan | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tMiễm giảm:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.MienGiam | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tBệnh nhân TT:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.BenhNhanThanhToan | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t\\t(<span>Tiền mặt: </span> <strong> {{thongTinSoPhieuDaThu.TienMat| number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t\\t<span>Chuyển khoản: </span> <strong> {{thongTinSoPhieuDaThu.ChuyenKhoan| number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t</strong> <span>POS: </span> <strong> {{thongTinSoPhieuDaThu.Pos| number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t\\t<span>Công nợ: </span> <strong> {{thongTinSoPhieuDaThu.CongNo| number:'0.2-2':'vi-VN'}} </strong>)\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"mt-1 ml-1\\\">\\n\\t\\t\\t<ul class=\\\"inline\\\" *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi\\\">\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null\\\">\\n\\t\\t\\t\\t\\tSố tiền:\\n\\t\\t\\t\\t\\t<strong style=\\\"color: red\\\"> {{thongTinSoPhieuDaThu.SoTien| number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.NgayThuStr != null\\\">\\n\\t\\t\\t\\t\\tNgày thu:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NgayThuStr}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.NoiDungThu != null\\\">\\n\\t\\t\\t\\t\\tNội dung thu:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NoiDungThu}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t</fieldset>\\n\\n\\t<fieldset fxFlex=\\\"100%\\\" class=\\\"mb-1\\\"\\n\\t\\t*ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi\\\">\\n\\t\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t\\t\\t<kendo-grid [data]=\\\"thongTinSoPhieuDaThu.DanhSachThuPhis\\\" [resizable]=\\\"true\\\"\\n\\t\\t\\t\\t[selectable]=\\\"{enabled: true, checkboxOnly: true}\\\" class=\\\"grid-custom\\\" id=\\\"danhSachDaThuTienGrid\\\"\\n\\t\\t\\t\\theight=\\\"500\\\">\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"\\\" title=\\\"\\\" width=\\\"25\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\"> </kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"\\\" title=\\\"#\\\" width=\\\"15\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\"> {{rowIndex + 1}}\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\t\\t\\t\\t\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"Nhom\\\" title=\\\"Nhóm\\\" width=\\\"50\\\" [hidden]=\\\"true\\\" [style]=\\\"{'text-align': 'left'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\" class=\\\"k-grouping-row p\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridGroupHeaderTemplate let-group let-field=\\\"field\\\" let-value=\\\"value\\\"> {{value}}\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"TenDichVu\\\" title=\\\"Tên Dịch Vụ\\\" width=\\\"100\\\" [style]=\\\"{'text-align': 'left'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t\\t\\t\\t<span kendoTooltip title=\\\"{{dataItem.TenDichVu}}\\\"> {{dataItem.TenDichVu}} </span>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"text-center\\\" style=\\\"font-weight: bold;color:#000;\\\" kendoTooltip\\n\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Tổng cộng DV đang chọn\\\">Tổng cộng:</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"Soluong\\\" title=\\\"Số Lượng\\\" width=\\\"60\\\" [style]=\\\"{'text-align': 'right'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\"> </kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"DonGia\\\" title=\\\"Đơn Giá\\\" width=\\\"90\\\" [style]=\\\"{'text-align': 'right'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'right'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.DonGia | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"ThanhTien\\\" title=\\\"Thành Tiền\\\" width=\\\"100\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'right'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.ThanhTien.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"text-align: center\\\">\\n\\t\\t\\t\\t\\t\\t<span class=\\\"float_right\\\">{{total('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"BHYTThanhToan\\\" title=\\\"BHYT TT\\\" width=\\\"100\\\" [style]=\\\"{'text-align': 'right'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'right'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.BHYTThanhToan | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.BHYTThanhToan.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"text-align: right\\\">\\n\\t\\t\\t\\t\\t\\t<span style=\\\"float: right;\\\">{{total('BHYTThanhToan') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column width=\\\"90\\\" [style]=\\\"{'text-align': 'right'}\\\" title=\\\"Tổng công nợ\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'right'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.TongCongNo | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.TongCongNo.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"text-align: center\\\">\\n\\t\\t\\t\\t\\t\\t<span style=\\\"float:right;\\\">{{total('TongCongNo') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"SoTienMG\\\" title=\\\"Số tiền MG\\\" width=\\\"120\\\" [style]=\\\"{'text-align': 'right'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'right'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div inline=\\\"true\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tkendoTooltip>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\\\"float:right;\\\">{{ dataItem.SoTienMG | number:'0.2-2':'vi-VN'}}</span>\\t\\t\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.SoTienMG.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"text-align: center\\\">\\n\\t\\t\\t\\t\\t\\t<span style=\\\"float:right;\\\">{{total('SoTienMG') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"DaThanhToan\\\" title=\\\"Đã TT\\\" width=\\\"100\\\" [style]=\\\"{'text-align': 'right'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'right'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.DaThanhToan | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.DaThanhToan.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n\\t\\t\\t\\t\\t\\t<span style=\\\"float: right;\\\">{{total('DaThanhToan') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-messages noRecords=\\\"Không có dữ liệu.\\\" pagerOf=\\\"trong số\\\" pagerItems=\\\"dòng\\\"\\n\\t\\t\\t\\t\\tdetailExpand=\\\"Mở rộng chi tiết\\\" detailCollapse=\\\"Thu gọn chi tiết\\\"> </kendo-grid-messages>\\n\\t\\t\\t</kendo-grid>\\n\\n\\t\\t</div>\\n\\t</fieldset>\\n</div>\\n<div *ngIf=\\\"thongTinSoPhieuDaThu.SoPhieuId != null\\\" class=\\\"sticky-button-action py-3 text-right\\\" kendoTooltip>\\n\\t<button (click)=\\\"phieuIn()\\\" color=\\\"primary\\\" mat-raised-button class=\\\"mr-2\\\">Phiếu in</button>\\n\\t<button style=\\\"margin-top: 10px;\\\"\\n\\t\\t*ngIf=\\\"thongTinSoPhieuDaThu.ConHanHuyPhieuThu && \\n\\t\\t    ((thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi && thongTinSoPhieuDaThu.TinhTrang !== trangThaiThuTienBenhNhan.Huy))\\\"\\n\\t\\ttype=\\\"button\\\" (click)=\\\"huyPhieuThu(thongTinSoPhieuDaThu, false)\\\" color=\\\"warn\\\" mat-raised-button>\\n\\t\\tHủy phiếu thu\\n\\t</button>\\n</div>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.html\":\n/*!**************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.html ***!\n  \\**************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n\\t<div style=\\\"text-transform: uppercase\\\">Kết quả phiếu ({{arrFileUrl.length}} file)</div>\\n\\t<button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n\\t\\t<mat-icon [icIcon]=\\\"icClose\\\" [mat-dialog-close]=\\\"null\\\"></mat-icon>\\n\\t</button>\\n</div>\\n<mat-dialog-content style=\\\"height: 550px\\\">\\n\\t<div class=\\\"container-iframe\\\">\\n\\t\\t<ng-container [ngSwitch]=\\\"arrFileUrl.length > 0\\\">\\n\\t\\t\\t<div *ngSwitchCase=\\\"true\\\">\\n\\t\\t\\t\\t<ng-container *ngFor=\\\"let item of arrFileUrl, let i = index\\\">\\n\\t\\t\\t\\t\\t<iframe id=\\\"{{i}}\\\" width=\\\"100%\\\" height=\\\"550px\\\" frameborder=\\\"0\\\" [src]=\\\"item | safe\\\" type=\\\"application/pdf\\\" allowTransparency=\\\"true\\\" background=\\\"transparent\\\" style=\\\"display: none\\\" onload=\\\"this.style.display = 'block';\\\"></iframe>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div *ngSwitchDefault>Không có dữ liệu</div>\\n\\t\\t</ng-container>\\n\\t</div>\\n</mat-dialog-content>\\n<mat-dialog-actions class=\\\"pb-5\\\">\\n\\t<button type=\\\"button\\\" style=\\\"margin-left: auto\\\" [mat-dialog-close]=\\\"null\\\" mat-button class=\\\"mr-1 mt-4\\\"><i class=\\\"ft-arrow-left\\\"></i> Hủy</button>\\n\\t<button type=\\\"button\\\" *ngIf=\\\"arrFilePdf.length > 0\\\" (click)=\\\"downloadAllFile()\\\" mat-stroked-button color=\\\"primary\\\" class=\\\"mr-1 mt-4\\\">Tải tất cả</button>\\n</mat-dialog-actions>\\n\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc.component.html\":\n/*!****************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc.component.html ***!\n  \\****************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div>\\n\\t<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n\\t\\t<div>XÁC NHẬN HỦY XUẤT THUỐC</div>\\n\\t\\t<button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n\\t\\t\\t<mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n\\t\\t</button>\\n\\t</div>\\n\\t<mat-dialog-content style=\\\"overflow: hidden\\\"  style=\\\"height: 250px;\\\">\\n\\t\\tBạn chắc chắn muốn hủy xuất thuốc của phiếu thu phải không?\\n\\n\\t\\t<div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n\\t\\t\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t\\t\\t\\t<fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t<table class=\\\"table table-border\\\" width=\\\"700px\\\">\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"{{huyXuatThuocTrongNgay.ThuHoiPhieu?'13%':'30%'}}\\\">Nếu phải:</td>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"{{huyXuatThuocTrongNgay.ThuHoiPhieu?'25%':'100%'}}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-radio id=\\\"thuhoiphieu\\\" label=\\\"Thu hồi phiếu\\\" required=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t [(model)]=\\\"huyXuatThuocTrongNgay.ThuHoiPhieu\\\" (modelChange)=\\\"modelChangeThuHoiPhieu($event)\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\t [items]=\\\"[{Value:true,Text:'Rồi'},{Value:false,Text:'Chưa'}]\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\t [validationerror]=\\\"'ThuHoiPhieu' | validationerror:validationErrors\\\"> </app-radio>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"30%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-combobox *ngIf=\\\"huyXuatThuocTrongNgay.ThuHoiPhieu\\\" [popupSettings]=\\\"null\\\" id=\\\"nguoithuhoi\\\" label=\\\"Người thu hồi\\\" [(model)]=\\\"huyXuatThuocTrongNgay.NguoiThuHoiId\\\" [(modelText)]=\\\"huyXuatThuocTrongNgay.TenNguoiThuHoi\\\" url=\\\"NhanVien/GetListLookupNhanVien\\\" required=\\\"true\\\" [validationerror]=\\\"'NguoiThuHoiId' | validationerror:validationErrors\\\"> </app-combobox>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"25%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-datetimepicker *ngIf=\\\"huyXuatThuocTrongNgay.ThuHoiPhieu\\\" [(model)]=\\\"huyXuatThuocTrongNgay.ThoiGianThuHoi\\\" id=\\\"thuhoiluc\\\" label=\\\"Thu hồi Lúc\\\" required=\\\"true\\\" [validationerror]=\\\"'ThoiGianThuHoi' | validationerror:validationErrors\\\"> </app-datetimepicker>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t<fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t<app-textarea max=\\\"4000\\\" [minHeight]=\\\"60\\\" [(model)]=\\\"huyXuatThuocTrongNgay.LyDo\\\" id=\\\"ly-do\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"100%\\\" required=\\\"true\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Lý do\\\" [validationerror]=\\\"'LyDo' | validationerror:validationErrors\\\"> </app-textarea>\\n\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</mat-dialog-content>\\n</div>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n\\t<button mat-button mat-dialog-close>Không</button>\\n\\t<button mat-raised-button mat-button (click)=\\\"xacNhanThongTinHuy()\\\" color=\\\"primary\\\" cdkFocusInitial>Có</button>\\n</mat-dialog-actions>\\n\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component.html\":\n/*!********************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component.html ***!\n  \\********************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div *ngIf=\\\"!thuHoiPhieu\\\">\\n\\t<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n\\t\\t<div>XÁC NHẬN HỦY PHIẾU THU</div>\\n\\t\\t<button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n\\t\\t\\t<mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n\\t\\t</button>\\n\\t</div>\\n\\t<mat-dialog-content style=\\\"overflow: hidden\\\"  style=\\\"height: 250px;\\\">\\n\\t\\tBạn chắc chắn muốn hủy phiếu thu {{thongTinHuyPhieu.TenSoPhieu}} phải không?\\n\\t\\t<div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n\\t\\t\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t\\t\\t\\t<fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t<table class=\\\"table table-border\\\" width=\\\"700px\\\">\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"{{thongTinHuyPhieu.ThuHoiPhieu?'13%':'30%'}}\\\">Nếu phải:</td>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"{{thongTinHuyPhieu.ThuHoiPhieu?'25%':'100%'}}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-radio id=\\\"thuhoiphieu\\\" label=\\\"Thu hồi phiếu\\\" required=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t [(model)]=\\\"thongTinHuyPhieu.ThuHoiPhieu\\\" (modelChange)=\\\"modelChangeThuHoiPhieu($event)\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\t [items]=\\\"[{Value:true,Text:'Rồi'},{Value:false,Text:'Chưa'}]\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\t [validationerror]=\\\"'ThuHoiPhieu' | validationerror:validationErrors\\\"> </app-radio>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"30%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-combobox *ngIf=\\\"thongTinHuyPhieu.ThuHoiPhieu\\\" [popupSettings]=\\\"null\\\" id=\\\"nguoithuhoi\\\" label=\\\"Người thu hồi\\\" [(model)]=\\\"thongTinHuyPhieu.NguoiThuHoiId\\\" [(modelText)]=\\\"thongTinHuyPhieu.TenNguoiThuHoi\\\" url=\\\"NhanVien/GetListLookupNhanVien\\\" required=\\\"true\\\" [validationerror]=\\\"'NguoiThuHoiId' | validationerror:validationErrors\\\"> </app-combobox>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"25%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-datetimepicker *ngIf=\\\"thongTinHuyPhieu.ThuHoiPhieu\\\" [(model)]=\\\"thongTinHuyPhieu.ThoiGianThuHoi\\\" id=\\\"thuhoiluc\\\" label=\\\"Thu hồi Lúc\\\" required=\\\"true\\\" [validationerror]=\\\"'ThoiGianThuHoi' | validationerror:validationErrors\\\"> </app-datetimepicker>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t<fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t<app-textarea max=\\\"4000\\\" [minHeight]=\\\"60\\\" [(model)]=\\\"thongTinHuyPhieu.LyDo\\\" id=\\\"ly-do\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"100%\\\" required=\\\"true\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Lý do\\\" [validationerror]=\\\"'LyDo' | validationerror:validationErrors\\\"> </app-textarea>\\n\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</mat-dialog-content>\\n</div>\\n\\n<div *ngIf=\\\"thuHoiPhieu\\\">\\n\\t<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n\\t\\t<div>CẬP NHẬT THU HỒI PHIẾU THU</div>\\n\\t\\t<button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n\\t\\t\\t<mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n\\t\\t</button>\\n\\t</div>\\n\\t<mat-dialog-content style=\\\"overflow: hidden\\\"  style=\\\"height: 250px;\\\">\\n\\t\\t<div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n\\t\\t\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t\\t\\t\\t<fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t<table class=\\\"table table-border\\\" width=\\\"700px\\\">\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"30%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-combobox [popupSettings]=\\\"null\\\" id=\\\"nguoithuhoi\\\" label=\\\"Người thu hồi\\\" [(model)]=\\\"thongTinHuyPhieu.NguoiThuHoiId\\\" [(modelText)]=\\\"thongTinHuyPhieu.TenNguoiThuHoi\\\" url=\\\"NhanVien/GetListLookupNhanVien\\\" required=\\\"true\\\" [validationerror]=\\\"'NguoiThuHoiId' | validationerror:validationErrors\\\"> </app-combobox>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"25%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-datetimepicker [(model)]=\\\"thongTinHuyPhieu.ThoiGianThuHoi\\\" id=\\\"thuhoiluc\\\" label=\\\"Thu hồi Lúc\\\" required=\\\"true\\\" [validationerror]=\\\"'ThoiGianThuHoi' | validationerror:validationErrors\\\"> </app-datetimepicker>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t<fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t<app-textarea max=\\\"4000\\\" [minHeight]=\\\"60\\\"  [(model)]=\\\"thongTinHuyPhieu.LyDo\\\" id=\\\"ly-do\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"100%\\\" required=\\\"true\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Lý do\\\" [validationerror]=\\\"'LyDo' | validationerror:validationErrors\\\"> </app-textarea>\\n\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</mat-dialog-content>\\n</div>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n\\t<button mat-button mat-dialog-close>Không</button>\\n\\t<button mat-raised-button mat-button (click)=\\\"xacNhanThongTinHuy()\\\" color=\\\"primary\\\" cdkFocusInitial>Có</button>\\n</mat-dialog-actions>\\n\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.scss\":\n/*!************************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.scss ***!\n  \\************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 0;\\n  padding-bottom: 100%;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\nheight_table {\\n  height: 60px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvYXAtZHVuZy1taWVtLWdpYW0tY2hvLXR1bmctbG9haS10aHVvYy1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXGFwLWR1bmctbWllbS1naWFtLWNoby10dW5nLWxvYWktdGh1b2MtcG9wdXBcXGFwLWR1bmctbWllbS1naWFtLWNoby10dW5nLWxvYWktdGh1b2MtcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL2FwLWR1bmctbWllbS1naWFtLWNoby10dW5nLWxvYWktdGh1b2MtcG9wdXAvYXAtZHVuZy1taWVtLWdpYW0tY2hvLXR1bmctbG9haS10aHVvYy1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFNBQUE7RUFDQSxvQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLHVCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vcXVheS10aHVvYy9hcC1kdW5nLW1pZW0tZ2lhbS1jaG8tdHVuZy1sb2FpLXRodW9jLXBvcHVwL2FwLWR1bmctbWllbS1naWFtLWNoby10dW5nLWxvYWktdGh1b2MtcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMDtcbiAgcGFkZGluZy1ib3R0b206IDEwMCU7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG5oZWlnaHRfdGFibGUge1xuICBoZWlnaHQ6IDYwcHggIWltcG9ydGFudDtcbn0iLCIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMDtcbiAgcGFkZGluZy1ib3R0b206IDEwMCU7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG5oZWlnaHRfdGFibGUge1xuICBoZWlnaHQ6IDYwcHggIWltcG9ydGFudDtcbn0iXX0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.ts\":\n/*!**********************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.ts ***!\n  \\**********************************************************************************************************************************************/\n/*! exports provided: ApDungMiemGiamChoTungLoaiThuocPopupComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ApDungMiemGiamChoTungLoaiThuocPopupComponent\", function() { return ApDungMiemGiamChoTungLoaiThuocPopupComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ \"./node_modules/@angular/platform-browser/fesm2015/platform-browser.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore.js\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\nlet ApDungMiemGiamChoTungLoaiThuocPopupComponent = class ApDungMiemGiamChoTungLoaiThuocPopupComponent {\n    constructor(data, sanitizer, notificationService, dialogRef, cdRef) {\n        this.data = data;\n        this.sanitizer = sanitizer;\n        this.notificationService = notificationService;\n        this.dialogRef = dialogRef;\n        this.cdRef = cdRef;\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default.a;\n        this.maxSoTienMiemGiamThem = 0;\n        this.maxPhanTramMiemGiamThem = 0;\n        this.disablePhanTram = false;\n        this.disableSoTien = false;\n        this.disableInputPhanTram = false;\n        this.disableInputSoTien = false;\n        this.tenDichVu = null;\n        this.tongTienTungDichVu = 0;\n        this.tongSoTienDuocMiemGiam = 0;\n        this.loaiMienGiam = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_6__[\"LoaiMienGiam\"];\n        this.loaiChietKhau = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_6__[\"LoaiChietKhau\"];\n        this.tongTatCaSoTienMg = 0;\n        this.danhSachMienGiamVos = [];\n        this.isView = false;\n        this.format = 'n2';\n        this.tiLeBanDau = 0;\n        this.soTienBanDau = 0;\n        this.kiemTraThayDoiSoTienTiLe = false;\n        this.firstApDungDauTien = false;\n        this.tamdanhSachChiPhi = {};\n        this.changeTien = false;\n    }\n    ngOnInit() {\n        this.tamdanhSachChiPhi = JSON.parse(JSON.stringify(this.data.dataItem));\n        this.danhSachChiPhi = Object.assign({}, this.data.dataItem);\n        this.bindCheckboxMienGiamThem(this.data.dataItem);\n        this.danhSachTam = JSON.parse(JSON.stringify(this.data.dataItem));\n        ;\n        this.tongTienTungDichVu = this.soTienTruocKhiMiemGiam();\n        this.tongTienTungDichVu = this.tongTienTungDichVu < 0 ? 0 : this.tongTienTungDichVu;\n        if (this.danhSachChiPhi.DanhSachMienGiamVos != null) {\n            this.tinhSoTienMiemGiam(this.danhSachChiPhi);\n        }\n        this.tenDichVu = this.data.dataItem.TenDichVu;\n    }\n    resetLaiTongSoTienMG() {\n        this.data.dataItem.DanhSachMienGiamVos.forEach((item) => {\n            item.TongTienMiemGiam = 0;\n        });\n    }\n    soTienTruocKhiMiemGiam() {\n        let thanhTien = this.data.dataItem.DonGia * this.data.dataItem.SoLuongMua;\n        let soTienCongNo = 0;\n        if (this.data.dataItem.DanhSachCongNoChoThus != undefined && this.data.dataItem.DanhSachCongNoChoThus.length > 0) {\n            this.data.dataItem.DanhSachCongNoChoThus.forEach(item => {\n                soTienCongNo = soTienCongNo + item.SoTienCongNoChoThu;\n            });\n        }\n        return thanhTien - soTienCongNo;\n    }\n    changePhanTram(ev, item) {\n        if (ev != undefined && ev != null) {\n            item.TiLe = ev;\n        }\n        else {\n            item.TiLe = 0;\n            item.TongTienMiemGiam = 0;\n        }\n        this.tinhSoTienMiemGiamTiLe(this.danhSachChiPhi);\n    }\n    changeSoTien(ev, item) {\n        if (ev != undefined && ev != null) {\n            item.SoTien = ev;\n        }\n        else {\n            item.SoTien = 0;\n            item.TongTienMiemGiam = 0;\n        }\n        this.tinhSoTienMiemGiamSoTienMGT(this.danhSachChiPhi);\n    }\n    kiemTraTiLeVaSoTien() {\n        this.data.dataItem.DanhSachMienGiamVos.forEach(element => {\n            if (element.LoaiMienGiam === 3) {\n                if (this.firstApDungDauTien && element.TiLe === this.tiLeBanDau && element.SoTien === this.soTienBanDau) {\n                    this.kiemTraThayDoiSoTienTiLe = true;\n                }\n            }\n        });\n    }\n    apDungPhanTram(ev, item) {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n        this.disableInputPhanTram = ev;\n        this.firstApDungDauTien = true;\n        this.kiemTraTiLeVaSoTien();\n        this.data.dataItem = Object.assign({}, this.danhSachChiPhi);\n        if (!ev) {\n            item.TiLe = 0;\n            item.TongTienMiemGiam = 0;\n        }\n        this.tinhSoTienMiemGiamTiLe(this.danhSachChiPhi);\n    }\n    apDungSoTien(ev, item) {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n        this.disableInputSoTien = ev;\n        this.firstApDungDauTien = true;\n        this.kiemTraTiLeVaSoTien();\n        this.data.dataItem = Object.assign({}, this.danhSachChiPhi);\n        if (!ev) {\n            item.SoTien = 0;\n            item.TongTienMiemGiam = 0;\n        }\n        this.tinhSoTienMiemGiamSoTienMGT(this.danhSachChiPhi);\n    }\n    resetPhanTram() {\n        this.data.dataItem.DanhSachMienGiamVos.forEach(element => {\n            if (element.LoaiMienGiam === 3 && element.LoaiChietKhau == 1) {\n                element.TiLe = 0;\n                element.TongTienMiemGiam = 0;\n            }\n        });\n    }\n    resetSoTien() {\n        this.data.dataItem.DanhSachMienGiamVos.forEach(element => {\n            if (element.LoaiMienGiam === 3 && element.LoaiChietKhau == 2) {\n                element.SoTien = 0;\n                element.TongTienMiemGiam = 0;\n            }\n        });\n    }\n    replaceAll(str, find, replace) {\n        return str.replace(new RegExp(find, \"g\"), replace);\n    }\n    resetMGT() {\n        this.data.dataItem.DanhSachMienGiamVos.forEach(element => {\n            if (element.LoaiMienGiam === 3 && element.LoaiChietKhau == 1) {\n                element.TiLe = 0;\n                element.TongTienMiemGiam = 0;\n            }\n            if (element.LoaiMienGiam === 3 && element.LoaiChietKhau == 2) {\n                element.SoTien = 0;\n                element.TongTieMiemGiam = 0;\n            }\n        });\n    }\n    close() {\n        this.tamdanhSachChiPhi.apdungMGTThanhCong = false;\n        this.dialogRef.close(this.tamdanhSachChiPhi);\n    }\n    HuyApDungMGT() {\n        this.tamdanhSachChiPhi.apdungMGTThanhCong = false;\n        this.dialogRef.close(this.tamdanhSachChiPhi);\n    }\n    ApDungMGT() {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n        this.data.dataItem.DanhSachMienGiamVos.forEach(element => {\n            if (this.disableInputPhanTram && element.LoaiMienGiam === 3 && element.LoaiChietKhau == 1 && (element.TiLe === undefined || element.TiLe === null || element.TiLe === 0)) {\n                this.validationErrors.push({\n                    Message: \"Vui lòng nhập tỉ lệ miễn giảm.\",\n                    Field: \"TiLe\",\n                });\n            }\n            if (this.disableInputSoTien && element.LoaiMienGiam === 3 && element.LoaiChietKhau == 2 && (element.SoTien === undefined || element.SoTien === null || element.SoTien === 0)) {\n                this.validationErrors.push({\n                    Message: \"Vui lòng nhập số tiền miễn giảm.\",\n                    Field: \"SoTien\",\n                });\n            }\n        });\n        if (this.validationErrors.length > 0) {\n            return false;\n        }\n        else {\n            if (this.disableInputPhanTram || this.disableInputSoTien || this.kiemTraThayDoiSoTienTiLe) {\n                this.data.dataItem.apdungMGTThanhCong = true;\n            }\n            else {\n                this.data.dataItem.apdungMGTThanhCong = false;\n            }\n            if (this.tongTatCaSoTienMg > this.tongTienTungDichVu) {\n                this.notificationService.showError(\"Tổng số tiền miễn giảm lớn hơn số tiền miễn giảm thực tế.\");\n            }\n            else {\n                this.dialogRef.close(this.data.dataItem);\n            }\n        }\n    }\n    tinhSoTienMiemGiamTiLe(dataItem) {\n        this.tongTatCaSoTienMg = 0;\n        var tiLePhanTramConLai = 100;\n        if (this.tongTienTungDichVu !== 0) {\n            var dsMienGiamTheoPhanTram = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 1 && item.TiLe != 0);\n            var dsMienGiamTheoSoTien = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 2 && item.SoTien != 0);\n            dsMienGiamTheoSoTien.forEach(item => {\n                this.tongTatCaSoTienMg += item.TongTienMiemGiam;\n            });\n            if (dsMienGiamTheoPhanTram != null && dsMienGiamTheoPhanTram.length > 0) {\n                //Sắp xếp theo thứ tự:Ưu đãi, Voucher, Miễn giảm thêm\n                dsMienGiamTheoPhanTram = underscore__WEBPACK_IMPORTED_MODULE_7__[\"sortBy\"](dsMienGiamTheoPhanTram, 'LoaiMienGiam');\n                dsMienGiamTheoPhanTram.forEach(item => {\n                    //Nếu tỉ lệ còn lại sau khi đổ từ trên xuống          \n                    item.TongTienMiemGiam = this.tongTienTungDichVu !== 0 ? (item.TiLe * this.tongTienTungDichVu) / 100 : 0;\n                    this.tongTatCaSoTienMg += item.TongTienMiemGiam;\n                    if (item.TiLe >= tiLePhanTramConLai) {\n                        tiLePhanTramConLai = 0;\n                    }\n                    else {\n                        tiLePhanTramConLai = tiLePhanTramConLai - item.TiLe;\n                    }\n                });\n            }\n        }\n    }\n    tinhSoTienMiemGiamSoTienMGT(dataItem) {\n        this.tongTatCaSoTienMg = 0;\n        var soTienConLai = this.tongTienTungDichVu;\n        if (this.tongTienTungDichVu !== 0) {\n            var dsMienGiamTheoSoTien = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 2 && item.SoTien != 0);\n            var dsMienGiamTheoPhanTram = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 1 && item.TiLe != 0);\n            dsMienGiamTheoPhanTram.forEach(item => {\n                this.tongTatCaSoTienMg += item.TongTienMiemGiam;\n            });\n            if (dsMienGiamTheoSoTien != null && dsMienGiamTheoSoTien.length > 0) {\n                //miễm giảm sô tiền nhâp thoải mái\n                dsMienGiamTheoSoTien = underscore__WEBPACK_IMPORTED_MODULE_7__[\"sortBy\"](dsMienGiamTheoSoTien, 'LoaiMienGiam');\n                dsMienGiamTheoSoTien.forEach(item => {\n                    if (item.SoTien >= soTienConLai) {\n                        soTienConLai = 0;\n                    }\n                    else {\n                        soTienConLai = soTienConLai - item.SoTien;\n                    }\n                    item.TongTienMiemGiam = this.tongTienTungDichVu !== 0 ? item.SoTien : 0;\n                    this.tongTatCaSoTienMg += item.TongTienMiemGiam;\n                });\n            }\n        }\n    }\n    tinhSoTienMiemGiam(dataItem) {\n        this.tongTatCaSoTienMg = 0;\n        var tiLePhanTramConLai = 100;\n        var soTienConLai = this.tongTienTungDichVu;\n        var dsMienGiamTheoPhanTram = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 1 && item.TiLe != 0);\n        var dsMienGiamTheoSoTien = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 2 && item.SoTien != 0);\n        if (dsMienGiamTheoPhanTram != null && dsMienGiamTheoPhanTram.length > 0) {\n            //Sắp xếp theo thứ tự:Ưu đãi, Voucher, Miễn giảm thêm\n            dsMienGiamTheoPhanTram = underscore__WEBPACK_IMPORTED_MODULE_7__[\"sortBy\"](dsMienGiamTheoPhanTram, 'LoaiMienGiam');\n            dsMienGiamTheoPhanTram.forEach(item => {\n                //Nếu tỉ lệ còn lại sau khi đổ từ trên xuống\n                if (tiLePhanTramConLai > 0) {\n                    item.TiLe = item.TiLe > tiLePhanTramConLai ? tiLePhanTramConLai : item.TiLe;\n                }\n                else {\n                    item.TiLe = 0;\n                }\n                item.TongTienMiemGiam = this.tongTienTungDichVu !== 0 ? (item.TiLe * this.tongTienTungDichVu) / 100 : 0;\n                this.tongTatCaSoTienMg += item.TongTienMiemGiam;\n                if (item.TiLe >= tiLePhanTramConLai) {\n                    tiLePhanTramConLai = 0;\n                }\n                else {\n                    tiLePhanTramConLai = tiLePhanTramConLai - item.TiLe;\n                }\n            });\n        }\n        if (tiLePhanTramConLai > 0 && dsMienGiamTheoSoTien != null && dsMienGiamTheoSoTien.length > 0) {\n            tiLePhanTramConLai = dsMienGiamTheoPhanTram != null && dsMienGiamTheoPhanTram.length > 0 ? tiLePhanTramConLai : 0;\n            soTienConLai = tiLePhanTramConLai != 0 ? ((dataItem.ThanhTien * tiLePhanTramConLai) / 100) : dataItem.ThanhTien;\n            //Sắp xếp theo thứ tự:Ưu đãi, Voucher, Miễn giảm thêm\n            dsMienGiamTheoSoTien = underscore__WEBPACK_IMPORTED_MODULE_7__[\"sortBy\"](dsMienGiamTheoSoTien, 'LoaiMienGiam');\n            dsMienGiamTheoSoTien.forEach(item => {\n                //Nếu số tiền còn lại sau khi đổ từ trên xuống\n                if (soTienConLai > 0) {\n                    item.SoTien = item.SoTien > soTienConLai ? soTienConLai : item.SoTien;\n                }\n                else {\n                    item.SoTien = 0;\n                }\n                item.TongTienMiemGiam = this.tongTienTungDichVu !== 0 ? item.SoTien : 0;\n                this.tongTatCaSoTienMg += item.TongTienMiemGiam;\n                if (item.SoTien >= soTienConLai) {\n                    soTienConLai = 0;\n                }\n                else {\n                    soTienConLai = soTienConLai - item.SoTien;\n                }\n            });\n        }\n    }\n    //=====================Xử lý miễn giảm thêm bind giá trị miễm giám thêm và checkbox =================================     \n    bindCheckboxMienGiamThem(dataItem) {\n        if (dataItem.DanhSachMienGiamVos != null) {\n            dataItem.DanhSachMienGiamVos.filter(item => item.LoaiMienGiam === 3).forEach(item => {\n                if (item.LoaiChietKhau === this.loaiChietKhau.ChietKhauTheoTiLe) {\n                    if (item.TiLe != null && item.TiLe != 0) {\n                        this.disablePhanTram = true;\n                        this.disableInputPhanTram = true;\n                        this.tiLeBanDau = item.TiLe;\n                    }\n                    else {\n                        this.disablePhanTram = false;\n                        this.disableInputPhanTram = false;\n                        item.TongTienMiemGiam = 0;\n                    }\n                }\n                if (item.LoaiChietKhau === this.loaiChietKhau.ChietKhauTheoSoTien) {\n                    if (item.SoTien != null && item.SoTien != 0) {\n                        this.disableSoTien = true;\n                        this.disableInputSoTien = true;\n                        this.soTienBanDau = item.SoTien;\n                    }\n                    else {\n                        this.disableSoTien = false;\n                        this.disableInputSoTien = false;\n                        item.TongTienMiemGiam = 0;\n                    }\n                }\n            });\n        }\n    }\n};\nApDungMiemGiamChoTungLoaiThuocPopupComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__[\"DomSanitizer\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__[\"NotificationService\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] },\n    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"] }\n];\nApDungMiemGiamChoTungLoaiThuocPopupComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-ap-dung-miem-giam-cho-tung-loai-thuoc-popup',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.scss */ \"./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], ApDungMiemGiamChoTungLoaiThuocPopupComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component.scss\":\n/*!******************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component.scss ***!\n  \\******************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 0;\\n  padding-bottom: 100%;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvYXAtZHVuZy1taWVtLWdpYW0tdGhlbS1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXGFwLWR1bmctbWllbS1naWFtLXRoZW0tcG9wdXBcXGFwLWR1bmctbWllbS1naWFtLXRoZW0tcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL2FwLWR1bmctbWllbS1naWFtLXRoZW0tcG9wdXAvYXAtZHVuZy1taWVtLWdpYW0tdGhlbS1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFNBQUE7RUFDQSxvQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL2FwLWR1bmctbWllbS1naWFtLXRoZW0tcG9wdXAvYXAtZHVuZy1taWVtLWdpYW0tdGhlbS1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAwO1xuICBwYWRkaW5nLWJvdHRvbTogMTAwJTtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59IiwiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDA7XG4gIHBhZGRpbmctYm90dG9tOiAxMDAlO1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn0iXX0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component.ts\":\n/*!****************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component.ts ***!\n  \\****************************************************************************************************************/\n/*! exports provided: ApDungMiemGiamThemPopupComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ApDungMiemGiamThemPopupComponent\", function() { return ApDungMiemGiamThemPopupComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ \"./node_modules/@angular/platform-browser/fesm2015/platform-browser.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n\n\n\n\n\n\nlet ApDungMiemGiamThemPopupComponent = class ApDungMiemGiamThemPopupComponent {\n    constructor(data, sanitizer, cdRef, dialogRef) {\n        this.data = data;\n        this.sanitizer = sanitizer;\n        this.cdRef = cdRef;\n        this.dialogRef = dialogRef;\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default.a;\n        this.disablePhanTram = true;\n        this.disableSoTien = true;\n        this.apDungMiemGiamThem = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"ApDungMiemGiamThem\"];\n    }\n    ngOnInit() {\n    }\n    apDungPhanTram(ev) {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n        this.disablePhanTram = !ev;\n        this.apDungMiemGiamThem.TiLe = 0;\n    }\n    apDungSoTien(ev) {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n        this.disableSoTien = !ev;\n        this.apDungMiemGiamThem.SoTien = 0;\n    }\n    replaceAll(str, find, replace) {\n        return str.replace(new RegExp(find, \"g\"), replace);\n    }\n    HuyApDungMGT() {\n        this.dialogRef.close(null);\n    }\n    ApDungMGT() {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n        if (this.apDungMiemGiamThem.ChietKhauTheoTiLe && (this.apDungMiemGiamThem.TiLe === undefined || this.apDungMiemGiamThem.TiLe === 0)) {\n            this.validationErrors.push({\n                Message: \"Vui lòng nhập tỉ lệ miễn giảm.\",\n                Field: \"TiLe\",\n            });\n        }\n        if (this.apDungMiemGiamThem.ChietKhauTheoSoTien && (this.apDungMiemGiamThem.SoTien === undefined || this.apDungMiemGiamThem.SoTien === 0)) {\n            this.validationErrors.push({\n                Message: \"Vui lòng nhập số tiền miễn giảm.\",\n                Field: \"SoTien\",\n            });\n        }\n        if (this.validationErrors.length > 0) {\n            return false;\n        }\n        else {\n            this.dialogRef.close(this.apDungMiemGiamThem);\n        }\n        //====================================trường hơp ko chọn gì hết====================================\n        if (!this.apDungMiemGiamThem.ChietKhauTheoTiLe && !this.apDungMiemGiamThem.ChietKhauTheoSoTien) {\n            this.dialogRef.close(null);\n        }\n        //=================================================================================================\n    }\n    close() {\n        this.dialogRef.close(null);\n    }\n};\nApDungMiemGiamThemPopupComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__[\"DomSanitizer\"] },\n    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] }\n];\nApDungMiemGiamThemPopupComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-ap-dung-miem-giam-them-popup',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./ap-dung-miem-giam-them-popup.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./ap-dung-miem-giam-them-popup.component.scss */ \"./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], ApDungMiemGiamThemPopupComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component.scss\":\n/*!********************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component.scss ***!\n  \\********************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvaW4tYmFuZy10aHUtdGllbi1wb3AtdXAvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxxdWF5LXRodW9jXFxpbi1iYW5nLXRodS10aWVuLXBvcC11cFxcaW4tYmFuZy10aHUtdGllbi1wb3AtdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL2luLWJhbmctdGh1LXRpZW4tcG9wLXVwL2luLWJhbmctdGh1LXRpZW4tcG9wLXVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL2luLWJhbmctdGh1LXRpZW4tcG9wLXVwL2luLWJhbmctdGh1LXRpZW4tcG9wLXVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwMHB4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn0iLCIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTAwcHg7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSJdfQ== */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component.ts\":\n/*!******************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component.ts ***!\n  \\******************************************************************************************************/\n/*! exports provided: InBangThuTienPopUpComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InBangThuTienPopUpComponent\", function() { return InBangThuTienPopUpComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ \"./node_modules/@angular/material/esm2015/dialog.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser */ \"./node_modules/@angular/platform-browser/fesm2015/platform-browser.js\");\n\n\n\n\n\nlet InBangThuTienPopUpComponent = class InBangThuTienPopUpComponent {\n    constructor(data, sanitizer, dialog) {\n        this.data = data;\n        this.sanitizer = sanitizer;\n        this.dialog = dialog;\n        this.src = '';\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3___default.a;\n        this.kiemtraPhieuInManhinh = false;\n    }\n    ngOnInit() {\n        this.modelPrint = this.data.Model;\n        this.kiemtraPhieuInManhinh = this.data.InDonThuocDanhSachList;\n        this.InPhieuThu = this.data.InPhieuThu;\n        this.InBangKe = this.data.InBangKe;\n        this.src = 'data:text/html;charset=utf-8,' + encodeURIComponent(this.data.Model);\n    }\n    InPhieu(loaiPhieu) {\n        this.loaiPhieu = loaiPhieu;\n        this.getSharedPrintForm();\n    }\n    getSharedPrintForm() {\n        const tmpBangKeThu = '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>BẢNG KÊ THU TIỀN THUỐC</th></tr></table>';\n        const tmpPhieuThu = '<table class=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU THU</th></tr></table>';\n        let data;\n        data = this.modelPrint.replace(tmpBangKeThu, '');\n        data = data.replace(tmpPhieuThu, '');\n        // in 2 phieu theo ngang-doc kho a5\n        let dataphieukeThuTienThuoc = data.split('<div class=\\\"pagebreak\\\"></div>');\n        if (this.loaiPhieu == 1) {\n            return new Promise(resolve => {\n                resolve(dataphieukeThuTienThuoc[0]);\n            });\n        }\n        else {\n            if (dataphieukeThuTienThuoc[1] != undefined || dataphieukeThuTienThuoc[1] != null) {\n                return new Promise(resolve => {\n                    resolve(dataphieukeThuTienThuoc[1]);\n                });\n            }\n            else {\n                let message = \"Không có phiếu thu tiền\";\n                return new Promise(resolve => {\n                    resolve(message);\n                });\n            }\n        }\n    }\n    close() {\n        this.dialog.closeAll();\n    }\n};\nInBangThuTienPopUpComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__[\"DomSanitizer\"] },\n    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MatDialog\"] }\n];\nInBangThuTienPopUpComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        // tslint:disable-next-line: component-selector\n        selector: 'app-in-bang-thu-tien-pop-up',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./in-bang-thu-tien-pop-up.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./in-bang-thu-tien-pop-up.component.scss */ \"./src/app/modules/main/quay-thuoc/in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], InBangThuTienPopUpComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/in-don-thuoc-pop-up/in-don-thuoc-pop-up.component.scss\":\n/*!************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/in-don-thuoc-pop-up/in-don-thuoc-pop-up.component.scss ***!\n  \\************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvaW4tZG9uLXRodW9jLXBvcC11cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXGluLWRvbi10aHVvYy1wb3AtdXBcXGluLWRvbi10aHVvYy1wb3AtdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL2luLWRvbi10aHVvYy1wb3AtdXAvaW4tZG9uLXRodW9jLXBvcC11cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vcXVheS10aHVvYy9pbi1kb24tdGh1b2MtcG9wLXVwL2luLWRvbi10aHVvYy1wb3AtdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTAwcHg7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSIsIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59Il19 */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/in-don-thuoc-pop-up/in-don-thuoc-pop-up.component.ts\":\n/*!**********************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/in-don-thuoc-pop-up/in-don-thuoc-pop-up.component.ts ***!\n  \\**********************************************************************************************/\n/*! exports provided: InDonThuocPopUpComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InDonThuocPopUpComponent\", function() { return InDonThuocPopUpComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ \"./node_modules/@angular/material/esm2015/dialog.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser */ \"./node_modules/@angular/platform-browser/fesm2015/platform-browser.js\");\n\n\n\n\n\nlet InDonThuocPopUpComponent = class InDonThuocPopUpComponent {\n    constructor(data, sanitizer, dialog) {\n        this.data = data;\n        this.sanitizer = sanitizer;\n        this.dialog = dialog;\n        this.src = '';\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3___default.a;\n        this.kiemtraPhieuInManhinh = false;\n    }\n    ngOnInit() {\n        this.modelPrint = this.data.Model;\n        this.kiemtraPhieuInManhinh = this.data.InDonThuocDanhSachList;\n        this.InPhieuThu = this.data.InPhieuThu;\n        this.InBangKe = this.data.InBangKe;\n        this.src = 'data:text/html;charset=utf-8,' + encodeURIComponent(this.data.Model);\n    }\n    InPhieu(loaiPhieu) {\n        this.loaiPhieu = loaiPhieu;\n        this.getSharedPrintForm();\n    }\n    getSharedPrintForm() {\n        const tmpBHYT = \"<p  style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'>\" +\n            \"<th>TOA THUỐC BẢO HIỂM Y TẾ</th>\" +\n            \"</p>\";\n        const tmpKBHYT = \"<p  style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'>\" +\n            \"<th>TOA THUỐC KHÔNG BẢO HIỂM Y TẾ</th>\" +\n            \"</p>\";\n        const tmpTNBV = \"<p  style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'>\" +\n            \"<th>TOA THUỐC NGOÀI BỆNH VIỆN</ th>\" +\n            \"</p>\";\n        const tmpTuVan = \"<p  style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'>\" +\n            \"<th>ĐƠN TƯ VẤN</ th>\" +\n            \"</p>\";\n        let data;\n        data = this.modelPrint.replace(tmpBHYT, '');\n        data = data.replace(tmpKBHYT, '');\n        data = data.replace(tmpKBHYT, '');\n        data = data.replace(tmpTuVan, '');\n        data = data.replace(tmpTNBV, '');\n        // in 2 phieu theo ngang-doc kho a5\n        let dataphieukeThuTienThuoc = data.split('<div class=\\\"pagebreak\\\"></div>');\n        if (this.loaiPhieu == 1) {\n            return new Promise(resolve => {\n                resolve(dataphieukeThuTienThuoc[0]);\n            });\n        }\n        else {\n            if (dataphieukeThuTienThuoc[1] != undefined || dataphieukeThuTienThuoc[1] != null) {\n                return new Promise(resolve => {\n                    resolve(dataphieukeThuTienThuoc[1]);\n                });\n            }\n            else {\n                let message = \"Không có phiếu thu tiền\";\n                return new Promise(resolve => {\n                    resolve(message);\n                });\n            }\n        }\n    }\n    close() {\n        this.dialog.closeAll();\n    }\n};\nInDonThuocPopUpComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__[\"DomSanitizer\"] },\n    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MatDialog\"] }\n];\nInDonThuocPopUpComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-in-don-thuoc-pop-up',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./in-don-thuoc-pop-up.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/in-don-thuoc-pop-up/in-don-thuoc-pop-up.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./in-don-thuoc-pop-up.component.scss */ \"./src/app/modules/main/quay-thuoc/in-don-thuoc-pop-up/in-don-thuoc-pop-up.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], InDonThuocPopUpComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/lich-su-quay-thuoc/lich-su-quay-thuoc.model.ts\":\n/*!****************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/lich-su-quay-thuoc/lich-su-quay-thuoc.model.ts ***!\n  \\****************************************************************************************/\n/*! exports provided: QuayXuatThuoc, TagItem, BenhNhanThongTin, DanhSachThuoc, XacNhanInViewModel, XacNhanInThuocViewModel, ExportQueryInfoQueryInfo */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayXuatThuoc\", function() { return QuayXuatThuoc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TagItem\", function() { return TagItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BenhNhanThongTin\", function() { return BenhNhanThongTin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DanhSachThuoc\", function() { return DanhSachThuoc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XacNhanInViewModel\", function() { return XacNhanInViewModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XacNhanInThuocViewModel\", function() { return XacNhanInThuocViewModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ExportQueryInfoQueryInfo\", function() { return ExportQueryInfoQueryInfo; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n// export class QuayXuatThuoc {\n//     constructor(\n//         public Id: number = 0,\n//         public MaTN: string = null,\n//         public MaBN: string = null,\n//         public HoTen: string = null,\n//         public SoDon: string = \"\",\n\n//         public ThoiDiemCapPhatThuoc: string = null,\n//         public NgayThuStr: string = null,\n//     ) { }\n// }\nclass QuayXuatThuoc {\n    constructor(ThoiDiemTiepNhanTuFormat = null, ThoiDiemTiepNhanDenFormat = null, FromDate = null, ToDate = null) {\n        this.ThoiDiemTiepNhanTuFormat = ThoiDiemTiepNhanTuFormat;\n        this.ThoiDiemTiepNhanDenFormat = ThoiDiemTiepNhanDenFormat;\n        this.FromDate = FromDate;\n        this.ToDate = ToDate;\n    }\n}\nclass TagItem {\n    constructor(Key = null, Value = null, ValueDisplay = null, Title = null) {\n        this.Key = Key;\n        this.Value = Value;\n        this.ValueDisplay = ValueDisplay;\n        this.Title = Title;\n    }\n}\nclass BenhNhanThongTin {\n    constructor(Id = null, MaBN = null, MaYeuCauTiepNhan = null, HoTen = null, GioiTinh = null, GioiTinhHienThi = null, NamSinh = null, DiaChi = null, DiaChiDayDu = null, SoDienThoai = null, Email = null, SoDuTaiKhoan = 0) {\n        this.Id = Id;\n        this.MaBN = MaBN;\n        this.MaYeuCauTiepNhan = MaYeuCauTiepNhan;\n        this.HoTen = HoTen;\n        this.GioiTinh = GioiTinh;\n        this.GioiTinhHienThi = GioiTinhHienThi;\n        this.NamSinh = NamSinh;\n        this.DiaChi = DiaChi;\n        this.DiaChiDayDu = DiaChiDayDu;\n        this.SoDienThoai = SoDienThoai;\n        this.Email = Email;\n        this.SoDuTaiKhoan = SoDuTaiKhoan;\n    }\n}\nclass DanhSachThuoc {\n    constructor(Id = 0, ThuocBHYT = [], ThuocKhongBHYT = []) {\n        this.Id = Id;\n        this.ThuocBHYT = ThuocBHYT;\n        this.ThuocKhongBHYT = ThuocKhongBHYT;\n    }\n}\nclass XacNhanInViewModel {\n    constructor(TaiKhoanBenhNhanThuId = null, InPhieuThu = null, InBangKe = null, Hosting = null) {\n        this.TaiKhoanBenhNhanThuId = TaiKhoanBenhNhanThuId;\n        this.InPhieuThu = InPhieuThu;\n        this.InBangKe = InBangKe;\n        this.Hosting = Hosting;\n    }\n}\nclass XacNhanInThuocViewModel {\n    constructor(TiepNhanId = null, Hosting = null, IsBhyt = null) {\n        this.TiepNhanId = TiepNhanId;\n        this.Hosting = Hosting;\n        this.IsBhyt = IsBhyt;\n    }\n}\nclass ExportQueryInfoQueryInfo {\n    constructor(Skip = 0, Take = 50, PageSize = 50, SearchString = \"\", AdditionalSearchString = \"\", \n    // public searchTerms: string = \"\",\n    Sort = []) {\n        this.Skip = Skip;\n        this.Take = Take;\n        this.PageSize = PageSize;\n        this.SearchString = SearchString;\n        this.AdditionalSearchString = AdditionalSearchString;\n        this.Sort = Sort;\n    }\n}\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component.scss\":\n/*!************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component.scss ***!\n  \\************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtY2hvLXRoYW5oLXRvYW4vcXVheS10aHVvYy1jaG8tdGhhbmgtdG9hbi5jb21wb25lbnQuc2NzcyJ9 */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component.ts\":\n/*!**********************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component.ts ***!\n  \\**********************************************************************************************************/\n/*! exports provided: QuayThuocChoThanhToanComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocChoThanhToanComponent\", function() { return QuayThuocChoThanhToanComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var _quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.ts\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var src_app_modules_main_quay_thuoc_quay_thuoc_list_quay_thuoc_list_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/modules/main/quay-thuoc/quay-thuoc-list/quay-thuoc-list.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-list/quay-thuoc-list.component.ts\");\n/* harmony import */ var src_app_core_utilities_local_storage_helper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/core/utilities/local-storage.helper */ \"./src/app/core/utilities/local-storage.helper.ts\");\n/* harmony import */ var src_app_shared_component_grid_grid_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/shared/component/grid/grid.component */ \"./src/app/shared/component/grid/grid.component.ts\");\n\n\n\n\n\n\n\n\nlet QuayThuocChoThanhToanComponent = class QuayThuocChoThanhToanComponent {\n    constructor(router, route, cd, dialog) {\n        this.router = router;\n        this.route = route;\n        this.cd = cd;\n        this.dialog = dialog;\n        this.id = 0;\n        this.typeDanhSachThanhToan = 0;\n        this.xacNhanIn = false;\n    }\n    ngOnInit() {\n        this.route.queryParams.subscribe(params => {\n            this.id = params.page; // id là đã thanh toán\n            this.hoquerySearch = params.hoQuerysearch;\n        });\n        if (this.id == undefined) {\n            src_app_core_utilities_local_storage_helper__WEBPACK_IMPORTED_MODULE_6__[\"LocalStorageHelper\"].removeItem(\"additionalSearchStringChiTietNhaThuoc\");\n        }\n        if (this.id == 1) {\n            this.typeDanhSachThanhToan = 1;\n            var searching = src_app_core_utilities_local_storage_helper__WEBPACK_IMPORTED_MODULE_6__[\"LocalStorageHelper\"].getItem(\"additionalSearchStringChiTietNhaThuoc\");\n            this.queryStringSearchUuTien = searching;\n        }\n        if (this.id == 2) {\n            this.typeDanhSachThanhToan = 2;\n            var searching = src_app_core_utilities_local_storage_helper__WEBPACK_IMPORTED_MODULE_6__[\"LocalStorageHelper\"].getItem(\"additionalSearchStringChiTietNhaThuoc\");\n            this.queryStringSearchUuTien = searching;\n        }\n        if (this.id == 3) {\n            this.typeDanhSachThanhToan = 3;\n            var searching = src_app_core_utilities_local_storage_helper__WEBPACK_IMPORTED_MODULE_6__[\"LocalStorageHelper\"].getItem(\"additionalSearchStringChiTietNhaThuoc\");\n            this.queryStringSearchUuTien = searching;\n        }\n        if (this.id == 0) {\n            this.typeDanhSachThanhToan = 0;\n            var searching = src_app_core_utilities_local_storage_helper__WEBPACK_IMPORTED_MODULE_6__[\"LocalStorageHelper\"].getItem(\"additionalSearchStringChiTietNhaThuoc\");\n            this.queryStringSearchUuTien = searching;\n        }\n    }\n    getonHaddleDataSearch(event) {\n        this.dataQuayThuocSearch = event;\n    }\n    ToKhachVangLai(typeDanhSachThanhToan) {\n        //this.router.navigate(['nha-thuoc'], { queryParams: { page: type} });\n        this.router.navigate(['nha-thuoc/khach-vang-lai'], { queryParams: { page: typeDanhSachThanhToan } });\n    }\n    getkiemTraDonThuocThanhToan(event) {\n        this.cd.detectChanges();\n        // this.typeDanhSachThanhToan = event;\n    }\n    getonHaddleUuTienSearch(event) {\n        // this.gridQuayThuocList.queryStringSearchUuTien = null;\n        this.queryStringSearchUuTien = event;\n        this.cd.detectChanges();\n    }\n    KiemTraeXportExel(event) {\n        this.xacNhanIn = event;\n    }\n    getData(event) {\n        this.benhNhan = event;\n        // if (this.benhNhan.YeuCauTiepNhanId > 0) {\n        //   this.router.navigate(['nha-thuoc/mua-thuoc/' + this.benhNhan.YeuCauTiepNhanId + '/' + this.benhNhan.MaBenhNhan + '/' + event.TrangThaiThanhToan + '/'+ this.typeDanhSachThanhToan]);\n        // }\n        // else {\n        //   if(this.benhNhan.)\n        //   this.router.navigate(['nha-thuoc/mua-toa-cu/' + this.benhNhan.MaBenhNhan + '/' + this.typeDanhSachThanhToan]);\n        // }\n        if (event.Id > 0) {\n            // this.router.navigate(['nha-thuoc/mua-thuoc/' + event.Id + '/' + event.MaBN + '/' + event.TrangThaiThanhToan + '/'+ this.typeDanhSachThanhToan]);\n            this.router.navigate(['nha-thuoc/mua-thuoc/' + event.Id + '/' + event.MaBN + '/' + event.TrangThai + '/' + this.typeDanhSachThanhToan]);\n        }\n        else {\n            if (event.DonThuocThanhToanExits == true) {\n                this.router.navigate(['nha-thuoc/mua-toa-cu/' + event.MaBN + '/' + this.typeDanhSachThanhToan]);\n            }\n            else {\n                let dialogRef = this.dialog.open(_quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_component__WEBPACK_IMPORTED_MODULE_3__[\"QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent\"], {\n                    disableClose: true,\n                    width: '500px',\n                    data: { Model: event, KiemTraThanhToan: this.typeDanhSachThanhToan, Title: \"XÁC NHẬN\" }\n                }).afterClosed().subscribe(result => {\n                });\n            }\n        }\n    }\n};\nQuayThuocChoThanhToanComponent.ctorParameters = () => [\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__[\"Router\"] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__[\"ActivatedRoute\"] },\n    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_4__[\"MatDialog\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])(src_app_shared_component_grid_grid_component__WEBPACK_IMPORTED_MODULE_7__[\"GridComponent\"], { static: true })\n], QuayThuocChoThanhToanComponent.prototype, \"gridChild\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])(src_app_modules_main_quay_thuoc_quay_thuoc_list_quay_thuoc_list_component__WEBPACK_IMPORTED_MODULE_5__[\"QuayThuocListComponent\"], { static: true })\n], QuayThuocChoThanhToanComponent.prototype, \"gridQuayThuocList\", void 0);\nQuayThuocChoThanhToanComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-cho-thanh-toan',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-cho-thanh-toan.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-cho-thanh-toan.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component.scss\")).default]\n    })\n], QuayThuocChoThanhToanComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-cho-xuat-thuoc/quay-thuoc-cho-xuat-thuoc.component.scss\":\n/*!************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-cho-xuat-thuoc/quay-thuoc-cho-xuat-thuoc.component.scss ***!\n  \\************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtY2hvLXh1YXQtdGh1b2MvcXVheS10aHVvYy1jaG8teHVhdC10aHVvYy5jb21wb25lbnQuc2NzcyJ9 */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-cho-xuat-thuoc/quay-thuoc-cho-xuat-thuoc.component.ts\":\n/*!**********************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-cho-xuat-thuoc/quay-thuoc-cho-xuat-thuoc.component.ts ***!\n  \\**********************************************************************************************************/\n/*! exports provided: QuayThuocChoXuatThuocComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocChoXuatThuocComponent\", function() { return QuayThuocChoXuatThuocComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/shared/component/dialogs/confirm/confirm.component */ \"./src/app/shared/component/dialogs/confirm/confirm.component.ts\");\n/* harmony import */ var src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/shared/component/dialogs/loading/loading.component */ \"./src/app/shared/component/dialogs/loading/loading.component.ts\");\n/* harmony import */ var _thong_tin_phieu_pdf_popup_thong_tin_phieu_pdf_popup_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component */ \"./src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.ts\");\n\n\n\n\n\n\n\n\n\n\nlet QuayThuocChoXuatThuocComponent = class QuayThuocChoXuatThuocComponent {\n    constructor(route, dialog, apiService, router, notificationService) {\n        this.route = route;\n        this.dialog = dialog;\n        this.apiService = apiService;\n        this.router = router;\n        this.notificationService = notificationService;\n        this.id = this.route.snapshot.params.id;\n        this.gridColumns = [];\n        this.dataSourcedanhsachThuocBHYT = {\n            data: [],\n            total: 0\n        };\n        this.dataSourcedanhsachThuocKhongBHYT = {\n            data: [],\n            total: 0\n        };\n    }\n    ngOnInit() {\n        this.danhSachThuoc = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_4__[\"danhSachThuoc\"]();\n        this.GetThongTinDonThuoc(this.id);\n        this.gridColumns = [\n            { Field: \"STT\", Title: \"#\", Width: 40, Sortable: false },\n            { Field: \"TenDuocPham\", Title: \"Tên Thuốc\", Width: 190, Sortable: false },\n            { Field: \"NongDoVaHamLuong\", Title: \"Nồng độ / hàm lượng\", Width: 185, Sortable: false },\n            { Field: \"MaHoatChat\", Title: \"Hoạt chất\", Width: 185, Sortable: false },\n            { Field: \"DonViTinh\", Title: \"ĐVT\", Width: 94, Sortable: false },\n            { Field: \"SoLuongMua\", Title: \"SL Mua\", Width: 110, Sortable: false },\n            { Field: \"DonGia\", Title: \"Đơn giá\", Width: 129, Sortable: false, Template: this.donGiaTemplate },\n            { Field: \"ThanhTien\", Title: \"Thành tiền\", Width: 147, Sortable: false, Template: this.thanhTienTemplate },\n            { Field: \"Solo\", Title: \"Số lô\", Width: 109, Sortable: false },\n            { Field: \"HanSuDungHientThi\", Title: \"Hạn sử dụng\", Width: 146, Sortable: false },\n        ];\n    }\n    ngOnChanges() {\n        if (this.flagOnce == false) {\n            this.GetThongTinDonThuoc(this.id);\n            this.flagOnce = true;\n        }\n    }\n    loadingPage() {\n        var self = this;\n        var dialogRef = self.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_8__[\"LoadingComponent\"], {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: \"Đang tải dữ liệu...\" }\n        });\n    }\n    GetThongTinDonThuoc(id) {\n        var self = this;\n        var dialogRef = self.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_8__[\"LoadingComponent\"], {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: \"Đang tải dữ liệu...\" }\n        });\n        // this.apiService.post<Array<any>>(\"QuayThuoc/GetDanhSachXuatThuocBHYT?tiepNhanId=\" + id).subscribe(\n        //     resultData => {\n        //         this.dataSourcedanhsachThuocBHYT.data = resultData;\n        //         let index = 1;\n        //         this.dataSourcedanhsachThuocBHYT.data.forEach(x => {\n        //             x.STT = index;\n        //             index++;\n        //         });\n        //         this.danhSachThuoc.ThuocBHYT = [...this.dataSourcedanhsachThuocBHYT.data]\n        //     },\n        //     () => { });\n        this.apiService.post(\"QuayThuoc/GetDanhSachXuatThuocKhongBHYT?tiepNhanId=\" + id).subscribe(resultData => {\n            this.dataSourcedanhsachThuocKhongBHYT.data = resultData;\n            let index = 1;\n            this.dataSourcedanhsachThuocKhongBHYT.data.forEach(x => {\n                x.STT = index;\n                index++;\n            });\n            this.danhSachThuoc.ThuocKhongBHYT = [...this.dataSourcedanhsachThuocKhongBHYT.data];\n        }, () => { });\n        dialogRef.close();\n    }\n    GuiData() {\n        this.danhSachThuoc.Id = this.id;\n        this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_7__[\"ConfirmComponent\"], {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn xuất đơn thuốc này?\" }\n        }).afterClosed().subscribe(result => {\n            if (result == \"Yes\") {\n                this.apiService.post(\"QuayThuoc/XuatDonThuocBHYT\", this.danhSachThuoc).subscribe(resultData => {\n                    if (resultData != null && resultData != undefined && resultData != \"\") {\n                        this.notificationService.showError(resultData);\n                    }\n                    else {\n                        if (this.ttcheck == 1) {\n                            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck, hoQuerysearch: false } });\n                        }\n                        if (this.ttcheck == 2) {\n                            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck, hoQuerysearch: false } });\n                        }\n                        if (this.ttcheck == 3) {\n                            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck, hoQuerysearch: false } });\n                        }\n                        if (this.ttcheck == 0) {\n                            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck, hoQuerysearch: false } });\n                        }\n                    }\n                }, (err) => {\n                });\n            }\n        });\n    }\n    KeThuoc() {\n        this.showPopupLoadingIn();\n        var data = {\n            Hosting: null,\n            TiepNhanId: this.id\n        };\n        data.Hosting = window.location.protocol + '//' + window.location.host;\n        this.apiService.postExportPdf(\"QuayThuoc/XacNhanInThuocCoBhyt\", data).subscribe((resultData) => {\n            if (resultData != undefined && resultData != null) {\n                this.dialog.open(_thong_tin_phieu_pdf_popup_thong_tin_phieu_pdf_popup_component__WEBPACK_IMPORTED_MODULE_9__[\"ThongTinPhieuPdfPopupComponent\"], {\n                    disableClose: true,\n                    width: '1000px',\n                    data: { Model: resultData }\n                }).afterClosed().subscribe(() => {\n                    this.closePopupLoadingData();\n                });\n            }\n        }, (err) => {\n            if (err.Message !== 'Validation Failed') {\n                this.notificationService.showError(err.Message);\n            }\n            this.closePopupLoadingData();\n        });\n    }\n    showPopupLoadingIn() {\n        this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_8__[\"LoadingComponent\"], {\n            disableClose: true,\n            width: '250px',\n            height: '90px',\n            data: { Title: 'Đang loading...' },\n        });\n    }\n    closePopupLoadingData() {\n        this.dialog.closeAll();\n    }\n};\nQuayThuocChoXuatThuocComponent.ctorParameters = () => [\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__[\"ActivatedRoute\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_6__[\"MatDialog\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__[\"ApiService\"] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__[\"Router\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__[\"NotificationService\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('donGiaTemplate', { static: true })\n], QuayThuocChoXuatThuocComponent.prototype, \"donGiaTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienTemplate', { static: true })\n], QuayThuocChoXuatThuocComponent.prototype, \"thanhTienTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocChoXuatThuocComponent.prototype, \"flagOnce\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocChoXuatThuocComponent.prototype, \"trangThaiXuatThuoc\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocChoXuatThuocComponent.prototype, \"ttcheck\", void 0);\nQuayThuocChoXuatThuocComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-cho-xuat-thuoc',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-cho-xuat-thuoc.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-cho-xuat-thuoc/quay-thuoc-cho-xuat-thuoc.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-cho-xuat-thuoc.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-cho-xuat-thuoc/quay-thuoc-cho-xuat-thuoc.component.scss\")).default]\n    })\n], QuayThuocChoXuatThuocComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component.scss\":\n/*!************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component.scss ***!\n  \\************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"#SoLuongTon input {\\n  font-weight: bold;\\n  color: green;\\n}\\n\\n.color-red {\\n  color: red;\\n}\\n\\n.reverse-ellipsis.r {\\n  text-align: right;\\n  direction: inherit;\\n}\\n\\n.mat-icon {\\n  font-size: 16px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy1oaW5oLXRodWMtdGhhbmgtdG9hbi9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXHF1YXktdGh1b2MtaGluaC10aHVjLXRoYW5oLXRvYW5cXHF1YXktdGh1b2MtaGluaC10aHVjLXRoYW5oLXRvYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtaGluaC10aHVjLXRoYW5oLXRvYW4vcXVheS10aHVvYy1oaW5oLXRodWMtdGhhbmgtdG9hbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0UsVUFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsMEJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtaGluaC10aHVjLXRoYW5oLXRvYW4vcXVheS10aHVvYy1oaW5oLXRodWMtdGhhbmgtdG9hbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNTb0x1b25nVG9uIGlucHV0IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLmNvbG9yLXJlZCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5yZXZlcnNlLWVsbGlwc2lzLnIge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZGlyZWN0aW9uOiBpbmhlcml0O1xufVxuXG4ubWF0LWljb24ge1xuICBmb250LXNpemU6IDE2cHggIWltcG9ydGFudDtcbn0iLCIjU29MdW9uZ1RvbiBpbnB1dCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5jb2xvci1yZWQge1xuICBjb2xvcjogcmVkO1xufVxuXG4ucmV2ZXJzZS1lbGxpcHNpcy5yIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGRpcmVjdGlvbjogaW5oZXJpdDtcbn1cblxuLm1hdC1pY29uIHtcbiAgZm9udC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7XG59Il19 */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component.ts\":\n/*!**********************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component.ts ***!\n  \\**********************************************************************************************************************/\n/*! exports provided: QuayThuocHinhThucThanhToanComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocHinhThucThanhToanComponent\", function() { return QuayThuocHinhThucThanhToanComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _iconify_icons_ic_delete__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @iconify/icons-ic/delete */ \"./node_modules/@iconify/icons-ic/delete.js\");\n/* harmony import */ var _iconify_icons_ic_delete__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_delete__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _quay_thuoc_xac_nhan_in_pop_up_quay_thuoc_xac_nhan_in_pop_up_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component.ts\");\n/* harmony import */ var _progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @progress/kendo-data-query */ \"./node_modules/@progress/kendo-data-query/dist/es2015/main.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_info__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @iconify/icons-ic/twotone-info */ \"./node_modules/@iconify/icons-ic/twotone-info.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_info__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_info__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/shared/component/dialogs/confirm/confirm.component */ \"./src/app/shared/component/dialogs/confirm/confirm.component.ts\");\n/* harmony import */ var src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/shared/component/dialogs/loading/loading.component */ \"./src/app/shared/component/dialogs/loading/loading.component.ts\");\n/* harmony import */ var _iconify_icons_ic_edit__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @iconify/icons-ic/edit */ \"./node_modules/@iconify/icons-ic/edit.js\");\n/* harmony import */ var _iconify_icons_ic_edit__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_edit__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _ap_dung_miem_giam_them_popup_ap_dung_miem_giam_them_popup_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component */ \"./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component.ts\");\n/* harmony import */ var _ap_dung_miem_giam_cho_tung_loai_thuoc_popup_ap_dung_miem_giam_cho_tung_loai_thuoc_popup_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component */ \"./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.ts\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore.js\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _thong_tin_phieu_pdf_popup_thong_tin_phieu_pdf_popup_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component */ \"./src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.ts\");\n/* harmony import */ var src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! src/app/shared/enum/security-operation.enum */ \"./src/app/shared/enum/security-operation.enum.ts\");\n/* harmony import */ var src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! src/app/core/utilities/common.helper */ \"./src/app/core/utilities/common.helper.ts\");\n/* harmony import */ var src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! src/app/shared/configdata/system-message */ \"./src/app/shared/configdata/system-message.ts\");\n/* harmony import */ var src_app_core_services_auth_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! src/app/core/services/auth.service */ \"./src/app/core/services/auth.service.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet QuayThuocHinhThucThanhToanComponent = class QuayThuocHinhThucThanhToanComponent {\n    constructor(route, apiService, notificationService, dialog, cdRef, authService, router) {\n        this.route = route;\n        this.apiService = apiService;\n        this.notificationService = notificationService;\n        this.dialog = dialog;\n        this.cdRef = cdRef;\n        this.authService = authService;\n        this.router = router;\n        this.icInfo = _iconify_icons_ic_twotone_info__WEBPACK_IMPORTED_MODULE_11___default.a;\n        this.icRoundEdit = _iconify_icons_ic_edit__WEBPACK_IMPORTED_MODULE_14___default.a;\n        this.validationErrors = [];\n        this.validationThuThuocErrors = [];\n        this.id = 0;\n        this.idSub = 0;\n        this.tongTien = 0;\n        this.tongTienGrid = 0;\n        this.icDelete = _iconify_icons_ic_delete__WEBPACK_IMPORTED_MODULE_8___default.a;\n        this.flagCheckSeletedTienMat = false;\n        this.flagCheckSeletedChuyenKhoan = false;\n        this.flagCheckSeletedPos = false;\n        this.flagCheckSeletedSoTienCongNo = false;\n        this.format = 'n2';\n        this.selectItem = [];\n        this.isSelectingItem = false;\n        this.showCanhBaoSoTienNhap = false;\n        this.hinhThucThanhToan = [\n            { KeyId: 1, DisplayName: \"Tiền mặt\", Selected: false, Change: false },\n            { KeyId: 2, DisplayName: \"Chuyển khoản\", Selected: false, Change: false },\n            { KeyId: 3, DisplayName: \"Pos\", Selected: false, Change: false },\n            { KeyId: 4, DisplayName: \"Công nợ\", Selected: false, Change: false },\n        ];\n        this.setDefeautTienMat = [1];\n        this.lstDonThuocMoiThem = Array();\n        this.danhSachCongNoChoThus = [];\n        this.dataSourcedanhsachThuoc = {\n            data: [],\n            total: 0\n        };\n        this.maYCTNId = 0;\n        this.keySelectBy = 'Id';\n        this.mySelection = [];\n        this.mySelectionInPage = [];\n        this.selectAllState = 'unchecked';\n        this.selectMoneyTienBNDua = null;\n        this.selectMoneyTienMat = null;\n        this.selectMoneyTienChuyenKhoan = null;\n        this.selectMoneyTienPos = null;\n        this.selectMoneySoTienCongNo = null;\n        this.danhSachChuaThanhToan = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.apDungCongNoThuoc = false;\n        this.apDungMienGiam = false;\n        this.thongTinTam = [];\n        this.afterChangedCongNo = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.afterChangedMg = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.changeTab = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.state = {};\n        this.gridData = Object(_progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_10__[\"process\"])(this.dataSourcedanhsachThuoc.data, this.state);\n        this.apDungCNAndMiemGiam = false;\n        this.arrayThanhToans = [];\n        this.arrayThanhToanstmp = [];\n        this.confirm = null;\n        this.checkSeletedTienMat = false;\n        this.checkSeletedChuyenKhoan = false;\n        this.checkSeletedPos = false;\n        this.checkSeletedSoTienCongNo = false;\n        this.loaiYeuCauTiepNhanKhachVangLai = false;\n        // update 28/12/2020\n        this.apDungMGT = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"ApDungMiemGiamThem\"];\n        this.confrim = null;\n        this.danhSachMienGiamVo = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"DanhSachMienGiamVo\"];\n        this.loaiMienGiam = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"LoaiMienGiam\"];\n        this.loaiChietKhau = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"LoaiChietKhau\"];\n    }\n    total(field) {\n        switch (field) {\n            case 'BNConPhaiThanhToan':\n                return this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault)\n                    .reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0);\n            case 'SoTienMG':\n                return this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault)\n                    .reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'ThanhTienHienThi':\n                return this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault)\n                    .reduce((sum, item) => sum + item.ThanhTienHienThi, 0);\n            case 'BNConPhaiThanhToanHienThi':\n                return this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault)\n                    .reduce((sum, item) => sum + item.BNConPhaiThanhToanHienThi, 0);\n            case 'ThanhTien':\n                return this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault)\n                    .reduce((sum, item) => sum + item.ThanhTien, 0);\n        }\n    }\n    ngOnInit() {\n        this.documentType = src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_4__[\"DocumentType\"].QuayThuoc;\n        this.closedialog = this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_13__[\"LoadingComponent\"], {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: {}\n        });\n        const tiepNhanId = this.route.snapshot.params.id;\n        this.maYCTNId = tiepNhanId;\n        const id = this.route.snapshot.params.id;\n        this.id = id;\n        this.idSub = this.route.snapshot.params.idsub;\n        this.thongtinDonThuoc = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"ThongTinDonThuoc\"]();\n        this.GetTenBenhNhan(this.idSub);\n        this.checkLoaiYCTN(tiepNhanId);\n        this.lstDonThuocMoiThem = new Array();\n        this.themDuocPham = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"ThemDuocPham\"]();\n        this.deleteItem = new Array();\n        if (this.benhnhanThongTin == null) {\n            this.benhnhanThongTin = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"BenhNhanThongTin\"]();\n        }\n        this.selectItem = [1];\n        this.checkSeletedTienMat = true;\n        this.flagCheckSeletedTienMat = true;\n        this.thongtinDonThuoc.NgayThu = new Date();\n        this.thongtinDonThuoc.NoiDungThu = 'Thu tiền thuốc';\n        this.hinhThucThanhToan = [\n            { KeyId: 1, DisplayName: \"Tiền mặt\", Selected: true, Change: false },\n            { KeyId: 2, DisplayName: \"Chuyển khoản\", Selected: false, Change: false },\n            { KeyId: 3, DisplayName: \"Pos\", Selected: false, Change: false },\n            { KeyId: 4, DisplayName: \"Công nợ\", Selected: false, Change: false },\n        ];\n        ;\n    }\n    checkLoaiYCTN(tiepNhanId) {\n        this.apiService.post('QuayThuoc/CheckLoaiYCTN?tiepNhanId=' + tiepNhanId).subscribe(resultData => {\n            this.loaiYeuCauTiepNhanKhachVangLai = resultData;\n        });\n    }\n    ngOnChanges() {\n        if (this.apDungCongNoThuoc === true) {\n            this.apDungCNAndMiemGiam = true;\n            this.bindChiaTienCongNo();\n            const soTienCongNoApply = this.thongTinTam[this.viTri].SoTien;\n            const soTienTongHienTai = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n            if (soTienCongNoApply > soTienTongHienTai) {\n                this.notificationService.showError('Áp dụng công nợ thất bại.');\n            }\n            else {\n                this.notificationService.showSuccess('Áp dụng công nợ thành công.');\n            }\n            this.afterChangedCongNo.emit();\n        }\n        if (this.apDungMienGiam === true) {\n            this.apDungCNAndMiemGiam = false;\n            this.getThongTinMienGiam(this.maYCTNId);\n        }\n    }\n    bindChiaPhanTramDoiTuongUuDai() {\n        if (this.danhSachCongNoChoThus.length > 0) {\n            this.bindChiaTienCongNo();\n            this.cdRef.detectChanges();\n        }\n        if (this.dataSourcedanhsachThuoc.data.length > 0) {\n            if (this.thongTinTam.length === 0) {\n                for (const dsChiPhiKhamChuaBenh of this.dataSourcedanhsachThuoc.data) {\n                    if (dsChiPhiKhamChuaBenh.CheckedDefault === true) {\n                        dsChiPhiKhamChuaBenh.TLMG = 0;\n                        dsChiPhiKhamChuaBenh.SoTienMG = 0;\n                        dsChiPhiKhamChuaBenh.BNConPhaiThanhToan = dsChiPhiKhamChuaBenh.ThanhTien;\n                    }\n                }\n            }\n            //tiền miễn giảm số lẻ làm tròn xuống Math.floor , tiền Người bệnh Thanh toán làm tròn lên Math.round\n            if (this.thongTinMienGiamVos != undefined && this.thongTinMienGiamVos != null) {\n                // Case 3: Áp dụng voucher\n                if (this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo !== null &&\n                    Object.entries(this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo).length !== 0) {\n                    if (this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo.LoaiVoucher === 2) {\n                        let soTienMiemGiamThemConLaiVoucherCase = this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo.SoTienVoucherMiemGiam;\n                        let soTienMiemGiamThemConLaiTamVoucherCase = 0;\n                        for (const dsChiPhiKhamChuaBenh of this.dataSourcedanhsachThuoc.data) {\n                            const totalCongNo = this.itemTotalCongNo(dsChiPhiKhamChuaBenh.DanhSachCongNoChoThus);\n                            if (dsChiPhiKhamChuaBenh.CheckedDefault === true) {\n                                if (dsChiPhiKhamChuaBenh.BNConPhaiThanhToan !== 0\n                                    && dsChiPhiKhamChuaBenh.BNConPhaiThanhToan < soTienMiemGiamThemConLaiVoucherCase) {\n                                    soTienMiemGiamThemConLaiTamVoucherCase = dsChiPhiKhamChuaBenh.BNConPhaiThanhToan;\n                                    dsChiPhiKhamChuaBenh.SoTienMG = Math.floor(dsChiPhiKhamChuaBenh.SoTienMG +\n                                        dsChiPhiKhamChuaBenh.BNConPhaiThanhToan);\n                                    dsChiPhiKhamChuaBenh.BNConPhaiThanhToan = (dsChiPhiKhamChuaBenh.ThanhTien -\n                                        totalCongNo - dsChiPhiKhamChuaBenh.SoTienMG);\n                                    soTienMiemGiamThemConLaiVoucherCase = soTienMiemGiamThemConLaiVoucherCase -\n                                        dsChiPhiKhamChuaBenh.BNConPhaiThanhToan - soTienMiemGiamThemConLaiTamVoucherCase;\n                                }\n                                if (soTienMiemGiamThemConLaiVoucherCase > 0 &&\n                                    dsChiPhiKhamChuaBenh.BNConPhaiThanhToan > soTienMiemGiamThemConLaiVoucherCase) {\n                                    dsChiPhiKhamChuaBenh.SoTienMG = dsChiPhiKhamChuaBenh.SoTienMG + soTienMiemGiamThemConLaiVoucherCase;\n                                    dsChiPhiKhamChuaBenh.BNConPhaiThanhToan = dsChiPhiKhamChuaBenh.ThanhTien - totalCongNo - dsChiPhiKhamChuaBenh.SoTienMG;\n                                    soTienMiemGiamThemConLaiVoucherCase = 0;\n                                }\n                            }\n                        }\n                    }\n                    if (this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo.LoaiVoucher === 1) {\n                        // Case 2: Áp dụng voucher rãi đều % theo tông sô tiền SoTienVoucherMiemGiam\n                        let soTienVoucherConLai = this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo.SoTienVoucherMiemGiam;\n                        this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo.DuocPhamMienGiamTheoTiLes.forEach(element => {\n                            for (const dsChiPhiKhamChuaBenh of this.dataSourcedanhsachThuoc.data) {\n                                if (dsChiPhiKhamChuaBenh.CheckedDefault === true) {\n                                    const totalCongNo = this.itemTotalCongNo(dsChiPhiKhamChuaBenh.DanhSachCongNoChoThus);\n                                    if (dsChiPhiKhamChuaBenh.DuocPhamId === element.DuocPhamId) {\n                                        dsChiPhiKhamChuaBenh.TLMG = dsChiPhiKhamChuaBenh.TLMG + element.TiLe;\n                                        dsChiPhiKhamChuaBenh.SoTienMG = Math.floor(((dsChiPhiKhamChuaBenh.SoLuongMua * dsChiPhiKhamChuaBenh.DonGia - totalCongNo) *\n                                            element.TiLe) / 100);\n                                        if (dsChiPhiKhamChuaBenh.SoTienMG > dsChiPhiKhamChuaBenh.SoLuongMua\n                                            * dsChiPhiKhamChuaBenh.DonGia - totalCongNo) {\n                                            dsChiPhiKhamChuaBenh.SoTienMG = dsChiPhiKhamChuaBenh.SoLuongMua\n                                                * dsChiPhiKhamChuaBenh.DonGia - totalCongNo;\n                                        }\n                                        if (soTienVoucherConLai < dsChiPhiKhamChuaBenh.SoTienMG) {\n                                            dsChiPhiKhamChuaBenh.SoTienMG = soTienVoucherConLai;\n                                        }\n                                        soTienVoucherConLai = soTienVoucherConLai - dsChiPhiKhamChuaBenh.SoTienMG;\n                                        dsChiPhiKhamChuaBenh.BNConPhaiThanhToan =\n                                            (dsChiPhiKhamChuaBenh.SoLuongMua * dsChiPhiKhamChuaBenh.DonGia - totalCongNo)\n                                                - dsChiPhiKhamChuaBenh.SoTienMG;\n                                    }\n                                }\n                            }\n                        });\n                    }\n                }\n                // Case 2: Áp dụng ThongTinMienGiamThemVo\n                if (this.thongTinMienGiamVos.ThongTinMienGiamThemVo != undefined && this.thongTinMienGiamVos.ThongTinMienGiamThemVo != null &&\n                    Object.entries(this.thongTinMienGiamVos.ThongTinMienGiamThemVo).length !== 0) {\n                    if (this.thongTinMienGiamVos.ThongTinMienGiamThemVo.LoaiMienGiamThem === 1) {\n                        let soTienMiemGiamThemConLai = this.thongTinMienGiamVos.ThongTinMienGiamThemVo.SoTienMGConLai;\n                        let soTienMiemGiamThemConLaiTam = 0;\n                        for (const dsChiPhiKhamChuaBenh of this.dataSourcedanhsachThuoc.data) {\n                            const totalCongNo = this.itemTotalCongNo(dsChiPhiKhamChuaBenh.DanhSachCongNoChoThus);\n                            if (dsChiPhiKhamChuaBenh.CheckedDefault === true) {\n                                if (dsChiPhiKhamChuaBenh.BNConPhaiThanhToan !== 0\n                                    && dsChiPhiKhamChuaBenh.BNConPhaiThanhToan <= soTienMiemGiamThemConLai) {\n                                    soTienMiemGiamThemConLaiTam = dsChiPhiKhamChuaBenh.BNConPhaiThanhToan;\n                                    dsChiPhiKhamChuaBenh.SoTienMG = Math.floor(dsChiPhiKhamChuaBenh.SoTienMG\n                                        + dsChiPhiKhamChuaBenh.BNConPhaiThanhToan);\n                                    dsChiPhiKhamChuaBenh.BNConPhaiThanhToan = dsChiPhiKhamChuaBenh.ThanhTien\n                                        - totalCongNo - dsChiPhiKhamChuaBenh.SoTienMG;\n                                    soTienMiemGiamThemConLai = soTienMiemGiamThemConLai -\n                                        dsChiPhiKhamChuaBenh.BNConPhaiThanhToan - soTienMiemGiamThemConLaiTam;\n                                }\n                                if (soTienMiemGiamThemConLai > 0 && dsChiPhiKhamChuaBenh.BNConPhaiThanhToan > soTienMiemGiamThemConLai) {\n                                    dsChiPhiKhamChuaBenh.SoTienMG = dsChiPhiKhamChuaBenh.SoTienMG + soTienMiemGiamThemConLai;\n                                    dsChiPhiKhamChuaBenh.BNConPhaiThanhToan = dsChiPhiKhamChuaBenh.ThanhTien - totalCongNo - dsChiPhiKhamChuaBenh.SoTienMG;\n                                    soTienMiemGiamThemConLai = 0;\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        // Case 2: Áp dụng ThongTinMienGiamThemVo tỉ lệ miễm giảm\n                        let isApDungDichVuId = false;\n                        const tiLeMienGiam = this.thongTinMienGiamVos.ThongTinMienGiamThemVo.TiLeMienGiam;\n                        for (const dsChiPhiKhamChuaBenh of this.dataSourcedanhsachThuoc.data) {\n                            const totalCongNo = this.itemTotalCongNo(dsChiPhiKhamChuaBenh.DanhSachCongNoChoThus);\n                            if (dsChiPhiKhamChuaBenh.CheckedDefault === true) {\n                                isApDungDichVuId = true;\n                                dsChiPhiKhamChuaBenh.TLMG = dsChiPhiKhamChuaBenh.TLMG + tiLeMienGiam;\n                                dsChiPhiKhamChuaBenh.SoTienMGThem = dsChiPhiKhamChuaBenh.SoTienMG;\n                                dsChiPhiKhamChuaBenh.SoTienMG = Math.floor(((dsChiPhiKhamChuaBenh.SoLuongMua * dsChiPhiKhamChuaBenh.DonGia - totalCongNo) *\n                                    dsChiPhiKhamChuaBenh.TLMG) / 100);\n                                dsChiPhiKhamChuaBenh.BNConPhaiThanhToan =\n                                    dsChiPhiKhamChuaBenh.ThanhTien - totalCongNo - dsChiPhiKhamChuaBenh.SoTienMG;\n                            }\n                        }\n                        if (isApDungDichVuId) {\n                            for (const dsChiPhiKhamChuaBenh of this.dataSourcedanhsachThuoc.data) {\n                                if (dsChiPhiKhamChuaBenh.CheckedDefault === true && dsChiPhiKhamChuaBenh.SoTienMGThem !== undefined) {\n                                    const totalCongNo = this.itemTotalCongNo(dsChiPhiKhamChuaBenh.DanhSachCongNoChoThus);\n                                    dsChiPhiKhamChuaBenh.SoTienMG = dsChiPhiKhamChuaBenh.SoTienMG + dsChiPhiKhamChuaBenh.SoTienMGThem;\n                                    if (dsChiPhiKhamChuaBenh.SoTienMG > (dsChiPhiKhamChuaBenh.SoLuongMua\n                                        * dsChiPhiKhamChuaBenh.DonGia - totalCongNo)) {\n                                        dsChiPhiKhamChuaBenh.SoTienMG = (dsChiPhiKhamChuaBenh.SoLuongMua\n                                            * dsChiPhiKhamChuaBenh.DonGia - totalCongNo);\n                                    }\n                                    dsChiPhiKhamChuaBenh.BNConPhaiThanhToan =\n                                        (dsChiPhiKhamChuaBenh.SoLuongMua * dsChiPhiKhamChuaBenh.DonGia - totalCongNo)\n                                            - dsChiPhiKhamChuaBenh.SoTienMG;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n        this.tongTien = this.tongTienGrid;\n        if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n            if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n            }\n            else {\n                this.tongTien = 0;\n            }\n        }\n        if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n            this.thongtinDonThuoc.TienMat = this.tongTien;\n            if (this.thongtinDonThuoc.BenhNhanDua > 0 && this.apDungMienGiam === true) {\n                this.thongtinDonThuoc.TienTraLai = this.thongtinDonThuoc.BenhNhanDua - this.thongtinDonThuoc.TienMat;\n            }\n        }\n        this.gridData = this.dataSourcedanhsachThuoc.data;\n        this.myDanhSachChuaThanhToan();\n    }\n    itemTotalCongNo(danhSachCongNoChoThus) {\n        let toatalCongNo = 0;\n        if (danhSachCongNoChoThus != null) {\n            danhSachCongNoChoThus.forEach(cn => {\n                toatalCongNo += cn.SoTienCongNoChoThu;\n            });\n        }\n        return toatalCongNo;\n    }\n    selectDataDanhSachDaChon() {\n        let totalThanhTien = 0;\n        this.dataSourcedanhsachThuoc.data.forEach(element => {\n            if (element.CheckedDefault === true) {\n                totalThanhTien += element.ThanhTien;\n            }\n        });\n        return totalThanhTien;\n    }\n    totalCongNoPrivate() {\n        let totalCongNoThanhToan = 0;\n        if (this.thongTinTam.length !== 0) {\n            // tslint:disable-next-line: prefer-for-of\n            for (let index = 0; index < this.thongTinTam.length; index++) {\n                totalCongNoThanhToan += this.thongTinTam[index].SoTien;\n            }\n        }\n        return totalCongNoThanhToan;\n    }\n    tinhTienCongNo(itemThanhTien, congNoId, totalTT) {\n        let totalCongNo = 0;\n        // kiểm tra công nợ được áp dụng tiền\n        // tslint:disable-next-line: prefer-for-of\n        for (let index = 0; index < this.thongTinTam.length; index++) {\n            if (this.thongTinTam[index].CongNoId === congNoId) {\n                totalCongNo = this.thongTinTam[index].SoTien;\n            }\n        }\n        // const itemSoTienCongNo = Math.floor(parseFloat(((totalCongNo / totalTT) * itemThanhTien).toPrecision(15)));\n        // return itemSoTienCongNo;\n        var itemSoTienCongNo = Math.round(parseFloat(((totalCongNo / totalTT) * (itemThanhTien)).toPrecision(15)) * 100) / 100;\n        return itemSoTienCongNo;\n    }\n    tinhTiLeMiemGiamInGrid(data) {\n        const tongCongNoItem = this.itemTotalCongNo(data.DanhSachCongNoChoThus);\n        const sumSoTienBenhNhanTra = (data.ThanhTien - tongCongNoItem);\n        if (sumSoTienBenhNhanTra === 0) {\n            return 0;\n        }\n        return Math.round((data.SoTienMG / sumSoTienBenhNhanTra) * 100);\n    }\n    bindChiaTienCongNo() {\n        const totalTT = this.selectDataDanhSachDaChon();\n        const totalCongNo = this.totalCongNoPrivate();\n        if (totalCongNo > totalTT) {\n            this.notificationService.showError('Số tiền thanh toán công nợ không hợp lệ');\n            return;\n        }\n        if (this.danhSachCongNoChoThus[0].CongNoChoThus.length !== 0) {\n            this.danhSachCongNoChoThus[0].CongNoChoThus.forEach(congNo => {\n                if (congNo.ViTri === this.viTri) {\n                    if (this.thongTinTam.length !== 0) {\n                        congNo.SoTienCongNoChoThu = this.thongTinTam[this.viTri].SoTien;\n                    }\n                }\n            });\n        }\n        // mỗi lần cập nhật công nợ thông tin tạm thì sẽ luôn cập nhập thông tin đơn thuốc danh sách công nợ (dùng cho việc thu tiền)\n        this.thongTinTam.forEach(element => {\n            this.thongtinDonThuoc.DanhSachCongNos.forEach(congNoDonThuoc => {\n                if (element.CongNoId === congNoDonThuoc.CongTyCongNoId) {\n                    congNoDonThuoc.SoTienCongNo = element.SoTien;\n                }\n            });\n        });\n        if (this.thongTinTam.length > 0) {\n            const danhSachCongNoChoThu = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"DanhSachCongNoChoThu\"]();\n            for (let index = 0; index < this.thongTinTam.length; index++) {\n                const congNo = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"CongNoChoThu\"]();\n                congNo.ViTri = index;\n                congNo.CongNoId = this.thongTinTam[index].CongNoId;\n                congNo.TenCongTy = this.thongTinTam[index].TenCongTy;\n                congNo.SoTienCongNoChoThu = 0;\n                danhSachCongNoChoThu.CongNoChoThus.push(congNo);\n            }\n            const lastItem = this.findLast();\n            let tongCongNo = 0;\n            for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n                if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === true) {\n                    if (this.viTri !== -1) {\n                        this.dataSourcedanhsachThuoc.data[index].TLMG = 0;\n                        this.dataSourcedanhsachThuoc.data[index].SoTienMG = 0;\n                        this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan =\n                            (this.dataSourcedanhsachThuoc.data[index].SoLuongMua * this.dataSourcedanhsachThuoc.data[index].DonGia)\n                                - ((this.dataSourcedanhsachThuoc.data[index].SoLuongMua *\n                                    this.dataSourcedanhsachThuoc.data[index].DonGia) * this.dataSourcedanhsachThuoc.data[index].TLMG / 100); // to do Math.round\n                        if (index === lastItem) {\n                            this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[this.viTri]\n                                .SoTienCongNoChoThu = this.apDungCNAndMiemGiam ?\n                                this.thongTinTam[this.viTri].SoTien - tongCongNo :\n                                this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu;\n                        }\n                        if (index !== lastItem) {\n                            if (this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus.length > 0) {\n                                this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu =\n                                    danhSachCongNoChoThu.CongNoChoThus[this.viTri].SoTienCongNoChoThu = this.apDungCNAndMiemGiam ?\n                                        this.tinhTienCongNo(this.dataSourcedanhsachThuoc.data[index].ThanhTien, danhSachCongNoChoThu.CongNoChoThus[this.viTri].CongNoId, totalTT) :\n                                        this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu;\n                                tongCongNo += this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu;\n                            }\n                        }\n                        this.dataSourcedanhsachThuoc.data[index].KiemTraTienSoTienItemDichVu =\n                            this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan < 0 ? true : false;\n                    }\n                }\n                else {\n                    if (this.viTri !== -1) {\n                        this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu =\n                            danhSachCongNoChoThu.CongNoChoThus[this.viTri].SoTienCongNoChoThu = 0;\n                    }\n                }\n            }\n            this.dataSourcedanhsachThuoc.data.forEach(element => {\n                let totalCongNoEle = 0;\n                element.DanhSachCongNoChoThus.forEach(elementCongNo => {\n                    totalCongNoEle += elementCongNo.SoTienCongNoChoThu;\n                });\n                let soTienMG = this.tinhSoTienMiemGiam(element);\n                element.SoTienMG = soTienMG;\n                return element.BNConPhaiThanhToan = element.ThanhTien - totalCongNoEle - element.SoTienMG;\n            });\n        }\n        this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n        this.tongTien = this.tongTienGrid;\n        if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n            if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n            }\n            else {\n                this.tongTien = 0;\n            }\n        }\n        // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n        //     this.thongtinDonThuoc.TienMat = this.tongTien;\n        // }\n        let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        if (items != null && items.length > 0) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n        this.myDanhSachChuaThanhToan();\n        this.cdRef.detectChanges();\n    }\n    findLast() {\n        for (let index = this.dataSourcedanhsachThuoc.data.length - 1; index >= 0; index--) {\n            if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === true) {\n                return index;\n            }\n        }\n        return -1;\n    }\n    myDanhSachChuaThanhToan() {\n        const danhSachChuaThanhToans = [];\n        this.dataSourcedanhsachThuoc.data.forEach(element => {\n            let totalCongNoEle = 0;\n            if (element.CheckedDefault) {\n                element.SoTienMG = this.tinhSoTienMiemGiam(element);\n                element.DanhSachCongNoChoThus.forEach(elementCongNo => {\n                    totalCongNoEle += elementCongNo.SoTienCongNoChoThu;\n                });\n                let soTienMG = this.tinhSoTienMiemGiam(element);\n                element.SoTienMG = soTienMG;\n                element.BNConPhaiThanhToan = element.ThanhTien - totalCongNoEle - element.SoTienMG;\n                danhSachChuaThanhToans.push(element);\n            }\n        });\n        this.danhSachXemTruocBangKeThuocVaVatTu(danhSachChuaThanhToans);\n    }\n    danhSachXemTruocBangKeThuocVaVatTu(danhSachChuaThanhToans) {\n        // lý do trả về danhSachChuaThanhToan cho quay-thuoc-mua-thuoc.component\n        // để xem trước bảng kê\n        this.danhSachChuaThanhToan.emit(danhSachChuaThanhToans);\n    }\n    setSelectAll() {\n        setTimeout(function () {\n            if (!jQuery('#selectAllCheckboxId').prop('checked')) {\n                jQuery('#selectAllCheckboxId').trigger('click');\n            }\n        }, 1000);\n    }\n    chuyenDen(event) {\n        if (event.index === 0) {\n            this.cdRef.detectChanges();\n            this.clearHinhThucThanhToan();\n            this.defeautSoTien();\n            this.setDefeautTienMat = [1];\n            this.checkSeletedTienMat = true;\n            this.flagCheckSeletedTienMat = true;\n            this.GetThongTinDonThuoc(this.maYCTNId);\n            this.getDanhSachBHTN();\n            let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n            if (items != null && items.length > 0) {\n                this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n            }\n        }\n    }\n    onSelectChangeCheckbox(e, val) {\n        this.unCheckedBindSoTienMG(val);\n        this.mySelection = [];\n        if (e.target.checked) {\n            this.mySelectionInPage.push(val);\n        }\n        else {\n            this.mySelectionInPage.splice(this.mySelectionInPage.indexOf(val), 1);\n        }\n        var allData = this.dataSourcedanhsachThuoc.data;\n        const len = this.mySelectionInPage.length;\n        this.mySelection = this.mySelection.concat(this.mySelectionInPage);\n        if (len === 0) {\n            this.selectAllState = 'unchecked';\n        }\n        else if (len > 0 && len < allData\n            .filter(obj => obj.HideCheckbox == null || (obj.HideCheckbox != undefined && obj.HideCheckbox == false))\n            .length) {\n            this.selectAllState = 'indeterminate';\n        }\n        else {\n            this.selectAllState = 'checked';\n        }\n        this.extCheckboxSelection(this.mySelection);\n    }\n    onSelectDuocPham(event) {\n        let loai = 0;\n        if (event == undefined || event == null) {\n            // this.notificationService.showError('Bạn chưa chọn thuốc.');\n            this.themDuocPham.SoLuongTon = null;\n        }\n        else {\n            this.apiService.post('QuayThuoc/GetThongTinDuocPham?duocPhamId=' + event.KeyId + \"&LoaiDuocPhamHoacVatTu=\" + event.LoaiDuocPhamHoacVatTu).subscribe(resultData => {\n                let soLuongTon = 0;\n                this.lstthongTinDonThuoc = resultData;\n                if (this.lstDonThuocMoiThem.length > 0) {\n                    this.lstDonThuocMoiThem.forEach(x => {\n                        if (x.DuocPhamId === this.themDuocPham.DuocPhamId) {\n                            soLuongTon = soLuongTon + x.SoLuongMua;\n                        }\n                    });\n                }\n                this.themDuocPham.SoLuongTon = resultData.reduce((sum, item) => sum + item.SoLuongTon, 0) - soLuongTon;\n            }, () => {\n            });\n        }\n    }\n    unCheckedBindSoTienMG(id) {\n        // tslint:disable-next-line: prefer-for-of\n        for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n            if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === false) {\n                if (this.dataSourcedanhsachThuoc.data[index].Id === id) {\n                    this.dataSourcedanhsachThuoc.data[index].SoTienMG = 0;\n                    this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan =\n                        this.dataSourcedanhsachThuoc.data[index].ThanhTien - this.dataSourcedanhsachThuoc.data[index].TongCongNo; // to do Math.round\n                }\n            }\n        }\n        this.gridData = Object(_progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_10__[\"process\"])(this.dataSourcedanhsachThuoc.data, this.state);\n    }\n    delete(event) {\n        if (event != undefined && event != null) {\n            this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_12__[\"ConfirmComponent\"], {\n                disableClose: false,\n                width: \"500px\",\n                data: {\n                    Title: \"Xác nhận\",\n                    Message: \"Bạn có muốn xóa thuốc/vật tư này không ?\",\n                },\n            }).afterClosed().subscribe((res) => {\n                if (res == \"Yes\") {\n                    this.notificationService.showSuccess(\"Xóa thành công\");\n                    let i = 0;\n                    let stt = event.STT;\n                    for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n                        if (this.dataSourcedanhsachThuoc.data[index].STT === event.STT) {\n                            i = index;\n                        }\n                    }\n                    this.dataSourcedanhsachThuoc.data[i].HighLightClass = null;\n                    this.deleteItem.push(this.dataSourcedanhsachThuoc.data[i]);\n                    if (this.lstthongTinDonThuoc === undefined) {\n                        this.lstthongTinDonThuoc = [];\n                    }\n                    this.lstthongTinDonThuoc.push(this.dataSourcedanhsachThuoc.data[i]);\n                    this.dataSourcedanhsachThuoc.data.splice(i, 1);\n                    this.lstDonThuocMoiThem = new Array();\n                    for (let index0 = 0; index0 < i; index0++) {\n                        this.lstDonThuocMoiThem.push(this.dataSourcedanhsachThuoc.data[index0]);\n                    }\n                    for (let index1 = i; index1 < this.dataSourcedanhsachThuoc.data.length; index1++) {\n                        this.dataSourcedanhsachThuoc.data[index1].STT = stt;\n                        this.lstDonThuocMoiThem.push(this.dataSourcedanhsachThuoc.data[index1]);\n                        stt++;\n                    }\n                    this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n                    this.tongTien = this.tongTienGrid;\n                    if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n                        if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                            this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n                        }\n                        else {\n                            this.tongTien = 0;\n                        }\n                    }\n                    // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n                    //     this.thongtinDonThuoc.TienMat = this.tongTien;\n                    // }\n                    let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n                    if (items != null && items.length > 0) {\n                        this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n                    }\n                }\n            });\n        }\n    }\n    clearHinhThucThanhToan() {\n        this.flagCheckSeletedTienMat = false;\n        this.flagCheckSeletedChuyenKhoan = false;\n        this.flagCheckSeletedPos = false;\n        this.flagCheckSeletedSoTienCongNo = false;\n        this.checkSeletedTienMat = false;\n        this.checkSeletedChuyenKhoan = false;\n        this.checkSeletedPos = false;\n        this.checkSeletedSoTienCongNo = false;\n    }\n    GetTenBenhNhan(id) {\n        this.apiService.post('QuayThuoc/GetTenBenhNhan?benhNhanId=' + id).subscribe(resultData => {\n            this.thongtinDonThuoc.HoTenBenhNhan = resultData;\n            this.GetThongTinDonThuoc(this.id);\n        }, () => {\n        });\n    }\n    onSelectAllChange(checkedState) {\n        var allData = this.dataSourcedanhsachThuoc.data;\n        if (allData == undefined)\n            allData = [];\n        this.mySelection = [];\n        if (checkedState === 'checked') {\n            this.mySelectionInPage = allData\n                .filter(obj => obj.HideCheckbox == null || (obj.HideCheckbox != undefined && obj.HideCheckbox == false)).map((item) => item[this.keySelectBy]);\n            this.mySelection = this.mySelection.concat(this.mySelectionInPage);\n            this.selectAllState = 'checked';\n        }\n        else {\n            var mySelectionRemove = allData\n                .filter(obj => obj.HideCheckbox == null || (obj.HideCheckbox != undefined && obj.HideCheckbox == false)).map((item) => item[this.keySelectBy]);\n            if (mySelectionRemove != null && mySelectionRemove.length > 0) {\n                mySelectionRemove.forEach(obj => {\n                    this.mySelection.splice(this.mySelection.indexOf(obj), 1);\n                });\n            }\n            this.mySelectionInPage = [];\n            this.selectAllState = 'unchecked';\n        }\n        this.extCheckboxSelection(this.mySelection);\n    }\n    GetThongTinDonThuoc(id) {\n        this.apiService.post('QuayThuoc/GetDataDonThuoc?tiepNhanId=' + id).subscribe(resultData => {\n            this.dataSourcedanhsachThuoc.data = resultData;\n            let index = 1;\n            this.dataSourcedanhsachThuoc.data.forEach(x => {\n                x.STT = index;\n                index++;\n                x.KiemTraTienSoTienItemDichVu = false;\n            });\n            this.myDanhSachChuaThanhToan();\n            this.getSoDuTaiKhoanBenhNhan(id);\n            this.closedialog.close();\n        }, () => {\n        });\n    }\n    getSoDuTaiKhoanBenhNhan(id) {\n        this.apiService.get('ThuNgan/SoDuTaiKhoanBenhNhan/' + id).subscribe(resultData => {\n            if (resultData !== null && resultData !== undefined) {\n                // số dư tài khoản bằng 0 vi đã tra chô thu ngân\n                this.benhnhanThongTin.SoDuTaiKhoan = 0;\n                this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n                this.tongTien = this.tongTienGrid;\n                if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n                    if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                        this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n                    }\n                    else {\n                        this.tongTien = 0;\n                    }\n                }\n                this.thongtinDonThuoc.TienMat = this.tongTien;\n                this.thongtinDonThuoc.HinhThucThanhToan = [1];\n                this.getDanhSachBHTN();\n            }\n        });\n    }\n    getDanhSachBHTN() {\n        this.apiService.get('QuayThuoc/GetListCongTyBaoHiemTuNhans?tiepNhanId=' + this.maYCTNId).subscribe(resultData => {\n            if (resultData.length > 0) {\n                const danhSachCongNoChoThu = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"DanhSachCongNoChoThu\"]();\n                for (let index = 0; index < resultData.length; index++) {\n                    const congNo = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"CongNoChoThu\"]();\n                    congNo.ViTri = index;\n                    congNo.CongNoId = resultData[index].CongNoId;\n                    congNo.TenCongTy = resultData[index].TenCongTy;\n                    congNo.SoTienCongNoChoThu = 0;\n                    danhSachCongNoChoThu.CongNoChoThus.push(congNo);\n                }\n                // tslint:disable-next-line: prefer-for-of\n                for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n                    this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus = [];\n                }\n                this.danhSachCongNoChoThus = [];\n                // tslint:disable-next-line: prefer-for-of\n                for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n                    // tslint:disable-next-line: prefer-for-of\n                    for (let subIndex = 0; subIndex < danhSachCongNoChoThu.CongNoChoThus.length; subIndex++) {\n                        const congNoItem = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"CongNoChoThu\"]();\n                        congNoItem.CongNoId = danhSachCongNoChoThu.CongNoChoThus[subIndex].CongNoId;\n                        congNoItem.SoTienCongNoChoThu = danhSachCongNoChoThu.CongNoChoThus[subIndex].SoTienCongNoChoThu;\n                        congNoItem.TenCongTy = danhSachCongNoChoThu.CongNoChoThus[subIndex].TenCongTy;\n                        congNoItem.ViTri = danhSachCongNoChoThu.CongNoChoThus[subIndex].ViTri;\n                        this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus.push(congNoItem);\n                    }\n                    const totalCongNo = this.itemTotalCongNo(this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus);\n                    this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan =\n                        this.dataSourcedanhsachThuoc.data[index].ThanhTien - totalCongNo - this.dataSourcedanhsachThuoc.data[index].SoTienMG;\n                }\n                this.danhSachCongNoChoThus.push(danhSachCongNoChoThu);\n                this.danhSachCongNoChoThus[0].CongNoChoThus.forEach(element => {\n                    const congNo = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"CongNoVo\"]();\n                    congNo.CongTyCongNoId = element.CongNoId;\n                    congNo.SoTienCongNo = element.SoTienCongNoChoThu;\n                    this.thongtinDonThuoc.DanhSachCongNos.push(congNo);\n                });\n            }\n            this.gridData = this.dataSourcedanhsachThuoc.data;\n            this.setSelectAll();\n            // this.getThongTinMienGiam(this.maYCTNId);  // to do\n        });\n    }\n    totalCongno(field) {\n        let sumCongNoItem = 0;\n        this.dataSourcedanhsachThuoc.data.forEach(element => {\n            if (element.DanhSachCongNoChoThus[field] !== undefined) {\n                sumCongNoItem += element.DanhSachCongNoChoThus[field].SoTienCongNoChoThu;\n            }\n        });\n        return sumCongNoItem;\n    }\n    GuiVaXuatThuocData(data) {\n        this.apiService.post('QuayThuoc/ThuTienVaXuatThuoc', data).subscribe(resultData => {\n            if (resultData.ThanhCong === false) {\n                this.notificationService.showError(resultData.Error);\n                if (resultData.DanhSachDuocPhamVuotTonKho != null) {\n                    // tslint:disable-next-line: prefer-for-of\n                    for (let i = 0; i < resultData.DanhSachDuocPhamVuotTonKho.length; i++) {\n                        // tslint:disable-next-line: prefer-for-of\n                        for (let j = 0; j < this.dataSourcedanhsachThuoc.data.length; j++) {\n                            if (resultData.DanhSachDuocPhamVuotTonKho[i].Stt === this.dataSourcedanhsachThuoc.data[j].STT) {\n                                this.dataSourcedanhsachThuoc.data[j].HighLightClass = 'bg-row-lightpink';\n                                this.dataSourcedanhsachThuoc.data[j].SoLuongDung =\n                                    resultData.DanhSachDuocPhamVuotTonKho[i].SoLuongTonKho;\n                            }\n                        }\n                    }\n                }\n            }\n            else if (resultData.ThanhCong === true) {\n                this.dataSourcedanhsachThuoc.data = [];\n                this.lstDonThuocMoiThem = [];\n                this.cdRef.detectChanges();\n                this.gridData = Object(_progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_10__[\"process\"])(this.dataSourcedanhsachThuoc.data, this.state);\n                this.dialog.open(_quay_thuoc_xac_nhan_in_pop_up_quay_thuoc_xac_nhan_in_pop_up_component__WEBPACK_IMPORTED_MODULE_9__[\"QuayThuocXacNhanInPopUpComponent\"], {\n                    disableClose: true,\n                    width: '500px',\n                    data: { Model: resultData, Title: 'XÁC NHẬN' }\n                }).afterClosed().subscribe(result => {\n                    if (result.Response !== 'No answer') {\n                        this.changeTab.emit(2);\n                        this.tongTien = 0;\n                        this.getSoDuTaiKhoanBenhNhan(data.Id);\n                        this.thongtinDonThuoc.TienMat = 0;\n                        this.thongtinDonThuoc.ChuyenKhoan = 0;\n                        this.thongtinDonThuoc.BenhNhanDua = 0;\n                        this.thongtinDonThuoc.TienTraLai = 0;\n                        this.XacNhanIn(result);\n                    }\n                    else {\n                        this.changeTab.emit(2);\n                        this.getSoDuTaiKhoanBenhNhan(data.Id);\n                        this.tongTien = 0;\n                        this.thongtinDonThuoc.TienMat = 0;\n                        this.thongtinDonThuoc.ChuyenKhoan = 0;\n                        this.thongtinDonThuoc.BenhNhanDua = 0;\n                        this.thongtinDonThuoc.TienTraLai = 0;\n                    }\n                });\n            }\n        });\n    }\n    GuiData(data) {\n        this.apiService.post('QuayThuoc/ThemThanhToanDonThuoc', data).subscribe(resultData => {\n            if (resultData.ThanhCong === false) {\n                this.notificationService.showError(resultData.Error);\n                if (resultData.DanhSachDuocPhamVuotTonKho != null) {\n                    // tslint:disable-next-line: prefer-for-of\n                    for (let i = 0; i < resultData.DanhSachDuocPhamVuotTonKho.length; i++) {\n                        // tslint:disable-next-line: prefer-for-of\n                        for (let j = 0; j < this.dataSourcedanhsachThuoc.data.length; j++) {\n                            if (resultData.DanhSachDuocPhamVuotTonKho[i].Stt === this.dataSourcedanhsachThuoc.data[j].STT) {\n                                this.dataSourcedanhsachThuoc.data[j].HighLightClass = 'bg-row-lightpink';\n                                this.dataSourcedanhsachThuoc.data[j].SoLuongDung =\n                                    resultData.DanhSachDuocPhamVuotTonKho[i].SoLuongTonKho;\n                            }\n                        }\n                    }\n                }\n            }\n            else if (resultData.ThanhCong === true) {\n                this.dataSourcedanhsachThuoc.data = [];\n                this.lstDonThuocMoiThem = [];\n                this.cdRef.detectChanges();\n                this.gridData = Object(_progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_10__[\"process\"])(this.dataSourcedanhsachThuoc.data, this.state);\n                this.dialog.open(_quay_thuoc_xac_nhan_in_pop_up_quay_thuoc_xac_nhan_in_pop_up_component__WEBPACK_IMPORTED_MODULE_9__[\"QuayThuocXacNhanInPopUpComponent\"], {\n                    disableClose: true,\n                    width: '500px',\n                    data: { Model: resultData, Title: 'XÁC NHẬN' }\n                }).afterClosed().subscribe(result => {\n                    if (result.Response !== 'No answer') {\n                        this.changeTab.emit(2);\n                        this.tongTien = 0;\n                        this.getSoDuTaiKhoanBenhNhan(data.Id);\n                        this.thongtinDonThuoc.TienMat = 0;\n                        this.thongtinDonThuoc.ChuyenKhoan = 0;\n                        this.thongtinDonThuoc.BenhNhanDua = 0;\n                        this.thongtinDonThuoc.TienTraLai = 0;\n                        this.XacNhanIn(result);\n                    }\n                    else {\n                        this.changeTab.emit(2);\n                        this.getSoDuTaiKhoanBenhNhan(data.Id);\n                        this.tongTien = 0;\n                        this.thongtinDonThuoc.TienMat = 0;\n                        this.thongtinDonThuoc.ChuyenKhoan = 0;\n                        this.thongtinDonThuoc.BenhNhanDua = 0;\n                        this.thongtinDonThuoc.TienTraLai = 0;\n                    }\n                });\n            }\n        });\n    }\n    XacNhanIn(data) {\n        this.showPopupLoadingIn();\n        data.Hosting = window.location.protocol + '//' + window.location.host;\n        this.apiService.postExportPdf('QuayThuoc/XacNhanIn', data).subscribe(resultData => {\n            if (resultData != undefined && resultData != null) {\n                if (data.InBangKe == false && data.InPhieuThu == false) {\n                    this.notificationService.showError('Không có phiếu in được chọn.');\n                    this.closePopupLoadingData();\n                }\n                else {\n                    this.dialog.open(_thong_tin_phieu_pdf_popup_thong_tin_phieu_pdf_popup_component__WEBPACK_IMPORTED_MODULE_18__[\"ThongTinPhieuPdfPopupComponent\"], {\n                        disableClose: true,\n                        width: '1000px',\n                        data: { Model: resultData }\n                    }).afterClosed().subscribe(() => {\n                        this.closePopupLoadingData();\n                    });\n                }\n            }\n        }, (err) => {\n            this.closePopupLoadingData();\n            this.validationErrors = err.ValidationErrors;\n            if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n            }\n        });\n    }\n    shareData() {\n        this.thongtinDonThuoc.DanhSachDonThuocs = [...this.dataSourcedanhsachThuoc.data];\n        this.thongtinDonThuoc.Id = this.id;\n        for (let index = 0; index < this.thongtinDonThuoc.DanhSachDonThuocs.length; index++) {\n            this.thongtinDonThuoc.DanhSachDonThuocs[index].HighLightClass = null;\n            if (this.thongtinDonThuoc.DanhSachDonThuocs[index].CheckedDefault === false) {\n                this.thongtinDonThuoc.DanhSachDonThuocs.splice(index, 1);\n                index = -1;\n            }\n        }\n        return this.thongtinDonThuoc;\n    }\n    kiemTraNhapSoTienTra(dataThuTien) {\n        const soTienNhapTra = dataThuTien.ChuyenKhoan + dataThuTien.POS + dataThuTien.TienMat + dataThuTien.SoTienCongNo;\n        if (this.tongTien !== soTienNhapTra) {\n            return true;\n        }\n        return false;\n    }\n    // ======= Begin Thu tiền và xuất thuốc \n    ThuTienVaXuatThuoc() {\n        let checkTien = true;\n        if (this.validationErrors !== undefined) {\n            this.validationThuThuocErrors = [];\n        }\n        this.cdRef.detectChanges();\n        if (this.setDefeautTienMat.length === 0) {\n            this.validationThuThuocErrors.push({\n                Message: \"Vui lòng chọn hình thức thanh toán.\",\n                Field: \"HinhThucThanhToan\",\n            });\n            return true;\n        }\n        if (this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault).length === 0) {\n            this.notificationService.showError('Người bệnh này không có thuốc nào để thanh toán');\n            checkTien = false;\n        }\n        if (this.thongtinDonThuoc.HinhThucThanhToan.length !== 0 && this.kiemTraNhapSoTienTra(this.thongtinDonThuoc)) {\n            this.notificationService.showError('Số tiền nhập không đúng.');\n            checkTien = false;\n        }\n        if (this.dataSourcedanhsachThuoc.length != 0) {\n            this.dataSourcedanhsachThuoc.data.forEach(element => {\n                if (element.KiemTraTienSoTienItemDichVu === true) {\n                    this.notificationService.showError('Thanh toán không hợp lệ');\n                    checkTien = false;\n                }\n            });\n        }\n        this.thongtinDonThuoc.TongTien = this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo;\n        if (this.thongtinDonThuoc.Id == null) {\n            this.thongtinDonThuoc.Id = this.id;\n        }\n        this.thongtinDonThuoc.DanhSachDonThuocs = this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault);\n        this.apiService.post('QuayThuoc/CheckValidationForQuayThuoc', this.thongtinDonThuoc).subscribe(() => {\n            if (checkTien === true) {\n                if (this.confirm != null) {\n                    // this.dialog.closeAll();\n                    this.confirm = null;\n                }\n                this.confirm = this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_12__[\"ConfirmComponent\"], {\n                    disableClose: true,\n                    width: '700px',\n                    data: {\n                        Title: 'Xác nhận', Message: 'Bạn chắc chắn muốn thu của người bệnh ' +\n                            this.benhnhanThongTin.HoTen.bold() + ' với số tiền là ' +\n                            this.tongTien.toLocaleString('vi-VI').bold() + ' đồng hay không?'\n                    }\n                }).afterClosed().subscribe(result => {\n                    if (result === 'Yes') {\n                        this.GuiVaXuatThuocData(this.thongtinDonThuoc);\n                        this.setDefeautTienMat = [1];\n                        this.checkSeletedTienMat = true;\n                        this.defeautSoTien();\n                    }\n                });\n            }\n        }, (err) => {\n            this.validationThuThuocErrors = err.ValidationErrors;\n        });\n    }\n    // ======= End Thu tiền và xuất thuốc \n    ThuTien() {\n        let checkTien = true;\n        if (this.validationErrors !== undefined) {\n            this.validationThuThuocErrors = [];\n        }\n        this.cdRef.detectChanges();\n        if (this.setDefeautTienMat.length === 0) {\n            this.validationThuThuocErrors.push({\n                Message: \"Vui lòng chọn hình thức thanh toán.\",\n                Field: \"HinhThucThanhToan\",\n            });\n            return true;\n        }\n        if (this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault).length === 0) {\n            this.notificationService.showError('Người bệnh này không có thuốc nào để thanh toán');\n            checkTien = false;\n        }\n        if (this.thongtinDonThuoc.HinhThucThanhToan.length !== 0 && this.kiemTraNhapSoTienTra(this.thongtinDonThuoc)) {\n            this.notificationService.showError('Số tiền nhập không đúng.');\n            checkTien = false;\n        }\n        if (this.dataSourcedanhsachThuoc.length != 0) {\n            this.dataSourcedanhsachThuoc.data.forEach(element => {\n                if (element.KiemTraTienSoTienItemDichVu === true) {\n                    this.notificationService.showError('Thanh toán không hợp lệ');\n                    checkTien = false;\n                }\n            });\n        }\n        this.thongtinDonThuoc.TongTien = this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo;\n        if (this.thongtinDonThuoc.Id == null) {\n            this.thongtinDonThuoc.Id = this.id;\n        }\n        console.log(\"thongtindonthuoc\", this.thongtinDonThuoc);\n        this.thongtinDonThuoc.DanhSachDonThuocs = this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault);\n        this.apiService.post('QuayThuoc/CheckValidationForQuayThuoc', this.thongtinDonThuoc).subscribe(() => {\n            if (checkTien === true) {\n                if (this.confirm != null) {\n                    // this.dialog.closeAll();\n                    this.confirm = null;\n                }\n                this.confirm = this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_12__[\"ConfirmComponent\"], {\n                    disableClose: true,\n                    width: '700px',\n                    data: {\n                        Title: 'Xác nhận', Message: 'Bạn chắc chắn muốn thu của người bệnh ' +\n                            this.benhnhanThongTin.HoTen.bold() + ' với số tiền là ' +\n                            this.tongTien.toLocaleString('vi-VI').bold() + ' đồng hay không?'\n                    }\n                }).afterClosed().subscribe(result => {\n                    if (result === 'Yes') {\n                        this.GuiData(this.thongtinDonThuoc);\n                        this.setDefeautTienMat = [1];\n                        this.checkSeletedTienMat = true;\n                        this.defeautSoTien();\n                    }\n                });\n            }\n        }, (err) => {\n            this.validationThuThuocErrors = err.ValidationErrors;\n        });\n    }\n    extCheckboxSelection(event) {\n        this.dataSourcedanhsachThuoc.data.forEach(element => {\n            element.CheckedDefault = false;\n        });\n        if (event.length > 0) {\n            // tslint:disable-next-line: prefer-for-of\n            for (let index = 0; index < event.length; index++) {\n                this.dataSourcedanhsachThuoc.data.forEach(element => {\n                    let soTienMG = this.tinhSoTienMiemGiam(element);\n                    element.SoTienMG = soTienMG;\n                    // số tiền người bệnh phải trả đã trừ số tiền miễn giảm\n                    let soTienCN = this.soTienCongNoChoTungDichVu(element);\n                    if (element.BNConPhaiThanhToan >= element.SoTienMG) {\n                        element.BNConPhaiThanhToan = ((element.DonGia * element.SoLuongMua)) - soTienCN - element.SoTienMG;\n                    }\n                    if (element.Id === event[index]) {\n                        return element.CheckedDefault = true;\n                    }\n                });\n            }\n        }\n        this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault)\n            .reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0));\n        this.thongtinDonThuoc.BenhNhanDua = 0;\n        this.thongtinDonThuoc.TienTraLai = 0;\n        if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n            if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n            }\n            else {\n                this.tongTien = 0;\n            }\n        }\n        // var items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        //let pos = this.thongtinDonThuoc.ChuyenKhoan;\n        // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n        //     this.thongtinDonThuoc.TienMat = this.tongTien;\n        //     this.thongtinDonThuoc.POS = 0;\n        //     this.thongtinDonThuoc.SoTienCongNo = 0;\n        //     this.thongtinDonThuoc.ChuyenKhoan = 0;\n        // }\n        this.clearHinhThucThanhToan();\n        this.defeautSoTien();\n        this.setDefeautTienMat = [1];\n        this.checkSeletedTienMat = true;\n        this.flagCheckSeletedTienMat = true;\n        this.thongtinDonThuoc.TienMat = this.tongTien;\n        this.resetGiaTienCongNo();\n        this.myDanhSachChuaThanhToan();\n    }\n    resetGiaTienCongNo() {\n        this.dataSourcedanhsachThuoc.data.forEach(element => {\n            if (element.CheckedDefault !== true) {\n                if (element.DanhSachCongNoChoThus != null && element.DanhSachCongNoChoThus.length !== 0) {\n                    element.DanhSachCongNoChoThus.forEach(congNo => {\n                        congNo.SoTienCongNoChoThu = 0;\n                    });\n                }\n            }\n        });\n    }\n    themThuoc() {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n        if (this.themDuocPham.DuocPhamId == null) {\n            this.validationErrors.push({ Message: 'Dược phẩm yêu cầu nhập', Field: 'DuocPhamId' });\n        }\n        if (this.themDuocPham.SoLuong == null || this.themDuocPham.SoLuong === 0) {\n            this.validationErrors.push({ Message: 'Số lượng yêu cầu nhập', Field: 'SoLuong' });\n        }\n        if (this.themDuocPham.SoLuongTon < this.themDuocPham.SoLuong) {\n            this.validationErrors.push({ Message: 'Số lượng phải nhỏ hơn tồn kho', Field: 'SoLuong' });\n        }\n        if (this.validationErrors.length > 0) {\n            return;\n        }\n        let soLuongDaMua = 0;\n        if (this.lstDonThuocMoiThem.length > 0) {\n            this.lstDonThuocMoiThem.forEach(x => {\n                if (x.DuocPhamId === this.themDuocPham.DuocPhamId) {\n                    soLuongDaMua = soLuongDaMua + x.SoLuongMua;\n                }\n            });\n        }\n        if (this.themDuocPham.SoLuongTon >= this.themDuocPham.SoLuong) {\n            let stt = 1;\n            let idNew = 1;\n            if (this.dataSourcedanhsachThuoc.data.length > 0) {\n                stt = this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length - 1].STT + 1;\n                idNew = this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length - 1].Id + 1;\n            }\n            let count = this.themDuocPham.SoLuong;\n            let tamp = this.lstthongTinDonThuoc;\n            if (this.lstDonThuocMoiThem != undefined || this.lstDonThuocMoiThem != null) {\n                for (let jisoo = 0; jisoo < this.lstDonThuocMoiThem.length; jisoo++) {\n                    for (let jihoo = 0; jihoo < this.lstthongTinDonThuoc.length; jihoo++) {\n                        if (this.lstDonThuocMoiThem[jisoo].Solo == this.lstthongTinDonThuoc[jihoo].Solo) {\n                            this.lstthongTinDonThuoc[jihoo].SoLuongTon = this.lstthongTinDonThuoc[jihoo].SoLuongTon - this.lstDonThuocMoiThem[jisoo].SoLuongMua;\n                            tamp = this.lstthongTinDonThuoc;\n                        }\n                    }\n                }\n            }\n            let dsMGThem1 = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"DanhSachMienGiamVo\"]();\n            let dsMGThem2 = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"DanhSachMienGiamVo\"]();\n            let danhSachMienGiamVos = new Array();\n            dsMGThem1.DoiTuongUuDai = null;\n            dsMGThem1.DoiTuongUuDaiId = null;\n            dsMGThem1.LoaiChietKhau = 1;\n            dsMGThem1.LoaiMienGiam = 3;\n            dsMGThem1.MaTheVoucher = null;\n            dsMGThem1.SoTien = 0;\n            dsMGThem1.TheVoucherId = null;\n            dsMGThem1.TiLe = 0;\n            danhSachMienGiamVos.push(dsMGThem1);\n            dsMGThem2.DoiTuongUuDai = null;\n            dsMGThem2.DoiTuongUuDaiId = null;\n            dsMGThem2.LoaiChietKhau = 2;\n            dsMGThem2.LoaiMienGiam = 3;\n            dsMGThem2.MaTheVoucher = null;\n            dsMGThem2.SoTien = 0;\n            dsMGThem2.TheVoucherId = null;\n            dsMGThem2.TiLe = 0;\n            danhSachMienGiamVos.push(dsMGThem2);\n            for (let index = 0; index < tamp.length; index++) { // tmp don thuuoc\n                if (tamp[index].SoLuongTon > 0) {\n                    if (count !== 0) {\n                        let item = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"ThongTinDuocPham\"]();\n                        if (count <= this.lstthongTinDonThuoc[index].SoLuongTon) {\n                            item = Object.assign({}, this.lstthongTinDonThuoc[index]);\n                            item.SoLuongMua = count;\n                            item.STT = stt;\n                            item.Id = idNew;\n                            item.CheckedDefault = true;\n                            item.isNew = true;\n                            item.BacSiKeToa = 'Nhà Thuốc';\n                            item.ThanhTien = item.SoLuongMua * item.DonGia;\n                            item.BNConPhaiThanhToan = item.ThanhTien;\n                            item.ThanhTienHienThi = Math.round(item.ThanhTien);\n                            item.DonGiaHienThi = Math.round(item.DonGia);\n                            item.BNConPhaiThanhToanHienThi = Math.round(item.ThanhTien);\n                            item.DanhSachCongNoChoThus = [];\n                            item.DanhSachMienGiamVos = danhSachMienGiamVos;\n                            if (this.danhSachCongNoChoThus.length > 0) {\n                                if (this.danhSachCongNoChoThus[0].CongNoChoThus.length !== 0 ||\n                                    this.danhSachCongNoChoThus == null || this.danhSachCongNoChoThus === undefined) {\n                                    for (let i = 0; i < this.danhSachCongNoChoThus[0].CongNoChoThus.length; i++) {\n                                        const congNo = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"CongNoChoThu\"]();\n                                        congNo.ViTri = i;\n                                        congNo.CongNoId = this.danhSachCongNoChoThus[0].CongNoChoThus[i].CongNoId;\n                                        congNo.TenCongTy = this.danhSachCongNoChoThus[0].CongNoChoThus[i].TenCongTy;\n                                        congNo.SoTienCongNoChoThu = 0;\n                                        item.DanhSachCongNoChoThus.push(congNo);\n                                    }\n                                }\n                            }\n                            this.lstDonThuocMoiThem.push(item);\n                            this.mySelectionInPage.push(idNew);\n                            this.mySelection = this.mySelection.concat(this.mySelectionInPage);\n                            this.lstthongTinDonThuoc[index].SoLuongTon = this.lstthongTinDonThuoc[index].SoLuongTon - count;\n                            this.dataSourcedanhsachThuoc.data.push(item);\n                            this.duocPhamCombobox.focusManual();\n                            count = 0;\n                        }\n                        else {\n                            item = Object.assign({}, this.lstthongTinDonThuoc[index]);\n                            item.SoLuongMua = this.lstthongTinDonThuoc[index].SoLuongTon;\n                            item.ThanhTien = item.SoLuongMua * item.DonGia;\n                            item.BNConPhaiThanhToan = Math.round(item.ThanhTien);\n                            item.ThanhTienHienThi = Math.round(item.ThanhTien);\n                            item.DonGiaHienThi = Math.round(item.DonGia);\n                            item.BNConPhaiThanhToanHienThi = Math.round(item.ThanhTien);\n                            item.STT = stt;\n                            item.Id = idNew;\n                            item.isNew = true;\n                            item.CheckedDefault = true;\n                            item.BacSiKeToa = 'Nhà Thuốc';\n                            count = count - this.lstthongTinDonThuoc[index].SoLuongTon;\n                            item.DanhSachCongNoChoThus = [];\n                            item.DanhSachMienGiamVos = danhSachMienGiamVos;\n                            if (this.danhSachCongNoChoThus.length > 0) {\n                                if (this.danhSachCongNoChoThus[0].CongNoChoThus.length !== 0 ||\n                                    this.danhSachCongNoChoThus == null || this.danhSachCongNoChoThus === undefined) {\n                                    // tslint:disable-next-line: prefer-for-of\n                                    for (let i = 0; i < this.danhSachCongNoChoThus[0].CongNoChoThus.length; i++) {\n                                        const congNo = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"CongNoChoThu\"]();\n                                        congNo.ViTri = i;\n                                        congNo.CongNoId = this.danhSachCongNoChoThus[0].CongNoChoThus[i].CongNoId;\n                                        congNo.TenCongTy = this.danhSachCongNoChoThus[0].CongNoChoThus[i].TenCongTy;\n                                        congNo.SoTienCongNoChoThu = 0;\n                                        item.DanhSachCongNoChoThus.push(congNo);\n                                    }\n                                }\n                            }\n                            this.lstDonThuocMoiThem.push(item);\n                            this.mySelectionInPage.push(idNew);\n                            this.mySelection = this.mySelection.concat(this.mySelectionInPage);\n                            this.dataSourcedanhsachThuoc.data.push(item);\n                            this.duocPhamCombobox.focusManual();\n                            this.lstthongTinDonThuoc.splice(index, 1);\n                            index = -1;\n                        }\n                        idNew++;\n                        stt++;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            if (this.lstDonThuocMoiThem.length > 0) {\n                this.lstDonThuocMoiThem.forEach(x => {\n                    if (x.DuocPhamId === this.themDuocPham.DuocPhamId) {\n                        soLuongDaMua = soLuongDaMua + x.SoLuongMua;\n                    }\n                });\n            }\n            this.themDuocPham.SoLuongTon = this.themDuocPham.SoLuongTon - this.themDuocPham.SoLuong;\n            this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n            this.tongTien = this.tongTienGrid;\n            if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n                if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                    this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n                }\n                else {\n                    this.tongTien = 0;\n                }\n            }\n            // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n            //     this.thongtinDonThuoc.TienMat = this.tongTien;\n            // }\n            let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n            if (items != null && items.length > 0) {\n                this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n            }\n            this.themDuocPham = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"ThemDuocPham\"]();\n        }\n        else {\n            this.notificationService.showError('Số lượng bạn nhập lớn hơn số lượng tồn');\n        }\n        this.gridData = this.dataSourcedanhsachThuoc.data;\n        this.setSelectAll();\n        this.danhSachXemTruocBangKeThuocVaVatTu(this.dataSourcedanhsachThuoc.data);\n    }\n    // change số lượng mua trả các giá trị về bằng 0\n    modelChangeSoLuongMua(ev, dsQuayThuocs) {\n        // tslint:disable-next-line: prefer-for-of\n        for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n            if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === true) {\n                if (this.dataSourcedanhsachThuoc.data[index].Id === dsQuayThuocs.Id) {\n                    this.dataSourcedanhsachThuoc.data[index].SoLuongMua = ev;\n                    let soTienMGiam = this.tinhSoTienMiemGiam(this.dataSourcedanhsachThuoc.data[index]);\n                    this.dataSourcedanhsachThuoc.data[index].SoTienMG = soTienMGiam;\n                    this.dataSourcedanhsachThuoc.data[index].ThanhTien = ev * this.dataSourcedanhsachThuoc.data[index].DonGia;\n                    this.changeInputSoTienMGBindGrid(this.dataSourcedanhsachThuoc.data[index]);\n                    // this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan = this.dataSourcedanhsachThuoc.data[index].ThanhTien;\n                    if (this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus != null) {\n                        if (this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus.length > 0) {\n                            // tslint:disable-next-line: prefer-for-of\n                            for (let i = 0; i < this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus.length; i++) {\n                                this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[i].SoTienCongNoChoThu = 0;\n                                this.dataSourcedanhsachThuoc.data[index].KiemTraTienSoTienItemDichVu =\n                                    this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan < 0 ? true : false;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n        this.tongTien = this.tongTienGrid;\n        if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n            if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n            }\n            else {\n                this.tongTien = 0;\n            }\n        }\n        let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        if (items != null && items.length > 0) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n    }\n    modelChangeSoTienMg(ev, data) {\n        data.SoTienMG = ev;\n        this.changeInputSoTienMgBindGrid(data);\n        this.myDanhSachChuaThanhToan();\n    }\n    changeInputSoTienMgBindGrid(data) {\n        const totalCongNo = this.itemTotalCongNo(data.DanhSachCongNoChoThus);\n        // tslint:disable-next-line: prefer-for-of\n        for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n            if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === true) {\n                if (this.dataSourcedanhsachThuoc.data[index].Id === data.Id) {\n                    this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan =\n                        this.dataSourcedanhsachThuoc.data[index].ThanhTien - totalCongNo - data.SoTienMG;\n                    this.dataSourcedanhsachThuoc.data[index].KiemTraTienSoTienItemDichVu =\n                        this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan < 0 ? true : false;\n                }\n            }\n        }\n        this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n        this.tongTien = this.tongTienGrid;\n        if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n            if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n            }\n            else {\n                this.tongTien = 0;\n            }\n        }\n        // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n        //     this.thongtinDonThuoc.TienMat = this.tongTien;\n        // }\n        let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        if (items != null && items.length > 0) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n    }\n    getThongTinMienGiam(id) {\n        this.apiService.get('ThuNgan/GetThongTinMienGiam?yeuCauTiepNhanId=' + id).subscribe(resultData => {\n            if (resultData !== null && resultData !== undefined) {\n                this.thongTinMienGiamVos = resultData;\n                this.bindChiaPhanTramDoiTuongUuDai();\n                if (this.apDungMienGiam === true) {\n                    this.notificationService.showSuccess('Áp dụng miễn giảm thành công.');\n                }\n                this.afterChangedMg.emit();\n            }\n        });\n        this.cdRef.detectChanges();\n    }\n    modelChangeCongNo(ev, data, vtri) {\n        data.DanhSachCongNoChoThus[vtri].SoTienCongNoChoThu = ev;\n        data.SoTienMG = 0;\n        this.changeInputCongNoBindGrid(data);\n        this.myDanhSachChuaThanhToan();\n    }\n    changeInputCongNoBindGrid(data) {\n        const totalCongNo = this.itemTotalCongNo(data.DanhSachCongNoChoThus);\n        // tslint:disable-next-line: prefer-for-\n        for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n            if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === true) {\n                if (this.dataSourcedanhsachThuoc.data[index].Id === data.Id) {\n                    this.dataSourcedanhsachThuoc.data[index].SoTienMG = this.tinhSoTienMiemGiam(this.dataSourcedanhsachThuoc.data[index]);\n                    this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan =\n                        this.dataSourcedanhsachThuoc.data[index].ThanhTien - totalCongNo - this.dataSourcedanhsachThuoc.data[index].SoTienMG;\n                    this.dataSourcedanhsachThuoc.data[index].KiemTraTienSoTienItemDichVu =\n                        this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan < 0 ? true : false;\n                }\n            }\n        }\n        this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n        this.tongTien = this.tongTienGrid;\n        if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n            if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n            }\n            else {\n                this.tongTien = 0;\n            }\n        }\n        // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n        //     this.thongtinDonThuoc.TienMat = this.tongTien;\n        // }\n        let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        if (items != null && items.length > 0) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n    }\n    modelChangePos(ev, type) {\n        const total = (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.SoTienCongNo) === 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.SoTienCongNo);\n        this.selectMoneyTienPos = [total, 0];\n        this.thongtinDonThuoc.POS = ev;\n        this.onValueChange(ev, type);\n    }\n    modelChangeChuyenKhoan(ev, type) {\n        const total = (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo) !== 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo);\n        this.selectMoneyTienChuyenKhoan = [total, 0];\n        this.thongtinDonThuoc.ChuyenKhoan = ev;\n        this.onValueChange(ev, type);\n    }\n    modelChangeTienMat(ev, type) {\n        const total = (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo) === 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo);\n        this.selectMoneyTienMat = [total, 0];\n        this.thongtinDonThuoc.TienTraLai = this.thongtinDonThuoc.BenhNhanDua - this.thongtinDonThuoc.TienMat;\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n        this.thongtinDonThuoc.TienMat = ev;\n        this.onValueChange(ev, type);\n    }\n    modelChangeSoTienCongNo(ev, type) {\n        const total = (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.TienMat) === 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.TienMat);\n        this.selectMoneySoTienCongNo = [total, 0];\n        this.thongtinDonThuoc.SoTienCongNo = ev;\n        this.onValueChange(ev, type);\n    }\n    modelChangeTienBNDua(input) {\n        this.selectMoneyTienBNDua = [this.tongTien, 100000000];\n        this.thongtinDonThuoc.TienTraLai = input - this.thongtinDonThuoc.TienMat;\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n    }\n    onChangeBenhNhanDua() {\n        this.thongtinDonThuoc.TienTraLai = this.thongtinDonThuoc.BenhNhanDua - this.thongtinDonThuoc.TienMat;\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n    }\n    // Begin pttt và công nợ cho quầy thuốc 21/08/2020\n    defeautSoTien() {\n        this.thongtinDonThuoc.TienMat = 0;\n        this.thongtinDonThuoc.POS = 0;\n        this.thongtinDonThuoc.SoTienCongNo = 0;\n        this.thongtinDonThuoc.ChuyenKhoan = 0;\n        this.thongtinDonThuoc.BenhNhanDua = 0;\n        this.thongtinDonThuoc.TienTraLai = 0;\n    }\n    tinhTienChoPhuongThucThanhToan(item) {\n        switch (item) {\n            case 1:\n                this.thongtinDonThuoc.TienMat = this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                if (this.thongtinDonThuoc.TienMat < 0) {\n                    this.thongtinDonThuoc.TienMat = 0;\n                }\n                break;\n            case 2:\n                this.thongtinDonThuoc.ChuyenKhoan = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                if (this.thongtinDonThuoc.ChuyenKhoan < 0) {\n                    this.thongtinDonThuoc.ChuyenKhoan = 0;\n                }\n                break;\n            case 3:\n                this.thongtinDonThuoc.POS = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.SoTienCongNo;\n                if (this.thongtinDonThuoc.POS < 0) {\n                    this.thongtinDonThuoc.POS = 0;\n                }\n                break;\n            case 4:\n                this.thongtinDonThuoc.SoTienCongNo = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS;\n                if (this.thongtinDonThuoc.SoTienCongNo < 0) {\n                    this.thongtinDonThuoc.SoTienCongNo = 0;\n                }\n                break;\n        }\n    }\n    ChangeHinhThucThanhToan(event) {\n        this.clearHinhThucThanhToan();\n        this.defeautSoTien();\n        this.showCanhBaoSoTienNhap = false;\n        var items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        if (items != null && items.length === 1) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n        event.forEach((element) => {\n            switch (element) {\n                case 1:\n                    this.flagCheckSeletedTienMat = true;\n                    break;\n                case 2:\n                    this.flagCheckSeletedChuyenKhoan = true;\n                    break;\n                case 3:\n                    this.flagCheckSeletedPos = true;\n                    break;\n                case 4:\n                    this.flagCheckSeletedSoTienCongNo = true;\n                    break;\n            }\n        });\n        this.hinhThucThanhToan.forEach(item => { item.Change = false; });\n        this.hinhThucThanhToan.forEach(item => {\n            if (event.filter(o => o == item.KeyId).length > 0) {\n                item.Selected = true;\n                if (event.length == 1) {\n                    switch (item.KeyId) {\n                        case 1:\n                            this.thongtinDonThuoc.TienMat = this.tongTien;\n                            break;\n                        case 2:\n                            this.thongtinDonThuoc.ChuyenKhoan = this.tongTien;\n                            break;\n                        case 3:\n                            this.thongtinDonThuoc.POS = this.tongTien;\n                            break;\n                        case 4:\n                            this.thongtinDonThuoc.SoTienCongNo = this.tongTien;\n                            break;\n                    }\n                }\n            }\n            else {\n                item.Selected = false;\n            }\n        });\n        this.cdRef.detectChanges();\n    }\n    onValueChange(event, type) {\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n        this.hinhThucThanhToan.forEach(item => {\n            if (item.KeyId == type) {\n                item.Change = true;\n            }\n        });\n        var itemNotChanges = this.hinhThucThanhToan.filter(o => o.Selected == true && o.Change == false);\n        if (itemNotChanges.length == 1) {\n            this.changeSoTien(itemNotChanges[0].KeyId);\n        }\n        else {\n            if (itemNotChanges.length == 0 && this.hinhThucThanhToan.filter(o => o.Selected == true).length == 2) {\n                var items = this.hinhThucThanhToan.filter(o => o.Selected == true && o.KeyId != type);\n                this.changeSoTien(items[0].KeyId);\n            }\n        }\n        if (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo != this.tongTien) {\n            this.showCanhBaoSoTienNhap = true;\n        }\n        else {\n            this.showCanhBaoSoTienNhap = false;\n        }\n        this.changeTienTraLaiBenhNhan();\n    }\n    changeSoTien(items) {\n        switch (items) {\n            case 1:\n                this.thongtinDonThuoc.TienMat = (this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                break;\n            case 2:\n                this.thongtinDonThuoc.ChuyenKhoan = (this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                break;\n            case 3:\n                this.thongtinDonThuoc.POS = (this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.SoTienCongNo) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.SoTienCongNo;\n                break;\n            case 4:\n                this.thongtinDonThuoc.SoTienCongNo = (this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS;\n                break;\n        }\n    }\n    changeTienTraLaiBenhNhan() {\n        if (this.thongtinDonThuoc.BenhNhanDua > this.thongtinDonThuoc.TienMat) {\n            this.thongtinDonThuoc.TienTraLai =\n                this.thongtinDonThuoc.BenhNhanDua - this.thongtinDonThuoc.TienMat;\n        }\n        else {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n    }\n    // End pttt và công nợ cho quầy thuốc 21/08/2020\n    onKeyEnterAddItem(event) {\n        if (event.key == \"Enter\" && !this.isSelectingItem) {\n            if (this.isSelectingItem != true) {\n                this.themThuoc();\n            }\n            else {\n                this.isSelectingItem = false;\n            }\n        }\n    }\n    openCombobox(event) {\n        if (event) {\n            this.isSelectingItem = true;\n        }\n        else {\n            this.isSelectingItem = false;\n        }\n    }\n    onKey(event) {\n        if (event.key == \"Enter\" && !this.isSelectingItem) {\n            if (this.isSelectingItem != true) {\n                this.themThuoc();\n            }\n            else {\n                this.isSelectingItem = false;\n            }\n        }\n    }\n    apDungMiemGiamThem() {\n        let dataMGT = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"ApDungMiemGiamThem\"];\n        if (this.confrim != null) {\n            this.dialog.closeAll();\n            this.confrim = null;\n        }\n        this.confrim = this.dialog.open(_ap_dung_miem_giam_them_popup_ap_dung_miem_giam_them_popup_component__WEBPACK_IMPORTED_MODULE_15__[\"ApDungMiemGiamThemPopupComponent\"], {\n            disableClose: true,\n            width: \"500px\",\n            data: { dataMGT }\n        }).afterClosed().subscribe((result) => {\n            if (result != null) {\n                // this.dataSourcedanhsachThuoc.data.forEach(element => {\n                //     if(element.DanhSachMienGiamVos != null)\n                //     {\n                //         for (const danhSachMienGiam of element.DanhSachMienGiamVos.filter(x => x.LoaiMienGiam === this.loaiMienGiam.MienGiamThem)) {\n                //             element.DanhSachMienGiamVos.splice(element.DanhSachMienGiamVos.indexOf(danhSachMienGiam), 1);\n                //         }\n                //     }\n                // });\n                this.dataSourcedanhsachThuoc.data.forEach(element => {\n                    element.GhiChuMienGiamThem = result.GhiChu;\n                    element.DanhSachMienGiamVos = new Array();\n                    if (result.TiLe != undefined && result.TiLe != null) {\n                        let dsMiemGiamThem = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"DanhSachMienGiamVo\"]();\n                        dsMiemGiamThem.LoaiMienGiam = this.loaiMienGiam.MienGiamThem;\n                        dsMiemGiamThem.LoaiChietKhau = this.loaiChietKhau.ChietKhauTheoTiLe;\n                        dsMiemGiamThem.TiLe = result.TiLe;\n                        element.DanhSachMienGiamVos.push(dsMiemGiamThem);\n                    }\n                    if (result.SoTien != undefined && result.SoTien != null) {\n                        let dsMiemGiamThem = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"DanhSachMienGiamVo\"]();\n                        dsMiemGiamThem.LoaiMienGiam = this.loaiMienGiam.MienGiamThem;\n                        dsMiemGiamThem.LoaiChietKhau = this.loaiChietKhau.ChietKhauTheoSoTien;\n                        dsMiemGiamThem.SoTien = result.SoTien;\n                        dsMiemGiamThem.SoTienMiemGiamTatCa = result.SoTien;\n                        element.DanhSachMienGiamVos.push(dsMiemGiamThem);\n                    }\n                });\n                console.log(result);\n                // console.log(\"data miễn giảm\",this.dataSourcedanhsachThuoc.data);\n                this.dataSourcedanhsachThuoc.data.forEach(element => {\n                    element.SoTienMG = this.tinhSoTienMiemGiam(element);\n                    if (element.SoTienMG > element.BNConPhaiThanhToan) {\n                        this.notificationService.showSuccess('Số tiền áp dụng lớn hơn số tiền cần thanh toán.');\n                    }\n                    // số tiền người bệnh phải trả đã trừ số tiền miễn giảm\n                    let soTienCN = this.soTienCongNoChoTungDichVu(element);\n                    if (element.BNConPhaiThanhToan >= element.SoTienMG) {\n                        element.BNConPhaiThanhToan = ((element.DonGia * element.SoLuongMua)) - soTienCN - element.SoTienMG;\n                    }\n                });\n                this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n                this.tongTien = this.tongTienGrid;\n                if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n                    if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                        this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n                    }\n                    else {\n                        this.tongTien = 0;\n                    }\n                }\n                // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n                //     this.thongtinDonThuoc.TienMat = this.tongTien;\n                // }\n                let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n                if (items != null && items.length > 0) {\n                    this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n                }\n                this.notificationService.showSuccess(\"Áp dụng miễn giảm thành công.\");\n            }\n        });\n    }\n    tinhSoTienMiemGiam(dataItem) {\n        let tongTatCaSoTienMg = 0;\n        var tiLePhanTramConLai = 100;\n        let tongTienTungDichVu = ((dataItem.DonGia * dataItem.SoLuongMua)) - this.soTienCongNoChoTungDichVu(dataItem);\n        var soTienConLai = tongTienTungDichVu;\n        if (tongTienTungDichVu > 0) {\n            var dsMienGiamTheoPhanTram = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 1 && item.TiLe != 0);\n            var dsMienGiamTheoSoTien = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 2 && item.SoTien != 0);\n            if (dsMienGiamTheoPhanTram != null && dsMienGiamTheoPhanTram.length > 0) {\n                //Sắp xếp theo thứ tự:Ưu đãi, Voucher, Miễn giảm thêm\n                dsMienGiamTheoPhanTram = underscore__WEBPACK_IMPORTED_MODULE_17__[\"sortBy\"](dsMienGiamTheoPhanTram, 'LoaiMienGiam');\n                dsMienGiamTheoPhanTram.forEach(item => {\n                    //Nếu tỉ lệ còn lại sau khi đổ từ trên xuống\n                    if (tiLePhanTramConLai > 0) {\n                        item.TiLe = item.TiLe > tiLePhanTramConLai ? tiLePhanTramConLai : item.TiLe;\n                    }\n                    else {\n                        item.TiLe = 0;\n                    }\n                    item.TongTienMiemGiam = (item.TiLe * tongTienTungDichVu) / 100;\n                    tongTatCaSoTienMg += item.TongTienMiemGiam;\n                    if (item.TiLe >= tiLePhanTramConLai) {\n                        tiLePhanTramConLai = 0;\n                    }\n                    else {\n                        tiLePhanTramConLai = tiLePhanTramConLai - item.TiLe;\n                    }\n                });\n            }\n            if (tiLePhanTramConLai > 0 && dsMienGiamTheoSoTien != null && dsMienGiamTheoSoTien.length > 0) {\n                tiLePhanTramConLai = dsMienGiamTheoPhanTram != null && dsMienGiamTheoPhanTram.length > 0 ? tiLePhanTramConLai : 0;\n                soTienConLai = tiLePhanTramConLai != 0 ? (((dataItem.ThanhTien - this.soTienCongNoChoTungDichVu(dataItem)) * tiLePhanTramConLai) / 100) : dataItem.ThanhTien - this.soTienCongNoChoTungDichVu(dataItem);\n                //Sắp xếp theo thứ tự:Ưu đãi, Voucher, Miễn giảm thêm\n                dsMienGiamTheoSoTien = underscore__WEBPACK_IMPORTED_MODULE_17__[\"sortBy\"](dsMienGiamTheoSoTien, 'LoaiMienGiam');\n                dsMienGiamTheoSoTien.forEach(item => {\n                    //Nếu số tiền còn lại sau khi đổ từ trên xuống\n                    if (soTienConLai > 0) {\n                        item.SoTien = item.SoTien > soTienConLai ? soTienConLai : item.SoTien;\n                    }\n                    else {\n                        item.SoTien = 0;\n                    }\n                    item.TongTienMiemGiam = item.SoTien;\n                    tongTatCaSoTienMg += item.TongTienMiemGiam;\n                    if (item.SoTien >= soTienConLai) {\n                        soTienConLai = 0;\n                    }\n                    else {\n                        soTienConLai = soTienConLai - item.SoTien;\n                    }\n                });\n            }\n            else {\n                dsMienGiamTheoSoTien = underscore__WEBPACK_IMPORTED_MODULE_17__[\"sortBy\"](dsMienGiamTheoSoTien, 'LoaiMienGiam');\n                dsMienGiamTheoSoTien.forEach(item => {\n                    //NẾU PHẦN TRĂM MÀ SÀI HẾT THÌ BIND TIỀN TẤT CẢ CON LẠI BẰNG 0\n                    item.SoTien = 0;\n                });\n            }\n        }\n        return tongTatCaSoTienMg < 0 ? 0 : tongTatCaSoTienMg;\n    }\n    soTienCongNoChoTungDichVu(dataItem) {\n        let soTienCongNo = 0;\n        if (dataItem.DanhSachCongNoChoThus != null) {\n            dataItem.DanhSachCongNoChoThus.forEach(element => {\n                soTienCongNo = soTienCongNo + element.SoTienCongNoChoThu;\n            });\n        }\n        return soTienCongNo;\n    }\n    apDungMiemGiamChoTungDichVu(dataItem) {\n        // this.dataSourcedanhsachThuoc.data = this.danhSachChiPhiKhamChuaBenh;\n        let isView = true;\n        if (this.confrim != null) {\n            this.dialog.closeAll();\n            this.confrim = null;\n        }\n        this.confrim = this.dialog.open(_ap_dung_miem_giam_cho_tung_loai_thuoc_popup_ap_dung_miem_giam_cho_tung_loai_thuoc_popup_component__WEBPACK_IMPORTED_MODULE_16__[\"ApDungMiemGiamChoTungLoaiThuocPopupComponent\"], {\n            disableClose: true,\n            width: \"500px\",\n            data: { dataItem, isView },\n        }).afterClosed().subscribe((result) => {\n            if (result != null) {\n                //tính số tiền miễm giam tren grid                \n                if (result.apdungMGTThanhCong) {\n                    this.dataSourcedanhsachThuoc.data.forEach(element => {\n                        if (element.Id === result.Id) {\n                            element.GhiChuMienGiamThem = result.GhiChuMienGiamThem;\n                            element.SoTienMG = this.tinhSoTienMiemGiam(element);\n                            this.modelChangeSoTienMG(element);\n                        }\n                    });\n                    console.log(\"data\", this.dataSourcedanhsachThuoc.data);\n                    this.notificationService.showSuccess(\"Áp dụng miễn giảm thành công.\");\n                }\n                else {\n                    this.dataSourcedanhsachThuoc.data.forEach(element => {\n                        if (element.Id === result.Id) {\n                            if (element.DanhSachMienGiamVos != null) {\n                                element.DanhSachMienGiamVos.forEach(item => {\n                                    result.DanhSachMienGiamVos.forEach(item1 => {\n                                        if (item1.LoaiMienGiam === item.LoaiMienGiam && item1.LoaiChietKhau === 1) {\n                                            {\n                                                item.TiLe = item1.TiLe;\n                                                item.TongTienMiemGiam = 0;\n                                                item.DaSuDung = false;\n                                            }\n                                        }\n                                        if (item1.LoaiMienGiam === item.LoaiMienGiam && item1.LoaiChietKhau === 2) {\n                                            {\n                                                item.SoTien = item1.SoTien;\n                                                item.TongTienMiemGiam = 0;\n                                                item.DaSuDung = false;\n                                            }\n                                        }\n                                    });\n                                });\n                            }\n                        }\n                    });\n                }\n            }\n        });\n    }\n    modelChangeSoTienMG(data) {\n        this.changeInputSoTienMGBindGrid(data);\n        this.myDanhSachChuaThanhToan();\n    }\n    changeInputSoTienMGBindGrid(dsChiPhiKhamChuaBenh) {\n        for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n            let totalCongNo = this.itemTotalCongNo(dsChiPhiKhamChuaBenh.DanhSachCongNoChoThus);\n            if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === true) {\n                if (this.dataSourcedanhsachThuoc.data[index].Id === dsChiPhiKhamChuaBenh.Id) {\n                    dsChiPhiKhamChuaBenh.BNConPhaiThanhToan = dsChiPhiKhamChuaBenh.ThanhTien - totalCongNo - dsChiPhiKhamChuaBenh.SoTienMG;\n                    this.dataSourcedanhsachThuoc.data[index].KiemTraTienSoTienItemDichVu = this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan < 0 ? true : false;\n                }\n            }\n        }\n        this.gridData = Object(_progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_10__[\"process\"])(this.dataSourcedanhsachThuoc.data, this.state);\n        this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n        this.tongTien = this.tongTienGrid;\n        if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n            if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n            }\n            else {\n                this.tongTien = 0;\n            }\n        }\n        let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        if (items != null && items.length > 0) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n        // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n        //     this.thongtinDonThuoc.TienMat = this.tongTien;\n        // }\n        // this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0));\n        // this.tongTien = this.tongTienGrid;\n        // if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n        //     if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n        //         this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n        //     } else {\n        //         this.tongTien = 0;\n        //     }\n        // }\n        // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n        //     this.thongtinDonThuoc.TienMat = this.tongTien;\n        // }\n    }\n    nguoiBenhKhongMuaThuoc() {\n        debugger;\n        var self = this;\n        const yeuCauTiepNhanId = this.route.snapshot.params.id;\n        if (this.dataSourcedanhsachThuoc.data.length > 0) {\n            var nguoiDungKhongMuaDonThuoc = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_5__[\"NguoiDungKhongMuaDonThuoc\"]();\n            nguoiDungKhongMuaDonThuoc.YeuCauTiepNhanId = yeuCauTiepNhanId;\n            if (self.authService.hasPermission(self.documentType, src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_19__[\"SecurityOperation\"].Delete)) {\n                self.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_12__[\"ConfirmComponent\"], {\n                    disableClose: false,\n                    width: '400px',\n                    data: { Title: \"Xác nhận\", Message: \"Người bệnh không muốn mua thuốc này?\" }\n                }).afterClosed().subscribe(result => {\n                    if (result == \"Yes\") {\n                        self.apiService.post(\"QuayThuoc/NguoiBenhKhongMuaDonThuoc\", nguoiDungKhongMuaDonThuoc).subscribe(() => {\n                            self.notificationService.showSuccess(src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_20__[\"CommonService\"].format(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_21__[\"SystemMessage\"].ActionSuccessfully, [\"Xóa\"]));\n                            this.router.navigate(['nha-thuoc']);\n                        }, (err) => {\n                            self.validationErrors = err.ValidationErrors;\n                            if (err.Message != \"Validation Failed\") {\n                                self.notificationService.showError(err.Message);\n                            }\n                        });\n                    }\n                });\n            }\n            else {\n                self.notificationService.showError(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_21__[\"SystemMessage\"].UnAuthorizedMessage);\n            }\n        }\n    }\n    showPopupLoadingIn() {\n        this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_13__[\"LoadingComponent\"], {\n            disableClose: true,\n            width: '250px',\n            height: '90px',\n            data: { Title: 'Đang loading...' },\n        });\n    }\n    closePopupLoadingData() {\n        this.dialog.closeAll();\n    }\n};\nQuayThuocHinhThucThanhToanComponent.ctorParameters = () => [\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__[\"ActivatedRoute\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__[\"ApiService\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_6__[\"NotificationService\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_7__[\"MatDialog\"] },\n    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"] },\n    { type: src_app_core_services_auth_service__WEBPACK_IMPORTED_MODULE_22__[\"AuthService\"] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__[\"Router\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocHinhThucThanhToanComponent.prototype, \"danhSachChuaThanhToan\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocHinhThucThanhToanComponent.prototype, \"benhnhanThongTin\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocHinhThucThanhToanComponent.prototype, \"apDungCongNoThuoc\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocHinhThucThanhToanComponent.prototype, \"apDungMienGiam\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocHinhThucThanhToanComponent.prototype, \"thongTinTam\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocHinhThucThanhToanComponent.prototype, \"viTri\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocHinhThucThanhToanComponent.prototype, \"thongTinMienGiamVos\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocHinhThucThanhToanComponent.prototype, \"afterChangedCongNo\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocHinhThucThanhToanComponent.prototype, \"afterChangedMg\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocHinhThucThanhToanComponent.prototype, \"changeTab\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('duocPhamCombobox', { static: false })\n], QuayThuocHinhThucThanhToanComponent.prototype, \"duocPhamCombobox\", void 0);\nQuayThuocHinhThucThanhToanComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        // tslint:disable-next-line: component-selector\n        selector: 'app-quay-thuoc-hinh-thuc-thanh-toan',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-hinh-thuc-thanh-toan.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-hinh-thuc-thanh-toan.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component.scss\")).default]\n    })\n], QuayThuocHinhThucThanhToanComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component.scss\":\n/*!******************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component.scss ***!\n  \\******************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".xac-nhan-ng-template {\\n  display: inline;\\n  white-space: nowrap;\\n}\\n\\n.title {\\n  font-size: 15px;\\n  background: #ebeced;\\n  border: 1px solid #ccc;\\n  padding: 5px;\\n}\\n\\nmat-icon {\\n  cursor: pointer;\\n  margin-top: 8px;\\n}\\n\\n.warning {\\n  margin-bottom: -8px;\\n  margin-top: 0px;\\n  color: #ff5722;\\n}\\n\\n.info {\\n  color: #00bcd4;\\n}\\n\\n.ten-dich-vu-label {\\n  display: inline;\\n  text-overflow: ellipsis;\\n}\\n\\n.tooltip-block {\\n  background: #005dab;\\n  color: #fff;\\n}\\n\\n.tooltip-block * {\\n  font-size: 13px;\\n}\\n\\nsection.check-box-huong-bhyt {\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.color-red {\\n  color: red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS1jaG8tdGhhbmgtdG9hbi9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXHF1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWktY2hvLXRoYW5oLXRvYW5cXHF1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWktY2hvLXRoYW5oLXRvYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWktY2hvLXRoYW5oLXRvYW4vcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS1jaG8tdGhhbmgtdG9hbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxlQUFBO0VBQ0EsZUFBQTtBQ0NGOztBREVBO0VBQ0UsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLHVCQUFBO0FDQ0Y7O0FERUE7RUFDRSxtQkFBQTtFQUNBLFdBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtBQ0NGOztBREVBO0VBQ0UsVUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS1jaG8tdGhhbmgtdG9hbi9xdWF5LXRodW9jLWtoYWNoLXZhbmctbGFpLWNoby10aGFuaC10b2FuLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnhhYy1uaGFuLW5nLXRlbXBsYXRlIHtcbiAgZGlzcGxheTogaW5saW5lO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG4udGl0bGUge1xuICBmb250LXNpemU6IDE1cHg7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIHBhZGRpbmc6IDVweDtcbn1cblxubWF0LWljb24ge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIG1hcmdpbi10b3A6IDhweDtcbn1cblxuLndhcm5pbmcge1xuICBtYXJnaW4tYm90dG9tOiAtOHB4O1xuICBtYXJnaW4tdG9wOiAwcHg7XG4gIGNvbG9yOiAjZmY1NzIyO1xufVxuXG4uaW5mbyB7XG4gIGNvbG9yOiAjMDBiY2Q0O1xufVxuXG4udGVuLWRpY2gtdnUtbGFiZWwge1xuICBkaXNwbGF5OiBpbmxpbmU7XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xufVxuXG4udG9vbHRpcC1ibG9jayB7XG4gIGJhY2tncm91bmQ6ICMwMDVkYWI7XG4gIGNvbG9yOiAjZmZmO1xufVxuXG4udG9vbHRpcC1ibG9jayAqIHtcbiAgZm9udC1zaXplOiAxM3B4O1xufVxuXG5zZWN0aW9uLmNoZWNrLWJveC1odW9uZy1iaHl0IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbi5jb2xvci1yZWQge1xuICBjb2xvcjogcmVkO1xufSIsIi54YWMtbmhhbi1uZy10ZW1wbGF0ZSB7XG4gIGRpc3BsYXk6IGlubGluZTtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLnRpdGxlIHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICBwYWRkaW5nOiA1cHg7XG59XG5cbm1hdC1pY29uIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBtYXJnaW4tdG9wOiA4cHg7XG59XG5cbi53YXJuaW5nIHtcbiAgbWFyZ2luLWJvdHRvbTogLThweDtcbiAgbWFyZ2luLXRvcDogMHB4O1xuICBjb2xvcjogI2ZmNTcyMjtcbn1cblxuLmluZm8ge1xuICBjb2xvcjogIzAwYmNkNDtcbn1cblxuLnRlbi1kaWNoLXZ1LWxhYmVsIHtcbiAgZGlzcGxheTogaW5saW5lO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbn1cblxuLnRvb2x0aXAtYmxvY2sge1xuICBiYWNrZ3JvdW5kOiAjMDA1ZGFiO1xuICBjb2xvcjogI2ZmZjtcbn1cblxuLnRvb2x0aXAtYmxvY2sgKiB7XG4gIGZvbnQtc2l6ZTogMTNweDtcbn1cblxuc2VjdGlvbi5jaGVjay1ib3gtaHVvbmctYmh5dCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4uY29sb3ItcmVkIHtcbiAgY29sb3I6IHJlZDtcbn0iXX0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component.ts\":\n/*!****************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component.ts ***!\n  \\****************************************************************************************************************************************/\n/*! exports provided: QuayThuocKhachVangLaiChoThanhToanComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocKhachVangLaiChoThanhToanComponent\", function() { return QuayThuocKhachVangLaiChoThanhToanComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n/* harmony import */ var _iconify_icons_ic_delete__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @iconify/icons-ic/delete */ \"./node_modules/@iconify/icons-ic/delete.js\");\n/* harmony import */ var _iconify_icons_ic_delete__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_delete__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/shared/component/dialogs/confirm/confirm.component */ \"./src/app/shared/component/dialogs/confirm/confirm.component.ts\");\n/* harmony import */ var _quay_thuoc_xac_nhan_in_pop_up_quay_thuoc_xac_nhan_in_pop_up_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component.ts\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/snack-bar */ \"./node_modules/@angular/material/esm2015/snack-bar.js\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_info__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @iconify/icons-ic/twotone-info */ \"./node_modules/@iconify/icons-ic/twotone-info.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_info__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_info__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _thong_tin_phieu_pdf_popup_thong_tin_phieu_pdf_popup_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component */ \"./src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.ts\");\n/* harmony import */ var src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! src/app/shared/component/dialogs/loading/loading.component */ \"./src/app/shared/component/dialogs/loading/loading.component.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet QuayThuocKhachVangLaiChoThanhToanComponent = class QuayThuocKhachVangLaiChoThanhToanComponent {\n    constructor(apiService, notificationService, dialog, snackBar, cdRef, router) {\n        this.apiService = apiService;\n        this.notificationService = notificationService;\n        this.dialog = dialog;\n        this.snackBar = snackBar;\n        this.cdRef = cdRef;\n        this.router = router;\n        this.tongTien = 0;\n        this.tongTienHienThi = 0;\n        this.icDelete = _iconify_icons_ic_delete__WEBPACK_IMPORTED_MODULE_4___default.a;\n        this.validationThuThuocErrors = [];\n        this.flagCheckSeletedTienMat = false;\n        this.flagCheckSeletedChuyenKhoan = false;\n        this.flagCheckSeletedPos = false;\n        this.flagCheckSeletedSoTienCongNo = false;\n        this.soLuongTonTrongKho = 0;\n        this.icInfo = _iconify_icons_ic_twotone_info__WEBPACK_IMPORTED_MODULE_12___default.a;\n        this.arrayThanhToans = [];\n        this.arrayThanhToanstmp = [];\n        this.selectItem = [];\n        this.checkSeletedTienMat = false;\n        this.checkSeletedChuyenKhoan = false;\n        this.checkSeletedPos = false;\n        this.isSelectingItem = false;\n        this.selectMoneyTienBNDua = null;\n        this.selectMoneyTienMat = null;\n        this.selectMoneyTienChuyenKhoan = null;\n        this.selectMoneyTienPos = null;\n        this.selectMoneySoTienCongNo = null;\n        this.setDefeautTienMat = [1];\n        this.showCanhBaoSoTienNhap = false;\n        this.tongTienGrid = 0;\n        this.danhSachChuaThanhToan = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.valueChangeThuTien = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.gridColumns = [];\n        this.lstDonThuocMoiThem = Array();\n        this.dataSourcedanhsachThuoc = {\n            data: [],\n            total: 0\n        };\n        this.hinhThucThanhToan = [\n            { KeyId: 1, DisplayName: \"Tiền mặt\", Selected: false, Change: false },\n            { KeyId: 2, DisplayName: \"Chuyển khoản\", Selected: false, Change: false },\n            { KeyId: 3, DisplayName: \"Pos\", Selected: false, Change: false },\n            { KeyId: 4, DisplayName: \"Công nợ\", Selected: false, Change: false },\n        ];\n        this.changeTab = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.MaTiepNhanBenhNhanDaThuTien = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.donThuocIds = [];\n    }\n    ngOnInit() {\n        this.documentType = src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_9__[\"DocumentType\"].QuayThuoc;\n        this.thongtinDonThuoc = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_3__[\"ThongTinDonThuoc\"]();\n        this.lstDonThuocMoiThem = new Array();\n        this.themDuocPham = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemDuocPham\"]();\n        this.deleteItem = new Array();\n        this.gridColumns = [\n            { Field: \"STT\", Title: \"#\", Width: 40, Sortable: false },\n            { Field: \"TenDuocPham\", Title: \"Tên Thuốc-Vật Tư\", Width: 120, Sortable: false },\n            // { Field: \"MaHoatChat\", Title: \"Hoạt Chất\", Width: 120, Sortable: false },\n            { Field: \"DonViTinh\", Title: \"ĐVT\", Width: 60, Sortable: false },\n            { Field: \"ViTri\", Title: \"Vị trí\", Width: 120, Sortable: false },\n            { Field: \"SoLuongMua\", Title: \"SL Mua\", Width: 90, Sortable: false, Template: this.soLuonTemplate },\n            { Field: \"DonGia\", Title: \"Đơn giá\", Width: 100, Sortable: false, Template: this.donGiaTemplate, TemplateFooter: this.footerTemplateDonGia },\n            { Field: \"ThanhTien\", Title: \"Thành tiền\", Width: 100, Sortable: false, Template: this.thanhTienTemplate, TemplateFooter: this.footerTemplateTongTienDonThuoc },\n            { Field: \"Solo\", Title: \"Số lô\", Width: 120, Sortable: false },\n            { Field: \"HanSuDungHientThi\", Title: \"Hạn sử dụng\", Width: 100, Sortable: false },\n            { Field: \"Action\", Title: \"\", Width: 50, Template: this.actionTemplate },\n        ];\n        this.flagCheckSeletedTienMat = true;\n        this.thongtinDonThuoc.NgayThu = new Date();\n        this.thongtinDonThuoc.NoiDungThu = \"Thu tiền thuốc\";\n        this.thongtinDonThuoc.HinhThucThanhToan = [1];\n        this.hinhThucThanhToan = [\n            { KeyId: 1, DisplayName: \"Tiền mặt\", Selected: true, Change: false },\n            { KeyId: 2, DisplayName: \"Chuyển khoản\", Selected: false, Change: false },\n            { KeyId: 3, DisplayName: \"Pos\", Selected: false, Change: false },\n            { KeyId: 4, DisplayName: \"Công nợ\", Selected: false, Change: false },\n        ];\n        ;\n        if (this.donThuocId.ToaThuoc != null) {\n            this.getDonThuocChiTietCu();\n        }\n    }\n    onSelectDuocPham(event) {\n        if (event !== undefined) {\n            this.apiService.post('QuayThuoc/GetThongTinDuocPham?duocPhamId=' + event.KeyId + \"&LoaiDuocPhamHoacVatTu=\" + event.LoaiDuocPhamHoacVatTu).subscribe(resultData => {\n                debugger;\n                let soLuongTon = 0;\n                this.lstthongTinDonThuoc = resultData;\n                if (this.lstDonThuocMoiThem.length > 0) {\n                    this.lstDonThuocMoiThem.forEach(x => {\n                        if (x.DuocPhamId == this.themDuocPham.DuocPhamId) {\n                            soLuongTon = soLuongTon + x.SoLuongMua;\n                        }\n                    });\n                }\n                debugger;\n                this.themDuocPham.SoLuongTon = resultData.reduce((sum, item) => sum + item.SoLuongTon, 0) - soLuongTon;\n            });\n        }\n        else {\n            this.themDuocPham.SoLuongTon = null;\n        }\n    }\n    delete(event) {\n        if (event != undefined && event != null) {\n            this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_7__[\"ConfirmComponent\"], {\n                disableClose: false,\n                width: \"500px\",\n                data: {\n                    Title: \"Xác nhận\",\n                    Message: \"Bạn có muốn xóa thuốc/vật tư này không ?\",\n                },\n            }).afterClosed().subscribe((res) => {\n                if (res == \"Yes\") {\n                    let i = 0;\n                    let stt = event.STT;\n                    for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n                        if (this.dataSourcedanhsachThuoc.data[index].STT == event.STT) {\n                            i = index;\n                            this.soLuongTonTrongKho = this.dataSourcedanhsachThuoc.data[index].SoLuongTon;\n                        }\n                    }\n                    this.dataSourcedanhsachThuoc.data[i].SoLuongDung = null;\n                    this.dataSourcedanhsachThuoc.data[i].HighLightClass = null;\n                    this.deleteItem.push(this.dataSourcedanhsachThuoc.data[i]);\n                    this.lstthongTinDonThuoc = new Array();\n                    this.lstthongTinDonThuoc.push(this.dataSourcedanhsachThuoc.data[i]);\n                    this.dataSourcedanhsachThuoc.data.splice(i, 1);\n                    let soLuongTon = 0;\n                    let tenDuocPhamText = \"\";\n                    let duocPhamId = 0;\n                    if (this.deleteItem.length > 0) {\n                        this.deleteItem.forEach(x => {\n                            soLuongTon = soLuongTon + x.SoLuongMua;\n                            tenDuocPhamText = x.TenDuocPham;\n                            duocPhamId = x.DuocPhamId;\n                        });\n                    }\n                    this.thongtinDonThuoc.BenhNhanDua = 0;\n                    this.thongtinDonThuoc.TienTraLai = null;\n                    this.lstDonThuocMoiThem = new Array();\n                    for (let index0 = 0; index0 < i; index0++) {\n                        this.lstDonThuocMoiThem.push(this.dataSourcedanhsachThuoc.data[index0]);\n                    }\n                    for (let index1 = i; index1 < this.dataSourcedanhsachThuoc.data.length; index1++) {\n                        this.dataSourcedanhsachThuoc.data[index1].STT = stt;\n                        this.lstDonThuocMoiThem.push(this.dataSourcedanhsachThuoc.data[index1]);\n                        stt++;\n                    }\n                    this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0) + 0.0000001);\n                    this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n                    // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n                    //     this.thongtinDonThuoc.TienMat = this.tongTien;\n                    // }\n                    let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n                    if (items != null && items.length > 0) {\n                        this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n                    }\n                    if (this.themDuocPham.DuocPhamId == duocPhamId) {\n                        this.apiService.post(\"QuayThuoc/GetThongTinDuocPham?duocPhamId=\" + event.DuocPhamId).subscribe(resultData => {\n                            let soLuongTon = 0;\n                            if (this.dataSourcedanhsachThuoc.data.length != 0) {\n                                this.dataSourcedanhsachThuoc.data.forEach(x => {\n                                    if (x.DuocPhamId == event.DuocPhamId) {\n                                        soLuongTon = soLuongTon + x.SoLuongMua;\n                                    }\n                                });\n                            }\n                            this.themDuocPham.SoLuongTon = resultData.reduce((sum, item) => sum + item.SoLuongTon, 0) - soLuongTon;\n                        });\n                    }\n                    this.notificationService.showSuccess(\"Xóa thành công\");\n                    this.danhSachXemTruocBangKeThuocVaVatTu(this.dataSourcedanhsachThuoc.data);\n                }\n            });\n        }\n        ;\n    }\n    onChangeTienThoi() {\n        if (this.thongtinDonThuoc.BenhNhanDua < this.tongTien) {\n            this.thongtinDonThuoc.TienTraLai = null;\n            return;\n        }\n        this.thongtinDonThuoc.TienTraLai = this.thongtinDonThuoc.BenhNhanDua - this.tongTien;\n    }\n    setLastItemDelete() {\n        if (this.arrayThanhToanstmp.length > 1 && this.arrayThanhToanstmp[this.arrayThanhToanstmp.length - 2].length > this.arrayThanhToans.length) {\n            var truoc = this.arrayThanhToanstmp[this.arrayThanhToanstmp.length - 2];\n            var sau = this.arrayThanhToanstmp[this.arrayThanhToanstmp.length - 1];\n            var valRemove = truoc.filter(arr1Item => !sau.includes(arr1Item));\n            let val = 0;\n            if (valRemove == 3) {\n                val = this.thongtinDonThuoc.POS;\n                this.thongtinDonThuoc.POS = 0;\n            }\n            if (valRemove == 2) {\n                val = this.thongtinDonThuoc.ChuyenKhoan;\n                this.thongtinDonThuoc.ChuyenKhoan = 0;\n            }\n            if (valRemove == 1) {\n                val = this.thongtinDonThuoc.TienMat;\n                this.thongtinDonThuoc.TienMat = 0;\n            }\n            let lastKeCuoi = this.arrayThanhToanstmp[this.arrayThanhToanstmp.length - 1];\n            var kiemTraCuoiCongNoKhong = lastKeCuoi[lastKeCuoi.length - 1];\n            if (kiemTraCuoiCongNoKhong === 4) {\n                let kpCongNo = lastKeCuoi[lastKeCuoi.length - 2];\n                if (kpCongNo == 2) {\n                    this.thongtinDonThuoc.ChuyenKhoan += val;\n                }\n                if (kpCongNo == 3) {\n                    this.thongtinDonThuoc.POS += val;\n                }\n                if (kpCongNo == 1) {\n                    this.thongtinDonThuoc.TienMat += val;\n                }\n            }\n            else {\n                let kpCongNo = lastKeCuoi[lastKeCuoi.length - 1];\n                if (kpCongNo == 2) {\n                    this.thongtinDonThuoc.ChuyenKhoan += val;\n                }\n                if (kpCongNo == 3) {\n                    this.thongtinDonThuoc.POS += val;\n                }\n                if (kpCongNo == 1) {\n                    this.thongtinDonThuoc.TienMat += val;\n                }\n            }\n        }\n    }\n    clearHinhThucThanhToan() {\n        this.flagCheckSeletedTienMat = false;\n        this.flagCheckSeletedChuyenKhoan = false;\n        this.flagCheckSeletedPos = false;\n        this.checkSeletedTienMat = false;\n        this.checkSeletedChuyenKhoan = false;\n        this.flagCheckSeletedSoTienCongNo = false;\n        this.checkSeletedPos = false;\n    }\n    setLastItem() {\n        this.arrayThanhToans.sort();\n        let lastItem = this.arrayThanhToans[this.arrayThanhToans.length - 1];\n        if (lastItem == 1) {\n            this.checkSeletedTienMat = true;\n            this.checkSeletedChuyenKhoan = true;\n            this.thongtinDonThuoc.TienMat = this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS;\n            if (this.thongtinDonThuoc.TienMat < 0) {\n                this.thongtinDonThuoc.TienMat = 0;\n            }\n        }\n        if (lastItem == 2) {\n            this.checkSeletedChuyenKhoan = true;\n            this.thongtinDonThuoc.ChuyenKhoan = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS;\n            if (this.thongtinDonThuoc.ChuyenKhoan < 0) {\n                this.thongtinDonThuoc.ChuyenKhoan = 0;\n            }\n        }\n        if (lastItem == 3) {\n            this.checkSeletedPos = true;\n            this.thongtinDonThuoc.POS = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan;\n            if (this.thongtinDonThuoc.POS < 0) {\n                this.thongtinDonThuoc.POS = 0;\n            }\n        }\n        if (lastItem == undefined) {\n            this.thongtinDonThuoc.TienMat = 0;\n            this.thongtinDonThuoc.POS = 0;\n            this.thongtinDonThuoc.ChuyenKhoan = 0;\n        }\n    }\n    setLastItemBangTien(input) {\n        this.arrayThanhToans.sort();\n        let lastItem = this.arrayThanhToans[this.arrayThanhToans.length - 1];\n        if (lastItem == 1) {\n            this.checkSeletedTienMat = true;\n            this.checkSeletedChuyenKhoan = true;\n            this.thongtinDonThuoc.TienMat = this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS;\n            if (this.thongtinDonThuoc.TienMat < 0) {\n                this.thongtinDonThuoc.TienMat = 0;\n            }\n        }\n        if (lastItem == 2) {\n            this.checkSeletedChuyenKhoan = true;\n            this.thongtinDonThuoc.ChuyenKhoan = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS;\n            if (this.thongtinDonThuoc.ChuyenKhoan < 0) {\n                this.thongtinDonThuoc.ChuyenKhoan = 0;\n            }\n        }\n        if (lastItem == 3) {\n            this.checkSeletedPos = true;\n            this.thongtinDonThuoc.POS = this.tongTien - this.thongtinDonThuoc.TienMat - input;\n            if (this.thongtinDonThuoc.POS < 0) {\n                this.thongtinDonThuoc.POS = 0;\n            }\n        }\n        if (lastItem == undefined) {\n            this.thongtinDonThuoc.TienMat = 0;\n            this.thongtinDonThuoc.POS = 0;\n            this.thongtinDonThuoc.ChuyenKhoan = 0;\n        }\n    }\n    changeSoTien(items) {\n        switch (items) {\n            case 1:\n                this.thongtinDonThuoc.TienMat = (this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                break;\n            case 2:\n                this.thongtinDonThuoc.ChuyenKhoan = (this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                break;\n            case 3:\n                this.thongtinDonThuoc.POS = (this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.SoTienCongNo) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.SoTienCongNo;\n                break;\n            case 4:\n                this.thongtinDonThuoc.SoTienCongNo = (this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS;\n                break;\n        }\n    }\n    onValueChange(event, type) {\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n        this.hinhThucThanhToan.forEach(item => {\n            if (item.KeyId == type) {\n                item.Change = true;\n            }\n        });\n        var itemNotChanges = this.hinhThucThanhToan.filter(o => o.Selected == true && o.Change == false);\n        if (itemNotChanges.length == 1) {\n            this.changeSoTien(itemNotChanges[0].KeyId);\n        }\n        else {\n            if (itemNotChanges.length == 0 && this.hinhThucThanhToan.filter(o => o.Selected == true).length == 2) {\n                var items = this.hinhThucThanhToan.filter(o => o.Selected == true && o.KeyId != type);\n                this.changeSoTien(items[0].KeyId);\n            }\n        }\n        if (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo != this.tongTien) {\n            this.showCanhBaoSoTienNhap = true;\n        }\n        else {\n            this.showCanhBaoSoTienNhap = false;\n        }\n        this.changeTienTraLaiBenhNhan();\n    }\n    changeTienTraLaiBenhNhan() {\n        if (this.thongtinDonThuoc.BenhNhanDua > this.thongtinDonThuoc.TienMat) {\n            this.thongtinDonThuoc.TienTraLai =\n                this.thongtinDonThuoc.BenhNhanDua - this.thongtinDonThuoc.TienMat;\n        }\n        else {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n    }\n    modelChangePos(ev, type) {\n        const total = (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.SoTienCongNo) === 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.SoTienCongNo);\n        this.selectMoneyTienPos = [total, 0];\n        this.thongtinDonThuoc.POS = ev;\n        this.onValueChange(ev, type);\n    }\n    modelChangeChuyenKhoan(ev, type) {\n        const total = (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo) !== 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo);\n        this.selectMoneyTienChuyenKhoan = [total, 0];\n        this.thongtinDonThuoc.ChuyenKhoan = ev;\n        this.onValueChange(ev, type);\n    }\n    modelChangeTienMat(ev, type) {\n        const total = (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo) === 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo);\n        this.selectMoneyTienMat = [total, 0];\n        this.thongtinDonThuoc.TienTraLai = this.thongtinDonThuoc.BenhNhanDua - this.thongtinDonThuoc.TienMat;\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n        this.thongtinDonThuoc.TienMat = ev;\n        this.onValueChange(ev, type);\n    }\n    modelChangeSoTienCongNo(ev, type) {\n        const total = (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.TienMat) === 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.TienMat);\n        this.selectMoneySoTienCongNo = [total, 0];\n        this.thongtinDonThuoc.SoTienCongNo = ev;\n        this.onValueChange(ev, type);\n    }\n    modelChangeTienBNDua(input) {\n        this.selectMoneyTienBNDua = [this.tongTien, 100000000];\n        this.thongtinDonThuoc.TienTraLai = input - this.thongtinDonThuoc.TienMat;\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n    }\n    onChangeBenhNhanDua() {\n        this.thongtinDonThuoc.TienTraLai = this.thongtinDonThuoc.BenhNhanDua - this.thongtinDonThuoc.TienMat;\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n    }\n    XacNhanIn(data) {\n        this.showPopupLoadingIn();\n        data.Hosting = window.location.protocol + '//' + window.location.host;\n        this.apiService.postExportExcel('QuayThuoc/XacNhanIn', data).subscribe(resultData => {\n            if (resultData != undefined && resultData != null) {\n                if (data.InBangKe == false && data.InPhieuThu == false) {\n                    this.notificationService.showError('Không có phiếu in được chọn.');\n                    this.closePopupLoadingData();\n                }\n                else {\n                    this.dialog.open(_thong_tin_phieu_pdf_popup_thong_tin_phieu_pdf_popup_component__WEBPACK_IMPORTED_MODULE_13__[\"ThongTinPhieuPdfPopupComponent\"], {\n                        disableClose: true,\n                        width: '1000px',\n                        data: { Model: resultData }\n                    }).afterClosed().subscribe(() => {\n                        this.closePopupLoadingData();\n                    });\n                }\n            }\n        }, (err) => {\n            this.closePopupLoadingData();\n            this.validationErrors = err.ValidationErrors;\n            if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n            }\n        });\n    }\n    shareData() {\n        this.thongtinDonThuoc.DanhSachDonThuocs = [...this.dataSourcedanhsachThuoc.data];\n        for (let index = 0; index < this.thongtinDonThuoc.DanhSachDonThuocs.length; index++) {\n            this.thongtinDonThuoc.DanhSachDonThuocs[index].HighLightClass = null;\n            if (this.thongtinDonThuoc.DanhSachDonThuocs[index].CheckedDefault == false) {\n                this.thongtinDonThuoc.DanhSachDonThuocs.splice(index, 1);\n                index = -1;\n            }\n        }\n        return this.thongtinDonThuoc;\n    }\n    ThuTienVaXuatThuoc() {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n        if (this.dataSourcedanhsachThuoc.data === [] || this.dataSourcedanhsachThuoc.data.length == 0) {\n            this.notificationService.showError(\"Người bệnh này không có thuốc nào để thanh toán.\");\n            return;\n        }\n        let index = this.dataSourcedanhsachThuoc.data.findIndex(x => x.LoaiDonThuoc == 1);\n        if (index != -1) {\n            this.notificationService.showError(\"Đang có thuốc bảo hiểm trong đơn thuốc.\");\n            return;\n        }\n        let indexHetThuoc = this.dataSourcedanhsachThuoc.data.findIndex(x => x.ThuocTrongKhoExit == true);\n        if (indexHetThuoc != -1) {\n            this.notificationService.showError(\"Thuốc trong kho không còn.\");\n            return;\n        }\n        if (this.thongtinDonThuoc.TienMat === null || this.thongtinDonThuoc.TienMat === undefined) {\n            this.thongtinDonThuoc.TienMat = 0;\n        }\n        if (this.thongtinDonThuoc.ChuyenKhoan === null || this.thongtinDonThuoc.ChuyenKhoan === undefined) {\n            this.thongtinDonThuoc.ChuyenKhoan = 0;\n        }\n        if (this.thongtinDonThuoc.POS === null || this.thongtinDonThuoc.POS === undefined) {\n            this.thongtinDonThuoc.POS = 0;\n        }\n        if (this.thongtinDonThuoc.BenhNhanDua === null || this.thongtinDonThuoc.BenhNhanDua === undefined) {\n            this.thongtinDonThuoc.BenhNhanDua = 0;\n        }\n        if (this.thongTinKhachVangLai === undefined) {\n            this.thongTinKhachVangLai = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_3__[\"KhachVangLai\"]();\n        }\n        if (this.setDefeautTienMat.length === 0) {\n            this.validationErrors.push({\n                Message: \"Vui lòng chọn hình thức thanh toán\",\n                Field: \"HinhThucThanhToan\",\n            });\n            return true;\n        }\n        var validationCheck = {\n            HoTen: this.thongTinKhachVangLai.HoTen,\n            NamSinh: this.thongTinKhachVangLai.NamSinh,\n            HinhThucThanhToan: this.thongtinDonThuoc.HinhThucThanhToan,\n            TienMat: this.thongtinDonThuoc.TienMat,\n            ChuyenKhoan: this.thongtinDonThuoc.ChuyenKhoan,\n            POS: this.thongtinDonThuoc.POS,\n            SoTienCongNo: this.thongtinDonThuoc.SoTienCongNo,\n            BenhNhanDua: this.thongtinDonThuoc.BenhNhanDua,\n            NgayThu: this.thongtinDonThuoc.NgayThu,\n            NoiDungThu: this.thongtinDonThuoc.NoiDungThu,\n            TongTien: this.tongTien\n        };\n        this.validationErrors = [];\n        this.validationErrorsThongTin = [];\n        if (this.donThuocId.maBN != null) {\n            this.maBN = this.donThuocId.maBN;\n            this.apiService.post(\"QuayThuoc/GetThongTinBenhNhan1?maBN=\" + this.maBN).subscribe(// to do maBn => benhNhanId\n            (resultData) => {\n                this.thongTinKhachVangLai.Id = resultData.Id;\n                this.thongTinKhachVangLai.HoTen = resultData.HoTen;\n                this.thongTinKhachVangLai.GioiTinh = resultData.GioiTinh;\n                this.thongTinKhachVangLai.DiaChi = resultData.DiaChi;\n                this.thongTinKhachVangLai.DiaChiDayDu = resultData.DiaChiDayDu;\n                this.thongTinKhachVangLai.NamSinh = resultData.NamSinh;\n                this.thongTinKhachVangLai.PhuongXaId = resultData.PhuongXaId;\n                this.thongTinKhachVangLai.QuanHuyenId = resultData.QuanHuyenId;\n                this.thongTinKhachVangLai.SoDienThoai = resultData.SoDienThoai;\n                this.thongTinKhachVangLai.TinhThanhId = resultData.TinhThanhId;\n                this.thongTinKhachVangLai.Email = resultData.Email;\n            });\n            this.apiService.post(\"QuayThuoc/GetTenBenhNhan?benhNhanId=\" + this.maBN).subscribe(// to do maBn => benhNhanId\n            // to do maBn => benhNhanId\n            resultData => {\n                this.tenBN = resultData;\n                validationCheck.HoTen = this.tenBN;\n                validationCheck.NamSinh = this.thongTinKhachVangLai.NamSinh;\n                this.thongtinDonThuoc.HoTenBenhNhan = this.tenBN;\n                this.thongTinKhachVangLai.HoTen = this.tenBN;\n                this.apiService.post(\"QuayThuoc/CheckValidationForQuayThuocKhachVangLai\", validationCheck).subscribe(() => {\n                    var khachVangLaiChoThanhToan = {\n                        ThongTinKhach: this.thongTinKhachVangLai,\n                        ThongTinThuChi: this.thongtinDonThuoc,\n                        DanhSachDonThuoc: this.lstDonThuocMoiThem\n                    };\n                    let chuInHoa = this.thongTinKhachVangLai.HoTen.toUpperCase();\n                    this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_7__[\"ConfirmComponent\"], {\n                        //disableClose: true,\n                        width: '1000px',\n                        data: {\n                            Title: 'Xác nhận', Message: 'Bạn chắc chắn muốn thu của người bệnh ' +\n                                chuInHoa.bold() + ' với số tiền là ' +\n                                this.tongTien.toLocaleString('vi-VI').bold() + ' đồng hay không?'\n                        }\n                    }).afterClosed().subscribe(result => {\n                        if (result == 'Yes') {\n                            this.apiService.post(\"QuayThuoc/ThuTienKhachVangLaiVaXuatThuoc\", khachVangLaiChoThanhToan).subscribe(resultData => {\n                                khachVangLaiChoThanhToan.DanhSachDonThuoc = [];\n                                this.lstDonThuocMoiThem = [];\n                                if (resultData.ThanhCong == false) {\n                                    this.notificationService.showError(resultData.Error);\n                                    for (let i = 0; i < resultData.DanhSachDuocPhamVuotTonKho.length; i++) {\n                                        for (let j = 0; j < this.dataSourcedanhsachThuoc.data.length; j++) {\n                                            if (resultData.DanhSachDuocPhamVuotTonKho[i].Stt == this.dataSourcedanhsachThuoc.data[j].STT) {\n                                                this.dataSourcedanhsachThuoc.data[j].HighLightClass = 'bg-row-lightpink';\n                                                this.dataSourcedanhsachThuoc.data[j].SoLuongDung = resultData.DanhSachDuocPhamVuotTonKho[i].SoLuongTonKho;\n                                            }\n                                        }\n                                    }\n                                }\n                                else if (resultData.ThanhCong == true) {\n                                    this.dataSourcedanhsachThuoc.data = [];\n                                    if (this.gridDanhSachMuaThuoc !== undefined) {\n                                        this.gridDanhSachMuaThuoc.setDataSource();\n                                    }\n                                    this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0) + 0.0000001);\n                                    this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n                                    if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n                                        this.thongtinDonThuoc.TienMat = this.tongTien;\n                                    }\n                                    this.benhNhanResultData = resultData;\n                                    this.apiService.post(\"QuayThuoc/GetBenhNhanForNavigation?taiKhoanThuId=\" + resultData.TaiKhoanBenhNhanThuId).subscribe(result1 => {\n                                        let dialogRef = this.dialog.open(_quay_thuoc_xac_nhan_in_pop_up_quay_thuoc_xac_nhan_in_pop_up_component__WEBPACK_IMPORTED_MODULE_8__[\"QuayThuocXacNhanInPopUpComponent\"], {\n                                            disableClose: true,\n                                            width: '500px',\n                                            data: { Model: this.benhNhanResultData, Title: \"XÁC NHẬN\" }\n                                        }).afterClosed().subscribe(result => {\n                                            if (result.Response != \"No answer\") {\n                                                this.changeTab.emit(2);\n                                                this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n                                                this.XacNhanIn(result);\n                                            }\n                                            else {\n                                                this.changeTab.emit(2);\n                                                this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n                                            }\n                                        });\n                                    });\n                                }\n                            });\n                        }\n                    });\n                }, (err) => {\n                    this.validationErrors = err.ValidationErrors;\n                    if (this.validationErrors.length !== 0) {\n                        for (var i = 0; i < this.validationErrors.length; i++) {\n                            if (this.validationErrors[i].Field === \"HoTen\") {\n                                this.validationErrorsThongTin.push(this.validationErrors[i]);\n                            }\n                            if (this.validationErrors[i].Field === \"NamSinh\") {\n                                this.validationErrorsThongTin.push(this.validationErrors[i]);\n                            }\n                        }\n                    }\n                    this.valueChangeThuTien.emit(this.validationErrorsThongTin);\n                    return;\n                });\n            }, () => { });\n        }\n        else {\n            this.apiService.post(\"QuayThuoc/CheckValidationForQuayThuocKhachVangLai\", validationCheck).subscribe(() => {\n                var khachVangLaiChoThanhToan = {\n                    ThongTinKhach: this.thongTinKhachVangLai,\n                    ThongTinThuChi: this.thongtinDonThuoc,\n                    DanhSachDonThuoc: this.lstDonThuocMoiThem\n                };\n                let chuInHoa = this.thongTinKhachVangLai.HoTen.toUpperCase();\n                this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_7__[\"ConfirmComponent\"], {\n                    width: '1000px',\n                    data: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn thu của người bệnh \" + chuInHoa.bold() + \" với số tiền là \" + this.tongTien.toLocaleString(\"vi-VI\").bold() + \" đồng hay không?\" }\n                }).afterClosed().subscribe(result => {\n                    if (result == 'Yes') {\n                        this.apiService.post(\"QuayThuoc/ThuTienKhachVangLaiVaXuatThuoc\", khachVangLaiChoThanhToan).subscribe(resultData => {\n                            khachVangLaiChoThanhToan.DanhSachDonThuoc = [];\n                            this.lstDonThuocMoiThem = [];\n                            if (resultData.ThanhCong == false) {\n                                this.notificationService.showError(resultData.Error);\n                                for (let i = 0; i < resultData.DanhSachDuocPhamVuotTonKho.length; i++) {\n                                    for (let j = 0; j < this.dataSourcedanhsachThuoc.data.length; j++) {\n                                        if (resultData.DanhSachDuocPhamVuotTonKho[i].Stt == this.dataSourcedanhsachThuoc.data[j].STT) {\n                                            this.dataSourcedanhsachThuoc.data[j].HighLightClass = 'bg-row-lightpink';\n                                            this.dataSourcedanhsachThuoc.data[j].SoLuongDung = resultData.DanhSachDuocPhamVuotTonKho[i].SoLuongTonKho;\n                                        }\n                                    }\n                                }\n                            }\n                            else if (resultData.ThanhCong == true) {\n                                this.reset();\n                                this.dataSourcedanhsachThuoc.data = [];\n                                if (this.gridDanhSachMuaThuoc !== undefined) {\n                                    this.gridDanhSachMuaThuoc.setDataSource();\n                                }\n                                this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0) + 0.0000001);\n                                this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n                                if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n                                    this.thongtinDonThuoc.TienMat = this.tongTien;\n                                }\n                                this.benhNhanResultData = resultData;\n                                this.apiService.post(\"QuayThuoc/GetBenhNhanForNavigation?taiKhoanThuId=\" + resultData.TaiKhoanBenhNhanThuId).subscribe(result1 => {\n                                    let dialogRef = this.dialog.open(_quay_thuoc_xac_nhan_in_pop_up_quay_thuoc_xac_nhan_in_pop_up_component__WEBPACK_IMPORTED_MODULE_8__[\"QuayThuocXacNhanInPopUpComponent\"], {\n                                        disableClose: true,\n                                        width: '500px',\n                                        data: { Model: this.benhNhanResultData, Title: \"XÁC NHẬN\" }\n                                    }).afterClosed().subscribe(result => {\n                                        if (result.Response != \"No answer\") {\n                                            this.changeTab.emit(2);\n                                            this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n                                            this.XacNhanIn(result);\n                                        }\n                                        else {\n                                            this.changeTab.emit(2);\n                                            this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n                                        }\n                                    });\n                                });\n                            }\n                        });\n                    }\n                });\n            }, (err) => {\n                this.validationErrors = err.ValidationErrors;\n                if (this.validationErrors.length !== 0) {\n                    for (var i = 0; i < this.validationErrors.length; i++) {\n                        if (this.validationErrors[i].Field === \"HoTen\") {\n                            this.validationErrorsThongTin.push(this.validationErrors[i]);\n                        }\n                        if (this.validationErrors[i].Field === \"NamSinh\") {\n                            this.validationErrorsThongTin.push(this.validationErrors[i]);\n                        }\n                    }\n                }\n                this.valueChangeThuTien.emit(this.validationErrorsThongTin);\n                return;\n            });\n        }\n    }\n    ThuTien() {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n        if (this.dataSourcedanhsachThuoc.data === [] || this.dataSourcedanhsachThuoc.data.length == 0) {\n            this.notificationService.showError(\"Người bệnh này không có thuốc nào để thanh toán.\");\n            return;\n        }\n        let index = this.dataSourcedanhsachThuoc.data.findIndex(x => x.LoaiDonThuoc == 1);\n        if (index != -1) {\n            this.notificationService.showError(\"Đang có thuốc bảo hiểm trong đơn thuốc.\");\n            return;\n        }\n        let indexHetThuoc = this.dataSourcedanhsachThuoc.data.findIndex(x => x.ThuocTrongKhoExit == true);\n        if (indexHetThuoc != -1) {\n            this.notificationService.showError(\"Thuốc trong kho không còn.\");\n            return;\n        }\n        if (this.thongtinDonThuoc.TienMat === null || this.thongtinDonThuoc.TienMat === undefined) {\n            this.thongtinDonThuoc.TienMat = 0;\n        }\n        if (this.thongtinDonThuoc.ChuyenKhoan === null || this.thongtinDonThuoc.ChuyenKhoan === undefined) {\n            this.thongtinDonThuoc.ChuyenKhoan = 0;\n        }\n        if (this.thongtinDonThuoc.POS === null || this.thongtinDonThuoc.POS === undefined) {\n            this.thongtinDonThuoc.POS = 0;\n        }\n        if (this.thongtinDonThuoc.BenhNhanDua === null || this.thongtinDonThuoc.BenhNhanDua === undefined) {\n            this.thongtinDonThuoc.BenhNhanDua = 0;\n        }\n        if (this.thongTinKhachVangLai === undefined) {\n            this.thongTinKhachVangLai = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_3__[\"KhachVangLai\"]();\n        }\n        if (this.setDefeautTienMat.length === 0) {\n            this.validationErrors.push({\n                Message: \"Vui lòng chọn hình thức thanh toán\",\n                Field: \"HinhThucThanhToan\",\n            });\n            return true;\n        }\n        var validationCheck = {\n            HoTen: this.thongTinKhachVangLai.HoTen,\n            NamSinh: this.thongTinKhachVangLai.NamSinh,\n            HinhThucThanhToan: this.thongtinDonThuoc.HinhThucThanhToan,\n            TienMat: this.thongtinDonThuoc.TienMat,\n            ChuyenKhoan: this.thongtinDonThuoc.ChuyenKhoan,\n            POS: this.thongtinDonThuoc.POS,\n            SoTienCongNo: this.thongtinDonThuoc.SoTienCongNo,\n            BenhNhanDua: this.thongtinDonThuoc.BenhNhanDua,\n            NgayThu: this.thongtinDonThuoc.NgayThu,\n            NoiDungThu: this.thongtinDonThuoc.NoiDungThu,\n            TongTien: this.tongTien\n        };\n        this.validationErrors = [];\n        this.validationErrorsThongTin = [];\n        if (this.donThuocId.maBN != null) {\n            this.maBN = this.donThuocId.maBN;\n            this.apiService.post(\"QuayThuoc/GetThongTinBenhNhan1?maBN=\" + this.maBN).subscribe(// to do maBn => benhNhanId\n            (resultData) => {\n                this.thongTinKhachVangLai.Id = resultData.Id;\n                this.thongTinKhachVangLai.HoTen = resultData.HoTen;\n                this.thongTinKhachVangLai.GioiTinh = resultData.GioiTinh;\n                this.thongTinKhachVangLai.DiaChi = resultData.DiaChi;\n                this.thongTinKhachVangLai.DiaChiDayDu = resultData.DiaChiDayDu;\n                this.thongTinKhachVangLai.NamSinh = resultData.NamSinh;\n                this.thongTinKhachVangLai.PhuongXaId = resultData.PhuongXaId;\n                this.thongTinKhachVangLai.QuanHuyenId = resultData.QuanHuyenId;\n                this.thongTinKhachVangLai.SoDienThoai = resultData.SoDienThoai;\n                this.thongTinKhachVangLai.TinhThanhId = resultData.TinhThanhId;\n                this.thongTinKhachVangLai.Email = resultData.Email;\n            });\n            this.apiService.post(\"QuayThuoc/GetTenBenhNhan?benhNhanId=\" + this.maBN).subscribe(// to do maBn => benhNhanId\n            // to do maBn => benhNhanId\n            resultData => {\n                this.tenBN = resultData;\n                validationCheck.HoTen = this.tenBN;\n                validationCheck.NamSinh = this.thongTinKhachVangLai.NamSinh;\n                this.thongtinDonThuoc.HoTenBenhNhan = this.tenBN;\n                this.thongTinKhachVangLai.HoTen = this.tenBN;\n                this.apiService.post(\"QuayThuoc/CheckValidationForQuayThuocKhachVangLai\", validationCheck).subscribe(() => {\n                    var khachVangLaiChoThanhToan = {\n                        ThongTinKhach: this.thongTinKhachVangLai,\n                        ThongTinThuChi: this.thongtinDonThuoc,\n                        DanhSachDonThuoc: this.lstDonThuocMoiThem\n                    };\n                    let chuInHoa = this.thongTinKhachVangLai.HoTen.toUpperCase();\n                    this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_7__[\"ConfirmComponent\"], {\n                        //disableClose: true,\n                        width: '1000px',\n                        data: {\n                            Title: 'Xác nhận', Message: 'Bạn chắc chắn muốn thu của người bệnh ' +\n                                chuInHoa.bold() + ' với số tiền là ' +\n                                this.tongTien.toLocaleString('vi-VI').bold() + ' đồng hay không?'\n                        }\n                    }).afterClosed().subscribe(result => {\n                        if (result == 'Yes') {\n                            this.apiService.post(\"QuayThuoc/ThuTienKhachVangLai\", khachVangLaiChoThanhToan).subscribe(resultData => {\n                                khachVangLaiChoThanhToan.DanhSachDonThuoc = [];\n                                this.lstDonThuocMoiThem = [];\n                                if (resultData.ThanhCong == false) {\n                                    this.notificationService.showError(resultData.Error);\n                                    for (let i = 0; i < resultData.DanhSachDuocPhamVuotTonKho.length; i++) {\n                                        for (let j = 0; j < this.dataSourcedanhsachThuoc.data.length; j++) {\n                                            if (resultData.DanhSachDuocPhamVuotTonKho[i].Stt == this.dataSourcedanhsachThuoc.data[j].STT) {\n                                                this.dataSourcedanhsachThuoc.data[j].HighLightClass = 'bg-row-lightpink';\n                                                this.dataSourcedanhsachThuoc.data[j].SoLuongDung = resultData.DanhSachDuocPhamVuotTonKho[i].SoLuongTonKho;\n                                            }\n                                        }\n                                    }\n                                }\n                                else if (resultData.ThanhCong == true) {\n                                    this.dataSourcedanhsachThuoc.data = [];\n                                    if (this.gridDanhSachMuaThuoc !== undefined) {\n                                        this.gridDanhSachMuaThuoc.setDataSource();\n                                    }\n                                    this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0) + 0.0000001);\n                                    this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n                                    if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n                                        this.thongtinDonThuoc.TienMat = this.tongTien;\n                                    }\n                                    this.benhNhanResultData = resultData;\n                                    this.apiService.post(\"QuayThuoc/GetBenhNhanForNavigation?taiKhoanThuId=\" + resultData.TaiKhoanBenhNhanThuId).subscribe(result1 => {\n                                        let dialogRef = this.dialog.open(_quay_thuoc_xac_nhan_in_pop_up_quay_thuoc_xac_nhan_in_pop_up_component__WEBPACK_IMPORTED_MODULE_8__[\"QuayThuocXacNhanInPopUpComponent\"], {\n                                            disableClose: true,\n                                            width: '500px',\n                                            data: { Model: this.benhNhanResultData, Title: \"XÁC NHẬN\" }\n                                        }).afterClosed().subscribe(result => {\n                                            if (result.Response != \"No answer\") {\n                                                this.changeTab.emit(2);\n                                                this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n                                                this.XacNhanIn(result);\n                                            }\n                                            else {\n                                                this.changeTab.emit(2);\n                                                this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n                                            }\n                                        });\n                                    });\n                                }\n                            });\n                        }\n                    });\n                }, (err) => {\n                    this.validationErrors = err.ValidationErrors;\n                    if (this.validationErrors.length !== 0) {\n                        for (var i = 0; i < this.validationErrors.length; i++) {\n                            if (this.validationErrors[i].Field === \"HoTen\") {\n                                this.validationErrorsThongTin.push(this.validationErrors[i]);\n                            }\n                            if (this.validationErrors[i].Field === \"NamSinh\") {\n                                this.validationErrorsThongTin.push(this.validationErrors[i]);\n                            }\n                        }\n                    }\n                    this.valueChangeThuTien.emit(this.validationErrorsThongTin);\n                    return;\n                });\n            }, () => { });\n        }\n        else {\n            this.apiService.post(\"QuayThuoc/CheckValidationForQuayThuocKhachVangLai\", validationCheck).subscribe(() => {\n                var khachVangLaiChoThanhToan = {\n                    ThongTinKhach: this.thongTinKhachVangLai,\n                    ThongTinThuChi: this.thongtinDonThuoc,\n                    DanhSachDonThuoc: this.lstDonThuocMoiThem\n                };\n                let chuInHoa = this.thongTinKhachVangLai.HoTen.toUpperCase();\n                this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_7__[\"ConfirmComponent\"], {\n                    width: '1000px',\n                    data: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn thu của người bệnh \" + chuInHoa.bold() + \" với số tiền là \" + this.tongTien.toLocaleString(\"vi-VI\").bold() + \" đồng hay không?\" }\n                }).afterClosed().subscribe(result => {\n                    if (result == 'Yes') {\n                        this.apiService.post(\"QuayThuoc/ThuTienKhachVangLai\", khachVangLaiChoThanhToan).subscribe(resultData => {\n                            khachVangLaiChoThanhToan.DanhSachDonThuoc = [];\n                            this.lstDonThuocMoiThem = [];\n                            if (resultData.ThanhCong == false) {\n                                this.notificationService.showError(resultData.Error);\n                                for (let i = 0; i < resultData.DanhSachDuocPhamVuotTonKho.length; i++) {\n                                    for (let j = 0; j < this.dataSourcedanhsachThuoc.data.length; j++) {\n                                        if (resultData.DanhSachDuocPhamVuotTonKho[i].Stt == this.dataSourcedanhsachThuoc.data[j].STT) {\n                                            this.dataSourcedanhsachThuoc.data[j].HighLightClass = 'bg-row-lightpink';\n                                            this.dataSourcedanhsachThuoc.data[j].SoLuongDung = resultData.DanhSachDuocPhamVuotTonKho[i].SoLuongTonKho;\n                                        }\n                                    }\n                                }\n                            }\n                            else if (resultData.ThanhCong == true) {\n                                this.reset();\n                                this.dataSourcedanhsachThuoc.data = [];\n                                if (this.gridDanhSachMuaThuoc !== undefined) {\n                                    this.gridDanhSachMuaThuoc.setDataSource();\n                                }\n                                this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0) + 0.0000001);\n                                this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n                                if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n                                    this.thongtinDonThuoc.TienMat = this.tongTien;\n                                }\n                                this.benhNhanResultData = resultData;\n                                this.apiService.post(\"QuayThuoc/GetBenhNhanForNavigation?taiKhoanThuId=\" + resultData.TaiKhoanBenhNhanThuId).subscribe(result1 => {\n                                    let dialogRef = this.dialog.open(_quay_thuoc_xac_nhan_in_pop_up_quay_thuoc_xac_nhan_in_pop_up_component__WEBPACK_IMPORTED_MODULE_8__[\"QuayThuocXacNhanInPopUpComponent\"], {\n                                        disableClose: true,\n                                        width: '500px',\n                                        data: { Model: this.benhNhanResultData, Title: \"XÁC NHẬN\" }\n                                    }).afterClosed().subscribe(result => {\n                                        if (result.Response != \"No answer\") {\n                                            this.changeTab.emit(2);\n                                            this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n                                            this.XacNhanIn(result);\n                                        }\n                                        else {\n                                            this.changeTab.emit(2);\n                                            this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n                                        }\n                                    });\n                                });\n                            }\n                        });\n                    }\n                });\n            }, (err) => {\n                this.validationErrors = err.ValidationErrors;\n                if (this.validationErrors.length !== 0) {\n                    for (var i = 0; i < this.validationErrors.length; i++) {\n                        if (this.validationErrors[i].Field === \"HoTen\") {\n                            this.validationErrorsThongTin.push(this.validationErrors[i]);\n                        }\n                        if (this.validationErrors[i].Field === \"NamSinh\") {\n                            this.validationErrorsThongTin.push(this.validationErrors[i]);\n                        }\n                    }\n                }\n                this.valueChangeThuTien.emit(this.validationErrorsThongTin);\n                return;\n            });\n        }\n    }\n    showError(message) {\n        this.showIt(message);\n    }\n    showIt(message) {\n        if (this.snackBarOpen != null) {\n            this.snackBarOpen.dismiss();\n        }\n        this.snackBarOpen = this.snackBar.open(message, 'Đóng', {\n            duration: 7000,\n            horizontalPosition: 'right'\n        });\n    }\n    them1() {\n        this.validationThuocErrors = [];\n        if (this.themDuocPham.DuocPhamId == null) {\n            this.validationThuocErrors.push({ \"Message\": \"Dược phẩm yêu cầu nhập\", \"Field\": \"DuocPhamId\" });\n        }\n        if (this.themDuocPham.SoLuong == null) {\n            this.validationThuocErrors.push({ \"Message\": \"Số lượng yêu cầu nhập\", \"Field\": \"SoLuong\" });\n        }\n        if (this.themDuocPham.SoLuong == 0) {\n            this.validationThuocErrors.push({ \"Message\": \"Số lượng phải lớn hơn 0\", \"Field\": \"SoLuong\" });\n        }\n        if (this.themDuocPham.SoLuongTon < this.themDuocPham.SoLuong) {\n            this.validationThuocErrors.push({ \"Message\": \"Số lượng phải nhỏ hơn tồn kho\", \"Field\": \"SoLuong\" });\n        }\n        if (this.validationThuocErrors.length > 0) {\n            return;\n        }\n        let soLuongDaMua = 0;\n        this.thongtinDonThuoc.BenhNhanDua = 0;\n        this.thongtinDonThuoc.TienTraLai = null;\n        if (this.lstDonThuocMoiThem.length > 0) {\n            this.lstDonThuocMoiThem.forEach(x => {\n                if (x.DuocPhamId == this.themDuocPham.DuocPhamId) {\n                    soLuongDaMua = soLuongDaMua + x.SoLuongMua;\n                }\n            });\n        }\n        if (this.themDuocPham.SoLuongTon >= this.themDuocPham.SoLuong) {\n            let stt = 1;\n            let idNew = 1;\n            if (this.dataSourcedanhsachThuoc.data.length > 0) {\n                stt = this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length - 1].STT + 1;\n                idNew = this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length - 1].Id + 1;\n            }\n            let count = this.themDuocPham.SoLuong;\n            let tamp = this.lstthongTinDonThuoc;\n            if (this.lstDonThuocMoiThem != undefined || this.lstDonThuocMoiThem != null) {\n                for (let jisoo = 0; jisoo < this.lstDonThuocMoiThem.length; jisoo++) {\n                    for (let jihoo = 0; jihoo < this.lstthongTinDonThuoc.length; jihoo++) {\n                        if (this.lstDonThuocMoiThem[jisoo].Solo == this.lstthongTinDonThuoc[jihoo].Solo) {\n                            this.lstthongTinDonThuoc[jihoo].SoLuongTon = this.lstthongTinDonThuoc[jihoo].SoLuongTon - this.lstDonThuocMoiThem[jisoo].SoLuongMua;\n                            tamp = this.lstthongTinDonThuoc;\n                        }\n                    }\n                }\n            }\n            console.log(\"lusc them :\", this.lstthongTinDonThuoc);\n            for (let index = 0; index < tamp.length; index++) {\n                if (tamp[index].SoLuongTon > 0) {\n                    if (count != 0) {\n                        let item = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_3__[\"ThongTinDuocPham\"]();\n                        if (count <= this.lstthongTinDonThuoc[index].SoLuongTon) {\n                            item = Object.assign({}, this.lstthongTinDonThuoc[index]);\n                            item.SoLuongMua = count;\n                            item.STT = stt;\n                            item.Id = idNew;\n                            item.CheckedDefault = true;\n                            item.isNew = true;\n                            item.BacSiKeToa = \"Nhà Thuốc\";\n                            item.ThanhTien = item.SoLuongMua * item.DonGia;\n                            item.LoaiDuocPhamHoacVatTu1 = item.LoaiDuocPhamHoacVatTu;\n                            this.lstDonThuocMoiThem.push(item);\n                            this.lstthongTinDonThuoc[index].SoLuongTon = this.lstthongTinDonThuoc[index].SoLuongTon - count;\n                            this.dataSourcedanhsachThuoc.data.push(item);\n                            this.duocPhamCombobox.focusManual();\n                            count = 0;\n                        }\n                        else {\n                            item = Object.assign({}, this.lstthongTinDonThuoc[index]);\n                            item.SoLuongMua = this.lstthongTinDonThuoc[index].SoLuongTon;\n                            item.ThanhTien = item.SoLuongMua * item.DonGia;\n                            item.STT = stt;\n                            item.Id = idNew;\n                            item.isNew = true;\n                            item.CheckedDefault = true;\n                            item.BacSiKeToa = \"Nhà Thuốc\";\n                            item.LoaiDuocPhamHoacVatTu1 = item.LoaiDuocPhamHoacVatTu;\n                            count = count - this.lstthongTinDonThuoc[index].SoLuongTon;\n                            this.lstDonThuocMoiThem.push(item);\n                            this.dataSourcedanhsachThuoc.data.push(item);\n                            this.duocPhamCombobox.focusManual();\n                            this.lstthongTinDonThuoc.splice(index, 1);\n                            index = -1;\n                        }\n                        this.gridDanhSachMuaThuoc.setSelectCheckbox(idNew);\n                        idNew++;\n                        stt++;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            if (this.lstDonThuocMoiThem.length > 0) {\n                this.lstDonThuocMoiThem.forEach(x => {\n                    if (x.DuocPhamId == this.themDuocPham.DuocPhamId) {\n                        soLuongDaMua = soLuongDaMua + x.SoLuongMua;\n                    }\n                });\n            }\n            this.themDuocPham.SoLuongTon = this.themDuocPham.SoLuongTon - this.themDuocPham.SoLuong;\n            this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0) + 0.0000001);\n            this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n            // if (this.thongtinDonThuoc.HinhThucThanhToan.length == 1 && this.thongtinDonThuoc.HinhThucThanhToan[0] == 1) {\n            //     this.thongtinDonThuoc.TienMat = this.tongTien;\n            // }\n            let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n            if (items != null && items.length > 0) {\n                this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n            }\n            this.themDuocPham = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemDuocPham\"]();\n        }\n        else {\n            this.notificationService.showError(\"Số lượng bạn nhập lớn hơn số lượng tồn\");\n        }\n        this.danhSachXemTruocBangKeThuocVaVatTu(this.dataSourcedanhsachThuoc.data);\n    }\n    danhSachXemTruocBangKeThuocVaVatTu(danhSachChuaThanhToans) {\n        // lý do trả về danhSachChuaThanhToan cho quay-thuoc-mua-thuoc.component\n        // để xem trước bảng kê\n        this.danhSachChuaThanhToan.emit(danhSachChuaThanhToans);\n    }\n    getDonThuocChiTietCu() {\n        let toaThuocCuId = [];\n        if (typeof (this.donThuocId.ToaThuoc) == 'string') {\n            toaThuocCuId.push(this.donThuocId.ToaThuoc);\n        }\n        else {\n            this.donThuocId.ToaThuoc.forEach(element => {\n                toaThuocCuId.push(element);\n            });\n        }\n        this.apiService.post(\"QuayThuoc/GetDonthuocChiTietCu\", { ToaThuoc: toaThuocCuId }).subscribe(resultData => {\n            this.validationThuocErrors = [];\n            let soLuongDaMua = 0;\n            if (this.lstDonThuocMoiThem.length > 0) {\n                this.lstDonThuocMoiThem.forEach(x => {\n                    if (x.DuocPhamId == this.themDuocPham.DuocPhamId) {\n                        soLuongDaMua = soLuongDaMua + x.SoLuongMua;\n                    }\n                });\n            }\n            if (this.themDuocPham.SoLuongTon >= this.themDuocPham.SoLuong) {\n                let stt = 1;\n                let idNew = 1;\n                if (this.dataSourcedanhsachThuoc.data.length > 0) {\n                    stt = this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length - 1].STT + 1;\n                    idNew = this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length - 1].Id + 1;\n                }\n                for (let index = 0; index < resultData.length; index++) {\n                    let count = this.themDuocPham.SoLuong;\n                    if (count != 0) {\n                        let item = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_3__[\"ThongTinDuocPham\"]();\n                        if (count <= resultData[index].SoLuongTon) {\n                            item = Object.assign({}, resultData[index]);\n                            count = item.SoLuongMua;\n                            item.STT = stt;\n                            item.Id = idNew;\n                            item.CheckedDefault = true;\n                            item.isNew = true;\n                            item.BacSiKeToa = \"Nhà Thuốc\";\n                            item.ThanhTien = item.SoLuongMua * item.DonGia;\n                            this.lstDonThuocMoiThem.push(item);\n                            resultData[index].SoLuongTon = resultData[index].SoLuongTon - count;\n                            this.dataSourcedanhsachThuoc.data.push(item);\n                            count = 0;\n                        }\n                        else {\n                            item = Object.assign({}, this.lstthongTinDonThuoc[index]);\n                            item.SoLuongMua = resultData[index].SoLuongTon;\n                            item.ThanhTien = item.SoLuongMua * item.DonGia;\n                            item.STT = stt;\n                            item.Id = idNew;\n                            item.isNew = true;\n                            item.CheckedDefault = true;\n                            item.BacSiKeToa = \"Nhà Thuốc\";\n                            count = count - resultData[index].SoLuongTon;\n                            this.lstDonThuocMoiThem.push(item);\n                            this.dataSourcedanhsachThuoc.data.push(item);\n                            resultData.splice(index, 1);\n                            index = -1;\n                        }\n                        this.gridDanhSachMuaThuoc.setSelectCheckbox(idNew);\n                        idNew++;\n                        stt++;\n                    }\n                    else {\n                        break;\n                    }\n                }\n                if (this.lstDonThuocMoiThem.length > 0) {\n                    this.lstDonThuocMoiThem.forEach(x => {\n                        if (x.DuocPhamId == this.themDuocPham.DuocPhamId) {\n                            soLuongDaMua = soLuongDaMua + x.SoLuongMua;\n                        }\n                    });\n                }\n                this.themDuocPham.SoLuongTon = this.themDuocPham.SoLuongTon - this.themDuocPham.SoLuong;\n                this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0) + 0.0000001);\n                this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n                if (this.thongtinDonThuoc.HinhThucThanhToan.length == 1 && this.thongtinDonThuoc.HinhThucThanhToan[0] == 1) {\n                    this.thongtinDonThuoc.TienMat = this.tongTien;\n                }\n                this.themDuocPham = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemDuocPham\"]();\n            }\n            else {\n                this.notificationService.showError(\"Số lượng bạn nhập lớn hơn số lượng tồn\");\n            }\n            // });\n        }, () => { });\n    }\n    reset() {\n        this.thongtinDonThuoc.HinhThucThanhToan = [1];\n        this.thongtinDonThuoc.TienMat = null;\n        this.thongtinDonThuoc.BenhNhanDua = null;\n        this.thongtinDonThuoc.TienTraLai = null;\n        this.thongtinDonThuoc.NgayThu = new Date();\n        this.thongtinDonThuoc.NoiDungThu = \"Thu tiền thuốc\";\n    }\n    onKeyEnterAddItem(event) {\n        if (event.key == \"Enter\" && !this.isSelectingItem) {\n            if (this.isSelectingItem != true) {\n                this.them1();\n            }\n            else {\n                this.isSelectingItem = false;\n            }\n        }\n    }\n    openCombobox(event) {\n        if (event) {\n            this.isSelectingItem = true;\n        }\n        else {\n            this.isSelectingItem = false;\n        }\n    }\n    onKey(event) {\n        if (event.key == \"Enter\" && !this.isSelectingItem) {\n            if (this.isSelectingItem != true) {\n                this.them1();\n            }\n            else {\n                this.isSelectingItem = false;\n            }\n        }\n    }\n    modelChangeSoLuongMua(ev, dsQuayThuocs) {\n        // tslint:disable-next-line: prefer-for-of\n        for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n            if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === true) {\n                if (this.dataSourcedanhsachThuoc.data[index].Id === dsQuayThuocs.Id) {\n                    this.dataSourcedanhsachThuoc.data[index].SoTienMG = 0;\n                    this.dataSourcedanhsachThuoc.data[index].ThanhTien = ev * this.dataSourcedanhsachThuoc.data[index].DonGia;\n                    this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan = this.dataSourcedanhsachThuoc.data[index].ThanhTien;\n                    if (this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus != null) {\n                        if (this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus.length > 0) {\n                            // tslint:disable-next-line: prefer-for-of\n                            for (let i = 0; i < this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus.length; i++) {\n                                this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[i].SoTienCongNoChoThu = 0;\n                                this.dataSourcedanhsachThuoc.data[index].KiemTraTienSoTienItemDichVu =\n                                    this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan < 0 ? true : false;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n        this.tongTien = this.tongTienGrid;\n        this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n        // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n        //     this.thongtinDonThuoc.TienMat = this.tongTien;\n        // }\n        let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        if (items != null && items.length > 0) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n        this.danhSachXemTruocBangKeThuocVaVatTu(this.dataSourcedanhsachThuoc.data);\n    }\n    bindHinhThucThanhToanChangeGrid(item) {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n        this.clearHinhThucThanhToan();\n        this.defeautSoTien();\n        switch (item) {\n            case 1:\n                this.thongtinDonThuoc.TienMat = this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                this.flagCheckSeletedTienMat = true;\n                if (this.thongtinDonThuoc.TienMat < 0) {\n                    this.thongtinDonThuoc.TienMat = 0;\n                }\n                break;\n            case 2:\n                this.thongtinDonThuoc.ChuyenKhoan = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                this.flagCheckSeletedChuyenKhoan = true;\n                if (this.thongtinDonThuoc.ChuyenKhoan < 0) {\n                    this.thongtinDonThuoc.ChuyenKhoan = 0;\n                }\n                break;\n            case 3:\n                this.thongtinDonThuoc.POS = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.SoTienCongNo;\n                this.flagCheckSeletedPos = true;\n                if (this.thongtinDonThuoc.POS < 0) {\n                    this.thongtinDonThuoc.POS = 0;\n                }\n                break;\n            case 4:\n                this.thongtinDonThuoc.SoTienCongNo = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS;\n                this.flagCheckSeletedSoTienCongNo = true;\n                if (this.thongtinDonThuoc.SoTienCongNo < 0) {\n                    this.thongtinDonThuoc.SoTienCongNo = 0;\n                }\n                break;\n        }\n    }\n    defeautSoTien() {\n        this.thongtinDonThuoc.TienMat = 0;\n        this.thongtinDonThuoc.POS = 0;\n        this.thongtinDonThuoc.SoTienCongNo = 0;\n        this.thongtinDonThuoc.ChuyenKhoan = 0;\n        this.thongtinDonThuoc.BenhNhanDua = 0;\n        this.thongtinDonThuoc.TienTraLai = 0;\n    }\n    tinhTienChoPhuongThucThanhToan(item) {\n        switch (item) {\n            case 1:\n                this.thongtinDonThuoc.TienMat = this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                if (this.thongtinDonThuoc.TienMat < 0) {\n                    this.thongtinDonThuoc.TienMat = 0;\n                }\n                break;\n            case 2:\n                this.thongtinDonThuoc.ChuyenKhoan = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                if (this.thongtinDonThuoc.ChuyenKhoan < 0) {\n                    this.thongtinDonThuoc.ChuyenKhoan = 0;\n                }\n                break;\n            case 3:\n                this.thongtinDonThuoc.POS = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.SoTienCongNo;\n                if (this.thongtinDonThuoc.POS < 0) {\n                    this.thongtinDonThuoc.POS = 0;\n                }\n                break;\n            case 4:\n                this.thongtinDonThuoc.SoTienCongNo = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS;\n                if (this.thongtinDonThuoc.SoTienCongNo < 0) {\n                    this.thongtinDonThuoc.SoTienCongNo = 0;\n                }\n                break;\n        }\n    }\n    ChangeHinhThucThanhToan(event) {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n        this.clearHinhThucThanhToan();\n        this.defeautSoTien();\n        this.showCanhBaoSoTienNhap = false;\n        var items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        if (items != null && items.length === 1) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n        event.forEach((element) => {\n            switch (element) {\n                case 1:\n                    this.flagCheckSeletedTienMat = true;\n                    break;\n                case 2:\n                    this.flagCheckSeletedChuyenKhoan = true;\n                    break;\n                case 3:\n                    this.flagCheckSeletedPos = true;\n                    break;\n                case 4:\n                    this.flagCheckSeletedSoTienCongNo = true;\n                    break;\n            }\n        });\n        this.hinhThucThanhToan.forEach(item => { item.Change = false; });\n        this.hinhThucThanhToan.forEach(item => {\n            if (event.filter(o => o == item.KeyId).length > 0) {\n                item.Selected = true;\n                if (event.length == 1) {\n                    switch (item.KeyId) {\n                        case 1:\n                            this.thongtinDonThuoc.TienMat = this.tongTien;\n                            break;\n                        case 2:\n                            this.thongtinDonThuoc.ChuyenKhoan = this.tongTien;\n                            break;\n                        case 3:\n                            this.thongtinDonThuoc.POS = this.tongTien;\n                            break;\n                        case 4:\n                            this.thongtinDonThuoc.SoTienCongNo = this.tongTien;\n                            break;\n                    }\n                }\n            }\n            else {\n                item.Selected = false;\n            }\n        });\n        this.cdRef.detectChanges();\n    }\n    showPopupLoadingIn() {\n        this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_14__[\"LoadingComponent\"], {\n            disableClose: true,\n            width: '250px',\n            height: '90px',\n            data: { Title: 'Đang loading...' },\n        });\n    }\n    closePopupLoadingData() {\n        this.dialog.closeAll();\n    }\n};\nQuayThuocKhachVangLaiChoThanhToanComponent.ctorParameters = () => [\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_2__[\"ApiService\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__[\"NotificationService\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_6__[\"MatDialog\"] },\n    { type: _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_10__[\"MatSnackBar\"] },\n    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_11__[\"Router\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"danhSachChuaThanhToan\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"valueChangeThuTien\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('duocphamCombobox', { static: false })\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"duocPhamCombobox\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"thongTinKhachVangLai\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('tabVangLai', { static: true })\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"tabVangLai\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"changeTab\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"MaTiepNhanBenhNhanDaThuTien\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('footerTemplateTongTienDonThuoc', { static: true })\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"footerTemplateTongTienDonThuoc\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('actionTemplate', { static: true })\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"actionTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('footerTemplateDonGia', { static: true })\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"footerTemplateDonGia\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('donGiaTemplate', { static: true })\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"donGiaTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienTemplate', { static: true })\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"thanhTienTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('gridDanhSachMuaThuoc', { static: true })\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"gridDanhSachMuaThuoc\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('soLuonTemplate', { static: true })\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"soLuonTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"donThuocId\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocKhachVangLaiChoThanhToanComponent.prototype, \"ttCheck\", void 0);\nQuayThuocKhachVangLaiChoThanhToanComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-khach-vang-lai-cho-thanh-toan',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-khach-vang-lai-cho-thanh-toan.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-khach-vang-lai-cho-thanh-toan.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component.scss\")).default]\n    })\n], QuayThuocKhachVangLaiChoThanhToanComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.scss\":\n/*!******************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.scss ***!\n  \\******************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWktY2hvLXh1YXQtdGh1b2MvcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS1jaG8teHVhdC10aHVvYy5jb21wb25lbnQuc2NzcyJ9 */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.ts\":\n/*!****************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.ts ***!\n  \\****************************************************************************************************************************************/\n/*! exports provided: QuayThuocKhachVangLaiChoXuatThuocComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocKhachVangLaiChoXuatThuocComponent\", function() { return QuayThuocKhachVangLaiChoXuatThuocComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/component/dialogs/confirm/confirm.component */ \"./src/app/shared/component/dialogs/confirm/confirm.component.ts\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n\n\n\n\n\n\n\n\nlet QuayThuocKhachVangLaiChoXuatThuocComponent = class QuayThuocKhachVangLaiChoXuatThuocComponent {\n    constructor(route, dialog, apiService, router, notificationService) {\n        this.route = route;\n        this.dialog = dialog;\n        this.apiService = apiService;\n        this.router = router;\n        this.notificationService = notificationService;\n        this.gridColumns = [];\n        this.dataSourcedanhsachThuoc = {\n            data: [],\n            total: 0\n        };\n    }\n    ngOnInit() {\n        this.danhSachThuoc = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_2__[\"danhSachThuoc\"]();\n        this.gridColumns = [\n            { Field: \"TenDuocPham\", Title: \"Tên thuốc\", MinWidth: 120, Sortable: false },\n            { Field: \"MaHoatChat\", Title: \"Hoạt chất\", Width: 120, Sortable: false },\n            { Field: \"DonViTinh\", Title: \"ĐVT\", Width: 60, Sortable: false },\n            { Field: \"ViTri\", Title: \"Vị trí\", Width: 120, Sortable: false },\n            { Field: \"SoLuongMua\", Title: \"Số lượng\", Width: 120, Sortable: false },\n            { Field: \"HanSuDungHientThi\", Title: \"Hạn sử dụng\", Width: 120, Sortable: false }\n        ];\n        if (this.ThongTinBenhNhanDaThuTienData != undefined) {\n            this.apiService.post(\"QuayThuoc/GetDanhSachXuatThuocKhongBHYT?tiepNhanId=\" + this.ThongTinBenhNhanDaThuTienData.YeuCauTiepNhanId).subscribe(resultData => {\n                this.dataSourcedanhsachThuoc.data = resultData;\n            });\n        }\n        else {\n            this.dataSourcedanhsachThuoc.data = [];\n        }\n    }\n    ngOnChanges(event) {\n        this.ngOnInit();\n    }\n    GuiData() {\n        this.danhSachThuoc.Id = this.ThongTinBenhNhanDaThuTienData.YeuCauTiepNhanId;\n        this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_4__[\"ConfirmComponent\"], {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn xuất đơn thuốc này?\" }\n        }).afterClosed().subscribe(result => {\n            if (result == \"Yes\") {\n                this.apiService.post(\"QuayThuoc/XuatDonThuocBHYT\", this.danhSachThuoc).subscribe(resultData => {\n                    if (resultData != null && resultData != undefined && resultData != \"\") {\n                        this.notificationService.showError(resultData);\n                    }\n                    else {\n                        if (this.ttCheck == 1) {\n                            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttCheck } });\n                        }\n                        if (this.ttCheck == 2) {\n                            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttCheck } });\n                        }\n                        if (this.ttCheck == 3) {\n                            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttCheck } });\n                        }\n                    }\n                }, (err) => {\n                });\n            }\n        });\n    }\n};\nQuayThuocKhachVangLaiChoXuatThuocComponent.ctorParameters = () => [\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__[\"ActivatedRoute\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_6__[\"MatDialog\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__[\"ApiService\"] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__[\"Router\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_7__[\"NotificationService\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocKhachVangLaiChoXuatThuocComponent.prototype, \"ttCheck\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocKhachVangLaiChoXuatThuocComponent.prototype, \"ThongTinBenhNhanDaThuTienData\", void 0);\nQuayThuocKhachVangLaiChoXuatThuocComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-khach-vang-lai-cho-xuat-thuoc',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.scss\")).default]\n    })\n], QuayThuocKhachVangLaiChoXuatThuocComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.scss\":\n/*!******************************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.scss ***!\n  \\******************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS10aG9uZy10aW4taGFuaC1jaGluaC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXHF1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWktdGhvbmctdGluLWhhbmgtY2hpbmhcXHF1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWktdGhvbmctdGluLWhhbmgtY2hpbmguY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWktdGhvbmctdGluLWhhbmgtY2hpbmgvcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS10aG9uZy10aW4taGFuaC1jaGluaC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS10aG9uZy10aW4taGFuaC1jaGluaC9xdWF5LXRodW9jLWtoYWNoLXZhbmctbGFpLXRob25nLXRpbi1oYW5oLWNoaW5oLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufSIsImZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtO1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW07XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbTtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn0iXX0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.ts\":\n/*!****************************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.ts ***!\n  \\****************************************************************************************************************************************************/\n/*! exports provided: QuayThuocKhachVangLaiThongTinHanhChinhComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocKhachVangLaiThongTinHanhChinhComponent\", function() { return QuayThuocKhachVangLaiThongTinHanhChinhComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n\n\n\nlet QuayThuocKhachVangLaiThongTinHanhChinhComponent = class QuayThuocKhachVangLaiThongTinHanhChinhComponent {\n    constructor(apiService) {\n        this.apiService = apiService;\n        this.thongTinBenhNhan = {};\n        this.valueChange = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.data = {};\n    }\n    ngOnInit() {\n        let maBN = this.donThuocId.maBN;\n        if (this.MaBN != null) {\n            maBN = this.MaBN;\n        }\n        else {\n            this.data = null;\n        }\n        if (maBN != null) {\n            this.GetThongTinBenhNhan(maBN);\n        }\n        else {\n            this.data = null;\n        }\n        if (this.data == null) {\n            if (this.TenBenhNhan != null || this.SDT != null) {\n                this.thongTinBenhNhan.HoTen = this.TenBenhNhan;\n            }\n            if (this.SDT != null) {\n                this.thongTinBenhNhan.SoDienThoai = this.SDT;\n            }\n        }\n        if (this.ThongTinBenhNhanDaThuTienData != undefined) {\n            this.GetThongTinBenhNhanTN(this.ThongTinBenhNhanDaThuTienData.YeuCauTiepNhanId);\n        }\n    }\n    ngOnChanges(event) {\n        this.ngOnInit();\n    }\n    GetThongTinBenhNhan(maBN) {\n        this.apiService.post(\"QuayThuoc/GetThongTinBenhNhan1?maBN=\" + maBN).subscribe(resultData => {\n            this.data = resultData;\n            console.log(resultData);\n        }, () => {\n            console.log(\"Loi roi\");\n        });\n    }\n    GetThongTinBenhNhanTN(maTN) {\n        this.apiService.post(\"QuayThuoc/GetThongTinBenhNhanTN?maTN=\" + maTN).subscribe(resultData => {\n            this.data = resultData;\n            console.log(resultData);\n        }, () => {\n            console.log(\"Loi roi\");\n        });\n    }\n    TinhThanhPhoChange(tinhThanh) {\n        this.thongTinBenhNhan.TinhThanhId = tinhThanh;\n        this.valueChange.emit(this.thongTinBenhNhan);\n        if (this.thongTinBenhNhan.TinhThanhId == null) {\n            this.thongTinBenhNhan.QuanHuyenId = null;\n            this.thongTinBenhNhan.TinhThanhId = null;\n            this.thongTinBenhNhan.PhuongXaId = null;\n            this.thongTinBenhNhan.TenHuyenDisplay = null;\n            this.thongTinBenhNhan.TenTinhDisplay = null;\n            this.thongTinBenhNhan.TenPhuongDisplay = null;\n        }\n    }\n    QuanHuyenChange(quanHuyen) {\n        this.thongTinBenhNhan.QuanHuyenId = quanHuyen;\n        if (this.thongTinBenhNhan.QuanHuyenId == null) {\n            this.thongTinBenhNhan.QuanHuyenId = null;\n            this.thongTinBenhNhan.TinhThanhId = null;\n            this.thongTinBenhNhan.PhuongXaId = null;\n            this.thongTinBenhNhan.TenHuyenDisplay = null;\n            this.thongTinBenhNhan.TenTinhDisplay = null;\n            this.thongTinBenhNhan.TenPhuongDisplay = null;\n        }\n        this.valueChange.emit(this.thongTinBenhNhan);\n    }\n    PhuongXaChange(phuongXa) {\n        this.thongTinBenhNhan.PhuongXaId = phuongXa;\n        if (this.thongTinBenhNhan.PhuongXaId != null) {\n            this.apiService.post(\"QuayThuoc/GetTinhHuyen?phuongXaId=\" + phuongXa).subscribe(resultData => {\n                this.thongTinBenhNhan.QuanHuyenId = resultData[0].HuyenId;\n                this.thongTinBenhNhan.TinhThanhId = resultData[0].TinhId;\n                this.thongTinBenhNhan.TenHuyenDisplay = resultData[0].TenHuyen;\n                this.thongTinBenhNhan.TenTinhDisplay = resultData[0].TenTinh;\n                this.thongTinBenhNhan.PhuongXaId = phuongXa;\n            }, () => {\n                console.log(\"Loi roi\");\n            });\n        }\n        else {\n            this.thongTinBenhNhan.QuanHuyenId = 0;\n            this.thongTinBenhNhan.TinhThanhId = 0;\n            this.thongTinBenhNhan.TenHuyenDisplay = null;\n            this.thongTinBenhNhan.TenTinhDisplay = null;\n        }\n        this.valueChange.emit(this.thongTinBenhNhan);\n    }\n    onSaveTen() {\n        this.valueChange.emit(this.thongTinBenhNhan);\n    }\n    onSaveSDT(sdt) {\n        this.thongTinBenhNhan.SoDienThoai = sdt;\n        this.valueChange.emit(this.thongTinBenhNhan);\n    }\n    onSaveGioiTinh(gioiTinh) {\n        this.thongTinBenhNhan.GioiTinh = gioiTinh;\n        this.valueChange.emit(this.thongTinBenhNhan);\n    }\n    onSaveNamSinh(namSinh) {\n        this.thongTinBenhNhan.NamSinh = namSinh;\n        this.valueChange.emit(this.thongTinBenhNhan);\n    }\n    onSaveDiaChi(diaChi) {\n        this.thongTinBenhNhan.DiaChi = diaChi;\n        this.valueChange.emit(this.thongTinBenhNhan);\n    }\n};\nQuayThuocKhachVangLaiThongTinHanhChinhComponent.ctorParameters = () => [\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_2__[\"ApiService\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocKhachVangLaiThongTinHanhChinhComponent.prototype, \"validationErrors\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocKhachVangLaiThongTinHanhChinhComponent.prototype, \"valueChange\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocKhachVangLaiThongTinHanhChinhComponent.prototype, \"donThuocId\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocKhachVangLaiThongTinHanhChinhComponent.prototype, \"MaBN\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocKhachVangLaiThongTinHanhChinhComponent.prototype, \"TenBenhNhan\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocKhachVangLaiThongTinHanhChinhComponent.prototype, \"SDT\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocKhachVangLaiThongTinHanhChinhComponent.prototype, \"ThongTinBenhNhanDaThuTienData\", void 0);\nQuayThuocKhachVangLaiThongTinHanhChinhComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.scss\")).default]\n    })\n], QuayThuocKhachVangLaiThongTinHanhChinhComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component.scss\":\n/*!************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component.scss ***!\n  \\************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWkvcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS5jb21wb25lbnQuc2NzcyJ9 */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component.ts\":\n/*!**********************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component.ts ***!\n  \\**********************************************************************************************************/\n/*! exports provided: QuayThuocKhachVangLaiComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocKhachVangLaiComponent\", function() { return QuayThuocKhachVangLaiComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var _quay_thuoc_khach_vang_lai_cho_thanh_toan_quay_thuoc_khach_vang_lai_cho_thanh_toan_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component.ts\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/shared/component/dialogs/loading/loading.component */ \"./src/app/shared/component/dialogs/loading/loading.component.ts\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var _thong_tin_phieu_pdf_popup_thong_tin_phieu_pdf_popup_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component */ \"./src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.ts\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n\n\n\n\n\n\n\n\n\n\nlet QuayThuocKhachVangLaiComponent = class QuayThuocKhachVangLaiComponent {\n    constructor(route, notificationService, router, dialog, apiService) {\n        this.route = route;\n        this.notificationService = notificationService;\n        this.router = router;\n        this.dialog = dialog;\n        this.apiService = apiService;\n        this.kendoTabSelected = 1;\n        this.yctnId = 0;\n        this.benhNhanId = 0;\n        this.trangThai = 0;\n        this.flagAllowLoadThuoc = true;\n        this.xemTruocBangKeThuoc = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_2__[\"XemTruocBangKeThuoc\"]();\n        this.tabIndex = 0;\n    }\n    ngOnInit() {\n        this.route\n            .queryParams\n            .subscribe(v => {\n            this.donThuocIds = v;\n        });\n        this.route.queryParams.subscribe(params => {\n            this.ttCheck = params.page;\n        });\n        if (this.ttCheck == undefined) {\n            this.route.queryParams.subscribe(params => {\n                this.ttCheck = params.ttCheck;\n            });\n        }\n        this.route.queryParams.subscribe(params => {\n            this.MaBN = params.MaBN;\n        });\n        this.route.queryParams.subscribe(params => {\n            this.TenBenhNhan = params.TenBenhNhan;\n        });\n        this.route.queryParams.subscribe(params => {\n            this.SDT = params.SDT;\n        });\n    }\n    onTabSelect(event) {\n        this.tabIndex = event.index;\n        if (event.index == 1) {\n            this.flagAllowLoadThuoc = false;\n        }\n        else {\n            this.flagAllowLoadThuoc = true;\n        }\n    }\n    Huy() {\n        this.route.queryParams.subscribe(v => {\n            if (v.page != null) {\n                this.ttCheck = v.page;\n            }\n        });\n        this.route.queryParams.subscribe(v => {\n            if (v.ttCheck != null) {\n                this.ttCheck = v.ttCheck;\n            }\n        });\n        if (this.ttCheck == 1) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttCheck } });\n        }\n        if (this.ttCheck == 2) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttCheck } });\n        }\n        if (this.ttCheck == 3) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttCheck } });\n        }\n        if (this.ttCheck == 0) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttCheck } });\n        }\n    }\n    switchValueChanges(data) {\n        this.thongTinBenhNhan = data;\n    }\n    switchValueChangesChoThanhToan(data) {\n        this.validationErrorForThongTin = data;\n    }\n    changeTab(event) {\n        this.trangThai = event;\n    }\n    MaTiepNhanBenhNhanDaThuTien(event) {\n        this.ThongTinBenhNhanDaThuTien = event;\n        if (this.ThongTinBenhNhanDaThuTien != undefined) {\n            this.yctnId = event.YeuCauTiepNhanId;\n            this.benhNhanId = event.BenhNhanId;\n            if (this.trangThai == 1) {\n                this.router.navigate(['nha-thuoc/mua-thuoc/' + this.yctnId + '/' + this.benhNhanId + '/' + this.trangThai + '/' + this.ttCheck]);\n            }\n            else {\n                this.router.navigate(['nha-thuoc/mua-thuoc/' + this.yctnId + '/' + this.benhNhanId + '/' + this.trangThai + '/' + this.ttCheck]);\n            }\n            this.ngOnInit();\n        }\n    }\n    danhSachChuaThanhToan(data) {\n        this.xemTruocBangKeThuoc.DanhSachDonThuocs = data;\n    }\n    inXemTruocBangKeThuoc() {\n        this.showPopupLoadingIn();\n        this.xemTruocBangKeThuoc.Hosting = window.location.protocol + '//' + window.location.host;\n        this.xemTruocBangKeThuoc.YeuCauTiepNhanId = this.route.snapshot.params.id;\n        if (this.xemTruocBangKeThuoc.DanhSachDonThuocs === undefined &&\n            this.xemTruocBangKeThuoc.DanhSachDonThuocs === null && this.xemTruocBangKeThuoc.DanhSachDonThuocs.length === 0) {\n            this.notificationService.showError(\"Không có thuốc và vật tư.\");\n            return;\n        }\n        else {\n            this.apiService.postExportPdf('QuayThuoc/XemTruocBangKeThuoc', this.xemTruocBangKeThuoc).subscribe(resultData => {\n                if (resultData != undefined && resultData != null) {\n                    this.dialog.open(_thong_tin_phieu_pdf_popup_thong_tin_phieu_pdf_popup_component__WEBPACK_IMPORTED_MODULE_8__[\"ThongTinPhieuPdfPopupComponent\"], {\n                        disableClose: true,\n                        width: '1000px',\n                        data: { Model: resultData }\n                    }).afterClosed().subscribe(() => {\n                        this.closePopupLoadingData();\n                    });\n                }\n            }, (err) => {\n                this.closePopupLoadingData();\n            });\n        }\n    }\n    showPopupLoadingIn() {\n        this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_6__[\"LoadingComponent\"], {\n            disableClose: true,\n            width: '250px',\n            height: '90px',\n            data: { Title: 'Đang loading...' },\n        });\n    }\n    closePopupLoadingData() {\n        this.dialog.closeAll();\n    }\n    keyEvent(event) {\n        if (event.keyCode == 83 && event.ctrlKey) {\n            // ctrl + s\n            if (this.tabIndex == 0) {\n                this.quayThuocHinhThucThanhToan.ThuTien();\n            }\n            event.preventDefault();\n        }\n        if (event.keyCode == 112 && event.ctrlKey) {\n            // ctrl + f1\n            this.tabVangLai.selectTab(0);\n            event.preventDefault();\n        }\n        if (event.keyCode == 113 && event.ctrlKey) {\n            // ctrl + f2\n            this.tabVangLai.selectTab(1);\n            event.preventDefault();\n        }\n        if (event.keyCode == 27 && !event.ctrlKey) {\n            // esc\n            this.Huy();\n            event.preventDefault();\n        }\n    }\n};\nQuayThuocKhachVangLaiComponent.ctorParameters = () => [\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__[\"ActivatedRoute\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_9__[\"NotificationService\"] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__[\"Router\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_5__[\"MatDialog\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_7__[\"ApiService\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('tabVangLai', { static: true })\n], QuayThuocKhachVangLaiComponent.prototype, \"tabVangLai\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])(_quay_thuoc_khach_vang_lai_cho_thanh_toan_quay_thuoc_khach_vang_lai_cho_thanh_toan_component__WEBPACK_IMPORTED_MODULE_4__[\"QuayThuocKhachVangLaiChoThanhToanComponent\"], { static: false })\n], QuayThuocKhachVangLaiComponent.prototype, \"quayThuocHinhThucThanhToan\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"HostListener\"])('document:keydown', ['$event'])\n], QuayThuocKhachVangLaiComponent.prototype, \"keyEvent\", null);\nQuayThuocKhachVangLaiComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-khach-vang-lai',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-khach-vang-lai.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-khach-vang-lai.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component.scss\")).default]\n    })\n], QuayThuocKhachVangLaiComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-list/quay-thuoc-list.component.scss\":\n/*!****************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-list/quay-thuoc-list.component.scss ***!\n  \\****************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".icon-bhyt {\\n  height: 20px;\\n  top: 2px;\\n  position: absolute;\\n  right: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy1saXN0L0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxccXVheS10aHVvY1xccXVheS10aHVvYy1saXN0XFxxdWF5LXRodW9jLWxpc3QuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtbGlzdC9xdWF5LXRodW9jLWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0VBQ0EsUUFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy1saXN0L3F1YXktdGh1b2MtbGlzdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pY29uLWJoeXQge1xuICBoZWlnaHQ6IDIwcHg7XG4gIHRvcDogMnB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xufSIsIi5pY29uLWJoeXQge1xuICBoZWlnaHQ6IDIwcHg7XG4gIHRvcDogMnB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xufSJdfQ== */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-list/quay-thuoc-list.component.ts\":\n/*!**************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-list/quay-thuoc-list.component.ts ***!\n  \\**************************************************************************************/\n/*! exports provided: QuayThuocListComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocListComponent\", function() { return QuayThuocListComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _iconify_icons_ic_done__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @iconify/icons-ic/done */ \"./node_modules/@iconify/icons-ic/done.js\");\n/* harmony import */ var _iconify_icons_ic_done__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_done__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _iconify_icons_ic_info__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @iconify/icons-ic/info */ \"./node_modules/@iconify/icons-ic/info.js\");\n/* harmony import */ var _iconify_icons_ic_info__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_info__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_print__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @iconify/icons-ic/twotone-print */ \"./node_modules/@iconify/icons-ic/twotone-print.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_print__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_print__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_check__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @iconify/icons-ic/twotone-check */ \"./node_modules/@iconify/icons-ic/twotone-check.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_check__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_check__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _in_don_thuoc_pop_up_in_don_thuoc_pop_up_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../in-don-thuoc-pop-up/in-don-thuoc-pop-up.component */ \"./src/app/modules/main/quay-thuoc/in-don-thuoc-pop-up/in-don-thuoc-pop-up.component.ts\");\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n/* harmony import */ var src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/core/utilities/common.helper */ \"./src/app/core/utilities/common.helper.ts\");\n/* harmony import */ var src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/shared/configdata/system-message */ \"./src/app/shared/configdata/system-message.ts\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n/* harmony import */ var src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! src/app/shared/component/dialogs/confirm/confirm.component */ \"./src/app/shared/component/dialogs/confirm/confirm.component.ts\");\n/* harmony import */ var src_app_core_services_auth_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! src/app/core/services/auth.service */ \"./src/app/core/services/auth.service.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet QuayThuocListComponent = class QuayThuocListComponent {\n    constructor(router, apiService, dialog, route, authService, notificationService) {\n        this.router = router;\n        this.apiService = apiService;\n        this.dialog = dialog;\n        this.route = route;\n        this.authService = authService;\n        this.notificationService = notificationService;\n        this.icDone = _iconify_icons_ic_done__WEBPACK_IMPORTED_MODULE_2___default.a;\n        this.icInfo = _iconify_icons_ic_info__WEBPACK_IMPORTED_MODULE_3___default.a;\n        this.icPrint = _iconify_icons_ic_twotone_print__WEBPACK_IMPORTED_MODULE_5___default.a;\n        this.icCheck = _iconify_icons_ic_twotone_check__WEBPACK_IMPORTED_MODULE_8___default.a;\n        this.gridChildColumnsChoThanhToan = [];\n        this.gridChildColumnsDaThanhToan = [];\n        this.gridChildColumnsAll = [];\n        this.gridChild = [];\n        this.DieuKienLoadVaoChiTiet = false;\n        this.typeDanhSachThanhToan = 0;\n        this.xacNhanIn = false;\n        this.data = 0;\n        this.id = null;\n        this.url1 = null;\n        this.url2 = null;\n        this.queryStringSearchUuTien = null;\n        this.OnHandleDataQuayThuocSearchList = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.OnHandleDieuKienLoadXemChiTiet = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.urlGetDataGridChild = \"QuayThuoc/GetDataForGridTimBenhNhanAsync\";\n        this.urlGetTotalPageGridChild = \"QuayThuoc/GetTotalPageForGridTimBenhNhanAsync\";\n        this.urlGetDataChild = \"QuayThuoc/GetDanhSachThuocBenhNhanChild\";\n        this.validationErrors = [];\n        this.groups = [{ field: 'LoaiDonThuoc' }];\n        this.sortConfig = [\n            {\n                field: \"TrangThai\",\n                dir: \"asc\",\n            },\n            {\n                field: \"Id\",\n                dir: \"asc\",\n            },\n        ];\n    }\n    ngOnInit() {\n        this.gridChildColumnsChoThanhToan = [\n            { Field: \"MaTN\", Title: \"Mã TN\", Width: 100, Sortable: true, Template: this.maTNTemplate },\n            { Field: \"MaBN\", Title: \"Mã NB\", Width: 80, Sortable: true },\n            { Field: \"HoTen\", Title: \"Họ Tên\", Width: 200, Sortable: true },\n            { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 80, Sortable: true },\n            { Field: \"GioiTinhHienThi\", Title: \"Giới tính\", Width: 80, Sortable: true },\n            { Field: \"DiaChi\", Title: \"Địa chỉ\", MinWidth: 120, Sortable: true },\n            { Field: \"SoDienThoai\", Title: \"Điện thoại\", Width: 120, Sortable: true },\n            { Field: \"DoiTuong\", Title: \"Đối tượng\", Width: 120, Sortable: true },\n            { Field: \"TongGiaTriDonThuoc\", Title: \"Tổng giá trị đơn thuốc\", Width: 200, Sortable: true, Template: this.TongGiaTriDonThuocTemplate },\n            { Field: \"TrangThaiHienThiString\", Title: \"Trạng thái\", Width: 120, Sortable: false, Template: this.trangThaiTemplate },\n            { Field: \"\", Title: \"\", Width: 200, Sortable: false, Template: this.nguoiDungKhongMuaThuocTemplate },\n        ];\n        this.gridChildColumnsDaThanhToan = [\n            { Field: \"MaTN\", Title: \"Mã TN\", Width: 100, Sortable: true, Template: this.maTNTemplate },\n            { Field: \"MaBN\", Title: \"Mã NB\", Width: 80, Sortable: true },\n            { Field: \"HoTen\", Title: \"Họ Tên\", Width: 200, Sortable: true },\n            { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 80, Sortable: true },\n            { Field: \"GioiTinhHienThi\", Title: \"Giới tính\", Width: 80, Sortable: true },\n            { Field: \"DiaChi\", Title: \"Địa chỉ\", MinWidth: 120, Sortable: true },\n            { Field: \"SoDienThoai\", Title: \"Điện thoại\", Width: 120, Sortable: true },\n            { Field: \"DoiTuong\", Title: \"Đối tượng\", Width: 120, Sortable: true },\n            { Field: \"TongGiaTriDonThuoc\", Title: \"Tổng giá trị đơn thuốc\", Width: 200, Sortable: true, Template: this.TongGiaTriDonThuocTemplate },\n            { Field: \"TrangThaiHienThiString\", Title: \"Trạng thái\", Width: 120, Sortable: false, Template: this.trangThaiTemplate },\n        ];\n        this.gridChildColumnsAll = [\n            { Field: \"MaTN\", Title: \"Mã TN\", Width: 100, Sortable: true, Template: this.maTNTemplate },\n            { Field: \"MaBN\", Title: \"Mã NB\", Width: 80, Sortable: true },\n            { Field: \"HoTen\", Title: \"Họ Tên\", Width: 200, Sortable: true },\n            { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 80, Sortable: true },\n            { Field: \"GioiTinhHienThi\", Title: \"Giới tính\", Width: 80, Sortable: true },\n            { Field: \"DiaChi\", Title: \"Địa chỉ\", MinWidth: 120, Sortable: true },\n            { Field: \"SoDienThoai\", Title: \"Điện thoại\", Width: 120, Sortable: true },\n            { Field: \"DoiTuong\", Title: \"Đối tượng\", Width: 120, Sortable: true },\n            { Field: \"SoTienChoThanhToan\", Title: \"Số tiền chờ thanh toán\", Width: 220, Sortable: true, Template: this.SoTienChoThanhToanTemplate },\n            { Field: \"TongGiaTriDonThuoc\", Title: \"Tổng giá trị đơn thuốc\", Width: 200, Sortable: true, Template: this.TongGiaTriDonThuocTemplate },\n            { Field: \"TrangThaiHienThiString\", Title: \"Trạng thái\", Width: 120, Sortable: false, Template: this.trangThaiTemplate },\n        ];\n        this.gridChild = [\n            { Field: \"STT\", Title: \"#\", Width: 100, Sortable: true },\n            { Field: \"LoaiDonThuoc\", Title: \"\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            { Field: \"MaDon\", Title: \"Mã Đơn\", Width: 100, Sortable: true },\n            { Field: \"NgayKeDon\", Title: \"Ngày kê đơn\", Width: 200, Sortable: true },\n            { Field: \"DVKham\", Title: \"Dịch vụ khám\", minWidth: 200, Sortable: true },\n            { Field: \"BSKham\", Title: \"Bác sĩ khám\", Width: 200, Sortable: true },\n            { Field: \"SoTienDisPlay\", Title: \"Số tiền \", Width: 80, Sortable: true, TemplateFooter: this.TongCongDonThuocFooter, Template: this.SoTienThuoctemplate },\n            { Field: \"TinhTrang\", Title: \"Tình trạng\", Width: 120, Sortable: true, Template: this.TinhTrangThuoctemplate },\n            { Field: \"\", Title: \"\", Width: 120, Sortable: true, Template: this.templatePrint },\n        ];\n    }\n    Xem(event) {\n        this.router.navigate(['nha-thuoc/mua-thuoc/' + event.YeuCauTiepNhanId + '/' + event.BenhNhanId + '/' + event.TrangThai + '/' + this.typeDanhSachThanhToan]);\n    }\n    ngOnChanges(event) {\n        if (event.queryStringSearchUuTien != null || event.queryStringSearchUuTien != undefined) {\n            if (event.queryStringSearchUuTien.currentValue != null || event.queryStringSearchUuTien.currentValue != undefined) {\n                if (event.queryStringSearchUuTien.currentValue != null) {\n                    this.gridD._additionalSearchString = event.queryStringSearchUuTien.currentValue;\n                    let kiemTraDieuKienLoad = JSON.parse(event.queryStringSearchUuTien.currentValue);\n                    this.typeDanhSachThanhToan = kiemTraDieuKienLoad.KiemTraThanhToan;\n                    if (kiemTraDieuKienLoad.DieuKienLoadVaoChiTiet != null) {\n                        this.DieuKienLoadVaoChiTiet = kiemTraDieuKienLoad.DieuKienLoadVaoChiTiet;\n                    }\n                    this.gridD.search();\n                }\n            }\n        }\n    }\n    PrinAllDonThuocBenhNhan(donThuocThanhToanId, LoaiDonThuoc, YeuCauKhambenhId) {\n        var data = {\n            LoaiDonThuoc: LoaiDonThuoc,\n            YeuCauKhambenhId: YeuCauKhambenhId,\n            Hosting: null,\n            TiepNhanId: donThuocThanhToanId\n        };\n        if (window.location.protocol == \"http:\") {\n            data.Hosting = \"http://\" + window.location.host;\n        }\n        else {\n            data.Hosting = \"https://\" + window.location.host;\n        }\n        this.apiService.post(\"QuayThuoc/InThuocBenhNhan\", data).subscribe(resultData => {\n            let dialogRef = this.dialog.open(_in_don_thuoc_pop_up_in_don_thuoc_pop_up_component__WEBPACK_IMPORTED_MODULE_9__[\"InDonThuocPopUpComponent\"], {\n                width: '1000px',\n                data: { Model: resultData, InDonThuocDanhSachList: false, InBangKe: true, InPhieuThu: false }\n            }).afterClosed().subscribe(() => { });\n        }, () => { });\n    }\n    onDataBound(data) {\n        this.OnHandleDieuKienLoadXemChiTiet.emit(true);\n        this.OnHandleDataQuayThuocSearchList.emit(data);\n    }\n    nguoiBenhKhongMuaThuoc(dataItem) {\n        var self = this;\n        const yeuCauTiepNhanId = dataItem.Id;\n        var nguoiDungKhongMuaDonThuoc = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_10__[\"NguoiDungKhongMuaDonThuoc\"]();\n        nguoiDungKhongMuaDonThuoc.YeuCauTiepNhanId = yeuCauTiepNhanId;\n        self.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_14__[\"ConfirmComponent\"], {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: \"Người bệnh không muốn mua thuốc này?\" }\n        }).afterClosed().subscribe(result => {\n            if (result == \"Yes\") {\n                self.apiService.post(\"QuayThuoc/NguoiBenhKhongMuaDonThuoc\", nguoiDungKhongMuaDonThuoc).subscribe(() => {\n                    self.notificationService.showSuccess(src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_11__[\"CommonService\"].format(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_12__[\"SystemMessage\"].ActionSuccessfully, [\"Xóa\"]));\n                    this.gridD.search();\n                }, (err) => {\n                    self.validationErrors = err.ValidationErrors;\n                    if (err.Message != \"Validation Failed\") {\n                        self.notificationService.showError(err.Message);\n                    }\n                });\n            }\n        });\n    }\n};\nQuayThuocListComponent.ctorParameters = () => [\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__[\"Router\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_6__[\"ApiService\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_7__[\"MatDialog\"] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__[\"ActivatedRoute\"] },\n    { type: src_app_core_services_auth_service__WEBPACK_IMPORTED_MODULE_15__[\"AuthService\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_13__[\"NotificationService\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocListComponent.prototype, \"xacNhanIn\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocListComponent.prototype, \"id\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocListComponent.prototype, \"url1\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocListComponent.prototype, \"url2\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocListComponent.prototype, \"queryStringSearchUuTien\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocListComponent.prototype, \"OnHandleDataQuayThuocSearchList\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocListComponent.prototype, \"OnHandleDieuKienLoadXemChiTiet\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('gridD', { static: true })\n], QuayThuocListComponent.prototype, \"gridD\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('actionTemplate', { static: true })\n], QuayThuocListComponent.prototype, \"actionTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('TongGiaTriDonThuocTemplate', { static: true })\n], QuayThuocListComponent.prototype, \"TongGiaTriDonThuocTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('SoTienChoThanhToanTemplate', { static: true })\n], QuayThuocListComponent.prototype, \"SoTienChoThanhToanTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('trangThaiTemplate', { static: true })\n], QuayThuocListComponent.prototype, \"trangThaiTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('nguoiDungKhongMuaThuocTemplate', { static: true })\n], QuayThuocListComponent.prototype, \"nguoiDungKhongMuaThuocTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('maTNTemplate', { static: true })\n], QuayThuocListComponent.prototype, \"maTNTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('templatePrint', { static: true })\n], QuayThuocListComponent.prototype, \"templatePrint\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('TongCongDonThuocFooter', { static: true })\n], QuayThuocListComponent.prototype, \"TongCongDonThuocFooter\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('TonggiaTriThuocFooter', { static: true })\n], QuayThuocListComponent.prototype, \"TonggiaTriThuocFooter\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('gridDonThuocTrongNgay', { static: false })\n], QuayThuocListComponent.prototype, \"gridDonThuocTrongNgay\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('nhomGroupHeaderTemplate', { static: true })\n], QuayThuocListComponent.prototype, \"nhomGroupHeaderTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('SoTienThuoctemplate', { static: true })\n], QuayThuocListComponent.prototype, \"SoTienThuoctemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('TinhTrangThuoctemplate', { static: true })\n], QuayThuocListComponent.prototype, \"TinhTrangThuoctemplate\", void 0);\nQuayThuocListComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-list',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-list.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-list/quay-thuoc-list.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-list.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-list/quay-thuoc-list.component.scss\")).default]\n    })\n], QuayThuocListComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component.scss\":\n/*!**************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component.scss ***!\n  \\**************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtbXVhLXRodW9jL3F1YXktdGh1b2MtbXVhLXRodW9jLmNvbXBvbmVudC5zY3NzIn0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component.ts\":\n/*!************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component.ts ***!\n  \\************************************************************************************************/\n/*! exports provided: QuayThuocMuaThuocComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocMuaThuocComponent\", function() { return QuayThuocMuaThuocComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var _quay_thuoc_hinh_thuc_thanh_toan_quay_thuoc_hinh_thuc_thanh_toan_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component.ts\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/shared/component/dialogs/loading/loading.component */ \"./src/app/shared/component/dialogs/loading/loading.component.ts\");\n/* harmony import */ var _thong_tin_phieu_pdf_popup_thong_tin_phieu_pdf_popup_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component */ \"./src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.ts\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n\n\n\n\n\n\n\n\n\n\nlet QuayThuocMuaThuocComponent = class QuayThuocMuaThuocComponent {\n    constructor(route, notificationService, dialog, apiService, router, cdRef) {\n        this.route = route;\n        this.notificationService = notificationService;\n        this.dialog = dialog;\n        this.apiService = apiService;\n        this.router = router;\n        this.cdRef = cdRef;\n        this.tt = this.route.snapshot.params.tt;\n        this.ttcheck = this.route.snapshot.params.ttcheck;\n        this.apDungCongNoThuoc = false;\n        this.thongTinTam = [];\n        this.viTri = 0;\n        this.tongTienBNThanhToan = 0;\n        this.apDungMienGiam = false;\n        this.flagAllowLoadThuoc = true;\n        this.xemTruocBangKeThuoc = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_2__[\"XemTruocBangKeThuoc\"]();\n        this.tabIndex = 0;\n    }\n    ngOnInit() {\n        const tiepNhanId = this.route.snapshot.params.id;\n        const benhNhanId = this.route.snapshot.params.idsub;\n        this.benhnhanThongTin = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_2__[\"BenhNhanThongTin\"]();\n        this.GetThongTinBenhNhan(benhNhanId, tiepNhanId);\n    }\n    GetThongTinBenhNhan(benhNhanId, tiepNhanId) {\n        this.apiService.post(\"QuayThuoc/GetThongTinBenhNhan?benhNhanId=\" + benhNhanId + \"&tiepNhanId=\" + tiepNhanId).subscribe(resultData => {\n            this.benhnhanThongTin = resultData;\n        }, () => { });\n    }\n    onTabSelect(event) {\n        this.tabIndex = event.index;\n        if (event.index == 1) {\n            this.flagAllowLoadThuoc = false;\n        }\n        else {\n            this.flagAllowLoadThuoc = true;\n        }\n    }\n    // 2 đã thanh toán --- 1 chưa thanh toán --- 3 là cả 2\n    Huy() {\n        if (this.ttcheck == 1) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck, hoQuerysearch: false } });\n        }\n        if (this.ttcheck == 2) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck, hoQuerysearch: false } });\n        }\n        if (this.ttcheck == 3) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck, hoQuerysearch: false } });\n        }\n        if (this.ttcheck == 0) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck, hoQuerysearch: false } });\n        }\n    }\n    ngAfterViewChecked() {\n        this.cdRef.detectChanges();\n    }\n    afterChangedCongNo() {\n        this.cdRef.detectChanges();\n        this.apDungCongNoThuoc = false;\n    }\n    afterChangedMienGiam() {\n        this.cdRef.detectChanges();\n        this.apDungMienGiam = false;\n    }\n    getBaoHiem(data) {\n        this.apDungCongNoThuoc = data.apDungCongNoThuoc;\n        this.thongTinTam = data.thongTinTam;\n        this.viTri = data.viTri;\n    }\n    getMg(data) {\n        this.apDungMienGiam = data.apDungMienGiam;\n        this.thongTinMienGiamVos = data.thongTinMienGiam;\n    }\n    danhSachChuaThanhToan(data) {\n        let bnThanhToan = 0;\n        if (data != undefined && data != null) {\n            data.forEach(ele => {\n                bnThanhToan += ele.BNConPhaiThanhToan;\n            });\n        }\n        this.tongTienBNThanhToan = bnThanhToan;\n        this.xemTruocBangKeThuoc.DanhSachDonThuocs = data;\n    }\n    changeTab() {\n        this.tabQuayThuoc.selectTab(1);\n        this.flagAllowLoadThuoc = false;\n    }\n    inXemTruocBangKeThuoc() {\n        this.showPopupLoadingIn();\n        this.xemTruocBangKeThuoc.Hosting = window.location.protocol + '//' + window.location.host;\n        this.xemTruocBangKeThuoc.YeuCauTiepNhanId = this.route.snapshot.params.id;\n        if (this.xemTruocBangKeThuoc.DanhSachDonThuocs === undefined &&\n            this.xemTruocBangKeThuoc.DanhSachDonThuocs === null && this.xemTruocBangKeThuoc.DanhSachDonThuocs.length === 0) {\n            this.notificationService.showError(\"Không có thuốc và vật tư.\");\n            return;\n        }\n        else {\n            this.apiService.postExportPdf('QuayThuoc/XemTruocBangKeThuoc', this.xemTruocBangKeThuoc).subscribe(resultData => {\n                if (resultData != undefined && resultData != null) {\n                    this.dialog.open(_thong_tin_phieu_pdf_popup_thong_tin_phieu_pdf_popup_component__WEBPACK_IMPORTED_MODULE_8__[\"ThongTinPhieuPdfPopupComponent\"], {\n                        disableClose: true,\n                        width: '1000px',\n                        data: { Model: resultData }\n                    }).afterClosed().subscribe(() => {\n                        this.closePopupLoadingData();\n                    });\n                }\n            }, (err) => {\n                this.closePopupLoadingData();\n            });\n        }\n    }\n    showPopupLoadingIn() {\n        this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_7__[\"LoadingComponent\"], {\n            disableClose: true,\n            width: '250px',\n            height: '90px',\n            data: { Title: 'Đang loading...' },\n        });\n    }\n    closePopupLoadingData() {\n        this.dialog.closeAll();\n    }\n    keyEvent(event) {\n        if (event.keyCode == 83 && event.ctrlKey) {\n            // ctrl + s\n            if (this.tabIndex == 0) {\n                this.quayThuocHinhThucThanhToan.ThuTien();\n            }\n            event.preventDefault();\n        }\n        if (event.keyCode == 112 && event.ctrlKey) {\n            // ctrl + f1\n            this.tabQuayThuoc.selectTab(0);\n            event.preventDefault();\n        }\n        if (event.keyCode == 113 && event.ctrlKey) {\n            // ctrl + f2\n            this.tabQuayThuoc.selectTab(1);\n            event.preventDefault();\n        }\n        if (event.keyCode == 27 && !event.ctrlKey) {\n            // esc\n            this.Huy();\n            event.preventDefault();\n        }\n    }\n};\nQuayThuocMuaThuocComponent.ctorParameters = () => [\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__[\"ActivatedRoute\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_9__[\"NotificationService\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_6__[\"MatDialog\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__[\"ApiService\"] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__[\"Router\"] },\n    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('tabQuayThuoc', { static: true })\n], QuayThuocMuaThuocComponent.prototype, \"tabQuayThuoc\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])(_quay_thuoc_hinh_thuc_thanh_toan_quay_thuoc_hinh_thuc_thanh_toan_component__WEBPACK_IMPORTED_MODULE_5__[\"QuayThuocHinhThucThanhToanComponent\"], { static: false })\n], QuayThuocMuaThuocComponent.prototype, \"quayThuocHinhThucThanhToan\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"HostListener\"])('document:keydown', ['$event'])\n], QuayThuocMuaThuocComponent.prototype, \"keyEvent\", null);\nQuayThuocMuaThuocComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-mua-thuoc',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-mua-thuoc.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-mua-thuoc.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component.scss\")).default]\n    })\n], QuayThuocMuaThuocComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-routing.module.ts\":\n/*!**********************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-routing.module.ts ***!\n  \\**********************************************************************/\n/*! exports provided: QuayThuocRoutingModule */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocRoutingModule\", function() { return QuayThuocRoutingModule; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var src_app_core_guards_permission_guard_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/core/guards/permission-guard.service */ \"./src/app/core/guards/permission-guard.service.ts\");\n/* harmony import */ var src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/enum/security-operation.enum */ \"./src/app/shared/enum/security-operation.enum.ts\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n/* harmony import */ var _quay_thuoc_cho_thanh_toan_quay_thuoc_cho_thanh_toan_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component.ts\");\n/* harmony import */ var _quay_thuoc_mua_thuoc_quay_thuoc_mua_thuoc_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component.ts\");\n/* harmony import */ var _quay_thuoc_toa_thuoc_cu_quay_thuoc_toa_thuoc_cu_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component.ts\");\n/* harmony import */ var _quay_thuoc_khach_vang_lai_quay_thuoc_khach_vang_lai_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component.ts\");\n\n\n\n\n\n\n\n\n\n\nconst routes = [{\n        path: '',\n        component: _quay_thuoc_cho_thanh_toan_quay_thuoc_cho_thanh_toan_component__WEBPACK_IMPORTED_MODULE_6__[\"QuayThuocChoThanhToanComponent\"],\n        data: {\n            title: 'Tìm thông tin',\n            DocumentType: src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_5__[\"DocumentType\"].QuayThuoc,\n            SecurityOperation: src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_4__[\"SecurityOperation\"].View\n        },\n        canActivate: [src_app_core_guards_permission_guard_service__WEBPACK_IMPORTED_MODULE_3__[\"PermisssionGuard\"]]\n    },\n    {\n        path: 'mua-thuoc/:id/:idsub/:tt/:ttcheck',\n        component: _quay_thuoc_mua_thuoc_quay_thuoc_mua_thuoc_component__WEBPACK_IMPORTED_MODULE_7__[\"QuayThuocMuaThuocComponent\"],\n        data: {\n            title: 'Mua thuốc',\n            DocumentType: src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_5__[\"DocumentType\"].QuayThuoc,\n            SecurityOperation: src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_4__[\"SecurityOperation\"].Update\n        },\n        canActivate: [src_app_core_guards_permission_guard_service__WEBPACK_IMPORTED_MODULE_3__[\"PermisssionGuard\"]]\n    },\n    {\n        path: 'mua-toa-cu/:id/:ttcheck',\n        component: _quay_thuoc_toa_thuoc_cu_quay_thuoc_toa_thuoc_cu_component__WEBPACK_IMPORTED_MODULE_8__[\"QuayThuocToaThuocCuComponent\"],\n        data: {\n            title: 'Mua thuốc',\n            DocumentType: src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_5__[\"DocumentType\"].QuayThuoc,\n            SecurityOperation: src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_4__[\"SecurityOperation\"].Update\n        },\n        canActivate: [src_app_core_guards_permission_guard_service__WEBPACK_IMPORTED_MODULE_3__[\"PermisssionGuard\"]]\n    },\n    {\n        path: 'khach-vang-lai',\n        component: _quay_thuoc_khach_vang_lai_quay_thuoc_khach_vang_lai_component__WEBPACK_IMPORTED_MODULE_9__[\"QuayThuocKhachVangLaiComponent\"],\n        data: {\n            title: 'Mua thuốc',\n            DocumentType: src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_5__[\"DocumentType\"].QuayThuoc,\n            SecurityOperation: src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_4__[\"SecurityOperation\"].Update\n        },\n        canActivate: [src_app_core_guards_permission_guard_service__WEBPACK_IMPORTED_MODULE_3__[\"PermisssionGuard\"]]\n    }\n];\nlet QuayThuocRoutingModule = class QuayThuocRoutingModule {\n};\nQuayThuocRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"NgModule\"])({\n        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__[\"RouterModule\"].forChild(routes)],\n        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__[\"RouterModule\"]]\n    })\n], QuayThuocRoutingModule);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-bao-hiem-tu-nhan/quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.scss\":\n/*!************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-bao-hiem-tu-nhan/quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.scss ***!\n  \\************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset legend {\\n  margin-left: 15px;\\n  text-transform: uppercase;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy10aG9uZy10aW4tYmFvLWhpZW0tdHUtbmhhbi9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXHF1YXktdGh1b2MtdGhvbmctdGluLWJhby1oaWVtLXR1LW5oYW5cXHF1YXktdGh1b2MtdGhvbmctdGluLWJhby1oaWVtLXR1LW5oYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtdGhvbmctdGluLWJhby1oaWVtLXR1LW5oYW4vcXVheS10aHVvYy10aG9uZy10aW4tYmFvLWhpZW0tdHUtbmhhbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsOEJBQUE7RUFDQSxrQ0FBQTtFQUNBLCtCQUFBO0VBQ0EsZ0NBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy10aG9uZy10aW4tYmFvLWhpZW0tdHUtbmhhbi9xdWF5LXRodW9jLXRob25nLXRpbi1iYW8taGllbS10dS1uaGFuLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgbGVnZW5kIHtcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufSIsImZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctbGVmdDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IGxlZ2VuZCB7XG4gIG1hcmdpbi1sZWZ0OiAxNXB4O1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn0iXX0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-bao-hiem-tu-nhan/quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.ts\":\n/*!**********************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-bao-hiem-tu-nhan/quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.ts ***!\n  \\**********************************************************************************************************************************/\n/*! exports provided: QuayThuocThongTinBaoHiemTuNhanComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocThongTinBaoHiemTuNhanComponent\", function() { return QuayThuocThongTinBaoHiemTuNhanComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n\n\n\n\n\n\nlet QuayThuocThongTinBaoHiemTuNhanComponent = class QuayThuocThongTinBaoHiemTuNhanComponent {\n    constructor(route, apiService, cdRef, notificationService) {\n        this.route = route;\n        this.apiService = apiService;\n        this.cdRef = cdRef;\n        this.notificationService = notificationService;\n        this.gridChildColumns2 = [];\n        this.idMYCTN = this.route.snapshot.params.id;\n        this.apDungCongNo = false;\n        this.thongTinBenhNhantam = [];\n        this.valueChangeBaoHiem = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.valueChangeMg = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.dataSourceDanhSachBHTN = {\n            data: [],\n            total: 0\n        };\n        this.checkHaveBHTN = false;\n        this.flagEnableVoucher = false;\n        this.flagApDung = false;\n        this.thongTinMienGiamThem = [];\n        this.thongTinMienGiamVoucher = [];\n        this.disabledVoucher = false;\n        this.flagEnableMGThem = false;\n        this.disabledMGThem = false;\n        this.disabledSoTienMG = true;\n        this.disabledTiLeMG = true;\n        this.isExistFile = false;\n        this.soTienMgCheck = true;\n        this.tiLeMgCheck = false;\n        this.listVouchers = [];\n        this.listOldVouchers = [];\n        this.quayThuocValidationErrors = [];\n        this.apDungMienGiam = false;\n        this.idBenhNhan = 0;\n        this.tongTienBNThanhToanPrivate = 0;\n        this.checkHiddenSoTienConLai = false;\n        this.loaiVoucher = 0;\n        this.khachVangLaiMuaThuoc = false;\n        this.format = 'n2';\n    }\n    ngOnInit() {\n        this.documentType = src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_2__[\"DocumentType\"].QuayThuoc;\n        this.gridChildColumns2 = [\n            { Field: \"TenCongTy\", Title: \"Công Ty\", Width: 231 },\n            { Field: \"SoThe\", Title: \"Số Thẻ\", Width: 111 },\n            { Field: \"TuNgayHienThi\", Title: \"Từ ngày\", Width: 96 },\n            { Field: \"DenNgayHienThi\", Title: \"Đến ngày\", Width: 104 },\n            { Field: \"DienThoai\", Title: \"Điện thoại\", Width: 122 },\n            { Field: \"DiaChi\", Title: \"Địa chỉ\", Width: 240 },\n            { Field: \"CongNo\", Title: \"Công nợ\", Width: 115, Template: this.actionTemplateSTCongNo },\n            { Field: \"\", Title: \"\", Width: 125, Template: this.actionTemplateSubmitCongNo }\n        ];\n        this.idBenhNhan = this.route.snapshot.params.idsub;\n        this.getDanhSachBHTN();\n    }\n    ngOnChanges() {\n        this.tongTienBNThanhToanPrivate = this.tongTienBNThanhToan;\n    }\n    getDanhSachBHTN() {\n        this.apiService.get(\"QuayThuoc/GetListCongTyBaoHiemTuNhans?tiepNhanId=\" + this.idMYCTN).subscribe(resultData => {\n            if (resultData != null && resultData != undefined) {\n                this.dataSourceDanhSachBHTN.data = resultData;\n                this.dataSourceDanhSachBHTN.data.forEach(element => {\n                    var congNoItem = {\n                        Id: element.Id,\n                        CongNoId: element.CongNoId,\n                        SoTien: element.SoTien,\n                        TenCongTy: element.TenCongTy\n                    };\n                    this.thongTinBenhNhantam.push(congNoItem);\n                });\n                this.CheckThongTinBenhNhan(this.idMYCTN);\n            }\n        });\n    }\n    CheckThongTinBenhNhan(tiepNhanId) {\n        this.apiService.post(\"QuayThuoc/CheckBenhNhanExistBaoHiemTuNhan?yctnId=\" + tiepNhanId).subscribe(resultData => {\n            if (resultData.length > 0) {\n                this.checkHaveBHTN = true;\n            }\n            else {\n                this.checkHaveBHTN = false;\n            }\n            this.getThongTinMienGiam(tiepNhanId);\n        }, () => { });\n    }\n    getThongTinMienGiam(id) {\n        this.apiService.get(\"ThuNgan/GetThongTinMienGiam?yeuCauTiepNhanId=\" + id).subscribe(resultData => {\n            if (resultData !== null && resultData !== undefined) {\n                this.khachVangLaiMuaThuoc = resultData.KhachVangLaiMuaThuoc;\n                if (resultData.ThongTinMienGiamVoucherVo != null || resultData.ThongTinMienGiamVoucherVo != undefined) {\n                    this.flagApDung = true;\n                    this.flagEnableVoucher = true;\n                    if (this.flagEnableVoucher === true) {\n                        this.disabledVoucher = true;\n                    }\n                    this.listVouchers = [];\n                    resultData.ThongTinMienGiamVoucherVo.MaVouchers.forEach(element => {\n                        this.listVouchers.push(element.KeyId);\n                        this.listOldVouchers.push(element.KeyId);\n                    });\n                    this.thongTinMienGiamVoucher = {\n                        MaVouchers: resultData.ThongTinMienGiamVoucherVo.MaVouchers,\n                        DuocPhamMienGiamTheoTiLes: resultData.ThongTinMienGiamVoucherVo.DuocPhamMienGiamTheoTiLes,\n                        LoaiVoucher: resultData.ThongTinMienGiamVoucherVo.LoaiVoucher,\n                        TenVoucher: resultData.ThongTinMienGiamVoucherVo.TenVoucher,\n                        SoTienVoucherMiemGiam: resultData.ThongTinMienGiamVoucherVo.LoaiVoucher.SoTienVoucherMiemGiam\n                    };\n                    this.loaiVoucher = resultData.ThongTinMienGiamVoucherVo.LoaiVoucher;\n                }\n                if (resultData.ThongTinMienGiamThemVo != null || resultData.ThongTinMienGiamThemVo != undefined) {\n                    this.flagApDung = true;\n                    this.flagEnableMGThem = true;\n                    if (this.flagEnableMGThem === true) {\n                        this.disabledMGThem = true;\n                    }\n                    this.thongTinMienGiamThem = {\n                        LoaiMienGiamThem: resultData.ThongTinMienGiamThemVo.LoaiMienGiamThem,\n                        LyDoMiemGiam: resultData.ThongTinMienGiamThemVo.LyDoMiemGiam,\n                        SoTienMG: resultData.ThongTinMienGiamThemVo.SoTienMG,\n                        SoTienMGConLai: resultData.ThongTinMienGiamThemVo.SoTienMGConLai,\n                        TiLeMienGiam: resultData.ThongTinMienGiamThemVo.TiLeMienGiam,\n                        NhanVienDuyetMienGiamThemId: resultData.ThongTinMienGiamThemVo.NhanVienDuyetMienGiamThemId,\n                        TenNhanVienDuyet: resultData.ThongTinMienGiamThemVo.TenNhanVienDuyet,\n                        TaiLieuDinhKemGiayMiemGiam: {\n                            Id: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.Id,\n                            Ma: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.Ma,\n                            DuongDan: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.DuongDan,\n                            MoTa: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.MoTa,\n                            KichThuoc: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.KichThuoc,\n                            LoaiTapTin: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.LoaiTapTin,\n                            Ten: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.Ten,\n                            TenGuid: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.TenGuid\n                        }\n                    };\n                    if (this.thongTinMienGiamThem.SoTienMG != 0) {\n                        this.disabledSoTienMG = false;\n                        this.soTienMgCheck = true;\n                        this.tiLeMgCheck = false;\n                    }\n                    if (this.thongTinMienGiamThem.TiLeMienGiam != 0) {\n                        this.disabledTiLeMG = false;\n                        this.soTienMgCheck = false;\n                        this.tiLeMgCheck = true;\n                    }\n                    if (this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam.Ten != null) {\n                        this.isExistFile = true;\n                    }\n                }\n                else {\n                    this.disabledSoTienMG = false;\n                    this.thongTinMienGiamThem = {\n                        LoaiMienGiamThem: null,\n                        LyDoMiemGiam: null,\n                        SoTienMG: 0,\n                        SoTienMGConLai: 0,\n                        TiLeMienGiam: 0,\n                        TaiLieuDinhKemGiayMiemGiam: {\n                            Ma: null,\n                            DuongDan: null,\n                            MoTa: null,\n                            KichThuoc: null,\n                            LoaiTapTin: null,\n                            Ten: null,\n                            TenGuid: null\n                        }\n                    };\n                }\n            }\n        });\n    }\n    uploadFileDone(tapTin) {\n        this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam = tapTin;\n        this.cdRef.detectChanges();\n    }\n    onApplyMGThem() {\n        this.thongTinMienGiamVo = {\n            ThongTinMienGiamVoucherVo: this.thongTinMienGiamVoucher,\n            ThongTinMienGiamThemVo: this.thongTinMienGiamThem,\n        };\n        this.apDungMienGiam = true;\n        var loaiMGThem = 1;\n        if (this.soTienMgCheck) {\n            loaiMGThem = 1;\n        }\n        if (this.tiLeMgCheck) {\n            loaiMGThem = 2;\n        }\n        if (this.thongTinMienGiamThem.SoTienMG != 0) {\n            this.thongTinMienGiamThem.LoaiMienGiamThem = 1;\n            this.thongTinMienGiamThem.TiLeMienGiam = 0;\n        }\n        if (this.thongTinMienGiamThem.TiLeMienGiam != 0) {\n            this.thongTinMienGiamThem.LoaiMienGiamThem = 2;\n            this.thongTinMienGiamThem.SoTienMG = 0;\n        }\n        var thongTinMGThem = {\n            ValidateVoucher: this.flagEnableVoucher,\n            IdYeuCauTiepNhan: this.idMYCTN,\n            ListVouchers: this.listVouchers,\n            ValidateMGThem: this.flagEnableMGThem,\n            LoaiMienGiamThem: loaiMGThem,\n            LyDoMienGiam: this.thongTinMienGiamThem.LyDoMiemGiam,\n            TaiLieuDinhKem: this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam,\n            SoTienMG: this.thongTinMienGiamThem.SoTienMG,\n            TiLeMienGiam: this.thongTinMienGiamThem.TiLeMienGiam,\n            SoTienMGConLai: this.thongTinMienGiamThem.SoTienMGConLai,\n            BenhNhanId: this.idBenhNhan,\n            NhanVienDuyetMienGiamThemId: this.thongTinMienGiamThem.NhanVienDuyetMienGiamThemId\n        };\n        this.quayThuocValidationErrors = null;\n        this.apiService.post(\"ThuNgan/ThemThongTinMiemGiamThemVaVoucher\", thongTinMGThem)\n            .subscribe(resultData => {\n            if (resultData) {\n                this.getThongTinMienGiam(this.idMYCTN);\n            }\n            this.apDungMienGiam = true;\n            var mienGiamObj = {\n                apDungMienGiam: this.apDungMienGiam,\n                thongTinMienGiam: this.thongTinMienGiamVo\n            };\n            this.valueChangeMg.emit(mienGiamObj);\n        }, (err) => {\n            this.quayThuocValidationErrors = err.ValidationErrors;\n            this.disabledSoTienMG = true;\n            this.thongTinMienGiamThem = {\n                LoaiMienGiamThem: loaiMGThem,\n                LyDoMiemGiam: this.thongTinMienGiamThem.LyDoMiemGiam,\n                SoTienMG: this.thongTinMienGiamThem.SoTienMG,\n                TiLeMienGiam: this.thongTinMienGiamThem.TiLeMienGiam,\n                SoTienMGConLai: this.thongTinMienGiamThem.SoTienMGConLai,\n                TaiLieuDinhKemGiayMiemGiam: this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam,\n            };\n        });\n    }\n    onChangeLoaiMg(value) {\n        if (value === 1) {\n            this.soTienMgCheck = true;\n            this.tiLeMgCheck = false;\n            this.disabledSoTienMG = false;\n            this.disabledTiLeMG = true;\n            this.checkHiddenSoTienConLai = false;\n            this.thongTinMienGiamThem.TiLeMienGiam = 0;\n        }\n        if (value === 2) {\n            this.soTienMgCheck = false;\n            this.tiLeMgCheck = true;\n            this.disabledSoTienMG = true;\n            this.disabledTiLeMG = false;\n            this.checkHiddenSoTienConLai = true;\n            this.thongTinMienGiamThem.SoTienMG = 0;\n        }\n    }\n    onKeyCongNo(event, indexRow) {\n        if (event.key == \"Enter\") {\n            this.ApDungCongNo(indexRow);\n        }\n    }\n    ApDungCongNo(indexRow) {\n        if (this.dataSourceDanhSachBHTN.data[indexRow].SoTien != 0) {\n            this.thongTinBenhNhantam[indexRow].SoTien = this.dataSourceDanhSachBHTN.data[indexRow].SoTien;\n            this.apDungCongNo = true;\n            var apDungCongNoQuayThuoc = {\n                apDungCongNoThuoc: this.apDungCongNo,\n                viTri: indexRow,\n                thongTinTam: this.thongTinBenhNhantam\n            };\n            this.dataSourceDanhSachBHTN.data[indexRow].SoTien = 0;\n            this.valueChangeBaoHiem.emit(apDungCongNoQuayThuoc);\n        }\n    }\n    onChangeVoucher(data) {\n        if (data === false) {\n            this.flagEnableVoucher = false;\n            if (this.flagEnableMGThem) {\n                this.flagApDung = true;\n                return;\n            }\n            this.flagApDung = false;\n        }\n        else {\n            this.flagEnableVoucher = true;\n            this.flagApDung = true;\n            if (this.quayThuocValidationErrors == null) {\n                this.quayThuocValidationErrors = [];\n            }\n            var lengthQuayThuocValidators = this.quayThuocValidationErrors.length;\n            if (lengthQuayThuocValidators != 0) {\n                for (let i = 0; i < lengthQuayThuocValidators; i++) {\n                    if (this.quayThuocValidationErrors.length - 1 < i) {\n                        //exceed\n                        break;\n                    }\n                    if (this.quayThuocValidationErrors[i].Field == \"ListVouchers\") {\n                        this.quayThuocValidationErrors.splice(i, 1);\n                        if (i != 0) {\n                            i--;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    onChangeMienGiam(data) {\n        if (data === false) {\n            this.flagEnableMGThem = false;\n            if (this.flagEnableVoucher == false && this.flagEnableMGThem == false) {\n                this.flagApDung = false;\n            }\n            if (this.flagEnableVoucher == true) {\n                this.flagApDung = true;\n            }\n        }\n        else {\n            this.flagEnableMGThem = true;\n            this.flagApDung = true;\n            this.soTienMgCheck = true;\n            this.tiLeMgCheck = false;\n            if (this.quayThuocValidationErrors == null) {\n                this.quayThuocValidationErrors = [];\n            }\n            var lengthQuayThuocValidators = this.quayThuocValidationErrors.length;\n            if (lengthQuayThuocValidators != 0) {\n                for (let i = 0; i < lengthQuayThuocValidators; i++) {\n                    if (this.quayThuocValidationErrors.length - 1 < i) {\n                        //exceed\n                        break;\n                    }\n                    if (this.quayThuocValidationErrors[i].Field == \"SoTienMG\") {\n                        this.quayThuocValidationErrors.splice(i, 1);\n                        if (i != 0) {\n                            i--;\n                        }\n                    }\n                    if (this.quayThuocValidationErrors[i].Field == \"LyDoMienGiam\") {\n                        this.quayThuocValidationErrors.splice(i, 1);\n                        if (i != 0) {\n                            i--;\n                        }\n                    }\n                    if (this.quayThuocValidationErrors[i].Field == \"TiLeMienGiam\") {\n                        this.quayThuocValidationErrors.splice(i, 1);\n                        if (i != 0) {\n                            i--;\n                        }\n                    }\n                    if (this.quayThuocValidationErrors[i].Field == \"TaiLieuDinhKem\") {\n                        this.quayThuocValidationErrors.splice(i, 1);\n                        if (i != 0) {\n                            i--;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    onOpenChange() {\n        this.voucherList.getDataForLookup();\n    }\n    onSelectChangeVoucher(voucherId) {\n        if (voucherId.length == 0)\n            this.loaiVoucher = 0;\n        var last = voucherId[voucherId.length - 1];\n        this.apiService.post(\"ThuNgan/GetMaVoucher?loaiVoucher=\" + this.loaiVoucher).subscribe(resultData => {\n            if (resultData !== null && resultData !== undefined) {\n                resultData.forEach(element => {\n                    if (element.KeyId == last) {\n                        this.loaiVoucher = element.LoaiVoucher;\n                    }\n                });\n            }\n        });\n    }\n    valueChangeTheVoucher(value) {\n        var voucherId = [];\n        if (value.length > this.listOldVouchers.length) {\n            this.listOldVouchers = value;\n        }\n        if (value.length < this.listOldVouchers.length) {\n            if (value.length == 0) {\n                this.disabledVoucher = false;\n                voucherId = this.listOldVouchers;\n                this.flagEnableVoucher = false;\n                if (this.flagEnableMGThem === false) {\n                    this.flagApDung = false;\n                    this.apDungMienGiam = true;\n                }\n            }\n            else {\n                voucherId = this.differenceOf2Arrays(this.listOldVouchers, value);\n            }\n            var thongTinVoucherTheoYeuCauTiepNhan = {\n                VoucherIds: voucherId,\n                YeucauTiepNhanId: this.idMYCTN\n            };\n            this.apiService.post(\"ThuNgan/DeleteTheVoucher\", thongTinVoucherTheoYeuCauTiepNhan)\n                .subscribe(resultData => {\n                if (resultData !== null && resultData !== undefined) {\n                    if (resultData.Item1) {\n                        this.notificationService.showSuccess(resultData.Item2);\n                        this.getThongTinMienGiam(this.idMYCTN);\n                        this.apDungMienGiam = true;\n                        var mienGiamObj = {\n                            apDungMienGiam: this.apDungMienGiam,\n                            thongTinMienGiam: this.thongTinMienGiamVo\n                        };\n                        this.valueChangeMg.emit(mienGiamObj);\n                    }\n                }\n            });\n            this.listOldVouchers = value;\n        }\n    }\n    differenceOf2Arrays(arr1, arr2) {\n        const temp = [];\n        arr1 = arr1.toString().split(',').map(Number);\n        arr2 = arr2.toString().split(',').map(Number);\n        for (var i in arr1) {\n            if (!arr2.includes(arr1[i]))\n                temp.push(arr1[i]);\n        }\n        for (i in arr2) {\n            if (!arr1.includes(arr2[i]))\n                temp.push(arr2[i]);\n        }\n        return temp.sort((a, b) => a - b);\n    }\n};\nQuayThuocThongTinBaoHiemTuNhanComponent.ctorParameters = () => [\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__[\"ActivatedRoute\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__[\"ApiService\"] },\n    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__[\"NotificationService\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('actionTemplateSTCongNo', { static: true })\n], QuayThuocThongTinBaoHiemTuNhanComponent.prototype, \"actionTemplateSTCongNo\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('actionTemplateSubmitCongNo', { static: true })\n], QuayThuocThongTinBaoHiemTuNhanComponent.prototype, \"actionTemplateSubmitCongNo\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocThongTinBaoHiemTuNhanComponent.prototype, \"valueChangeBaoHiem\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocThongTinBaoHiemTuNhanComponent.prototype, \"valueChangeMg\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocThongTinBaoHiemTuNhanComponent.prototype, \"tongTienBNThanhToan\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('voucherList', { static: false })\n], QuayThuocThongTinBaoHiemTuNhanComponent.prototype, \"voucherList\", void 0);\nQuayThuocThongTinBaoHiemTuNhanComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-thong-tin-bao-hiem-tu-nhan',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-bao-hiem-tu-nhan/quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-bao-hiem-tu-nhan/quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.scss\")).default]\n    })\n], QuayThuocThongTinBaoHiemTuNhanComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-hanh-chinh/quay-thuoc-thong-tin-hanh-chinh.component.scss\":\n/*!************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-hanh-chinh/quay-thuoc-thong-tin-hanh-chinh.component.scss ***!\n  \\************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy10aG9uZy10aW4taGFuaC1jaGluaC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXHF1YXktdGh1b2MtdGhvbmctdGluLWhhbmgtY2hpbmhcXHF1YXktdGh1b2MtdGhvbmctdGluLWhhbmgtY2hpbmguY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtdGhvbmctdGluLWhhbmgtY2hpbmgvcXVheS10aHVvYy10aG9uZy10aW4taGFuaC1jaGluaC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy10aG9uZy10aW4taGFuaC1jaGluaC9xdWF5LXRodW9jLXRob25nLXRpbi1oYW5oLWNoaW5oLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufSIsImZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtO1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW07XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbTtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn0iXX0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-hanh-chinh/quay-thuoc-thong-tin-hanh-chinh.component.ts\":\n/*!**********************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-hanh-chinh/quay-thuoc-thong-tin-hanh-chinh.component.ts ***!\n  \\**********************************************************************************************************************/\n/*! exports provided: QuayThuocThongTinHanhChinhComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocThongTinHanhChinhComponent\", function() { return QuayThuocThongTinHanhChinhComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n\n\n\n\n\nlet QuayThuocThongTinHanhChinhComponent = class QuayThuocThongTinHanhChinhComponent {\n    constructor(route, apiService) {\n        this.route = route;\n        this.apiService = apiService;\n        this.data = {};\n    }\n    ngOnInit() {\n        const id = this.route.snapshot.params.idsub;\n        if (this.benhnhanThongTin == null) {\n            this.benhnhanThongTin = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_4__[\"BenhNhanThongTin\"]();\n        }\n        if (this.MaBN != null) {\n            this.GetThongTinBenhNhan(this.MaBN);\n        }\n    }\n    GetThongTinBenhNhan(id) {\n        this.apiService.post(\"QuayThuoc/GetThongTinBenhNhan1?maBN=\" + id).subscribe(resultData => {\n            this.data = resultData;\n        }, () => { });\n    }\n};\nQuayThuocThongTinHanhChinhComponent.ctorParameters = () => [\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__[\"ActivatedRoute\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__[\"ApiService\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocThongTinHanhChinhComponent.prototype, \"benhnhanThongTin\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocThongTinHanhChinhComponent.prototype, \"MaBN\", void 0);\nQuayThuocThongTinHanhChinhComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-thong-tin-hanh-chinh',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-thong-tin-hanh-chinh.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-hanh-chinh/quay-thuoc-thong-tin-hanh-chinh.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-thong-tin-hanh-chinh.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-hanh-chinh/quay-thuoc-thong-tin-hanh-chinh.component.scss\")).default]\n    })\n], QuayThuocThongTinHanhChinhComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component.scss\":\n/*!************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component.scss ***!\n  \\************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtdGltLWJlbmgtbmhhbi1wb3AtdXAvcXVheS10aHVvYy10aW0tYmVuaC1uaGFuLXBvcC11cC5jb21wb25lbnQuc2NzcyJ9 */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component.ts\":\n/*!**********************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component.ts ***!\n  \\**********************************************************************************************************************/\n/*! exports provided: QuayThuocTimBenhNhanPopUpComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocTimBenhNhanPopUpComponent\", function() { return QuayThuocTimBenhNhanPopUpComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/dialog */ \"./node_modules/@angular/material/esm2015/dialog.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _iconify_icons_ic_done__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @iconify/icons-ic/done */ \"./node_modules/@iconify/icons-ic/done.js\");\n/* harmony import */ var _iconify_icons_ic_done__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_done__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n/* harmony import */ var _iconify_icons_ic_twotone_print__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @iconify/icons-ic/twotone-print */ \"./node_modules/@iconify/icons-ic/twotone-print.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_print__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_print__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var _in_don_thuoc_pop_up_in_don_thuoc_pop_up_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../in-don-thuoc-pop-up/in-don-thuoc-pop-up.component */ \"./src/app/modules/main/quay-thuoc/in-don-thuoc-pop-up/in-don-thuoc-pop-up.component.ts\");\n\n\n\n\n\n\n\n\n\n\nlet QuayThuocTimBenhNhanPopUpComponent = class QuayThuocTimBenhNhanPopUpComponent {\n    constructor(dialogRef, dataItem, apiService, dialog) {\n        this.dialogRef = dialogRef;\n        this.dataItem = dataItem;\n        this.apiService = apiService;\n        this.dialog = dialog;\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default.a;\n        this.icDone = _iconify_icons_ic_done__WEBPACK_IMPORTED_MODULE_5___default.a;\n        this.icPrint = _iconify_icons_ic_twotone_print__WEBPACK_IMPORTED_MODULE_7___default.a;\n        this.Title = null;\n        this.data = [];\n        this.gridChild = [];\n        this.gridChildColumns2 = [];\n        this.urlGetDataChild = \"QuayThuoc/GetDataForGridChildDTTNAsync\";\n        this.data = dataItem.Model;\n        this.Title = dataItem.Title;\n    }\n    ngOnInit() {\n        this.documentType = src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_2__[\"DocumentType\"].QuayThuoc;\n        this.benhNhan = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_6__[\"ThongTinBenhNhan\"]();\n        this.gridChildColumns2 = [\n            { Field: \"MaBN\", Title: \"Mã NB\", Width: 80, Sortable: false },\n            { Field: \"MaTN\", Title: \"Mã TN\", Width: 120, Sortable: false },\n            { Field: \"HoTen\", Title: \"Họ Tên\", Width: 200, Sortable: false },\n            { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 80, Sortable: false },\n            { Field: \"GioiTinhHienThi\", Title: \"Giới tính\", Width: 80, Sortable: false },\n            { Field: \"DiaChi\", Title: \"Địa chỉ\", Width: 300, Sortable: false },\n            { Field: \"SoDienThoaiDisPlay\", Title: \"Điện thoại\", Width: 120, Sortable: false },\n            { Field: \"Action\", Title: \"\", Width: 80, Template: this.actionTemplate },\n        ];\n        this.gridChild = [\n            { Field: \"STT\", Title: \"#\", Width: 100, Sortable: true },\n            { Field: \"LoaiDonThuoc\", Title: \"\", Width: 200, Sortable: true, Hidden: true },\n            { Field: \"MaDon\", Title: \"Mã Đơn\", Width: 100, Sortable: true },\n            { Field: \"NgayKeDon\", Title: \"Ngày kê đơn\", Width: 200, Sortable: true },\n            { Field: \"DVKham\", Title: \"Dịch vụ khám\", minWidth: 200, Sortable: true },\n            { Field: \"BSKham\", Title: \"Bác sĩ khám\", Width: 200, Sortable: true },\n            { Field: \"SoTienDisPlay\", Title: \"Số tiền \", Width: 80, Sortable: true, Template: this.SoTienThuoctemplate },\n            { Field: \"TinhTrang\", Title: \"Tình trạng\", Width: 120, Sortable: true, Template: this.TinhTrangThuoctemplate },\n            { Field: \"\", Title: \"\", Width: 120, Sortable: true, Template: this.templatePrint },\n        ];\n    }\n    close(answer, type) {\n        if (type == 1) {\n            this.dialogRef.close(answer);\n        }\n        else {\n            // this.benhNhan.MaBenhNhan = answer.BenhNhanId;\n            // this.benhNhan.MaTiepNhan=answer.MaTN;\n            // this.benhNhan.TrangThaiThanhToan = answer.TrangThai;\n            // this.benhNhan.YeuCauTiepNhanId=answer.Id;\n            this.dialogRef.close(answer);\n        }\n    }\n    PrinAllDonThuocBenhNhan(YeuCauTiepNhanId) {\n        var data = {\n            Hosting: null,\n            TiepNhanId: YeuCauTiepNhanId\n        };\n        if (window.location.protocol == \"http:\") {\n            data.Hosting = \"http://\" + window.location.host;\n        }\n        else {\n            data.Hosting = \"https://\" + window.location.host;\n        }\n        this.apiService.post(\"QuayThuoc/InThuocBenhNhan\", data).subscribe(resultData => {\n            let dialogRef = this.dialog.open(_in_don_thuoc_pop_up_in_don_thuoc_pop_up_component__WEBPACK_IMPORTED_MODULE_9__[\"InDonThuocPopUpComponent\"], {\n                width: '1000px',\n                data: { Model: resultData, InDonThuocDanhSachList: false, InBangKe: true, InPhieuThu: false }\n            }).afterClosed().subscribe(() => { });\n        }, () => { });\n    }\n};\nQuayThuocTimBenhNhanPopUpComponent.ctorParameters = () => [\n    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__[\"MatDialogRef\"] },\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Optional\"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_8__[\"ApiService\"] },\n    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__[\"MatDialog\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('actionTemplate', { static: true })\n], QuayThuocTimBenhNhanPopUpComponent.prototype, \"actionTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('TongGiaTriDonThuocTemplate', { static: true })\n], QuayThuocTimBenhNhanPopUpComponent.prototype, \"TongGiaTriDonThuocTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('SoTienChoThanhToanTemplate', { static: true })\n], QuayThuocTimBenhNhanPopUpComponent.prototype, \"SoTienChoThanhToanTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('trangThaiTemplate', { static: true })\n], QuayThuocTimBenhNhanPopUpComponent.prototype, \"trangThaiTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('maTNTemplate', { static: true })\n], QuayThuocTimBenhNhanPopUpComponent.prototype, \"maTNTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('templatePrint', { static: true })\n], QuayThuocTimBenhNhanPopUpComponent.prototype, \"templatePrint\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('SoTienThuoctemplate', { static: true })\n], QuayThuocTimBenhNhanPopUpComponent.prototype, \"SoTienThuoctemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('TinhTrangThuoctemplate', { static: true })\n], QuayThuocTimBenhNhanPopUpComponent.prototype, \"TinhTrangThuoctemplate\", void 0);\nQuayThuocTimBenhNhanPopUpComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-tim-benh-nhan-pop-up',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-tim-benh-nhan-pop-up.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-tim-benh-nhan-pop-up.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Optional\"])()), tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__[\"MAT_DIALOG_DATA\"]))\n], QuayThuocTimBenhNhanPopUpComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan/quay-thuoc-tim-benh-nhan.component.scss\":\n/*!**********************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan/quay-thuoc-tim-benh-nhan.component.scss ***!\n  \\**********************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy10aW0tYmVuaC1uaGFuL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxccXVheS10aHVvY1xccXVheS10aHVvYy10aW0tYmVuaC1uaGFuXFxxdWF5LXRodW9jLXRpbS1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtdGltLWJlbmgtbmhhbi9xdWF5LXRodW9jLXRpbS1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxvQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtdGltLWJlbmgtbmhhbi9xdWF5LXRodW9jLXRpbS1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJmaWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbTtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIHBhZGRpbmctbGVmdDogMC43NWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW07XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59IiwiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufSJdfQ== */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan/quay-thuoc-tim-benh-nhan.component.ts\":\n/*!********************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan/quay-thuoc-tim-benh-nhan.component.ts ***!\n  \\********************************************************************************************************/\n/*! exports provided: QuayThuocTimBenhNhanComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocTimBenhNhanComponent\", function() { return QuayThuocTimBenhNhanComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n/* harmony import */ var _quay_thuoc_tim_benh_nhan_pop_up_quay_thuoc_tim_benh_nhan_pop_up_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component.ts\");\n/* harmony import */ var _quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.ts\");\n/* harmony import */ var src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/shared/component/dialogs/loading/loading.component */ \"./src/app/shared/component/dialogs/loading/loading.component.ts\");\n/* harmony import */ var _iconify_icons_fa_solid_file_excel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @iconify/icons-fa-solid/file-excel */ \"./node_modules/@iconify/icons-fa-solid/file-excel.js\");\n/* harmony import */ var _iconify_icons_fa_solid_file_excel__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_fa_solid_file_excel__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var src_app_core_services_auth_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/core/services/auth.service */ \"./src/app/core/services/auth.service.ts\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n/* harmony import */ var src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/shared/enum/security-operation.enum */ \"./src/app/shared/enum/security-operation.enum.ts\");\n/* harmony import */ var src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! src/app/core/utilities/common.helper */ \"./src/app/core/utilities/common.helper.ts\");\n/* harmony import */ var src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! src/app/shared/configdata/system-message */ \"./src/app/shared/configdata/system-message.ts\");\n/* harmony import */ var src_app_core_utilities_local_storage_helper__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! src/app/core/utilities/local-storage.helper */ \"./src/app/core/utilities/local-storage.helper.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet QuayThuocTimBenhNhanComponent = class QuayThuocTimBenhNhanComponent {\n    constructor(apiService, dialog, router, cd, authService, notificationService, route) {\n        this.apiService = apiService;\n        this.dialog = dialog;\n        this.router = router;\n        this.cd = cd;\n        this.authService = authService;\n        this.notificationService = notificationService;\n        this.route = route;\n        this.isScanF1 = false;\n        this.tt111 = 0;\n        this.DateTuNgay = null;\n        this.DateDenNgay = null;\n        this.eXportExel = false;\n        this.searchUuTien = true;\n        this.exportQueryInfoQueryInfo = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_2__[\"ExportQueryInfoQueryInfo\"]();\n        this.kiemTraDanhSachThanhToan = true;\n        this.kiemTraDanhSachDaThanhToan = true;\n        this.hoquerySearch = false;\n        this.dataSearch = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.onHaddlekiemTraDonThuocThanhToan = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.onHaddleeXportExel = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.onHaddleUuTienSearch = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.queRyInFoSearchNhaThuoc = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_2__[\"SearchInfoNhaThuoc\"]();\n        // icon\n        this.icFileExcel = _iconify_icons_fa_solid_file_excel__WEBPACK_IMPORTED_MODULE_10___default.a;\n    }\n    ngOnInit() {\n        this.documentType = src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_12__[\"DocumentType\"].QuayThuoc;\n        this.quayThuocGridVo = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_2__[\"QuayThuocGridVo\"]();\n        this.benhNhanId = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_2__[\"ThongTinBenhNhan\"]();\n        this.timKiem = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_2__[\"TimBenhNhan\"]();\n        if (this.timKiem.RangeDate.startDate == null) {\n            this.DateTuNgay = new Date();\n            this.timKiem.RangeDate.startDate = this.DateTuNgay;\n        }\n        if (this.timKiem.RangeDate.endDate == null) {\n            this.DateDenNgay = new Date();\n            this.timKiem.RangeDate.endDate = this.DateDenNgay;\n        }\n        if (this.typeDanhSachThanhToan == 1) // đang thanh toán\n         {\n            this.kiemTraDanhSachThanhToan = true;\n            this.kiemTraDanhSachDaThanhToan = false;\n            this.TimkiemId(this.typeDanhSachThanhToan);\n        }\n        if (this.typeDanhSachThanhToan == 2) // đã thanh toán\n         {\n            this.kiemTraDanhSachThanhToan = false;\n            this.kiemTraDanhSachDaThanhToan = true;\n            this.TimkiemId(this.typeDanhSachThanhToan);\n        }\n        if (this.typeDanhSachThanhToan == 0) // đang thanh toán  và đãn thanh toán\n         {\n            this.kiemTraDanhSachThanhToan = true;\n            this.kiemTraDanhSachDaThanhToan = true;\n            this.TimkiemId(this.typeDanhSachThanhToan);\n        }\n        if (this.typeDanhSachThanhToan == 3) // đang thanh toán  và đãn thanh toán\n         {\n            this.kiemTraDanhSachThanhToan = false;\n            this.kiemTraDanhSachDaThanhToan = false;\n            this.TimkiemId(this.typeDanhSachThanhToan);\n        }\n        if (this.kiemTraDanhSachThanhToan == true && this.kiemTraDanhSachDaThanhToan == true) {\n            this.timKiem.KiemTraThanhToan = 0;\n            let data = this.timKiem.KiemTraThanhToan;\n        }\n        if (this.kiemTraDanhSachThanhToan == false && this.kiemTraDanhSachDaThanhToan == false) {\n            this.timKiem.KiemTraThanhToan = 3;\n            let data = this.timKiem.KiemTraThanhToan;\n            // this.onHaddlekiemTraDonThuocThanhToan.emit(data);\n            this.TimkiemId(this.typeDanhSachThanhToan);\n        }\n        this.route\n            .queryParams\n            .subscribe(v => {\n            this.timKiem.KiemTraThanhToan = v.page;\n        });\n        this.TimKiem(false);\n    }\n    TimkiemId(typeDanhSachThanhToan) {\n        var searching = src_app_core_utilities_local_storage_helper__WEBPACK_IMPORTED_MODULE_16__[\"LocalStorageHelper\"].getItem(\"additionalSearchStringChiTietNhaThuoc\");\n        let KiemTraLoCalAdditonalExit;\n        if (searching != undefined && searching !== null && searching !== \"\") {\n            KiemTraLoCalAdditonalExit = JSON.parse(searching);\n            if (KiemTraLoCalAdditonalExit.MaBenhNhan != null) {\n                this.timKiem.MaBenhNhan = KiemTraLoCalAdditonalExit.MaBenhNhan;\n            }\n            if (KiemTraLoCalAdditonalExit.MaTiepNhan != null) {\n                this.timKiem.MaTiepNhan = KiemTraLoCalAdditonalExit.MaTiepNhan;\n            }\n            if (KiemTraLoCalAdditonalExit.HoTen != null) {\n                this.timKiem.HoTen = KiemTraLoCalAdditonalExit.HoTen;\n            }\n            if (KiemTraLoCalAdditonalExit.SoDienThoai != null) {\n                this.timKiem.SoDienThoai = KiemTraLoCalAdditonalExit.SoDienThoai;\n            }\n            if (KiemTraLoCalAdditonalExit.typeDanhSachThanhToan != null) {\n                this.typeDanhSachThanhToan = KiemTraLoCalAdditonalExit.typeDanhSachThanhToan;\n            }\n            if (KiemTraLoCalAdditonalExit.DateStart != null) {\n                this.timKiem.RangeDate.startDate = new Date(KiemTraLoCalAdditonalExit.DateStart);\n            }\n            else {\n                this.timKiem.RangeDate.startDate = null;\n            }\n            if (KiemTraLoCalAdditonalExit.DateEnd != null) {\n                this.timKiem.RangeDate.endDate = new Date(KiemTraLoCalAdditonalExit.DateEnd);\n            }\n            else {\n                this.timKiem.RangeDate.endDate = null;\n            }\n        }\n        if (searching == null || searching == undefined || searching == \"\") {\n            this.timKiem.MaBenhNhan = null;\n            this.timKiem.MaTiepNhan = null;\n            this.timKiem.HoTen = null;\n            this.timKiem.SoDienThoai = null;\n            this.typeDanhSachThanhToan = this.timKiem.KiemTraThanhToan;\n        }\n    }\n    ngOnChanges(event) {\n        if (event.dataQuayThuocSearch != null || event.dataQuayThuocSearch != undefined) {\n            if (event.dataQuayThuocSearch.currentValue != null || event.dataQuayThuocSearch.currentValue != undefined) {\n                this.dataQuayThuocSearch = event.dataQuayThuocSearch.currentValue;\n                if (this.dataQuayThuocSearch.Data.length > 0) {\n                    if (this.dataQuayThuocSearch.Data.length == 1) {\n                        if (this.hoquerySearch == true) {\n                            this.XemChiTiet(this.dataQuayThuocSearch.Data);\n                        }\n                    }\n                }\n                else {\n                    if (this.hoquerySearch == true) {\n                        this.searchAll();\n                    }\n                }\n            }\n        }\n    }\n    XemChiTiet(data) {\n        if (data != null) {\n            if (data != null && data.length > 0) {\n                if (data.length == 1) {\n                    //KHông có toa thuốc đang chờ thanh toán hoặc chờ xuất thuốc\n                    if (this.dataQuayThuocSearch.Data[0].Id > 0) {\n                        if (this.timKiem.KiemTraThanhToan == undefined) {\n                            this.timKiem.KiemTraThanhToan = 3;\n                        }\n                        this.router.navigate(['nha-thuoc/mua-thuoc/' + data[0].Id + '/' + data[0].MaBN + '/' + data[0].TrangThai + '/' + this.timKiem.KiemTraThanhToan]);\n                    }\n                }\n            }\n        }\n    }\n    searchAll() {\n        let maBenhNhanQueryString = null;\n        let maTiepNhanQueryString = null;\n        let hoTenNhanQueryString = null;\n        let sdtQueryString = null;\n        let KtraQueryString = null;\n        let KtraQueryRangeStartString = null;\n        let KtraQueryRangeEndString = null;\n        if (this.timKiem.MaBenhNhan != null) {\n            maBenhNhanQueryString = \"\\\"\" + this.timKiem.MaBenhNhan + \"\\\"\";\n            this.queRyInFoSearchNhaThuoc.MaBenhNhan = this.timKiem.MaBenhNhan;\n        }\n        if (this.timKiem.MaTiepNhan != null) {\n            maTiepNhanQueryString = \"\\\"\" + this.timKiem.MaTiepNhan + \"\\\"\";\n            this.queRyInFoSearchNhaThuoc.MaTiepNhan = this.timKiem.MaTiepNhan;\n        }\n        if (this.timKiem.HoTen != null) {\n            hoTenNhanQueryString = \"\\\"\" + this.timKiem.HoTen + \"\\\"\";\n            this.queRyInFoSearchNhaThuoc.HoTen = this.timKiem.HoTen;\n        }\n        if (this.timKiem.SoDienThoai != null) {\n            sdtQueryString = \"\\\"\" + this.timKiem.SoDienThoai + \"\\\"\";\n            this.queRyInFoSearchNhaThuoc.SoDienThoai = this.timKiem.SoDienThoai;\n        }\n        if (this.timKiem.KiemTraThanhToan != null) {\n            KtraQueryString = \"\\\"\" + this.timKiem.KiemTraThanhToan + \"\\\"\";\n            this.queRyInFoSearchNhaThuoc.KiemTraThanhToan = \"\\\"\" + this.timKiem.KiemTraThanhToan + \"\\\"\";\n        }\n        if (this.timKiem.RangeDate.endDate != null) {\n            KtraQueryRangeEndString = \"\\\"\" + src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_14__[\"CommonService\"].formatDateTime(this.timKiem.RangeDate.endDate, \"mm/dd/yyyy\") + \"\\\"\";\n        }\n        if (this.timKiem.RangeDate.startDate != null) {\n            KtraQueryRangeStartString = \"\\\"\" + src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_14__[\"CommonService\"].formatDateTime(this.timKiem.RangeDate.startDate, \"mm/dd/yyyy\") + \"\\\"\";\n        }\n        //\n        if (this.timKiem.MaBenhNhan == \"\") {\n            maBenhNhanQueryString = null;\n            this.queRyInFoSearchNhaThuoc.MaBenhNhan = \"\";\n        }\n        if (this.timKiem.MaTiepNhan == null) {\n            maTiepNhanQueryString = null;\n            this.queRyInFoSearchNhaThuoc.MaTiepNhan = \"\";\n        }\n        if (this.timKiem.HoTen == null) {\n            hoTenNhanQueryString = null;\n            this.queRyInFoSearchNhaThuoc.HoTen = \"\";\n        }\n        if (this.timKiem.SoDienThoai == null) {\n            sdtQueryString = null;\n            this.queRyInFoSearchNhaThuoc.SoDienThoai = \"\";\n        }\n        if (this.timKiem.KiemTraThanhToan == null) {\n            KtraQueryString = null;\n            this.queRyInFoSearchNhaThuoc.KiemTraThanhToan = \"\";\n        }\n        if (this.timKiem.RangeDate.startDate == null) {\n            KtraQueryRangeStartString = null;\n        }\n        if (this.timKiem.RangeDate.endDate == null) {\n            KtraQueryRangeEndString = null;\n        }\n        let dateTimeNow = new Date();\n        let queryString = \"{\\\"MaBenhNhan\\\":\" + maBenhNhanQueryString + \",\\\"MaTiepNhan\\\":\" + maTiepNhanQueryString\n            + \",\\\"HoTen\\\":\" + hoTenNhanQueryString + \",\\\"SoDienThoai\\\":\" + sdtQueryString + \",\\\"KiemTraThanhToan\\\":\" + KtraQueryString + \",\\\"DateStart\\\":\" + KtraQueryRangeStartString + \",\\\"DateEnd\\\":\" + KtraQueryRangeEndString + \"}\";\n        this.apiService.post(\"QuayThuoc/TimKiemBenhNhan?search=\" + queryString).subscribe(resultData => {\n            // dialogRef.close();\n            if (resultData != null && resultData.length > 0) {\n                if (resultData.length == 1) {\n                    //KHông có toa thuốc đang chờ thanh toán hoặc chờ xuất thuốc\n                    if (resultData[0].Id > 0) {\n                        if (this.timKiem.KiemTraThanhToan == undefined) {\n                            this.timKiem.KiemTraThanhToan = 3;\n                        }\n                        this.router.navigate(['nha-thuoc/mua-thuoc/' + resultData[0].Id + '/' + resultData[0].MaBN + '/' + resultData[0].TrangThai + '/' + this.timKiem.KiemTraThanhToan]);\n                    }\n                    else if (resultData[0].DonThuocThanhToanExits == true) {\n                        if (this.timKiem.KiemTraThanhToan == undefined) {\n                            this.timKiem.KiemTraThanhToan = 3;\n                        }\n                        this.router.navigate(['nha-thuoc/mua-toa-cu/' + resultData[0].MaBN + '/' + this.timKiem.KiemTraThanhToan]);\n                    }\n                }\n                else {\n                    if (resultData.length == 1) {\n                        if (resultData[0].Id > 0) {\n                            this.router.navigate(['nha-thuoc/mua-thuoc/' + resultData[0].Id + '/' + resultData[0].MaBN + '/' + resultData[0].TrangThai + '/' + this.timKiem.KiemTraThanhToan]);\n                        }\n                        else {\n                            if (resultData[0].DonThuocThanhToanExits == true) {\n                                this.router.navigate(['nha-thuoc/mua-toa-cu/' + resultData[0].MaBN + '/' + this.timKiem.KiemTraThanhToan]);\n                            }\n                            else {\n                                let dialogRef = this.dialog.open(_quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_component__WEBPACK_IMPORTED_MODULE_8__[\"QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent\"], {\n                                    disableClose: true,\n                                    width: '500px',\n                                    data: { Model: resultData[0], KiemTraThanhToan: this.timKiem.KiemTraThanhToan, Title: \"XÁC NHẬN\" }\n                                }).afterClosed().subscribe(result => {\n                                });\n                            }\n                        }\n                    }\n                    else {\n                        let dialogRef = this.dialog.open(_quay_thuoc_tim_benh_nhan_pop_up_quay_thuoc_tim_benh_nhan_pop_up_component__WEBPACK_IMPORTED_MODULE_7__[\"QuayThuocTimBenhNhanPopUpComponent\"], {\n                            width: '1500px',\n                            data: { Model: resultData, Title: \"Tìm kiếm người bệnh\" }\n                        }).afterClosed().subscribe(result => {\n                            if (typeof (result) == 'object') {\n                                this.dataSearch.emit(result);\n                            }\n                        });\n                    }\n                }\n            }\n            else if (resultData == null) {\n                this.notificationService.showError(\"Không có người bệnh.\");\n            }\n            else {\n                // this.notificationService.showError(\"Người bệnh này chưa có toa thuốc tại bệnh viện.\");\n                let dialogRef = this.dialog.open(_quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_component__WEBPACK_IMPORTED_MODULE_8__[\"QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent\"], {\n                    disableClose: true,\n                    width: '500px',\n                    data: { Model: null, KiemTraThanhToan: this.timKiem.KiemTraThanhToan, TenBenhNhanSearch: this.timKiem.HoTen, SoDienThoaiSearch: this.timKiem.SoDienThoai, Title: \"XÁC NHẬN\" } // null là người bệnh không tồn tại\n                }).afterClosed().subscribe(result => {\n                });\n            }\n        }, (err) => {\n        });\n    }\n    keyEvent(event) {\n        if (event.keyCode == 81 && event.ctrlKey && this.isScanF1 != true) {\n            event.preventDefault();\n            this.QuetMaQRCodeClick();\n            this.isScanF1 = true;\n        }\n        else if (event.keyCode == 81 && this.isScanF1 == true) {\n            event.preventDefault();\n        }\n    }\n    QuetMaQRCodeClick() {\n        let elementBarcode = document.getElementById('barcodeActive');\n        if (elementBarcode != undefined) {\n            elementBarcode.click();\n        }\n    }\n    changeQR($event) {\n        if ($event != null && typeof $event == \"string\" && $event.endsWith(\"@\")) {\n            this.modelQRCode = $event;\n            var dataTimKiem = $event.split(\"|\");\n            if (dataTimKiem.length > 1) {\n                this.timKiem.MaBenhNhan = dataTimKiem[0];\n                this.TimKiem(true);\n            }\n            else {\n                this.timKiem.MaTiepNhan = $event.slice(0, -1); // Mã tiếp nhận @\n                this.TimKiem(true);\n            }\n        }\n        else {\n            this.notificationService.showError(\"Không tìm thấy thông tin cần tìm.\");\n        }\n        this.isScanF1 = false;\n    }\n    onKey3(event) {\n        if (event.key == 'Enter') {\n        }\n    }\n    changRange(event) {\n    }\n    TimKiem(kiemTra) {\n        this.hoquerySearch = kiemTra;\n        var self = this;\n        var dialogRef = self.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_9__[\"LoadingComponent\"], {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: \"Đang tải dữ liệu...\" }\n        });\n        this.router.navigate(['nha-thuoc'], { queryParams: { page: this.timKiem.KiemTraThanhToan, hoQuerysearch: true } });\n        let dateTimeNow = new Date();\n        this.quayThuocGridVo.MaBenhNhan = this.timKiem.MaBenhNhan;\n        this.quayThuocGridVo.MaTiepNhan = this.timKiem.MaTiepNhan;\n        this.quayThuocGridVo.HoTen = this.timKiem.HoTen;\n        this.quayThuocGridVo.SoDienThoai = this.timKiem.SoDienThoai;\n        if (this.kiemTraDanhSachThanhToan == true && this.kiemTraDanhSachDaThanhToan == true) {\n            this.timKiem.KiemTraThanhToan = 0;\n        }\n        if (this.kiemTraDanhSachThanhToan == false && this.kiemTraDanhSachDaThanhToan == false) {\n            this.timKiem.KiemTraThanhToan = 3;\n        }\n        this.quayThuocGridVo.KiemTraThanhToan = this.timKiem.KiemTraThanhToan;\n        this.quayThuocGridVo.DieuKienLoadVaoChiTiet = true;\n        if (this.timKiem.RangeDate.endDate != null) {\n            this.quayThuocGridVo.DateEnd = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_14__[\"CommonService\"].formatDate(this.timKiem.RangeDate.endDate, \"mm/dd/yyyy\") + \" 11:59 PM\";\n        }\n        else {\n            this.quayThuocGridVo.DateEnd = null;\n        }\n        if (this.timKiem.RangeDate.startDate != null) {\n            this.quayThuocGridVo.DateStart = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_14__[\"CommonService\"].formatDate(this.timKiem.RangeDate.startDate, \"mm/dd/yyyy\") + \" 12:00 AM\";\n        }\n        else {\n            this.quayThuocGridVo.DateStart = null;\n        }\n        this.quayThuocGridVo.DateNow = dateTimeNow;\n        let queryStringSearchUuTien = JSON.stringify(this.quayThuocGridVo);\n        src_app_core_utilities_local_storage_helper__WEBPACK_IMPORTED_MODULE_16__[\"LocalStorageHelper\"].setItem(\"additionalSearchStringChiTietNhaThuoc\", queryStringSearchUuTien);\n        if (this.searchUuTien == true) {\n            this.onHaddleUuTienSearch.emit(queryStringSearchUuTien);\n            dialogRef.close();\n        }\n    }\n    KhachVangLai() { }\n    onKey(event) {\n        if (event.key == \"Enter\") {\n            this.TimKiem(true);\n        }\n    }\n    blurChange($event, isSoTheBHYT) {\n    }\n    shareData1() {\n        return this.benhNhanId;\n    }\n    checkTrangThai(event, type) {\n        this.cd.detectChanges();\n        if (type == 1 && event == true) {\n            this.kiemTraDanhSachThanhToan = event;\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: type } });\n        }\n        else if (type == 1 && event == false) {\n            this.kiemTraDanhSachThanhToan = false;\n        }\n        if (type == 2 && event == true) {\n            this.kiemTraDanhSachDaThanhToan = event;\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: type } });\n        }\n        else if (type == 2 && event == false) {\n            this.kiemTraDanhSachDaThanhToan = false;\n        }\n        if (this.kiemTraDanhSachThanhToan == true) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: 1 } });\n            this.timKiem.KiemTraThanhToan = 1;\n            let data = this.timKiem.KiemTraThanhToan;\n        }\n        if (this.kiemTraDanhSachDaThanhToan == true) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: 2 } });\n            this.timKiem.KiemTraThanhToan = 2;\n            let data = this.timKiem.KiemTraThanhToan;\n        }\n        if (this.kiemTraDanhSachThanhToan == true && this.kiemTraDanhSachDaThanhToan == true) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: 0 } });\n            this.timKiem.KiemTraThanhToan = 0;\n            let data = this.timKiem.KiemTraThanhToan;\n        }\n        if (this.kiemTraDanhSachThanhToan == false && this.kiemTraDanhSachDaThanhToan == false) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: 3 } });\n            this.timKiem.KiemTraThanhToan = 3;\n            let data = this.timKiem.KiemTraThanhToan;\n        }\n        this.TimKiem(true);\n    }\n    searchChangeMaBN(event) {\n        //xóa sreach trước đó\n        var self = this;\n        if (this.timeoutSearchChange != null) {\n            clearTimeout(this.timeoutSearchChange);\n            this.timeoutSearchChange = null;\n        }\n        this.timeoutSearchChange = setTimeout(function () {\n            if (event !== undefined && event.endsWith(\"@\")) {\n                var dataTimKiem = event.split(\"|\");\n                if (dataTimKiem.length > 1) {\n                    self.timKiem.MaBenhNhan = dataTimKiem[0];\n                    self.TimKiem(true);\n                }\n                else {\n                    self.timKiem.MaBenhNhan = null;\n                    self.timKiem.MaTiepNhan = event.slice(0, -1);\n                    self.TimKiem(true);\n                }\n            }\n        }, 100);\n    }\n    searchChangeMaTN(event) {\n        //xóa sreach trước đó\n        var self = this;\n        if (this.timeoutSearchChange != null) {\n            clearTimeout(this.timeoutSearchChange);\n            this.timeoutSearchChange = null;\n        }\n        this.timeoutSearchChange = setTimeout(function () {\n            if (event !== undefined && event.endsWith(\"@\")) {\n                var dataTimKiem = event.split(\"|\");\n                if (dataTimKiem.length > 1) {\n                    self.timKiem.MaTiepNhan = dataTimKiem[0];\n                    self.TimKiem(true);\n                }\n                else {\n                    self.timKiem.MaTiepNhan = null;\n                    self.timKiem.MaBenhNhan = event.slice(0, -1);\n                    self.TimKiem(true);\n                }\n            }\n        }, 100);\n    }\n    // EXPORT ÊXCEL\n    exportExcel() {\n        const self = this;\n        self.showPopupLoadingData();\n        let dateTimeNow = new Date();\n        this.quayThuocGridVo.MaBenhNhan = this.timKiem.MaBenhNhan;\n        this.quayThuocGridVo.MaTiepNhan = this.timKiem.MaTiepNhan;\n        this.quayThuocGridVo.HoTen = this.timKiem.HoTen;\n        this.quayThuocGridVo.SoDienThoai = this.timKiem.SoDienThoai;\n        this.quayThuocGridVo.KiemTraThanhToan = this.timKiem.KiemTraThanhToan;\n        this.quayThuocGridVo.DieuKienLoadVaoChiTiet = true;\n        if (this.timKiem.RangeDate.endDate != null) {\n            this.quayThuocGridVo.DateEnd = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_14__[\"CommonService\"].formatDateTime(this.timKiem.RangeDate.endDate, \"mm/dd/yyyy\");\n        }\n        else {\n            this.quayThuocGridVo.DateEnd = null;\n        }\n        if (this.timKiem.RangeDate.startDate != null) {\n            this.quayThuocGridVo.DateStart = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_14__[\"CommonService\"].formatDateTime(this.timKiem.RangeDate.startDate, \"mm/dd/yyyy\");\n        }\n        else {\n            this.quayThuocGridVo.DateStart = null;\n        }\n        this.quayThuocGridVo.DateNow = dateTimeNow;\n        let queryStringSearchUuTien = JSON.stringify(this.quayThuocGridVo);\n        self.exportQueryInfoQueryInfo.AdditionalSearchString = queryStringSearchUuTien;\n        if (self.authService.hasPermission(self.documentType, src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_13__[\"SecurityOperation\"].Process)) {\n            self.apiService.postExportExcel('QuayThuoc/ExportDonThuocTrongNgay', self.exportQueryInfoQueryInfo).subscribe(resultData => {\n                self.closePopupLoadingData();\n                const dateTimeNow = new Date();\n                src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_14__[\"CommonService\"].downLoadFile(resultData, 'application/vnd.ms-excel', 'DonThuocTrongNgay' + dateTimeNow.getFullYear() + '.xlsx');\n            }, (err) => {\n                self.notificationService.showError(err.Message);\n            });\n        }\n        else {\n            self.notificationService.showError(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_15__[\"SystemMessage\"].UnAuthorizedMessage);\n        }\n    }\n    showPopupLoadingData() {\n        this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_9__[\"LoadingComponent\"], {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: 'Đang xuất excel...' }\n        });\n    }\n    closePopupLoadingData() {\n        this.dialog.closeAll();\n    }\n    blur(event) {\n        this.TimKiem(true);\n    }\n};\nQuayThuocTimBenhNhanComponent.ctorParameters = () => [\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__[\"ApiService\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_5__[\"MatDialog\"] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__[\"Router\"] },\n    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"] },\n    { type: src_app_core_services_auth_service__WEBPACK_IMPORTED_MODULE_11__[\"AuthService\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_6__[\"NotificationService\"] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__[\"ActivatedRoute\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocTimBenhNhanComponent.prototype, \"typeDanhSachThanhToan\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocTimBenhNhanComponent.prototype, \"hoquerySearch\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], QuayThuocTimBenhNhanComponent.prototype, \"dataQuayThuocSearch\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocTimBenhNhanComponent.prototype, \"dataSearch\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocTimBenhNhanComponent.prototype, \"onHaddlekiemTraDonThuocThanhToan\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocTimBenhNhanComponent.prototype, \"onHaddleeXportExel\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])()\n], QuayThuocTimBenhNhanComponent.prototype, \"onHaddleUuTienSearch\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"HostListener\"])('document:keydown', ['$event'])\n], QuayThuocTimBenhNhanComponent.prototype, \"keyEvent\", null);\nQuayThuocTimBenhNhanComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-tim-benh-nhan',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-tim-benh-nhan.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan/quay-thuoc-tim-benh-nhan.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-tim-benh-nhan.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan/quay-thuoc-tim-benh-nhan.component.scss\")).default]\n    })\n], QuayThuocTimBenhNhanComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component.scss\":\n/*!********************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component.scss ***!\n  \\********************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtdG9hLXRodW9jLWN1L3F1YXktdGh1b2MtdG9hLXRodW9jLWN1LmNvbXBvbmVudC5zY3NzIn0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component.ts\":\n/*!******************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component.ts ***!\n  \\******************************************************************************************************/\n/*! exports provided: QuayThuocToaThuocCuComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocToaThuocCuComponent\", function() { return QuayThuocToaThuocCuComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var src_app_shared_component_grid_grid_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/component/grid/grid.component */ \"./src/app/shared/component/grid/grid.component.ts\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n/* harmony import */ var src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/core/utilities/common.helper */ \"./src/app/core/utilities/common.helper.ts\");\n\n\n\n\n\n\n\nlet QuayThuocToaThuocCuComponent = class QuayThuocToaThuocCuComponent {\n    constructor(route, router, notificationService) {\n        this.route = route;\n        this.router = router;\n        this.notificationService = notificationService;\n        this.id = this.route.snapshot.params.id;\n        this.idSub = 0;\n        this.gridColumns = [];\n        this.gridChildColumns = [];\n        this.donThuocId = [];\n        this.urlGetDataGridChild = \"QuayThuoc/GetDataForGridToaThuocCuAsync?tiepNhanId=\" + this.id;\n        this.urlGetTotalPageGridChild = \"QuayThuoc/GetTotalPageForGridToaThuocCuAsync?tiepNhanId=\" + this.id;\n        this.urlGetDataGridChild1 = \"QuayThuoc/GetDataForGridChildAsync\";\n        this.urlGetTotalPageGridChild1 = \"QuayThuoc/GetTotalPageForGridChildAsync\";\n    }\n    ngOnInit() {\n        this.idSub = this.route.snapshot.params.ttcheck;\n        this.id = this.route.snapshot.params.id;\n        this.timKiemToaThuocCu = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_2__[\"ToaThuocCuTimKiem\"]();\n        this.gridColumns = [\n            { Field: \"DVKham\", Title: \"DV Khám\", Width: 200, Sortable: true },\n            { Field: \"ChuanDoan\", Title: \"Chẩn đoán\", MinWidth: 120, Sortable: true },\n            { Field: \"BacSiKham\", Title: \"BS Khám\", Width: 150, Sortable: true },\n            { Field: \"NgayKham\", Title: \"Ngày Khám\", Width: 200, Sortable: true },\n        ];\n        this.gridChildColumns = [\n            { Field: \"TenThuoc\", Title: \"Tên thuốc\", Width: 200, Sortable: true, LinkDetail: false },\n            { Field: \"HoatChat\", Title: \"Hoạt Chất\", MinWidth: 200, Sortable: true },\n            { Field: \"DVT\", Title: \"ĐVT\", Width: 150, Sortable: true },\n            { Field: \"SoLuong\", Title: \"Số lượng\", Width: 100, Sortable: true },\n            { Field: \"LaDuocPhamBenhVien\", Title: \"\", Width: 200, Template: this.actionChiTietTemplate }\n        ];\n    }\n    onKey(event) {\n        if (event.key == \"Enter\") {\n            this.TimKiem();\n        }\n    }\n    ConvertDateTime(datime) {\n        var date = new Date(datime);\n        var year = date.getFullYear();\n        var rawMonth = parseInt(String(date.getMonth())) + 1;\n        var month = rawMonth < 10 ? '0' + rawMonth : rawMonth;\n        var rawDay = parseInt(String(date.getDate()));\n        var day = rawDay < 10 ? '0' + rawDay : rawDay;\n        // return day + '/' + month + '/' + year;\n        return year + '-' + month + '-' + day;\n    }\n    TimKiem() {\n        let dvKhamQueryString = null;\n        let ChuanDoanQueryString = null;\n        let BSQueryString = null;\n        let ngayKhamStartQueryString = null;\n        let ngayKhamEndQueryString = null;\n        if (this.timKiemToaThuocCu.DVKhamHienThi != null) {\n            dvKhamQueryString = \"\\\"\" + this.timKiemToaThuocCu.DVKhamHienThi + \"\\\"\";\n        }\n        if (this.timKiemToaThuocCu.ChuanDoan != null) {\n            ChuanDoanQueryString = \"\\\"\" + this.timKiemToaThuocCu.ChuanDoan + \"\\\"\";\n        }\n        if (this.timKiemToaThuocCu.BSKham != null) {\n            BSQueryString = \"\\\"\" + this.timKiemToaThuocCu.BSKham + \"\\\"\";\n        }\n        if (this.timKiemToaThuocCu.RangeDate.startDate != null) {\n            ngayKhamStartQueryString = \"\\\"\" + src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_6__[\"CommonService\"].formatDateTime(this.timKiemToaThuocCu.RangeDate.startDate, \"mm/dd/yyyy\") + \"\\\"\";\n        }\n        if (this.timKiemToaThuocCu.RangeDate.endDate != null) {\n            ngayKhamEndQueryString = \"\\\"\" + src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_6__[\"CommonService\"].formatDateTime(this.timKiemToaThuocCu.RangeDate.endDate, \"mm/dd/yyyy\") + \"\\\"\";\n        }\n        let queryString = \"{\\\"DVKham\\\":\" + dvKhamQueryString + \",\\\"ChuanDoan\\\":\" + ChuanDoanQueryString\n            + \",\\\"BacSi\\\":\" + BSQueryString + \",\\\"DateStart\\\":\" + ngayKhamStartQueryString + \",\\\"DateEnd\\\":\" + ngayKhamEndQueryString + \"}\";\n        this.gridChild._additionalSearchString = queryString;\n        this.gridChild.search();\n    }\n    extCheckboxSelection(event) {\n        this.donThuocId = event;\n    }\n    ChonThuoc() {\n        //this.router.navigate(['quay-thuoc/mua-thuoc/'+ this.id +'/' + 0 + '/1/'],this.donThuocId);\n        if (this.donThuocId.length == 0) {\n            this.notificationService.showError(\"Bạn chưa chọn toa thuốc.\");\n        }\n        else {\n            this.router.navigate(['/nha-thuoc/khach-vang-lai'], { queryParams: { ToaThuoc: this.donThuocId, maBN: this.id, ttCheck: this.idSub } }); // idSub là trạng thái check\n        }\n    }\n    Huy() {\n        this.router.navigate(['nha-thuoc']);\n    }\n    onKey3(event) {\n        if (event.key == 'Enter') {\n            // this.TimKiem();\n        }\n    }\n    changRange(event) {\n        // this.TimKiem();\n    }\n};\nQuayThuocToaThuocCuComponent.ctorParameters = () => [\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__[\"ActivatedRoute\"] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__[\"Router\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__[\"NotificationService\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])(src_app_shared_component_grid_grid_component__WEBPACK_IMPORTED_MODULE_4__[\"GridComponent\"], { static: true })\n], QuayThuocToaThuocCuComponent.prototype, \"gridChild\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('detailTemplateCT', { static: true })\n], QuayThuocToaThuocCuComponent.prototype, \"actionChiTietTemplate\", void 0);\nQuayThuocToaThuocCuComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-toa-thuoc-cu',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-toa-thuoc-cu.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-toa-thuoc-cu.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component.scss\")).default]\n    })\n], QuayThuocToaThuocCuComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component.scss\":\n/*!********************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component.scss ***!\n  \\********************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MteGFjLW5oYW4taW4tcG9wLXVwL3F1YXktdGh1b2MteGFjLW5oYW4taW4tcG9wLXVwLmNvbXBvbmVudC5zY3NzIn0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component.ts\":\n/*!******************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component.ts ***!\n  \\******************************************************************************************************************/\n/*! exports provided: QuayThuocXacNhanInPopUpComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocXacNhanInPopUpComponent\", function() { return QuayThuocXacNhanInPopUpComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ \"./node_modules/@angular/material/esm2015/dialog.js\");\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n\n\n\n\nlet QuayThuocXacNhanInPopUpComponent = class QuayThuocXacNhanInPopUpComponent {\n    constructor(dialogRef, dataItem) {\n        this.dialogRef = dialogRef;\n        this.dataItem = dataItem;\n        this.Title = null;\n        this.thongTin = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_3__[\"ConfirmPrint\"]();\n        this.thongTin.TaiKhoanBenhNhanThuId = dataItem.Model.TaiKhoanBenhNhanThuId;\n        this.Title = dataItem.Title;\n    }\n    ngOnInit() {\n    }\n    close(answer) {\n        this.thongTin.Response = answer;\n        this.dialogRef.close(this.thongTin);\n    }\n};\nQuayThuocXacNhanInPopUpComponent.ctorParameters = () => [\n    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] },\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Optional\"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] }\n];\nQuayThuocXacNhanInPopUpComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-xac-nhan-in-pop-up',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-xac-nhan-in-pop-up.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-xac-nhan-in-pop-up.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Optional\"])()), tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], QuayThuocXacNhanInPopUpComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.scss\":\n/*!****************************************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.scss ***!\n  \\****************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MteGFjLW5oYW4tbXVhLXRodW9jLWtoYWNoLXZhbmctbGFpLXBvcC11cC9xdWF5LXRodW9jLXhhYy1uaGFuLW11YS10aHVvYy1raGFjaC12YW5nLWxhaS1wb3AtdXAuY29tcG9uZW50LnNjc3MifQ== */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.ts\":\n/*!**************************************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.ts ***!\n  \\**************************************************************************************************************************************************************/\n/*! exports provided: QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent\", function() { return QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ \"./node_modules/@angular/material/esm2015/dialog.js\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n\n\n\n\nlet QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent = class QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent {\n    constructor(dialogRef, dataItem, router) {\n        this.dialogRef = dialogRef;\n        this.dataItem = dataItem;\n        this.router = router;\n        this.Title = null;\n        this.Title = dataItem.Title;\n        this.typeDanhSachThanhToan = dataItem.KiemTraThanhToan;\n    }\n    ngOnInit() {\n    }\n    close(answer) {\n        if (answer == 1) {\n            this.dialogRef.close();\n        }\n        else {\n            if (this.dataItem.Model != null) {\n                this.router.navigate(['nha-thuoc/khach-vang-lai'], { queryParams: { page: this.typeDanhSachThanhToan, maBN: this.dataItem.Model.MaBN } });\n                this.dialogRef.close();\n            }\n            else {\n                if (this.dataItem.TenBenhNhanSearch != null && this.dataItem.SoDienThoaiSearch != null) {\n                    this.router.navigate(['nha-thuoc/khach-vang-lai'], { queryParams: { page: this.typeDanhSachThanhToan, TenBenhNhan: this.dataItem.TenBenhNhanSearch, SDT: this.dataItem.SoDienThoaiSearch } });\n                }\n                else if (this.dataItem.TenBenhNhanSearch != null && this.dataItem.SoDienThoaiSearch == null) {\n                    this.router.navigate(['nha-thuoc/khach-vang-lai'], { queryParams: { page: this.typeDanhSachThanhToan, TenBenhNhan: this.dataItem.TenBenhNhanSearch } });\n                }\n                else {\n                    this.router.navigate(['nha-thuoc/khach-vang-lai'], { queryParams: { page: this.typeDanhSachThanhToan, SDT: this.dataItem.SoDienThoaiSearch } });\n                }\n                this.dialogRef.close();\n            }\n        }\n    }\n};\nQuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent.ctorParameters = () => [\n    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] },\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Optional\"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__[\"Router\"] }\n];\nQuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Optional\"])()), tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-pop-up/quay-thuoc-xac-nhan-pop-up.component.scss\":\n/*!**************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-pop-up/quay-thuoc-xac-nhan-pop-up.component.scss ***!\n  \\**************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MteGFjLW5oYW4tcG9wLXVwL3F1YXktdGh1b2MteGFjLW5oYW4tcG9wLXVwLmNvbXBvbmVudC5zY3NzIn0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-pop-up/quay-thuoc-xac-nhan-pop-up.component.ts\":\n/*!************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-pop-up/quay-thuoc-xac-nhan-pop-up.component.ts ***!\n  \\************************************************************************************************************/\n/*! exports provided: QuayThuocXacNhanPopUpComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocXacNhanPopUpComponent\", function() { return QuayThuocXacNhanPopUpComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ \"./node_modules/@angular/material/esm2015/dialog.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n\n\n\n\n\nlet QuayThuocXacNhanPopUpComponent = class QuayThuocXacNhanPopUpComponent {\n    constructor(route, dialogRef, dataItem) {\n        this.route = route;\n        this.dialogRef = dialogRef;\n        this.dataItem = dataItem;\n        this.Title = null;\n        this.soTien = 0;\n        this.tenBenhNhan = null;\n        this.dataSourcedanhsachThuoc = {\n            data: [],\n            total: 0\n        };\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3___default.a;\n        this.dataSourcedanhsachThuoc.data = dataItem.Model.DanhSachDonThuocs;\n        this.soTien = dataItem.Model.DanhSachDonThuocs.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0);\n        this.tenBenhNhan = dataItem.Model.HoTenBenhNhan;\n        this.Title = dataItem.Title;\n    }\n    ngOnInit() {\n    }\n    close(answer) {\n        this.dialogRef.close(answer);\n    }\n};\nQuayThuocXacNhanPopUpComponent.ctorParameters = () => [\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__[\"ActivatedRoute\"] },\n    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] },\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Optional\"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] }\n];\nQuayThuocXacNhanPopUpComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-quay-thuoc-xac-nhan-pop-up',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./quay-thuoc-xac-nhan-pop-up.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-pop-up/quay-thuoc-xac-nhan-pop-up.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./quay-thuoc-xac-nhan-pop-up.component.scss */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-pop-up/quay-thuoc-xac-nhan-pop-up.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Optional\"])()), tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], QuayThuocXacNhanPopUpComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc.module.ts\":\n/*!**************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc.module.ts ***!\n  \\**************************************************************/\n/*! exports provided: QuayThuocModule */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocModule\", function() { return QuayThuocModule; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ \"./node_modules/@angular/common/fesm2015/common.js\");\n/* harmony import */ var _quay_thuoc_routing_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./quay-thuoc-routing.module */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-routing.module.ts\");\n/* harmony import */ var _quay_thuoc_tim_benh_nhan_quay_thuoc_tim_benh_nhan_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./quay-thuoc-tim-benh-nhan/quay-thuoc-tim-benh-nhan.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan/quay-thuoc-tim-benh-nhan.component.ts\");\n/* harmony import */ var src_app_core_services_base_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/core/services/base.service */ \"./src/app/core/services/base.service.ts\");\n/* harmony import */ var src_vex_components_page_layout_page_layout_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/@vex/components/page-layout/page-layout.module */ \"./src/@vex/components/page-layout/page-layout.module.ts\");\n/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/flex-layout */ \"./node_modules/@angular/flex-layout/esm2015/flex-layout.js\");\n/* harmony import */ var src_vex_components_breadcrumbs_breadcrumbs_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/@vex/components/breadcrumbs/breadcrumbs.module */ \"./src/@vex/components/breadcrumbs/breadcrumbs.module.ts\");\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm2015/forms.js\");\n/* harmony import */ var _progress_kendo_angular_tooltip__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @progress/kendo-angular-tooltip */ \"./node_modules/@progress/kendo-angular-tooltip/dist/fesm2015/index.js\");\n/* harmony import */ var src_app_shared_shared_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/shared/shared.module */ \"./src/app/shared/shared.module.ts\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _visurel_iconify_angular__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @visurel/iconify-angular */ \"./node_modules/@visurel/iconify-angular/fesm2015/visurel-iconify-angular.js\");\n/* harmony import */ var _progress_kendo_angular_layout__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @progress/kendo-angular-layout */ \"./node_modules/@progress/kendo-angular-layout/dist/fesm2015/index.js\");\n/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @progress/kendo-angular-grid */ \"./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js\");\n/* harmony import */ var _quay_thuoc_tim_benh_nhan_pop_up_quay_thuoc_tim_benh_nhan_pop_up_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component.ts\");\n/* harmony import */ var _quay_thuoc_cho_thanh_toan_quay_thuoc_cho_thanh_toan_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component.ts\");\n/* harmony import */ var _quay_thuoc_mua_thuoc_quay_thuoc_mua_thuoc_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component.ts\");\n/* harmony import */ var _quay_thuoc_list_quay_thuoc_list_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./quay-thuoc-list/quay-thuoc-list.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-list/quay-thuoc-list.component.ts\");\n/* harmony import */ var _quay_thuoc_thong_tin_hanh_chinh_quay_thuoc_thong_tin_hanh_chinh_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./quay-thuoc-thong-tin-hanh-chinh/quay-thuoc-thong-tin-hanh-chinh.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-hanh-chinh/quay-thuoc-thong-tin-hanh-chinh.component.ts\");\n/* harmony import */ var _quay_thuoc_toa_thuoc_cu_quay_thuoc_toa_thuoc_cu_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component.ts\");\n/* harmony import */ var _quay_thuoc_thong_tin_bao_hiem_tu_nhan_quay_thuoc_thong_tin_bao_hiem_tu_nhan_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./quay-thuoc-thong-tin-bao-hiem-tu-nhan/quay-thuoc-thong-tin-bao-hiem-tu-nhan.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-thong-tin-bao-hiem-tu-nhan/quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.ts\");\n/* harmony import */ var _quay_thuoc_hinh_thuc_thanh_toan_quay_thuoc_hinh_thuc_thanh_toan_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component.ts\");\n/* harmony import */ var _quay_thuoc_xac_nhan_pop_up_quay_thuoc_xac_nhan_pop_up_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./quay-thuoc-xac-nhan-pop-up/quay-thuoc-xac-nhan-pop-up.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-pop-up/quay-thuoc-xac-nhan-pop-up.component.ts\");\n/* harmony import */ var _quay_thuoc_xac_nhan_in_pop_up_quay_thuoc_xac_nhan_in_pop_up_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component.ts\");\n/* harmony import */ var _quay_thuoc_cho_xuat_thuoc_quay_thuoc_cho_xuat_thuoc_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./quay-thuoc-cho-xuat-thuoc/quay-thuoc-cho-xuat-thuoc.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-cho-xuat-thuoc/quay-thuoc-cho-xuat-thuoc.component.ts\");\n/* harmony import */ var _in_bang_thu_tien_pop_up_in_bang_thu_tien_pop_up_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component */ \"./src/app/modules/main/quay-thuoc/in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component.ts\");\n/* harmony import */ var _quay_thuoc_khach_vang_lai_quay_thuoc_khach_vang_lai_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component.ts\");\n/* harmony import */ var _quay_thuoc_khach_vang_lai_cho_thanh_toan_quay_thuoc_khach_vang_lai_cho_thanh_toan_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component.ts\");\n/* harmony import */ var _quay_thuoc_khach_vang_lai_cho_xuat_thuoc_quay_thuoc_khach_vang_lai_cho_xuat_thuoc_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./quay-thuoc-khach-vang-lai-cho-xuat-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.ts\");\n/* harmony import */ var _quay_thuoc_khach_vang_lai_thong_tin_hanh_chinh_quay_thuoc_khach_vang_lai_thong_tin_hanh_chinh_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.ts\");\n/* harmony import */ var _quay_thuoc_service__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./quay-thuoc.service */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.service.ts\");\n/* harmony import */ var _quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component */ \"./src/app/modules/main/quay-thuoc/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.ts\");\n/* harmony import */ var _in_don_thuoc_pop_up_in_don_thuoc_pop_up_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./in-don-thuoc-pop-up/in-don-thuoc-pop-up.component */ \"./src/app/modules/main/quay-thuoc/in-don-thuoc-pop-up/in-don-thuoc-pop-up.component.ts\");\n/* harmony import */ var _ap_dung_miem_giam_them_popup_ap_dung_miem_giam_them_popup_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component */ \"./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component.ts\");\n/* harmony import */ var _ap_dung_miem_giam_cho_tung_loai_thuoc_popup_ap_dung_miem_giam_cho_tung_loai_thuoc_popup_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component */ \"./src/app/modules/main/quay-thuoc/ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.ts\");\n/* harmony import */ var _thong_tin_phieu_pdf_popup_thong_tin_phieu_pdf_popup_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component */ \"./src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.ts\");\n/* harmony import */ var _thong_tin_phieu_da_thu_thong_tin_phieu_da_thu_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./thong-tin-phieu-da-thu/thong-tin-phieu-da-thu.component */ \"./src/app/modules/main/quay-thuoc/thong-tin-phieu-da-thu/thong-tin-phieu-da-thu.component.ts\");\n/* harmony import */ var _xac_nhan_phieu_huy_thu_xac_nhan_phieu_huy_thu_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component */ \"./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component.ts\");\n/* harmony import */ var _xac_nhan_phieu_huy_thu_ban_thuoc_xac_nhan_phieu_huy_thu_ban_thuoc_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./xac-nhan-phieu-huy-thu-ban-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc.component */ \"./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc.component.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet QuayThuocModule = class QuayThuocModule {\n};\nQuayThuocModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"NgModule\"])({\n        declarations: [\n            _quay_thuoc_tim_benh_nhan_quay_thuoc_tim_benh_nhan_component__WEBPACK_IMPORTED_MODULE_4__[\"QuayThuocTimBenhNhanComponent\"],\n            _quay_thuoc_tim_benh_nhan_pop_up_quay_thuoc_tim_benh_nhan_pop_up_component__WEBPACK_IMPORTED_MODULE_16__[\"QuayThuocTimBenhNhanPopUpComponent\"],\n            _quay_thuoc_cho_thanh_toan_quay_thuoc_cho_thanh_toan_component__WEBPACK_IMPORTED_MODULE_17__[\"QuayThuocChoThanhToanComponent\"], _quay_thuoc_mua_thuoc_quay_thuoc_mua_thuoc_component__WEBPACK_IMPORTED_MODULE_18__[\"QuayThuocMuaThuocComponent\"],\n            _quay_thuoc_list_quay_thuoc_list_component__WEBPACK_IMPORTED_MODULE_19__[\"QuayThuocListComponent\"],\n            _quay_thuoc_thong_tin_hanh_chinh_quay_thuoc_thong_tin_hanh_chinh_component__WEBPACK_IMPORTED_MODULE_20__[\"QuayThuocThongTinHanhChinhComponent\"],\n            _quay_thuoc_toa_thuoc_cu_quay_thuoc_toa_thuoc_cu_component__WEBPACK_IMPORTED_MODULE_21__[\"QuayThuocToaThuocCuComponent\"],\n            _quay_thuoc_thong_tin_bao_hiem_tu_nhan_quay_thuoc_thong_tin_bao_hiem_tu_nhan_component__WEBPACK_IMPORTED_MODULE_22__[\"QuayThuocThongTinBaoHiemTuNhanComponent\"],\n            _quay_thuoc_hinh_thuc_thanh_toan_quay_thuoc_hinh_thuc_thanh_toan_component__WEBPACK_IMPORTED_MODULE_23__[\"QuayThuocHinhThucThanhToanComponent\"],\n            _quay_thuoc_xac_nhan_pop_up_quay_thuoc_xac_nhan_pop_up_component__WEBPACK_IMPORTED_MODULE_24__[\"QuayThuocXacNhanPopUpComponent\"],\n            _quay_thuoc_xac_nhan_in_pop_up_quay_thuoc_xac_nhan_in_pop_up_component__WEBPACK_IMPORTED_MODULE_25__[\"QuayThuocXacNhanInPopUpComponent\"],\n            _quay_thuoc_cho_xuat_thuoc_quay_thuoc_cho_xuat_thuoc_component__WEBPACK_IMPORTED_MODULE_26__[\"QuayThuocChoXuatThuocComponent\"],\n            _in_bang_thu_tien_pop_up_in_bang_thu_tien_pop_up_component__WEBPACK_IMPORTED_MODULE_27__[\"InBangThuTienPopUpComponent\"],\n            _quay_thuoc_khach_vang_lai_quay_thuoc_khach_vang_lai_component__WEBPACK_IMPORTED_MODULE_28__[\"QuayThuocKhachVangLaiComponent\"],\n            _quay_thuoc_khach_vang_lai_cho_thanh_toan_quay_thuoc_khach_vang_lai_cho_thanh_toan_component__WEBPACK_IMPORTED_MODULE_29__[\"QuayThuocKhachVangLaiChoThanhToanComponent\"],\n            _quay_thuoc_khach_vang_lai_cho_xuat_thuoc_quay_thuoc_khach_vang_lai_cho_xuat_thuoc_component__WEBPACK_IMPORTED_MODULE_30__[\"QuayThuocKhachVangLaiChoXuatThuocComponent\"],\n            _quay_thuoc_khach_vang_lai_thong_tin_hanh_chinh_quay_thuoc_khach_vang_lai_thong_tin_hanh_chinh_component__WEBPACK_IMPORTED_MODULE_31__[\"QuayThuocKhachVangLaiThongTinHanhChinhComponent\"],\n            _quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_component__WEBPACK_IMPORTED_MODULE_33__[\"QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent\"],\n            _in_don_thuoc_pop_up_in_don_thuoc_pop_up_component__WEBPACK_IMPORTED_MODULE_34__[\"InDonThuocPopUpComponent\"],\n            _ap_dung_miem_giam_them_popup_ap_dung_miem_giam_them_popup_component__WEBPACK_IMPORTED_MODULE_35__[\"ApDungMiemGiamThemPopupComponent\"],\n            _ap_dung_miem_giam_cho_tung_loai_thuoc_popup_ap_dung_miem_giam_cho_tung_loai_thuoc_popup_component__WEBPACK_IMPORTED_MODULE_36__[\"ApDungMiemGiamChoTungLoaiThuocPopupComponent\"],\n            _thong_tin_phieu_pdf_popup_thong_tin_phieu_pdf_popup_component__WEBPACK_IMPORTED_MODULE_37__[\"ThongTinPhieuPdfPopupComponent\"],\n            _thong_tin_phieu_da_thu_thong_tin_phieu_da_thu_component__WEBPACK_IMPORTED_MODULE_38__[\"ThongTinPhieuThuThuoc\"],\n            _xac_nhan_phieu_huy_thu_xac_nhan_phieu_huy_thu_component__WEBPACK_IMPORTED_MODULE_39__[\"XacNhanHuyThuComponent\"],\n            _xac_nhan_phieu_huy_thu_ban_thuoc_xac_nhan_phieu_huy_thu_ban_thuoc_component__WEBPACK_IMPORTED_MODULE_40__[\"XacNhanHuyThuBanThuocComponent\"]\n        ],\n        imports: [\n            _angular_common__WEBPACK_IMPORTED_MODULE_2__[\"CommonModule\"],\n            _quay_thuoc_routing_module__WEBPACK_IMPORTED_MODULE_3__[\"QuayThuocRoutingModule\"],\n            _angular_forms__WEBPACK_IMPORTED_MODULE_9__[\"ReactiveFormsModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_12__[\"MatInputModule\"], _angular_material__WEBPACK_IMPORTED_MODULE_12__[\"MatOptionModule\"], _angular_material__WEBPACK_IMPORTED_MODULE_12__[\"MatSelectModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_12__[\"MatTabsModule\"],\n            src_vex_components_page_layout_page_layout_module__WEBPACK_IMPORTED_MODULE_6__[\"PageLayoutModule\"],\n            _angular_flex_layout__WEBPACK_IMPORTED_MODULE_7__[\"FlexLayoutModule\"],\n            src_vex_components_breadcrumbs_breadcrumbs_module__WEBPACK_IMPORTED_MODULE_8__[\"BreadcrumbsModule\"],\n            _angular_forms__WEBPACK_IMPORTED_MODULE_9__[\"FormsModule\"],\n            _progress_kendo_angular_tooltip__WEBPACK_IMPORTED_MODULE_10__[\"TooltipModule\"],\n            src_app_shared_shared_module__WEBPACK_IMPORTED_MODULE_11__[\"SharedModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_12__[\"MatIconModule\"],\n            _visurel_iconify_angular__WEBPACK_IMPORTED_MODULE_13__[\"IconModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_12__[\"MatMenuModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_12__[\"MatButtonToggleModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_12__[\"MatTooltipModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_12__[\"MatButtonModule\"],\n            _progress_kendo_angular_layout__WEBPACK_IMPORTED_MODULE_14__[\"LayoutModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_12__[\"MatDialogModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_12__[\"MatCheckboxModule\"],\n            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_15__[\"GridModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_12__[\"MatRadioModule\"],\n        ], entryComponents: [\n            _ap_dung_miem_giam_cho_tung_loai_thuoc_popup_ap_dung_miem_giam_cho_tung_loai_thuoc_popup_component__WEBPACK_IMPORTED_MODULE_36__[\"ApDungMiemGiamChoTungLoaiThuocPopupComponent\"],\n            _ap_dung_miem_giam_them_popup_ap_dung_miem_giam_them_popup_component__WEBPACK_IMPORTED_MODULE_35__[\"ApDungMiemGiamThemPopupComponent\"],\n            _in_don_thuoc_pop_up_in_don_thuoc_pop_up_component__WEBPACK_IMPORTED_MODULE_34__[\"InDonThuocPopUpComponent\"],\n            _quay_thuoc_tim_benh_nhan_pop_up_quay_thuoc_tim_benh_nhan_pop_up_component__WEBPACK_IMPORTED_MODULE_16__[\"QuayThuocTimBenhNhanPopUpComponent\"],\n            _quay_thuoc_xac_nhan_pop_up_quay_thuoc_xac_nhan_pop_up_component__WEBPACK_IMPORTED_MODULE_24__[\"QuayThuocXacNhanPopUpComponent\"],\n            _quay_thuoc_xac_nhan_in_pop_up_quay_thuoc_xac_nhan_in_pop_up_component__WEBPACK_IMPORTED_MODULE_25__[\"QuayThuocXacNhanInPopUpComponent\"],\n            _in_bang_thu_tien_pop_up_in_bang_thu_tien_pop_up_component__WEBPACK_IMPORTED_MODULE_27__[\"InBangThuTienPopUpComponent\"],\n            _quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_quay_thuoc_xac_nhan_mua_thuoc_khach_vang_lai_pop_up_component__WEBPACK_IMPORTED_MODULE_33__[\"QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent\"],\n            _thong_tin_phieu_pdf_popup_thong_tin_phieu_pdf_popup_component__WEBPACK_IMPORTED_MODULE_37__[\"ThongTinPhieuPdfPopupComponent\"],\n            _xac_nhan_phieu_huy_thu_xac_nhan_phieu_huy_thu_component__WEBPACK_IMPORTED_MODULE_39__[\"XacNhanHuyThuComponent\"],\n            _xac_nhan_phieu_huy_thu_ban_thuoc_xac_nhan_phieu_huy_thu_ban_thuoc_component__WEBPACK_IMPORTED_MODULE_40__[\"XacNhanHuyThuBanThuocComponent\"]\n        ],\n        providers: [\n            _quay_thuoc_service__WEBPACK_IMPORTED_MODULE_32__[\"QuayThuocService\"],\n            { provide: src_app_core_services_base_service__WEBPACK_IMPORTED_MODULE_5__[\"BaseService\"], useClass: _quay_thuoc_service__WEBPACK_IMPORTED_MODULE_32__[\"QuayThuocService\"] },\n        ]\n    })\n], QuayThuocModule);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/quay-thuoc.service.ts\":\n/*!***************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/quay-thuoc.service.ts ***!\n  \\***************************************************************/\n/*! exports provided: QuayThuocService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QuayThuocService\", function() { return QuayThuocService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var src_app_core_services_base_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/core/services/base.service */ \"./src/app/core/services/base.service.ts\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n\n\n\n\nlet QuayThuocService = class QuayThuocService extends src_app_core_services_base_service__WEBPACK_IMPORTED_MODULE_2__[\"BaseService\"] {\n    constructor(apiService) {\n        super(apiService);\n    }\n};\nQuayThuocService.ctorParameters = () => [\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__[\"ApiService\"] }\n];\nQuayThuocService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n        providedIn: 'root'\n    })\n], QuayThuocService);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/thong-tin-phieu-da-thu/thong-tin-phieu-da-thu.component.scss\":\n/*!******************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/thong-tin-phieu-da-thu/thong-tin-phieu-da-thu.component.scss ***!\n  \\******************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.size-icon {\\n  display: inline-block;\\n  height: 20px;\\n  width: 20px;\\n  line-height: 20px;\\n  border-radius: 10px;\\n  background-color: green;\\n  color: #fff;\\n  text-align: center;\\n}\\n\\n.size-icon-duoc-bhyt {\\n  display: inline-block;\\n  height: 14px;\\n  width: 14px;\\n  line-height: 20px;\\n  border-radius: 7px;\\n  background-color: green;\\n  color: #fff;\\n  text-align: center;\\n  right: -4px;\\n  top: 6px;\\n  margin: 0;\\n}\\n\\n.float_right {\\n  float: right;\\n}\\n\\n.color-green {\\n  color: green;\\n}\\n\\n.color-red {\\n  color: red;\\n}\\n\\n.reverse-ellipsis.r {\\n  text-align: right;\\n  direction: inherit;\\n}\\n\\n.yellowText {\\n  color: yellowgreen;\\n}\\n\\n.redText {\\n  color: red;\\n}\\n\\n.greenText {\\n  color: green;\\n}\\n\\n.orangeText {\\n  color: orange;\\n}\\n\\n.blueText {\\n  color: blue;\\n}\\n\\n.blackText {\\n  color: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvdGhvbmctdGluLXBoaWV1LWRhLXRodS9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXHRob25nLXRpbi1waGlldS1kYS10aHVcXHRob25nLXRpbi1waGlldS1kYS10aHUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3Rob25nLXRpbi1waGlldS1kYS10aHUvdGhvbmctdGluLXBoaWV1LWRhLXRodS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFFQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFFQSxrQkFBQTtFQUNBLHVCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsVUFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvdGhvbmctdGluLXBoaWV1LWRhLXRodS90aG9uZy10aW4tcGhpZXUtZGEtdGh1LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwMHB4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLnNpemUtaWNvbiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgaGVpZ2h0OiAyMHB4O1xuICB3aWR0aDogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIC1tb3otYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5zaXplLWljb24tZHVvYy1iaHl0IHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBoZWlnaHQ6IDE0cHg7XG4gIHdpZHRoOiAxNHB4O1xuICBsaW5lLWhlaWdodDogMjBweDtcbiAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDdweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHJpZ2h0OiAtNHB4O1xuICB0b3A6IDZweDtcbiAgbWFyZ2luOiAwO1xufVxuXG4uZmxvYXRfcmlnaHQge1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbi5jb2xvci1ncmVlbiB7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLmNvbG9yLXJlZCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5yZXZlcnNlLWVsbGlwc2lzLnIge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZGlyZWN0aW9uOiBpbmhlcml0O1xufVxuXG4ueWVsbG93VGV4dCB7XG4gIGNvbG9yOiB5ZWxsb3dncmVlbjtcbn1cblxuLnJlZFRleHQge1xuICBjb2xvcjogcmVkO1xufVxuXG4uZ3JlZW5UZXh0IHtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG4ub3JhbmdlVGV4dCB7XG4gIGNvbG9yOiBvcmFuZ2U7XG59XG5cbi5ibHVlVGV4dCB7XG4gIGNvbG9yOiBibHVlO1xufVxuXG4uYmxhY2tUZXh0IHtcbiAgY29sb3I6IGJsYWNrO1xufSIsIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5zaXplLWljb24ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGhlaWdodDogMjBweDtcbiAgd2lkdGg6IDIwcHg7XG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAtbW96LWJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xuICBjb2xvcjogI2ZmZjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uc2l6ZS1pY29uLWR1b2MtYmh5dCB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgaGVpZ2h0OiAxNHB4O1xuICB3aWR0aDogMTRweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIC1tb3otYm9yZGVyLXJhZGl1czogNXB4O1xuICBib3JkZXItcmFkaXVzOiA3cHg7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xuICBjb2xvcjogI2ZmZjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICByaWdodDogLTRweDtcbiAgdG9wOiA2cHg7XG4gIG1hcmdpbjogMDtcbn1cblxuLmZsb2F0X3JpZ2h0IHtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG4uY29sb3ItZ3JlZW4ge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5jb2xvci1yZWQge1xuICBjb2xvcjogcmVkO1xufVxuXG4ucmV2ZXJzZS1lbGxpcHNpcy5yIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGRpcmVjdGlvbjogaW5oZXJpdDtcbn1cblxuLnllbGxvd1RleHQge1xuICBjb2xvcjogeWVsbG93Z3JlZW47XG59XG5cbi5yZWRUZXh0IHtcbiAgY29sb3I6IHJlZDtcbn1cblxuLmdyZWVuVGV4dCB7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLm9yYW5nZVRleHQge1xuICBjb2xvcjogb3JhbmdlO1xufVxuXG4uYmx1ZVRleHQge1xuICBjb2xvcjogYmx1ZTtcbn1cblxuLmJsYWNrVGV4dCB7XG4gIGNvbG9yOiBibGFjaztcbn0iXX0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/thong-tin-phieu-da-thu/thong-tin-phieu-da-thu.component.ts\":\n/*!****************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/thong-tin-phieu-da-thu/thong-tin-phieu-da-thu.component.ts ***!\n  \\****************************************************************************************************/\n/*! exports provided: ThongTinPhieuThuThuoc */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ThongTinPhieuThuThuoc\", function() { return ThongTinPhieuThuThuoc; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ \"./node_modules/@angular/material/esm2015/dialog.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var src_app_core_services_auth_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/core/services/auth.service */ \"./src/app/core/services/auth.service.ts\");\n/* harmony import */ var src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/shared/component/dialogs/loading/loading.component */ \"./src/app/shared/component/dialogs/loading/loading.component.ts\");\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n/* harmony import */ var _iconify_icons_ic_twotone_edit__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @iconify/icons-ic/twotone-edit */ \"./node_modules/@iconify/icons-ic/twotone-edit.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_edit__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_edit__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _xac_nhan_phieu_huy_thu_xac_nhan_phieu_huy_thu_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component */ \"./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component.ts\");\n/* harmony import */ var _thong_tin_phieu_pdf_popup_thong_tin_phieu_pdf_popup_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component */ \"./src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.ts\");\n/* harmony import */ var _lich_su_quay_thuoc_lich_su_quay_thuoc_model__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../lich-su-quay-thuoc/lich-su-quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/lich-su-quay-thuoc/lich-su-quay-thuoc.model.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet ThongTinPhieuThuThuoc = class ThongTinPhieuThuThuoc {\n    constructor(route, notificationService, apiService, authService, router, dialog) {\n        this.route = route;\n        this.notificationService = notificationService;\n        this.apiService = apiService;\n        this.authService = authService;\n        this.router = router;\n        this.dialog = dialog;\n        this.src = '';\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3___default.a;\n        this.icEdit = _iconify_icons_ic_twotone_edit__WEBPACK_IMPORTED_MODULE_10___default.a;\n        this.kiemtraPhieuInManhinh = false;\n        this.confrim = null;\n        this.thongTinSoPhieuDaThu = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_9__[\"ThongTinSoPhieuDaThu\"]();\n        this.trangThaiThuTienBenhNhan = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_9__[\"TrangThaiThuTienBenhNhan\"]();\n    }\n    ngOnInit() {\n        this.getThongSoPhieu();\n    }\n    total(field) {\n        switch (field) {\n            case 'ThanhTien':\n                return this.thongTinSoPhieuDaThu.DanhSachThuPhis\n                    .reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'BHYTThanhToan':\n                return this.thongTinSoPhieuDaThu.DanhSachThuPhis\n                    .reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n            case 'TongCongNo':\n                return this.thongTinSoPhieuDaThu.DanhSachThuPhis\n                    .reduce((sum, item) => sum + item.TongCongNo, 0);\n            case 'SoTienMG':\n                return this.thongTinSoPhieuDaThu.DanhSachThuPhis\n                    .reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'DaThanhToan':\n                return this.thongTinSoPhieuDaThu.DanhSachThuPhis\n                    .reduce((sum, item) => sum + item.DaThanhToan, 0);\n        }\n    }\n    getThongSoPhieu() {\n        this.apiService.post(\"QuayThuoc/GetSoPhieuQuayThuoc/\" + this.yeuCauTiepNhanId).subscribe(resultData => {\n            if (resultData !== undefined && resultData !== null) {\n                this.dataSoPhieus = resultData;\n                if (resultData.length > 0) {\n                    this.xemThongTinPhieu(resultData[0].KeyId);\n                }\n            }\n        });\n    }\n    xemThongTinPhieu(keyId) {\n        let loading = this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_8__[\"LoadingComponent\"], {\n            disableClose: true,\n            width: \"200px\",\n            height: \"90px\",\n            data: {},\n        });\n        this.apiService.get(\"QuayThuoc/GetThongTinPhieuThu/\" + keyId).subscribe(resultData => {\n            if (resultData !== undefined && resultData !== null) {\n                this.thongTinSoPhieuDaThu = resultData;\n                this.thongTinSoPhieuDaThu.SoPhieuId = keyId;\n                this.thongTinSoPhieuDaThu.TenSoPhieu = resultData.SoPhieu;\n                loading.close();\n            }\n        });\n    }\n    selectionChangeSoPhieu(event) {\n        if (event != undefined && event != null) {\n            this.thongTinSoPhieuDaThu.SoPhieuId = event.KeyId;\n            this.thongTinSoPhieuDaThu.LoaiPhieu = event.LoaiPhieu;\n            this.thongTinSoPhieuDaThu.TinhTrang = event.TinhTrang;\n            this.thongTinSoPhieuDaThu.LoaiPhieuThuChiThuNgan = event.LoaiPhieuThuChiThuNgan;\n            this.xemThongTinPhieu(event.KeyId);\n        }\n        else {\n            this.thongTinSoPhieuDaThu = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_9__[\"ThongTinSoPhieuDaThu\"]();\n        }\n    }\n    huyPhieuThu(thongTinSoPhieuDaThu, thuHoiPhieu) {\n        let thongTinHuyPhieu = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_9__[\"ThongTinHuyPhieu\"]();\n        thongTinHuyPhieu.SoPhieu = thongTinSoPhieuDaThu.Id;\n        thongTinHuyPhieu.TenPhieuThuChi = thongTinSoPhieuDaThu.LoaiPhieu;\n        thongTinHuyPhieu.TenSoPhieu = this.thongTinSoPhieuDaThu.TenSoPhieu;\n        thongTinHuyPhieu.LoaiPhieuThuChiThuNgan = this.thongTinSoPhieuDaThu.LoaiPhieuThuChiThuNgan;\n        let loaiType = true;\n        this.dialog\n            .open(_xac_nhan_phieu_huy_thu_xac_nhan_phieu_huy_thu_component__WEBPACK_IMPORTED_MODULE_11__[\"XacNhanHuyThuComponent\"], { disableClose: true, width: \"800px\", data: { thongTinHuyPhieu, thuHoiPhieu, loaiType } })\n            .afterClosed()\n            .subscribe(resultData => {\n            if (resultData != undefined && resultData !== null && resultData !== \"\") {\n                this.getThongSoPhieu();\n                this.notificationService.showSuccess(\"Hủy phiếu thu thành công.\");\n            }\n        }, (err) => {\n            if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n            }\n        });\n    }\n    phieuIn() {\n        const self = this;\n        const hosting = window.location.protocol + '//' + window.location.host;\n        let xacNhanInData = new _lich_su_quay_thuoc_lich_su_quay_thuoc_model__WEBPACK_IMPORTED_MODULE_13__[\"XacNhanInViewModel\"]();\n        xacNhanInData = {\n            TaiKhoanBenhNhanThuId: this.thongTinSoPhieuDaThu.SoPhieuId,\n            Hosting: hosting,\n            InBangKe: false,\n            InPhieuThu: true,\n        };\n        self.apiService.postExportPdf('QuayThuoc/XacNhanIn', xacNhanInData).subscribe(resultData => {\n            // var arrHtml = [{\n            //     Html: resultData,\n            //     TenFile: \"InPhieuThu\",\n            //     PageSize: \"A4\",\n            //     PageOrientation: \"Landscape\",\n            // }];\n            self.dialog.open(_thong_tin_phieu_pdf_popup_thong_tin_phieu_pdf_popup_component__WEBPACK_IMPORTED_MODULE_12__[\"ThongTinPhieuPdfPopupComponent\"], {\n                disableClose: true,\n                width: '1000px',\n                data: { Model: resultData }\n            }).afterClosed().subscribe(() => { });\n        });\n    }\n};\nThongTinPhieuThuThuoc.ctorParameters = () => [\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__[\"ActivatedRoute\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__[\"NotificationService\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_6__[\"ApiService\"] },\n    { type: src_app_core_services_auth_service__WEBPACK_IMPORTED_MODULE_7__[\"AuthService\"] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__[\"Router\"] },\n    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MatDialog\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], ThongTinPhieuThuThuoc.prototype, \"yeuCauTiepNhanId\", void 0);\nThongTinPhieuThuThuoc = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-thong-tin-phieu-da-thu',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./thong-tin-phieu-da-thu.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/thong-tin-phieu-da-thu/thong-tin-phieu-da-thu.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./thong-tin-phieu-da-thu.component.scss */ \"./src/app/modules/main/quay-thuoc/thong-tin-phieu-da-thu/thong-tin-phieu-da-thu.component.scss\")).default]\n    })\n], ThongTinPhieuThuThuoc);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.scss\":\n/*!************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.scss ***!\n  \\************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 550px;\\n}\\n\\n.container-iframe iframe {\\n  margin-bottom: 10px;\\n  -webkit-backface-visibility: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvdGhvbmctdGluLXBoaWV1LXBkZi1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXHRob25nLXRpbi1waGlldS1wZGYtcG9wdXBcXHRob25nLXRpbi1waGlldS1wZGYtcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3Rob25nLXRpbi1waGlldS1wZGYtcG9wdXAvdGhvbmctdGluLXBoaWV1LXBkZi1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7QUNDRjs7QURFQTtFQUNFLG1CQUFBO0VBQ0EsbUNBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3Rob25nLXRpbi1waGlldS1wZGYtcG9wdXAvdGhvbmctdGluLXBoaWV1LXBkZi1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1NTBweDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgLXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XG59IiwiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDU1MHB4O1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcbn0iXX0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.ts\":\n/*!**********************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.ts ***!\n  \\**********************************************************************************************************/\n/*! exports provided: ThongTinPhieuPdfPopupComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ThongTinPhieuPdfPopupComponent\", function() { return ThongTinPhieuPdfPopupComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n/* harmony import */ var src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/core/utilities/common.helper */ \"./src/app/core/utilities/common.helper.ts\");\n/* harmony import */ var src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/shared/component/dialogs/loading/loading.component */ \"./src/app/shared/component/dialogs/loading/loading.component.ts\");\n\n\n\n\n\n\n\n\nlet ThongTinPhieuPdfPopupComponent = class ThongTinPhieuPdfPopupComponent {\n    constructor(data, apiService, dialog, notificationService) {\n        this.data = data;\n        this.apiService = apiService;\n        this.dialog = dialog;\n        this.notificationService = notificationService;\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3___default.a;\n        this.arrFilePdf = [];\n        this.arrFileUrl = [];\n    }\n    ngOnInit() {\n        this.getALlFilePDFFromHtml(this.data.Model);\n    }\n    getALlFilePDFFromHtml(arrHtml) {\n        this.showPopupLoadingData();\n        let newBlob = new Blob([arrHtml], { type: \"application/pdf\" });\n        let datalocalURL = window.URL.createObjectURL(newBlob);\n        this.arrFileUrl.push(datalocalURL);\n        this.arrFilePdf.push(arrHtml);\n        this.closePopupLoadingData();\n    }\n    downloadAllFile() {\n        const dateTimeNow = new Date();\n        this.arrFilePdf.forEach((file) => {\n            src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_6__[\"CommonService\"].downLoadFile(file, \"application/pdf\", \"PhieuThuNgan\" + dateTimeNow.getFullYear() + \".pdf\");\n        });\n    }\n    showPopupLoadingData() {\n        if (this.popupLoadingData == undefined || this.popupLoadingData == null || this.popupLoadingData.openDialogs == undefined || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n            this.popupLoadingData = this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_7__[\"LoadingComponent\"], {\n                disableClose: true,\n                width: \"200px\",\n                height: \"90px\",\n                data: { Title: \"Đang tải dữ liệu...\" },\n            });\n        }\n    }\n    closePopupLoadingData() {\n        if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n            this.popupLoadingData.close();\n        }\n    }\n};\nThongTinPhieuPdfPopupComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__[\"ApiService\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialog\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__[\"NotificationService\"] }\n];\nThongTinPhieuPdfPopupComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: \"thong-tin-phieu-pdf-popup\",\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./thong-tin-phieu-pdf-popup.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./thong-tin-phieu-pdf-popup.component.scss */ \"./src/app/modules/main/quay-thuoc/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], ThongTinPhieuPdfPopupComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc.component.scss\":\n/*!**************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc.component.scss ***!\n  \\**************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3hhYy1uaGFuLXBoaWV1LWh1eS10aHUtYmFuLXRodW9jL3hhYy1uaGFuLXBoaWV1LWh1eS10aHUtYmFuLXRodW9jLmNvbXBvbmVudC5zY3NzIn0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc.component.ts\":\n/*!************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc.component.ts ***!\n  \\************************************************************************************************************************/\n/*! exports provided: XacNhanHuyThuBanThuocComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XacNhanHuyThuBanThuocComponent\", function() { return XacNhanHuyThuBanThuocComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n/* harmony import */ var src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/shared/component/dialogs/loading/loading.component */ \"./src/app/shared/component/dialogs/loading/loading.component.ts\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n/* harmony import */ var src_app_core_services_auth_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/core/services/auth.service */ \"./src/app/core/services/auth.service.ts\");\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n\n\n\n\n\n\n\n\n\n\nlet XacNhanHuyThuBanThuocComponent = class XacNhanHuyThuBanThuocComponent {\n    constructor(data, dialogRef, authService, dialog, notificationService, apiService) {\n        this.data = data;\n        this.dialogRef = dialogRef;\n        this.authService = authService;\n        this.dialog = dialog;\n        this.notificationService = notificationService;\n        this.apiService = apiService;\n        this.documentType = src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_7__[\"DocumentType\"].QuayThuoc;\n        this.huyXuatThuocTrongNgay = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_9__[\"HuyXuatThuocTrongNgay\"]();\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_2___default.a;\n    }\n    ngOnInit() {\n        this.huyXuatThuocTrongNgay = this.data.huyXuatThuocTrongNgay;\n    }\n    modelChangeThuHoiPhieu(e) {\n        if (e) {\n            let currentUser = this.authService.getAccessUser();\n            this.apiService.get(\"NhanVien/GetNhanVienProflie/\" + currentUser.Id).subscribe((resultData) => {\n                this.huyXuatThuocTrongNgay.NguoiThuHoiId = currentUser.Id;\n                this.huyXuatThuocTrongNgay.TenNguoiThuHoi = resultData.HoTen;\n                this.huyXuatThuocTrongNgay.ThoiGianThuHoi = new Date();\n            });\n        }\n        else {\n            this.huyXuatThuocTrongNgay.NguoiThuHoiId = null;\n            this.huyXuatThuocTrongNgay.TenNguoiThuHoi = null;\n            this.huyXuatThuocTrongNgay.ThoiGianThuHoi = null;\n        }\n    }\n    xacNhanThongTinHuy() {\n        this.showLoadingPopup();\n        this.apiService.post(`QuayThuoc/HuyBanThuocTrongNgay`, this.huyXuatThuocTrongNgay).subscribe((resultData) => {\n            this.closeAllDialogs();\n            this.dialogRef.close(\"Yes\");\n        }, (err) => {\n            err.ValidationErrors === null || err.ValidationErrors.length == 0 ?\n                this.notificationService.showError(err.Message)\n                : (this.validationErrors = err.ValidationErrors);\n            this.closeAllDialogs();\n        });\n    }\n    close() {\n        this.dialog.closeAll();\n    }\n    showLoadingPopup() {\n        if (!this.loadingPopup) {\n            this.loadingPopup = this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_6__[\"LoadingComponent\"], {\n                disableClose: true,\n                width: '200px',\n                height: '90px',\n                data: { Title: 'Đang tải...' }\n            });\n        }\n    }\n    closeAllDialogs() {\n        if (this.loadingPopup) {\n            this.loadingPopup.close();\n            this.loadingPopup = null;\n        }\n    }\n};\nXacNhanHuyThuBanThuocComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MatDialogRef\"] },\n    { type: src_app_core_services_auth_service__WEBPACK_IMPORTED_MODULE_8__[\"AuthService\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MatDialog\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__[\"NotificationService\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__[\"ApiService\"] }\n];\nXacNhanHuyThuBanThuocComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: \"app-xac-nhan-phieu-huy-thu-ban-thuoc\",\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./xac-nhan-phieu-huy-thu-ban-thuoc.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./xac-nhan-phieu-huy-thu-ban-thuoc.component.scss */ \"./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MAT_DIALOG_DATA\"]))\n], XacNhanHuyThuBanThuocComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component.scss\":\n/*!******************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component.scss ***!\n  \\******************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3hhYy1uaGFuLXBoaWV1LWh1eS10aHUveGFjLW5oYW4tcGhpZXUtaHV5LXRodS5jb21wb25lbnQuc2NzcyJ9 */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component.ts\":\n/*!****************************************************************************************************!*\\\n  !*** ./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component.ts ***!\n  \\****************************************************************************************************/\n/*! exports provided: XacNhanHuyThuComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XacNhanHuyThuComponent\", function() { return XacNhanHuyThuComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n/* harmony import */ var src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/shared/component/dialogs/loading/loading.component */ \"./src/app/shared/component/dialogs/loading/loading.component.ts\");\n/* harmony import */ var src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/shared/enum/security-operation.enum */ \"./src/app/shared/enum/security-operation.enum.ts\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n/* harmony import */ var src_app_core_services_auth_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/core/services/auth.service */ \"./src/app/core/services/auth.service.ts\");\n/* harmony import */ var src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/shared/configdata/system-message */ \"./src/app/shared/configdata/system-message.ts\");\n/* harmony import */ var _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../quay-thuoc.model */ \"./src/app/modules/main/quay-thuoc/quay-thuoc.model.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\nlet XacNhanHuyThuComponent = class XacNhanHuyThuComponent {\n    constructor(data, dialogRef, authService, dialog, notificationService, apiService) {\n        this.data = data;\n        this.dialogRef = dialogRef;\n        this.authService = authService;\n        this.dialog = dialog;\n        this.notificationService = notificationService;\n        this.apiService = apiService;\n        this.documentType = src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_8__[\"DocumentType\"].QuayThuoc;\n        this.thongTinHuyPhieu = new _quay_thuoc_model__WEBPACK_IMPORTED_MODULE_11__[\"ThongTinHuyPhieu\"]();\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_2___default.a;\n        this.thuHoiPhieu = false;\n    }\n    ngOnInit() {\n        this.thongTinHuyPhieu = this.data.thongTinHuyPhieu;\n        this.thuHoiPhieu = this.data.thuHoiPhieu;\n        this.loaiType = this.data.loaiType;\n        this.thongTinHuyPhieu.ThuHoiPhieu = false;\n        if (this.thuHoiPhieu) {\n            let currentUser = this.authService.getAccessUser();\n            this.apiService.get(\"NhanVien/GetNhanVienProflie/\" + currentUser.Id).subscribe((resultData) => {\n                this.thongTinHuyPhieu.NguoiThuHoiId = currentUser.Id;\n                this.thongTinHuyPhieu.TenNguoiThuHoi = resultData.HoTen;\n                this.thongTinHuyPhieu.ThoiGianThuHoi = new Date();\n            });\n        }\n    }\n    close() {\n        this.dialog.closeAll();\n    }\n    modelChangeThuHoiPhieu(e) {\n        if (e) {\n            let currentUser = this.authService.getAccessUser();\n            this.apiService.get(\"NhanVien/GetNhanVienProflie/\" + currentUser.Id).subscribe((resultData) => {\n                this.thongTinHuyPhieu.NguoiThuHoiId = currentUser.Id;\n                this.thongTinHuyPhieu.TenNguoiThuHoi = resultData.HoTen;\n                this.thongTinHuyPhieu.ThoiGianThuHoi = new Date();\n            });\n        }\n        else {\n            this.thongTinHuyPhieu.NguoiThuHoiId = null;\n            this.thongTinHuyPhieu.TenNguoiThuHoi = null;\n            this.thongTinHuyPhieu.ThoiGianThuHoi = null;\n        }\n    }\n    xacNhanThongTinHuy() {\n        var loading = this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_6__[\"LoadingComponent\"], {\n            disableClose: true,\n            width: \"200px\",\n            height: \"90px\",\n            data: {},\n        });\n        if (this.loaiType) {\n            if (this.authService.hasPermission(this.documentType, src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_7__[\"SecurityOperation\"].Update)) {\n                if (this.thuHoiPhieu) {\n                    this.apiService.post(\"QuayThuoc/CapnhatNguoiThuHoiPhieuThuThuoc\", this.thongTinHuyPhieu).subscribe((resultData) => {\n                        this.dialog.closeAll();\n                        this.dialogRef.close(\"Yes\");\n                    }, (err) => {\n                        err.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : (this.validationErrors = err.ValidationErrors);\n                        loading.close();\n                    });\n                }\n                else {\n                    this.apiService.post(\"QuayThuoc/HuyPhieuThuThuoc\", this.thongTinHuyPhieu).subscribe((resultData) => {\n                        this.dialog.closeAll();\n                        this.dialogRef.close(\"Yes\");\n                    }, (err) => {\n                        err.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : (this.validationErrors = err.ValidationErrors);\n                        loading.close();\n                    });\n                }\n            }\n            else {\n                this.notificationService.showError(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_10__[\"SystemMessage\"].UnAuthorizedMessage);\n            }\n        }\n        else {\n            if (this.authService.hasPermission(this.documentType, src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_7__[\"SecurityOperation\"].Update)) {\n                if (this.thuHoiPhieu) {\n                    this.apiService.post(\"QuayThuoc/CapnhatNguoiThuHoiPhieuThuThuoc\", this.thongTinHuyPhieu).subscribe((resultData) => {\n                        this.dialog.closeAll();\n                        this.dialogRef.close(\"Yes\");\n                    }, (err) => {\n                        err.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : (this.validationErrors = err.ValidationErrors);\n                        loading.close();\n                    });\n                }\n                else {\n                    this.apiService.post(\"QuayThuoc/HuyThanhToan\", this.thongTinHuyPhieu).subscribe((resultData) => {\n                        this.dialog.closeAll();\n                        this.dialogRef.close(\"Yes\");\n                    }, (err) => {\n                        err.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : (this.validationErrors = err.ValidationErrors);\n                        loading.close();\n                    });\n                }\n            }\n            else {\n                this.notificationService.showError(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_10__[\"SystemMessage\"].UnAuthorizedMessage);\n            }\n        }\n    }\n};\nXacNhanHuyThuComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MatDialogRef\"] },\n    { type: src_app_core_services_auth_service__WEBPACK_IMPORTED_MODULE_9__[\"AuthService\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MatDialog\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__[\"NotificationService\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__[\"ApiService\"] }\n];\nXacNhanHuyThuComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: \"app-xac-nhan-phieu-huy-thu\",\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./xac-nhan-phieu-huy-thu.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./xac-nhan-phieu-huy-thu.component.scss */ \"./src/app/modules/main/quay-thuoc/xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MAT_DIALOG_DATA\"]))\n], XacNhanHuyThuComponent);\n\n\n\n/***/ })\n\n}]);\n//# sourceMappingURL=default~kham-benh-lich-su-kham-benh-lich-su-kham-benh-module~quay-thuoc-danh-sach-cap-thuoc-bhyt-cap~f2f72aff-es2015.js.map","var data = {\n\t\"body\": \"<path d=\\\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div style=\\\"font: 500 18px/26px var(--font)\\\">\\n        Miễn giảm dịch vụ: <strong style=\\\"color: green;\\\">{{tenDichVu}}</strong>\\n    </div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div width=\\\"100%\\\" fxLayout=\\\"row\\\">\\n        <table class=\\\"table table-border\\\" width=\\\"100%\\\">\\n            <tr>\\n                <td colspan=\\\"2\\\" align=\\\"right\\\">Số tiền trước miễn giảm :</td>\\n                <td><strong style=\\\"color: blue;\\\">{{tongTienTungDichVu | number:'0.2-2':'vi-VN'}}</strong></td>\\n            </tr>\\n            <ng-container *ngFor=\\\"let item of danhSachChiPhi.DanhSachMienGiamVos; let i = index\\\">\\n                <tr *ngIf=\\\"item.LoaiMienGiam === 1\\\">\\n                    <td colspan=\\\"3\\\" class=\\\"no-border-bottom pb-0\\\">Đối tượng: <strong>{{item.DoiTuongUuDai}}</strong>\\n                    </td>\\n                </tr>\\n                <tr *ngIf=\\\"item.LoaiMienGiam === 1\\\">\\n                    <td width=\\\"140px\\\" style=\\\"width: 31%;\\\">\\n                        <app-radio class=\\\"no-format-css p-0\\\" [disabled]=\\\"true\\\" [model]=\\\"item.LoaiChietKhau\\\"\\n                            [items]=\\\"[{Value:2,Text:'Tiền'},{Value:1,Text:'%'}]\\\"></app-radio>\\n                    </td>\\n                    <td>\\n                        <app-textboxnumeric label=\\\" \\\" class=\\\"no-label p-0\\\" max=\\\"100\\\" min=\\\"0\\\" [disabled]=\\\"true\\\"\\n                            [model]=\\\"item.TiLe\\\">\\n                        </app-textboxnumeric>\\n                    </td>\\n                    <td>= <strong>{{ item.TongTienMiemGiam | number:'0.2-2':'vi-VN'}}</strong></td>\\n                </tr>\\n            </ng-container>\\n            <ng-container *ngFor=\\\"let item of danhSachChiPhi.DanhSachMienGiamVos; let i = index\\\">\\n                <tr *ngIf=\\\"item.LoaiMienGiam === 2\\\">\\n                    <td colspan=\\\"3\\\" class=\\\"no-border-bottom pb-0\\\">Voucher: <strong>{{item.MaTheVoucher}}</strong></td>\\n                </tr>\\n                <tr *ngIf=\\\"item.LoaiMienGiam === 2\\\">\\n                    <td class=\\\"no-border-bottom pb-0\\\" style=\\\"width: 31%;\\\">\\n                        <app-radio class=\\\"no-format-css p-0\\\" [disabled]=\\\"true\\\" [model]=\\\"item.LoaiChietKhau\\\"\\n                            [items]=\\\"[{Value:2,Text:'Tiền'},{Value:1,Text:'%'}]\\\"></app-radio>\\n                    </td>\\n                    <td *ngIf=\\\"item.LoaiMienGiam === 2 && item.LoaiChietKhau === 1\\\" class=\\\"no-border-bottom pb-0\\\">\\n                        <app-textboxnumeric label=\\\" \\\"  class=\\\"no-label p-0\\\" max=\\\"100\\\"\\n                            min=\\\"0\\\" [disabled]=\\\"true\\\" [model]=\\\"item.TiLe\\\">\\n                        </app-textboxnumeric>\\n                    </td>\\n                    <td *ngIf=\\\"item.LoaiMienGiam === 2 && item.LoaiChietKhau === 2\\\" class=\\\"no-border-bottom pb-0\\\">\\n                        <app-textboxnumeric label=\\\" \\\" class=\\\"no-label p-0\\\" max=\\\"999999\\\" min=\\\"0\\\" [disabled]=\\\"true\\\"\\n                            [model]=\\\"item.SoTien\\\">\\n                        </app-textboxnumeric>\\n                    </td>\\n                    <td class=\\\"no-border-bottom pb-0\\\">= <strong>{{ item.TongTienMiemGiam | number:'0.2-2':'vi-VN'}}</strong>\\n                    </td>\\n                </tr>\\n            </ng-container>\\n\\n            <tr>\\n                <td colspan=\\\"3\\\" class=\\\"no-border-bottom pb-0\\\">MG thêm:</td>\\n            </tr>\\n            <ng-container *ngFor=\\\"let item of danhSachChiPhi.DanhSachMienGiamVos; let i = index\\\">\\n                <tr *ngIf=\\\"item.LoaiMienGiam === 3  && item.LoaiChietKhau === 1\\\">\\n                    <td class=\\\"no-border-bottom\\\">\\n                        <app-checkbox id=\\\"phan-tram\\\" value=\\\"1\\\" fxFlex=\\\"40%\\\" label=\\\"%\\\" [(model)]=\\\"disableInputPhanTram\\\"\\n                            (modelChange)=\\\"apDungPhanTram($event , item)\\\">\\n                        </app-checkbox>\\n                    </td>\\n                    <td class=\\\"no-border-bottom\\\" style=\\\"width: 1200px;\\\">\\n                        <app-textboxnumeric style=\\\"width: 1200px;\\\" max=\\\"100\\\" class=\\\"no-label p-0\\\" label=\\\" \\\" min=\\\"0\\\"\\n                            [(model)]=\\\"item.TiLe\\\" [disabled]=\\\"!disableInputPhanTram\\\"\\n                            (modelChange)=\\\"changePhanTram($event, item)\\\" \\n                            [validationerror]=\\\"'TiLe' | validationerror: validationErrors\\\">\\n                        </app-textboxnumeric>\\n                    </td>\\n                    <td class=\\\"no-border-bottom\\\">= <strong>{{ item.TongTienMiemGiam | number:'0.2-2':'vi-VN'}}</strong></td>\\n                </tr>\\n                <tr *ngIf=\\\"item.LoaiMienGiam === 3  && item.LoaiChietKhau === 2\\\">\\n                    <td class=\\\"no-border-bottom pb-0\\\">\\n                        <app-checkbox id=\\\"so-tien\\\" value=\\\"1\\\" fxFlex=\\\"40%\\\" label=\\\"Tiền\\\" [(model)]=\\\"disableInputSoTien\\\"\\n                            (modelChange)=\\\"apDungSoTien($event , item)\\\">\\n                        </app-checkbox>\\n                    </td>\\n                    <td class=\\\"no-border-bottom pb-0\\\" style=\\\"width: 1200px;\\\">\\n                        <app-textboxnumeric label=\\\"\\\" style=\\\"width: 1200px;\\\" class=\\\"no-label p-0\\\" [(model)]=\\\"item.SoTien\\\"\\n                            min=\\\"0\\\" max=\\\"99999999\\\" [disabled]=\\\"!disableInputSoTien\\\"\\n                            (modelChange)=\\\"changeSoTien($event, item)\\\"\\n                            [validationerror]=\\\"'SoTien' | validationerror: validationErrors\\\">\\n                        </app-textboxnumeric>\\n                    </td>\\n                    <td class=\\\"no-border-bottom pb-0\\\" style=\\\"width: 500px;\\\">=\\n                        <strong>{{ item.TongTienMiemGiam | number:'0.2-2':'vi-VN'}}</strong></td>\\n                </tr>\\n            </ng-container>\\n            <tr>\\n                <td colspan=\\\"2\\\" align=\\\"right\\\">Tổng cộng MG :</td>\\n                <td><strong style=\\\"color: red;\\\">{{tongTatCaSoTienMg | number:'0.2-2':'vi-VN'}}</strong></td>\\n            </tr>\\n            <tr>\\n                <td colspan=\\\"3\\\">\\n                    <app-textarea label=\\\"Ghi chú\\\" maxlength=\\\"2000\\\" minHeight=\\\"60\\\"\\n                        [(model)]=\\\"data.dataItem.GhiChuMienGiamThem\\\">\\n                    </app-textarea>\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button mat-button mat-dialog-close (click)=\\\"HuyApDungMGT()\\\">Hủy</button>\\n    <div *ngIf=\\\"tongTienTungDichVu > 0\\\">\\n        <button mat-raised-button mat-button color=\\\"primary\\\"\\n            *ngIf=\\\"disableInputPhanTram || disableInputSoTien || kiemTraThayDoiSoTienTiLe\\\" (click)=\\\"ApDungMGT()\\\"\\n            cdkFocusInitial>Áp dụng</button>\\n    </div>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div style=\\\"font: 500 18px/26px var(--font)\\\">\\n        MIỄN GIẢM TẤT CẢ DỊCH VỤ\\n    </div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div width=\\\"100%\\\" fxLayout=\\\"row\\\">\\n        <table class=\\\"table table-border\\\" width=\\\"100%\\\">\\n            <tr>\\n                <td width=\\\"100%\\\">\\n                    <app-checkbox id=\\\"phan-tram\\\" [(model)]=\\\"apDungMiemGiamThem.ChietKhauTheoTiLe\\\" value=\\\"1\\\" fxFlex=\\\"30%\\\"\\n                        label=\\\"%\\\" value=\\\"true\\\" (modelChange)=\\\"apDungPhanTram($event)\\\">\\n                    </app-checkbox>\\n                    <app-textboxnumeric fxFlex=\\\"60%\\\" label=\\\"\\\" class=\\\"no-label\\\" max=\\\"100\\\" min=\\\"0\\\"\\n                        [(model)]=\\\"apDungMiemGiamThem.TiLe\\\" [required]=\\\"true\\\" [disabled]=\\\"disablePhanTram\\\"\\n                        [validationerror]=\\\"'TiLe' | validationerror: validationErrors\\\">\\n                    </app-textboxnumeric>\\n                    <label class=\\\"red\\\" fxFlex=\\\"10%\\\">(*)</label>\\n                </td>\\n            </tr>\\n            <tr>\\n                <td width=\\\"100%\\\">\\n                    <app-checkbox id=\\\"so-tien\\\" [(model)]=\\\"apDungMiemGiamThem.ChietKhauTheoSoTien\\\" value=\\\"1\\\" fxFlex=\\\"30%\\\"\\n                         label=\\\"Tiền\\\" value=\\\"true\\\"\\n                        (modelChange)=\\\"apDungSoTien($event)\\\">\\n                    </app-checkbox>\\n                    <app-textboxnumeric  fxFlex=\\\"60%\\\" class=\\\"no-label\\\"\\n                          [disabled]=\\\"disableSoTien\\\"\\n                          [(model)]=\\\"apDungMiemGiamThem.SoTien\\\" [required]=\\\"true\\\"\\n                        [validationerror]=\\\"'SoTien' | validationerror: validationErrors\\\">\\n                    </app-textboxnumeric>\\n                    <label class=\\\"red\\\" fxFlex=\\\"10%\\\">(*)</label>\\n                </td>\\n            </tr>\\n            <tr>\\n                <td width=\\\"100%\\\">\\n                    <app-textarea id=\\\"ghichu\\\" [(model)]=\\\"apDungMiemGiamThem.GhiChu\\\" label=\\\"Ghi chú\\\" maxlength=\\\"2000\\\"\\n                        minHeight=\\\"60\\\">\\n                    </app-textarea>\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button mat-button mat-dialog-close (click)=\\\"HuyApDungMGT()\\\">Hủy</button>\\n    <button *ngIf=\\\"apDungMiemGiamThem.ChietKhauTheoTiLe || apDungMiemGiamThem.ChietKhauTheoSoTien\\\" mat-raised-button\\n        mat-button color=\\\"primary\\\" (click)=\\\"ApDungMGT()\\\" cdkFocusInitial>Áp dụng</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>XEM TRƯỚC KHI IN</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"overflow:hidden\\\">\\n    <div class=\\\"container-iframe\\\">\\n        <iframe width=\\\"100%\\\" style=\\\"height: 500px;\\\" [src]=\\\"src| safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <app-print-form textPrint=\\\"In Bảng Kê Thu Tiền Thuốc\\\" style=\\\"text-align: right;\\\"  type=\\\"PDF\\\" [event]=\\\"data\\\" typeSize=\\\"A5\\\" [bodyComponent]=\\\"this\\\" *ngIf=\\\"kiemtraPhieuInManhinh != true && InBangKe == true\\\"\\n        (click)=\\\"InPhieu(1)\\\" copies=\\\"2\\\">\\n    </app-print-form>\\n    <app-print-form textPrint=\\\"In Phiếu Thu\\\" type=\\\"PDF\\\"  style=\\\"text-align: right;\\\" typeLayout=\\\"landscape\\\" [event]=\\\"data\\\" typeSize=\\\"A5\\\"\\n        [bodyComponent]=\\\"this\\\" (click)=\\\"InPhieu(2)\\\" *ngIf=\\\"kiemtraPhieuInManhinh != true && InPhieuThu == true\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>XEM TRƯỚC KHI IN</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"overflow:hidden\\\">\\n    <div class=\\\"container-iframe\\\">\\n        <iframe width=\\\"100%\\\" style=\\\"height: 500px;\\\" [src]=\\\"src| safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <app-print-form textPrint=\\\"In đơn thuốc\\\" style=\\\"text-align: right;\\\"  type=\\\"PDF\\\" [event]=\\\"data\\\" typeSize=\\\"A5\\\" [bodyComponent]=\\\"this\\\" *ngIf=\\\"kiemtraPhieuInManhinh != true && InBangKe == true\\\"\\n        (click)=\\\"InPhieu(1)\\\" >\\n    </app-print-form>\\n    <app-print-form textPrint=\\\"In đơn thuốc\\\" type=\\\"PDF\\\"  style=\\\"text-align: right;\\\" typeLayout=\\\"landscape\\\" [event]=\\\"data\\\" typeSize=\\\"A5\\\"\\n        [bodyComponent]=\\\"this\\\" (click)=\\\"InPhieu(2)\\\" *ngIf=\\\"kiemtraPhieuInManhinh != true && InPhieuThu == true\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\"","export default \"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-16\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <vex-breadcrumbs [crumbs]=\\\"\\n                    [\\n                    {Title:'Nhà Thuốc',Path:''},\\n                    {Title:'DS Đơn Thuốc',Path:'/nha-thuoc', Active:true}\\n                    ]\\\">\\n            </vex-breadcrumbs>\\n            <app-hot-key  style=\\\"position: absolute;right: 180px;top: 7px;\\\" [keys]=\\\"[\\n            {Key:'Ctrl + Q',Description:'Quét mã vạch',End:true}\\n            ]\\\"></app-hot-key>\\n            <button type=\\\"button\\\" (click)=\\\"ToKhachVangLai(typeDanhSachThanhToan)\\\"\\n                style=\\\"position: absolute;right: 21px;top: 7px;\\\" mat-raised-button mat-button>Khách Vãng Lai</button>\\n               \\n        </div>\\n       \\n    </vex-page-layout-header>\\n\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div class=\\\"-mt-16\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n                <div class=\\\"card\\\" fxFlex=\\\"100%\\\">\\n                    <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\" style=\\\"position: relative;\\\">\\n                        <!-- (onHaddlekiemTraDonThuocThanhToan)=\\\"getkiemTraDonThuocThanhToan($event)\\\"  -->\\n                        <app-quay-thuoc-tim-benh-nhan (dataSearch)=\\\"getData($event)\\\" class=\\\"mb-2\\\"\\n                             \\n                            (onHaddleeXportExel)=\\\"KiemTraeXportExel($event)\\\"\\n                            (onHaddleUuTienSearch)=\\\"getonHaddleUuTienSearch($event)\\\"\\n                            [typeDanhSachThanhToan]=\\\"typeDanhSachThanhToan\\\"\\n                            [dataQuayThuocSearch]=\\\"dataQuayThuocSearch\\\" \\n                            [hoquerySearch]=\\\"hoquerySearch\\\"\\n                            >\\n                        </app-quay-thuoc-tim-benh-nhan>\\n                        <!-- [typeDanhSachThanhToan]=\\\"typeDanhSachThanhToan\\\"  -->\\n                        <app-quay-thuoc-list \\n                        [(id)]=id \\n                        [xacNhanIn]=\\\"xacNhanIn\\\" \\n                        [queryStringSearchUuTien]=\\\"queryStringSearchUuTien\\\"\\n                        (OnHandleDataQuayThuocSearchList)=\\\"getonHaddleDataSearch($event)\\\"\\n                        >\\n                        </app-quay-thuoc-list>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </vex-page-layout-content>\\n</vex-page-layout>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <app-grid *ngIf=\\\"dataSourcedanhsachThuocBHYT.data.length>0\\\" fxFlex=\\\"100%\\\" [gridColumns]=\\\"gridColumns\\\"\\n        [gridDataSource]=\\\"dataSourcedanhsachThuocBHYT\\\" [autoHeight]=\\\"true\\\" [lazyLoadPage]=\\\"false\\\"\\n        [useActionDefault]=\\\"false\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [allowSortDefault]=\\\"false\\\"\\n        [pageable]=\\\"false\\\" [headerTemplate]=\\\"headerTemplate\\\" useActionDefault=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n        [lazyLoadPage]=\\\"true\\\">\\n        <ng-template #headerTemplate>\\n            <div class=\\\"px-2 py-2\\\" style=\\\"background: burlywood;overflow: hidden;\\\">\\n                <h4 style=\\\"font-weight: bold;float: left;line-height: 36px;\\\">THUỐC BHYT- VẬT TƯ</h4>\\n                <button type=\\\"button\\\" (click)=\\\"KeThuoc()\\\" style=\\\"float: right;\\\" mat-raised-button>\\n                    In kê thuốc</button>\\n            </div>\\n        </ng-template>\\n    </app-grid>\\n    <app-grid *ngIf=\\\"dataSourcedanhsachThuocKhongBHYT.data.length>0\\\" fxFlex=\\\"100%\\\" [gridColumns]=\\\"gridColumns\\\"\\n        [gridDataSource]=\\\"dataSourcedanhsachThuocKhongBHYT\\\" [autoHeight]=\\\"true\\\" [lazyLoadPage]=\\\"false\\\"\\n        [useActionDefault]=\\\"false\\\" [headerTemplate]=\\\"headerTemplate1\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n        [allowSortDefault]=\\\"false\\\" [pageable]=\\\"false\\\" useActionDefault=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n        [lazyLoadPage]=\\\"true\\\">\\n        <ng-template #headerTemplate1>\\n            <div class=\\\"px-2 py-2\\\" style=\\\"background: lightblue;\\\">\\n                <h4 style=\\\"font-weight: bold;\\\">THUỐC KHÔNG BHYT-VẬT TƯ</h4>\\n\\n            </div>\\n        </ng-template>\\n    </app-grid>\\n    <p *ngIf=\\\"dataSourcedanhsachThuocKhongBHYT.data.length == 0 && dataSourcedanhsachThuocBHYT.data.length == 0\\\"\\n        class=\\\"m-0 p-0\\\"><strong>Không có dược phẩm nào chờ xuất</strong></p>\\n    <ng-template #donGiaTemplate let-dataItem>\\n        <span> {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}</span>\\n    </ng-template>\\n\\n    <ng-template #thanhTienTemplate let-dataItem>\\n        <span> {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}</span>\\n    </ng-template>\\n\\n</div>\\n<br>\\n<div *ngIf=\\\"dataSourcedanhsachThuocBHYT.data.length>0 || dataSourcedanhsachThuocKhongBHYT.data.length>0\\\">\\n    <button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"GuiData()\\\" class=\\\"mr-1 float-right\\\" mat-raised-button>\\n        Xuất thuốc</button>\\n</div>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <div fxFlex=\\\"100%\\\" class=\\\"mt-3\\\">\\n        <span style=\\\"float: left;\\\" *ngIf=\\\"!(benhnhanThongTin.SoDuTaiKhoan > 0)\\\">\\n            <strong style=\\\"font-size: 14px;\\\">Số tiền cần thu của bệnh nhân: </strong>\\n            <strong style=\\\"color:red\\\">{{tongTien | number:'0.2-2':'vi-VN'}}</strong></span>\\n        <span style=\\\"float: left;\\\" *ngIf=\\\"benhnhanThongTin.SoDuTaiKhoan > 0\\\">\\n            <strong style=\\\"font-size: 14px;\\\">Số tiền cần thu của bệnh nhân: </strong>\\n            <strong style=\\\"color:red\\\">{{tongTien |number:'0.2-2':'vi-VN'}}</strong>\\n        </span>\\n        <!-- <span style=\\\"float: right;\\\">Tài khoản\\n            <strong style=\\\"color:green\\\">{{benhnhanThongTin.SoDuTaiKhoan |number:'0.2-2':'vi-VN'}}</strong>\\n        </span> -->\\n        <span style=\\\"float: right;\\\">\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"nguoiBenhKhongMuaThuoc()\\\"\\n                title=\\\"Phím tắt: Người bệnh không mua thuốc\\\">NB không mua thuốc</button>\\n        </span>\\n    </div>\\n    <div fxFlex=\\\"100%\\\">\\n        <kendo-splitter>           \\n            <kendo-splitter-pane [collapsible]=\\\"true\\\" size=\\\"18%\\\" class=\\\"sticky-panelbar\\\" style=\\\"overflow-x: hidden;\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                    class=\\\"px-2 py-3\\\" style=\\\"overflow:hidden;\\\">\\n                    <app-multiselect [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                        label=\\\"Hình thức thanh toán\\\" [(model)]=\\\"setDefeautTienMat\\\"\\n                        (valueChange)=\\\"ChangeHinhThucThanhToan($event)\\\" [data]=\\\"hinhThucThanhToan\\\"\\n                        [validationerror]=\\\"'HinhThucThanhToan' | validationerror:validationThuThuocErrors\\\"\\n                        required=\\\"true\\\">\\n                    </app-multiselect>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedTienMat\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"so-tien\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                        label=\\\"Tiền mặt\\\" [step]=\\\"100\\\" [(model)]=\\\"thongtinDonThuoc.TienMat\\\"\\n                        [(selectMoney)]=\\\"selectMoneyTienMat\\\" (modelChange)=\\\"modelChangeTienMat($event , 1)\\\" min=\\\"0\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'TienMat' | validationerror:validationThuThuocErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedChuyenKhoan\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"chuyen-khoan\\\" fxFlex=\\\"100%\\\"\\n                        fxFlex.sm=\\\"100%\\\" label=\\\"Chuyển khoản\\\" [step]=\\\"100\\\" [(model)]=\\\"thongtinDonThuoc.ChuyenKhoan\\\"\\n                        [(selectMoney)]=\\\"selectMoneyTienChuyenKhoan\\\" (modelChange)=\\\"modelChangeChuyenKhoan($event , 2)\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'ChuyenKhoan' | validationerror:validationThuThuocErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedPos\\\" [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\"\\n                        id=\\\"pos\\\" fxFlex=\\\"100%\\\" [(selectMoney)]=\\\"selectMoneyTienPos\\\"\\n                        (modelChange)=\\\"modelChangePos($event , 3)\\\" fxFlex.sm=\\\"100%\\\" label=\\\"POS\\\" [step]=\\\"100\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.POS\\\" [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'POS' | validationerror:validationThuThuocErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedSoTienCongNo\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"pos\\\" fxFlex=\\\"100%\\\"\\n                        [(selectMoney)]=\\\"selectMoneySoTienCongNo\\\" (modelChange)=\\\"modelChangeSoTienCongNo($event , 4)\\\"\\n                        fxFlex.sm=\\\"100%\\\" label=\\\"Công nợ\\\" [step]=\\\"100\\\" [(model)]=\\\"thongtinDonThuoc.SoTienCongNo\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'SoTienCongNo' | validationerror:validationThuThuocErrors\\\">\\n                    </app-textboxnumeric>\\n                    <p style=\\\"margin-top:-20px;\\\" *ngIf=\\\"showCanhBaoSoTienNhap\\\" class=\\\"color-red\\\">Số tiền nhập không đúng\\n                        số tiền thu.</p>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedTienMat\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"benh-nhan-dua\\\" fxFlex=\\\"100%\\\"\\n                        fxFlex.sm=\\\"100%\\\" label=\\\"Người bệnh đưa\\\" [step]=\\\"100\\\" [spinners]=\\\"false\\\"\\n                        [(selectMoney)]=\\\"selectMoneyTienBNDua\\\" (modelChange)=\\\"modelChangeTienBNDua($event)\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.BenhNhanDua\\\" (keyup)=\\\"onChangeBenhNhanDua()\\\" min=\\\"0\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'BenhNhanDua' | validationerror:validationThuThuocErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedTienMat\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"tra-lai\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                        label=\\\"Trả lại\\\" [(model)]=\\\"thongtinDonThuoc.TienTraLai\\\" [readonly]=\\\"true\\\" [spinners]=\\\"false\\\"\\n                        [isFormatCurrenly]=\\\"true\\\">\\n                    </app-textboxnumeric>\\n                    <app-datepicker id=\\\"ngay-thu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Ngày thu\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.NgayThu\\\" [readonly]=\\\"true\\\"\\n                        [validationerror]=\\\"'NgayThu' | validationerror:validationThuThuocErrors\\\">\\n                    </app-datepicker>\\n                    <app-textbox id=\\\"noi-dung-thu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Nội dung thu\\\" maxlength=\\\"1000\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.NoiDungThu\\\"\\n                        [validationerror]=\\\"'NoiDungThu' | validationerror:validationThuThuocErrors\\\" required=\\\"true\\\">\\n                    </app-textbox>\\n\\n                    <div fxFlex=\\\"100%\\\" fxLayout=\\\"row\\\" style=\\\"margin-right:10px;margin-top:15px;\\\"\\n                        fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"padding-thu-tien\\\" kendoTooltip>\\n                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"ThuTienVaXuatThuoc()\\\"\\n                            title=\\\"Phím tắt: Thu tiền và xuất thuốc\\\">Thu tiền và xuất thuốc</button>\\n                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"ThuTien()\\\"\\n                            title=\\\"Phím tắt: Ctrl + S\\\">Thu\\n                            tiền</button>\\n                    </div>\\n                </div>\\n            </kendo-splitter-pane>\\n            <kendo-splitter-pane>\\n                <kendo-tabstrip #tabStrip fxFlex=\\\"100%\\\" class=\\\"content-has-border\\\" style=\\\"padding: 5px !important\\\"\\n                    (tabSelect)=\\\"chuyenDen($event)\\\">\\n                    <kendo-tabstrip-tab [title]=\\\"'Chưa thu'\\\" [selected]=\\\"true\\\">\\n                        <ng-template kendoTabContent>\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                                style=\\\"padding: 4px; margin-top: -16px;\\\">\\n                                <app-combobox #duocPhamCombobox id=\\\"DuocPham\\\" fxFlex=\\\"55%\\\" fxFlex.sm=\\\"55%\\\"\\n                                    [required]=\\\"true\\\" [(model)]=\\\"themDuocPham.DuocPhamId\\\"\\n                                    [modelText]=\\\"themDuocPham.DuocPhamText\\\" label=\\\"Dược phẩm\\\"\\n                                    class=\\\"item-no-padding pb-0\\\" [template]=\\\"dichVuGiuongTemplate\\\"\\n                                    [templateHeader]=\\\"dichVuGiuongTemplateHeader\\\"\\n                                    (selectionChange)=\\\"onSelectDuocPham($event)\\\" url=\\\"QuayThuoc/GetDuocPham\\\"\\n                                    [validationerror]=\\\"'DuocPhamId' | validationerror:validationErrors\\\"\\n                                    [popupSettings]=\\\"{width: 900,popupClass:'item-no-padding'}\\\"\\n                                    (keyup)=\\\"onKeyEnterAddItem($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\">\\n                                    <ng-template #dichVuGiuongTemplateHeader let-dataItem>\\n                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                            <tr>\\n                                                <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Loại</th>\\n                                                <th width=\\\"20%\\\" style=\\\"text-align: left;\\\">Tên</th>\\n                                                <th width=\\\"10%\\\">Hàm lượng</th>\\n                                                <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Hoạt chất</th>\\n                                                <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">ĐVT</th>\\n                                                <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">ĐD</th>\\n                                                <th>NSX</th>\\n                                                <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Tồn</th>\\n                                                <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Hạn Sử Dụng</th>\\n                                            </tr>\\n                                        </table>\\n                                    </ng-template>\\n                                    <ng-template #dichVuGiuongTemplate let-dataItem>\\n                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                            <tr>\\n                                                <td width=\\\"10%\\\">{{dataItem.Loai}}</td>\\n                                                <td width=\\\"20%\\\">{{dataItem.Ten}}</td>\\n                                                <td width=\\\"10%\\\">{{dataItem.HamLuong}}</td>\\n                                                <td width=\\\"10%\\\">{{dataItem.HoatChat}}</td>\\n                                                <td width=\\\"10%\\\">{{dataItem.DonViTinh}}</td>\\n                                                <td width=\\\"10%\\\">{{dataItem.DuongDung}}</td>\\n                                                <td>{{dataItem.NhaSanXuat}}</td>\\n                                                <td width=\\\"10%\\\" style=\\\"text-align: center;\\\">{{dataItem.SoLuongTon |\\n                                                    number }}</td>\\n                                                <td width=\\\"10%\\\" style=\\\"text-align: left;\\\">{{dataItem.HanSuDung}}\\n                                                </td>\\n                                            </tr>\\n                                        </table>\\n                                    </ng-template>\\n                                </app-combobox>\\n                                <app-textboxnumeric class=\\\"pb-0\\\" label=\\\"Số lượng tồn\\\" fxFlex=\\\"15%\\\"\\n                                    [(model)]=\\\"themDuocPham.SoLuongTon\\\" disabled=\\\"true\\\" moreClass=\\\"text-green bold\\\">\\n                                </app-textboxnumeric>\\n                                <app-textboxnumeric class=\\\"pb-0\\\" fxFlex=\\\"15%\\\" label=\\\"Số lượng\\\"\\n                                    [(model)]=\\\"themDuocPham.SoLuong\\\" [required]=\\\"true\\\"\\n                                    [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\" min=\\\"1\\\"\\n                                    (keyup)=\\\"onKey($event)\\\">\\n                                </app-textboxnumeric>\\n                                <div fxFlex=\\\"10%\\\" class=\\\"mt-5\\\">\\n                                    <button type=\\\"button\\\" color=\\\"primary\\\" class=\\\"mr-1\\\" (click)=\\\"themThuoc()\\\"\\n                                        mat-raised-button>Thêm</button>\\n                                </div>\\n                            </div>\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                                <kendo-grid fxFlex=\\\"100%\\\" [data]=\\\"gridData\\\" [resizable]=\\\"true\\\"\\n                                    [kendoGridSelectBy]=\\\"keySelectBy\\\" [selectable]=\\\"{enabled: true, checkboxOnly: true}\\\"\\n                                    class=\\\"header-center header-small\\\">\\n                                    <kendo-grid-checkbox-column width=\\\"51\\\">\\n                                        <ng-template kendoGridHeaderTemplate>\\n                                            <input class=\\\"k-checkbox\\\" id=\\\"selectAllCheckboxId\\\"\\n                                                kendoGridSelectAllCheckbox [state]=\\\"selectAllState\\\"\\n                                                (selectAllChange)=\\\"onSelectAllChange($event)\\\">\\n                                            <label class=\\\"k-checkbox-label\\\" for=\\\"selectAllCheckboxId\\\"></label>\\n                                        </ng-template>\\n\\n                                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                            <div>\\n                                                <input class=\\\"k-checkbox\\\" id=\\\"selectCheckboxId{{dataItem[keySelectBy]}}\\\"\\n                                                    type=\\\"checkbox\\\" kendoCheckBox [(ngModel)]=\\\"dataItem.CheckedDefault\\\"\\n                                                    (change)=\\\"onSelectChangeCheckbox($event,dataItem[keySelectBy])\\\" />\\n                                                <label class=\\\"k-checkbox-label\\\"\\n                                                    for=\\\"selectCheckboxId{{dataItem[keySelectBy]}}\\\"\\n                                                    [style.display]=\\\"'block'\\\"></label>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-grid-checkbox-column>\\n                                    <kendo-grid-column field=\\\"STT\\\" title=\\\"#\\\" width=\\\"59\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"TenDuocPham\\\" title=\\\"Tên Thuốc-Vật Tư\\\" width=\\\"143\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n                                            <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\"\\n                                                class=\\\"mt-2\\\" kendoTooltip>\\n                                                <span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.TenDuocPham}}\\\">\\n                                                    {{dataItem.TenDuocPham}}\\n                                                </span>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"NongDoVaHamLuong\\\" title=\\\"Nồng Độ/Hàm Lượng\\\" width=\\\"80\\\"\\n                                        [hidden]=\\\"loaiYeuCauTiepNhanKhachVangLai\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n                                        [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n                                            <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\"\\n                                                class=\\\"mt-2\\\" kendoTooltip>\\n                                                <span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.NongDoVaHamLuong}}\\\">\\n                                                    {{dataItem.NongDoVaHamLuong}}\\n                                                </span>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"MaHoatChat\\\" title=\\\"Hoạt Chất\\\" width=\\\"100\\\"\\n                                        [hidden]=\\\"loaiYeuCauTiepNhanKhachVangLai\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n                                        [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n                                            <span style=\\\"color: black;font-size: 14px;font-weight: bold\\\">Tổng\\n                                                cộng:</span>\\n                                        </ng-template>\\n                                        <ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n                                            <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\"\\n                                                class=\\\"mt-2\\\" kendoTooltip>\\n                                                <span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.MaHoatChat}}\\\">\\n                                                    {{dataItem.MaHoatChat}}\\n                                                </span>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"DonViTinh\\\" title=\\\"ĐVT\\\" width=\\\"40\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n                                            <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\"\\n                                                class=\\\"mt-2\\\" kendoTooltip>\\n                                                <span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.DonViTinh}}\\\">\\n                                                    {{dataItem.DonViTinh}}\\n                                                </span>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"SoLuongToa\\\" title=\\\"SL Toa\\\" width=\\\"78\\\"\\n                                        [hidden]=\\\"loaiYeuCauTiepNhanKhachVangLai\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n                                        [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"SoLuongMua\\\" title=\\\"SL Mua\\\" width=\\\"95\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                            <app-textboxnumeric class=\\\"no-label numeric-in-grid\\\"\\n                                                [disabled]=\\\"!dataItem.CheckedDefault\\\"\\n                                                (modelChange)=\\\"modelChangeSoLuongMua($event , dataItem)\\\"\\n                                                [(model)]=\\\"dataItem.SoLuongMua\\\">\\n                                            </app-textboxnumeric>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"DonGia\\\" title=\\\"Đơn Giá\\\" width=\\\"90\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                            <div>{{ dataItem.DonGia | number:'0.2-2':'vi-VN'}}</div>\\n                                        </ng-template>\\n                                        <ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n                                            <span style=\\\"color: black;font-size: 14px;font-weight: bold\\\"\\n                                                *ngIf=\\\"loaiYeuCauTiepNhanKhachVangLai\\\">Tổng\\n                                                cộng:</span>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"ThanhTien\\\" title=\\\"Thành Tiền\\\" width=\\\"90\\\"\\n                                        [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                            <div style=\\\"float: right;\\\">{{ dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n                                            </div>\\n                                        </ng-template>\\n                                        <!-- <ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\"\\n                                            style=\\\"text-align: center\\\">\\n                                            <span style=\\\"float: right;\\\">{{total('ThanhTien') |\\n                                                number:'0.2-2':'vi-VN'}} 654</span>\\n                                        </ng-template> -->\\n                                        <ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n                                            <span style=\\\"color:red;float: right;\\\"\\n                                                *ngIf=\\\"loaiYeuCauTiepNhanKhachVangLai\\\">{{total('ThanhTien') |\\n                                                number:'0.2-2':'vi-VN'}}</span>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column-group [style]=\\\"{'text-align': 'center'}\\\"\\n                                        *ngFor=\\\"let col of danhSachCongNoChoThus\\\"\\n                                        [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <div>\\n                                            <ng-template kendoGridHeaderTemplate let-columnIndex=\\\"columnIndex\\\"\\n                                                let-column=\\\"column\\\">\\n                                                <div class=\\\"text-center\\\">Công nợ </div>\\n                                            </ng-template>\\n                                        </div>\\n                                        <kendo-grid-column *ngFor=\\\"let col1 of col.CongNoChoThus\\\" width=\\\"150\\\"\\n                                            [style]=\\\"{'text-align': 'center'}\\\" title=\\\"{{col1.TenCongTy}}\\\"\\n                                            [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                            <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"5px grid\\\"\\n                                                    fxLayoutGap.lt-sm=\\\"0\\\" fxLayoutAlign=\\\"space-between\\\">\\n                                                    <app-textboxnumeric class=\\\"no-label\\\" [step]=\\\"100\\\" decimals=\\\"2\\\"\\n                                                        [format]=\\\"format\\\" min=\\\"0.00\\\"\\n                                                        (modelChange)=\\\"modelChangeCongNo($event , dataItem, col1.ViTri)\\\"\\n                                                        [(model)]=\\\"dataItem.DanhSachCongNoChoThus[col1.ViTri].SoTienCongNoChoThu\\\">\\n                                                    </app-textboxnumeric>\\n                                                </div>\\n                                            </ng-template>\\n                                            <ng-template kendoGridGroupFooterTemplate>\\n                                                <div *ngIf=\\\"col1.SoTienCongNoChoThu !== 0\\\">\\n                                                    {{col1.SoTienCongNoChoThu | number:'0.2-2':'vi-VN'}}\\n                                                </div>\\n                                                <div\\n                                                    *ngIf=\\\"col1.SoTienCongNoChoThu === undefined && col1.SoTienCongNoChoThu === 0\\\">\\n                                                    {{0 | number:'0.2-2':'vi-VN'}}\\n                                                </div>\\n                                            </ng-template>\\n                                            <ng-template kendoGridFooterTemplate let-column\\n                                                let-columnIndex=\\\"columnIndex\\\" style=\\\"text-align: center\\\">\\n                                                <span style=\\\"color:black;float: right;\\\">{{totalCongno(col1.ViTri) |\\n                                                    number:'0.2-2':'vi-VN'}}</span>\\n                                            </ng-template>\\n                                        </kendo-grid-column>\\n                                    </kendo-grid-column-group>\\n                                    <kendo-grid-column field=\\\"SoTienMG\\\" title=\\\"Số tiền MG\\\" width=\\\"130\\\"\\n                                        [hidden]=\\\"loaiYeuCauTiepNhanKhachVangLai\\\"\\n                                        [headerStyle]=\\\"{'text-align': 'center'}\\\" [style]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridHeaderTemplate let-columnIndex=\\\"columnIndex\\\"\\n                                            let-column=\\\"column\\\">\\n                                            Số tiền MG\\n                                            <mat-icon style=\\\"margin-top: 10px;cursor: pointer\\\" [icIcon]=\\\"icRoundEdit\\\"\\n                                                (click)=\\\"apDungMiemGiamThem()\\\">\\n                                            </mat-icon>\\n                                        </ng-template>\\n                                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                            <div class=\\\"float_right\\\">\\n                                                <div style=\\\"cursor: pointer;\\\">\\n                                                    {{ dataItem.SoTienMG | number:'0.2-2':'vi-VN'}}\\n                                                    <ic-icon [icon]=\\\"icRoundEdit\\\" class=\\\"mr-3\\\" inline=\\\"true\\\"\\n                                                        (click)=\\\"apDungMiemGiamChoTungDichVu(dataItem)\\\">\\n                                                    </ic-icon>\\n                                                </div>\\n                                            </div>\\n                                        </ng-template>\\n                                        <ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\"\\n                                            let-aggregates=\\\"aggregates\\\">\\n                                            <div style=\\\"margin-right: 28px;\\\" class=\\\"float_right\\\">\\n                                                {{aggregates.SoTienMG.sum |number:'0.2-2':'vi-VN'}}\\n                                            </div>\\n                                        </ng-template>\\n                                        <ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n                                            <span style=\\\"margin-right: 28px;\\\" class=\\\"float_right\\\">{{total('SoTienMG') |\\n                                                number:'0.2-2':'vi-VN'}}</span>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"BNConPhaiThanhToan\\\" title=\\\"BN Còn Phải TT\\\" width=\\\"90\\\"\\n                                        [hidden]=\\\"loaiYeuCauTiepNhanKhachVangLai\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                            <div *ngIf=\\\"dataItem.BNConPhaiThanhToan >= 0\\\">\\n                                                <span style=\\\"float: right;\\\">{{dataItem.BNConPhaiThanhToan |\\n                                                    number:'0.2-2':'vi-VN'}}</span>\\n                                            </div>\\n                                            <div *ngIf=\\\"dataItem.BNConPhaiThanhToan < 0\\\" style=\\\"color:red;float: right\\\">\\n                                                {{ dataItem.BNConPhaiThanhToan | number:'0.2-2':'vi-VN'}}\\n                                                <mat-icon [icIcon]=\\\"icInfo\\\" kendoTooltip\\n                                                    title=\\\"Số tiền bạn nhập không đúng.\\\">\\n                                                </mat-icon>\\n                                            </div>\\n                                        </ng-template>\\n                                        <ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n                                            <span style=\\\"color:red;float: right;\\\">{{total('BNConPhaiThanhToan') |\\n                                                number:'0.2-2':'vi-VN'}}</span>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"Solo\\\" title=\\\"Số Lô\\\" width=\\\"125\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"HanSuDungHientThi\\\" title=\\\"Hạn Sử Dụng\\\" width=\\\"80\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"BacSiKeToa\\\" title=\\\"Bác Sĩ Kê Toa\\\" width=\\\"80\\\"\\n                                        [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\"\\n                                        [hidden]=\\\"loaiYeuCauTiepNhanKhachVangLai\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n                                            <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\"\\n                                                class=\\\"mt-2\\\" kendoTooltip>\\n                                                <span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.BacSiKeToa}}\\\">\\n                                                    {{dataItem.BacSiKeToa}}\\n                                                </span>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-column field=\\\"Action\\\" title=\\\"\\\" width=\\\"54\\\"\\n                                        [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n                                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                                            <button type=\\\"button\\\" mat-icon-button (click)=\\\"delete(dataItem)\\\"\\n                                                *ngIf=\\\"dataItem.isNew\\\">\\n                                                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                            </button>\\n                                        </ng-template>\\n                                    </kendo-grid-column>\\n                                    <kendo-grid-messages noRecords=\\\"Không có dữ liệu.\\\" pagerOf=\\\"trong số\\\"\\n                                        pagerItems=\\\"dòng\\\" detailExpand=\\\"Mở rộng chi tiết\\\"\\n                                        detailCollapse=\\\"Thu gọn chi tiết\\\">\\n                                    </kendo-grid-messages>\\n                                </kendo-grid>\\n                            </div>\\n                        </ng-template>\\n                    </kendo-tabstrip-tab>\\n                    <kendo-tabstrip-tab [title]=\\\"'Đã thu'\\\">\\n                        <ng-template kendoTabContent>\\n                            <app-thong-tin-phieu-da-thu [yeuCauTiepNhanId]=\\\"maYCTNId\\\"></app-thong-tin-phieu-da-thu>\\n                        </ng-template>\\n                    </kendo-tabstrip-tab>\\n                </kendo-tabstrip>\\n            </kendo-splitter-pane>\\n        </kendo-splitter>\\n    </div>\\n</div>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <div fxFlex=\\\"100%\\\" class=\\\"mt-3\\\">\\n        <span style=\\\"float: left;\\\">Số tiền <strong  style=\\\"color:red\\\">{{tongTien | number:'0.2-2':'vi-VN'}}</strong></span>\\n    </div>\\n    <div fxFlex=\\\"100%\\\">\\n        <kendo-splitter>\\n            <kendo-splitter-pane [collapsible]=\\\"true\\\" size=\\\"18%\\\" class=\\\"sticky-panelbar\\\" style=\\\"overflow-x: hidden;\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                    class=\\\"px-2 py-3\\\" style=\\\"overflow:hidden;\\\">\\n                    <app-multiselect [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                        label=\\\"Hình thức thanh toán\\\" [(model)]=\\\"setDefeautTienMat\\\"\\n                        (valueChange)=\\\"ChangeHinhThucThanhToan($event)\\\" [data]=\\\"hinhThucThanhToan\\\"\\n                        [validationerror]=\\\"'HinhThucThanhToan' | validationerror:validationErrors\\\"\\n                        required=\\\"true\\\">\\n                    </app-multiselect>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedTienMat\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"so-tien\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                        label=\\\"Tiền mặt\\\" [step]=\\\"100\\\" [(model)]=\\\"thongtinDonThuoc.TienMat\\\"\\n                        [(selectMoney)]=\\\"selectMoneyTienMat\\\" (modelChange)=\\\"modelChangeTienMat($event , 1)\\\" min=\\\"0\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'TienMat' | validationerror:validationErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedChuyenKhoan\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"chuyen-khoan\\\" fxFlex=\\\"100%\\\"\\n                        fxFlex.sm=\\\"100%\\\" label=\\\"Chuyển khoản\\\" [step]=\\\"100\\\" [(model)]=\\\"thongtinDonThuoc.ChuyenKhoan\\\"\\n                        [(selectMoney)]=\\\"selectMoneyTienChuyenKhoan\\\" (modelChange)=\\\"modelChangeChuyenKhoan($event , 2)\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'ChuyenKhoan' | validationerror:validationErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedPos\\\" [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\"\\n                        id=\\\"pos\\\" fxFlex=\\\"100%\\\" [(selectMoney)]=\\\"selectMoneyTienPos\\\"\\n                        (modelChange)=\\\"modelChangePos($event , 3)\\\" fxFlex.sm=\\\"100%\\\" label=\\\"POS\\\" [step]=\\\"100\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.POS\\\" [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'POS' | validationerror:validationErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedSoTienCongNo\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"pos\\\" fxFlex=\\\"100%\\\"\\n                        [(selectMoney)]=\\\"selectMoneySoTienCongNo\\\" (modelChange)=\\\"modelChangeSoTienCongNo($event , 4)\\\"\\n                        fxFlex.sm=\\\"100%\\\" label=\\\"Công nợ\\\" [step]=\\\"100\\\" [(model)]=\\\"thongtinDonThuoc.SoTienCongNo\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'SoTienCongNo' | validationerror:validationErrors\\\">\\n                    </app-textboxnumeric>\\n                    <!-- <p style=\\\"margin-top:-20px;\\\" *ngIf=\\\"showCanhBaoSoTienNhap\\\" class=\\\"color-red\\\">\\n                        Số tiền nhập không đúng số tiền thu.</p> -->\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedTienMat\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"benh-nhan-dua\\\" fxFlex=\\\"100%\\\"\\n                        fxFlex.sm=\\\"100%\\\" label=\\\"Người bệnh đưa\\\" [step]=\\\"100\\\" [spinners]=\\\"false\\\"\\n                        [(selectMoney)]=\\\"selectMoneyTienBNDua\\\" (modelChange)=\\\"modelChangeTienBNDua($event)\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.BenhNhanDua\\\" (keyup)=\\\"onChangeBenhNhanDua()\\\" min=\\\"0\\\"\\n                        [isFormatCurrenly]=\\\"true\\\"\\n                        [validationerror]=\\\"'BenhNhanDua' | validationerror:validationErrors\\\">\\n                    </app-textboxnumeric>\\n                    <app-textboxnumeric *ngIf=\\\"flagCheckSeletedTienMat\\\"\\n                        [style.display]=\\\"tongTien < 0 ? 'none' : 'block'\\\" id=\\\"tra-lai\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                        label=\\\"Trả lại\\\" [(model)]=\\\"thongtinDonThuoc.TienTraLai\\\" [readonly]=\\\"true\\\" [spinners]=\\\"false\\\"\\n                        [isFormatCurrenly]=\\\"true\\\">\\n                    </app-textboxnumeric>\\n                    <app-datepicker id=\\\"ngay-thu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Ngày thu\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.NgayThu\\\" [readonly]=\\\"true\\\"\\n                        [validationerror]=\\\"'NgayThu' | validationerror:validationErrors\\\">\\n                    </app-datepicker>\\n                    <app-textbox id=\\\"noi-dung-thu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Nội dung thu\\\" maxlength=\\\"1000\\\"\\n                        [(model)]=\\\"thongtinDonThuoc.NoiDungThu\\\"\\n                        [validationerror]=\\\"'NoiDungThu' | validationerror:validationErrors\\\" required=\\\"true\\\">\\n                    </app-textbox>\\n                    <div fxFlex=\\\"100%\\\" fxLayout=\\\"row\\\" style=\\\"margin-right:10px;margin-top:15px;\\\"\\n                        fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"padding-thu-tien\\\" kendoTooltip>\\n                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"ThuTienVaXuatThuoc()\\\"\\n                            title=\\\"Phím tắt: Thu tiền và xuất thuốc\\\">Thu tiền và xuất thuốc</button>\\n                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"ThuTien()\\\"\\n                            title=\\\"Phím tắt: Ctrl + S\\\">Thu\\n                            tiền</button>\\n                    </div>\\n                </div>\\n            </kendo-splitter-pane>\\n            <kendo-splitter-pane style=\\\"overflow:hidden;\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px \\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                    <app-grid #gridDanhSachMuaThuoc masterName=\\\"MuaThuoc\\\" [documentType]=\\\"documentType\\\" fxFlex=\\\"100%\\\"\\n                        [gridColumns]=\\\"gridColumns\\\" [gridDataSource]=\\\"dataSourcedanhsachThuoc\\\" [autoHeight]=\\\"true\\\"\\n                        [lazyLoadPage]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [useAddDeault]=\\\"false\\\"\\n                        [headerTemplate]=\\\"headerTemplate\\\" [useHeaderDefault]=\\\"false\\\" [allowSortDefault]=\\\"false\\\"\\n                        [pageable]=\\\"false\\\" useActionDefault=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\">\\n                    </app-grid>\\n                    <ng-template #donGiaTemplate let-dataItem>\\n                        <span *ngIf=\\\"dataItem.DonGia != null\\\">{{dataItem.DonGia | number:'0.2-2':'vi-VN'}}</span>\\n                        <span *ngIf=\\\"dataItem.DonGia == null\\\">{{0| number:'0.2-2':'vi-VN'}}</span>\\n                    </ng-template>\\n                    <ng-template #thanhTienTemplate let-dataItem>\\n                        <span>{{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}</span>\\n                    </ng-template>\\n                    <ng-template #footerTemplateDonGia let-dataItem> <span style=\\\"float: right;\\\">Tổng:</span>\\n                    </ng-template>\\n                    <ng-template #footerTemplateTongTienDonThuoc let-dataItem>\\n                        <span style=\\\"color:red\\\">{{tongTienHienThi | number:'0.2-2':'vi-VN'}}</span>\\n                    </ng-template>\\n                    <ng-template #soLuonTemplate let-dataItem>\\n                        <!-- <span >{{dataItem.SoLuongMua | number}}</span> -->\\n                        <app-textboxnumeric class=\\\"no-label numeric-in-grid\\\"\\n                        [disabled]=\\\"!dataItem.CheckedDefault\\\"\\n                        (modelChange)=\\\"modelChangeSoLuongMua($event , dataItem)\\\"\\n                        [(model)]=\\\"dataItem.SoLuongMua\\\">\\n                    </app-textboxnumeric>\\n                    </ng-template>\\n                    <ng-template #headerTemplate>\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                            class=\\\"px-2 py-3\\\">\\n                            <app-combobox #duocphamCombobox id=\\\"DuocPham\\\" fxFlex=\\\"55%\\\" fxFlex.sm=\\\"55%\\\"\\n                                [(model)]=\\\"themDuocPham.DuocPhamId\\\" [required]=\\\"true\\\"\\n                                (selectionChange)=\\\"onSelectDuocPham($event)\\\" [modelText]=\\\"themDuocPham.DuocPhamText\\\"\\n                                label=\\\"Dược phẩm\\\" class=\\\"item-no-padding\\\" [template]=\\\"dichVuGiuongTemplate\\\"\\n                                [templateHeader]=\\\"dichVuGiuongTemplateHeader\\\" url=\\\"QuayThuoc/GetDuocPham\\\"\\n                                [popupSettings]=\\\"{width: 900,popupClass:'item-no-padding'}\\\"\\n                                [validationerror]=\\\"'DuocPhamId' | validationerror:validationThuocErrors\\\"\\n                                (keyup)=\\\"onKeyEnterAddItem($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\">\\n                                <ng-template #dichVuGiuongTemplateHeader let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Loại</th>\\n                                            <th width=\\\"20%\\\" style=\\\"text-align: left;\\\">Tên</th>\\n                                            <th width=\\\"10%\\\">Hàm lượng</th>\\n                                            <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Hoạt chất</th>\\n                                            <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">ĐVT</th>\\n                                            <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Đường dùng</th>\\n                                            <th>NSX</th>\\n                                            <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">Tồn</th>\\n                                            <th width=\\\"10%\\\" style=\\\"text-align: left;\\\">HSD</th>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                                <ng-template #dichVuGiuongTemplate let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <td width=\\\"10%\\\">{{dataItem.Loai}}</td>\\n                                            <td width=\\\"20%\\\">{{dataItem.Ten}}</td>\\n                                            <td width=\\\"10%\\\">{{dataItem.HamLuong}}</td>\\n                                            <td width=\\\"10%\\\">{{dataItem.HoatChat}}</td>\\n                                            <td width=\\\"10%\\\">{{dataItem.DonViTinh}}</td>\\n                                            <td width=\\\"10%\\\">{{dataItem.DuongDung}}</td>\\n                                            <td>{{dataItem.NhaSanXuat}}</td>\\n                                            <td width=\\\"10%\\\" style=\\\"text-align: center;\\\">\\n                                                {{dataItem.SoLuongTon | number }}</td>\\n                                            <td width=\\\"10%\\\" style=\\\"text-align: left;\\\">{{dataItem.HanSuDung}}</td>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                            </app-combobox>\\n\\n                            <app-textboxnumeric label=\\\"Số lượng tồn\\\" fxFlex=\\\"15%\\\" [(model)]=\\\"themDuocPham.SoLuongTon\\\"\\n                                disabled=\\\"true\\\" moreClass=\\\"text-green bold\\\">\\n                            </app-textboxnumeric>\\n                            <app-textboxnumeric fxFlex=\\\"15%\\\" label=\\\"Số lượng\\\" [(model)]=\\\"themDuocPham.SoLuong\\\"\\n                                [required]=\\\"true\\\" [validationerror]=\\\"'SoLuong' | validationerror:validationThuocErrors\\\"\\n                                (keyup)=\\\"onKey($event)\\\">\\n                            </app-textboxnumeric>\\n                            <div fxFlex=\\\"10%\\\" class=\\\"mt-5\\\">\\n                                <button type=\\\"button\\\" color=\\\"primary\\\" class=\\\"mr-1\\\" (click)=\\\"them1()\\\"\\n                                    mat-raised-button>Thêm</button>\\n                            </div>\\n\\n                        </div>\\n                    </ng-template>\\n                    <ng-template #actionTemplate let-dataItem>\\n                        <div class=\\\"text-center\\\" *ngIf=\\\"dataItem.LoaiDonThuoc === 1\\\">\\n                            <p style=\\\"color: red\\\">\\n                                <mat-icon [icIcon]=\\\"icInfo\\\" class=\\\"mt-4\\\" kendoTooltip\\n                                    title=\\\"Thuốc bảo hiểm y tế không có trong kho.\\\">\\n                                </mat-icon>\\n                            </p>\\n                        </div>\\n                        <div class=\\\"text-center\\\" *ngIf=\\\"dataItem.ThuocTrongKhoExit == true\\\">\\n                            <p style=\\\"color: red\\\">\\n                                <mat-icon [icIcon]=\\\"icInfo\\\" class=\\\"mt-4\\\" kendoTooltip title=\\\"Thuốc trong kho đã hết.\\\">\\n                                </mat-icon>\\n                            </p>\\n                        </div>\\n                        <div class=\\\"text-center\\\" kendoTooltip *ngIf=\\\"dataItem.isNew==true\\\">\\n                            <button type=\\\"button\\\" mat-icon-button (click)=\\\"delete(dataItem)\\\">\\n                                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                            </button>\\n                        </div>\\n                    </ng-template>\\n\\n                </div>\\n            </kendo-splitter-pane>\\n        </kendo-splitter>\\n    </div>\\n</div>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <app-grid [gridColumns]=\\\"gridColumns\\\" [gridDataSource]=\\\"dataSourcedanhsachThuoc\\\" [autoHeight]=\\\"true\\\"\\n        [lazyLoadPage]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n        [allowSortDefault]=\\\"false\\\" [pageable]=\\\"false\\\" useActionDefault=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n        [lazyLoadPage]=\\\"true\\\">\\n    </app-grid>\\n</div>\\n<br>\\n<div *ngIf=\\\"dataSourcedanhsachThuoc.data.length>0\\\">\\n    <button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"GuiData()\\\" class=\\\"mr-1 float-right\\\" mat-raised-button>\\n        Xuất thuốc</button>\\n</div>\"","export default \"<div class=\\\"row\\\">\\n    <fieldset fxFlex=\\\"100%\\\" *ngIf=\\\"data != null\\\">\\n        <legend>THÔNG TIN HÀNH CHÍNH</legend>\\n        <div fxFlex=\\\"100%\\\">\\n            <ul class=\\\"inline\\\">\\n                <!-- <li>Mã TN:\\n                    <strong>{{data.MaTN}}</strong>\\n                </li> -->\\n                <li>Mã NB:\\n                    <strong>{{data.MaBN}}</strong>\\n                </li>\\n                <li>Họ tên:\\n                    <strong>{{data.HoTen}}</strong>\\n                </li>\\n                <li>Giới tính:\\n                    <strong>{{data.GioiTinhHienThi}}</strong>\\n                </li>\\n                <li>Năm sinh:\\n                    <strong>{{data.NamSinh}}</strong>\\n                </li>\\n                <li>Địa chỉ:\\n                    <strong>{{data.DiaChiDayDu}}</strong>\\n                </li>\\n\\n                <li>SĐT:\\n                    <strong>{{data.SoDienThoai}}</strong>\\n                </li>\\n                <li>Email:\\n                    <strong>{{data.Email}}</strong>\\n                </li>\\n            </ul>\\n        </div>\\n    </fieldset>\\n\\n\\n    <fieldset fxFlex=\\\"100%\\\" *ngIf=\\\"data == null\\\">\\n        <legend>THÔNG TIN HÀNH CHÍNH</legend>\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n            fxLayoutAlign=\\\"space-between\\\">\\n            <app-textbox id=\\\"Ten\\\" fxFlex=\\\"14%\\\" fxFlex.sm=\\\"14%\\\" maxlength=\\\"100\\\" [(model)]=\\\"thongTinBenhNhan.HoTen\\\" class=\\\"text-transform-uppercase\\\"\\n                [required]=\\\"true\\\" (modelChange)=\\\"onSaveTen()\\\" label=\\\"Họ tên\\\"\\n                [validationerror]=\\\"'HoTen' | validationerror:validationErrors\\\">\\n            </app-textbox>\\n\\n            <app-radio id=\\\"GioiTinh\\\" label=\\\"Giới tính\\\" fxFlex=\\\"11%\\\" fxFlex.sm=\\\"11%\\\"\\n                (modelChange)=\\\"onSaveGioiTinh($event)\\\" [(model)]=\\\"thongTinBenhNhan.GioiTinh\\\"\\n                [items]=\\\"[{Value:1,Text:'Nam'},{Value:2,Text:'Nữ'}]\\\">\\n            </app-radio>\\n\\n            <app-textboxnumeric id=\\\"NamSinh\\\" fxFlex=\\\"12.5%\\\" fxFlex.sm=\\\"12.5%\\\" label=\\\"Năm sinh\\\" [format]=\\\"'0'\\\"\\n                (modelChange)=\\\"onSaveNamSinh($event)\\\" [(model)]=\\\"thongTinBenhNhan.NamSinh\\\" [max]=\\\"9999\\\"\\n                [validationerror]=\\\"'NamSinh' | validationerror:validationErrors\\\">\\n            </app-textboxnumeric>\\n\\n            <!-- <app-textbox id=\\\"SDT\\\" fxFlex=\\\"12.5%\\\" fxFlex.sm=\\\"12.5%\\\" maxlength=\\\"12\\\" (modelChange)=\\\"onSaveSDT($event)\\\"\\n                [(model)]=\\\"thongTinBenhNhan.SoDienThoai\\\" label=\\\"Điện thoại\\\">\\n            </app-textbox> -->\\n            <app-textboxmask id=\\\"SDT\\\" onlynumber=\\\"true\\\" fxFlex=\\\"12.5%\\\" fxFlex.sm=\\\"12.5%\\\" label=\\\"Số điện thoại\\\" (modelChange)=\\\"onSaveSDT($event)\\\"\\n                 maxlength=\\\"10\\\" [(model)]=\\\"thongTinBenhNhan.SoDienThoai\\\" mask=\\\"000 000 0000\\\">\\n            </app-textboxmask>\\n            <app-combobox id=\\\"TinhThanhPho\\\" fxFlex=\\\"12.5%\\\" fxFlex.sm=\\\"12.5%\\\" (modelChange)=\\\"TinhThanhPhoChange($event)\\\"\\n                label=\\\"Tỉnh/Thành Phố\\\" url=\\\"QuayThuoc/GetTinhThanh\\\" hierarchyKeyToSend=\\\"tinhThanh\\\"\\n                [(model)]=\\\"thongTinBenhNhan.TinhThanhId\\\"  [modelText]=\\\"thongTinBenhNhan.TenTinhDisplay\\\" bind =\\\"true\\\" class=\\\"item-no-padding\\\" [template]=\\\"tinhThanhTemplate\\\"\\n                [templateHeader]=\\\"tinhThanhTemplateHeader\\\">\\n                <ng-template #tinhThanhTemplateHeader let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <th width=\\\"20%\\\">Mã</th>\\n                            <th>Tên</th>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n                <ng-template #tinhThanhTemplate let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                            <td>{{dataItem.Ten}}</td>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n            </app-combobox>\\n\\n            <app-combobox id=\\\"QuanHuyen\\\" fxFlex=\\\"12.5%\\\" fxFlex.sm=\\\"12.5%\\\" label=\\\"Quận/Huyện\\\"\\n                (modelChange)=\\\"QuanHuyenChange($event)\\\" [modelText]=\\\"thongTinBenhNhan.TenHuyenDisplay\\\" url=\\\"QuayThuoc/GetQuanHuyen\\\" hierarchyKeyToListen=\\\"tinhThanh\\\"\\n                hierarchyKeyToSend=\\\"quanHuyen\\\" [(model)]=\\\"thongTinBenhNhan.QuanHuyenId\\\" class=\\\"item-no-padding\\\" bind =\\\"true\\\"\\n                [template]=\\\"quanHuyenTemplate\\\" [templateHeader]=\\\"quanHuyenTemplateHeader\\\">\\n                <ng-template #quanHuyenTemplateHeader let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <th width=\\\"20%\\\">Mã</th>\\n                            <th>Tên</th>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n                <ng-template #quanHuyenTemplate let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                            <td>{{dataItem.Ten}}</td>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n            </app-combobox>\\n\\n            <app-combobox id=\\\"PhuongXa\\\" fxFlex=\\\"12.5%\\\" fxFlex.sm=\\\"12.5%\\\" label=\\\"Phường/Xã\\\" url=\\\"QuayThuoc/GetPhuongXa\\\"\\n                hierarchyKeyToListen=\\\"quanHuyen\\\" (modelChange)=\\\"PhuongXaChange($event)\\\" \\n                [(model)]=\\\"thongTinBenhNhan.PhuongXaId\\\" class=\\\"item-no-padding\\\" [template]=\\\"phuongXaTemplate\\\"\\n                [templateHeader]=\\\"phuongXaTemplateHeader\\\">\\n                <ng-template #phuongXaTemplateHeader let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <th width=\\\"20%\\\">Mã</th>\\n                            <th>Tên</th>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n                <ng-template #phuongXaTemplate let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                            <td>{{dataItem.Ten}}</td>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n            </app-combobox>\\n\\n            <app-textbox id=\\\"DiaChi\\\" fxFlex=\\\"12.5%\\\" fxFlex.sm=\\\"12.5%\\\" maxlength=\\\"200\\\"\\n                (modelChange)=\\\"onSaveDiaChi($event)\\\" [(model)]=\\\"thongTinBenhNhan.DiaChi\\\" label=\\\"Địa chỉ\\\">\\n            </app-textbox>\\n        </div>\\n    </fieldset>\\n</div>\"","export default \"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-16\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <vex-breadcrumbs [crumbs]=\\\"\\n                    [\\n                    {Title:'Nhà Thuốc',Path:''},\\n                    {Title:'Khách vãng lai',Path:'/nha-thuoc', Active:true}\\n                    ]\\\">\\n            </vex-breadcrumbs>\\n            <app-hot-key [keys]=\\\"[\\n            {Key:'Ctrl + F1',Description:'Di chuyển tới và mở tab Mua thuốc'},\\n            {Key:'Ctrl + F2',Description:'Di chuyển tới và mở tab Chờ xuất thuốc'},\\n            {Key:'Ctrl + S',Description:'Thu tiền'},\\n            {Key:'Esc',Description:'Quay lại', End:true}\\n            ]\\\"></app-hot-key>\\n        </div>\\n    </vex-page-layout-header>\\n\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div class=\\\"-mt-16\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n                <div class=\\\"card\\\" fxFlex=\\\"100%\\\">\\n                    <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\">\\n                        <app-quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh (valueChange)=\\\"switchValueChanges($event)\\\"\\n                            [validationErrors]=\\\"validationErrorForThongTin\\\" [donThuocId]=\\\"donThuocIds\\\" [MaBN]=\\\"MaBN\\\"\\n                            [TenBenhNhan]=\\\"TenBenhNhan\\\" [SDT]=\\\"SDT\\\"\\n                            [ThongTinBenhNhanDaThuTienData]=\\\"ThongTinBenhNhanDaThuTien\\\">\\n                        </app-quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh>\\n                        <kendo-tabstrip fxFlex=\\\"100%\\\" class=\\\"content-has-border has-padding mt-3\\\"\\n                            [keepTabContent]=\\\"true\\\" (tabSelect)=\\\"onTabSelect($event)\\\" #tabVangLai>\\n                            <kendo-tabstrip-tab [selected]=\\\"kendoTabSelected===1\\\">\\n                                <ng-template kendoTabContent>\\n                                    <app-quay-thuoc-khach-vang-lai-cho-thanh-toan\\n                                        [thongTinKhachVangLai]=\\\"thongTinBenhNhan\\\"\\n                                        (valueChangeThuTien)=\\\"switchValueChangesChoThanhToan($event)\\\"\\n                                        [donThuocId]=\\\"donThuocIds\\\" [ttCheck]=\\\"ttCheck\\\" (changeTab)=\\\"changeTab($event)\\\"\\n                                        (MaTiepNhanBenhNhanDaThuTien)=\\\"MaTiepNhanBenhNhanDaThuTien($event)\\\"\\n                                        (danhSachChuaThanhToan)=\\\"danhSachChuaThanhToan($event)\\\">\\n                                    </app-quay-thuoc-khach-vang-lai-cho-thanh-toan>\\n                                </ng-template>\\n                                <ng-template kendoTabTitle>\\n                                    <div kendoTooltip title=\\\"Phím tắt: Ctrl + F1\\\">\\n                                        Mua thuốc\\n                                    </div>\\n                                </ng-template>\\n                            </kendo-tabstrip-tab>\\n                            <kendo-tabstrip-tab [selected]=\\\"kendoTabSelected===2\\\">\\n                                <ng-template kendoTabContent>\\n                                    <app-quay-thuoc-khach-vang-lai-cho-xuat-thuoc\\n                                        [ThongTinBenhNhanDaThuTienData]=\\\"ThongTinBenhNhanDaThuTien\\\" [ttCheck]=\\\"ttCheck\\\">\\n                                    </app-quay-thuoc-khach-vang-lai-cho-xuat-thuoc>\\n                                </ng-template>\\n                                <ng-template kendoTabTitle>\\n                                    <div kendoTooltip title=\\\"Phím tắt: Ctrl + F2\\\">\\n                                        Chờ xuất thuốc\\n                                    </div>\\n                                </ng-template>\\n                            </kendo-tabstrip-tab>\\n                        </kendo-tabstrip>\\n                        <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\" kendoTooltip>\\n                            <!-- <button type=\\\"button\\\" (click)=\\\"inXemTruocBangKeThuoc()\\\" mat-raised-button\\n                                title=\\\"In Bảng Kê\\\">\\n                                In Bảng Kê\\n                            </button> -->\\n                            <button type=\\\"button\\\" (click)=\\\"Huy()\\\" mat-raised-button title=\\\"Phím tắt: ESC\\\">\\n                                Quay lại\\n                            </button>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </vex-page-layout-content>\\n</vex-page-layout>\"","export default \"<app-grid #gridD [gridColumns]=\\\"gridChildColumnsChoThanhToan\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n    [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n    [sort]=\\\"sortConfig\\\" [urlGetData]=\\\"urlGetDataGridChild\\\" [urlGetTotalPage]=\\\"urlGetTotalPageGridChild\\\"\\n    heightToolbar=\\\"272\\\" [additionalSearchString]=\\\"queryStringSearchUuTien\\\" [detailTemplate]=\\\"detailTemplate\\\"\\n    (extOnDataBound)=\\\"onDataBound($event)\\\">\\n</app-grid>\\n<ng-template #TongGiaTriDonThuocTemplate let-dataItem>\\n    <strong class=\\\"text-color\\\" style=\\\"color:red\\\" *ngIf=\\\"dataItem.TrangThaiHienThi=='Chưa thanh toán'\\\">\\n        {{dataItem.TongGiaTriDonThuoc | number:'0.2-2':'vi-VN'}}</strong>\\n    <strong class=\\\"text-color\\\" style=\\\"color:blue\\\" *ngIf=\\\"dataItem.TrangThaiHienThi=='Đã thanh toán'\\\">\\n        {{dataItem.TongGiaTriDonThuoc | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #SoTienChoThanhToanTemplate let-dataItem>\\n    <strong class=\\\"text-color\\\" style=\\\"color:red\\\" *ngIf=\\\"dataItem.TrangThaiHienThi=='Chưa thanh toán'\\\">\\n        {{dataItem.SoTienChoThanhToan | number:'0.2-2':'vi-VN'}}</strong>\\n    <strong class=\\\"text-color\\\" style=\\\"color:blue\\\" *ngIf=\\\"dataItem.TrangThaiHienThi=='Đã thanh toán'\\\">\\n        {{dataItem.SoTienChoThanhToan | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #trangThaiTemplate let-dataItem>\\n    <strong class=\\\"text-color\\\" style=\\\"color:red\\\" *ngIf=\\\"dataItem.TrangThaiHienThi=='Chưa thanh toán'\\\">\\n        {{dataItem.TrangThaiHienThi}}</strong>\\n    <strong class=\\\"text-color\\\" style=\\\"color:blue\\\" *ngIf=\\\"dataItem.TrangThaiHienThi =='Đã thanh toán'\\\">\\n        {{dataItem.TrangThaiHienThi}}</strong>\\n</ng-template>\\n\\n<ng-template #actionTemplate let-dataItem>\\n    <div class=\\\"text-center\\\" kendoTooltip>\\n        <button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"Xem(dataItem)\\\" class=\\\"mr-1 float-right\\\" mat-raised-button>\\n            Xem</button>\\n    </div>\\n</ng-template>\\n\\n<ng-template #maTNTemplate let-dataItem>\\n    <a (click)=\\\"Xem(dataItem)\\\">{{dataItem.MaTN}}</a>\\n</ng-template>\\n<ng-template #detailTemplate let-dataItem>\\n    <app-grid baseRoute=\\\"\\\" [gridColumns]=\\\"gridChild\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n        [urlGetData]=\\\"urlGetDataChild\\\"\\n        [additionalSearchString]=\\\"dataItem.Id + '-' +dataItem.DateStart + '-' + dataItem.DateEnd\\\" [autoHeight]=\\\"true\\\"\\n        [pageable]=\\\"false\\\">\\n    </app-grid>\\n</ng-template>\\n<ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n    <strong>{{value}}</strong>\\n</ng-template>\\n<ng-template #templatePrint let-dataItem>\\n    <span *ngIf=\\\"dataItem.DonThuocBacSiKeToa == false\\\">\\n        <button kendoTooltip title=\\\"In phiếu\\\"\\n            (click)=\\\"PrinAllDonThuocBenhNhan(dataItem.DonThuocThanhToanId, dataItem.LoaiDonThuoc , dataItem.YeuCauKhambenhId)\\\"\\n            mat-icon-button type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icPrint\\\"></mat-icon>\\n        </button>\\n    </span>\\n</ng-template>\\n<ng-template #SoTienThuoctemplate let-dataItem>\\n    <span style=\\\"color:red\\\"> {{dataItem.SoTienDisPlay}}</span>\\n</ng-template>\\n<ng-template #TinhTrangThuoctemplate let-dataItem>\\n    <span style=\\\"color:red\\\" *ngIf=\\\"dataItem.TinhTrang =='Chưa xuất thuốc' || dataItem.TinhTrang =='Chưa thanh toán'\\\">\\n        {{dataItem.TinhTrang}}</span>\\n    <span style=\\\"color:blue\\\" *ngIf=\\\"dataItem.TinhTrang =='Đã thanh toán'\\\"> {{dataItem.TinhTrang}}</span>\\n    <span style=\\\"color: blue;\\\" *ngIf=\\\"dataItem.TinhTrang =='Đã xuất thuốc'\\\"> {{dataItem.TinhTrang}}</span>\\n</ng-template>\\n<ng-template #nguoiDungKhongMuaThuocTemplate let-dataItem>\\n    <button *ngIf=\\\"dataItem.TrangThai === 1\\\"  type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"nguoiBenhKhongMuaThuoc(dataItem)\\\"\\n     title=\\\"Phím tắt: Người bệnh không mua thuốc\\\">NB không mua thuốc</button>\\n</ng-template>\"","export default \"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-16\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <vex-breadcrumbs [crumbs]=\\\"\\n                    [\\n                    {Title:'Nhà Thuốc',Path:''},\\n                    {Title:'Mua thuốc',Path:'/nha-thuoc',queryParams: { page: this.ttcheck,hoQuerysearch:false},Active:true}\\n                    ]\\\">\\n            </vex-breadcrumbs>\\n            <app-hot-key [keys]=\\\"[\\n            {Key:'Ctrl + F1',Description:'Di chuyển tới và mở tab Mua thuốc'},\\n            {Key:'Ctrl + F2',Description:'Di chuyển tới và mở tab Chờ xuất thuốc'},\\n            {Key:'Ctrl + S',Description:'Thu tiền'},\\n            {Key:'Esc',Description:'Quay lại', End:true}\\n            ]\\\"></app-hot-key>\\n        </div>\\n    </vex-page-layout-header>\\n\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div class=\\\"-mt-16\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n                <div class=\\\"card\\\" fxFlex=\\\"100%\\\">\\n                    <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\">\\n                        <app-quay-thuoc-thong-tin-hanh-chinh [benhnhanThongTin]=\\\"benhnhanThongTin\\\">\\n                        </app-quay-thuoc-thong-tin-hanh-chinh>\\n                        <!-- class=\\\"content-has-border\\\" -->\\n                        <kendo-tabstrip fxFlex=\\\"100%\\\" class=\\\"content-has-border has-padding mt-3\\\" (tabSelect)=\\\"onTabSelect($event)\\\" [keepTabContent]=\\\"true\\\" #tabQuayThuoc>\\n                            <kendo-tabstrip-tab [selected]=\\\"tt==1\\\">\\n\\n                                <ng-template kendoTabContent>\\n                                    <app-quay-thuoc-thong-tin-bao-hiem-tu-nhan [tongTienBNThanhToan]=\\\"tongTienBNThanhToan\\\" (valueChangeBaoHiem)=\\\"getBaoHiem($event)\\\" (valueChangeMg)=\\\"getMg($event)\\\">\\n                                    </app-quay-thuoc-thong-tin-bao-hiem-tu-nhan>\\n\\n                                    <app-quay-thuoc-hinh-thuc-thanh-toan [benhnhanThongTin]=\\\"benhnhanThongTin\\\" (afterChangedCongNo)=\\\"afterChangedCongNo()\\\" (changeTab)=\\\"changeTab()\\\" (afterChangedMg)=\\\"afterChangedMienGiam()\\\" [apDungCongNoThuoc]=\\\"apDungCongNoThuoc\\\" [thongTinTam]=\\\"thongTinTam\\\"\\n                                        [apDungMienGiam]=\\\"apDungMienGiam\\\" [viTri]=\\\"viTri\\\" [thongTinMienGiamVos]=\\\"thongTinMienGiamVos\\\" (danhSachChuaThanhToan)=\\\"danhSachChuaThanhToan($event)\\\">\\n                                    </app-quay-thuoc-hinh-thuc-thanh-toan>\\n\\n                                </ng-template>\\n                                <ng-template kendoTabTitle>\\n                                    <div kendoTooltip title=\\\"Phím tắt: Ctrl + F1\\\">\\n                                        Mua thuốc-vật tư\\n                                    </div>\\n                                </ng-template>\\n                            </kendo-tabstrip-tab>\\n                            <kendo-tabstrip-tab [selected]=\\\"tt==2\\\">\\n                                <ng-template kendoTabContent>\\n                                    <app-quay-thuoc-cho-xuat-thuoc [flagOnce]=\\\"flagAllowLoadThuoc\\\" [trangThaiXuatThuoc]=\\\"tt\\\" [ttcheck]=\\\"ttcheck\\\">\\n                                    </app-quay-thuoc-cho-xuat-thuoc>\\n                                </ng-template>\\n                                <ng-template kendoTabTitle>\\n                                    <div kendoTooltip title=\\\"Phím tắt: Ctrl + F2\\\">\\n                                        Chờ xuất thuốc-vật tư\\n                                    </div>\\n                                </ng-template>\\n                            </kendo-tabstrip-tab>\\n                        </kendo-tabstrip>\\n                        <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\" kendoTooltip>\\n                            <button type=\\\"button\\\"  (click)=\\\"inXemTruocBangKeThuoc()\\\" mat-raised-button title=\\\"In Bảng Kê\\\">\\n                               In Bảng Kê\\n                            </button>\\n                            <button type=\\\"button\\\" (click)=\\\"Huy()\\\" mat-raised-button title=\\\"Phím tắt: ESC\\\">\\n                                Quay lại\\n                            </button>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </vex-page-layout-content>\\n</vex-page-layout>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3\\\" *ngIf=\\\"checkHaveBHTN === true\\\">\\n        <legend>Thông tin bảo hiểm tư nhân</legend>\\n        <div class=\\\" mt-1\\\">\\n            <app-grid [gridColumns]=\\\"gridChildColumns2\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n                class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n                [lazyLoadPage]=\\\"true\\\" [gridDataSource]=\\\"dataSourceDanhSachBHTN\\\" [autoHeight]=\\\"true\\\" style=\\\"width: 1px;\\\"\\n                [pageable]=\\\"false\\\">\\n            </app-grid>\\n        </div>\\n    </fieldset>\\n    <!-- <fieldset *ngIf=\\\"!khachVangLaiMuaThuoc\\\" fxFlex=\\\"100%\\\" class=\\\"mb-3\\\">\\n        <legend>Thông tin miễn giảm</legend>\\n\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            start thông tim voucher\\n            <div fxFlex=\\\"15%\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                    <app-checkbox id=\\\"loaiVoucher\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" value=\\\"true\\\"\\n                        [disabled]=\\\"disabledVoucher\\\" [model]=\\\"flagEnableVoucher\\\" (modelChange)=\\\"onChangeVoucher($event)\\\"\\n                        label=\\\"Voucher\\\">\\n                    </app-checkbox>\\n                    <app-multiselect *ngIf=\\\"flagEnableVoucher\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Mã Voucher\\\"\\n                        [(model)]=\\\"listVouchers\\\" [required]=\\\"true\\\"\\n                        url=\\\"ThuNgan/GetMaVoucher?loaiVoucher={{loaiVoucher}}&yeucauTiepNhanId={{idMYCTN}}\\\"\\n                        (openChange)=\\\"onOpenChange()\\\" (modelChange)=\\\"onSelectChangeVoucher($event)\\\"\\n                        (valueChange)=\\\"valueChangeTheVoucher($event)\\\"\\n                        [validationerror]=\\\"'ListVouchers' | validationerror:quayThuocValidationErrors\\\" #voucherList>\\n                    </app-multiselect>\\n                </div>\\n            </div>\\n            end thông tim voucher\\n\\n\\n            thông tin miễm giảm thêm\\n            <div fxFlex=\\\"{{flagEnableMGThem?'75%':'10%'}}\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                    <app-checkbox id=\\\"MiemGiamThem\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" value=\\\"true\\\"\\n                        [model]=\\\"flagEnableMGThem\\\" [disabled]=\\\"disabledMGThem\\\" (modelChange)=\\\"onChangeMienGiam($event)\\\"\\n                        label=\\\"MG thêm\\\">\\n                    </app-checkbox>\\n                </div>\\n                <div *ngIf=\\\"flagEnableMGThem\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"10px grid\\\"\\n                    fxLayoutGap.lt-sm=\\\"0\\\">\\n                    <div fxFlex=\\\"13%\\\">\\n                        <mat-radio-button name=\\\"loaiMG\\\" style=\\\"position: absolute;z-index: 1;\\\" [checked]=\\\"soTienMgCheck\\\"\\n                            (change)=\\\"onChangeLoaiMg(1)\\\" value=\\\"chon-miem-giam\\\">\\n                            Số tiền MG <span style=\\\"color: red;\\\">*</span>\\n                        </mat-radio-button>\\n                        <app-textboxnumeric [(model)]=\\\"thongTinMienGiamThem.SoTienMG\\\" class=\\\"mb-0 pb-0\\\"\\n                            [isFormatCurrenly]=\\\"true\\\"\\n                            [validationerror]=\\\"'SoTienMG' | validationerror:quayThuocValidationErrors\\\">\\n                        </app-textboxnumeric>\\n                    </div>\\n                    <div fxFlex=\\\"13%\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap.lt-sm=\\\"0\\\" *ngIf=\\\"!checkHiddenSoTienConLai\\\">\\n                        <app-textboxnumeric fxFlex=\\\"100%\\\" [disabled]=\\\"true\\\" label=\\\"Số tiền còn lại\\\" class=\\\"green\\\"\\n                            [isFormatCurrenly]=\\\"true\\\" [spinners]=\\\"false\\\"\\n                            [(model)]=\\\"thongTinMienGiamThem.SoTienMGConLai\\\">\\n                        </app-textboxnumeric>\\n                    </div>\\n                    <div fxFlex=\\\"13%\\\">\\n                        <mat-radio-button name=\\\"loaiMG\\\" [checked]=\\\"tiLeMgCheck\\\" style=\\\"position: absolute;z-index: 1;\\\"\\n                            (change)=\\\"onChangeLoaiMg(2)\\\" value=\\\"chon-miem-giam\\\">\\n                            % MG <span style=\\\"color: red;\\\">*</span>\\n                        </mat-radio-button>\\n                        <app-textboxnumeric fxFlex=\\\"100%\\\" [disabled]=\\\"disabledTiLeMG\\\" max=\\\"100\\\"\\n                            [(model)]=\\\"thongTinMienGiamThem.TiLeMienGiam\\\" class=\\\"mb-0 pb-0\\\"\\n                            style=\\\"margin-top: 1px !important;\\\"\\n                            [validationerror]=\\\"'TiLeMienGiam' | validationerror:quayThuocValidationErrors\\\">\\n                        </app-textboxnumeric>\\n                    </div>\\n                    <div fxFlex=\\\"17%\\\" fxFlex.sm=\\\"17%\\\">\\n                        <app-textarea id=\\\"MienGiamConLai\\\" [required]=\\\"true\\\" label=\\\"Lý do MG\\\"\\n                            [(model)]=\\\"thongTinMienGiamThem.LyDoMiemGiam\\\" minHeight=\\\"20\\\"\\n                            [validationerror]=\\\"'LyDoMienGiam' | validationerror:quayThuocValidationErrors\\\">\\n                        </app-textarea>\\n                    </div>\\n                    <div fxFlex=\\\"27%\\\" fxFlex.sm=\\\"27%\\\">\\n                        <app-upload id=\\\"Upload\\\" label=\\\"File đính kèm\\\" [required]=\\\"true\\\"\\n                            [model]=\\\"thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam\\\"\\n                            (uploadFileDone)=\\\"uploadFileDone($event)\\\"\\n                            [validationerror]=\\\"'TaiLieuDinhKem' | validationerror:quayThuocValidationErrors\\\">\\n                        </app-upload>\\n                    </div>\\n                    <app-combobox id=\\\"NguoiDuyet\\\" fxFlex=\\\"17%\\\" fxFlex.sm=\\\"17%\\\"\\n                        [(model)]=\\\"thongTinMienGiamThem.NhanVienDuyetMienGiamThemId\\\"\\n                        [modelText]=\\\"thongTinMienGiamThem.TenNhanVienDuyet\\\" label=\\\"Người duyệt\\\"\\n                        class=\\\"item-no-padding\\\" url=\\\"NhanVien/GetListLookupNhanVien\\\">\\n                    </app-combobox>\\n                </div>\\n            </div>\\n            thông tin Áp dụng\\n            <div fxFlex=\\\"10%\\\">\\n                <button mat-raised-button color=\\\"primary\\\" (click)=\\\"onApplyMGThem()\\\" *ngIf=\\\"flagApDung==true\\\"\\n                    class=\\\"mt-12\\\">\\n                    Áp dụng\\n                </button>\\n            </div>\\n        </div>\\n    </fieldset> -->\\n    <ng-template #actionTemplateSTCongNo let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        <app-textboxnumeric class=\\\"no-label\\\" [step]=\\\"100\\\" [(model)]=\\\"dataItem.SoTien\\\" \\n             decimals=\\\"2\\\" [format]=\\\"format\\\" min=\\\"0.00\\\"\\n            (keyup)=\\\"onKeyCongNo($event, rowIndex)\\\">\\n        </app-textboxnumeric>\\n    </ng-template>\\n    <ng-template #actionTemplateSubmitCongNo let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        <button color=\\\"primary\\\" mat-raised-button mat-button (click)=\\\"ApDungCongNo(rowIndex)\\\" cdkFocusInitial>Áp\\n            dụng</button>\\n    </ng-template>\\n</div>\\n\"","export default \"<div class=\\\"row\\\" >\\n    <fieldset fxFlex=\\\"100%\\\" *ngIf=\\\"MaBN == null\\\">\\n        <legend>THÔNG TIN HÀNH CHÍNH</legend>\\n        <div fxFlex=\\\"100%\\\">\\n            <ul class=\\\"inline\\\">\\n                <li>Mã TN:\\n                    <strong>{{benhnhanThongTin.MaYeuCauTiepNhan}}</strong>\\n                </li>\\n                <li>Mã NB:\\n                    \\n                    <strong>{{benhnhanThongTin.MaBN}}</strong>\\n                </li>\\n                <li>Họ tên:\\n                    <strong>{{benhnhanThongTin.HoTen}}</strong>\\n                </li>\\n                <li>Giới tính:\\n                    <strong>{{benhnhanThongTin.GioiTinhHienThi}}</strong>\\n                </li>\\n                <li>Năm sinh:\\n                    <strong>{{benhnhanThongTin.NamSinh}}</strong>\\n                </li>\\n                <li>Địa chỉ:\\n                    <strong>{{benhnhanThongTin.DiaChiDayDu}}</strong>\\n                </li>\\n               \\n                <li>SĐT:\\n                    <strong>{{benhnhanThongTin.SoDienThoai}}</strong>\\n                </li>\\n                <li>Email:\\n                    <strong>{{benhnhanThongTin.Email}}</strong>\\n                </li>\\n               \\n            </ul>\\n        </div>\\n    </fieldset>\\n    <fieldset fxFlex=\\\"100%\\\" *ngIf=\\\"MaBN != null\\\">\\n        <legend>THÔNG TIN HÀNH CHÍNH</legend>\\n        <div fxFlex=\\\"100%\\\" >\\n            <ul class=\\\"inline\\\">\\n                <li>Mã NB:\\n                    \\n                    <strong>{{MaBN}}</strong>\\n                </li>\\n                <li>Họ tên:\\n                    <strong>{{data.HoTen}}</strong>\\n                </li>\\n                <li>Giới tính:\\n                    <strong>{{data.GioiTinhHienThi}}</strong>\\n                </li>\\n                <li>Năm sinh:\\n                    <strong>{{data.NamSinh}}</strong>\\n                </li>\\n                <li>Địa chỉ:\\n                    <strong>{{data.DiaChiDayDu}}</strong>\\n                </li>\\n               \\n                <li>SĐT:\\n                    <strong>{{data.SoDienThoai}}</strong>\\n                </li>\\n                <li>Email:\\n                    <strong>{{data.Email}}</strong>\\n                </li>\\n               \\n            </ul>\\n        </div>\\n    </fieldset>\\n</div>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>{{Title}}</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close('No answer',1)\\\" tabindex=\\\"-1\\\" >\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <app-grid\\n    [gridColumns]=\\\"gridChildColumns2\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" [gridDataSource]=\\\"data\\\"\\n    [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n     [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\" [detailTemplate]=\\\"detailTemplate\\\">\\n    </app-grid>\\n    <ng-template #actionTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <button type=\\\"button\\\"  color=\\\"primary\\\" mat-raised-button (click)=\\\"close(dataItem,2)\\\" tabindex=\\\"-1\\\">\\n                Chọn\\n            </button>\\n        </div>\\n    </ng-template>\\n    <ng-template #detailTemplate let-dataItem>\\n        <app-grid baseRoute=\\\"\\\"\\n                        [gridColumns]=\\\"gridChild\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n                        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                        [urlGetData]=\\\"urlGetDataChild\\\" [additionalSearchString]=\\\"dataItem.Id + '-' +dataItem.DateStart + '-' + dataItem.DateEnd\\\"\\n                        [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\"  >\\n                    </app-grid>\\n    </ng-template>\\n    <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n        <strong>{{value}}</strong>\\n    </ng-template>\\n    <ng-template #templatePrint let-dataItem >\\n        <span *ngIf=\\\"dataItem.DonThuocBacSiKeToa == false\\\">\\n            <button  kendoTooltip title=\\\"In phiếu\\\"\\n            (click)=\\\"PrinAllDonThuocBenhNhan(dataItem.DonThuocThanhToanId)\\\" mat-icon-button type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icPrint\\\"></mat-icon>\\n        </button>\\n        </span>\\n    </ng-template>\\n    <ng-template #SoTienThuoctemplate let-dataItem>\\n        <span style=\\\"color:red\\\"> {{dataItem.SoTienDisPlay}}</span>\\n    </ng-template>\\n    <ng-template #TinhTrangThuoctemplate let-dataItem>\\n        <span style=\\\"color:red\\\" *ngIf=\\\"dataItem.TinhTrang =='Chưa xuất thuốc' || dataItem.TinhTrang =='Chưa thanh toán'\\\"> {{dataItem.TinhTrang}}</span>\\n        <span style=\\\"color:blue\\\" *ngIf=\\\"dataItem.TinhTrang =='Đã thanh toán'\\\"> {{dataItem.TinhTrang}}</span>\\n    </ng-template>\\n</mat-dialog-content>\\n\"","export default \"<fieldset class=\\\"m-0\\\">\\n    <legend>TÌM NGƯỜI BỆNH</legend>\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <div fxFlex=\\\"300px\\\" fxFlex.sm=\\\"20%\\\" style=\\\"position: relative;\\\">\\n            <div style=\\\"background-color: rgba(0, 0, 0, 0.04);height: 100%;\\n            width: 100% !important;\\n            border-radius: 4px 4px 0 0;\\n            padding: 0.75em 0.75em 0 0.75em;\\n            border-bottom: 1px solid rgba(82, 63, 105, 0.42);\\\">\\n                <app-checkbox name=\\\"dang-thanh-toan\\\" (modelChange)=\\\"checkTrangThai($event,1)\\\" fxFlex=\\\"150px\\\"\\n                    fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\"\\n                    [(model)]=\\\"kiemTraDanhSachThanhToan\\\" value=\\\"dangthanhtoan\\\" label=\\\"Chờ thanh toán\\\">\\n                </app-checkbox>\\n                <app-checkbox name=\\\"da-thanh-toan\\\" (modelChange)=\\\"checkTrangThai($event,2)\\\"\\n                    [(model)]=\\\"kiemTraDanhSachDaThanhToan\\\" value=\\\"dathanhtoan\\\" fxFlex=\\\"150px\\\" fxFlex.lt-md=\\\"auto\\\"\\n                    fxHide.xs fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\" label=\\\"Đã thanh toán\\\">\\n                </app-checkbox>\\n            </div>\\n        </div>\\n        <div fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" style=\\\"position: relative;\\\">\\n            <app-textbox id=\\\"SoTheBHYT\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Mã NB\\\" [(model)]=\\\"timKiem.MaBenhNhan\\\"\\n                (keyup)=\\\"onKey($event)\\\" [isAutoFocus]=\\\"true\\\" (blurChange)=\\\"blurChange($event, true)\\\"\\n                (modelChange)=\\\"searchChangeMaBN($event)\\\">\\n            </app-textbox>\\n            <button style=\\\"position: absolute;right: 21px;margin-top: 10px;\\\" (click)=\\\"QuetMaQRCodeClick()\\\"\\n                color=\\\"primary\\\" mat-mini-fab type=\\\"button\\\" kendoTooltip title=\\\"Quét mã vạch thẻ BHYT\\\">\\n                <img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n            </button>\\n\\n        </div>\\n        <!-- <app-textbox id=\\\"MaBN\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"40%\\\" maxlength=\\\"4000\\\" [(model)]=\\\"timKiem.MaBenhNhan\\\"\\n            label=\\\"Mã NB\\\" [validationerror]=\\\"'MaBN' | validationerror:validationErrors\\\">\\n        </app-textbox> -->\\n        <app-textbox id=\\\"MaTN\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"15%\\\" maxlength=\\\"4000\\\" [(model)]=\\\"timKiem.MaTiepNhan\\\"\\n            style=\\\"padding-left: 10px;\\\" (keyup)=\\\"onKey($event)\\\" label=\\\"Mã TN\\\"\\n            (modelChange)=\\\"searchChangeMaTN($event)\\\" [validationerror]=\\\"'MaTN' | validationerror:validationErrors\\\">\\n        </app-textbox>\\n        <app-textbox id=\\\"HoTen\\\" fxFlex=\\\"15%\\\" fxFlex.sm=\\\"15%\\\" maxlength=\\\"4000\\\" [(model)]=\\\"timKiem.HoTen\\\"\\n            style=\\\"padding-left: 10px;\\\" (keyup)=\\\"onKey($event)\\\" label=\\\"Họ Tên\\\"\\n            [validationerror]=\\\"'HoTen' | validationerror:validationErrors\\\">\\n        </app-textbox>\\n        <!-- <app-textbox id=\\\"DienThoai\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" maxlength=\\\"4000\\\" [(model)]=\\\"timKiem.SoDienThoai\\\"\\n            style=\\\"padding-left: 10px;\\\" (keyup)=\\\"onKey($event)\\\" label=\\\"Điện thoại\\\"\\n            [validationerror]=\\\"'DienThoai' | validationerror:validationErrors\\\">\\n        </app-textbox> -->\\n        <app-textboxmask id=\\\"SoDienThoai\\\" onlynumber=\\\"true\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Số điện thoại\\\" (keyup)=\\\"onKey($event)\\\"\\n                                maxlength=\\\"10\\\" [(model)]=\\\"timKiem.SoDienThoai\\\" mask=\\\"000 000 0000\\\">\\n        </app-textboxmask>\\n        <app-daterangepicker id=\\\"Daterange\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" (blur)=\\\"blur($event)\\\"\\n            [(model)]=\\\"timKiem.RangeDate\\\" label=\\\"Từ ngày - Đến ngày\\\" (keyup)=\\\"onKey3($event)\\\"\\n            (modelChange)=\\\"changRange($event)\\\">\\n        </app-daterangepicker>\\n        <div fxFlex=\\\"209px\\\">\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-5\\\" (click)=\\\"TimKiem(true)\\\">Tìm\\n                kiếm</button>\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"exportExcel()\\\">Xuất Excel</button>\\n\\n        </div>\\n        <app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\" style=\\\"display: none;\\\"></app-barcode>\\n    </div>\\n</fieldset>\"","export default \"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-16\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <vex-breadcrumbs [crumbs]=\\\"\\n                    [\\n                    {Title:'Nhà Thuốc',Path:'/nha-thuoc'},\\n                    {Title:'Mua Toa Cũ ',Path:'',Active:true}\\n                    ]\\\">\\n            </vex-breadcrumbs>\\n        </div>\\n    </vex-page-layout-header>\\n\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div class=\\\"-mt-16\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n                <div class=\\\"card\\\" fxFlex=\\\"auto\\\">\\n                    <div class=\\\"card\\\" fxFlex=\\\"auto\\\">\\n                        <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\" style=\\\"position: relative;\\\">\\n                            <app-quay-thuoc-thong-tin-hanh-chinh [MaBN]=\\\"id\\\"></app-quay-thuoc-thong-tin-hanh-chinh>\\n                            <h4 class=\\\"sub-title\\\" fxFlex=\\\"100%\\\" style=\\\"font-weight: bold;\\\">Toa Thuốc Cũ</h4>\\n                            <app-grid [headerTemplate]=\\\"headerTemplate\\\" [useHeaderDefault]=\\\"false\\\"\\n                                [urlGetData]=\\\"urlGetDataGridChild\\\" [urlGetTotalPage]=\\\"urlGetTotalPageGridChild\\\"\\n                                [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n                                [checkboxAble]=\\\"true\\\" [detailTemplate]=\\\"detailTemplate\\\" [lazyLoadPage]=\\\"true\\\"\\n                                (extCheckboxSelection)=\\\"extCheckboxSelection($event)\\\" heightToolbar=\\\"325\\\">\\n                            </app-grid>\\n\\n                            <ng-template #detailTemplate let-dataItem>\\n                                <app-grid [gridColumns]=\\\"gridChildColumns\\\" [useAddDeault]=\\\"false\\\"\\n                                    [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n                                    [lazyLoadPage]=\\\"true\\\" [urlGetData]=\\\"urlGetDataGridChild1\\\"\\n                                    [urlGetTotalPage]=\\\"urlGetTotalPageGridChild1\\\" searchString=\\\"{{dataItem.Id}}\\\"\\n                                    [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\">\\n                                </app-grid>\\n                            </ng-template>\\n                            <ng-template #detailTemplateCT let-dataItem>\\n                                <span style=\\\"color:red\\\" *ngIf=\\\"dataItem.LaDuocPhamBenhVien ==  false\\\">Dược phẩm ngoài\\n                                    bệnh viện</span>\\n                                <span style=\\\"color:blue\\\" *ngIf=\\\"dataItem.LaDuocPhamBenhVien ==  true\\\">Dược phẩm trong\\n                                    bệnh viện</span>\\n                            </ng-template>\\n                            <ng-template #headerTemplate>\\n                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                    fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"px-2 py-3\\\">\\n                                    <app-textbox id=\\\"DVKhamHienThi\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"40%\\\" maxlength=\\\"4000\\\"\\n                                        [(model)]=\\\"timKiemToaThuocCu.DVKhamHienThi\\\" style=\\\"padding-left: 10px;\\\"\\n                                        label=\\\"DV Khám\\\" (keyup)=\\\"onKey($event)\\\">\\n                                    </app-textbox>\\n                                    <app-textbox id=\\\"ChuanDoan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"40%\\\" maxlength=\\\"4000\\\"\\n                                        [(model)]=\\\"timKiemToaThuocCu.ChuanDoan\\\" style=\\\"padding-left: 10px;\\\"\\n                                        label=\\\"Chẩn đoán\\\" (keyup)=\\\"onKey($event)\\\">\\n                                    </app-textbox>\\n                                    <app-textbox id=\\\"BSKham\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"40%\\\" maxlength=\\\"4000\\\"\\n                                        [(model)]=\\\"timKiemToaThuocCu.BSKham\\\" style=\\\"padding-left: 10px;\\\"\\n                                        label=\\\"BS Khám\\\" (keyup)=\\\"onKey($event)\\\">\\n                                    </app-textbox>\\n                                   \\n                                    <!-- <app-datepicker id=\\\"NgayKham\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"40%\\\"\\n                                        [(model)]=\\\"timKiemToaThuocCu.NgayKham\\\"  label=\\\"Ngày khám\\\" (keyup)=\\\"onKey($event)\\\">\\n                                    </app-datepicker> -->\\n                                    <app-daterangepicker id=\\\"Daterange\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" [(model)]=\\\"timKiemToaThuocCu.RangeDate\\\"\\n                                        label=\\\"Từ ngày - Đến ngày\\\" (keyup)=\\\"onKey3($event)\\\" (modelChange)=\\\"changRange($event)\\\">\\n                                    </app-daterangepicker>\\n                                    <div fxFlex=\\\"15%\\\" class=\\\"mt-5\\\">\\n                                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\"\\n                                            (click)=\\\"TimKiem()\\\">Tìm kiếm</button>\\n                                    </div>\\n\\n                                </div>\\n                            </ng-template>\\n\\n\\n\\n\\n\\n                            <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\">\\n                                <button type=\\\"button\\\" mat-raised-button mat-button (click)=\\\"Huy()\\\">\\n                                    Hủy\\n                                </button>\\n                                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button\\n                                    (click)=\\\"ChonThuoc()\\\">\\n                                    Chọn\\n                                </button>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </vex-page-layout-content>\\n</vex-page-layout>\"","export default \"\\n\\n<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>{{Title}}</div>\\n</div>\\n<p class=\\\"mb-3\\\"> Thực hiện in phiếu cho NB : </p>\\n<app-checkbox id=\\\"InPhieuThu\\\" [(model)]=\\\"thongTin.InPhieuThu\\\" label=\\\"In phiếu thu\\\" class=\\\"pb-0\\\"></app-checkbox>\\n<app-checkbox id=\\\"InBangKe\\\" [(model)]=\\\"thongTin.InBangKe\\\" label=\\\"In bảng kê thuốc\\\" class=\\\"pb-0\\\"></app-checkbox>\\n<div style=\\\"float: right;\\\">\\n    <button type=\\\"button\\\"  mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n    (click)=\\\"close('No answer')\\\">Không</button>\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n    (click)=\\\"close('In')\\\">In</button>\\n</div>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>{{Title}}</div>\\n</div>\\n<p class=\\\"mb-3\\\" *ngIf=\\\"dataItem.Model != null\\\"> Người bệnh này chưa có phát sinh đơn thuốc nào. Bạn có muốn bán thuốc cho người bệnh này như khách vãng lai hay không?  </p>\\n<p class=\\\"mb-3\\\" *ngIf=\\\"dataItem.Model == null\\\"> Không tìm thấy người bệnh này trong hệ thống. Bạn có muốn bán thuốc cho người bệnh này như khách vãng lai hay không?  </p>\\n<div style=\\\"float: right;\\\">\\n    <button type=\\\"button\\\"  mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n    (click)=\\\"close(1)\\\">Không</button>\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n    (click)=\\\"close(2)\\\">Có</button>\\n</div>\\n\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>{{Title}}</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close('No answer')\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<p> Bạn chắc chắn muốn thu của người bệnh <b>{{tenBenhNhan}}</b> với số tiền <b>{{soTien| number:'0.2-2':'vi-VN'}}</b> hay không?\\n</p>\\n<div style=\\\"float: right;\\\">\\n    <button type=\\\"button\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"close('No answer')\\\">Không</button>\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n        (click)=\\\"close('Yes')\\\">Có</button>\\n</div>\"","export default \"<div id=\\\"phieu-thu\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t<fieldset fxFlex=\\\"100%\\\" style=\\\"padding: 0 !important\\\">\\n\\t\\t<div class=\\\"mt-1\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t<ul fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t<app-combobox id=\\\"ten-pttt\\\" fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\" [data]=\\\"dataSoPhieus\\\" label=\\\"Số phiếu\\\"\\n\\t\\t\\t\\t\\t\\t(selectionChange)=\\\"selectionChangeSoPhieu($event)\\\" [autoSelectFirstItem]=\\\"true\\\" [bind]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t[(model)]=\\\"thongTinSoPhieuDaThu.SoPhieuId\\\" [modelText]=\\\"thongTinSoPhieuDaThu.TenSoPhieu\\\"\\n\\t\\t\\t\\t\\t\\t[template]=\\\"soPhieuTemplate\\\" [templateHeader]=\\\"soPhieuTemplateHeader\\\" [popupSettings]=\\\"null\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"pb-0\\\">\\n\\t\\t\\t\\t\\t\\t<ng-template #soPhieuTemplateHeader let-dataItem>\\n\\t\\t\\t\\t\\t\\t\\t<table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th width=\\\"50%\\\">Loại phiếu</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th width=\\\"50%\\\">Tình trạng</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t<ng-template #soPhieuTemplate let-dataItem>\\n\\t\\t\\t\\t\\t\\t\\t<table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td width=\\\"50%\\\">{{dataItem.DisplayName}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td width=\\\"50%\\\" *ngIf=\\\"dataItem.TinhTrang === trangThaiThuTienBenhNhan.Huy \\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong style=\\\"color: red\\\"> {{dataItem.TinhTrang}}</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td width=\\\"50%\\\" *ngIf=\\\"dataItem.TinhTrang !== trangThaiThuTienBenhNhan.Huy \\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong style=\\\"color: green\\\"> {{dataItem.TinhTrang}}</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t</app-combobox>\\n\\t\\t\\t\\t\\t<fieldset fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" class=\\\"ml-3\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"padding: 13px;flex: 1 1 100%;box-sizing: border-box;max-width: 100%;\\\"\\n\\t\\t\\t\\t\\t\\t*ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ul class=\\\"inline\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tLoại phiếu:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.LoaiPhieu}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tTình trạng:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinSoPhieuDaThu.TinhTrang === trangThaiThuTienBenhNhan.Huy\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"color: red\\\"> {{thongTinSoPhieuDaThu.TinhTrang}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinSoPhieuDaThu.TinhTrang !== trangThaiThuTienBenhNhan.Huy\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"color: green\\\"> {{thongTinSoPhieuDaThu.TinhTrang}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.TinhTrang === trangThaiThuTienBenhNhan.Huy\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tNgười hủy:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NhanVienHuyPhieu}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.TinhTrang === trangThaiThuTienBenhNhan.Huy\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tNgày hủy:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NgayHuyStr}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null \\n                                && ((thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi)\\n                                && thongTinSoPhieuDaThu.TinhTrang === trangThaiThuTienBenhNhan.Huy)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Thu hồi: </span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinSoPhieuDaThu.DaThuHoi\\\"> Rồi </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"!thongTinSoPhieuDaThu.DaThuHoi\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tChưa\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon [icIcon]=\\\"icEdit\\\" style=\\\"transform: scale(0.8)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"huyPhieuThu(thongTinSoPhieuDaThu ,true)\\\"> </mat-icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.DaThuHoi\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tNgười thu hồi:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NguoiThuHoi}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.DaThuHoi\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tNgày thu:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NgayThuStr}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t</fieldset>\\n\\t<fieldset fxFlex=\\\"100%\\\" class=\\\"mb-1\\\">\\n\\t\\t<div class=\\\"mt-1 ml-1\\\">\\n\\t\\t\\t<ul class=\\\"inline\\\" *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null && \\n            thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi\\\">\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null\\\">\\n\\t\\t\\t\\t\\tTổng số tiền:\\n\\t\\t\\t\\t\\t<strong style=\\\"color: red\\\"> {{thongTinSoPhieuDaThu.TongChiPhi | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tBHYT TT:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.BHYTThanhToan | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tMiễm giảm:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.MienGiam | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tBệnh nhân TT:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.BenhNhanThanhToan | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t\\t(<span>Tiền mặt: </span> <strong> {{thongTinSoPhieuDaThu.TienMat| number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t\\t<span>Chuyển khoản: </span> <strong> {{thongTinSoPhieuDaThu.ChuyenKhoan| number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t</strong> <span>POS: </span> <strong> {{thongTinSoPhieuDaThu.Pos| number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t\\t<span>Công nợ: </span> <strong> {{thongTinSoPhieuDaThu.CongNo| number:'0.2-2':'vi-VN'}} </strong>)\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"mt-1 ml-1\\\">\\n\\t\\t\\t<ul class=\\\"inline\\\" *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi\\\">\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null\\\">\\n\\t\\t\\t\\t\\tSố tiền:\\n\\t\\t\\t\\t\\t<strong style=\\\"color: red\\\"> {{thongTinSoPhieuDaThu.SoTien| number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.NgayThuStr != null\\\">\\n\\t\\t\\t\\t\\tNgày thu:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NgayThuStr}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.NoiDungThu != null\\\">\\n\\t\\t\\t\\t\\tNội dung thu:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NoiDungThu}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t</fieldset>\\n\\n\\t<fieldset fxFlex=\\\"100%\\\" class=\\\"mb-1\\\"\\n\\t\\t*ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi\\\">\\n\\t\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t\\t\\t<kendo-grid [data]=\\\"thongTinSoPhieuDaThu.DanhSachThuPhis\\\" [resizable]=\\\"true\\\"\\n\\t\\t\\t\\t[selectable]=\\\"{enabled: true, checkboxOnly: true}\\\" class=\\\"grid-custom\\\" id=\\\"danhSachDaThuTienGrid\\\"\\n\\t\\t\\t\\theight=\\\"500\\\">\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"\\\" title=\\\"\\\" width=\\\"25\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\"> </kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"\\\" title=\\\"#\\\" width=\\\"15\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\"> {{rowIndex + 1}}\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\t\\t\\t\\t\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"Nhom\\\" title=\\\"Nhóm\\\" width=\\\"50\\\" [hidden]=\\\"true\\\" [style]=\\\"{'text-align': 'left'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\" class=\\\"k-grouping-row p\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridGroupHeaderTemplate let-group let-field=\\\"field\\\" let-value=\\\"value\\\"> {{value}}\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"TenDichVu\\\" title=\\\"Tên Dịch Vụ\\\" width=\\\"100\\\" [style]=\\\"{'text-align': 'left'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t\\t\\t\\t<span kendoTooltip title=\\\"{{dataItem.TenDichVu}}\\\"> {{dataItem.TenDichVu}} </span>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"text-center\\\" style=\\\"font-weight: bold;color:#000;\\\" kendoTooltip\\n\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Tổng cộng DV đang chọn\\\">Tổng cộng:</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"Soluong\\\" title=\\\"Số Lượng\\\" width=\\\"60\\\" [style]=\\\"{'text-align': 'right'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\"> </kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"DonGia\\\" title=\\\"Đơn Giá\\\" width=\\\"90\\\" [style]=\\\"{'text-align': 'right'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'right'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.DonGia | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"ThanhTien\\\" title=\\\"Thành Tiền\\\" width=\\\"100\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'right'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.ThanhTien.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"text-align: center\\\">\\n\\t\\t\\t\\t\\t\\t<span class=\\\"float_right\\\">{{total('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"BHYTThanhToan\\\" title=\\\"BHYT TT\\\" width=\\\"100\\\" [style]=\\\"{'text-align': 'right'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'right'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.BHYTThanhToan | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.BHYTThanhToan.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"text-align: right\\\">\\n\\t\\t\\t\\t\\t\\t<span style=\\\"float: right;\\\">{{total('BHYTThanhToan') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column width=\\\"90\\\" [style]=\\\"{'text-align': 'right'}\\\" title=\\\"Tổng công nợ\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'right'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.TongCongNo | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.TongCongNo.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"text-align: center\\\">\\n\\t\\t\\t\\t\\t\\t<span style=\\\"float:right;\\\">{{total('TongCongNo') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"SoTienMG\\\" title=\\\"Số tiền MG\\\" width=\\\"120\\\" [style]=\\\"{'text-align': 'right'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'right'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div inline=\\\"true\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tkendoTooltip>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\\\"float:right;\\\">{{ dataItem.SoTienMG | number:'0.2-2':'vi-VN'}}</span>\\t\\t\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.SoTienMG.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"text-align: center\\\">\\n\\t\\t\\t\\t\\t\\t<span style=\\\"float:right;\\\">{{total('SoTienMG') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-column field=\\\"DaThanhToan\\\" title=\\\"Đã TT\\\" width=\\\"100\\\" [style]=\\\"{'text-align': 'right'}\\\"\\n\\t\\t\\t\\t\\t[headerStyle]=\\\"{'text-align': 'right'}\\\">\\n\\t\\t\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.DaThanhToan | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.DaThanhToan.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n\\t\\t\\t\\t\\t\\t<span style=\\\"float: right;\\\">{{total('DaThanhToan') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</kendo-grid-column>\\n\\t\\t\\t\\t<kendo-grid-messages noRecords=\\\"Không có dữ liệu.\\\" pagerOf=\\\"trong số\\\" pagerItems=\\\"dòng\\\"\\n\\t\\t\\t\\t\\tdetailExpand=\\\"Mở rộng chi tiết\\\" detailCollapse=\\\"Thu gọn chi tiết\\\"> </kendo-grid-messages>\\n\\t\\t\\t</kendo-grid>\\n\\n\\t\\t</div>\\n\\t</fieldset>\\n</div>\\n<div *ngIf=\\\"thongTinSoPhieuDaThu.SoPhieuId != null\\\" class=\\\"sticky-button-action py-3 text-right\\\" kendoTooltip>\\n\\t<button (click)=\\\"phieuIn()\\\" color=\\\"primary\\\" mat-raised-button class=\\\"mr-2\\\">Phiếu in</button>\\n\\t<button style=\\\"margin-top: 10px;\\\"\\n\\t\\t*ngIf=\\\"thongTinSoPhieuDaThu.ConHanHuyPhieuThu && \\n\\t\\t    ((thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi && thongTinSoPhieuDaThu.TinhTrang !== trangThaiThuTienBenhNhan.Huy))\\\"\\n\\t\\ttype=\\\"button\\\" (click)=\\\"huyPhieuThu(thongTinSoPhieuDaThu, false)\\\" color=\\\"warn\\\" mat-raised-button>\\n\\t\\tHủy phiếu thu\\n\\t</button>\\n</div>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n\\t<div style=\\\"text-transform: uppercase\\\">Kết quả phiếu ({{arrFileUrl.length}} file)</div>\\n\\t<button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n\\t\\t<mat-icon [icIcon]=\\\"icClose\\\" [mat-dialog-close]=\\\"null\\\"></mat-icon>\\n\\t</button>\\n</div>\\n<mat-dialog-content style=\\\"height: 550px\\\">\\n\\t<div class=\\\"container-iframe\\\">\\n\\t\\t<ng-container [ngSwitch]=\\\"arrFileUrl.length > 0\\\">\\n\\t\\t\\t<div *ngSwitchCase=\\\"true\\\">\\n\\t\\t\\t\\t<ng-container *ngFor=\\\"let item of arrFileUrl, let i = index\\\">\\n\\t\\t\\t\\t\\t<iframe id=\\\"{{i}}\\\" width=\\\"100%\\\" height=\\\"550px\\\" frameborder=\\\"0\\\" [src]=\\\"item | safe\\\" type=\\\"application/pdf\\\" allowTransparency=\\\"true\\\" background=\\\"transparent\\\" style=\\\"display: none\\\" onload=\\\"this.style.display = 'block';\\\"></iframe>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div *ngSwitchDefault>Không có dữ liệu</div>\\n\\t\\t</ng-container>\\n\\t</div>\\n</mat-dialog-content>\\n<mat-dialog-actions class=\\\"pb-5\\\">\\n\\t<button type=\\\"button\\\" style=\\\"margin-left: auto\\\" [mat-dialog-close]=\\\"null\\\" mat-button class=\\\"mr-1 mt-4\\\"><i class=\\\"ft-arrow-left\\\"></i> Hủy</button>\\n\\t<button type=\\\"button\\\" *ngIf=\\\"arrFilePdf.length > 0\\\" (click)=\\\"downloadAllFile()\\\" mat-stroked-button color=\\\"primary\\\" class=\\\"mr-1 mt-4\\\">Tải tất cả</button>\\n</mat-dialog-actions>\\n\"","export default \"<div>\\n\\t<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n\\t\\t<div>XÁC NHẬN HỦY XUẤT THUỐC</div>\\n\\t\\t<button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n\\t\\t\\t<mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n\\t\\t</button>\\n\\t</div>\\n\\t<mat-dialog-content style=\\\"overflow: hidden\\\"  style=\\\"height: 250px;\\\">\\n\\t\\tBạn chắc chắn muốn hủy xuất thuốc của phiếu thu phải không?\\n\\n\\t\\t<div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n\\t\\t\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t\\t\\t\\t<fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t<table class=\\\"table table-border\\\" width=\\\"700px\\\">\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"{{huyXuatThuocTrongNgay.ThuHoiPhieu?'13%':'30%'}}\\\">Nếu phải:</td>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"{{huyXuatThuocTrongNgay.ThuHoiPhieu?'25%':'100%'}}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-radio id=\\\"thuhoiphieu\\\" label=\\\"Thu hồi phiếu\\\" required=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t [(model)]=\\\"huyXuatThuocTrongNgay.ThuHoiPhieu\\\" (modelChange)=\\\"modelChangeThuHoiPhieu($event)\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\t [items]=\\\"[{Value:true,Text:'Rồi'},{Value:false,Text:'Chưa'}]\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\t [validationerror]=\\\"'ThuHoiPhieu' | validationerror:validationErrors\\\"> </app-radio>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"30%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-combobox *ngIf=\\\"huyXuatThuocTrongNgay.ThuHoiPhieu\\\" [popupSettings]=\\\"null\\\" id=\\\"nguoithuhoi\\\" label=\\\"Người thu hồi\\\" [(model)]=\\\"huyXuatThuocTrongNgay.NguoiThuHoiId\\\" [(modelText)]=\\\"huyXuatThuocTrongNgay.TenNguoiThuHoi\\\" url=\\\"NhanVien/GetListLookupNhanVien\\\" required=\\\"true\\\" [validationerror]=\\\"'NguoiThuHoiId' | validationerror:validationErrors\\\"> </app-combobox>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"25%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-datetimepicker *ngIf=\\\"huyXuatThuocTrongNgay.ThuHoiPhieu\\\" [(model)]=\\\"huyXuatThuocTrongNgay.ThoiGianThuHoi\\\" id=\\\"thuhoiluc\\\" label=\\\"Thu hồi Lúc\\\" required=\\\"true\\\" [validationerror]=\\\"'ThoiGianThuHoi' | validationerror:validationErrors\\\"> </app-datetimepicker>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t<fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t<app-textarea max=\\\"4000\\\" [minHeight]=\\\"60\\\" [(model)]=\\\"huyXuatThuocTrongNgay.LyDo\\\" id=\\\"ly-do\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"100%\\\" required=\\\"true\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Lý do\\\" [validationerror]=\\\"'LyDo' | validationerror:validationErrors\\\"> </app-textarea>\\n\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</mat-dialog-content>\\n</div>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n\\t<button mat-button mat-dialog-close>Không</button>\\n\\t<button mat-raised-button mat-button (click)=\\\"xacNhanThongTinHuy()\\\" color=\\\"primary\\\" cdkFocusInitial>Có</button>\\n</mat-dialog-actions>\\n\"","export default \"<div *ngIf=\\\"!thuHoiPhieu\\\">\\n\\t<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n\\t\\t<div>XÁC NHẬN HỦY PHIẾU THU</div>\\n\\t\\t<button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n\\t\\t\\t<mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n\\t\\t</button>\\n\\t</div>\\n\\t<mat-dialog-content style=\\\"overflow: hidden\\\"  style=\\\"height: 250px;\\\">\\n\\t\\tBạn chắc chắn muốn hủy phiếu thu {{thongTinHuyPhieu.TenSoPhieu}} phải không?\\n\\t\\t<div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n\\t\\t\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t\\t\\t\\t<fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t<table class=\\\"table table-border\\\" width=\\\"700px\\\">\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"{{thongTinHuyPhieu.ThuHoiPhieu?'13%':'30%'}}\\\">Nếu phải:</td>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"{{thongTinHuyPhieu.ThuHoiPhieu?'25%':'100%'}}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-radio id=\\\"thuhoiphieu\\\" label=\\\"Thu hồi phiếu\\\" required=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t [(model)]=\\\"thongTinHuyPhieu.ThuHoiPhieu\\\" (modelChange)=\\\"modelChangeThuHoiPhieu($event)\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\t [items]=\\\"[{Value:true,Text:'Rồi'},{Value:false,Text:'Chưa'}]\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\t [validationerror]=\\\"'ThuHoiPhieu' | validationerror:validationErrors\\\"> </app-radio>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"30%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-combobox *ngIf=\\\"thongTinHuyPhieu.ThuHoiPhieu\\\" [popupSettings]=\\\"null\\\" id=\\\"nguoithuhoi\\\" label=\\\"Người thu hồi\\\" [(model)]=\\\"thongTinHuyPhieu.NguoiThuHoiId\\\" [(modelText)]=\\\"thongTinHuyPhieu.TenNguoiThuHoi\\\" url=\\\"NhanVien/GetListLookupNhanVien\\\" required=\\\"true\\\" [validationerror]=\\\"'NguoiThuHoiId' | validationerror:validationErrors\\\"> </app-combobox>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"25%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-datetimepicker *ngIf=\\\"thongTinHuyPhieu.ThuHoiPhieu\\\" [(model)]=\\\"thongTinHuyPhieu.ThoiGianThuHoi\\\" id=\\\"thuhoiluc\\\" label=\\\"Thu hồi Lúc\\\" required=\\\"true\\\" [validationerror]=\\\"'ThoiGianThuHoi' | validationerror:validationErrors\\\"> </app-datetimepicker>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t<fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t<app-textarea max=\\\"4000\\\" [minHeight]=\\\"60\\\" [(model)]=\\\"thongTinHuyPhieu.LyDo\\\" id=\\\"ly-do\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"100%\\\" required=\\\"true\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Lý do\\\" [validationerror]=\\\"'LyDo' | validationerror:validationErrors\\\"> </app-textarea>\\n\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</mat-dialog-content>\\n</div>\\n\\n<div *ngIf=\\\"thuHoiPhieu\\\">\\n\\t<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n\\t\\t<div>CẬP NHẬT THU HỒI PHIẾU THU</div>\\n\\t\\t<button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n\\t\\t\\t<mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n\\t\\t</button>\\n\\t</div>\\n\\t<mat-dialog-content style=\\\"overflow: hidden\\\"  style=\\\"height: 250px;\\\">\\n\\t\\t<div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n\\t\\t\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t\\t\\t\\t<fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t<table class=\\\"table table-border\\\" width=\\\"700px\\\">\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"30%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-combobox [popupSettings]=\\\"null\\\" id=\\\"nguoithuhoi\\\" label=\\\"Người thu hồi\\\" [(model)]=\\\"thongTinHuyPhieu.NguoiThuHoiId\\\" [(modelText)]=\\\"thongTinHuyPhieu.TenNguoiThuHoi\\\" url=\\\"NhanVien/GetListLookupNhanVien\\\" required=\\\"true\\\" [validationerror]=\\\"'NguoiThuHoiId' | validationerror:validationErrors\\\"> </app-combobox>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t<td width=\\\"25%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<app-datetimepicker [(model)]=\\\"thongTinHuyPhieu.ThoiGianThuHoi\\\" id=\\\"thuhoiluc\\\" label=\\\"Thu hồi Lúc\\\" required=\\\"true\\\" [validationerror]=\\\"'ThoiGianThuHoi' | validationerror:validationErrors\\\"> </app-datetimepicker>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t<fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t<app-textarea max=\\\"4000\\\" [minHeight]=\\\"60\\\"  [(model)]=\\\"thongTinHuyPhieu.LyDo\\\" id=\\\"ly-do\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"100%\\\" required=\\\"true\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Lý do\\\" [validationerror]=\\\"'LyDo' | validationerror:validationErrors\\\"> </app-textarea>\\n\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</mat-dialog-content>\\n</div>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n\\t<button mat-button mat-dialog-close>Không</button>\\n\\t<button mat-raised-button mat-button (click)=\\\"xacNhanThongTinHuy()\\\" color=\\\"primary\\\" cdkFocusInitial>Có</button>\\n</mat-dialog-actions>\\n\"","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 0;\\n  padding-bottom: 100%;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\nheight_table {\\n  height: 60px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvYXAtZHVuZy1taWVtLWdpYW0tY2hvLXR1bmctbG9haS10aHVvYy1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXGFwLWR1bmctbWllbS1naWFtLWNoby10dW5nLWxvYWktdGh1b2MtcG9wdXBcXGFwLWR1bmctbWllbS1naWFtLWNoby10dW5nLWxvYWktdGh1b2MtcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL2FwLWR1bmctbWllbS1naWFtLWNoby10dW5nLWxvYWktdGh1b2MtcG9wdXAvYXAtZHVuZy1taWVtLWdpYW0tY2hvLXR1bmctbG9haS10aHVvYy1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFNBQUE7RUFDQSxvQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLHVCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vcXVheS10aHVvYy9hcC1kdW5nLW1pZW0tZ2lhbS1jaG8tdHVuZy1sb2FpLXRodW9jLXBvcHVwL2FwLWR1bmctbWllbS1naWFtLWNoby10dW5nLWxvYWktdGh1b2MtcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMDtcbiAgcGFkZGluZy1ib3R0b206IDEwMCU7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG5oZWlnaHRfdGFibGUge1xuICBoZWlnaHQ6IDYwcHggIWltcG9ydGFudDtcbn0iLCIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMDtcbiAgcGFkZGluZy1ib3R0b206IDEwMCU7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG5oZWlnaHRfdGFibGUge1xuICBoZWlnaHQ6IDYwcHggIWltcG9ydGFudDtcbn0iXX0= */\"","import { Component, OnInit, Inject, ChangeDetectorRef } from \"@angular/core\";\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from \"@angular/material\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ThongTinDuocPham,DanhSachMienGiamVo, LoaiChietKhau, LoaiMienGiam } from \"../quay-thuoc.model\";\n\nimport * as _ from 'underscore';\n\n@Component({\n  selector: 'app-ap-dung-miem-giam-cho-tung-loai-thuoc-popup',\n  templateUrl: './ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.html',\n  styleUrls: ['./ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component.scss']\n})\nexport class ApDungMiemGiamChoTungLoaiThuocPopupComponent implements OnInit {\n\n  icClose = icClose;\n  maxSoTienMiemGiamThem: number = 0;\n  maxPhanTramMiemGiamThem: number = 0;\n  disablePhanTram: boolean = false;\n  disableSoTien: boolean = false;\n  disableInputPhanTram: boolean = false;\n  disableInputSoTien: boolean = false;\n\n  tenDichVu: string = null;\n  tongTienTungDichVu: number = 0;\n  tongSoTienDuocMiemGiam: number = 0;\n  loaiMienGiam = new LoaiMienGiam;\n  loaiChietKhau = new LoaiChietKhau;\n  tongTatCaSoTienMg: number = 0;\n  danhSachMienGiamVos: DanhSachMienGiamVo[] = [];\n  danhSachTam: any;\n  public isView: boolean = false;\n  validationErrors: any;\n\n  format: string = 'n2';\n  public tiLeBanDau: number = 0;\n  public soTienBanDau: number = 0;\n  public kiemTraThayDoiSoTienTiLe: boolean = false;\n  public firstApDungDauTien: boolean = false;\n\n  public danhSachChiPhi: ThongTinDuocPham;\n  tamdanhSachChiPhi = {} as ThongTinDuocPham;\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any,\n    public sanitizer: DomSanitizer,\n    private notificationService: NotificationService,\n    private dialogRef: MatDialogRef<any>,\n    private cdRef: ChangeDetectorRef,\n  ) {\n  }\n  ngOnInit() {\n \n    this.tamdanhSachChiPhi = JSON.parse(JSON.stringify(this.data.dataItem));\n    this.danhSachChiPhi = { ...this.data.dataItem };\n    \n    this.bindCheckboxMienGiamThem(this.data.dataItem);\n    this.danhSachTam = JSON.parse(JSON.stringify(this.data.dataItem));;\n    this.tongTienTungDichVu = this.soTienTruocKhiMiemGiam();\n    this.tongTienTungDichVu = this.tongTienTungDichVu < 0 ? 0 : this.tongTienTungDichVu;\n    if(this.danhSachChiPhi.DanhSachMienGiamVos != null)\n    {\n      this.tinhSoTienMiemGiam(this.danhSachChiPhi);\n    }\n    this.tenDichVu = this.data.dataItem.TenDichVu;\n  }\n\n  resetLaiTongSoTienMG() {\n    this.data.dataItem.DanhSachMienGiamVos.forEach(\n      (item) => {\n        item.TongTienMiemGiam = 0;\n      });\n  }\n\n  soTienTruocKhiMiemGiam() {\n    let thanhTien = this.data.dataItem.DonGia * this.data.dataItem.SoLuongMua;\n    let soTienCongNo = 0;\n    if (this.data.dataItem.DanhSachCongNoChoThus != undefined && this.data.dataItem.DanhSachCongNoChoThus.length > 0) {\n      this.data.dataItem.DanhSachCongNoChoThus.forEach(item => {\n        soTienCongNo = soTienCongNo + item.SoTienCongNoChoThu;\n      });\n    }\n    return thanhTien - soTienCongNo;\n  }\n\n  changePhanTram(ev: any, item: any) {\n    if (ev != undefined && ev != null) {\n      item.TiLe = ev;\n    } else {\n      item.TiLe = 0;\n      item.TongTienMiemGiam = 0;\n    }\n    this.tinhSoTienMiemGiamTiLe(this.danhSachChiPhi);\n  }\n\n  changeTien: boolean = false;\n  changeSoTien(ev: any, item: any) {\n    if (ev != undefined && ev != null) {\n      item.SoTien = ev;\n    } else {\n      item.SoTien = 0;\n      item.TongTienMiemGiam = 0;\n    }\n    this.tinhSoTienMiemGiamSoTienMGT(this.danhSachChiPhi);\n  }\n\n  kiemTraTiLeVaSoTien() {\n    this.data.dataItem.DanhSachMienGiamVos.forEach(element => {\n      if (element.LoaiMienGiam === 3) {\n        if (this.firstApDungDauTien && element.TiLe === this.tiLeBanDau && element.SoTien === this.soTienBanDau) {\n          this.kiemTraThayDoiSoTienTiLe = true;\n        }\n      }\n    });\n  }\n\n  apDungPhanTram(ev: any, item: any) {\n    this.validationErrors = [];\n    this.cdRef.detectChanges();\n    this.disableInputPhanTram = ev;\n    this.firstApDungDauTien = true;\n    this.kiemTraTiLeVaSoTien();\n    this.data.dataItem = { ...this.danhSachChiPhi };  \n    if (!ev) {\n      item.TiLe = 0;\n      item.TongTienMiemGiam = 0;\n    }\n    this.tinhSoTienMiemGiamTiLe(this.danhSachChiPhi);\n  }\n\n  apDungSoTien(ev: any, item: any) {\n    this.validationErrors = [];\n    this.cdRef.detectChanges();\n    this.disableInputSoTien = ev;\n    this.firstApDungDauTien = true;\n    this.kiemTraTiLeVaSoTien();\n    this.data.dataItem = { ...this.danhSachChiPhi };  \n\n    if (!ev) {\n      item.SoTien = 0;\n      item.TongTienMiemGiam = 0;\n    }\n    \n    this.tinhSoTienMiemGiamSoTienMGT(this.danhSachChiPhi);\n  }\n\n  resetPhanTram() {\n    this.data.dataItem.DanhSachMienGiamVos.forEach(element => {\n      if (element.LoaiMienGiam === 3 && element.LoaiChietKhau == 1) {\n        element.TiLe = 0;\n        element.TongTienMiemGiam = 0;\n      }\n    });\n  }\n\n  resetSoTien() {\n    this.data.dataItem.DanhSachMienGiamVos.forEach(element => {\n      if (element.LoaiMienGiam === 3 && element.LoaiChietKhau == 2) {\n        element.SoTien = 0;\n        element.TongTienMiemGiam = 0;\n      }\n    });\n  }\n\n  replaceAll(str, find, replace) {\n    return str.replace(new RegExp(find, \"g\"), replace);\n  }\n\n  resetMGT() {\n    this.data.dataItem.DanhSachMienGiamVos.forEach(element => {\n      if (element.LoaiMienGiam === 3 && element.LoaiChietKhau == 1) {\n        element.TiLe = 0;\n        element.TongTienMiemGiam = 0;\n      }\n      if (element.LoaiMienGiam === 3 && element.LoaiChietKhau == 2) {\n        element.SoTien = 0;\n        element.TongTieMiemGiam = 0;\n      }\n    });\n  }\n\n  close() {\n    this.tamdanhSachChiPhi.apdungMGTThanhCong = false;\n    this.dialogRef.close(this.tamdanhSachChiPhi);\n  }\n\n  HuyApDungMGT() {\n    this.tamdanhSachChiPhi.apdungMGTThanhCong = false;\n    this.dialogRef.close(this.tamdanhSachChiPhi);\n  }\n\n  ApDungMGT() {\n    this.validationErrors = [];\n    this.cdRef.detectChanges();\n\n    this.data.dataItem.DanhSachMienGiamVos.forEach(element => {\n      if (this.disableInputPhanTram && element.LoaiMienGiam === 3 && element.LoaiChietKhau == 1 && (element.TiLe === undefined || element.TiLe === null || element.TiLe === 0)) {\n        this.validationErrors.push({\n          Message: \"Vui lòng nhập tỉ lệ miễn giảm.\",\n          Field: \"TiLe\",\n        });\n      }\n      if (this.disableInputSoTien && element.LoaiMienGiam === 3 && element.LoaiChietKhau == 2 && (element.SoTien === undefined || element.SoTien === null || element.SoTien === 0)) {\n        this.validationErrors.push({\n          Message: \"Vui lòng nhập số tiền miễn giảm.\",\n          Field: \"SoTien\",\n        });\n      }\n    });\n\n    if (this.validationErrors.length > 0) {\n      return false;\n    }\n    else {\n      if (this.disableInputPhanTram || this.disableInputSoTien || this.kiemTraThayDoiSoTienTiLe) {\n        this.data.dataItem.apdungMGTThanhCong = true;\n      }\n      else {\n        this.data.dataItem.apdungMGTThanhCong = false;\n      }\n      if (this.tongTatCaSoTienMg > this.tongTienTungDichVu) {\n        this.notificationService.showError(\"Tổng số tiền miễn giảm lớn hơn số tiền miễn giảm thực tế.\");\n      } else {\n        this.dialogRef.close(this.data.dataItem);\n      }\n    }\n  }\n\n  tinhSoTienMiemGiamTiLe(dataItem: ThongTinDuocPham) {\n    this.tongTatCaSoTienMg = 0;\n    var tiLePhanTramConLai = 100;\n    if (this.tongTienTungDichVu !== 0) {\n      var dsMienGiamTheoPhanTram = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 1 && item.TiLe != 0);\n      var dsMienGiamTheoSoTien = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 2 && item.SoTien != 0);\n      dsMienGiamTheoSoTien.forEach(item => {\n        this.tongTatCaSoTienMg += item.TongTienMiemGiam;\n      });\n      if (dsMienGiamTheoPhanTram != null && dsMienGiamTheoPhanTram.length > 0) {\n        //Sắp xếp theo thứ tự:Ưu đãi, Voucher, Miễn giảm thêm\n        dsMienGiamTheoPhanTram = _.sortBy(dsMienGiamTheoPhanTram, 'LoaiMienGiam');\n        dsMienGiamTheoPhanTram.forEach(item => {\n          //Nếu tỉ lệ còn lại sau khi đổ từ trên xuống          \n          item.TongTienMiemGiam = this.tongTienTungDichVu !== 0 ? (item.TiLe * this.tongTienTungDichVu) / 100 : 0;\n          this.tongTatCaSoTienMg += item.TongTienMiemGiam;\n          if (item.TiLe >= tiLePhanTramConLai) {\n            tiLePhanTramConLai = 0;\n          }\n          else {\n            tiLePhanTramConLai = tiLePhanTramConLai - item.TiLe;\n          }\n        });\n      }\n    }\n\n  }\n\n\n  tinhSoTienMiemGiamSoTienMGT(dataItem: ThongTinDuocPham) {\n    this.tongTatCaSoTienMg = 0;\n    var soTienConLai = this.tongTienTungDichVu;\n    if (this.tongTienTungDichVu !== 0) {\n      var dsMienGiamTheoSoTien = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 2 && item.SoTien != 0);\n      var dsMienGiamTheoPhanTram = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 1 && item.TiLe != 0);\n      dsMienGiamTheoPhanTram.forEach(item => {\n        this.tongTatCaSoTienMg += item.TongTienMiemGiam;\n      });\n      if (dsMienGiamTheoSoTien != null && dsMienGiamTheoSoTien.length > 0) {\n        //miễm giảm sô tiền nhâp thoải mái\n        dsMienGiamTheoSoTien = _.sortBy(dsMienGiamTheoSoTien, 'LoaiMienGiam');\n        dsMienGiamTheoSoTien.forEach(item => {\n          if (item.SoTien >= soTienConLai) {\n            soTienConLai = 0;\n          }\n          else {\n            soTienConLai = soTienConLai - item.SoTien;\n          }\n          item.TongTienMiemGiam = this.tongTienTungDichVu !== 0 ? item.SoTien : 0;\n          this.tongTatCaSoTienMg += item.TongTienMiemGiam;\n        });\n      }\n    }\n  }\n\n  tinhSoTienMiemGiam(dataItem: ThongTinDuocPham) {\n    this.tongTatCaSoTienMg = 0;\n    var tiLePhanTramConLai = 100;\n    var soTienConLai = this.tongTienTungDichVu;  \n    var dsMienGiamTheoPhanTram = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 1 && item.TiLe != 0);\n    var dsMienGiamTheoSoTien = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 2 && item.SoTien != 0);\n    if (dsMienGiamTheoPhanTram != null && dsMienGiamTheoPhanTram.length > 0) {\n      //Sắp xếp theo thứ tự:Ưu đãi, Voucher, Miễn giảm thêm\n      dsMienGiamTheoPhanTram = _.sortBy(dsMienGiamTheoPhanTram, 'LoaiMienGiam');\n      dsMienGiamTheoPhanTram.forEach(item => {\n        //Nếu tỉ lệ còn lại sau khi đổ từ trên xuống\n        if (tiLePhanTramConLai > 0) {\n          item.TiLe = item.TiLe > tiLePhanTramConLai ? tiLePhanTramConLai : item.TiLe;\n        }\n        else {\n          item.TiLe = 0;\n        }\n        item.TongTienMiemGiam = this.tongTienTungDichVu !== 0 ? (item.TiLe * this.tongTienTungDichVu) / 100 : 0;\n        this.tongTatCaSoTienMg += item.TongTienMiemGiam;\n        if (item.TiLe >= tiLePhanTramConLai) {\n          tiLePhanTramConLai = 0;\n        }\n        else {\n          tiLePhanTramConLai = tiLePhanTramConLai - item.TiLe;\n        }\n      });\n    }\n    if (tiLePhanTramConLai > 0 && dsMienGiamTheoSoTien != null && dsMienGiamTheoSoTien.length > 0) {\n      tiLePhanTramConLai = dsMienGiamTheoPhanTram != null && dsMienGiamTheoPhanTram.length > 0 ? tiLePhanTramConLai : 0;\n      soTienConLai = tiLePhanTramConLai != 0 ? ((dataItem.ThanhTien * tiLePhanTramConLai) / 100) : dataItem.ThanhTien;\n      //Sắp xếp theo thứ tự:Ưu đãi, Voucher, Miễn giảm thêm\n      dsMienGiamTheoSoTien = _.sortBy(dsMienGiamTheoSoTien, 'LoaiMienGiam');\n      dsMienGiamTheoSoTien.forEach(item => {\n        //Nếu số tiền còn lại sau khi đổ từ trên xuống\n        if (soTienConLai > 0) {\n          item.SoTien = item.SoTien > soTienConLai ? soTienConLai : item.SoTien;\n        }\n        else {\n          item.SoTien = 0;\n        }\n        item.TongTienMiemGiam = this.tongTienTungDichVu !== 0 ? item.SoTien : 0;\n        this.tongTatCaSoTienMg += item.TongTienMiemGiam;\n        if (item.SoTien >= soTienConLai) {\n          soTienConLai = 0;\n        }\n        else {\n          soTienConLai = soTienConLai - item.SoTien;\n        }\n      });\n    }\n\n  }\n\n  //=====================Xử lý miễn giảm thêm bind giá trị miễm giám thêm và checkbox =================================     \n  bindCheckboxMienGiamThem(dataItem: ThongTinDuocPham) {\n    if(dataItem.DanhSachMienGiamVos != null)\n    {\n      dataItem.DanhSachMienGiamVos.filter(item => item.LoaiMienGiam === 3).forEach(item => {\n        if (item.LoaiChietKhau === this.loaiChietKhau.ChietKhauTheoTiLe) {\n          if (item.TiLe != null && item.TiLe != 0) {\n            this.disablePhanTram = true;\n            this.disableInputPhanTram = true;\n            this.tiLeBanDau = item.TiLe;\n          } else {\n            this.disablePhanTram = false;\n            this.disableInputPhanTram = false;\n            item.TongTienMiemGiam = 0;\n          }\n        }\n        if (item.LoaiChietKhau === this.loaiChietKhau.ChietKhauTheoSoTien) {\n          if (item.SoTien != null && item.SoTien != 0) {\n            this.disableSoTien = true;\n            this.disableInputSoTien = true;\n            this.soTienBanDau = item.SoTien;\n          } else {\n            this.disableSoTien = false;\n            this.disableInputSoTien = false;\n            item.TongTienMiemGiam = 0;\n          }\n        }\n      });\n    }\n  }\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 0;\\n  padding-bottom: 100%;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvYXAtZHVuZy1taWVtLWdpYW0tdGhlbS1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXGFwLWR1bmctbWllbS1naWFtLXRoZW0tcG9wdXBcXGFwLWR1bmctbWllbS1naWFtLXRoZW0tcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL2FwLWR1bmctbWllbS1naWFtLXRoZW0tcG9wdXAvYXAtZHVuZy1taWVtLWdpYW0tdGhlbS1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFNBQUE7RUFDQSxvQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL2FwLWR1bmctbWllbS1naWFtLXRoZW0tcG9wdXAvYXAtZHVuZy1taWVtLWdpYW0tdGhlbS1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAwO1xuICBwYWRkaW5nLWJvdHRvbTogMTAwJTtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59IiwiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDA7XG4gIHBhZGRpbmctYm90dG9tOiAxMDAlO1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn0iXX0= */\"","import { Component, OnInit, Inject, ChangeDetectorRef } from \"@angular/core\";\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from \"@angular/material\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { ApDungMiemGiamThem } from \"../quay-thuoc.model\";\n\n@Component({\n  selector: 'app-ap-dung-miem-giam-them-popup',\n  templateUrl: './ap-dung-miem-giam-them-popup.component.html',\n  styleUrls: ['./ap-dung-miem-giam-them-popup.component.scss']\n})\nexport class ApDungMiemGiamThemPopupComponent implements OnInit {\n\n  icClose = icClose;\n  disablePhanTram: boolean = true;\n  disableSoTien: boolean = true;\n  apDungMiemGiamThem = new ApDungMiemGiamThem;\n  validationErrors: any;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any,\n    public sanitizer: DomSanitizer,\n    private cdRef: ChangeDetectorRef,\n    private dialogRef: MatDialogRef<any>\n  ) {\n\n  }\n\n  ngOnInit() {\n  }\n\n  apDungPhanTram(ev: any) {\n    this.validationErrors = [];\n    this.cdRef.detectChanges();\n\n    this.disablePhanTram = !ev;\n    this.apDungMiemGiamThem.TiLe = 0;\n  }\n\n  apDungSoTien(ev: any) {\n    this.validationErrors = [];\n    this.cdRef.detectChanges();\n\n    this.disableSoTien = !ev;\n    this.apDungMiemGiamThem.SoTien = 0;\n  }\n\n  replaceAll(str, find, replace) {\n    return str.replace(new RegExp(find, \"g\"), replace);\n  }\n\n  HuyApDungMGT() {\n    this.dialogRef.close(null);\n  }\n  ApDungMGT() {    \n    this.validationErrors = [];\n    this.cdRef.detectChanges();\n    if (this.apDungMiemGiamThem.ChietKhauTheoTiLe && (this.apDungMiemGiamThem.TiLe === undefined || this.apDungMiemGiamThem.TiLe === 0)) {\n      this.validationErrors.push({\n        Message: \"Vui lòng nhập tỉ lệ miễn giảm.\",\n        Field: \"TiLe\",\n      });\n    }\n    if (this.apDungMiemGiamThem.ChietKhauTheoSoTien && (this.apDungMiemGiamThem.SoTien === undefined || this.apDungMiemGiamThem.SoTien === 0)) {\n      this.validationErrors.push({\n        Message: \"Vui lòng nhập số tiền miễn giảm.\",\n        Field: \"SoTien\",\n      });\n    }\n    if (this.validationErrors.length > 0) {\n      return false;\n    }\n    else{\n      this.dialogRef.close(this.apDungMiemGiamThem);\n    }  \n\n    //====================================trường hơp ko chọn gì hết====================================\n    if(!this.apDungMiemGiamThem.ChietKhauTheoTiLe && !this.apDungMiemGiamThem.ChietKhauTheoSoTien){\n      this.dialogRef.close(null);\n    } \n    //=================================================================================================\n    \n  }\n  close() {\n    this.dialogRef.close(null);\n  }\n}\n\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvaW4tYmFuZy10aHUtdGllbi1wb3AtdXAvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxxdWF5LXRodW9jXFxpbi1iYW5nLXRodS10aWVuLXBvcC11cFxcaW4tYmFuZy10aHUtdGllbi1wb3AtdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL2luLWJhbmctdGh1LXRpZW4tcG9wLXVwL2luLWJhbmctdGh1LXRpZW4tcG9wLXVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL2luLWJhbmctdGh1LXRpZW4tcG9wLXVwL2luLWJhbmctdGh1LXRpZW4tcG9wLXVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwMHB4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn0iLCIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTAwcHg7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSJdfQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-in-bang-thu-tien-pop-up',\n    templateUrl: './in-bang-thu-tien-pop-up.component.html',\n    styleUrls: ['./in-bang-thu-tien-pop-up.component.scss']\n})\nexport class InBangThuTienPopUpComponent implements OnInit {\n    hostingName: string;\n    src = '';\n    icClose = icClose;\n    InPhieuThu : boolean;\n    InBangKe : boolean;\n    loaiPhieu : any ;\n    kiemtraPhieuInManhinh: boolean = false;\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public data: any,\n        public sanitizer: DomSanitizer,\n        private dialog: MatDialog\n    ) {      \n    }\n    modelPrint: any;\n    ngOnInit() {\n        this.modelPrint = this.data.Model;\n        this.kiemtraPhieuInManhinh = this.data.InDonThuocDanhSachList;\n        this.InPhieuThu = this.data.InPhieuThu;\n        this.InBangKe = this.data.InBangKe;\n        this.src = 'data:text/html;charset=utf-8,' + encodeURIComponent(this.data.Model);\n\n    }\n\n    InPhieu(loaiPhieu){\n        this.loaiPhieu = loaiPhieu;\n        this.getSharedPrintForm();\n    }\n    getSharedPrintForm() {\n        const tmpBangKeThu =\n            '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>BẢNG KÊ THU TIỀN THUỐC</th></tr></table>';\n        const tmpPhieuThu =\n            '<table class=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU THU</th></tr></table>';\n        \n            let data: string;\n            \n        data = this.modelPrint.replace(tmpBangKeThu, '');\n        data = data.replace(tmpPhieuThu, '');\n        // in 2 phieu theo ngang-doc kho a5\n        let dataphieukeThuTienThuoc = data.split('<div class=\\\"pagebreak\\\"></div>');\n\n\n        if(this.loaiPhieu == 1)\n        {\n            return new Promise(resolve => {\n                resolve(dataphieukeThuTienThuoc[0]);\n            });\n        }\n        else{\n            if(dataphieukeThuTienThuoc[1] != undefined || dataphieukeThuTienThuoc[1] != null){\n                return new Promise(resolve => {\n                    resolve(dataphieukeThuTienThuoc[1]);\n                });\n            }\n           else{\n               let message =\"Không có phiếu thu tiền\"\n            return new Promise(resolve => {\n                resolve(message);\n            });\n           }\n        }\n    }\n\n    close() {\n        this.dialog.closeAll();\n    }\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvaW4tZG9uLXRodW9jLXBvcC11cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXGluLWRvbi10aHVvYy1wb3AtdXBcXGluLWRvbi10aHVvYy1wb3AtdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL2luLWRvbi10aHVvYy1wb3AtdXAvaW4tZG9uLXRodW9jLXBvcC11cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vcXVheS10aHVvYy9pbi1kb24tdGh1b2MtcG9wLXVwL2luLWRvbi10aHVvYy1wb3AtdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTAwcHg7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSIsIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59Il19 */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-in-don-thuoc-pop-up',\n  templateUrl: './in-don-thuoc-pop-up.component.html',\n  styleUrls: ['./in-don-thuoc-pop-up.component.scss']\n})\nexport class InDonThuocPopUpComponent implements OnInit {\n\n  hostingName: string;\n  src = '';\n  icClose = icClose;\n  InPhieuThu : boolean;\n  InBangKe : boolean;\n  loaiPhieu : any ;\n  kiemtraPhieuInManhinh: boolean = false;\n  constructor(\n      @Inject(MAT_DIALOG_DATA) public data: any,\n      public sanitizer: DomSanitizer,\n      private dialog: MatDialog\n  ) {      \n  }\n  modelPrint: any;\n  ngOnInit() {\n      this.modelPrint = this.data.Model;\n      this.kiemtraPhieuInManhinh = this.data.InDonThuocDanhSachList;\n      this.InPhieuThu = this.data.InPhieuThu;\n      this.InBangKe = this.data.InBangKe;\n      this.src = 'data:text/html;charset=utf-8,' + encodeURIComponent(this.data.Model);\n\n  }\n\n  InPhieu(loaiPhieu){\n      this.loaiPhieu = loaiPhieu;\n      this.getSharedPrintForm();\n  }\n  getSharedPrintForm() {\n      const tmpBHYT =\n          \"<p  style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'>\" +\n          \"<th>TOA THUỐC BẢO HIỂM Y TẾ</th>\" +\n          \"</p>\";\n      const tmpKBHYT =\n          \"<p  style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'>\" +\n          \"<th>TOA THUỐC KHÔNG BẢO HIỂM Y TẾ</th>\" +\n          \"</p>\";\n      const tmpTNBV =\n          \"<p  style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'>\" +\n          \"<th>TOA THUỐC NGOÀI BỆNH VIỆN</ th>\" +\n          \"</p>\";\n\n          const tmpTuVan =\n          \"<p  style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'>\" +\n                                 \"<th>ĐƠN TƯ VẤN</ th>\" +\n                                 \"</p>\";\n      let data: string;\n      data = this.modelPrint.replace(tmpBHYT, '');\n      data = data.replace(tmpKBHYT, '');\n      data = data.replace(tmpKBHYT, '');\n      data = data.replace(tmpTuVan, '');\n      data = data.replace(tmpTNBV, '');\n      // in 2 phieu theo ngang-doc kho a5\n      let dataphieukeThuTienThuoc = data.split('<div class=\\\"pagebreak\\\"></div>');\n      if(this.loaiPhieu == 1)\n      {\n          return new Promise(resolve => {\n              resolve(dataphieukeThuTienThuoc[0]);\n          });\n      }\n      else{\n          if(dataphieukeThuTienThuoc[1] != undefined || dataphieukeThuTienThuoc[1] != null){\n              return new Promise(resolve => {\n                  resolve(dataphieukeThuTienThuoc[1]);\n              });\n          }\n         else{\n             let message =\"Không có phiếu thu tiền\"\n          return new Promise(resolve => {\n              resolve(message);\n          });\n         }\n      }\n  }\n\n  close() {\n      this.dialog.closeAll();\n  }\n\n}\n","// export class QuayXuatThuoc {\n//     constructor(\n//         public Id: number = 0,\n//         public MaTN: string = null,\n//         public MaBN: string = null,\n//         public HoTen: string = null,\n//         public SoDon: string = \"\",\n\nimport { Sort } from 'src/app/shared/models/common.model';\n\n//         public ThoiDiemCapPhatThuoc: string = null,\n//         public NgayThuStr: string = null,\n//     ) { }\n\n// }\nexport class QuayXuatThuoc {\n    constructor(\n        public ThoiDiemTiepNhanTuFormat: any = null,\n        public ThoiDiemTiepNhanDenFormat: any = null,\n        public FromDate: any = null,\n        public ToDate: any = null\n    ) { }\n}\nexport class TagItem {\n    constructor(\n        public Key: string = null,\n        public Value: string = null,\n        public ValueDisplay: string = null,\n        public Title: string = null\n    ) { }\n}\nexport class BenhNhanThongTin {\n    constructor(\n        public Id: number = null,\n        public MaBN: string = null,\n        public MaYeuCauTiepNhan: string = null,\n        public HoTen: string = null,\n        public GioiTinh: string = null,\n        public GioiTinhHienThi: string = null,\n        public NamSinh: string = null,\n        public DiaChi: string = null,\n        public DiaChiDayDu: string = null,\n        public SoDienThoai: string = null,\n        public Email: string = null,\n        public SoDuTaiKhoan: number = 0\n    ) { }\n\n}\nexport class DanhSachThuoc {\n    constructor(\n        public Id: number = 0,\n        public ThuocBHYT: any[] = [],\n        public ThuocKhongBHYT: any[] = [],\n\n    ) { }\n}\n\nexport class XacNhanInViewModel {\n    constructor(\n        public TaiKhoanBenhNhanThuId: number = null,\n        public InPhieuThu: boolean = null,\n        public InBangKe: boolean = null,\n        public Hosting: string = null\n    ) { }\n}\n\nexport class XacNhanInThuocViewModel {\n    constructor(\n        public TiepNhanId: number = null,\n        public Hosting: string = null,\n        public IsBhyt: boolean = null,\n    ) { }\n}\nexport class ExportQueryInfoQueryInfo  {\n    constructor(\n        public Skip: number =0,\n        public Take: number =50 ,\n        public PageSize: number =50,\n        public SearchString: string =\"\",\n        public AdditionalSearchString: string =\"\",\n        // public searchTerms: string = \"\",\n        public Sort: Sort[] = []\n    ) { }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtY2hvLXRoYW5oLXRvYW4vcXVheS10aHVvYy1jaG8tdGhhbmgtdG9hbi5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Input, ChangeDetectorRef, ViewChild } from '@angular/core';\nimport { ThongTinBenhNhan } from '../quay-thuoc.model';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent } from '../quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component';\nimport { MatDialog } from '@angular/material';\nimport { QuayThuocListComponent } from 'src/app/modules/main/quay-thuoc/quay-thuoc-list/quay-thuoc-list.component';\nimport { LocalStorageHelper } from 'src/app/core/utilities/local-storage.helper';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\n\n@Component({\n  selector: 'app-quay-thuoc-cho-thanh-toan',\n  templateUrl: './quay-thuoc-cho-thanh-toan.component.html',\n  styleUrls: ['./quay-thuoc-cho-thanh-toan.component.scss']\n})\nexport class QuayThuocChoThanhToanComponent implements OnInit {\n  id: number = 0;\n  benhNhan: ThongTinBenhNhan;\n  typeDanhSachThanhToan: number = 0;\n  xacNhanIn: boolean = false;\n  queryStringSearchUuTien: string;\n  dataQuayThuocSearch: any;\n  hoquerySearch : boolean ;\n  @ViewChild(GridComponent, { static: true }) gridChild: GridComponent;\n  @ViewChild(QuayThuocListComponent, { static: true }) gridQuayThuocList: QuayThuocListComponent;\n  constructor(private router: Router, private route: ActivatedRoute, private cd: ChangeDetectorRef, private dialog: MatDialog) { }\n\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      this.id = params.page;  // id là đã thanh toán\n      this.hoquerySearch = params.hoQuerysearch;\n    });\n    if (this.id == undefined) {\n      LocalStorageHelper.removeItem(\"additionalSearchStringChiTietNhaThuoc\");\n    }\n    if (this.id == 1) {\n      this.typeDanhSachThanhToan = 1;\n      var searching = LocalStorageHelper.getItem<string>(\"additionalSearchStringChiTietNhaThuoc\");\n      this.queryStringSearchUuTien =searching;\n    }\n    if (this.id == 2) {\n      this.typeDanhSachThanhToan = 2;\n      var searching = LocalStorageHelper.getItem<string>(\"additionalSearchStringChiTietNhaThuoc\");\n      this.queryStringSearchUuTien =searching;\n    }\n    if (this.id == 3) {\n      this.typeDanhSachThanhToan = 3;\n      var searching = LocalStorageHelper.getItem<string>(\"additionalSearchStringChiTietNhaThuoc\");\n      this.queryStringSearchUuTien =searching;\n    }\n    if (this.id == 0) {\n      this.typeDanhSachThanhToan = 0;\n      var searching = LocalStorageHelper.getItem<string>(\"additionalSearchStringChiTietNhaThuoc\");\n      this.queryStringSearchUuTien =searching;\n    }\n\n  }\n\n  getonHaddleDataSearch(event) {\n    this.dataQuayThuocSearch = event;\n  }\n  ToKhachVangLai(typeDanhSachThanhToan: any) {\n    //this.router.navigate(['nha-thuoc'], { queryParams: { page: type} });\n    this.router.navigate(['nha-thuoc/khach-vang-lai'], { queryParams: { page: typeDanhSachThanhToan } });\n  }\n  getkiemTraDonThuocThanhToan(event: any) {\n    this.cd.detectChanges();\n    // this.typeDanhSachThanhToan = event;\n  }\n  getonHaddleUuTienSearch(event: any) {\n    // this.gridQuayThuocList.queryStringSearchUuTien = null;\n    this.queryStringSearchUuTien = event;\n    this.cd.detectChanges();\n  }\n  KiemTraeXportExel(event: any) {\n    this.xacNhanIn = event;\n  }\n  getData(event: any) {\n    this.benhNhan = event;\n    // if (this.benhNhan.YeuCauTiepNhanId > 0) {\n    //   this.router.navigate(['nha-thuoc/mua-thuoc/' + this.benhNhan.YeuCauTiepNhanId + '/' + this.benhNhan.MaBenhNhan + '/' + event.TrangThaiThanhToan + '/'+ this.typeDanhSachThanhToan]);\n    // }\n    // else {\n    //   if(this.benhNhan.)\n    //   this.router.navigate(['nha-thuoc/mua-toa-cu/' + this.benhNhan.MaBenhNhan + '/' + this.typeDanhSachThanhToan]);\n    // }\n    if (event.Id > 0) {\n      // this.router.navigate(['nha-thuoc/mua-thuoc/' + event.Id + '/' + event.MaBN + '/' + event.TrangThaiThanhToan + '/'+ this.typeDanhSachThanhToan]);\n      this.router.navigate(['nha-thuoc/mua-thuoc/' + event.Id + '/' + event.MaBN + '/' + event.TrangThai + '/' + this.typeDanhSachThanhToan]);\n    }\n    else {\n      if (event.DonThuocThanhToanExits == true) {\n        this.router.navigate(['nha-thuoc/mua-toa-cu/' + event.MaBN + '/' + this.typeDanhSachThanhToan]);\n      }\n      else {\n        let dialogRef = this.dialog.open(QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent, {\n          disableClose: true,\n          width: '500px',\n          data: { Model: event, KiemTraThanhToan: this.typeDanhSachThanhToan, Title: \"XÁC NHẬN\" }\n        }).afterClosed().subscribe(result => {\n        });\n      }\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtY2hvLXh1YXQtdGh1b2MvcXVheS10aHVvYy1jaG8teHVhdC10aHVvYy5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, ViewChild, TemplateRef, Input, OnChanges } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { danhSachThuoc } from '../quay-thuoc.model';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { MatDialog } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { InBangThuTienPopUpComponent } from '../in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ThongTinPhieuPdfPopupComponent } from '../thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\n\n@Component({\n    selector: 'app-quay-thuoc-cho-xuat-thuoc',\n    templateUrl: './quay-thuoc-cho-xuat-thuoc.component.html',\n    styleUrls: ['./quay-thuoc-cho-xuat-thuoc.component.scss']\n})\nexport class QuayThuocChoXuatThuocComponent implements OnInit, OnChanges {\n    id: number = this.route.snapshot.params.id;\n    gridColumns: any[] = [];\n    danhSachThuoc: danhSachThuoc;\n\n    @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n    @Input() flagOnce: boolean;\n    @Input() trangThaiXuatThuoc: number;\n    @Input() ttcheck: number;\n    dataSourcedanhsachThuocBHYT: any = {\n        data: [],\n        total: 0\n    };\n    dataSourcedanhsachThuocKhongBHYT: any = {\n        data: [],\n        total: 0\n    };\n    constructor(private route: ActivatedRoute, private dialog: MatDialog, private apiService: ApiService, private router: Router, private notificationService: NotificationService) { }\n\n    ngOnInit() {\n        this.danhSachThuoc = new danhSachThuoc();\n        this.GetThongTinDonThuoc(this.id);\n        this.gridColumns = [\n            { Field: \"STT\", Title: \"#\", Width: 40, Sortable: false },\n            { Field: \"TenDuocPham\", Title: \"Tên Thuốc\", Width: 190, Sortable: false },\n            { Field: \"NongDoVaHamLuong\", Title: \"Nồng độ / hàm lượng\", Width: 185, Sortable: false },\n            { Field: \"MaHoatChat\", Title: \"Hoạt chất\", Width: 185, Sortable: false },\n            { Field: \"DonViTinh\", Title: \"ĐVT\", Width: 94, Sortable: false },\n            { Field: \"SoLuongMua\", Title: \"SL Mua\", Width: 110, Sortable: false },\n            { Field: \"DonGia\", Title: \"Đơn giá\", Width: 129, Sortable: false, Template: this.donGiaTemplate },\n            { Field: \"ThanhTien\", Title: \"Thành tiền\", Width: 147, Sortable: false, Template: this.thanhTienTemplate },\n            { Field: \"Solo\", Title: \"Số lô\", Width: 109, Sortable: false },\n            { Field: \"HanSuDungHientThi\", Title: \"Hạn sử dụng\", Width: 146, Sortable: false },\n        ];\n    }\n\n    ngOnChanges() {\n        if (this.flagOnce == false) {\n            this.GetThongTinDonThuoc(this.id);\n            this.flagOnce = true;\n        }\n    }\n    loadingPage() {\n        var self = this;\n        var dialogRef = self.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: \"Đang tải dữ liệu...\" }\n        });\n    }\n    GetThongTinDonThuoc(id: number) {\n        var self = this;\n        var dialogRef = self.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: \"Đang tải dữ liệu...\" }\n        });\n        // this.apiService.post<Array<any>>(\"QuayThuoc/GetDanhSachXuatThuocBHYT?tiepNhanId=\" + id).subscribe(\n        //     resultData => {\n        //         this.dataSourcedanhsachThuocBHYT.data = resultData;\n        //         let index = 1;\n        //         this.dataSourcedanhsachThuocBHYT.data.forEach(x => {\n        //             x.STT = index;\n        //             index++;\n        //         });\n        //         this.danhSachThuoc.ThuocBHYT = [...this.dataSourcedanhsachThuocBHYT.data]\n        //     },\n        //     () => { });\n        this.apiService.post<Array<any>>(\"QuayThuoc/GetDanhSachXuatThuocKhongBHYT?tiepNhanId=\" + id).subscribe(\n            resultData => {\n                this.dataSourcedanhsachThuocKhongBHYT.data = resultData;\n                let index = 1;\n                this.dataSourcedanhsachThuocKhongBHYT.data.forEach(x => {\n                    x.STT = index;\n                    index++;\n                });\n                this.danhSachThuoc.ThuocKhongBHYT = [...this.dataSourcedanhsachThuocKhongBHYT.data]\n            },\n            () => { });\n            dialogRef.close();\n    }\n    GuiData() {\n        this.danhSachThuoc.Id = this.id;\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn xuất đơn thuốc này?\" }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result == \"Yes\") {\n                this.apiService.post<any>(\"QuayThuoc/XuatDonThuocBHYT\", this.danhSachThuoc).subscribe(\n                    resultData => {\n                        if (resultData != null && resultData != undefined && resultData != \"\") {\n                            this.notificationService.showError(resultData);\n                        } else {\n                            if (this.ttcheck == 1) {\n                                this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck ,hoQuerysearch:false} });\n                            }\n                            if (this.ttcheck == 2) {\n                                this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck ,hoQuerysearch:false} });\n                            }\n                            if (this.ttcheck == 3) {\n                                this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck,hoQuerysearch:false } });\n                            }\n                            if (this.ttcheck == 0) {\n                                this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck,hoQuerysearch:false } });\n                            }\n                        }\n                    },\n                    (err: any) => {\n\n                    });\n            }\n        });\n    }\n\n    KeThuoc() {\n        this.showPopupLoadingIn();\n        var data = {\n            Hosting: null,\n            TiepNhanId: this.id\n        }\n        \n        data.Hosting  = window.location.protocol + '//' + window.location.host;\n        this.apiService.postExportPdf<any>(\"QuayThuoc/XacNhanInThuocCoBhyt\", data).subscribe(\n            (resultData) => {               \n                if(resultData !=undefined && resultData != null)\n                {\n                    this.dialog.open(ThongTinPhieuPdfPopupComponent, {\n                        disableClose: true,\n                        width: '1000px',\n                        data: { Model: resultData }\n                    }).afterClosed().subscribe(() => { \n                        this.closePopupLoadingData();\n                    });\n                }\n\n            }, (err: ApiError) => {\n                if (err.Message !== 'Validation Failed') {\n                  this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n              });\n    }\n    showPopupLoadingIn() {\n        this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '250px',\n            height: '90px',\n            data: { Title: 'Đang loading...' },\n        });\n    }\n\n    closePopupLoadingData() {\n        this.dialog.closeAll();\n    }\n}\n","export default \"#SoLuongTon input {\\n  font-weight: bold;\\n  color: green;\\n}\\n\\n.color-red {\\n  color: red;\\n}\\n\\n.reverse-ellipsis.r {\\n  text-align: right;\\n  direction: inherit;\\n}\\n\\n.mat-icon {\\n  font-size: 16px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy1oaW5oLXRodWMtdGhhbmgtdG9hbi9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXHF1YXktdGh1b2MtaGluaC10aHVjLXRoYW5oLXRvYW5cXHF1YXktdGh1b2MtaGluaC10aHVjLXRoYW5oLXRvYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtaGluaC10aHVjLXRoYW5oLXRvYW4vcXVheS10aHVvYy1oaW5oLXRodWMtdGhhbmgtdG9hbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0UsVUFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsMEJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtaGluaC10aHVjLXRoYW5oLXRvYW4vcXVheS10aHVvYy1oaW5oLXRodWMtdGhhbmgtdG9hbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNTb0x1b25nVG9uIGlucHV0IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLmNvbG9yLXJlZCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5yZXZlcnNlLWVsbGlwc2lzLnIge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZGlyZWN0aW9uOiBpbmhlcml0O1xufVxuXG4ubWF0LWljb24ge1xuICBmb250LXNpemU6IDE2cHggIWltcG9ydGFudDtcbn0iLCIjU29MdW9uZ1RvbiBpbnB1dCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5jb2xvci1yZWQge1xuICBjb2xvcjogcmVkO1xufVxuXG4ucmV2ZXJzZS1lbGxpcHNpcy5yIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGRpcmVjdGlvbjogaW5oZXJpdDtcbn1cblxuLm1hdC1pY29uIHtcbiAgZm9udC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, OnChanges, Input, EventEmitter, Output, ChangeDetectorRef, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport {\n    ThemDuocPham, ThongTinDuocPham, ThongTinDonThuoc, BenhNhanThongTin,\n    DanhSachCongNoChoThu, CongNoChoThu, CongNoVo,\n    ApDungMiemGiamThem, DanhSachMienGiamVo,\n    LoaiMienGiam, LoaiChietKhau,  NguoiDungKhongMuaDonThuoc\n} from '../quay-thuoc.model';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { MatDialog } from '@angular/material';\nimport icDelete from '@iconify/icons-ic/delete';\nimport { QuayThuocXacNhanInPopUpComponent } from '../quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component';\nimport { SelectAllCheckboxState } from '@progress/kendo-angular-grid';\nimport { process, State } from '@progress/kendo-data-query';\ndeclare var jQuery: any;\nimport icInfo from '@iconify/icons-ic/twotone-info';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ComboboxComponent } from 'src/app/shared/component/dropdowns/combobox/combobox.component';\nimport icRoundEdit from '@iconify/icons-ic/edit';\nimport { ApDungMiemGiamThemPopupComponent } from '../ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component';\nimport { ApDungMiemGiamChoTungLoaiThuocPopupComponent } from '../ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component';\nimport * as _ from 'underscore';\nimport { ThongTinPhieuPdfPopupComponent } from '../thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { AuthService } from 'src/app/core/services/auth.service';\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-quay-thuoc-hinh-thuc-thanh-toan',\n    templateUrl: './quay-thuoc-hinh-thuc-thanh-toan.component.html',\n    styleUrls: ['./quay-thuoc-hinh-thuc-thanh-toan.component.scss']\n})\nexport class QuayThuocHinhThucThanhToanComponent implements OnInit, OnChanges {\n    icInfo = icInfo;\n    icRoundEdit = icRoundEdit;\n    validationErrors: any[] = [];\n    validationThuThuocErrors: any[] = [];\n    id = 0;\n    idSub = 0;\n    tongTien = 0;\n    tongTienGrid = 0;\n    thongtinDonThuoc: ThongTinDonThuoc;\n    icDelete = icDelete;\n    themDuocPham: ThemDuocPham;\n    documentType: DocumentType;\n    lstthongTinDonThuoc: Array<ThongTinDuocPham>;\n    flagCheckSeletedTienMat = false;\n    flagCheckSeletedChuyenKhoan = false;\n    flagCheckSeletedPos = false;\n    flagCheckSeletedSoTienCongNo = false;\n    format: string = 'n2';\n    selectItem: number[] = [];\n    deleteItem: Array<ThongTinDuocPham>;\n    isSelectingItem: boolean = false;\n    public showCanhBaoSoTienNhap: boolean = false;\n\n    public hinhThucThanhToan: any = [\n        { KeyId: 1, DisplayName: \"Tiền mặt\", Selected: false, Change: false },\n        { KeyId: 2, DisplayName: \"Chuyển khoản\", Selected: false, Change: false },\n        { KeyId: 3, DisplayName: \"Pos\", Selected: false, Change: false },\n        { KeyId: 4, DisplayName: \"Công nợ\", Selected: false, Change: false },\n    ];\n\n    public setDefeautTienMat: any = [1];\n\n    constructor(private route: ActivatedRoute, private apiService: ApiService, private notificationService: NotificationService,\n        private dialog: MatDialog, private cdRef: ChangeDetectorRef, private authService: AuthService,private router: Router) { }\n    lstDonThuocMoiThem = Array<ThongTinDuocPham>();\n    public danhSachCongNoChoThus: DanhSachCongNoChoThu[] = [];\n    dataSourcedanhsachThuoc: any = {\n        data: [],\n        total: 0\n    };\n    maYCTNId = 0;\n    public keySelectBy = 'Id';\n    public mySelection: number[] = [];\n    public mySelectionInPage: number[] = [];\n    public selectAllState: SelectAllCheckboxState = 'unchecked';\n\n    public selectMoneyTienBNDua: any[] = null;\n    public selectMoneyTienMat: any[] = null;\n    public selectMoneyTienChuyenKhoan: any[] = null;\n    public selectMoneyTienPos: any[] = null;\n    public selectMoneySoTienCongNo: any[] = null;\n\n    @Output() danhSachChuaThanhToan = new EventEmitter<any>();\n\n    @Input() benhnhanThongTin: BenhNhanThongTin;\n    @Input() apDungCongNoThuoc = false;\n    @Input() apDungMienGiam = false;\n    @Input() thongTinTam: any = [];\n    @Input() viTri: number;\n    @Input() thongTinMienGiamVos: any;\n\n    @Output() afterChangedCongNo = new EventEmitter<any>();\n    @Output() afterChangedMg = new EventEmitter<any>();\n    @Output() changeTab = new EventEmitter<any>();\n    @ViewChild('duocPhamCombobox', { static: false }) duocPhamCombobox: ComboboxComponent;\n    public state: State = {};\n    public gridData: any = process(this.dataSourcedanhsachThuoc.data, this.state);\n    public apDungCNAndMiemGiam = false;\n\n    arrayThanhToans: any[] = [];\n    arrayThanhToanstmp: any[] = [];\n    confirm: any = null;\n\n    checkSeletedTienMat = false;\n    checkSeletedChuyenKhoan = false;\n    checkSeletedPos = false;\n    checkSeletedSoTienCongNo = false;\n\n    loaiYeuCauTiepNhanKhachVangLai: boolean = false;\n\n    closedialog: any;\n\n    public total(field: any) {\n        switch (field) {\n            case 'BNConPhaiThanhToan':\n                return this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault)\n                    .reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0);\n            case 'SoTienMG':\n                return this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault)\n                    .reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'ThanhTienHienThi':\n                return this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault)\n                    .reduce((sum, item) => sum + item.ThanhTienHienThi, 0);\n            case 'BNConPhaiThanhToanHienThi':\n                return this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault)\n                    .reduce((sum, item) => sum + item.BNConPhaiThanhToanHienThi, 0);\n            case 'ThanhTien':\n                return this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault)\n                    .reduce((sum, item) => sum + item.ThanhTien, 0);\n        }\n    }\n\n    // update 28/12/2020\n    public apDungMGT = new ApDungMiemGiamThem;\n    confrim: any = null;\n    public danhSachMienGiamVo = new DanhSachMienGiamVo;\n    public loaiMienGiam = new LoaiMienGiam;\n    public loaiChietKhau = new LoaiChietKhau;\n\n    ngOnInit() {\n        this.documentType = DocumentType.QuayThuoc;\n        this.closedialog = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: {}\n        });\n        const tiepNhanId: number = this.route.snapshot.params.id;\n        this.maYCTNId = tiepNhanId;\n        const id: number = this.route.snapshot.params.id;\n        this.id = id;\n\n\n\n        this.idSub = this.route.snapshot.params.idsub;\n        this.thongtinDonThuoc = new ThongTinDonThuoc();\n        this.GetTenBenhNhan(this.idSub);\n        this.checkLoaiYCTN(tiepNhanId);\n        this.lstDonThuocMoiThem = new Array<ThongTinDuocPham>();\n        this.themDuocPham = new ThemDuocPham();\n        this.deleteItem = new Array<ThongTinDuocPham>();\n\n        if (this.benhnhanThongTin == null) {\n            this.benhnhanThongTin = new BenhNhanThongTin();\n        }\n        this.selectItem = [1];\n        this.checkSeletedTienMat = true;\n        this.flagCheckSeletedTienMat = true;\n        this.thongtinDonThuoc.NgayThu = new Date();\n        this.thongtinDonThuoc.NoiDungThu = 'Thu tiền thuốc';\n\n        this.hinhThucThanhToan = [\n            { KeyId: 1, DisplayName: \"Tiền mặt\", Selected: true, Change: false },\n            { KeyId: 2, DisplayName: \"Chuyển khoản\", Selected: false, Change: false },\n            { KeyId: 3, DisplayName: \"Pos\", Selected: false, Change: false },\n            { KeyId: 4, DisplayName: \"Công nợ\", Selected: false, Change: false },\n        ];;\n    }\n\n    checkLoaiYCTN(tiepNhanId: number) { // kiểm tra loại yêu cầu tiếp nhận  => nếu yctn là khách vãng lai grid => hidden miển giảm\n        this.apiService.post<any>('QuayThuoc/CheckLoaiYCTN?tiepNhanId=' + tiepNhanId).subscribe(\n            resultData => {\n                this.loaiYeuCauTiepNhanKhachVangLai = resultData;\n            });\n    }\n\n    ngOnChanges() {\n        if (this.apDungCongNoThuoc === true) {\n            this.apDungCNAndMiemGiam = true;\n            this.bindChiaTienCongNo();\n            const soTienCongNoApply = this.thongTinTam[this.viTri].SoTien;\n            const soTienTongHienTai = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n            if (soTienCongNoApply > soTienTongHienTai) {\n                this.notificationService.showError('Áp dụng công nợ thất bại.');\n            } else {\n                this.notificationService.showSuccess('Áp dụng công nợ thành công.');\n            }\n            this.afterChangedCongNo.emit();\n        }\n\n        if (this.apDungMienGiam === true) {\n            this.apDungCNAndMiemGiam = false;\n            this.getThongTinMienGiam(this.maYCTNId);\n        }\n    }\n\n    bindChiaPhanTramDoiTuongUuDai() {\n        if (this.danhSachCongNoChoThus.length > 0) {\n            this.bindChiaTienCongNo();\n            this.cdRef.detectChanges();\n        }\n\n        if (this.dataSourcedanhsachThuoc.data.length > 0) {\n            if (this.thongTinTam.length === 0) {\n                for (const dsChiPhiKhamChuaBenh of this.dataSourcedanhsachThuoc.data) {\n                    if (dsChiPhiKhamChuaBenh.CheckedDefault === true) {\n                        dsChiPhiKhamChuaBenh.TLMG = 0;\n                        dsChiPhiKhamChuaBenh.SoTienMG = 0;\n                        dsChiPhiKhamChuaBenh.BNConPhaiThanhToan = dsChiPhiKhamChuaBenh.ThanhTien;\n                    }\n                }\n            }\n            //tiền miễn giảm số lẻ làm tròn xuống Math.floor , tiền Người bệnh Thanh toán làm tròn lên Math.round\n            if (this.thongTinMienGiamVos != undefined && this.thongTinMienGiamVos != null) {\n                // Case 3: Áp dụng voucher\n                if (this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo !== null &&\n                    Object.entries(this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo).length !== 0) {\n                    if (this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo.LoaiVoucher === 2) {\n                        let soTienMiemGiamThemConLaiVoucherCase = this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo.SoTienVoucherMiemGiam;\n                        let soTienMiemGiamThemConLaiTamVoucherCase = 0;\n                        for (const dsChiPhiKhamChuaBenh of this.dataSourcedanhsachThuoc.data) {\n                            const totalCongNo = this.itemTotalCongNo(dsChiPhiKhamChuaBenh.DanhSachCongNoChoThus);\n                            if (dsChiPhiKhamChuaBenh.CheckedDefault === true) {\n                                if (dsChiPhiKhamChuaBenh.BNConPhaiThanhToan !== 0\n                                    && dsChiPhiKhamChuaBenh.BNConPhaiThanhToan < soTienMiemGiamThemConLaiVoucherCase) {\n                                    soTienMiemGiamThemConLaiTamVoucherCase = dsChiPhiKhamChuaBenh.BNConPhaiThanhToan;\n                                    dsChiPhiKhamChuaBenh.SoTienMG = Math.floor(dsChiPhiKhamChuaBenh.SoTienMG +\n                                        dsChiPhiKhamChuaBenh.BNConPhaiThanhToan);\n                                    dsChiPhiKhamChuaBenh.BNConPhaiThanhToan = (dsChiPhiKhamChuaBenh.ThanhTien -\n                                        totalCongNo - dsChiPhiKhamChuaBenh.SoTienMG);\n                                    soTienMiemGiamThemConLaiVoucherCase = soTienMiemGiamThemConLaiVoucherCase -\n                                        dsChiPhiKhamChuaBenh.BNConPhaiThanhToan - soTienMiemGiamThemConLaiTamVoucherCase;\n                                }\n                                if (soTienMiemGiamThemConLaiVoucherCase > 0 &&\n                                    dsChiPhiKhamChuaBenh.BNConPhaiThanhToan > soTienMiemGiamThemConLaiVoucherCase) {\n                                    dsChiPhiKhamChuaBenh.SoTienMG = dsChiPhiKhamChuaBenh.SoTienMG + soTienMiemGiamThemConLaiVoucherCase;\n                                    dsChiPhiKhamChuaBenh.BNConPhaiThanhToan = dsChiPhiKhamChuaBenh.ThanhTien - totalCongNo - dsChiPhiKhamChuaBenh.SoTienMG;\n                                    soTienMiemGiamThemConLaiVoucherCase = 0;\n                                }\n                            }\n                        }\n                    }\n\n                    if (this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo.LoaiVoucher === 1) {\n                        // Case 2: Áp dụng voucher rãi đều % theo tông sô tiền SoTienVoucherMiemGiam\n                        let soTienVoucherConLai = this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo.SoTienVoucherMiemGiam;\n                        this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo.DuocPhamMienGiamTheoTiLes.forEach(element => {\n                            for (const dsChiPhiKhamChuaBenh of this.dataSourcedanhsachThuoc.data) {\n                                if (dsChiPhiKhamChuaBenh.CheckedDefault === true) {\n                                    const totalCongNo = this.itemTotalCongNo(dsChiPhiKhamChuaBenh.DanhSachCongNoChoThus);\n                                    if (dsChiPhiKhamChuaBenh.DuocPhamId === element.DuocPhamId) {\n                                        dsChiPhiKhamChuaBenh.TLMG = dsChiPhiKhamChuaBenh.TLMG + element.TiLe;\n                                        dsChiPhiKhamChuaBenh.SoTienMG = Math.floor(\n                                            ((dsChiPhiKhamChuaBenh.SoLuongMua * dsChiPhiKhamChuaBenh.DonGia - totalCongNo) *\n                                                element.TiLe) / 100);\n\n                                        if (dsChiPhiKhamChuaBenh.SoTienMG > dsChiPhiKhamChuaBenh.SoLuongMua\n                                            * dsChiPhiKhamChuaBenh.DonGia - totalCongNo) {\n                                            dsChiPhiKhamChuaBenh.SoTienMG = dsChiPhiKhamChuaBenh.SoLuongMua\n                                                * dsChiPhiKhamChuaBenh.DonGia - totalCongNo;\n                                        }\n\n                                        if (soTienVoucherConLai < dsChiPhiKhamChuaBenh.SoTienMG) {\n                                            dsChiPhiKhamChuaBenh.SoTienMG = soTienVoucherConLai;\n                                        }\n                                        soTienVoucherConLai = soTienVoucherConLai - dsChiPhiKhamChuaBenh.SoTienMG;\n                                        dsChiPhiKhamChuaBenh.BNConPhaiThanhToan =\n                                            (dsChiPhiKhamChuaBenh.SoLuongMua * dsChiPhiKhamChuaBenh.DonGia - totalCongNo)\n                                            - dsChiPhiKhamChuaBenh.SoTienMG;\n                                    }\n                                }\n                            }\n\n                        });\n                    }\n                }\n\n                // Case 2: Áp dụng ThongTinMienGiamThemVo\n                if (this.thongTinMienGiamVos.ThongTinMienGiamThemVo != undefined && this.thongTinMienGiamVos.ThongTinMienGiamThemVo != null &&\n                    Object.entries(this.thongTinMienGiamVos.ThongTinMienGiamThemVo).length !== 0) {\n                    if (this.thongTinMienGiamVos.ThongTinMienGiamThemVo.LoaiMienGiamThem === 1) {\n                        let soTienMiemGiamThemConLai = this.thongTinMienGiamVos.ThongTinMienGiamThemVo.SoTienMGConLai;\n                        let soTienMiemGiamThemConLaiTam = 0;\n                        for (const dsChiPhiKhamChuaBenh of this.dataSourcedanhsachThuoc.data) {\n                            const totalCongNo = this.itemTotalCongNo(dsChiPhiKhamChuaBenh.DanhSachCongNoChoThus);\n                            if (dsChiPhiKhamChuaBenh.CheckedDefault === true) {\n                                if (dsChiPhiKhamChuaBenh.BNConPhaiThanhToan !== 0\n                                    && dsChiPhiKhamChuaBenh.BNConPhaiThanhToan <= soTienMiemGiamThemConLai) {\n                                    soTienMiemGiamThemConLaiTam = dsChiPhiKhamChuaBenh.BNConPhaiThanhToan;\n                                    dsChiPhiKhamChuaBenh.SoTienMG = Math.floor(dsChiPhiKhamChuaBenh.SoTienMG\n                                        + dsChiPhiKhamChuaBenh.BNConPhaiThanhToan);\n                                    dsChiPhiKhamChuaBenh.BNConPhaiThanhToan = dsChiPhiKhamChuaBenh.ThanhTien\n                                        - totalCongNo - dsChiPhiKhamChuaBenh.SoTienMG;\n                                    soTienMiemGiamThemConLai = soTienMiemGiamThemConLai -\n                                        dsChiPhiKhamChuaBenh.BNConPhaiThanhToan - soTienMiemGiamThemConLaiTam;\n                                }\n                                if (soTienMiemGiamThemConLai > 0 && dsChiPhiKhamChuaBenh.BNConPhaiThanhToan > soTienMiemGiamThemConLai) {\n                                    dsChiPhiKhamChuaBenh.SoTienMG = dsChiPhiKhamChuaBenh.SoTienMG + soTienMiemGiamThemConLai;\n                                    dsChiPhiKhamChuaBenh.BNConPhaiThanhToan = dsChiPhiKhamChuaBenh.ThanhTien - totalCongNo - dsChiPhiKhamChuaBenh.SoTienMG;\n                                    soTienMiemGiamThemConLai = 0;\n                                }\n                            }\n                        }\n                    } else {\n                        // Case 2: Áp dụng ThongTinMienGiamThemVo tỉ lệ miễm giảm\n                        let isApDungDichVuId = false;\n                        const tiLeMienGiam = this.thongTinMienGiamVos.ThongTinMienGiamThemVo.TiLeMienGiam;\n                        for (const dsChiPhiKhamChuaBenh of this.dataSourcedanhsachThuoc.data) {\n                            const totalCongNo = this.itemTotalCongNo(dsChiPhiKhamChuaBenh.DanhSachCongNoChoThus);\n                            if (dsChiPhiKhamChuaBenh.CheckedDefault === true) {\n                                isApDungDichVuId = true;\n                                dsChiPhiKhamChuaBenh.TLMG = dsChiPhiKhamChuaBenh.TLMG + tiLeMienGiam;\n                                dsChiPhiKhamChuaBenh.SoTienMGThem = dsChiPhiKhamChuaBenh.SoTienMG;\n                                dsChiPhiKhamChuaBenh.SoTienMG = Math.floor(\n                                    ((dsChiPhiKhamChuaBenh.SoLuongMua * dsChiPhiKhamChuaBenh.DonGia - totalCongNo) *\n                                        dsChiPhiKhamChuaBenh.TLMG) / 100);\n                                dsChiPhiKhamChuaBenh.BNConPhaiThanhToan =\n                                    dsChiPhiKhamChuaBenh.ThanhTien - totalCongNo - dsChiPhiKhamChuaBenh.SoTienMG;\n                            }\n                        }\n\n                        if (isApDungDichVuId) {\n                            for (const dsChiPhiKhamChuaBenh of this.dataSourcedanhsachThuoc.data) {\n                                if (dsChiPhiKhamChuaBenh.CheckedDefault === true && dsChiPhiKhamChuaBenh.SoTienMGThem !== undefined) {\n                                    const totalCongNo = this.itemTotalCongNo(dsChiPhiKhamChuaBenh.DanhSachCongNoChoThus);\n                                    dsChiPhiKhamChuaBenh.SoTienMG = dsChiPhiKhamChuaBenh.SoTienMG + dsChiPhiKhamChuaBenh.SoTienMGThem;\n                                    if (dsChiPhiKhamChuaBenh.SoTienMG > (dsChiPhiKhamChuaBenh.SoLuongMua\n                                        * dsChiPhiKhamChuaBenh.DonGia - totalCongNo)) {\n                                        dsChiPhiKhamChuaBenh.SoTienMG = (dsChiPhiKhamChuaBenh.SoLuongMua\n                                            * dsChiPhiKhamChuaBenh.DonGia - totalCongNo);\n                                    }\n                                    dsChiPhiKhamChuaBenh.BNConPhaiThanhToan =\n                                        (dsChiPhiKhamChuaBenh.SoLuongMua * dsChiPhiKhamChuaBenh.DonGia - totalCongNo)\n                                        - dsChiPhiKhamChuaBenh.SoTienMG;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n        this.tongTien = this.tongTienGrid;\n        if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n            if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n            } else {\n                this.tongTien = 0;\n            }\n        }\n\n        if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n            this.thongtinDonThuoc.TienMat = this.tongTien;\n\n            if (this.thongtinDonThuoc.BenhNhanDua > 0 && this.apDungMienGiam === true) {\n                this.thongtinDonThuoc.TienTraLai = this.thongtinDonThuoc.BenhNhanDua - this.thongtinDonThuoc.TienMat;\n            }\n        }\n        this.gridData = this.dataSourcedanhsachThuoc.data;\n        this.myDanhSachChuaThanhToan();\n    }\n\n    itemTotalCongNo(danhSachCongNoChoThus: any): number {\n        let toatalCongNo = 0;\n        if (danhSachCongNoChoThus != null) {\n            danhSachCongNoChoThus.forEach(cn => {\n                toatalCongNo += cn.SoTienCongNoChoThu;\n            });\n        }\n        return toatalCongNo;\n    }\n\n    selectDataDanhSachDaChon(): number {\n        let totalThanhTien = 0;\n        this.dataSourcedanhsachThuoc.data.forEach(element => {\n            if (element.CheckedDefault === true) {\n                totalThanhTien += element.ThanhTien;\n            }\n        });\n        return totalThanhTien;\n    }\n\n    totalCongNoPrivate(): number {\n        let totalCongNoThanhToan = 0;\n        if (this.thongTinTam.length !== 0) {\n            // tslint:disable-next-line: prefer-for-of\n            for (let index = 0; index < this.thongTinTam.length; index++) {\n                totalCongNoThanhToan += this.thongTinTam[index].SoTien;\n            }\n        }\n        return totalCongNoThanhToan;\n    }\n\n    tinhTienCongNo(itemThanhTien, congNoId, totalTT): number {\n        let totalCongNo = 0;\n        // kiểm tra công nợ được áp dụng tiền\n        // tslint:disable-next-line: prefer-for-of\n        for (let index = 0; index < this.thongTinTam.length; index++) {\n            if (this.thongTinTam[index].CongNoId === congNoId) {\n                totalCongNo = this.thongTinTam[index].SoTien;\n            }\n        }\n        // const itemSoTienCongNo = Math.floor(parseFloat(((totalCongNo / totalTT) * itemThanhTien).toPrecision(15)));\n        // return itemSoTienCongNo;\n        var itemSoTienCongNo = Math.round(parseFloat(((totalCongNo / totalTT) * (itemThanhTien)).toPrecision(15)) * 100) / 100;\n        return itemSoTienCongNo;\n    }\n\n    tinhTiLeMiemGiamInGrid(data: any) {\n        const tongCongNoItem = this.itemTotalCongNo(data.DanhSachCongNoChoThus);\n        const sumSoTienBenhNhanTra = (data.ThanhTien - tongCongNoItem);\n        if (sumSoTienBenhNhanTra === 0) {\n            return 0;\n        }\n        return Math.round((data.SoTienMG / sumSoTienBenhNhanTra) * 100);\n    }\n\n\n    bindChiaTienCongNo() {\n        const totalTT = this.selectDataDanhSachDaChon();\n        const totalCongNo = this.totalCongNoPrivate();\n\n        if (totalCongNo > totalTT) {\n            this.notificationService.showError('Số tiền thanh toán công nợ không hợp lệ');\n            return;\n        }\n\n        if (this.danhSachCongNoChoThus[0].CongNoChoThus.length !== 0) {\n            this.danhSachCongNoChoThus[0].CongNoChoThus.forEach(congNo => {\n                if (congNo.ViTri === this.viTri) {\n                    if (this.thongTinTam.length !== 0) {\n                        congNo.SoTienCongNoChoThu = this.thongTinTam[this.viTri].SoTien;\n                    }\n                }\n            });\n        }\n\n        // mỗi lần cập nhật công nợ thông tin tạm thì sẽ luôn cập nhập thông tin đơn thuốc danh sách công nợ (dùng cho việc thu tiền)\n        this.thongTinTam.forEach(element => {\n            this.thongtinDonThuoc.DanhSachCongNos.forEach(congNoDonThuoc => {\n                if (element.CongNoId === congNoDonThuoc.CongTyCongNoId) {\n                    congNoDonThuoc.SoTienCongNo = element.SoTien;\n                }\n            });\n        });\n\n        if (this.thongTinTam.length > 0) {\n            const danhSachCongNoChoThu = new DanhSachCongNoChoThu();\n            for (let index = 0; index < this.thongTinTam.length; index++) {\n                const congNo = new CongNoChoThu();\n                congNo.ViTri = index;\n                congNo.CongNoId = this.thongTinTam[index].CongNoId;\n                congNo.TenCongTy = this.thongTinTam[index].TenCongTy;\n                congNo.SoTienCongNoChoThu = 0;\n                danhSachCongNoChoThu.CongNoChoThus.push(congNo);\n            }\n\n            const lastItem = this.findLast();\n            let tongCongNo = 0;\n\n            for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n                if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === true) {\n                    if (this.viTri !== -1) {\n                        this.dataSourcedanhsachThuoc.data[index].TLMG = 0;\n                        this.dataSourcedanhsachThuoc.data[index].SoTienMG = 0;\n                        this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan =\n                            (this.dataSourcedanhsachThuoc.data[index].SoLuongMua * this.dataSourcedanhsachThuoc.data[index].DonGia)\n                            - ((this.dataSourcedanhsachThuoc.data[index].SoLuongMua *\n                                this.dataSourcedanhsachThuoc.data[index].DonGia) * this.dataSourcedanhsachThuoc.data[index].TLMG / 100);  // to do Math.round\n                        if (index === lastItem) {\n                            this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[this.viTri]\n                                .SoTienCongNoChoThu = this.apDungCNAndMiemGiam ?\n                                    this.thongTinTam[this.viTri].SoTien - tongCongNo :\n                                    this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu;\n                        }\n\n                        if (index !== lastItem) {\n                            if (this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus.length > 0) {\n                                this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu =\n                                    danhSachCongNoChoThu.CongNoChoThus[this.viTri].SoTienCongNoChoThu = this.apDungCNAndMiemGiam ?\n                                        this.tinhTienCongNo(this.dataSourcedanhsachThuoc.data[index].ThanhTien,\n                                            danhSachCongNoChoThu.CongNoChoThus[this.viTri].CongNoId,\n                                            totalTT) :\n                                        this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu;\n                                tongCongNo += this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu;\n                            }\n                        }\n\n                        this.dataSourcedanhsachThuoc.data[index].KiemTraTienSoTienItemDichVu =\n                            this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan < 0 ? true : false;\n                    }\n                } else {\n                    if (this.viTri !== -1) {\n                        this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu =\n                            danhSachCongNoChoThu.CongNoChoThus[this.viTri].SoTienCongNoChoThu = 0;\n                    }\n                }\n            }\n\n            this.dataSourcedanhsachThuoc.data.forEach(element => {\n                let totalCongNoEle = 0;\n                element.DanhSachCongNoChoThus.forEach(elementCongNo => {\n                    totalCongNoEle += elementCongNo.SoTienCongNoChoThu;\n                });\n                let soTienMG = this.tinhSoTienMiemGiam(element);\n                element.SoTienMG = soTienMG;\n                return element.BNConPhaiThanhToan = element.ThanhTien - totalCongNoEle - element.SoTienMG;\n            });\n        }\n        this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n        this.tongTien = this.tongTienGrid;\n        if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n            if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n            } else {\n                this.tongTien = 0;\n            }\n        }\n\n        // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n        //     this.thongtinDonThuoc.TienMat = this.tongTien;\n        // }\n\n        let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        if (items != null && items.length > 0) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n\n        this.myDanhSachChuaThanhToan();\n        this.cdRef.detectChanges();\n    }\n\n    findLast() {\n        for (let index = this.dataSourcedanhsachThuoc.data.length - 1; index >= 0; index--) {\n            if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === true) {\n                return index;\n            }\n        }\n        return -1;\n    }\n\n    myDanhSachChuaThanhToan() {\n        const danhSachChuaThanhToans: any = [];\n        this.dataSourcedanhsachThuoc.data.forEach(element => {\n            let totalCongNoEle = 0;\n            if (element.CheckedDefault) {\n                element.SoTienMG = this.tinhSoTienMiemGiam(element);\n                element.DanhSachCongNoChoThus.forEach(elementCongNo => {\n                    totalCongNoEle += elementCongNo.SoTienCongNoChoThu;\n                });\n                let soTienMG = this.tinhSoTienMiemGiam(element);\n                element.SoTienMG = soTienMG;\n                element.BNConPhaiThanhToan = element.ThanhTien - totalCongNoEle - element.SoTienMG;\n                danhSachChuaThanhToans.push(element);\n            }\n        });\n\n        this.danhSachXemTruocBangKeThuocVaVatTu(danhSachChuaThanhToans);\n    }\n\n    danhSachXemTruocBangKeThuocVaVatTu(danhSachChuaThanhToans: any) {\n        // lý do trả về danhSachChuaThanhToan cho quay-thuoc-mua-thuoc.component\n        // để xem trước bảng kê\n        this.danhSachChuaThanhToan.emit(danhSachChuaThanhToans);\n    }\n\n    setSelectAll() {\n        setTimeout(function () {\n            if (!jQuery('#selectAllCheckboxId').prop('checked')) {\n                jQuery('#selectAllCheckboxId').trigger('click');\n            }\n        }, 1000);\n    }\n\n    chuyenDen(event: any) {\n        if (event.index === 0) {\n            this.cdRef.detectChanges();\n            this.clearHinhThucThanhToan();\n            this.defeautSoTien();\n\n            this.setDefeautTienMat = [1];\n            this.checkSeletedTienMat = true;\n            this.flagCheckSeletedTienMat = true;\n\n            this.GetThongTinDonThuoc(this.maYCTNId);\n            this.getDanhSachBHTN();\n\n            let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n            if (items != null && items.length > 0) {\n                this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n            }\n        }\n    }\n\n    onSelectChangeCheckbox(e: any, val: any) {\n        this.unCheckedBindSoTienMG(val);\n        this.mySelection = [];\n        if (e.target.checked) {\n            this.mySelectionInPage.push(val);\n        }\n        else {\n            this.mySelectionInPage.splice(this.mySelectionInPage.indexOf(val), 1);\n        }\n        var allData = this.dataSourcedanhsachThuoc.data;\n        const len = this.mySelectionInPage.length;\n        this.mySelection = this.mySelection.concat(this.mySelectionInPage);\n\n        if (len === 0) {\n            this.selectAllState = 'unchecked';\n        } else if (len > 0 && len < allData\n            .filter(obj => obj.HideCheckbox == null || (obj.HideCheckbox != undefined && obj.HideCheckbox == false))\n            .length) {\n            this.selectAllState = 'indeterminate';\n        } else {\n            this.selectAllState = 'checked';\n        }\n\n        this.extCheckboxSelection(this.mySelection);\n    }\n\n    onSelectDuocPham(event) {\n        let loai = 0;\n        if (event == undefined || event == null) {\n            // this.notificationService.showError('Bạn chưa chọn thuốc.');\n            this.themDuocPham.SoLuongTon = null;\n        } else {\n            this.apiService.post<Array<any>>('QuayThuoc/GetThongTinDuocPham?duocPhamId=' + event.KeyId + \"&LoaiDuocPhamHoacVatTu=\" + event.LoaiDuocPhamHoacVatTu).subscribe(\n                resultData => {\n                    let soLuongTon = 0;\n                    this.lstthongTinDonThuoc = resultData;\n                    if (this.lstDonThuocMoiThem.length > 0) {\n                        this.lstDonThuocMoiThem.forEach(x => {\n                            if (x.DuocPhamId === this.themDuocPham.DuocPhamId) {\n                                soLuongTon = soLuongTon + x.SoLuongMua;\n                            }\n                        });\n                    }\n                    this.themDuocPham.SoLuongTon = resultData.reduce((sum, item) => sum + item.SoLuongTon, 0) - soLuongTon;\n                },\n                () => {\n                });\n        }\n    }\n\n    unCheckedBindSoTienMG(id: any) {\n        // tslint:disable-next-line: prefer-for-of\n        for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n            if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === false) {\n                if (this.dataSourcedanhsachThuoc.data[index].Id === id) {\n                    this.dataSourcedanhsachThuoc.data[index].SoTienMG = 0;\n                    this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan =\n                        this.dataSourcedanhsachThuoc.data[index].ThanhTien - this.dataSourcedanhsachThuoc.data[index].TongCongNo; // to do Math.round\n                }\n            }\n        }\n        this.gridData = process(this.dataSourcedanhsachThuoc.data, this.state);\n    }\n\n    delete(event: any) {\n        if (event != undefined && event != null) {\n            this.dialog.open(ConfirmComponent, {\n                disableClose: false,\n                width: \"500px\",\n                data: {\n                    Title: \"Xác nhận\",\n                    Message: \"Bạn có muốn xóa thuốc/vật tư này không ?\",\n                },\n            }).afterClosed().subscribe((res) => {\n                if (res == \"Yes\") {\n                    this.notificationService.showSuccess(\n                        \"Xóa thành công\"\n                    );\n                    let i = 0;\n                    let stt = event.STT;\n                    for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n                        if (this.dataSourcedanhsachThuoc.data[index].STT === event.STT) {\n                            i = index;\n                        }\n                    }\n\n                    this.dataSourcedanhsachThuoc.data[i].HighLightClass = null;\n                    this.deleteItem.push(this.dataSourcedanhsachThuoc.data[i]);\n\n                    if (this.lstthongTinDonThuoc === undefined) {\n                        this.lstthongTinDonThuoc = [];\n                    }\n\n                    this.lstthongTinDonThuoc.push(this.dataSourcedanhsachThuoc.data[i]);\n                    this.dataSourcedanhsachThuoc.data.splice(i, 1);\n\n                    this.lstDonThuocMoiThem = new Array<ThongTinDuocPham>();\n\n                    for (let index0 = 0; index0 < i; index0++) {\n                        this.lstDonThuocMoiThem.push(this.dataSourcedanhsachThuoc.data[index0]);\n                    }\n\n                    for (let index1 = i; index1 < this.dataSourcedanhsachThuoc.data.length; index1++) {\n                        this.dataSourcedanhsachThuoc.data[index1].STT = stt;\n                        this.lstDonThuocMoiThem.push(this.dataSourcedanhsachThuoc.data[index1]);\n                        stt++;\n                    }\n\n                    this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n                    this.tongTien = this.tongTienGrid;\n\n                    if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n                        if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                            this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n                        } else {\n                            this.tongTien = 0;\n                        }\n                    }\n                    // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n                    //     this.thongtinDonThuoc.TienMat = this.tongTien;\n                    // }\n                    let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n                    if (items != null && items.length > 0) {\n                        this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n                    }\n                }\n            });\n        }\n\n    }\n\n    clearHinhThucThanhToan() {\n        this.flagCheckSeletedTienMat = false;\n        this.flagCheckSeletedChuyenKhoan = false;\n        this.flagCheckSeletedPos = false;\n        this.flagCheckSeletedSoTienCongNo = false;\n        this.checkSeletedTienMat = false;\n        this.checkSeletedChuyenKhoan = false;\n        this.checkSeletedPos = false;\n        this.checkSeletedSoTienCongNo = false;\n    }\n\n    GetTenBenhNhan(id: number) {\n        this.apiService.post<any>('QuayThuoc/GetTenBenhNhan?benhNhanId=' + id).subscribe(\n            resultData => {\n                this.thongtinDonThuoc.HoTenBenhNhan = resultData;\n                this.GetThongTinDonThuoc(this.id);\n            },\n            () => {\n            });\n    }\n\n    onSelectAllChange(checkedState: SelectAllCheckboxState) {\n        var allData = this.dataSourcedanhsachThuoc.data;\n        if (allData == undefined)\n            allData = [];\n        this.mySelection = [];\n        if (checkedState === 'checked') {\n            this.mySelectionInPage = allData\n                .filter(obj => obj.HideCheckbox == null || (obj.HideCheckbox != undefined && obj.HideCheckbox == false)).map((item) =>\n                    item[this.keySelectBy]\n                )\n            this.mySelection = this.mySelection.concat(this.mySelectionInPage);\n            this.selectAllState = 'checked';\n        } else {\n            var mySelectionRemove = allData\n                .filter(obj => obj.HideCheckbox == null || (obj.HideCheckbox != undefined && obj.HideCheckbox == false)).map((item) =>\n                    item[this.keySelectBy]\n                );\n            if (mySelectionRemove != null && mySelectionRemove.length > 0) {\n                mySelectionRemove.forEach(obj => {\n                    this.mySelection.splice(this.mySelection.indexOf(obj), 1);\n                });\n            }\n            this.mySelectionInPage = [];\n            this.selectAllState = 'unchecked';\n        }\n        this.extCheckboxSelection(this.mySelection);\n    }\n\n    GetThongTinDonThuoc(id: number) {\n        this.apiService.post<Array<any>>('QuayThuoc/GetDataDonThuoc?tiepNhanId=' + id).subscribe(\n            resultData => {\n                this.dataSourcedanhsachThuoc.data = resultData;\n                let index = 1;\n                this.dataSourcedanhsachThuoc.data.forEach(x => {\n                    x.STT = index;\n                    index++;\n                    x.KiemTraTienSoTienItemDichVu = false;\n                });\n\n                this.myDanhSachChuaThanhToan();\n                this.getSoDuTaiKhoanBenhNhan(id);\n                this.closedialog.close();\n            },\n            () => {\n            });\n    }\n\n    getSoDuTaiKhoanBenhNhan(id: number) {\n        this.apiService.get<number>('ThuNgan/SoDuTaiKhoanBenhNhan/' + id).subscribe(resultData => {\n            if (resultData !== null && resultData !== undefined) {\n                // số dư tài khoản bằng 0 vi đã tra chô thu ngân\n                this.benhnhanThongTin.SoDuTaiKhoan = 0;\n                this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n                this.tongTien = this.tongTienGrid;\n                if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n                    if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                        this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n                    } else {\n                        this.tongTien = 0;\n                    }\n                }\n                this.thongtinDonThuoc.TienMat = this.tongTien;\n                this.thongtinDonThuoc.HinhThucThanhToan = [1];\n                this.getDanhSachBHTN();\n            }\n        });\n    }\n\n    getDanhSachBHTN() {\n        this.apiService.get<any>('QuayThuoc/GetListCongTyBaoHiemTuNhans?tiepNhanId=' + this.maYCTNId).subscribe(\n            resultData => {\n                if (resultData.length > 0) {\n                    const danhSachCongNoChoThu = new DanhSachCongNoChoThu();\n                    for (let index = 0; index < resultData.length; index++) {\n                        const congNo = new CongNoChoThu();\n                        congNo.ViTri = index;\n                        congNo.CongNoId = resultData[index].CongNoId;\n                        congNo.TenCongTy = resultData[index].TenCongTy;\n                        congNo.SoTienCongNoChoThu = 0;\n                        danhSachCongNoChoThu.CongNoChoThus.push(congNo);\n                    }\n\n                    // tslint:disable-next-line: prefer-for-of\n                    for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n                        this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus = [];\n                    }\n                    this.danhSachCongNoChoThus = [];\n\n\n                    // tslint:disable-next-line: prefer-for-of\n                    for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n                        // tslint:disable-next-line: prefer-for-of\n                        for (let subIndex = 0; subIndex < danhSachCongNoChoThu.CongNoChoThus.length; subIndex++) {\n                            const congNoItem = new CongNoChoThu();\n                            congNoItem.CongNoId = danhSachCongNoChoThu.CongNoChoThus[subIndex].CongNoId;\n                            congNoItem.SoTienCongNoChoThu = danhSachCongNoChoThu.CongNoChoThus[subIndex].SoTienCongNoChoThu;\n                            congNoItem.TenCongTy = danhSachCongNoChoThu.CongNoChoThus[subIndex].TenCongTy;\n                            congNoItem.ViTri = danhSachCongNoChoThu.CongNoChoThus[subIndex].ViTri;\n\n                            this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus.push(congNoItem);\n                        }\n\n                        const totalCongNo = this.itemTotalCongNo(this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus);\n                        this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan =\n                            this.dataSourcedanhsachThuoc.data[index].ThanhTien - totalCongNo - this.dataSourcedanhsachThuoc.data[index].SoTienMG;\n                    }\n\n                    this.danhSachCongNoChoThus.push(danhSachCongNoChoThu);\n                    this.danhSachCongNoChoThus[0].CongNoChoThus.forEach(element => {\n                        const congNo = new CongNoVo();\n                        congNo.CongTyCongNoId = element.CongNoId;\n                        congNo.SoTienCongNo = element.SoTienCongNoChoThu;\n                        this.thongtinDonThuoc.DanhSachCongNos.push(congNo);\n                    });\n                }\n                this.gridData = this.dataSourcedanhsachThuoc.data;\n                this.setSelectAll();\n                // this.getThongTinMienGiam(this.maYCTNId);  // to do\n            });\n    }\n\n    public totalCongno(field: any) {\n        let sumCongNoItem = 0;\n        this.dataSourcedanhsachThuoc.data.forEach(element => {\n            if (element.DanhSachCongNoChoThus[field] !== undefined) {\n                sumCongNoItem += element.DanhSachCongNoChoThus[field].SoTienCongNoChoThu;\n            }\n        });\n        return sumCongNoItem;\n    }\n\n    GuiVaXuatThuocData(data: any) {\n        this.apiService.post<any>('QuayThuoc/ThuTienVaXuatThuoc', data).subscribe(\n            resultData => {\n                if (resultData.ThanhCong === false) {\n                    this.notificationService.showError(resultData.Error);\n\n                    if (resultData.DanhSachDuocPhamVuotTonKho != null) {\n                        // tslint:disable-next-line: prefer-for-of\n                        for (let i = 0; i < resultData.DanhSachDuocPhamVuotTonKho.length; i++) {\n                            // tslint:disable-next-line: prefer-for-of\n                            for (let j = 0; j < this.dataSourcedanhsachThuoc.data.length; j++) {\n                                if (resultData.DanhSachDuocPhamVuotTonKho[i].Stt === this.dataSourcedanhsachThuoc.data[j].STT) {\n                                    this.dataSourcedanhsachThuoc.data[j].HighLightClass = 'bg-row-lightpink';\n                                    this.dataSourcedanhsachThuoc.data[j].SoLuongDung =\n                                        resultData.DanhSachDuocPhamVuotTonKho[i].SoLuongTonKho;\n                                }\n\n                            }\n                        }\n                    }\n                } else if (resultData.ThanhCong === true) {\n                    this.dataSourcedanhsachThuoc.data = [];\n                    this.lstDonThuocMoiThem = [];\n                    this.cdRef.detectChanges();\n                    this.gridData = process(this.dataSourcedanhsachThuoc.data, this.state);\n                    this.dialog.open(QuayThuocXacNhanInPopUpComponent, {\n                        disableClose: true,\n                        width: '500px',\n                        data: { Model: resultData, Title: 'XÁC NHẬN' }\n                    }).afterClosed().subscribe(result => {\n\n                        if (result.Response !== 'No answer') {\n                            this.changeTab.emit(2);\n                            this.tongTien = 0;\n                            this.getSoDuTaiKhoanBenhNhan(data.Id);\n                            this.thongtinDonThuoc.TienMat = 0;\n                            this.thongtinDonThuoc.ChuyenKhoan = 0;\n                            this.thongtinDonThuoc.BenhNhanDua = 0;\n                            this.thongtinDonThuoc.TienTraLai = 0;\n                            this.XacNhanIn(result);\n                        }\n                        else {\n                            this.changeTab.emit(2);\n                            this.getSoDuTaiKhoanBenhNhan(data.Id);\n                            this.tongTien = 0;\n                            this.thongtinDonThuoc.TienMat = 0;\n                            this.thongtinDonThuoc.ChuyenKhoan = 0;\n                            this.thongtinDonThuoc.BenhNhanDua = 0;\n                            this.thongtinDonThuoc.TienTraLai = 0;\n                        }\n                    });\n                }\n            });\n    }\n\n    GuiData(data: any) {\n        this.apiService.post<any>('QuayThuoc/ThemThanhToanDonThuoc', data).subscribe(\n            resultData => {\n                if (resultData.ThanhCong === false) {\n                    this.notificationService.showError(resultData.Error);\n\n                    if (resultData.DanhSachDuocPhamVuotTonKho != null) {\n                        // tslint:disable-next-line: prefer-for-of\n                        for (let i = 0; i < resultData.DanhSachDuocPhamVuotTonKho.length; i++) {\n                            // tslint:disable-next-line: prefer-for-of\n                            for (let j = 0; j < this.dataSourcedanhsachThuoc.data.length; j++) {\n                                if (resultData.DanhSachDuocPhamVuotTonKho[i].Stt === this.dataSourcedanhsachThuoc.data[j].STT) {\n                                    this.dataSourcedanhsachThuoc.data[j].HighLightClass = 'bg-row-lightpink';\n                                    this.dataSourcedanhsachThuoc.data[j].SoLuongDung =\n                                        resultData.DanhSachDuocPhamVuotTonKho[i].SoLuongTonKho;\n                                }\n\n                            }\n                        }\n                    }\n                } else if (resultData.ThanhCong === true) {\n                    this.dataSourcedanhsachThuoc.data = [];\n                    this.lstDonThuocMoiThem = [];\n                    this.cdRef.detectChanges();\n                    this.gridData = process(this.dataSourcedanhsachThuoc.data, this.state);\n                    this.dialog.open(QuayThuocXacNhanInPopUpComponent, {\n                        disableClose: true,\n                        width: '500px',\n                        data: { Model: resultData, Title: 'XÁC NHẬN' }\n                    }).afterClosed().subscribe(result => {\n\n                        if (result.Response !== 'No answer') {\n                            this.changeTab.emit(2);\n                            this.tongTien = 0;\n                            this.getSoDuTaiKhoanBenhNhan(data.Id);\n                            this.thongtinDonThuoc.TienMat = 0;\n                            this.thongtinDonThuoc.ChuyenKhoan = 0;\n                            this.thongtinDonThuoc.BenhNhanDua = 0;\n                            this.thongtinDonThuoc.TienTraLai = 0;\n                            this.XacNhanIn(result);\n                        }\n                        else {\n                            this.changeTab.emit(2);\n                            this.getSoDuTaiKhoanBenhNhan(data.Id);\n                            this.tongTien = 0;\n                            this.thongtinDonThuoc.TienMat = 0;\n                            this.thongtinDonThuoc.ChuyenKhoan = 0;\n                            this.thongtinDonThuoc.BenhNhanDua = 0;\n                            this.thongtinDonThuoc.TienTraLai = 0;\n                        }\n                    });\n                }\n            });\n    }\n\n    XacNhanIn(data: any) {\n        this.showPopupLoadingIn();\n        data.Hosting = window.location.protocol + '//' + window.location.host;\n        this.apiService.postExportPdf<any>('QuayThuoc/XacNhanIn', data).subscribe(\n            resultData => {\n                if (resultData != undefined && resultData != null) {\n                    if (data.InBangKe == false && data.InPhieuThu == false) {\n                        this.notificationService.showError('Không có phiếu in được chọn.');\n                        this.closePopupLoadingData();\n                    }\n                    else {\n                        this.dialog.open(ThongTinPhieuPdfPopupComponent, {\n                            disableClose: true,\n                            width: '1000px',\n                            data: { Model: resultData }\n                        }).afterClosed().subscribe(() => {\n                            this.closePopupLoadingData();\n                        });\n\n                    }\n                }\n            },\n            (err: ApiError) => {\n                this.closePopupLoadingData();\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n            });\n\n    }\n\n    shareData() {\n        this.thongtinDonThuoc.DanhSachDonThuocs = [...this.dataSourcedanhsachThuoc.data];\n        this.thongtinDonThuoc.Id = this.id;\n        for (let index = 0; index < this.thongtinDonThuoc.DanhSachDonThuocs.length; index++) {\n            this.thongtinDonThuoc.DanhSachDonThuocs[index].HighLightClass = null;\n            if (this.thongtinDonThuoc.DanhSachDonThuocs[index].CheckedDefault === false) {\n                this.thongtinDonThuoc.DanhSachDonThuocs.splice(index, 1);\n                index = -1;\n            }\n        }\n        return this.thongtinDonThuoc;\n    }\n\n    kiemTraNhapSoTienTra(dataThuTien: any) {\n        const soTienNhapTra = dataThuTien.ChuyenKhoan + dataThuTien.POS + dataThuTien.TienMat + dataThuTien.SoTienCongNo;\n        if (this.tongTien !== soTienNhapTra) {\n            return true;\n        }\n        return false;\n    }\n\n    // ======= Begin Thu tiền và xuất thuốc \n    ThuTienVaXuatThuoc() {\n        let checkTien = true;\n        if (this.validationErrors !== undefined) {\n            this.validationThuThuocErrors = [];\n        }\n        this.cdRef.detectChanges();\n        if (this.setDefeautTienMat.length === 0) {\n            this.validationThuThuocErrors.push({\n                Message: \"Vui lòng chọn hình thức thanh toán.\",\n                Field: \"HinhThucThanhToan\",\n            });\n            return true;\n        }\n\n        if (this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault).length === 0) {\n            this.notificationService.showError('Người bệnh này không có thuốc nào để thanh toán');\n            checkTien = false;\n        }\n\n        if (this.thongtinDonThuoc.HinhThucThanhToan.length !== 0 && this.kiemTraNhapSoTienTra(this.thongtinDonThuoc)) {\n            this.notificationService.showError('Số tiền nhập không đúng.');\n            checkTien = false;\n        }\n        if (this.dataSourcedanhsachThuoc.length != 0) {\n            this.dataSourcedanhsachThuoc.data.forEach(element => {\n                if (element.KiemTraTienSoTienItemDichVu === true) {\n                    this.notificationService.showError('Thanh toán không hợp lệ');\n                    checkTien = false;\n                }\n            });\n        }\n\n        this.thongtinDonThuoc.TongTien = this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo;\n\n        if (this.thongtinDonThuoc.Id == null) {\n            this.thongtinDonThuoc.Id = this.id;\n        }\n\n        this.thongtinDonThuoc.DanhSachDonThuocs = this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault);\n        this.apiService.post<any>('QuayThuoc/CheckValidationForQuayThuoc', this.thongtinDonThuoc).subscribe(\n            () => {\n                if (checkTien === true) {\n                    if (this.confirm != null) {\n                        // this.dialog.closeAll();\n                        this.confirm = null;\n                    }\n                    this.confirm = this.dialog.open(ConfirmComponent, {\n                        disableClose: true,\n                        width: '700px',\n                        data: {\n                            Title: 'Xác nhận', Message: 'Bạn chắc chắn muốn thu của người bệnh ' +\n                                this.benhnhanThongTin.HoTen.bold() + ' với số tiền là ' +\n                                this.tongTien.toLocaleString('vi-VI').bold() + ' đồng hay không?'\n                        }\n                    }).afterClosed().subscribe(result => {\n                        if (result === 'Yes') {\n                            this.GuiVaXuatThuocData(this.thongtinDonThuoc);\n                            this.setDefeautTienMat = [1];\n                            this.checkSeletedTienMat = true;\n                            this.defeautSoTien();\n                        }\n                    });\n                }\n            }, (err: ApiError) => {\n                this.validationThuThuocErrors = err.ValidationErrors;\n            });\n    }\n    // ======= End Thu tiền và xuất thuốc \n\n    ThuTien() {\n        let checkTien = true;\n\n        if (this.validationErrors !== undefined) {\n            this.validationThuThuocErrors = [];\n        }\n        this.cdRef.detectChanges();\n        if (this.setDefeautTienMat.length === 0) {\n            this.validationThuThuocErrors.push({\n                Message: \"Vui lòng chọn hình thức thanh toán.\",\n                Field: \"HinhThucThanhToan\",\n            });\n            return true;\n        }\n\n        if (this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault).length === 0) {\n            this.notificationService.showError('Người bệnh này không có thuốc nào để thanh toán');\n            checkTien = false;\n        }\n\n        if (this.thongtinDonThuoc.HinhThucThanhToan.length !== 0 && this.kiemTraNhapSoTienTra(this.thongtinDonThuoc)) {\n            this.notificationService.showError('Số tiền nhập không đúng.');\n            checkTien = false;\n        }\n        if (this.dataSourcedanhsachThuoc.length != 0) {\n            this.dataSourcedanhsachThuoc.data.forEach(element => {\n                if (element.KiemTraTienSoTienItemDichVu === true) {\n                    this.notificationService.showError('Thanh toán không hợp lệ');\n                    checkTien = false;\n                }\n            });\n        }\n\n        this.thongtinDonThuoc.TongTien = this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo;\n\n        if (this.thongtinDonThuoc.Id == null) {\n            this.thongtinDonThuoc.Id = this.id;\n        }\n        console.log(\"thongtindonthuoc\", this.thongtinDonThuoc)\n\n        this.thongtinDonThuoc.DanhSachDonThuocs = this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault);\n        this.apiService.post<any>('QuayThuoc/CheckValidationForQuayThuoc', this.thongtinDonThuoc).subscribe(\n            () => {\n                if (checkTien === true) {\n                    if (this.confirm != null) {\n                        // this.dialog.closeAll();\n                        this.confirm = null;\n                    }\n                    this.confirm = this.dialog.open(ConfirmComponent, {\n                        disableClose: true,\n                        width: '700px',\n                        data: {\n                            Title: 'Xác nhận', Message: 'Bạn chắc chắn muốn thu của người bệnh ' +\n                                this.benhnhanThongTin.HoTen.bold() + ' với số tiền là ' +\n                                this.tongTien.toLocaleString('vi-VI').bold() + ' đồng hay không?'\n                        }\n                    }).afterClosed().subscribe(result => {\n                        if (result === 'Yes') {\n                            this.GuiData(this.thongtinDonThuoc);\n                            this.setDefeautTienMat = [1];\n                            this.checkSeletedTienMat = true;\n                            this.defeautSoTien();\n                        }\n                    });\n                }\n            }, (err: ApiError) => {\n                this.validationThuThuocErrors = err.ValidationErrors;\n            });\n    }\n\n    extCheckboxSelection(event: any[]) {\n        this.dataSourcedanhsachThuoc.data.forEach(element => {\n            element.CheckedDefault = false;\n        });\n        if (event.length > 0) {\n            // tslint:disable-next-line: prefer-for-of\n            for (let index = 0; index < event.length; index++) {\n                this.dataSourcedanhsachThuoc.data.forEach(element => {\n                    let soTienMG = this.tinhSoTienMiemGiam(element);\n                    element.SoTienMG = soTienMG;\n                    // số tiền người bệnh phải trả đã trừ số tiền miễn giảm\n                    let soTienCN = this.soTienCongNoChoTungDichVu(element);\n                    if (element.BNConPhaiThanhToan >= element.SoTienMG) {\n                        element.BNConPhaiThanhToan = ((element.DonGia * element.SoLuongMua)) - soTienCN - element.SoTienMG;\n                    }\n                    if (element.Id === event[index]) {\n                        return element.CheckedDefault = true;\n                    }\n                });\n            }\n        }\n\n\n\n        this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.filter(x => x.CheckedDefault)\n            .reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0));\n        this.thongtinDonThuoc.BenhNhanDua = 0;\n        this.thongtinDonThuoc.TienTraLai = 0;\n        if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n            if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n            } else {\n                this.tongTien = 0;\n            }\n        }\n        // var items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        //let pos = this.thongtinDonThuoc.ChuyenKhoan;\n\n        // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n        //     this.thongtinDonThuoc.TienMat = this.tongTien;\n        //     this.thongtinDonThuoc.POS = 0;\n        //     this.thongtinDonThuoc.SoTienCongNo = 0;\n        //     this.thongtinDonThuoc.ChuyenKhoan = 0;\n        // }\n\n        this.clearHinhThucThanhToan();\n        this.defeautSoTien();\n\n        this.setDefeautTienMat = [1];\n        this.checkSeletedTienMat = true;\n        this.flagCheckSeletedTienMat = true;\n        this.thongtinDonThuoc.TienMat = this.tongTien;\n\n        this.resetGiaTienCongNo();\n        this.myDanhSachChuaThanhToan();\n\n    }\n\n    resetGiaTienCongNo() {\n        this.dataSourcedanhsachThuoc.data.forEach(element => {\n            if (element.CheckedDefault !== true) {\n                if (element.DanhSachCongNoChoThus != null && element.DanhSachCongNoChoThus.length !== 0) {\n                    element.DanhSachCongNoChoThus.forEach(congNo => {\n                        congNo.SoTienCongNoChoThu = 0;\n                    });\n                }\n            }\n        });\n    }\n\n    themThuoc() {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n        if (this.themDuocPham.DuocPhamId == null) {\n            this.validationErrors.push({ Message: 'Dược phẩm yêu cầu nhập', Field: 'DuocPhamId' });\n        }\n        if (this.themDuocPham.SoLuong == null || this.themDuocPham.SoLuong === 0) {\n            this.validationErrors.push({ Message: 'Số lượng yêu cầu nhập', Field: 'SoLuong' });\n        }\n        if (this.themDuocPham.SoLuongTon < this.themDuocPham.SoLuong) {\n            this.validationErrors.push({ Message: 'Số lượng phải nhỏ hơn tồn kho', Field: 'SoLuong' });\n        }\n        if (this.validationErrors.length > 0) {\n            return;\n        }\n\n        let soLuongDaMua = 0;\n        if (this.lstDonThuocMoiThem.length > 0) {\n            this.lstDonThuocMoiThem.forEach(x => {\n                if (x.DuocPhamId === this.themDuocPham.DuocPhamId) {\n                    soLuongDaMua = soLuongDaMua + x.SoLuongMua;\n                }\n            });\n        }\n        if (this.themDuocPham.SoLuongTon >= this.themDuocPham.SoLuong) {\n            let stt = 1;\n            let idNew = 1;\n            if (this.dataSourcedanhsachThuoc.data.length > 0) {\n                stt = this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length - 1].STT + 1;\n                idNew = this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length - 1].Id + 1;\n            }\n\n            let count = this.themDuocPham.SoLuong;\n            let tamp = this.lstthongTinDonThuoc;\n            if (this.lstDonThuocMoiThem != undefined || this.lstDonThuocMoiThem != null) {\n\n                for (let jisoo = 0; jisoo < this.lstDonThuocMoiThem.length; jisoo++) {\n                    for (let jihoo = 0; jihoo < this.lstthongTinDonThuoc.length; jihoo++) {\n                        if (this.lstDonThuocMoiThem[jisoo].Solo == this.lstthongTinDonThuoc[jihoo].Solo) {\n                            this.lstthongTinDonThuoc[jihoo].SoLuongTon = this.lstthongTinDonThuoc[jihoo].SoLuongTon - this.lstDonThuocMoiThem[jisoo].SoLuongMua;\n                            tamp = this.lstthongTinDonThuoc;\n                        }\n                    }\n                }\n            }\n            let dsMGThem1 = new DanhSachMienGiamVo();\n            let dsMGThem2 = new DanhSachMienGiamVo();\n            let danhSachMienGiamVos = new Array<DanhSachMienGiamVo>();\n            dsMGThem1.DoiTuongUuDai = null;\n            dsMGThem1.DoiTuongUuDaiId = null;\n            dsMGThem1.LoaiChietKhau = 1;\n            dsMGThem1.LoaiMienGiam = 3;\n            dsMGThem1.MaTheVoucher = null;\n            dsMGThem1.SoTien = 0;\n            dsMGThem1.TheVoucherId = null;\n            dsMGThem1.TiLe = 0;\n            danhSachMienGiamVos.push(dsMGThem1);\n            dsMGThem2.DoiTuongUuDai = null;\n            dsMGThem2.DoiTuongUuDaiId = null;\n            dsMGThem2.LoaiChietKhau = 2;\n            dsMGThem2.LoaiMienGiam = 3;\n            dsMGThem2.MaTheVoucher = null;\n            dsMGThem2.SoTien = 0;\n            dsMGThem2.TheVoucherId = null;\n            dsMGThem2.TiLe = 0;\n            danhSachMienGiamVos.push(dsMGThem2);\n            for (let index = 0; index < tamp.length; index++) { // tmp don thuuoc\n                if (tamp[index].SoLuongTon > 0) {\n                    if (count !== 0) {\n                        let item = new ThongTinDuocPham();\n                        if (count <= this.lstthongTinDonThuoc[index].SoLuongTon) {\n                            item = Object.assign({}, this.lstthongTinDonThuoc[index]);\n                            item.SoLuongMua = count;\n                            item.STT = stt;\n                            item.Id = idNew;\n                            item.CheckedDefault = true;\n                            item.isNew = true;\n                            item.BacSiKeToa = 'Nhà Thuốc';\n                            item.ThanhTien = item.SoLuongMua * item.DonGia;\n                            item.BNConPhaiThanhToan = item.ThanhTien;\n                            item.ThanhTienHienThi = Math.round(item.ThanhTien);\n                            item.DonGiaHienThi = Math.round(item.DonGia);\n                            item.BNConPhaiThanhToanHienThi = Math.round(item.ThanhTien);\n                            item.DanhSachCongNoChoThus = [];\n                            item.DanhSachMienGiamVos = danhSachMienGiamVos;\n                            if (this.danhSachCongNoChoThus.length > 0) {\n                                if (this.danhSachCongNoChoThus[0].CongNoChoThus.length !== 0 ||\n                                    this.danhSachCongNoChoThus == null || this.danhSachCongNoChoThus === undefined) {\n                                    for (let i = 0; i < this.danhSachCongNoChoThus[0].CongNoChoThus.length; i++) {\n                                        const congNo = new CongNoChoThu();\n                                        congNo.ViTri = i;\n                                        congNo.CongNoId = this.danhSachCongNoChoThus[0].CongNoChoThus[i].CongNoId;\n                                        congNo.TenCongTy = this.danhSachCongNoChoThus[0].CongNoChoThus[i].TenCongTy;\n                                        congNo.SoTienCongNoChoThu = 0;\n                                        item.DanhSachCongNoChoThus.push(congNo);\n                                    }\n                                }\n                            }\n\n                            this.lstDonThuocMoiThem.push(item);\n                            this.mySelectionInPage.push(idNew);\n                            this.mySelection = this.mySelection.concat(this.mySelectionInPage);\n                            this.lstthongTinDonThuoc[index].SoLuongTon = this.lstthongTinDonThuoc[index].SoLuongTon - count;\n                            this.dataSourcedanhsachThuoc.data.push(item);\n                            this.duocPhamCombobox.focusManual();\n                            count = 0;\n                        } else {\n                            item = Object.assign({}, this.lstthongTinDonThuoc[index]);\n                            item.SoLuongMua = this.lstthongTinDonThuoc[index].SoLuongTon;\n                            item.ThanhTien = item.SoLuongMua * item.DonGia;\n                            item.BNConPhaiThanhToan = Math.round(item.ThanhTien);\n                            item.ThanhTienHienThi = Math.round(item.ThanhTien);\n                            item.DonGiaHienThi = Math.round(item.DonGia);\n                            item.BNConPhaiThanhToanHienThi = Math.round(item.ThanhTien);\n                            item.STT = stt;\n                            item.Id = idNew;\n                            item.isNew = true;\n                            item.CheckedDefault = true;\n                            item.BacSiKeToa = 'Nhà Thuốc';\n                            count = count - this.lstthongTinDonThuoc[index].SoLuongTon;\n                            item.DanhSachCongNoChoThus = [];\n                            item.DanhSachMienGiamVos = danhSachMienGiamVos;\n                            if (this.danhSachCongNoChoThus.length > 0) {\n                                if (this.danhSachCongNoChoThus[0].CongNoChoThus.length !== 0 ||\n                                    this.danhSachCongNoChoThus == null || this.danhSachCongNoChoThus === undefined) {\n                                    // tslint:disable-next-line: prefer-for-of\n                                    for (let i = 0; i < this.danhSachCongNoChoThus[0].CongNoChoThus.length; i++) {\n                                        const congNo = new CongNoChoThu();\n                                        congNo.ViTri = i;\n                                        congNo.CongNoId = this.danhSachCongNoChoThus[0].CongNoChoThus[i].CongNoId;\n                                        congNo.TenCongTy = this.danhSachCongNoChoThus[0].CongNoChoThus[i].TenCongTy;\n                                        congNo.SoTienCongNoChoThu = 0;\n                                        item.DanhSachCongNoChoThus.push(congNo);\n                                    }\n                                }\n                            }\n\n                            this.lstDonThuocMoiThem.push(item);\n                            this.mySelectionInPage.push(idNew);\n                            this.mySelection = this.mySelection.concat(this.mySelectionInPage);\n                            this.dataSourcedanhsachThuoc.data.push(item);\n                            this.duocPhamCombobox.focusManual();\n                            this.lstthongTinDonThuoc.splice(index, 1);\n                            index = -1;\n                        }\n                        idNew++;\n                        stt++;\n                    } else {\n                        break;\n                    }\n                }\n\n            }\n            if (this.lstDonThuocMoiThem.length > 0) {\n                this.lstDonThuocMoiThem.forEach(x => {\n                    if (x.DuocPhamId === this.themDuocPham.DuocPhamId) {\n                        soLuongDaMua = soLuongDaMua + x.SoLuongMua;\n                    }\n                });\n            }\n            this.themDuocPham.SoLuongTon = this.themDuocPham.SoLuongTon - this.themDuocPham.SoLuong;\n\n            this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n            this.tongTien = this.tongTienGrid;\n            if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n                if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                    this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n                } else {\n                    this.tongTien = 0;\n                }\n            }\n            // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n            //     this.thongtinDonThuoc.TienMat = this.tongTien;\n            // }\n\n            let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n            if (items != null && items.length > 0) {\n                this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n            }\n\n            this.themDuocPham = new ThemDuocPham();\n        } else {\n            this.notificationService.showError('Số lượng bạn nhập lớn hơn số lượng tồn');\n        }\n\n        this.gridData = this.dataSourcedanhsachThuoc.data;\n        this.setSelectAll();\n\n        this.danhSachXemTruocBangKeThuocVaVatTu(this.dataSourcedanhsachThuoc.data);\n    }\n\n    // change số lượng mua trả các giá trị về bằng 0\n    modelChangeSoLuongMua(ev: any, dsQuayThuocs: any) {\n        // tslint:disable-next-line: prefer-for-of\n        for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n            if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === true) {\n                if (this.dataSourcedanhsachThuoc.data[index].Id === dsQuayThuocs.Id) {\n                    this.dataSourcedanhsachThuoc.data[index].SoLuongMua = ev;\n                    let soTienMGiam = this.tinhSoTienMiemGiam(this.dataSourcedanhsachThuoc.data[index]);\n                    this.dataSourcedanhsachThuoc.data[index].SoTienMG = soTienMGiam;\n                    this.dataSourcedanhsachThuoc.data[index].ThanhTien = ev * this.dataSourcedanhsachThuoc.data[index].DonGia;\n                    this.changeInputSoTienMGBindGrid(this.dataSourcedanhsachThuoc.data[index]);\n                    // this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan = this.dataSourcedanhsachThuoc.data[index].ThanhTien;\n                    if (this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus != null) {\n                        if (this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus.length > 0) {\n                            // tslint:disable-next-line: prefer-for-of\n                            for (let i = 0; i < this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus.length; i++) {\n                                this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[i].SoTienCongNoChoThu = 0;\n                                this.dataSourcedanhsachThuoc.data[index].KiemTraTienSoTienItemDichVu =\n                                    this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan < 0 ? true : false;\n                            }\n                        }\n                    }\n                }\n            }\n\n        }\n        this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n        this.tongTien = this.tongTienGrid;\n        if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n            if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n            } else {\n                this.tongTien = 0;\n            }\n        }\n\n        let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        if (items != null && items.length > 0) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n    }\n\n    modelChangeSoTienMg(ev: any, data: any) {\n        data.SoTienMG = ev;\n        this.changeInputSoTienMgBindGrid(data);\n        this.myDanhSachChuaThanhToan();\n    }\n\n    changeInputSoTienMgBindGrid(data: any) {\n        const totalCongNo = this.itemTotalCongNo(data.DanhSachCongNoChoThus);\n        // tslint:disable-next-line: prefer-for-of\n        for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n            if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === true) {\n                if (this.dataSourcedanhsachThuoc.data[index].Id === data.Id) {\n                    this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan =\n                        this.dataSourcedanhsachThuoc.data[index].ThanhTien - totalCongNo - data.SoTienMG;\n\n                    this.dataSourcedanhsachThuoc.data[index].KiemTraTienSoTienItemDichVu =\n                        this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan < 0 ? true : false;\n                }\n            }\n        }\n\n        this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n        this.tongTien = this.tongTienGrid;\n        if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n            if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n            } else {\n                this.tongTien = 0;\n            }\n        }\n        // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n        //     this.thongtinDonThuoc.TienMat = this.tongTien;\n        // }\n        let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        if (items != null && items.length > 0) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n    }\n\n    getThongTinMienGiam(id: number) {\n        this.apiService.get<any>('ThuNgan/GetThongTinMienGiam?yeuCauTiepNhanId=' + id).subscribe(resultData => {\n            if (resultData !== null && resultData !== undefined) {\n                this.thongTinMienGiamVos = resultData;\n                this.bindChiaPhanTramDoiTuongUuDai();\n\n                if (this.apDungMienGiam === true) {\n                    this.notificationService.showSuccess('Áp dụng miễn giảm thành công.');\n                }\n\n                this.afterChangedMg.emit();\n            }\n        });\n        this.cdRef.detectChanges();\n    }\n\n    modelChangeCongNo(ev: any, data: any, vtri: number) {\n        data.DanhSachCongNoChoThus[vtri].SoTienCongNoChoThu = ev;\n        data.SoTienMG = 0;\n        this.changeInputCongNoBindGrid(data);\n        this.myDanhSachChuaThanhToan();\n    }\n\n    changeInputCongNoBindGrid(data: any) {\n        const totalCongNo = this.itemTotalCongNo(data.DanhSachCongNoChoThus);\n\n        // tslint:disable-next-line: prefer-for-\n        for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n            if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === true) {\n                if (this.dataSourcedanhsachThuoc.data[index].Id === data.Id) {\n                    this.dataSourcedanhsachThuoc.data[index].SoTienMG = this.tinhSoTienMiemGiam(this.dataSourcedanhsachThuoc.data[index]);\n                    this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan =\n                        this.dataSourcedanhsachThuoc.data[index].ThanhTien - totalCongNo - this.dataSourcedanhsachThuoc.data[index].SoTienMG;\n                    this.dataSourcedanhsachThuoc.data[index].KiemTraTienSoTienItemDichVu =\n                        this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan < 0 ? true : false;\n                }\n            }\n        }\n\n        this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n        this.tongTien = this.tongTienGrid;\n        if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n            if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n            } else {\n                this.tongTien = 0;\n            }\n        }\n\n        // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n        //     this.thongtinDonThuoc.TienMat = this.tongTien;\n        // }\n\n        let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        if (items != null && items.length > 0) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n    }\n\n    modelChangePos(ev: any, type: any) {\n        const total = (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.SoTienCongNo) === 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.SoTienCongNo);\n        this.selectMoneyTienPos = [total, 0];\n\n        this.thongtinDonThuoc.POS = ev;\n        this.onValueChange(ev, type);\n    }\n\n    modelChangeChuyenKhoan(ev: any, type: any) {\n        const total = (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo) !== 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo);\n        this.selectMoneyTienChuyenKhoan = [total, 0];\n        this.thongtinDonThuoc.ChuyenKhoan = ev;\n        this.onValueChange(ev, type);\n    }\n\n    modelChangeTienMat(ev: any, type: any) {\n        const total = (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo) === 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo);\n        this.selectMoneyTienMat = [total, 0];\n\n        this.thongtinDonThuoc.TienTraLai = this.thongtinDonThuoc.BenhNhanDua - this.thongtinDonThuoc.TienMat;\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n        this.thongtinDonThuoc.TienMat = ev;\n        this.onValueChange(ev, type);\n    }\n\n    modelChangeSoTienCongNo(ev: any, type: any) {\n        const total = (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.TienMat) === 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.TienMat);\n        this.selectMoneySoTienCongNo = [total, 0];\n\n        this.thongtinDonThuoc.SoTienCongNo = ev;\n        this.onValueChange(ev, type);\n    }\n\n    modelChangeTienBNDua(input: any) {\n        this.selectMoneyTienBNDua = [this.tongTien, 100000000];\n        this.thongtinDonThuoc.TienTraLai = input - this.thongtinDonThuoc.TienMat;\n\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n    }\n\n    onChangeBenhNhanDua() {\n        this.thongtinDonThuoc.TienTraLai = this.thongtinDonThuoc.BenhNhanDua - this.thongtinDonThuoc.TienMat;\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n    }\n\n    // Begin pttt và công nợ cho quầy thuốc 21/08/2020\n    defeautSoTien() {\n        this.thongtinDonThuoc.TienMat = 0;\n        this.thongtinDonThuoc.POS = 0;\n        this.thongtinDonThuoc.SoTienCongNo = 0;\n        this.thongtinDonThuoc.ChuyenKhoan = 0;\n        this.thongtinDonThuoc.BenhNhanDua = 0;\n        this.thongtinDonThuoc.TienTraLai = 0;\n    }\n\n    tinhTienChoPhuongThucThanhToan(item: any) {\n        switch (item) {\n            case 1:\n                this.thongtinDonThuoc.TienMat = this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                if (this.thongtinDonThuoc.TienMat < 0) {\n                    this.thongtinDonThuoc.TienMat = 0;\n                }\n                break;\n            case 2:\n                this.thongtinDonThuoc.ChuyenKhoan = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                if (this.thongtinDonThuoc.ChuyenKhoan < 0) {\n                    this.thongtinDonThuoc.ChuyenKhoan = 0;\n                }\n                break;\n            case 3:\n                this.thongtinDonThuoc.POS = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.SoTienCongNo;\n                if (this.thongtinDonThuoc.POS < 0) {\n                    this.thongtinDonThuoc.POS = 0;\n                }\n                break;\n            case 4:\n                this.thongtinDonThuoc.SoTienCongNo = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS;\n                if (this.thongtinDonThuoc.SoTienCongNo < 0) {\n                    this.thongtinDonThuoc.SoTienCongNo = 0;\n                }\n                break;\n        }\n    }\n\n    ChangeHinhThucThanhToan(event: any) {\n        this.clearHinhThucThanhToan();\n        this.defeautSoTien();\n        this.showCanhBaoSoTienNhap = false;\n        var items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n\n        if (items != null && items.length === 1) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n\n        event.forEach((element) => {\n            switch (element) {\n                case 1:\n                    this.flagCheckSeletedTienMat = true;\n                    break;\n                case 2:\n                    this.flagCheckSeletedChuyenKhoan = true;\n                    break;\n                case 3:\n                    this.flagCheckSeletedPos = true;\n                    break;\n                case 4:\n                    this.flagCheckSeletedSoTienCongNo = true;\n                    break;\n            }\n        });\n\n        this.hinhThucThanhToan.forEach(item => { item.Change = false; });\n        this.hinhThucThanhToan.forEach(item => {\n            if (event.filter(o => o == item.KeyId).length > 0) {\n                item.Selected = true;\n                if (event.length == 1) {\n                    switch (item.KeyId) {\n                        case 1:\n                            this.thongtinDonThuoc.TienMat = this.tongTien;\n                            break;\n                        case 2:\n                            this.thongtinDonThuoc.ChuyenKhoan = this.tongTien;\n                            break;\n                        case 3:\n                            this.thongtinDonThuoc.POS = this.tongTien;\n                            break;\n                        case 4:\n                            this.thongtinDonThuoc.SoTienCongNo = this.tongTien;\n                            break;\n                    }\n                }\n            }\n            else {\n                item.Selected = false;\n            }\n        });\n\n        this.cdRef.detectChanges();\n    }\n\n    onValueChange(event: any, type: number) {\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n        this.hinhThucThanhToan.forEach(item => {\n            if (item.KeyId == type) {\n                item.Change = true;\n            }\n        });\n        var itemNotChanges = this.hinhThucThanhToan.filter(o => o.Selected == true && o.Change == false);\n        if (itemNotChanges.length == 1) {\n            this.changeSoTien(itemNotChanges[0].KeyId);\n        }\n        else {\n            if (itemNotChanges.length == 0 && this.hinhThucThanhToan.filter(o => o.Selected == true).length == 2) {\n                var items = this.hinhThucThanhToan.filter(o => o.Selected == true && o.KeyId != type);\n                this.changeSoTien(items[0].KeyId);\n            }\n        }\n        if (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo != this.tongTien) {\n            this.showCanhBaoSoTienNhap = true;\n        }\n        else {\n\n            this.showCanhBaoSoTienNhap = false;\n        }\n        this.changeTienTraLaiBenhNhan();\n    }\n\n    changeSoTien(items: any) {\n        switch (items) {\n            case 1:\n                this.thongtinDonThuoc.TienMat = (this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                break;\n            case 2:\n                this.thongtinDonThuoc.ChuyenKhoan = (this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                break;\n            case 3:\n                this.thongtinDonThuoc.POS = (this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.SoTienCongNo) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.SoTienCongNo;\n                break;\n            case 4:\n                this.thongtinDonThuoc.SoTienCongNo = (this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS;\n                break;\n        }\n    }\n\n    changeTienTraLaiBenhNhan() {\n        if (this.thongtinDonThuoc.BenhNhanDua > this.thongtinDonThuoc.TienMat) {\n            this.thongtinDonThuoc.TienTraLai =\n                this.thongtinDonThuoc.BenhNhanDua - this.thongtinDonThuoc.TienMat;\n        } else {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n    }\n    // End pttt và công nợ cho quầy thuốc 21/08/2020\n    onKeyEnterAddItem(event: any) {\n        if (event.key == \"Enter\" && !this.isSelectingItem) {\n            if (this.isSelectingItem != true) {\n\n                this.themThuoc();\n            }\n            else {\n                this.isSelectingItem = false;\n            }\n        }\n    }\n\n    openCombobox(event: any) {\n        if (event) {\n            this.isSelectingItem = true;\n        }\n        else {\n            this.isSelectingItem = false;\n        }\n    }\n    onKey(event: any) {\n        if (event.key == \"Enter\" && !this.isSelectingItem) {\n            if (this.isSelectingItem != true) {\n\n                this.themThuoc();\n            }\n            else {\n                this.isSelectingItem = false;\n            }\n        }\n    }\n    apDungMiemGiamThem() {\n        let dataMGT = new ApDungMiemGiamThem;\n        if (this.confrim != null) {\n            this.dialog.closeAll();\n            this.confrim = null;\n        }\n        this.confrim = this.dialog.open(ApDungMiemGiamThemPopupComponent, {\n            disableClose: true,\n            width: \"500px\",\n            data: { dataMGT }\n        }).afterClosed().subscribe((result) => {\n            if (result != null) {\n                // this.dataSourcedanhsachThuoc.data.forEach(element => {\n                //     if(element.DanhSachMienGiamVos != null)\n                //     {\n                //         for (const danhSachMienGiam of element.DanhSachMienGiamVos.filter(x => x.LoaiMienGiam === this.loaiMienGiam.MienGiamThem)) {\n                //             element.DanhSachMienGiamVos.splice(element.DanhSachMienGiamVos.indexOf(danhSachMienGiam), 1);\n                //         }\n                //     }\n                // });\n\n                this.dataSourcedanhsachThuoc.data.forEach(element => {\n                    element.GhiChuMienGiamThem = result.GhiChu;\n                    element.DanhSachMienGiamVos = new Array<DanhSachMienGiamVo>();\n                    if (result.TiLe != undefined && result.TiLe != null) {\n                        let dsMiemGiamThem = new DanhSachMienGiamVo();\n                        dsMiemGiamThem.LoaiMienGiam = this.loaiMienGiam.MienGiamThem;\n                        dsMiemGiamThem.LoaiChietKhau = this.loaiChietKhau.ChietKhauTheoTiLe;\n                        dsMiemGiamThem.TiLe = result.TiLe;\n                        element.DanhSachMienGiamVos.push(dsMiemGiamThem);\n                    }\n                    if (result.SoTien != undefined && result.SoTien != null) {\n                        let dsMiemGiamThem = new DanhSachMienGiamVo();\n                        dsMiemGiamThem.LoaiMienGiam = this.loaiMienGiam.MienGiamThem;\n                        dsMiemGiamThem.LoaiChietKhau = this.loaiChietKhau.ChietKhauTheoSoTien;\n                        dsMiemGiamThem.SoTien = result.SoTien;\n                        dsMiemGiamThem.SoTienMiemGiamTatCa = result.SoTien;\n                        element.DanhSachMienGiamVos.push(dsMiemGiamThem);\n                    }\n                });\n                console.log(result)\n\n                // console.log(\"data miễn giảm\",this.dataSourcedanhsachThuoc.data);\n                this.dataSourcedanhsachThuoc.data.forEach(element => {\n                    element.SoTienMG = this.tinhSoTienMiemGiam(element);\n                    if (element.SoTienMG > element.BNConPhaiThanhToan) {\n                        this.notificationService.showSuccess('Số tiền áp dụng lớn hơn số tiền cần thanh toán.');\n                    }\n                    // số tiền người bệnh phải trả đã trừ số tiền miễn giảm\n                    let soTienCN = this.soTienCongNoChoTungDichVu(element);\n                    if (element.BNConPhaiThanhToan >= element.SoTienMG) {\n                        element.BNConPhaiThanhToan = ((element.DonGia * element.SoLuongMua)) - soTienCN - element.SoTienMG;\n                    }\n                });\n                this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n                this.tongTien = this.tongTienGrid;\n                if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n                    if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                        this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n                    } else {\n                        this.tongTien = 0;\n                    }\n                }\n                // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n                //     this.thongtinDonThuoc.TienMat = this.tongTien;\n                // }\n                let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n                if (items != null && items.length > 0) {\n                    this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n                }\n                this.notificationService.showSuccess(\"Áp dụng miễn giảm thành công.\");\n            }\n        });\n    }\n\n    public tongTatCaSoTienMg: any;\n\n    tinhSoTienMiemGiam(dataItem: any) {\n        let tongTatCaSoTienMg = 0;\n        var tiLePhanTramConLai = 100;\n        let tongTienTungDichVu = ((dataItem.DonGia * dataItem.SoLuongMua)) - this.soTienCongNoChoTungDichVu(dataItem);\n\n        var soTienConLai = tongTienTungDichVu;\n        if (tongTienTungDichVu > 0) {\n            var dsMienGiamTheoPhanTram = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 1 && item.TiLe != 0);\n            var dsMienGiamTheoSoTien = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 2 && item.SoTien != 0);\n            if (dsMienGiamTheoPhanTram != null && dsMienGiamTheoPhanTram.length > 0) {\n                //Sắp xếp theo thứ tự:Ưu đãi, Voucher, Miễn giảm thêm\n                dsMienGiamTheoPhanTram = _.sortBy(dsMienGiamTheoPhanTram, 'LoaiMienGiam');\n                dsMienGiamTheoPhanTram.forEach(item => {\n                    //Nếu tỉ lệ còn lại sau khi đổ từ trên xuống\n                    if (tiLePhanTramConLai > 0) {\n                        item.TiLe = item.TiLe > tiLePhanTramConLai ? tiLePhanTramConLai : item.TiLe;\n                    }\n                    else {\n                        item.TiLe = 0;\n                    }\n                    item.TongTienMiemGiam = (item.TiLe * tongTienTungDichVu) / 100;\n                    tongTatCaSoTienMg += item.TongTienMiemGiam;\n                    if (item.TiLe >= tiLePhanTramConLai) {\n                        tiLePhanTramConLai = 0;\n                    }\n                    else {\n                        tiLePhanTramConLai = tiLePhanTramConLai - item.TiLe;\n                    }\n                });\n            }\n            if (tiLePhanTramConLai > 0 && dsMienGiamTheoSoTien != null && dsMienGiamTheoSoTien.length > 0) {\n                tiLePhanTramConLai = dsMienGiamTheoPhanTram != null && dsMienGiamTheoPhanTram.length > 0 ? tiLePhanTramConLai : 0;\n                soTienConLai = tiLePhanTramConLai != 0 ? (((dataItem.ThanhTien - this.soTienCongNoChoTungDichVu(dataItem)) * tiLePhanTramConLai) / 100) : dataItem.ThanhTien - this.soTienCongNoChoTungDichVu(dataItem);\n                //Sắp xếp theo thứ tự:Ưu đãi, Voucher, Miễn giảm thêm\n                dsMienGiamTheoSoTien = _.sortBy(dsMienGiamTheoSoTien, 'LoaiMienGiam');\n                dsMienGiamTheoSoTien.forEach(item => {\n                    //Nếu số tiền còn lại sau khi đổ từ trên xuống\n                    if (soTienConLai > 0) {\n                        item.SoTien = item.SoTien > soTienConLai ? soTienConLai : item.SoTien;\n                    }\n                    else {\n                        item.SoTien = 0;\n                    }\n                    item.TongTienMiemGiam = item.SoTien;\n                    tongTatCaSoTienMg += item.TongTienMiemGiam;\n                    if (item.SoTien >= soTienConLai) {\n                        soTienConLai = 0;\n                    }\n                    else {\n                        soTienConLai = soTienConLai - item.SoTien;\n                    }\n                });\n            } else {\n                dsMienGiamTheoSoTien = _.sortBy(dsMienGiamTheoSoTien, 'LoaiMienGiam');\n                dsMienGiamTheoSoTien.forEach(item => {\n                    //NẾU PHẦN TRĂM MÀ SÀI HẾT THÌ BIND TIỀN TẤT CẢ CON LẠI BẰNG 0\n                    item.SoTien = 0;\n                });\n            }\n        }\n        return tongTatCaSoTienMg < 0 ? 0 : tongTatCaSoTienMg;\n\n    }\n\n    soTienCongNoChoTungDichVu(dataItem: any) {\n        let soTienCongNo = 0;\n        if (dataItem.DanhSachCongNoChoThus != null) {\n            dataItem.DanhSachCongNoChoThus.forEach(element => {\n                soTienCongNo = soTienCongNo + element.SoTienCongNoChoThu;\n            });\n        }\n        return soTienCongNo;\n    }\n\n    apDungMiemGiamChoTungDichVu(dataItem: any) {\n        // this.dataSourcedanhsachThuoc.data = this.danhSachChiPhiKhamChuaBenh;\n        let isView = true;\n        if (this.confrim != null) {\n            this.dialog.closeAll();\n            this.confrim = null;\n        }\n        this.confrim = this.dialog.open(ApDungMiemGiamChoTungLoaiThuocPopupComponent, {\n            disableClose: true,\n            width: \"500px\",\n            data: { dataItem, isView },\n        }).afterClosed().subscribe((result) => {\n            if (result != null) {\n                //tính số tiền miễm giam tren grid                \n                if (result.apdungMGTThanhCong) {\n\n                    this.dataSourcedanhsachThuoc.data.forEach(element => {\n                        if (element.Id === result.Id) {\n                            element.GhiChuMienGiamThem = result.GhiChuMienGiamThem;\n                            element.SoTienMG = this.tinhSoTienMiemGiam(element);\n                            this.modelChangeSoTienMG(element);\n                        }\n                    });\n                    console.log(\"data\", this.dataSourcedanhsachThuoc.data)\n                    this.notificationService.showSuccess(\"Áp dụng miễn giảm thành công.\");\n                }\n                else {\n                    this.dataSourcedanhsachThuoc.data.forEach(element => {\n                        if (element.Id === result.Id) {\n                            if (element.DanhSachMienGiamVos != null) {\n                                element.DanhSachMienGiamVos.forEach(item => {\n                                    result.DanhSachMienGiamVos.forEach(item1 => {\n                                        if (item1.LoaiMienGiam === item.LoaiMienGiam && item1.LoaiChietKhau === 1) {\n                                            { item.TiLe = item1.TiLe; item.TongTienMiemGiam = 0; item.DaSuDung = false }\n                                        }\n                                        if (item1.LoaiMienGiam === item.LoaiMienGiam && item1.LoaiChietKhau === 2) {\n                                            { item.SoTien = item1.SoTien; item.TongTienMiemGiam = 0; item.DaSuDung = false }\n                                        }\n                                    });\n                                });\n                            }\n                        }\n                    });\n                }\n            }\n        });\n    }\n\n    modelChangeSoTienMG(data: any) {\n        this.changeInputSoTienMGBindGrid(data);\n        this.myDanhSachChuaThanhToan();\n    }\n\n    changeInputSoTienMGBindGrid(dsChiPhiKhamChuaBenh: any) {\n        for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n            let totalCongNo = this.itemTotalCongNo(dsChiPhiKhamChuaBenh.DanhSachCongNoChoThus);\n            if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === true) {\n                if (this.dataSourcedanhsachThuoc.data[index].Id === dsChiPhiKhamChuaBenh.Id) {\n                    dsChiPhiKhamChuaBenh.BNConPhaiThanhToan = dsChiPhiKhamChuaBenh.ThanhTien - totalCongNo - dsChiPhiKhamChuaBenh.SoTienMG;\n                    this.dataSourcedanhsachThuoc.data[index].KiemTraTienSoTienItemDichVu = this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan < 0 ? true : false;\n                }\n            }\n        }\n        this.gridData = process(this.dataSourcedanhsachThuoc.data, this.state);\n        this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n        this.tongTien = this.tongTienGrid;\n        if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n            if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n                this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n            } else {\n                this.tongTien = 0;\n            }\n        }\n\n        let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        if (items != null && items.length > 0) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n\n        // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n        //     this.thongtinDonThuoc.TienMat = this.tongTien;\n        // }\n        // this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0));\n        // this.tongTien = this.tongTienGrid;\n        // if (this.benhnhanThongTin.SoDuTaiKhoan > 0) {\n        //     if (this.tongTien > this.benhnhanThongTin.SoDuTaiKhoan) {\n        //         this.tongTien -= this.benhnhanThongTin.SoDuTaiKhoan;\n        //     } else {\n        //         this.tongTien = 0;\n        //     }\n        // }\n        // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n        //     this.thongtinDonThuoc.TienMat = this.tongTien;\n        // }\n\n    }\n\n    nguoiBenhKhongMuaThuoc() {\n        debugger;\n        var self = this; \n        const yeuCauTiepNhanId: number = this.route.snapshot.params.id;    \n        if (this.dataSourcedanhsachThuoc.data.length > 0) {\n            var nguoiDungKhongMuaDonThuoc = new NguoiDungKhongMuaDonThuoc();         \n            nguoiDungKhongMuaDonThuoc.YeuCauTiepNhanId = yeuCauTiepNhanId;\n            if (self.authService.hasPermission(self.documentType, SecurityOperation.Delete)) {\n                self.dialog.open(ConfirmComponent, {\n                    disableClose: false,\n                    width: '400px',\n                    data: { Title: \"Xác nhận\", Message: \"Người bệnh không muốn mua thuốc này?\"}\n                }).afterClosed().subscribe(result => {\n                    if (result == \"Yes\") {\n                        self.apiService.post(\"QuayThuoc/NguoiBenhKhongMuaDonThuoc\", nguoiDungKhongMuaDonThuoc).subscribe(\n                            () => {\n                                self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xóa\"]));\n                                this.router.navigate(['nha-thuoc']);\n                            },\n                            (err: ApiError) => {\n                                self.validationErrors = err.ValidationErrors;\n                                if (err.Message != \"Validation Failed\") {\n                                    self.notificationService.showError(err.Message);\n                                }\n                            });\n                    }\n                });\n            }\n            else {\n                self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n            }\n        }\n    }\n\n    showPopupLoadingIn() {\n        this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '250px',\n            height: '90px',\n            data: { Title: 'Đang loading...' },\n        });\n    }\n\n    closePopupLoadingData() {\n        this.dialog.closeAll();\n    }\n}\n","export default \".xac-nhan-ng-template {\\n  display: inline;\\n  white-space: nowrap;\\n}\\n\\n.title {\\n  font-size: 15px;\\n  background: #ebeced;\\n  border: 1px solid #ccc;\\n  padding: 5px;\\n}\\n\\nmat-icon {\\n  cursor: pointer;\\n  margin-top: 8px;\\n}\\n\\n.warning {\\n  margin-bottom: -8px;\\n  margin-top: 0px;\\n  color: #ff5722;\\n}\\n\\n.info {\\n  color: #00bcd4;\\n}\\n\\n.ten-dich-vu-label {\\n  display: inline;\\n  text-overflow: ellipsis;\\n}\\n\\n.tooltip-block {\\n  background: #005dab;\\n  color: #fff;\\n}\\n\\n.tooltip-block * {\\n  font-size: 13px;\\n}\\n\\nsection.check-box-huong-bhyt {\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.color-red {\\n  color: red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS1jaG8tdGhhbmgtdG9hbi9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXHF1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWktY2hvLXRoYW5oLXRvYW5cXHF1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWktY2hvLXRoYW5oLXRvYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWktY2hvLXRoYW5oLXRvYW4vcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS1jaG8tdGhhbmgtdG9hbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxlQUFBO0VBQ0EsZUFBQTtBQ0NGOztBREVBO0VBQ0UsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLHVCQUFBO0FDQ0Y7O0FERUE7RUFDRSxtQkFBQTtFQUNBLFdBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtBQ0NGOztBREVBO0VBQ0UsVUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS1jaG8tdGhhbmgtdG9hbi9xdWF5LXRodW9jLWtoYWNoLXZhbmctbGFpLWNoby10aGFuaC10b2FuLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnhhYy1uaGFuLW5nLXRlbXBsYXRlIHtcbiAgZGlzcGxheTogaW5saW5lO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG4udGl0bGUge1xuICBmb250LXNpemU6IDE1cHg7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIHBhZGRpbmc6IDVweDtcbn1cblxubWF0LWljb24ge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIG1hcmdpbi10b3A6IDhweDtcbn1cblxuLndhcm5pbmcge1xuICBtYXJnaW4tYm90dG9tOiAtOHB4O1xuICBtYXJnaW4tdG9wOiAwcHg7XG4gIGNvbG9yOiAjZmY1NzIyO1xufVxuXG4uaW5mbyB7XG4gIGNvbG9yOiAjMDBiY2Q0O1xufVxuXG4udGVuLWRpY2gtdnUtbGFiZWwge1xuICBkaXNwbGF5OiBpbmxpbmU7XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xufVxuXG4udG9vbHRpcC1ibG9jayB7XG4gIGJhY2tncm91bmQ6ICMwMDVkYWI7XG4gIGNvbG9yOiAjZmZmO1xufVxuXG4udG9vbHRpcC1ibG9jayAqIHtcbiAgZm9udC1zaXplOiAxM3B4O1xufVxuXG5zZWN0aW9uLmNoZWNrLWJveC1odW9uZy1iaHl0IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbi5jb2xvci1yZWQge1xuICBjb2xvcjogcmVkO1xufSIsIi54YWMtbmhhbi1uZy10ZW1wbGF0ZSB7XG4gIGRpc3BsYXk6IGlubGluZTtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLnRpdGxlIHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICBwYWRkaW5nOiA1cHg7XG59XG5cbm1hdC1pY29uIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBtYXJnaW4tdG9wOiA4cHg7XG59XG5cbi53YXJuaW5nIHtcbiAgbWFyZ2luLWJvdHRvbTogLThweDtcbiAgbWFyZ2luLXRvcDogMHB4O1xuICBjb2xvcjogI2ZmNTcyMjtcbn1cblxuLmluZm8ge1xuICBjb2xvcjogIzAwYmNkNDtcbn1cblxuLnRlbi1kaWNoLXZ1LWxhYmVsIHtcbiAgZGlzcGxheTogaW5saW5lO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbn1cblxuLnRvb2x0aXAtYmxvY2sge1xuICBiYWNrZ3JvdW5kOiAjMDA1ZGFiO1xuICBjb2xvcjogI2ZmZjtcbn1cblxuLnRvb2x0aXAtYmxvY2sgKiB7XG4gIGZvbnQtc2l6ZTogMTNweDtcbn1cblxuc2VjdGlvbi5jaGVjay1ib3gtaHVvbmctYmh5dCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4uY29sb3ItcmVkIHtcbiAgY29sb3I6IHJlZDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild, TemplateRef, Input, Output, EventEmitter, ChangeDetectorRef } from '@angular/core';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { ThemDuocPham, ThongTinDuocPham, ThongTinDonThuoc, KhachVangLai, ServiceId } from '../quay-thuoc.model';\nimport icDelete from '@iconify/icons-ic/delete';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { MatDialog } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { QuayThuocXacNhanInPopUpComponent } from '../quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component';\nimport { InBangThuTienPopUpComponent } from '../in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { TabStripComponent } from '@progress/kendo-angular-layout';\nimport icInfo from '@iconify/icons-ic/twotone-info';\nimport { ComboboxComponent } from 'src/app/shared/component/dropdowns/combobox/combobox.component';\nimport { ThongTinPhieuPdfPopupComponent } from '../thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\n@Component({\n    selector: 'app-quay-thuoc-khach-vang-lai-cho-thanh-toan',\n    templateUrl: './quay-thuoc-khach-vang-lai-cho-thanh-toan.component.html',\n    styleUrls: ['./quay-thuoc-khach-vang-lai-cho-thanh-toan.component.scss']\n})\n\nexport class QuayThuocKhachVangLaiChoThanhToanComponent implements OnInit {\n    tongTien: number = 0;\n    tongTienHienThi: number = 0;\n    thongtinDonThuoc: ThongTinDonThuoc;\n    icDelete = icDelete;\n    documentType: DocumentType;\n    validationErrors: any;\n    validationErrorsThongTin: any;\n    validationThuocErrors: any;\n    themDuocPham: ThemDuocPham;\n    lstthongTinDonThuoc: Array<ThongTinDuocPham>;\n    validationThuThuocErrors: any[] = [];\n\n    flagCheckSeletedTienMat = false;\n    flagCheckSeletedChuyenKhoan = false;\n    flagCheckSeletedPos = false;\n    flagCheckSeletedSoTienCongNo = false;\n\n    deleteItem: Array<ThongTinDuocPham>;\n    snackBarOpen: any;\n    benhNhanResultData: any;\n    soLuongTonTrongKho: number = 0;\n    maBN: number;\n    tenBN: string;\n    icInfo = icInfo;\n    arrayThanhToans: any[] = [];\n    arrayThanhToanstmp: any[] = [];\n    selectItem: number[] = [];\n    checkSeletedTienMat: boolean = false;\n    checkSeletedChuyenKhoan: boolean = false;\n    checkSeletedPos: boolean = false;\n    isSelectingItem: boolean = false;\n\n    public selectMoneyTienBNDua: any[] = null;\n    public selectMoneyTienMat: any[] = null;\n    public selectMoneyTienChuyenKhoan: any[] = null;\n    public selectMoneyTienPos: any[] = null;\n    public selectMoneySoTienCongNo: any[] = null;\n\n    public setDefeautTienMat: any = [1];\n    public showCanhBaoSoTienNhap: boolean = false;\n\n    tongTienGrid = 0;\n\n    @Output() danhSachChuaThanhToan = new EventEmitter<any>();\n    @Output() valueChangeThuTien: EventEmitter<any> = new EventEmitter<any>();\n    @ViewChild('duocphamCombobox', { static: false }) duocPhamCombobox: ComboboxComponent;\n    constructor(\n        private apiService: ApiService,\n        private notificationService: NotificationService,\n        private dialog: MatDialog,\n        private snackBar: MatSnackBar,\n        private cdRef: ChangeDetectorRef,\n        private router: Router) { }\n\n    gridColumns: any[] = [];\n    lstDonThuocMoiThem = Array<ThongTinDuocPham>();\n\n    dataSourcedanhsachThuoc: any = {\n        data: [],\n        total: 0\n    };\n\n    public hinhThucThanhToan: any = [\n        { KeyId: 1, DisplayName: \"Tiền mặt\", Selected: false, Change: false },\n        { KeyId: 2, DisplayName: \"Chuyển khoản\", Selected: false, Change: false },\n        { KeyId: 3, DisplayName: \"Pos\", Selected: false, Change: false },\n        { KeyId: 4, DisplayName: \"Công nợ\", Selected: false, Change: false },\n    ];\n\n    @Input() thongTinKhachVangLai: KhachVangLai;\n    @ViewChild('tabVangLai', { static: true }) tabVangLai: TabStripComponent;\n    @Output() changeTab = new EventEmitter<any>();\n    @Output() MaTiepNhanBenhNhanDaThuTien = new EventEmitter<any>();\n\n    @ViewChild('footerTemplateTongTienDonThuoc', { static: true }) footerTemplateTongTienDonThuoc: TemplateRef<any>;\n    @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n    @ViewChild('footerTemplateDonGia', { static: true }) footerTemplateDonGia: TemplateRef<any>;\n    @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n    @ViewChild('gridDanhSachMuaThuoc', { static: true }) gridDanhSachMuaThuoc: GridComponent;\n    @ViewChild('soLuonTemplate', { static: true }) soLuonTemplate: TemplateRef<any>;\n    @Input() donThuocId: ServiceId;\n    @Input() ttCheck: number;\n    donThuocIds: string[] = [];\n\n    ngOnInit() {\n        this.documentType = DocumentType.QuayThuoc;\n        this.thongtinDonThuoc = new ThongTinDonThuoc();\n\n        this.lstDonThuocMoiThem = new Array<ThongTinDuocPham>();\n        this.themDuocPham = new ThemDuocPham();\n        this.deleteItem = new Array<ThongTinDuocPham>();\n        this.gridColumns = [\n            { Field: \"STT\", Title: \"#\", Width: 40, Sortable: false },\n            { Field: \"TenDuocPham\", Title: \"Tên Thuốc-Vật Tư\", Width: 120, Sortable: false },\n            // { Field: \"MaHoatChat\", Title: \"Hoạt Chất\", Width: 120, Sortable: false },\n            { Field: \"DonViTinh\", Title: \"ĐVT\", Width: 60, Sortable: false },\n            { Field: \"ViTri\", Title: \"Vị trí\", Width: 120, Sortable: false },\n            { Field: \"SoLuongMua\", Title: \"SL Mua\", Width: 90, Sortable: false, Template: this.soLuonTemplate },\n            { Field: \"DonGia\", Title: \"Đơn giá\", Width: 100, Sortable: false, Template: this.donGiaTemplate, TemplateFooter: this.footerTemplateDonGia },\n            { Field: \"ThanhTien\", Title: \"Thành tiền\", Width: 100, Sortable: false, Template: this.thanhTienTemplate, TemplateFooter: this.footerTemplateTongTienDonThuoc },\n            { Field: \"Solo\", Title: \"Số lô\", Width: 120, Sortable: false },\n            { Field: \"HanSuDungHientThi\", Title: \"Hạn sử dụng\", Width: 100, Sortable: false },\n            { Field: \"Action\", Title: \"\", Width: 50, Template: this.actionTemplate },\n        ];\n\n        this.flagCheckSeletedTienMat = true;\n        this.thongtinDonThuoc.NgayThu = new Date();\n        this.thongtinDonThuoc.NoiDungThu = \"Thu tiền thuốc\";\n        this.thongtinDonThuoc.HinhThucThanhToan = [1];\n        this.hinhThucThanhToan = [\n            { KeyId: 1, DisplayName: \"Tiền mặt\", Selected: true, Change: false },\n            { KeyId: 2, DisplayName: \"Chuyển khoản\", Selected: false, Change: false },\n            { KeyId: 3, DisplayName: \"Pos\", Selected: false, Change: false },\n            { KeyId: 4, DisplayName: \"Công nợ\", Selected: false, Change: false },\n        ];;\n\n        if (this.donThuocId.ToaThuoc != null) {\n            this.getDonThuocChiTietCu();\n        }\n\n    }\n\n    onSelectDuocPham(event) {\n        if (event !== undefined) {\n            this.apiService.post<Array<any>>('QuayThuoc/GetThongTinDuocPham?duocPhamId=' + event.KeyId + \"&LoaiDuocPhamHoacVatTu=\" + event.LoaiDuocPhamHoacVatTu).subscribe(\n                resultData => {\n                    debugger;\n                    let soLuongTon = 0;\n                    this.lstthongTinDonThuoc = resultData;\n                    if (this.lstDonThuocMoiThem.length > 0) {\n                        this.lstDonThuocMoiThem.forEach(x => {\n                            if (x.DuocPhamId == this.themDuocPham.DuocPhamId) {\n                                soLuongTon = soLuongTon + x.SoLuongMua;\n                            }\n                        });\n                    }\n\n                    debugger;\n                    this.themDuocPham.SoLuongTon = resultData.reduce((sum, item) => sum + item.SoLuongTon, 0) - soLuongTon;\n                });\n\n        } else {\n            this.themDuocPham.SoLuongTon = null;\n        }\n    }\n\n    delete(event: any) {\n        if (event != undefined && event != null) {\n            this.dialog.open(ConfirmComponent, {\n                disableClose: false,\n                width: \"500px\",\n                data: {\n                    Title: \"Xác nhận\",\n                    Message: \"Bạn có muốn xóa thuốc/vật tư này không ?\",\n                },\n            }).afterClosed().subscribe((res) => {\n                if (res == \"Yes\") {\n\n\n                    let i = 0;\n                    let stt = event.STT;\n\n                    for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n                        if (this.dataSourcedanhsachThuoc.data[index].STT == event.STT) {\n                            i = index;\n                            this.soLuongTonTrongKho = this.dataSourcedanhsachThuoc.data[index].SoLuongTon;\n                        }\n                    }\n\n                    this.dataSourcedanhsachThuoc.data[i].SoLuongDung = null;\n                    this.dataSourcedanhsachThuoc.data[i].HighLightClass = null;\n                    this.deleteItem.push(this.dataSourcedanhsachThuoc.data[i])\n                    this.lstthongTinDonThuoc = new Array<ThongTinDuocPham>();\n                    this.lstthongTinDonThuoc.push(this.dataSourcedanhsachThuoc.data[i])\n                    this.dataSourcedanhsachThuoc.data.splice(i, 1);\n                    let soLuongTon = 0;\n                    let tenDuocPhamText = \"\";\n                    let duocPhamId = 0;\n                    if (this.deleteItem.length > 0) {\n                        this.deleteItem.forEach(x => {\n                            soLuongTon = soLuongTon + x.SoLuongMua;\n                            tenDuocPhamText = x.TenDuocPham;\n                            duocPhamId = x.DuocPhamId;\n                        });\n                    }\n\n                    this.thongtinDonThuoc.BenhNhanDua = 0;\n                    this.thongtinDonThuoc.TienTraLai = null;\n\n                    this.lstDonThuocMoiThem = new Array<ThongTinDuocPham>();\n\n                    for (let index0 = 0; index0 < i; index0++) {\n                        this.lstDonThuocMoiThem.push(this.dataSourcedanhsachThuoc.data[index0]);\n                    }\n\n                    for (let index1 = i; index1 < this.dataSourcedanhsachThuoc.data.length; index1++) {\n                        this.dataSourcedanhsachThuoc.data[index1].STT = stt;\n                        this.lstDonThuocMoiThem.push(this.dataSourcedanhsachThuoc.data[index1]);\n                        stt++;\n                    }\n                    this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0) + 0.0000001);\n                    this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n\n                    // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n                    //     this.thongtinDonThuoc.TienMat = this.tongTien;\n                    // }\n\n                    let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n                    if (items != null && items.length > 0) {\n                        this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n                    }\n\n                    if (this.themDuocPham.DuocPhamId == duocPhamId) {\n                        this.apiService.post<Array<any>>(\"QuayThuoc/GetThongTinDuocPham?duocPhamId=\" + event.DuocPhamId).subscribe(\n                            resultData => {\n                                let soLuongTon = 0;\n                                if (this.dataSourcedanhsachThuoc.data.length != 0) {\n                                    this.dataSourcedanhsachThuoc.data.forEach(x => {\n                                        if (x.DuocPhamId == event.DuocPhamId) {\n                                            soLuongTon = soLuongTon + x.SoLuongMua;\n                                        }\n                                    });\n                                }\n                                this.themDuocPham.SoLuongTon = resultData.reduce((sum, item) => sum + item.SoLuongTon, 0) - soLuongTon;\n                            });\n                    }\n                    this.notificationService.showSuccess(\n                        \"Xóa thành công\"\n                    );\n                    this.danhSachXemTruocBangKeThuocVaVatTu(this.dataSourcedanhsachThuoc.data);\n                }\n            })\n        };\n    }\n\n    onChangeTienThoi() {\n        if (this.thongtinDonThuoc.BenhNhanDua < this.tongTien) {\n            this.thongtinDonThuoc.TienTraLai = null;\n            return;\n        }\n\n        this.thongtinDonThuoc.TienTraLai = this.thongtinDonThuoc.BenhNhanDua - this.tongTien;\n    }\n\n    setLastItemDelete() {\n        if (this.arrayThanhToanstmp.length > 1 && this.arrayThanhToanstmp[this.arrayThanhToanstmp.length - 2].length > this.arrayThanhToans.length) {\n            var truoc = this.arrayThanhToanstmp[this.arrayThanhToanstmp.length - 2];\n            var sau = this.arrayThanhToanstmp[this.arrayThanhToanstmp.length - 1];\n            var valRemove = truoc.filter(arr1Item => !sau.includes(arr1Item));\n            let val: number = 0;\n\n            if (valRemove == 3) {\n                val = this.thongtinDonThuoc.POS;\n                this.thongtinDonThuoc.POS = 0;\n            }\n            if (valRemove == 2) {\n                val = this.thongtinDonThuoc.ChuyenKhoan;\n                this.thongtinDonThuoc.ChuyenKhoan = 0;\n            }\n            if (valRemove == 1) {\n                val = this.thongtinDonThuoc.TienMat;\n                this.thongtinDonThuoc.TienMat = 0;\n            }\n            let lastKeCuoi = this.arrayThanhToanstmp[this.arrayThanhToanstmp.length - 1];\n            var kiemTraCuoiCongNoKhong = lastKeCuoi[lastKeCuoi.length - 1];\n\n            if (kiemTraCuoiCongNoKhong === 4) {\n                let kpCongNo = lastKeCuoi[lastKeCuoi.length - 2];\n                if (kpCongNo == 2) {\n                    this.thongtinDonThuoc.ChuyenKhoan += val;\n                }\n                if (kpCongNo == 3) {\n                    this.thongtinDonThuoc.POS += val;\n                }\n                if (kpCongNo == 1) {\n                    this.thongtinDonThuoc.TienMat += val;\n                }\n            }\n            else {\n                let kpCongNo = lastKeCuoi[lastKeCuoi.length - 1];\n                if (kpCongNo == 2) {\n                    this.thongtinDonThuoc.ChuyenKhoan += val;\n                }\n                if (kpCongNo == 3) {\n                    this.thongtinDonThuoc.POS += val;\n                }\n                if (kpCongNo == 1) {\n                    this.thongtinDonThuoc.TienMat += val;\n                }\n            }\n        }\n    }\n\n    clearHinhThucThanhToan() {\n        this.flagCheckSeletedTienMat = false;\n        this.flagCheckSeletedChuyenKhoan = false;\n        this.flagCheckSeletedPos = false;\n        this.checkSeletedTienMat = false;\n        this.checkSeletedChuyenKhoan = false;\n        this.flagCheckSeletedSoTienCongNo = false;\n        this.checkSeletedPos = false;\n    }\n\n    setLastItem() {\n        this.arrayThanhToans.sort();\n        let lastItem = this.arrayThanhToans[this.arrayThanhToans.length - 1];\n        if (lastItem == 1) {\n            this.checkSeletedTienMat = true;\n            this.checkSeletedChuyenKhoan = true;\n            this.thongtinDonThuoc.TienMat = this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS;\n            if (this.thongtinDonThuoc.TienMat < 0) {\n                this.thongtinDonThuoc.TienMat = 0;\n            }\n        }\n        if (lastItem == 2) {\n            this.checkSeletedChuyenKhoan = true;\n\n            this.thongtinDonThuoc.ChuyenKhoan = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS;\n            if (this.thongtinDonThuoc.ChuyenKhoan < 0) {\n                this.thongtinDonThuoc.ChuyenKhoan = 0;\n            }\n        }\n\n        if (lastItem == 3) {\n            this.checkSeletedPos = true;\n\n            this.thongtinDonThuoc.POS = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan;\n            if (this.thongtinDonThuoc.POS < 0) {\n                this.thongtinDonThuoc.POS = 0;\n            }\n        }\n\n        if (lastItem == undefined) {\n            this.thongtinDonThuoc.TienMat = 0;\n            this.thongtinDonThuoc.POS = 0;\n            this.thongtinDonThuoc.ChuyenKhoan = 0;\n        }\n    }\n\n    setLastItemBangTien(input: any) {\n        this.arrayThanhToans.sort();\n        let lastItem = this.arrayThanhToans[this.arrayThanhToans.length - 1];\n        if (lastItem == 1) {\n            this.checkSeletedTienMat = true;\n            this.checkSeletedChuyenKhoan = true;\n            this.thongtinDonThuoc.TienMat = this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS;\n            if (this.thongtinDonThuoc.TienMat < 0) {\n                this.thongtinDonThuoc.TienMat = 0;\n            }\n        }\n        if (lastItem == 2) {\n            this.checkSeletedChuyenKhoan = true;\n\n            this.thongtinDonThuoc.ChuyenKhoan = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS;\n            if (this.thongtinDonThuoc.ChuyenKhoan < 0) {\n                this.thongtinDonThuoc.ChuyenKhoan = 0;\n            }\n        }\n\n        if (lastItem == 3) {\n            this.checkSeletedPos = true;\n\n            this.thongtinDonThuoc.POS = this.tongTien - this.thongtinDonThuoc.TienMat - input;\n            if (this.thongtinDonThuoc.POS < 0) {\n                this.thongtinDonThuoc.POS = 0;\n            }\n        }\n\n        if (lastItem == undefined) {\n            this.thongtinDonThuoc.TienMat = 0;\n            this.thongtinDonThuoc.POS = 0;\n            this.thongtinDonThuoc.ChuyenKhoan = 0;\n        }\n    }\n\n    changeSoTien(items: any) {\n        switch (items) {\n            case 1:\n                this.thongtinDonThuoc.TienMat = (this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                break;\n            case 2:\n                this.thongtinDonThuoc.ChuyenKhoan = (this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                break;\n            case 3:\n                this.thongtinDonThuoc.POS = (this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.SoTienCongNo) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.SoTienCongNo;\n                break;\n            case 4:\n                this.thongtinDonThuoc.SoTienCongNo = (this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS) < 0 ? 0 :\n                    this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS;\n                break;\n        }\n    }\n\n    onValueChange(event: any, type: number) {\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n        this.hinhThucThanhToan.forEach(item => {\n            if (item.KeyId == type) {\n                item.Change = true;\n            }\n        });\n        var itemNotChanges = this.hinhThucThanhToan.filter(o => o.Selected == true && o.Change == false);\n        if (itemNotChanges.length == 1) {\n            this.changeSoTien(itemNotChanges[0].KeyId);\n        }\n        else {\n            if (itemNotChanges.length == 0 && this.hinhThucThanhToan.filter(o => o.Selected == true).length == 2) {\n                var items = this.hinhThucThanhToan.filter(o => o.Selected == true && o.KeyId != type);\n                this.changeSoTien(items[0].KeyId);\n            }\n        }\n        if (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo != this.tongTien) {\n            this.showCanhBaoSoTienNhap = true;\n        }\n        else {\n\n            this.showCanhBaoSoTienNhap = false;\n        }\n        this.changeTienTraLaiBenhNhan();\n    }\n\n    changeTienTraLaiBenhNhan() {\n        if (this.thongtinDonThuoc.BenhNhanDua > this.thongtinDonThuoc.TienMat) {\n            this.thongtinDonThuoc.TienTraLai =\n                this.thongtinDonThuoc.BenhNhanDua - this.thongtinDonThuoc.TienMat;\n        } else {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n    }\n\n    modelChangePos(ev: any, type: any) {\n        const total = (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.SoTienCongNo) === 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.SoTienCongNo);\n        this.selectMoneyTienPos = [total, 0];\n\n        this.thongtinDonThuoc.POS = ev;\n        this.onValueChange(ev, type);\n    }\n\n    modelChangeChuyenKhoan(ev: any, type: any) {\n        const total = (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo) !== 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.TienMat + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo);\n        this.selectMoneyTienChuyenKhoan = [total, 0];\n        this.thongtinDonThuoc.ChuyenKhoan = ev;\n        this.onValueChange(ev, type);\n    }\n\n    modelChangeTienMat(ev: any, type: any) {\n        const total = (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo) === 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.SoTienCongNo);\n        this.selectMoneyTienMat = [total, 0];\n\n        this.thongtinDonThuoc.TienTraLai = this.thongtinDonThuoc.BenhNhanDua - this.thongtinDonThuoc.TienMat;\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n        this.thongtinDonThuoc.TienMat = ev;\n        this.onValueChange(ev, type);\n    }\n\n    modelChangeSoTienCongNo(ev: any, type: any) {\n        const total = (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.TienMat) === 0 ?\n            this.tongTien : this.tongTien - (this.thongtinDonThuoc.ChuyenKhoan + this.thongtinDonThuoc.POS + this.thongtinDonThuoc.TienMat);\n        this.selectMoneySoTienCongNo = [total, 0];\n\n        this.thongtinDonThuoc.SoTienCongNo = ev;\n        this.onValueChange(ev, type);\n    }\n\n    modelChangeTienBNDua(input: any) {\n        this.selectMoneyTienBNDua = [this.tongTien, 100000000];\n        this.thongtinDonThuoc.TienTraLai = input - this.thongtinDonThuoc.TienMat;\n\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n    }\n\n    onChangeBenhNhanDua() {\n        this.thongtinDonThuoc.TienTraLai = this.thongtinDonThuoc.BenhNhanDua - this.thongtinDonThuoc.TienMat;\n        if (this.thongtinDonThuoc.TienTraLai < 0) {\n            this.thongtinDonThuoc.TienTraLai = 0;\n        }\n    }\n\n    XacNhanIn(data: any) {\n        this.showPopupLoadingIn();\n        data.Hosting = window.location.protocol + '//' + window.location.host;\n        this.apiService.postExportExcel<any>('QuayThuoc/XacNhanIn', data).subscribe(\n            resultData => {\n                if (resultData != undefined && resultData != null) {\n                    if (data.InBangKe == false && data.InPhieuThu == false) {\n                        this.notificationService.showError('Không có phiếu in được chọn.');\n                        this.closePopupLoadingData();\n                    }\n                    else {\n                        this.dialog.open(ThongTinPhieuPdfPopupComponent, {\n                            disableClose: true,\n                            width: '1000px',\n                            data: { Model: resultData }\n                        }).afterClosed().subscribe(() => {\n                            this.closePopupLoadingData();\n                        });\n\n                    }\n                }\n            },\n            (err: ApiError) => {\n                this.closePopupLoadingData();\n                this.validationErrors = err.ValidationErrors;\n              if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n              }\n            });\n    }\n\n    shareData() {\n        this.thongtinDonThuoc.DanhSachDonThuocs = [...this.dataSourcedanhsachThuoc.data];\n        for (let index = 0; index < this.thongtinDonThuoc.DanhSachDonThuocs.length; index++) {\n            this.thongtinDonThuoc.DanhSachDonThuocs[index].HighLightClass = null;\n            if (this.thongtinDonThuoc.DanhSachDonThuocs[index].CheckedDefault == false) {\n                this.thongtinDonThuoc.DanhSachDonThuocs.splice(index, 1)\n                index = -1;\n            }\n        }\n        return this.thongtinDonThuoc;\n    }\n\n\n    ThuTienVaXuatThuoc() {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n\n        if (this.dataSourcedanhsachThuoc.data === [] || this.dataSourcedanhsachThuoc.data.length == 0) {\n            this.notificationService.showError(\"Người bệnh này không có thuốc nào để thanh toán.\");\n            return;\n        }\n        let index = this.dataSourcedanhsachThuoc.data.findIndex(x => x.LoaiDonThuoc == 1)\n        if (index != -1) {\n            this.notificationService.showError(\"Đang có thuốc bảo hiểm trong đơn thuốc.\");\n            return;\n        }\n        let indexHetThuoc = this.dataSourcedanhsachThuoc.data.findIndex(x => x.ThuocTrongKhoExit == true)\n        if (indexHetThuoc != -1) {\n            this.notificationService.showError(\"Thuốc trong kho không còn.\");\n            return;\n        }\n        if (this.thongtinDonThuoc.TienMat === null || this.thongtinDonThuoc.TienMat === undefined) {\n            this.thongtinDonThuoc.TienMat = 0;\n        }\n\n        if (this.thongtinDonThuoc.ChuyenKhoan === null || this.thongtinDonThuoc.ChuyenKhoan === undefined) {\n            this.thongtinDonThuoc.ChuyenKhoan = 0;\n        }\n\n        if (this.thongtinDonThuoc.POS === null || this.thongtinDonThuoc.POS === undefined) {\n            this.thongtinDonThuoc.POS = 0;\n        }\n\n        if (this.thongtinDonThuoc.BenhNhanDua === null || this.thongtinDonThuoc.BenhNhanDua === undefined) {\n            this.thongtinDonThuoc.BenhNhanDua = 0;\n        }\n\n        if (this.thongTinKhachVangLai === undefined) {\n            this.thongTinKhachVangLai = new KhachVangLai();\n        }\n\n        if (this.setDefeautTienMat.length === 0) {\n            this.validationErrors.push({\n                Message: \"Vui lòng chọn hình thức thanh toán\",\n                Field: \"HinhThucThanhToan\",\n            });\n            return true;\n        }\n\n        var validationCheck = {\n            HoTen: this.thongTinKhachVangLai.HoTen,\n            NamSinh: this.thongTinKhachVangLai.NamSinh,\n            HinhThucThanhToan: this.thongtinDonThuoc.HinhThucThanhToan,\n            TienMat: this.thongtinDonThuoc.TienMat,\n            ChuyenKhoan: this.thongtinDonThuoc.ChuyenKhoan,\n            POS: this.thongtinDonThuoc.POS,\n            SoTienCongNo: this.thongtinDonThuoc.SoTienCongNo,\n            BenhNhanDua: this.thongtinDonThuoc.BenhNhanDua,\n            NgayThu: this.thongtinDonThuoc.NgayThu,\n            NoiDungThu: this.thongtinDonThuoc.NoiDungThu,\n            TongTien: this.tongTien\n        };\n        this.validationErrors = [];\n        this.validationErrorsThongTin = [];\n\n        if (this.donThuocId.maBN != null) {\n            this.maBN = this.donThuocId.maBN;\n            this.apiService.post<any>(\"QuayThuoc/GetThongTinBenhNhan1?maBN=\" + this.maBN).subscribe(  // to do maBn => benhNhanId\n                (resultData) => {\n                    this.thongTinKhachVangLai.Id = resultData.Id;\n                    this.thongTinKhachVangLai.HoTen = resultData.HoTen;\n                    this.thongTinKhachVangLai.GioiTinh = resultData.GioiTinh;\n                    this.thongTinKhachVangLai.DiaChi = resultData.DiaChi;\n                    this.thongTinKhachVangLai.DiaChiDayDu = resultData.DiaChiDayDu;\n                    this.thongTinKhachVangLai.NamSinh = resultData.NamSinh;\n                    this.thongTinKhachVangLai.PhuongXaId = resultData.PhuongXaId;\n                    this.thongTinKhachVangLai.QuanHuyenId = resultData.QuanHuyenId;\n                    this.thongTinKhachVangLai.SoDienThoai = resultData.SoDienThoai;\n                    this.thongTinKhachVangLai.TinhThanhId = resultData.TinhThanhId;\n                    this.thongTinKhachVangLai.Email = resultData.Email;\n                });\n            this.apiService.post<any>(\"QuayThuoc/GetTenBenhNhan?benhNhanId=\" + this.maBN).subscribe( // to do maBn => benhNhanId\n                resultData => {\n                    this.tenBN = resultData;\n                    validationCheck.HoTen = this.tenBN;\n                    validationCheck.NamSinh = this.thongTinKhachVangLai.NamSinh;\n                    this.thongtinDonThuoc.HoTenBenhNhan = this.tenBN;\n                    this.thongTinKhachVangLai.HoTen = this.tenBN;\n                    this.apiService.post<any>(\"QuayThuoc/CheckValidationForQuayThuocKhachVangLai\", validationCheck).subscribe(\n                        () => {\n                            var khachVangLaiChoThanhToan = {\n                                ThongTinKhach: this.thongTinKhachVangLai,\n                                ThongTinThuChi: this.thongtinDonThuoc,\n                                DanhSachDonThuoc: this.lstDonThuocMoiThem\n                            };\n                            let chuInHoa = this.thongTinKhachVangLai.HoTen.toUpperCase();\n                            this.dialog.open(ConfirmComponent, {\n                                //disableClose: true,\n                                width: '1000px',\n                                data: {\n                                    Title: 'Xác nhận', Message: 'Bạn chắc chắn muốn thu của người bệnh ' +\n                                        chuInHoa.bold() + ' với số tiền là ' +\n                                        this.tongTien.toLocaleString('vi-VI').bold() + ' đồng hay không?'\n                                }\n                            }).afterClosed().subscribe(result => {\n                                if (result == 'Yes') {\n                                    this.apiService.post<any>(\"QuayThuoc/ThuTienKhachVangLaiVaXuatThuoc\", khachVangLaiChoThanhToan).subscribe(\n                                        resultData => {\n                                            khachVangLaiChoThanhToan.DanhSachDonThuoc = [];\n                                            this.lstDonThuocMoiThem = [];\n                                            if (resultData.ThanhCong == false) {\n                                                this.notificationService.showError(resultData.Error);\n                                                for (let i = 0; i < resultData.DanhSachDuocPhamVuotTonKho.length; i++) {\n                                                    for (let j = 0; j < this.dataSourcedanhsachThuoc.data.length; j++) {\n                                                        if (resultData.DanhSachDuocPhamVuotTonKho[i].Stt == this.dataSourcedanhsachThuoc.data[j].STT) {\n                                                            this.dataSourcedanhsachThuoc.data[j].HighLightClass = 'bg-row-lightpink';\n                                                            this.dataSourcedanhsachThuoc.data[j].SoLuongDung = resultData.DanhSachDuocPhamVuotTonKho[i].SoLuongTonKho;\n                                                        }\n                                                    }\n                                                }\n                                            } else if (resultData.ThanhCong == true) {\n                                                this.dataSourcedanhsachThuoc.data = [];\n\n                                                if (this.gridDanhSachMuaThuoc !== undefined) {\n                                                    this.gridDanhSachMuaThuoc.setDataSource();\n                                                }\n\n                                                this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0) + 0.0000001);\n                                                this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n                                                if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n                                                    this.thongtinDonThuoc.TienMat = this.tongTien;\n                                                }\n                                                this.benhNhanResultData = resultData;\n                                                this.apiService.post<any>(\"QuayThuoc/GetBenhNhanForNavigation?taiKhoanThuId=\" + resultData.TaiKhoanBenhNhanThuId).subscribe(\n                                                    result1 => {\n                                                        let dialogRef = this.dialog.open(QuayThuocXacNhanInPopUpComponent, {\n                                                            disableClose: true,\n                                                            width: '500px',\n                                                            data: { Model: this.benhNhanResultData, Title: \"XÁC NHẬN\" }\n                                                        }).afterClosed().subscribe(result => {\n                                                            if (result.Response != \"No answer\") {\n                                                                this.changeTab.emit(2);\n                                                                this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n\n                                                                this.XacNhanIn(result);\n                                                            }\n                                                            else {\n                                                                this.changeTab.emit(2);\n                                                                this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n                                                            }\n                                                        });\n                                                    });\n                                            }\n                                        });\n                                }\n                            });\n                        },\n                        (err: ApiError) => {\n                            this.validationErrors = err.ValidationErrors;\n                            if (this.validationErrors.length !== 0) {\n                                for (var i = 0; i < this.validationErrors.length; i++) {\n                                    if (this.validationErrors[i].Field === \"HoTen\") {\n                                        this.validationErrorsThongTin.push(this.validationErrors[i]);\n                                    }\n\n                                    if (this.validationErrors[i].Field === \"NamSinh\") {\n                                        this.validationErrorsThongTin.push(this.validationErrors[i]);\n                                    }\n                                }\n                            }\n                            this.valueChangeThuTien.emit(this.validationErrorsThongTin);\n                            return;\n                        });\n                },\n                () => { });\n\n        } else {\n\n            this.apiService.post<any>(\"QuayThuoc/CheckValidationForQuayThuocKhachVangLai\", validationCheck).subscribe(\n                () => {\n                    var khachVangLaiChoThanhToan = {\n                        ThongTinKhach: this.thongTinKhachVangLai,\n                        ThongTinThuChi: this.thongtinDonThuoc,\n                        DanhSachDonThuoc: this.lstDonThuocMoiThem\n                    };\n                    let chuInHoa = this.thongTinKhachVangLai.HoTen.toUpperCase();\n\n                    this.dialog.open(ConfirmComponent, {\n                        width: '1000px',\n                        data: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn thu của người bệnh \" + chuInHoa.bold() + \" với số tiền là \" + this.tongTien.toLocaleString(\"vi-VI\").bold() + \" đồng hay không?\" }\n                    }).afterClosed().subscribe(result => {\n                        if (result == 'Yes') {\n                            this.apiService.post<any>(\"QuayThuoc/ThuTienKhachVangLaiVaXuatThuoc\", khachVangLaiChoThanhToan).subscribe(\n                                resultData => {\n                                    khachVangLaiChoThanhToan.DanhSachDonThuoc = [];\n                                    this.lstDonThuocMoiThem = [];\n                                    if (resultData.ThanhCong == false) {\n                                        this.notificationService.showError(resultData.Error);\n                                        for (let i = 0; i < resultData.DanhSachDuocPhamVuotTonKho.length; i++) {\n                                            for (let j = 0; j < this.dataSourcedanhsachThuoc.data.length; j++) {\n                                                if (resultData.DanhSachDuocPhamVuotTonKho[i].Stt == this.dataSourcedanhsachThuoc.data[j].STT) {\n                                                    this.dataSourcedanhsachThuoc.data[j].HighLightClass = 'bg-row-lightpink';\n                                                    this.dataSourcedanhsachThuoc.data[j].SoLuongDung = resultData.DanhSachDuocPhamVuotTonKho[i].SoLuongTonKho;\n                                                }\n                                            }\n                                        }\n                                    } else if (resultData.ThanhCong == true) {\n                                        this.reset();\n                                        this.dataSourcedanhsachThuoc.data = [];\n\n                                        if (this.gridDanhSachMuaThuoc !== undefined) {\n                                            this.gridDanhSachMuaThuoc.setDataSource();\n                                        }\n\n                                        this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0) + 0.0000001);\n                                        this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n\n                                        if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n                                            this.thongtinDonThuoc.TienMat = this.tongTien;\n                                        }\n\n                                        this.benhNhanResultData = resultData;\n\n                                        this.apiService.post<any>(\"QuayThuoc/GetBenhNhanForNavigation?taiKhoanThuId=\" + resultData.TaiKhoanBenhNhanThuId).subscribe(\n                                            result1 => {\n                                                let dialogRef = this.dialog.open(QuayThuocXacNhanInPopUpComponent, {\n                                                    disableClose: true,\n                                                    width: '500px',\n                                                    data: { Model: this.benhNhanResultData, Title: \"XÁC NHẬN\" }\n                                                }).afterClosed().subscribe(result => {\n                                                    if (result.Response != \"No answer\") {\n                                                        this.changeTab.emit(2);\n                                                        this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n                                                        this.XacNhanIn(result);\n                                                    }\n                                                    else {\n                                                        this.changeTab.emit(2);\n                                                        this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n                                                    }\n\n                                                });\n\n                                            });\n                                    }\n                                });\n                        }\n                    });\n                },\n                (err: ApiError) => {\n                    this.validationErrors = err.ValidationErrors;\n\n                    if (this.validationErrors.length !== 0) {\n                        for (var i = 0; i < this.validationErrors.length; i++) {\n                            if (this.validationErrors[i].Field === \"HoTen\") {\n                                this.validationErrorsThongTin.push(this.validationErrors[i]);\n                            }\n\n                            if (this.validationErrors[i].Field === \"NamSinh\") {\n                                this.validationErrorsThongTin.push(this.validationErrors[i]);\n                            }\n                        }\n                    }\n                    this.valueChangeThuTien.emit(this.validationErrorsThongTin);\n                    return;\n                });\n        }\n    }\n\n    ThuTien() {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n\n        if (this.dataSourcedanhsachThuoc.data === [] || this.dataSourcedanhsachThuoc.data.length == 0) {\n            this.notificationService.showError(\"Người bệnh này không có thuốc nào để thanh toán.\");\n            return;\n        }\n        let index = this.dataSourcedanhsachThuoc.data.findIndex(x => x.LoaiDonThuoc == 1)\n        if (index != -1) {\n            this.notificationService.showError(\"Đang có thuốc bảo hiểm trong đơn thuốc.\");\n            return;\n        }\n        let indexHetThuoc = this.dataSourcedanhsachThuoc.data.findIndex(x => x.ThuocTrongKhoExit == true)\n        if (indexHetThuoc != -1) {\n            this.notificationService.showError(\"Thuốc trong kho không còn.\");\n            return;\n        }\n        if (this.thongtinDonThuoc.TienMat === null || this.thongtinDonThuoc.TienMat === undefined) {\n            this.thongtinDonThuoc.TienMat = 0;\n        }\n\n        if (this.thongtinDonThuoc.ChuyenKhoan === null || this.thongtinDonThuoc.ChuyenKhoan === undefined) {\n            this.thongtinDonThuoc.ChuyenKhoan = 0;\n        }\n\n        if (this.thongtinDonThuoc.POS === null || this.thongtinDonThuoc.POS === undefined) {\n            this.thongtinDonThuoc.POS = 0;\n        }\n\n        if (this.thongtinDonThuoc.BenhNhanDua === null || this.thongtinDonThuoc.BenhNhanDua === undefined) {\n            this.thongtinDonThuoc.BenhNhanDua = 0;\n        }\n\n        if (this.thongTinKhachVangLai === undefined) {\n            this.thongTinKhachVangLai = new KhachVangLai();\n        }\n\n        if (this.setDefeautTienMat.length === 0) {\n            this.validationErrors.push({\n                Message: \"Vui lòng chọn hình thức thanh toán\",\n                Field: \"HinhThucThanhToan\",\n            });\n            return true;\n        }\n\n        var validationCheck = {\n            HoTen: this.thongTinKhachVangLai.HoTen,\n            NamSinh: this.thongTinKhachVangLai.NamSinh,\n            HinhThucThanhToan: this.thongtinDonThuoc.HinhThucThanhToan,\n            TienMat: this.thongtinDonThuoc.TienMat,\n            ChuyenKhoan: this.thongtinDonThuoc.ChuyenKhoan,\n            POS: this.thongtinDonThuoc.POS,\n            SoTienCongNo: this.thongtinDonThuoc.SoTienCongNo,\n            BenhNhanDua: this.thongtinDonThuoc.BenhNhanDua,\n            NgayThu: this.thongtinDonThuoc.NgayThu,\n            NoiDungThu: this.thongtinDonThuoc.NoiDungThu,\n            TongTien: this.tongTien\n        };\n        this.validationErrors = [];\n        this.validationErrorsThongTin = [];\n\n        if (this.donThuocId.maBN != null) {\n            this.maBN = this.donThuocId.maBN;\n            this.apiService.post<any>(\"QuayThuoc/GetThongTinBenhNhan1?maBN=\" + this.maBN).subscribe(  // to do maBn => benhNhanId\n                (resultData) => {\n                    this.thongTinKhachVangLai.Id = resultData.Id;\n                    this.thongTinKhachVangLai.HoTen = resultData.HoTen;\n                    this.thongTinKhachVangLai.GioiTinh = resultData.GioiTinh;\n                    this.thongTinKhachVangLai.DiaChi = resultData.DiaChi;\n                    this.thongTinKhachVangLai.DiaChiDayDu = resultData.DiaChiDayDu;\n                    this.thongTinKhachVangLai.NamSinh = resultData.NamSinh;\n                    this.thongTinKhachVangLai.PhuongXaId = resultData.PhuongXaId;\n                    this.thongTinKhachVangLai.QuanHuyenId = resultData.QuanHuyenId;\n                    this.thongTinKhachVangLai.SoDienThoai = resultData.SoDienThoai;\n                    this.thongTinKhachVangLai.TinhThanhId = resultData.TinhThanhId;\n                    this.thongTinKhachVangLai.Email = resultData.Email;\n                });\n            this.apiService.post<any>(\"QuayThuoc/GetTenBenhNhan?benhNhanId=\" + this.maBN).subscribe( // to do maBn => benhNhanId\n                resultData => {\n                    this.tenBN = resultData;\n                    validationCheck.HoTen = this.tenBN;\n                    validationCheck.NamSinh = this.thongTinKhachVangLai.NamSinh;\n                    this.thongtinDonThuoc.HoTenBenhNhan = this.tenBN;\n                    this.thongTinKhachVangLai.HoTen = this.tenBN;\n                    this.apiService.post<any>(\"QuayThuoc/CheckValidationForQuayThuocKhachVangLai\", validationCheck).subscribe(\n                        () => {\n                            var khachVangLaiChoThanhToan = {\n                                ThongTinKhach: this.thongTinKhachVangLai,\n                                ThongTinThuChi: this.thongtinDonThuoc,\n                                DanhSachDonThuoc: this.lstDonThuocMoiThem\n                            };\n                            let chuInHoa = this.thongTinKhachVangLai.HoTen.toUpperCase();\n                            this.dialog.open(ConfirmComponent, {\n                                //disableClose: true,\n                                width: '1000px',\n                                data: {\n                                    Title: 'Xác nhận', Message: 'Bạn chắc chắn muốn thu của người bệnh ' +\n                                        chuInHoa.bold() + ' với số tiền là ' +\n                                        this.tongTien.toLocaleString('vi-VI').bold() + ' đồng hay không?'\n                                }\n                            }).afterClosed().subscribe(result => {\n                                if (result == 'Yes') {\n                                    this.apiService.post<any>(\"QuayThuoc/ThuTienKhachVangLai\", khachVangLaiChoThanhToan).subscribe(\n                                        resultData => {\n                                            khachVangLaiChoThanhToan.DanhSachDonThuoc = [];\n                                            this.lstDonThuocMoiThem = [];\n                                            if (resultData.ThanhCong == false) {\n                                                this.notificationService.showError(resultData.Error);\n                                                for (let i = 0; i < resultData.DanhSachDuocPhamVuotTonKho.length; i++) {\n                                                    for (let j = 0; j < this.dataSourcedanhsachThuoc.data.length; j++) {\n                                                        if (resultData.DanhSachDuocPhamVuotTonKho[i].Stt == this.dataSourcedanhsachThuoc.data[j].STT) {\n                                                            this.dataSourcedanhsachThuoc.data[j].HighLightClass = 'bg-row-lightpink';\n                                                            this.dataSourcedanhsachThuoc.data[j].SoLuongDung = resultData.DanhSachDuocPhamVuotTonKho[i].SoLuongTonKho;\n                                                        }\n                                                    }\n                                                }\n                                            } else if (resultData.ThanhCong == true) {\n                                                this.dataSourcedanhsachThuoc.data = [];\n\n                                                if (this.gridDanhSachMuaThuoc !== undefined) {\n                                                    this.gridDanhSachMuaThuoc.setDataSource();\n                                                }\n\n                                                this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0) + 0.0000001);\n                                                this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n                                                if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n                                                    this.thongtinDonThuoc.TienMat = this.tongTien;\n                                                }\n                                                this.benhNhanResultData = resultData;\n                                                this.apiService.post<any>(\"QuayThuoc/GetBenhNhanForNavigation?taiKhoanThuId=\" + resultData.TaiKhoanBenhNhanThuId).subscribe(\n                                                    result1 => {\n                                                        let dialogRef = this.dialog.open(QuayThuocXacNhanInPopUpComponent, {\n                                                            disableClose: true,\n                                                            width: '500px',\n                                                            data: { Model: this.benhNhanResultData, Title: \"XÁC NHẬN\" }\n                                                        }).afterClosed().subscribe(result => {\n                                                            if (result.Response != \"No answer\") {\n                                                                this.changeTab.emit(2);\n                                                                this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n                                                                this.XacNhanIn(result);\n                                                            }\n                                                            else {\n                                                                this.changeTab.emit(2);\n                                                                this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n                                                            }\n                                                        });\n                                                    });\n                                            }\n                                        });\n                                }\n                            });\n                        },\n                        (err: ApiError) => {\n                            this.validationErrors = err.ValidationErrors;\n                            if (this.validationErrors.length !== 0) {\n                                for (var i = 0; i < this.validationErrors.length; i++) {\n                                    if (this.validationErrors[i].Field === \"HoTen\") {\n                                        this.validationErrorsThongTin.push(this.validationErrors[i]);\n                                    }\n\n                                    if (this.validationErrors[i].Field === \"NamSinh\") {\n                                        this.validationErrorsThongTin.push(this.validationErrors[i]);\n                                    }\n                                }\n                            }\n                            this.valueChangeThuTien.emit(this.validationErrorsThongTin);\n                            return;\n                        });\n                },\n                () => { });\n\n        } else {\n\n            this.apiService.post<any>(\"QuayThuoc/CheckValidationForQuayThuocKhachVangLai\", validationCheck).subscribe(\n                () => {\n                    var khachVangLaiChoThanhToan = {\n                        ThongTinKhach: this.thongTinKhachVangLai,\n                        ThongTinThuChi: this.thongtinDonThuoc,\n                        DanhSachDonThuoc: this.lstDonThuocMoiThem\n                    };\n                    let chuInHoa = this.thongTinKhachVangLai.HoTen.toUpperCase();\n\n                    this.dialog.open(ConfirmComponent, {\n                        width: '1000px',\n                        data: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn thu của người bệnh \" + chuInHoa.bold() + \" với số tiền là \" + this.tongTien.toLocaleString(\"vi-VI\").bold() + \" đồng hay không?\" }\n                    }).afterClosed().subscribe(result => {\n                        if (result == 'Yes') {\n                            this.apiService.post<any>(\"QuayThuoc/ThuTienKhachVangLai\", khachVangLaiChoThanhToan).subscribe(\n                                resultData => {\n                                    khachVangLaiChoThanhToan.DanhSachDonThuoc = [];\n                                    this.lstDonThuocMoiThem = [];\n                                    if (resultData.ThanhCong == false) {\n                                        this.notificationService.showError(resultData.Error);\n                                        for (let i = 0; i < resultData.DanhSachDuocPhamVuotTonKho.length; i++) {\n                                            for (let j = 0; j < this.dataSourcedanhsachThuoc.data.length; j++) {\n                                                if (resultData.DanhSachDuocPhamVuotTonKho[i].Stt == this.dataSourcedanhsachThuoc.data[j].STT) {\n                                                    this.dataSourcedanhsachThuoc.data[j].HighLightClass = 'bg-row-lightpink';\n                                                    this.dataSourcedanhsachThuoc.data[j].SoLuongDung = resultData.DanhSachDuocPhamVuotTonKho[i].SoLuongTonKho;\n                                                }\n                                            }\n                                        }\n                                    } else if (resultData.ThanhCong == true) {\n                                        this.reset();\n                                        this.dataSourcedanhsachThuoc.data = [];\n\n                                        if (this.gridDanhSachMuaThuoc !== undefined) {\n                                            this.gridDanhSachMuaThuoc.setDataSource();\n                                        }\n\n                                        this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0) + 0.0000001);\n                                        this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n\n                                        if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n                                            this.thongtinDonThuoc.TienMat = this.tongTien;\n                                        }\n\n                                        this.benhNhanResultData = resultData;\n\n                                        this.apiService.post<any>(\"QuayThuoc/GetBenhNhanForNavigation?taiKhoanThuId=\" + resultData.TaiKhoanBenhNhanThuId).subscribe(\n                                            result1 => {\n                                                let dialogRef = this.dialog.open(QuayThuocXacNhanInPopUpComponent, {\n                                                    disableClose: true,\n                                                    width: '500px',\n                                                    data: { Model: this.benhNhanResultData, Title: \"XÁC NHẬN\" }\n                                                }).afterClosed().subscribe(result => {\n                                                    if (result.Response != \"No answer\") {\n                                                        this.changeTab.emit(2);\n                                                        this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n                                                        this.XacNhanIn(result);\n                                                    }\n                                                    else {\n                                                        this.changeTab.emit(2);\n                                                        this.MaTiepNhanBenhNhanDaThuTien.emit(result1);\n                                                    }\n\n                                                });\n\n                                            });\n                                    }\n                                });\n                        }\n                    });\n                },\n                (err: ApiError) => {\n                    this.validationErrors = err.ValidationErrors;\n\n                    if (this.validationErrors.length !== 0) {\n                        for (var i = 0; i < this.validationErrors.length; i++) {\n                            if (this.validationErrors[i].Field === \"HoTen\") {\n                                this.validationErrorsThongTin.push(this.validationErrors[i]);\n                            }\n\n                            if (this.validationErrors[i].Field === \"NamSinh\") {\n                                this.validationErrorsThongTin.push(this.validationErrors[i]);\n                            }\n                        }\n                    }\n                    this.valueChangeThuTien.emit(this.validationErrorsThongTin);\n                    return;\n                });\n        }\n    }\n\n    showError(message: string) {\n        this.showIt(message);\n    }\n\n    private showIt(message: string) {\n        if (this.snackBarOpen != null) {\n            this.snackBarOpen.dismiss();\n        }\n        this.snackBarOpen = this.snackBar.open(message, 'Đóng', {\n            duration: 7000,\n            horizontalPosition: 'right'\n        });\n    }\n\n    them1() {\n        this.validationThuocErrors = [];\n        if (this.themDuocPham.DuocPhamId == null) {\n            this.validationThuocErrors.push({ \"Message\": \"Dược phẩm yêu cầu nhập\", \"Field\": \"DuocPhamId\" });\n        }\n        if (this.themDuocPham.SoLuong == null) {\n            this.validationThuocErrors.push({ \"Message\": \"Số lượng yêu cầu nhập\", \"Field\": \"SoLuong\" });\n        }\n        if (this.themDuocPham.SoLuong == 0) {\n            this.validationThuocErrors.push({ \"Message\": \"Số lượng phải lớn hơn 0\", \"Field\": \"SoLuong\" });\n        }\n        if (this.themDuocPham.SoLuongTon < this.themDuocPham.SoLuong) {\n            this.validationThuocErrors.push({ \"Message\": \"Số lượng phải nhỏ hơn tồn kho\", \"Field\": \"SoLuong\" });\n        }\n        if (this.validationThuocErrors.length > 0) {\n            return;\n        }\n        let soLuongDaMua = 0;\n        this.thongtinDonThuoc.BenhNhanDua = 0;\n        this.thongtinDonThuoc.TienTraLai = null;\n        if (this.lstDonThuocMoiThem.length > 0) {\n            this.lstDonThuocMoiThem.forEach(x => {\n                if (x.DuocPhamId == this.themDuocPham.DuocPhamId) {\n                    soLuongDaMua = soLuongDaMua + x.SoLuongMua;\n                }\n            });\n        }\n        if (this.themDuocPham.SoLuongTon >= this.themDuocPham.SoLuong) {\n            let stt = 1;\n            let idNew = 1;\n            if (this.dataSourcedanhsachThuoc.data.length > 0) {\n                stt = this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length - 1].STT + 1;\n                idNew = this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length - 1].Id + 1;\n            }\n\n            let count = this.themDuocPham.SoLuong;\n            let tamp = this.lstthongTinDonThuoc;\n            if (this.lstDonThuocMoiThem != undefined || this.lstDonThuocMoiThem != null) {\n\n                for (let jisoo = 0; jisoo < this.lstDonThuocMoiThem.length; jisoo++) {\n                    for (let jihoo = 0; jihoo < this.lstthongTinDonThuoc.length; jihoo++) {\n                        if (this.lstDonThuocMoiThem[jisoo].Solo == this.lstthongTinDonThuoc[jihoo].Solo) {\n                            this.lstthongTinDonThuoc[jihoo].SoLuongTon = this.lstthongTinDonThuoc[jihoo].SoLuongTon - this.lstDonThuocMoiThem[jisoo].SoLuongMua;\n                            tamp = this.lstthongTinDonThuoc;\n                        }\n                    }\n                }\n            }\n            console.log(\"lusc them :\", this.lstthongTinDonThuoc)\n            for (let index = 0; index < tamp.length; index++) {\n                if (tamp[index].SoLuongTon > 0) {\n                    if (count != 0) {\n                        let item = new ThongTinDuocPham();\n                        if (count <= this.lstthongTinDonThuoc[index].SoLuongTon) {\n                            item = Object.assign({}, this.lstthongTinDonThuoc[index]);\n                            item.SoLuongMua = count;\n                            item.STT = stt;\n                            item.Id = idNew;\n                            item.CheckedDefault = true;\n                            item.isNew = true;\n                            item.BacSiKeToa = \"Nhà Thuốc\";\n                            item.ThanhTien = item.SoLuongMua * item.DonGia;\n                            item.LoaiDuocPhamHoacVatTu1 = item.LoaiDuocPhamHoacVatTu;\n                            this.lstDonThuocMoiThem.push(item);\n                            this.lstthongTinDonThuoc[index].SoLuongTon = this.lstthongTinDonThuoc[index].SoLuongTon - count;\n                            this.dataSourcedanhsachThuoc.data.push(item);\n                            this.duocPhamCombobox.focusManual();\n                            count = 0;\n                        } else {\n                            item = Object.assign({}, this.lstthongTinDonThuoc[index]);\n                            item.SoLuongMua = this.lstthongTinDonThuoc[index].SoLuongTon;\n                            item.ThanhTien = item.SoLuongMua * item.DonGia\n                            item.STT = stt;\n                            item.Id = idNew;\n                            item.isNew = true;\n                            item.CheckedDefault = true;\n                            item.BacSiKeToa = \"Nhà Thuốc\";\n                            item.LoaiDuocPhamHoacVatTu1 = item.LoaiDuocPhamHoacVatTu;\n                            count = count - this.lstthongTinDonThuoc[index].SoLuongTon;\n                            this.lstDonThuocMoiThem.push(item);\n                            this.dataSourcedanhsachThuoc.data.push(item);\n                            this.duocPhamCombobox.focusManual();\n                            this.lstthongTinDonThuoc.splice(index, 1)\n                            index = -1;\n                        }\n                        this.gridDanhSachMuaThuoc.setSelectCheckbox(idNew);\n                        idNew++;\n                        stt++;\n                    } else {\n                        break;\n                    }\n                }\n\n            }\n\n            if (this.lstDonThuocMoiThem.length > 0) {\n                this.lstDonThuocMoiThem.forEach(x => {\n                    if (x.DuocPhamId == this.themDuocPham.DuocPhamId) {\n                        soLuongDaMua = soLuongDaMua + x.SoLuongMua;\n                    }\n                });\n            }\n\n            this.themDuocPham.SoLuongTon = this.themDuocPham.SoLuongTon - this.themDuocPham.SoLuong;\n            this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0) + 0.0000001);\n            this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n            // if (this.thongtinDonThuoc.HinhThucThanhToan.length == 1 && this.thongtinDonThuoc.HinhThucThanhToan[0] == 1) {\n            //     this.thongtinDonThuoc.TienMat = this.tongTien;\n            // }\n\n            let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n            if (items != null && items.length > 0) {\n                this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n            }\n\n            this.themDuocPham = new ThemDuocPham();\n        } else {\n            this.notificationService.showError(\"Số lượng bạn nhập lớn hơn số lượng tồn\");\n        }\n\n       \n        this.danhSachXemTruocBangKeThuocVaVatTu(this.dataSourcedanhsachThuoc.data);\n    }\n\n    danhSachXemTruocBangKeThuocVaVatTu(danhSachChuaThanhToans: any) {\n        // lý do trả về danhSachChuaThanhToan cho quay-thuoc-mua-thuoc.component\n        // để xem trước bảng kê\n        this.danhSachChuaThanhToan.emit(danhSachChuaThanhToans);\n    }\n\n    getDonThuocChiTietCu() {\n        let toaThuocCuId: string[] = [];\n        if (typeof (this.donThuocId.ToaThuoc) == 'string') {\n            toaThuocCuId.push(this.donThuocId.ToaThuoc);\n        } else {\n            this.donThuocId.ToaThuoc.forEach(element => {\n                toaThuocCuId.push(element)\n            });\n        }\n        this.apiService.post<any>(\"QuayThuoc/GetDonthuocChiTietCu\", { ToaThuoc: toaThuocCuId }).subscribe(\n            resultData => {\n\n                this.validationThuocErrors = [];\n                let soLuongDaMua = 0;\n                if (this.lstDonThuocMoiThem.length > 0) {\n                    this.lstDonThuocMoiThem.forEach(x => {\n                        if (x.DuocPhamId == this.themDuocPham.DuocPhamId) {\n                            soLuongDaMua = soLuongDaMua + x.SoLuongMua;\n                        }\n                    });\n                }\n                if (this.themDuocPham.SoLuongTon >= this.themDuocPham.SoLuong) {\n                    let stt = 1;\n                    let idNew = 1;\n                    if (this.dataSourcedanhsachThuoc.data.length > 0) {\n                        stt = this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length - 1].STT + 1;\n                        idNew = this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length - 1].Id + 1;\n                    }\n\n\n                    for (let index = 0; index < resultData.length; index++) {\n                        let count = this.themDuocPham.SoLuong;\n                        if (count != 0) {\n                            let item = new ThongTinDuocPham();\n                            if (count <= resultData[index].SoLuongTon) {\n                                item = Object.assign({}, resultData[index]);\n                                count = item.SoLuongMua;\n                                item.STT = stt;\n                                item.Id = idNew;\n                                item.CheckedDefault = true;\n                                item.isNew = true;\n                                item.BacSiKeToa = \"Nhà Thuốc\";\n                                item.ThanhTien = item.SoLuongMua * item.DonGia\n                                this.lstDonThuocMoiThem.push(item);\n                                resultData[index].SoLuongTon = resultData[index].SoLuongTon - count;\n                                this.dataSourcedanhsachThuoc.data.push(item);\n                                count = 0;\n                            } else {\n                                item = Object.assign({}, this.lstthongTinDonThuoc[index]);\n                                item.SoLuongMua = resultData[index].SoLuongTon;\n                                item.ThanhTien = item.SoLuongMua * item.DonGia\n                                item.STT = stt;\n                                item.Id = idNew;\n                                item.isNew = true;\n                                item.CheckedDefault = true;\n                                item.BacSiKeToa = \"Nhà Thuốc\";\n                                count = count - resultData[index].SoLuongTon;\n                                this.lstDonThuocMoiThem.push(item);\n                                this.dataSourcedanhsachThuoc.data.push(item);\n                                resultData.splice(index, 1)\n                                index = -1;\n                            }\n                            this.gridDanhSachMuaThuoc.setSelectCheckbox(idNew);\n                            idNew++;\n                            stt++;\n                        } else {\n                            break;\n                        }\n                    }\n\n                    if (this.lstDonThuocMoiThem.length > 0) {\n                        this.lstDonThuocMoiThem.forEach(x => {\n                            if (x.DuocPhamId == this.themDuocPham.DuocPhamId) {\n                                soLuongDaMua = soLuongDaMua + x.SoLuongMua;\n                            }\n                        });\n                    }\n\n                    this.themDuocPham.SoLuongTon = this.themDuocPham.SoLuongTon - this.themDuocPham.SoLuong;\n                    this.tongTien = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0) + 0.0000001);\n                    this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n                    if (this.thongtinDonThuoc.HinhThucThanhToan.length == 1 && this.thongtinDonThuoc.HinhThucThanhToan[0] == 1) {\n                        this.thongtinDonThuoc.TienMat = this.tongTien;\n                    }\n                    this.themDuocPham = new ThemDuocPham();\n                } else {\n                    this.notificationService.showError(\"Số lượng bạn nhập lớn hơn số lượng tồn\");\n                }\n                // });\n            },\n            () => { });\n    }\n\n    reset() {\n        this.thongtinDonThuoc.HinhThucThanhToan = [1];\n        this.thongtinDonThuoc.TienMat = null;\n        this.thongtinDonThuoc.BenhNhanDua = null;\n        this.thongtinDonThuoc.TienTraLai = null;\n        this.thongtinDonThuoc.NgayThu = new Date();\n        this.thongtinDonThuoc.NoiDungThu = \"Thu tiền thuốc\";\n    }\n\n    onKeyEnterAddItem(event: any) {\n        if (event.key == \"Enter\" && !this.isSelectingItem) {\n            if (this.isSelectingItem != true) {\n\n                this.them1();\n            }\n            else {\n                this.isSelectingItem = false;\n            }\n        }\n    }\n\n    openCombobox(event: any) {\n        if (event) {\n            this.isSelectingItem = true;\n        }\n        else {\n            this.isSelectingItem = false;\n        }\n    }\n\n    onKey(event: any) {\n        if (event.key == \"Enter\" && !this.isSelectingItem) {\n            if (this.isSelectingItem != true) {\n                this.them1();\n            }\n            else {\n                this.isSelectingItem = false;\n            }\n        }\n    }\n\n    modelChangeSoLuongMua(ev: any, dsQuayThuocs: any) {\n        // tslint:disable-next-line: prefer-for-of\n        for (let index = 0; index < this.dataSourcedanhsachThuoc.data.length; index++) {\n            if (this.dataSourcedanhsachThuoc.data[index].CheckedDefault === true) {\n                if (this.dataSourcedanhsachThuoc.data[index].Id === dsQuayThuocs.Id) {\n                    this.dataSourcedanhsachThuoc.data[index].SoTienMG = 0;\n                    this.dataSourcedanhsachThuoc.data[index].ThanhTien = ev * this.dataSourcedanhsachThuoc.data[index].DonGia;\n                    this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan = this.dataSourcedanhsachThuoc.data[index].ThanhTien;\n                    if (this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus != null) {\n                        if (this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus.length > 0) {\n                            // tslint:disable-next-line: prefer-for-of\n                            for (let i = 0; i < this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus.length; i++) {\n                                this.dataSourcedanhsachThuoc.data[index].DanhSachCongNoChoThus[i].SoTienCongNoChoThu = 0;\n                                this.dataSourcedanhsachThuoc.data[index].KiemTraTienSoTienItemDichVu =\n                                    this.dataSourcedanhsachThuoc.data[index].BNConPhaiThanhToan < 0 ? true : false;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        this.tongTienGrid = Math.round(this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0) + 0.0000001);\n        this.tongTien = this.tongTienGrid;\n        this.tongTienHienThi = this.dataSourcedanhsachThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n\n        // if (this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1) >= 0) {\n        //     this.thongtinDonThuoc.TienMat = this.tongTien;\n        // }\n\n        let items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n        if (items != null && items.length > 0) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n\n        this.danhSachXemTruocBangKeThuocVaVatTu(this.dataSourcedanhsachThuoc.data);\n    }\n\n    bindHinhThucThanhToanChangeGrid(item: any) {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n\n        this.clearHinhThucThanhToan();\n        this.defeautSoTien();\n\n        switch (item) {\n            case 1:\n                this.thongtinDonThuoc.TienMat = this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                this.flagCheckSeletedTienMat = true;\n                if (this.thongtinDonThuoc.TienMat < 0) {\n                    this.thongtinDonThuoc.TienMat = 0;\n                }\n                break;\n            case 2:\n                this.thongtinDonThuoc.ChuyenKhoan = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                this.flagCheckSeletedChuyenKhoan = true;\n                if (this.thongtinDonThuoc.ChuyenKhoan < 0) {\n                    this.thongtinDonThuoc.ChuyenKhoan = 0;\n                }\n                break;\n            case 3:\n                this.thongtinDonThuoc.POS = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.SoTienCongNo;\n                this.flagCheckSeletedPos = true;\n                if (this.thongtinDonThuoc.POS < 0) {\n                    this.thongtinDonThuoc.POS = 0;\n                }\n                break;\n            case 4:\n                this.thongtinDonThuoc.SoTienCongNo = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS;\n                this.flagCheckSeletedSoTienCongNo = true;\n                if (this.thongtinDonThuoc.SoTienCongNo < 0) {\n                    this.thongtinDonThuoc.SoTienCongNo = 0;\n                }\n                break;\n        }\n    }\n\n    defeautSoTien() {\n        this.thongtinDonThuoc.TienMat = 0;\n        this.thongtinDonThuoc.POS = 0;\n        this.thongtinDonThuoc.SoTienCongNo = 0;\n        this.thongtinDonThuoc.ChuyenKhoan = 0;\n        this.thongtinDonThuoc.BenhNhanDua = 0;\n        this.thongtinDonThuoc.TienTraLai = 0;\n    }\n\n    tinhTienChoPhuongThucThanhToan(item: any) {\n        switch (item) {\n            case 1:\n                this.thongtinDonThuoc.TienMat = this.tongTien - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                if (this.thongtinDonThuoc.TienMat < 0) {\n                    this.thongtinDonThuoc.TienMat = 0;\n                }\n                break;\n            case 2:\n                this.thongtinDonThuoc.ChuyenKhoan = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.POS - this.thongtinDonThuoc.SoTienCongNo;\n                if (this.thongtinDonThuoc.ChuyenKhoan < 0) {\n                    this.thongtinDonThuoc.ChuyenKhoan = 0;\n                }\n                break;\n            case 3:\n                this.thongtinDonThuoc.POS = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.SoTienCongNo;\n                if (this.thongtinDonThuoc.POS < 0) {\n                    this.thongtinDonThuoc.POS = 0;\n                }\n                break;\n            case 4:\n                this.thongtinDonThuoc.SoTienCongNo = this.tongTien - this.thongtinDonThuoc.TienMat - this.thongtinDonThuoc.ChuyenKhoan - this.thongtinDonThuoc.POS;\n                if (this.thongtinDonThuoc.SoTienCongNo < 0) {\n                    this.thongtinDonThuoc.SoTienCongNo = 0;\n                }\n                break;\n        }\n    }\n\n    ChangeHinhThucThanhToan(event: any) {\n        this.validationErrors = [];\n        this.cdRef.detectChanges();\n\n        this.clearHinhThucThanhToan();\n        this.defeautSoTien();\n        this.showCanhBaoSoTienNhap = false;\n\n        var items = this.hinhThucThanhToan.filter((item) => item.Selected == true);\n\n        if (items != null && items.length === 1) {\n            this.tinhTienChoPhuongThucThanhToan(items[0].KeyId);\n        }\n\n        event.forEach((element) => {\n            switch (element) {\n                case 1:\n                    this.flagCheckSeletedTienMat = true;\n                    break;\n                case 2:\n                    this.flagCheckSeletedChuyenKhoan = true;\n                    break;\n                case 3:\n                    this.flagCheckSeletedPos = true;\n                    break;\n                case 4:\n                    this.flagCheckSeletedSoTienCongNo = true;\n                    break;\n            }\n        });\n\n        this.hinhThucThanhToan.forEach(item => { item.Change = false; });\n        this.hinhThucThanhToan.forEach(item => {\n            if (event.filter(o => o == item.KeyId).length > 0) {\n                item.Selected = true;\n                if (event.length == 1) {\n                    switch (item.KeyId) {\n                        case 1:\n                            this.thongtinDonThuoc.TienMat = this.tongTien;\n                            break;\n                        case 2:\n                            this.thongtinDonThuoc.ChuyenKhoan = this.tongTien;\n                            break;\n                        case 3:\n                            this.thongtinDonThuoc.POS = this.tongTien;\n                            break;\n                        case 4:\n                            this.thongtinDonThuoc.SoTienCongNo = this.tongTien;\n                            break;\n                    }\n                }\n            }\n            else {\n                item.Selected = false;\n            }\n        });\n\n        this.cdRef.detectChanges();\n    }\n    showPopupLoadingIn() {\n        this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '250px',\n            height: '90px',\n            data: { Title: 'Đang loading...' },\n        });\n    }\n\n    closePopupLoadingData() {\n        this.dialog.closeAll();\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWktY2hvLXh1YXQtdGh1b2MvcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS1jaG8teHVhdC10aHVvYy5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit,Input } from '@angular/core';\nimport { danhSachThuoc } from '../quay-thuoc.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MatDialog } from '@angular/material';\nimport { NotificationService } from 'src/app/core/services/notification.service';\n\n@Component({\n    selector: 'app-quay-thuoc-khach-vang-lai-cho-xuat-thuoc',\n    templateUrl: './quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.html',\n    styleUrls: ['./quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component.scss']\n})\nexport class QuayThuocKhachVangLaiChoXuatThuocComponent implements OnInit {\n    gridColumns: any[] = [];\n    danhSachThuoc: danhSachThuoc;\n    dataSourcedanhsachThuoc: any = {\n        data: [],\n        total: 0\n    }  \n    @Input() ttCheck: number;\n    @Input() ThongTinBenhNhanDaThuTienData : any;\n    constructor(private route: ActivatedRoute, private dialog: MatDialog, private apiService: ApiService, private router: Router, private notificationService: NotificationService) { }\n\n    ngOnInit() {\n        \n     \n        this.danhSachThuoc = new danhSachThuoc();\n        this.gridColumns = [\n            { Field: \"TenDuocPham\", Title: \"Tên thuốc\", MinWidth: 120, Sortable: false },\n            { Field: \"MaHoatChat\", Title: \"Hoạt chất\", Width: 120, Sortable: false },\n            { Field: \"DonViTinh\", Title: \"ĐVT\", Width: 60, Sortable: false },\n            { Field: \"ViTri\", Title: \"Vị trí\", Width: 120, Sortable: false },\n            { Field: \"SoLuongMua\", Title: \"Số lượng\", Width: 120, Sortable: false },\n            { Field: \"HanSuDungHientThi\", Title: \"Hạn sử dụng\", Width: 120, Sortable: false }\n        ];\n        if(this.ThongTinBenhNhanDaThuTienData != undefined)\n        {\n            this.apiService.post<Array<any>>(\"QuayThuoc/GetDanhSachXuatThuocKhongBHYT?tiepNhanId=\" + this.ThongTinBenhNhanDaThuTienData.YeuCauTiepNhanId).subscribe(\n                resultData => {\n                    this.dataSourcedanhsachThuoc.data = resultData;\n                });\n        }\n        else{\n            this.dataSourcedanhsachThuoc.data = [];\n        }\n        \n    }\n    ngOnChanges(event: any){\n        this.ngOnInit();\n    }\n    GuiData() {\n         this.danhSachThuoc.Id = this.ThongTinBenhNhanDaThuTienData.YeuCauTiepNhanId;\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn xuất đơn thuốc này?\" }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result == \"Yes\") {\n                this.apiService.post<any>(\"QuayThuoc/XuatDonThuocBHYT\", this.danhSachThuoc).subscribe(\n                    resultData => {\n                        if (resultData != null && resultData != undefined && resultData != \"\") {\n                            this.notificationService.showError(resultData);\n                        } else {\n                            if (this.ttCheck == 1) {\n                                this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttCheck } });\n                            }\n                            if (this.ttCheck == 2) {\n                                this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttCheck } });\n                            }\n                            if (this.ttCheck == 3) {\n                                this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttCheck } });\n                            }\n                        }\n\n\n                    },\n                    (err: any) => {\n\n                    });\n            }\n        });\n    }\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS10aG9uZy10aW4taGFuaC1jaGluaC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXHF1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWktdGhvbmctdGluLWhhbmgtY2hpbmhcXHF1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWktdGhvbmctdGluLWhhbmgtY2hpbmguY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWktdGhvbmctdGluLWhhbmgtY2hpbmgvcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS10aG9uZy10aW4taGFuaC1jaGluaC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS10aG9uZy10aW4taGFuaC1jaGluaC9xdWF5LXRodW9jLWtoYWNoLXZhbmctbGFpLXRob25nLXRpbi1oYW5oLWNoaW5oLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufSIsImZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtO1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW07XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbTtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn0iXX0= */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { KhachVangLai, ServiceId,BenhNhanThongTin,TinhHuyenTemplateVo } from '../quay-thuoc.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { LookupQueryInfo } from 'src/app/shared/models/common.model';\n@Component({\n    selector: 'app-quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh',\n    templateUrl: './quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.html',\n    styleUrls: ['./quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component.scss']\n})\n\nexport class QuayThuocKhachVangLaiThongTinHanhChinhComponent implements OnInit {\n    thongTinBenhNhan = {} as KhachVangLai;\n    @Input() validationErrors: any;\n    @Output() valueChange: EventEmitter<any> = new EventEmitter<any>();\n    @Input() donThuocId: ServiceId;\n    @Input() MaBN: number;\n    @Input() TenBenhNhan: string;\n    @Input() SDT: string;\n    @Input() ThongTinBenhNhanDaThuTienData : any;\n    data = {} as BenhNhanThongTin;\n    constructor(private apiService: ApiService) { }\n\n    ngOnInit() {\n        let maBN = this.donThuocId.maBN;\n        if(this.MaBN != null)\n        {\n            maBN = this.MaBN;\n        }\n        else{\n            this.data = null;\n\n        }\n        if (maBN != null) {\n            this.GetThongTinBenhNhan(maBN);\n        }\n        else{\n            this.data = null;\n\n        }\n        if(this.data == null)\n        {\n            if(this.TenBenhNhan != null || this.SDT != null)\n            {\n                this.thongTinBenhNhan.HoTen = this.TenBenhNhan;\n            }\n            if( this.SDT != null)\n            {\n                this.thongTinBenhNhan.SoDienThoai = this.SDT;\n            }\n        }\n        if(this.ThongTinBenhNhanDaThuTienData != undefined){\n            this.GetThongTinBenhNhanTN(this.ThongTinBenhNhanDaThuTienData.YeuCauTiepNhanId);\n        }\n    }\n    ngOnChanges(event: any){\n        this.ngOnInit();\n    }\n    GetThongTinBenhNhan(maBN: number) {\n        this.apiService.post<any>(\"QuayThuoc/GetThongTinBenhNhan1?maBN=\" + maBN).subscribe(\n            resultData => {\n                this.data = resultData;\n                console.log(resultData);\n            },\n            () => {\n                console.log(\"Loi roi\")\n            });\n    }\n    GetThongTinBenhNhanTN(maTN: number) {\n        this.apiService.post<any>(\"QuayThuoc/GetThongTinBenhNhanTN?maTN=\" + maTN).subscribe(\n            resultData => {\n                this.data = resultData;\n                console.log(resultData);\n            },\n            () => {\n                console.log(\"Loi roi\")\n            });\n    }\n    TinhThanhPhoChange(tinhThanh: any) {\n        this.thongTinBenhNhan.TinhThanhId = tinhThanh;\n        this.valueChange.emit(this.thongTinBenhNhan);\n        if(this.thongTinBenhNhan.TinhThanhId == null)\n        {\n            this.thongTinBenhNhan.QuanHuyenId =null;\n            this.thongTinBenhNhan.TinhThanhId = null;\n            this.thongTinBenhNhan.PhuongXaId = null;\n            this.thongTinBenhNhan.TenHuyenDisplay = null;\n            this.thongTinBenhNhan.TenTinhDisplay = null;\n            this.thongTinBenhNhan.TenPhuongDisplay = null;\n        }\n    }\n\n    QuanHuyenChange(quanHuyen: any) {\n        this.thongTinBenhNhan.QuanHuyenId = quanHuyen;\n        if(this.thongTinBenhNhan.QuanHuyenId == null)\n        {\n            this.thongTinBenhNhan.QuanHuyenId =null;\n            this.thongTinBenhNhan.TinhThanhId = null;\n            this.thongTinBenhNhan.PhuongXaId = null;\n            this.thongTinBenhNhan.TenHuyenDisplay = null;\n            this.thongTinBenhNhan.TenTinhDisplay = null;\n            this.thongTinBenhNhan.TenPhuongDisplay = null;\n        }\n        this.valueChange.emit(this.thongTinBenhNhan);\n    }\n\n    PhuongXaChange(phuongXa: any) {\n        this.thongTinBenhNhan.PhuongXaId = phuongXa;\n        if(this.thongTinBenhNhan.PhuongXaId != null)\n        {\n            this.apiService.post<TinhHuyenTemplateVo>(\"QuayThuoc/GetTinhHuyen?phuongXaId=\" + phuongXa).subscribe(\n                resultData => {\n                    this.thongTinBenhNhan.QuanHuyenId = resultData[0].HuyenId;\n                    this.thongTinBenhNhan.TinhThanhId = resultData[0].TinhId;\n                    this.thongTinBenhNhan.TenHuyenDisplay = resultData[0].TenHuyen;\n                    this.thongTinBenhNhan.TenTinhDisplay = resultData[0].TenTinh;\n                    this.thongTinBenhNhan.PhuongXaId = phuongXa\n                },\n                () => {\n                    console.log(\"Loi roi\")\n                });\n        }\n        else{\n                    this.thongTinBenhNhan.QuanHuyenId =0;\n                    this.thongTinBenhNhan.TinhThanhId = 0;\n                    this.thongTinBenhNhan.TenHuyenDisplay = null;\n                    this.thongTinBenhNhan.TenTinhDisplay = null;\n        }\n        this.valueChange.emit(this.thongTinBenhNhan);\n    }\n\n    onSaveTen() {\n        this.valueChange.emit(this.thongTinBenhNhan);\n    }\n\n    onSaveSDT(sdt: any) {\n        this.thongTinBenhNhan.SoDienThoai = sdt;\n        this.valueChange.emit(this.thongTinBenhNhan);\n    }\n\n    onSaveGioiTinh(gioiTinh: any) {\n        this.thongTinBenhNhan.GioiTinh = gioiTinh;\n        this.valueChange.emit(this.thongTinBenhNhan);\n    }\n\n    onSaveNamSinh(namSinh: any) {\n        this.thongTinBenhNhan.NamSinh = namSinh;\n        this.valueChange.emit(this.thongTinBenhNhan);\n    }\n\n    onSaveDiaChi(diaChi: any) {\n        this.thongTinBenhNhan.DiaChi = diaChi;\n        this.valueChange.emit(this.thongTinBenhNhan);\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2Mta2hhY2gtdmFuZy1sYWkvcXVheS10aHVvYy1raGFjaC12YW5nLWxhaS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, HostListener, ViewChild } from '@angular/core';\nimport { ThongTinDonThuoc, KhachVangLai, XemTruocBangKeThuoc } from '../quay-thuoc.model';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { TabStripComponent } from '@progress/kendo-angular-layout';\nimport { QuayThuocKhachVangLaiChoThanhToanComponent } from '../quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component';\nimport { MatDialog } from '@angular/material';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { ThongTinPhieuPdfPopupComponent } from '../thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { NotificationService } from 'src/app/core/services/notification.service';\n\n@Component({\n    selector: 'app-quay-thuoc-khach-vang-lai',\n    templateUrl: './quay-thuoc-khach-vang-lai.component.html',\n    styleUrls: ['./quay-thuoc-khach-vang-lai.component.scss']\n})\n\nexport class QuayThuocKhachVangLaiComponent implements OnInit {\n    thongTinBenhNhan: KhachVangLai;\n    kendoTabSelected = 1;\n    validationErrorForThongTin: any;\n    donThuocIds: any;\n    MaBN: number;\n    SDT: string;\n    TenBenhNhan: string;\n    ttCheck: number;\n    ThongTinBenhNhanDaThuTien: any;\n    yctnId: number = 0;\n    benhNhanId: number = 0;\n    trangThai: number = 0;\n    @ViewChild('tabVangLai', { static: true }) tabVangLai: TabStripComponent;\n    flagAllowLoadThuoc: boolean = true;\n    xemTruocBangKeThuoc: XemTruocBangKeThuoc = new XemTruocBangKeThuoc();\n\n    tabIndex: number = 0;\n    @ViewChild(QuayThuocKhachVangLaiChoThanhToanComponent, { static: false }) quayThuocHinhThucThanhToan;\n\n    constructor(private route: ActivatedRoute,\n        private notificationService: NotificationService,\n        private router: Router, private dialog: MatDialog,\n        private apiService: ApiService,) { }\n\n    ngOnInit() {\n        this.route\n            .queryParams\n            .subscribe(v => {\n                this.donThuocIds = v;\n            });\n        this.route.queryParams.subscribe(params => {\n            this.ttCheck = params.page;\n        });\n        if (this.ttCheck == undefined) {\n            this.route.queryParams.subscribe(params => {\n                this.ttCheck = params.ttCheck;\n            });\n        }\n        this.route.queryParams.subscribe(params => {\n            this.MaBN = params.MaBN;\n        });\n        this.route.queryParams.subscribe(params => {\n            this.TenBenhNhan = params.TenBenhNhan;\n        });\n        this.route.queryParams.subscribe(params => {\n            this.SDT = params.SDT;\n        });\n    }\n\n\n    onTabSelect(event: any) {\n        this.tabIndex = event.index;\n        if (event.index == 1) {\n            this.flagAllowLoadThuoc = false;\n        } else {\n            this.flagAllowLoadThuoc = true;\n        }\n    }\n\n    Huy() {\n        this.route.queryParams.subscribe(v => {\n            if (v.page != null) {\n                this.ttCheck = v.page;\n            }\n        });\n        this.route.queryParams.subscribe(v => {\n            if (v.ttCheck != null) {\n                this.ttCheck = v.ttCheck;\n            }\n        });\n        if (this.ttCheck == 1) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttCheck } });\n        }\n        if (this.ttCheck == 2) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttCheck } });\n        }\n        if (this.ttCheck == 3) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttCheck } });\n        }\n        if (this.ttCheck == 0) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttCheck } });\n        }\n    }\n    switchValueChanges(data: any) {\n        this.thongTinBenhNhan = data;\n    }\n\n    switchValueChangesChoThanhToan(data: any) {\n        this.validationErrorForThongTin = data;\n    }\n\n    changeTab(event) {\n        this.trangThai = event;\n\n    }\n\n    MaTiepNhanBenhNhanDaThuTien(event) {\n        this.ThongTinBenhNhanDaThuTien = event;\n        if (this.ThongTinBenhNhanDaThuTien != undefined) {\n            this.yctnId = event.YeuCauTiepNhanId;\n            this.benhNhanId = event.BenhNhanId;\n            if (this.trangThai == 1) {\n                this.router.navigate(['nha-thuoc/mua-thuoc/' + this.yctnId + '/' + this.benhNhanId + '/' + this.trangThai + '/' + this.ttCheck]);\n            }\n            else {\n                this.router.navigate(['nha-thuoc/mua-thuoc/' + this.yctnId + '/' + this.benhNhanId + '/' + this.trangThai + '/' + this.ttCheck]);\n            }\n            this.ngOnInit();\n        }\n    }\n\n    danhSachChuaThanhToan(data: any[]) {       \n        this.xemTruocBangKeThuoc.DanhSachDonThuocs = data;\n    }\n\n    inXemTruocBangKeThuoc() {        \n        \n        this.showPopupLoadingIn();\n        this.xemTruocBangKeThuoc.Hosting = window.location.protocol + '//' + window.location.host;\n        this.xemTruocBangKeThuoc.YeuCauTiepNhanId = this.route.snapshot.params.id;\n\n        if (this.xemTruocBangKeThuoc.DanhSachDonThuocs === undefined &&\n            this.xemTruocBangKeThuoc.DanhSachDonThuocs === null && this.xemTruocBangKeThuoc.DanhSachDonThuocs.length === 0) {\n            this.notificationService.showError(\"Không có thuốc và vật tư.\");\n            return;\n        }\n        else {\n            this.apiService.postExportPdf<any>('QuayThuoc/XemTruocBangKeThuoc', this.xemTruocBangKeThuoc).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        this.dialog.open(ThongTinPhieuPdfPopupComponent, {\n                            disableClose: true,\n                            width: '1000px',\n                            data: { Model: resultData }\n                        }).afterClosed().subscribe(() => {\n                            this.closePopupLoadingData();\n                        });\n                    }\n                },\n                (err: ApiError) => {\n                    this.closePopupLoadingData();\n                });\n        }\n\n    }\n\n    showPopupLoadingIn() {\n        this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '250px',\n            height: '90px',\n            data: { Title: 'Đang loading...' },\n        });\n    }\n\n    closePopupLoadingData() {\n        this.dialog.closeAll();\n    }\n\n    @HostListener('document:keydown', ['$event'])\n    keyEvent(event: KeyboardEvent) {\n        if (event.keyCode == 83 && event.ctrlKey) {\n            // ctrl + s\n            if (this.tabIndex == 0) {\n                this.quayThuocHinhThucThanhToan.ThuTien();\n            }\n            event.preventDefault();\n        }\n\n        if (event.keyCode == 112 && event.ctrlKey) {\n            // ctrl + f1\n            this.tabVangLai.selectTab(0);\n            event.preventDefault();\n        }\n\n        if (event.keyCode == 113 && event.ctrlKey) {\n            // ctrl + f2\n            this.tabVangLai.selectTab(1);\n            event.preventDefault();\n        }\n\n        if (event.keyCode == 27 && !event.ctrlKey) {\n            // esc\n            this.Huy();\n            event.preventDefault();\n        }\n    }\n}\n","export default \".icon-bhyt {\\n  height: 20px;\\n  top: 2px;\\n  position: absolute;\\n  right: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy1saXN0L0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxccXVheS10aHVvY1xccXVheS10aHVvYy1saXN0XFxxdWF5LXRodW9jLWxpc3QuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtbGlzdC9xdWF5LXRodW9jLWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0VBQ0EsUUFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy1saXN0L3F1YXktdGh1b2MtbGlzdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pY29uLWJoeXQge1xuICBoZWlnaHQ6IDIwcHg7XG4gIHRvcDogMnB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xufSIsIi5pY29uLWJoeXQge1xuICBoZWlnaHQ6IDIwcHg7XG4gIHRvcDogMnB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild, TemplateRef, Input, Output, EventEmitter } from '@angular/core';\nimport icDone from '@iconify/icons-ic/done';\nimport icInfo from '@iconify/icons-ic/info';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\nimport icPrint from \"@iconify/icons-ic/twotone-print\";\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { MatDialog } from '@angular/material';\nimport { InBangThuTienPopUpComponent } from '../in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component';\nimport { listLazyRoutes } from '@angular/compiler/src/aot/lazy_routes';\nimport icCheck from \"@iconify/icons-ic/twotone-check\";\nimport { LocalStorageHelper } from 'src/app/core/utilities/local-storage.helper';\nimport { InDonThuocPopUpComponent } from '../in-don-thuoc-pop-up/in-don-thuoc-pop-up.component';\nimport { NguoiDungKhongMuaDonThuoc } from '../quay-thuoc.model';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\n@Component({\n  selector: 'app-quay-thuoc-list',\n  templateUrl: './quay-thuoc-list.component.html',\n  styleUrls: ['./quay-thuoc-list.component.scss']\n})\nexport class QuayThuocListComponent implements OnInit {\n  documentType: DocumentType;\n  icDone = icDone;\n  icInfo = icInfo;\n  icPrint = icPrint\n  icCheck = icCheck;\n  gridChildColumnsChoThanhToan: any[] = [];\n  gridChildColumnsDaThanhToan: any[] = [];\n  gridChildColumnsAll: any[] = [];\n  gridChild: any[] = [];\n  DieuKienLoadVaoChiTiet: boolean = false;\n  typeDanhSachThanhToan: number = 0;\n  @Input() xacNhanIn: boolean = false;\n  data: number = 0;\n  tongGiaTriDonThuoc: number;\n  @Input() id: number = null;\n  @Input() url1: string = null;\n  @Input() url2: string = null;\n  @Input() queryStringSearchUuTien: string = null;\n  @Output() OnHandleDataQuayThuocSearchList = new EventEmitter<any>();\n  @Output() OnHandleDieuKienLoadXemChiTiet = new EventEmitter<any>();\n  @ViewChild('gridD', { static: true }) gridD: GridComponent;\n  urlGetDataGridChild: string = \"QuayThuoc/GetDataForGridTimBenhNhanAsync\";\n  urlGetTotalPageGridChild: string = \"QuayThuoc/GetTotalPageForGridTimBenhNhanAsync\";\n  urlGetDataChild: string = \"QuayThuoc/GetDanhSachThuocBenhNhanChild\";\n  validationErrors: any[] = [];\n\n  constructor(private router: Router, private apiService: ApiService, private dialog: MatDialog, private route: ActivatedRoute,\n    private authService: AuthService, private notificationService: NotificationService,) { }\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n  @ViewChild('TongGiaTriDonThuocTemplate', { static: true }) TongGiaTriDonThuocTemplate: TemplateRef<any>;\n  @ViewChild('SoTienChoThanhToanTemplate', { static: true }) SoTienChoThanhToanTemplate: TemplateRef<any>;\n  @ViewChild('trangThaiTemplate', { static: true }) trangThaiTemplate: TemplateRef<any>;\n  @ViewChild('nguoiDungKhongMuaThuocTemplate', { static: true }) nguoiDungKhongMuaThuocTemplate: TemplateRef<any>;\n  @ViewChild('maTNTemplate', { static: true }) maTNTemplate: TemplateRef<any>;\n  @ViewChild('templatePrint', { static: true }) templatePrint: TemplateRef<any>;\n  @ViewChild('TongCongDonThuocFooter', { static: true }) TongCongDonThuocFooter: TemplateRef<any>;\n  @ViewChild('TonggiaTriThuocFooter', { static: true }) TonggiaTriThuocFooter: TemplateRef<any>;\n  //\n  @ViewChild('gridDonThuocTrongNgay', { static: false }) gridDonThuocTrongNgay: GridComponent;\n  @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n  //\n  @ViewChild('SoTienThuoctemplate', { static: true }) SoTienThuoctemplate: TemplateRef<any>;\n  @ViewChild('TinhTrangThuoctemplate', { static: true }) TinhTrangThuoctemplate: TemplateRef<any>;\n  groups: GroupDescriptor[] = [{ field: 'LoaiDonThuoc' }];\n  ngOnInit() {\n    this.gridChildColumnsChoThanhToan = [\n      { Field: \"MaTN\", Title: \"Mã TN\", Width: 100, Sortable: true, Template: this.maTNTemplate },\n      { Field: \"MaBN\", Title: \"Mã NB\", Width: 80, Sortable: true },\n      { Field: \"HoTen\", Title: \"Họ Tên\", Width: 200, Sortable: true },\n      { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 80, Sortable: true },\n      { Field: \"GioiTinhHienThi\", Title: \"Giới tính\", Width: 80, Sortable: true },\n      { Field: \"DiaChi\", Title: \"Địa chỉ\", MinWidth: 120, Sortable: true },\n      { Field: \"SoDienThoai\", Title: \"Điện thoại\", Width: 120, Sortable: true },\n      { Field: \"DoiTuong\", Title: \"Đối tượng\", Width: 120, Sortable: true },\n      { Field: \"TongGiaTriDonThuoc\", Title: \"Tổng giá trị đơn thuốc\", Width: 200, Sortable: true, Template: this.TongGiaTriDonThuocTemplate },\n      { Field: \"TrangThaiHienThiString\", Title: \"Trạng thái\", Width: 120, Sortable: false, Template: this.trangThaiTemplate },\n      { Field: \"\", Title: \"\", Width: 200, Sortable: false, Template: this.nguoiDungKhongMuaThuocTemplate },\n    ];\n    this.gridChildColumnsDaThanhToan = [\n      { Field: \"MaTN\", Title: \"Mã TN\", Width: 100, Sortable: true, Template: this.maTNTemplate },\n      { Field: \"MaBN\", Title: \"Mã NB\", Width: 80, Sortable: true },\n      { Field: \"HoTen\", Title: \"Họ Tên\", Width: 200, Sortable: true },\n      { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 80, Sortable: true },\n      { Field: \"GioiTinhHienThi\", Title: \"Giới tính\", Width: 80, Sortable: true },\n      { Field: \"DiaChi\", Title: \"Địa chỉ\", MinWidth: 120, Sortable: true },\n      { Field: \"SoDienThoai\", Title: \"Điện thoại\", Width: 120, Sortable: true },\n      { Field: \"DoiTuong\", Title: \"Đối tượng\", Width: 120, Sortable: true },\n      { Field: \"TongGiaTriDonThuoc\", Title: \"Tổng giá trị đơn thuốc\", Width: 200, Sortable: true, Template: this.TongGiaTriDonThuocTemplate },\n      { Field: \"TrangThaiHienThiString\", Title: \"Trạng thái\", Width: 120, Sortable: false, Template: this.trangThaiTemplate },\n    ];\n    this.gridChildColumnsAll = [\n      { Field: \"MaTN\", Title: \"Mã TN\", Width: 100, Sortable: true, Template: this.maTNTemplate },\n      { Field: \"MaBN\", Title: \"Mã NB\", Width: 80, Sortable: true },\n      { Field: \"HoTen\", Title: \"Họ Tên\", Width: 200, Sortable: true },\n      { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 80, Sortable: true },\n      { Field: \"GioiTinhHienThi\", Title: \"Giới tính\", Width: 80, Sortable: true },\n      { Field: \"DiaChi\", Title: \"Địa chỉ\", MinWidth: 120, Sortable: true },\n      { Field: \"SoDienThoai\", Title: \"Điện thoại\", Width: 120, Sortable: true },\n      { Field: \"DoiTuong\", Title: \"Đối tượng\", Width: 120, Sortable: true },\n      { Field: \"SoTienChoThanhToan\", Title: \"Số tiền chờ thanh toán\", Width: 220, Sortable: true, Template: this.SoTienChoThanhToanTemplate },\n      { Field: \"TongGiaTriDonThuoc\", Title: \"Tổng giá trị đơn thuốc\", Width: 200, Sortable: true, Template: this.TongGiaTriDonThuocTemplate },\n      { Field: \"TrangThaiHienThiString\", Title: \"Trạng thái\", Width: 120, Sortable: false, Template: this.trangThaiTemplate },\n\n    ];\n    this.gridChild = [\n      { Field: \"STT\", Title: \"#\", Width: 100, Sortable: true },\n      { Field: \"LoaiDonThuoc\", Title: \"\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n      { Field: \"MaDon\", Title: \"Mã Đơn\", Width: 100, Sortable: true },\n      { Field: \"NgayKeDon\", Title: \"Ngày kê đơn\", Width: 200, Sortable: true },\n      { Field: \"DVKham\", Title: \"Dịch vụ khám\", minWidth: 200, Sortable: true },\n      { Field: \"BSKham\", Title: \"Bác sĩ khám\", Width: 200, Sortable: true },//,TemplateFooter: this.TonggiaTriThuocFooter},\n      { Field: \"SoTienDisPlay\", Title: \"Số tiền \", Width: 80, Sortable: true, TemplateFooter: this.TongCongDonThuocFooter, Template: this.SoTienThuoctemplate }, //TemplateFooter: this.TongCongDonThuocFooter\n      { Field: \"TinhTrang\", Title: \"Tình trạng\", Width: 120, Sortable: true, Template: this.TinhTrangThuoctemplate },\n      { Field: \"\", Title: \"\", Width: 120, Sortable: true, Template: this.templatePrint },\n    ];\n\n  }\n  Xem(event: any) {\n\n    this.router.navigate(['nha-thuoc/mua-thuoc/' + event.YeuCauTiepNhanId + '/' + event.BenhNhanId + '/' + event.TrangThai + '/' + this.typeDanhSachThanhToan]);\n  }\n  ngOnChanges(event: any) {\n    if (event.queryStringSearchUuTien != null || event.queryStringSearchUuTien != undefined) {\n      if (event.queryStringSearchUuTien.currentValue != null || event.queryStringSearchUuTien.currentValue != undefined) {\n        if (event.queryStringSearchUuTien.currentValue != null) {\n          this.gridD._additionalSearchString = event.queryStringSearchUuTien.currentValue;\n          let kiemTraDieuKienLoad = JSON.parse(event.queryStringSearchUuTien.currentValue);\n          this.typeDanhSachThanhToan = kiemTraDieuKienLoad.KiemTraThanhToan\n          if (kiemTraDieuKienLoad.DieuKienLoadVaoChiTiet != null) {\n            this.DieuKienLoadVaoChiTiet = kiemTraDieuKienLoad.DieuKienLoadVaoChiTiet;\n          }\n          this.gridD.search();\n        }\n      }\n    }\n  }\n  sortConfig = [\n    {\n      field: \"TrangThai\",\n      dir: \"asc\",\n    },\n    {\n      field: \"Id\",\n      dir: \"asc\",\n    },\n  ];\n\n  PrinAllDonThuocBenhNhan(donThuocThanhToanId: number, LoaiDonThuoc: any, YeuCauKhambenhId: any) {\n    var data = {\n      LoaiDonThuoc: LoaiDonThuoc,\n      YeuCauKhambenhId: YeuCauKhambenhId,\n      Hosting: null,\n      TiepNhanId: donThuocThanhToanId\n    }\n    if (window.location.protocol == \"http:\") {\n      data.Hosting = \"http://\" + window.location.host;\n    } else {\n      data.Hosting = \"https://\" + window.location.host;\n    }\n\n    this.apiService.post<any>(\"QuayThuoc/InThuocBenhNhan\", data).subscribe(\n      resultData => {\n        let dialogRef = this.dialog.open(InDonThuocPopUpComponent, {\n          width: '1000px',\n          data: { Model: resultData, InDonThuocDanhSachList: false, InBangKe: true, InPhieuThu: false }\n        }).afterClosed().subscribe(() => { });\n      }, () => { });\n  }\n  onDataBound(data: any) {\n    this.OnHandleDieuKienLoadXemChiTiet.emit(true);\n    this.OnHandleDataQuayThuocSearchList.emit(data);\n  }\n\n  nguoiBenhKhongMuaThuoc(dataItem: any) {   \n    var self = this;\n    const yeuCauTiepNhanId: number = dataItem.Id;\n    var nguoiDungKhongMuaDonThuoc = new NguoiDungKhongMuaDonThuoc();\n    nguoiDungKhongMuaDonThuoc.YeuCauTiepNhanId = yeuCauTiepNhanId;\n    self.dialog.open(ConfirmComponent, {\n      disableClose: false,\n      width: '400px',\n      data: { Title: \"Xác nhận\", Message: \"Người bệnh không muốn mua thuốc này?\" }\n    }).afterClosed().subscribe(result => {\n      if (result == \"Yes\") {\n        self.apiService.post(\"QuayThuoc/NguoiBenhKhongMuaDonThuoc\", nguoiDungKhongMuaDonThuoc).subscribe(\n          () => {\n            self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xóa\"]));\n            this.gridD.search();\n          },\n          (err: ApiError) => {\n            self.validationErrors = err.ValidationErrors;\n            if (err.Message != \"Validation Failed\") {\n              self.notificationService.showError(err.Message);\n            }\n          });\n      }\n    });\n  }\n}\n\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtbXVhLXRodW9jL3F1YXktdGh1b2MtbXVhLXRodW9jLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, ChangeDetectorRef, ViewChild, HostListener } from '@angular/core';\nimport { BenhNhanThongTin, ThongTinDonThuoc, ThongTinDuocPham, XemTruocBangKeThuoc } from '../quay-thuoc.model';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { TabStripComponent } from '@progress/kendo-angular-layout';\nimport { QuayThuocHinhThucThanhToanComponent } from '../quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component';\nimport { MatDialog } from '@angular/material';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { ThongTinPhieuPdfPopupComponent } from '../thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component';\nimport { NotificationService } from 'src/app/core/services/notification.service';\n\n@Component({\n    selector: 'app-quay-thuoc-mua-thuoc',\n    templateUrl: './quay-thuoc-mua-thuoc.component.html',\n    styleUrls: ['./quay-thuoc-mua-thuoc.component.scss']\n})\n\nexport class QuayThuocMuaThuocComponent implements OnInit {\n    tt: number = this.route.snapshot.params.tt;\n    ttcheck: number = this.route.snapshot.params.ttcheck;\n    benhnhanThongTin: BenhNhanThongTin;\n    apDungCongNoThuoc: boolean = false;\n    thongTinTam: any = [];\n    viTri: number = 0;\n    tongTienBNThanhToan: number = 0;\n    thongTinMienGiamVos: any;\n    apDungMienGiam: boolean = false;\n    flagAllowLoadThuoc: boolean = true;\n    xemTruocBangKeThuoc: XemTruocBangKeThuoc = new XemTruocBangKeThuoc();\n\n    tabIndex: number = 0;\n\n    @ViewChild('tabQuayThuoc', { static: true }) tabQuayThuoc: TabStripComponent;\n    @ViewChild(QuayThuocHinhThucThanhToanComponent, { static: false }) quayThuocHinhThucThanhToan;\n\n    constructor(private route: ActivatedRoute, private notificationService: NotificationService,\n        private dialog: MatDialog, private apiService: ApiService, private router: Router, private cdRef: ChangeDetectorRef) { }\n\n    ngOnInit() {\n        const tiepNhanId: number = this.route.snapshot.params.id;\n        const benhNhanId: number = this.route.snapshot.params.idsub;\n\n        this.benhnhanThongTin = new BenhNhanThongTin();\n        this.GetThongTinBenhNhan(benhNhanId, tiepNhanId);\n\n    }\n\n    GetThongTinBenhNhan(benhNhanId: number, tiepNhanId: number) {\n        this.apiService.post<any>(\"QuayThuoc/GetThongTinBenhNhan?benhNhanId=\" + benhNhanId + \"&tiepNhanId=\" + tiepNhanId).subscribe(\n            resultData => {\n                this.benhnhanThongTin = resultData;\n            }, () => { });\n    }\n\n    onTabSelect(event: any) {\n        this.tabIndex = event.index;\n        if (event.index == 1) {\n            this.flagAllowLoadThuoc = false;\n        } else {\n            this.flagAllowLoadThuoc = true;\n        }\n    }\n    // 2 đã thanh toán --- 1 chưa thanh toán --- 3 là cả 2\n    Huy() {\n        if (this.ttcheck == 1) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck, hoQuerysearch: false } });\n        }\n        if (this.ttcheck == 2) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck, hoQuerysearch: false } });\n        }\n        if (this.ttcheck == 3) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck, hoQuerysearch: false } });\n        }\n        if (this.ttcheck == 0) {\n            this.router.navigate(['nha-thuoc'], { queryParams: { page: this.ttcheck, hoQuerysearch: false } });\n        }\n    }\n\n    ngAfterViewChecked() {\n        this.cdRef.detectChanges();\n    }\n\n    afterChangedCongNo() {\n        this.cdRef.detectChanges();\n        this.apDungCongNoThuoc = false;\n    }\n\n    afterChangedMienGiam() {\n        this.cdRef.detectChanges();\n        this.apDungMienGiam = false;\n    }\n\n    getBaoHiem(data: any) {\n        this.apDungCongNoThuoc = data.apDungCongNoThuoc;\n        this.thongTinTam = data.thongTinTam;\n        this.viTri = data.viTri;\n    }\n\n\n    getMg(data: any) {\n        this.apDungMienGiam = data.apDungMienGiam;\n        this.thongTinMienGiamVos = data.thongTinMienGiam;\n    }\n\n    danhSachChuaThanhToan(data: any[]) {\n        let bnThanhToan = 0;\n        if (data != undefined && data != null) {\n            data.forEach(ele => {\n                bnThanhToan += ele.BNConPhaiThanhToan;\n            });\n        }\n        this.tongTienBNThanhToan = bnThanhToan;\n        this.xemTruocBangKeThuoc.DanhSachDonThuocs = data;\n    }\n\n    changeTab() {\n        this.tabQuayThuoc.selectTab(1);\n        this.flagAllowLoadThuoc = false;\n    }\n\n    inXemTruocBangKeThuoc() {\n        this.showPopupLoadingIn();\n        this.xemTruocBangKeThuoc.Hosting = window.location.protocol + '//' + window.location.host;\n        this.xemTruocBangKeThuoc.YeuCauTiepNhanId = this.route.snapshot.params.id;\n\n        if (this.xemTruocBangKeThuoc.DanhSachDonThuocs === undefined &&\n            this.xemTruocBangKeThuoc.DanhSachDonThuocs === null && this.xemTruocBangKeThuoc.DanhSachDonThuocs.length === 0) {\n            this.notificationService.showError(\"Không có thuốc và vật tư.\");\n            return;\n        }\n        else {\n            this.apiService.postExportPdf<any>('QuayThuoc/XemTruocBangKeThuoc', this.xemTruocBangKeThuoc).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        this.dialog.open(ThongTinPhieuPdfPopupComponent, {\n                            disableClose: true,\n                            width: '1000px',\n                            data: { Model: resultData }\n                        }).afterClosed().subscribe(() => {\n                            this.closePopupLoadingData();\n                        });\n                    }\n                },\n                (err: ApiError) => {\n                    this.closePopupLoadingData();\n                });\n        }\n\n    }\n\n    showPopupLoadingIn() {\n        this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '250px',\n            height: '90px',\n            data: { Title: 'Đang loading...' },\n        });\n    }\n\n    closePopupLoadingData() {\n        this.dialog.closeAll();\n    }\n\n    @HostListener('document:keydown', ['$event'])\n    keyEvent(event: KeyboardEvent) {\n        if (event.keyCode == 83 && event.ctrlKey) {\n            // ctrl + s\n            if (this.tabIndex == 0) {\n                this.quayThuocHinhThucThanhToan.ThuTien();\n            }\n            event.preventDefault();\n        }\n\n        if (event.keyCode == 112 && event.ctrlKey) {\n            // ctrl + f1\n            this.tabQuayThuoc.selectTab(0);\n            event.preventDefault();\n        }\n\n        if (event.keyCode == 113 && event.ctrlKey) {\n            // ctrl + f2\n            this.tabQuayThuoc.selectTab(1);\n            event.preventDefault();\n        }\n\n        if (event.keyCode == 27 && !event.ctrlKey) {\n            // esc\n            this.Huy();\n            event.preventDefault();\n        }\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PermisssionGuard } from 'src/app/core/guards/permission-guard.service';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { QuayThuocChoThanhToanComponent } from './quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component';\nimport { QuayThuocMuaThuocComponent } from './quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component';\nimport { QuayThuocToaThuocCuComponent } from './quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component';\nimport { QuayThuocKhachVangLaiComponent } from './quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component';\n\nconst routes: Routes = [{\n  path: '',\n  component: QuayThuocChoThanhToanComponent,\n  data: {\n    title: 'Tìm thông tin',\n    DocumentType: DocumentType.QuayThuoc,\n    SecurityOperation: SecurityOperation.View\n  },\n  canActivate: [PermisssionGuard]\n},\n{\n  path: 'mua-thuoc/:id/:idsub/:tt/:ttcheck',\n  component: QuayThuocMuaThuocComponent,\n  data: {\n    title: 'Mua thuốc',\n    DocumentType: DocumentType.QuayThuoc,\n    SecurityOperation: SecurityOperation.Update\n  },\n  canActivate: [PermisssionGuard]\n},\n{\n  path: 'mua-toa-cu/:id/:ttcheck',\n  component: QuayThuocToaThuocCuComponent,\n  data: {\n    title: 'Mua thuốc',\n    DocumentType: DocumentType.QuayThuoc,\n    SecurityOperation: SecurityOperation.Update\n  },\n  canActivate: [PermisssionGuard]\n},\n{\n  path: 'khach-vang-lai',\n  component: QuayThuocKhachVangLaiComponent,\n  data: {\n    title: 'Mua thuốc',\n    DocumentType: DocumentType.QuayThuoc,\n    SecurityOperation: SecurityOperation.Update\n  },\n  canActivate: [PermisssionGuard]\n}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class QuayThuocRoutingModule { }\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset legend {\\n  margin-left: 15px;\\n  text-transform: uppercase;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy10aG9uZy10aW4tYmFvLWhpZW0tdHUtbmhhbi9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXHF1YXktdGh1b2MtdGhvbmctdGluLWJhby1oaWVtLXR1LW5oYW5cXHF1YXktdGh1b2MtdGhvbmctdGluLWJhby1oaWVtLXR1LW5oYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtdGhvbmctdGluLWJhby1oaWVtLXR1LW5oYW4vcXVheS10aHVvYy10aG9uZy10aW4tYmFvLWhpZW0tdHUtbmhhbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsOEJBQUE7RUFDQSxrQ0FBQTtFQUNBLCtCQUFBO0VBQ0EsZ0NBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy10aG9uZy10aW4tYmFvLWhpZW0tdHUtbmhhbi9xdWF5LXRodW9jLXRob25nLXRpbi1iYW8taGllbS10dS1uaGFuLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgbGVnZW5kIHtcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufSIsImZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctbGVmdDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IGxlZ2VuZCB7XG4gIG1hcmdpbi1sZWZ0OiAxNXB4O1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild, TemplateRef, EventEmitter, Output, Input, ChangeDetectorRef, OnChanges } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { ActivatedRoute } from '@angular/router';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { MultiselectComponent } from 'src/app/shared/component/dropdowns/multiselect/multiselect.component';\n\n@Component({\n    selector: 'app-quay-thuoc-thong-tin-bao-hiem-tu-nhan',\n    templateUrl: './quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.html',\n    styleUrls: ['./quay-thuoc-thong-tin-bao-hiem-tu-nhan.component.scss']\n})\nexport class QuayThuocThongTinBaoHiemTuNhanComponent implements OnInit, OnChanges {\n    constructor(\n        private route: ActivatedRoute,\n        private apiService: ApiService,\n        private cdRef: ChangeDetectorRef,\n        private notificationService: NotificationService\n    ) { }\n    gridChildColumns2: any[] = [];\n    documentType: DocumentType;\n    idMYCTN: number = this.route.snapshot.params.id;\n    @ViewChild('actionTemplateSTCongNo', { static: true }) actionTemplateSTCongNo: TemplateRef<any>;\n    @ViewChild('actionTemplateSubmitCongNo', { static: true }) actionTemplateSubmitCongNo: TemplateRef<any>;\n    apDungCongNo: boolean = false;\n    thongTinBenhNhantam: any = [];\n    @Output() valueChangeBaoHiem = new EventEmitter<any>();\n    @Output() valueChangeMg = new EventEmitter<any>();\n    dataSourceDanhSachBHTN = {\n        data: [],\n        total: 0\n    };\n    checkHaveBHTN: boolean = false;\n    flagEnableVoucher: boolean = false;\n    flagApDung: boolean = false;\n    thongTinMienGiamThem: any = [];\n    thongTinMienGiamVo: any;\n    thongTinMienGiamVoucher: any = [];\n    disabledVoucher: boolean = false;\n    flagEnableMGThem: boolean = false;\n    disabledMGThem: boolean = false;\n    disabledSoTienMG: boolean = true;\n    disabledTiLeMG: boolean = true;\n    isExistFile: boolean = false;\n    soTienMgCheck: boolean = true;\n    tiLeMgCheck: boolean = false;\n    listVouchers: number[] = [];\n    listOldVouchers: number[] = [];\n    quayThuocValidationErrors: any = [];\n    apDungMienGiam: boolean = false;\n    idBenhNhan: number = 0;\n    @Input() tongTienBNThanhToan: number;\n    tongTienBNThanhToanPrivate: number = 0;\n    public checkHiddenSoTienConLai: boolean = false;\n    loaiVoucher: number = 0;\n    @ViewChild('voucherList', { static: false }) voucherList: MultiselectComponent;\n    khachVangLaiMuaThuoc: boolean = false;\n    format: string = 'n2';\n    \n    ngOnInit() {\n        this.documentType = DocumentType.QuayThuoc;\n        this.gridChildColumns2 = [\n            { Field: \"TenCongTy\", Title: \"Công Ty\", Width: 231 },\n            { Field: \"SoThe\", Title: \"Số Thẻ\", Width: 111 },\n            { Field: \"TuNgayHienThi\", Title: \"Từ ngày\", Width: 96 },\n            { Field: \"DenNgayHienThi\", Title: \"Đến ngày\", Width: 104 },\n            { Field: \"DienThoai\", Title: \"Điện thoại\", Width: 122 },\n            { Field: \"DiaChi\", Title: \"Địa chỉ\", Width: 240 },\n            { Field: \"CongNo\", Title: \"Công nợ\", Width: 115, Template: this.actionTemplateSTCongNo },\n            { Field: \"\", Title: \"\", Width: 125, Template: this.actionTemplateSubmitCongNo }\n        ];\n        this.idBenhNhan = this.route.snapshot.params.idsub;\n        this.getDanhSachBHTN();\n    }\n\n    ngOnChanges() {\n        this.tongTienBNThanhToanPrivate = this.tongTienBNThanhToan;\n    }\n\n    getDanhSachBHTN() {\n        this.apiService.get<any>(\"QuayThuoc/GetListCongTyBaoHiemTuNhans?tiepNhanId=\" + this.idMYCTN).subscribe(\n            resultData => {\n                if (resultData != null && resultData != undefined) {\n                    this.dataSourceDanhSachBHTN.data = resultData;\n                    this.dataSourceDanhSachBHTN.data.forEach(element => {\n                        var congNoItem = {\n                            Id: element.Id,\n                            CongNoId: element.CongNoId,\n                            SoTien: element.SoTien,\n                            TenCongTy: element.TenCongTy\n                        };\n                        this.thongTinBenhNhantam.push(congNoItem);\n                    });\n\n                    this.CheckThongTinBenhNhan(this.idMYCTN);\n                }\n            });\n    }\n\n    CheckThongTinBenhNhan(tiepNhanId: number) {\n        this.apiService.post<Array<any>>(\"QuayThuoc/CheckBenhNhanExistBaoHiemTuNhan?yctnId=\" + tiepNhanId).subscribe(\n            resultData => {\n                if (resultData.length > 0) {\n                    this.checkHaveBHTN = true;\n                } else {\n                    this.checkHaveBHTN = false;\n                }\n\n                this.getThongTinMienGiam(tiepNhanId);\n            }, () => { });\n    }\n\n    getThongTinMienGiam(id: number) {\n        this.apiService.get<any>(\"ThuNgan/GetThongTinMienGiam?yeuCauTiepNhanId=\" + id).subscribe(resultData => {\n            if (resultData !== null && resultData !== undefined) {\n                this.khachVangLaiMuaThuoc = resultData.KhachVangLaiMuaThuoc;\n                if (resultData.ThongTinMienGiamVoucherVo != null || resultData.ThongTinMienGiamVoucherVo != undefined) {\n                    this.flagApDung = true;\n                    this.flagEnableVoucher = true;\n                    if (this.flagEnableVoucher === true) {\n                        this.disabledVoucher = true;\n                    }\n\n                    this.listVouchers = [];\n\n                    resultData.ThongTinMienGiamVoucherVo.MaVouchers.forEach(element => {\n                        this.listVouchers.push(element.KeyId);\n                        this.listOldVouchers.push(element.KeyId);\n                    });\n\n                    this.thongTinMienGiamVoucher = {\n                        MaVouchers: resultData.ThongTinMienGiamVoucherVo.MaVouchers,\n                        DuocPhamMienGiamTheoTiLes: resultData.ThongTinMienGiamVoucherVo.DuocPhamMienGiamTheoTiLes,\n                        LoaiVoucher: resultData.ThongTinMienGiamVoucherVo.LoaiVoucher,\n                        TenVoucher: resultData.ThongTinMienGiamVoucherVo.TenVoucher,\n                        SoTienVoucherMiemGiam: resultData.ThongTinMienGiamVoucherVo.LoaiVoucher.SoTienVoucherMiemGiam\n                    };\n\n                    this.loaiVoucher = resultData.ThongTinMienGiamVoucherVo.LoaiVoucher;\n                }\n\n                if (resultData.ThongTinMienGiamThemVo != null || resultData.ThongTinMienGiamThemVo != undefined) {\n                    this.flagApDung = true;\n                    this.flagEnableMGThem = true;\n                    if (this.flagEnableMGThem === true) {\n                        this.disabledMGThem = true;\n                    }\n\n                    this.thongTinMienGiamThem = {\n                        LoaiMienGiamThem: resultData.ThongTinMienGiamThemVo.LoaiMienGiamThem,\n                        LyDoMiemGiam: resultData.ThongTinMienGiamThemVo.LyDoMiemGiam,\n                        SoTienMG: resultData.ThongTinMienGiamThemVo.SoTienMG,\n                        SoTienMGConLai: resultData.ThongTinMienGiamThemVo.SoTienMGConLai,\n                        TiLeMienGiam: resultData.ThongTinMienGiamThemVo.TiLeMienGiam,\n                        NhanVienDuyetMienGiamThemId: resultData.ThongTinMienGiamThemVo.NhanVienDuyetMienGiamThemId,\n                        TenNhanVienDuyet: resultData.ThongTinMienGiamThemVo.TenNhanVienDuyet,\n                        TaiLieuDinhKemGiayMiemGiam: {\n                            Id: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.Id,\n                            Ma: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.Ma,\n                            DuongDan: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.DuongDan,\n                            MoTa: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.MoTa,\n                            KichThuoc: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.KichThuoc,\n                            LoaiTapTin: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.LoaiTapTin,\n                            Ten: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.Ten,\n                            TenGuid: resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.TenGuid\n                        }\n                    };\n\n                    if (this.thongTinMienGiamThem.SoTienMG != 0) {\n                        this.disabledSoTienMG = false;\n                        this.soTienMgCheck = true;\n                        this.tiLeMgCheck = false;\n                    }\n\n                    if (this.thongTinMienGiamThem.TiLeMienGiam != 0) {\n                        this.disabledTiLeMG = false;\n                        this.soTienMgCheck = false;\n                        this.tiLeMgCheck = true;\n                    }\n\n                    if (this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam.Ten != null) {\n                        this.isExistFile = true;\n                    }\n                } else {\n                    this.disabledSoTienMG = false;\n                    this.thongTinMienGiamThem = {\n                        LoaiMienGiamThem: null,\n                        LyDoMiemGiam: null,\n                        SoTienMG: 0,\n                        SoTienMGConLai: 0,\n                        TiLeMienGiam: 0,\n                        TaiLieuDinhKemGiayMiemGiam: {\n                            Ma: null,\n                            DuongDan: null,\n                            MoTa: null,\n                            KichThuoc: null,\n                            LoaiTapTin: null,\n                            Ten: null,\n                            TenGuid: null\n                        }\n                    };\n                }\n            }\n        });\n    }\n\n    uploadFileDone(tapTin: any) {\n        this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam = tapTin;\n        this.cdRef.detectChanges();\n    }\n\n    onApplyMGThem() {\n        this.thongTinMienGiamVo = {\n            ThongTinMienGiamVoucherVo: this.thongTinMienGiamVoucher,\n            ThongTinMienGiamThemVo: this.thongTinMienGiamThem,\n        }\n        this.apDungMienGiam = true;\n        var loaiMGThem = 1;\n\n        if (this.soTienMgCheck) {\n            loaiMGThem = 1;\n        }\n\n        if (this.tiLeMgCheck) {\n            loaiMGThem = 2;\n        }\n\n        if (this.thongTinMienGiamThem.SoTienMG != 0) {\n            this.thongTinMienGiamThem.LoaiMienGiamThem = 1;\n            this.thongTinMienGiamThem.TiLeMienGiam = 0;\n        }\n\n        if (this.thongTinMienGiamThem.TiLeMienGiam != 0) {\n            this.thongTinMienGiamThem.LoaiMienGiamThem = 2;\n            this.thongTinMienGiamThem.SoTienMG = 0;\n        }\n\n        var thongTinMGThem = {\n            ValidateVoucher: this.flagEnableVoucher,\n            IdYeuCauTiepNhan: this.idMYCTN,\n            ListVouchers: this.listVouchers,\n            ValidateMGThem: this.flagEnableMGThem,\n            LoaiMienGiamThem: loaiMGThem,\n            LyDoMienGiam: this.thongTinMienGiamThem.LyDoMiemGiam,\n            TaiLieuDinhKem: this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam,\n            SoTienMG: this.thongTinMienGiamThem.SoTienMG,\n            TiLeMienGiam: this.thongTinMienGiamThem.TiLeMienGiam,\n            SoTienMGConLai: this.thongTinMienGiamThem.SoTienMGConLai,\n            BenhNhanId: this.idBenhNhan,\n            NhanVienDuyetMienGiamThemId: this.thongTinMienGiamThem.NhanVienDuyetMienGiamThemId\n        };\n\n        this.quayThuocValidationErrors = null;\n        this.apiService.post<any>(\"ThuNgan/ThemThongTinMiemGiamThemVaVoucher\", thongTinMGThem)\n            .subscribe(resultData => {\n                if (resultData) {\n                    this.getThongTinMienGiam(this.idMYCTN);\n                }\n\n                this.apDungMienGiam = true;\n                var mienGiamObj = {\n                    apDungMienGiam: this.apDungMienGiam,\n                    thongTinMienGiam: this.thongTinMienGiamVo\n                };\n                this.valueChangeMg.emit(mienGiamObj);\n            }, (err: ApiError) => {\n                this.quayThuocValidationErrors = err.ValidationErrors;\n                this.disabledSoTienMG = true;\n                this.thongTinMienGiamThem = {\n                    LoaiMienGiamThem: loaiMGThem,\n                    LyDoMiemGiam: this.thongTinMienGiamThem.LyDoMiemGiam,\n                    SoTienMG: this.thongTinMienGiamThem.SoTienMG,\n                    TiLeMienGiam: this.thongTinMienGiamThem.TiLeMienGiam,\n                    SoTienMGConLai: this.thongTinMienGiamThem.SoTienMGConLai,\n                    TaiLieuDinhKemGiayMiemGiam: this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam,\n                };\n            });\n    }\n\n    onChangeLoaiMg(value: any) {\n        if (value === 1) {\n            this.soTienMgCheck = true;\n            this.tiLeMgCheck = false;\n            this.disabledSoTienMG = false;\n            this.disabledTiLeMG = true;\n            this.checkHiddenSoTienConLai = false;\n            this.thongTinMienGiamThem.TiLeMienGiam = 0;\n        }\n\n        if (value === 2) {\n            this.soTienMgCheck = false;\n            this.tiLeMgCheck = true;\n            this.disabledSoTienMG = true;\n            this.disabledTiLeMG = false;\n            this.checkHiddenSoTienConLai = true;\n            this.thongTinMienGiamThem.SoTienMG = 0;\n        }\n    }\n\n    onKeyCongNo(event: any, indexRow: any) {\n        if (event.key == \"Enter\") {\n            this.ApDungCongNo(indexRow);\n        }\n    }\n\n    ApDungCongNo(indexRow: any) {\n        if (this.dataSourceDanhSachBHTN.data[indexRow].SoTien != 0) {\n            this.thongTinBenhNhantam[indexRow].SoTien = this.dataSourceDanhSachBHTN.data[indexRow].SoTien;\n\n            this.apDungCongNo = true;\n\n            var apDungCongNoQuayThuoc = {\n                apDungCongNoThuoc: this.apDungCongNo,\n                viTri: indexRow,\n                thongTinTam: this.thongTinBenhNhantam\n            }\n            this.dataSourceDanhSachBHTN.data[indexRow].SoTien = 0;\n            this.valueChangeBaoHiem.emit(apDungCongNoQuayThuoc);\n        }\n    }\n\n    onChangeVoucher(data: any) {\n        if (data === false) {\n            this.flagEnableVoucher = false;\n            if (this.flagEnableMGThem) {\n                this.flagApDung = true;\n                return;\n            }\n\n            this.flagApDung = false;\n        } else {\n            this.flagEnableVoucher = true;\n            this.flagApDung = true;\n\n            if (this.quayThuocValidationErrors == null) {\n                this.quayThuocValidationErrors = [];\n            }\n\n            var lengthQuayThuocValidators = this.quayThuocValidationErrors.length;\n\n            if (lengthQuayThuocValidators != 0) {\n                for (let i = 0; i < lengthQuayThuocValidators; i++) {\n                    if (this.quayThuocValidationErrors.length - 1 < i) {\n                        //exceed\n                        break;\n                    }\n\n                    if (this.quayThuocValidationErrors[i].Field == \"ListVouchers\") {\n                        this.quayThuocValidationErrors.splice(i, 1);\n                        if (i != 0) { i--; }\n                    }\n                }\n            }\n        }\n    }\n\n    onChangeMienGiam(data: any) {\n        if (data === false) {\n            this.flagEnableMGThem = false;\n            if (this.flagEnableVoucher == false && this.flagEnableMGThem == false) {\n                this.flagApDung = false;\n            }\n            if (this.flagEnableVoucher == true) {\n                this.flagApDung = true;\n            }\n        } else {\n            this.flagEnableMGThem = true;\n            this.flagApDung = true;\n            this.soTienMgCheck = true;\n            this.tiLeMgCheck = false;\n\n            if (this.quayThuocValidationErrors == null) {\n                this.quayThuocValidationErrors = [];\n            }\n\n            var lengthQuayThuocValidators = this.quayThuocValidationErrors.length;\n\n            if (lengthQuayThuocValidators != 0) {\n                for (let i = 0; i < lengthQuayThuocValidators; i++) {\n                    if (this.quayThuocValidationErrors.length - 1 < i) {\n                        //exceed\n                        break;\n                    }\n\n                    if (this.quayThuocValidationErrors[i].Field == \"SoTienMG\") {\n                        this.quayThuocValidationErrors.splice(i, 1);\n                        if (i != 0) { i--; }\n                    }\n\n                    if (this.quayThuocValidationErrors[i].Field == \"LyDoMienGiam\") {\n                        this.quayThuocValidationErrors.splice(i, 1);\n                        if (i != 0) { i--; }\n                    }\n\n                    if (this.quayThuocValidationErrors[i].Field == \"TiLeMienGiam\") {\n                        this.quayThuocValidationErrors.splice(i, 1);\n                        if (i != 0) { i--; }\n                    }\n\n                    if (this.quayThuocValidationErrors[i].Field == \"TaiLieuDinhKem\") {\n                        this.quayThuocValidationErrors.splice(i, 1);\n                        if (i != 0) { i--; }\n                    }\n                }\n            }\n        }\n    }\n\n    onOpenChange() {\n        this.voucherList.getDataForLookup();\n    }\n\n    onSelectChangeVoucher(voucherId: any) {\n        if (voucherId.length == 0)\n            this.loaiVoucher = 0\n        var last = voucherId[voucherId.length - 1];\n        this.apiService.post<any>(\"ThuNgan/GetMaVoucher?loaiVoucher=\" + this.loaiVoucher).subscribe(resultData => {\n            if (resultData !== null && resultData !== undefined) {\n                resultData.forEach(element => {\n                    if (element.KeyId == last) {\n                        this.loaiVoucher = element.LoaiVoucher;\n                    }\n                });\n            }\n        });\n    }\n\n    valueChangeTheVoucher(value: any) {\n        var voucherId: any[] = [];\n\n        if (value.length > this.listOldVouchers.length) {\n            this.listOldVouchers = value;\n        }\n\n        if (value.length < this.listOldVouchers.length) {\n            if (value.length == 0) {\n                this.disabledVoucher = false;\n                voucherId = this.listOldVouchers;\n                this.flagEnableVoucher = false;\n                if (this.flagEnableMGThem === false) {\n                    this.flagApDung = false;\n                    this.apDungMienGiam = true;\n                }\n            }\n            else {\n                voucherId = this.differenceOf2Arrays(this.listOldVouchers, value);\n            }\n\n            var thongTinVoucherTheoYeuCauTiepNhan = {\n                VoucherIds: voucherId,\n                YeucauTiepNhanId: this.idMYCTN\n            };\n\n            this.apiService.post<any>(\"ThuNgan/DeleteTheVoucher\", thongTinVoucherTheoYeuCauTiepNhan)\n                .subscribe(resultData => {\n                    if (resultData !== null && resultData !== undefined) {\n                        if (resultData.Item1) {\n                            this.notificationService.showSuccess(resultData.Item2);\n                            this.getThongTinMienGiam(this.idMYCTN);\n                            this.apDungMienGiam = true;\n                            var mienGiamObj = {\n                                apDungMienGiam: this.apDungMienGiam,\n                                thongTinMienGiam: this.thongTinMienGiamVo\n                            };\n                            this.valueChangeMg.emit(mienGiamObj);\n                        }\n                    }\n                });\n            this.listOldVouchers = value;\n        }\n    }\n\n    differenceOf2Arrays(arr1, arr2) {\n        const temp = [];\n        arr1 = arr1.toString().split(',').map(Number);\n        arr2 = arr2.toString().split(',').map(Number);\n\n        for (var i in arr1) {\n            if (!arr2.includes(arr1[i])) temp.push(arr1[i]);\n        }\n        for (i in arr2) {\n            if (!arr1.includes(arr2[i])) temp.push(arr2[i]);\n        }\n        return temp.sort((a, b) => a - b);\n    }\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy10aG9uZy10aW4taGFuaC1jaGluaC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXHF1YXktdGh1b2MtdGhvbmctdGluLWhhbmgtY2hpbmhcXHF1YXktdGh1b2MtdGhvbmctdGluLWhhbmgtY2hpbmguY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtdGhvbmctdGluLWhhbmgtY2hpbmgvcXVheS10aHVvYy10aG9uZy10aW4taGFuaC1jaGluaC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy10aG9uZy10aW4taGFuaC1jaGluaC9xdWF5LXRodW9jLXRob25nLXRpbi1oYW5oLWNoaW5oLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufSIsImZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtO1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW07XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbTtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn0iXX0= */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { BenhNhanThongTin } from '../quay-thuoc.model';\n\n@Component({\n    selector: 'app-quay-thuoc-thong-tin-hanh-chinh',\n    templateUrl: './quay-thuoc-thong-tin-hanh-chinh.component.html',\n    styleUrls: ['./quay-thuoc-thong-tin-hanh-chinh.component.scss']\n})\nexport class QuayThuocThongTinHanhChinhComponent implements OnInit {\n\n    @Input() benhnhanThongTin: BenhNhanThongTin;\n    @Input() MaBN: number;\n    data = {} as BenhNhanThongTin;\n\n    constructor(private route: ActivatedRoute, private apiService: ApiService) { }\n    ngOnInit() {\n        const id: number = this.route.snapshot.params.idsub;\n        if (this.benhnhanThongTin == null) {\n            this.benhnhanThongTin = new BenhNhanThongTin();\n        }\n        if (this.MaBN != null) {\n            this.GetThongTinBenhNhan(this.MaBN);\n        }\n    }\n    GetThongTinBenhNhan(id: number) {\n        this.apiService.post<any>(\"QuayThuoc/GetThongTinBenhNhan1?maBN=\" + id).subscribe(\n            resultData => {\n                this.data = resultData;\n            },\n            () => { });\n    }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtdGltLWJlbmgtbmhhbi1wb3AtdXAvcXVheS10aHVvYy10aW0tYmVuaC1uaGFuLXBvcC11cC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Optional, Inject, ViewChild, TemplateRef } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { MAT_DIALOG_DATA, MatDialogRef, MatDialog } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport icDone from '@iconify/icons-ic/done';\nimport { ThongTinBenhNhan } from '../quay-thuoc.model';\nimport icPrint from \"@iconify/icons-ic/twotone-print\";\nimport { InBangThuTienPopUpComponent } from '../in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { InDonThuocPopUpComponent } from '../in-don-thuoc-pop-up/in-don-thuoc-pop-up.component';\n@Component({\n  selector: 'app-quay-thuoc-tim-benh-nhan-pop-up',\n  templateUrl: './quay-thuoc-tim-benh-nhan-pop-up.component.html',\n  styleUrls: ['./quay-thuoc-tim-benh-nhan-pop-up.component.scss']\n})\nexport class QuayThuocTimBenhNhanPopUpComponent implements OnInit {\n  icClose = icClose;\n  icDone = icDone;\n  icPrint = icPrint;\n  Title: any = null;\n  data: any[] = [];\n  gridChild: any[] = [];\n  benhNhan: ThongTinBenhNhan;\n  constructor(private dialogRef: MatDialogRef<QuayThuocTimBenhNhanPopUpComponent>, @Optional() @Inject(MAT_DIALOG_DATA) public dataItem: any, private apiService: ApiService, private dialog: MatDialog) {\n    this.data = dataItem.Model\n    this.Title = dataItem.Title\n  }\n  gridChildColumns2: any[] = [];\n  documentType: DocumentType;\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n  @ViewChild('TongGiaTriDonThuocTemplate', { static: true }) TongGiaTriDonThuocTemplate: TemplateRef<any>;\n  @ViewChild('SoTienChoThanhToanTemplate', { static: true }) SoTienChoThanhToanTemplate: TemplateRef<any>;\n  @ViewChild('trangThaiTemplate', { static: true }) trangThaiTemplate: TemplateRef<any>;\n  @ViewChild('maTNTemplate', { static: true }) maTNTemplate: TemplateRef<any>;\n  @ViewChild('templatePrint', { static: true }) templatePrint: TemplateRef<any>;\n  @ViewChild('SoTienThuoctemplate', { static: true }) SoTienThuoctemplate: TemplateRef<any>;\n  @ViewChild('TinhTrangThuoctemplate', { static: true }) TinhTrangThuoctemplate: TemplateRef<any>;\n  urlGetDataChild: string = \"QuayThuoc/GetDataForGridChildDTTNAsync\";\n  ngOnInit() {\n    this.documentType = DocumentType.QuayThuoc;\n    this.benhNhan = new ThongTinBenhNhan();\n    this.gridChildColumns2 = [\n      { Field: \"MaBN\", Title: \"Mã NB\", Width: 80, Sortable: false },\n      { Field: \"MaTN\", Title: \"Mã TN\", Width: 120, Sortable: false },\n      { Field: \"HoTen\", Title: \"Họ Tên\", Width: 200, Sortable: false },\n      { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 80, Sortable: false },\n      { Field: \"GioiTinhHienThi\", Title: \"Giới tính\", Width: 80, Sortable: false },\n      { Field: \"DiaChi\", Title: \"Địa chỉ\", Width: 300, Sortable: false },\n      { Field: \"SoDienThoaiDisPlay\", Title: \"Điện thoại\", Width: 120, Sortable: false },\n      { Field: \"Action\", Title: \"\", Width: 80, Template: this.actionTemplate },\n    ];\n\n    this.gridChild = [\n      { Field: \"STT\", Title: \"#\", Width: 100, Sortable: true },\n      { Field: \"LoaiDonThuoc\", Title: \"\", Width: 200, Sortable: true, Hidden: true },\n      { Field: \"MaDon\", Title: \"Mã Đơn\", Width: 100, Sortable: true },\n      { Field: \"NgayKeDon\", Title: \"Ngày kê đơn\", Width: 200, Sortable: true },\n      { Field: \"DVKham\", Title: \"Dịch vụ khám\", minWidth: 200, Sortable: true },\n      { Field: \"BSKham\", Title: \"Bác sĩ khám\", Width: 200, Sortable: true },\n      { Field: \"SoTienDisPlay\", Title: \"Số tiền \", Width: 80, Sortable: true, Template: this.SoTienThuoctemplate },\n      { Field: \"TinhTrang\", Title: \"Tình trạng\", Width: 120, Sortable: true, Template: this.TinhTrangThuoctemplate },\n      { Field: \"\", Title: \"\", Width: 120, Sortable: true, Template: this.templatePrint },\n    ];\n  }\n  close(answer: any, type: any) {\n    if (type == 1) {\n      this.dialogRef.close(answer);\n    } else {\n      // this.benhNhan.MaBenhNhan = answer.BenhNhanId;\n      // this.benhNhan.MaTiepNhan=answer.MaTN;\n      // this.benhNhan.TrangThaiThanhToan = answer.TrangThai;\n      // this.benhNhan.YeuCauTiepNhanId=answer.Id;\n      this.dialogRef.close(answer);\n    }\n\n  }\n  PrinAllDonThuocBenhNhan(YeuCauTiepNhanId: number) {\n    var data = {\n      Hosting: null,\n      TiepNhanId: YeuCauTiepNhanId\n    }\n    if (window.location.protocol == \"http:\") {\n      data.Hosting = \"http://\" + window.location.host;\n    } else {\n      data.Hosting = \"https://\" + window.location.host;\n    }\n\n    this.apiService.post<any>(\"QuayThuoc/InThuocBenhNhan\", data).subscribe(\n      resultData => {\n        let dialogRef = this.dialog.open(InDonThuocPopUpComponent, {\n          width: '1000px',\n          data: { Model: resultData, InDonThuocDanhSachList: false, InBangKe: true, InPhieuThu: false }\n        }).afterClosed().subscribe(() => { });\n      }, () => { });\n  }\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvcXVheS10aHVvYy10aW0tYmVuaC1uaGFuL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxccXVheS10aHVvY1xccXVheS10aHVvYy10aW0tYmVuaC1uaGFuXFxxdWF5LXRodW9jLXRpbS1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtdGltLWJlbmgtbmhhbi9xdWF5LXRodW9jLXRpbS1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxvQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtdGltLWJlbmgtbmhhbi9xdWF5LXRodW9jLXRpbS1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJmaWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbTtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIHBhZGRpbmctbGVmdDogMC43NWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW07XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59IiwiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufSJdfQ== */\"","import { Component, OnInit, Output, EventEmitter, HostListener, Input, ChangeDetectorRef } from '@angular/core';\nimport { TimBenhNhan, ThongTinBenhNhan, SearchInfoNhaThuoc, ExportQueryInfoQueryInfo, QuayThuocGridVo } from '../quay-thuoc.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { MatDialog } from '@angular/material';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { QuayThuocTimBenhNhanPopUpComponent } from '../quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component';\nimport { QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent } from '../quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component';\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport icFileExcel from '@iconify/icons-fa-solid/file-excel';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { InBangThuTienPopUpComponent } from '../in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component';\nimport { LocalStorageHelper } from 'src/app/core/utilities/local-storage.helper';\nimport { type } from 'os';\n\n@Component({\n  selector: 'app-quay-thuoc-tim-benh-nhan',\n  templateUrl: './quay-thuoc-tim-benh-nhan.component.html',\n  styleUrls: ['./quay-thuoc-tim-benh-nhan.component.scss']\n})\nexport class QuayThuocTimBenhNhanComponent implements OnInit {\n  documentType: DocumentType;\n  timKiem: TimBenhNhan;\n  benhNhanId: ThongTinBenhNhan;\n  quayThuocGridVo: QuayThuocGridVo;\n  validationErrors: any;\n  modelQRCode: any;\n  isScanF1: boolean = false;\n  tt111: number = 0;\n  DateTuNgay: Date = null;\n  DateDenNgay: Date = null;\n  eXportExel: boolean = false;\n  searchUuTien: boolean = true;\n  exportQueryInfoQueryInfo: ExportQueryInfoQueryInfo = new ExportQueryInfoQueryInfo();\n  public kiemTraDanhSachThanhToan: boolean = true;\n  public kiemTraDanhSachDaThanhToan: boolean = true;\n\n  @Input() typeDanhSachThanhToan: number;\n  @Input() hoquerySearch: boolean = false;\n  @Input() dataQuayThuocSearch: any;\n  @Output() dataSearch = new EventEmitter<any>();\n  @Output() onHaddlekiemTraDonThuocThanhToan = new EventEmitter<any>();\n  @Output() onHaddleeXportExel = new EventEmitter<any>();\n  @Output() onHaddleUuTienSearch = new EventEmitter<any>();\n  constructor(private apiService: ApiService, private dialog: MatDialog\n    , private router: Router,\n    private cd: ChangeDetectorRef,\n    private authService: AuthService, private notificationService: NotificationService,\n    private route: ActivatedRoute) { }\n  queRyInFoSearchNhaThuoc: SearchInfoNhaThuoc = new SearchInfoNhaThuoc();\n  // icon\n  icFileExcel = icFileExcel;\n  ngOnInit() {\n    this.documentType = DocumentType.QuayThuoc;\n    this.quayThuocGridVo = new QuayThuocGridVo();\n    this.benhNhanId = new ThongTinBenhNhan();\n    this.timKiem = new TimBenhNhan()\n    if (this.timKiem.RangeDate.startDate == null) {\n      this.DateTuNgay = new Date();\n      this.timKiem.RangeDate.startDate = this.DateTuNgay;\n    }\n    if (this.timKiem.RangeDate.endDate == null) {\n      this.DateDenNgay = new Date();\n      this.timKiem.RangeDate.endDate = this.DateDenNgay;\n    }\n\n\n    if (this.typeDanhSachThanhToan == 1) // đang thanh toán\n    {\n      this.kiemTraDanhSachThanhToan = true;\n      this.kiemTraDanhSachDaThanhToan = false;\n      this.TimkiemId(this.typeDanhSachThanhToan);\n    }\n    if (this.typeDanhSachThanhToan == 2) // đã thanh toán\n    {\n      this.kiemTraDanhSachThanhToan = false;\n      this.kiemTraDanhSachDaThanhToan = true;\n      this.TimkiemId(this.typeDanhSachThanhToan);\n    }\n    if (this.typeDanhSachThanhToan == 0) // đang thanh toán  và đãn thanh toán\n    {\n      this.kiemTraDanhSachThanhToan = true;\n      this.kiemTraDanhSachDaThanhToan = true;\n      this.TimkiemId(this.typeDanhSachThanhToan);\n    }\n    if (this.typeDanhSachThanhToan == 3) // đang thanh toán  và đãn thanh toán\n    {\n      this.kiemTraDanhSachThanhToan = false;\n      this.kiemTraDanhSachDaThanhToan = false;\n      this.TimkiemId(this.typeDanhSachThanhToan);\n    }\n    if (this.kiemTraDanhSachThanhToan == true && this.kiemTraDanhSachDaThanhToan == true) {\n      this.timKiem.KiemTraThanhToan = 0;\n      let data = this.timKiem.KiemTraThanhToan;\n    }\n    if (this.kiemTraDanhSachThanhToan == false && this.kiemTraDanhSachDaThanhToan == false) {\n      this.timKiem.KiemTraThanhToan = 3;\n      let data = this.timKiem.KiemTraThanhToan;\n      // this.onHaddlekiemTraDonThuocThanhToan.emit(data);\n      this.TimkiemId(this.typeDanhSachThanhToan);\n    }\n    this.route\n      .queryParams\n      .subscribe(v => {\n        this.timKiem.KiemTraThanhToan = v.page;\n\n      });\n    this.TimKiem(false);\n\n  }\n  TimkiemId(typeDanhSachThanhToan) {\n    var searching = LocalStorageHelper.getItem<string>(\"additionalSearchStringChiTietNhaThuoc\");\n    let KiemTraLoCalAdditonalExit;\n    if (searching != undefined && searching !== null && searching !== \"\") {\n      KiemTraLoCalAdditonalExit = JSON.parse(searching);\n      if (KiemTraLoCalAdditonalExit.MaBenhNhan != null) {\n        this.timKiem.MaBenhNhan = KiemTraLoCalAdditonalExit.MaBenhNhan;\n      }\n      if (KiemTraLoCalAdditonalExit.MaTiepNhan != null) {\n        this.timKiem.MaTiepNhan = KiemTraLoCalAdditonalExit.MaTiepNhan;\n      }\n      if (KiemTraLoCalAdditonalExit.HoTen != null) {\n        this.timKiem.HoTen = KiemTraLoCalAdditonalExit.HoTen;\n      }\n      if (KiemTraLoCalAdditonalExit.SoDienThoai != null) {\n        this.timKiem.SoDienThoai = KiemTraLoCalAdditonalExit.SoDienThoai;\n      }\n      if (KiemTraLoCalAdditonalExit.typeDanhSachThanhToan != null) {\n        this.typeDanhSachThanhToan = KiemTraLoCalAdditonalExit.typeDanhSachThanhToan;\n      }\n      if (KiemTraLoCalAdditonalExit.DateStart != null) {\n        this.timKiem.RangeDate.startDate = new Date(KiemTraLoCalAdditonalExit.DateStart);\n      }\n      else {\n        this.timKiem.RangeDate.startDate = null;\n      }\n      if (KiemTraLoCalAdditonalExit.DateEnd != null) {\n        this.timKiem.RangeDate.endDate = new Date(KiemTraLoCalAdditonalExit.DateEnd);\n      }\n      else {\n        this.timKiem.RangeDate.endDate = null;\n      }\n    }\n    if (searching == null || searching == undefined || searching == \"\") {\n      this.timKiem.MaBenhNhan = null;\n      this.timKiem.MaTiepNhan = null;\n      this.timKiem.HoTen = null;\n      this.timKiem.SoDienThoai = null;\n      this.typeDanhSachThanhToan = this.timKiem.KiemTraThanhToan;\n\n    }\n  }\n  ngOnChanges(event: any) {\n    if (event.dataQuayThuocSearch != null || event.dataQuayThuocSearch != undefined) {\n      if (event.dataQuayThuocSearch.currentValue != null || event.dataQuayThuocSearch.currentValue != undefined) {\n        this.dataQuayThuocSearch = event.dataQuayThuocSearch.currentValue;\n        if (this.dataQuayThuocSearch.Data.length > 0) {\n          if (this.dataQuayThuocSearch.Data.length == 1) {\n            \n            if (this.hoquerySearch == true) {\n              this.XemChiTiet(this.dataQuayThuocSearch.Data);\n            }\n          }\n        }\n        else {\n          if (this.hoquerySearch == true) {\n          this.searchAll();\n          }\n        }\n      }\n    }\n\n  }\n  XemChiTiet(data) {\n    if (data != null) {\n      if (data != null && data.length > 0) {\n        if (data.length == 1) {\n          //KHông có toa thuốc đang chờ thanh toán hoặc chờ xuất thuốc\n          if (this.dataQuayThuocSearch.Data[0].Id > 0) {\n            if (this.timKiem.KiemTraThanhToan == undefined) {\n              this.timKiem.KiemTraThanhToan = 3;\n            }\n            this.router.navigate(['nha-thuoc/mua-thuoc/' + data[0].Id + '/' + data[0].MaBN + '/' + data[0].TrangThai + '/' + this.timKiem.KiemTraThanhToan]);\n          }\n        }\n      }\n    }\n  }\n  searchAll() {\n    let maBenhNhanQueryString = null;\n    let maTiepNhanQueryString = null;\n    let hoTenNhanQueryString = null;\n    let sdtQueryString = null;\n    let KtraQueryString = null;\n    let KtraQueryRangeStartString = null;\n    let KtraQueryRangeEndString = null;\n\n    if (this.timKiem.MaBenhNhan != null) {\n      maBenhNhanQueryString = \"\\\"\" + this.timKiem.MaBenhNhan + \"\\\"\";\n      this.queRyInFoSearchNhaThuoc.MaBenhNhan = this.timKiem.MaBenhNhan;\n    }\n    if (this.timKiem.MaTiepNhan != null) {\n      maTiepNhanQueryString = \"\\\"\" + this.timKiem.MaTiepNhan + \"\\\"\";\n      this.queRyInFoSearchNhaThuoc.MaTiepNhan = this.timKiem.MaTiepNhan;\n    }\n    if (this.timKiem.HoTen != null) {\n      hoTenNhanQueryString = \"\\\"\" + this.timKiem.HoTen + \"\\\"\";\n      this.queRyInFoSearchNhaThuoc.HoTen = this.timKiem.HoTen;\n    }\n    if (this.timKiem.SoDienThoai != null) {\n      sdtQueryString = \"\\\"\" + this.timKiem.SoDienThoai + \"\\\"\";\n      this.queRyInFoSearchNhaThuoc.SoDienThoai = this.timKiem.SoDienThoai;\n    }\n    if (this.timKiem.KiemTraThanhToan != null) {\n      KtraQueryString = \"\\\"\" + this.timKiem.KiemTraThanhToan + \"\\\"\";\n      this.queRyInFoSearchNhaThuoc.KiemTraThanhToan = \"\\\"\" + this.timKiem.KiemTraThanhToan + \"\\\"\";\n    }\n    if (this.timKiem.RangeDate.endDate != null) {\n      KtraQueryRangeEndString = \"\\\"\" + CommonService.formatDateTime(this.timKiem.RangeDate.endDate, \"mm/dd/yyyy\") + \"\\\"\";\n    }\n    if (this.timKiem.RangeDate.startDate != null) {\n      KtraQueryRangeStartString = \"\\\"\" + CommonService.formatDateTime(this.timKiem.RangeDate.startDate, \"mm/dd/yyyy\") + \"\\\"\";\n    }\n    //\n\n    if (this.timKiem.MaBenhNhan == \"\") {\n      maBenhNhanQueryString = null;\n      this.queRyInFoSearchNhaThuoc.MaBenhNhan = \"\";\n    }\n    if (this.timKiem.MaTiepNhan == null) {\n      maTiepNhanQueryString = null;\n      this.queRyInFoSearchNhaThuoc.MaTiepNhan = \"\";\n    }\n    if (this.timKiem.HoTen == null) {\n      hoTenNhanQueryString = null;\n      this.queRyInFoSearchNhaThuoc.HoTen = \"\";\n    }\n    if (this.timKiem.SoDienThoai == null) {\n      sdtQueryString = null;\n      this.queRyInFoSearchNhaThuoc.SoDienThoai = \"\";\n    }\n    if (this.timKiem.KiemTraThanhToan == null) {\n      KtraQueryString = null;\n      this.queRyInFoSearchNhaThuoc.KiemTraThanhToan = \"\";\n    }\n    if (this.timKiem.RangeDate.startDate == null) {\n      KtraQueryRangeStartString = null;\n    }\n    if (this.timKiem.RangeDate.endDate == null) {\n      KtraQueryRangeEndString = null;\n    }\n    let dateTimeNow = new Date();\n    let queryString = \"{\\\"MaBenhNhan\\\":\" + maBenhNhanQueryString + \",\\\"MaTiepNhan\\\":\" + maTiepNhanQueryString\n      + \",\\\"HoTen\\\":\" + hoTenNhanQueryString + \",\\\"SoDienThoai\\\":\" + sdtQueryString + \",\\\"KiemTraThanhToan\\\":\" + KtraQueryString + \",\\\"DateStart\\\":\" + KtraQueryRangeStartString + \",\\\"DateEnd\\\":\" + KtraQueryRangeEndString + \"}\";\n    this.apiService.post<Array<any>>(\"QuayThuoc/TimKiemBenhNhan?search=\" + queryString).subscribe(\n      resultData => {\n        // dialogRef.close();\n        if (resultData != null && resultData.length > 0) {\n          if (resultData.length == 1) {\n            //KHông có toa thuốc đang chờ thanh toán hoặc chờ xuất thuốc\n            if (resultData[0].Id > 0) {\n              if (this.timKiem.KiemTraThanhToan == undefined) {\n                this.timKiem.KiemTraThanhToan = 3;\n              }\n              this.router.navigate(['nha-thuoc/mua-thuoc/' + resultData[0].Id + '/' + resultData[0].MaBN + '/' + resultData[0].TrangThai + '/' + this.timKiem.KiemTraThanhToan]);\n            }\n            else if (resultData[0].DonThuocThanhToanExits == true) {\n              if (this.timKiem.KiemTraThanhToan == undefined) {\n                this.timKiem.KiemTraThanhToan = 3;\n              }\n\n              this.router.navigate(['nha-thuoc/mua-toa-cu/' + resultData[0].MaBN + '/' + this.timKiem.KiemTraThanhToan]);\n            }\n          }\n          else {\n            if (resultData.length == 1) {\n              if (resultData[0].Id > 0) {\n                this.router.navigate(['nha-thuoc/mua-thuoc/' + resultData[0].Id + '/' + resultData[0].MaBN + '/' + resultData[0].TrangThai + '/' + this.timKiem.KiemTraThanhToan]);\n              }\n              else {\n                if (resultData[0].DonThuocThanhToanExits == true) {\n                  this.router.navigate(['nha-thuoc/mua-toa-cu/' + resultData[0].MaBN + '/' + this.timKiem.KiemTraThanhToan]);\n                }\n                else {\n                  let dialogRef = this.dialog.open(QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent, {\n                    disableClose: true,\n                    width: '500px',\n                    data: { Model: resultData[0], KiemTraThanhToan: this.timKiem.KiemTraThanhToan, Title: \"XÁC NHẬN\" }\n                  }).afterClosed().subscribe(result => {\n                  });\n                }\n\n              }\n            }\n            else {\n              let dialogRef = this.dialog.open(QuayThuocTimBenhNhanPopUpComponent, {\n                width: '1500px',\n                data: { Model: resultData, Title: \"Tìm kiếm người bệnh\" }\n              }).afterClosed().subscribe(result => {\n                if (typeof (result) == 'object') {\n                  this.dataSearch.emit(result);\n                }\n              });\n            }\n          }\n        } else if (resultData == null) {\n          this.notificationService.showError(\"Không có người bệnh.\");\n        }\n        else {\n          // this.notificationService.showError(\"Người bệnh này chưa có toa thuốc tại bệnh viện.\");\n          let dialogRef = this.dialog.open(QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent, {\n            disableClose: true,\n            width: '500px',\n            data: { Model: null, KiemTraThanhToan: this.timKiem.KiemTraThanhToan, TenBenhNhanSearch: this.timKiem.HoTen, SoDienThoaiSearch: this.timKiem.SoDienThoai, Title: \"XÁC NHẬN\" } // null là người bệnh không tồn tại\n          }).afterClosed().subscribe(result => {\n          });\n        }\n      },\n      (err: ApiError) => {\n\n      });\n  }\n  @HostListener('document:keydown', ['$event'])\n  keyEvent(event: KeyboardEvent) {\n    if (event.keyCode == 81 && event.ctrlKey && this.isScanF1 != true) {\n      event.preventDefault();\n      this.QuetMaQRCodeClick();\n      this.isScanF1 = true;\n    }\n    else if (event.keyCode == 81 && this.isScanF1 == true) {\n      event.preventDefault();\n    }\n  }\n  QuetMaQRCodeClick() {\n    let elementBarcode: HTMLElement = document.getElementById('barcodeActive') as HTMLElement;\n    if (elementBarcode != undefined) {\n      elementBarcode.click();\n    }\n  }\n  changeQR($event) {\n    if ($event != null && typeof $event == \"string\" && $event.endsWith(\"@\")) {\n      this.modelQRCode = $event;\n      var dataTimKiem = $event.split(\"|\");\n      if (dataTimKiem.length > 1) {\n        this.timKiem.MaBenhNhan = dataTimKiem[0];\n        this.TimKiem(true);\n      } else {\n        this.timKiem.MaTiepNhan = $event.slice(0, -1); // Mã tiếp nhận @\n        this.TimKiem(true);\n      }\n    }\n    else {\n      this.notificationService.showError(\"Không tìm thấy thông tin cần tìm.\");\n    }\n    this.isScanF1 = false;\n  }\n  onKey3(event: any) {\n    if (event.key == 'Enter') {\n    }\n  }\n  changRange(event: any) {\n  }\n  TimKiem(kiemTra:boolean) {\n    this.hoquerySearch =kiemTra;\n    var self = this;\n    var dialogRef = self.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: \"Đang tải dữ liệu...\" }\n    });\n    this.router.navigate(['nha-thuoc'], { queryParams: { page: this.timKiem.KiemTraThanhToan,hoQuerysearch:true} })\n    let dateTimeNow = new Date();\n    this.quayThuocGridVo.MaBenhNhan = this.timKiem.MaBenhNhan;\n    this.quayThuocGridVo.MaTiepNhan = this.timKiem.MaTiepNhan;\n    this.quayThuocGridVo.HoTen = this.timKiem.HoTen;\n    this.quayThuocGridVo.SoDienThoai = this.timKiem.SoDienThoai;\n    if (this.kiemTraDanhSachThanhToan == true && this.kiemTraDanhSachDaThanhToan == true) {\n      this.timKiem.KiemTraThanhToan = 0;\n    }\n    if (this.kiemTraDanhSachThanhToan == false && this.kiemTraDanhSachDaThanhToan == false) {\n      this.timKiem.KiemTraThanhToan = 3;\n    }\n    this.quayThuocGridVo.KiemTraThanhToan = this.timKiem.KiemTraThanhToan;\n    this.quayThuocGridVo.DieuKienLoadVaoChiTiet = true;\n    if (this.timKiem.RangeDate.endDate != null) {\n      this.quayThuocGridVo.DateEnd = CommonService.formatDate(this.timKiem.RangeDate.endDate, \"mm/dd/yyyy\")+\" 11:59 PM\";\n    }\n    else {\n      this.quayThuocGridVo.DateEnd = null;\n    }\n    if (this.timKiem.RangeDate.startDate != null) {\n      this.quayThuocGridVo.DateStart = CommonService.formatDate(this.timKiem.RangeDate.startDate, \"mm/dd/yyyy\")+\" 12:00 AM\";\n    }\n    else {\n      this.quayThuocGridVo.DateStart = null;\n    }\n    this.quayThuocGridVo.DateNow = dateTimeNow;\n    let queryStringSearchUuTien = JSON.stringify(this.quayThuocGridVo);\n    LocalStorageHelper.setItem(\"additionalSearchStringChiTietNhaThuoc\", queryStringSearchUuTien);\n    if (this.searchUuTien == true) {\n      this.onHaddleUuTienSearch.emit(queryStringSearchUuTien);\n      dialogRef.close();\n    }\n  }\n\n  KhachVangLai() { }\n  onKey(event: any) {\n    if (event.key == \"Enter\") {\n      this.TimKiem(true);\n    }\n  }\n  blurChange($event: any, isSoTheBHYT: boolean) {\n\n  }\n  shareData1() {\n    return this.benhNhanId;\n  }\n  checkTrangThai(event: any, type: number) {\n    this.cd.detectChanges();\n    if (type == 1 && event == true) {\n      this.kiemTraDanhSachThanhToan = event;\n\n      this.router.navigate(['nha-thuoc'], { queryParams: { page: type } });\n\n    }\n    else if (type == 1 && event == false) {\n      this.kiemTraDanhSachThanhToan = false;\n    }\n    if (type == 2 && event == true) {\n      this.kiemTraDanhSachDaThanhToan = event;\n\n      this.router.navigate(['nha-thuoc'], { queryParams: { page: type } });\n    }\n    else if (type == 2 && event == false) {\n      this.kiemTraDanhSachDaThanhToan = false;\n    }\n    if (this.kiemTraDanhSachThanhToan == true) {\n      this.router.navigate(['nha-thuoc'], { queryParams: { page: 1 } });\n      this.timKiem.KiemTraThanhToan = 1;\n      let data = this.timKiem.KiemTraThanhToan;\n    }\n    if (this.kiemTraDanhSachDaThanhToan == true) {\n      this.router.navigate(['nha-thuoc'], { queryParams: { page: 2 } });\n      this.timKiem.KiemTraThanhToan = 2;\n      let data = this.timKiem.KiemTraThanhToan;\n    }\n    if (this.kiemTraDanhSachThanhToan == true && this.kiemTraDanhSachDaThanhToan == true) {\n      this.router.navigate(['nha-thuoc'], { queryParams: { page: 0 } });\n      this.timKiem.KiemTraThanhToan = 0;\n      let data = this.timKiem.KiemTraThanhToan;\n    }\n    if (this.kiemTraDanhSachThanhToan == false && this.kiemTraDanhSachDaThanhToan == false) {\n      this.router.navigate(['nha-thuoc'], { queryParams: { page: 3 } });\n      this.timKiem.KiemTraThanhToan = 3;\n      let data = this.timKiem.KiemTraThanhToan;\n    }\n    this.TimKiem(true);\n  }\n  timeoutSearchChange: any;\n\n  searchChangeMaBN(event) {\n    //xóa sreach trước đó\n    var self = this;\n    if (this.timeoutSearchChange != null) {\n      clearTimeout(this.timeoutSearchChange);\n      this.timeoutSearchChange = null;\n    }\n    this.timeoutSearchChange = setTimeout(function () {\n      if (event !== undefined && event.endsWith(\"@\")) {\n        var dataTimKiem = event.split(\"|\");\n        if (dataTimKiem.length > 1) {\n          self.timKiem.MaBenhNhan = dataTimKiem[0];\n          self.TimKiem(true);\n        } else {\n          self.timKiem.MaBenhNhan = null;\n          self.timKiem.MaTiepNhan = event.slice(0, -1);\n          self.TimKiem(true);\n        }\n      }\n    }, 100);\n  }\n  searchChangeMaTN(event) {\n    //xóa sreach trước đó\n    var self = this;\n    if (this.timeoutSearchChange != null) {\n      clearTimeout(this.timeoutSearchChange);\n      this.timeoutSearchChange = null;\n    }\n    this.timeoutSearchChange = setTimeout(function () {\n      if (event !== undefined && event.endsWith(\"@\")) {\n        var dataTimKiem = event.split(\"|\");\n        if (dataTimKiem.length > 1) {\n          self.timKiem.MaTiepNhan = dataTimKiem[0];\n          self.TimKiem(true);\n        } else {\n          self.timKiem.MaTiepNhan = null;\n          self.timKiem.MaBenhNhan = event.slice(0, -1);\n          self.TimKiem(true);\n        }\n      }\n    }, 100);\n  }\n  // EXPORT ÊXCEL\n  exportExcel() {\n    const self = this;\n    self.showPopupLoadingData();\n    let dateTimeNow = new Date();\n    this.quayThuocGridVo.MaBenhNhan = this.timKiem.MaBenhNhan;\n    this.quayThuocGridVo.MaTiepNhan = this.timKiem.MaTiepNhan;\n    this.quayThuocGridVo.HoTen = this.timKiem.HoTen;\n    this.quayThuocGridVo.SoDienThoai = this.timKiem.SoDienThoai;\n    this.quayThuocGridVo.KiemTraThanhToan = this.timKiem.KiemTraThanhToan;\n    this.quayThuocGridVo.DieuKienLoadVaoChiTiet = true;\n    if (this.timKiem.RangeDate.endDate != null) {\n      this.quayThuocGridVo.DateEnd = CommonService.formatDateTime(this.timKiem.RangeDate.endDate, \"mm/dd/yyyy\");\n    }\n    else {\n      this.quayThuocGridVo.DateEnd = null;\n    }\n    if (this.timKiem.RangeDate.startDate != null) {\n      this.quayThuocGridVo.DateStart = CommonService.formatDateTime(this.timKiem.RangeDate.startDate, \"mm/dd/yyyy\");\n    }\n    else {\n      this.quayThuocGridVo.DateStart = null;\n    }\n    this.quayThuocGridVo.DateNow = dateTimeNow;\n    let queryStringSearchUuTien = JSON.stringify(this.quayThuocGridVo);\n    self.exportQueryInfoQueryInfo.AdditionalSearchString = queryStringSearchUuTien;\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Process)) {\n      self.apiService.postExportExcel<string>('QuayThuoc/ExportDonThuocTrongNgay',\n        self.exportQueryInfoQueryInfo).subscribe(\n          resultData => {\n            self.closePopupLoadingData();\n            const dateTimeNow = new Date();\n            CommonService.downLoadFile(resultData, 'application/vnd.ms-excel',\n              'DonThuocTrongNgay' + dateTimeNow.getFullYear() + '.xlsx');\n          },\n          (err: any) => {\n            self.notificationService.showError(err.Message);\n          });\n    } else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n  showPopupLoadingData() {\n    this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: 'Đang xuất excel...' }\n    });\n  }\n\n  closePopupLoadingData() {\n    this.dialog.closeAll();\n  }\n  blur(event: any) {\n    this.TimKiem(true);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MtdG9hLXRodW9jLWN1L3F1YXktdGh1b2MtdG9hLXRodW9jLWN1LmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, ViewChild, TemplateRef } from '@angular/core';\nimport { ToaThuocCuTimKiem } from '../quay-thuoc.model';\nimport { ActivatedRoute,Router } from '@angular/router';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\n\n@Component({\n  selector: 'app-quay-thuoc-toa-thuoc-cu',\n  templateUrl: './quay-thuoc-toa-thuoc-cu.component.html',\n  styleUrls: ['./quay-thuoc-toa-thuoc-cu.component.scss']\n})\nexport class QuayThuocToaThuocCuComponent implements OnInit {\n  id:number=this.route.snapshot.params.id;\n  idSub:number=0;\n  donThuocToa : any[];\n  laDuocPhamBenhVien : boolean;\ntimKiemToaThuocCu:ToaThuocCuTimKiem;\ngridColumns: any[] = [];\ngridChildColumns: any[] = [];\ndonThuocId : any[]=[];\n  constructor(private route: ActivatedRoute,private router: Router,private notificationService: NotificationService) {\n   }\n  urlGetDataGridChild: string = \"QuayThuoc/GetDataForGridToaThuocCuAsync?tiepNhanId=\"+ this.id;\n  urlGetTotalPageGridChild: string = \"QuayThuoc/GetTotalPageForGridToaThuocCuAsync?tiepNhanId=\"+ this.id;\n  urlGetDataGridChild1: string = \"QuayThuoc/GetDataForGridChildAsync\"; \n  urlGetTotalPageGridChild1: string = \"QuayThuoc/GetTotalPageForGridChildAsync\";\n  @ViewChild(GridComponent, { static: true }) gridChild: GridComponent;\n  @ViewChild('detailTemplateCT', { static: true }) actionChiTietTemplate: TemplateRef<any>;\n  ngOnInit() {\n    this.idSub = this.route.snapshot.params.ttcheck;\n    this.id = this.route.snapshot.params.id;\n    this.timKiemToaThuocCu = new ToaThuocCuTimKiem();\n    this.gridColumns = [\n      { Field: \"DVKham\", Title: \"DV Khám\", Width: 200, Sortable: true },\n      { Field: \"ChuanDoan\", Title: \"Chẩn đoán\", MinWidth: 120, Sortable: true },\n      { Field: \"BacSiKham\", Title: \"BS Khám\", Width: 150, Sortable: true },\n      { Field: \"NgayKham\", Title: \"Ngày Khám\", Width: 200, Sortable: true },\n    ];\n    this.gridChildColumns = [\n      { Field: \"TenThuoc\", Title: \"Tên thuốc\", Width: 200, Sortable: true,LinkDetail:false },\n      { Field: \"HoatChat\", Title: \"Hoạt Chất\", MinWidth: 200, Sortable: true},\n      { Field: \"DVT\", Title: \"ĐVT\", Width: 150, Sortable: true},\n      { Field: \"SoLuong\", Title: \"Số lượng\", Width: 100, Sortable: true },\n      { Field: \"LaDuocPhamBenhVien\", Title: \"\", Width: 200, Template: this.actionChiTietTemplate }\n    ];\n  }\n  onKey(event: any) {\n    if (event.key == \"Enter\") {\n        this.TimKiem();\n    }\n  }\n  ConvertDateTime(datime): String {\n    var date = new Date(datime);\n    var year = date.getFullYear();\n    var rawMonth = parseInt(String(date.getMonth())) + 1;\n    var month = rawMonth < 10 ? '0' + rawMonth : rawMonth;\n    var rawDay = parseInt(String(date.getDate()));\n    var day = rawDay < 10 ? '0' + rawDay : rawDay;\n    // return day + '/' + month + '/' + year;\n    return year + '-' + month + '-' + day;\n}\n  TimKiem() {\n    let dvKhamQueryString = null;\n    let ChuanDoanQueryString = null;\n    let BSQueryString = null;\n    let ngayKhamStartQueryString = null;\n    let ngayKhamEndQueryString = null;\n\n    if (this.timKiemToaThuocCu.DVKhamHienThi != null) {\n      dvKhamQueryString = \"\\\"\" + this.timKiemToaThuocCu.DVKhamHienThi + \"\\\"\";\n    }\n    if (this.timKiemToaThuocCu.ChuanDoan != null) {\n      ChuanDoanQueryString = \"\\\"\" + this.timKiemToaThuocCu.ChuanDoan + \"\\\"\";\n    }\n    if (this.timKiemToaThuocCu.BSKham != null) {\n      BSQueryString = \"\\\"\" + this.timKiemToaThuocCu.BSKham + \"\\\"\";\n    }\n    if (this.timKiemToaThuocCu.RangeDate.startDate != null) {\n      ngayKhamStartQueryString = \"\\\"\" + CommonService.formatDateTime(this.timKiemToaThuocCu.RangeDate.startDate, \"mm/dd/yyyy\") + \"\\\"\";\n    }\n    if (this.timKiemToaThuocCu.RangeDate.endDate != null) {\n      ngayKhamEndQueryString = \"\\\"\" + CommonService.formatDateTime(this.timKiemToaThuocCu.RangeDate.endDate, \"mm/dd/yyyy\") + \"\\\"\";\n    }\n\n    let queryString = \"{\\\"DVKham\\\":\" + dvKhamQueryString + \",\\\"ChuanDoan\\\":\" + ChuanDoanQueryString\n    + \",\\\"BacSi\\\":\" + BSQueryString + \",\\\"DateStart\\\":\" + ngayKhamStartQueryString + \",\\\"DateEnd\\\":\" + ngayKhamEndQueryString + \"}\";\n    this.gridChild._additionalSearchString = queryString;\n    this.gridChild.search();\n  }\n  extCheckboxSelection(event: any)\n  {\n    this.donThuocId = event;\n  }\n  ChonThuoc(){\n    //this.router.navigate(['quay-thuoc/mua-thuoc/'+ this.id +'/' + 0 + '/1/'],this.donThuocId);\n    if(this.donThuocId.length == 0){\n      this.notificationService.showError(\"Bạn chưa chọn toa thuốc.\")\n    }\n    else{\n      this.router.navigate(['/nha-thuoc/khach-vang-lai'], { queryParams: { ToaThuoc: this.donThuocId,maBN: this.id,ttCheck:this.idSub} }); // idSub là trạng thái check\n    }\n    \n  }\n  Huy(){\n    this.router.navigate(['nha-thuoc']);\n  }\n  onKey3(event: any) {\n    if (event.key == 'Enter') {\n      // this.TimKiem();\n    }\n  }\n  changRange(event: any) {\n    // this.TimKiem();\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MteGFjLW5oYW4taW4tcG9wLXVwL3F1YXktdGh1b2MteGFjLW5oYW4taW4tcG9wLXVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Optional, Inject} from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { ConfirmPrint } from '../quay-thuoc.model';\n\n@Component({\n  selector: 'app-quay-thuoc-xac-nhan-in-pop-up',\n  templateUrl: './quay-thuoc-xac-nhan-in-pop-up.component.html',\n  styleUrls: ['./quay-thuoc-xac-nhan-in-pop-up.component.scss']\n})\nexport class QuayThuocXacNhanInPopUpComponent implements OnInit {\n  thongTin: ConfirmPrint;\n  Title: any = null;\n  constructor(private dialogRef: MatDialogRef<QuayThuocXacNhanInPopUpComponent>, @Optional() @Inject(MAT_DIALOG_DATA) public dataItem: any) {\n    this.thongTin = new ConfirmPrint();\n    this.thongTin.TaiKhoanBenhNhanThuId = dataItem.Model.TaiKhoanBenhNhanThuId\n    this.Title = dataItem.Title\n  }\n\n  ngOnInit() {\n  }\n  close(answer: any) {\n    this.thongTin.Response = answer;\n    this.dialogRef.close(this.thongTin);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MteGFjLW5oYW4tbXVhLXRodW9jLWtoYWNoLXZhbmctbGFpLXBvcC11cC9xdWF5LXRodW9jLXhhYy1uaGFuLW11YS10aHVvYy1raGFjaC12YW5nLWxhaS1wb3AtdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Optional, Inject } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { ConfirmPrint } from '../quay-thuoc.model';\nimport { Router } from '@angular/router';\nimport data from '@iconify/icons-ic/twotone-keyboard-voice';\n\n@Component({\n  selector: 'app-quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up',\n  templateUrl: './quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.html',\n  styleUrls: ['./quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component.scss']\n})\nexport class QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent implements OnInit {\n  thongTin: ConfirmPrint;\n  Title: any = null;\n  typeDanhSachThanhToan: number;\n  constructor(private dialogRef: MatDialogRef<QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent>, @Optional() @Inject(MAT_DIALOG_DATA) public dataItem: any, private router: Router) {\n    this.Title = dataItem.Title\n    this.typeDanhSachThanhToan = dataItem.KiemTraThanhToan;\n  }\n\n  ngOnInit() {\n  }\n  close(answer: any) {\n    if (answer == 1) {\n      this.dialogRef.close();\n    }\n    else {\n      if (this.dataItem.Model != null) {\n        this.router.navigate(['nha-thuoc/khach-vang-lai'], { queryParams: { page: this.typeDanhSachThanhToan, maBN: this.dataItem.Model.MaBN } });\n        this.dialogRef.close();\n      }\n      else {\n        if (this.dataItem.TenBenhNhanSearch != null && this.dataItem.SoDienThoaiSearch != null) {\n          this.router.navigate(['nha-thuoc/khach-vang-lai'], { queryParams: { page: this.typeDanhSachThanhToan, TenBenhNhan: this.dataItem.TenBenhNhanSearch, SDT: this.dataItem.SoDienThoaiSearch } });\n        } else if (this.dataItem.TenBenhNhanSearch != null  && this.dataItem.SoDienThoaiSearch == null) {\n          this.router.navigate(['nha-thuoc/khach-vang-lai'], { queryParams: { page: this.typeDanhSachThanhToan, TenBenhNhan: this.dataItem.TenBenhNhanSearch } });\n        }\n        else {\n          this.router.navigate(['nha-thuoc/khach-vang-lai'], { queryParams: { page: this.typeDanhSachThanhToan, SDT: this.dataItem.SoDienThoaiSearch } });\n        }\n        this.dialogRef.close();\n      }\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3F1YXktdGh1b2MteGFjLW5oYW4tcG9wLXVwL3F1YXktdGh1b2MteGFjLW5oYW4tcG9wLXVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Optional, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n    selector: 'app-quay-thuoc-xac-nhan-pop-up',\n    templateUrl: './quay-thuoc-xac-nhan-pop-up.component.html',\n    styleUrls: ['./quay-thuoc-xac-nhan-pop-up.component.scss']\n})\n\nexport class QuayThuocXacNhanPopUpComponent implements OnInit {\n    Title: any = null;\n    soTien: number = 0;\n    tenBenhNhan: string = null;\n    dataSourcedanhsachThuoc: any = {\n        data: [],\n        total: 0\n    }\n    icClose = icClose;\n\n    constructor(private route: ActivatedRoute, private dialogRef: MatDialogRef<QuayThuocXacNhanPopUpComponent>, @Optional() @Inject(MAT_DIALOG_DATA) public dataItem: any) {\n        this.dataSourcedanhsachThuoc.data = dataItem.Model.DanhSachDonThuocs\n        this.soTien = dataItem.Model.DanhSachDonThuocs.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0);\n        this.tenBenhNhan = dataItem.Model.HoTenBenhNhan;\n        this.Title = dataItem.Title\n    }\n\n    ngOnInit() {\n    }\n\n    close(answer: any) {\n        this.dialogRef.close(answer);\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { QuayThuocRoutingModule } from './quay-thuoc-routing.module';\nimport { QuayThuocTimBenhNhanComponent } from './quay-thuoc-tim-benh-nhan/quay-thuoc-tim-benh-nhan.component';\nimport { BaseService } from 'src/app/core/services/base.service';\nimport { PageLayoutModule } from 'src/@vex/components/page-layout/page-layout.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { BreadcrumbsModule } from 'src/@vex/components/breadcrumbs/breadcrumbs.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TooltipModule } from '@progress/kendo-angular-tooltip';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { MatIconModule, MatMenuModule, MatButtonToggleModule, MatTooltipModule, MatButtonModule, MatDialogModule, MatCheckboxModule, MatRadioModule } from '@angular/material';\nimport { IconModule } from '@visurel/iconify-angular';\nimport { LayoutModule } from '@progress/kendo-angular-layout';\nimport { MatInputModule, MatOptionModule, MatSelectModule, MatTabsModule } from '@angular/material';\nimport { GridModule } from '@progress/kendo-angular-grid';\nimport { QuayThuocTimBenhNhanPopUpComponent } from './quay-thuoc-tim-benh-nhan-pop-up/quay-thuoc-tim-benh-nhan-pop-up.component';\nimport { QuayThuocChoThanhToanComponent } from './quay-thuoc-cho-thanh-toan/quay-thuoc-cho-thanh-toan.component';\nimport { QuayThuocMuaThuocComponent } from './quay-thuoc-mua-thuoc/quay-thuoc-mua-thuoc.component';\nimport { QuayThuocListComponent } from './quay-thuoc-list/quay-thuoc-list.component';\nimport { QuayThuocThongTinHanhChinhComponent } from './quay-thuoc-thong-tin-hanh-chinh/quay-thuoc-thong-tin-hanh-chinh.component';\nimport { QuayThuocToaThuocCuComponent } from './quay-thuoc-toa-thuoc-cu/quay-thuoc-toa-thuoc-cu.component';\nimport { QuayThuocThongTinBaoHiemTuNhanComponent } from './quay-thuoc-thong-tin-bao-hiem-tu-nhan/quay-thuoc-thong-tin-bao-hiem-tu-nhan.component';\nimport { QuayThuocHinhThucThanhToanComponent } from './quay-thuoc-hinh-thuc-thanh-toan/quay-thuoc-hinh-thuc-thanh-toan.component';\nimport { QuayThuocXacNhanPopUpComponent } from './quay-thuoc-xac-nhan-pop-up/quay-thuoc-xac-nhan-pop-up.component';\nimport { QuayThuocXacNhanInPopUpComponent } from './quay-thuoc-xac-nhan-in-pop-up/quay-thuoc-xac-nhan-in-pop-up.component';\nimport { QuayThuocChoXuatThuocComponent } from './quay-thuoc-cho-xuat-thuoc/quay-thuoc-cho-xuat-thuoc.component';\nimport { InBangThuTienPopUpComponent } from './in-bang-thu-tien-pop-up/in-bang-thu-tien-pop-up.component';\nimport { QuayThuocKhachVangLaiComponent } from './quay-thuoc-khach-vang-lai/quay-thuoc-khach-vang-lai.component';\nimport { QuayThuocKhachVangLaiChoThanhToanComponent } from './quay-thuoc-khach-vang-lai-cho-thanh-toan/quay-thuoc-khach-vang-lai-cho-thanh-toan.component';\nimport { QuayThuocKhachVangLaiChoXuatThuocComponent } from './quay-thuoc-khach-vang-lai-cho-xuat-thuoc/quay-thuoc-khach-vang-lai-cho-xuat-thuoc.component';\nimport { QuayThuocKhachVangLaiThongTinHanhChinhComponent } from './quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh/quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh.component';\nimport { QuayThuocService } from './quay-thuoc.service';\nimport { QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent } from './quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up/quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up.component';\nimport { InDonThuocPopUpComponent } from './in-don-thuoc-pop-up/in-don-thuoc-pop-up.component';\nimport { ApDungMiemGiamThemPopupComponent } from './ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component';\nimport { ApDungMiemGiamChoTungLoaiThuocPopupComponent } from './ap-dung-miem-giam-cho-tung-loai-thuoc-popup/ap-dung-miem-giam-cho-tung-loai-thuoc-popup.component';\nimport { ThongTinPhieuPdfPopupComponent } from './thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component';\nimport { ThongTinPhieuThuThuoc } from './thong-tin-phieu-da-thu/thong-tin-phieu-da-thu.component';\nimport { XacNhanHuyThuComponent } from './xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component';\nimport { XacNhanHuyThuBanThuocComponent } from './xac-nhan-phieu-huy-thu-ban-thuoc/xac-nhan-phieu-huy-thu-ban-thuoc.component';\n\n@NgModule({\n  declarations: [\n    QuayThuocTimBenhNhanComponent,\n    QuayThuocTimBenhNhanPopUpComponent,\n    QuayThuocChoThanhToanComponent, QuayThuocMuaThuocComponent,\n    QuayThuocListComponent,\n    QuayThuocThongTinHanhChinhComponent,\n    QuayThuocToaThuocCuComponent,\n    QuayThuocThongTinBaoHiemTuNhanComponent,\n    QuayThuocHinhThucThanhToanComponent,\n    QuayThuocXacNhanPopUpComponent,\n    QuayThuocXacNhanInPopUpComponent,\n    QuayThuocChoXuatThuocComponent,\n    InBangThuTienPopUpComponent,\n    QuayThuocKhachVangLaiComponent,\n    QuayThuocKhachVangLaiChoThanhToanComponent,\n    QuayThuocKhachVangLaiChoXuatThuocComponent,\n    QuayThuocKhachVangLaiThongTinHanhChinhComponent,\n    QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent,\n    InDonThuocPopUpComponent,\n    ApDungMiemGiamThemPopupComponent,\n    ApDungMiemGiamChoTungLoaiThuocPopupComponent,\n    ThongTinPhieuPdfPopupComponent,\n    ThongTinPhieuThuThuoc,\n    XacNhanHuyThuComponent ,\n    XacNhanHuyThuBanThuocComponent   \n  ],\n  imports: [\n    CommonModule,\n    QuayThuocRoutingModule,\n    ReactiveFormsModule,\n    MatInputModule, MatOptionModule, MatSelectModule,\n    MatTabsModule,\n    PageLayoutModule,\n    FlexLayoutModule,\n    BreadcrumbsModule,\n    FormsModule,\n    TooltipModule,\n    SharedModule,\n    MatIconModule,\n    IconModule,\n    MatMenuModule,\n    MatButtonToggleModule,\n    MatTooltipModule,\n    MatButtonModule,\n    LayoutModule,\n    MatDialogModule,\n    MatCheckboxModule,\n    GridModule,\n    MatRadioModule,\n  ], entryComponents: [\n    ApDungMiemGiamChoTungLoaiThuocPopupComponent,\n    ApDungMiemGiamThemPopupComponent,\n    InDonThuocPopUpComponent,\n    QuayThuocTimBenhNhanPopUpComponent,\n    QuayThuocXacNhanPopUpComponent,\n    QuayThuocXacNhanInPopUpComponent,\n    InBangThuTienPopUpComponent,\n    QuayThuocXacNhanMuaThuocKhachVangLaiPopUpComponent,\n    ThongTinPhieuPdfPopupComponent,\n    XacNhanHuyThuComponent,\n    XacNhanHuyThuBanThuocComponent\n  ],\n  providers: [\n    QuayThuocService,\n    { provide: BaseService, useClass: QuayThuocService },\n  ]\n})\nexport class QuayThuocModule { }\n","import { Injectable } from '@angular/core';\nimport { BaseService } from 'src/app/core/services/base.service';\nimport { ApiService } from 'src/app/core/services/api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class QuayThuocService extends BaseService {\n\n  constructor(apiService: ApiService) { \n    super(apiService);\n  }\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.size-icon {\\n  display: inline-block;\\n  height: 20px;\\n  width: 20px;\\n  line-height: 20px;\\n  border-radius: 10px;\\n  background-color: green;\\n  color: #fff;\\n  text-align: center;\\n}\\n\\n.size-icon-duoc-bhyt {\\n  display: inline-block;\\n  height: 14px;\\n  width: 14px;\\n  line-height: 20px;\\n  border-radius: 7px;\\n  background-color: green;\\n  color: #fff;\\n  text-align: center;\\n  right: -4px;\\n  top: 6px;\\n  margin: 0;\\n}\\n\\n.float_right {\\n  float: right;\\n}\\n\\n.color-green {\\n  color: green;\\n}\\n\\n.color-red {\\n  color: red;\\n}\\n\\n.reverse-ellipsis.r {\\n  text-align: right;\\n  direction: inherit;\\n}\\n\\n.yellowText {\\n  color: yellowgreen;\\n}\\n\\n.redText {\\n  color: red;\\n}\\n\\n.greenText {\\n  color: green;\\n}\\n\\n.orangeText {\\n  color: orange;\\n}\\n\\n.blueText {\\n  color: blue;\\n}\\n\\n.blackText {\\n  color: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvdGhvbmctdGluLXBoaWV1LWRhLXRodS9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXHRob25nLXRpbi1waGlldS1kYS10aHVcXHRob25nLXRpbi1waGlldS1kYS10aHUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3Rob25nLXRpbi1waGlldS1kYS10aHUvdGhvbmctdGluLXBoaWV1LWRhLXRodS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFFQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFFQSxrQkFBQTtFQUNBLHVCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsVUFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvdGhvbmctdGluLXBoaWV1LWRhLXRodS90aG9uZy10aW4tcGhpZXUtZGEtdGh1LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwMHB4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLnNpemUtaWNvbiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgaGVpZ2h0OiAyMHB4O1xuICB3aWR0aDogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIC1tb3otYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5zaXplLWljb24tZHVvYy1iaHl0IHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBoZWlnaHQ6IDE0cHg7XG4gIHdpZHRoOiAxNHB4O1xuICBsaW5lLWhlaWdodDogMjBweDtcbiAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDdweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHJpZ2h0OiAtNHB4O1xuICB0b3A6IDZweDtcbiAgbWFyZ2luOiAwO1xufVxuXG4uZmxvYXRfcmlnaHQge1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbi5jb2xvci1ncmVlbiB7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLmNvbG9yLXJlZCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5yZXZlcnNlLWVsbGlwc2lzLnIge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZGlyZWN0aW9uOiBpbmhlcml0O1xufVxuXG4ueWVsbG93VGV4dCB7XG4gIGNvbG9yOiB5ZWxsb3dncmVlbjtcbn1cblxuLnJlZFRleHQge1xuICBjb2xvcjogcmVkO1xufVxuXG4uZ3JlZW5UZXh0IHtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG4ub3JhbmdlVGV4dCB7XG4gIGNvbG9yOiBvcmFuZ2U7XG59XG5cbi5ibHVlVGV4dCB7XG4gIGNvbG9yOiBibHVlO1xufVxuXG4uYmxhY2tUZXh0IHtcbiAgY29sb3I6IGJsYWNrO1xufSIsIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5zaXplLWljb24ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGhlaWdodDogMjBweDtcbiAgd2lkdGg6IDIwcHg7XG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAtbW96LWJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xuICBjb2xvcjogI2ZmZjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uc2l6ZS1pY29uLWR1b2MtYmh5dCB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgaGVpZ2h0OiAxNHB4O1xuICB3aWR0aDogMTRweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIC1tb3otYm9yZGVyLXJhZGl1czogNXB4O1xuICBib3JkZXItcmFkaXVzOiA3cHg7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xuICBjb2xvcjogI2ZmZjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICByaWdodDogLTRweDtcbiAgdG9wOiA2cHg7XG4gIG1hcmdpbjogMDtcbn1cblxuLmZsb2F0X3JpZ2h0IHtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG4uY29sb3ItZ3JlZW4ge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5jb2xvci1yZWQge1xuICBjb2xvcjogcmVkO1xufVxuXG4ucmV2ZXJzZS1lbGxpcHNpcy5yIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGRpcmVjdGlvbjogaW5oZXJpdDtcbn1cblxuLnllbGxvd1RleHQge1xuICBjb2xvcjogeWVsbG93Z3JlZW47XG59XG5cbi5yZWRUZXh0IHtcbiAgY29sb3I6IHJlZDtcbn1cblxuLmdyZWVuVGV4dCB7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLm9yYW5nZVRleHQge1xuICBjb2xvcjogb3JhbmdlO1xufVxuXG4uYmx1ZVRleHQge1xuICBjb2xvcjogYmx1ZTtcbn1cblxuLmJsYWNrVGV4dCB7XG4gIGNvbG9yOiBibGFjaztcbn0iXX0= */\"","import { Component, OnInit, Inject, Input } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ThongTinHuyPhieu, ThongTinSoPhieuDaThu, TrangThaiThuTienBenhNhan } from '../quay-thuoc.model';\nimport icEdit from \"@iconify/icons-ic/twotone-edit\";\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { XacNhanHuyThuComponent } from '../xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component';\nimport { ThongTinPhieuPdfPopupComponent } from '../thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component';\nimport { XacNhanInViewModel } from '../lich-su-quay-thuoc/lich-su-quay-thuoc.model';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\n@Component({\n    selector: 'app-thong-tin-phieu-da-thu',\n    templateUrl: './thong-tin-phieu-da-thu.component.html',\n    styleUrls: ['./thong-tin-phieu-da-thu.component.scss']\n})\nexport class ThongTinPhieuThuThuoc implements OnInit {\n    @Input() yeuCauTiepNhanId: number;\n    hostingName: string;\n    src = '';\n    icClose = icClose;\n    public icEdit = icEdit;\n    InPhieuThu: boolean;\n    InBangKe: boolean;\n    loaiPhieu: any;\n    kiemtraPhieuInManhinh: boolean = false;\n    public dataSoPhieus: any;\n    confrim: any = null;\n    thongTinSoPhieuDaThu = new ThongTinSoPhieuDaThu();\n    trangThaiThuTienBenhNhan = new TrangThaiThuTienBenhNhan();\n    documentType: DocumentType;\n\n    constructor(private route: ActivatedRoute,\n        private notificationService: NotificationService,\n        private apiService: ApiService,\n        private authService: AuthService,\n        private router: Router,\n        private dialog: MatDialog) { }\n\n\n    ngOnInit() {\n        this.getThongSoPhieu();\n    }\n\n    public total(field: any) {\n        switch (field) {\n            case 'ThanhTien':\n                return this.thongTinSoPhieuDaThu.DanhSachThuPhis\n                    .reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'BHYTThanhToan':\n                return this.thongTinSoPhieuDaThu.DanhSachThuPhis\n                    .reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n            case 'TongCongNo':\n                return this.thongTinSoPhieuDaThu.DanhSachThuPhis\n                    .reduce((sum, item) => sum + item.TongCongNo, 0);\n            case 'SoTienMG':\n                return this.thongTinSoPhieuDaThu.DanhSachThuPhis\n                    .reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'DaThanhToan':\n                return this.thongTinSoPhieuDaThu.DanhSachThuPhis\n                    .reduce((sum, item) => sum + item.DaThanhToan, 0);\n        }\n    }\n\n    getThongSoPhieu() {\n        this.apiService.post<any>(\"QuayThuoc/GetSoPhieuQuayThuoc/\" + this.yeuCauTiepNhanId).subscribe(resultData => {\n            if (resultData !== undefined && resultData !== null) {\n                this.dataSoPhieus = resultData;\n                if (resultData.length > 0) {\n                    this.xemThongTinPhieu(resultData[0].KeyId);\n                }\n            }\n        });\n    }\n\n    xemThongTinPhieu(keyId: any) {\n        let loading = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: \"200px\",\n            height: \"90px\",\n            data: {},\n        });\n        this.apiService.get<ThongTinSoPhieuDaThu>(\"QuayThuoc/GetThongTinPhieuThu/\" + keyId).subscribe(resultData => {\n            if (resultData !== undefined && resultData !== null) {\n                this.thongTinSoPhieuDaThu = resultData;\n                this.thongTinSoPhieuDaThu.SoPhieuId = keyId;\n                this.thongTinSoPhieuDaThu.TenSoPhieu = resultData.SoPhieu;\n                loading.close();\n            }\n        });\n    }\n\n    selectionChangeSoPhieu(event: any) {\n        if (event != undefined && event != null) {\n            this.thongTinSoPhieuDaThu.SoPhieuId = event.KeyId;\n            this.thongTinSoPhieuDaThu.LoaiPhieu = event.LoaiPhieu;\n            this.thongTinSoPhieuDaThu.TinhTrang = event.TinhTrang;\n            this.thongTinSoPhieuDaThu.LoaiPhieuThuChiThuNgan = event.LoaiPhieuThuChiThuNgan;\n            this.xemThongTinPhieu(event.KeyId);\n        } else {\n            this.thongTinSoPhieuDaThu = new ThongTinSoPhieuDaThu();\n        }\n    }\n\n    huyPhieuThu(thongTinSoPhieuDaThu: any, thuHoiPhieu: any) {\n        let thongTinHuyPhieu = new ThongTinHuyPhieu();\n        thongTinHuyPhieu.SoPhieu = thongTinSoPhieuDaThu.Id;\n        thongTinHuyPhieu.TenPhieuThuChi = thongTinSoPhieuDaThu.LoaiPhieu;\n        thongTinHuyPhieu.TenSoPhieu = this.thongTinSoPhieuDaThu.TenSoPhieu;\n        thongTinHuyPhieu.LoaiPhieuThuChiThuNgan = this.thongTinSoPhieuDaThu.LoaiPhieuThuChiThuNgan;\n\n        let loaiType = true;\n        this.dialog\n            .open(XacNhanHuyThuComponent, { disableClose: true, width: \"800px\", data: { thongTinHuyPhieu, thuHoiPhieu, loaiType } })\n            .afterClosed()\n            .subscribe(resultData => {\n                if (resultData != undefined && resultData !== null && resultData !== \"\") {\n                    this.getThongSoPhieu();\n                    this.notificationService.showSuccess(\"Hủy phiếu thu thành công.\");\n                }\n            },\n                (err: ApiError) => {\n                    if (err.Message != \"Validation Failed\") {\n                        this.notificationService.showError(err.Message);\n                    }\n                });\n    }\n\n    phieuIn() {\n        const self = this;\n        const hosting = window.location.protocol + '//' + window.location.host;\n        let xacNhanInData = new XacNhanInViewModel();\n        xacNhanInData = {\n            TaiKhoanBenhNhanThuId: this.thongTinSoPhieuDaThu.SoPhieuId,\n            Hosting: hosting,\n            InBangKe: false,\n            InPhieuThu: true,\n        };\n        self.apiService.postExportPdf<any>('QuayThuoc/XacNhanIn', xacNhanInData).subscribe(\n            resultData => {\n                // var arrHtml = [{\n                //     Html: resultData,\n                //     TenFile: \"InPhieuThu\",\n                //     PageSize: \"A4\",\n                //     PageOrientation: \"Landscape\",\n                // }];\n                self.dialog.open(ThongTinPhieuPdfPopupComponent, {\n                    disableClose: true,\n                    width: '1000px',\n                    data: { Model: resultData }\n                }).afterClosed().subscribe(() => { });\n            });\n    }\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 550px;\\n}\\n\\n.container-iframe iframe {\\n  margin-bottom: 10px;\\n  -webkit-backface-visibility: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3F1YXktdGh1b2MvdGhvbmctdGluLXBoaWV1LXBkZi1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHF1YXktdGh1b2NcXHRob25nLXRpbi1waGlldS1wZGYtcG9wdXBcXHRob25nLXRpbi1waGlldS1wZGYtcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3Rob25nLXRpbi1waGlldS1wZGYtcG9wdXAvdGhvbmctdGluLXBoaWV1LXBkZi1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7QUNDRjs7QURFQTtFQUNFLG1CQUFBO0VBQ0EsbUNBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3Rob25nLXRpbi1waGlldS1wZGYtcG9wdXAvdGhvbmctdGluLXBoaWV1LXBkZi1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1NTBweDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgLXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XG59IiwiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDU1MHB4O1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcbn0iXX0= */\"","import { Component, Inject, OnInit } from \"@angular/core\";\nimport { MatDialog, MAT_DIALOG_DATA } from \"@angular/material\";\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { CommonService } from \"src/app/core/utilities/common.helper\";\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { ApiError } from \"src/app/shared/models/api-error.model\";\n\n@Component({\n\tselector: \"thong-tin-phieu-pdf-popup\",\n\ttemplateUrl: \"./thong-tin-phieu-pdf-popup.component.html\",\n\tstyleUrls: [\"./thong-tin-phieu-pdf-popup.component.scss\"],\n})\nexport class ThongTinPhieuPdfPopupComponent implements OnInit {\n\ticClose = icClose;\n\tarrFilePdf: Array<any> = [];\n\tarrFileUrl: Array<any> = [];\n\tpopupLoadingData: any;\n\n\tconstructor(@Inject(MAT_DIALOG_DATA) public data: any, private apiService: ApiService, private dialog: MatDialog, private notificationService: NotificationService) { }\n\n\tngOnInit() {\n\t\tthis.getALlFilePDFFromHtml(this.data.Model);\n\t}\n\n\tgetALlFilePDFFromHtml(arrHtml) {\n\t\tthis.showPopupLoadingData();\n\t\tlet newBlob = new Blob([arrHtml], { type: \"application/pdf\" });\n\t\tlet datalocalURL = window.URL.createObjectURL(newBlob);\n\t\tthis.arrFileUrl.push(datalocalURL);\n\t\tthis.arrFilePdf.push(arrHtml);\n\t\tthis.closePopupLoadingData();\n\t}\n\n\tdownloadAllFile() {\n\t\tconst dateTimeNow = new Date();\n\t\tthis.arrFilePdf.forEach((file) => {\n\t\t\tCommonService.downLoadFile(file, \"application/pdf\", \"PhieuThuNgan\" + dateTimeNow.getFullYear() + \".pdf\");\n\t\t});\n\t}\n\n\tshowPopupLoadingData() {\n\t\tif (this.popupLoadingData == undefined || this.popupLoadingData == null || this.popupLoadingData.openDialogs == undefined || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n\t\t\tthis.popupLoadingData = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: \"200px\",\n\t\t\t\theight: \"90px\",\n\t\t\t\tdata: { Title: \"Đang tải dữ liệu...\" },\n\t\t\t});\n\t\t}\n\t}\n\n\tclosePopupLoadingData() {\n\t\tif (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n\t\t\tthis.popupLoadingData.close();\n\t\t}\n\t}\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3hhYy1uaGFuLXBoaWV1LWh1eS10aHUtYmFuLXRodW9jL3hhYy1uaGFuLXBoaWV1LWh1eS10aHUtYmFuLXRodW9jLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Inject } from \"@angular/core\";\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport { ApiError } from \"src/app/shared/models/api-error.model\";\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { DocumentType } from \"src/app/shared/enum/document-type.enum\";\nimport { AuthService } from \"src/app/core/services/auth.service\";\nimport { HuyXuatThuocTrongNgay } from \"../quay-thuoc.model\";\n\n\n@Component({\n\tselector: \"app-xac-nhan-phieu-huy-thu-ban-thuoc\",\n\ttemplateUrl: \"./xac-nhan-phieu-huy-thu-ban-thuoc.component.html\",\n\tstyleUrls: [\"./xac-nhan-phieu-huy-thu-ban-thuoc.component.scss\"],\n})\n\nexport class XacNhanHuyThuBanThuocComponent implements OnInit {\n\tloadingPopup: any;\n\tdocumentType: DocumentType = DocumentType.QuayThuoc;\n\thuyXuatThuocTrongNgay = new HuyXuatThuocTrongNgay();\n\n\tvalidationErrors: any[];\n\ticClose = icClose;\n\n\tconstructor(@Inject(MAT_DIALOG_DATA) public data: any,\n\t\tprivate dialogRef: MatDialogRef<any>,\n\t\tprivate authService: AuthService, private dialog: MatDialog,\n\t\tprivate notificationService: NotificationService,\n\t\tprivate apiService: ApiService) { }\n\n\tngOnInit() {\n\t\tthis.huyXuatThuocTrongNgay = this.data.huyXuatThuocTrongNgay;\n\t}\n\n\tmodelChangeThuHoiPhieu(e: any) {\n\t\tif (e) {\n\t\t\tlet currentUser = this.authService.getAccessUser();\n\t\t\tthis.apiService.get<any>(\"NhanVien/GetNhanVienProflie/\" + currentUser.Id).subscribe((resultData) => {\n\t\t\t\tthis.huyXuatThuocTrongNgay.NguoiThuHoiId = currentUser.Id;\n\t\t\t\tthis.huyXuatThuocTrongNgay.TenNguoiThuHoi = resultData.HoTen;\n\t\t\t\tthis.huyXuatThuocTrongNgay.ThoiGianThuHoi = new Date();\n\t\t\t});\n\t\t} else {\n\t\t\tthis.huyXuatThuocTrongNgay.NguoiThuHoiId = null;\n\t\t\tthis.huyXuatThuocTrongNgay.TenNguoiThuHoi = null;\n\t\t\tthis.huyXuatThuocTrongNgay.ThoiGianThuHoi = null;\n\t\t}\n\t}\n\n\txacNhanThongTinHuy() {\n\t\tthis.showLoadingPopup();\t\t\n\t\tthis.apiService.post<any>(`QuayThuoc/HuyBanThuocTrongNgay`, this.huyXuatThuocTrongNgay).subscribe(\n\t\t\t(resultData) => {\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t\tthis.dialogRef.close(\"Yes\");\n\t\t\t},\n\t\t\t(err: ApiError) => {\n\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? \n\t\t\t\t      this.notificationService.showError(err.Message)\n\t\t\t\t\t: (this.validationErrors = err.ValidationErrors);\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t}\n\t\t);\n\t}\n\n\tclose() {\n\t\tthis.dialog.closeAll();\n\t}\n\n\tshowLoadingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang tải...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tcloseAllDialogs() {\n\t\tif (this.loadingPopup) {\n\t\t\tthis.loadingPopup.close();\n\t\t\tthis.loadingPopup = null;\n\t\t}\n\t}\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9xdWF5LXRodW9jL3hhYy1uaGFuLXBoaWV1LWh1eS10aHUveGFjLW5oYW4tcGhpZXUtaHV5LXRodS5jb21wb25lbnQuc2NzcyJ9 */\"","import {Component, OnInit, Inject} from \"@angular/core\";\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport {MatDialog, MatDialogRef, MAT_DIALOG_DATA} from \"@angular/material\";\nimport {ApiService} from \"src/app/core/services/api.service\";\nimport {ApiError} from \"src/app/shared/models/api-error.model\";\nimport {NotificationService} from \"src/app/core/services/notification.service\";\nimport {LoadingComponent} from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport {SecurityOperation} from \"src/app/shared/enum/security-operation.enum\";\nimport {DocumentType} from \"src/app/shared/enum/document-type.enum\";\nimport {AuthService} from \"src/app/core/services/auth.service\";\nimport {SystemMessage} from \"src/app/shared/configdata/system-message\";\nimport { ThongTinHuyPhieu } from \"../quay-thuoc.model\";\n\n\n@Component({\n\tselector: \"app-xac-nhan-phieu-huy-thu\",\n\ttemplateUrl: \"./xac-nhan-phieu-huy-thu.component.html\",\n\tstyleUrls: [\"./xac-nhan-phieu-huy-thu.component.scss\"],\n})\nexport class XacNhanHuyThuComponent implements OnInit {\n\tdocumentType: DocumentType = DocumentType.QuayThuoc;\n\tthongTinHuyPhieu = new ThongTinHuyPhieu();\n\tloaiType : any;\n\n\tvalidationErrors: any[];\n\ticClose = icClose;\n\tthuHoiPhieu: boolean = false;\n\tconstructor(@Inject(MAT_DIALOG_DATA) public data: any,private dialogRef: MatDialogRef<any>, private authService: AuthService, private dialog: MatDialog, private notificationService: NotificationService, private apiService: ApiService) {}\n\n\tngOnInit() {\n\t\tthis.thongTinHuyPhieu = this.data.thongTinHuyPhieu;\n\t\tthis.thuHoiPhieu = this.data.thuHoiPhieu;\n\t\tthis.loaiType = this.data.loaiType;\n\n\t\tthis.thongTinHuyPhieu.ThuHoiPhieu = false;\n\t\tif (this.thuHoiPhieu) {\n\t\t\tlet currentUser = this.authService.getAccessUser();\n\t\t\tthis.apiService.get<any>(\"NhanVien/GetNhanVienProflie/\" + currentUser.Id).subscribe((resultData) => {\n\t\t\t\tthis.thongTinHuyPhieu.NguoiThuHoiId = currentUser.Id;\n\t\t\t\tthis.thongTinHuyPhieu.TenNguoiThuHoi = resultData.HoTen;\n\t\t\t\tthis.thongTinHuyPhieu.ThoiGianThuHoi = new Date();\n\t\t\t});\n\t\t}\n\t}\n\n\tclose() {\n\t\tthis.dialog.closeAll();\n\t}\n\n\tmodelChangeThuHoiPhieu(e: any) {\n\t\tif (e) {\n\t\t\tlet currentUser = this.authService.getAccessUser();\n\t\t\tthis.apiService.get<any>(\"NhanVien/GetNhanVienProflie/\" + currentUser.Id).subscribe((resultData) => {\n\t\t\t\tthis.thongTinHuyPhieu.NguoiThuHoiId = currentUser.Id;\n\t\t\t\tthis.thongTinHuyPhieu.TenNguoiThuHoi = resultData.HoTen;\n\t\t\t\tthis.thongTinHuyPhieu.ThoiGianThuHoi = new Date();\n\t\t\t});\n\t\t} else {\n\t\t\tthis.thongTinHuyPhieu.NguoiThuHoiId = null;\n\t\t\tthis.thongTinHuyPhieu.TenNguoiThuHoi = null;\n\t\t\tthis.thongTinHuyPhieu.ThoiGianThuHoi = null;\n\t\t}\n\t}\n\n\txacNhanThongTinHuy() {\n\t\tvar loading = this.dialog.open(LoadingComponent, {\n\t\t\tdisableClose: true,\n\t\t\twidth: \"200px\",\n\t\t\theight: \"90px\",\n\t\t\tdata: {},\n\t\t});\n\t\tif (this.loaiType) {\n\t\t\tif (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n\t\t\t\tif (this.thuHoiPhieu) {\n\t\t\t\t\tthis.apiService.post<any>(\"QuayThuoc/CapnhatNguoiThuHoiPhieuThuThuoc\", this.thongTinHuyPhieu).subscribe(\n\t\t\t\t\t\t(resultData) => {\n\t\t\t\t\t\t\tthis.dialog.closeAll();\n\t\t\t\t\t\t\tthis.dialogRef.close(\"Yes\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\t(err: ApiError) => {\n\t\t\t\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : (this.validationErrors = err.ValidationErrors);\n\t\t\t\t\t\t\tloading.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthis.apiService.post<any>(\"QuayThuoc/HuyPhieuThuThuoc\", this.thongTinHuyPhieu).subscribe(\n\t\t\t\t\t\t(resultData) => {\n\t\t\t\t\t\t\tthis.dialog.closeAll();\n\t\t\t\t\t\t\tthis.dialogRef.close(\"Yes\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\t(err: ApiError) => {\n\t\t\t\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : (this.validationErrors = err.ValidationErrors);\n\t\t\t\t\t\t\tloading.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n\t\t\t\tif (this.thuHoiPhieu) {\n\t\t\t\t\tthis.apiService.post<any>(\"QuayThuoc/CapnhatNguoiThuHoiPhieuThuThuoc\", this.thongTinHuyPhieu).subscribe(\n\t\t\t\t\t\t(resultData) => {\n\t\t\t\t\t\t\tthis.dialog.closeAll();\n\t\t\t\t\t\t\tthis.dialogRef.close(\"Yes\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\t(err: ApiError) => {\n\t\t\t\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : (this.validationErrors = err.ValidationErrors);\n\t\t\t\t\t\t\tloading.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthis.apiService.post<any>(\"QuayThuoc/HuyThanhToan\", this.thongTinHuyPhieu).subscribe(\n\t\t\t\t\t\t(resultData) => {\n\t\t\t\t\t\t\tthis.dialog.closeAll();\n\t\t\t\t\t\t\tthis.dialogRef.close(\"Yes\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\t(err: ApiError) => {\n\t\t\t\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : (this.validationErrors = err.ValidationErrors);\n\t\t\t\t\t\t\tloading.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n\t\t\t}\n\t\t}\n\t}\n}\n"]}