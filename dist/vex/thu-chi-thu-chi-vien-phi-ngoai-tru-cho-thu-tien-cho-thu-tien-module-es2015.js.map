{"version":3,"sources":["./node_modules/@iconify/icons-ic/edit.js","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/chi-tiet-cac-khoan-phai-thu/chi-tiet-cac-khoan-phai-thu.component.html","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/chi-tiet-thu-tien-tam-ung/chi-tiet-thu-tien-tam-ung.component.html","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/danh-sach-cho-thu-tien-benh-nhan/danh-sach-cho-thu-tien-benh-nhan.component.html","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/danh-sach-da-thu-tien-benh-nhan/danh-sach-da-thu-tien-benh-nhan.component.html","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/danh-sach-goi-bhyt-chua-quyet-toan/danh-sach-goi-bhyt-chua-quyet-toan.component.html","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/danh-sach-thu-phi-ngoai-tru/danh-sach-thu-phi-ngoai-tru.component.html","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/danh-sach-thu-tien-benh-nhan/danh-sach-thu-tien-benh-nhan.component.html","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/dich-vu-khuyen-mai-kem-theo-goi/dich-vu-khuyen-mai-kem-theo-goi.component.html","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/ds-chua-thu-tien/ds-chua-thu-tien.component.html","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/ds-da-thu-tien/ds-da-thu-tien.component.html","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/thong-tin-chi-tiet-da-thu/thong-tin-chi-tiet-da-thu.component.html","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/thong-tin-chung-benh-nhan/thong-tin-chung-benh-nhan.component.html","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/thong-tin-phieu-thu-ngoai-tru/thong-tin-phieu-thu-ngoai-tru.component.html","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/thong-tin-phieu-thu-popup/thong-tin-phieu-thu-popup.component.html","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/chi-tiet-cac-khoan-phai-thu/chi-tiet-cac-khoan-phai-thu.component.scss","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/chi-tiet-cac-khoan-phai-thu/chi-tiet-cac-khoan-phai-thu.component.ts","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/chi-tiet-thu-tien-tam-ung/chi-tiet-thu-tien-tam-ung.component.scss","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/chi-tiet-thu-tien-tam-ung/chi-tiet-thu-tien-tam-ung.component.ts","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/cho-thu-tien-routing.module.ts","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/cho-thu-tien.module.ts","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/danh-sach-cho-thu-tien-benh-nhan/danh-sach-cho-thu-tien-benh-nhan.component.scss","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/danh-sach-cho-thu-tien-benh-nhan/danh-sach-cho-thu-tien-benh-nhan.component.ts","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/danh-sach-da-thu-tien-benh-nhan/danh-sach-da-thu-tien-benh-nhan.component.scss","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/danh-sach-da-thu-tien-benh-nhan/danh-sach-da-thu-tien-benh-nhan.component.ts","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/danh-sach-goi-bhyt-chua-quyet-toan/danh-sach-goi-bhyt-chua-quyet-toan.component.scss","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/danh-sach-goi-bhyt-chua-quyet-toan/danh-sach-goi-bhyt-chua-quyet-toan.component.ts","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/danh-sach-thu-phi-ngoai-tru/danh-sach-thu-phi-ngoai-tru.component.scss","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/danh-sach-thu-phi-ngoai-tru/danh-sach-thu-phi-ngoai-tru.component.ts","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/danh-sach-thu-tien-benh-nhan/danh-sach-thu-tien-benh-nhan.component.scss","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/danh-sach-thu-tien-benh-nhan/danh-sach-thu-tien-benh-nhan.component.ts","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/dich-vu-khuyen-mai-kem-theo-goi/dich-vu-khuyen-mai-kem-theo-goi.component.scss","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/dich-vu-khuyen-mai-kem-theo-goi/dich-vu-khuyen-mai-kem-theo-goi.component.ts","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/ds-chua-thu-tien/ds-chua-thu-tien.component.scss","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/ds-chua-thu-tien/ds-chua-thu-tien.component.ts","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/ds-da-thu-tien/ds-da-thu-tien.component.scss","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/ds-da-thu-tien/ds-da-thu-tien.component.ts","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/thong-tin-chi-tiet-da-thu/thong-tin-chi-tiet-da-thu.component.scss","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/thong-tin-chi-tiet-da-thu/thong-tin-chi-tiet-da-thu.component.ts","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/thong-tin-chung-benh-nhan/thong-tin-chung-benh-nhan.component.scss","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/thong-tin-chung-benh-nhan/thong-tin-chung-benh-nhan.component.ts","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/thong-tin-phieu-thu-ngoai-tru/thong-tin-phieu-thu-ngoai-tru.component.scss","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/thong-tin-phieu-thu-ngoai-tru/thong-tin-phieu-thu-ngoai-tru.component.ts","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/thong-tin-phieu-thu-popup/thong-tin-phieu-thu-popup.component.scss","./src/app/modules/main/thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/thong-tin-phieu-thu-popup/thong-tin-phieu-thu-popup.component.ts"],"names":[],"mappings":"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","file":"thu-chi-thu-chi-vien-phi-ngoai-tru-cho-thu-tien-cho-thu-tien-module-es2015.js","sourcesContent":["var data = {\n\t\"body\": \"<path d=\\\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","export default \"<vex-page-layout>\\n\\t<vex-page-layout-header class=\\\"pb-16\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n\\t\\t<div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n\\t\\t\\t<vex-breadcrumbs [crumbs]=\\\"[\\n            {Title:'Thu Ngân',Path:''},\\n            {Title:'Viện phí ngoại trú',Path:''},\\n            {Title:'DS Thu Dịch Vụ',Path:'/danh-sach-thu-dich-vu', queryParams: {loaiThanhToan : typeThanhToan}, Active:true}\\n            ]\\\">\\n\\t\\t\\t</vex-breadcrumbs>\\n\\t\\t\\t<!-- {Key:'Ctrl + F3',Description:'Di chuyễn tới và check trả lại Bn'},\\n            {Key:'Ctrl + F5',Description:'Di chuyễn tới và check trả nợ'}, -->\\n\\t\\t\\t<app-hot-key [keys]=\\\"[\\n            {Key:'Ctrl + F1',Description:'Di chuyễn tới và check thu tiền'},\\n            {Key:'Ctrl + F2',Description:'Di chuyễn tới và check thu tạm ứng'},\\n            {Key:'Ctrl + F6',Description:'Di chuyễn tới và mở tab chưa thu'},\\n            {Key:'Ctrl + F7',Description:'Di chuyễn tới và mở tab đã thu'},\\n            {Key:'Ctrl + F8',Description:'Cập nhật thanh toán'},\\n            {Key:'Ctrl + F9',Description:'Hủy thanh toán'},\\n            {Key:'Ctrl + S', Description:'Thu hoặc chi tiền'},\\n            {Key:'Esc',Description:'Quay lại',End:true}\\n            ]\\\"></app-hot-key>\\n\\t\\t</div>\\n\\t</vex-page-layout-header>\\n\\n\\t<vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n\\t\\t<div class=\\\"-mt-16\\\">\\n\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n\\t\\t\\t\\t<div class=\\\"card\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\" style=\\\"position: relative\\\">\\n\\t\\t\\t\\t\\t\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t\\t\\t\\t\\t\\t\\t<!-- Thông tin hành chính -->\\n\\t\\t\\t\\t\\t\\t\\t<!-- class=\\\"content-has-border\\\" -->\\n\\t\\t\\t\\t\\t\\t\\t<fieldset fxFlex=\\\"49.5%\\\" class=\\\"mb-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<legend>Thông tin hành chính <strong *ngIf=\\\"thongTinBenhNhan.DangDieuTriNoiTru === true\\\" class=\\\"red\\\">BỆNH NHÂN ĐANG ĐIỀU TRỊ NỘI TRÚ</strong></legend>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ul class=\\\"inline\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tMã TN:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.MaYeuCauTiepNhan}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tMã NB:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.MaBN}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tHọ Tên:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.HoTen}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tNăm Sinh:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.NamSinh}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tĐịa chỉ:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.DiaChi}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.DiaChi === ''\\\"> Không có </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tSố điện thoại:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.SoDienThoai}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.SoDienThoai === null\\\"> Không có </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tEmail:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.Email}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.Email === null\\\"> Không có </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</fieldset>\\n\\n\\t\\t\\t\\t\\t\\t\\t<fieldset fxFlex=\\\"49.5%\\\" class=\\\"mb-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<legend>Thông tin bảo hiểm y tế</legend>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- Thông tin bảo hiểm y tế -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ul class=\\\"inline\\\" *ngIf=\\\"thongTinBenhNhan.CoBHYT ===  true\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tSố thẻ:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.BHYTMaSoThe}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tNgày hiệu lực:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.NgayHieuLucStr}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tNgày hết hạn:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.NgayHetHanStr}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tNơi đăng ký khám BH:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.BHYTDiaChi}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tMức hưởng:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.BHYTMucHuong}}% </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tTuyến khám:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong class=\\\"color-green\\\"> {{thongTinBenhNhan.TuyenKham}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tGiấy chuyển viện:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.TaiLieuDinhKemGiayChuyenVien !== null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a class=\\\"color-green\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"xemTaiLieu(thongTinBenhNhan.TaiLieuDinhKemGiayChuyenVien)\\\">{{thongTinBenhNhan.TenGiayChuyenVien}}</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.TaiLieuDinhKemGiayChuyenVien === null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tKhông có </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tGiấy miễn cùng chi trả:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.TaiLieuDinhKemGiayMiemCungChiTra !== null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a (click)=\\\"xemTaiLieu(thongTinBenhNhan.TaiLieuDinhKemGiayMiemCungChiTra)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"color-green\\\">{{thongTinBenhNhan.TenBHYTgiayMienCungChiTra}}</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.TaiLieuDinhKemGiayMiemCungChiTra === null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tKhông có </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<p *ngIf=\\\"!(thongTinBenhNhan.CoBHYT ===  true)\\\">(Không có)</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t\\t\\t\\t<fieldset fxFlex=\\\"49.5%\\\" class=\\\"mb-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<legend>Thông tin bảo hiểm tư nhân</legend>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-grid [gridColumns]=\\\"gridBaoHiemTNs\\\" [useAddDeault]=\\\"false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\" [lazyLoadPage]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[gridDataSource]=\\\"dataSourceDanhSachBHTN\\\" style=\\\"width: 1px\\\" [pageable]=\\\"false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"kiemTraThongTinBaoHiemTN === true\\\"> </app-grid>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<p *ngIf=\\\"kiemTraThongTinBaoHiemTN === false\\\">(Không có)</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t\\t\\t\\t<fieldset fxFlex=\\\"49.5%\\\" class=\\\"mb-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<legend>Thông tin miễn giảm</legend>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"10px grid\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tfxLayoutGap.lt-sm=\\\"0\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"flagShowDoiTuongUuDai==true\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ul\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"background: rgba(0, 0, 0, 0.04); padding: 7px 10px; border-bottom: 1px solid rgba(0, 0, 0, 0.4)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tĐối tượng ưu đãi:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"thongTinMienGiamTheoDoiTuongUuDai.DoiTuongUuDai !== null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{thongTinMienGiamTheoDoiTuongUuDai.DoiTuongUuDai}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"thongTinMienGiamTheoDoiTuongUuDai.DoiTuongUuDai === null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tKhông có </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tCông ty ưu đãi:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinMienGiamTheoDoiTuongUuDai.CongTyUudai !== null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{thongTinMienGiamTheoDoiTuongUuDai.CongTyUudai}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinMienGiamTheoDoiTuongUuDai.CongTyUudai === null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tKhông có </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div fxFlex=\\\"40%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<table width=\\\"100%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"background: rgba(0, 0, 0, 0.04); padding: 5px\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Voucher</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"background: rgba(0, 0, 0, 0.04)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div style=\\\"margin-top: -9px; position: relative\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxLayoutAlign=\\\"start center\\\" kendoTooltip>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<kendo-multiselect #multiselect [data]=\\\"listVoucherItem\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"value\\\" (open)=\\\"open()\\\" [filterable]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[disabled]=\\\"loaiThanhToan===false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(removeTag)=\\\"removeTag($event)\\\" (blur)=\\\"blur()\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(filterChange)=\\\"filterChange($event)\\\"> </kendo-multiselect>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button (click)=\\\"QuetMaQRCodeClick()\\\" color=\\\"primary\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"position: absolute; right: 3px; top: -10px\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmat-mini-fab type=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[disabled]=\\\"loaiThanhToan===false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"button-barcoe-in-search\\\" kendoTooltip\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Quét mã vạch thẻ\\\" title=\\\"Phím tắt: Ctrl + Q\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-barcode [(model)]=\\\"modelQRCode\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(modelChange)=\\\"changeQR($event)\\\" style=\\\"display: none\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-barcode>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr *ngIf=\\\"ktKhuyenMaiDichVu\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"background: rgba(0, 0, 0, 0.04); padding: 5px\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a style=\\\"color: blue;\\\" (click)=\\\"dichVuKhuyenMai()\\\"><strong>Dịch\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvụ khuyến mại</strong></a>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div fxFlex=\\\"auto\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-upload id=\\\"Upload\\\" label=\\\"Giấy miễn giảm đính kèm (nếu có)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[model]=\\\"thongTinBenhNhan.TaiLieuDinhKemGiayMiemGiam\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(uploadFileDone)=\\\"uploadFileDone($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[allowedExtensions]=\\\"allowedExtensions\\\" (removeEvent)=\\\"removeEvent($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[validationerror]=\\\"'GiayMiemGiam' | validationerror:thuNganValidationErrors\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-upload>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</fieldset>\\n\\n\\t\\t\\t\\t\\t\\t\\t<div fxFlex=\\\"100%\\\" class=\\\"mb-3\\\" *ngIf=\\\"loaiThanhToan === true\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<fieldset>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<legend>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tThông tin thu chi\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</legend>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a *ngIf=\\\"ktSuDungGoi != undefined && ktSuDungGoi != null\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"chiTietGoiMarketing()\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"z-index: 9999;margin-left: 13px; text-decoration: underline; color: blue\\\">Chi\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttiết gói\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmarketing</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<kendo-splitter>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<kendo-splitter-pane\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"titleActive=== 'Chưa thu' || titleActive ==='Đã thu'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[collapsible]=\\\"true\\\" size=\\\"22%\\\" class=\\\"sticky-panelbar\\\" style=\\\"top: 0;\\\">\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"kiemTraPhieuThuBHYT && tenPhieuThu != undefined && tenPhieuThu != null \\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"color: red; font-weight: 800\\\">Vui lòng hủy phiếu :</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a *ngIf=\\\"kiemTraPhieuThuBHYT\\\" style=\\\"font-size: 13px; color: green\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"tabDaThuHuyPhieu($event,1)\\\"> {{tenPhieuThu}} </a>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"px-2 py-3\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"overflow: hidden\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"po-right d-unset\\\" style=\\\"width: 100%\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'disableDiv': kiemTraPhieuThuBHYT}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"container-custom\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutGap=\\\"18px\\\" kendoTooltip>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-radio-button name=\\\"thu-phi\\\" [checked]=\\\"radioThuTien\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Phím tắt: Ctrl+F1\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(change)=\\\"changeValue('thutien')\\\" value=\\\"thutien\\\"> Thu\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttiền </mat-radio-button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-radio-button name=\\\"thu-phi\\\" [checked]=\\\"radioThuTamUng\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Phím tắt: Ctrl+F2\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(change)=\\\"changeValue('thutamung')\\\" value=\\\"thutamung\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tThu tạm ứng </mat-radio-button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"container-custom\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"selectedValueThuPhi === 'thutien'\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div id=\\\"test\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxLayoutGap=\\\"5px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0 text-left\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>Bệnh nhân cần TT: </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong class=\\\"color-red\\\">{{tongTienBNThanhToan\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t|number:'0.2-2':'vi-VN'}}</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-textboxnumeric [max]=\\\"tongTienBNThanhToan\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid=\\\"cong-no-benh-nhan\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(model)]=\\\"thuTien.SoTienCongNo\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[isFormatCurrenly]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(selectMoney)]=\\\"selectMoneyTienMat\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(modelChange)=\\\"modelChangeTienCongNo($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[spinners]=\\\"false\\\" [step]=\\\"100\\\" fxFlex=\\\"100%\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxFlex.sm=\\\"100%\\\" label=\\\"Công nợ NB \\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-textboxnumeric>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-textbox id=\\\"ghi-chu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"thuTien.SoTienCongNo > 0\\\" label=\\\"Ghi chú\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(model)]=\\\"thuTien.NoiDungCongNo\\\"> </app-textbox>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- Áp dụng công nợ mới cho phân thu tiền -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"position: relative\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxLayoutGap=\\\"0 grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<fieldset *ngIf=\\\"!isTienBNTraOrTraBN\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"mb-3\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"text-align: left !important\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<legend>Số Tiền phải trả bệnh nhân\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</legend>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ul class=\\\"inline\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"soTienQuyBHYTTTTrongGoi === 0\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> Tạm ứng - (BN cần TT -\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tCông nợ NB\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)={{soDuTaiKhoanBenhNhan|number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t({{tongTienBNThanhToan|number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{thuTien.SoTienCongNo|number:'0.2-2':'vi-VN'}})=\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"text-font-size-tra-bn\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{soDuTaiKhoanBenhNhan -\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(tongTienBNThanhToan -\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tthuTien.SoTienCongNo)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t|number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"soTienQuyBHYTTTTrongGoi !== 0\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> (Tạm ứng + Hoàn ứng trong\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tgói) - (BN cần TT -\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tCông nợ NB\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)={{soDuTaiKhoanBenhNhan|number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t({{tongTienBNThanhToan|number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{thuTien.SoTienCongNo|number:'0.2-2':'vi-VN'}})=\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"text-font-size-tra-bn\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{(soDuTaiKhoanBenhNhan +\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tsoTienQuyBHYTTTTrongGoi) -\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(tongTienBNThanhToan -\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tthuTien.SoTienCongNo)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t|number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<fieldset *ngIf=\\\"isTienBNTraOrTraBN\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"mb-3\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"text-align: left !important\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<legend>Số Tiền phải thu bệnh nhân\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</legend>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"mt-2\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ul class=\\\"inline\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"soTienQuyBHYTTTTrongGoi === 0\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> (BN cần TT - Công nợ\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tNB ) - Tạm ứng =\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t({{tongTienBNThanhToan\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t|number:'0.2-2':'vi-VN'}} -\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{thuTien.SoTienCongNo|number:'0.2-2':'vi-VN'}})\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{soDuTaiKhoanBenhNhan|number:'0.2-2':'vi-VN'}}=\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"text-font-size-thu-tien-bn\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ tienPhaiTraBenhNhan\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t|number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"soTienQuyBHYTTTTrongGoi !== 0\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> (BN cần TT - Công nợ\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tNB ) - Tạm ứng - Hoàn ứng\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttrong gói =\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t({{tongTienBNThanhToan\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t|number:'0.2-2':'vi-VN'}} -\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{thuTien.SoTienCongNo|number:'0.2-2':'vi-VN'}})\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{soDuTaiKhoanBenhNhan|number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t-\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{soTienQuyBHYTTTTrongGoi|number:'0.2-2':'vi-VN'}}=\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"text-font-size-thu-tien-bn\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ tienPhaiTraBenhNhan\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t|number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- Áp dụng công nợ mới cho phân thu tiền -->\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- hình thức thanh toán nếu nó ở thu tiền show 3 giá trị tương ứng -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-multiselect\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"isTienBNTraOrTraBN && tienPhaiTraBenhNhan !== 0\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(model)]=\\\"setDefeautTienMat\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[modelText]=\\\"hinhThucThanhToan.DisplayName\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxFlex=\\\"100%\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[style.display]=\\\"tongTienBNThanhToan < 0 ? 'none' : 'block'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxFlex.sm=\\\"100%\\\" label=\\\"Hình thức thanh toán\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[required]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(valueChange)=\\\"selectionChangeHinhThucThanhToan($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[data]=\\\"hinhThucThanhToan\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[validationerror]=\\\"'HinhThucThanhToan' | validationerror:validationErrors\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-multiselect>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- hình thức thanh toán -->\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- 3 hình thức tương ứng nếu chọn bên hình thức thanh toán tương ứng ta cho nhâp số tiền -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-textboxnumeric\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"isTienBNTraOrTraBN && flagCheckSeletedTienMat && tienPhaiTraBenhNhan !== 0\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[readonly]=\\\"checkSeletedTienMat\\\" id=\\\"so-tien\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(model)]=\\\"thuTien.TienMat\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[isFormatCurrenly]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(selectMoney)]=\\\"selectMoneyTienMat\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(modelChange)=\\\"modelChangeTienMat($event , 1)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[spinners]=\\\"false\\\" [step]=\\\"100\\\" fxFlex=\\\"100%\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxFlex.sm=\\\"100%\\\" label=\\\"Tiền mặt\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[validationerror]=\\\"'TienMat' | validationerror:validationErrors\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[required]=\\\"true\\\"> </app-textboxnumeric>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-textboxnumeric\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"isTienBNTraOrTraBN && flagCheckSeletedChuyenKhoan && tienPhaiTraBenhNhan !== 0\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[readonly]=\\\"checkSeletedChuyenKhoan\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid=\\\"chuyen-khoan\\\" [step]=\\\"100\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(selectMoney)]=\\\"selectMoneyTienChuyenKhoan\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[isFormatCurrenly]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(modelChange)=\\\"modelChangeChuyenKhoan($event , 2)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[spinners]=\\\"false\\\" [(model)]=\\\"thuTien.ChuyenKhoan\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Chuyển khoản\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[validationerror]=\\\"'ChuyenKhoan' | validationerror:validationErrors\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[required]=\\\"true\\\"> </app-textboxnumeric>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-textboxnumeric\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"isTienBNTraOrTraBN && flagCheckSeletedPos && tienPhaiTraBenhNhan !== 0\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid=\\\"pos\\\" [readonly]=\\\"checkSeletedPos\\\" fxFlex=\\\"100%\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxFlex.sm=\\\"100%\\\" label=\\\"POS\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(selectMoney)]=\\\"selectMoneyTienPos\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(modelChange)=\\\"modelChangePos($event , 3)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[spinners]=\\\"false\\\" [isFormatCurrenly]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[step]=\\\"100\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[validationerror]=\\\"'POS' | validationerror:validationErrors\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(model)]=\\\"thuTien.POS\\\" [required]=\\\"true\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-textboxnumeric>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- <app-textboxnumeric\\n                                                                    *ngIf=\\\"isTienBNTraOrTraBN && flagCheckSeletedCongNo\\\"\\n                                                                    [readonly]=\\\"checkSeletedCongNo\\\"\\n                                                                    [readonly]=\\\"checkSeletedPos\\\"\\n                                                                    (modelChange)=\\\"modelChangeCongNo($event , 4)\\\"\\n                                                                    id=\\\"cong-no\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                                                                    [spinners]=\\\"false\\\" [(model)]=\\\"thuTien.SoTienCongNo\\\"\\n                                                                    [isFormatCurrenly]=\\\"true\\\" label=\\\"Công nợ\\\">\\n                                                                </app-textboxnumeric> -->\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p style=\\\"margin-top: -6px ;\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"showCanhBaoSoTienNhap\\\" class=\\\"color-red\\\">Số\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttiền nhập không đúng số tiền thu.</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-------------------------------------------------------------------------------------->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-textboxnumeric\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"isTienBNTraOrTraBN && flagCheckSeletedTienMat && tienPhaiTraBenhNhan !== 0\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[style.display]=\\\"tongTienBNThanhToan < 0 ? 'none' : 'block'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid=\\\"benh-nhan-dua\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(model)]=\\\"thuTien.TienBenhNhanDua\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[spinners]=\\\"false\\\" [step]=\\\"100\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(modelChange)=\\\"modelChangeTienBNDua($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(selectMoney)]=\\\"selectMoneyTienBNDua\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[isFormatCurrenly]=\\\"true\\\" [min]=\\\"0\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(keyup)=\\\"changeValueTienBenhNhanDua($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tlabel=\\\"Người bệnh đưa\\\"> </app-textboxnumeric>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-textboxnumeric\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"isTienBNTraOrTraBN && flagCheckSeletedTienMat && tienPhaiTraBenhNhan !== 0\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[style.display]=\\\"tongTienBNThanhToan < 0 ? 'none' : 'block'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tid=\\\"tra-lai\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[spinners]=\\\"false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(model)]=\\\"thuTien.TienTraLaiBenhNhan\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[readonly]=\\\"true\\\" [isFormatCurrenly]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tlabel=\\\"Trả lại\\\"> </app-textboxnumeric>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-datepicker id=\\\"ngay-thu\\\" fxFlex=\\\"100%\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxFlex.sm=\\\"100%\\\" label=\\\"Ngày thu\\\" [readonly]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(model)]=\\\"thuTien.NgayThu\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[validationerror]=\\\"'NgayThu' | validationerror:validationErrors\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[required]=\\\"true\\\" [required]=\\\"true\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-datepicker>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-textbox id=\\\"noi-dung-thu\\\" fxFlex=\\\"100%\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxFlex.sm=\\\"100%\\\" label=\\\"Nội dung thu\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(model)]=\\\"thuTien.NoiDungThu\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[validationerror]=\\\"'NoiDungThu' | validationerror:validationErrors\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmaxlength=\\\"10000\\\" [required]=\\\"true\\\"> </app-textbox>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div fxFlex=\\\"100%\\\" fxLayout=\\\"row\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"9px\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"padding-thu-tien\\\" kendoTooltip>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- <button *ngIf=\\\"ktQTBHYTTheoGoi\\\" type=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"thuKemDichVuTrongGoi()\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Thu kèm Dv Trong Gói\\\" color=\\\"primary\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmat-raised-button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Thu kèm Dv Trong Gói</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</button> -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" mat-raised-button\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"xemBangKeNgoaiTruChoThu()\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Bảng kê ngoại trú chờ thu\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcolor=\\\"primary\\\" class=\\\"mr-2\\\">Bảng kê ngoại trú\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tchờ thu</button>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"thanhToanKemDichVuTrongGoi()\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Phím tắt: Ctrl+S\\\" color=\\\"primary\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmat-raised-button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"tongTienBNThanhToan >= 0\\\"> Thu\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttiền</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"tongTienBNThanhToan < 0\\\"> Thanh\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttoán</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"container-custom\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"selectedValueThuPhi === 'thutamung'\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-chi-tiet-thu-tien-tam-ung\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(afterChanged)=\\\"dataSourceChangedTamUng=false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[dataSourceChangedTamUng]=\\\"dataSourceChangedTamUng\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[SoTienThanhToanDV]=\\\"tongTienBNThanhToan\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[HoTenBenhNhan]=\\\"thongTinBenhNhan.HoTen\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(tienTrongTaiKhoan)=\\\"tienTrongTaiKhoan($event)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-chi-tiet-thu-tien-tam-ung>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</kendo-splitter-pane>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<kendo-splitter-pane *ngIf=\\\"titleActive=== 'Quyết toán gói marketing'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[collapsible]=\\\"true\\\" size=\\\"25%\\\" class=\\\"sticky-panelbar\\\" style=\\\"top: 0;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"kiemTraPhieuThuGoiBHYT && tenPhieuThuGoi != undefined && tenPhieuThuGoi != null \\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"color: red; font-weight: 800\\\">Vui lòng hủy phiếu thu gói\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t:</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a *ngIf=\\\"kiemTraPhieuThuGoiBHYT\\\" style=\\\"font-size: 13px; color: green\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"tabDaThuHuyPhieu($event , 2)\\\"> {{tenPhieuThuGoi}} </a>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"px-2 py-3\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"overflow: hidden\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"po-right d-unset\\\" style=\\\"width: 100%\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'disableDiv': kiemTraPhieuThuGoiBHYT}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"container-custom\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"selectedValueThuPhi === 'thutien'\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div id=\\\"test\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxLayoutGap=\\\"5px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0 text-left\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>Số tiền: </strong><strong\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"color-red\\\">{{tongTienBNThanhToan\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t|number:'0.2-2':'vi-VN'}}</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-datepicker id=\\\"ngay-thu\\\" fxFlex=\\\"100%\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxFlex.sm=\\\"100%\\\" label=\\\"Ngày quyết toán\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[readonly]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(model)]=\\\"chiTienQuyetToan.NgayThu\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[validationerror]=\\\"'NgayThu' | validationerror:validationErrors\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[required]=\\\"true\\\" [required]=\\\"true\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-datepicker>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-textbox id=\\\"noi-dung-thu\\\" fxFlex=\\\"100%\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxFlex.sm=\\\"100%\\\" label=\\\"Nội dung thu quyết toán\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(model)]=\\\"chiTienQuyetToan.NoiDungThu\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[validationerror]=\\\"'NoiDungThu' | validationerror:validationErrors\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmaxlength=\\\"10000\\\" [required]=\\\"true\\\"> </app-textbox>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div fxFlex=\\\"100%\\\" fxLayout=\\\"row\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"9px\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"padding-thu-tien\\\" kendoTooltip>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" mat-raised-button\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"xemBangKeNgoaiTruTrongGoiChoThu()\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Bảng kê ngoại trú chờ thu\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcolor=\\\"primary\\\" class=\\\"mr-2\\\">Bảng kê ngoại trú\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tchờ thu</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"quyetToanDichVuTrongGoiCoBHYT()\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Quyết toán\\\" color=\\\"primary\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmat-raised-button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Quyết toán</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</kendo-splitter-pane>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- Danh sách thu thu tiền -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<kendo-splitter-pane style=\\\"overflow: initial\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\" fxLayoutGap=\\\"10px\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"position: absolute; right:0;width: 75%;font-size: 15px;vertical-align: middle;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong class=\\\"color-red\\\" *ngIf=\\\"ktCoPhieuThuCongNo\\\">Người bệnh có phiếu thu công nợ</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"position: absolute; right:0;width: 100%;vertical-align: middle;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button *ngIf=\\\"chuyenVaoNoiTru\\\" type=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"ChuyenVaoNoiTru()\\\" style=\\\"z-index: 9999\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Chuyển BN vào nội trú\\\" color=\\\"warn\\\" mat-raised-button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Chuyển BN vào nội trú</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"soTienQuyBHYTTTTrongGoi > 0\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tHoàn ứng trong gói:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"color-green\\\">{{soTienQuyBHYTTTTrongGoi\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t|number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> Tạm ứng: </strong> <strong\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"color-green\\\">{{soDuTaiKhoanBenhNhan |\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnumber:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<kendo-tabstrip fxFlex=\\\"100%\\\" class=\\\"content-has-border has-padding\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(tabSelect)=\\\"onTabSelect($event)\\\" #tabDanhSachThuTien>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- tab đã thu  -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<kendo-tabstrip-tab [title]=\\\"'Chưa thu'\\\" [selected]=\\\"tabActive===1\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"dsCoDichVuCanThu && loaiThanhToan === true\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template kendoTabTitle>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div kendoTooltip title=\\\"Phím tắt: Ctrl + F6\\\"></div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template kendoTabContent>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-ds-chua-thu-tien (afterChanged)=\\\"dataSourceChanged=false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(afterChangedCongNo)=\\\"apDungCongNo=false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(afterapDungMiemGiam)=\\\"apDungMiemGiam=false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(kiemTraDSCongNo)=\\\"kiemTraDSCongNo($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[dataSourceChanged]=\\\"dataSourceChanged\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[apDungCongNo]=\\\"apDungCongNo\\\" [position]=\\\"position\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[thongTinCongTyBaoHiemTuNhans]=\\\"thongTinBenhNhantam\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(afterapDungCNTT)=\\\"apCapNhatThanhToan=false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[apCapNhatThanhToan]=\\\"apCapNhatThanhToan\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[apDungMiemGiam]=\\\"apDungMiemGiam\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(loadingCTThanhCong)=\\\"loadingCTThanhCong($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(afterApDungHuyThanhCong)=\\\"afterApDungHuyThanhCong($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[thongTinMienGiamVos]=\\\"thongTinMienGiamVo\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(danhSachChuaThanhToan)=\\\"danhSachChuaThanhToan($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(kiemTraDanhSachXNBHYT)=\\\"kiemTraDanhSachXNBHYT($event)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-ds-chua-thu-tien>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</kendo-tabstrip-tab>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- Quyết toán gói marketing -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<kendo-tabstrip-tab [title]=\\\"'Quyết toán gói marketing'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[selected]=\\\"tabActive===2\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"loaiThanhToan === true && ktQTBHYTTheoGoi === true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tkendoTooltip>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template kendoTabTitle>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div kendoTooltip title=\\\"Quyết toán gói marketing\\\"></div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template kendoTabContent>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-danh-sach-goi-bhyt-chua-quyet-toan\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(afterChanged)=\\\"dataSourceChangedTrongGoi=false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(afterChangedCongNo)=\\\"apDungCongNoTrongGoi=false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[dataSourceChanged]=\\\"dataSourceChangedTrongGoi\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[apDungCongNo]=\\\"apDungCongNoTrongGoi\\\" [position]=\\\"position\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[thongTinCongTyBaoHiemTuNhans]=\\\"thongTinBenhNhantam\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[yeuCauTiepNhanId]=\\\"idYeuCauTiepNhan\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(luuTamChiPhiThanhCongTrongGoi)=\\\"luuTamChiPhiThanhCongTrongGoi($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(danhSachGoiCoBHYT)=\\\"danhSachGoiCoBHYT($event)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-danh-sach-goi-bhyt-chua-quyet-toan>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</kendo-tabstrip-tab>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- tab đã thu  -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<kendo-tabstrip-tab [title]=\\\"'Đã thu'\\\" [selected]=\\\"tabActive===3\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"loaiThanhToan === true\\\" kendoTooltip>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template kendoTabTitle>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div kendoTooltip title=\\\"Phím tắt: Ctrl + F7\\\"></div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template kendoTabContent>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-thong-tin-phieu-thu-ngoai-tru [phieuThuId]=\\\"xemPhieuThuId\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(huyThanhCong)=\\\"huyThanhCong($event)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-thong-tin-phieu-thu-ngoai-tru>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</kendo-tabstrip-tab>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</kendo-tabstrip>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</kendo-splitter-pane>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</kendo-splitter>\\n\\t\\t\\t\\t\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<ng-template #actionTemplateSTCongNo let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"2px\\\">\\n\\t\\t\\t\\t<app-textboxnumeric class=\\\"no-label p-0\\\" label=\\\" \\\" [step]=\\\"100\\\" fxFlex=\\\"50%\\\"\\n\\t\\t\\t\\t\\t[disabled]=\\\"loaiThanhToan === false && kiemTraThongTinBaoHiemTN === true\\\"\\n\\t\\t\\t\\t\\t[(model)]=\\\"dataItem.SoTienCongNo\\\" (keyup)=\\\"onKeyCongNo($event, dataItem.SoTienCongNo, dataItem.Id)\\\"\\n\\t\\t\\t\\t\\tdecimals=\\\"2\\\" [format]=\\\"format\\\" min=\\\"0.00\\\"> </app-textboxnumeric>\\n\\t\\t\\t\\t<button color=\\\"primary\\\" fxFlex=\\\"auto\\\" mat-raised-button mat-button\\n\\t\\t\\t\\t\\t[disabled]=\\\"loaiThanhToan === false &&  kiemTraThongTinBaoHiemTN === true\\\"\\n\\t\\t\\t\\t\\t(click)=\\\"apDungCongNoCongTyBHTN(dataItem.SoTienCongNo,dataItem.Id)\\\" cdkFocusInitial>Áp dụng</button>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template #actionTemplateSubmitCongNo let-dataItem let-rowIndex=\\\"rowIndex\\\"> </ng-template>\\n\\t</vex-page-layout-content>\\n</vex-page-layout>\\n\"","export default \"<div id=\\\"test\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"5px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t<span fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0 text-left\\\">\\n\\t\\t<strong>Cần tạm ứng tối thiểu: </strong>\\n\\t\\t<strong class=\\\"color-red\\\">{{soTienTamUngToiThieu | number:'0.2-2':'vi-VN'}}</strong>\\n\\t</span>\\n\\t<span fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0 text text-left\\\">\\n\\t\\t<app-textboxnumeric id=\\\"pos\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Số Tiền\\\" \\n\\t\\t\\tstyle=\\\"color: red; font-size: 20px; font-weight: 800; margin-bottom: -20px\\\" [spinners]=\\\"false\\\" [step]=\\\"100\\\"\\n\\t\\t\\t[(selectMoney)]=\\\"selectMoneyPos\\\" [isFormatCurrenly]=\\\"true\\\" (modelChange)=\\\"onValueChangeSoTienTamUng($event)\\\"\\n\\t\\t\\t[(model)]=\\\"tongSoTienTamUng\\\" [required]=\\\"true\\\"> </app-textboxnumeric>\\n\\t</span>\\n\\t<app-multiselect [(model)]=\\\"setDefeautTienMat\\\" [modelText]=\\\"hinhThucThanhToan.DisplayName\\\" fxFlex=\\\"100%\\\"\\n\\t\\tfxFlex.sm=\\\"100%\\\" label=\\\"Hình thức thanh toán\\\" [required]=\\\"true\\\" (valueChange)=\\\"evtHinhThucThanhToanChanged($event)\\\"\\n\\t\\t[data]=\\\"hinhThucThanhToan\\\"> </app-multiselect>\\n\\t<app-textboxnumeric *ngIf=\\\"flagCheckSeletedTienMat\\\" id=\\\"so-tien\\\" [(model)]=\\\"thuTienTamUng.TienMat\\\" fxFlex=\\\"100%\\\"\\n\\t\\tfxFlex.sm=\\\"100%\\\" label=\\\"Tiền mặt\\\" [(selectMoney)]=\\\"selectMoney\\\"\\n\\t\\t(modelChange)=\\\"evtTienMatChanged($event,1)\\\" [isFormatCurrenly]=\\\"true\\\" [spinners]=\\\"false\\\"\\n\\t\\t[validationerror]=\\\"'TienMat' | validationerror:validationErrors\\\" [step]=\\\"100\\\" [required]=\\\"true\\\">\\n\\t</app-textboxnumeric>\\n\\t<app-textboxnumeric *ngIf=\\\"flagCheckSeletedChuyenKhoan\\\" id=\\\"chuyen-khoan\\\" [(model)]=\\\"thuTienTamUng.ChuyenKhoan\\\"\\n\\t\\t fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Chuyển khoản\\\" [spinners]=\\\"false\\\"\\n\\t\\t[isFormatCurrenly]=\\\"true\\\" [step]=\\\"100\\\" [(selectMoney)]=\\\"selectMoneyChuyenKhoan\\\"\\n\\t\\t(modelChange)=\\\"evtChuyenKhoanChanged($event,2)\\\" [validationerror]=\\\"'ChuyenKhoan' | validationerror:validationErrors\\\"\\n\\t\\t[required]=\\\"true\\\"> </app-textboxnumeric>\\n\\t<app-textboxnumeric *ngIf=\\\"flagCheckSeletedPos\\\" id=\\\"pos\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"POS\\\"\\n\\t\\t [validationerror]=\\\"'POS' | validationerror:validationErrors\\\" [spinners]=\\\"false\\\"\\n\\t\\t[step]=\\\"100\\\" [(selectMoney)]=\\\"selectMoneyPos\\\" [isFormatCurrenly]=\\\"true\\\" \\n\\t\\t(modelChange)=\\\"evtPOSChanged($event,3)\\\"\\n\\t\\t[(model)]=\\\"thuTienTamUng.POS\\\" [required]=\\\"true\\\"> </app-textboxnumeric>\\n\\t<app-textboxnumeric *ngIf=\\\"flagCheckSeletedTienMat\\\" id=\\\"benh-nhan-dua\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [step]=\\\"100\\\"\\n\\t\\t[isFormatCurrenly]=\\\"true\\\" (keyup)=\\\"changeValueTienBenhNhanDua($event)\\\" [spinners]=\\\"false\\\"\\n\\t\\t(modelChange)=\\\"modelChangeTienTamUngBNDua($event)\\\" [(selectMoney)]=\\\"selectMoneyTienTamUngBNDua\\\"\\n\\t\\t[(model)]=\\\"thuTienTamUng.TienBenhNhanDua\\\" label=\\\"Người bệnh đưa\\\"> </app-textboxnumeric>\\n\\t<app-textboxnumeric *ngIf=\\\"flagCheckSeletedTienMat\\\" id=\\\"tra-lai\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Trả lại\\\"\\n\\t\\t[readonly]=\\\"true\\\" [isFormatCurrenly]=\\\"true\\\" [step]=\\\"100\\\" [spinners]=\\\"false\\\"\\n\\t\\t[(model)]=\\\"thuTienTamUng.TienTraLaiBenhNhan\\\"> </app-textboxnumeric>\\n\\t<app-datepicker id=\\\"ngay-thu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Ngày thu\\\" [readonly]=\\\"true\\\"\\n\\t\\t[(model)]=\\\"thuTienTamUng.NgayThuTamUng\\\" [validationerror]=\\\"'NgayThu' | validationerror:validationErrors\\\"\\n\\t\\t[required]=\\\"true\\\" [required]=\\\"true\\\"> </app-datepicker>\\n\\t<app-textbox id=\\\"noi-dung-thu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Nội dung thu\\\"\\n\\t\\t[(model)]=\\\"thuTienTamUng.NoiDungThuTamUng\\\"\\n\\t\\t[validationerror]=\\\"'NoiDungThuTamUng' | validationerror:validationErrors\\\" maxlength=\\\"10000\\\" [required]=\\\"true\\\">\\n\\t</app-textbox>\\n\\t<div fxFlex=\\\"100%\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"padding-thu-tien\\\">\\n\\t\\t<button type=\\\"button\\\" (click)=\\\"ThuTienTamUng()\\\" color=\\\"primary\\\" mat-raised-button>Thu tiền</button>\\n\\t</div>\\n</div>\"","export default \"<app-grid [sort]=\\\"sortConfig\\\" [pageSize]=\\\"_pageSize\\\" baseRoute=\\\"/danh-sach-thu-dich-vu\\\"\\n\\t[gridColumns]=\\\"gridThuNganColumns\\\" [useActionDefault]=\\\"false\\\" [keyCode]=\\\"keyCode\\\" [lazyLoadPage]=\\\"true\\\"\\n\\turlGetData=\\\"ThuNgan/GetDataForGridAsync\\\" urlGetTotalPage=\\\"ThuNgan/GetTotalPageForGridAsync\\\"\\n\\t[useHeaderDefault]=\\\"false\\\" #gridList [headerTemplate]=\\\"headerTemplate\\\" heightToolbar=\\\"250\\\" [checkboxAble]=\\\"false\\\"\\n\\t[documentType]=\\\"documentType\\\" (extEnterChangePage)=\\\"extEnterChangePage($event)\\\"\\n\\t[additionalSearchString]=\\\"queryStrings\\\"> </app-grid>\\n<ng-template #headerTemplate>\\n\\t<div class=\\\"bg-app-bar px-3 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n\\t\\t<div class=\\\"bg-card rounded-full border px-4\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\"\\n\\t\\t\\tfxLayoutAlign=\\\"start center\\\" style=\\\"margin-top: 2px;\\\" kendoTooltip>\\n\\t\\t\\t<ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n\\t\\t\\t<input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n\\t\\t\\t\\ttype=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"searchString\\\" (keyup)=\\\"onKey($event)\\\"\\n\\t\\t\\t\\t(ngModelChange)=\\\"searchChanges($event)\\\" placeholder=\\\"Nhập từ khóa(Mã NB,Tên NB,Năm sinh)...\\\" />\\n\\t\\t\\t<button (click)=\\\"QuetMaQRCodeClick()\\\" color=\\\"primary\\\" mat-mini-fab type=\\\"button\\\"\\n\\t\\t\\t\\tclass=\\\"button-barcoe-in-search\\\" kendoTooltip title=\\\"Quét mã vạch thẻ\\\" title=\\\"Phím tắt: Ctrl + Q\\\">\\n\\t\\t\\t\\t<img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t\\t<button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\" (click)=\\\"clearSearch()\\\">\\n\\t\\t\\t<mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n\\t\\t</button>\\n\\t\\t<button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\" (click)=\\\"clearSearch()\\\">\\n\\t\\t\\t<mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n\\t\\t</button>\\n\\t\\t<div fxFlex=\\\"54%\\\" fxFlex.sm=\\\"54%\\\">\\n\\t\\t<!-- đóng lại khách hàng ko muốn change muốn enter\\t(modelChange)=\\\"thoiDiemTNChange()\\\" -->\\n\\t\\t\\t<app-datetimepicker fxFlex=\\\"210px\\\" [(model)]=\\\"choThuTien.ThoiDiemTiepNhanTuFormat\\\" #tiepnhantu\\n\\t\\t\\t\\tid=\\\"ThoiDiemTiepNhanTuFormat\\\"  label=\\\"Tiếp nhận từ\\\"\\n\\t\\t\\t\\tclass=\\\"ml-2 on-header\\\" (keyup)=\\\"onKey($event)\\\"> </app-datetimepicker>\\n\\t\\t\\t<app-datetimepicker fxFlex=\\\"210px\\\" [(model)]=\\\"choThuTien.ThoiDiemTiepNhanDenFormat\\\" #tiepnhanden\\n\\t\\t\\t\\tid=\\\"ThoiDiemTiepNhanDenFormat\\\"  label=\\\"Tiếp nhận đến\\\"\\n\\t\\t\\t\\tclass=\\\"ml-2 on-header\\\" (keyup)=\\\"onKey($event)\\\"> </app-datetimepicker>\\n\\t\\t\\t<button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"TimkiemNangCao()\\\" class=\\\"ml-2\\\" mat-raised-button>Tìm</button>\\n\\t\\t</div>\\n\\t</div>\\n</ng-template>\\n<ng-template #actionTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t<div kendoTooltip *ngIf=\\\"dataItem.TrangThai  === trangThaiThuTien.ChuaThu \\\">\\n\\t\\t<strong class=\\\"text-color\\\">Chưa thanh toán xong</strong>\\n\\t</div>\\n\\t<div kendoTooltip *ngIf=\\\"dataItem.TrangThai === trangThaiThuTien.TraNo\\\">\\n\\t\\t<strong class=\\\"text-color-blue\\\">Công nợ</strong>\\n\\t</div>\\n\\t<div kendoTooltip *ngIf=\\\"dataItem.TrangThai === trangThaiThuTien.HoanUng\\\">\\n\\t\\t<strong class=\\\"text-color-blue\\\">Hoàn ứng</strong>\\n\\t</div>\\n\\t<div kendoTooltip *ngIf=\\\"dataItem.TrangThai === trangThaiThuTien.DaThu\\\">\\n\\t\\t<strong class=\\\"text-color-blue\\\">Đã thu</strong>\\n\\t</div>\\n</ng-template>\\n<ng-template #coNhapVienTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t<div kendoTooltip *ngIf=\\\"dataItem.YeuCauNhapVien === true\\\">\\n\\t\\t<app-checkbox value=\\\"true\\\" [disabled]=\\\"true\\\" [model]=\\\"dataItem.YeuCauNhapVien\\\" class=\\\"pl-2\\\">\\n\\t\\t</app-checkbox>\\n\\t</div>\\n</ng-template>\\n<ng-template #templateTextSoTienChoXacNhan let-dataItem>\\n\\t<strong class=\\\"text-color\\\"> {{dataItem.SoTienBNPhaiTT | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #templateTextSoTienDaXacNhan let-dataItem>\\n\\t<strong class=\\\"text-color-blue\\\"> {{dataItem.SoTienBNDaTT | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #templateTextSoTienDaTamUng let-dataItem>\\n\\t<strong> {{dataItem.SoTienTamUng | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #templateTextSoDuTK let-dataItem>\\n\\t<strong> {{dataItem.SoTienDuTaiKhoan | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #templateSTT let-dataItem let-i=\\\"rowIndex\\\">\\n\\t<strong>{{i + 1}}</strong>\\n</ng-template>\\n<ng-template #maTNTemplate let-dataItem>\\n\\t<a *ngIf=\\\"dataItem.ChuaThu === true\\\" (click)=\\\"thongTinChiTietThanhToan(dataItem.Id, dataItem)\\\">{{dataItem.MaTN}}</a>\\n\\t<a *ngIf=\\\"dataItem.ChuaThu === false\\\"\\n\\t\\t(click)=\\\"thongTinChiTietThanhToan(dataItem.Id , dataItem)\\\">{{dataItem.MaTN}}</a>\\n</ng-template>\\n<app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\" style=\\\"display: none;\\\"></app-barcode>\"","export default \"<app-grid [sort]=\\\"sortConfig\\\" [pageSize]=\\\"_pageSize\\\" baseRoute=\\\"/danh-sach-thu-dich-vu\\\" heightToolbar=\\\"250\\\"\\n\\t[gridColumns]=\\\"gridThuNganColumns\\\" [useActionDefault]=\\\"false\\\" [keyCode]=\\\"keyCode\\\" [lazyLoadPage]=\\\"true\\\"\\n\\turlGetData=\\\"ThuNgan/GetDataThuTienDaHoanThanhForGridAsync\\\"\\n\\turlGetTotalPage=\\\"ThuNgan/GetTotalThuTienDaHoanThanhPageForGridAsync\\\" [useHeaderDefault]=\\\"false\\\" #gridList\\n\\t[headerTemplate]=\\\"headerTemplate\\\" [checkboxAble]=\\\"false\\\" [documentType]=\\\"documentType\\\"\\n\\t(extEnterChangePage)=\\\"extEnterChangePage($event)\\\" [additionalSearchString]=\\\"queryStrings\\\"> </app-grid>\\n<ng-template #headerTemplate>\\n\\t<div class=\\\"bg-app-bar px-3 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n\\t\\t<div class=\\\"bg-card rounded-full border px-4\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\"\\n\\t\\t\\tfxLayoutAlign=\\\"start center\\\" style=\\\"margin-top: 2px;\\\" kendoTooltip>\\n\\t\\t\\t<ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n\\t\\t\\t<input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n\\t\\t\\t\\ttype=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"searchString\\\" (keyup)=\\\"onKey($event)\\\"\\n\\t\\t\\t\\t(ngModelChange)=\\\"searchChanges($event)\\\" placeholder=\\\"Nhập từ khóa(Mã NB,Tên NB,Năm sinh)...\\\" />\\n\\t\\t\\t<button (click)=\\\"QuetMaQRCodeClick()\\\" color=\\\"primary\\\" mat-mini-fab type=\\\"button\\\"\\n\\t\\t\\t\\tclass=\\\"button-barcoe-in-search\\\" kendoTooltip title=\\\"Quét mã vạch thẻ\\\" title=\\\"Phím tắt: Ctrl + Q\\\">\\n\\t\\t\\t\\t<img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t\\t<button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\" (click)=\\\"clearSearch()\\\">\\n\\t\\t\\t<mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n\\t\\t</button>\\n\\t\\t<button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\" (click)=\\\"clearSearch()\\\">\\n\\t\\t\\t<mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n\\t\\t</button>\\n\\t\\t<div fxFlex=\\\"54%\\\" fxFlex.sm=\\\"54%\\\">\\n\\t\\t\\t<!-- đóng lại khách hàng ko muốn change muốn enter\\t(modelChange)=\\\"thoiDiemTNChange()\\\" -->\\t\\t\\n\\t\\t\\t<app-datetimepicker fxFlex=\\\"210px\\\" [(model)]=\\\"choThuTien.ThoiDiemTiepNhanTuFormat\\\" #tiepnhantu\\n\\t\\t\\t\\tid=\\\"ThoiDiemTiepNhanTuFormat\\\" label=\\\"Tiếp nhận từ\\\" class=\\\"ml-2 on-header\\\" (keyup)=\\\"onKey($event)\\\">\\n\\t\\t\\t</app-datetimepicker>\\n\\t\\t\\t<app-datetimepicker fxFlex=\\\"210px\\\" [(model)]=\\\"choThuTien.ThoiDiemTiepNhanDenFormat\\\" #tiepnhanden\\n\\t\\t\\t\\tid=\\\"ThoiDiemTiepNhanDenFormat\\\" label=\\\"Tiếp nhận đến\\\" class=\\\"ml-2 on-header\\\" (keyup)=\\\"onKey($event)\\\">\\n\\t\\t\\t</app-datetimepicker>\\n\\t\\t\\t<button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"TimkiemNangCao()\\\" class=\\\"ml-2\\\" mat-raised-button>Tìm</button>\\n\\t\\t</div>\\n\\t</div>\\n</ng-template>\\n<ng-template #actionTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t<div kendoTooltip *ngIf=\\\"dataItem.TrangThai  === trangThaiThuTien.ChuaThu \\\">\\n\\t\\t<strong class=\\\"text-color\\\">Chưa thanh toán xong</strong>\\n\\t</div>\\n\\t<div kendoTooltip *ngIf=\\\"dataItem.TrangThai === trangThaiThuTien.TraNo\\\">\\n\\t\\t<strong class=\\\"text-color-blue\\\">Công nợ</strong>\\n\\t</div>\\n\\t<div kendoTooltip *ngIf=\\\"dataItem.TrangThai === trangThaiThuTien.HoanUng\\\">\\n\\t\\t<strong class=\\\"text-color-blue\\\">Hoàn ứng</strong>\\n\\t</div>\\n\\t<div kendoTooltip *ngIf=\\\"dataItem.TrangThai === trangThaiThuTien.DaThu\\\">\\n\\t\\t<strong class=\\\"text-color-blue\\\">Đã thu</strong>\\n\\t</div>\\n</ng-template>\\n<ng-template #templateTextSoTienChoXacNhan let-dataItem>\\n\\t<strong class=\\\"text-color\\\"> {{dataItem.SoTienBNPhaiTT | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #templateTextSoTienDaXacNhan let-dataItem>\\n\\t<strong class=\\\"text-color-blue\\\"> {{dataItem.SoTienBNDaTT | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #templateTextSoTienDaTamUng let-dataItem>\\n\\t<strong> {{dataItem.SoTienTamUng | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #templateTextSoDuTK let-dataItem>\\n\\t<strong> {{dataItem.SoTienDuTaiKhoan | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #templateSTT let-dataItem let-i=\\\"rowIndex\\\">\\n\\t<strong>{{i + 1}}</strong>\\n</ng-template>\\n<ng-template #maTNTemplate let-dataItem>\\n\\t<a *ngIf=\\\"dataItem.ChuaThu === true\\\" (click)=\\\"thongTinChiTietThanhToan(dataItem.Id, dataItem)\\\">{{dataItem.MaTN}}</a>\\n\\t<a *ngIf=\\\"dataItem.ChuaThu === false\\\"\\n\\t\\t(click)=\\\"thongTinChiTietThanhToan(dataItem.Id , dataItem)\\\">{{dataItem.MaTN}}</a>\\n</ng-template>\\n<app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\" style=\\\"display: none;\\\"></app-barcode>\"","export default \"<kendo-grid [data]=\\\"gridData\\\" [resizable]=\\\"true\\\"  [selectable]=\\\"{enabled: true, checkboxOnly: true}\\\" class=\\\"grid-custom\\\" id=\\\"danhSachGoiDVGrid\\\"  height=\\\"541\\\">\\n\\t<kendo-grid-column field=\\\"\\\" title=\\\"\\\" width=\\\"25\\\" [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\"> </kendo-grid-column>\\t\\n\\t<kendo-grid-column field=\\\"\\\" title=\\\"#\\\" width=\\\"15\\\" [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\"> {{rowIndex + 1}} </ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"Ma\\\" title=\\\"Mã\\\" width=\\\"50\\\" [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\" kendoTooltip>\\n\\t\\t\\t\\t<span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.Ma}}\\\"> {{dataItem.Ma}} </span>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"Nhom\\\" title=\\\"Nhóm\\\" width=\\\"60\\\" [hidden]=\\\"true\\\" [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\" class=\\\"k-grouping-row p\\\">\\n\\t\\t<ng-template kendoGridGroupHeaderTemplate let-group let-field=\\\"field\\\" let-value=\\\"value\\\">\\n\\t\\t\\t{{value}}\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"TenDichVu\\\" title=\\\"Tên Dịch Vụ\\\" width=\\\"100\\\" [style]=\\\"{'text-align': 'left'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"center end\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\" kendoTooltip>\\n\\t\\t\\t\\t<p class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.TenDichVu}}\\\">{{dataItem.TenDichVu}}</p>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n\\t\\t\\t<div class=\\\"text-center\\\" style=\\\"font-weight: bold;color:#000;\\\" kendoTooltip title=\\\"Tổng cộng DV đang chọn\\\">Tổng cộng:</div>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"LoaiGia\\\" title=\\\"Loại Giá\\\" width=\\\"60\\\" [style]=\\\"{'text-align': 'left'}\\\" [headerStyle]=\\\"{'text-align': 'left'}\\\"> </kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"Soluong\\\" title=\\\"Số Lượng\\\" width=\\\"50\\\" [style]=\\\"{'text-align': 'right'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\"> </kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"DonGia\\\" title=\\\"Đơn Giá\\\" width=\\\"100\\\" [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.DonGia | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"ThanhTien\\\" title=\\\"Thành Tiền\\\" width=\\\"90\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.ThanhTien.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\" style=\\\"text-align: center\\\">\\n\\t\\t\\t<span style=\\\"float: right;\\\">{{total('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"BHYTThanhToan\\\" title=\\\"BHYT\\\" width=\\\"100\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">\\n                <div *ngIf=\\\"dataItem.DuocHuongBHYT !== true\\\">{{ dataItem.BHYTThanhToan | number:'0.2-2':'vi-VN'}}</div>\\n                <div *ngIf=\\\"dataItem.DuocHuongBHYT === true\\\">\\n                    {{ dataItem.BHYTThanhToan | number:'0.2-2':'vi-VN'}}\\n                    <ic-icon *ngIf=\\\"dataItem.KiemTraBHYTXacNhan===true\\\" [icon]=\\\"icCheck\\\" class=\\\"size-icon-duoc-bhyt mr-3\\\"\\n                        inline=\\\"true\\\"> </ic-icon>\\n                    <ic-icon *ngIf=\\\"dataItem.KiemTraBHYTXacNhan !==true\\\" [icon]=\\\"icCheck\\\" class=\\\"size-icon-khong-bhyt mr-3\\\"\\n                        inline=\\\"true\\\"> </ic-icon>\\n                </div>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.BHYTThanhToan.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\t\\n        <ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\" style=\\\"text-align: center\\\">\\n\\t\\t\\t<span style=\\\"float: right;\\\">{{total('BHYTThanhToan') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\n\\t<kendo-grid-column-group [style]=\\\"{'text-align': 'center'}\\\" *ngFor=\\\"let col of danhSachCongNoChoThus\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<div>\\n\\t\\t\\t<ng-template kendoGridHeaderTemplate let-columnIndex=\\\"columnIndex\\\" let-column=\\\"column\\\">\\n\\t\\t\\t\\t<div class=\\\"text-center\\\">Công nợ</div>\\n\\t\\t\\t</ng-template>\\n\\t\\t</div>\\n\\t\\t<kendo-grid-column *ngFor=\\\"let col1 of col.CongNoChoThus\\\" width=\\\"100\\\" [style]=\\\"{'text-align': 'center'}\\\" title=\\\"{{col1.TenCongTy}}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"5px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" fxLayoutAlign=\\\"space-between\\\" \\n                      *ngIf=\\\"dataItem.DanhSachCongNoChoThus[col1.ViTri].SoTienCongNoChoThu!=undefined\\\">\\n\\t\\t\\t\\t\\t  <app-textboxnumeric class=\\\"no-label\\\" [step]=\\\"100\\\" decimals=\\\"2\\\" [format]=\\\"format\\\" min=\\\"0.00\\\"\\n\\t\\t\\t\\t\\t  [(model)]=\\\"dataItem.DanhSachCongNoChoThus[col1.ViTri].SoTienCongNoChoThu\\\"\\n\\t\\t\\t\\t\\t  (modelChange)=\\\"modelChangeCongNo($event , dataItem ,col1.ViTri)\\\">\\n\\t\\t\\t\\t  </app-textboxnumeric>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</ng-template>\\n\\t\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t\\t<div class=\\\"float_right\\\">{{totalCongno( col1.CongTyBaoHiemTuNhanId ,group) | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t</ng-template>\\n\\t\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\" style=\\\"text-align: center\\\">\\n\\t\\t\\t\\t<span class=\\\"float_right\\\">{{totalCongnoFooter( col1.CongTyBaoHiemTuNhanId) | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t\\t</ng-template>\\n\\t\\t</kendo-grid-column>\\n\\t</kendo-grid-column-group>\\n\\n    <kendo-grid-column field=\\\"SoTienQuyetToan\\\" title=\\\"Số Tiền quyết toán\\\" width=\\\"90\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.SoTienQuyetToan | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.SoTienQuyetToan.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\" style=\\\"text-align: center\\\">\\n\\t\\t\\t<span style=\\\"float: right;\\\">{{total('SoTienQuyetToan') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\n    <kendo-grid-column field=\\\"NoiThucHien\\\" title=\\\"Nơi thực hiện\\\" width=\\\"80\\\" [style]=\\\"{'text-align': 'left'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\" kendoTooltip>\\n\\t\\t\\t\\t<span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.NoiThucHien}}\\\"> {{dataItem.NoiThucHien}} </span>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-messages noRecords=\\\"Không có dữ liệu.\\\" pagerOf=\\\"trong số\\\" pagerItems=\\\"dòng\\\" detailExpand=\\\"Mở rộng chi tiết\\\" detailCollapse=\\\"Thu gọn chi tiết\\\"> </kendo-grid-messages>\\n</kendo-grid>\\n\\n<div class=\\\"sticky-button-action py-3 text-right\\\" kendoTooltip>\\n\\t<div style=\\\"float: left;\\\">\\n        <button (click)=\\\"BackToList()\\\" type=\\\"button\\\" mat-button class=\\\"mr-2\\\">Quay lại</button>\\n\\t</div>\\n\\t<button type=\\\"button\\\" *ngIf=\\\"gridData != undefined && gridData != null && gridData.data.length > 0\\\" mat-raised-button (click)=\\\"luuTamChiPhiTrongGoiNgoaiTru()\\\" title=\\\"Lưu tạm chi phí trong gói\\\" color=\\\"primary\\\">Lưu tạm chi phí trong gói</button>\\n</div>\\n\"","export default \"<app-grid [sort]=\\\"sortConfig\\\" [pageSize]=\\\"_pageSize\\\" baseRoute=\\\"/danh-sach-thu-dich-vu\\\"\\n\\t[gridColumns]=\\\"gridThuNganColumns\\\" [useActionDefault]=\\\"false\\\" [keyCode]=\\\"keyCode\\\" [lazyLoadPage]=\\\"true\\\"\\n\\turlGetData=\\\"ThuNgan/GetDataThuPhiNgoaiTruForGridAsync\\\"\\n\\turlGetTotalPage=\\\"ThuNgan/GetTotalThuPhiNgoaiTruPageForGridAsync\\\" [useHeaderDefault]=\\\"false\\\" #gridList\\n\\t[headerTemplate]=\\\"headerTemplate\\\" heightToolbar=\\\"250\\\" [checkboxAble]=\\\"false\\\" [documentType]=\\\"documentType\\\"\\n\\t(extEnterChangePage)=\\\"extEnterChangePage($event)\\\" [additionalSearchString]=\\\"queryStrings\\\"> </app-grid>\\n\\n<ng-template #headerTemplate>\\n\\t<div class=\\\"bg-app-bar px-3 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n\\t\\t<div class=\\\"bg-card rounded-full border px-4\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\"\\n\\t\\t\\tfxLayoutAlign=\\\"start center\\\" style=\\\"margin-top: 2px;\\\" kendoTooltip>\\n\\t\\t\\t<ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n\\t\\t\\t<input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n\\t\\t\\t\\ttype=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"searchString\\\" (keyup)=\\\"onKey($event)\\\"\\n\\t\\t\\t\\t(ngModelChange)=\\\"searchChanges($event)\\\" placeholder=\\\"Họ tên, Mã BN, Mã TN\\\" />\\n\\t\\t\\t<button (click)=\\\"QuetMaQRCodeClick()\\\" color=\\\"primary\\\" mat-mini-fab type=\\\"button\\\"\\n\\t\\t\\t\\tclass=\\\"button-barcoe-in-search\\\" kendoTooltip title=\\\"Quét mã vạch thẻ\\\" title=\\\"Phím tắt: Ctrl + Q\\\">\\n\\t\\t\\t\\t<img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\n\\t\\t<!-- Năm, MaTN , SDT -->\\n\\t\\t<div fxFlex=\\\"26%\\\" fxFlex.sm=\\\"26%\\\">\\n\\t\\t\\t<app-textboxnumeric fxFlex=\\\"210px\\\" [(model)]=\\\"choThuTien.NamSinh\\\" id=\\\"nam\\\" label=\\\"Năm sinh\\\"\\n\\t\\t\\t\\tstyle=\\\"margin-top: 1px;\\\" class=\\\"ml-2  on-header\\\" (keyup)=\\\"onKey($event)\\\" format=\\\"0\\\" min=\\\"1\\\" max=\\\"9999\\\">\\n\\t\\t\\t</app-textboxnumeric>\\n\\t\\t\\t<!-- <app-textbox fxFlex=\\\"210px\\\" [(model)]=\\\"choThuTien.MaTN\\\" id=\\\"maTN\\\" label=\\\"Mã TN\\\" class=\\\"ml-2 on-header\\\"\\n\\t\\t\\t\\t(keyup)=\\\"onKey($event)\\\">\\n\\t\\t\\t</app-textbox> -->\\n\\t\\t\\t<app-textboxmask id=\\\"sdt\\\" fxFlex=\\\"210px\\\" label=\\\"Số điện thoại\\\" class=\\\"ml-2 on-header\\\"\\n\\t\\t\\t\\t(keyup)=\\\"onKey($event)\\\" style=\\\"margin-top: 1px;\\\" [(model)]=\\\"choThuTien.DienThoaiStr\\\" mask=\\\"000 000 0000\\\"\\n\\t\\t\\t\\tmaxlength=\\\"12\\\">\\n\\t\\t\\t</app-textboxmask>\\n\\t\\t</div>\\n\\n\\t\\t<button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\" (click)=\\\"clearSearch()\\\">\\n\\t\\t\\t<mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n\\t\\t</button>\\n\\n\\t\\t<div fxFlex=\\\"54%\\\" fxFlex.sm=\\\"54%\\\">\\n\\t\\t\\t<!-- đóng lại khách hàng ko muốn change muốn enter\\t(modelChange)=\\\"thoiDiemTNChange()\\\" -->\\n\\t\\t\\t<app-datetimepicker fxFlex=\\\"210px\\\" [(model)]=\\\"choThuTien.ThoiDiemTiepNhanTuFormat\\\" #tiepnhantu\\n\\t\\t\\t\\tid=\\\"ThoiDiemTiepNhanTuFormat\\\" label=\\\"Tiếp nhận từ\\\" class=\\\"ml-2 on-header\\\" (keyup)=\\\"onKey($event)\\\">\\n\\t\\t\\t</app-datetimepicker>\\n\\t\\t\\t<app-datetimepicker fxFlex=\\\"210px\\\" [(model)]=\\\"choThuTien.ThoiDiemTiepNhanDenFormat\\\" #tiepnhanden\\n\\t\\t\\t\\tid=\\\"ThoiDiemTiepNhanDenFormat\\\" label=\\\"Tiếp nhận đến\\\" class=\\\"ml-2 on-header\\\" (keyup)=\\\"onKey($event)\\\">\\n\\t\\t\\t</app-datetimepicker>\\n\\t\\t\\t<button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"TimkiemNangCao()\\\" class=\\\"ml-2\\\" mat-raised-button>Tìm</button>\\n\\t\\t</div>\\n\\t</div>\\n</ng-template>\\n<ng-template #actionTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t<div kendoTooltip *ngIf=\\\"dataItem.TrangThai  === trangThaiThuTien.ChuaThu \\\">\\n\\t\\t<strong class=\\\"text-color\\\">Chưa thanh toán xong</strong>\\n\\t</div>\\n\\t<div kendoTooltip *ngIf=\\\"dataItem.TrangThai === trangThaiThuTien.TraNo\\\">\\n\\t\\t<strong class=\\\"text-color-blue\\\">Công nợ</strong>\\n\\t</div>\\n\\t<div kendoTooltip *ngIf=\\\"dataItem.TrangThai === trangThaiThuTien.HoanUng\\\">\\n\\t\\t<strong class=\\\"text-color-blue\\\">Hoàn ứng</strong>\\n\\t</div>\\n\\t<div kendoTooltip *ngIf=\\\"dataItem.TrangThai === trangThaiThuTien.DaThu\\\">\\n\\t\\t<strong class=\\\"text-color-blue\\\">Đã thu</strong>\\n\\t</div>\\n</ng-template>\\n<ng-template #templateTextSoTienChoXacNhan let-dataItem>\\n\\t<strong class=\\\"text-color\\\"> {{dataItem.SoTienBNPhaiTT | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #templateTextSoTienDaXacNhan let-dataItem>\\n\\t<strong class=\\\"text-color-blue\\\"> {{dataItem.SoTienDaThu | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #templateTextSoTienDaTamUng let-dataItem>\\n\\t<strong> {{dataItem.SoTienTamUng | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #templateTextSoDuTK let-dataItem>\\n\\t<strong> {{dataItem.SoTienDuTaiKhoan | number:'0.2-2':'vi-VN'}}</strong>\\n</ng-template>\\n<ng-template #templateSTT let-dataItem let-i=\\\"rowIndex\\\">\\n\\t<strong>{{i + 1}}</strong>\\n</ng-template>\\n<ng-template #coNhapVienTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t<div kendoTooltip *ngIf=\\\"dataItem.YeuCauNhapVien === true\\\">\\n\\t\\t<app-checkbox value=\\\"true\\\" [disabled]=\\\"true\\\" [model]=\\\"dataItem.YeuCauNhapVien\\\" class=\\\"pl-2\\\">\\n\\t\\t</app-checkbox>\\n\\t</div>\\n</ng-template>\\n<ng-template #maTNTemplate let-dataItem>\\n\\t<a *ngIf=\\\"dataItem.ChuaThu === true\\\" (click)=\\\"thongTinChiTietThanhToan(dataItem.Id, dataItem)\\\">{{dataItem.MaTN}}</a>\\n\\t<a *ngIf=\\\"dataItem.ChuaThu === false\\\"\\n\\t\\t(click)=\\\"thongTinChiTietThanhToan(dataItem.Id , dataItem)\\\">{{dataItem.MaTN}}</a>\\n</ng-template>\\n<app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\" style=\\\"display: none;\\\"></app-barcode>\"","export default \"<vex-page-layout>\\n\\t<vex-page-layout-header class=\\\"pb-16\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n\\t\\t<div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n\\t\\t\\t<vex-breadcrumbs [crumbs]=\\\"[\\n\\t\\t\\t{Title:'Thu Ngân',Path:''},\\n\\t\\t\\t{Title:'Viện phí ngoại trú',Path:'',Active:true}]\\\"> </vex-breadcrumbs>\\n\\t\\t\\t<app-hot-key [keys]=\\\"[{Key:'Esc',Description:'Hủy', End:true}]\\\"></app-hot-key>\\n\\t\\t</div>\\n\\t</vex-page-layout-header>\\n\\n\\t<vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n\\t\\t<div @fadeInUp class=\\\"-mt-16\\\">\\n\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n\\t\\t\\t\\t<div class=\\\"card\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\" style=\\\"position: relative;\\\" *ngIf=\\\"choThuTien!=null\\\">\\n\\t\\t\\t\\t\\t\\t<kendo-tabstrip #tabStrip (tabSelect)=\\\"onTabSelect($event)\\\" fxFlex=\\\"100%\\\"\\n\\t\\t\\t\\t\\t\\t\\tclass=\\\"content-has-border\\\">\\n\\t\\t\\t\\t\\t\\t\\t<kendo-tabstrip-tab [selected]=\\\"choThuTien.TabActive === 0\\\" [title]=\\\"'Thu phí ngoại trú'\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ng-template kendoTabContent>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-danh-sach-thu-phi-ngoai-tru></app-danh-sach-thu-phi-ngoai-tru>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t</kendo-tabstrip-tab>\\n\\t\\t\\t\\t\\t\\t\\t<kendo-tabstrip-tab [selected]=\\\"choThuTien.TabActive === 1\\\" [title]=\\\"'Danh sách chưa thu'\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ng-template kendoTabContent>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-danh-sach-cho-thu-tien-benh-nhan></app-danh-sach-cho-thu-tien-benh-nhan>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t</kendo-tabstrip-tab>\\n\\t\\t\\t\\t\\t\\t\\t<kendo-tabstrip-tab [selected]=\\\"choThuTien.TabActive === 2\\\" [title]=\\\"'Danh sách đã thu'\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ng-template kendoTabContent>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-danh-sach-da-thu-tien-benh-nhan></app-danh-sach-da-thu-tien-benh-nhan>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t</kendo-tabstrip-tab>\\n\\t\\t\\t\\t\\t\\t</kendo-tabstrip>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</vex-page-layout-content>\\n</vex-page-layout>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>DỊCH VỤ KHUYẾN MẠI KÈM THEO GÓI</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<div *ngFor=\\\"let item of danhSachDichVuKhuyenMaiBenhNhan; let i = index\\\">\\n    <strong style=\\\"color: green;font-size: 15px;\\\" class=\\\"mt-3 mb-3\\\">{{item.TenGoi}}</strong>\\n    <app-grid [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\"\\n        [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"true\\\" [autoHeight]=\\\"true\\\" [lazyLoadPage]=\\\"true\\\" #gridList\\n        [gridDataSource]=\\\"{data:item.DanhSachDichVuTrongGoiKhuyenMais, total: 0}\\\" style=\\\"width: 1px;\\\"  \\n        (extCheckboxSelection)=\\\"extCheckboxSelection($event)\\\"\\n        [masterName]='item.Id' [groups]=\\\"groups\\\" [pageable]=\\\"false\\\" [showStt]=\\\"true\\\">\\n    </app-grid>\\n</div>\\n\\n<ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n    <strong>{{value}}</strong>\\n</ng-template>\\n\\n<ng-template #goiGiaTemplate let-dataItem>\\n    {{dataItem.GoiGia | number:'0.2-2':'vi-VN'}}\\n</ng-template>\\n<ng-template #donGiaTemplate let-dataItem>\\n    {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n</ng-template>\\n<ng-template #donGiaKMTemplate let-dataItem>\\n    {{dataItem.DonGiaKM | number:'0.2-2':'vi-VN'}}\\n</ng-template>\\n<ng-template #thanhTienTemplate let-dataItem>\\n    {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n</ng-template>\\n<ng-template #soTienMGTemplate let-dataItem>\\n    {{dataItem.SoTienMG | number:'0.2-2':'vi-VN'}}\\n</ng-template>\\n\\n\\n<div class=\\\"sticky-button-action py-3 text-right mt-5\\\" kendoTooltip>\\n    <div *ngIf=\\\"danhSachDichVuKhuyenMaiBenhNhan !== undefined && danhSachDichVuKhuyenMaiBenhNhan != null\\\"\\n        class=\\\"sticky-button-action text-right mt-3\\\" kendoTooltip>\\n        <button type=\\\"button\\\" (click)=\\\"apDung()\\\" title=\\\"Thu Tiền\\\" color=\\\"primary\\\" mat-raised-button>\\n            <span>Áp dụng</span>\\n        </button>\\n    </div>\\n</div>\"","export default \"<kendo-grid [data]=\\\"gridData\\\" [resizable]=\\\"true\\\" [kendoGridSelectBy]=\\\"keySelectBy\\\"\\n\\t[selectable]=\\\"{enabled: true, checkboxOnly: true}\\\" class=\\\"grid-custom\\\" id=\\\"danhSachChuaThuTienGrid\\\"\\n\\t[rowClass]=\\\"rowCallback\\\" height=\\\"541\\\">\\n\\t<kendo-grid-column field=\\\"\\\" title=\\\"\\\" width=\\\"25\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\"> </kendo-grid-column>\\n\\t<kendo-grid-checkbox-column width=\\\"30\\\">\\n\\t\\t<ng-template kendoGridHeaderTemplate>\\n\\t\\t\\t<input class=\\\"k-checkbox\\\" id=\\\"selectAllCheckboxId\\\" kendoGridSelectAllCheckbox [state]=\\\"selectAllState\\\"\\n\\t\\t\\t\\t(selectAllChange)=\\\"onSelectAllChange($event)\\\" />\\n\\t\\t\\t<label class=\\\"k-checkbox-label\\\" for=\\\"selectAllCheckboxId\\\"></label>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div *ngIf=\\\"dataItem.DuocHuongBHYT === true\\\">\\n\\t\\t\\t\\t<input class=\\\"k-checkbox\\\" id=\\\"selectCheckboxId{{dataItem[keySelectBy]}}\\\" [(ngModel)]=\\\"checkboxOnly\\\"\\n\\t\\t\\t\\t\\t*ngIf=\\\"dataItem.KiemTraBHYTXacNhan === true\\\"\\n\\t\\t\\t\\t\\t[style.display]=\\\"dataItem.LoaiNhom == 6 ? 'none' : 'block'\\\" [kendoGridSelectionCheckbox]=\\\"rowIndex\\\"\\n\\t\\t\\t\\t\\t[checked]=\\\"dataItem.CheckedDefault\\\"\\n\\t\\t\\t\\t\\t(change)=\\\"onSelectChangeCheckbox($event,dataItem[keySelectBy])\\\" />\\n\\t\\t\\t\\t<label class=\\\"k-checkbox-label\\\" for=\\\"selectCheckboxId{{dataItem[keySelectBy]}}\\\"\\n\\t\\t\\t\\t\\t[style.display]=\\\"dataItem.LoaiNhom == 6 ? 'none' : 'block'\\\"></label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div *ngIf=\\\"dataItem.DuocHuongBHYT === false\\\">\\n\\t\\t\\t\\t<input class=\\\"k-checkbox\\\" id=\\\"selectCheckboxId{{dataItem[keySelectBy]}}\\\" [(ngModel)]=\\\"checkboxOnly\\\"\\n\\t\\t\\t\\t\\t[style.display]=\\\"dataItem.LoaiNhom == 6 ? 'none' : 'block'\\\" [kendoGridSelectionCheckbox]=\\\"rowIndex\\\"\\n\\t\\t\\t\\t\\t[checked]=\\\"dataItem.CheckedDefault\\\"\\n\\t\\t\\t\\t\\t(change)=\\\"onSelectChangeCheckbox($event,dataItem[keySelectBy])\\\" />\\n\\t\\t\\t\\t<label class=\\\"k-checkbox-label\\\" for=\\\"selectCheckboxId{{dataItem[keySelectBy]}}\\\"\\n\\t\\t\\t\\t\\t[style.display]=\\\"dataItem.LoaiNhom == 6 ? 'none' : 'block'\\\"></label>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-checkbox-column>\\n\\t<kendo-grid-column field=\\\"\\\" title=\\\"#\\\" width=\\\"15\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\"> {{rowIndex + 1}} </ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"Ma\\\" title=\\\"Mã\\\" width=\\\"50\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\" kendoTooltip>\\n\\t\\t\\t\\t<span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.Ma}}\\\"> {{dataItem.Ma}} </span>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"Nhom\\\" title=\\\"Nhóm\\\" width=\\\"60\\\" [hidden]=\\\"true\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\" class=\\\"k-grouping-row p\\\">\\n\\t\\t<ng-template kendoGridGroupHeaderTemplate let-group let-field=\\\"field\\\" let-value=\\\"value\\\">\\n\\t\\t\\t<app-checkbox id=\\\"nhomThuoc_{{group.items[0].Id}}\\\" value=\\\"true\\\" label=\\\"\\\" [(model)]=\\\"duyetBaoHiemYT\\\"\\n\\t\\t\\t\\t[disabled]=\\\"disabledDuyetBaoHiemYT\\\" *ngIf=\\\"group.items[0].LoaiNhom == 6\\\"\\n\\t\\t\\t\\t(modelChange)=\\\"ChangCheckboxToaThuoc( $event , group.items)\\\"> </app-checkbox>\\n\\n\\t\\t\\t{{value}}\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"TenDichVu\\\" title=\\\"Tên Dịch Vụ\\\" width=\\\"100\\\" [style]=\\\"{'text-align': 'left'}\\\"\\n\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridFilterCellTemplate let-filter let-column=\\\"column\\\">\\n\\t\\t\\t<kendo-grid-string-filter-cell [column]=\\\"column\\\" [filter]=\\\"filter\\\">\\n\\t\\t\\t</kendo-grid-string-filter-cell>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"center end\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\" kendoTooltip>\\n\\t\\t\\t\\t<p class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.TenDichVu}}\\\">{{dataItem.TenDichVu}}</p>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n\\t\\t\\t<div class=\\\"text-center\\\" style=\\\"font-weight: bold;color:#000;\\\" kendoTooltip title=\\\"Tổng cộng DV đang chọn\\\">\\n\\t\\t\\t\\tTổng cộng:</div>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"LoaiGia\\\" title=\\\"Loại Giá\\\" width=\\\"60\\\" [style]=\\\"{'text-align': 'left'}\\\"\\n\\t\\t[headerStyle]=\\\"{'text-align': 'left'}\\\"> </kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"Soluong\\\" title=\\\"Số Lượng\\\" width=\\\"50\\\" [style]=\\\"{'text-align': 'right'}\\\"\\n\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\"> </kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"DonGia\\\" title=\\\"Đơn Giá\\\" width=\\\"100\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.DonGia | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"ThanhTien\\\" title=\\\"Thành Tiền\\\" width=\\\"90\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.ThanhTien.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\" style=\\\"text-align: center\\\">\\n\\t\\t\\t<span style=\\\"float: right;\\\">{{total('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"BHYTThanhToan\\\" title=\\\"BHYT TT\\\" width=\\\"100\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">\\n\\t\\t\\t\\t<div *ngIf=\\\"dataItem.DuocHuongBHYT !== true\\\">{{ dataItem.BHYTThanhToan | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t\\t<div *ngIf=\\\"dataItem.DuocHuongBHYT === true\\\">\\n\\t\\t\\t\\t\\t{{ dataItem.BHYTThanhToan | number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t<ic-icon *ngIf=\\\"dataItem.KiemTraBHYTXacNhan===true\\\" [icon]=\\\"icCheck\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"size-icon-duoc-bhyt mr-3\\\" inline=\\\"true\\\"> </ic-icon>\\n\\t\\t\\t\\t\\t<ic-icon *ngIf=\\\"dataItem.KiemTraBHYTXacNhan !==true\\\" [icon]=\\\"icCheck\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"size-icon-khong-bhyt mr-3\\\" inline=\\\"true\\\"> </ic-icon>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.BHYTThanhToan.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\" style=\\\"text-align: center\\\">\\n\\t\\t\\t<span style=\\\"float: right\\\">{{total('BHYTThanhToan') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column-group [style]=\\\"{'text-align': 'center'}\\\" *ngFor=\\\"let col of danhSachCongNoChoThus\\\"\\n\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<div>\\n\\t\\t\\t<ng-template kendoGridHeaderTemplate let-columnIndex=\\\"columnIndex\\\" let-column=\\\"column\\\">\\n\\t\\t\\t\\t<div class=\\\"text-center\\\">Công nợ</div>\\n\\t\\t\\t</ng-template>\\n\\t\\t</div>\\n\\t\\t<kendo-grid-column *ngFor=\\\"let col1 of col.CongNoChoThus\\\" width=\\\"100\\\" [style]=\\\"{'text-align': 'center'}\\\"\\n\\t\\t\\ttitle=\\\"{{col1.TenCongTy}}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"5px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n\\t\\t\\t\\t\\tfxLayoutAlign=\\\"space-between\\\"\\n\\t\\t\\t\\t\\t*ngIf=\\\"dataItem.DanhSachCongNoChoThus[col1.ViTri].SoTienCongNoChoThu!=undefined\\\">\\n\\t\\t\\t\\t\\t<app-textboxnumeric class=\\\"no-label\\\" [step]=\\\"100\\\" decimals=\\\"2\\\" [format]=\\\"format\\\" min=\\\"0.00\\\"\\n\\t\\t\\t\\t\\t\\t[(model)]=\\\"dataItem.DanhSachCongNoChoThus[col1.ViTri].SoTienCongNoChoThu\\\"\\n\\t\\t\\t\\t\\t\\t(modelChange)=\\\"modelChangeCongNo($event , dataItem ,col1.ViTri)\\\"\\n\\t\\t\\t\\t\\t\\t[disabled]=\\\"!dataItem.CheckedDefault\\\">\\n\\t\\t\\t\\t\\t</app-textboxnumeric>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</ng-template>\\n\\t\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t\\t<div class=\\\"float_right\\\">{{totalCongno( col1.CongTyBaoHiemTuNhanId ,group) | number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</ng-template>\\n\\t\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\" style=\\\"text-align: center\\\">\\n\\t\\t\\t\\t<span class=\\\"float_right\\\">{{totalCongnoFooter( col1.CongTyBaoHiemTuNhanId) |\\n\\t\\t\\t\\t\\tnumber:'0.2-2':'vi-VN'}}</span>\\n\\t\\t\\t</ng-template>\\n\\t\\t</kendo-grid-column>\\n\\t</kendo-grid-column-group>\\n\\t<kendo-grid-column field=\\\"SoTienMG\\\" title=\\\"Số tiền MG\\\" width=\\\"130\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridHeaderTemplate let-columnIndex=\\\"columnIndex\\\" let-column=\\\"column\\\">\\n\\t\\t\\tSố tiền MG\\n\\t\\t\\t<mat-icon style=\\\"margin-top: 10px;cursor: pointer;\\\" [icIcon]=\\\"icRoundEdit\\\" (click)=\\\"apDungMiemGiamThem()\\\">\\n\\t\\t\\t</mat-icon>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">\\n\\t\\t\\t\\t<div style=\\\"cursor: pointer;\\\">\\n\\t\\t\\t\\t\\t{{ dataItem.SoTienMG | number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t<ic-icon [icon]=\\\"icRoundEdit\\\" class=\\\"mr-3\\\" inline=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t(click)=\\\"apDungMiemGiamChoTungDichVu(dataItem)\\\"> </ic-icon>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t<div style=\\\"margin-right: 28px;\\\" class=\\\"float_right\\\">{{aggregates.SoTienMG.sum | number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n\\t\\t\\t<span style=\\\"margin-right: 28px;\\\" class=\\\"float_right\\\">{{total('SoTienMG') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"DaThanhToan\\\" title=\\\"Đã TT\\\" width=\\\"90\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.DaThanhToan | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.DaThanhToan.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n\\t\\t\\t<span style=\\\"float: right\\\">{{total('DaThanhToan') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"BNConPhaiThanhToan\\\" title=\\\"BN còn phải TT\\\" width=\\\"90\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div *ngIf=\\\"dataItem.CapNhatThanhToan == true || dataItem.BNConPhaiThanhToan >= 0\\\" class=\\\"float_right\\\">{{\\n\\t\\t\\t\\tdataItem.BNConPhaiThanhToan | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t\\t<div *ngIf=\\\"dataItem.CapNhatThanhToan == false && dataItem.BNConPhaiThanhToan < 0\\\"\\n\\t\\t\\t\\tstyle=\\\"color:red;float: right\\\">\\n\\t\\t\\t\\t{{ dataItem.BNConPhaiThanhToan | number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t<mat-icon [icIcon]=\\\"icInfo\\\" kendoTooltip title=\\\"Số tiền bạn nhập không đúng.\\\"> </mat-icon>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.BNConPhaiThanhToan.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n\\t\\t\\t<span style=\\\"color:red;float: right\\\">{{total('BNConPhaiThanhToan') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"NoiThucHien\\\" title=\\\"Nơi thực hiện\\\" width=\\\"80\\\" [style]=\\\"{'text-align': 'left'}\\\"\\n\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\" kendoTooltip>\\n\\t\\t\\t\\t<span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.NoiThucHien}}\\\"> {{dataItem.NoiThucHien}} </span>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"ThoiDiemChiDinhStr\\\" title=\\\"Thời điểm chỉ định\\\" width=\\\"80\\\" [style]=\\\"{'text-align': 'left'}\\\"\\n\\t\\t[headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\" kendoTooltip>\\n\\t\\t\\t\\t<span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.ThoiDiemChiDinhStr}}\\\">\\n\\t\\t\\t\\t\\t{{dataItem.ThoiDiemChiDinhStr}} </span>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-messages noRecords=\\\"Không có dữ liệu.\\\" pagerOf=\\\"trong số\\\" pagerItems=\\\"dòng\\\"\\n\\t\\tdetailExpand=\\\"Mở rộng chi tiết\\\" detailCollapse=\\\"Thu gọn chi tiết\\\"> </kendo-grid-messages>\\n</kendo-grid>\\n\\n<div class=\\\"sticky-button-action py-3 text-right\\\" kendoTooltip>\\n\\t<div style=\\\"float: left;\\\">\\n\\t\\t<button (click)=\\\"BackToList()\\\" type=\\\"button\\\" mat-button class=\\\"mr-2\\\">Quay lại</button>\\n\\t</div>\\n\\t<button type=\\\"button\\\" *ngIf=\\\"gridData != undefined && gridData != null && gridData.data.length > 0\\\"\\n\\t\\tmat-raised-button (click)=\\\"xemTruocChiPhi()\\\" title=\\\"Bảng kê chi phí\\\" color=\\\"primary\\\" class=\\\"mr-2\\\">Bảng kê chi\\n\\t\\tphí</button>\\n\\t<button type=\\\"button\\\" *ngIf=\\\"gridData != undefined && gridData != null && gridData.data.length > 0\\\"\\n\\t\\tmat-raised-button (click)=\\\"luuTamChiPhiNgoaitru()\\\" title=\\\"Lưu tạm chi phí\\\" color=\\\"primary\\\">Lưu tạm chi\\n\\t\\tphí</button>\\n\\n</div>\"","export default \"<kendo-grid [data]=\\\"gridDataDaThu\\\" [resizable]=\\\"true\\\" [selectable]=\\\"{enabled: true, checkboxOnly: true}\\\" class=\\\"grid-custom\\\" id=\\\"danhSachDaThuTienGrid\\\" height=\\\"500\\\">\\n\\t<kendo-grid-column field=\\\"\\\" title=\\\"\\\" width=\\\"25\\\" [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\"> </kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"\\\" title=\\\"#\\\" width=\\\"15\\\" [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\"> {{rowIndex + 1}} </ng-template>\\n\\t</kendo-grid-column>\\n\\t<!-- <kendo-grid-column field=\\\"TrangThai\\\" title=\\\"Trạng thái\\\" width=\\\"60\\\" [style]=\\\"{'text-align': 'left'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t<span\\n\\t\\t\\t\\tkendoTooltip\\n\\t\\t\\t\\ttitle=\\\"{{dataItem.TrangThai}}\\\"\\n\\t\\t\\t\\t[ngClass]=\\\"{'blackText': (dataItem.TrangThai == 'Chưa khám' || dataItem.TrangThai == 'Chưa thực hiện' ), \\n                            'orangeText': (dataItem.TrangThai == 'Đang khám' \\n                            || dataItem.TrangThai == 'Đang làm chỉ định'\\n                            || dataItem.TrangThai == 'Đang đợi kết luận'||dataItem.TrangThai == 'Đang thực hiện'),\\n                            'greenText': dataItem.TrangThai == 'Đã khám' || dataItem.TrangThai == 'Đã thực hiện'}\\\">\\n\\t\\t\\t\\t{{dataItem.TrangThai}}\\n\\t\\t\\t</span>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column> -->\\n\\t<kendo-grid-column field=\\\"Ma\\\" title=\\\"Mã\\\" width=\\\"50\\\" [style]=\\\"{'text-align': 'center'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t<span kendoTooltip title=\\\"{{dataItem.Ma}}\\\"> {{dataItem.Ma}} </span>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"Nhom\\\" title=\\\"Nhóm\\\" width=\\\"50\\\" [hidden]=\\\"true\\\" [style]=\\\"{'text-align': 'left'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\" class=\\\"k-grouping-row p\\\">\\n\\t\\t<ng-template kendoGridGroupHeaderTemplate let-group let-field=\\\"field\\\" let-value=\\\"value\\\"> {{value}} </ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"TenDichVu\\\" title=\\\"Tên Dịch Vụ\\\" width=\\\"100\\\" [style]=\\\"{'text-align': 'left'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t<span kendoTooltip title=\\\"{{dataItem.TenDichVu}}\\\"> {{dataItem.TenDichVu}} </span>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n\\t\\t\\t<div class=\\\"text-center\\\" style=\\\"font-weight: bold;color:#000;\\\" kendoTooltip title=\\\"Tổng cộng DV đang chọn\\\">Tổng cộng:</div>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"LoaiGia\\\" title=\\\"Loại Giá\\\" width=\\\"30\\\" [style]=\\\"{'text-align': 'left'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\"> </kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"Soluong\\\" title=\\\"Số Lượng\\\" width=\\\"30\\\" [style]=\\\"{'text-align': 'right'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\"> </kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"DonGia\\\" title=\\\"Đơn Giá\\\" width=\\\"90\\\" [style]=\\\"{'text-align': 'right'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.DonGia | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"ThanhTien\\\" title=\\\"Thành Tiền\\\" width=\\\"100\\\" [headerStyle]=\\\"{'text-align': 'right'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.ThanhTien.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\" style=\\\"text-align: center\\\">\\n\\t\\t\\t<span class=\\\"float_right\\\">{{total('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"BHYTThanhToan\\\" title=\\\"BHYT TT\\\" width=\\\"100\\\" [style]=\\\"{'text-align': 'right'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.BHYTThanhToan | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.BHYTThanhToan.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\" style=\\\"text-align: right\\\">\\n\\t\\t\\t<span style=\\\"float: right;\\\">{{total('BHYTThanhToan') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column width=\\\"90\\\" [style]=\\\"{'text-align': 'right'}\\\" title=\\\"Tổng công nợ\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.TongCongNo | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.TongCongNo.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\" style=\\\"text-align: center\\\">\\n\\t\\t\\t<span style=\\\"float:right;\\\">{{total('TongCongNo') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"SoTienMG\\\" title=\\\"Số tiền MG\\\" width=\\\"120\\\" [style]=\\\"{'text-align': 'right'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">\\n\\t\\t\\t\\t<div inline=\\\"true\\\">\\n\\t\\t\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\" kendoTooltip>\\n\\t\\t\\t\\t\\t\\t<a *ngIf=\\\"dataItem.SoTienMG > 0\\\" class=\\\"reverse-ellipsis r\\\" title=\\\"Xem thông tin miễm giảm\\\" (click)=\\\"ViewThongTinMG(dataItem)\\\">{{ dataItem.SoTienMG | number:'0.2-2':'vi-VN'}}</a>\\n\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"dataItem.SoTienMG === 0\\\">{{ dataItem.SoTienMG | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.SoTienMG.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\" style=\\\"text-align: center\\\">\\n\\t\\t\\t<span style=\\\"float:right;\\\">{{total('SoTienMG') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"DaThanhToan\\\" title=\\\"Đã TT\\\" width=\\\"100\\\" [style]=\\\"{'text-align': 'right'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{ dataItem.DaThanhToan | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridGroupFooterTemplate let-group=\\\"group\\\" let-aggregates=\\\"aggregates\\\">\\n\\t\\t\\t<div class=\\\"float_right\\\">{{aggregates.DaThanhToan.sum | number:'0.2-2':'vi-VN'}}</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template kendoGridFooterTemplate let-column let-columnIndex=\\\"columnIndex\\\">\\n\\t\\t\\t<span style=\\\"float: right;\\\">{{total('DaThanhToan') | number:'0.2-2':'vi-VN'}}</span>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"NoiThucHien\\\" title=\\\"Nơi thực hiện\\\" width=\\\"80\\\" [style]=\\\"{'text-align': 'left'}\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem=\\\"dataItem\\\">\\n\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2\\\" kendoTooltip>\\n\\t\\t\\t\\t<span class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.NoiThucHien}}\\\"> {{dataItem.NoiThucHien}} </span>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-column field=\\\"\\\" title=\\\"\\\" width=\\\"90\\\" [headerStyle]=\\\"{'text-align': 'center'}\\\">\\n\\t\\t<ng-template kendoGridCellTemplate let-dataItem>\\n\\t\\t\\t<button *ngIf=\\\"!dataItem.DaHoanThu && dataItem.DuocHoanThu\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"hoanThu(dataItem)\\\" color=\\\"primary\\\">Hoàn thu</button>\\n\\t\\t</ng-template>\\n\\t</kendo-grid-column>\\n\\t<kendo-grid-messages noRecords=\\\"Không có dữ liệu.\\\" pagerOf=\\\"trong số\\\" pagerItems=\\\"dòng\\\" detailExpand=\\\"Mở rộng chi tiết\\\" detailCollapse=\\\"Thu gọn chi tiết\\\"> </kendo-grid-messages>\\n</kendo-grid>\\n\"","export default \"<vex-page-layout>\\n\\t<vex-page-layout-header class=\\\"pb-16\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n\\t\\t<div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n\\t\\t\\t<vex-breadcrumbs [crumbs]=\\\"[\\n\\t\\t\\t\\t {Title:'Thu Ngân',Path:''},\\n\\t\\t\\t\\t {Title:'Viện phí ngoại trú',Path:''},\\n                 {Title:'DS Đã Thu Dịch Vụ',Path:'/danh-sach-thu-dich-vu', queryParams: {loaiThanhToan : typeThanhToan}, Active:true}             \\n            ]\\\">\\n\\t\\t\\t</vex-breadcrumbs>\\n\\t\\t\\t<app-hot-key [keys]=\\\"[{Key:'Esc',Description:'Quay lại',End:true}]\\\"> </app-hot-key>\\n\\t\\t</div>\\n\\t</vex-page-layout-header>\\n\\n\\t<vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n\\t\\t<div class=\\\"-mt-16\\\">\\n\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n\\t\\t\\t\\t<div class=\\\"card\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\" style=\\\"position: relative;\\\">\\n\\t\\t\\t\\t\\t\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t\\t\\t\\t\\t\\t\\t<fieldset fxFlex=\\\"49.5%\\\" class=\\\"mb-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<legend>Thông tin hành chính</legend>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\" mt-1\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ul class=\\\"inline\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tMã TN:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.MaYeuCauTiepNhan}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tMã NB:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.MaBN}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tHọ Tên:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.HoTen}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tNăm Sinh:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.NamSinh}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tĐịa chỉ:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.DiaChi}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.DiaChi === ''\\\"> Không có </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tSố điện thoại:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.SoDienThoai}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.SoDienThoai === null\\\"> Không có </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tEmail:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.Email}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.Email === null\\\"> Không có </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</fieldset>\\n\\n\\t\\t\\t\\t\\t\\t\\t<fieldset fxFlex=\\\"49.5%\\\" class=\\\"mb-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<legend>Thông tin bảo hiểm y tế</legend>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\" mt-1\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- Thông tin bảo hiểm y tế -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ul class=\\\"inline\\\" *ngIf=\\\"thongTinBenhNhan.CoBHYT ===  true\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tSố thẻ:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.BHYTMaSoThe}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tNgày hiệu lực:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.NgayHieuLucStr}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tNgày hết hạn:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.NgayHetHanStr}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tNơi đăng ký khám BH:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.BHYTDiaChi}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tMức hưởng:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.BHYTMucHuong}}% </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tTuyến khám:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong class=\\\"color-green\\\"> {{thongTinBenhNhan.TuyenKham}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tGiấy chuyển viện:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.TaiLieuDinhKemGiayChuyenVien !== null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a class=\\\"color-green\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"xemTaiLieu(thongTinBenhNhan.TaiLieuDinhKemGiayChuyenVien)\\\">{{thongTinBenhNhan.TenGiayChuyenVien}}</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.TaiLieuDinhKemGiayChuyenVien === null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tKhông có </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tGiấy miễn cùng chi trả:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.TaiLieuDinhKemGiayMiemCungChiTra !== null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a (click)=\\\"xemTaiLieu(thongTinBenhNhan.TaiLieuDinhKemGiayMiemCungChiTra)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"color-green\\\">{{thongTinBenhNhan.TenBHYTgiayMienCungChiTra}}</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.TaiLieuDinhKemGiayMiemCungChiTra === null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tKhông có </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<p *ngIf=\\\"!(thongTinBenhNhan.CoBHYT ===  true)\\\">(Không có)</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t\\t\\t\\t<fieldset fxFlex=\\\"49.5%\\\" class=\\\"mb-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<legend>Thông tin bảo hiểm tư nhân</legend>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\" mt-1\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-grid [gridColumns]=\\\"gridBaoHiemTNs\\\" [useAddDeault]=\\\"false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\" [lazyLoadPage]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[gridDataSource]=\\\"dataSourceDanhSachBHTN\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"kiemTraThongTinBaoHiemTN === true\\\"> </app-grid>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<p *ngIf=\\\"kiemTraThongTinBaoHiemTN === false\\\">(Không có)</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t\\t\\t\\t<fieldset fxFlex=\\\"49.5%\\\" class=\\\"mb-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<legend>Thông tin miễn giảm</legend>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"10px grid\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tfxLayoutGap.lt-sm=\\\"0\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"flagShowDoiTuongUuDai==true\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ul\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"background: rgba(0, 0, 0, 0.04);padding: 7px 10px;border-bottom: 1px solid rgba(0,0,0,0.4);\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tĐối tượng ưu đãi:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"thongTinMienGiamTheoDoiTuongUuDai.DoiTuongUuDai !== null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{thongTinMienGiamTheoDoiTuongUuDai.DoiTuongUuDai}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"thongTinMienGiamTheoDoiTuongUuDai.DoiTuongUuDai === null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tKhông có </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tCông ty ưu đãi:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinMienGiamTheoDoiTuongUuDai.CongTyUudai !== null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{thongTinMienGiamTheoDoiTuongUuDai.CongTyUudai}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinMienGiamTheoDoiTuongUuDai.CongTyUudai === null\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tKhông có </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div fxFlex=\\\"40%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<table width=\\\"100%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"background:rgba(0, 0, 0, 0.04);padding:5px\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Voucher</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"background:rgba(0, 0, 0, 0.04);\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div style=\\\"margin-top: -9px;position: relative;\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfxLayoutAlign=\\\"start center\\\" kendoTooltip>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<kendo-multiselect #multiselect [data]=\\\"listVoucherItem\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"value\\\" [filterable]=\\\"true\\\" [disabled]=\\\"true\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</kendo-multiselect>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button color=\\\"primary\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"position: absolute;right: 3px;top: -10px;\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmat-mini-fab type=\\\"button\\\" class=\\\"button-barcoe-in-search\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tkendoTooltip title=\\\"Quét mã vạch thẻ\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Phím tắt: Ctrl + Q\\\" [disabled]=\\\"true\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div fxFlex=\\\"auto\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-upload id=\\\"Upload\\\" label=\\\"Giấy miễn giảm đính kèm (nếu có)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[model]=\\\"thongTinBenhNhan.TaiLieuDinhKemGiayMiemGiam\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(uploadFileDone)=\\\"uploadFileDone($event)\\\" [disabled]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[allowedExtensions]=\\\"allowedExtensions\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[validationerror]=\\\"'GiayMiemGiam' | validationerror:thuNganValidationErrors\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-upload>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</fieldset>\\n\\n\\t\\t\\t\\t\\t\\t\\t<div fxFlex=\\\"100%\\\" class=\\\"mb-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<fieldset>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<legend>Thông tin thu chi</legend>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a *ngIf=\\\"ktSuDungGoi != undefined && ktSuDungGoi != null\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"chiTietGoiMarketing()\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"z-index: 9999;margin-left: 13px; text-decoration: underline; color: blue\\\">Chi\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttiết gói\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmarketing</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<kendo-splitter>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<kendo-splitter-pane style=\\\"overflow:initial;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"position: absolute;right: 0;\\\"><strong> Tạm ứng: </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong class=\\\"color-green\\\">{{0 | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-thong-tin-phieu-thu-ngoai-tru\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(loadingCtThanhCong)=\\\"loadingCtThanhCong($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(huyThanhCong)=\\\"huyThanhCong($event)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-thong-tin-phieu-thu-ngoai-tru>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</kendo-splitter-pane>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</kendo-splitter>\\n\\t\\t\\t\\t\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<ng-template #actionTemplateSTCongNo let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n\\t\\t\\t<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"2px\\\">\\n\\t\\t\\t\\t<app-textboxnumeric class=\\\"no-label p-0\\\" label=\\\" \\\" [step]=\\\"100\\\" fxFlex=\\\"50%\\\" [disabled]=\\\"true\\\"\\n\\t\\t\\t\\t\\t[(model)]=\\\"dataItem.SoTienCongNo\\\" [isFormatCurrenly]=\\\"true\\\" [spinners]=\\\"false\\\">\\n\\t\\t\\t\\t</app-textboxnumeric>\\n\\t\\t\\t</div>\\n\\t\\t</ng-template>\\n\\t\\t<ng-template #actionTemplateSubmitCongNo let-dataItem let-rowIndex=\\\"rowIndex\\\"> </ng-template>\\n\\t</vex-page-layout-content>\\n</vex-page-layout>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t<fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3\\\">\\n\\t\\t<legend>Thông tin hành chính</legend>\\n\\t\\t<div class=\\\" mt-1\\\">\\n\\t\\t\\t<ul class=\\\"inline\\\">\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tMã TN:\\n\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.MaYeuCauTiepNhan}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tMã NB:\\n\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.MaBN}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tHọ Tên:\\n\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.HoTen}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tNăm Sinh:\\n\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.NamSinh}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tĐịa chỉ:\\n\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.DiaChi}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tSố điện thoại:\\n\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.SoDienThoai}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tEmail:\\n\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.Email}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t</fieldset>\\n\\t<fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3\\\" *ngIf=\\\"thongTinBenhNhan.CoBHYT ===  true\\\">\\n\\t\\t<legend>Thông tin BHYT</legend>\\n\\t\\t<div class=\\\" mt-1\\\">\\n\\t\\t\\t<ul class=\\\"inline\\\">\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tSố thẻ:\\n\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.BHYTMaSoThe}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tNgày hiệu lực:\\n\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.NgayHieuLucStr}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tNgày hết hạn:\\n\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.NgayHetHanStr}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tNơi đăng ký khám BH:\\n\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.BHYTDiaChi}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tMức hưởng:\\n\\t\\t\\t\\t\\t<strong> {{thongTinBenhNhan.BHYTMucHuong}}% </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tTuyến khám:\\n\\t\\t\\t\\t\\t<strong class=\\\"color-green\\\"> {{thongTinBenhNhan.TuyenKham}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tGiấy chuyển viện:\\n\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.TaiLieuDinhKemGiayChuyenVien !== null\\\">\\n\\t\\t\\t\\t\\t\\t<a class=\\\"color-green\\\" (click)=\\\"xemTaiLieu(thongTinBenhNhan.TaiLieuDinhKemGiayChuyenVien)\\\">{{thongTinBenhNhan.TenGiayChuyenVien}}</a>\\n\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.TaiLieuDinhKemGiayChuyenVien === null\\\"> Không có </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tGiấy miễn cùng chi trả:\\n\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.TaiLieuDinhKemGiayMiemCungChiTra !== null\\\">\\n\\t\\t\\t\\t\\t\\t<a (click)=\\\"xemTaiLieu(thongTinBenhNhan.TaiLieuDinhKemGiayMiemCungChiTra)\\\" class=\\\"color-green\\\">{{thongTinBenhNhan.TenBHYTgiayMienCungChiTra}}</a>\\n\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinBenhNhan.TaiLieuDinhKemGiayMiemCungChiTra === null\\\"> Không có </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t</fieldset>\\n</div>\\n\"","export default \"<div id=\\\"phieu-thu\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\t<fieldset fxFlex=\\\"100%\\\" style=\\\"padding: 0 !important\\\">\\n\\t\\t<div class=\\\"mt-1\\\" fxFlex=\\\"100%\\\">\\n\\t\\t\\t<ul fxFlex=\\\"100%\\\">\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t<app-combobox id=\\\"ten-pttt\\\" fxFlex=\\\"47%\\\" fxFlex.sm=\\\"47%\\\" [data]=\\\"dataSoPhieus\\\" label=\\\"Số phiếu\\\"\\n\\t\\t\\t\\t\\t\\t(selectionChange)=\\\"selectionChangeSoPhieu($event)\\\" [autoSelectFirstItem]=\\\"true\\\" [bind]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t[(model)]=\\\"thongTinSoPhieuDaThu.SoPhieuId\\\" [modelText]=\\\"thongTinSoPhieuDaThu.TenSoPhieu\\\"\\n\\t\\t\\t\\t\\t\\t[template]=\\\"soPhieuTemplate\\\" [templateHeader]=\\\"soPhieuTemplateHeader\\\">\\n\\t\\t\\t\\t\\t\\t<ng-template #soPhieuTemplateHeader let-dataItem>\\n\\t\\t\\t\\t\\t\\t\\t<table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th width=\\\"15%\\\" class=\\\"text-center\\\">Số phiếu</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th width=\\\"15%\\\" class=\\\"text-center\\\">Tình trạng</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th width=\\\"15%\\\" class=\\\"text-center\\\">Trong gói </th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th width=\\\"15%\\\" class=\\\"text-center\\\">Loại tạm ứng</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th width=\\\"17%\\\" class=\\\"text-center\\\">Ngày phát sinh</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<th width=\\\"17%\\\" class=\\\"text-center\\\">Người tạo</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t<ng-template #soPhieuTemplate let-dataItem>\\n\\t\\t\\t\\t\\t\\t\\t<table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\" width=\\\"15%\\\">{{dataItem.DisplayName}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\" width=\\\"15%\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"dataItem.TinhTrang === trangThaiThuTienBenhNhan.Huy \\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong style=\\\"color: red\\\"> {{dataItem.TinhTrang}}</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\" width=\\\"15%\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"dataItem.TinhTrang !== trangThaiThuTienBenhNhan.Huy \\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong style=\\\"color: green\\\"> {{dataItem.TinhTrang}}</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\" width=\\\"15%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-checkbox *ngIf=\\\"dataItem.TrongGoi\\\" value=\\\"true\\\" [disabled]=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[model]=\\\"dataItem.TrongGoi\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-checkbox>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\" width=\\\"15%\\\">{{dataItem.LoaiPhieu}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\" width=\\\"17%\\\">{{dataItem.NgayLapStr}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\" width=\\\"17%\\\">{{dataItem.NguoiLap}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t</app-combobox>\\n\\t\\t\\t\\t\\t<fieldset fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" class=\\\"ml-3\\\" style=\\\"padding-top: 43px\\\"\\n\\t\\t\\t\\t\\t\\t*ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ul class=\\\"inline\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tLoại phiếu:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.LoaiPhieu}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tTình trạng:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinSoPhieuDaThu.TinhTrang === trangThaiThuTienBenhNhan.Huy\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"color: red\\\"> {{thongTinSoPhieuDaThu.TinhTrang}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinSoPhieuDaThu.TinhTrang !== trangThaiThuTienBenhNhan.Huy\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"color: green\\\"> {{thongTinSoPhieuDaThu.TinhTrang}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null && \\n                                    (thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTamUng)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Đã hoàn ứng: </span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinSoPhieuDaThu.DaHoanUng\\\"> Rồi </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"thongTinSoPhieuDaThu.DaHoanUng\\\">Phiếu hoàn ứng: </span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinSoPhieuDaThu.DaHoanUng\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{thongTinSoPhieuDaThu.PhieuHoanUng}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"!thongTinSoPhieuDaThu.DaHoanUng\\\"> Chưa </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.TinhTrang === trangThaiThuTienBenhNhan.Huy\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tNgười hủy:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NhanVienHuyPhieu}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.TinhTrang === trangThaiThuTienBenhNhan.Huy\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tNgày hủy:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NgayHuyStr}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null \\n                                && ((thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi\\n                                || thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTamUng)\\n                                && thongTinSoPhieuDaThu.TinhTrang === trangThaiThuTienBenhNhan.Huy)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Thu hồi: </span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"thongTinSoPhieuDaThu.DaThuHoi\\\"> Rồi </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong *ngIf=\\\"!thongTinSoPhieuDaThu.DaThuHoi\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tChưa\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon [icIcon]=\\\"icEdit\\\" style=\\\"transform: scale(0.8)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"huyPhieuThu(thongTinSoPhieuDaThu ,true)\\\"> </mat-icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.DaThuHoi\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tNgười thu hồi:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NguoiThuHoi}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.DaThuHoi\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tNgày thu:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NgayThuStr}} </strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t</fieldset>\\n\\t<fieldset fxFlex=\\\"100%\\\" class=\\\"mb-1\\\">\\n\\t\\t<div class=\\\"mt-1\\\">\\n\\t\\t\\t<ul class=\\\"inline\\\" *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTamUng || \\n            thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.HoanUng\\\">\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null\\\">\\n\\t\\t\\t\\t\\tSố tiền:\\n\\t\\t\\t\\t\\t<strong style=\\\"color: red\\\"> {{thongTinSoPhieuDaThu.SoTien| number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null\\\">\\n\\t\\t\\t\\t\\tHình thức thanh toán:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.HinhThucThanhToan}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.TienMat != null\\\">\\n\\t\\t\\t\\t\\tTiền mặt:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.TienMat | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.ChuyenKhoan != null\\\">\\n\\t\\t\\t\\t\\tChuyển khoản:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.ChuyenKhoan | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.CongNo != null\\\">\\n\\t\\t\\t\\t\\tCông nợ:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.CongNo | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t\\t<ul class=\\\"inline\\\" *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null && \\n            thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi || \\n            thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.PhieuChi\\\">\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null\\\">\\n\\t\\t\\t\\t\\tTổng số tiền:\\n\\t\\t\\t\\t\\t<strong style=\\\"color: red\\\"> {{thongTinSoPhieuDaThu.TongChiPhi | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tBHYT TT:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.BHYTThanhToan | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tMiễm giảm:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.MienGiam | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tBệnh nhân TT:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.BenhNhanThanhToan | number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t\\t(<span>Tiền mặt: </span> <strong> {{thongTinSoPhieuDaThu.TienMat| number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t\\t<span>Chuyển khoản: </span> <strong> {{thongTinSoPhieuDaThu.ChuyenKhoan| number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t</strong> <span>POS: </span> <strong> {{thongTinSoPhieuDaThu.Pos| number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t\\t<span>Công nợ: </span> <strong> {{thongTinSoPhieuDaThu.CongNo| number:'0.2-2':'vi-VN'}} </strong>)\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"mt-1\\\">\\n\\t\\t\\t<ul class=\\\"inline\\\" *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null && \\n            thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi || \\n            thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.PhieuChi\\\">\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\tTạm ứng:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.TamUng| number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t\\t<span *ngIf=\\\"thongTinSoPhieuDaThu.LaPhieuChi !== true\\\"> => Số\\n\\t\\t\\t\\t\\t\\ttiền phải thu: </span>\\n\\t\\t\\t\\t\\t<span *ngIf=\\\"thongTinSoPhieuDaThu.LaPhieuChi === true\\\"> => Số tiền phải trả: </span>\\n\\t\\t\\t\\t\\t<strong style=\\\"color: red\\\"> {{thongTinSoPhieuDaThu.SoTienPhaiThuHoacChi| number:'0.2-2':'vi-VN'}}\\n\\t\\t\\t\\t\\t</strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.NgayThuStr != null\\\">\\n\\t\\t\\t\\t\\tNgày thu:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NgayThuStr}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.NoiDungThu != null\\\">\\n\\t\\t\\t\\t\\tNội dung thu:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NoiDungThu}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t\\t<ul class=\\\"inline\\\" *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTamUng || \\n                    thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.HoanUng\\\">\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.NgayThuStr != null\\\">\\n\\t\\t\\t\\t\\tNgày thu:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NgayThuStr}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.NoiDungThu != null\\\">\\n\\t\\t\\t\\t\\tNội dung thu:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NoiDungThu}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"mt-1\\\">\\n\\t\\t\\t<ul class=\\\"inline\\\" *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.HoanThu\\\">\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu != null\\\">\\n\\t\\t\\t\\t\\tSố tiền:\\n\\t\\t\\t\\t\\t<strong style=\\\"color: red\\\"> {{thongTinSoPhieuDaThu.SoTien| number:'0.2-2':'vi-VN'}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.NgayThuStr != null\\\">\\n\\t\\t\\t\\t\\tNgày hoàn thu:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NgayThuStr}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li *ngIf=\\\"thongTinSoPhieuDaThu.NoiDungThu != null\\\">\\n\\t\\t\\t\\t\\tNội dung hoàn thu:\\n\\t\\t\\t\\t\\t<strong> {{thongTinSoPhieuDaThu.NoiDungThu}} </strong>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t</fieldset>\\n\\t<fieldset fxFlex=\\\"100%\\\" class=\\\"mb-1\\\" *ngIf=\\\"thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi || \\n        thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.PhieuChi\\\">\\n\\t\\t<app-ds-da-thu-tien (afterChanged)=\\\"dataSourceChanged=false\\\" [dataSourceChanged]=\\\"dataSourceChanged\\\"\\n\\t\\t\\t(loadingThanhCong)=\\\"loadingThanhCong($event)\\\"\\n\\t\\t\\t[(danhSachChiPhiKhamChuaBenh)]=\\\"thongTinSoPhieuDaThu.ChiPhiKhamChuaBenhVos\\\"> </app-ds-da-thu-tien>\\n\\t</fieldset>\\n</div>\\n<div *ngIf=\\\"thongTinSoPhieuDaThu.SoPhieuId != null\\\" class=\\\"sticky-button-action py-3 text-right\\\" kendoTooltip>\\n\\t<div style=\\\"float: left\\\">\\n\\t\\t<button (click)=\\\"BackToList()\\\" type=\\\"button\\\" mat-button class=\\\"mr-2\\\">Quay lại</button>\\n\\t\\t<strong style=\\\"color: red; margin-left: 50px;\\\"> Hoàn thu để trả lại tiền người bệnh </strong>\\n\\t</div>\\n\\t<button\\n\\t\\t*ngIf=\\\"(thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi ||\\n\\t\\t thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.PhieuChi) && thongTinSoPhieuDaThu.TinhTrang == 'Đang hiệu lực'\\\"\\n\\t\\t(click)=\\\"bangKeChiPhi(thongTinSoPhieuDaThu)\\\" color=\\\"primary\\\" mat-raised-button class=\\\"mr-2\\\">Bảng kê chi\\n\\t\\tphí</button>\\n\\t<button (click)=\\\"phieuIn(thongTinSoPhieuDaThu)\\\" color=\\\"primary\\\" mat-raised-button class=\\\"mr-2\\\">Phiếu in</button>\\n\\t<button *ngIf=\\\"!thongTinSoPhieuDaThu.DaChuyenVoNoiTru && (thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTamUng && \\n\\t\\t   thongTinSoPhieuDaThu.DaHoanUng !== true  &&  thongTinSoPhieuDaThu.TinhTrang !== trangThaiThuTienBenhNhan.Huy)\\\"\\n\\t\\t(click)=\\\"hoanUngKhongThucHienDV(thongTinSoPhieuDaThu)\\\" color=\\\"primary\\\" mat-raised-button class=\\\"mr-2\\\">\\n\\t\\tHoàn ứng\\n\\t</button>\\n\\t<button\\n\\t\\t*ngIf=\\\"!thongTinSoPhieuDaThu.DaChuyenVoNoiTru && (thongTinSoPhieuDaThu.ConHanHuyPhieuThu && thongTinSoPhieuDaThu.CongNo === 0  \\n\\t  && thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi && thongTinSoPhieuDaThu.TinhTrang !== trangThaiThuTienBenhNhan.Huy)\\\"\\n\\t\\t(click)=\\\"ChuyenQuaTamUng(thongTinSoPhieuDaThu)\\\" color=\\\"primary\\\" mat-raised-button class=\\\"mr-2\\\">\\n\\t\\tChuyển tạm ứng\\n\\t</button>\\n\\t<button\\n\\t\\t*ngIf=\\\"!thongTinSoPhieuDaThu.DaChuyenVoNoiTru && ( !thongTinSoPhieuDaThu.ConHanHuyPhieuThu && \\n\\t\\t((thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi && thongTinSoPhieuDaThu.TinhTrang !== trangThaiThuTienBenhNhan.Huy)\\n\\t  || (thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.PhieuChi  && thongTinSoPhieuDaThu.TinhTrang !== trangThaiThuTienBenhNhan.Huy)\\n\\t  || (thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTamUng && thongTinSoPhieuDaThu.TinhTrang !== trangThaiThuTienBenhNhan.Huy)))\\\"\\n\\t\\ttype=\\\"button\\\" (click)=\\\"hoanPhieuThu(thongTinSoPhieuDaThu)\\\" color=\\\"warn\\\" mat-raised-button>\\n\\t\\tHoàn phiếu thu\\n\\t</button>\\n\\t<button\\n\\t\\t*ngIf=\\\"!thongTinSoPhieuDaThu.DaChuyenVoNoiTru && (thongTinSoPhieuDaThu.ConHanHuyPhieuThu && \\n\\t\\t    ((thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTheoChiPhi && thongTinSoPhieuDaThu.TinhTrang !== trangThaiThuTienBenhNhan.Huy)\\n          || (thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.PhieuChi  && thongTinSoPhieuDaThu.TinhTrang !== trangThaiThuTienBenhNhan.Huy)\\n          || (thongTinSoPhieuDaThu.LoaiPhieu === trangThaiThuTienBenhNhan.ThuTamUng && thongTinSoPhieuDaThu.TinhTrang !== trangThaiThuTienBenhNhan.Huy)))\\\"\\n\\t\\ttype=\\\"button\\\" (click)=\\\"huyPhieuThu(thongTinSoPhieuDaThu, false)\\\" color=\\\"warn\\\" mat-raised-button>\\n\\t\\tHủy phiếu thu\\n\\t</button>\\n</div>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n\\t<div style=\\\"text-transform: uppercase\\\">Kết quả phiếu ({{arrFileUrl.length}} file)</div>\\n\\t<button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n\\t\\t<mat-icon [icIcon]=\\\"icClose\\\" [mat-dialog-close]=\\\"null\\\"></mat-icon>\\n\\t</button>\\n</div>\\n<mat-dialog-content style=\\\"height: 550px\\\">\\n\\t<div class=\\\"container-iframe\\\">\\n\\t\\t<ng-container [ngSwitch]=\\\"arrFileUrl.length == 1\\\">\\n\\t\\t\\t<div *ngSwitchCase=\\\"true\\\">\\n\\t\\t\\t\\t<ng-container  *ngFor=\\\"let item of arrFileUrl, let i = index\\\">\\n\\t\\t\\t\\t\\t<iframe id=\\\"{{i}}\\\" width=\\\"100%\\\" height=\\\"1000px\\\" frameborder=\\\"0\\\" [src]=\\\"item | safe\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"application/pdf\\\" allowTransparency=\\\"true\\\" background=\\\"transparent\\\" style=\\\"display: none\\\"\\n\\t\\t\\t\\t\\t\\tonload=\\\"this.style.display = 'block';\\\"></iframe>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div *ngSwitchDefault>Không có dữ liệu</div>\\n\\t\\t</ng-container>\\n\\n\\t\\t<ng-container [ngSwitch]=\\\"arrFileUrl.length > 1\\\">\\n\\t\\t\\t<div *ngSwitchCase=\\\"true\\\">\\n\\n\\t\\t\\t\\t<ng-container  *ngFor=\\\"let item of arrFileUrl, let i = index\\\">\\n\\t\\t\\t\\t\\t<iframe id=\\\"{{i}}\\\" width=\\\"100%\\\" height=\\\"450px\\\" frameborder=\\\"0\\\" [src]=\\\"item | safe\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"application/pdf\\\" allowTransparency=\\\"true\\\" background=\\\"transparent\\\" style=\\\"display: none\\\"\\n\\t\\t\\t\\t\\t\\tonload=\\\"this.style.display = 'block';\\\"></iframe>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div *ngSwitchDefault>Không có dữ liệu</div>\\n\\t\\t</ng-container>\\n\\t</div>\\n</mat-dialog-content>\\n<mat-dialog-actions class=\\\"pb-5\\\">\\n\\t<button type=\\\"button\\\" style=\\\"margin-left: auto\\\" [mat-dialog-close]=\\\"null\\\" mat-button class=\\\"mr-1 mt-4\\\"><i class=\\\"ft-arrow-left\\\"></i> Hủy</button>\\n\\t<button type=\\\"button\\\" *ngIf=\\\"arrFilePdf.length > 0\\\" (click)=\\\"downloadAllFile()\\\" mat-stroked-button color=\\\"primary\\\" class=\\\"mr-1 mt-4\\\">Tải tất cả</button>\\n\\t<button type=\\\"button\\\"  *ngIf=\\\"tamUng === false\\\" mat-raised-button mat-button (click)=\\\"ketXuatBangKeChiPhiExcel()\\\" title=\\\"xuất excel\\\" color=\\\"primary\\\" class=\\\"mr-2\\\">Xuất Excel</button>\\n</mat-dialog-actions>\\n\"","export default \".menu-form-wrapper .mat-menu-content {\\n  padding: 8px;\\n}\\n\\n.color-red {\\n  color: red;\\n}\\n\\n.padding-thu-tien {\\n  padding: 5px 16px 28px 13px !important;\\n}\\n\\n.po-right {\\n  text-align: right;\\n  flex-grow: 1;\\n}\\n\\n.color-green {\\n  color: green;\\n}\\n\\n.padding-left80px {\\n  padding-left: 80px !important;\\n}\\n\\n.d-unset {\\n  display: unset !important;\\n}\\n\\nkendo-splitter {\\n  border-width: 0px !important;\\n  margin-bottom: 10px;\\n}\\n\\nkendo-splitter ul > li.right-0 {\\n  margin-right: 0px;\\n  padding-right: 15px;\\n}\\n\\n.red-text {\\n  color: red !important;\\n}\\n\\n.green-text {\\n  color: green !important;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset legend {\\n  margin-left: 15px;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item .inline_b {\\n  display: inline-block !important;\\n  margin-right: 10px;\\n  padding-right: 15px;\\n}\\n\\nkendo-panelbar-item .panelbar-row {\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\\n}\\n\\nkendo-panelbar-item .panelbar-row:hover {\\n  background: rgba(227, 242, 253, 0.5);\\n}\\n\\nkendo-panelbar-item .panelbar-group-b {\\n  border-top: 1px rgba(0, 0, 0, 0.08) outset;\\n}\\n\\n.sticky-list {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n}\\n\\n.sticky-tab {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n  background: #f5f7fa;\\n  overflow-x: auto;\\n  margin-left: 5px;\\n  margin-right: 5px;\\n}\\n\\n.sticky-tab ul {\\n  margin: 0;\\n  padding-top: 10px;\\n  padding-bottom: 0;\\n  border-bottom: 1px solid #ccc;\\n}\\n\\n.sticky-tab ul li {\\n  display: inline-block;\\n  list-style-type: none;\\n  margin-right: 25px;\\n  font-size: 15px;\\n  font-weight: bold;\\n  font-style: normal;\\n  font-stretch: normal;\\n  letter-spacing: normal;\\n  color: #2e384d;\\n  cursor: pointer;\\n  transition: all 300ms linear;\\n  border-bottom: 3px solid #f5f7fa;\\n}\\n\\n.sticky-tab ul li.active {\\n  font-size: 15px;\\n  font-weight: bold;\\n  color: #005dab;\\n  border-bottom: 4px solid #005dab;\\n}\\n\\n.sticky-tab ul li:hover {\\n  border-bottom: 3px solid #005dab;\\n}\\n\\n.sticky-tab ul li.resolved {\\n  color: #005dab;\\n}\\n\\n.sticky-tab ul li.processing {\\n  color: #ff9800;\\n}\\n\\n.sticky-tab ul li.unfulfilled {\\n  color: #9e9e9e;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail {\\n  bottom: 0 !important;\\n  height: 5px !important;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail .ps-scrollbar-x {\\n  height: 5px !important;\\n}\\n\\nlegend {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\n.sticky-panelbar {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  top: 64px;\\n}\\n\\n.text-font-size-tra-bn {\\n  color: red;\\n  font-weight: 900;\\n  font-size: 15px !important;\\n}\\n\\n.text-font-size-thu-tien-bn {\\n  color: green;\\n  font-weight: 900;\\n  font-size: 15px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2NoaS10aWV0LWNhYy1raG9hbi1waGFpLXRodS9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHRodS1jaGlcXHRodS1jaGktdmllbi1waGlcXG5nb2FpLXRydVxcY2hvLXRodS10aWVuXFxjaGktdGlldC1jYWMta2hvYW4tcGhhaS10aHVcXGNoaS10aWV0LWNhYy1raG9hbi1waGFpLXRodS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2NoaS10aWV0LWNhYy1raG9hbi1waGFpLXRodS9jaGktdGlldC1jYWMta2hvYW4tcGhhaS10aHUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSxzQ0FBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw2QkFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7QUNDRjs7QURFQTtFQUNFLDRCQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSx1QkFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSw4QkFBQTtFQUNBLGtDQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQ0FBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsOEJBQUE7RUFDQSx1QkFBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLDRDQUFBO0FDQ0Y7O0FERUE7RUFDRSxvQ0FBQTtBQ0NGOztBREVBO0VBQ0UsMENBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7RUFDQSwyQkFBQTtFQUNBLG1DQUFBO0VBQ0EsYUFBQTtBQ0NGOztBREVBO0VBQ0UsU0FBQTtFQUNBLDJCQUFBO0VBQ0EsbUNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsNkJBQUE7QUNDRjs7QURFQTtFQUNFLHFCQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7RUFDQSxzQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0VBS0EsNEJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0Usb0JBQUE7RUFDQSxzQkFBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EseUJBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0VBQ0Esd0JBQUE7RUFDQSxTQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSwwQkFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsMEJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aHUtY2hpL3RodS1jaGktdmllbi1waGkvbmdvYWktdHJ1L2Noby10aHUtdGllbi9jaGktdGlldC1jYWMta2hvYW4tcGhhaS10aHUvY2hpLXRpZXQtY2FjLWtob2FuLXBoYWktdGh1LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1lbnUtZm9ybS13cmFwcGVyIC5tYXQtbWVudS1jb250ZW50IHtcbiAgcGFkZGluZzogOHB4O1xufVxuXG4uY29sb3ItcmVkIHtcbiAgY29sb3I6IHJlZDtcbn1cblxuLnBhZGRpbmctdGh1LXRpZW4ge1xuICBwYWRkaW5nOiA1cHggMTZweCAyOHB4IDEzcHggIWltcG9ydGFudDtcbn1cblxuLnBvLXJpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZsZXgtZ3JvdzogMTtcbn1cblxuLmNvbG9yLWdyZWVuIHtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG4ucGFkZGluZy1sZWZ0ODBweCB7XG4gIHBhZGRpbmctbGVmdDogODBweCAhaW1wb3J0YW50O1xufVxuXG4uZC11bnNldCB7XG4gIGRpc3BsYXk6IHVuc2V0ICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXNwbGl0dGVyIHtcbiAgYm9yZGVyLXdpZHRoOiAwcHggIWltcG9ydGFudDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxua2VuZG8tc3BsaXR0ZXIgdWwgPiBsaS5yaWdodC0wIHtcbiAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG59XG5cbi5yZWQtdGV4dCB7XG4gIGNvbG9yOiByZWQgIWltcG9ydGFudDtcbn1cblxuLmdyZWVuLXRleHQge1xuICBjb2xvcjogZ3JlZW4gIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgbGVnZW5kIHtcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIHVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLmlubGluZV9iIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93IHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMik7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLXJvdzpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjI3LCAyNDIsIDI1MywgMC41KTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItZ3JvdXAtYiB7XG4gIGJvcmRlci10b3A6IDFweCByZ2JhKDAsIDAsIDAsIDAuMDgpIG91dHNldDtcbn1cblxuLnN0aWNreS1saXN0IHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiA5OTk5O1xufVxuXG4uc3RpY2t5LXRhYiB7XG4gIHRvcDogNjRweDtcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3kgIWltcG9ydGFudDtcbiAgei1pbmRleDogOTk5OTtcbiAgYmFja2dyb3VuZDogI2Y1ZjdmYTtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5zdGlja3ktdGFiIHVsIHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDA7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBtYXJnaW4tcmlnaHQ6IDI1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC1zdHJldGNoOiBub3JtYWw7XG4gIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gIGNvbG9yOiAjMmUzODRkO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtby10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtbXMtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICNmNWY3ZmE7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLmFjdGl2ZSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBib3JkZXItYm90dG9tOiA0cHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGk6aG92ZXIge1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucmVzb2x2ZWQge1xuICBjb2xvcjogIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucHJvY2Vzc2luZyB7XG4gIGNvbG9yOiAjZmY5ODAwO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS51bmZ1bGZpbGxlZCB7XG4gIGNvbG9yOiAjOWU5ZTllO1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCB7XG4gIGJvdHRvbTogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCAucHMtc2Nyb2xsYmFyLXgge1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG5sZWdlbmQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLnN0aWNreS1wYW5lbGJhciB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgdG9wOiA2NHB4O1xufVxuXG4udGV4dC1mb250LXNpemUtdHJhLWJuIHtcbiAgY29sb3I6IHJlZDtcbiAgZm9udC13ZWlnaHQ6IDkwMDtcbiAgZm9udC1zaXplOiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbi50ZXh0LWZvbnQtc2l6ZS10aHUtdGllbi1ibiB7XG4gIGNvbG9yOiBncmVlbjtcbiAgZm9udC13ZWlnaHQ6IDkwMDtcbiAgZm9udC1zaXplOiAxNXB4ICFpbXBvcnRhbnQ7XG59IiwiLm1lbnUtZm9ybS13cmFwcGVyIC5tYXQtbWVudS1jb250ZW50IHtcbiAgcGFkZGluZzogOHB4O1xufVxuXG4uY29sb3ItcmVkIHtcbiAgY29sb3I6IHJlZDtcbn1cblxuLnBhZGRpbmctdGh1LXRpZW4ge1xuICBwYWRkaW5nOiA1cHggMTZweCAyOHB4IDEzcHggIWltcG9ydGFudDtcbn1cblxuLnBvLXJpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZsZXgtZ3JvdzogMTtcbn1cblxuLmNvbG9yLWdyZWVuIHtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG4ucGFkZGluZy1sZWZ0ODBweCB7XG4gIHBhZGRpbmctbGVmdDogODBweCAhaW1wb3J0YW50O1xufVxuXG4uZC11bnNldCB7XG4gIGRpc3BsYXk6IHVuc2V0ICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXNwbGl0dGVyIHtcbiAgYm9yZGVyLXdpZHRoOiAwcHggIWltcG9ydGFudDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxua2VuZG8tc3BsaXR0ZXIgdWwgPiBsaS5yaWdodC0wIHtcbiAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG59XG5cbi5yZWQtdGV4dCB7XG4gIGNvbG9yOiByZWQgIWltcG9ydGFudDtcbn1cblxuLmdyZWVuLXRleHQge1xuICBjb2xvcjogZ3JlZW4gIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgbGVnZW5kIHtcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIHVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLmlubGluZV9iIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93IHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMik7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLXJvdzpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjI3LCAyNDIsIDI1MywgMC41KTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItZ3JvdXAtYiB7XG4gIGJvcmRlci10b3A6IDFweCByZ2JhKDAsIDAsIDAsIDAuMDgpIG91dHNldDtcbn1cblxuLnN0aWNreS1saXN0IHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiA5OTk5O1xufVxuXG4uc3RpY2t5LXRhYiB7XG4gIHRvcDogNjRweDtcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3kgIWltcG9ydGFudDtcbiAgei1pbmRleDogOTk5OTtcbiAgYmFja2dyb3VuZDogI2Y1ZjdmYTtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5zdGlja3ktdGFiIHVsIHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDA7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBtYXJnaW4tcmlnaHQ6IDI1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC1zdHJldGNoOiBub3JtYWw7XG4gIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gIGNvbG9yOiAjMmUzODRkO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtby10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtbXMtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICNmNWY3ZmE7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLmFjdGl2ZSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBib3JkZXItYm90dG9tOiA0cHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGk6aG92ZXIge1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucmVzb2x2ZWQge1xuICBjb2xvcjogIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucHJvY2Vzc2luZyB7XG4gIGNvbG9yOiAjZmY5ODAwO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS51bmZ1bGZpbGxlZCB7XG4gIGNvbG9yOiAjOWU5ZTllO1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCB7XG4gIGJvdHRvbTogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCAucHMtc2Nyb2xsYmFyLXgge1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG5sZWdlbmQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLnN0aWNreS1wYW5lbGJhciB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgdG9wOiA2NHB4O1xufVxuXG4udGV4dC1mb250LXNpemUtdHJhLWJuIHtcbiAgY29sb3I6IHJlZDtcbiAgZm9udC13ZWlnaHQ6IDkwMDtcbiAgZm9udC1zaXplOiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbi50ZXh0LWZvbnQtc2l6ZS10aHUtdGllbi1ibiB7XG4gIGNvbG9yOiBncmVlbjtcbiAgZm9udC13ZWlnaHQ6IDkwMDtcbiAgZm9udC1zaXplOiAxNXB4ICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, ViewChild, TemplateRef, ChangeDetectorRef, ViewRef, HostListener, ViewEncapsulation } from \"@angular/core\";\nimport { ThongTinBenhNhan, ThuTien, DanhSachCongNo, ThongTinCongTyBaoHiemTuNhans, ThongTinMienGiamTheoDoiTuongUuDai, ThongTinMienGiamVoucher, ThongTinMienGiamThem, ThongTinMienGiamVo, LookupItemVo, TaiLieuDinhKemGiayMiemGiamVo, ThongTinVoucherTheoYeuCauTiepNhan, CommonThuTien, QuyetToanDichVuTrongGoiVo, DanhSachChiPhiThuTamUng, LoaiBangKeChiPhi } from \"../cho-thu-tien.model\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { BaseService } from \"src/app/core/services/base.service\";\nimport { DsChuaThuTienComponent } from \"../ds-chua-thu-tien/ds-chua-thu-tien.component\";\nimport { MatDialog } from \"@angular/material/dialog\";\nimport { GridComponent } from \"src/app/shared/component/grid/grid.component\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport icCheck from \"@iconify/icons-ic/twotone-check\";\nimport { ApiError } from \"src/app/shared/models/api-error.model\";\nimport { HttpParams } from \"@angular/common/http\";\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { ChiTietThuTienTamUngComponent } from \"../chi-tiet-thu-tien-tam-ung/chi-tiet-thu-tien-tam-ung.component\";\nimport { FormControl, FormGroup } from \"@angular/forms\";\nimport { MultiselectComponent } from \"src/app/shared/component/dropdowns/multiselect/multiselect.component\";\nimport { TabStripComponent } from \"@progress/kendo-angular-layout\";\nimport { ViewImagePdfComponent } from \"src/app/shared/component/dialogs/view-image-pdf/view-image-pdf.component\";\nimport icSearch from \"@iconify/icons-ic/twotone-search\";\nimport { ConfirmComponent } from \"src/app/shared/component/dialogs/confirm/confirm.component\";\nimport { ThongTinPhieuPdfPopupComponent } from \"../../../common/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component\";\nimport { XacNhanPhieuThuComponent } from \"../../../common/xac-nhan-phieu-thu/xac-nhan-phieu-thu.component\";\nimport { ThongTinDichVuChuaDuocXacNhanComponent } from \"../../../common/thong-tin-dich-vu-chua-duoc-xac-nhan/thong-tin-dich-vu-chua-duoc-xac-nhan.component\";\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { AuthService } from \"src/app/core/services/auth.service\";\nimport { SecurityOperation } from \"src/app/shared/enum/security-operation.enum\";\nimport { SystemMessage } from \"src/app/shared/configdata/system-message\";\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { DichVuKhuyenMaiKemTheoGoi } from \"../dich-vu-khuyen-mai-kem-theo-goi/dich-vu-khuyen-mai-kem-theo-goi.component\";\nimport { identifierModuleUrl } from \"@angular/compiler\";\nimport { debug } from \"console\";\nimport { ThongTinPhieuNgoaiTruPopupComponent } from \"../thong-tin-phieu-thu-popup/thong-tin-phieu-thu-popup.component\";\nimport { CommonPdfPopupComponent } from \"../../../common/common-pdf-popup/common-pdf-popup.component\";\nimport { CommonPdfPopupNgoaiTruComponent } from \"../../../common/common-pdf-popup-ngoai-tru/common-pdf-popup-ngoai-tru.component\";\n@Component({\n\tselector: \"app-chi-tiet-cac-khoan-phai-thu\",\n\ttemplateUrl: \"./chi-tiet-cac-khoan-phai-thu.component.html\",\n\tstyleUrls: [\"./chi-tiet-cac-khoan-phai-thu.component.scss\"],\n\tencapsulation: ViewEncapsulation.None\n})\n\nexport class ChiTietCacKhoanPhaiThuComponent implements OnInit {\n\tpublic thongTinBenhNhan: ThongTinBenhNhan;\n\tpublic thongTinBenhNhantam: any = [];\n\tpublic commonThuTien = new CommonThuTien();\n\tchiTienQuyetToan = new QuyetToanDichVuTrongGoiVo();\n\n\tpublic apDungMiemGiam: boolean = false;\n\tpublic thongTinMienGiamVo: ThongTinMienGiamVo;\n\tpublic thongTinVoucherTheoYeuCauTiepNhan: ThongTinVoucherTheoYeuCauTiepNhan;\n\tpublic thongTinMienGiamTheoDoiTuongUuDai = {} as ThongTinMienGiamTheoDoiTuongUuDai;\n\tpublic thongTinMienGiamVoucher = {} as ThongTinMienGiamVoucher;\n\tpublic thongTinMienGiamThem = {} as ThongTinMienGiamThem;\n\tpublic kiemTraThongTinBaoHiemTN: boolean = false;\n\tpublic refreshFlagApDung: boolean = false;\n\tpublic showCanhBaoSoTienNhap: boolean = false;\n\tpublic loaiVoucher: number = 0;\n\tpublic listOldVouchers = [];\n\tpublic checkedMGTGiaTri: boolean = true;\n\tpublic checkedMGTTiLe: boolean = false;\n\tpublic checkHiddenSoTienConLai: boolean = false;\n\tpublic selectMoneyTienBNDua: any[] = null;\n\tpublic selectMoneyTienMat: any[] = null;\n\tpublic selectMoneyTienChuyenKhoan: any[] = null;\n\tpublic selectMoneyTienPos: any[] = null;\n\tpublic radioThuTien: boolean = true;\n\tpublic radioThuTamUng: boolean = false;\n\tpublic radioTraLaiBN: boolean = false;\n\tpublic radioTraNo: boolean = false;\n\tpublic voucherLookupItemVo: Array<LookupItemVo>;\n\tpublic idYeuCauTiepNhan: number = 0;\n\tpublic loaiThanhToan: boolean = true;\n\tpublic typeThanhToan: number = 0;\n\tpublic setDefeautTienMat: any = [this.commonThuTien.TienMat];\n\tpublic hinhThucThanhToan: any = [\n\t\t{ KeyId: this.commonThuTien.TienMat, DisplayName: this.commonThuTien.TienMatText, Selected: false, Change: false },\n\t\t{ KeyId: this.commonThuTien.ChuyenKhoan, DisplayName: this.commonThuTien.ChuyenKhoanText, Selected: false, Change: false },\n\t\t{ KeyId: this.commonThuTien.Pos, DisplayName: this.commonThuTien.PosText, Selected: false, Change: false }\n\t];\n\tallowedExtensions: string[] = [\".jpg\", \".jpeg\", \".png\", \".JPG\", \".JPEG\", \".PNG\", \".pdf\", \".PDF\", '.xlsx', '.xls'];\n\ticSearch = icSearch;\n\ttabIndex: number = 0;\n\tselectedValueThuPhi: string = this.commonThuTien.ThuTien;\n\tdanhsachBHTN: any = [];\n\ticCheck = icCheck;\n\tvalidationErrors: any[] = [];\n\tpublic documentType: DocumentType = DocumentType.ThuNgan;\n\tsoLuongDichVuChuaDuocBHYTXN: number = 0;\n\thostingName: string;\n\ttaiKhoanThuId: any;\n\tdataSourceChanged: boolean = false;\n\tdataSourceChangedTamUng: boolean = false;\n\tdataSourceChangedHuyThanhToan: boolean = false;\n\tdataSourceChangedThuNo: boolean = false;\n\tdanhSachCongNos: DanhSachCongNo[] = [];\n\tsoDuTaiKhoanBenhNhan: number = 0;\n\tsoTienQuyBHYTTTTrongGoi: number = 0;\n\tsoTienConLaiBenhNhan: number = 0;\n\tapDungCongNo: boolean = false;\n\tapCapNhatThanhToan: boolean = false;\n\tposition: number = 0;\n\tflagShowThongTinMienGiam: boolean = false;\n\tflagShowDoiTuongUuDai: boolean = false;\n\tflagEnableVoucher: boolean = false;\n\tflagEnableMGThem: boolean = false;\n\tdisabledMGThem: boolean = false;\n\tdisabledVoucher: boolean = false;\n\tdisabledTiLeMG: boolean = true;\n\tdisabledSoTienMG: boolean = false;\n\tflagCheckSeletedTienMat: boolean = false;\n\tflagCheckSeletedChuyenKhoan: boolean = false;\n\tflagCheckSeletedPos: boolean = false;\n\tflagCheckSeletedCongNo: boolean = false;\n\tcheckSeletedTienMat: boolean = false;\n\tcheckSeletedChuyenKhoan: boolean = false;\n\tcheckSeletedPos: boolean = false;\n\tcheckSeletedCongNo: boolean = false;\n\tarrayThanhToans: any[] = [];\n\tarrayThanhToanstmp: any[] = [];\n\tisExistFile: boolean = false;\n\tflagApDung: boolean = false;\n\tflagShowDoiTuongUuDaiOrVoucher: boolean = false;\n\tconfrim: any = null;\n\tstandardMG: number = 0;\n\tlistVouchers: number[] = [];\n\tlistTmpVouchers: number[] = [];\n\tthuNganValidationErrors: any;\n\tthuTien: ThuTien;\n\ttongTienBNThanhToan: number = 0;\n\tpublic formGroup;\n\tgridBaoHiemTNs: any[] = [];\n\tisTienBNTraOrTraBN: boolean = false;\n\ttienPhaiTraBenhNhan: number = 0;\n\tloadingPopup: any;\n\tdsCoDichVuCanThu: boolean = false;\n\tformat: string = 'n2';\n\tapDungCongNoTrongGoi: boolean = false;\n\tpublic dataSourceChangedTrongGoi: boolean = false;\n\tpublic ktCoPhieuThuCongNo : boolean = false;\n\n\tdanhSachChuaThanhToans = {\n\t\tdata: [],\n\t\tSoTienBenhNhan: 0,\n\t\tHoTen: \"\",\n\t\tSoLuongBYHTChuaXN: 0,\n\t};\n\n\tdanhSachChuaXacNhanBHYT = {\n\t\tdata: []\n\t};\n\n\txemPhieuThuId: any;\n\tktKhuyenMaiDichVu: any;\n\n\tkiemTraPhieuThuBHYT: any;\n\tphieuThuId: any;\n\ttenPhieuThu: any;\n\n\tkiemTraPhieuThuGoiBHYT: any;\n\tphieuThuGoiId: any;\n\ttenPhieuThuGoi: any;\n\n\ttabActive: number;\n\ttitleActive: string;\n\tktQTBHYTTheoGoi: boolean = false;\n\tktSuDungGoi: number;\n\n\tdataSourceDanhSachBHTN = {\n\t\tdata: [],\n\t\ttotal: 0,\n\t};\n\n\tpublic dataCongNo = this.dataSourceDanhSachBHTN.data;\n\tpublic taiLieuDinhKemGiayMiemGiamVo = new TaiLieuDinhKemGiayMiemGiamVo();\n\n\tdataSourceDanhSachCongNo: any = {\n\t\tdata: [],\n\t\ttotal: 0,\n\t};\n\n\tchuyenVaoNoiTru: any = false;\n\tsoTienCongNoTam: number = 0;\n\n\tpublic listVoucherItem: Array<string> = [];\n\tnewBarcode: string = \"\";\n\tpublic value: any = [];\n\tmodelQRCode: any;\n\n\tconstructor(private route: ActivatedRoute, private dialog: MatDialog, private apiService: ApiService,\n\t\tprivate router: Router, private cdRef: ChangeDetectorRef, private notificationService: NotificationService,\n\t\tprivate authService: AuthService,\n\t\tprivate baseService: BaseService) {\n\t\tthis.baseService.controllerName = \"ThuNgan\";\n\t}\n\n\t@ViewChild(GridComponent, { static: false }) gridChild: GridComponent;\n\t@ViewChild(\"voucherList\", { static: false }) voucherList: MultiselectComponent;\n\t@ViewChild(DsChuaThuTienComponent, { static: false }) dsChuaThuTienComponent: DsChuaThuTienComponent;\n\t@ViewChild(ChiTietThuTienTamUngComponent, { static: false }) ChiTietThuTienTamUngComponent: ChiTietThuTienTamUngComponent;\n\t@ViewChild(\"actionTemplateSTCongNo\", { static: true }) actionTemplateSTCongNo: TemplateRef<any>;\n\t@ViewChild(\"actionTemplateSubmitCongNo\", { static: true }) actionTemplateSubmitCongNo: TemplateRef<any>;\n\t@ViewChild(\"tabDanhSachThuTien\", { static: false }) tabDanhSachThuTien: TabStripComponent;\n\t@ViewChild(\"multiselect\", { static: false }) public multiselect: any;\n\n\tclearRadio() {\n\t\tthis.radioThuTien = false;\n\t\tthis.radioThuTamUng = false;\n\t\tthis.radioTraLaiBN = false;\n\t\tthis.radioTraNo = false;\n\t}\n\n\tchangeValue(event: any) {\n\t\tthis.clearRadio();\n\t\tswitch (event) {\n\t\t\tcase this.commonThuTien.ThuTien:\n\t\t\t\tthis.radioThuTien = true;\n\t\t\t\tbreak;\n\t\t\tcase this.commonThuTien.ThuTamUng:\n\t\t\t\tthis.radioThuTamUng = true;\n\t\t\t\tbreak;\n\t\t\tcase this.commonThuTien.TraLaiBenhNhan:\n\t\t\t\tthis.radioTraLaiBN = true;\n\t\t\t\tbreak;\n\t\t\tcase this.commonThuTien.BenhNhanTraTien:\n\t\t\t\tthis.radioTraNo = true;\n\t\t\t\tbreak;\n\t\t}\n\t\tthis.selectedValueThuPhi = event;\n\t}\n\n\tngOnInit() {\n\t\tif (window.location.protocol == this.commonThuTien.Http) {\n\t\t\tthis.hostingName = this.commonThuTien.Http + \"//\" + window.location.host;\n\t\t} else {\n\t\t\tthis.hostingName = this.commonThuTien.Http + \"//\" + window.location.host;\n\t\t}\n\n\t\tthis.thongTinBenhNhan = {} as ThongTinBenhNhan;\n\t\tthis.tongTienBNThanhToan = 0;\n\t\tthis.selectedValueThuPhi;\n\n\t\tthis.loaiThanhToan = this.route.snapshot.queryParams.loaiThanhToan == 1 ? true : false;\n\t\tthis.typeThanhToan = this.route.snapshot.queryParams.loaiThanhToan;\n\n\t\tthis.idYeuCauTiepNhan = this.route.snapshot.params.id;\n\t\tif (this.idYeuCauTiepNhan !== undefined && this.idYeuCauTiepNhan !== null) {\n\t\t\tthis.kiemTraDichVuTrongGoiCoBHYT(this.idYeuCauTiepNhan);\n\t\t\tthis.getThongTinYeuCauBenhNhan(this.idYeuCauTiepNhan);\n\n\t\t\tthis.kiemTraYeuCauKhamBenhNhapVien();\n\t\t\tthis.GetThongTheVoucher();\n\t\t\tthis.kiemTraDanhSachDaThu();\n\n\t\t\tthis.kiemTraYeuCauTiepNhanCoKhuyenMai();\n\t\t\tthis.kiemTraSuDungGoi();\n\t\t}\n\n\t\t//Thông tin bảo hiểm tư nhân\n\t\tthis.dataSourceDanhSachBHTN.data = this.thongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans;\n\t\tthis.thongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans;\n\t\tthis.gridBaoHiemTNs = [\n\t\t\t{ Field: \"TenCongTy\", Title: \"Công ty\", Width: 200, Sortable: false },\n\t\t\t// { Field: \"MaSoThe\", Title: \"Số thẻ\", Width: 50, Sortable: true, ShowTooltip: true },\n\t\t\t// { Field: \"TuNgayStr\", Title: \"Từ ngày\", Width: 50, Sortable: true, ShowTooltip: true },\n\t\t\t// { Field: \"DenNgayStr\", Title: \"Đến ngày\", Width: 50, Sortable: true, ShowTooltip: true },\n\t\t\t// { Field: \"SoDienThoai\", Title: \"Số điện thoại\", Width: 50, Sortable: true, ShowTooltip: true },\n\t\t\t// { Field: \"DiaChi\", Title: \"Địa chỉ\", Width: 50, Sortable: true, ShowTooltip: true },\n\t\t\t{ Field: \"CongNo\", Title: \"CÔNG NỢ\", Width: 150, Sortable: true, Template: this.actionTemplateSTCongNo }\n\t\t];\n\n\t\tthis.danhSachChuaThanhToan;\n\t\tthis.thuTien = {} as ThuTien;\n\t\tthis.checkSeletedTienMat = true;\n\t\tthis.flagCheckSeletedTienMat = true;\n\t\tthis.thuTien.NgayThu = new Date();\n\t\tthis.thuTien.NoiDungThu = this.commonThuTien.NoiDungThu;\n\t\tthis.defeautSoTien();\n\t\tthis.changeValue(this.commonThuTien.ThuTien);\n\t\tthis.getThongTinMienGiam(this.idYeuCauTiepNhan);\n\t\tthis.thuTien.SoTienCongNo = 0;\n\t\tthis.chiTienQuyetToan.NgayThu = new Date();\n\t\tthis.chiTienQuyetToan.NoiDungThu = this.commonThuTien.NoiDungThuGoi;\n\t}\n\n\tonTabSelect(event: any) {\n\t\tif (event.title === \"Chưa thu\") {\n\t\t\tthis.tabActive = 1;\n\t\t\tthis.titleActive = event.title;\n\t\t\tif (this.thongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans != undefined &&\n\t\t\t\tthis.thongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans != null &&\n\t\t\t\tthis.thongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans.length > 0) {\n\t\t\t\tthis.apDungCongNo = true;\n\t\t\t}\n\t\t} else if (event.title === \"Quyết toán gói marketing\") {\n\t\t\tthis.tabActive = 2;\n\t\t\tthis.titleActive = event.title;\n\t\t}\n\t\telse {\n\t\t\tthis.tabActive = 3;\n\t\t\tthis.titleActive = event.title;\n\t\t\tthis.tongTienBNThanhToan = 0;\n\t\t}\n\t}\n\n\ttabDaThuHuyPhieu(event: any, type: any) {\n\t\tthis.tabActive = 3;\n\t\tif (type === 1) {\n\t\t\tthis.xemPhieuThuId = this.phieuThuId;\n\t\t} else {\n\t\t\tthis.xemPhieuThuId = this.phieuThuGoiId;\n\t\t}\n\t}\n\n\tkiemTraDichVuTrongGoiCoBHYT(id: number) {\n\t\tif (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n\t\t\tthis.apiService.get(`ThuNgan/KiemTraDichVuTrongGoiCoBHYT?yeuCauTiepNhanId=` + id).subscribe((response: any) => {\n\t\t\t\tif (response != undefined && response != null) {\n\t\t\t\t\tthis.ktQTBHYTTheoGoi = response;\n\t\t\t\t}\n\t\t\t}, (err: ApiError) => {\n\t\t\t\terr.ValidationErrors == null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) :\n\t\t\t\t\tthis.validationErrors = err.ValidationErrors;\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n\t\t}\n\t}\n\n\tkiemTraDanhSachDaThu() {\n\t\tthis.showLoadingPopup();\n\t\tthis.apiService.get<any>(\"ThuNgan/DanhSachThuPhiDichVu/\" + this.idYeuCauTiepNhan).subscribe(resultData => {\n\t\t\tif (resultData !== undefined && resultData !== null && resultData.length > 0) {\n\t\t\t\tthis.dsCoDichVuCanThu = true;\n\t\t\t\tthis.tabActive = 1;\n\t\t\t\tthis.titleActive = \"Chưa thu\";\n\t\t\t} else if (this.ktQTBHYTTheoGoi) {\n\t\t\t\tthis.tabActive = 2;\n\t\t\t\tthis.titleActive = \"Quyết toán gói marketing\";\n\t\t\t} else {\n\t\t\t\tthis.tabActive = 3;\n\t\t\t\tthis.titleActive = \"Đã thu\";\n\t\t\t}\n\t\t\tthis.closeAllDialogs();\n\t\t});\n\t}\n\n\tdanhSachGoiCoBHYT(dsGoiBHYTs: any[]) {\n\t\tthis.showLoadingPopup();\n\t\tif (dsGoiBHYTs != undefined && dsGoiBHYTs != null) {\n\t\t\tlet traTienBN = dsGoiBHYTs.reduce((sum, item) => sum + item.SoTienQuyetToan, 0);\n\t\t\tthis.tongTienBNThanhToan = Math.round(traTienBN);\n\t\t\tthis.chiTienQuyetToan.TienMat = Math.round(traTienBN);\n\t\t}\n\t\tthis.chiTienQuyetToan.DanhSachChiPhiKhamChuaBenhTrongGoiDichVus = dsGoiBHYTs;\n\t\tthis.closeAllDialogs();\n\t}\n\n\tquyetToanDichVuTrongGoiCoBHYT() {\n\t\tif (this.chiTienQuyetToan.DanhSachChiPhiKhamChuaBenhTrongGoiDichVus.length > 0) {\n\t\t\tvar kiemTraBHYTXacNhan = this.chiTienQuyetToan.DanhSachChiPhiKhamChuaBenhTrongGoiDichVus\n\t\t\t\t.filter(dataItem => dataItem.DuocHuongBHYT === true && dataItem.KiemTraBHYTXacNhan !== true);\n\t\t\tif (kiemTraBHYTXacNhan.length > 0) {\n\t\t\t\tthis.notificationService.showError(\"Vui lòng xác nhận BHYT cho gói\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tthis.showLoadingPopup();\n\t\tif (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n\t\t\tvar mes = `Bạn chắc chắn muốn quyết toán cho bệnh nhân: <span class=\"green-text\"> ${this.thongTinBenhNhan.HoTen.toUpperCase().bold()} </span>\n\t\t\t           với cố tiền chi là <span class=\"green-text\">${this.tongTienBNThanhToan.toLocaleString(\"vi-VI\").bold()}</span> hay không ?`\n\t\t\tthis.dialog.open(ConfirmComponent, {\n\t\t\t\tdisableClose: false,\n\t\t\t\twidth: '400px',\n\t\t\t\tdata: { Title: \"Xác nhận\", Message: mes }\n\t\t\t}).afterClosed().subscribe(result => {\n\t\t\t\tif (result === 'Yes') {\n\t\t\t\t\tthis.chiTienQuyetToan.Id = this.idYeuCauTiepNhan;\n\t\t\t\t\tthis.apiService.put(`ThuNgan/QuyetToanDichVuTrongGoiCoBHYT`, this.chiTienQuyetToan).subscribe((data: any) => {\n\t\t\t\t\t\tthis.dialog.closeAll();\n\t\t\t\t\t\tif (data.Error != undefined && data.Error != null) {\n\t\t\t\t\t\t\tthis.notificationService.showError(data.Error);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet typeLoai = \"\";\n\t\t\t\t\t\t\tlet phieuHoanUngIds = \"\";\n\t\t\t\t\t\t\tif (data.PhieuQuyetToanId != undefined && data.PhieuQuyetToanId != null && data.PhieuQuyetToanId != 0) {\n\t\t\t\t\t\t\t\ttypeLoai += \"InPhieuThu,InBangKeChiPhiGoiKhamChuaBenhStr\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (data.PhieuHoanUngIds != undefined && data.PhieuHoanUngIds != null && data.PhieuHoanUngIds.length > 0) {\n\t\t\t\t\t\t\t\tdata.PhieuHoanUngIds.forEach(element => {\n\t\t\t\t\t\t\t\t\tphieuHoanUngIds += element + \",\";\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.inPhieuPdf(data.PhieuQuyetToanId, 0, typeLoai, phieuHoanUngIds);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, (err: ApiError) => {\n\t\t\t\t\t\terr.ValidationErrors == null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) :\n\t\t\t\t\t\t\tthis.validationErrors = err.ValidationErrors;\n\t\t\t\t\t\tthis.closeAllDialogs();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.linkSauKhiThuTien();\n\t\t\t\t}\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n\t\t\tthis.closeAllDialogs();\n\t\t}\n\t}\n\n\tkiemTraYeuCauTiepNhanCoKhuyenMai() {\n\t\tthis.apiService.get<any>(\"ThuNgan/KiemTraYeuCauTiepNhanCoKhuyenMai?yeuCauTiepNhanId=\" + this.idYeuCauTiepNhan)\n\t\t\t.subscribe(ktKhuyenMaiDichVu => {\n\t\t\t\tthis.ktKhuyenMaiDichVu = ktKhuyenMaiDichVu;\n\t\t\t});\n\t}\n\n\tdichVuKhuyenMai() {\n\t\tthis.showLoadingPopup();\n\t\tthis.dialog.open(DichVuKhuyenMaiKemTheoGoi, {\n\t\t\tdisableClose: true,\n\t\t\twidth: \"1400px\",\n\t\t\tdata: { benhNhanId: this.thongTinBenhNhan.BenhNhanId, yeuCauTiepNhanId: this.idYeuCauTiepNhan },\n\t\t}).afterClosed().subscribe((res) => {\n\t\t\tthis.dataSourceChanged = true;\n\t\t\tthis.closeAllDialogs();\n\t\t});\n\t}\n\n\tkiemTraDanhSachXNBHYT(data: any[]) {\n\t\tif (data != undefined && data != null) {\n\t\t\tthis.danhSachChuaXacNhanBHYT.data = data;\n\t\t\tif (this.danhSachChuaXacNhanBHYT.data.length > 0) {\n\t\t\t\tthis.radioThuTamUng = true;\n\t\t\t\tthis.selectedValueThuPhi = this.commonThuTien.ThuTamUng;\n\t\t\t}\n\t\t}\n\t}\n\n\tdanhSachChuaThanhToan(data: any[]) {\n\t\tthis.danhSachChuaThanhToans.data = data;\n\t\tthis.danhSachChuaThanhToans.HoTen = this.thongTinBenhNhan.HoTen;\n\t\tlet benhNhanPhaiTra = 0;\n\n\t\tif (this.danhSachChuaThanhToans != undefined && this.danhSachChuaThanhToans != null) {\n\t\t\tbenhNhanPhaiTra = this.danhSachChuaThanhToans.data.reduce((sum, item) => sum + item.BNConPhaiThanhToan, 0);\n\t\t}\n\n\t\t//Trường hợp tính cho tiền thanh toán người bệnh còn tiền trong số dư tk không?\n\t\tthis.tongTienBNThanhToan = Math.round(benhNhanPhaiTra + 0.0000001);\n\n\t\t//reset số tiền công nợ vì khi mà KH change grid giá trị sẽ khác.\n\t\tthis.thuTien.SoTienCongNo = 0;\n\n\t\t//Kiểm tra số tiền đã có sư thay đổi hay không \n\t\t//this.loadSoTienQuyBHYTVaTamUng(this.idYeuCauTiepNhan);\n\n\t\t//Công thức bind đầu tiên tính xem số tiền trả lại bệnh nhân hay thu tiền bệnh nhân\t(run first test)\t\n\t\t//tienPhaiTraBenhNhan biến này đang đặt sai tên phải (số tiền cần thu bên nhân)\n\t\tlet kiemTraSoTien = (this.soDuTaiKhoanBenhNhan + this.soTienQuyBHYTTTTrongGoi) - this.tongTienBNThanhToan - this.thuTien.SoTienCongNo;\n\n\t\t//Nếu kiemTraSoTien > 0 số tiền trả lại bệnh nhân ngược lại số tiền thu của bệnh nhân.\n\t\tthis.isTienBNTraOrTraBN = kiemTraSoTien <= 0;\n\n\t\tif (this.isTienBNTraOrTraBN) {\n\t\t\tthis.tienPhaiTraBenhNhan = (this.tongTienBNThanhToan - this.thuTien.SoTienCongNo) - this.soDuTaiKhoanBenhNhan - this.soTienQuyBHYTTTTrongGoi;\n\t\t\tthis.clearDataSetDefaut((this.tongTienBNThanhToan - this.thuTien.SoTienCongNo) - this.soDuTaiKhoanBenhNhan - this.soTienQuyBHYTTTTrongGoi);\n\t\t} else {\n\t\t\tthis.tienPhaiTraBenhNhan = kiemTraSoTien;\n\t\t}\n\t}\n\n\tloadingThanhCong(loading: any) {\n\t\tif (loading) {\n\t\t\tthis.dialog.closeAll();\n\t\t}\n\t}\n\n\tloadingCTThanhCong(loading: any) {\n\t\tif (loading) {\n\t\t\tthis.dialog.closeAll();\n\t\t}\n\t}\n\n\tafterApDungHuyThanhCong(ev: any) {\n\t\tif (ev) {\n\t\t\tthis.loadSoTienQuyBHYTVaTamUng(this.idYeuCauTiepNhan);\n\t\t}\n\t}\n\n\tonChangeLoaiMg(value: any) {\n\t\tswitch (value) {\n\t\t\tcase 1:\n\t\t\t\tthis.checkedMGTGiaTri = true;\n\t\t\t\tthis.checkedMGTTiLe = false;\n\t\t\t\tthis.disabledSoTienMG = false;\n\t\t\t\tthis.disabledTiLeMG = true;\n\t\t\t\tthis.checkHiddenSoTienConLai = false;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tthis.checkedMGTGiaTri = false;\n\t\t\t\tthis.checkedMGTTiLe = true;\n\t\t\t\tthis.disabledSoTienMG = true;\n\t\t\t\tthis.disabledTiLeMG = false;\n\t\t\t\tthis.checkHiddenSoTienConLai = true;\n\t\t\t\tbreak;\n\t\t}\n\t\tthis.thongTinMienGiamThem.SoTienMG = 0;\n\t\tthis.thongTinMienGiamThem.TiLeMienGiam = 0;\n\t}\n\n\thuyThanhCong(daHuy: boolean) {\n\t\tif (daHuy) {\n\t\t\tthis.loaiThanhToan = true;\n\t\t\tthis.apCapNhatThanhToan = true;\n\t\t\tthis.apDungCongNo = true;\n\n\t\t\tthis.loadSoTienQuyBHYTVaTamUng(this.idYeuCauTiepNhan);\n\t\t\tthis.kiemTraPhieuThuCoBHYT(this.idYeuCauTiepNhan);\n\t\t\tthis.kiemTraPhieuThuGoiCoBHYT(this.idYeuCauTiepNhan);\n\n\t\t\tthis.dataSourceChangedHuyThanhToan = true;\n\t\t\tthis.dataSourceChanged = true;\n\t\t\twindow.location.href = \"/danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/\" + this.idYeuCauTiepNhan + \"?loaiThanhToan=1\";\n\t\t}\n\t}\n\n\tcapnhatThanhCong(yeuCauTiepNhanId: number) {\n\t\tthis.loaiThanhToan = true;\n\t\tthis.apCapNhatThanhToan = true;\n\t\tthis.apDungCongNo = true;\n\t\tthis.router.navigateByUrl(\"/danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/\" + yeuCauTiepNhanId + \"?loaiThanhToan=1\");\n\t}\n\n\tBackToList() {\n\t\tlet yctn = this.route.snapshot.queryParams.yctn;\n\t\tif (yctn) {\n\t\t\tthis.router.navigateByUrl(\"/them-yeu-cau-tiep-nhan\");\n\t\t} else {\n\t\t\tthis.router.navigate([\"/danh-sach-thu-dich-vu\"], {\n\t\t\t\tqueryParamsHandling: \"preserve\",\n\t\t\t});\n\t\t}\n\t}\n\n\tluuTamChiPhiThanhCongTrongGoi(isCapNhatThanhCong: any) {\n\t\tif (isCapNhatThanhCong) {\n\t\t\tthis.getSoTienQuyBHYTTTTrongGoi(this.idYeuCauTiepNhan);\n\t\t}\n\t}\n\n\tasync getThongTinYeuCauBenhNhan(id) {\n\t\tlet responseThongTinBenhNhan = await this.baseService.getById<any>(id).toPromise();\n\t\tthis.thongTinBenhNhan = responseThongTinBenhNhan;\n\t\tawait this.loadSoTienQuyBHYTVaTamUng(this.idYeuCauTiepNhan);\n\t\tif (responseThongTinBenhNhan.CoBHYT === true) {\n\t\t\tthis.kiemTraPhieuThuCoBHYT(this.idYeuCauTiepNhan);\n\t\t\tthis.kiemTraPhieuThuGoiCoBHYT(this.idYeuCauTiepNhan);\n\t\t}\n\t\tif (responseThongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans != undefined &&\n\t\t\tresponseThongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans != null &&\n\t\t\tresponseThongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans.length > 0) {\n\t\t\tconst isDoneBindCongTyBHTN = this.bindCongTyBHTNBenhNhan(responseThongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans);\n\t\t\tif (isDoneBindCongTyBHTN) {\n\t\t\t\tthis.kiemTraThongTinBaoHiemTN = true;\n\t\t\t}\n\t\t}\n\t}\n\n\tbindCongTyBHTNBenhNhan(thongTinCongTyBaoHiemTuNhans: any): boolean {\n\t\tthis.dataSourceDanhSachBHTN.data = thongTinCongTyBaoHiemTuNhans;\n\t\tthis.thongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans.forEach((element) => {\n\t\t\tvar congNoItem = new ThongTinCongTyBaoHiemTuNhans();\n\t\t\tcongNoItem.Id = element.Id;\n\t\t\tcongNoItem.SoTienCongNo = element.SoTienCongNo;\n\t\t\tcongNoItem.TenCongTy = element.TenCongTy;\n\t\t\tthis.thongTinBenhNhantam.push(congNoItem);\n\t\t});\n\t\treturn true;\n\t}\n\n\tkiemTraThongTinTruocKhiThuTien(): string {\n\t\tif (this.danhSachChuaXacNhanBHYT != undefined && this.danhSachChuaXacNhanBHYT != null\n\t\t\t&& this.danhSachChuaXacNhanBHYT.data.length > 0) {\n\t\t\treturn this.commonThuTien.ErrorChuaXacNhanTienBHYT;\n\t\t}\n\n\t\tif (this.isTienBNTraOrTraBN && !this.flagCheckSeletedTienMat && !this.flagCheckSeletedChuyenKhoan && !this.flagCheckSeletedPos) {\n\t\t\treturn this.commonThuTien.VuiLongChonHTTT;\n\t\t}\n\n\t\tif (this.danhSachChuaThanhToans.data.length == 0) {\n\t\t\treturn this.commonThuTien.VuiLongChonDVTT;\n\t\t}\n\n\t\tif (this.flagCheckSeletedTienMat) {\n\t\t\tif (this.thuTien.TienBenhNhanDua != 0 && this.thuTien.TienBenhNhanDua < this.thuTien.TienMat) {\n\t\t\t\treturn this.commonThuTien.ErrorSoTienBenhNhanDuaKhongDung;\n\t\t\t}\n\t\t}\n\t}\n\n\tshowThongBaoSoTienBenhNhan(): [boolean, number] {\n\t\tlet soTienBenhNhanTra = 0;\n\t\tif (this.tongTienBNThanhToan !== this.thuTien.SoTienCongNo)\n\t\t\tsoTienBenhNhanTra = this.tienPhaiTraBenhNhan;\n\t\telse\n\t\t\tsoTienBenhNhanTra = this.thuTien.SoTienCongNo;\n\n\t\tlet duaLaiBenhNhan = (this.soDuTaiKhoanBenhNhan + this.soTienQuyBHYTTTTrongGoi) - this.tongTienBNThanhToan - this.thuTien.SoTienCongNo > 0;\n\t\tif (duaLaiBenhNhan) {\n\t\t\tsoTienBenhNhanTra = (this.soDuTaiKhoanBenhNhan + this.soTienQuyBHYTTTTrongGoi) - this.tongTienBNThanhToan - this.thuTien.SoTienCongNo;\n\t\t}\n\n\t\tif (this.tongTienBNThanhToan === this.thuTien.SoTienCongNo || duaLaiBenhNhan)\n\t\t\tthis.defeautSoTien();\n\n\t\treturn [duaLaiBenhNhan, soTienBenhNhanTra]\n\t}\n\n\tthanhToanKemDichVuTrongGoi() {\n\t\tvar self = this;\n\t\tthis.validationErrors = [];\n\t\tthis.cdRef.detectChanges();\n\t\tlet hoten = this.thongTinBenhNhan.HoTen;\n\n\t\tif (this.setDefeautTienMat.length === 0) {\n\t\t\tthis.validationErrors.push({\n\t\t\t\tMessage: this.commonThuTien.ShowVuiLongChonHTTT,\n\t\t\t\tField: this.commonThuTien.HinhThucThanhToan,\n\t\t\t});\n\t\t\treturn true;\n\t\t}\n\n\t\tlet showThongBaoLoiThuTien = this.kiemTraThongTinTruocKhiThuTien();\n\t\tif (showThongBaoLoiThuTien != undefined && showThongBaoLoiThuTien != \"\") {\n\t\t\tthis.notificationService.showError(showThongBaoLoiThuTien);\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this.thuTien.NoiDungThu == \"\") {\n\t\t\tthis.validationErrors.push({\n\t\t\t\tMessage: this.commonThuTien.NoiDungThuMessage,\n\t\t\t\tField: this.commonThuTien.NoiDungThuField,\n\t\t\t});\n\t\t\treturn true;\n\t\t}\n\n\t\tlet [duaLaiBenhNhan, soTienBenhNhanTra] = this.showThongBaoSoTienBenhNhan();\n\n\t\tthis.confrim = this.dialog\n\t\t\t.open(ThongTinDichVuChuaDuocXacNhanComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: \"800px\",\n\t\t\t\tdata: { soTienBenhNhanTra, hoten, duaLaiBenhNhan },\n\t\t\t})\n\t\t\t.afterClosed()\n\t\t\t.subscribe((result) => {\n\t\t\t\tif (result == \"Yes\") {\n\t\t\t\t\tthis.showLoadingPopup();\n\n\t\t\t\t\t//========================xử lý dịch vụ đã chọn và kiểm tra lần tính này có chọn toa thuốc hay không==========\n\t\t\t\t\tif (this.danhSachChuaThanhToans.data != null) {\n\t\t\t\t\t\tthis.thuTien.DanhSachChiPhiKhamChuaBenhDaChons = this.danhSachChuaThanhToans.data;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet kiemTraToaThuoc = false;\n\t\t\t\t\tfor (let index = 0; index < this.danhSachChuaThanhToans.data.length; index++) {\n\t\t\t\t\t\tconst element = this.danhSachChuaThanhToans.data[index].Nhom.indexOf(\":\");\n\t\t\t\t\t\tif (element > 0) {\n\t\t\t\t\t\t\tkiemTraToaThuoc = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//======================================================================\n\t\t\t\t\t//========================xử lý công nợ=================================\n\t\t\t\t\tthis.danhSachCongNos = [];\n\t\t\t\t\tif (this.dataSourceDanhSachBHTN.data != null) {\n\t\t\t\t\t\tthis.dataSourceDanhSachBHTN.data.forEach((element) => {\n\t\t\t\t\t\t\tlet danhSachCongNo = {} as DanhSachCongNo;\n\t\t\t\t\t\t\tif (element.SoTienCongNo !== null && element.SoTienCongNo !== undefined) {\n\t\t\t\t\t\t\t\tdanhSachCongNo.CongTyCongNoId = element.Id;\n\t\t\t\t\t\t\t\tdanhSachCongNo.SoTienCongNo = element.SoTienCongNo;\n\t\t\t\t\t\t\t\tthis.danhSachCongNos.push(danhSachCongNo);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.thuTien.DanhSachCongNos = this.danhSachCongNos;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.thuTien.Id = this.idYeuCauTiepNhan;\n\t\t\t\t\t//=============================================================================\n\n\t\t\t\t\tself.apiService.post<any>(\"ThuNgan/ThuPhiKhamChuaBenhVaQuyetToanDichVuTrongGoi\", this.thuTien).subscribe(\n\t\t\t\t\t\t(ketQuaKhiThanhToan) => {\n\t\t\t\t\t\t\tthis.dataSourceChanged = true;\n\t\t\t\t\t\t\tthis.notificationService.showSuccess(this.commonThuTien.ThuTienThanhCong);\n\t\t\t\t\t\t\tthis.setDefeautTienMat = [1];\n\t\t\t\t\t\t\tthis.defeautSoTien();\n\n\n\t\t\t\t\t\t\t//====================checked res thành công ===========================\n\t\t\t\t\t\t\tif (ketQuaKhiThanhToan.PhieuThuIds != undefined && ketQuaKhiThanhToan.PhieuThuIds != null &&\n\t\t\t\t\t\t\t\tketQuaKhiThanhToan.PhieuThuIds.length > 0) {\n\t\t\t\t\t\t\t\tthis.taiKhoanThuId = ketQuaKhiThanhToan.PhieuThuId;\n\t\t\t\t\t\t\t\tlet phieuHoanUngId = 0;\n\t\t\t\t\t\t\t\t//====================Sau khi hoàn thu tiền thi show modal xác nhận cần show====================\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlet phieuHoanUngIds = \"\";\n\t\t\t\t\t\t\t\tlet taiKhoanThus = \"\";\n\n\t\t\t\t\t\t\t\tthis.loadSoTienQuyBHYTVaTamUng(this.idYeuCauTiepNhan);\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\tthis.dialog\n\t\t\t\t\t\t\t\t\t.open(XacNhanPhieuThuComponent, {\n\t\t\t\t\t\t\t\t\t\twidth: \"400px\",\n\t\t\t\t\t\t\t\t\t\tdisableClose: true,\n\t\t\t\t\t\t\t\t\t\tdata: { kiemTraToaThuoc, phieuHoanUngId },\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.afterClosed()\n\t\t\t\t\t\t\t\t\t.subscribe((result) => {\n\t\t\t\t\t\t\t\t\t\tif (result != null && result.length != 0 && result !== \"\") {\n\t\t\t\t\t\t\t\t\t\t\tlet typeLoai = \"\";\n\t\t\t\t\t\t\t\t\t\t\tresult.forEach((loaiPhieu) => {\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (loaiPhieu) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase this.commonThuTien.InPhieuThu:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeLoai += \"InPhieuThu,\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase this.commonThuTien.BangKeThuoc:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeLoai += \"BangKeThuoc,\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase this.commonThuTien.InPhieuHoanUng:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeLoai += \"InPhieuHoanUng,\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase this.commonThuTien.InCPKhamNgoaiTru:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeLoai += \"InCPKhamNgoaiTru\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\tif (ketQuaKhiThanhToan.PhieuThuIds != undefined && ketQuaKhiThanhToan.PhieuThuIds != null &&\n\t\t\t\t\t\t\t\t\t\t\t\tketQuaKhiThanhToan.PhieuThuIds.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\tketQuaKhiThanhToan.PhieuThuIds.forEach(element => {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttaiKhoanThus += element + \",\";\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif (ketQuaKhiThanhToan.PhieuHoanUngIds != undefined && ketQuaKhiThanhToan.PhieuHoanUngIds != null &&\n\t\t\t\t\t\t\t\t\t\t\t\tketQuaKhiThanhToan.PhieuHoanUngIds.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\tketQuaKhiThanhToan.PhieuHoanUngIds.forEach(element => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tphieuHoanUngIds += element + \",\";\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tthis.inPhieuPhieuThuVuaThuGoiMarketingPdf(taiKhoanThus, 0, typeLoai, phieuHoanUngIds);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthis.linkSauKhiThuTien();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t//====================Sau khi hoàn thu tiền thi show modal xác nhận cần show====================\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t(err: ApiError) => {\n\t\t\t\t\t\t\tthis.validationErrors = err.ValidationErrors;\n\t\t\t\t\t\t\tif (err.Message != \"Validation Failed\") {\n\t\t\t\t\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.closeAllDialogs();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t// };\n\t}\n\n\tinPhieuPhieuThuVuaThuGoiMarketingPdf(taiKhoanThuId: string, taiKhoanChiId: any, loaiTypes: any, phieuHoanUngIds: string) {\n\t\tlet arrFileUrl: Array<any> = [];\n\t\tlet arrFilePdf: Array<any> = [];\n\t\tlet hostingName = window.location.protocol + '//' + window.location.host;\n\t\tthis.showLoadingPopup();\n\n\t\tthis.apiService.postExportPdf<any>(\"ThuNgan/XemNhieuPhieuThu?hostingName=\" + hostingName + \"&taiKhoanThuIds=\" + taiKhoanThuId + \"&phieuHoanUngIds=\" + phieuHoanUngIds + \"&yeuCauTiepNhanId=\" + this.idYeuCauTiepNhan+ \"&loaiTypes=\" + loaiTypes)\n\t\t\t.subscribe(\n\t\t\t\t(file) => {\n\t\t\t\t\tlet newBlob = new Blob([file], { type: \"application/pdf\" });\n\t\t\t\t\tlet datalocalURL = window.URL.createObjectURL(newBlob);\n\t\t\t\t\tarrFileUrl.push(datalocalURL);\n\t\t\t\t\tarrFilePdf.push(file);\n\n\t\t\t\t\tif (arrFilePdf.length > 0) {\n\t\t\t\t\t\tthis.dialog\n\t\t\t\t\t\t\t.open(CommonPdfPopupComponent, {\n\t\t\t\t\t\t\t\tdisableClose: false,\n\t\t\t\t\t\t\t\twidth: \"1000px\",\n\t\t\t\t\t\t\t\tdata: { arrFileUrl, arrFilePdf },\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.afterClosed()\n\t\t\t\t\t\t\t.subscribe(() => {\n\t\t\t\t\t\t\t\tthis.linkSauKhiThuTien();\n\t\t\t\t\t\t\t\tthis.closeAllDialogs();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.closeAllDialogs();\n\t\t\t\t\t\tthis.notificationService.showError(\"Chưa có thông tin dịch vụ.\");\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\t(err: ApiError) => {\n\t\t\t\t\tif (err.Message !== \"Validation Failed\") {\n\t\t\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\t\t\tthis.closeAllDialogs();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t}\n\n\tngAfterViewChecked() {\n\t\tthis.cdRef.detectChanges();\n\t}\n\n\tpublic totalTienCongNo(field: any) {\n\t\tswitch (field) {\n\t\t\tcase \"SoTienCongNo\":\n\t\t\t\treturn this.dataSourceDanhSachBHTN.data.reduce((sum, item) => sum + item.SoTienCongNo, 0);\n\t\t}\n\t}\n\n\tgetSoDuTaiKhoanBenhNhan(id: number) {\n\t\tthis.apiService.get<number>(\"ThuNgan/SoDuTaiKhoanBenhNhan/\" + id).subscribe((resultData) => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.soDuTaiKhoanBenhNhan = resultData;\n\t\t\t}\n\t\t});\n\n\t\tthis.apiService.get<number>(\"ThuNgan/SoTienUocLuongConLai/\" + id).subscribe((resultData) => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.soTienConLaiBenhNhan = resultData;\n\t\t\t}\n\t\t});\n\t}\n\n\tgetSoTienQuyBHYTTTTrongGoi(id: number) {\n\t\tthis.apiService.get<number>(\"ThuNgan/SoTienQuyBHYTTTTrongGoi/\" + id).subscribe((resultData) => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.soTienQuyBHYTTTTrongGoi = resultData;\n\t\t\t}\n\t\t});\n\t}\n\n\tloadSoTienQuyBHYTVaTamUng(yeuCauTiepNhanId: number) {\n\t\tthis.getSoDuTaiKhoanBenhNhan(yeuCauTiepNhanId);\n\t\tthis.getSoTienQuyBHYTTTTrongGoi(yeuCauTiepNhanId);\n\t\tthis.kiemTraCoPhieuThuCongNo(yeuCauTiepNhanId);\n\t}\n\n\tuploadFileDone(tapTin: any) {\n\t\tif (tapTin != null) {\n\t\t\tthis.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam = tapTin;\n\t\t}\n\t\tif (!(this.cdRef as ViewRef).destroyed) {\n\t\t\tthis.cdRef.detectChanges();\n\t\t}\n\t\tif (tapTin != null) {\n\t\t\tthis.thuNganValidationErrors = [];\n\t\t}\n\t\tif (this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam != null) {\n\t\t\tvar thongTinMGThem = {\n\t\t\t\tIdYeuCauTiepNhan: this.idYeuCauTiepNhan,\n\t\t\t\tTaiLieuDinhKem: this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam,\n\t\t\t};\n\t\t\tthis.apiService.post<any>(\"ThuNgan/ThemThongTinMiemGiamThemVaVoucher\", thongTinMGThem).subscribe(\n\t\t\t\t(resultData) => {\n\t\t\t\t\tif (resultData) {\n\t\t\t\t\t\tthis.cdRef.detectChanges();\n\t\t\t\t\t}\n\t\t\t\t\tthis.notificationService.showSuccess(this.commonThuTien.ApDungGiayMiemGiamThanhCong);\n\t\t\t\t},\n\t\t\t\t() => { }\n\t\t\t);\n\t\t\tthis.getThongTinMienGiam(this.idYeuCauTiepNhan);\n\t\t}\n\t}\n\n\tremoveEvent(event: any) {\n\t\tvar thongTinMGThem = {\n\t\t\tIdYeuCauTiepNhan: this.idYeuCauTiepNhan,\n\t\t\tTaiLieuDinhKem: this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam,\n\t\t};\n\t\tthis.apiService.post<any>(\"ThuNgan/XoaThongTinMienGiam\", thongTinMGThem).subscribe(\n\t\t\t(resultData) => {\n\t\t\t\tif (resultData) {\n\t\t\t\t\tthis.getThongTinMienGiam(this.idYeuCauTiepNhan);\n\t\t\t\t}\n\t\t\t\tthis.notificationService.showSuccess(this.commonThuTien.XoaMiemGiamThanhCong);\n\t\t\t},\n\t\t\t() => { }\n\t\t);\n\t}\n\n\tonKey(event: any) {\n\t\tif (event.keyCode === 13) {\n\t\t}\n\t}\n\n\tonKeyTienMatonKeyTienMat() {\n\t\tthis.thuTien.TienTraLaiBenhNhan = 0;\n\t\tthis.thuTien.TienBenhNhanDua = 0;\n\t}\n\n\tchangeValueTienBenhNhanDua(event: any) {\n\t\tthis.thuTien.TienTraLaiBenhNhan = this.thuTien.TienBenhNhanDua - this.thuTien.TienMat;\n\t\tif (this.thuTien.TienTraLaiBenhNhan < 0) {\n\t\t\tthis.thuTien.TienTraLaiBenhNhan = 0;\n\t\t}\n\t}\n\n\ttienTrongTaiKhoan(soDuTK: number) {\n\t\tthis.soDuTaiKhoanBenhNhan = soDuTK;\n\t\tthis.dataSourceChanged = true;\n\t\tthis.dataSourceChangedTamUng = true;\n\t}\n\n\ttienTrongTaiKhoanTralaiBN(soDuTK: number) {\n\t\tthis.soDuTaiKhoanBenhNhan = soDuTK;\n\t}\n\n\ttienTrongTaiKhoanBNTraTien(soDuTK: number) {\n\t\tthis.soDuTaiKhoanBenhNhan = soDuTK;\n\t}\n\n\tmodelChangeTienCongNo(event: any) {\n\t\tlet kiemTraSoTien = (this.soDuTaiKhoanBenhNhan + this.soTienQuyBHYTTTTrongGoi) - this.tongTienBNThanhToan - event;\n\t\tthis.isTienBNTraOrTraBN = kiemTraSoTien <= 0;\n\t\tif (this.isTienBNTraOrTraBN) {\n\t\t\tthis.tienPhaiTraBenhNhan = (this.tongTienBNThanhToan - event) - this.soDuTaiKhoanBenhNhan - this.soTienQuyBHYTTTTrongGoi;\n\t\t\tthis.clearDataSetDefaut((this.tongTienBNThanhToan - event) - this.soDuTaiKhoanBenhNhan - this.soTienQuyBHYTTTTrongGoi);\n\t\t}\n\t}\n\n\tclearDataSetDefaut(soTien: any) {\n\t\tthis.clearHinhThucThanhToan();\n\t\tthis.hinhThucThanhToan[0];\n\t\tthis.setDefeautTienMat = [1];\n\t\tthis.defeautSoTien();\n\t\tthis.checkSeletedTienMat = true;\n\t\tthis.flagCheckSeletedTienMat = true;\n\t\tthis.thuTien.TienMat = Math.round(soTien);\n\t\tif (this.thuTien.TienBenhNhanDua > 0) {\n\t\t\tthis.thuTien.TienTraLaiBenhNhan = this.thuTien.TienBenhNhanDua - this.thuTien.TienMat;\n\t\t}\n\t}\n\n\tkiemTraYeuCauKhamBenhNhapVien() {\n\t\tthis.apiService.get<boolean>(\"ThuNgan/KiemTraYeuCauNhapVien/\" + this.idYeuCauTiepNhan).subscribe((resultData) => {\n\t\t\tthis.chuyenVaoNoiTru = resultData;\n\t\t});\n\t}\n\n\tChuyenVaoNoiTru() {\n\t\tthis.dialog\n\t\t\t.open(ConfirmComponent, {\n\t\t\t\tdisableClose: false,\n\t\t\t\twidth: \"400px\",\n\t\t\t\tdata: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn chuyển bệnh nhân vào nội trú hay không?\" },\n\t\t\t})\n\t\t\t.afterClosed()\n\t\t\t.subscribe((result) => {\n\t\t\t\tif (result === \"Yes\") {\n\t\t\t\t\tthis.apiService.get<boolean>(\"ThuNgan/ChuyenVaoNoiTru/\" + this.idYeuCauTiepNhan).subscribe((resultData) => {\n\t\t\t\t\t\tif (resultData) {\n\t\t\t\t\t\t\tthis.router.navigate([\"/danh-sach-thu-dich-vu\"]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tkiemTraSuDungGoi() {\n\t\tthis.apiService.get<any>(\"ThuNgan/KiemTraSuDungGoi/\" + this.idYeuCauTiepNhan).subscribe((resultData) => {\n\t\t\tif (resultData) {\n\t\t\t\tthis.ktSuDungGoi = resultData;\n\t\t\t}\n\t\t});\n\t}\n\n\tchiTietGoiMarketing() {\n\t\tif (this.ktSuDungGoi != undefined && this.ktSuDungGoi != null) {\n\t\t\tthis.router.navigateByUrl(\"/danh-sach-thu-goi-marketing/chi-tiet-cho-quyet-toan-marketing/\" + this.ktSuDungGoi);\n\t\t}\n\t}\n\n\tthuTienBenhNhan() {\n\t\tvar self = this;\n\t\tthis.validationErrors = [];\n\t\tthis.cdRef.detectChanges();\n\n\t\t//Kiểm tra danh sách chua thu đã xác nhận bhyt chưa\n\t\tif (this.danhSachChuaXacNhanBHYT != undefined && this.danhSachChuaXacNhanBHYT != null\n\t\t\t&& this.danhSachChuaXacNhanBHYT.data.length > 0) {\n\t\t\tthis.notificationService.showError(this.commonThuTien.ErrorChuaXacNhanTienBHYT);\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this.setDefeautTienMat.length === 0) {\n\t\t\tthis.validationErrors.push({\n\t\t\t\tMessage: this.commonThuTien.ShowVuiLongChonHTTT,\n\t\t\t\tField: this.commonThuTien.HinhThucThanhToan,\n\t\t\t});\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this.isTienBNTraOrTraBN && !this.flagCheckSeletedTienMat && !this.flagCheckSeletedChuyenKhoan && !this.flagCheckSeletedPos) {\n\t\t\tthis.notificationService.showError(this.commonThuTien.VuiLongChonHTTT);\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this.danhSachChuaThanhToans.data.length == 0) {\n\t\t\tthis.notificationService.showError(this.commonThuTien.VuiLongChonDVTT);\n\t\t\treturn true;\n\t\t}\n\n\t\tlet checkSoTienChoTungDichVu: Boolean = false;\n\t\tthis.danhSachChuaThanhToans.data.forEach((element) => {\n\t\t\tif (element.CapNhatThanhToan == true) {\n\t\t\t\tcheckSoTienChoTungDichVu = false;\n\t\t\t} else if ((element.CapNhatThanhToan == false && element.KiemTraTienSoTienItemDichVu == true) || element.BNConPhaiThanhToan < 0) {\n\t\t\t\tcheckSoTienChoTungDichVu = true;\n\t\t\t}\n\t\t\tif (element.CapNhatThanhToan == true && this.tienPhaiTraBenhNhan < 0) {\n\t\t\t\tthis.thuTien.TienMat = 0;\n\t\t\t\tthis.thuTien.SoTienHoanLaiThanhToan = this.tienPhaiTraBenhNhan;\n\t\t\t}\n\t\t});\n\n\t\tif (checkSoTienChoTungDichVu) {\n\t\t\tthis.notificationService.showError(this.commonThuTien.ErrorSoTienDVKhongDung);\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this.flagCheckSeletedTienMat) {\n\t\t\tif (this.thuTien.TienBenhNhanDua != 0 && this.thuTien.TienBenhNhanDua < this.thuTien.TienMat) {\n\t\t\t\tthis.notificationService.showError(this.commonThuTien.ErrorSoTienBenhNhanDuaKhongDung);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tif (this.thuTien.NoiDungThu == \"\") {\n\t\t\tthis.validationErrors.push({\n\t\t\t\tMessage: this.commonThuTien.NoiDungThuMessage,\n\t\t\t\tField: this.commonThuTien.NoiDungThuField,\n\t\t\t});\n\t\t\treturn true;\n\t\t}\n\n\t\tlet soTienBenhNhanTra = 0;\n\t\tif (this.tongTienBNThanhToan === this.thuTien.SoTienCongNo) {\n\t\t\tsoTienBenhNhanTra = this.thuTien.SoTienCongNo;\n\t\t\tthis.defeautSoTien();\n\t\t}\n\t\telse {\n\t\t\tsoTienBenhNhanTra = this.tienPhaiTraBenhNhan;\n\t\t}\n\n\t\tlet duaLaiBenhNhan = (this.soDuTaiKhoanBenhNhan + this.soTienQuyBHYTTTTrongGoi) - (this.tongTienBNThanhToan - this.thuTien.SoTienCongNo) > 0;\n\t\tif (duaLaiBenhNhan) {\n\t\t\tsoTienBenhNhanTra = (this.soDuTaiKhoanBenhNhan + this.soTienQuyBHYTTTTrongGoi) - (this.tongTienBNThanhToan - this.thuTien.SoTienCongNo);\n\t\t\tthis.defeautSoTien();\n\t\t}\n\n\t\tlet hoten = this.thongTinBenhNhan.HoTen;\n\n\t\tif (this.confrim != null) {\n\t\t\tthis.dialog.closeAll();\n\t\t\tthis.confrim = null;\n\t\t}\n\n\t\tthis.confrim = this.dialog\n\t\t\t.open(ThongTinDichVuChuaDuocXacNhanComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: \"800px\",\n\t\t\t\tdata: { soTienBenhNhanTra, hoten, duaLaiBenhNhan },\n\t\t\t})\n\t\t\t.afterClosed()\n\t\t\t.subscribe((result) => {\n\t\t\t\tif (result == \"Yes\") {\n\t\t\t\t\t//========================xử lý dịch vụ đã chọn và kiểm tra lần tính này có chọn toa thuốc hay không==========\n\t\t\t\t\tif (this.danhSachChuaThanhToans.data != null) {\n\t\t\t\t\t\tthis.thuTien.DanhSachChiPhiKhamChuaBenhDaChons = this.danhSachChuaThanhToans.data;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet kiemTraToaThuoc = false;\n\t\t\t\t\tfor (let index = 0; index < this.danhSachChuaThanhToans.data.length; index++) {\n\t\t\t\t\t\tconst element = this.danhSachChuaThanhToans.data[index].Nhom.indexOf(\":\");\n\t\t\t\t\t\tif (element > 0) {\n\t\t\t\t\t\t\tkiemTraToaThuoc = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//======================================================================\n\t\t\t\t\t//========================xử lý công nợ=================================\n\t\t\t\t\tthis.danhSachCongNos = [];\n\t\t\t\t\tif (this.dataSourceDanhSachBHTN.data != null) {\n\t\t\t\t\t\tthis.dataSourceDanhSachBHTN.data.forEach((element) => {\n\t\t\t\t\t\t\tlet danhSachCongNo = {} as DanhSachCongNo;\n\t\t\t\t\t\t\tif (element.SoTienCongNo !== null && element.SoTienCongNo !== undefined) {\n\t\t\t\t\t\t\t\tdanhSachCongNo.CongTyCongNoId = element.Id;\n\t\t\t\t\t\t\t\tdanhSachCongNo.SoTienCongNo = element.SoTienCongNo;\n\t\t\t\t\t\t\t\tthis.danhSachCongNos.push(danhSachCongNo);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.thuTien.DanhSachCongNos = this.danhSachCongNos;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.thuTien.Id = this.idYeuCauTiepNhan;\n\t\t\t\t\t//=============================================================================\n\n\t\t\t\t\tself.apiService.post<any>(\"ThuNgan/ThuTienPhiBenhNhan\", this.thuTien).subscribe(\n\t\t\t\t\t\t(ketQuaKhiThanhToan) => {\n\t\t\t\t\t\t\tthis.dataSourceChanged = true;\n\t\t\t\t\t\t\tthis.notificationService.showSuccess(this.commonThuTien.ThuTienThanhCong);\n\t\t\t\t\t\t\tthis.setDefeautTienMat = [1];\n\t\t\t\t\t\t\tthis.defeautSoTien();\n\n\t\t\t\t\t\t\t//====================checked res thành công ===========================\n\t\t\t\t\t\t\tif (ketQuaKhiThanhToan != 0) {\n\t\t\t\t\t\t\t\tthis.taiKhoanThuId = ketQuaKhiThanhToan.PhieuThuId;\n\t\t\t\t\t\t\t\tlet phieuHoanUngId = ketQuaKhiThanhToan.PhieuHoanUngId;\n\t\t\t\t\t\t\t\t//====================Sau khi hoàn thu tiền thi show modal xác nhận cần show====================\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tthis.loadSoTienQuyBHYTVaTamUng(this.idYeuCauTiepNhan);\n\n\t\t\t\t\t\t\t\tthis.dialog\n\t\t\t\t\t\t\t\t\t.open(XacNhanPhieuThuComponent, {\n\t\t\t\t\t\t\t\t\t\twidth: \"400px\",\n\t\t\t\t\t\t\t\t\t\tdisableClose: true,\n\t\t\t\t\t\t\t\t\t\tdata: { kiemTraToaThuoc, phieuHoanUngId },\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.afterClosed()\n\t\t\t\t\t\t\t\t\t.subscribe((result) => {\n\t\t\t\t\t\t\t\t\t\tif (result != null && result.length != 0 && result !== \"\") {\n\t\t\t\t\t\t\t\t\t\t\tlet typeLoai = \"\";\n\t\t\t\t\t\t\t\t\t\t\tresult.forEach((loaiPhieu) => {\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (loaiPhieu) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase this.commonThuTien.InPhieuThu:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeLoai += \"InPhieuThu,\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase this.commonThuTien.BangKeThuoc:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeLoai += \"BangKeThuoc,\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase this.commonThuTien.InPhieuHoanUng:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeLoai += \"InPhieuHoanUng,\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase this.commonThuTien.InCPKhamNgoaiTru:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeLoai += \"InCPKhamNgoaiTru\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tthis.inPhieuPdf(this.taiKhoanThuId, phieuHoanUngId, typeLoai, \"\");\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthis.linkSauKhiThuTien();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t//====================Sau khi hoàn thu tiền thi show modal xác nhận cần show====================\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t(err: ApiError) => {\n\t\t\t\t\t\t\tthis.validationErrors = err.ValidationErrors;\n\t\t\t\t\t\t\tif (err.Message != \"Validation Failed\") {\n\t\t\t\t\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.linkSauKhiThuTien();\n\t\t\t\t}\n\t\t\t});\n\t\t// };\n\t}\n\n\tasync xemTaiLieu(dataItem) {\n\t\tconst params = new HttpParams({\n\t\t\tfromObject: {\n\t\t\t\ttenGuid: dataItem.TenGuid,\n\t\t\t\tduongDan: dataItem.DuongDan,\n\t\t\t},\n\t\t});\n\t\tthis.apiService.get<any>(\"TaiLieuDinhKem/GetTaiLieuUrl\", params).subscribe((resp) => {\n\t\t\tif (resp) {\n\t\t\t\tif (dataItem.TenGuid.indexOf(\".pdf\") != -1 || dataItem.TenGuid.indexOf(\".PDF\") != -1) {\n\t\t\t\t\tthis.dialog.open(ViewImagePdfComponent, {\n\t\t\t\t\t\tdisableClose: false,\n\t\t\t\t\t\twidth: \"1000px\",\n\t\t\t\t\t\theight: \"600px\",\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tType: \"PDF\",\n\t\t\t\t\t\t\tTitle: \"Xem tài liệu\",\n\t\t\t\t\t\t\tDescription: resp.MoTa !== null ? resp.MoTa : \"\",\n\t\t\t\t\t\t\tSrc: resp,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.dialog.open(ViewImagePdfComponent, {\n\t\t\t\t\t\tdisableClose: false,\n\t\t\t\t\t\twidth: \"1000px\",\n\t\t\t\t\t\theight: \"600px\",\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tType: \"Image\",\n\t\t\t\t\t\t\tTitle: \"Xem ảnh\",\n\t\t\t\t\t\t\tDescription: resp.MoTa !== null ? resp.MoTa : \"\",\n\t\t\t\t\t\t\tSrc: resp,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tdefeautSoTien() {\n\t\tthis.thuTien.TienMat = 0;\n\t\tthis.thuTien.POS = 0;\n\t\tthis.thuTien.ChuyenKhoan = 0;\n\t\t// this.thuTien.SoTienCongNo = 0;\n\t\tthis.thuTien.TienTraLaiBenhNhan = 0;\n\t\tthis.thuTien.TienBenhNhanDua = 0;\n\t}\n\n\tmodelChangeCongNo(event: any, type: any) {\n\t\tlet total = this.tienPhaiTraBenhNhan - this.thuTien.TienMat - this.thuTien.ChuyenKhoan - this.thuTien.POS;\n\t\tthis.selectMoneyTienPos = [total, 0];\n\t\tthis.thuTien.SoTienCongNo = event;\n\n\t\tthis.valueChangeInput(type);\n\t}\n\n\tmodelChangePos(event: any, type: any) {\n\t\tlet total = this.tienPhaiTraBenhNhan - this.thuTien.TienMat - this.thuTien.ChuyenKhoan;\n\t\tthis.selectMoneyTienPos = [total, 0];\n\t\tthis.thuTien.POS = event;\n\n\t\tthis.valueChangeInput(type);\n\t}\n\n\tmodelChangeChuyenKhoan(event: any, type: any) {\n\t\tlet total = this.tienPhaiTraBenhNhan - this.thuTien.TienMat - this.thuTien.POS;\n\t\tthis.selectMoneyTienChuyenKhoan = [total, 0];\n\t\tthis.thuTien.ChuyenKhoan = event;\n\n\t\tthis.valueChangeInput(type);\n\t}\n\n\tmodelChangeTienMat(event: any, type: any) {\n\t\tlet total = this.tienPhaiTraBenhNhan - this.thuTien.ChuyenKhoan - this.thuTien.POS;\n\t\tthis.selectMoneyTienMat = [total, 0];\n\n\t\tthis.thuTien.TienTraLaiBenhNhan = this.thuTien.TienBenhNhanDua - this.thuTien.TienMat;\n\t\tif (this.thuTien.TienTraLaiBenhNhan < 0) {\n\t\t\tthis.thuTien.TienTraLaiBenhNhan = 0;\n\t\t}\n\t\tthis.thuTien.TienMat = event;\n\n\t\tthis.valueChangeInput(type);\n\t}\n\n\tmodelChangeTienBNDua(event: any) {\n\t\tthis.selectMoneyTienBNDua = [this.tienPhaiTraBenhNhan, 100000000000];\n\t\tthis.thuTien.TienTraLaiBenhNhan = this.thuTien.TienBenhNhanDua - this.thuTien.TienMat;\n\n\t\tif (this.thuTien.TienTraLaiBenhNhan < 0) {\n\t\t\tthis.thuTien.TienTraLaiBenhNhan = 0;\n\t\t}\n\t}\n\n\tvalueChangeInput(type: number) {\n\t\tif (this.thuTien.TienTraLaiBenhNhan < 0) {\n\t\t\tthis.thuTien.TienTraLaiBenhNhan = 0;\n\t\t}\n\t\tthis.hinhThucThanhToan.forEach((item) => {\n\t\t\tif (item.KeyId == type) {\n\t\t\t\titem.Change = true;\n\t\t\t}\n\t\t});\n\t\tvar itemNotChanges = this.hinhThucThanhToan.filter((o) => o.Selected == true && o.Change == false);\n\t\tif (itemNotChanges.length == 1) {\n\t\t\tthis.changeSoTienWhenInput(itemNotChanges[0].KeyId);\n\t\t} else {\n\t\t\tif (itemNotChanges.length == 0 && this.hinhThucThanhToan.filter((o) => o.Selected == true).length == 2) {\n\t\t\t\tvar items = this.hinhThucThanhToan.filter((o) => o.Selected == true && o.KeyId != type);\n\t\t\t\tthis.changeSoTienWhenInput(items[0].KeyId);\n\t\t\t}\n\t\t}\n\t\tif (this.thuTien.TienMat + this.thuTien.ChuyenKhoan + this.thuTien.POS != this.tienPhaiTraBenhNhan) {\n\t\t\tthis.showCanhBaoSoTienNhap = true;\n\t\t} else {\n\t\t\tthis.showCanhBaoSoTienNhap = false;\n\t\t}\n\t\tthis.changeTienTraLaiBenhNhan();\n\t}\n\n\tchangeSoTienWhenInput(item: any) {\n\t\tswitch (item) {\n\t\t\tcase this.commonThuTien.TienMat:\n\t\t\t\tthis.thuTien.TienMat = this.tienPhaiTraBenhNhan - this.thuTien.ChuyenKhoan - this.thuTien.POS < 0 ? 0 : this.tienPhaiTraBenhNhan - this.thuTien.ChuyenKhoan - this.thuTien.POS;\n\t\t\t\tbreak;\n\t\t\tcase this.commonThuTien.ChuyenKhoan:\n\t\t\t\tthis.thuTien.ChuyenKhoan = this.tienPhaiTraBenhNhan - this.thuTien.TienMat - this.thuTien.POS < 0 ? 0 : this.tienPhaiTraBenhNhan - this.thuTien.TienMat - this.thuTien.POS;\n\t\t\t\tbreak;\n\t\t\tcase this.commonThuTien.Pos:\n\t\t\t\tthis.thuTien.POS = this.tienPhaiTraBenhNhan - this.thuTien.ChuyenKhoan - this.thuTien.TienMat < 0 ? 0 : this.tienPhaiTraBenhNhan - this.thuTien.ChuyenKhoan - this.thuTien.TienMat;\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tselectionChangeHinhThucThanhToan(event: any) {\n\t\tthis.clearHinhThucThanhToan();\n\t\tthis.defeautSoTien();\n\t\tthis.showCanhBaoSoTienNhap = false;\n\t\tif (event != null && event.length === 1) {\n\t\t\tthis.changeSoTienWhenInput(event[0].KeyId);\n\t\t}\n\n\t\tevent.forEach((element) => {\n\t\t\tswitch (element) {\n\t\t\t\tcase this.commonThuTien.TienMat:\n\t\t\t\t\tthis.flagCheckSeletedTienMat = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.commonThuTien.ChuyenKhoan:\n\t\t\t\t\tthis.flagCheckSeletedChuyenKhoan = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.commonThuTien.Pos:\n\t\t\t\t\tthis.flagCheckSeletedPos = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.commonThuTien.CongNo:\n\t\t\t\t\tthis.flagCheckSeletedCongNo = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tthis.hinhThucThanhToan.forEach((item) => {\n\t\t\titem.Change = false;\n\t\t});\n\n\t\t//Cập nhật trạng thái chọn\n\t\tthis.hinhThucThanhToan.forEach((item) => {\n\t\t\tif (event.filter((o) => o == item.KeyId).length > 0) {\n\t\t\t\titem.Selected = true;\n\t\t\t\t//Nếu chỉ chọn 1 loại HTTT thì số tiền = số tiền phải thu\n\t\t\t\tif (event.length == 1) {\n\t\t\t\t\tswitch (item.KeyId) {\n\t\t\t\t\t\tcase this.commonThuTien.TienMat:\n\t\t\t\t\t\t\tthis.thuTien.TienMat = this.tienPhaiTraBenhNhan;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase this.commonThuTien.ChuyenKhoan:\n\t\t\t\t\t\t\tthis.thuTien.ChuyenKhoan = this.tienPhaiTraBenhNhan;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase this.commonThuTien.Pos:\n\t\t\t\t\t\t\tthis.thuTien.POS = this.tienPhaiTraBenhNhan;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\titem.Selected = false;\n\t\t\t}\n\t\t});\n\t\tthis.cdRef.detectChanges();\n\t}\n\n\tclearHinhThucThanhToan() {\n\t\tthis.flagCheckSeletedTienMat = false;\n\t\tthis.flagCheckSeletedChuyenKhoan = false;\n\t\tthis.flagCheckSeletedPos = false;\n\t\tthis.flagCheckSeletedCongNo = false;\n\n\t\tthis.checkSeletedTienMat = false;\n\t\tthis.checkSeletedChuyenKhoan = false;\n\t\tthis.checkSeletedPos = false;\n\t\tthis.checkSeletedCongNo = false;\n\t}\n\n\tchangeTienTraLaiBenhNhan() {\n\t\tif (this.thuTien.TienBenhNhanDua > this.thuTien.TienMat) {\n\t\t\tthis.thuTien.TienTraLaiBenhNhan = this.thuTien.TienBenhNhanDua - this.thuTien.TienMat;\n\t\t} else {\n\t\t\tthis.thuTien.TienTraLaiBenhNhan = 0;\n\t\t}\n\t}\n\n\tinPhieuPdf(taiKhoanThuId: any, taiKhoanChiId: any, loaiTypes: any, phieuHoanUngIds: string) {\n\t\tlet loading = this.dialog.open(LoadingComponent, {\n\t\t\tdisableClose: true,\n\t\t\twidth: \"200px\",\n\t\t\theight: \"90px\",\n\t\t\tdata: { Title: 'Đang tải...' }\n\t\t});\n\t\tlet idYeuCauTiepNhan = this.idYeuCauTiepNhan;\n\t\tthis.dialog\n\t\t\t.open(ThongTinPhieuNgoaiTruPopupComponent, {\n\t\t\t\tdisableClose: false,\n\t\t\t\twidth: \"1000px\",\n\t\t\t\tdata: { taiKhoanThuId, taiKhoanChiId, idYeuCauTiepNhan, loaiTypes, phieuHoanUngIds },\n\t\t\t})\n\t\t\t.afterClosed()\n\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.linkSauKhiThuTien();\n\t\t\t\tloading.close();\n\t\t\t});\n\t}\n\n\tlinkSauKhiThuTien() {\n\t\tlet yctn = this.route.snapshot.queryParams.yctn;\n\t\tif (yctn) {\n\t\t\tthis.router.navigateByUrl(\"/them-yeu-cau-tiep-nhan\");\n\t\t} else {\n\t\t\tif (this.chuyenVaoNoiTru) {\n\t\t\t\twindow.location.href = \"/danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/\" + this.idYeuCauTiepNhan + \"?loaiThanhToan=1\";\n\t\t\t} else {\n\t\t\t\tthis.router.navigate([\"/danh-sach-thu-dich-vu\"]);\n\t\t\t}\n\t\t}\n\t}\n\n\tsoTienBenhNhanCanThanhToan(): number {\n\t\tlet totalBHYT = 0;\n\t\tlet totalThanhTien = 0;\n\t\tif (this.danhSachChuaThanhToans.data != undefined && this.danhSachChuaThanhToans.data != null) {\n\t\t\tthis.danhSachChuaThanhToans.data.forEach(element => {\n\t\t\t\tif (element.CheckedDefault === true) {\n\t\t\t\t\ttotalThanhTien += element.ThanhTien;\n\t\t\t\t\ttotalBHYT += element.BHYTThanhToan;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn (Math.round((totalThanhTien - totalBHYT) * 100) / 100);\n\t}\n\n\tsoTienBenhNhanCanThanhToanTrongGoi(): number {\n\t\tlet totalBHYT = 0;\n\t\tlet totalThanhTien = 0;\n\t\tif (this.chiTienQuyetToan.DanhSachChiPhiKhamChuaBenhTrongGoiDichVus != undefined &&\n\t\t\tthis.chiTienQuyetToan.DanhSachChiPhiKhamChuaBenhTrongGoiDichVus != null) {\n\t\t\tthis.chiTienQuyetToan.DanhSachChiPhiKhamChuaBenhTrongGoiDichVus.forEach(element => {\n\t\t\t\tif (element.CheckedDefault === true) {\n\t\t\t\t\ttotalThanhTien += element.ThanhTien;\n\t\t\t\t\ttotalBHYT += element.BHYTThanhToan;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn (Math.round((totalThanhTien - totalBHYT) * 100) / 100);\n\t}\n\n\tapDungCongNoChoPhanChuaThu(soTienCongApDungCongTy, id) {\n\t\tthis.soTienCongNoTam = soTienCongApDungCongTy;\n\t\tlet soTienNBCanThanhToan = this.soTienBenhNhanCanThanhToan();\n\t\tif (soTienCongApDungCongTy >= 0) {\n\t\t\tif (this.danhSachChuaThanhToans.data.length > 0 &&\n\t\t\t\tsoTienCongApDungCongTy > soTienNBCanThanhToan) {\n\t\t\t\tthis.notificationService.showError(this.commonThuTien.ApDungCongNoKhongLonSoTienThanhToanDichVu);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.apDungCongNo = true;\n\t\t\t\tthis.apDungMiemGiam = false;\n\n\t\t\t\tfor (const tam of this.thongTinBenhNhantam) {\n\t\t\t\t\tif (tam.Id === id) {\n\t\t\t\t\t\tthis.position = this.thongTinBenhNhantam.indexOf(tam);\n\t\t\t\t\t\ttam.SoTienCongNo = soTienCongApDungCongTy;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.thongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans.filter((e) => (e.SoTienCongNo = 0));\n\t\t\t\tthis.notificationService.showSuccess(this.commonThuTien.ApDungCongNoThanhCong);\n\t\t\t}\n\t\t}\n\t}\n\n\tapDungCongNoChoPhanThuTrongGoi(soTienCongApDungCongTy, id) {\n\t\tthis.soTienCongNoTam = soTienCongApDungCongTy;\n\t\tlet soTienNBCanThanhToan = this.soTienBenhNhanCanThanhToanTrongGoi();\n\t\tif (soTienCongApDungCongTy >= 0) {\n\t\t\tif (this.chiTienQuyetToan.DanhSachChiPhiKhamChuaBenhTrongGoiDichVus.length > 0 &&\n\t\t\t\tsoTienCongApDungCongTy > soTienNBCanThanhToan) {\n\t\t\t\tthis.notificationService.showError(this.commonThuTien.ApDungCongNoKhongLonSoTienThanhToanDichVu);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.apDungCongNoTrongGoi = true;\n\t\t\t\tfor (const tam of this.thongTinBenhNhantam) {\n\t\t\t\t\tif (tam.Id === id) {\n\t\t\t\t\t\tthis.position = this.thongTinBenhNhantam.indexOf(tam);\n\t\t\t\t\t\ttam.SoTienCongNo = soTienCongApDungCongTy;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.thongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans.filter((e) => (e.SoTienCongNo = 0));\n\t\t\t\tthis.notificationService.showSuccess(this.commonThuTien.ApDungCongNoThanhCong);\n\t\t\t}\n\t\t}\n\t}\n\n\tapDungCongNoCongTyBHTN(soTienCongApDungCongTy: any, id: number) {\n\t\tif (this.titleActive === \"Chưa thu\") {\n\t\t\tthis.apDungCongNoChoPhanChuaThu(soTienCongApDungCongTy, id);\n\t\t}\n\t\tif (this.titleActive === \"Quyết toán gói marketing\") {\n\t\t\tthis.apDungCongNoChoPhanThuTrongGoi(soTienCongApDungCongTy, id);\n\t\t}\n\t}\n\n\n\tonKeyCongNo(event: any, soTienCongNo: any, id: number) {\n\t\tif (event.key == \"Enter\") {\n\t\t\tthis.apDungCongNoCongTyBHTN(soTienCongNo, id);\n\t\t}\n\t}\n\n\tkiemTraDSCongNo(check: any) {\n\t\tif (check) {\n\t\t\tthis.getThongTinMienGiam(this.idYeuCauTiepNhan);\n\t\t\tthis.apDungMiemGiam = true;\n\t\t}\n\t}\n\n\tgetThongTinMienGiam(id: number) {\n\t\tthis.apiService.get<any>(\"ThuNgan/GetThongTinMienGiam?yeuCauTiepNhanId=\" + id).subscribe((resultData) => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.flagShowDoiTuongUuDaiOrVoucher = true;\n\t\t\t\tif (resultData.ThongTinMienGiamTheoDoiTuongUuDaiVo != null || resultData.ThongTinMienGiamTheoDoiTuongUuDaiVo != undefined) {\n\t\t\t\t\tthis.flagShowDoiTuongUuDai = true;\n\t\t\t\t\tthis.flagApDung = true;\n\t\t\t\t\tthis.flagShowDoiTuongUuDaiOrVoucher = false;\n\t\t\t\t\tthis.thongTinMienGiamTheoDoiTuongUuDai = {\n\t\t\t\t\t\tCongTyUudai: resultData.ThongTinMienGiamTheoDoiTuongUuDaiVo.CongTyUudai,\n\t\t\t\t\t\tDoiTuongUuDai: resultData.ThongTinMienGiamTheoDoiTuongUuDaiVo.DoiTuongUuDai,\n\t\t\t\t\t\tDichVuMiemGiamTheoTiLes: resultData.ThongTinMienGiamTheoDoiTuongUuDaiVo.DichVuMiemGiamTheoTiLes,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (resultData.ThongTinMienGiamVoucherVo != null || resultData.ThongTinMienGiamVoucherVo != undefined) {\n\t\t\t\t\tthis.flagEnableVoucher = true;\n\t\t\t\t\tthis.flagApDung = true;\n\t\t\t\t\tif (resultData.ThongTinMienGiamVoucherVo.MaVouchers.length > 0) {\n\t\t\t\t\t\tthis.listVouchers = [];\n\t\t\t\t\t\tthis.listTmpVouchers = [];\n\t\t\t\t\t\tresultData.ThongTinMienGiamVoucherVo.MaVouchers.forEach((element) => {\n\t\t\t\t\t\t\tthis.listVouchers.push(element.KeyId);\n\t\t\t\t\t\t\tthis.listOldVouchers.push(element.KeyId);\n\t\t\t\t\t\t\tthis.listTmpVouchers.push(element.KeyId);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (this.flagEnableVoucher === true) {\n\t\t\t\t\t\tthis.disabledVoucher = true;\n\t\t\t\t\t}\n\t\t\t\t\tthis.thongTinMienGiamVoucher = {\n\t\t\t\t\t\tMaVouchers: resultData.ThongTinMienGiamVoucherVo.MaVouchers,\n\t\t\t\t\t\tDichVuMiemGiamTheoTiLes: resultData.ThongTinMienGiamVoucherVo.DichVuMiemGiamTheoTiLes,\n\t\t\t\t\t\tLoaiVoucher: resultData.ThongTinMienGiamVoucherVo.LoaiVoucher,\n\t\t\t\t\t\tTenVoucher: resultData.ThongTinMienGiamVoucherVo.TenVoucher,\n\t\t\t\t\t\tSoTienVoucherMiemGiam: resultData.ThongTinMienGiamVoucherVo.SoTienVoucherMiemGiam,\n\t\t\t\t\t};\n\t\t\t\t\tthis.loaiVoucher = resultData.ThongTinMienGiamVoucherVo.LoaiVoucher;\n\t\t\t\t}\n\n\t\t\t\tif (resultData.ThongTinMienGiamThemVo != null || resultData.ThongTinMienGiamThemVo != undefined) {\n\t\t\t\t\tthis.flagEnableMGThem = true;\n\t\t\t\t\tthis.flagApDung = true;\n\t\t\t\t\tif (this.flagEnableMGThem === true) {\n\t\t\t\t\t\tthis.disabledMGThem = true;\n\t\t\t\t\t}\n\t\t\t\t\tthis.taiLieuDinhKemGiayMiemGiamVo = resultData.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam;\n\n\t\t\t\t\t// số tiền mg mà nhập vào bé hơn standardMG thì sẽ báo lỗi\n\t\t\t\t\tthis.standardMG = this.thongTinMienGiamThem.SoTienMG;\n\n\t\t\t\t\tif (this.thongTinMienGiamThem.SoTienMG != 0) {\n\t\t\t\t\t\tthis.disabledSoTienMG = false;\n\t\t\t\t\t\tthis.checkedMGTGiaTri = true;\n\t\t\t\t\t\tthis.formGroup = new FormGroup({\n\t\t\t\t\t\t\tloaiMG: new FormControl(\"one\"),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.thongTinMienGiamThem.TiLeMienGiam != 0) {\n\t\t\t\t\t\tthis.disabledTiLeMG = false;\n\t\t\t\t\t\tthis.checkedMGTTiLe = true;\n\t\t\t\t\t\tthis.checkHiddenSoTienConLai = true;\n\t\t\t\t\t\tthis.formGroup = new FormGroup({\n\t\t\t\t\t\t\tloaiMG: new FormControl(\"two\"),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (this.thongTinMienGiamThem != null && this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam != null &&\n\t\t\t\t\t\tthis.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam.Ten != null) {\n\t\t\t\t\t\tthis.isExistFile = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.formGroup = new FormGroup({\n\t\t\t\t\t\tloaiMG: new FormControl(),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tonOpenChange() {\n\t\tthis.voucherList.getDataForLookup();\n\t}\n\n\tkiemTraPhieuThuCoBHYT(event: any) {\n\t\tthis.apiService.get<any>(\"ThuNgan/KiemTraPhieuThuCoBHYT/\" + this.idYeuCauTiepNhan).subscribe(\n\t\t\t(resultData) => {\n\t\t\t\tif (resultData.Item1 > 0) {\n\t\t\t\t\tthis.kiemTraPhieuThuBHYT = true;\n\t\t\t\t\tthis.phieuThuId = resultData.Item1;\n\t\t\t\t\tthis.tenPhieuThu = resultData.Item2;\n\t\t\t\t} else {\n\t\t\t\t\tthis.kiemTraPhieuThuBHYT = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t() => { }\n\t\t);\n\t}\n\n\tkiemTraPhieuThuGoiCoBHYT(event: any) {\n\t\tthis.apiService.get<any>(\"ThuNgan/KiemTraPhieuThuGoiCoBHYT/\" + this.idYeuCauTiepNhan).subscribe(\n\t\t\t(resultData) => {\n\t\t\t\tif (resultData.Item1 > 0) {\n\t\t\t\t\tthis.kiemTraPhieuThuGoiBHYT = true;\n\t\t\t\t\tthis.phieuThuGoiId = resultData.Item1;\n\t\t\t\t\tthis.tenPhieuThuGoi = resultData.Item2;\n\t\t\t\t} else {\n\t\t\t\t\tthis.kiemTraPhieuThuGoiBHYT = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t() => { }\n\t\t);\n\t}\n\n\tkiemTraCoPhieuThuCongNo(event: any) {\n\t\tthis.apiService.get<any>(\"ThuNgan/KiemTraCoPhieuThuCongNo/\" + this.idYeuCauTiepNhan).subscribe(\n\t\t\t(resultData) => {\n\t\t\t\tthis.ktCoPhieuThuCongNo = resultData;\n\t\t\t},\n\t\t\t() => { }\n\t\t);\n\t}\n\n\tQuetMaQRCodeClick() {\n\t\tlet elementBarcode: HTMLElement = document.getElementById(\"barcodeActive\") as HTMLElement;\n\t\tif (elementBarcode != undefined) {\n\t\t\telementBarcode.click();\n\t\t}\n\t}\n\n\tchangeQR($event) {\n\t\tif ($event != null && typeof $event == \"string\" && $event.endsWith(\"@\")) {\n\t\t\tthis.modelQRCode = $event;\n\t\t\tvar maVoucher = $event.split(\"@\");\n\t\t\tif (maVoucher.length > 1) {\n\t\t\t\tthis.kiemTraThongTinMaVoucher(maVoucher[0]);\n\t\t\t} else {\n\t\t\t\tthis.notificationService.showError(\"Mã voucher không hợp lệ.\");\n\t\t\t}\n\t\t}\n\t}\n\n\tkiemTraThongTinMaVoucher(maVoucher: any) {\n\t\tthis.apiService.post<any>(\"ThuNgan/KiemTraThongTinMaVoucher?maVoucher=\" + maVoucher + \"&yeuCauTiepNhanId=\" + this.idYeuCauTiepNhan + \"&benhNhanId=\" + this.thongTinBenhNhan.BenhNhanId).subscribe((resultData) => {\n\t\t\tif (resultData.Item1) {\n\t\t\t\tthis.notificationService.showError(resultData.Item2);\n\t\t\t\tthis.newBarcode = \"\";\n\t\t\t} else {\n\t\t\t\tthis.notificationService.showSuccess(resultData.Item2);\n\t\t\t\tthis.GetThongTheVoucher();\n\t\t\t\tthis.dataSourceChanged = true;\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic open(): void {\n\t\tthis.multiselect.toggle(false);\n\t}\n\n\tremoveTag(ev: any) {\n\t\tthis.listVoucherItem = this.value;\n\t\tif (this.value != null) {\n\t\t\tthis.KiemTraTheVoucherSuDung(ev.dataItem);\n\t\t}\n\t}\n\n\tblur() {\n\t\tif (this.newBarcode != \"\") {\n\t\t\tthis.kiemTraThongTinMaVoucher(this.newBarcode);\n\t\t}\n\t}\n\n\tonKeyBarCode(event: any) {\n\t\tif (event.keyCode === 13) {\n\t\t\tthis.multiselect.blur();\n\t\t\tthis.multiselect.focus();\n\t\t}\n\t}\n\n\tpublic filterChange(filter: any): void {\n\t\tif (filter != null && filter != \"\") {\n\t\t\tthis.newBarcode = filter;\n\t\t}\n\t}\n\n\tGetThongTheVoucher() {\n\t\tthis.value = [];\n\t\tthis.apiService.get<any>(\"ThuNgan/GetMaVoucher?yeucauTiepNhanId=\" + this.idYeuCauTiepNhan).subscribe((resultData) => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tresultData.forEach((element) => {\n\t\t\t\t\tthis.value.push(element.DisplayName);\n\t\t\t\t\tthis.listVoucherItem.push(element.DisplayName);\n\t\t\t\t\tthis.newBarcode = \"\";\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tKiemTraTheVoucherSuDung(theVoucher: any) {\n\t\tlet thongTinVoucherTheoYeuCauTiepNhan = {} as ThongTinVoucherTheoYeuCauTiepNhan;\n\t\tthongTinVoucherTheoYeuCauTiepNhan.TheVoucher = theVoucher;\n\t\tthongTinVoucherTheoYeuCauTiepNhan.YeucauTiepNhanId = this.idYeuCauTiepNhan;\n\t\tthis.apiService.post<any>(\"ThuNgan/KiemTraTheVoucherSuDung\", thongTinVoucherTheoYeuCauTiepNhan).subscribe((resultData) => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.GetThongTheVoucher();\n\t\t\t\tthis.notificationService.showError(resultData.Item2);\n\t\t\t\tthis.newBarcode = \"\";\n\t\t\t\tif (!resultData.Item1) {\n\t\t\t\t\tthis.dataSourceChanged = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\txemBangKeNgoaiTruChoThu() {\n\t\tlet loading = this.dialog.open(LoadingComponent, {\n\t\t\tdisableClose: true,\n\t\t\twidth: \"200px\",\n\t\t\theight: \"90px\",\n\t\t\tdata: {},\n\t\t});\n\n\t\tlet arrFileUrl: Array<any> = [];\n\t\tlet arrFilePdf: Array<any> = [];\n\n\t\tlet danhSachChiPhiThuTamUng = new DanhSachChiPhiThuTamUng();\n\t\tdanhSachChiPhiThuTamUng.Id = this.idYeuCauTiepNhan;\n\t\tdanhSachChiPhiThuTamUng.DanhSachChiPhiKhamChuaBenhDaChons = this.danhSachChuaThanhToans.data;\n\n\t\tthis.apiService.postExportPdf<any>(\"ThuNgan/InBangKeNgoaiTruChoThu\", danhSachChiPhiThuTamUng).subscribe(\n\t\t\t(file) => {\n\t\t\t\tlet newBlob = new Blob([file], { type: \"application/pdf\" });\n\t\t\t\tlet datalocalURL = window.URL.createObjectURL(newBlob);\n\t\t\t\tarrFileUrl.push(datalocalURL);\n\t\t\t\tarrFilePdf.push(file);\n\t\t\t\tif (arrFilePdf.length > 0) {\n\t\t\t\t\tthis.dialog\n\t\t\t\t\t\t.open(CommonPdfPopupNgoaiTruComponent, {\n\t\t\t\t\t\t\tdisableClose: false,\n\t\t\t\t\t\t\twidth: \"1000px\",\n\t\t\t\t\t\t\tdata: { arrFileUrl, arrFilePdf, danhSachChiPhiThuTamUng: danhSachChiPhiThuTamUng, loaiBangKeChiPhi: LoaiBangKeChiPhi.BangKeChoThu },\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.afterClosed()\n\t\t\t\t\t\t.subscribe(result => { loading.close(); });\n\t\t\t\t} else {\n\t\t\t\t\tthis.notificationService.showError(\"Chưa có thông tin dịch vụ.\");\n\t\t\t\t\tloading.close();\n\t\t\t\t}\n\t\t\t},\n\t\t\t(err: ApiError) => {\n\t\t\t\tif (err.Message !== \"Validation Failed\") {\n\t\t\t\t\tloading.close();\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\txemBangKeNgoaiTruTrongGoiChoThu() {\n\t\tlet loading = this.dialog.open(LoadingComponent, {\n\t\t\tdisableClose: true,\n\t\t\twidth: \"200px\",\n\t\t\theight: \"90px\",\n\t\t\tdata: {},\n\t\t});\n\n\t\tlet arrFileUrl: Array<any> = [];\n\t\tlet arrFilePdf: Array<any> = [];\n\n\t\tlet quyetToanDichVuTrongGoiVo = new QuyetToanDichVuTrongGoiVo();\n\t\tquyetToanDichVuTrongGoiVo.Id = this.idYeuCauTiepNhan;\n\t\tquyetToanDichVuTrongGoiVo.NgayThu = this.chiTienQuyetToan.NgayThu;\n\t\tquyetToanDichVuTrongGoiVo.DanhSachChiPhiKhamChuaBenhTrongGoiDichVus = this.chiTienQuyetToan.DanhSachChiPhiKhamChuaBenhTrongGoiDichVus;\n\n\t\tthis.apiService.postExportPdf<any>(\"ThuNgan/InBangKeNgoaiTruTrongGoiChoThu\", quyetToanDichVuTrongGoiVo).subscribe(\n\t\t\t(file) => {\n\t\t\t\tlet newBlob = new Blob([file], { type: \"application/pdf\" });\n\t\t\t\tlet datalocalURL = window.URL.createObjectURL(newBlob);\n\t\t\t\tarrFileUrl.push(datalocalURL);\n\t\t\t\tarrFilePdf.push(file);\n\t\t\t\tif (arrFilePdf.length > 0) {\n\t\t\t\t\tthis.dialog\n\t\t\t\t\t\t.open(CommonPdfPopupNgoaiTruComponent, {\n\t\t\t\t\t\t\tdisableClose: false,\n\t\t\t\t\t\t\twidth: \"1000px\",\n\t\t\t\t\t\t\tdata: { arrFileUrl, arrFilePdf, danhSachChiPhiThuTamUng: quyetToanDichVuTrongGoiVo, loaiBangKeChiPhi: LoaiBangKeChiPhi.BangKeChoThu },\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.afterClosed()\n\t\t\t\t\t\t.subscribe(result => { loading.close(); });\n\t\t\t\t} else {\n\t\t\t\t\tthis.notificationService.showError(\"Chưa có thông tin dịch vụ.\");\n\t\t\t\t\tloading.close();\n\t\t\t\t}\n\t\t\t},\n\t\t\t(err: ApiError) => {\n\t\t\t\tif (err.Message !== \"Validation Failed\") {\n\t\t\t\t\tloading.close();\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tshowLoadingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang tải...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tshowSavingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang lưu...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tcloseAllDialogs() {\n\t\tif (this.loadingPopup) {\n\t\t\tthis.loadingPopup.close();\n\t\t\tthis.loadingPopup = null;\n\t\t}\n\t}\n\n\t@HostListener(\"document:keydown\", [\"$event\"])\n\tkeyEvent(event: KeyboardEvent) {\n\t\tif (event.keyCode == 83 && event.ctrlKey) {\n\t\t\t// ctrl + s\n\t\t\tif (this.tabIndex == 0) {\n\t\t\t\tthis.thuTienBenhNhan();\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t}\n\t\tif (event.keyCode == 112 && event.ctrlKey) {\n\t\t\t// ctrl + f1\n\t\t\tthis.changeValue(this.commonThuTien.ThuTien);\n\t\t\tevent.preventDefault();\n\t\t}\n\t\tif (event.keyCode == 113 && event.ctrlKey) {\n\t\t\t//ctrl + f2\n\t\t\tthis.changeValue(this.commonThuTien.ThuTamUng);\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode == 117 && event.ctrlKey) {\n\t\t\t//ctrl + f6\n\t\t\tif (this.loaiThanhToan === true) {\n\t\t\t\tthis.tabDanhSachThuTien.selectTab(0);\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t}\n\t\tif (event.keyCode == 118 && event.ctrlKey) {\n\t\t\tif (this.loaiThanhToan === true) {\n\t\t\t\t//ctrl + f7\n\t\t\t\tthis.tabDanhSachThuTien.selectTab(1);\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t}\n\t\tif (event.keyCode == 27 && !event.ctrlKey) {\n\t\t\t//esc\n\t\t\tthis.BackToList();\n\t\t\tevent.preventDefault();\n\t\t}\n\t\tif (event.keyCode == 81 && event.ctrlKey) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.QuetMaQRCodeClick();\n\t\t}\n\t}\n\n}\n","export default \".color-red {\\n  color: red;\\n}\\n\\n.padding-thu-tien {\\n  padding: 5px 16px 28px 13px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2NoaS10aWV0LXRodS10aWVuLXRhbS11bmcvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aHUtY2hpXFx0aHUtY2hpLXZpZW4tcGhpXFxuZ29haS10cnVcXGNoby10aHUtdGllblxcY2hpLXRpZXQtdGh1LXRpZW4tdGFtLXVuZ1xcY2hpLXRpZXQtdGh1LXRpZW4tdGFtLXVuZy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2NoaS10aWV0LXRodS10aWVuLXRhbS11bmcvY2hpLXRpZXQtdGh1LXRpZW4tdGFtLXVuZy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQUE7QUNDRjs7QURFQTtFQUNFLHNDQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGh1LWNoaS90aHUtY2hpLXZpZW4tcGhpL25nb2FpLXRydS9jaG8tdGh1LXRpZW4vY2hpLXRpZXQtdGh1LXRpZW4tdGFtLXVuZy9jaGktdGlldC10aHUtdGllbi10YW0tdW5nLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbG9yLXJlZCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5wYWRkaW5nLXRodS10aWVuIHtcbiAgcGFkZGluZzogNXB4IDE2cHggMjhweCAxM3B4ICFpbXBvcnRhbnQ7XG59IiwiLmNvbG9yLXJlZCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5wYWRkaW5nLXRodS10aWVuIHtcbiAgcGFkZGluZzogNXB4IDE2cHggMjhweCAxM3B4ICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, Input, ChangeDetectorRef, EventEmitter, Output, OnChanges, SimpleChanges, HostListener } from \"@angular/core\";\nimport { MatDialog } from \"@angular/material\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { ThuTienTamUng, CommonThuTien } from \"../cho-thu-tien.model\";\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { ApiError } from \"src/app/shared/models/api-error.model\";\nimport { ThongTinPhieuPdfPopupComponent } from \"../../../common/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component\";\nimport { XacNhanInTrucTiepComponent } from \"../../../common/xac-nhan-in-truc-tiep/xac-nhan-in-truc-tiep.component\";\nimport { ThongTinDichVuChuaDuocXacNhanComponent } from \"../../../common/thong-tin-dich-vu-chua-duoc-xac-nhan/thong-tin-dich-vu-chua-duoc-xac-nhan.component\";\nimport { truncate } from \"fs\";\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { ThongTinPhieuNgoaiTruPopupComponent } from \"../thong-tin-phieu-thu-popup/thong-tin-phieu-thu-popup.component\";\nimport { LoaiThanhToan } from \"../../../noi-tru/cho-thu-tien/cho-thu-tien.model\";\n@Component({\n\tselector: \"app-chi-tiet-thu-tien-tam-ung\",\n\ttemplateUrl: \"./chi-tiet-thu-tien-tam-ung.component.html\",\n\tstyleUrls: [\"./chi-tiet-thu-tien-tam-ung.component.scss\"],\n})\nexport class ChiTietThuTienTamUngComponent implements OnInit, OnChanges {\n\tpublic idYeuCauTiepNhan: number = 0;\n\tpublic seletedTienMat: boolean = true;\n\tpublic seletedChuyenKhoan: boolean = true;\n\tpublic seletedPos: boolean = true;\n\tpublic selectMoney: any[] = null;\n\tpublic selectMoneyChuyenKhoan: any[] = null;\n\tpublic selectMoneyPos: any[] = null;\n\tpublic selectMoneyTienTamUngBNDua: any[] = null;\n\tpublic tongSoTienTamUng: number = 0;\n\tpublic soTienTrongTaiKhoanBenhNhan: number = 0;\n\tpublic commonThuTien = new CommonThuTien();\n\n\tpublic setDefeautTienMat: any = [this.commonThuTien.TienMat];\n\n\tselectItem: number[] = [];\n\tflagCheckSeletedTienMat: boolean = false;\n\tflagCheckSeletedChuyenKhoan: boolean = false;\n\tflagCheckSeletedPos: boolean = false;\n\tvalidationErrors: any[] = [];\n\tdocumentType: DocumentType;\n\ttabIndex: number = 0;\n\tconfrim: any = null;\n\tthuTienTamUng: ThuTienTamUng;\n\tshowCanhBaoSoTienNhap: boolean = false;\n\n\tpublic hinhThucThanhToan: any = [\n\t\t{ KeyId: this.commonThuTien.TienMat, DisplayName: this.commonThuTien.TienMatText, Selected: false, Change: false },\n\t\t{ KeyId: this.commonThuTien.ChuyenKhoan, DisplayName: this.commonThuTien.ChuyenKhoanText, Selected: false, Change: false },\n\t\t{ KeyId: this.commonThuTien.Pos, DisplayName: this.commonThuTien.PosText, Selected: false, Change: false },\n\t];\n\tpublic loaiThanhToan = new LoaiThanhToan();\n\t\n\t@Input() dataSourceChangedTamUng: boolean = false;\n\t@Output() tienTrongTaiKhoan = new EventEmitter<any>();\n\t@Input() HoTenBenhNhan: string = null;\n\t@Input() SoTienThanhToanDV: number = 0;\n\t@Output() afterChanged = new EventEmitter<any>();\n\n\tconstructor(private dialog: MatDialog, private apiService: ApiService, private router: Router, private cdRef: ChangeDetectorRef, private notificationService: NotificationService, private route: ActivatedRoute) { }\n\n\tngOnInit() {\n\t\tthis.idYeuCauTiepNhan = this.route.snapshot.params.id;\n\t\tthis.getThongTinYeuCauBenhNhan(this.idYeuCauTiepNhan);\n\t\tthis.thuTienTamUng = {} as ThuTienTamUng;\n\t\tthis.selectItem = [1];\n\t\tthis.defeautSoTien();\n\t\tthis.flagCheckSeletedTienMat = true;\n\t\tthis.thuTienTamUng.NgayThuTamUng = new Date();\n\t\tthis.thuTienTamUng.NoiDungThuTamUng = \"Thu tạm ứng khám chữa bệnh ngoại trú.\";\n\t}\n\n\tonKey(event: any) {\n\t\tif (event.keyCode === 13) {\n\t\t}\n\t}\n\n\tInPhieuThu() { }\n\n\tngOnChanges(value: SimpleChanges) {\n\t\tif (this.dataSourceChangedTamUng == true) {\n\t\t\tthis.afterChanged.emit();\n\t\t}\n\t}\n\n\tsoTienTamUngToiThieu: number = 0;\n\tgetThongTinYeuCauBenhNhan(id) {\n\t\tthis.apiService.get<any>(\"ThuNgan/SoTienTamUng/\" + id).subscribe((resultData) => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.soTienTamUngToiThieu = resultData.SoTienTamUngToiThieu;\n\t\t\t\tthis.tongSoTienTamUng = resultData.SoTienTamUng;\n\t\t\t\tthis.thuTienTamUng.TienMat = this.tongSoTienTamUng;\n\t\t\t\tlet total = this.tongSoTienTamUng;\n\t\t\t\tthis.selectMoney = [total];\n\t\t\t}\n\t\t});\n\t}\n\n\tclearSoTienThanhToan() {\n        this.thuTienTamUng.TienMat = 0;\n        this.thuTienTamUng.ChuyenKhoan = 0;\n        this.thuTienTamUng.POS = 0;\n    }\n\t\n    evtHinhThucThanhToanChanged(event: any) {\n        this.showCanhBaoSoTienNhap = false;\n        this.clearHinhThucThanhToan();\n        this.clearSoTienThanhToan();\n    \n        event.forEach((item) => {\n            switch (item) {\n                case this.loaiThanhToan.TienMat:\n                    this.flagCheckSeletedTienMat = true;\n                    break;\n                case this.loaiThanhToan.ChuyenKhoan:\n                    this.flagCheckSeletedChuyenKhoan = true;\n                    break;\n                case this.loaiThanhToan.POS:\n                    this.flagCheckSeletedPos = true;\n                    break;\n            }\n        });\n\n        this.hinhThucThanhToan.forEach(item => { item.Change = false; });\n    \n        //Cập nhật trạng thái chọn\n        this.hinhThucThanhToan.forEach(item => {\n            if (event.filter(o => o == item.KeyId).length > 0) {\n                item.Selected = true;\n\n                //Nếu chỉ chọn 1 loại HTTT thì số tiền = số tiền phải thu\n                if (event.length == 1) {\n                    switch (item.KeyId) {\n                        case this.loaiThanhToan.TienMat:\n                            this.thuTienTamUng.TienMat = this.tongSoTienTamUng;\n                            break;\n                        case this.loaiThanhToan.ChuyenKhoan:\n                            this.thuTienTamUng.ChuyenKhoan = this.tongSoTienTamUng;\n                            break;\n                        case this.loaiThanhToan.POS:\n                            this.thuTienTamUng.POS = this.tongSoTienTamUng;\n                            break;\n                    }\n                }\n            } else {\n                item.Selected = false;\n            }\n        });\n    }\n\n\tclearHinhThucThanhToan() {\n\t\tthis.flagCheckSeletedTienMat = false;\n\t\tthis.flagCheckSeletedChuyenKhoan = false;\n\t\tthis.flagCheckSeletedPos = false;\n\t}\n\n\t//==================================Tính thu tiền và in phiếu thu==================================\n\tdefeautSoTien() {\n\t\tthis.thuTienTamUng.TienMat = 0;\n\t\tthis.thuTienTamUng.POS = 0;\n\t\tthis.thuTienTamUng.ChuyenKhoan = 0;\n\t\tthis.thuTienTamUng.TienTraLaiBenhNhan = 0;\n\t\tthis.thuTienTamUng.TienBenhNhanDua = 0;\n\t}\n\n\tkiemTraNhapSoTienTra() {\n\t\tlet soTienNhapTra = this.thuTienTamUng.TienMat + this.thuTienTamUng.POS + this.thuTienTamUng.ChuyenKhoan;\n\t\tif (this.tongSoTienTamUng !== soTienNhapTra) return true;\n\t\treturn false;\n\t}\n\n\tchangeValueTienBenhNhanDua(event: any) {\n\t\tthis.thuTienTamUng.TienTraLaiBenhNhan = this.thuTienTamUng.TienBenhNhanDua - this.thuTienTamUng.TienMat;\n\t\tif (this.thuTienTamUng.TienTraLaiBenhNhan < 0) {\n\t\t\tthis.thuTienTamUng.TienTraLaiBenhNhan = 0;\n\t\t}\n\t}\n\n\tevtTienMatChanged(event: any, type: any) {\n        let total = this.tongSoTienTamUng - this.thuTienTamUng.ChuyenKhoan - this.thuTienTamUng.POS;\n        this.selectMoney = [total, 0];\n    \n        this.changeInputsValue(type);\n    }\n\n    evtChuyenKhoanChanged(event: any, type: any) {\n        let total = this.tongSoTienTamUng - this.thuTienTamUng.TienMat - this.thuTienTamUng.POS;\n        this.selectMoneyChuyenKhoan = [total, 0];\n\n        this.changeInputsValue(type);\n    }\n\n    evtPOSChanged(event: any, type: any) {\n        let total = this.tongSoTienTamUng - this.thuTienTamUng.TienMat - this.thuTienTamUng.ChuyenKhoan;\n        this.selectMoneyPos = [total, 0];\n    \n        this.changeInputsValue(type);\n    }\n\n\tchangeInputsValue(type: number) {\t\t\n\t\tif (this.thuTienTamUng.TienTraLaiBenhNhan < 0) {\n\t\t\tthis.thuTienTamUng.TienTraLaiBenhNhan = 0;\n\t\t}\n\n\t\tthis.hinhThucThanhToan.forEach(item => {\n\t\t\tif (item.KeyId == type) {\n\t\t\t\titem.Change = true;\n\t\t\t}\n\t\t});\n\n\t\tvar itemNotChanges = this.hinhThucThanhToan.filter(o => o.Selected == true && o.Change == false);\n\n\t\tif (itemNotChanges.length == 1) {\n\t\t\tthis.changeSoTien(itemNotChanges[0].KeyId);\n\t\t} else {\n\t\t\tif (itemNotChanges.length == 0 && this.hinhThucThanhToan.filter(o => o.Selected == true).length == 2) {\n\t\t\t\tvar items = this.hinhThucThanhToan.filter(o => o.Selected == true && o.KeyId != type);\n\t\t\t\tthis.changeSoTien(items[0].KeyId);\n\t\t\t}\n\t\t}\n\n\t\tif (this.thuTienTamUng.TienMat + this.thuTienTamUng.ChuyenKhoan + this.thuTienTamUng.POS > this.tongSoTienTamUng) {\n\t\t\tthis.showCanhBaoSoTienNhap = true;\n\t\t} else {\n\t\t\tthis.showCanhBaoSoTienNhap = false;\n\t\t}\n\n\t\tthis.changeTienTraLaiBenhNhan();\n\t}\n\n\tchangeTienTraLaiBenhNhan() {\n\t\tif (this.thuTienTamUng.TienBenhNhanDua > this.thuTienTamUng.TienMat) {\n\t\t\tthis.thuTienTamUng.TienTraLaiBenhNhan = this.thuTienTamUng.TienBenhNhanDua - this.thuTienTamUng.TienMat;\n\t\t} else {\n\t\t\tthis.thuTienTamUng.TienTraLaiBenhNhan = 0;\n\t\t}\n\t}\n\n\tchangeSoTien(item: any) {\n\t\tswitch (item) {\n\t\t\tcase this.loaiThanhToan.TienMat:\n\t\t\t\tthis.thuTienTamUng.TienMat = (this.tongSoTienTamUng - this.thuTienTamUng.ChuyenKhoan - this.thuTienTamUng.POS) < 0 ? 0 : this.tongSoTienTamUng - this.thuTienTamUng.ChuyenKhoan - this.thuTienTamUng.POS;\n\t\t\t\tbreak;\n\t\t\tcase this.loaiThanhToan.ChuyenKhoan:\n\t\t\t\tthis.thuTienTamUng.ChuyenKhoan = (this.tongSoTienTamUng - this.thuTienTamUng.TienMat - this.thuTienTamUng.POS) < 0 ? 0 : this.tongSoTienTamUng - this.thuTienTamUng.TienMat - this.thuTienTamUng.POS;\n\t\t\t\tbreak;\n\t\t\tcase this.loaiThanhToan.POS:\n\t\t\t\tthis.thuTienTamUng.POS = (this.tongSoTienTamUng - this.thuTienTamUng.ChuyenKhoan - this.thuTienTamUng.TienMat) < 0 ? 0 : this.tongSoTienTamUng - this.thuTienTamUng.ChuyenKhoan - this.thuTienTamUng.TienMat;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tmodelChangeTienTamUngBNDua(event: any) {\n\t\tthis.selectMoneyTienTamUngBNDua = [this.tongSoTienTamUng, 100000000000];\n\t\tthis.thuTienTamUng.TienTraLaiBenhNhan = event - this.thuTienTamUng.TienMat;\n\t\tif (this.thuTienTamUng.TienTraLaiBenhNhan < 0) {\n\t\t\tthis.thuTienTamUng.TienTraLaiBenhNhan = 0;\n\t\t}\n\t}\n\n\tgetSoDuTaiKhoanBenhNhan(id) {\n\t\tthis.apiService.get<number>(\"ThuNgan/SoDuTaiKhoanBenhNhan/\" + id).subscribe((resultData) => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.tienTrongTaiKhoan.emit(resultData);\n\t\t\t\tthis.soTienTrongTaiKhoanBenhNhan = resultData;\n\t\t\t}\n\t\t});\n\t}\n\n\tThuTienTamUng() {\t\t\n\t\tvar self = this;\n\t\tthis.validationErrors = [];\n\t\tthis.cdRef.detectChanges();\n\n\t\tlet tongTienThu = this.thuTienTamUng.POS + this.thuTienTamUng.TienMat + this.thuTienTamUng.ChuyenKhoan;\n\t\tthis.thuTienTamUng.Id = this.idYeuCauTiepNhan;\n\n\t\tif (!this.flagCheckSeletedTienMat && !this.flagCheckSeletedChuyenKhoan && !this.flagCheckSeletedPos) {\n\t\t\tthis.notificationService.showError(this.commonThuTien.VuiLongChonHTTT);\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this.kiemTraNhapSoTienTra()) {\n\t\t\tthis.notificationService.showError(this.commonThuTien.ErrorSoTienNhapKhongDung);\n\t\t\treturn true;\n\t\t}\n\n\t\tif (tongTienThu == 0) {\n\t\t\tthis.notificationService.showError(this.commonThuTien.ErrorKiemTraSoTienTamUng);\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this.flagCheckSeletedTienMat) {\n\t\t\tif (this.thuTienTamUng.TienBenhNhanDua != 0 && this.thuTienTamUng.TienBenhNhanDua < this.thuTienTamUng.TienMat) {\n\t\t\t\tthis.notificationService.showError(this.commonThuTien.ErrorSoTienBenhNhanDuaKhongDung);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tif (this.thuTienTamUng.NoiDungThuTamUng == \"\") {\n\t\t\tthis.validationErrors.push({\n\t\t\t\tMessage: this.commonThuTien.ErrorNoiDungThuTamUng,\n\t\t\t\tField: this.commonThuTien.NoiDungThuTamUng,\n\t\t\t});\n\t\t\treturn true;\n\t\t}\n\n\t\t// NGUYỄN VĂN TÈO\n\t\tlet soTienBenhNhanTra = tongTienThu;\n\t\tlet hoten = this.HoTenBenhNhan;\n\t\tlet duaLaiBenhNhan = false;\n\n\t\tif (this.confrim != null) {\n\t\t\tthis.dialog.closeAll();\n\t\t\tthis.confrim = null;\n\t\t}\n\t\tthis.confrim = this.dialog\n\t\t\t.open(ThongTinDichVuChuaDuocXacNhanComponent, {\n\t\t\t\tdisableClose: false,\n\t\t\t\twidth: \"800px\",\n\t\t\t\tdata: { soTienBenhNhanTra, hoten, duaLaiBenhNhan },\n\t\t\t})\n\t\t\t.afterClosed()\n\t\t\t.subscribe((r) => {\n\t\t\t\tif (r == \"Yes\") {\n\t\t\t\t\tself.apiService.post(\"ThuNgan/ThuTienTamUng\", this.thuTienTamUng).subscribe(\n\t\t\t\t\t\t(res) => {\n\t\t\t\t\t\t\tthis.notificationService.showSuccess(this.commonThuTien.ShowTienTamUngThanhCong);\n\t\t\t\t\t\t\tthis.bindDataDefeault();\n\t\t\t\t\t\t\t//====================Checked res thành công tra id check id  ====================\n\t\t\t\t\t\t\tthis.getSoDuTaiKhoanBenhNhan(this.idYeuCauTiepNhan);\n\t\t\t\t\t\t\tif (res != 0) {\n\t\t\t\t\t\t\t\tif (res != null && r.res != 0) {\n\t\t\t\t\t\t\t\t\t//====================Chon thông tin tương ứng ta show modal và in phiếu ====================\n\t\t\t\t\t\t\t\t\tlet tk = res;\n\t\t\t\t\t\t\t\t\tthis.dialog\n\t\t\t\t\t\t\t\t\t\t.open(XacNhanInTrucTiepComponent, {\n\t\t\t\t\t\t\t\t\t\t\tdisableClose: true,\n\t\t\t\t\t\t\t\t\t\t\twidth: \"400px\",\n\t\t\t\t\t\t\t\t\t\t\tdata: \"ThuTamUng\",\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.afterClosed()\n\t\t\t\t\t\t\t\t\t\t.subscribe((resulttamung) => {\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tif (resulttamung == \"Yes\") {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.inPhieuPdf(tk, \"InPhieuThuTamUng\");\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.router.navigate([\"/danh-sach-thu-dich-vu\"], {\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryParamsHandling: \"preserve\",\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t(err: ApiError) => {\n\t\t\t\t\t\t\tthis.validationErrors = err.ValidationErrors;\n\t\t\t\t\t\t\tif (err.Message != \"Validation Failed\") {\n\t\t\t\t\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tinPhieuPdf(taiKhoanThuId: any, loaiTypes: any) {\n\t\tlet loading = this.dialog.open(LoadingComponent, {\n\t\t\tdisableClose: true,\n\t\t\twidth: \"200px\",\n\t\t\theight: \"90px\",\n\t\t\tdata: { Title: 'Đang tải...' }\n\t\t});\n\t\tlet idYeuCauTiepNhan = this.idYeuCauTiepNhan;\n\t\tlet taiKhoanChiId = 0;\n\t\tlet phieuHoanUngIds = \"\";\t\n\t\tthis.dialog\n\t\t\t.open(ThongTinPhieuNgoaiTruPopupComponent, {\n\t\t\t\tdisableClose: false,\n\t\t\t\twidth: \"1000px\",\n\t\t\t\tdata: { taiKhoanThuId, taiKhoanChiId, idYeuCauTiepNhan, loaiTypes, phieuHoanUngIds , tamUng: true },\n\t\t\t})\n\t\t\t.afterClosed()\n\t\t\t.subscribe(() => {\t\n\t\t\t\tthis.router.navigate([\"/danh-sach-thu-dich-vu\"], {\n\t\t\t\t\tqueryParamsHandling: \"preserve\",\n\t\t\t\t});\n\t\t\t\tloading.close();\n\t\t\t});\n\t}\n\n\tbindDataDefeault() {\n\t\tthis.thuTienTamUng.TienMat = 0;\n\t\tthis.thuTienTamUng.POS = 0;\n\t\tthis.thuTienTamUng.ChuyenKhoan = 0;\n\t\tthis.thuTienTamUng.TienTraLaiBenhNhan = 0;\n\t\tthis.thuTienTamUng.TienBenhNhanDua = 0;\n\t\tthis.setDefeautTienMat = [this.commonThuTien.TienMat];\n\t}\n\n\tonValueChangeSoTienTamUng(ev: any) {\n\t\tthis.thuTienTamUng.TienMat = 0;\n\t\tthis.thuTienTamUng.POS = 0;\n\t\tthis.thuTienTamUng.ChuyenKhoan = 0;\n\t\tthis.thuTienTamUng.TienTraLaiBenhNhan = 0;\n\t\tthis.thuTienTamUng.TienBenhNhanDua = 0;\n\t\tthis.selectItem = [1];\n\n\t\tif (this.flagCheckSeletedTienMat === true) {\n\t\t\tthis.thuTienTamUng.TienMat = ev;\n\t\t}\n\t\tif (this.flagCheckSeletedTienMat === false &&\n\t\t\tthis.flagCheckSeletedChuyenKhoan === true) {\n\t\t\tthis.thuTienTamUng.ChuyenKhoan = ev;\n\t\t}\n\t\tif (this.flagCheckSeletedChuyenKhoan == false &&\n\t\t\tthis.flagCheckSeletedPos === true) {\n\t\t\tthis.thuTienTamUng.POS = ev;\n\t\t}\n\t}\n\n\t@HostListener(\"document:keydown\", [\"$event\"])\n\tkeyEvent(event: KeyboardEvent) {\n\t\tif (event.keyCode == 83 && event.ctrlKey) {\n\t\t\t// ctrl + s\n\t\t\tif (this.tabIndex == 0) {\n\t\t\t\tthis.ThuTienTamUng();\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n}\n","import {NgModule} from \"@angular/core\";\nimport {Routes, RouterModule} from \"@angular/router\";\nimport {ChiTietCacKhoanPhaiThuComponent} from \"./chi-tiet-cac-khoan-phai-thu/chi-tiet-cac-khoan-phai-thu.component\";\nimport {DocumentType} from \"src/app/shared/enum/document-type.enum\";\nimport {SecurityOperation} from \"src/app/shared/enum/security-operation.enum\";\nimport {PermisssionGuard} from \"src/app/core/guards/permission-guard.service\";\nimport {DanhSachThuTienNgoaiTruComponent} from \"./danh-sach-thu-tien-benh-nhan/danh-sach-thu-tien-benh-nhan.component\";\nimport {ThongTinChiTietDaThuComponent} from \"./thong-tin-chi-tiet-da-thu/thong-tin-chi-tiet-da-thu.component\";\n\nconst routes: Routes = [\n\t{\n\t\tpath: \"\",\n\t\tcomponent: DanhSachThuTienNgoaiTruComponent,\n\t\tdata: {\n\t\t\ttitle: \"Danh sách chờ thu phí\",\n\t\t\tDocumentType: DocumentType.ThuNgan,\n\t\t\tSecurityOperation: SecurityOperation.View,\n\t\t},\n\t\tcanActivate: [PermisssionGuard],\n\t},\n\t{\n\t\tpath: \"thong-tin-chi-tiet-cho-thu-tien/:id\",\n\t\tcomponent: ChiTietCacKhoanPhaiThuComponent,\n\t\tdata: {\n\t\t\ttitle: \"Thông tin chi tiết chờ thu ngân\",\n\t\t\tDocumentType: DocumentType.ThuNgan,\n\t\t\tSecurityOperation: SecurityOperation.View,\n\t\t},\n\t\tcanActivate: [PermisssionGuard],\n\t},\n\t{\n\t\tpath: \"thong-tin-chi-tiet-da-thu-tien/:id\",\n\t\tcomponent: ThongTinChiTietDaThuComponent,\n\t\tdata: {\n\t\t\ttitle: \"Chi tiết đã quyết toán\",\n\t\t\tDocumentType: DocumentType.ThuNgan,\n\t\t\tSecurityOperation: SecurityOperation.View,\n\t\t},\n\t\tcanActivate: [PermisssionGuard],\n\t},\n];\n\n@NgModule({\n\timports: [RouterModule.forChild(routes)],\n\texports: [RouterModule],\n})\nexport class ChoThuTienRoutingModule {}\n","import {MatListModule} from \"@angular/material/list\";\nimport {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {ReactiveFormsModule, FormsModule} from \"@angular/forms\";\nimport {MatCheckboxModule, MatInputModule, MatOptionModule, MatSelectModule, MatTabsModule} from \"@angular/material\";\nimport {PageLayoutModule} from \"src/@vex/components/page-layout/page-layout.module\";\nimport {FlexLayoutModule} from \"@angular/flex-layout\";\nimport {BreadcrumbsModule} from \"src/@vex/components/breadcrumbs/breadcrumbs.module\";\nimport {TooltipModule} from \"@progress/kendo-angular-tooltip\";\nimport {SharedModule} from \"src/app/shared/shared.module\";\nimport {MatIconModule, MatMenuModule, MatButtonToggleModule, MatTooltipModule, MatButtonModule, MatDialogModule} from \"@angular/material\";\nimport {IconModule} from \"@visurel/iconify-angular\";\nimport {LayoutModule} from \"@progress/kendo-angular-layout\";\nimport {ChoThuTienRoutingModule} from \"./cho-thu-tien-routing.module\";\nimport {DsChuaThuTienComponent} from \"./ds-chua-thu-tien/ds-chua-thu-tien.component\";\nimport {DsDaThuTienComponent} from \"./ds-da-thu-tien/ds-da-thu-tien.component\";\nimport {ChiTietCacKhoanPhaiThuComponent} from \"./chi-tiet-cac-khoan-phai-thu/chi-tiet-cac-khoan-phai-thu.component\";\nimport {ChiTietThuTienTamUngComponent} from \"./chi-tiet-thu-tien-tam-ung/chi-tiet-thu-tien-tam-ung.component\";\nimport {MatRadioModule} from \"@angular/material/radio\";\nimport {GridModule} from \"@progress/kendo-angular-grid\";\nimport {ThongTinChungBenhNhanComponent} from \"./thong-tin-chung-benh-nhan/thong-tin-chung-benh-nhan.component\";\nimport {DropDownsModule} from \"@progress/kendo-angular-dropdowns\";\nimport {DanhSachThuTienNgoaiTruComponent} from \"./danh-sach-thu-tien-benh-nhan/danh-sach-thu-tien-benh-nhan.component\";\nimport {ThongTinPhieuThuNgoaiTruComponent} from \"./thong-tin-phieu-thu-ngoai-tru/thong-tin-phieu-thu-ngoai-tru.component\";\nimport {DanhSachThuNganDaThuTienBenhNhanComponent} from \"./danh-sach-da-thu-tien-benh-nhan/danh-sach-da-thu-tien-benh-nhan.component\";\nimport {DanhSachThuNganChoThuTienComponent} from \"./danh-sach-cho-thu-tien-benh-nhan/danh-sach-cho-thu-tien-benh-nhan.component\";\nimport {ApDungMiemGiamChoTungDichVuComponent} from \"../../common/ap-dung-miem-giam-cho-tung-dv-popup/ap-dung-miem-giam-cho-tung-dv-popup.component\";\nimport {MiemGiamTheoDVComponent} from \"../../common/ap-dung-miem-giam-cho-tung-dv-view-popup/ap-dung-miem-giam-cho-tung-dv-view-popup.component\";\nimport {ChoThuTienNoiTruModule} from \"../../noi-tru/cho-thu-tien/cho-thu-tien.module\";\nimport {ThongTinChiTietDaThuComponent} from \"./thong-tin-chi-tiet-da-thu/thong-tin-chi-tiet-da-thu.component\";\nimport { XacNhanInTrucTiepComponent } from \"../../common/xac-nhan-in-truc-tiep/xac-nhan-in-truc-tiep.component\";\nimport { XacNhanPhieuThuComponent } from \"../../common/xac-nhan-phieu-thu/xac-nhan-phieu-thu.component\";\nimport { ThongTinDichVuChuaDuocXacNhanComponent } from \"../../common/thong-tin-dich-vu-chua-duoc-xac-nhan/thong-tin-dich-vu-chua-duoc-xac-nhan.component\";\nimport { GoiBHYTChuaQuyetToanComponent } from \"./danh-sach-goi-bhyt-chua-quyet-toan/danh-sach-goi-bhyt-chua-quyet-toan.component\";\nimport { DichVuKhuyenMaiKemTheoGoi } from \"./dich-vu-khuyen-mai-kem-theo-goi/dich-vu-khuyen-mai-kem-theo-goi.component\";\nimport { ThongTinPhieuNgoaiTruPopupComponent } from \"./thong-tin-phieu-thu-popup/thong-tin-phieu-thu-popup.component\";\nimport { DanhSachThuPhiNgoaiTruComponent } from \"./danh-sach-thu-phi-ngoai-tru/danh-sach-thu-phi-ngoai-tru.component\";\n\n@NgModule({\n\tdeclarations: [\n\t\tDanhSachThuNganChoThuTienComponent,\n\t\tDanhSachThuPhiNgoaiTruComponent,\n\t\tDsChuaThuTienComponent,\n\t\tDsDaThuTienComponent,\n\t\tChiTietCacKhoanPhaiThuComponent,\n\t\tChiTietThuTienTamUngComponent,\n\t\tThongTinChungBenhNhanComponent,\n\t\tDanhSachThuTienNgoaiTruComponent,\n\t\tThongTinPhieuThuNgoaiTruComponent,\n\t\tDanhSachThuNganDaThuTienBenhNhanComponent,\n\t\tThongTinChiTietDaThuComponent,\n\t\tGoiBHYTChuaQuyetToanComponent,\n\t\tDichVuKhuyenMaiKemTheoGoi,\n\t\tThongTinPhieuNgoaiTruPopupComponent\n\t],\n\timports: [\n\t\tReactiveFormsModule,\n\t\tMatInputModule,\n\t\tMatOptionModule,\n\t\tMatSelectModule,\n\t\tMatTabsModule,\n\t\tChoThuTienRoutingModule,\n\t\tCommonModule,\n\t\tPageLayoutModule,\n\t\tFlexLayoutModule,\n\t\tBreadcrumbsModule,\n\t\tFormsModule,\n\t\tTooltipModule,\n\t\tSharedModule,\n\t\tMatIconModule,\n\t\tMatMenuModule,\n\t\tIconModule,\n\t\tMatMenuModule,\n\t\tMatButtonToggleModule,\n\t\tMatTooltipModule,\n\t\tMatButtonModule,\n\t\tMatDialogModule,\n\t\tMatRadioModule,\n\t\tLayoutModule,\n\t\tGridModule,\n\t\tMatListModule,\n\t\tDropDownsModule,\n\t\tMatCheckboxModule,\n\t\tChoThuTienNoiTruModule,\n\t],\n  entryComponents: [\n\t\tThongTinDichVuChuaDuocXacNhanComponent,\n\t\tXacNhanPhieuThuComponent,\n\t\tXacNhanInTrucTiepComponent,\n\t\tApDungMiemGiamChoTungDichVuComponent,\n\t\tMiemGiamTheoDVComponent,\n\t\tDichVuKhuyenMaiKemTheoGoi,\n\t\tThongTinPhieuNgoaiTruPopupComponent\n\t],\n})\nexport class ChoThuTienModule {}\n","export default \".text-color {\\n  color: red;\\n}\\n\\n.text-color-blue {\\n  color: blue;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2Rhbmgtc2FjaC1jaG8tdGh1LXRpZW4tYmVuaC1uaGFuL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcdGh1LWNoaVxcdGh1LWNoaS12aWVuLXBoaVxcbmdvYWktdHJ1XFxjaG8tdGh1LXRpZW5cXGRhbmgtc2FjaC1jaG8tdGh1LXRpZW4tYmVuaC1uaGFuXFxkYW5oLXNhY2gtY2hvLXRodS10aWVuLWJlbmgtbmhhbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2Rhbmgtc2FjaC1jaG8tdGh1LXRpZW4tYmVuaC1uaGFuL2Rhbmgtc2FjaC1jaG8tdGh1LXRpZW4tYmVuaC1uaGFuLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsVUFBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2Rhbmgtc2FjaC1jaG8tdGh1LXRpZW4tYmVuaC1uaGFuL2Rhbmgtc2FjaC1jaG8tdGh1LXRpZW4tYmVuaC1uaGFuLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRleHQtY29sb3Ige1xuICBjb2xvcjogcmVkO1xufVxuXG4udGV4dC1jb2xvci1ibHVlIHtcbiAgY29sb3I6IGJsdWU7XG59IiwiLnRleHQtY29sb3Ige1xuICBjb2xvcjogcmVkO1xufVxuXG4udGV4dC1jb2xvci1ibHVlIHtcbiAgY29sb3I6IGJsdWU7XG59Il19 */\"","import {Component, OnInit, ViewChild, TemplateRef, HostListener} from \"@angular/core\";\nimport {ChoThuTien, TagItem, TimKiemThongTinBenhNhan, CommonThuTien, TrangThaiThuTien} from \"../cho-thu-tien.model\";\nimport {MatMenuTrigger, MatDialog} from \"@angular/material\";\nimport icSearch from \"@iconify/icons-ic/twotone-search\";\nimport {Router, ActivatedRoute} from \"@angular/router\";\nimport {DocumentType} from \"src/app/shared/enum/document-type.enum\";\nimport icCancel from \"@iconify/icons-ic/cancel\";\nimport icicclose from \"@iconify/icons-ic/twotone-close\";\nimport icExpandMore from \"@iconify/icons-ic/expand-more\";\nimport {FormControl} from \"@angular/forms\";\nimport {GridComponent} from \"src/app/shared/component/grid/grid.component\";\nimport {CommonService} from \"src/app/core/utilities/common.helper\";\nimport {LocalStorageHelper} from \"src/app/core/utilities/local-storage.helper\";\nimport {ApiService} from \"src/app/core/services/api.service\";\nimport {NotificationService} from \"src/app/core/services/notification.service\";\nimport {AuthService} from \"src/app/core/services/auth.service\";\nimport {SecurityOperation} from \"src/app/shared/enum/security-operation.enum\";\nimport {SystemMessage} from \"src/app/shared/configdata/system-message\";\nimport {LoadingComponent} from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport icFileExcel from \"@iconify/icons-fa-solid/file-excel\";\nimport {Location} from \"@angular/common\";\nimport icFilterList from \"@iconify/icons-ic/twotone-filter-list\";\n\n@Component({\n\tselector: \"app-danh-sach-cho-thu-tien-benh-nhan\",\n\ttemplateUrl: \"./danh-sach-cho-thu-tien-benh-nhan.component.html\",\n\tstyleUrls: [\"./danh-sach-cho-thu-tien-benh-nhan.component.scss\"],\n})\nexport class DanhSachThuNganChoThuTienComponent implements OnInit {\n\tpublic queryStrings: any;\n\tpublic loaiThanhToan: string = \"0\";\n\tpublic kiemTraDanhSachThanhToan: boolean = true;\n\tpublic kiemTraDanhSachDaThanhToan: boolean = false;\n\tpublic _pageSize = 20;\n\tpublic allDaThuChuaThu: boolean = true;\n\tpublic dathu: boolean = true;\n\tpublic chuaThu: boolean = true;\n\tpublic timKiemThongTinBenhNhan = {} as TimKiemThongTinBenhNhan;\n\tpublic STT: number = 1;\n\tpublic commonThuTien = new CommonThuTien();\n\tpublic trangThaiThuTien = new TrangThaiThuTien();\n\n\tgridThuNganColumns: any[] = [];\n\tgridThuNganChoThuPhiColumns: any[] = [];\n\tgridThuNganChoThuDaThuPhiColumns: any[] = [];\n\ticSearch = icSearch;\n\ticCancel = icCancel;\n\ticExpandMore = icExpandMore;\n\tlistTagSearch: Array<TagItem>;\n\tpublic listTagShowOnHeader: Array<TagItem>;\n\tchoThuTien = new ChoThuTien();\n\tchoThuTienTamChoDong = new ChoThuTien();\n\tchoThuTienDefault = new ChoThuTien();\n\tshowCancelSearch: boolean = false;\n\tsearchString: string;\n\ticicclose = icicclose;\n\tsearchCtrl = new FormControl();\n\tdocumentType: DocumentType;\n\tmodelQRCode: any;\n\tisScanF1: boolean = false;\n\tadditionalSearchString: string = null;\n\ticFileExcel = icFileExcel;\n\tshowTrangThaiTN: boolean = false;\n\ticFilterList = icFilterList;\n\tbaseRoute: string = \"/danh-sach-thu-dich-vu\";\n\tconstructor(private router: Router, private location: Location, private route: ActivatedRoute, private apiService: ApiService, private notificationService: NotificationService, private authService: AuthService, private dialog: MatDialog) {}\n\t@ViewChild(MatMenuTrigger, {static: false}) trigger: MatMenuTrigger;\n\t@ViewChild(\"templateTextSoTienChoXacNhan\", {static: true}) templateTextSoTienChoXacNhan: TemplateRef<any>;\n\t@ViewChild(\"templateTextSoTienDaXacNhan\", {static: true}) templateTextSoTienDaXacNhan: TemplateRef<any>;\n\t@ViewChild(\"templateTextSoTienDaTamUng\", {static: true}) templateTextSoTienDaTamUng: TemplateRef<any>;\n\t@ViewChild(\"coNhapVienTemplate\", {static: true}) coNhapVienTemplate: TemplateRef<any>;\n\t@ViewChild(\"templateTextSoDuTK\", {static: true}) templateTextSoDuTK: TemplateRef<any>;\n\t@ViewChild(\"templateSTT\", {static: true})\n\ttemplateSTT: TemplateRef<any>;\n\t@ViewChild(\"gridList\", {static: false}) gridList: GridComponent;\n\t@ViewChild(\"maTNTemplate\", {static: true}) maTNTemplate: TemplateRef<any>;\n\t@ViewChild(\"actionTemplate\", {static: true}) actionTemplate: TemplateRef<any>;\n\tpublic keyCode: string = \"Enter\";\n\n\tngOnInit() {\n\t\tthis.documentType = DocumentType.ThuNgan;\n\t\tthis.listTagSearch = new Array<TagItem>();\n\n\t\tlet dateNow = new Date();\n\t\tthis.choThuTien.ThoiDiemTiepNhanTuFormat = new Date(dateNow.getFullYear(), dateNow.getMonth(), dateNow.getDate());\n\t\tthis.choThuTien.ThoiDiemTiepNhanDenFormat = new Date(dateNow.getFullYear(), dateNow.getMonth(), dateNow.getDate(), 23, 59, 59, 59);\n\n\t\tif (this.choThuTien.ThoiDiemTiepNhanTuFormat != null) {\n\t\t\tthis.choThuTien.FromDate = CommonService.formatDateTime(this.choThuTien.ThoiDiemTiepNhanTuFormat, \"dd/mm/yyyy\");\n\t\t} else {\n\t\t\tthis.choThuTien.FromDate = null;\n\t\t}\n\n\t\tif (this.choThuTien.ThoiDiemTiepNhanDenFormat != null) {\n\t\t\tthis.choThuTien.ToDate = CommonService.formatDateTime(this.choThuTien.ThoiDiemTiepNhanDenFormat, \"dd/mm/yyyy\");\n\t\t} else {\n\t\t\tthis.choThuTien.ToDate = null;\n\t\t}\n\n\t\tthis.backWithSearch();\n\t\tthis.gridThuNganColumns = [\n\t\t\t{Field: \"MaTN\", Title: \"Mã TN\", Width: 100, Sortable: true, Template: this.maTNTemplate},\n\t\t\t{Field: \"MaBN\", Title: \"Mã NB\", Width: 70, Sortable: true},\n\t\t\t{Field: \"HoTen\", Title: \"Họ tên\", MinWidth: 90, Sortable: true},\n\t\t\t{Field: \"NamSinh\", Title: \"Năm Sinh\", Width: 80, Sortable: true},\n\t\t\t{Field: \"GioiTinhStr\", Title: \"Giới tính\", Width: 100, Sortable: true},\n\t\t\t{Field: \"DoiTuong\", Title: \"Đối tượng\", Width: 100, Sortable: true},\n\t\t\t{Field: \"YeuCauNhapVien\", Title: \"Có Nhập Viện\", Width: 150, Sortable: true, Template: this.coNhapVienTemplate},\n\t\t\t{Field: \"SoTienTamUng\", Title: \"Số tiền đã tạm ứng\", Width: 150, Sortable: true, Template: this.templateTextSoTienDaTamUng},\n\t\t\t{Field: \"SoTienBNDaTT\", Title: \"Số tiền đã thu\", Sortable: false, Width: 200, Template: this.templateTextSoTienDaXacNhan},\n\t\t\t{Field: \"SoTienBNPhaiTT\", Title: \"Số tiền phải thu\", Sortable: false, Width: 200, Template: this.templateTextSoTienChoXacNhan},\n\t\t\t{Field: \"ThoiDiemTiepNhanDisplay\", Title: \"Tiếp nhận lúc\", Sortable: true, Width: 150},\n\t\t];\n\t\tthis.showTrangThaiThuNgan();\n\t}\n\n\tbackWithSearch() {\n\t\tif (this.route.snapshot.queryParams.loaiThanhToan !== undefined) {\n\t\t\tthis.loaiThanhToan = this.route.snapshot.queryParams.loaiThanhToan;\n\t\t}\n\t\tif (this.route.snapshot.queryParams.loaiThanhToan !== undefined && LocalStorageHelper.getItem(\"additionalSearchStringThuNgan\") != null) {\n\t\t\tthis.additionalSearchString = LocalStorageHelper.getItem(\"additionalSearchStringThuNgan\");\n\t\t\tthis.choThuTien = new ChoThuTien();\n\t\t\tthis.choThuTien = JSON.parse(this.additionalSearchString);\n\t\t\tif (this.choThuTien.ThoiDiemTiepNhanTuFormat != undefined && this.choThuTien.ThoiDiemTiepNhanTuFormat != null && this.choThuTien.ThoiDiemTiepNhanTuFormat != \"\") {\n\t\t\t\tthis.choThuTien.ThoiDiemTiepNhanTuFormat = new Date(this.choThuTien.ThoiDiemTiepNhanTuFormat);\n\t\t\t}\n\t\t\tif (this.choThuTien.ThoiDiemTiepNhanDenFormat != undefined && this.choThuTien.ThoiDiemTiepNhanDenFormat != null && this.choThuTien.ThoiDiemTiepNhanDenFormat != \"\") {\n\t\t\t\tthis.choThuTien.ThoiDiemTiepNhanDenFormat = new Date(this.choThuTien.ThoiDiemTiepNhanDenFormat);\n\t\t\t}\n\t\t\tthis.searchString = this.choThuTien.SearchString;\n\t\t\tif (this.gridList != undefined) {\n\t\t\t\tthis.gridList.searchString = this.choThuTien.SearchString;\n\t\t\t}\n\t\t} else {\n\t\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", null);\n\t\t}\n\t}\n\n\tshowTrangThaiThuNgan() {\n\t\tif (this.choThuTien.ChuaThu) this.getInputSearchValue(true, \"chothu\", \"Chờ Thu\");\n\t\tthis.updateSreachString();\n\t}\n\n\tgetInputSearchValue(obj: any, keyValue: any, titleValue: any) {\n\t\tlet index = this.listTagSearch.findIndex(x => x.Key == keyValue);\n\t\tif (obj) {\n\t\t\tlet valueFormat = undefined;\n\t\t\tif (obj) {\n\t\t\t\tvalueFormat = obj;\n\t\t\t\tlet item = new TagItem();\n\t\t\t\titem.Key = keyValue;\n\t\t\t\titem.Value = valueFormat;\n\t\t\t\titem.Title = titleValue;\n\t\t\t\tthis.listTagSearch.push(item);\n\t\t\t} else {\n\t\t\t\tthis.listTagSearch[index].Value = valueFormat;\n\t\t\t}\n\t\t} else {\n\t\t\tif (index != -1) {\n\t\t\t\tthis.listTagSearch.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\tthis.listTagShowOnHeader = JSON.parse(JSON.stringify(this.listTagSearch));\n\t}\n\n\tupdateSreachString() {\n\t\tvar queryString = JSON.stringify(this.choThuTien);\n\t\tthis.queryStrings = queryString;\n\t\tif (this.gridList != undefined) {\n\t\t\tthis.gridList.searchString = this.choThuTien.SearchString;\n\t\t\tthis.gridList.search();\n\t\t}\n\t}\n\n\tthoiDiemTNChange() {\n\t\tthis.TimkiemNangCao();\n\t}\n\n\tcancelSearch() {\n\t\tthis.choThuTien = new ChoThuTien();\n\t\tthis.listTagSearch = new Array<TagItem>();\n\t\tthis.listTagShowOnHeader = new Array<TagItem>();\n\t\tvar queryString = JSON.stringify(this.choThuTien);\n\n\t\tif (this.gridList != undefined) {\n\t\t\tthis.gridList._additionalSearchString = queryString;\n\t\t\tthis.gridList.search();\n\t\t}\n\n\t\tthis.showCancelSearch = false;\n\t}\n\n\tcloseMenu() {\n\t\tthis.choThuTien.ChuaThu = false;\n\t\tthis.listTagShowOnHeader = [];\n\t\tthis.listTagSearch = [];\n\t\tif (this.choThuTienTamChoDong.ChuaThu == true) {\n\t\t\tthis.choThuTien.ChuaThu = true;\n\t\t\tthis.getInputSearchValue(true, \"chothu\", \"Chờ Thu\");\n\t\t}\n\t}\n\n\tTimkiemNangCao() {\n\t\tthis.location.replaceState(this.baseRoute + \"?loaiThanhToan=0\");\n\n\t\tthis.trangThaiCommon();\n\t\tvar searchText = this.searchString != undefined ? this.searchString : \"\";\n\t\tthis.choThuTien.SearchString = searchText;\n\n\t\tif (this.choThuTien.ThoiDiemTiepNhanTuFormat != null) {\n\t\t\tthis.choThuTien.FromDate = CommonService.formatDateTime(this.choThuTien.ThoiDiemTiepNhanTuFormat, \"dd/mm/yyyy\");\n\t\t} else {\n\t\t\tthis.choThuTien.FromDate = null;\n\t\t}\n\n\t\tif (this.choThuTien.ThoiDiemTiepNhanDenFormat != null) {\n\t\t\tthis.choThuTien.ToDate = CommonService.formatDateTime(this.choThuTien.ThoiDiemTiepNhanDenFormat, \"dd/mm/yyyy\");\n\t\t} else {\n\t\t\tthis.choThuTien.ToDate = null;\n\t\t}\n\n\t\tthis.choThuTien.TabActive = 1;\n\t\tvar queryString = JSON.stringify(this.choThuTien);\n\t\tif (this.gridList != undefined) {\n\t\t\tthis.gridList.searchString = searchText;\n\t\t\tthis.gridList._additionalSearchString = queryString;\n\t\t\tthis.gridList.search();\n\t\t}\n\n\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", queryString);\n\t\tthis.showCancelSearch = this.listTagShowOnHeader != undefined && this.listTagShowOnHeader.length > 0;\n\t}\n\n\tTimkiem() {\n\t\tthis.trangThaiCommon();\n\t\tthis.choThuTien.SearchString = this.searchString;\n\t\tthis.choThuTien.TabActive = 1;\n\t\tvar queryString = JSON.stringify(this.choThuTien);\n\t\tlet QueryString = null;\n\t\tif (this.searchString != null) {\n\t\t\tQueryString = this.searchString;\n\t\t\tthis.showTrangThaiTN = true;\n\t\t}\n\t\tif (this.gridList != undefined) {\n\t\t\tthis.gridList.searchString = QueryString;\n\t\t\tthis.gridList._additionalSearchString = queryString;\n\t\t\tthis.gridList.search();\n\t\t}\n\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", queryString);\n\t\tthis.showCancelSearch = this.listTagShowOnHeader != undefined && this.listTagShowOnHeader.length > 0;\n\t}\n\n\ttimeoutSearchChange: any;\n\tsearchChanges(event) {\n\t\t//xóa sreach trước đó\n\t\tvar self = this;\n\t\tif (this.timeoutSearchChange != null) {\n\t\t\tclearTimeout(this.timeoutSearchChange);\n\t\t\tthis.timeoutSearchChange = null;\n\t\t}\n\t\tthis.timeoutSearchChange = setTimeout(function () {\n\t\t\tif (event !== undefined && event !== null && event.endsWith(\"@\")) {\n\t\t\t\tvar dataTimKiem = event.split(\"|\");\n\t\t\t\tif (dataTimKiem.length > 1) {\n\t\t\t\t\tself.timKiemThongTinBenhNhan.TimKiemMaBNVaMaTN = dataTimKiem[0];\n\t\t\t\t\tself.searchString = dataTimKiem[0];\n\t\t\t\t} else {\n\t\t\t\t\tself.searchString = event.slice(0, -1);\n\t\t\t\t\tself.timKiemThongTinBenhNhan.TimKiemMaBNVaMaTN = event.slice(0, -1);\n\t\t\t\t}\n\t\t\t\tself.getThongTinYeuCauBenhNhan(self.timKiemThongTinBenhNhan);\n\t\t\t}\n\t\t\tif (event != undefined && (event == null || event == \"\")) {\n\t\t\t\tself.gridList.searchString = null;\n\t\t\t\t//self.TimkiemNangCao();\n\t\t\t}\n\t\t}, 100);\n\t}\n\n\tonKey(event: any) {\n\t\tif (event.key == \"Enter\") {\n\t\t\tthis.TimkiemNangCao();\n\t\t}\n\t}\n\n\tclearSearch() {\n\t\tthis.searchString = \"\";\n\t\tif (this.gridList != undefined) {\n\t\t\tthis.gridList.search();\n\t\t}\n\t}\n\n\ttrangThaiCommon() {\n\t\tif (this.choThuTien.ChuaThu === false) {\n\t\t\tthis.choThuTien.ChuaThu = true;\n\t\t\tthis.getInputSearchValue(true, \"chothu\", \"Chờ Thu\");\n\t\t}\n\t\tthis.choThuTienTamChoDong.ChuaThu = false;\n\t\tif (this.choThuTien.ChuaThu) this.choThuTienTamChoDong.ChuaThu = true;\n\t\tif (this.choThuTien.NamSinh != null) this.choThuTien.NamSinh = Math.round(this.choThuTien.NamSinh);\n\t\tthis.listTagShowOnHeader = JSON.parse(JSON.stringify(this.listTagSearch));\n\t}\n\n\tcancelTagSearch(tagKey: any) {\n\t\tif (tagKey === \"chothu\") {\n\t\t\tthis.choThuTien.ChuaThu = false;\n\t\t}\n\t\tif (tagKey != null && tagKey != undefined) {\n\t\t\tthis.listTagSearch.splice(\n\t\t\t\tthis.listTagSearch.findIndex(x => x.Key == tagKey),\n\t\t\t\t1\n\t\t\t);\n\t\t\tthis.listTagShowOnHeader.splice(\n\t\t\t\tthis.listTagShowOnHeader.findIndex(x => x.Key == tagKey),\n\t\t\t\t1\n\t\t\t);\n\t\t\tif (this.listTagSearch.length == 0) {\n\t\t\t\tthis.cancelSearch();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (let item in this.choThuTien) {\n\t\t\t\tif (item == tagKey) {\n\t\t\t\t\tthis.choThuTien[item] = this.choThuTienDefault[item];\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.TimkiemNangCao();\n\t\t}\n\t}\n\n\tcheckTrangThai(event: any, type: number) {\n\t\tif (type == 1) {\n\t\t\tthis.choThuTien.ChuaThu = event;\n\t\t\tthis.router.navigateByUrl(\"/danh-sach-thu-dich-vu?loaiThanhToan=\" + type);\n\t\t}\n\t\tthis.TimkiemNangCao();\n\t}\n\n\trouterLink(id: any, dathu: any) {\n\t\tthis.choThuTien.TabActive = 1;\n\t\tvar queryString = JSON.stringify(this.choThuTien);\n\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", queryString);\n\n\t\tthis.router.navigateByUrl(\"/danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/\" + id + \"?loaiThanhToan=\" + 1);\n\t}\n\n\tthongTinChiTietThanhToan(id: any, dathu: any) {\n\t\tthis.routerLink(id, dathu);\n\t}\n\n\textEnterChangePage(data: any) {\n\t\tthis.routerLink(data.Id, data);\n\t}\n\n\tsortConfig = [\n\t\t{\n\t\t\tfield: \"ChuaThu\",\n\t\t\tdir: \"desc\",\n\t\t},\n\t];\n\n\tQuetMaQRCodeClick() {\n\t\tlet elementBarcode: HTMLElement = document.getElementById(\"barcodeActive\") as HTMLElement;\n\t\tif (elementBarcode != undefined) {\n\t\t\telementBarcode.click();\n\t\t}\n\t}\n\n\tchangeQR($event) {\n\t\tif ($event != null && typeof $event == \"string\" && $event.endsWith(\"@\")) {\n\t\t\tthis.modelQRCode = $event;\n\t\t\tvar dataTimKiem = $event.split(\"|\");\n\t\t\tif (dataTimKiem.length > 1) {\n\t\t\t\tthis.timKiemThongTinBenhNhan.TimKiemMaBNVaMaTN = dataTimKiem[0];\n\t\t\t} else {\n\t\t\t\tthis.searchString = $event.slice(0, -1);\n\t\t\t\tthis.timKiemThongTinBenhNhan.TimKiemMaBNVaMaTN = $event.slice(0, -1);\n\t\t\t}\n\t\t\tthis.getThongTinYeuCauBenhNhan(this.timKiemThongTinBenhNhan);\n\t\t} else {\n\t\t\tthis.notificationService.showError(\"Không tìm thấy thông tin cần tìm.\");\n\t\t}\n\t\tthis.isScanF1 = false;\n\t}\n\n\tgetThongTinYeuCauBenhNhan(timKiemThongTinBenhNhan: TimKiemThongTinBenhNhan) {\n\t\tthis.apiService.post<any>(\"ThuNgan/GetThuNganByMaBNVaMaTT/\", timKiemThongTinBenhNhan).subscribe(resultData => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.router.navigateByUrl(\"/danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/\" + resultData.Id + \"?loaiThanhToan=\" + 1);\n\t\t\t} else {\n\t\t\t\tthis.notificationService.showError(this.commonThuTien.ErrorKhongTimThayThongTin);\n\t\t\t}\n\t\t});\n\t}\n\n\texportExcel() {\n\t\tconst self = this;\n\t\tself.showPopupLoadingData();\n\t\tif (self.authService.hasPermission(self.documentType, SecurityOperation.Process)) {\n\t\t\tvar queryString = JSON.stringify(this.choThuTien);\n\t\t\tvar searchText = self.searchString != undefined ? self.searchString : \"\";\n\t\t\tsearchText = CommonService.convertSpecialXML(searchText);\n\t\t\tsearchText = \"<SearchTerms>\" + searchText + \"</SearchTerms>\";\n\t\t\tsearchText = btoa(unescape(encodeURIComponent(\"<AdvancedQueryParameters>\" + searchText + \"</AdvancedQueryParameters>\")));\n\n\t\t\tvar queryObject: any = {\n\t\t\t\tskip: 0,\n\t\t\t\tmodifiedBy: 0,\n\t\t\t\ttake: 50,\n\t\t\t\tsearchString: searchText,\n\t\t\t\tadditionalSearchString: queryString,\n\t\t\t\tsearchTerms: searchText,\n\t\t\t\tsort: self.sortConfig,\n\t\t\t\tlazyLoadPage: true,\n\t\t\t};\n\n\t\t\tself.apiService.postExportExcel<string>(\"ThuNgan/ExportThuNgan\", queryObject).subscribe(\n\t\t\t\tresultData => {\n\t\t\t\t\tself.closePopupLoadingData();\n\t\t\t\t\tconst dateTimeNow = new Date();\n\t\t\t\t\tCommonService.downLoadFile(resultData, \"application/vnd.ms-excel\", \"ThuNgan\" + dateTimeNow.getFullYear() + \".xlsx\");\n\t\t\t\t},\n\t\t\t\t(err: any) => {\n\t\t\t\t\tself.notificationService.showError(err.Message);\n\t\t\t\t\tself.closePopupLoadingData();\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tself.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n\t\t}\n\t}\n\n\tshowPopupLoadingData() {\n\t\tthis.dialog.open(LoadingComponent, {\n\t\t\tdisableClose: true,\n\t\t\twidth: \"200px\",\n\t\t\theight: \"90px\",\n\t\t\tdata: {Title: \"Đang xuất excel...\"},\n\t\t});\n\t}\n\n\tclosePopupLoadingData() {\n\t\tthis.dialog.closeAll();\n\t}\n\n\t@HostListener(\"document:keydown\", [\"$event\"])\n\tkeyEvent(event: KeyboardEvent) {\n\t\tif (event.keyCode == 81 && event.ctrlKey && this.isScanF1 != true) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.QuetMaQRCodeClick();\n\t\t}\n\t}\n}\n","export default \".text-color {\\n  color: red;\\n}\\n\\n.text-color-blue {\\n  color: blue;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2Rhbmgtc2FjaC1kYS10aHUtdGllbi1iZW5oLW5oYW4vQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aHUtY2hpXFx0aHUtY2hpLXZpZW4tcGhpXFxuZ29haS10cnVcXGNoby10aHUtdGllblxcZGFuaC1zYWNoLWRhLXRodS10aWVuLWJlbmgtbmhhblxcZGFuaC1zYWNoLWRhLXRodS10aWVuLWJlbmgtbmhhbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2Rhbmgtc2FjaC1kYS10aHUtdGllbi1iZW5oLW5oYW4vZGFuaC1zYWNoLWRhLXRodS10aWVuLWJlbmgtbmhhbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aHUtY2hpL3RodS1jaGktdmllbi1waGkvbmdvYWktdHJ1L2Noby10aHUtdGllbi9kYW5oLXNhY2gtZGEtdGh1LXRpZW4tYmVuaC1uaGFuL2Rhbmgtc2FjaC1kYS10aHUtdGllbi1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGV4dC1jb2xvciB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi50ZXh0LWNvbG9yLWJsdWUge1xuICBjb2xvcjogYmx1ZTtcbn0iLCIudGV4dC1jb2xvciB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi50ZXh0LWNvbG9yLWJsdWUge1xuICBjb2xvcjogYmx1ZTtcbn0iXX0= */\"","import {Component, OnInit, ViewChild, TemplateRef, HostListener} from \"@angular/core\";\nimport {ChoThuTien, CommonThuTien, TagItem, TimKiemThongTinBenhNhan, TrangThaiThuTien} from \"../cho-thu-tien.model\";\nimport {MatMenuTrigger, MatDialog} from \"@angular/material\";\nimport icSearch from \"@iconify/icons-ic/twotone-search\";\nimport {Router, ActivatedRoute} from \"@angular/router\";\nimport {DocumentType} from \"src/app/shared/enum/document-type.enum\";\nimport icCancel from \"@iconify/icons-ic/cancel\";\nimport {FormControl} from \"@angular/forms\";\nimport {GridComponent} from \"src/app/shared/component/grid/grid.component\";\nimport {CommonService} from \"src/app/core/utilities/common.helper\";\nimport {LocalStorageHelper} from \"src/app/core/utilities/local-storage.helper\";\nimport {ApiService} from \"src/app/core/services/api.service\";\nimport {NotificationService} from \"src/app/core/services/notification.service\";\nimport {AuthService} from \"src/app/core/services/auth.service\";\nimport {SecurityOperation} from \"src/app/shared/enum/security-operation.enum\";\nimport {SystemMessage} from \"src/app/shared/configdata/system-message\";\nimport {LoadingComponent} from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport icFileExcel from \"@iconify/icons-fa-solid/file-excel\";\nimport {Location} from \"@angular/common\";\nimport icFilterList from \"@iconify/icons-ic/twotone-filter-list\";\nimport icExpandMore from \"@iconify/icons-ic/expand-more\";\nimport icicclose from \"@iconify/icons-ic/twotone-close\";\n\n@Component({\n\tselector: \"app-danh-sach-da-thu-tien-benh-nhan\",\n\ttemplateUrl: \"./danh-sach-da-thu-tien-benh-nhan.component.html\",\n\tstyleUrls: [\"./danh-sach-da-thu-tien-benh-nhan.component.scss\"],\n})\nexport class DanhSachThuNganDaThuTienBenhNhanComponent implements OnInit {\n\tpublic queryStrings: any;\n\tpublic loaiThanhToan: string = \"0\";\n\tpublic kiemTraDanhSachThanhToan: boolean = true;\n\tpublic kiemTraDanhSachDaThanhToan: boolean = false;\n\tpublic _pageSize = 20;\n\tpublic allDaThuChuaThu: boolean = true;\n\tpublic dathu: boolean = true;\n\tpublic chuaThu: boolean = true;\n\tpublic timKiemThongTinBenhNhan = {} as TimKiemThongTinBenhNhan;\n\tpublic STT: number = 1;\n\tpublic commonThuTien = new CommonThuTien();\n\tpublic trangThaiThuTien = new TrangThaiThuTien();\n\n\tgridThuNganColumns: any[] = [];\n\tgridThuNganChoThuPhiColumns: any[] = [];\n\tgridThuNganChoThuDaThuPhiColumns: any[] = [];\n\ticSearch = icSearch;\n\ticCancel = icCancel;\n\ticExpandMore = icExpandMore;\n\tlistTagSearch: Array<TagItem>;\n\tpublic listTagShowOnHeader: Array<TagItem>;\n\tchoThuTien = new ChoThuTien();\n\tchoThuTienTamChoDong = new ChoThuTien();\n\tchoThuTienDefault = new ChoThuTien();\n\tshowCancelSearch: boolean = false;\n\tsearchString: string;\n\ticicclose = icicclose;\n\tsearchCtrl = new FormControl();\n\tdocumentType: DocumentType;\n\tmodelQRCode: any;\n\tisScanF1: boolean = false;\n\tadditionalSearchString: string = null;\n\ticFileExcel = icFileExcel;\n\tshowTrangThaiTN: boolean = false;\n\ticFilterList = icFilterList;\n\tbaseRoute: string = \"/danh-sach-thu-dich-vu\";\n\tconstructor(private router: Router, private location: Location, private route: ActivatedRoute, private apiService: ApiService, private notificationService: NotificationService, private authService: AuthService, private dialog: MatDialog) {}\n\t@ViewChild(MatMenuTrigger, {static: false}) trigger: MatMenuTrigger;\n\t@ViewChild(\"templateTextSoTienChoXacNhan\", {static: true}) templateTextSoTienChoXacNhan: TemplateRef<any>;\n\t@ViewChild(\"templateTextSoTienDaXacNhan\", {static: true}) templateTextSoTienDaXacNhan: TemplateRef<any>;\n\t@ViewChild(\"templateTextSoTienDaTamUng\", {static: true}) templateTextSoTienDaTamUng: TemplateRef<any>;\n\t@ViewChild(\"templateTextSoDuTK\", {static: true}) templateTextSoDuTK: TemplateRef<any>;\n\t@ViewChild(\"templateSTT\", {static: true})\n\ttemplateSTT: TemplateRef<any>;\n\t@ViewChild(\"gridList\", {static: false}) gridList: GridComponent;\n\t@ViewChild(\"maTNTemplate\", {static: true}) maTNTemplate: TemplateRef<any>;\n\t@ViewChild(\"actionTemplate\", {static: true}) actionTemplate: TemplateRef<any>;\n\tpublic keyCode: string = \"Enter\";\n\n\tngOnInit() {\n\t\tthis.documentType = DocumentType.ThuNgan;\n\t\tthis.listTagSearch = new Array<TagItem>();\n\n\t\tlet dateNow = new Date();\n\t\tthis.choThuTien.ThoiDiemTiepNhanTuFormat = new Date(dateNow.getFullYear(), dateNow.getMonth(), dateNow.getDate());\n\t\tthis.choThuTien.ThoiDiemTiepNhanDenFormat = new Date(dateNow.getFullYear(), dateNow.getMonth(), dateNow.getDate(), 23, 59, 59, 59);\n\n\t\tif (this.choThuTien.ThoiDiemTiepNhanTuFormat != null) {\n\t\t\tthis.choThuTien.FromDate = CommonService.formatDateTime(this.choThuTien.ThoiDiemTiepNhanTuFormat, \"dd/mm/yyyy\");\n\t\t} else {\n\t\t\tthis.choThuTien.FromDate = null;\n\t\t}\n\n\t\tif (this.choThuTien.ThoiDiemTiepNhanDenFormat != null) {\n\t\t\tthis.choThuTien.ToDate = CommonService.formatDateTime(this.choThuTien.ThoiDiemTiepNhanDenFormat, \"dd/mm/yyyy\");\n\t\t} else {\n\t\t\tthis.choThuTien.ToDate = null;\n\t\t}\n\n\t\tthis.backWithSearch();\n\t\tthis.gridThuNganColumns = [\n\t\t\t{Field: \"MaTN\", Title: \"Mã TN\", Width: 100, Sortable: true, Template: this.maTNTemplate},\n\t\t\t{Field: \"MaBN\", Title: \"Mã NB\", Width: 70, Sortable: true},\n\t\t\t{Field: \"HoTen\", Title: \"Họ tên\", MinWidth: 90, Sortable: true},\n\t\t\t{Field: \"NamSinh\", Title: \"Năm Sinh\", Width: 80, Sortable: true},\n\t\t\t{Field: \"GioiTinhStr\", Title: \"Giới tính\", Width: 100, Sortable: true},\n\t\t\t{Field: \"DoiTuong\", Title: \"Đối tượng\", Width: 100, Sortable: true},\n\t\t\t{Field: \"SoTienTamUng\", Title: \"Số tiền đã tạm ứng\", Width: 150, Sortable: true, Template: this.templateTextSoTienDaTamUng},\n\t\t\t{Field: \"SoTienBNDaTT\", Title: \"Số tiền đã thu\", Sortable: false, Width: 200, Template: this.templateTextSoTienDaXacNhan},\n\t\t\t{Field: \"ThoiDiemTiepNhanDisplay\", Title: \"Tiếp nhận lúc\", Sortable: true, Width: 150},\n\t\t];\n\t\tthis.showTrangThaiThuNgan();\n\t}\n\n\tbackWithSearch() {\n\t\tif (this.route.snapshot.queryParams.loaiThanhToan !== undefined) {\n\t\t\tthis.loaiThanhToan = this.route.snapshot.queryParams.loaiThanhToan;\n\t\t}\n\t\tif (this.route.snapshot.queryParams.loaiThanhToan !== undefined && LocalStorageHelper.getItem(\"additionalSearchStringThuNgan\") != null) {\n\t\t\tthis.additionalSearchString = LocalStorageHelper.getItem(\"additionalSearchStringThuNgan\");\n\t\t\tthis.choThuTien = new ChoThuTien();\n\t\t\tthis.choThuTien = JSON.parse(this.additionalSearchString);\n\t\t\tif (this.choThuTien.ThoiDiemTiepNhanTuFormat != undefined && this.choThuTien.ThoiDiemTiepNhanTuFormat != null && this.choThuTien.ThoiDiemTiepNhanTuFormat != \"\") {\n\t\t\t\tthis.choThuTien.ThoiDiemTiepNhanTuFormat = new Date(this.choThuTien.ThoiDiemTiepNhanTuFormat);\n\t\t\t}\n\t\t\tif (this.choThuTien.ThoiDiemTiepNhanDenFormat != undefined && this.choThuTien.ThoiDiemTiepNhanDenFormat != null && this.choThuTien.ThoiDiemTiepNhanDenFormat != \"\") {\n\t\t\t\tthis.choThuTien.ThoiDiemTiepNhanDenFormat = new Date(this.choThuTien.ThoiDiemTiepNhanDenFormat);\n\t\t\t}\n\t\t\tthis.searchString = this.choThuTien.SearchString;\n\t\t\tif (this.gridList != undefined) {\n\t\t\t\tthis.gridList.searchString = this.choThuTien.SearchString;\n\t\t\t}\n\t\t} else {\n\t\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", null);\n\t\t}\n\t}\n\n\tshowTrangThaiThuNgan() {\n\t\tif (this.choThuTien.DaThu) this.getInputSearchValue(true, \"chothu\", \"Chờ Thu\");\n\t\tthis.updateSreachString();\n\t}\n\n\tgetInputSearchValue(obj: any, keyValue: any, titleValue: any) {\n\t\tlet index = this.listTagSearch.findIndex(x => x.Key == keyValue);\n\t\tif (obj) {\n\t\t\tlet valueFormat = undefined;\n\t\t\tif (obj) {\n\t\t\t\tvalueFormat = obj;\n\t\t\t\tlet item = new TagItem();\n\t\t\t\titem.Key = keyValue;\n\t\t\t\titem.Value = valueFormat;\n\t\t\t\titem.Title = titleValue;\n\t\t\t\tthis.listTagSearch.push(item);\n\t\t\t} else {\n\t\t\t\tthis.listTagSearch[index].Value = valueFormat;\n\t\t\t}\n\t\t} else {\n\t\t\tif (index != -1) {\n\t\t\t\tthis.listTagSearch.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\tthis.listTagShowOnHeader = JSON.parse(JSON.stringify(this.listTagSearch));\n\t}\n\n\tupdateSreachString() {\n\t\tvar queryString = JSON.stringify(this.choThuTien);\n\t\tthis.queryStrings = queryString;\n\t\tif (this.gridList != undefined) {\n\t\t\tthis.gridList.searchString = this.choThuTien.SearchString;\n\t\t\tthis.gridList.search();\n\t\t}\n\t}\n\n\tthoiDiemTNChange() {\n\t\tthis.TimkiemNangCao();\n\t}\n\n\tcancelSearch() {\n\t\tthis.choThuTien = new ChoThuTien();\n\t\tthis.listTagSearch = new Array<TagItem>();\n\t\tthis.listTagShowOnHeader = new Array<TagItem>();\n\t\tvar queryString = JSON.stringify(this.choThuTien);\n\n\t\tif (this.gridList != undefined) {\n\t\t\tthis.gridList._additionalSearchString = queryString;\n\t\t\tthis.gridList.search();\n\t\t}\n\n\t\tthis.showCancelSearch = false;\n\t}\n\n\tcloseMenu() {\n\t\tthis.choThuTien.DaThu = false;\n\t\tthis.listTagShowOnHeader = [];\n\t\tthis.listTagSearch = [];\n\t\tif (this.choThuTienTamChoDong.DaThu == true) {\n\t\t\tthis.choThuTien.DaThu = true;\n\t\t\tthis.getInputSearchValue(true, \"dathu\", \"Đã Thu\");\n\t\t}\n\t}\n\n\tTimkiemNangCao() {\n\t\tthis.location.replaceState(this.baseRoute + \"?loaiThanhToan=0\");\n\n\t\tthis.trangThaiCommon();\n\t\tvar searchText = this.searchString != undefined ? this.searchString : \"\";\n\t\tthis.choThuTien.SearchString = searchText;\n\n\t\tif (this.choThuTien.ThoiDiemTiepNhanTuFormat != null) {\n\t\t\tthis.choThuTien.FromDate = CommonService.formatDateTime(this.choThuTien.ThoiDiemTiepNhanTuFormat, \"dd/mm/yyyy\");\n\t\t} else {\n\t\t\tthis.choThuTien.FromDate = null;\n\t\t}\n\n\t\tif (this.choThuTien.ThoiDiemTiepNhanDenFormat != null) {\n\t\t\tthis.choThuTien.ToDate = CommonService.formatDateTime(this.choThuTien.ThoiDiemTiepNhanDenFormat, \"dd/mm/yyyy\");\n\t\t} else {\n\t\t\tthis.choThuTien.ToDate = null;\n\t\t}\n\n\t\tthis.choThuTien.TabActive = 2;\n\t\tvar queryString = JSON.stringify(this.choThuTien);\n\t\tif (this.gridList != undefined) {\n\t\t\tthis.gridList.searchString = searchText;\n\t\t\tthis.gridList._additionalSearchString = queryString;\n\t\t\tthis.gridList.search();\n\t\t}\n\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", queryString);\n\t\tthis.showCancelSearch = this.listTagShowOnHeader != undefined && this.listTagShowOnHeader.length > 0;\n\t}\n\n\tTimkiem() {\n\t\tthis.trangThaiCommon();\n\t\tthis.choThuTien.SearchString = this.searchString;\n\t\tthis.choThuTien.TabActive = 2;\n\n\t\tvar queryString = JSON.stringify(this.choThuTien);\n\t\tlet QueryString = null;\n\t\tif (this.searchString != null) {\n\t\t\tQueryString = this.searchString;\n\t\t\tthis.showTrangThaiTN = true;\n\t\t}\n\t\tif (this.gridList != undefined) {\n\t\t\tthis.gridList.searchString = QueryString;\n\t\t\tthis.gridList._additionalSearchString = queryString;\n\t\t\tthis.gridList.search();\n\t\t}\n\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", queryString);\n\t\tthis.showCancelSearch = this.listTagShowOnHeader != undefined && this.listTagShowOnHeader.length > 0;\n\t}\n\n\ttimeoutSearchChange: any;\n\tsearchChanges(event) {\n\t\t//xóa sreach trước đó\n\t\tvar self = this;\n\t\tif (this.timeoutSearchChange != null) {\n\t\t\tclearTimeout(this.timeoutSearchChange);\n\t\t\tthis.timeoutSearchChange = null;\n\t\t}\n\t\tthis.timeoutSearchChange = setTimeout(function () {\n\t\t\tif (event !== undefined && event !== null && event.endsWith(\"@\")) {\n\t\t\t\tvar dataTimKiem = event.split(\"|\");\n\t\t\t\tif (dataTimKiem.length > 1) {\n\t\t\t\t\tself.timKiemThongTinBenhNhan.TimKiemMaBNVaMaTN = dataTimKiem[0];\n\t\t\t\t\tself.searchString = dataTimKiem[0];\n\t\t\t\t} else {\n\t\t\t\t\tself.searchString = event.slice(0, -1);\n\t\t\t\t\tself.timKiemThongTinBenhNhan.TimKiemMaBNVaMaTN = event.slice(0, -1);\n\t\t\t\t}\n\t\t\t\tself.getThongTinYeuCauBenhNhan(self.timKiemThongTinBenhNhan);\n\t\t\t}\n\t\t\tif (event != undefined && (event == null || event == \"\")) {\n\t\t\t\tself.gridList.searchString = null;\n\t\t\t\t//self.TimkiemNangCao();\n\t\t\t}\n\t\t}, 100);\n\t}\n\n\tonKey(event: any) {\n\t\tif (event.key == \"Enter\") {\n\t\t\tthis.TimkiemNangCao();\n\t\t}\n\t}\n\n\tclearSearch() {\n\t\tthis.searchString = \"\";\n\t\tif (this.gridList != undefined) {\n\t\t\tthis.gridList.search();\n\t\t}\n\t}\n\n\ttrangThaiCommon() {\n\t\tif (this.choThuTien.DaThu === false) {\n\t\t\tthis.choThuTien.DaThu = true;\n\t\t\tthis.getInputSearchValue(true, \"dathu\", \"Đã Thu\");\n\t\t}\n\t\tthis.choThuTienTamChoDong.DaThu = false;\n\t\tif (this.choThuTien.DaThu) this.choThuTienTamChoDong.DaThu = true;\n\t\tif (this.choThuTien.NamSinh != null) this.choThuTien.NamSinh = Math.round(this.choThuTien.NamSinh);\n\t\tthis.listTagShowOnHeader = JSON.parse(JSON.stringify(this.listTagSearch));\n\t}\n\n\tcancelTagSearch(tagKey: any) {\n\t\tif (tagKey === \"dathu\") {\n\t\t\tthis.choThuTien.DaThu = false;\n\t\t}\n\t\tif (tagKey != null && tagKey != undefined) {\n\t\t\tthis.listTagSearch.splice(\n\t\t\t\tthis.listTagSearch.findIndex(x => x.Key == tagKey),\n\t\t\t\t1\n\t\t\t);\n\t\t\tthis.listTagShowOnHeader.splice(\n\t\t\t\tthis.listTagShowOnHeader.findIndex(x => x.Key == tagKey),\n\t\t\t\t1\n\t\t\t);\n\t\t\tif (this.listTagSearch.length == 0) {\n\t\t\t\tthis.cancelSearch();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (let item in this.choThuTien) {\n\t\t\t\tif (item == tagKey) {\n\t\t\t\t\tthis.choThuTien[item] = this.choThuTienDefault[item];\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.TimkiemNangCao();\n\t\t}\n\t}\n\n\tcheckTrangThai(event: any, type: number) {\n\t\tif (type == 1) {\n\t\t\tthis.choThuTien.DaThu = event;\n\t\t\tthis.router.navigateByUrl(\"/danh-sach-thu-dich-vu?loaiThanhToan=\" + type);\n\t\t}\n\t\tthis.TimkiemNangCao();\n\t}\n\n\trouterLink(id: any, dathu: any) {\n\t\tthis.choThuTien.TabActive = 2;\n\t\tvar queryString = JSON.stringify(this.choThuTien);\n\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", queryString);\n\n\t\tthis.router.navigateByUrl(\"/danh-sach-thu-dich-vu/thong-tin-chi-tiet-da-thu-tien/\" + id + \"?loaiThanhToan=\" + 1);\n\t}\n\n\tthongTinChiTietThanhToan(id: any, dathu: any) {\n\t\tthis.routerLink(id, dathu);\n\t}\n\n\textEnterChangePage(data: any) {\n\t\tthis.routerLink(data.Id, data);\n\t}\n\n\tsortConfig = [\n\t\t{\n\t\t\tfield: \"Id\",\n\t\t\tdir: \"desc\",\n\t\t},\n\t];\n\n\tQuetMaQRCodeClick() {\n\t\tlet elementBarcode: HTMLElement = document.getElementById(\"barcodeActive\") as HTMLElement;\n\t\tif (elementBarcode != undefined) {\n\t\t\telementBarcode.click();\n\t\t}\n\t}\n\n\tchangeQR($event) {\n\t\tif ($event != null && typeof $event == \"string\" && $event.endsWith(\"@\")) {\n\t\t\tthis.modelQRCode = $event;\n\t\t\tvar dataTimKiem = $event.split(\"|\");\n\t\t\tif (dataTimKiem.length > 1) {\n\t\t\t\tthis.timKiemThongTinBenhNhan.TimKiemMaBNVaMaTN = dataTimKiem[0];\n\t\t\t} else {\n\t\t\t\tthis.searchString = $event.slice(0, -1);\n\t\t\t\tthis.timKiemThongTinBenhNhan.TimKiemMaBNVaMaTN = $event.slice(0, -1);\n\t\t\t}\n\t\t\tthis.getThongTinYeuCauBenhNhan(this.timKiemThongTinBenhNhan);\n\t\t} else {\n\t\t\tthis.notificationService.showError(\"Không tìm thấy thông tin cần tìm.\");\n\t\t}\n\t\tthis.isScanF1 = false;\n\t}\n\n\tgetThongTinYeuCauBenhNhan(timKiemThongTinBenhNhan: TimKiemThongTinBenhNhan) {\n\t\tthis.apiService.post<any>(\"ThuNgan/GetThuNganByMaBNVaMaTT/\", timKiemThongTinBenhNhan).subscribe(resultData => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.router.navigateByUrl(\"/danh-sach-thu-dich-vu/thong-tin-chi-tiet-da-thu-tien/\" + resultData.Id + \"?loaiThanhToan=\" + 1);\n\t\t\t} else {\n\t\t\t\tthis.notificationService.showError(this.commonThuTien.ErrorKhongTimThayThongTin);\n\t\t\t}\n\t\t});\n\t}\n\n\texportExcel() {\n\t\tconst self = this;\n\t\tself.showPopupLoadingData();\n\t\tif (self.authService.hasPermission(self.documentType, SecurityOperation.Process)) {\n\t\t\tvar queryString = JSON.stringify(this.choThuTien);\n\t\t\tvar searchText = self.searchString != undefined ? self.searchString : \"\";\n\t\t\tsearchText = CommonService.convertSpecialXML(searchText);\n\t\t\tsearchText = \"<SearchTerms>\" + searchText + \"</SearchTerms>\";\n\t\t\tsearchText = btoa(unescape(encodeURIComponent(\"<AdvancedQueryParameters>\" + searchText + \"</AdvancedQueryParameters>\")));\n\n\t\t\tvar queryObject: any = {\n\t\t\t\tskip: 0,\n\t\t\t\tmodifiedBy: 0,\n\t\t\t\ttake: 50,\n\t\t\t\tsearchString: searchText,\n\t\t\t\tadditionalSearchString: queryString,\n\t\t\t\tsearchTerms: searchText,\n\t\t\t\tsort: self.sortConfig,\n\t\t\t\tlazyLoadPage: true,\n\t\t\t};\n\n\t\t\tself.apiService.postExportExcel<string>(\"ThuNgan/ExportThuNgan\", queryObject).subscribe(\n\t\t\t\tresultData => {\n\t\t\t\t\tself.closePopupLoadingData();\n\t\t\t\t\tconst dateTimeNow = new Date();\n\t\t\t\t\tCommonService.downLoadFile(resultData, \"application/vnd.ms-excel\", \"ThuNgan\" + dateTimeNow.getFullYear() + \".xlsx\");\n\t\t\t\t},\n\t\t\t\t(err: any) => {\n\t\t\t\t\tself.notificationService.showError(err.Message);\n\t\t\t\t\tself.closePopupLoadingData();\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tself.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n\t\t}\n\t}\n\n\tshowPopupLoadingData() {\n\t\tthis.dialog.open(LoadingComponent, {\n\t\t\tdisableClose: true,\n\t\t\twidth: \"200px\",\n\t\t\theight: \"90px\",\n\t\t\tdata: {Title: \"Đang xuất excel...\"},\n\t\t});\n\t}\n\n\tclosePopupLoadingData() {\n\t\tthis.dialog.closeAll();\n\t}\n\n\t@HostListener(\"document:keydown\", [\"$event\"])\n\tkeyEvent(event: KeyboardEvent) {\n\t\tif (event.keyCode == 81 && event.ctrlKey && this.isScanF1 != true) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.QuetMaQRCodeClick();\n\t\t}\n\t}\n}\n","export default \".size-icon {\\n  display: inline-block;\\n  height: 20px;\\n  width: 20px;\\n  line-height: 20px;\\n  border-radius: 10px;\\n  background-color: green;\\n  color: #fff;\\n  text-align: center;\\n}\\n\\n.float_right {\\n  float: right;\\n}\\n\\n.color-green {\\n  color: green;\\n}\\n\\n.color-red {\\n  color: red;\\n}\\n\\n.reverse-ellipsis.r {\\n  text-align: right;\\n  direction: inherit;\\n}\\n\\n.yellowText {\\n  color: yellowgreen;\\n}\\n\\n.redText {\\n  color: red;\\n}\\n\\n.greenText {\\n  color: green;\\n}\\n\\n.orangeText {\\n  color: orange;\\n}\\n\\n.blueText {\\n  color: blue;\\n}\\n\\n.blackText {\\n  color: black;\\n}\\n\\n.red-text {\\n  color: red;\\n}\\n\\n.green-text {\\n  color: green;\\n}\\n\\n.size-icon-duoc-bhyt {\\n  display: inline-block;\\n  height: 14px;\\n  width: 14px;\\n  line-height: 20px;\\n  border-radius: 7px;\\n  background-color: green;\\n  color: #fff;\\n  text-align: center;\\n  right: -4px;\\n  top: 6px;\\n  margin: 0;\\n}\\n\\n.size-icon-duoc-bhyt {\\n  display: inline-block;\\n  height: 14px;\\n  width: 14px;\\n  line-height: 20px;\\n  border-radius: 7px;\\n  background-color: green;\\n  color: #fff;\\n  text-align: center;\\n  right: -4px;\\n  top: 6px;\\n  margin: 0;\\n}\\n\\n.mouse-cursor {\\n  cursor: pointer;\\n}\\n\\n.reverse-ellipsis.r {\\n  text-align: right;\\n  direction: inherit;\\n}\\n\\n.size-icon-khong-bhyt {\\n  display: inline-block;\\n  height: 14px;\\n  width: 14px;\\n  line-height: 20px;\\n  border-radius: 7px;\\n  background-color: red;\\n  color: #fff;\\n  text-align: center;\\n  right: -4px;\\n  top: 6px;\\n  margin: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2Rhbmgtc2FjaC1nb2ktYmh5dC1jaHVhLXF1eWV0LXRvYW4vQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aHUtY2hpXFx0aHUtY2hpLXZpZW4tcGhpXFxuZ29haS10cnVcXGNoby10aHUtdGllblxcZGFuaC1zYWNoLWdvaS1iaHl0LWNodWEtcXV5ZXQtdG9hblxcZGFuaC1zYWNoLWdvaS1iaHl0LWNodWEtcXV5ZXQtdG9hbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2Rhbmgtc2FjaC1nb2ktYmh5dC1jaHVhLXF1eWV0LXRvYW4vZGFuaC1zYWNoLWdvaS1iaHl0LWNodWEtcXV5ZXQtdG9hbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHFCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtFQUVBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLFVBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0Esa0JBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFFQSxrQkFBQTtFQUNBLHVCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFFQSxrQkFBQTtFQUNBLHVCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0FDQ0Y7O0FERUE7RUFDRSxlQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFFQSxrQkFBQTtFQUNBLHFCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGh1LWNoaS90aHUtY2hpLXZpZW4tcGhpL25nb2FpLXRydS9jaG8tdGh1LXRpZW4vZGFuaC1zYWNoLWdvaS1iaHl0LWNodWEtcXV5ZXQtdG9hbi9kYW5oLXNhY2gtZ29pLWJoeXQtY2h1YS1xdXlldC10b2FuLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNpemUtaWNvbiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgaGVpZ2h0OiAyMHB4O1xuICB3aWR0aDogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIC1tb3otYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5mbG9hdF9yaWdodCB7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuLmNvbG9yLWdyZWVuIHtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG4uY29sb3ItcmVkIHtcbiAgY29sb3I6IHJlZDtcbn1cblxuLnJldmVyc2UtZWxsaXBzaXMuciB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBkaXJlY3Rpb246IGluaGVyaXQ7XG59XG5cbi55ZWxsb3dUZXh0IHtcbiAgY29sb3I6IHllbGxvd2dyZWVuO1xufVxuXG4ucmVkVGV4dCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5ncmVlblRleHQge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5vcmFuZ2VUZXh0IHtcbiAgY29sb3I6IG9yYW5nZTtcbn1cblxuLmJsdWVUZXh0IHtcbiAgY29sb3I6IGJsdWU7XG59XG5cbi5ibGFja1RleHQge1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5yZWQtdGV4dCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5ncmVlbi10ZXh0IHtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG4uc2l6ZS1pY29uLWR1b2MtYmh5dCB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgaGVpZ2h0OiAxNHB4O1xuICB3aWR0aDogMTRweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIC1tb3otYm9yZGVyLXJhZGl1czogNXB4O1xuICBib3JkZXItcmFkaXVzOiA3cHg7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xuICBjb2xvcjogI2ZmZjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICByaWdodDogLTRweDtcbiAgdG9wOiA2cHg7XG4gIG1hcmdpbjogMDtcbn1cblxuLnNpemUtaWNvbi1kdW9jLWJoeXQge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGhlaWdodDogMTRweDtcbiAgd2lkdGg6IDE0cHg7XG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAtbW96LWJvcmRlci1yYWRpdXM6IDVweDtcbiAgYm9yZGVyLXJhZGl1czogN3B4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcbiAgY29sb3I6ICNmZmY7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcmlnaHQ6IC00cHg7XG4gIHRvcDogNnB4O1xuICBtYXJnaW46IDA7XG59XG5cbi5tb3VzZS1jdXJzb3Ige1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5yZXZlcnNlLWVsbGlwc2lzLnIge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZGlyZWN0aW9uOiBpbmhlcml0O1xufVxuXG4uc2l6ZS1pY29uLWtob25nLWJoeXQge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGhlaWdodDogMTRweDtcbiAgd2lkdGg6IDE0cHg7XG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAtbW96LWJvcmRlci1yYWRpdXM6IDVweDtcbiAgYm9yZGVyLXJhZGl1czogN3B4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHJpZ2h0OiAtNHB4O1xuICB0b3A6IDZweDtcbiAgbWFyZ2luOiAwO1xufSIsIi5zaXplLWljb24ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGhlaWdodDogMjBweDtcbiAgd2lkdGg6IDIwcHg7XG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAtbW96LWJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xuICBjb2xvcjogI2ZmZjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uZmxvYXRfcmlnaHQge1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbi5jb2xvci1ncmVlbiB7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLmNvbG9yLXJlZCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5yZXZlcnNlLWVsbGlwc2lzLnIge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZGlyZWN0aW9uOiBpbmhlcml0O1xufVxuXG4ueWVsbG93VGV4dCB7XG4gIGNvbG9yOiB5ZWxsb3dncmVlbjtcbn1cblxuLnJlZFRleHQge1xuICBjb2xvcjogcmVkO1xufVxuXG4uZ3JlZW5UZXh0IHtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG4ub3JhbmdlVGV4dCB7XG4gIGNvbG9yOiBvcmFuZ2U7XG59XG5cbi5ibHVlVGV4dCB7XG4gIGNvbG9yOiBibHVlO1xufVxuXG4uYmxhY2tUZXh0IHtcbiAgY29sb3I6IGJsYWNrO1xufVxuXG4ucmVkLXRleHQge1xuICBjb2xvcjogcmVkO1xufVxuXG4uZ3JlZW4tdGV4dCB7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLnNpemUtaWNvbi1kdW9jLWJoeXQge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGhlaWdodDogMTRweDtcbiAgd2lkdGg6IDE0cHg7XG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAtbW96LWJvcmRlci1yYWRpdXM6IDVweDtcbiAgYm9yZGVyLXJhZGl1czogN3B4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcbiAgY29sb3I6ICNmZmY7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcmlnaHQ6IC00cHg7XG4gIHRvcDogNnB4O1xuICBtYXJnaW46IDA7XG59XG5cbi5zaXplLWljb24tZHVvYy1iaHl0IHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBoZWlnaHQ6IDE0cHg7XG4gIHdpZHRoOiAxNHB4O1xuICBsaW5lLWhlaWdodDogMjBweDtcbiAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDdweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHJpZ2h0OiAtNHB4O1xuICB0b3A6IDZweDtcbiAgbWFyZ2luOiAwO1xufVxuXG4ubW91c2UtY3Vyc29yIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4ucmV2ZXJzZS1lbGxpcHNpcy5yIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGRpcmVjdGlvbjogaW5oZXJpdDtcbn1cblxuLnNpemUtaWNvbi1raG9uZy1iaHl0IHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBoZWlnaHQ6IDE0cHg7XG4gIHdpZHRoOiAxNHB4O1xuICBsaW5lLWhlaWdodDogMjBweDtcbiAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDdweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xuICBjb2xvcjogI2ZmZjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICByaWdodDogLTRweDtcbiAgdG9wOiA2cHg7XG4gIG1hcmdpbjogMDtcbn0iXX0= */\"","import { Component, EventEmitter, Input, OnInit, Output, SimpleChanges, TemplateRef, ViewChild } from \"@angular/core\";\nimport { MatDialog } from \"@angular/material\";\nimport { Location } from '@angular/common';\nimport { GridComponent } from \"src/app/shared/component/grid/grid.component\";\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { ActivatedRoute } from \"@angular/router\";\nimport { ChiPhiKhamChuaBenhTrongGoiDichVuVo, CongNoChoThu, DanhSachChiPhiTrongGoi, DanhSachCongNoChoThu } from \"../cho-thu-tien.model\";\nimport { GroupDescriptor, State, process } from \"@progress/kendo-data-query\";\ndeclare var jQuery: any;\nimport icCheck from \"@iconify/icons-ic/twotone-check\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport { BaseService } from \"src/app/core/services/base.service\";\nimport { ConfirmComponent } from \"src/app/shared/component/dialogs/confirm/confirm.component\";\nimport { SystemMessage } from \"src/app/shared/configdata/system-message\";\nimport { CommonService } from \"src/app/core/utilities/common.helper\";\nimport { SecurityOperation } from \"src/app/shared/enum/security-operation.enum\";\nimport { AuthService } from \"src/app/core/services/auth.service\";\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { ApiError } from \"src/app/shared/models/api-error.model\";\n\n\n@Component({\n\tselector: \"app-danh-sach-goi-bhyt-chua-quyet-toan\",\n\ttemplateUrl: \"./danh-sach-goi-bhyt-chua-quyet-toan.component.html\",\n\tstyleUrls: [\"./danh-sach-goi-bhyt-chua-quyet-toan.component.scss\"],\n})\n\nexport class GoiBHYTChuaQuyetToanComponent implements OnInit {\n\tpublic documentType: DocumentType = DocumentType.ThuNgan;\n\n\t@Input() yeuCauTiepNhanId: number;\n\t@Output() danhSachGoiCoBHYT = new EventEmitter<any>();\n\n\t@Input() thongTinCongTyBaoHiemTuNhans = [];\n\t@Input() position: number = -1;\n\t@Input() dataSourceChanged: boolean = false;\n\t@Output() afterChanged = new EventEmitter<any>();\n\t@Input() apDungCongNo: boolean = false;\n\t@Output() afterChangedCongNo = new EventEmitter<any>();\n\t@Output() luuTamChiPhiThanhCongTrongGoi = new EventEmitter<any>();\n\n\tpublic format: string = 'n2';\n\n\tpublic groups: GroupDescriptor[] = [{\n\t\tfield: 'Nhom', aggregates: [\n\t\t\t{ field: 'SoTienQuyetToan', aggregate: 'sum' },\n\t\t\t{ field: 'ThanhTien', aggregate: 'sum' },\n\t\t\t{ field: 'DonGiaBHYT', aggregate: 'sum' },\n\t\t\t{ field: 'BHYTThanhToan', aggregate: 'sum' },\n\t\t]\n\t}];\n\n\tpublic dataSource: any = {\n\t\tdata: [],\n\t\ttotal: 0,\n\t};\n\n\tpublic state: State = {\n\t\tgroup: this.groups,\n\t};\n\n\tpublic gridColumns: any[] = [];\n\tvalidationErrors: any[] = [];\n\tpublic goiChuaQuyetToanMarketing: ChiPhiKhamChuaBenhTrongGoiDichVuVo[] = [];\n\tpublic danhSachCongNoChoThus: DanhSachCongNoChoThu[] = [];\n\n\tpublic gridData: any;\n\tpublic loadingPopup: any;\n\tpublic benhNhanId: any;\n\n\tconstructor(private route: ActivatedRoute,\n\t\tprivate apiService: ApiService,\n\t\tprivate authService: AuthService,\n\t\tprivate baseService: BaseService,\n\t\tprivate notificationService: NotificationService,\n\t\tprivate dialog: MatDialog,\n\t\tprivate location: Location) { }\n\n\t@ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n\t@ViewChild(\"gridList\", { static: true }) gridList: GridComponent;\n\t@ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n\t@ViewChild('soTienTraLaiBNTemplate', { static: true }) soTienTraLaiBNTemplate: TemplateRef<any>;\n\t@ViewChild('soTienTraLaiBNGroupFooter', { static: true }) soTienTraLaiBNGroupFooter: TemplateRef<any>;\n\t@ViewChild('bhytGroupFooter', { static: true }) bhytGroupFooter: TemplateRef<any>;\n\t@ViewChild('tenGoiTemplate', { static: true }) tenGoiTemplate: TemplateRef<any>;\n\t@ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n\t@ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n\t@ViewChild('donGiaBHYTTemplate', { static: true }) donGiaBHYTTemplate: TemplateRef<any>;\n\n\tgoibhyt: string = \"goibhyt\";\n\tpublic icCheck = icCheck;\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tthis.yeuCauTiepNhanId = this.route.snapshot.params.id;\n\t\tif (this.dataSourceChanged) {\n\t\t\tthis.getYeuCauGoiBenhNhan(this.yeuCauTiepNhanId);\n\t\t\tthis.afterChanged.emit();\n\t\t}\n\t\tif (this.apDungCongNo) {\n\t\t\tthis.bindChiaTienCongNo();\n\t\t\tthis.afterChangedCongNo.emit();\n\t\t}\n\t}\n\n\tngOnInit() {\n\t\tif (this.yeuCauTiepNhanId != undefined && this.yeuCauTiepNhanId != null) {\n\t\t\tthis.getYeuCauGoiBenhNhan(this.yeuCauTiepNhanId);\n\t\t}\n\t\tthis.gridColumns = [\n\t\t\t{ Field: \"Nhom\", Title: \"Nhóm\", Width: 100, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n\t\t\t{ Field: \"Ma\", Title: \"Mã\", Width: 30, Sortable: false },\n\t\t\t{ Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", Width: 100, Sortable: false, Template: this.tenGoiTemplate },\n\t\t\t{ Field: \"LoaiGia\", Title: \"Loại Giá\", Width: 70, Sortable: false },\n\t\t\t{ Field: \"Soluong\", Title: \"SL\", Width: 50, Sortable: false },\n\t\t\t{ Field: \"DonGia\", Title: \"Đơn giá\", Width: 50, Sortable: false, Template: this.donGiaTemplate },\n\t\t\t{ Field: \"ThanhTien\", Title: \"Thành tiền\", Width: 80, Sortable: false, Template: this.thanhTienTemplate },\n\t\t\t{ Field: \"DonGiaBHYT\", Title: \"BHYT\", Width: 80, Sortable: false, Template: this.donGiaBHYTTemplate, TemplateFooter: this.bhytGroupFooter },\n\t\t\t{ Field: \"SoTienQuyetToan\", Title: \"Số Tiền quyết toán\", Width: 150, Sortable: false, Template: this.soTienTraLaiBNTemplate, TemplateFooter: this.soTienTraLaiBNGroupFooter },\n\t\t\t{ Field: \"NoiThucHien\", Title: \"Nơi thực hiện\", Width: 130, Sortable: false },\n\t\t];\n\t}\n\n\tpublic totalTongSoTienCongNo(field: any) {\n\t\tif (this.goiChuaQuyetToanMarketing.length > 0) {\n\t\t\tswitch (field) {\n\t\t\t\tcase 'SoTienQuyetToan':\n\t\t\t\t\treturn this.goiChuaQuyetToanMarketing.reduce((sum, item) => sum + item.SoTienQuyetToan, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic total(field: any) {\n\t\tswitch (field) {\n\t\t\tcase \"SoTienQuyetToan\":\n\t\t\t\treturn this.XuLyTotalForField(\"SoTienQuyetToan\");\n\t\t\t\tbreak;\n\t\t\tcase \"ThanhTien\":\n\t\t\t\treturn this.XuLyTotalForField(\"ThanhTien\");\n\t\t\t\tbreak;\n\t\t\tcase \"DonGiaBHYT\":\n\t\t\t\treturn this.XuLyTotalForField(\"DonGiaBHYT\");\n\t\t\t\tbreak;\n\t\t\tcase \"BHYTThanhToan\":\n\t\t\t\treturn this.XuLyTotalForField(\"BHYTThanhToan\");\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tXuLyTotalForField(field: any) {\n\t\tlet sum = 0;\n\t\tthis.goiChuaQuyetToanMarketing.forEach(element => {\n\t\t\tif (element.CheckedDefault) {\n\t\t\t\tswitch (field) {\n\t\t\t\t\tcase \"SoTienQuyetToan\":\n\t\t\t\t\t\tsum = sum + element.SoTienQuyetToan;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"ThanhTien\":\n\t\t\t\t\t\tsum = sum + element.ThanhTien;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"DonGiaBHYT\":\n\t\t\t\t\t\tsum = sum + element.DonGiaBHYT;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"BHYTThanhToan\":\n\t\t\t\t\t\tsum = sum + element.BHYTThanhToan;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn sum;\n\t}\n\n\n\tmapCongTyBHTN(responseThongTinBenhNhan: any) {\n\t\tlet danhSachCongNoChoThu = new DanhSachCongNoChoThu;\n\t\tif (responseThongTinBenhNhan !== null && responseThongTinBenhNhan !== undefined) {\n\t\t\tfor (let index = 0; index < responseThongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans.length; index++) {\n\t\t\t\tlet congNo = new CongNoChoThu;\n\t\t\t\tcongNo.ViTri = index;\n\t\t\t\tcongNo.CongTyBaoHiemTuNhanId = responseThongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans[index].Id;\n\t\t\t\tcongNo.TenCongTy = responseThongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans[index].TenCongTy;\n\t\t\t\tcongNo.SoTienCongNoChoThu = 0;\n\t\t\t\tdanhSachCongNoChoThu.CongNoChoThus.push(congNo);\n\t\t\t}\n\t\t}\n\t\treturn danhSachCongNoChoThu;\n\t}\n\n\tasync getYeuCauGoiBenhNhan(id) {\n\t\tthis.showLoadingPopup();\n\n\t\tlet danhSachCongNoChoThu = new DanhSachCongNoChoThu;\n\t\tlet responseThongTinBenhNhan = await this.baseService.getById<any>(id).toPromise();\n\n\t\tif (responseThongTinBenhNhan !== undefined && responseThongTinBenhNhan !== null)\n\t\t\tdanhSachCongNoChoThu = this.mapCongTyBHTN(responseThongTinBenhNhan);\n\n\t\tif (responseThongTinBenhNhan != undefined && responseThongTinBenhNhan != null) {\n\t\t\tlet responseDanhSachThuPhiDichVuNoiTru = await this.apiService.post<any>(\"ThuNgan/GetDataDichVuTrongGoiCoBHYTForGrid/\" + id).toPromise();\n\t\t\tif (responseDanhSachThuPhiDichVuNoiTru != undefined && responseDanhSachThuPhiDichVuNoiTru != null) {\n\n\t\t\t\tthis.dataSource.data = responseDanhSachThuPhiDichVuNoiTru.Data;\n\t\t\t\tthis.goiChuaQuyetToanMarketing = responseDanhSachThuPhiDichVuNoiTru.Data;\n\n\t\t\t\tif (this.goiChuaQuyetToanMarketing.length > 0 && danhSachCongNoChoThu.CongNoChoThus.length > 0) {\n\t\t\t\t\tfor (let index = 0; index < this.goiChuaQuyetToanMarketing.length; index++) {\n\n\t\t\t\t\t\tlet dsDanhSachCongNoChoThus = this.goiChuaQuyetToanMarketing[index].DanhSachCongNoChoThus;\n\t\t\t\t\t\tthis.goiChuaQuyetToanMarketing[index].DanhSachCongNoChoThus = [];\n\n\t\t\t\t\t\tfor (let subIndex = 0; subIndex < danhSachCongNoChoThu.CongNoChoThus.length; subIndex++) {\n\t\t\t\t\t\t\tlet soTienCongNoChoThuByTheoCongTy = dsDanhSachCongNoChoThus.filter(c =>\n\t\t\t\t\t\t\t\tc.CongTyBaoHiemTuNhanId == danhSachCongNoChoThu.CongNoChoThus[subIndex].CongTyBaoHiemTuNhanId)\n\t\t\t\t\t\t\t\t.reduce((sum, item) => sum + item.SoTienCongNoChoThu, 0);\n\n\t\t\t\t\t\t\tlet congNoItem = new CongNoChoThu();\n\t\t\t\t\t\t\tcongNoItem.CongTyBaoHiemTuNhanId = danhSachCongNoChoThu.CongNoChoThus[subIndex].CongTyBaoHiemTuNhanId;\n\t\t\t\t\t\t\tcongNoItem.SoTienCongNoChoThu = danhSachCongNoChoThu.CongNoChoThus[subIndex].SoTienCongNoChoThu = soTienCongNoChoThuByTheoCongTy > 0 ? soTienCongNoChoThuByTheoCongTy : 0;\n\t\t\t\t\t\t\tcongNoItem.TenCongTy = danhSachCongNoChoThu.CongNoChoThus[subIndex].TenCongTy;\n\t\t\t\t\t\t\tcongNoItem.ViTri = danhSachCongNoChoThu.CongNoChoThus[subIndex].ViTri;\n\t\t\t\t\t\t\tthis.goiChuaQuyetToanMarketing[index].DanhSachCongNoChoThus.push(congNoItem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.danhSachCongNoChoThus = [];\n\t\t\t\t\tthis.danhSachCongNoChoThus.push(danhSachCongNoChoThu);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.gridData = process(this.goiChuaQuyetToanMarketing, this.state);\n\t\t\tthis.goiChuaQuyetToanMarketing.filter(element => element.CheckedDefault == true);\n\t\t\tthis.danhSachGoiCoBHYT.emit(this.goiChuaQuyetToanMarketing);\n\t\t\tthis.setRemoveGroupFooterOnly();\n\t\t\tthis.closeAllDialogs();\n\t\t}\n\t}\n\n\tsetRemoveGroupFooterOnly() {\n\t\tsetTimeout(function () {\n\t\t\tif (jQuery(\"#danhSachGoiDVGrid .k-group-footer\").length == 1) {\n\t\t\t\tjQuery(\"#danhSachGoiDVGrid .k-group-footer\").hide();\n\t\t\t} else {\n\t\t\t\tjQuery(\"#danhSachGoiDVGrid .k-group-footer\").show();\n\t\t\t}\n\t\t}, 100);\n\t}\n\n\tpublic totalCongno(field: any, group: any) {\n\t\tlet sumItemCongNo = 0;\n\t\tgroup.items.forEach(element => {\n\t\t\telement.DanhSachCongNoChoThus.forEach(cn => {\n\t\t\t\tif (cn.CongTyBaoHiemTuNhanId === field) {\n\t\t\t\t\tsumItemCongNo += cn.SoTienCongNoChoThu;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn sumItemCongNo;\n\t}\n\n\tpublic totalCongnoFooter(field: any) {\n\t\tlet sumItemCongNo = 0;\n\t\tthis.goiChuaQuyetToanMarketing.forEach(element => {\n\t\t\telement.DanhSachCongNoChoThus.forEach(cn => {\n\t\t\t\tif (cn.CongTyBaoHiemTuNhanId === field) {\n\t\t\t\t\tsumItemCongNo += cn.SoTienCongNoChoThu;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn sumItemCongNo;\n\t}\n\n\n\tbindItemCongTyApDungSoTien() {\n\t\tlet danhSachCongNoChoThu = new DanhSachCongNoChoThu;\n\t\tfor (let index = 0; index < this.thongTinCongTyBaoHiemTuNhans.length; index++) {\n\t\t\tlet congNo = new CongNoChoThu;\n\t\t\tcongNo.ViTri = index;\n\t\t\tcongNo.CongTyBaoHiemTuNhanId = this.thongTinCongTyBaoHiemTuNhans[index].Id;\n\t\t\tcongNo.TenCongTy = this.thongTinCongTyBaoHiemTuNhans[index].TenCongTy;\n\t\t\tcongNo.SoTienCongNoChoThu = 0;\n\t\t\tdanhSachCongNoChoThu.CongNoChoThus.push(congNo);\n\t\t}\n\t\treturn danhSachCongNoChoThu;\n\t}\n\n\tsoTienBenhNhanCanThanhToan(): number {\n\t\tlet totalBHYT = 0;\n\t\tlet totalThanhTien = 0;\n\t\tif (this.goiChuaQuyetToanMarketing != undefined && this.goiChuaQuyetToanMarketing != null) {\n\t\t\tthis.goiChuaQuyetToanMarketing.forEach(element => {\n\t\t\t\tif (element.CheckedDefault === true) {\n\t\t\t\t\ttotalThanhTien += element.ThanhTien;\n\t\t\t\t\ttotalBHYT += element.BHYTThanhToan;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn (Math.round((totalThanhTien - totalBHYT) * 100) / 100);\n\t}\n\n\ttotalCongNo(): number {\n\t\tlet totalCongNoThanhToan = 0;\n\t\tif (this.goiChuaQuyetToanMarketing != undefined && this.thongTinCongTyBaoHiemTuNhans != null) {\n\t\t\tfor (let index = 0; index < this.thongTinCongTyBaoHiemTuNhans.length; index++) {\n\t\t\t\ttotalCongNoThanhToan += this.thongTinCongTyBaoHiemTuNhans[index].SoTienCongNo;\n\t\t\t}\n\t\t}\n\t\treturn totalCongNoThanhToan;\n\t}\n\n\ttinhTienCongNo(itemThanhTien, itemBHYTThanhToan, congNoId, totalTT, congNoTruocDos): number {\n\t\tlet totalCongNo = 0;\n\t\tif (this.thongTinCongTyBaoHiemTuNhans != undefined && this.thongTinCongTyBaoHiemTuNhans != null) {\n\t\t\ttotalCongNo = this.thongTinCongTyBaoHiemTuNhans.filter(item => item.Id == congNoId).reduce((sum, item) => sum + item.SoTienCongNo, 0);\n\t\t}\t\t\n\t\treturn totalCongNo == 0 ? totalCongNo :\n\t\t\tMath.round(((totalCongNo / totalTT) * (itemThanhTien - itemBHYTThanhToan)) * 100) / 100;\n\t}\n\n\tbindChiaTienCongNo() {\n\t\tlet totalTT = this.soTienBenhNhanCanThanhToan();\n\t\tlet totalCongNo = this.totalCongNo();\n\t\tthis.danhSachCongNoChoThus = [];\n\n\t\tif (this.goiChuaQuyetToanMarketing.length > 0 && totalCongNo > totalTT) {\n\t\t\tthis.notificationService.showError(\"Số tiền thanh toán công nợ không hợp lệ\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.thongTinCongTyBaoHiemTuNhans.length > 0) {\n\t\t\tlet danhSachCongNoChoThu = new DanhSachCongNoChoThu;\n\t\t\tdanhSachCongNoChoThu = this.bindItemCongTyApDungSoTien();\n\n\t\t\tvar tongCongNo = 0;\n\t\t\tif (danhSachCongNoChoThu.CongNoChoThus.length > 0) {\n\t\t\t\tfor (let index = 0; index < this.goiChuaQuyetToanMarketing.length; index++) {\n\t\t\t\t\tif (this.position != -1) {\n\t\t\t\t\t\tthis.goiChuaQuyetToanMarketing[index].SoTienQuyetToan =\n\t\t\t\t\t\t\t(this.goiChuaQuyetToanMarketing[index].ThanhTien - this.goiChuaQuyetToanMarketing[index].BHYTThanhToan);\n\n\t\t\t\t\t\tif (index != this.goiChuaQuyetToanMarketing.length - 1) {\n\t\t\t\t\t\t\tif (this.goiChuaQuyetToanMarketing[index].DanhSachCongNoChoThus.length > 0) {\n\t\t\t\t\t\t\t\tthis.goiChuaQuyetToanMarketing[index].DanhSachCongNoChoThus[this.position].SoTienCongNoChoThu =\n\n\t\t\t\t\t\t\t\t\tdanhSachCongNoChoThu.CongNoChoThus[this.position].SoTienCongNoChoThu =\n\t\t\t\t\t\t\t\t\tthis.tinhTienCongNo(this.goiChuaQuyetToanMarketing[index].ThanhTien,\n\t\t\t\t\t\t\t\t\t\tthis.goiChuaQuyetToanMarketing[index].BHYTThanhToan,\n\t\t\t\t\t\t\t\t\t\tdanhSachCongNoChoThu.CongNoChoThus[this.position].CongTyBaoHiemTuNhanId,\n\t\t\t\t\t\t\t\t\t\ttotalTT,\n\t\t\t\t\t\t\t\t\t\tthis.goiChuaQuyetToanMarketing[index].DanhSachCongNoChoThus,\n\t\t\t\t\t\t\t\t\t);\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\ttongCongNo += this.goiChuaQuyetToanMarketing[index].DanhSachCongNoChoThus[this.position].SoTienCongNoChoThu;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.goiChuaQuyetToanMarketing[index].DanhSachCongNoChoThus[this.position].SoTienCongNoChoThu =\n\t\t\t\t\t\t\t\tthis.thongTinCongTyBaoHiemTuNhans[this.position].SoTienCongNo - tongCongNo;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.goiChuaQuyetToanMarketing.forEach(element => {\n\t\t\t\t\tif (element.CheckedDefault === true) {\n\t\t\t\t\t\tlet totalCongNo = 0;\n\t\t\t\t\t\telement.DanhSachCongNoChoThus.forEach(element => { totalCongNo += element.SoTienCongNoChoThu });\n\t\t\t\t\t\treturn element.SoTienQuyetToan = element.ThanhTien - element.BHYTThanhToan - (totalCongNo);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.danhSachCongNoChoThus.push(danhSachCongNoChoThu);\n\t\t\t}\n\t\t}\n\n\t\tthis.gridData = process(this.goiChuaQuyetToanMarketing, this.state);\n\t\tthis.goiChuaQuyetToanMarketing.filter(element => element.CheckedDefault == true);\n\t\tthis.danhSachGoiCoBHYT.emit(this.goiChuaQuyetToanMarketing);\n\t}\n\n\tBackToList() {\n\t\tthis.location.back();\n\t}\n\n\tluuTamChiPhiTrongGoiNgoaiTru() {\n\t\tthis.dialog.open(ConfirmComponent, {\n\t\t\tdisableClose: false,\n\t\t\twidth: '400px',\n\t\t\tdata: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessConfirm, [\"lưu tạm chi phí trong gói\"]) }\n\t\t}).afterClosed().subscribe(result => {\n\t\t\tif (result === 'Yes') {\n\t\t\t\tlet danhSachChiPhiTrongGoi = new DanhSachChiPhiTrongGoi();\n\t\t\t\tdanhSachChiPhiTrongGoi.DanhSachChiPhiKhamChuaBenhTrongGoiDichVus = this.goiChuaQuyetToanMarketing;\n\t\t\t\tdanhSachChiPhiTrongGoi.Id = this.yeuCauTiepNhanId;\n\t\t\t\tif (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n\t\t\t\t\tthis.apiService\n\t\t\t\t\t\t.post(\"ThuNgan/LuuTamChiPhiNgoaiTruTrongGoi\", danhSachChiPhiTrongGoi).subscribe(\n\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\tthis.notificationService.showSuccess(\"Lưu tạm chi phí trong gói thành công\");\n\t\t\t\t\t\t\t\tthis.luuTamChiPhiThanhCongTrongGoi.emit(true);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t(err: ApiError) => {\n\t\t\t\t\t\t\t\tif (err.Message != \"Validation Failed\") {\n\t\t\t\t\t\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tmodelChangeCongNo(ev: any, data: any, vitri: any) {\n\t\tif (ev === undefined && ev === null) {\n\t\t\tdata.DanhSachCongNoChoThus[vitri].SoTienCongNoChoThu = 0;\n\t\t} else {\n\t\t\tif (data !== undefined && data !== null) {\n\t\t\t\tdata.SoTienQuyetToan = data.ThanhTien - data.DonGiaBHYTThanhToan - ev;\n\t\t\t}\n\t\t}\n\t}\n\n\tshowLoadingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang tải...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tshowSavingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang lưu...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tcloseAllDialogs() {\n\t\tif (this.loadingPopup) {\n\t\t\tthis.loadingPopup.close();\n\t\t\tthis.loadingPopup = null;\n\t\t}\n\t}\n}\n","export default \".text-color {\\n  color: red;\\n}\\n\\n.text-color-blue {\\n  color: blue;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2Rhbmgtc2FjaC10aHUtcGhpLW5nb2FpLXRydS9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHRodS1jaGlcXHRodS1jaGktdmllbi1waGlcXG5nb2FpLXRydVxcY2hvLXRodS10aWVuXFxkYW5oLXNhY2gtdGh1LXBoaS1uZ29haS10cnVcXGRhbmgtc2FjaC10aHUtcGhpLW5nb2FpLXRydS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2Rhbmgtc2FjaC10aHUtcGhpLW5nb2FpLXRydS9kYW5oLXNhY2gtdGh1LXBoaS1uZ29haS10cnUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGh1LWNoaS90aHUtY2hpLXZpZW4tcGhpL25nb2FpLXRydS9jaG8tdGh1LXRpZW4vZGFuaC1zYWNoLXRodS1waGktbmdvYWktdHJ1L2Rhbmgtc2FjaC10aHUtcGhpLW5nb2FpLXRydS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50ZXh0LWNvbG9yIHtcbiAgY29sb3I6IHJlZDtcbn1cblxuLnRleHQtY29sb3ItYmx1ZSB7XG4gIGNvbG9yOiBibHVlO1xufSIsIi50ZXh0LWNvbG9yIHtcbiAgY29sb3I6IHJlZDtcbn1cblxuLnRleHQtY29sb3ItYmx1ZSB7XG4gIGNvbG9yOiBibHVlO1xufSJdfQ== */\"","import {Component, OnInit, ViewChild, TemplateRef, HostListener} from \"@angular/core\";\nimport {ChoThuTien, TagItem, TimKiemThongTinBenhNhan, CommonThuTien, TrangThaiThuTien} from \"../cho-thu-tien.model\";\nimport {MatMenuTrigger, MatDialog} from \"@angular/material\";\nimport icSearch from \"@iconify/icons-ic/twotone-search\";\nimport {Router, ActivatedRoute} from \"@angular/router\";\nimport {DocumentType} from \"src/app/shared/enum/document-type.enum\";\nimport icCancel from \"@iconify/icons-ic/cancel\";\nimport icicclose from \"@iconify/icons-ic/twotone-close\";\nimport icExpandMore from \"@iconify/icons-ic/expand-more\";\nimport {FormControl} from \"@angular/forms\";\nimport {GridComponent} from \"src/app/shared/component/grid/grid.component\";\nimport {CommonService} from \"src/app/core/utilities/common.helper\";\nimport {LocalStorageHelper} from \"src/app/core/utilities/local-storage.helper\";\nimport {ApiService} from \"src/app/core/services/api.service\";\nimport {NotificationService} from \"src/app/core/services/notification.service\";\nimport {AuthService} from \"src/app/core/services/auth.service\";\nimport {SecurityOperation} from \"src/app/shared/enum/security-operation.enum\";\nimport {SystemMessage} from \"src/app/shared/configdata/system-message\";\nimport {LoadingComponent} from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport icFileExcel from \"@iconify/icons-fa-solid/file-excel\";\nimport {Location} from \"@angular/common\";\nimport icFilterList from \"@iconify/icons-ic/twotone-filter-list\";\n\n@Component({\n\tselector: \"app-danh-sach-thu-phi-ngoai-tru\",\n\ttemplateUrl: \"./danh-sach-thu-phi-ngoai-tru.component.html\",\n\tstyleUrls: [\"./danh-sach-thu-phi-ngoai-tru.component.scss\"],\n})\n\nexport class DanhSachThuPhiNgoaiTruComponent implements OnInit {\n\tpublic queryStrings: any;\n\tpublic loaiThanhToan: string = \"0\";\n\tpublic kiemTraDanhSachThanhToan: boolean = true;\n\tpublic kiemTraDanhSachDaThanhToan: boolean = false;\n\tpublic _pageSize = 20;\n\tpublic allDaThuChuaThu: boolean = true;\n\tpublic dathu: boolean = true;\n\tpublic chuaThu: boolean = true;\n\tpublic timKiemThongTinBenhNhan = {} as TimKiemThongTinBenhNhan;\n\tpublic STT: number = 1;\n\tpublic commonThuTien = new CommonThuTien();\n\tpublic trangThaiThuTien = new TrangThaiThuTien();\n\n\tgridThuNganColumns: any[] = [];\n\tgridThuNganChoThuPhiColumns: any[] = [];\n\tgridThuNganChoThuDaThuPhiColumns: any[] = [];\n\ticSearch = icSearch;\n\ticCancel = icCancel;\n\ticExpandMore = icExpandMore;\n\tlistTagSearch: Array<TagItem>;\n\tpublic listTagShowOnHeader: Array<TagItem>;\n\tchoThuTien = new ChoThuTien();\n\tchoThuTienTamChoDong = new ChoThuTien();\n\tchoThuTienDefault = new ChoThuTien();\n\tshowCancelSearch: boolean = false;\n\tsearchString: string;\n\ticicclose = icicclose;\n\tsearchCtrl = new FormControl();\n\tdocumentType: DocumentType;\n\tmodelQRCode: any;\n\tisScanF1: boolean = false;\n\tadditionalSearchString: string = null;\n\ticFileExcel = icFileExcel;\n\tshowTrangThaiTN: boolean = false;\n\ticFilterList = icFilterList;\n\tbaseRoute: string = \"/danh-sach-thu-dich-vu\";\n\tconstructor(private router: Router, private location: Location, private route: ActivatedRoute, private apiService: ApiService, private notificationService: NotificationService, private authService: AuthService, private dialog: MatDialog) {}\n\t@ViewChild(MatMenuTrigger, {static: false}) trigger: MatMenuTrigger;\n\t@ViewChild(\"templateTextSoTienChoXacNhan\", {static: true}) templateTextSoTienChoXacNhan: TemplateRef<any>;\n\t@ViewChild(\"templateTextSoTienDaXacNhan\", {static: true}) templateTextSoTienDaXacNhan: TemplateRef<any>;\n\t@ViewChild(\"templateTextSoTienDaTamUng\", {static: true}) templateTextSoTienDaTamUng: TemplateRef<any>;\n\t@ViewChild(\"templateTextSoDuTK\", {static: true}) templateTextSoDuTK: TemplateRef<any>;\n\t@ViewChild(\"coNhapVienTemplate\", {static: true}) coNhapVienTemplate: TemplateRef<any>;\n\t@ViewChild(\"templateSTT\", {static: true})\n\ttemplateSTT: TemplateRef<any>;\n\t@ViewChild(\"gridList\", {static: false}) gridList: GridComponent;\n\t@ViewChild(\"maTNTemplate\", {static: true}) maTNTemplate: TemplateRef<any>;\n\t@ViewChild(\"actionTemplate\", {static: true}) actionTemplate: TemplateRef<any>;\n\tpublic keyCode: string = \"Enter\";\n\n\tngOnInit() {\n\t\tthis.documentType = DocumentType.ThuNgan;\n\t\tthis.listTagSearch = new Array<TagItem>();\n\n\t\tlet dateNow = new Date();\n\t\tthis.choThuTien.ThoiDiemTiepNhanTuFormat = new Date(dateNow.getFullYear(), dateNow.getMonth(), dateNow.getDate());\n\t\tthis.choThuTien.ThoiDiemTiepNhanDenFormat = new Date(dateNow.getFullYear(), dateNow.getMonth(), dateNow.getDate(), 23, 59, 59, 59);\n\n\t\tif (this.choThuTien.ThoiDiemTiepNhanTuFormat != null) {\n\t\t\tthis.choThuTien.FromDate = CommonService.formatDateTime(this.choThuTien.ThoiDiemTiepNhanTuFormat, \"dd/mm/yyyy\");\n\t\t} else {\n\t\t\tthis.choThuTien.FromDate = null;\n\t\t}\n\n\t\tif (this.choThuTien.ThoiDiemTiepNhanDenFormat != null) {\n\t\t\tthis.choThuTien.ToDate = CommonService.formatDateTime(this.choThuTien.ThoiDiemTiepNhanDenFormat, \"dd/mm/yyyy\");\n\t\t} else {\n\t\t\tthis.choThuTien.ToDate = null;\n\t\t}\n\n\t\tthis.backWithSearch();\n\t\tthis.gridThuNganColumns = [\n\t\t\t{Field: \"MaTN\", Title: \"Mã TN\", Width: 100, Sortable: true, Template: this.maTNTemplate},\n\t\t\t{Field: \"MaBN\", Title: \"Mã NB\", Width: 70, Sortable: true},\n\t\t\t{Field: \"HoTen\", Title: \"Họ tên\", MinWidth: 90, Sortable: true},\n\t\t\t{Field: \"NamSinh\", Title: \"Năm Sinh\", Width: 80, Sortable: true},\n\t\t\t{Field: \"GioiTinhStr\", Title: \"Giới tính\", Width: 100, Sortable: true},\n\t\t\t{Field: \"DienThoaiStr\", Title: \"Số điện thoại\", Width: 100, Sortable: true},\n\t\t\t{Field: \"DoiTuong\", Title: \"Đối tượng\", Width: 100, Sortable: true},\n\t\t\t{Field: \"YeuCauNhapVien\", Title: \"Có Nhập Viện\", Width: 150, Sortable: true, Template: this.coNhapVienTemplate},\n\t\t\t{Field: \"SoTienTamUng\", Title: \"Số tiền đã tạm ứng\", Width: 150, Sortable: true, Template: this.templateTextSoTienDaTamUng},\n\t\t\t{Field: \"SoTienDaThu\", Title: \"Số tiền đã thu\", Sortable: false, Width: 200, Template: this.templateTextSoTienDaXacNhan},\n\t\t\t// {Field: \"SoTienBNPhaiTT\", Title: \".\", Sortable: false, Width: 200, Template: this.templateTextSoTienChoXacNhan},\n\t\t\t{Field: \"ThoiDiemTiepNhanDisplay\", Title: \"Tiếp nhận lúc\", Sortable: true, Width: 150},\n\t\t];\n\t\tthis.showTrangThaiThuNgan();\n\t}\n\n\tbackWithSearch() {\n\t\tif (this.route.snapshot.queryParams.loaiThanhToan !== undefined) {\n\t\t\tthis.loaiThanhToan = this.route.snapshot.queryParams.loaiThanhToan;\n\t\t}\n\t\tif (this.route.snapshot.queryParams.loaiThanhToan !== undefined && LocalStorageHelper.getItem(\"additionalSearchStringThuNgan\") != null) {\n\t\t\tthis.additionalSearchString = LocalStorageHelper.getItem(\"additionalSearchStringThuNgan\");\n\t\t\tthis.choThuTien = new ChoThuTien();\n\t\t\tthis.choThuTien = JSON.parse(this.additionalSearchString);\n\t\t\tif (this.choThuTien.ThoiDiemTiepNhanTuFormat != undefined && this.choThuTien.ThoiDiemTiepNhanTuFormat != null && this.choThuTien.ThoiDiemTiepNhanTuFormat != \"\") {\n\t\t\t\tthis.choThuTien.ThoiDiemTiepNhanTuFormat = new Date(this.choThuTien.ThoiDiemTiepNhanTuFormat);\n\t\t\t}\n\t\t\tif (this.choThuTien.ThoiDiemTiepNhanDenFormat != undefined && this.choThuTien.ThoiDiemTiepNhanDenFormat != null && this.choThuTien.ThoiDiemTiepNhanDenFormat != \"\") {\n\t\t\t\tthis.choThuTien.ThoiDiemTiepNhanDenFormat = new Date(this.choThuTien.ThoiDiemTiepNhanDenFormat);\n\t\t\t}\n\t\t\tthis.searchString = this.choThuTien.SearchString;\n\t\t\tif (this.gridList != undefined) {\n\t\t\t\tthis.gridList.searchString = this.choThuTien.SearchString;\n\t\t\t}\n\t\t} else {\n\t\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", null);\n\t\t}\n\t}\n\n\tshowTrangThaiThuNgan() {\n\t\tif (this.choThuTien.ChuaThu) this.getInputSearchValue(true, \"chothu\", \"Chờ Thu\");\n\t\tthis.updateSreachString();\n\t}\n\n\tgetInputSearchValue(obj: any, keyValue: any, titleValue: any) {\n\t\tlet index = this.listTagSearch.findIndex(x => x.Key == keyValue);\n\t\tif (obj) {\n\t\t\tlet valueFormat = undefined;\n\t\t\tif (obj) {\n\t\t\t\tvalueFormat = obj;\n\t\t\t\tlet item = new TagItem();\n\t\t\t\titem.Key = keyValue;\n\t\t\t\titem.Value = valueFormat;\n\t\t\t\titem.Title = titleValue;\n\t\t\t\tthis.listTagSearch.push(item);\n\t\t\t} else {\n\t\t\t\tthis.listTagSearch[index].Value = valueFormat;\n\t\t\t}\n\t\t} else {\n\t\t\tif (index != -1) {\n\t\t\t\tthis.listTagSearch.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\tthis.listTagShowOnHeader = JSON.parse(JSON.stringify(this.listTagSearch));\n\t}\n\n\tupdateSreachString() {\n\t\tvar queryString = JSON.stringify(this.choThuTien);\n\t\tthis.queryStrings = queryString;\n\t\tif (this.gridList != undefined) {\n\t\t\tthis.gridList.searchString = this.choThuTien.SearchString;\n\t\t\tthis.gridList.search();\n\t\t}\n\t}\n\n\tthoiDiemTNChange() {\n\t\tthis.TimkiemNangCao();\n\t}\n\n\tcancelSearch() {\n\t\tthis.choThuTien = new ChoThuTien();\n\t\tthis.listTagSearch = new Array<TagItem>();\n\t\tthis.listTagShowOnHeader = new Array<TagItem>();\n\t\tvar queryString = JSON.stringify(this.choThuTien);\n\n\t\tif (this.gridList != undefined) {\n\t\t\tthis.gridList._additionalSearchString = queryString;\n\t\t\tthis.gridList.search();\n\t\t}\n\n\t\tthis.showCancelSearch = false;\n\t}\n\n\tcloseMenu() {\n\t\tthis.choThuTien.ChuaThu = false;\n\t\tthis.listTagShowOnHeader = [];\n\t\tthis.listTagSearch = [];\n\t\tif (this.choThuTienTamChoDong.ChuaThu == true) {\n\t\t\tthis.choThuTien.ChuaThu = true;\n\t\t\tthis.getInputSearchValue(true, \"chothu\", \"Chờ Thu\");\n\t\t}\n\t}\n\n\tTimkiemNangCao() {\n\t\tthis.location.replaceState(this.baseRoute + \"?loaiThanhToan=0\");\n\n\t\tthis.trangThaiCommon();\n\t\tvar searchText = this.searchString != undefined ? this.searchString : \"\";\n\t\tthis.choThuTien.SearchString = searchText;\n\n\t\tif (this.choThuTien.ThoiDiemTiepNhanTuFormat != null) {\n\t\t\tthis.choThuTien.FromDate = CommonService.formatDateTime(this.choThuTien.ThoiDiemTiepNhanTuFormat, \"dd/mm/yyyy\");\n\t\t} else {\n\t\t\tthis.choThuTien.FromDate = null;\n\t\t}\n\n\t\tif (this.choThuTien.ThoiDiemTiepNhanDenFormat != null) {\n\t\t\tthis.choThuTien.ToDate = CommonService.formatDateTime(this.choThuTien.ThoiDiemTiepNhanDenFormat, \"dd/mm/yyyy\");\n\t\t} else {\n\t\t\tthis.choThuTien.ToDate = null;\n\t\t}\n\n\t\tthis.choThuTien.TabActive = 0;\n\t\tvar queryString = JSON.stringify(this.choThuTien);\n\t\tif (this.gridList != undefined) {\n\t\t\tthis.gridList.searchString = searchText;\n\t\t\tthis.gridList._additionalSearchString = queryString;\n\t\t\tthis.gridList.search();\n\t\t}\n\n\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", queryString);\n\t\tthis.showCancelSearch = this.listTagShowOnHeader != undefined && this.listTagShowOnHeader.length > 0;\n\t}\n\n\tTimkiem() {\n\t\tthis.trangThaiCommon();\n\t\tthis.choThuTien.SearchString = this.searchString;\n\t\tthis.choThuTien.TabActive = 0;\n\t\tvar queryString = JSON.stringify(this.choThuTien);\n\t\tlet QueryString = null;\n\t\tif (this.searchString != null) {\n\t\t\tQueryString = this.searchString;\n\t\t\tthis.showTrangThaiTN = true;\n\t\t}\n\t\tif (this.gridList != undefined) {\n\t\t\tthis.gridList.searchString = QueryString;\n\t\t\tthis.gridList._additionalSearchString = queryString;\n\t\t\tthis.gridList.search();\n\t\t}\n\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", queryString);\n\t\tthis.showCancelSearch = this.listTagShowOnHeader != undefined && this.listTagShowOnHeader.length > 0;\n\t}\n\n\ttimeoutSearchChange: any;\n\tsearchChanges(event) {\n\t\t//xóa sreach trước đó\n\t\tvar self = this;\n\t\tif (this.timeoutSearchChange != null) {\n\t\t\tclearTimeout(this.timeoutSearchChange);\n\t\t\tthis.timeoutSearchChange = null;\n\t\t}\n\t\tthis.timeoutSearchChange = setTimeout(function () {\n\t\t\tif (event !== undefined && event !== null && event.endsWith(\"@\")) {\n\t\t\t\tvar dataTimKiem = event.split(\"|\");\n\t\t\t\tif (dataTimKiem.length > 1) {\n\t\t\t\t\tself.timKiemThongTinBenhNhan.TimKiemMaBNVaMaTN = dataTimKiem[0];\n\t\t\t\t\tself.searchString = dataTimKiem[0];\n\t\t\t\t} else {\n\t\t\t\t\tself.searchString = event.slice(0, -1);\n\t\t\t\t\tself.timKiemThongTinBenhNhan.TimKiemMaBNVaMaTN = event.slice(0, -1);\n\t\t\t\t}\n\t\t\t\tself.getThongTinYeuCauBenhNhan(self.timKiemThongTinBenhNhan);\n\t\t\t}\n\t\t\tif (event != undefined && (event == null || event == \"\")) {\n\t\t\t\tself.gridList.searchString = null;\n\t\t\t\t//self.TimkiemNangCao();\n\t\t\t}\n\t\t}, 100);\n\t}\n\n\tonKey(event: any) {\n\t\tif (event.key == \"Enter\") {\n\t\t\tthis.TimkiemNangCao();\n\t\t}\n\t}\n\n\tclearSearch() {\n\t\tthis.searchString = \"\";\n\t\tif (this.gridList != undefined) {\n\t\t\tthis.gridList.search();\n\t\t}\n\t}\n\n\ttrangThaiCommon() {\n\t\tif (this.choThuTien.ChuaThu === false) {\n\t\t\tthis.choThuTien.ChuaThu = true;\n\t\t\tthis.getInputSearchValue(true, \"chothu\", \"Chờ Thu\");\n\t\t}\n\t\tthis.choThuTienTamChoDong.ChuaThu = false;\n\t\tif (this.choThuTien.ChuaThu) this.choThuTienTamChoDong.ChuaThu = true;\n\t\tif (this.choThuTien.NamSinh != null) this.choThuTien.NamSinh = Math.round(this.choThuTien.NamSinh);\n\t\tthis.listTagShowOnHeader = JSON.parse(JSON.stringify(this.listTagSearch));\n\t}\n\n\tcancelTagSearch(tagKey: any) {\n\t\tif (tagKey === \"chothu\") {\n\t\t\tthis.choThuTien.ChuaThu = false;\n\t\t}\n\t\tif (tagKey != null && tagKey != undefined) {\n\t\t\tthis.listTagSearch.splice(\n\t\t\t\tthis.listTagSearch.findIndex(x => x.Key == tagKey),\n\t\t\t\t1\n\t\t\t);\n\t\t\tthis.listTagShowOnHeader.splice(\n\t\t\t\tthis.listTagShowOnHeader.findIndex(x => x.Key == tagKey),\n\t\t\t\t1\n\t\t\t);\n\t\t\tif (this.listTagSearch.length == 0) {\n\t\t\t\tthis.cancelSearch();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (let item in this.choThuTien) {\n\t\t\t\tif (item == tagKey) {\n\t\t\t\t\tthis.choThuTien[item] = this.choThuTienDefault[item];\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.TimkiemNangCao();\n\t\t}\n\t}\n\n\tcheckTrangThai(event: any, type: number) {\n\t\tif (type == 1) {\n\t\t\tthis.choThuTien.ChuaThu = event;\n\t\t\tthis.router.navigateByUrl(\"/danh-sach-thu-dich-vu?loaiThanhToan=\" + type);\n\t\t}\n\t\tthis.TimkiemNangCao();\n\t}\n\n\trouterLink(id: any, dathu: any) {\n\t\tthis.choThuTien.TabActive = 0;\n\t\tvar queryString = JSON.stringify(this.choThuTien);\n\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", queryString);\n\n\t\tthis.router.navigateByUrl(\"/danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/\" + id + \"?loaiThanhToan=\" + 1);\n\t}\n\n\tthongTinChiTietThanhToan(id: any, dathu: any) {\n\t\tthis.routerLink(id, dathu);\n\t}\n\n\textEnterChangePage(data: any) {\n\t\tthis.routerLink(data.Id, data);\n\t}\n\n\tsortConfig = [\n\t\t{\n\t\t\tfield: \"ChuaThu\",\n\t\t\tdir: \"desc\",\n\t\t},\n\t];\n\n\tQuetMaQRCodeClick() {\n\t\tlet elementBarcode: HTMLElement = document.getElementById(\"barcodeActive\") as HTMLElement;\n\t\tif (elementBarcode != undefined) {\n\t\t\telementBarcode.click();\n\t\t}\n\t}\n\n\tchangeQR($event) {\n\t\tif ($event != null && typeof $event == \"string\" && $event.endsWith(\"@\")) {\n\t\t\tthis.modelQRCode = $event;\n\t\t\tvar dataTimKiem = $event.split(\"|\");\n\t\t\tif (dataTimKiem.length > 1) {\n\t\t\t\tthis.timKiemThongTinBenhNhan.TimKiemMaBNVaMaTN = dataTimKiem[0];\n\t\t\t} else {\n\t\t\t\tthis.searchString = $event.slice(0, -1);\n\t\t\t\tthis.timKiemThongTinBenhNhan.TimKiemMaBNVaMaTN = $event.slice(0, -1);\n\t\t\t}\n\t\t\tthis.getThongTinYeuCauBenhNhan(this.timKiemThongTinBenhNhan);\n\t\t} else {\n\t\t\tthis.notificationService.showError(\"Không tìm thấy thông tin cần tìm.\");\n\t\t}\n\t\tthis.isScanF1 = false;\n\t}\n\n\tgetThongTinYeuCauBenhNhan(timKiemThongTinBenhNhan: TimKiemThongTinBenhNhan) {\n\t\tthis.apiService.post<any>(\"ThuNgan/GetThuNganByMaBNVaMaTT/\", timKiemThongTinBenhNhan).subscribe(resultData => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.router.navigateByUrl(\"/danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/\" + resultData.Id + \"?loaiThanhToan=\" + 1);\n\t\t\t} else {\n\t\t\t\tthis.notificationService.showError(this.commonThuTien.ErrorKhongTimThayThongTin);\n\t\t\t}\n\t\t});\n\t}\n\n\texportExcel() {\n\t\tconst self = this;\n\t\tself.showPopupLoadingData();\n\t\tif (self.authService.hasPermission(self.documentType, SecurityOperation.Process)) {\n\t\t\tvar queryString = JSON.stringify(this.choThuTien);\n\t\t\tvar searchText = self.searchString != undefined ? self.searchString : \"\";\n\t\t\tsearchText = CommonService.convertSpecialXML(searchText);\n\t\t\tsearchText = \"<SearchTerms>\" + searchText + \"</SearchTerms>\";\n\t\t\tsearchText = btoa(unescape(encodeURIComponent(\"<AdvancedQueryParameters>\" + searchText + \"</AdvancedQueryParameters>\")));\n\n\t\t\tvar queryObject: any = {\n\t\t\t\tskip: 0,\n\t\t\t\tmodifiedBy: 0,\n\t\t\t\ttake: 50,\n\t\t\t\tsearchString: searchText,\n\t\t\t\tadditionalSearchString: queryString,\n\t\t\t\tsearchTerms: searchText,\n\t\t\t\tsort: self.sortConfig,\n\t\t\t\tlazyLoadPage: true,\n\t\t\t};\n\n\t\t\tself.apiService.postExportExcel<string>(\"ThuNgan/ExportThuNgan\", queryObject).subscribe(\n\t\t\t\tresultData => {\n\t\t\t\t\tself.closePopupLoadingData();\n\t\t\t\t\tconst dateTimeNow = new Date();\n\t\t\t\t\tCommonService.downLoadFile(resultData, \"application/vnd.ms-excel\", \"ThuNgan\" + dateTimeNow.getFullYear() + \".xlsx\");\n\t\t\t\t},\n\t\t\t\t(err: any) => {\n\t\t\t\t\tself.notificationService.showError(err.Message);\n\t\t\t\t\tself.closePopupLoadingData();\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tself.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n\t\t}\n\t}\n\n\tshowPopupLoadingData() {\n\t\tthis.dialog.open(LoadingComponent, {\n\t\t\tdisableClose: true,\n\t\t\twidth: \"200px\",\n\t\t\theight: \"90px\",\n\t\t\tdata: {Title: \"Đang xuất excel...\"},\n\t\t});\n\t}\n\n\tclosePopupLoadingData() {\n\t\tthis.dialog.closeAll();\n\t}\n\n\t@HostListener(\"document:keydown\", [\"$event\"])\n\tkeyEvent(event: KeyboardEvent) {\n\t\tif (event.keyCode == 81 && event.ctrlKey && this.isScanF1 != true) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.QuetMaQRCodeClick();\n\t\t}\n\t}\n}\n","export default \".text-color {\\n  color: red;\\n}\\n\\n.text-color-orange {\\n  color: orange;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2Rhbmgtc2FjaC10aHUtdGllbi1iZW5oLW5oYW4vQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aHUtY2hpXFx0aHUtY2hpLXZpZW4tcGhpXFxuZ29haS10cnVcXGNoby10aHUtdGllblxcZGFuaC1zYWNoLXRodS10aWVuLWJlbmgtbmhhblxcZGFuaC1zYWNoLXRodS10aWVuLWJlbmgtbmhhbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2Rhbmgtc2FjaC10aHUtdGllbi1iZW5oLW5oYW4vZGFuaC1zYWNoLXRodS10aWVuLWJlbmgtbmhhbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aHUtY2hpL3RodS1jaGktdmllbi1waGkvbmdvYWktdHJ1L2Noby10aHUtdGllbi9kYW5oLXNhY2gtdGh1LXRpZW4tYmVuaC1uaGFuL2Rhbmgtc2FjaC10aHUtdGllbi1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGV4dC1jb2xvciB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi50ZXh0LWNvbG9yLW9yYW5nZSB7XG4gIGNvbG9yOiBvcmFuZ2U7XG59IiwiLnRleHQtY29sb3Ige1xuICBjb2xvcjogcmVkO1xufVxuXG4udGV4dC1jb2xvci1vcmFuZ2Uge1xuICBjb2xvcjogb3JhbmdlO1xufSJdfQ== */\"","import { Component, OnInit } from \"@angular/core\";\nimport { ChoThuTien } from \"../cho-thu-tien.model\";\nimport { LocalStorageHelper } from \"src/app/core/utilities/local-storage.helper\";\nimport { stagger60ms } from \"src/@vex/animations/stagger.animation\";\nimport { fadeInUp400ms } from \"src/@vex/animations/fade-in-up.animation\";\n\n@Component({\n\tselector: \"app-danh-sach-thu-tien\",\n\ttemplateUrl: \"./danh-sach-thu-tien-benh-nhan.component.html\",\n\tstyleUrls: [\"./danh-sach-thu-tien-benh-nhan.component.scss\"],\n\tanimations: [stagger60ms, fadeInUp400ms],\n})\nexport class DanhSachThuTienNgoaiTruComponent implements OnInit {\n\ttabActive: any;\n\tadditionalSearchString: string;\n\tchoThuTien: ChoThuTien;\n\tunSelectedTab() { }\n\tconstructor() { }\n\n\tngOnInit() {\n\t\tthis.choThuTien = new ChoThuTien();\n\t\tthis.choThuTien.TabActive = 0;\n\t\tthis.backWithSearch();\n\t}\n\n\tbackWithSearch() {\n\t\tif (LocalStorageHelper.getItem(\"additionalSearchStringThuNgan\") != null) {\n\t\t\tthis.additionalSearchString = LocalStorageHelper.getItem(\"additionalSearchStringThuNgan\");\n\t\t\tthis.choThuTien = new ChoThuTien();\n\t\t\tthis.tabActive = this.choThuTien.TabActive;\n\t\t\tthis.choThuTien = JSON.parse(this.additionalSearchString);\n\t\t} else {\n\t\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", null);\n\t\t}\n\t}\n\n\tonTabSelect(event: any) {\n\t\tif (event.index == 0) {\n\t\t\tthis.tabActive = 0;\n\t\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", null);\n\t\t} else if (event.index == 1) {\n\t\t\tthis.tabActive = 1;\n\t\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", null);\n\t\t} else {\n\t\t\tthis.tabActive = 2;\n\t\t\tLocalStorageHelper.setItem(\"additionalSearchStringThuNgan\", null);\n\t\t}\n\t}\n}\n","export default \".menu-form-wrapper .mat-menu-content {\\n  padding: 8px;\\n}\\n\\n.color-red {\\n  color: red;\\n}\\n\\n.padding-thu-tien {\\n  padding: 5px 16px 28px 13px !important;\\n}\\n\\n.po-right {\\n  text-align: right;\\n  flex-grow: 1;\\n}\\n\\n.color-green {\\n  color: green;\\n}\\n\\n.padding-left80px {\\n  padding-left: 80px !important;\\n}\\n\\n.d-unset {\\n  display: unset !important;\\n}\\n\\nkendo-splitter {\\n  border-width: 0px !important;\\n  margin-bottom: 10px;\\n}\\n\\nkendo-splitter ul > li.right-0 {\\n  margin-right: 0px;\\n  padding-right: 15px;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset legend {\\n  margin-left: 15px;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item .inline_b {\\n  display: inline-block !important;\\n  margin-right: 10px;\\n  padding-right: 15px;\\n}\\n\\nkendo-panelbar-item .panelbar-row {\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\\n}\\n\\nkendo-panelbar-item .panelbar-row:hover {\\n  background: rgba(227, 242, 253, 0.5);\\n}\\n\\nkendo-panelbar-item .panelbar-group-b {\\n  border-top: 1px rgba(0, 0, 0, 0.08) outset;\\n}\\n\\n.sticky-list {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n}\\n\\n.sticky-tab {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n  background: #f5f7fa;\\n  overflow-x: auto;\\n  margin-left: 5px;\\n  margin-right: 5px;\\n}\\n\\n.sticky-tab ul {\\n  margin: 0;\\n  padding-top: 10px;\\n  padding-bottom: 0;\\n  border-bottom: 1px solid #ccc;\\n}\\n\\n.sticky-tab ul li {\\n  display: inline-block;\\n  list-style-type: none;\\n  margin-right: 25px;\\n  font-size: 15px;\\n  font-weight: bold;\\n  font-style: normal;\\n  font-stretch: normal;\\n  letter-spacing: normal;\\n  color: #2e384d;\\n  cursor: pointer;\\n  transition: all 300ms linear;\\n  border-bottom: 3px solid #f5f7fa;\\n}\\n\\n.sticky-tab ul li.active {\\n  font-size: 15px;\\n  font-weight: bold;\\n  color: #005dab;\\n  border-bottom: 4px solid #005dab;\\n}\\n\\n.sticky-tab ul li:hover {\\n  border-bottom: 3px solid #005dab;\\n}\\n\\n.sticky-tab ul li.resolved {\\n  color: #005dab;\\n}\\n\\n.sticky-tab ul li.processing {\\n  color: #ff9800;\\n}\\n\\n.sticky-tab ul li.unfulfilled {\\n  color: #9e9e9e;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail {\\n  bottom: 0 !important;\\n  height: 5px !important;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail .ps-scrollbar-x {\\n  height: 5px !important;\\n}\\n\\nlegend {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\n.sticky-panelbar {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  top: 64px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2RpY2gtdnUta2h1eWVuLW1haS1rZW0tdGhlby1nb2kvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aHUtY2hpXFx0aHUtY2hpLXZpZW4tcGhpXFxuZ29haS10cnVcXGNoby10aHUtdGllblxcZGljaC12dS1raHV5ZW4tbWFpLWtlbS10aGVvLWdvaVxcZGljaC12dS1raHV5ZW4tbWFpLWtlbS10aGVvLWdvaS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2RpY2gtdnUta2h1eWVuLW1haS1rZW0tdGhlby1nb2kvZGljaC12dS1raHV5ZW4tbWFpLWtlbS10aGVvLWdvaS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLFVBQUE7QUNDRjs7QURFQTtFQUNFLHNDQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLDZCQUFBO0FDQ0Y7O0FERUE7RUFDRSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSw4QkFBQTtFQUNBLGtDQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQ0FBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsOEJBQUE7RUFDQSx1QkFBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLDRDQUFBO0FDQ0Y7O0FERUE7RUFDRSxvQ0FBQTtBQ0NGOztBREVBO0VBQ0UsMENBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7RUFDQSwyQkFBQTtFQUNBLG1DQUFBO0VBQ0EsYUFBQTtBQ0NGOztBREVBO0VBQ0UsU0FBQTtFQUNBLDJCQUFBO0VBQ0EsbUNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsNkJBQUE7QUNDRjs7QURFQTtFQUNFLHFCQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7RUFDQSxzQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0VBS0EsNEJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0Usb0JBQUE7RUFDQSxzQkFBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EseUJBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0VBQ0Esd0JBQUE7RUFDQSxTQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGh1LWNoaS90aHUtY2hpLXZpZW4tcGhpL25nb2FpLXRydS9jaG8tdGh1LXRpZW4vZGljaC12dS1raHV5ZW4tbWFpLWtlbS10aGVvLWdvaS9kaWNoLXZ1LWtodXllbi1tYWkta2VtLXRoZW8tZ29pLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1lbnUtZm9ybS13cmFwcGVyIC5tYXQtbWVudS1jb250ZW50IHtcbiAgcGFkZGluZzogOHB4O1xufVxuXG4uY29sb3ItcmVkIHtcbiAgY29sb3I6IHJlZDtcbn1cblxuLnBhZGRpbmctdGh1LXRpZW4ge1xuICBwYWRkaW5nOiA1cHggMTZweCAyOHB4IDEzcHggIWltcG9ydGFudDtcbn1cblxuLnBvLXJpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZsZXgtZ3JvdzogMTtcbn1cblxuLmNvbG9yLWdyZWVuIHtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG4ucGFkZGluZy1sZWZ0ODBweCB7XG4gIHBhZGRpbmctbGVmdDogODBweCAhaW1wb3J0YW50O1xufVxuXG4uZC11bnNldCB7XG4gIGRpc3BsYXk6IHVuc2V0ICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXNwbGl0dGVyIHtcbiAgYm9yZGVyLXdpZHRoOiAwcHggIWltcG9ydGFudDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxua2VuZG8tc3BsaXR0ZXIgdWwgPiBsaS5yaWdodC0wIHtcbiAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG59XG5cbmZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctbGVmdDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IGxlZ2VuZCB7XG4gIG1hcmdpbi1sZWZ0OiAxNXB4O1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSB1bC5pbmxpbmUgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5pbmxpbmVfYiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLXJvdyB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5wYW5lbGJhci1yb3c6aG92ZXIge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDIyNywgMjQyLCAyNTMsIDAuNSk7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLWdyb3VwLWIge1xuICBib3JkZXItdG9wOiAxcHggcmdiYSgwLCAwLCAwLCAwLjA4KSBvdXRzZXQ7XG59XG5cbi5zdGlja3ktbGlzdCB7XG4gIHRvcDogNjRweDtcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3kgIWltcG9ydGFudDtcbiAgei1pbmRleDogOTk5OTtcbn1cblxuLnN0aWNreS10YWIge1xuICB0b3A6IDY0cHg7XG4gIHBvc2l0aW9uOiBzdGlja3kgIWltcG9ydGFudDtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHotaW5kZXg6IDk5OTk7XG4gIGJhY2tncm91bmQ6ICNmNWY3ZmE7XG4gIG92ZXJmbG93LXg6IGF1dG87XG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuXG4uc3RpY2t5LXRhYiB1bCB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZy10b3A6IDEwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAwO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcbn1cblxuLnN0aWNreS10YWIgdWwgbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgbWFyZ2luLXJpZ2h0OiAyNXB4O1xuICBmb250LXNpemU6IDE1cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXN0eWxlOiBub3JtYWw7XG4gIGZvbnQtc3RyZXRjaDogbm9ybWFsO1xuICBsZXR0ZXItc3BhY2luZzogbm9ybWFsO1xuICBjb2xvcjogIzJlMzg0ZDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIC1tb3otdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW8tdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1zLXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIHRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjZjVmN2ZhO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS5hY3RpdmUge1xuICBmb250LXNpemU6IDE1cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogIzAwNWRhYjtcbiAgYm9yZGVyLWJvdHRvbTogNHB4IHNvbGlkICMwMDVkYWI7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpOmhvdmVyIHtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICMwMDVkYWI7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLnJlc29sdmVkIHtcbiAgY29sb3I6ICMwMDVkYWI7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLnByb2Nlc3Npbmcge1xuICBjb2xvcjogI2ZmOTgwMDtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkudW5mdWxmaWxsZWQge1xuICBjb2xvcjogIzllOWU5ZTtcbn1cblxuLnN0aWNreS10YWIgLnBzLXNjcm9sbGJhci14LXJhaWwge1xuICBib3R0b206IDAgIWltcG9ydGFudDtcbiAgaGVpZ2h0OiA1cHggIWltcG9ydGFudDtcbn1cblxuLnN0aWNreS10YWIgLnBzLXNjcm9sbGJhci14LXJhaWwgLnBzLXNjcm9sbGJhci14IHtcbiAgaGVpZ2h0OiA1cHggIWltcG9ydGFudDtcbn1cblxubGVnZW5kIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbi5zdGlja3ktcGFuZWxiYXIge1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3k7XG4gIHRvcDogNjRweDtcbn0iLCIubWVudS1mb3JtLXdyYXBwZXIgLm1hdC1tZW51LWNvbnRlbnQge1xuICBwYWRkaW5nOiA4cHg7XG59XG5cbi5jb2xvci1yZWQge1xuICBjb2xvcjogcmVkO1xufVxuXG4ucGFkZGluZy10aHUtdGllbiB7XG4gIHBhZGRpbmc6IDVweCAxNnB4IDI4cHggMTNweCAhaW1wb3J0YW50O1xufVxuXG4ucG8tcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZmxleC1ncm93OiAxO1xufVxuXG4uY29sb3ItZ3JlZW4ge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5wYWRkaW5nLWxlZnQ4MHB4IHtcbiAgcGFkZGluZy1sZWZ0OiA4MHB4ICFpbXBvcnRhbnQ7XG59XG5cbi5kLXVuc2V0IHtcbiAgZGlzcGxheTogdW5zZXQgIWltcG9ydGFudDtcbn1cblxua2VuZG8tc3BsaXR0ZXIge1xuICBib3JkZXItd2lkdGg6IDBweCAhaW1wb3J0YW50O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG5rZW5kby1zcGxpdHRlciB1bCA+IGxpLnJpZ2h0LTAge1xuICBtYXJnaW4tcmlnaHQ6IDBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgbGVnZW5kIHtcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIHVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLmlubGluZV9iIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93IHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMik7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLXJvdzpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjI3LCAyNDIsIDI1MywgMC41KTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItZ3JvdXAtYiB7XG4gIGJvcmRlci10b3A6IDFweCByZ2JhKDAsIDAsIDAsIDAuMDgpIG91dHNldDtcbn1cblxuLnN0aWNreS1saXN0IHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiA5OTk5O1xufVxuXG4uc3RpY2t5LXRhYiB7XG4gIHRvcDogNjRweDtcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3kgIWltcG9ydGFudDtcbiAgei1pbmRleDogOTk5OTtcbiAgYmFja2dyb3VuZDogI2Y1ZjdmYTtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5zdGlja3ktdGFiIHVsIHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDA7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBtYXJnaW4tcmlnaHQ6IDI1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC1zdHJldGNoOiBub3JtYWw7XG4gIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gIGNvbG9yOiAjMmUzODRkO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtby10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtbXMtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICNmNWY3ZmE7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLmFjdGl2ZSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBib3JkZXItYm90dG9tOiA0cHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGk6aG92ZXIge1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucmVzb2x2ZWQge1xuICBjb2xvcjogIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucHJvY2Vzc2luZyB7XG4gIGNvbG9yOiAjZmY5ODAwO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS51bmZ1bGZpbGxlZCB7XG4gIGNvbG9yOiAjOWU5ZTllO1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCB7XG4gIGJvdHRvbTogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCAucHMtc2Nyb2xsYmFyLXgge1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG5sZWdlbmQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLnN0aWNreS1wYW5lbGJhciB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgdG9wOiA2NHB4O1xufSJdfQ== */\"","import { Component, Inject, OnInit, TemplateRef, ViewChild } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { GridComponent } from \"src/app/shared/component/grid/grid.component\";\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material\";\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { SystemMessage } from \"src/app/shared/configdata/system-message\";\nimport { ApiError } from \"src/app/shared/models/api-error.model\";\nimport { SecurityOperation } from \"src/app/shared/enum/security-operation.enum\";\nimport { AuthService } from \"src/app/core/services/auth.service\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { ApDungKhuyenMaiBenhNhan, DanhSachDichVuKhuyenMaiBenhNhan } from \"../cho-thu-tien.model\";\nimport { GroupDescriptor } from \"@progress/kendo-data-query\";\ndeclare var $: any;\n@Component({\n\tselector: \"app-dich-vu-khuyen-mai-kem-theo-goi\",\n\ttemplateUrl: \"./dich-vu-khuyen-mai-kem-theo-goi.component.html\",\n\tstyleUrls: [\"./dich-vu-khuyen-mai-kem-theo-goi.component.scss\"],\n})\nexport class DichVuKhuyenMaiKemTheoGoi implements OnInit {\n\tpublic documentType: DocumentType = DocumentType.ThuNgan;\n\tdanhSachDichVuKhuyenMaiBenhNhan: DanhSachDichVuKhuyenMaiBenhNhan[] = [];\n\tapDungKhuyenMaiBenhNhan = new ApDungKhuyenMaiBenhNhan();\n\n\ticClose = icClose;\n\tgridColumns: any[] = [];\n\tvalidationErrors: any[] = [];\n\tloadingPopup: any;\n\tbenhNhanId: any;\n\tyeuCauTiepNhanId : any;\n\n\tgroups: GroupDescriptor[] = [{\n\t\tfield: 'Nhom', aggregates: [\n\t\t\t{ field: 'SoTienPhaiTraLaiBenhNhan', aggregate: 'sum' }\n\t\t]\n\t}];\n\n\tconstructor(@Inject(MAT_DIALOG_DATA) public data: any, private route: ActivatedRoute, private dialog: MatDialog,\n\t\tprivate authService: AuthService, private notificationService: NotificationService,private dialogRef: MatDialogRef<any> ,\n\t\tprivate apiService: ApiService) {\n\t\tthis.benhNhanId = data.benhNhanId;\n\t\tthis.yeuCauTiepNhanId = data.yeuCauTiepNhanId;\n\t}\n\n\t@ViewChild(\"gridList\", { static: true }) gridList: GridComponent;\n\t@ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n\t@ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n\n\t@ViewChild('goiGiaTemplate', { static: true }) goiGiaTemplate: TemplateRef<any>;\n\t@ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n\t@ViewChild('donGiaKMTemplate', { static: true }) donGiaKMTemplate: TemplateRef<any>;\n\t@ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n\t@ViewChild('soTienMGTemplate', { static: true }) soTienMGTemplate: TemplateRef<any>;\n\n\tngOnInit() {\n\t\tif (this.benhNhanId != undefined && this.benhNhanId != null) {\n\t\t\tthis.getThongTinChuaThuGoiQuyetToan(this.yeuCauTiepNhanId)\n\t\t}\n\n\t\tthis.gridColumns = [\n\t\t\t{ Field: \"Nhom\", Title: \"Nhóm\", Width: 100, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n\t\t\t{ Field: \"Ma\", Title: \"Mã\", Width: 30, Sortable: false },\n\t\t\t{ Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", Width: 100, Sortable: false },\n\t\t\t{ Field: \"LoaiGia\", Title: \"Loại giá\", Width: 70, Sortable: false },\n\n\t\t\t{ Field: \"GiaGoi\", Title: \"Gói giá\", Width: 50, Sortable: false , Template: this.goiGiaTemplate },\n\t\t\t{ Field: \"Soluong\", Title: \"Số Lượng\", Width: 50, Sortable: false  },\n\t\t\t{ Field: \"DonGia\", Title: \"Dơn giá\", Width: 80, Sortable: false , Template: this.donGiaTemplate },\n\t\t\t{ Field: \"DonGiaKM\", Title: \"Dơn giá KM\", Width: 80, Sortable: false , Template: this.donGiaKMTemplate},\n\t\t\t{ Field: \"ThanhTien\", Title: \"Thành tiền\", Width: 80, Sortable: false , Template: this.thanhTienTemplate },\n\t\t\t{ Field: \"SoTienMG\", Title: \"Số tiền MG\", Width: 80, Sortable: false , Template: this.soTienMGTemplate },\n\n\t\t\t{ Field: \"HanSuDungDisplay\", Title: \"Hạn sử dụng\", Width: 80, Sortable: false },\n\t\t\t{ Field: \"SoLuongDaDung\", Title: \"Số Lượng Đã Dùng\", Width: 80, Sortable: false },\n\t\t\t{ Field: \"GhiChu\", Title: \"Ghi chú\", Width: 80, Sortable: false },\n\t\t];\n\n\t\t\n\t}\n\n\tclose() {\n\t\tthis.dialog.closeAll();\n\t}\n\n\tapDung() {\n\t\tthis.showLoadingPopup();\n\t\tif (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n\t\t\tthis.apDungKhuyenMaiBenhNhan.YeuCauTiepNhanId = this.yeuCauTiepNhanId;\n\t\t\tthis.apDungKhuyenMaiBenhNhan.DsKhuyenMaiBenhNhans = this.danhSachDichVuKhuyenMaiBenhNhan;\n\t\t\t\n\t\t\tthis.apiService.put(`ThuNgan/ApDungDichVuKhuyenMai`, this.apDungKhuyenMaiBenhNhan).subscribe((response: any) => {\n\t\t\t\tif (response != undefined && response != null) {\n\t\t\t\t\tthis.danhSachDichVuKhuyenMaiBenhNhan = response.Data;\t\t\t\t\n\t\t\t\t\tthis.dialogRef.close(\"Yes\");\t\t\t\t\n\t\t\t\t}\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t\tthis.dialog.closeAll();\n\t\t\t}, (err: ApiError) => {\n\t\t\t\terr.ValidationErrors == null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) :\n\t\t\t\t\tthis.validationErrors = err.ValidationErrors;\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n\t\t\tthis.closeAllDialogs();\n\t\t}\n\t}\n\t\n\textCheckboxSelection(event: any[]) {\t\t\n\t\tthis.danhSachDichVuKhuyenMaiBenhNhan.forEach((e) => {\n\t\t\te.DanhSachDichVuTrongGoiKhuyenMais.forEach((e) => {\n\t\t\t\t{\n\t\t\t\t\treturn (e.DaChon = false);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (event.length > 0) {\n\t\t\t\tfor (let index = 0; index < event.length; index++) {\n\t\t\t\t\te.DanhSachDichVuTrongGoiKhuyenMais.forEach((element) => {\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (element.Id == event[index]) {\n\t\t\t\t\t\t\t\telement.DaChon = true;\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treturn (element);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\t\t\n\t}\n\n\tgetThongTinChuaThuGoiQuyetToan(yeuCauTiepNhanId: number) {\n\t\tthis.showLoadingPopup();\n\t\tif (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n\t\t\tthis.apiService.get(`ThuNgan/GetDataDichVuKhuyenMaiBenhNhanForGrid?yeuCauTiepNhanId=` + yeuCauTiepNhanId).subscribe((response: any) => {\n\t\t\t\tif (response != undefined && response != null) {\n\t\t\t\t\tthis.danhSachDichVuKhuyenMaiBenhNhan = response.Data;\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.danhSachDichVuKhuyenMaiBenhNhan.forEach((element) => {\t\t\t\t\t\t\n\t\t\t\t\t\t\telement.DanhSachDichVuTrongGoiKhuyenMais.forEach((item) => {\n\t\t\t\t\t\t\t\tif (item.DaChon) {\n\t\t\t\t\t\t\t\t\tif (!$('#' + element.Id + 'selectCheckboxId' + item.Id).prop('checked')){\n\t\t\t\t\t\t\t\t\t\t$('#' + element.Id + 'selectCheckboxId' + item.Id).trigger('click');                       \n\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});                \n\t\t\t\t\t\t});\n\t\t\t\t\t}, 100);\n\t\t\t\t}\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t}, (err: ApiError) => {\n\t\t\t\terr.ValidationErrors == null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) :\n\t\t\t\t\tthis.validationErrors = err.ValidationErrors;\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n\t\t\tthis.closeAllDialogs();\n\t\t}\n\t}\n\n\tshowLoadingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang tải...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tshowSavingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang lưu...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tcloseAllDialogs() {\n\t\tif (this.loadingPopup) {\n\t\t\tthis.loadingPopup.close();\n\t\t\tthis.loadingPopup = null;\n\t\t}\n\t}\n}\n","export default \".size-icon-duoc-bhyt {\\n  display: inline-block;\\n  height: 14px;\\n  width: 14px;\\n  line-height: 20px;\\n  border-radius: 7px;\\n  background-color: green;\\n  color: #fff;\\n  text-align: center;\\n  right: -4px;\\n  top: 6px;\\n  margin: 0;\\n}\\n\\n.mouse-cursor {\\n  cursor: pointer;\\n}\\n\\n.reverse-ellipsis.r {\\n  text-align: right;\\n  direction: inherit;\\n}\\n\\n.size-icon-khong-bhyt {\\n  display: inline-block;\\n  height: 14px;\\n  width: 14px;\\n  line-height: 20px;\\n  border-radius: 7px;\\n  background-color: red;\\n  color: #fff;\\n  text-align: center;\\n  right: -4px;\\n  top: 6px;\\n  margin: 0;\\n}\\n\\n.float_right {\\n  float: right;\\n}\\n\\n.mat-icon {\\n  font-size: 16px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2RzLWNodWEtdGh1LXRpZW4vQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aHUtY2hpXFx0aHUtY2hpLXZpZW4tcGhpXFxuZ29haS10cnVcXGNoby10aHUtdGllblxcZHMtY2h1YS10aHUtdGllblxcZHMtY2h1YS10aHUtdGllbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2RzLWNodWEtdGh1LXRpZW4vZHMtY2h1YS10aHUtdGllbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHFCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtFQUVBLGtCQUFBO0VBQ0EsdUJBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0Esa0JBQUE7QUNDRjs7QURFQTtFQUNFLHFCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtFQUVBLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLDBCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGh1LWNoaS90aHUtY2hpLXZpZW4tcGhpL25nb2FpLXRydS9jaG8tdGh1LXRpZW4vZHMtY2h1YS10aHUtdGllbi9kcy1jaHVhLXRodS10aWVuLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNpemUtaWNvbi1kdW9jLWJoeXQge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGhlaWdodDogMTRweDtcbiAgd2lkdGg6IDE0cHg7XG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAtbW96LWJvcmRlci1yYWRpdXM6IDVweDtcbiAgYm9yZGVyLXJhZGl1czogN3B4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcbiAgY29sb3I6ICNmZmY7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcmlnaHQ6IC00cHg7XG4gIHRvcDogNnB4O1xuICBtYXJnaW46IDA7XG59XG5cbi5tb3VzZS1jdXJzb3Ige1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5yZXZlcnNlLWVsbGlwc2lzLnIge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZGlyZWN0aW9uOiBpbmhlcml0O1xufVxuXG4uc2l6ZS1pY29uLWtob25nLWJoeXQge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGhlaWdodDogMTRweDtcbiAgd2lkdGg6IDE0cHg7XG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAtbW96LWJvcmRlci1yYWRpdXM6IDVweDtcbiAgYm9yZGVyLXJhZGl1czogN3B4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHJpZ2h0OiAtNHB4O1xuICB0b3A6IDZweDtcbiAgbWFyZ2luOiAwO1xufVxuXG4uZmxvYXRfcmlnaHQge1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbi5tYXQtaWNvbiB7XG4gIGZvbnQtc2l6ZTogMTZweCAhaW1wb3J0YW50O1xufSIsIi5zaXplLWljb24tZHVvYy1iaHl0IHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBoZWlnaHQ6IDE0cHg7XG4gIHdpZHRoOiAxNHB4O1xuICBsaW5lLWhlaWdodDogMjBweDtcbiAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDdweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHJpZ2h0OiAtNHB4O1xuICB0b3A6IDZweDtcbiAgbWFyZ2luOiAwO1xufVxuXG4ubW91c2UtY3Vyc29yIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4ucmV2ZXJzZS1lbGxpcHNpcy5yIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGRpcmVjdGlvbjogaW5oZXJpdDtcbn1cblxuLnNpemUtaWNvbi1raG9uZy1iaHl0IHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBoZWlnaHQ6IDE0cHg7XG4gIHdpZHRoOiAxNHB4O1xuICBsaW5lLWhlaWdodDogMjBweDtcbiAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDdweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xuICBjb2xvcjogI2ZmZjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICByaWdodDogLTRweDtcbiAgdG9wOiA2cHg7XG4gIG1hcmdpbjogMDtcbn1cblxuLmZsb2F0X3JpZ2h0IHtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG4ubWF0LWljb24ge1xuICBmb250LXNpemU6IDE2cHggIWltcG9ydGFudDtcbn0iXX0= */\"","import { Component, OnInit, SimpleChanges, EventEmitter, Output, Input, OnChanges } from \"@angular/core\";\nimport { process, State, GroupDescriptor } from \"@progress/kendo-data-query\";\nimport icCheck from \"@iconify/icons-ic/twotone-check\";\nimport { SelectAllCheckboxState, RowClassArgs } from \"@progress/kendo-angular-grid\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport { DanhSachChiPhiKhamChuaBenh, DanhSachCongNoChoThu, CongNoChoThu, ThongTinMienGiamVo, CommonThuTien, DanhSachDaThuTienReq, LoaiMienGiam, DanhSachMienGiamVo, LoaiChietKhau, ApDungMiemGiamThem, DanhSachChiPhiThuTamUng, LoaiBangKeChiPhi } from \"../cho-thu-tien.model\";\nimport { BaseService } from \"src/app/core/services/base.service\";\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport icInfo from \"@iconify/icons-ic/twotone-info\";\nimport { DocumentType } from \"src/app/shared/enum/document-type.enum\";\nimport icDelete from \"@iconify/icons-ic/twotone-delete\";\nimport { MatDialog } from \"@angular/material\";\nimport icRoundEdit from \"@iconify/icons-ic/edit\";\nimport icBlock from \"@iconify/icons-ic/twotone-block\";\nimport { ApDungMiemGiamThemComponent } from \"../../../common/ap-dung-miem-giam-them-popup/ap-dung-miem-giam-them-popup.component\";\nimport { ApDungMiemGiamChoTungDichVuComponent } from \"../../../common/ap-dung-miem-giam-cho-tung-dv-popup/ap-dung-miem-giam-cho-tung-dv-popup.component\";\ndeclare var jQuery: any;\nimport * as _ from \"underscore\";\nimport { ConfirmComponent } from \"src/app/shared/component/dialogs/confirm/confirm.component\";\nimport { CommonService } from \"src/app/core/utilities/common.helper\";\nimport { SystemMessage } from \"src/app/shared/configdata/system-message\";\nimport { SecurityOperation } from \"src/app/shared/enum/security-operation.enum\";\nimport { AuthService } from \"src/app/core/services/auth.service\";\nimport { ApiError } from \"src/app/shared/models/api-error.model\";\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { ThongTinPhieuPdfPopupComponent } from \"../../../common/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component\";\nimport { CommonPdfPopupComponent } from \"../../../common/common-pdf-popup/common-pdf-popup.component\";\nimport { ThemSuatAn, ThoiGianDieuTriSoSinhRaVienViewModel } from \"src/app/modules/main/dieu-tri-noi-tru/dieu-tri-noi-tru.model\";\nimport { CommonPdfPopupNgoaiTruComponent } from \"../../../common/common-pdf-popup-ngoai-tru/common-pdf-popup-ngoai-tru.component\";\n\n@Component({\n\tselector: \"app-ds-chua-thu-tien\",\n\ttemplateUrl: \"./ds-chua-thu-tien.component.html\",\n\tstyleUrls: [\"./ds-chua-thu-tien.component.scss\"],\n})\nexport class DsChuaThuTienComponent implements OnInit, OnChanges {\n\t@Input() dataSourceChanged: boolean = false;\n\tdocumentType: DocumentType;\n\ticInfo = icInfo;\n\ticDelete = icDelete;\n\ticRoundEdit = icRoundEdit;\n\ticBlock = icBlock;\n\tformat: string = 'n2';\n\t//Áp dụng công nợ\n\t@Input() apDungCongNo: boolean = false;\n\t@Input() apCapNhatThanhToan: boolean = false;\n\n\t@Input() position: number = -1;\n\t@Input() thongTinCongTyBaoHiemTuNhans = [];\n\n\t//Áp dụng phần miễm đối tượng ưu đãi\n\t@Output() loadingCtThanhCong = new EventEmitter<any>();\n\t@Input() apDungMiemGiam: boolean = true;\n\t@Input() thongTinMienGiamVos: ThongTinMienGiamVo = null;\n\n\t@Output() danhSachChuaThanhToan = new EventEmitter<any>();\n\t@Output() kiemTraDanhSachXNBHYT = new EventEmitter<any>();\n\n\t@Output() afterChanged = new EventEmitter<any>();\n\t@Output() afterChangedCongNo = new EventEmitter<any>();\n\t@Output() afterapDungMiemGiam = new EventEmitter<any>();\n\t@Output() kiemTraDSCongNo = new EventEmitter<any>();\n\t@Output() afterapDungCNTT = new EventEmitter<any>();\n\t@Output() afterApDungHuyThanhCong = new EventEmitter<any>();\n\n\tpublic danhSachCongNoChoThus: DanhSachCongNoChoThu[] = [];\n\tpublic congNoChoThus: CongNoChoThu[] = [];\n\tpublic commonThuTien = new CommonThuTien();\n\tgridColumnsChuaThuTien: any[] = [];\n\tpublic danhSachChiPhiKhamChuaBenh: DanhSachChiPhiKhamChuaBenh[] = [];\n\tpublic tamDanhSachChiPhiKhamChuaBenh: DanhSachChiPhiKhamChuaBenh[] = [];\n\n\tpublic loaiMienGiam = new LoaiMienGiam();\n\tpublic danhSachMienGiamVo = new DanhSachMienGiamVo();\n\tpublic loaiChietKhau = new LoaiChietKhau();\n\tpublic apDungMGT = new ApDungMiemGiamThem();\n\n\tloadingPopup: any;\n\tconfrim: any = null;\n\tdataSource: any = {\n\t\tdata: [],\n\t\ttotal: 0,\n\t};\n\n\turlGetDataGrid: string = \"ThuNgan/GetDataForGridChoXacNhanAsync\";\n\turlGetTotalPageGrid: string = \"ThuNgan/GetTotalPageForGridChoXacNhanAsync\";\n\tpublic yeuCauTiepNhanId: number = 0;\n\tpublic apDungCNAndMiemGiam: boolean = false;\n\tpublic groups: GroupDescriptor[] = [\n\t\t{\n\t\t\tfield: \"Nhom\",\n\t\t\taggregates: [\n\t\t\t\t{ field: \"ThanhTien\", aggregate: \"sum\" },\n\t\t\t\t{ field: \"BHYTThanhToan\", aggregate: \"sum\" },\n\t\t\t\t{ field: \"SoTienMG\", aggregate: \"sum\" },\n\t\t\t\t{ field: \"DaThanhToan\", aggregate: \"sum\" },\n\t\t\t\t{ field: \"BNConPhaiThanhToan\", aggregate: \"sum\" },\n\t\t\t],\n\t\t},\n\t];\n\n\tpublic checkboxOnly: boolean = true;\n\tpublic gridData: any;\n\n\tpublic danhSachChiPhiKhamChuaBenhtam: DanhSachChiPhiKhamChuaBenh[] = this.danhSachChiPhiKhamChuaBenh;\n\tpublic state: State = {\n\t\tgroup: this.groups,\n\t};\n\n\tpublic duyetBaoHiemYT: boolean = false;\n\tpublic disabledDuyetBaoHiemYT: boolean = true;\n\tpublic icCheck = icCheck;\n\tpublic keySelectBy: string = \"Id\";\n\tpublic mySelection: number[] = [];\n\tpublic mySelectionInPage: number[] = [];\n\tpublic selectAllState: SelectAllCheckboxState = \"unchecked\";\n\n\tngOnInit() {\n\t\tthis.documentType = DocumentType.ThuNgan;\n\t\tthis.yeuCauTiepNhanId = this.route.snapshot.params.id;\n\t\tthis.getThongTinYeuCauBenhNhan(this.yeuCauTiepNhanId, true);\n\t}\n\n\tngOnChanges(value: SimpleChanges) {\n\t\tthis.yeuCauTiepNhanId = this.route.snapshot.params.id;\n\t\tif (this.dataSourceChanged == true) {\n\t\t\tthis.getThongTinYeuCauBenhNhan(this.yeuCauTiepNhanId, false);\n\t\t\tthis.afterChanged.emit();\n\t\t}\n\t\tif (this.apDungCongNo == true) {\n\t\t\tthis.apDungCNAndMiemGiam = true;\n\t\t\tthis.tamDanhSachChiPhiKhamChuaBenh = [];\n\t\t\tthis.bindChiaTienCongNo();\n\t\t\tthis.afterChangedCongNo.emit();\n\t\t}\n\t\tif (this.apDungMiemGiam == true) {\n\t\t\tthis.apDungCNAndMiemGiam = false;\n\t\t\tthis.afterapDungMiemGiam.emit();\n\t\t}\n\t\tif (this.apCapNhatThanhToan == true) {\n\t\t\tthis.getThongTinYeuCauBenhNhan(this.yeuCauTiepNhanId, false);\n\t\t\tthis.afterapDungCNTT.emit();\n\t\t}\n\t}\n\n\tconstructor(private route: ActivatedRoute, private apiService: ApiService, private dialog: MatDialog, private baseService: BaseService, private router: Router, private authService: AuthService, private notificationService: NotificationService) { }\n\tpublic total(field: any) {\n\t\tswitch (field) {\n\t\t\tcase \"BNConPhaiThanhToan\":\n\t\t\t\treturn this.XuLyTotalForField(\"BNConPhaiThanhToan\");\n\t\t\t\tbreak;\n\t\t\tcase \"DaThanhToan\":\n\t\t\t\treturn this.XuLyTotalForField(\"DaThanhToan\");\n\t\t\t\tbreak;\n\t\t\tcase \"SoTienMG\":\n\t\t\t\treturn this.XuLyTotalForField(\"SoTienMG\");\n\t\t\t\tbreak;\n\t\t\tcase \"ThanhTien\":\n\t\t\t\treturn this.XuLyTotalForField(\"ThanhTien\");\n\t\t\t\tbreak;\n\t\t\tcase \"BHYTThanhToan\":\n\t\t\t\treturn this.XuLyTotalForField(\"BHYTThanhToan\");\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tpublic totalCongno(field: any, group: any) {\n\t\tlet sumItemCongNo = 0;\n\t\tgroup.items.forEach(element => {\n\t\t\telement.DanhSachCongNoChoThus.forEach(cn => {\n\t\t\t\tif (cn.CongTyBaoHiemTuNhanId === field) {\n\t\t\t\t\tsumItemCongNo += cn.SoTienCongNoChoThu;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn sumItemCongNo;\n\t}\n\tpublic totalCongnoFooter(field: any) {\n\t\tlet sumItemCongNo = 0;\n\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\telement.DanhSachCongNoChoThus.forEach(cn => {\n\t\t\t\tif (cn.CongTyBaoHiemTuNhanId === field) {\n\t\t\t\t\tsumItemCongNo += cn.SoTienCongNoChoThu;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn sumItemCongNo;\n\t}\n\n\tXuLyTotalForField(field: any) {\n\t\tlet sum = 0;\n\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\tif (element.CheckedDefault) {\n\t\t\t\tswitch (field) {\n\t\t\t\t\tcase \"BNConPhaiThanhToan\":\n\t\t\t\t\t\tsum = sum + element.BNConPhaiThanhToan;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"DaThanhToan\":\n\t\t\t\t\t\tsum = sum + element.DaThanhToan;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"SoTienMG\":\n\t\t\t\t\t\tsum = sum + element.SoTienMG;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"ThanhTien\":\n\t\t\t\t\t\tsum = sum + element.ThanhTien;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"BHYTThanhToan\":\n\t\t\t\t\t\tsum = sum + element.BHYTThanhToan;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn sum;\n\t}\n\n\textCheckboxSelection(event: any[]) {\n\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\treturn (element.CheckedDefault = false);\n\t\t});\n\t\tif (event.length > 0) {\n\t\t\tfor (let index = 0; index < event.length; index++) {\n\t\t\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\t\t\tif ((element.DuocHuongBHYT && element.KiemTraBHYTXacNhan) || !element.DuocHuongBHYT) {\n\t\t\t\t\t\tif (element.Id == event[index]) {\n\t\t\t\t\t\t\treturn (element.CheckedDefault = true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tthis.resetGiaTienCongNo();\n\t\tthis.myDanhSachChuaThanhToan();\n\t}\n\n\tresetGiaTienCongNo() {\n\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\tif (element.CheckedDefault != true) {\n\t\t\t\telement.DanhSachCongNoChoThus.forEach(congNo => {\n\t\t\t\t\tcongNo.SoTienCongNoChoThu = 0;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tmyDanhSachChuaThanhToan() {\n\t\tlet danhSachChuaThanhToans: any[];\n\t\tdanhSachChuaThanhToans = this.danhSachChiPhiKhamChuaBenh.filter(element => element.CheckedDefault == true);\n\t\tthis.danhSachChuaThanhToan.emit(danhSachChuaThanhToans);\n\n\t\tlet kiemTraDanhSachXNBHYT = this.danhSachChiPhiKhamChuaBenh.filter(element => element.DuocHuongBHYT === true\n\t\t\t&& element.KiemTraBHYTXacNhan !== true);\n\t\tthis.kiemTraDanhSachXNBHYT.emit(kiemTraDanhSachXNBHYT);\n\t}\n\n\tsetSelectAll() {\n\t\tsetTimeout(function () {\n\t\t\tif (!jQuery(\"#selectAllCheckboxId\").prop(\"checked\")) {\n\t\t\t\tjQuery(\"#selectAllCheckboxId\").trigger(\"click\");\n\t\t\t}\n\t\t}, 1000);\n\t}\n\n\tChangCheckboxToaThuoc(event: any, data: any) {\n\t\tdata.forEach(element => {\n\t\t\tfor (const danhSachChiPhiKhamChuaBenh of this.danhSachChiPhiKhamChuaBenh) {\n\t\t\t\tif (danhSachChiPhiKhamChuaBenh.Id === element.Id) {\n\t\t\t\t\tdanhSachChiPhiKhamChuaBenh.CheckedDefault = event;\n\t\t\t\t\tjQuery(\"#selectCheckboxId\" + danhSachChiPhiKhamChuaBenh.Id).trigger(\"click\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tmapCongTyBHTN(responseThongTinBenhNhan: any) {\n\t\tlet danhSachCongNoChoThu = new DanhSachCongNoChoThu;\n\t\tif (responseThongTinBenhNhan !== null && responseThongTinBenhNhan !== undefined) {\n\t\t\tfor (let index = 0; index < responseThongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans.length; index++) {\n\t\t\t\tlet congNo = new CongNoChoThu;\n\t\t\t\tcongNo.ViTri = index;\n\t\t\t\tcongNo.CongTyBaoHiemTuNhanId = responseThongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans[index].Id;\n\t\t\t\tcongNo.TenCongTy = responseThongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans[index].TenCongTy;\n\t\t\t\tcongNo.SoTienCongNoChoThu = 0;\n\t\t\t\tdanhSachCongNoChoThu.CongNoChoThus.push(congNo);\n\t\t\t}\n\t\t}\n\t\treturn danhSachCongNoChoThu;\n\t}\n\n\tasync getThongTinYeuCauBenhNhan(id, congNoMiemGiam: any) {\n\t\tthis.showLoadingPopup();\n\n\t\tthis.danhSachCongNoChoThus = [];\n\t\tlet danhSachCongNoChoThu = new DanhSachCongNoChoThu();\n\n\t\tlet responseThongTinBenhNhan = await this.baseService.getById<any>(id).toPromise();\n\t\tif (responseThongTinBenhNhan !== undefined && responseThongTinBenhNhan !== null)\n\t\t\tdanhSachCongNoChoThu = this.mapCongTyBHTN(responseThongTinBenhNhan);\n\n\t\tif (responseThongTinBenhNhan != undefined && responseThongTinBenhNhan != null) {\n\t\t\tlet responseDanhSachThuPhiDichVuNgoaiTru = await this.apiService.get<any>(\"ThuNgan/DanhSachThuPhiDichVu/\" + id).toPromise();\n\t\t\tif (responseDanhSachThuPhiDichVuNgoaiTru != undefined && responseDanhSachThuPhiDichVuNgoaiTru != null) {\n\t\t\t\tthis.dataSource.data = responseDanhSachThuPhiDichVuNgoaiTru;\n\t\t\t\tthis.danhSachChiPhiKhamChuaBenh = responseDanhSachThuPhiDichVuNgoaiTru;\n\n\t\t\t\t//=====================get data lam tròn xuống  Math.floor ============================\n\t\t\t\tfor (let index = 0; index < this.danhSachChiPhiKhamChuaBenh.length; index++) {\n\t\t\t\t\t// kiểm tra xác nhận bảo hiểm y tế hay không?\n\t\t\t\t\tif (this.danhSachChiPhiKhamChuaBenh[index].DuocHuongBHYT) {\n\t\t\t\t\t\tvar fillterThuocBHYTXN = this.danhSachChiPhiKhamChuaBenh.filter(c => c.LoaiNhom === 6 && c.KiemTraBHYTXacNhan == false);\n\t\t\t\t\t\tif (fillterThuocBHYTXN.length === 0) {\n\t\t\t\t\t\t\tthis.duyetBaoHiemYT = true;\n\t\t\t\t\t\t\tthis.disabledDuyetBaoHiemYT = false;\n\t\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].CheckedDefault = this.danhSachChiPhiKhamChuaBenh[index].KiemTraBHYTXacNhan ? true : false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.checkboxOnly = false;\n\t\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].CheckedDefault = this.danhSachChiPhiKhamChuaBenh[index].KiemTraBHYTXacNhan ? true : false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//===================== Bind nếu có công nợ đầu tiên ====================================\n\t\t\t\tif (this.danhSachChiPhiKhamChuaBenh.length > 0 && danhSachCongNoChoThu.CongNoChoThus.length > 0) {\n\t\t\t\t\tfor (let index = 0; index < this.danhSachChiPhiKhamChuaBenh.length; index++) {\n\n\t\t\t\t\t\tlet dsDanhSachCongNoChoThus = this.danhSachChiPhiKhamChuaBenh[index].DanhSachCongNoChoThus;\n\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].DanhSachCongNoChoThus = [];\n\n\t\t\t\t\t\tfor (let subIndex = 0; subIndex < danhSachCongNoChoThu.CongNoChoThus.length; subIndex++) {\n\t\t\t\t\t\t\tlet soTienCongNoChoThuByTheoCongTy = dsDanhSachCongNoChoThus.filter(c =>\n\t\t\t\t\t\t\t\tc.CongTyBaoHiemTuNhanId == danhSachCongNoChoThu.CongNoChoThus[subIndex].CongTyBaoHiemTuNhanId)\n\t\t\t\t\t\t\t\t.reduce((sum, item) => sum + item.SoTienCongNoChoThu, 0);\n\n\t\t\t\t\t\t\tlet congNoItem = new CongNoChoThu();\n\t\t\t\t\t\t\tcongNoItem.CongTyBaoHiemTuNhanId = danhSachCongNoChoThu.CongNoChoThus[subIndex].CongTyBaoHiemTuNhanId;\n\t\t\t\t\t\t\tcongNoItem.SoTienCongNoChoThu = danhSachCongNoChoThu.CongNoChoThus[subIndex].SoTienCongNoChoThu = soTienCongNoChoThuByTheoCongTy > 0 ? soTienCongNoChoThuByTheoCongTy : 0;\n\t\t\t\t\t\t\tcongNoItem.TenCongTy = danhSachCongNoChoThu.CongNoChoThus[subIndex].TenCongTy;\n\t\t\t\t\t\t\tcongNoItem.ViTri = danhSachCongNoChoThu.CongNoChoThus[subIndex].ViTri;\n\t\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].DanhSachCongNoChoThus.push(congNoItem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.danhSachCongNoChoThus = [];\n\t\t\t\t\tthis.danhSachCongNoChoThus.push(danhSachCongNoChoThu);\n\t\t\t\t}\n\n\t\t\t\t// if (congNoMiemGiam != true) {\n\t\t\t\t// \tthis.bindChiaTienCongNo();\n\t\t\t\t// }\n\t\t\t}\n\t\t\tthis.gridData = process(this.danhSachChiPhiKhamChuaBenh, this.state);\n\n\t\t\tthis.myDanhSachChuaThanhToan();\n\t\t\tthis.setSelectAll();\n\n\t\t\tthis.setRemoveGroupFooterOnly();\n\t\t\tthis.loadingCtThanhCong.emit(true);\n\n\t\t\tthis.closeAllDialogs();\n\t\t}\n\t}\n\n\tbindTamCongNo() {\n\t\tthis.gridData = process(this.tamDanhSachChiPhiKhamChuaBenh, this.state);\n\t\tthis.myDanhSachChuaThanhToan();\n\t}\n\n\tsetRemoveGroupFooterOnly() {\n\t\tsetTimeout(function () {\n\t\t\tif (jQuery(\"#danhSachChuaThuTienGrid .k-group-footer\").length == 1) {\n\t\t\t\tjQuery(\"#danhSachChuaThuTienGrid .k-group-footer\").hide();\n\t\t\t} else {\n\t\t\t\tjQuery(\"#danhSachChuaThuTienGrid .k-group-footer\").show();\n\t\t\t}\n\t\t}, 100);\n\t}\n\n\tsoTienBenhNhanCanThanhToan(): number {\n\t\tlet totalBHYT = 0;\n\t\tlet totalThanhTien = 0;\n\t\tif (this.danhSachChiPhiKhamChuaBenh != undefined && this.danhSachChiPhiKhamChuaBenh != null) {\n\t\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\t\tif (element.CheckedDefault === true) {\n\t\t\t\t\ttotalThanhTien += element.ThanhTien;\n\t\t\t\t\ttotalBHYT += element.BHYTThanhToan;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn (Math.round((totalThanhTien - totalBHYT) * 100) / 100);\n\t}\n\n\ttotalCongNo(): number {\n\t\tlet totalCongNoThanhToan = 0;\n\t\tfor (let index = 0; index < this.thongTinCongTyBaoHiemTuNhans.length; index++) {\n\t\t\ttotalCongNoThanhToan += this.thongTinCongTyBaoHiemTuNhans[index].SoTienCongNo;\n\t\t}\n\t\treturn totalCongNoThanhToan;\n\t}\n\n\tfindLast() {\n\t\tfor (let index = this.danhSachChiPhiKhamChuaBenh.length - 1; index >= 0; index--) {\n\t\t\tif (this.danhSachChiPhiKhamChuaBenh[index].CheckedDefault == true) {\n\t\t\t\treturn index;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tbindChiaTienCongNo() {\n\t\tlet totalTT = this.soTienBenhNhanCanThanhToan();\n\t\tlet totalCongNo = this.totalCongNo();\n\t\tif (this.danhSachChiPhiKhamChuaBenh.length > 0 && totalCongNo > totalTT) {\n\t\t\tthis.notificationService.showError(\"Số tiền thanh toán công nợ không hợp lệ\");\n\t\t\treturn;\n\t\t}\n\n\t\tthis.danhSachCongNoChoThus = [];\n\t\tif (this.thongTinCongTyBaoHiemTuNhans.length > 0) {\n\t\t\tlet danhSachCongNoChoThu = new DanhSachCongNoChoThu();\n\t\t\tfor (let index = 0; index < this.thongTinCongTyBaoHiemTuNhans.length; index++) {\n\t\t\t\tlet congNo = new CongNoChoThu();\n\t\t\t\tcongNo.ViTri = index;\n\t\t\t\tcongNo.CongTyBaoHiemTuNhanId = this.thongTinCongTyBaoHiemTuNhans[index].Id;\n\t\t\t\tcongNo.TenCongTy = this.thongTinCongTyBaoHiemTuNhans[index].TenCongTy;\n\t\t\t\tcongNo.SoTienCongNoChoThu = 0;\n\t\t\t\tdanhSachCongNoChoThu.CongNoChoThus.push(congNo);\n\t\t\t}\n\n\t\t\tvar lastItem = this.findLast();\n\t\t\tvar tongCongNo = 0;\n\t\t\tif (danhSachCongNoChoThu.CongNoChoThus.length > 0) {\n\t\t\t\tvar kiemTraCongNoTruocDo = this.tamDanhSachChiPhiKhamChuaBenh.some(cc => cc.DanhSachCongNoChoThus.some(ccc => ccc.SoTienCongNoChoThu != 0));\n\t\t\t\tfor (let index = 0; index < this.danhSachChiPhiKhamChuaBenh.length; index++) {\n\t\t\t\t\tif (this.danhSachChiPhiKhamChuaBenh[index].CheckedDefault === true) {\n\t\t\t\t\t\tif (this.position != -1) {\n\t\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].TLMG = 0;\n\t\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].SoTienMG = 0;\n\t\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].BNConPhaiThanhToan = this.danhSachChiPhiKhamChuaBenh[index].ThanhTien - this.danhSachChiPhiKhamChuaBenh[index].BHYTThanhToan - this.danhSachChiPhiKhamChuaBenh[index].SoTienMG - this.danhSachChiPhiKhamChuaBenh[index].DaThanhToan;\n\t\t\t\t\t\t\tif (index == lastItem) {\n\t\t\t\t\t\t\t\tif (!kiemTraCongNoTruocDo) {\n\t\t\t\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].DanhSachCongNoChoThus[this.position].SoTienCongNoChoThu = this.apDungCNAndMiemGiam ? this.thongTinCongTyBaoHiemTuNhans[this.position].SoTienCongNo - tongCongNo : this.danhSachChiPhiKhamChuaBenh[index].DanhSachCongNoChoThus[this.position].SoTienCongNoChoThu;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (index != lastItem) {\n\t\t\t\t\t\t\t\tif (this.danhSachChiPhiKhamChuaBenh[index].DanhSachCongNoChoThus.length > 0) {\n\t\t\t\t\t\t\t\t\tif (kiemTraCongNoTruocDo) {\n\t\t\t\t\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].DanhSachCongNoChoThus[this.position].SoTienCongNoChoThu =\n\t\t\t\t\t\t\t\t\t\t\tdanhSachCongNoChoThu.CongNoChoThus[this.position].SoTienCongNoChoThu =\n\t\t\t\t\t\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].DanhSachCongNoChoThus[this.position].SoTienCongNoChoThu;\n\t\t\t\t\t\t\t\t\t\ttongCongNo += this.danhSachChiPhiKhamChuaBenh[index].DanhSachCongNoChoThus[this.position].SoTienCongNoChoThu;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].DanhSachCongNoChoThus[this.position].SoTienCongNoChoThu =\n\t\t\t\t\t\t\t\t\t\t\tdanhSachCongNoChoThu.CongNoChoThus[this.position].SoTienCongNoChoThu = this.apDungCNAndMiemGiam ?\n\t\t\t\t\t\t\t\t\t\t\t\tthis.tinhTienCongNo(this.danhSachChiPhiKhamChuaBenh[index].ThanhTien,\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].BHYTThanhToan, danhSachCongNoChoThu.CongNoChoThus[this.position].CongTyBaoHiemTuNhanId,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotalTT) :\n\t\t\t\t\t\t\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].DanhSachCongNoChoThus[this.position].SoTienCongNoChoThu;\n\n\t\t\t\t\t\t\t\t\t\ttongCongNo += this.danhSachChiPhiKhamChuaBenh[index].DanhSachCongNoChoThus[this.position].SoTienCongNoChoThu;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].KiemTraTienSoTienItemDichVu = this.danhSachChiPhiKhamChuaBenh[index].BNConPhaiThanhToan < 0 ? true : false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this.position != -1) {\n\t\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].DanhSachCongNoChoThus[this.position].SoTienCongNoChoThu = danhSachCongNoChoThu.CongNoChoThus[this.position].SoTienCongNoChoThu = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\t\t\tif (element.CheckedDefault === true) {\n\t\t\t\t\t\tlet totalCongNo = 0;\n\t\t\t\t\t\telement.DanhSachCongNoChoThus.forEach(element => {\n\t\t\t\t\t\t\ttotalCongNo += element.SoTienCongNoChoThu;\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn (element.BNConPhaiThanhToan = element.ThanhTien - element.BHYTThanhToan - totalCongNo - element.DaThanhToan);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.danhSachCongNoChoThus.push(danhSachCongNoChoThu);\n\t\t\t}\n\t\t}\n\n\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\telement.SoTienMG = this.tinhSoTienMiemGiam(element);\n\t\t\tthis.modelChangeSoTienMG(element);\n\t\t});\n\n\t\tthis.gridData = process(this.danhSachChiPhiKhamChuaBenh, this.state);\n\t\tthis.myDanhSachChuaThanhToan();\n\t}\n\n\ttinhTienCongNo(itemThanhTien, itemBHYTThanhToan, congNoId, totalTT): number {\n\t\tlet totalCongNo = 0;\n\t\t//kiểm tra công nợ được áp dụng tiền\n\t\tfor (let index = 0; index < this.thongTinCongTyBaoHiemTuNhans.length; index++) {\n\t\t\tif (this.thongTinCongTyBaoHiemTuNhans[index].Id == congNoId) {\n\t\t\t\ttotalCongNo = this.thongTinCongTyBaoHiemTuNhans[index].SoTienCongNo;\n\t\t\t}\n\t\t}\n\t\tvar itemSoTienCongNo = Math.round(parseFloat(((totalCongNo / totalTT) * (itemThanhTien - itemBHYTThanhToan)).toPrecision(15)) * 100) / 100;\n\t\treturn itemSoTienCongNo;\n\t}\n\n\tpublic rowCallback(context: RowClassArgs) {\n\t\tconst capNhatThanhToan = context.dataItem.CapNhatThanhToan == true;\n\t\treturn {\n\t\t\t\"bg-row-lightpurple\": capNhatThanhToan,\n\t\t};\n\t}\n\n\ttinhTiLeMiemGiamInGrid(data: DanhSachChiPhiKhamChuaBenh) {\n\t\tlet tongCongNoItem = this.itemTotalCongNo(data.DanhSachCongNoChoThus);\n\t\tlet sumSoTienBenhNhanTra = data.ThanhTien - data.BHYTThanhToan - tongCongNoItem;\n\t\tif (sumSoTienBenhNhanTra == 0 || isNaN(data.SoTienMG)) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn Math.round((data.SoTienMG / sumSoTienBenhNhanTra) * 100);\n\t}\n\n\titemTotalCongNo(danhSachCongNoChoThus: any): number {\n\t\tlet toatalCongNo = 0;\n\t\tdanhSachCongNoChoThus.forEach(cn => {\n\t\t\tif (cn.SoTienCongNoChoThu >= 0) {\n\t\t\t\ttoatalCongNo += cn.SoTienCongNoChoThu;\n\t\t\t}\n\t\t});\n\t\treturn toatalCongNo;\n\t}\n\n\ttinhTLMGTheoSoTien(totalSoTienBenhNhanThanhToan: any, totalSoTienConDuocMiemGiam: any): number {\n\t\tlet tle = totalSoTienConDuocMiemGiam / totalSoTienBenhNhanThanhToan;\n\t\treturn parseInt((tle * 100).toString());\n\t}\n\n\ttinhSoTienTheoTLMG(totalSoTienBenhNhanThanhToan: any, tiLeMienGiam: any): number {\n\t\tlet tien = Math.round(totalSoTienBenhNhanThanhToan * tiLeMienGiam);\n\t\treturn Math.floor(tien / 100);\n\t}\n\n\tmodelChangeCongNo(ev: any, data: any, vitri: any) {\n\t\tif (ev == undefined && ev == null) {\n\t\t\tdata.DanhSachCongNoChoThus[vitri].SoTienCongNoChoThu = 0;\n\t\t}\n\t\tthis.changeInputCongNoBindGrid(ev, data);\n\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\tif (element.Id === data.Id) {\n\t\t\t\t//element.SoTienMG = this.tinhSoTienMiemGiam(element);\n\t\t\t\tthis.modelChangeSoTienMG(element);\n\t\t\t}\n\t\t});\n\t}\n\n\tmodelChangeSoTienMG(data: any) {\n\t\tthis.changeInputSoTienMGBindGrid(data);\n\t\tthis.myDanhSachChuaThanhToan();\n\t}\n\n\tchangeInputCongNoBindGrid(ev: any, dsChiPhiKhamChuaBenh: DanhSachChiPhiKhamChuaBenh) {\n\t\tfor (let index = 0; index < this.danhSachChiPhiKhamChuaBenh.length; index++) {\n\t\t\tif (this.danhSachChiPhiKhamChuaBenh[index].CapNhatThanhToan != true && this.danhSachChiPhiKhamChuaBenh[index].CheckedDefault === true) {\n\t\t\t\tif (this.danhSachChiPhiKhamChuaBenh[index].Id === dsChiPhiKhamChuaBenh.Id) {\n\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].BNConPhaiThanhToan = this.danhSachChiPhiKhamChuaBenh[index].ThanhTien - this.danhSachChiPhiKhamChuaBenh[index].BHYTThanhToan - ev - this.danhSachChiPhiKhamChuaBenh[index].SoTienMG;\n\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].KiemTraTienSoTienItemDichVu = this.danhSachChiPhiKhamChuaBenh[index].BNConPhaiThanhToan < 0 ? true : false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.danhSachChiPhiKhamChuaBenh[index].Id === dsChiPhiKhamChuaBenh.Id) {\n\t\t\t\t\tif (ev - this.danhSachChiPhiKhamChuaBenh[index].DaThanhToan <= 0) {\n\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].BNConPhaiThanhToan = -ev;\n\t\t\t\t\t}\n\t\t\t\t\t//  else {\n\t\t\t\t\t// \tthis.danhSachChiPhiKhamChuaBenh[index].BNConPhaiThanhToan = 0;\n\t\t\t\t\t// \t//this.notificationService.showError(this.commonThuTien.SoTienCongNoNhapVuotQuaTienDV);\n\t\t\t\t\t// }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.tamDanhSachChiPhiKhamChuaBenh = [...this.danhSachChiPhiKhamChuaBenh];\n\t\tthis.bindTamCongNo();\n\t}\n\n\tchangeInputSoTienMGBindGrid(dsChiPhiKhamChuaBenh: DanhSachChiPhiKhamChuaBenh) {\n\t\tfor (let index = 0; index < this.danhSachChiPhiKhamChuaBenh.length; index++) {\n\t\t\tlet totalCongNo = this.itemTotalCongNo(dsChiPhiKhamChuaBenh.DanhSachCongNoChoThus);\n\t\t\tif (this.danhSachChiPhiKhamChuaBenh[index].CheckedDefault === true) {\n\t\t\t\tif (this.danhSachChiPhiKhamChuaBenh[index].Id === dsChiPhiKhamChuaBenh.Id) {\n\t\t\t\t\tdsChiPhiKhamChuaBenh.BNConPhaiThanhToan = dsChiPhiKhamChuaBenh.ThanhTien - dsChiPhiKhamChuaBenh.BHYTThanhToan - totalCongNo - dsChiPhiKhamChuaBenh.SoTienMG - dsChiPhiKhamChuaBenh.DaThanhToan;\n\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].KiemTraTienSoTienItemDichVu = this.danhSachChiPhiKhamChuaBenh[index].BNConPhaiThanhToan < 0 ? true : false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.gridData = process(this.danhSachChiPhiKhamChuaBenh, this.state);\n\t}\n\n\tunCheckedBindSoTienMG(id: any) {\n\t\tfor (let index = 0; index < this.danhSachChiPhiKhamChuaBenh.length; index++) {\n\t\t\tif (this.danhSachChiPhiKhamChuaBenh[index].CapNhatThanhToan === false && this.danhSachChiPhiKhamChuaBenh[index].CheckedDefault === true) {\n\t\t\t\tif (this.danhSachChiPhiKhamChuaBenh[index].Id === id) {\n\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].SoTienMG = 0;\n\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].BNConPhaiThanhToan = this.danhSachChiPhiKhamChuaBenh[index].ThanhTien - this.danhSachChiPhiKhamChuaBenh[index].BHYTThanhToan - this.danhSachChiPhiKhamChuaBenh[index].TongCongNo;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//trường hợp này sẽ check bỏ uncheck số tiền bind về lúc đầu\n\t\t\tif (this.danhSachChiPhiKhamChuaBenh[index].CapNhatThanhToan === true && this.danhSachChiPhiKhamChuaBenh[index].CheckedDefault === false) {\n\t\t\t\tif (this.danhSachChiPhiKhamChuaBenh[index].Id === id) {\n\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].SoTienMG = 0;\n\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh[index].BNConPhaiThanhToan = this.danhSachChiPhiKhamChuaBenh[index].ThanhTien - this.danhSachChiPhiKhamChuaBenh[index].BHYTThanhToan - this.danhSachChiPhiKhamChuaBenh[index].TongCongNo;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.gridData = process(this.danhSachChiPhiKhamChuaBenh, this.state);\n\t}\n\n\tonSelectChangeCheckbox(e: any, val: any) {\n\t\t//this.unCheckedBindSoTienMG(val);\n\t\tthis.mySelection = [];\n\t\tif (e.target.checked) {\n\t\t\tthis.mySelectionInPage.push(val);\n\t\t} else {\n\t\t\tthis.mySelectionInPage.splice(this.mySelectionInPage.indexOf(val), 1);\n\t\t}\n\t\tvar allData = this.dataSource.data;\n\t\tconst len = this.mySelectionInPage.length;\n\t\tthis.mySelection = this.mySelection.concat(this.mySelectionInPage);\n\n\t\tif (len === 0) {\n\t\t\tthis.selectAllState = \"unchecked\";\n\t\t} else if (len > 0 && len < allData.filter(obj => obj.HideCheckbox == null || (obj.HideCheckbox != undefined && obj.HideCheckbox == false)).length) {\n\t\t\tthis.selectAllState = \"indeterminate\";\n\t\t} else {\n\t\t\tthis.selectAllState = \"checked\";\n\t\t}\n\t\tthis.extCheckboxSelection(this.mySelection);\n\t}\n\n\tonSelectAllChange(checkedState: SelectAllCheckboxState) {\n\t\tvar allData = this.dataSource.data;\n\t\tif (allData == undefined) allData = [];\n\t\tif (checkedState === \"checked\") {\n\t\t\tthis.mySelectionInPage = allData.filter(obj => obj.HideCheckbox == null || (obj.HideCheckbox != undefined && obj.HideCheckbox == false)).map(item => item[this.keySelectBy]);\n\t\t\tthis.mySelection = this.mySelection.concat(this.mySelectionInPage);\n\t\t\tthis.selectAllState = \"checked\";\n\t\t} else {\n\t\t\tvar mySelectionRemove = allData.filter(obj => obj.HideCheckbox == null || (obj.HideCheckbox != undefined && obj.HideCheckbox == false)).map(item => item[this.keySelectBy]);\n\t\t\tif (mySelectionRemove != null && mySelectionRemove.length > 0) {\n\t\t\t\tmySelectionRemove.forEach(obj => {\n\t\t\t\t\tthis.mySelection.splice(this.mySelection.indexOf(obj), 1);\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.mySelectionInPage = [];\n\t\t\tthis.selectAllState = \"unchecked\";\n\t\t}\n\t\tthis.extCheckboxSelection(this.mySelection);\n\t\tthis.bindCheckToaThuoc();\n\t}\n\n\tbindCheckToaThuoc() {\n\t\tvar checkToaThuocs = this.danhSachChiPhiKhamChuaBenh.filter(c => c.LoaiNhom == 6 && c.CheckedDefault === true);\n\t\tif (checkToaThuocs.length > 0) {\n\t\t\tthis.duyetBaoHiemYT = true;\n\t\t} else {\n\t\t\tthis.duyetBaoHiemYT = false;\n\t\t}\n\t}\n\n\tapDungMiemGiamThem() {\n\t\tlet type = `NgoaiTru`;\n\t\tlet yeuCauTiepNhanId = this.yeuCauTiepNhanId;\n\n\t\tlet dataMGT = new ApDungMiemGiamThem;\n\t\tif (this.confrim != null) {\n\t\t\tthis.dialog.closeAll();\n\t\t\tthis.confrim = null;\n\t\t}\n\t\tthis.confrim = this.dialog.open(ApDungMiemGiamThemComponent, {\n\t\t\tdisableClose: true,\n\t\t\twidth: \"700px\",\n\t\t\tdata: { dataMGT, type, yeuCauTiepNhanId }\n\t\t}).afterClosed().subscribe((result) => {\n\t\t\tif (result != null) {\n\t\t\t\tif (result != null) {\n\t\t\t\t\tswitch (result.Type) {\n\t\t\t\t\t\tcase 'MiemGiam':\n\t\t\t\t\t\t\tthis.bindMiemGiamPhanTramVaSoTien(result.DataResult);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'MiemGiamBangThanhTien':\n\t\t\t\t\t\t\tthis.bindMiemGiamBangThanhTienDichVu(result.DataResult);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\n\tbindMiemGiamBangThanhTienDichVu(result: any) {\n\t\tif (result != undefined && result != null) {\n\t\t\tif (this.danhSachChiPhiKhamChuaBenh != undefined && this.danhSachChiPhiKhamChuaBenh != null) {\n\t\t\t\tthis.notificationService.showSuccess(this.commonThuTien.ApDungMiemGiamThanhCong);\n\t\t\t\t//tính số tiền miễm giam tren grid\n\t\t\t\tlet danhSachMiemGiamBangThanhTien = result;\n\t\t\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\t\t\tdanhSachMiemGiamBangThanhTien.forEach(dsChonMG => {\n\t\t\t\t\t\tif (dsChonMG.Id == element.Id) {\n\t\t\t\t\t\t\telement.SoTienMG = this.tinhSoTienMiemGiamBangThanhTienDichVu(element);\n\t\t\t\t\t\t\tthis.modelChangeSoTienMG(element);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\t}\n\n\tbindMiemGiamPhanTramVaSoTien(result: any) {\n\t\tif (this.danhSachChiPhiKhamChuaBenh != undefined && this.danhSachChiPhiKhamChuaBenh != null) {\n\t\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\t\tfor (const danhSachMienGiam of element.DanhSachMienGiamVos.filter(x => x.LoaiMienGiam === this.loaiMienGiam.MienGiamThem)) {\n\t\t\t\t\telement.DanhSachMienGiamVos.splice(element.DanhSachMienGiamVos.indexOf(danhSachMienGiam), 1);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (result.TiLe != undefined && result.TiLe != null) {\n\t\t\t\tthis.bindMiemGiamThemTiLe(result.TiLe, result.GhiChu, result.NoiDungGhiChuMiemGiamId);\n\t\t\t}\n\n\t\t\tif (result.SoTien != undefined && result.SoTien != null) {\n\t\t\t\tthis.bindMiemGiamThemSoTien(result.SoTien, result.GhiChu, result.NoiDungGhiChuMiemGiamId);\n\t\t\t}\n\n\t\t\tthis.notificationService.showSuccess(this.commonThuTien.ApDungMiemGiamThanhCong);\n\n\t\t\t//tính số tiền miễm giam tren grid\n\t\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\t\telement.SoTienMG = this.tinhSoTienMiemGiam(element);\n\t\t\t\tthis.modelChangeSoTienMG(element);\n\t\t\t});\n\t\t}\n\t}\n\n\n\tapDungMiemGiamChoTungDichVu(dataItem: any) {\n\t\tthis.tamDanhSachChiPhiKhamChuaBenh = this.danhSachChiPhiKhamChuaBenh;\n\t\tlet isView = true;\n\t\tif (this.confrim != null) {\n\t\t\tthis.dialog.closeAll();\n\t\t\tthis.confrim = null;\n\t\t}\n\t\tthis.confrim = this.dialog\n\t\t\t.open(ApDungMiemGiamChoTungDichVuComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: \"700px\",\n\t\t\t\tdata: { dataItem, isView },\n\t\t\t})\n\t\t\t.afterClosed()\n\t\t\t.subscribe(result => {\n\t\t\t\tif (result != null) {\n\t\t\t\t\t//tính số tiền miễm giam tren grid\t\t\t\t\t\n\t\t\t\t\tif (result.apdungMGTThanhCong) {\n\t\t\t\t\t\tthis.notificationService.showSuccess(this.commonThuTien.ApDungMiemGiamThanhCong);\n\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\t\t\t\t\tif (element.Id === result.Id) {\n\n\t\t\t\t\t\t\t\telement.GhiChuMienGiamThem = result.GhiChuMienGiamThem;\n\t\t\t\t\t\t\t\telement.NoiDungGhiChuMiemGiamId = result.NoiDungGhiChuMiemGiamId;\n\n\t\t\t\t\t\t\t\telement.SoTienMG = this.tinhSoTienMiemGiam(element);\n\t\t\t\t\t\t\t\tthis.modelChangeSoTienMG(element);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\t\t\t\t\tif (element.Id === result.Id) {\n\t\t\t\t\t\t\t\telement.GhiChuMienGiamThem = result.GhiChuMienGiamThem;\n\t\t\t\t\t\t\t\telement.NoiDungGhiChuMiemGiamId = result.NoiDungGhiChuMiemGiamId;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\telement.DanhSachMienGiamVos.forEach(item => {\n\t\t\t\t\t\t\t\t\tresult.DanhSachMienGiamVos.forEach(item1 => {\n\t\t\t\t\t\t\t\t\t\tif (item1.LoaiMienGiam === item.LoaiMienGiam && item1.LoaiChietKhau === 1) {\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\titem.TiLe = item1.TiLe;\n\t\t\t\t\t\t\t\t\t\t\t\titem.TongTienMiemGiam = 0;\n\t\t\t\t\t\t\t\t\t\t\t\titem.DaSuDung = false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (item1.LoaiMienGiam === item.LoaiMienGiam && item1.LoaiChietKhau === 2) {\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\titem.SoTien = item1.SoTien;\n\t\t\t\t\t\t\t\t\t\t\t\titem.TongTienMiemGiam = 0;\n\t\t\t\t\t\t\t\t\t\t\t\titem.DaSuDung = false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tbindMiemGiamThemTiLe(tiLe: number, ghiChu: string, noiDungGhiChuMiemGiamId: any) {\n\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\tlet dsMiemGiamThem = new DanhSachMienGiamVo();\n\t\t\tdsMiemGiamThem.LoaiMienGiam = this.loaiMienGiam.MienGiamThem;\n\t\t\tdsMiemGiamThem.LoaiChietKhau = this.loaiChietKhau.ChietKhauTheoTiLe;\n\t\t\tdsMiemGiamThem.TiLe = tiLe;\n\n\t\t\telement.GhiChuMienGiamThem = ghiChu;\n\t\t\telement.NoiDungGhiChuMiemGiamId = noiDungGhiChuMiemGiamId;\n\n\t\t\telement.DanhSachMienGiamVos.push(dsMiemGiamThem);\n\t\t});\n\t}\n\n\tbindMiemGiamThemSoTien(soTien: number, ghiChu: string, noiDungGhiChuMiemGiamId: any) {\n\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\tlet dsMiemGiamThem = new DanhSachMienGiamVo();\n\t\t\tdsMiemGiamThem.LoaiMienGiam = this.loaiMienGiam.MienGiamThem;\n\t\t\tdsMiemGiamThem.LoaiChietKhau = this.loaiChietKhau.ChietKhauTheoSoTien;\n\t\t\tdsMiemGiamThem.SoTien = soTien;\n\t\t\tdsMiemGiamThem.SoTienMiemGiamTatCa = soTien;\n\n\t\t\telement.GhiChuMienGiamThem = ghiChu;\n\t\t\telement.NoiDungGhiChuMiemGiamId = noiDungGhiChuMiemGiamId;\n\n\t\t\telement.DanhSachMienGiamVos.push(dsMiemGiamThem);\n\t\t});\n\t}\n\n\tsoTienCongNoChoTungDichVu(dataItem: any) {\n\t\tlet soTienCongNo = 0;\n\t\tdataItem.DanhSachCongNoChoThus.forEach(element => {\n\t\t\tsoTienCongNo = soTienCongNo + element.SoTienCongNoChoThu;\n\t\t});\n\t\treturn soTienCongNo;\n\t}\n\n\n\ttinhSoTienMiemGiamBangThanhTienDichVu(dataItem: DanhSachChiPhiKhamChuaBenh) {\n\t\tif (dataItem != undefined && dataItem != null) {\n\t\t\tlet tongTienTungDichVu = ((dataItem.DonGia * dataItem.Soluong));\n\t\t\tif (tongTienTungDichVu > 0) {\n\t\t\t\tif (dataItem.DanhSachMienGiamVos != undefined && dataItem.DanhSachMienGiamVos != null) {\n\t\t\t\t\tvar dsMienGiamTheoTiLe = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 1 && item.TiLe != 0);\n\t\t\t\t\tdsMienGiamTheoTiLe = _.sortBy(dsMienGiamTheoTiLe, 'LoaiMienGiam');\n\t\t\t\t\tdsMienGiamTheoTiLe.forEach(item => {\n\t\t\t\t\t\titem.TiLe = 0;\n\t\t\t\t\t\titem.TongTienMiemGiam = 0;\n\t\t\t\t\t});\n\t\t\t\t\tvar dsMienGiamTheoSoTien = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 2);\n\t\t\t\t\tdsMienGiamTheoSoTien = _.sortBy(dsMienGiamTheoSoTien, 'LoaiMienGiam');\n\t\t\t\t\tdsMienGiamTheoSoTien.forEach(item => {\n\t\t\t\t\t\titem.TongTienMiemGiam = tongTienTungDichVu;\n\t\t\t\t\t\titem.SoTien = tongTienTungDichVu;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdsMienGiamTheoSoTien = _.sortBy(dsMienGiamTheoSoTien, 'LoaiMienGiam');\n\t\t\t\t\tdsMienGiamTheoSoTien.forEach(item => {\n\t\t\t\t\t\titem.SoTien = 0;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t}\n\t\t\treturn tongTienTungDichVu;\n\t\t}\n\t}\n\n\ttinhSoTienMiemGiam(dataItem: DanhSachChiPhiKhamChuaBenh) {\n\t\tif (dataItem != undefined && dataItem != null) {\n\t\t\tlet tongTatCaSoTienMg = 0;\n\t\t\tvar tiLePhanTramConLai = 100;\n\t\t\tlet tongTienTungDichVu = ((dataItem.DonGia * dataItem.Soluong)) - dataItem.BHYTThanhToan;\n\t\t\tvar soTienConLai = tongTienTungDichVu;\n\t\t\tif (tongTienTungDichVu > 0) {\n\t\t\t\tif (dataItem.DanhSachMienGiamVos != undefined && dataItem.DanhSachMienGiamVos != null) {\n\t\t\t\t\tvar dsMienGiamTheoPhanTram = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 1 && item.TiLe != 0);\n\t\t\t\t\tvar dsMienGiamTheoSoTien = dataItem.DanhSachMienGiamVos.filter(item => item.LoaiChietKhau == 2 && item.SoTien != 0);\n\t\t\t\t\tif (dsMienGiamTheoPhanTram != null && dsMienGiamTheoPhanTram.length > 0) {\n\t\t\t\t\t\tdsMienGiamTheoPhanTram = _.sortBy(dsMienGiamTheoPhanTram, 'LoaiMienGiam');\n\t\t\t\t\t\tdsMienGiamTheoPhanTram.forEach(item => {\n\t\t\t\t\t\t\tif (tiLePhanTramConLai > 0) {\n\t\t\t\t\t\t\t\titem.TiLe = item.TiLe > tiLePhanTramConLai ? tiLePhanTramConLai : item.TiLe;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\titem.TiLe = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titem.TongTienMiemGiam = Math.round((item.TiLe * tongTienTungDichVu) / 100 * 100) / 100;\n\t\t\t\t\t\t\ttongTatCaSoTienMg += item.TongTienMiemGiam;\n\t\t\t\t\t\t\tif (item.TiLe >= tiLePhanTramConLai) {\n\t\t\t\t\t\t\t\ttiLePhanTramConLai = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\ttiLePhanTramConLai = tiLePhanTramConLai - item.TiLe;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (tiLePhanTramConLai > 0 && dsMienGiamTheoSoTien != null && dsMienGiamTheoSoTien.length > 0) {\n\t\t\t\t\t\ttiLePhanTramConLai = dsMienGiamTheoPhanTram != null && dsMienGiamTheoPhanTram.length > 0 ? tiLePhanTramConLai : 0;\n\t\t\t\t\t\t//soTienConLai = tiLePhanTramConLai != 0 ? (((dataItem.ThanhTien - dataItem.BHYTThanhToan - this.soTienCongNoChoTungDichVu(dataItem)) * tiLePhanTramConLai) / 100) : dataItem.ThanhTien - dataItem.BHYTThanhToan - this.soTienCongNoChoTungDichVu(dataItem);\n\n\t\t\t\t\t\t//Khách muốn khi nhập số tiền miễm giảm thì cần bind thành tiền dv vào miễm giảm lun\n\t\t\t\t\t\tsoTienConLai = tiLePhanTramConLai != 0 ? (((dataItem.ThanhTien) * tiLePhanTramConLai) / 100) : dataItem.ThanhTien;\n\n\t\t\t\t\t\t//Sắp xếp theo thứ tự:Ưu đãi, Voucher, Miễn giảm thêm\n\t\t\t\t\t\tdsMienGiamTheoSoTien = _.sortBy(dsMienGiamTheoSoTien, 'LoaiMienGiam');\n\t\t\t\t\t\tdsMienGiamTheoSoTien.forEach(item => {\n\t\t\t\t\t\t\t//Nếu số tiền còn lại sau khi đổ từ trên xuống\n\t\t\t\t\t\t\tif (soTienConLai > 0) {\n\t\t\t\t\t\t\t\titem.SoTien = item.SoTien > soTienConLai ? soTienConLai : item.SoTien;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\titem.SoTien = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titem.TongTienMiemGiam = item.SoTien;\n\t\t\t\t\t\t\ttongTatCaSoTienMg += item.TongTienMiemGiam;\n\t\t\t\t\t\t\tif (item.SoTien >= soTienConLai) {\n\t\t\t\t\t\t\t\tsoTienConLai = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tsoTienConLai = soTienConLai - item.SoTien;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdsMienGiamTheoSoTien = _.sortBy(dsMienGiamTheoSoTien, 'LoaiMienGiam');\n\t\t\t\t\t\tdsMienGiamTheoSoTien.forEach(item => {\n\t\t\t\t\t\t\t//NẾU PHẦN TRĂM MÀ SÀI HẾT THÌ BIND TIỀN TẤT CẢ CON LẠI BẰNG 0\n\t\t\t\t\t\t\titem.SoTien = 0;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn tongTatCaSoTienMg < 0 ? 0 : tongTatCaSoTienMg;\n\t\t}\n\t}\n\n\tBackToList() {\n\t\tlet yctn = this.route.snapshot.queryParams.yctn;\n\t\tif (yctn) {\n\t\t\tthis.router.navigateByUrl(\"/them-yeu-cau-tiep-nhan\");\n\t\t} else {\n\t\t\tthis.router.navigate([\"/danh-sach-thu-dich-vu\"], {\n\t\t\t\tqueryParamsHandling: \"preserve\",\n\t\t\t});\n\t\t}\n\t}\n\n\tluuTamChiPhiNgoaitru() {\n\t\tthis.dialog\n\t\t\t.open(ConfirmComponent, {\n\t\t\t\tdisableClose: false,\n\t\t\t\twidth: \"400px\",\n\t\t\t\tdata: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessConfirm, [\"lưu tạm chi phí\"]) },\n\t\t\t})\n\t\t\t.afterClosed()\n\t\t\t.subscribe(result => {\n\t\t\t\tif (result === \"Yes\") {\n\t\t\t\t\tthis.showLoadingPopup();\n\n\t\t\t\t\tlet danhSachChiPhiThuTamUng = new DanhSachChiPhiThuTamUng();\n\t\t\t\t\tdanhSachChiPhiThuTamUng.DanhSachChiPhiKhamChuaBenhDaChons = this.danhSachChiPhiKhamChuaBenh;\n\t\t\t\t\tdanhSachChiPhiThuTamUng.Id = this.yeuCauTiepNhanId;\n\t\t\t\t\tif (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n\t\t\t\t\t\tthis.apiService.post(\"ThuNgan/LuuTamChiPhiNgoaiTru\", danhSachChiPhiThuTamUng).subscribe(\n\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\tthis.getThongTinYeuCauBenhNhan(this.yeuCauTiepNhanId, true);\n\t\t\t\t\t\t\t\tthis.bindChiaTienCongNo();\n\t\t\t\t\t\t\t\tthis.closeAllDialogs();\n\t\t\t\t\t\t\t\tthis.notificationService.showSuccess(\"Lưu tạm chi phí thành công\");\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t(err: ApiError) => {\n\t\t\t\t\t\t\t\tif (err.Message != \"Validation Failed\") {\n\t\t\t\t\t\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\t\t\t\t\t\tthis.closeAllDialogs();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n\t\t\t\t\t\tthis.closeAllDialogs();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\txemTruocChiPhi() {\n\t\tthis.showLoadingPopup();\n\n\t\tlet arrFileUrl: Array<any> = [];\n\t\tlet arrFilePdf: Array<any> = [];\n\n\t\tlet hostingName = \"http://\" + \"//\" + window.location.host;\n\t\tthis.apiService.postExportPdf<any>(\"ThuNgan/XemTruocBangKeChiPhi?yeuCauTiepNhanId=\" + this.yeuCauTiepNhanId + \"&hostingName=\" + hostingName).subscribe(\n\t\t\t(file) => {\n\t\t\t\tlet newBlob = new Blob([file], { type: \"application/pdf\" });\n\t\t\t\tlet datalocalURL = window.URL.createObjectURL(newBlob);\n\t\t\t\tarrFileUrl.push(datalocalURL);\n\t\t\t\tarrFilePdf.push(file);\n\t\t\t\tif (arrFilePdf.length > 0) {\n\t\t\t\t\tthis.dialog\n\t\t\t\t\t\t.open(CommonPdfPopupNgoaiTruComponent, {\n\t\t\t\t\t\t\tdisableClose: false,\n\t\t\t\t\t\t\twidth: \"1000px\",\n\t\t\t\t\t\t\tdata: { arrFileUrl, arrFilePdf, yeuCauTiepNhanId: this.yeuCauTiepNhanId, loaiBangKeChiPhi: LoaiBangKeChiPhi.XemTruocBangKe },\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.afterClosed()\n\t\t\t\t\t\t.subscribe(result => { this.closeAllDialogs(); });\n\t\t\t\t} else {\n\t\t\t\t\tthis.notificationService.showError(\"Chưa có thông tin dịch vụ.\");\n\t\t\t\t\tthis.closeAllDialogs();\n\t\t\t\t}\n\t\t\t},\n\t\t\t(err: ApiError) => {\n\t\t\t\tif (err.Message !== \"Validation Failed\") {\n\t\t\t\t\tthis.closeAllDialogs();\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tshowLoadingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang tải...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tshowSavingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang lưu...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tcloseAllDialogs() {\n\t\tif (this.loadingPopup) {\n\t\t\tthis.loadingPopup.close();\n\t\t\tthis.loadingPopup = null;\n\t\t}\n\t}\n}\n","export default \".size-icon {\\n  display: inline-block;\\n  height: 20px;\\n  width: 20px;\\n  line-height: 20px;\\n  border-radius: 10px;\\n  background-color: green;\\n  color: #fff;\\n  text-align: center;\\n}\\n\\n.float_right {\\n  float: right;\\n}\\n\\n.color-green {\\n  color: green;\\n}\\n\\n.color-red {\\n  color: red;\\n}\\n\\n.text-hoan-thu {\\n  color: red;\\n  font-size: 19px;\\n}\\n\\n.reverse-ellipsis.r {\\n  text-align: right;\\n  direction: inherit;\\n}\\n\\n.yellowText {\\n  color: yellowgreen;\\n}\\n\\n.redText {\\n  color: red;\\n}\\n\\n.greenText {\\n  color: green;\\n}\\n\\n.orangeText {\\n  color: orange;\\n}\\n\\n.blueText {\\n  color: blue;\\n}\\n\\n.blackText {\\n  color: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2RzLWRhLXRodS10aWVuL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcdGh1LWNoaVxcdGh1LWNoaS12aWVuLXBoaVxcbmdvYWktdHJ1XFxjaG8tdGh1LXRpZW5cXGRzLWRhLXRodS10aWVuXFxkcy1kYS10aHUtdGllbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL2RzLWRhLXRodS10aWVuL2RzLWRhLXRodS10aWVuLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UscUJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBRUEsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtBQ0NGOztBREVBO0VBQ0UsVUFBQTtBQ0NGOztBREVBO0VBQ0UsVUFBQTtFQUNBLGVBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0Esa0JBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGh1LWNoaS90aHUtY2hpLXZpZW4tcGhpL25nb2FpLXRydS9jaG8tdGh1LXRpZW4vZHMtZGEtdGh1LXRpZW4vZHMtZGEtdGh1LXRpZW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2l6ZS1pY29uIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBoZWlnaHQ6IDIwcHg7XG4gIHdpZHRoOiAyMHB4O1xuICBsaW5lLWhlaWdodDogMjBweDtcbiAgLW1vei1ib3JkZXItcmFkaXVzOiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcbiAgY29sb3I6ICNmZmY7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmZsb2F0X3JpZ2h0IHtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG4uY29sb3ItZ3JlZW4ge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5jb2xvci1yZWQge1xuICBjb2xvcjogcmVkO1xufVxuXG4udGV4dC1ob2FuLXRodSB7XG4gIGNvbG9yOiByZWQ7XG4gIGZvbnQtc2l6ZTogMTlweDtcbn1cblxuLnJldmVyc2UtZWxsaXBzaXMuciB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBkaXJlY3Rpb246IGluaGVyaXQ7XG59XG5cbi55ZWxsb3dUZXh0IHtcbiAgY29sb3I6IHllbGxvd2dyZWVuO1xufVxuXG4ucmVkVGV4dCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5ncmVlblRleHQge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5vcmFuZ2VUZXh0IHtcbiAgY29sb3I6IG9yYW5nZTtcbn1cblxuLmJsdWVUZXh0IHtcbiAgY29sb3I6IGJsdWU7XG59XG5cbi5ibGFja1RleHQge1xuICBjb2xvcjogYmxhY2s7XG59IiwiLnNpemUtaWNvbiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgaGVpZ2h0OiAyMHB4O1xuICB3aWR0aDogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIC1tb3otYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5mbG9hdF9yaWdodCB7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuLmNvbG9yLWdyZWVuIHtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG4uY29sb3ItcmVkIHtcbiAgY29sb3I6IHJlZDtcbn1cblxuLnRleHQtaG9hbi10aHUge1xuICBjb2xvcjogcmVkO1xuICBmb250LXNpemU6IDE5cHg7XG59XG5cbi5yZXZlcnNlLWVsbGlwc2lzLnIge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZGlyZWN0aW9uOiBpbmhlcml0O1xufVxuXG4ueWVsbG93VGV4dCB7XG4gIGNvbG9yOiB5ZWxsb3dncmVlbjtcbn1cblxuLnJlZFRleHQge1xuICBjb2xvcjogcmVkO1xufVxuXG4uZ3JlZW5UZXh0IHtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG4ub3JhbmdlVGV4dCB7XG4gIGNvbG9yOiBvcmFuZ2U7XG59XG5cbi5ibHVlVGV4dCB7XG4gIGNvbG9yOiBibHVlO1xufVxuXG4uYmxhY2tUZXh0IHtcbiAgY29sb3I6IGJsYWNrO1xufSJdfQ== */\"","import { Component, OnInit, Output, EventEmitter, Input, OnChanges, SimpleChanges, ViewEncapsulation } from \"@angular/core\";\nimport { process, State, GroupDescriptor } from \"@progress/kendo-data-query\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport icCheck from \"@iconify/icons-ic/twotone-check\";\nimport { MatDialog } from \"@angular/material\";\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { DanhSachDaThuTienResp, DanhSachChiPhiKhamChuaBenh, DanhSachCongNoChoThu, CommonThuTien } from \"../cho-thu-tien.model\";\nimport { SelectAllCheckboxState } from \"@progress/kendo-angular-grid\";\nimport icRedEye from \"@iconify/icons-ic/twotone-remove-red-eye\";\nimport { MiemGiamTheoDVComponent } from \"../../../common/ap-dung-miem-giam-cho-tung-dv-view-popup/ap-dung-miem-giam-cho-tung-dv-view-popup.component\";\nimport { AuthService } from \"src/app/core/services/auth.service\";\ndeclare var jQuery: any;\nimport { DocumentType } from \"src/app/shared/enum/document-type.enum\";\nimport { ApiError } from \"src/app/shared/models/api-error.model\";\nimport { SystemMessage } from \"src/app/shared/configdata/system-message\";\nimport { ConfirmComponent } from \"src/app/shared/component/dialogs/confirm/confirm.component\";\nimport { SecurityOperation } from \"src/app/shared/enum/security-operation.enum\";\n@Component({\n\tselector: \"app-ds-da-thu-tien\",\n\ttemplateUrl: \"./ds-da-thu-tien.component.html\",\n\tstyleUrls: [\"./ds-da-thu-tien.component.scss\"],\n\tencapsulation: ViewEncapsulation.None\n})\nexport class DsDaThuTienComponent implements OnInit, OnChanges {\n\t@Input() danhSachChiPhiKhamChuaBenh: DanhSachChiPhiKhamChuaBenh[] = [];\n\t@Input() dataSourceChanged: boolean = false;\n\n\tdocumentType: DocumentType = DocumentType.ThuNgan;\n\tpublic gridDataDaThu: any;\n\tpublic danhSachCongNoChoThus: DanhSachCongNoChoThu[] = [];\n\tpublic yeuCauTiepNhanId: number = 0;\n\tpublic showHuyThanhToan: boolean = false;\n\tpublic showCapNhatThanhToan: boolean = false;\n\tpublic DanhSachDaThuTienResp: DanhSachDaThuTienResp;\n\tpublic icCheck = icCheck;\n\tpublic commonThuTien = new CommonThuTien();\n\tpublic icRedEye = icRedEye;\n\n\tconfrim: any = null;\n\tvalidationErrors: any;\n\ttabIndex: number = 0;\n\t@Output() afterChanged = new EventEmitter<any>();\n\t@Output() huyThanhCong = new EventEmitter<boolean>();\n\t@Output() capnhatThanhCong = new EventEmitter<number>();\n\t@Output() loadingThanhCong = new EventEmitter<any>();\n\tdaThuTienGridColumns: any[] = [];\n\tdataSource: any = {\n\t\tdata: [],\n\t\ttotal: 0,\n\t};\n\n\tpublic groups: GroupDescriptor[] = [\n\t\t{\n\t\t\tfield: \"Nhom\",\n\t\t\taggregates: [\n\t\t\t\t{ field: \"ThanhTien\", aggregate: \"sum\" },\n\t\t\t\t{ field: \"BHYTThanhToan\", aggregate: \"sum\" },\n\t\t\t\t{ field: \"SoTienMG\", aggregate: \"sum\" },\n\t\t\t\t{ field: \"DaThanhToan\", aggregate: \"sum\" },\n\t\t\t\t{ field: \"BNConPhaiThanhToan\", aggregate: \"sum\" },\n\t\t\t\t{ field: \"TongCongNo\", aggregate: \"sum\" },\n\t\t\t],\n\t\t},\n\t];\n\n\tpublic state: State = {\n\t\tgroup: this.groups,\n\t};\n\n\tconstructor(private route: ActivatedRoute, private apiService: ApiService, private dialog: MatDialog, private authService: AuthService, private notificationService: NotificationService) { }\n\n\t//--------------------------------- Begin total colunm------------------------------------------------------------\n\tpublic total(field: any) {\n\t\tswitch (field) {\n\t\t\tcase \"BNConPhaiThanhToan\":\n\t\t\t\treturn this.XuLyTotalForField(\"BNConPhaiThanhToan\");\n\t\t\t\tbreak;\n\t\t\tcase \"DaThanhToan\":\n\t\t\t\treturn this.XuLyTotalForField(\"DaThanhToan\");\n\t\t\t\tbreak;\n\t\t\tcase \"SoTienMG\":\n\t\t\t\treturn this.XuLyTotalForField(\"SoTienMG\");\n\t\t\t\tbreak;\n\t\t\tcase \"ThanhTien\":\n\t\t\t\treturn this.XuLyTotalForField(\"ThanhTien\");\n\t\t\t\tbreak;\n\t\t\tcase \"BHYTThanhToan\":\n\t\t\t\treturn this.XuLyTotalForField(\"BHYTThanhToan\");\n\t\t\t\tbreak;\n\t\t\tcase \"TongCongNo\":\n\t\t\t\treturn this.XuLyTotalForField(\"TongCongNo\");\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tXuLyTotalForField(field: any) {\n\t\tlet sum = 0;\n\t\tif (this.danhSachChiPhiKhamChuaBenh != undefined && this.danhSachChiPhiKhamChuaBenh != null && this.danhSachChiPhiKhamChuaBenh.length > 0) {\n\t\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\t\tswitch (field) {\n\t\t\t\t\tcase \"BNConPhaiThanhToan\":\n\t\t\t\t\t\tsum = sum + element.BNConPhaiThanhToan;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"DaThanhToan\":\n\t\t\t\t\t\tsum = sum + element.DaThanhToan;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"SoTienMG\":\n\t\t\t\t\t\tsum = sum + element.SoTienMG;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"ThanhTien\":\n\t\t\t\t\t\tsum = sum + element.ThanhTien;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"BHYTThanhToan\":\n\t\t\t\t\t\tsum = sum + element.BHYTThanhToan;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"TongCongNo\":\n\t\t\t\t\t\tsum = sum + element.TongCongNo;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn sum;\n\t}\n\t//--------------------------------- End total colunm-----------------------------------------------------------\n\tngOnChanges(value: SimpleChanges) {\n\t\tif (this.dataSourceChanged == true) {\n\t\t\tthis.gridDataDaThu = process(this.danhSachChiPhiKhamChuaBenh, this.state);\n\t\t\tthis.setSelectAll();\n\t\t\tthis.setRemoveGroupFooterOnly();\n\t\t}\n\t}\n\n\tngOnInit() {\n\t\tthis.yeuCauTiepNhanId = this.route.snapshot.params.id;\n\t\tif (this.danhSachChiPhiKhamChuaBenh != undefined && this.danhSachChiPhiKhamChuaBenh != null) {\n\t\t\tthis.gridDataDaThu = process(this.danhSachChiPhiKhamChuaBenh, this.state);\n\t\t\tthis.setRemoveGroupFooterOnly();\n\t\t}\n\t}\n\tpublic checkboxOnly: boolean = true;\n\t//Xử lý checkedboxq\n\tpublic keySelectBy: string = \"Id\";\n\tpublic mySelection: number[] = [];\n\tpublic mySelectionInPage: number[] = [];\n\tpublic selectAllState: SelectAllCheckboxState = \"unchecked\";\n\n\textCheckboxSelection(event: any[]) {\n\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\telement.CheckedDefault = false;\n\t\t});\n\t\tif (event.length > 0) {\n\t\t\tfor (let index = 0; index < event.length; index++) {\n\t\t\t\tthis.danhSachChiPhiKhamChuaBenh.forEach(element => {\n\t\t\t\t\t{\n\t\t\t\t\t\tif (element.Id == event[index]) {\n\t\t\t\t\t\t\treturn (element.CheckedDefault = true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tViewThongTinMG(dataItem: any) {\n\t\tlet isView = false;\n\t\tif (this.confrim != null) {\n\t\t\tthis.dialog.closeAll();\n\t\t\tthis.confrim = null;\n\t\t}\n\t\tthis.confrim = this.dialog\n\t\t\t.open(MiemGiamTheoDVComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: \"500px\",\n\t\t\t\tdata: { dataItem, isView },\n\t\t\t})\n\t\t\t.afterClosed()\n\t\t\t.subscribe(result => {\n\t\t\t\tif (result != null) {\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tsetSelectAll() {\n\t\tsetTimeout(function () {\n\t\t\tif (!jQuery(\"#selectAllCheckboxId1\").prop(\"checked\")) {\n\t\t\t\tjQuery(\"#selectAllCheckboxId1\").trigger(\"click\");\n\t\t\t}\n\t\t}, 1000);\n\t}\n\n\tonSelectChangeCheckbox1(e: any, val: any) {\n\t\tthis.mySelection = [];\n\t\tif (e.target.checked) {\n\t\t\tthis.mySelectionInPage.push(val);\n\t\t} else {\n\t\t\tthis.mySelectionInPage.splice(this.mySelectionInPage.indexOf(val), 1);\n\t\t}\n\t\tvar allData = this.dataSource.data;\n\t\tconst len = this.mySelectionInPage.length;\n\t\tthis.mySelection = this.mySelection.concat(this.mySelectionInPage);\n\n\t\tif (len === 0) {\n\t\t\tthis.selectAllState = \"unchecked\";\n\t\t} else if (len > 0 && len < allData.filter(obj => obj.HideCheckbox == null || (obj.HideCheckbox != undefined && obj.HideCheckbox == false)).length) {\n\t\t\tthis.selectAllState = \"indeterminate\";\n\t\t} else {\n\t\t\tthis.selectAllState = \"checked\";\n\t\t}\n\t\tthis.extCheckboxSelection(this.mySelection);\n\t}\n\n\tonSelectAllChange1(checkedState: SelectAllCheckboxState) {\n\t\tvar allData = this.dataSource.data;\n\t\tif (allData == undefined) allData = [];\n\t\tif (checkedState === \"checked\") {\n\t\t\tthis.mySelectionInPage = allData.filter(obj => obj.HideCheckbox == null || (obj.HideCheckbox != undefined && obj.HideCheckbox == false)).map(item => item[this.keySelectBy]);\n\t\t\tthis.mySelection = this.mySelection.concat(this.mySelectionInPage);\n\t\t\tthis.selectAllState = \"checked\";\n\t\t} else {\n\t\t\tvar mySelectionRemove = allData.filter(obj => obj.HideCheckbox == null || (obj.HideCheckbox != undefined && obj.HideCheckbox == false)).map(item => item[this.keySelectBy]);\n\t\t\tif (mySelectionRemove != null && mySelectionRemove.length > 0) {\n\t\t\t\tmySelectionRemove.forEach(obj => {\n\t\t\t\t\tthis.mySelection.splice(this.mySelection.indexOf(obj), 1);\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.mySelectionInPage = [];\n\t\t\tthis.selectAllState = \"unchecked\";\n\t\t}\n\t\tthis.extCheckboxSelection(this.mySelection);\n\t}\n\n\tsetRemoveGroupFooterOnly() {\n\t\tsetTimeout(function () {\n\t\t\tif (jQuery(\"#danhSachDaThuTienGrid .k-group-footer\").length == 1) {\n\t\t\t\tjQuery(\"#danhSachDaThuTienGrid .k-group-footer\").hide();\n\t\t\t} else {\n\t\t\t\tjQuery(\"#danhSachDaThuTienGrid .k-group-footer\").show();\n\t\t\t}\n\t\t}, 100);\n\t}\n\n\ttinhTiLeMiemGiamInGrid(data: DanhSachChiPhiKhamChuaBenh) {\n\t\tlet sumSoTienBenhNhanTra = data.ThanhTien - data.BHYTThanhToan - data.TongCongNo;\n\t\tif (sumSoTienBenhNhanTra == 0 || isNaN(data.SoTienMG)) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn Math.round((data.SoTienMG / sumSoTienBenhNhanTra) * 100);\n\t}\n\n\thoanThu(dataItem: any) {\n\t\tif (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n\t\t\tthis.dialog\n\t\t\t\t.open(ConfirmComponent, {\n\t\t\t\t\tdisableClose: false,\n\t\t\t\t\twidth: \"400px\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tTitle: \"Xác nhận\",\n\t\t\t\t\t\tMessage: `<b class='text-hoan-thu'>Hoàn thu để trả lại tiền người bệnh. Nếu đã hoàn thu không hủy được phiếu thu.</b>`\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.afterClosed()\n\t\t\t\t.subscribe(result => {\n\t\t\t\t\tif (result === \"Yes\") {\n\t\t\t\t\t\tthis.apiService.post<any>(\"ThuNgan/HoanThuTheoDichVu\", dataItem).subscribe(\n\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\tthis.loadingThanhCong.emit(true);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t(err: ApiError) => {\n\t\t\t\t\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : (this.validationErrors = err.ValidationErrors);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} else {\n\t\t\tthis.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n\t\t}\n\t}\n}\n","export default \".menu-form-wrapper .mat-menu-content {\\n  padding: 8px;\\n}\\n\\n.color-red {\\n  color: red;\\n}\\n\\n.padding-thu-tien {\\n  padding: 5px 16px 28px 13px !important;\\n}\\n\\n.po-right {\\n  text-align: right;\\n  flex-grow: 1;\\n}\\n\\n.color-green {\\n  color: green;\\n}\\n\\n.padding-left80px {\\n  padding-left: 80px !important;\\n}\\n\\n.d-unset {\\n  display: unset !important;\\n}\\n\\nkendo-splitter {\\n  border-width: 0px !important;\\n  margin-bottom: 10px;\\n}\\n\\nkendo-splitter ul > li.right-0 {\\n  margin-right: 0px;\\n  padding-right: 15px;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset legend {\\n  margin-left: 15px;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item .inline_b {\\n  display: inline-block !important;\\n  margin-right: 10px;\\n  padding-right: 15px;\\n}\\n\\nkendo-panelbar-item .panelbar-row {\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\\n}\\n\\nkendo-panelbar-item .panelbar-row:hover {\\n  background: rgba(227, 242, 253, 0.5);\\n}\\n\\nkendo-panelbar-item .panelbar-group-b {\\n  border-top: 1px rgba(0, 0, 0, 0.08) outset;\\n}\\n\\n.sticky-list {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n}\\n\\n.sticky-tab {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n  background: #f5f7fa;\\n  overflow-x: auto;\\n  margin-left: 5px;\\n  margin-right: 5px;\\n}\\n\\n.sticky-tab ul {\\n  margin: 0;\\n  padding-top: 10px;\\n  padding-bottom: 0;\\n  border-bottom: 1px solid #ccc;\\n}\\n\\n.sticky-tab ul li {\\n  display: inline-block;\\n  list-style-type: none;\\n  margin-right: 25px;\\n  font-size: 15px;\\n  font-weight: bold;\\n  font-style: normal;\\n  font-stretch: normal;\\n  letter-spacing: normal;\\n  color: #2e384d;\\n  cursor: pointer;\\n  transition: all 300ms linear;\\n  border-bottom: 3px solid #f5f7fa;\\n}\\n\\n.sticky-tab ul li.active {\\n  font-size: 15px;\\n  font-weight: bold;\\n  color: #005dab;\\n  border-bottom: 4px solid #005dab;\\n}\\n\\n.sticky-tab ul li:hover {\\n  border-bottom: 3px solid #005dab;\\n}\\n\\n.sticky-tab ul li.resolved {\\n  color: #005dab;\\n}\\n\\n.sticky-tab ul li.processing {\\n  color: #ff9800;\\n}\\n\\n.sticky-tab ul li.unfulfilled {\\n  color: #9e9e9e;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail {\\n  bottom: 0 !important;\\n  height: 5px !important;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail .ps-scrollbar-x {\\n  height: 5px !important;\\n}\\n\\nlegend {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\n.sticky-panelbar {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  top: 64px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL3Rob25nLXRpbi1jaGktdGlldC1kYS10aHUvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aHUtY2hpXFx0aHUtY2hpLXZpZW4tcGhpXFxuZ29haS10cnVcXGNoby10aHUtdGllblxcdGhvbmctdGluLWNoaS10aWV0LWRhLXRodVxcdGhvbmctdGluLWNoaS10aWV0LWRhLXRodS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL3Rob25nLXRpbi1jaGktdGlldC1kYS10aHUvdGhvbmctdGluLWNoaS10aWV0LWRhLXRodS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLFVBQUE7QUNDRjs7QURFQTtFQUNFLHNDQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLDZCQUFBO0FDQ0Y7O0FERUE7RUFDRSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSw4QkFBQTtFQUNBLGtDQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQ0FBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsOEJBQUE7RUFDQSx1QkFBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLDRDQUFBO0FDQ0Y7O0FERUE7RUFDRSxvQ0FBQTtBQ0NGOztBREVBO0VBQ0UsMENBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7RUFDQSwyQkFBQTtFQUNBLG1DQUFBO0VBQ0EsYUFBQTtBQ0NGOztBREVBO0VBQ0UsU0FBQTtFQUNBLDJCQUFBO0VBQ0EsbUNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsNkJBQUE7QUNDRjs7QURFQTtFQUNFLHFCQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7RUFDQSxzQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0VBS0EsNEJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0Usb0JBQUE7RUFDQSxzQkFBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EseUJBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0VBQ0Esd0JBQUE7RUFDQSxTQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGh1LWNoaS90aHUtY2hpLXZpZW4tcGhpL25nb2FpLXRydS9jaG8tdGh1LXRpZW4vdGhvbmctdGluLWNoaS10aWV0LWRhLXRodS90aG9uZy10aW4tY2hpLXRpZXQtZGEtdGh1LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1lbnUtZm9ybS13cmFwcGVyIC5tYXQtbWVudS1jb250ZW50IHtcbiAgcGFkZGluZzogOHB4O1xufVxuXG4uY29sb3ItcmVkIHtcbiAgY29sb3I6IHJlZDtcbn1cblxuLnBhZGRpbmctdGh1LXRpZW4ge1xuICBwYWRkaW5nOiA1cHggMTZweCAyOHB4IDEzcHggIWltcG9ydGFudDtcbn1cblxuLnBvLXJpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZsZXgtZ3JvdzogMTtcbn1cblxuLmNvbG9yLWdyZWVuIHtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG4ucGFkZGluZy1sZWZ0ODBweCB7XG4gIHBhZGRpbmctbGVmdDogODBweCAhaW1wb3J0YW50O1xufVxuXG4uZC11bnNldCB7XG4gIGRpc3BsYXk6IHVuc2V0ICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXNwbGl0dGVyIHtcbiAgYm9yZGVyLXdpZHRoOiAwcHggIWltcG9ydGFudDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxua2VuZG8tc3BsaXR0ZXIgdWwgPiBsaS5yaWdodC0wIHtcbiAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG59XG5cbmZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctbGVmdDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IGxlZ2VuZCB7XG4gIG1hcmdpbi1sZWZ0OiAxNXB4O1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSB1bC5pbmxpbmUgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5pbmxpbmVfYiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLXJvdyB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5wYW5lbGJhci1yb3c6aG92ZXIge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDIyNywgMjQyLCAyNTMsIDAuNSk7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLWdyb3VwLWIge1xuICBib3JkZXItdG9wOiAxcHggcmdiYSgwLCAwLCAwLCAwLjA4KSBvdXRzZXQ7XG59XG5cbi5zdGlja3ktbGlzdCB7XG4gIHRvcDogNjRweDtcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3kgIWltcG9ydGFudDtcbiAgei1pbmRleDogOTk5OTtcbn1cblxuLnN0aWNreS10YWIge1xuICB0b3A6IDY0cHg7XG4gIHBvc2l0aW9uOiBzdGlja3kgIWltcG9ydGFudDtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHotaW5kZXg6IDk5OTk7XG4gIGJhY2tncm91bmQ6ICNmNWY3ZmE7XG4gIG92ZXJmbG93LXg6IGF1dG87XG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuXG4uc3RpY2t5LXRhYiB1bCB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZy10b3A6IDEwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAwO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcbn1cblxuLnN0aWNreS10YWIgdWwgbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgbWFyZ2luLXJpZ2h0OiAyNXB4O1xuICBmb250LXNpemU6IDE1cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXN0eWxlOiBub3JtYWw7XG4gIGZvbnQtc3RyZXRjaDogbm9ybWFsO1xuICBsZXR0ZXItc3BhY2luZzogbm9ybWFsO1xuICBjb2xvcjogIzJlMzg0ZDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIC1tb3otdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW8tdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1zLXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIHRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjZjVmN2ZhO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS5hY3RpdmUge1xuICBmb250LXNpemU6IDE1cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogIzAwNWRhYjtcbiAgYm9yZGVyLWJvdHRvbTogNHB4IHNvbGlkICMwMDVkYWI7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpOmhvdmVyIHtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICMwMDVkYWI7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLnJlc29sdmVkIHtcbiAgY29sb3I6ICMwMDVkYWI7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLnByb2Nlc3Npbmcge1xuICBjb2xvcjogI2ZmOTgwMDtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkudW5mdWxmaWxsZWQge1xuICBjb2xvcjogIzllOWU5ZTtcbn1cblxuLnN0aWNreS10YWIgLnBzLXNjcm9sbGJhci14LXJhaWwge1xuICBib3R0b206IDAgIWltcG9ydGFudDtcbiAgaGVpZ2h0OiA1cHggIWltcG9ydGFudDtcbn1cblxuLnN0aWNreS10YWIgLnBzLXNjcm9sbGJhci14LXJhaWwgLnBzLXNjcm9sbGJhci14IHtcbiAgaGVpZ2h0OiA1cHggIWltcG9ydGFudDtcbn1cblxubGVnZW5kIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbi5zdGlja3ktcGFuZWxiYXIge1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3k7XG4gIHRvcDogNjRweDtcbn0iLCIubWVudS1mb3JtLXdyYXBwZXIgLm1hdC1tZW51LWNvbnRlbnQge1xuICBwYWRkaW5nOiA4cHg7XG59XG5cbi5jb2xvci1yZWQge1xuICBjb2xvcjogcmVkO1xufVxuXG4ucGFkZGluZy10aHUtdGllbiB7XG4gIHBhZGRpbmc6IDVweCAxNnB4IDI4cHggMTNweCAhaW1wb3J0YW50O1xufVxuXG4ucG8tcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZmxleC1ncm93OiAxO1xufVxuXG4uY29sb3ItZ3JlZW4ge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5wYWRkaW5nLWxlZnQ4MHB4IHtcbiAgcGFkZGluZy1sZWZ0OiA4MHB4ICFpbXBvcnRhbnQ7XG59XG5cbi5kLXVuc2V0IHtcbiAgZGlzcGxheTogdW5zZXQgIWltcG9ydGFudDtcbn1cblxua2VuZG8tc3BsaXR0ZXIge1xuICBib3JkZXItd2lkdGg6IDBweCAhaW1wb3J0YW50O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG5rZW5kby1zcGxpdHRlciB1bCA+IGxpLnJpZ2h0LTAge1xuICBtYXJnaW4tcmlnaHQ6IDBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgbGVnZW5kIHtcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIHVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLmlubGluZV9iIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93IHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMik7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLXJvdzpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjI3LCAyNDIsIDI1MywgMC41KTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItZ3JvdXAtYiB7XG4gIGJvcmRlci10b3A6IDFweCByZ2JhKDAsIDAsIDAsIDAuMDgpIG91dHNldDtcbn1cblxuLnN0aWNreS1saXN0IHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiA5OTk5O1xufVxuXG4uc3RpY2t5LXRhYiB7XG4gIHRvcDogNjRweDtcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3kgIWltcG9ydGFudDtcbiAgei1pbmRleDogOTk5OTtcbiAgYmFja2dyb3VuZDogI2Y1ZjdmYTtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5zdGlja3ktdGFiIHVsIHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDA7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBtYXJnaW4tcmlnaHQ6IDI1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC1zdHJldGNoOiBub3JtYWw7XG4gIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gIGNvbG9yOiAjMmUzODRkO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtby10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtbXMtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICNmNWY3ZmE7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLmFjdGl2ZSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBib3JkZXItYm90dG9tOiA0cHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGk6aG92ZXIge1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucmVzb2x2ZWQge1xuICBjb2xvcjogIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucHJvY2Vzc2luZyB7XG4gIGNvbG9yOiAjZmY5ODAwO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS51bmZ1bGZpbGxlZCB7XG4gIGNvbG9yOiAjOWU5ZTllO1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCB7XG4gIGJvdHRvbTogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCAucHMtc2Nyb2xsYmFyLXgge1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG5sZWdlbmQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLnN0aWNreS1wYW5lbGJhciB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgdG9wOiA2NHB4O1xufSJdfQ== */\"","import {Component, OnInit, ViewChild, TemplateRef, ChangeDetectorRef, ViewRef, HostListener} from \"@angular/core\";\nimport {ThongTinBenhNhan, ThuTien, DanhSachCongNo, ThongTinCongTyBaoHiemTuNhans, ThongTinMienGiamTheoDoiTuongUuDai, ThongTinMienGiamVoucher, ThongTinMienGiamThem, ThongTinMienGiamVo, LookupItemVo, TaiLieuDinhKemGiayMiemGiamVo, ThongTinVoucherTheoYeuCauTiepNhan, CommonThuTien, TrangThaiThuTien} from \"../cho-thu-tien.model\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {BaseService} from \"src/app/core/services/base.service\";\nimport {DsChuaThuTienComponent} from \"../ds-chua-thu-tien/ds-chua-thu-tien.component\";\nimport {MatDialog} from \"@angular/material/dialog\";\nimport {GridComponent} from \"src/app/shared/component/grid/grid.component\";\nimport {ApiService} from \"src/app/core/services/api.service\";\nimport icCheck from \"@iconify/icons-ic/twotone-check\";\nimport {HttpParams} from \"@angular/common/http\";\nimport {NotificationService} from \"src/app/core/services/notification.service\";\nimport {ChiTietThuTienTamUngComponent} from \"../chi-tiet-thu-tien-tam-ung/chi-tiet-thu-tien-tam-ung.component\";\nimport {MultiselectComponent} from \"src/app/shared/component/dropdowns/multiselect/multiselect.component\";\nimport {TabStripComponent} from \"@progress/kendo-angular-layout\";\nimport {ViewImagePdfComponent} from \"src/app/shared/component/dialogs/view-image-pdf/view-image-pdf.component\";\nimport icSearch from \"@iconify/icons-ic/twotone-search\";\nimport {LoadingComponent} from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport {TrangThaiDaThuTien} from \"../../../noi-tru/cho-thu-tien/cho-thu-tien.model\";\n\n@Component({\n\tselector: \"app-thong-tin-chi-tiet-da-thu\",\n\ttemplateUrl: \"./thong-tin-chi-tiet-da-thu.component.html\",\n\tstyleUrls: [\"./thong-tin-chi-tiet-da-thu.component.scss\"],\n})\nexport class ThongTinChiTietDaThuComponent implements OnInit {\n\ttrangThanhToan = new TrangThaiDaThuTien();\n\tpublic thongTinBenhNhan: ThongTinBenhNhan;\n\tpublic thongTinBenhNhantam: any = [];\n\tpublic commonThuTien = new CommonThuTien();\n\tpublic trangThaiThanhToan = new TrangThaiThuTien();\n\tpublic apDungMiemGiam: boolean = false;\n\tpublic thongTinMienGiamVo: ThongTinMienGiamVo;\n\tpublic thongTinVoucherTheoYeuCauTiepNhan: ThongTinVoucherTheoYeuCauTiepNhan;\n\tpublic thongTinMienGiamTheoDoiTuongUuDai = {} as ThongTinMienGiamTheoDoiTuongUuDai;\n\tpublic thongTinMienGiamVoucher = {} as ThongTinMienGiamVoucher;\n\tpublic thongTinMienGiamThem = {} as ThongTinMienGiamThem;\n\tpublic kiemTraThongTinBaoHiemTN: boolean = false;\n\tpublic refreshFlagApDung: boolean = false;\n\tpublic showCanhBaoSoTienNhap: boolean = false;\n\tpublic loaiVoucher: number = 0;\n\tpublic listOldVouchers = [];\n\tpublic checkedMGTGiaTri: boolean = true;\n\tpublic checkedMGTTiLe: boolean = false;\n\tpublic checkHiddenSoTienConLai: boolean = false;\n\tpublic selectMoneyTienBNDua: any[] = null;\n\tpublic selectMoneyTienMat: any[] = null;\n\tpublic selectMoneyTienChuyenKhoan: any[] = null;\n\tpublic selectMoneyTienPos: any[] = null;\n\tpublic radioThuTien: boolean = true;\n\tpublic radioThuTamUng: boolean = false;\n\tpublic radioTraLaiBN: boolean = false;\n\tpublic radioTraNo: boolean = false;\n\tpublic voucherLookupItemVo: Array<LookupItemVo>;\n\tpublic idYeuCauTiepNhan: number = 0;\n\tpublic loaiThanhToan: number = 0;\n\tpublic typeThanhToan: number = 0;\n\tktSuDungGoi: number;\n\n\tpublic setDefeautTienMat: any = [this.commonThuTien.TienMat];\n\tpublic hinhThucThanhToan: any = [\n\t\t{KeyId: this.commonThuTien.TienMat, DisplayName: this.commonThuTien.TienMatText, Selected: false, Change: false},\n\t\t{KeyId: this.commonThuTien.ChuyenKhoan, DisplayName: this.commonThuTien.ChuyenKhoanText, Selected: false, Change: false},\n\t\t{KeyId: this.commonThuTien.Pos, DisplayName: this.commonThuTien.PosText, Selected: false, Change: false},\n\t\t{KeyId: this.commonThuTien.CongNo, DisplayName: this.commonThuTien.CongNoText, Selected: false, Change: false},\n\t];\n\n\tallowedExtensions: string[] = [\".jpg\", \".jpeg\", \".png\", \".JPG\", \".JPEG\", \".PNG\", \".pdf\", \".PDF\"];\n\ticSearch = icSearch;\n\ttabIndex: number = 0;\n\tselectedValueThuPhi: string = this.commonThuTien.ThuTien;\n\tdanhsachBHTN: any = [];\n\ticCheck = icCheck;\n\tvalidationErrors: any[] = [];\n\tdocumentType: DocumentType;\n\tsoLuongDichVuChuaDuocBHYTXN: number = 0;\n\thostingName: string;\n\ttaiKhoanThuId: any;\n\tdataSourceChanged: boolean = false;\n\tdataSourceChangedTamUng: boolean = false;\n\tdataSourceChangedHuyThanhToan: boolean = false;\n\tdataSourceChangedThuNo: boolean = false;\n\tdanhSachCongNos: DanhSachCongNo[] = [];\n\tsoDuTaiKhoanBenhNhan: number = 0;\n\tsoTienConLaiBenhNhan: number = 0;\n\tapDungCongNo: boolean = false;\n\tapCapNhatThanhToan: boolean = false;\n\tposition: number = 0;\n\tflagShowThongTinMienGiam: boolean = false;\n\tflagShowDoiTuongUuDai: boolean = false;\n\tflagEnableVoucher: boolean = false;\n\tflagEnableMGThem: boolean = false;\n\tdisabledMGThem: boolean = false;\n\tdisabledVoucher: boolean = false;\n\tdisabledTiLeMG: boolean = true;\n\tdisabledSoTienMG: boolean = false;\n\tflagCheckSeletedTienMat: boolean = false;\n\tflagCheckSeletedChuyenKhoan: boolean = false;\n\tflagCheckSeletedPos: boolean = false;\n\tflagCheckSeletedCongNo: boolean = false;\n\tcheckSeletedTienMat: boolean = false;\n\tcheckSeletedChuyenKhoan: boolean = false;\n\tcheckSeletedPos: boolean = false;\n\tcheckSeletedCongNo: boolean = false;\n\tarrayThanhToans: any[] = [];\n\tarrayThanhToanstmp: any[] = [];\n\tisExistFile: boolean = false;\n\tflagApDung: boolean = false;\n\tflagShowDoiTuongUuDaiOrVoucher: boolean = false;\n\tconfrim: any = null;\n\tstandardMG: number = 0;\n\tlistVouchers: number[] = [];\n\tlistTmpVouchers: number[] = [];\n\tthuNganValidationErrors: any;\n\tthuTien: ThuTien;\n\ttongTienBNThanhToan: number = 0;\n\tdanhSachChuaThanhToans = {\n\t\tdata: [],\n\t\tSoTienBenhNhan: 0,\n\t\tHoTen: \"\",\n\t\tSoLuongBYHTChuaXN: 0,\n\t};\n\n\tpublic listVoucherItem: Array<string> = [];\n\tnewBarcode: string = \"\";\n\tpublic value: any = [];\n\tmodelQRCode: any;\n\n\tconstructor(private route: ActivatedRoute, private dialog: MatDialog, private apiService: ApiService, private router: Router, private cdRef: ChangeDetectorRef, private notificationService: NotificationService, private baseService: BaseService) {\n\t\tthis.baseService.controllerName = \"ThuNgan\";\n\t}\n\n\t@ViewChild(GridComponent, {static: false}) gridChild: GridComponent;\n\t@ViewChild(\"voucherList\", {static: false}) voucherList: MultiselectComponent;\n\t@ViewChild(DsChuaThuTienComponent, {static: false}) dsChuaThuTienComponent: DsChuaThuTienComponent;\n\t@ViewChild(ChiTietThuTienTamUngComponent, {static: false}) ChiTietThuTienTamUngComponent: ChiTietThuTienTamUngComponent;\n\t@ViewChild(\"actionTemplateSTCongNo\", {static: true}) actionTemplateSTCongNo: TemplateRef<any>;\n\t@ViewChild(\"actionTemplateSubmitCongNo\", {static: true}) actionTemplateSubmitCongNo: TemplateRef<any>;\n\t@ViewChild(\"tabDanhSachThuTien\", {static: false}) tabDanhSachThuTien: TabStripComponent;\n\t@ViewChild(\"multiselect\", {static: false}) public multiselect: any;\n\n\tgridBaoHiemTNs: any[] = [];\n\tdataSourceDanhSachBHTN = {\n\t\tdata: [],\n\t\ttotal: 0,\n\t};\n\tdataSourceDanhSachCongNo: any = {\n\t\tdata: [],\n\t\ttotal: 0,\n\t};\n\n\tpublic dataCongNo = this.dataSourceDanhSachBHTN.data;\n\tpublic taiLieuDinhKemGiayMiemGiamVo = new TaiLieuDinhKemGiayMiemGiamVo();\n\n\tngOnInit() {\n\t\tif (window.location.protocol == this.commonThuTien.Http) {\n\t\t\tthis.hostingName = this.commonThuTien.Http + \"//\" + window.location.host;\n\t\t} else {\n\t\t\tthis.hostingName = this.commonThuTien.Http + \"//\" + window.location.host;\n\t\t}\n\t\tthis.idYeuCauTiepNhan = this.route.snapshot.params.id;\n\t\tthis.thongTinBenhNhan = {} as ThongTinBenhNhan;\n\t\tthis.tongTienBNThanhToan = 0;\n\t\tthis.selectedValueThuPhi;\n\t\tif (this.route.snapshot.queryParams.loaiThanhToan !== undefined && this.route.snapshot.queryParams.loaiThanhToan !== null) {\n\t\t\tthis.loaiThanhToan = parseInt(this.route.snapshot.queryParams.loaiThanhToan);\n\t\t}\n\t\tif (this.idYeuCauTiepNhan !== undefined && this.idYeuCauTiepNhan !== null) {\n\t\t\tthis.getThongTinYeuCauBenhNhan(this.idYeuCauTiepNhan);\n\t\t\tthis.GetThongTheVoucher();\n\t\t\tthis.kiemTraSuDungGoi();\n\t\t}\n\t\t\n\t\t//Thông tin bảo hiểm tư nhân\n\t\tthis.dataSourceDanhSachBHTN.data = this.thongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans;\n\t\tthis.thongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans;\n\t\tthis.gridBaoHiemTNs = [\n\t\t\t{Field: \"TenCongTy\", Title: \"Công ty\", Width: 200, Sortable: false},\n\t\t\t// {Field: \"MaSoThe\", Title: \"Số thẻ\", Width: 50, Sortable: true, ShowTooltip: true},\n\t\t\t// {Field: \"TuNgayStr\", Title: \"Từ ngày\", Width: 50, Sortable: true, ShowTooltip: true},\n\t\t\t// {Field: \"DenNgayStr\", Title: \"Đến ngày\", Width: 50, Sortable: true, ShowTooltip: true},\n\t\t\t// {Field: \"SoDienThoai\", Title: \"Số điện thoại\", Width: 50, Sortable: true, ShowTooltip: true},\n\t\t\t// {Field: \"DiaChi\", Title: \"Địa chỉ\", Width: 50, Sortable: true, ShowTooltip: true},\n\t\t\t{Field: \"CongNo\", Title: \"CÔNG NỢ\", Width: 150, Sortable: true, Template: this.actionTemplateSTCongNo},\n\t\t];\n\t}\n\n\tBackToList() {\n\t\tlet yctn = this.route.snapshot.queryParams.yctn;\n\t\tif (yctn) {\n\t\t\tthis.router.navigateByUrl(\"/them-yeu-cau-tiep-nhan\");\n\t\t} else {\n\t\t\tthis.router.navigate([\"/danh-sach-thu-tien-noi-tru\"], {\n\t\t\t\tqueryParamsHandling: \"preserve\",\n\t\t\t});\n\t\t}\n\t}\n\n\tloadingCtThanhCong(loading: any) {\n\t\tif (loading) {\n\t\t\tthis.dialog.closeAll();\n\t\t}\n\t}\n\n\tgetThongTinYeuCauBenhNhan(id) {\n\t\tthis.dialog.open(LoadingComponent, {\n\t\t\tdisableClose: true,\n\t\t\twidth: \"200px\",\n\t\t\theight: \"90px\",\n\t\t\tdata: {},\n\t\t});\n\t\tthis.baseService.getById<any>(id).subscribe(resultData => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.thongTinBenhNhan = resultData;\n\t\t\t\tthis.getSoDuTaiKhoanBenhNhan(this.idYeuCauTiepNhan);\n\t\t\t\tif (resultData.ThongTinCongTyBaoHiemTuNhans.length > 0) {\n\t\t\t\t\tthis.dataSourceDanhSachBHTN.data = resultData.ThongTinCongTyBaoHiemTuNhans;\n\n\t\t\t\t\tthis.kiemTraThongTinBaoHiemTN = true;\n\t\t\t\t\tthis.apDungCongNo = true;\n\n\t\t\t\t\t//thêm biến tạm cho model công nợ\n\t\t\t\t\tthis.thongTinBenhNhan.ThongTinCongTyBaoHiemTuNhans.forEach(element => {\n\t\t\t\t\t\tvar congNoItem = new ThongTinCongTyBaoHiemTuNhans();\n\t\t\t\t\t\tcongNoItem.Id = element.Id;\n\t\t\t\t\t\tcongNoItem.SoTienCongNo = element.SoTienCongNo;\n\t\t\t\t\t\tcongNoItem.TenCongTy = element.TenCongTy;\n\t\t\t\t\t\tthis.thongTinBenhNhantam.push(congNoItem);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.apDungMiemGiam = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tkiemTraSuDungGoi() {\n\t\tthis.apiService.get<any>(\"ThuNgan/KiemTraSuDungGoi/\" + this.idYeuCauTiepNhan).subscribe((resultData) => {\n\t\t\tif (resultData) {\n\t\t\t\tthis.ktSuDungGoi = resultData;\n\t\t\t}\n\t\t});\n\t}\n\n\tchiTietGoiMarketing() {\n\t\tif (this.ktSuDungGoi != undefined && this.ktSuDungGoi != null) {\n\t\t\tthis.router.navigateByUrl(\"/danh-sach-thu-goi-marketing/chi-tiet-cho-quyet-toan-marketing/\" + this.ktSuDungGoi);\n\t\t}\n\t}\n\n\thuyThanhCong(daHuy: boolean) {\n\t\tif (daHuy) {\n\t\t\tthis.apCapNhatThanhToan = true;\n\t\t\tthis.apDungCongNo = true;\n\t\t\tthis.getSoDuTaiKhoanBenhNhan(this.idYeuCauTiepNhan);\n\t\t\tthis.dataSourceChangedHuyThanhToan = true;\n\t\t\tthis.router.navigateByUrl(\"/danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/\" + this.idYeuCauTiepNhan + \"?loaiThanhToan=1\");\n\t\t}\n\t}\n\n\tpublic totalTienCongNo(field: any) {\n\t\tswitch (field) {\n\t\t\tcase \"SoTienCongNo\":\n\t\t\t\t//  this.setLastItem(4);\n\t\t\t\treturn this.dataSourceDanhSachBHTN.data.reduce((sum, item) => sum + item.SoTienCongNo, 0);\n\t\t}\n\t}\n\n\tgetSoDuTaiKhoanBenhNhan(id: number) {\n\t\tthis.apiService.get<number>(\"ThuNgan/SoDuTaiKhoanBenhNhan/\" + id).subscribe(resultData => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.soDuTaiKhoanBenhNhan = resultData;\n\t\t\t}\n\t\t});\n\n\t\tthis.apiService.get<number>(\"ThuNgan/SoTienUocLuongConLai/\" + id).subscribe(resultData => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.soTienConLaiBenhNhan = resultData;\n\t\t\t}\n\t\t});\n\t}\n\n\tuploadFileDone(tapTin: any) {\n\t\tthis.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam = tapTin;\n\t\tif (!(this.cdRef as ViewRef).destroyed) {\n\t\t\tthis.cdRef.detectChanges();\n\t\t}\n\t\tif (tapTin != null) {\n\t\t\tthis.thuNganValidationErrors = [];\n\t\t}\n\t\tif (this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam != null) {\n\t\t\tvar thongTinMGThem = {\n\t\t\t\tIdYeuCauTiepNhan: this.idYeuCauTiepNhan,\n\t\t\t\tTaiLieuDinhKem: this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam,\n\t\t\t};\n\t\t\tthis.apiService.post<any>(\"ThuNgan/ThemThongTinMiemGiamThemVaVoucher\", thongTinMGThem).subscribe(\n\t\t\t\tresultData => {\n\t\t\t\t\tif (resultData) {\n\t\t\t\t\t\tthis.cdRef.detectChanges();\n\t\t\t\t\t}\n\t\t\t\t\tthis.notificationService.showSuccess(this.commonThuTien.ApDungGiayMiemGiamThanhCong);\n\t\t\t\t},\n\t\t\t\t() => {}\n\t\t\t);\n\t\t}\n\t}\n\n\tonKey(event: any) {\n\t\tif (event.keyCode === 13) {\n\t\t}\n\t}\n\n\tonKeyTienMatonKeyTienMat() {\n\t\tthis.thuTien.TienTraLaiBenhNhan = 0;\n\t\tthis.thuTien.TienBenhNhanDua = 0;\n\t}\n\n\tGetThongTheVoucher() {\n\t\tthis.value = [];\n\t\tthis.apiService.get<any>(\"ThuNgan/GetMaVoucher?yeucauTiepNhanId=\" + this.idYeuCauTiepNhan).subscribe(resultData => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tresultData.forEach(element => {\n\t\t\t\t\tthis.value.push(element.DisplayName);\n\t\t\t\t\tthis.listVoucherItem.push(element.DisplayName);\n\t\t\t\t\tthis.newBarcode = \"\";\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tngAfterViewChecked() {\n\t\tthis.cdRef.detectChanges();\n\t}\n\n\tasync xemTaiLieu(dataItem) {\n\t\tconst params = new HttpParams({\n\t\t\tfromObject: {\n\t\t\t\ttenGuid: dataItem.TenGuid,\n\t\t\t\tduongDan: dataItem.DuongDan,\n\t\t\t},\n\t\t});\n\t\tthis.apiService.get<any>(\"TaiLieuDinhKem/GetTaiLieuUrl\", params).subscribe(resp => {\n\t\t\tif (resp) {\n\t\t\t\tif (dataItem.TenGuid.indexOf(\".pdf\") != -1 || dataItem.TenGuid.indexOf(\".PDF\") != -1) {\n\t\t\t\t\tthis.dialog.open(ViewImagePdfComponent, {\n\t\t\t\t\t\tdisableClose: false,\n\t\t\t\t\t\twidth: \"1000px\",\n\t\t\t\t\t\theight: \"600px\",\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tType: \"PDF\",\n\t\t\t\t\t\t\tTitle: \"Xem tài liệu\",\n\t\t\t\t\t\t\tDescription: resp.MoTa !== null ? resp.MoTa : \"\",\n\t\t\t\t\t\t\tSrc: resp,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.dialog.open(ViewImagePdfComponent, {\n\t\t\t\t\t\tdisableClose: false,\n\t\t\t\t\t\twidth: \"1000px\",\n\t\t\t\t\t\theight: \"600px\",\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tType: \"Image\",\n\t\t\t\t\t\t\tTitle: \"Xem ảnh\",\n\t\t\t\t\t\t\tDescription: resp.MoTa !== null ? resp.MoTa : \"\",\n\t\t\t\t\t\t\tSrc: resp,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t@HostListener(\"document:keydown\", [\"$event\"])\n\tkeyEvent(event: KeyboardEvent) {\n\t\tif (event.keyCode == 27 && !event.ctrlKey) {\n\t\t\tthis.BackToList();\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n}\n","export default \".menu-form-wrapper .mat-menu-content {\\n  padding: 8px;\\n}\\n\\n.color-red {\\n  color: red;\\n}\\n\\n.padding-thu-tien {\\n  padding: 5px 16px 28px 13px !important;\\n}\\n\\n.po-right {\\n  text-align: right;\\n  flex-grow: 1;\\n}\\n\\n.color-green {\\n  color: green;\\n}\\n\\n.padding-left80px {\\n  padding-left: 80px !important;\\n}\\n\\n.d-unset {\\n  display: unset !important;\\n}\\n\\nkendo-splitter {\\n  border-width: 0px !important;\\n  margin-bottom: 10px;\\n}\\n\\nkendo-splitter ul > li.right-0 {\\n  margin-right: 0px;\\n  padding-right: 15px;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset legend {\\n  margin-left: 15px;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item .inline_b {\\n  display: inline-block !important;\\n  margin-right: 10px;\\n  padding-right: 15px;\\n}\\n\\nkendo-panelbar-item .panelbar-row {\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\\n}\\n\\nkendo-panelbar-item .panelbar-row:hover {\\n  background: rgba(227, 242, 253, 0.5);\\n}\\n\\nkendo-panelbar-item .panelbar-group-b {\\n  border-top: 1px rgba(0, 0, 0, 0.08) outset;\\n}\\n\\n.sticky-list {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n}\\n\\n.sticky-tab {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n  background: #f5f7fa;\\n  overflow-x: auto;\\n  margin-left: 5px;\\n  margin-right: 5px;\\n}\\n\\n.sticky-tab ul {\\n  margin: 0;\\n  padding-top: 10px;\\n  padding-bottom: 0;\\n  border-bottom: 1px solid #ccc;\\n}\\n\\n.sticky-tab ul li {\\n  display: inline-block;\\n  list-style-type: none;\\n  margin-right: 25px;\\n  font-size: 15px;\\n  font-weight: bold;\\n  font-style: normal;\\n  font-stretch: normal;\\n  letter-spacing: normal;\\n  color: #2e384d;\\n  cursor: pointer;\\n  transition: all 300ms linear;\\n  border-bottom: 3px solid #f5f7fa;\\n}\\n\\n.sticky-tab ul li.active {\\n  font-size: 15px;\\n  font-weight: bold;\\n  color: #005dab;\\n  border-bottom: 4px solid #005dab;\\n}\\n\\n.sticky-tab ul li:hover {\\n  border-bottom: 3px solid #005dab;\\n}\\n\\n.sticky-tab ul li.resolved {\\n  color: #005dab;\\n}\\n\\n.sticky-tab ul li.processing {\\n  color: #ff9800;\\n}\\n\\n.sticky-tab ul li.unfulfilled {\\n  color: #9e9e9e;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail {\\n  bottom: 0 !important;\\n  height: 5px !important;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail .ps-scrollbar-x {\\n  height: 5px !important;\\n}\\n\\nlegend {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\n.sticky-panelbar {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  top: 64px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL3Rob25nLXRpbi1jaHVuZy1iZW5oLW5oYW4vQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aHUtY2hpXFx0aHUtY2hpLXZpZW4tcGhpXFxuZ29haS10cnVcXGNoby10aHUtdGllblxcdGhvbmctdGluLWNodW5nLWJlbmgtbmhhblxcdGhvbmctdGluLWNodW5nLWJlbmgtbmhhbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL3Rob25nLXRpbi1jaHVuZy1iZW5oLW5oYW4vdGhvbmctdGluLWNodW5nLWJlbmgtbmhhbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLFVBQUE7QUNDRjs7QURFQTtFQUNFLHNDQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLDZCQUFBO0FDQ0Y7O0FERUE7RUFDRSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSw4QkFBQTtFQUNBLGtDQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQ0FBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsOEJBQUE7RUFDQSx1QkFBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLDRDQUFBO0FDQ0Y7O0FERUE7RUFDRSxvQ0FBQTtBQ0NGOztBREVBO0VBQ0UsMENBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7RUFDQSwyQkFBQTtFQUNBLG1DQUFBO0VBQ0EsYUFBQTtBQ0NGOztBREVBO0VBQ0UsU0FBQTtFQUNBLDJCQUFBO0VBQ0EsbUNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsNkJBQUE7QUNDRjs7QURFQTtFQUNFLHFCQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7RUFDQSxzQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0VBS0EsNEJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0Usb0JBQUE7RUFDQSxzQkFBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EseUJBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0VBQ0Esd0JBQUE7RUFDQSxTQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGh1LWNoaS90aHUtY2hpLXZpZW4tcGhpL25nb2FpLXRydS9jaG8tdGh1LXRpZW4vdGhvbmctdGluLWNodW5nLWJlbmgtbmhhbi90aG9uZy10aW4tY2h1bmctYmVuaC1uaGFuLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1lbnUtZm9ybS13cmFwcGVyIC5tYXQtbWVudS1jb250ZW50IHtcbiAgcGFkZGluZzogOHB4O1xufVxuXG4uY29sb3ItcmVkIHtcbiAgY29sb3I6IHJlZDtcbn1cblxuLnBhZGRpbmctdGh1LXRpZW4ge1xuICBwYWRkaW5nOiA1cHggMTZweCAyOHB4IDEzcHggIWltcG9ydGFudDtcbn1cblxuLnBvLXJpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZsZXgtZ3JvdzogMTtcbn1cblxuLmNvbG9yLWdyZWVuIHtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG4ucGFkZGluZy1sZWZ0ODBweCB7XG4gIHBhZGRpbmctbGVmdDogODBweCAhaW1wb3J0YW50O1xufVxuXG4uZC11bnNldCB7XG4gIGRpc3BsYXk6IHVuc2V0ICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXNwbGl0dGVyIHtcbiAgYm9yZGVyLXdpZHRoOiAwcHggIWltcG9ydGFudDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxua2VuZG8tc3BsaXR0ZXIgdWwgPiBsaS5yaWdodC0wIHtcbiAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG59XG5cbmZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctbGVmdDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IGxlZ2VuZCB7XG4gIG1hcmdpbi1sZWZ0OiAxNXB4O1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSB1bC5pbmxpbmUgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5pbmxpbmVfYiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLXJvdyB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5wYW5lbGJhci1yb3c6aG92ZXIge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDIyNywgMjQyLCAyNTMsIDAuNSk7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLWdyb3VwLWIge1xuICBib3JkZXItdG9wOiAxcHggcmdiYSgwLCAwLCAwLCAwLjA4KSBvdXRzZXQ7XG59XG5cbi5zdGlja3ktbGlzdCB7XG4gIHRvcDogNjRweDtcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3kgIWltcG9ydGFudDtcbiAgei1pbmRleDogOTk5OTtcbn1cblxuLnN0aWNreS10YWIge1xuICB0b3A6IDY0cHg7XG4gIHBvc2l0aW9uOiBzdGlja3kgIWltcG9ydGFudDtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHotaW5kZXg6IDk5OTk7XG4gIGJhY2tncm91bmQ6ICNmNWY3ZmE7XG4gIG92ZXJmbG93LXg6IGF1dG87XG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuXG4uc3RpY2t5LXRhYiB1bCB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZy10b3A6IDEwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAwO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcbn1cblxuLnN0aWNreS10YWIgdWwgbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgbWFyZ2luLXJpZ2h0OiAyNXB4O1xuICBmb250LXNpemU6IDE1cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXN0eWxlOiBub3JtYWw7XG4gIGZvbnQtc3RyZXRjaDogbm9ybWFsO1xuICBsZXR0ZXItc3BhY2luZzogbm9ybWFsO1xuICBjb2xvcjogIzJlMzg0ZDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIC1tb3otdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW8tdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1zLXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIHRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjZjVmN2ZhO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS5hY3RpdmUge1xuICBmb250LXNpemU6IDE1cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogIzAwNWRhYjtcbiAgYm9yZGVyLWJvdHRvbTogNHB4IHNvbGlkICMwMDVkYWI7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpOmhvdmVyIHtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICMwMDVkYWI7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLnJlc29sdmVkIHtcbiAgY29sb3I6ICMwMDVkYWI7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLnByb2Nlc3Npbmcge1xuICBjb2xvcjogI2ZmOTgwMDtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkudW5mdWxmaWxsZWQge1xuICBjb2xvcjogIzllOWU5ZTtcbn1cblxuLnN0aWNreS10YWIgLnBzLXNjcm9sbGJhci14LXJhaWwge1xuICBib3R0b206IDAgIWltcG9ydGFudDtcbiAgaGVpZ2h0OiA1cHggIWltcG9ydGFudDtcbn1cblxuLnN0aWNreS10YWIgLnBzLXNjcm9sbGJhci14LXJhaWwgLnBzLXNjcm9sbGJhci14IHtcbiAgaGVpZ2h0OiA1cHggIWltcG9ydGFudDtcbn1cblxubGVnZW5kIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbi5zdGlja3ktcGFuZWxiYXIge1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3k7XG4gIHRvcDogNjRweDtcbn0iLCIubWVudS1mb3JtLXdyYXBwZXIgLm1hdC1tZW51LWNvbnRlbnQge1xuICBwYWRkaW5nOiA4cHg7XG59XG5cbi5jb2xvci1yZWQge1xuICBjb2xvcjogcmVkO1xufVxuXG4ucGFkZGluZy10aHUtdGllbiB7XG4gIHBhZGRpbmc6IDVweCAxNnB4IDI4cHggMTNweCAhaW1wb3J0YW50O1xufVxuXG4ucG8tcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZmxleC1ncm93OiAxO1xufVxuXG4uY29sb3ItZ3JlZW4ge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5wYWRkaW5nLWxlZnQ4MHB4IHtcbiAgcGFkZGluZy1sZWZ0OiA4MHB4ICFpbXBvcnRhbnQ7XG59XG5cbi5kLXVuc2V0IHtcbiAgZGlzcGxheTogdW5zZXQgIWltcG9ydGFudDtcbn1cblxua2VuZG8tc3BsaXR0ZXIge1xuICBib3JkZXItd2lkdGg6IDBweCAhaW1wb3J0YW50O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG5rZW5kby1zcGxpdHRlciB1bCA+IGxpLnJpZ2h0LTAge1xuICBtYXJnaW4tcmlnaHQ6IDBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgbGVnZW5kIHtcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIHVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLmlubGluZV9iIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93IHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMik7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLXJvdzpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjI3LCAyNDIsIDI1MywgMC41KTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItZ3JvdXAtYiB7XG4gIGJvcmRlci10b3A6IDFweCByZ2JhKDAsIDAsIDAsIDAuMDgpIG91dHNldDtcbn1cblxuLnN0aWNreS1saXN0IHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiA5OTk5O1xufVxuXG4uc3RpY2t5LXRhYiB7XG4gIHRvcDogNjRweDtcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3kgIWltcG9ydGFudDtcbiAgei1pbmRleDogOTk5OTtcbiAgYmFja2dyb3VuZDogI2Y1ZjdmYTtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5zdGlja3ktdGFiIHVsIHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDA7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBtYXJnaW4tcmlnaHQ6IDI1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC1zdHJldGNoOiBub3JtYWw7XG4gIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gIGNvbG9yOiAjMmUzODRkO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtby10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtbXMtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICNmNWY3ZmE7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLmFjdGl2ZSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBib3JkZXItYm90dG9tOiA0cHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGk6aG92ZXIge1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucmVzb2x2ZWQge1xuICBjb2xvcjogIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucHJvY2Vzc2luZyB7XG4gIGNvbG9yOiAjZmY5ODAwO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS51bmZ1bGZpbGxlZCB7XG4gIGNvbG9yOiAjOWU5ZTllO1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCB7XG4gIGJvdHRvbTogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCAucHMtc2Nyb2xsYmFyLXgge1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG5sZWdlbmQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLnN0aWNreS1wYW5lbGJhciB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgdG9wOiA2NHB4O1xufSJdfQ== */\"","import {Component, OnInit} from \"@angular/core\";\nimport {ThongTinBenhNhan} from \"../cho-thu-tien.model\";\nimport {ActivatedRoute} from \"@angular/router\";\nimport {BaseService} from \"src/app/core/services/base.service\";\nimport {HttpParams} from \"@angular/common/http\";\nimport {ApiService} from \"src/app/core/services/api.service\";\nimport {MatDialog} from \"@angular/material\";\nimport {ViewImagePdfComponent} from \"src/app/shared/component/dialogs/view-image-pdf/view-image-pdf.component\";\n\n@Component({\n\tselector: \"app-thong-tin-chung-benh-nhan\",\n\ttemplateUrl: \"./thong-tin-chung-benh-nhan.component.html\",\n\tstyleUrls: [\"./thong-tin-chung-benh-nhan.component.scss\"],\n})\nexport class ThongTinChungBenhNhanComponent implements OnInit {\n\tpublic thongTinBenhNhan: ThongTinBenhNhan;\n\tpublic idYeuCauTiepNhan: number = 0;\n\n\tconstructor(private route: ActivatedRoute, private baseService: BaseService, private apiService: ApiService, private dialog: MatDialog) {}\n\n\tngOnInit() {\n\t\tthis.thongTinBenhNhan = {} as ThongTinBenhNhan;\n\t\tthis.idYeuCauTiepNhan = this.route.snapshot.params.id;\n\t\tif (this.idYeuCauTiepNhan !== undefined && this.idYeuCauTiepNhan !== null) {\n\t\t\tthis.getThongTinYeuCauBenhNhan(this.idYeuCauTiepNhan);\n\t\t}\n\t}\n\n\tgetThongTinYeuCauBenhNhan(id) {\n\t\tthis.baseService.getById<any>(id).subscribe(resultData => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.thongTinBenhNhan = resultData;\n\t\t\t}\n\t\t});\n\t}\n\n\tasync xemTaiLieu(dataItem) {\n\t\tconst params = new HttpParams({\n\t\t\tfromObject: {\n\t\t\t\ttenGuid: dataItem.TenGuid,\n\t\t\t\tduongDan: dataItem.DuongDan,\n\t\t\t},\n\t\t});\n\t\tthis.apiService.get<any>(\"TaiLieuDinhKem/GetTaiLieuUrl\", params).subscribe(resp => {\n\t\t\tif (resp) {\n\t\t\t\tif (dataItem.TenGuid.indexOf(\".pdf\") != -1 || dataItem.TenGuid.indexOf(\".PDF\") != -1) {\n\t\t\t\t\tthis.dialog.open(ViewImagePdfComponent, {\n\t\t\t\t\t\tdisableClose: false,\n\t\t\t\t\t\twidth: \"1000px\",\n\t\t\t\t\t\theight: \"600px\",\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tType: \"PDF\",\n\t\t\t\t\t\t\tTitle: \"Xem tài liệu\",\n\t\t\t\t\t\t\tDescription: resp.MoTa !== null ? resp.MoTa : \"\",\n\t\t\t\t\t\t\tSrc: resp,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.dialog.open(ViewImagePdfComponent, {\n\t\t\t\t\t\tdisableClose: false,\n\t\t\t\t\t\twidth: \"1000px\",\n\t\t\t\t\t\theight: \"600px\",\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tType: \"Image\",\n\t\t\t\t\t\t\tTitle: \"Xem ảnh\",\n\t\t\t\t\t\t\tDescription: resp.MoTa !== null ? resp.MoTa : \"\",\n\t\t\t\t\t\t\tSrc: resp,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n","export default \".color-green input {\\n  color: green;\\n}\\n\\n.padding-thu-tien {\\n  padding: 5px 16px 28px 13px !important;\\n}\\n\\n.float_right {\\n  float: right;\\n}\\n\\n.menu-form-wrapper .mat-menu-content {\\n  padding: 8px;\\n}\\n\\n.color-red {\\n  color: red;\\n}\\n\\n.padding-thu-tien {\\n  padding: 5px 16px 28px 13px !important;\\n}\\n\\n.po-right {\\n  text-align: right;\\n  flex-grow: 1;\\n}\\n\\n.color-green {\\n  color: green;\\n}\\n\\n.padding-left80px {\\n  padding-left: 80px !important;\\n}\\n\\n.d-unset {\\n  display: unset !important;\\n}\\n\\nkendo-splitter {\\n  border-width: 0px !important;\\n  margin-bottom: 10px;\\n}\\n\\nkendo-splitter ul > li.right-0 {\\n  margin-right: 0px;\\n  padding-right: 15px;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border-style: inherit;\\n}\\n\\nfieldset legend {\\n  margin-left: 15px;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item .inline_b {\\n  display: inline-block !important;\\n  margin-right: 10px;\\n  padding-right: 15px;\\n}\\n\\nkendo-panelbar-item .panelbar-row {\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\\n}\\n\\nkendo-panelbar-item .panelbar-row:hover {\\n  background: rgba(227, 242, 253, 0.5);\\n}\\n\\nkendo-panelbar-item .panelbar-group-b {\\n  border-top: 1px rgba(0, 0, 0, 0.08) outset;\\n}\\n\\n.sticky-list {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n}\\n\\n.sticky-tab {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n  background: #f5f7fa;\\n  overflow-x: auto;\\n  margin-left: 5px;\\n  margin-right: 5px;\\n}\\n\\n.sticky-tab ul {\\n  margin: 0;\\n  padding-top: 10px;\\n  padding-bottom: 0;\\n  border-bottom: 1px solid #ccc;\\n}\\n\\n.sticky-tab ul li {\\n  display: inline-block;\\n  list-style-type: none;\\n  margin-right: 25px;\\n  font-size: 15px;\\n  font-weight: bold;\\n  font-style: normal;\\n  font-stretch: normal;\\n  letter-spacing: normal;\\n  color: #2e384d;\\n  cursor: pointer;\\n  transition: all 300ms linear;\\n  border-bottom: 3px solid #f5f7fa;\\n}\\n\\n.sticky-tab ul li.active {\\n  font-size: 15px;\\n  font-weight: bold;\\n  color: #005dab;\\n  border-bottom: 4px solid #005dab;\\n}\\n\\n.sticky-tab ul li:hover {\\n  border-bottom: 3px solid #005dab;\\n}\\n\\n.sticky-tab ul li.resolved {\\n  color: #005dab;\\n}\\n\\n.sticky-tab ul li.processing {\\n  color: #ff9800;\\n}\\n\\n.sticky-tab ul li.unfulfilled {\\n  color: #9e9e9e;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail {\\n  bottom: 0 !important;\\n  height: 5px !important;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail .ps-scrollbar-x {\\n  height: 5px !important;\\n}\\n\\nlegend {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\n.sticky-panelbar {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  top: 64px;\\n}\\n\\n.text-center {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL3Rob25nLXRpbi1waGlldS10aHUtbmdvYWktdHJ1L0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcdGh1LWNoaVxcdGh1LWNoaS12aWVuLXBoaVxcbmdvYWktdHJ1XFxjaG8tdGh1LXRpZW5cXHRob25nLXRpbi1waGlldS10aHUtbmdvYWktdHJ1XFx0aG9uZy10aW4tcGhpZXUtdGh1LW5nb2FpLXRydS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL3Rob25nLXRpbi1waGlldS10aHUtbmdvYWktdHJ1L3Rob25nLXRpbi1waGlldS10aHUtbmdvYWktdHJ1LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtBQ0NGOztBREVBO0VBQ0Usc0NBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLFVBQUE7QUNDRjs7QURFQTtFQUNFLHNDQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLDZCQUFBO0FDQ0Y7O0FERUE7RUFDRSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSw4QkFBQTtFQUNBLGtDQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQ0FBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSw0Q0FBQTtBQ0NGOztBREVBO0VBQ0Usb0NBQUE7QUNDRjs7QURFQTtFQUNFLDBDQUFBO0FDQ0Y7O0FERUE7RUFDRSxTQUFBO0VBQ0EsMkJBQUE7RUFDQSxtQ0FBQTtFQUNBLGFBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7RUFDQSwyQkFBQTtFQUNBLG1DQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxTQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLDZCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtFQUNBLHFCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0Esc0JBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtFQUtBLDRCQUFBO0VBQ0EsZ0NBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLG9CQUFBO0VBQ0Esc0JBQUE7QUNDRjs7QURFQTtFQUNFLHNCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtFQUNBLHdCQUFBO0VBQ0EsU0FBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aHUtY2hpL3RodS1jaGktdmllbi1waGkvbmdvYWktdHJ1L2Noby10aHUtdGllbi90aG9uZy10aW4tcGhpZXUtdGh1LW5nb2FpLXRydS90aG9uZy10aW4tcGhpZXUtdGh1LW5nb2FpLXRydS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb2xvci1ncmVlbiBpbnB1dCB7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLnBhZGRpbmctdGh1LXRpZW4ge1xuICBwYWRkaW5nOiA1cHggMTZweCAyOHB4IDEzcHggIWltcG9ydGFudDtcbn1cblxuLmZsb2F0X3JpZ2h0IHtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG4ubWVudS1mb3JtLXdyYXBwZXIgLm1hdC1tZW51LWNvbnRlbnQge1xuICBwYWRkaW5nOiA4cHg7XG59XG5cbi5jb2xvci1yZWQge1xuICBjb2xvcjogcmVkO1xufVxuXG4ucGFkZGluZy10aHUtdGllbiB7XG4gIHBhZGRpbmc6IDVweCAxNnB4IDI4cHggMTNweCAhaW1wb3J0YW50O1xufVxuXG4ucG8tcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZmxleC1ncm93OiAxO1xufVxuXG4uY29sb3ItZ3JlZW4ge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5wYWRkaW5nLWxlZnQ4MHB4IHtcbiAgcGFkZGluZy1sZWZ0OiA4MHB4ICFpbXBvcnRhbnQ7XG59XG5cbi5kLXVuc2V0IHtcbiAgZGlzcGxheTogdW5zZXQgIWltcG9ydGFudDtcbn1cblxua2VuZG8tc3BsaXR0ZXIge1xuICBib3JkZXItd2lkdGg6IDBweCAhaW1wb3J0YW50O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG5rZW5kby1zcGxpdHRlciB1bCA+IGxpLnJpZ2h0LTAge1xuICBtYXJnaW4tcmlnaHQ6IDBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgbGVnZW5kIHtcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIHVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLmlubGluZV9iIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93IHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMik7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLXJvdzpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjI3LCAyNDIsIDI1MywgMC41KTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItZ3JvdXAtYiB7XG4gIGJvcmRlci10b3A6IDFweCByZ2JhKDAsIDAsIDAsIDAuMDgpIG91dHNldDtcbn1cblxuLnN0aWNreS1saXN0IHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiA5OTk5O1xufVxuXG4uc3RpY2t5LXRhYiB7XG4gIHRvcDogNjRweDtcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3kgIWltcG9ydGFudDtcbiAgei1pbmRleDogOTk5OTtcbiAgYmFja2dyb3VuZDogI2Y1ZjdmYTtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5zdGlja3ktdGFiIHVsIHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDA7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBtYXJnaW4tcmlnaHQ6IDI1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC1zdHJldGNoOiBub3JtYWw7XG4gIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gIGNvbG9yOiAjMmUzODRkO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtby10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtbXMtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICNmNWY3ZmE7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLmFjdGl2ZSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBib3JkZXItYm90dG9tOiA0cHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGk6aG92ZXIge1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucmVzb2x2ZWQge1xuICBjb2xvcjogIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucHJvY2Vzc2luZyB7XG4gIGNvbG9yOiAjZmY5ODAwO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS51bmZ1bGZpbGxlZCB7XG4gIGNvbG9yOiAjOWU5ZTllO1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCB7XG4gIGJvdHRvbTogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCAucHMtc2Nyb2xsYmFyLXgge1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG5sZWdlbmQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLnN0aWNreS1wYW5lbGJhciB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgdG9wOiA2NHB4O1xufVxuXG4udGV4dC1jZW50ZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59IiwiLmNvbG9yLWdyZWVuIGlucHV0IHtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG4ucGFkZGluZy10aHUtdGllbiB7XG4gIHBhZGRpbmc6IDVweCAxNnB4IDI4cHggMTNweCAhaW1wb3J0YW50O1xufVxuXG4uZmxvYXRfcmlnaHQge1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbi5tZW51LWZvcm0td3JhcHBlciAubWF0LW1lbnUtY29udGVudCB7XG4gIHBhZGRpbmc6IDhweDtcbn1cblxuLmNvbG9yLXJlZCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5wYWRkaW5nLXRodS10aWVuIHtcbiAgcGFkZGluZzogNXB4IDE2cHggMjhweCAxM3B4ICFpbXBvcnRhbnQ7XG59XG5cbi5wby1yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBmbGV4LWdyb3c6IDE7XG59XG5cbi5jb2xvci1ncmVlbiB7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLnBhZGRpbmctbGVmdDgwcHgge1xuICBwYWRkaW5nLWxlZnQ6IDgwcHggIWltcG9ydGFudDtcbn1cblxuLmQtdW5zZXQge1xuICBkaXNwbGF5OiB1bnNldCAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1zcGxpdHRlciB7XG4gIGJvcmRlci13aWR0aDogMHB4ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cbmtlbmRvLXNwbGl0dGVyIHVsID4gbGkucmlnaHQtMCB7XG4gIG1hcmdpbi1yaWdodDogMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xufVxuXG5maWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xufVxuXG5maWVsZHNldCBsZWdlbmQge1xuICBtYXJnaW4tbGVmdDogMTVweDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gdWwuaW5saW5lID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAuaW5saW5lX2Ige1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5wYW5lbGJhci1yb3cge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyKTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93OmhvdmVyIHtcbiAgYmFja2dyb3VuZDogcmdiYSgyMjcsIDI0MiwgMjUzLCAwLjUpO1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5wYW5lbGJhci1ncm91cC1iIHtcbiAgYm9yZGVyLXRvcDogMXB4IHJnYmEoMCwgMCwgMCwgMC4wOCkgb3V0c2V0O1xufVxuXG4uc3RpY2t5LWxpc3Qge1xuICB0b3A6IDY0cHg7XG4gIHBvc2l0aW9uOiBzdGlja3kgIWltcG9ydGFudDtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHotaW5kZXg6IDk5OTk7XG59XG5cbi5zdGlja3ktdGFiIHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiA5OTk5O1xuICBiYWNrZ3JvdW5kOiAjZjVmN2ZhO1xuICBvdmVyZmxvdy14OiBhdXRvO1xuICBtYXJnaW4tbGVmdDogNXB4O1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbn1cblxuLnN0aWNreS10YWIgdWwge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG4gIG1hcmdpbi1yaWdodDogMjVweDtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xuICBmb250LXN0cmV0Y2g6IG5vcm1hbDtcbiAgbGV0dGVyLXNwYWNpbmc6IG5vcm1hbDtcbiAgY29sb3I6ICMyZTM4NGQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtbW96LXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIC1vLXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIC1tcy10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICB0cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgI2Y1ZjdmYTtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkuYWN0aXZlIHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIGJvcmRlci1ib3R0b206IDRweCBzb2xpZCAjMDA1ZGFiO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaTpob3ZlciB7XG4gIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjMDA1ZGFiO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS5yZXNvbHZlZCB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS5wcm9jZXNzaW5nIHtcbiAgY29sb3I6ICNmZjk4MDA7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLnVuZnVsZmlsbGVkIHtcbiAgY29sb3I6ICM5ZTllOWU7XG59XG5cbi5zdGlja3ktdGFiIC5wcy1zY3JvbGxiYXIteC1yYWlsIHtcbiAgYm90dG9tOiAwICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogNXB4ICFpbXBvcnRhbnQ7XG59XG5cbi5zdGlja3ktdGFiIC5wcy1zY3JvbGxiYXIteC1yYWlsIC5wcy1zY3JvbGxiYXIteCB7XG4gIGhlaWdodDogNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmxlZ2VuZCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG4uc3RpY2t5LXBhbmVsYmFyIHtcbiAgcG9zaXRpb246IHN0aWNreTtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5O1xuICB0b3A6IDY0cHg7XG59XG5cbi50ZXh0LWNlbnRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn0iXX0= */\"","import { Component, OnInit, Output, EventEmitter, Input } from \"@angular/core\";\nimport { MatDialog } from \"@angular/material\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport icEdit from \"@iconify/icons-ic/twotone-edit\";\nimport { ApiError } from \"src/app/shared/models/api-error.model\";\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { AuthService } from \"src/app/core/services/auth.service\";\nimport { DocumentType } from \"src/app/shared/enum/document-type.enum\";\nimport { SecurityOperation } from \"src/app/shared/enum/security-operation.enum\";\nimport { ConfirmComponent } from \"src/app/shared/component/dialogs/confirm/confirm.component\";\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { ThongTinPhieuPdfPopupComponent } from \"../../../common/thong-tin-phieu-pdf-popup/thong-tin-phieu-pdf-popup.component\";\nimport { CommonThuTien, ThongTinHuyPhieu, ThongTinSoPhieuDaThu, TrangThaiThuTienBenhNhan } from \"../cho-thu-tien.model\";\nimport { XacNhanHuyThuComponent } from \"../../../common/xac-nhan-phieu-huy-thu/xac-nhan-phieu-huy-thu.component\";\nimport { XacNhanHoanThuComponent } from \"../../../common/xac-nhan-hoan-phieu/xac-nhan-hoan-phieu.component\";\nimport { ThongTinPhieuNgoaiTruPopupComponent } from \"../thong-tin-phieu-thu-popup/thong-tin-phieu-thu-popup.component\";\n\n@Component({\n\tselector: \"app-thong-tin-phieu-thu-ngoai-tru\",\n\ttemplateUrl: \"./thong-tin-phieu-thu-ngoai-tru.component.html\",\n\tstyleUrls: [\"./thong-tin-phieu-thu-ngoai-tru.component.scss\"],\n})\nexport class ThongTinPhieuThuNgoaiTruComponent implements OnInit {\n\tdocumentType: DocumentType = DocumentType.ThuNgan;\n\n\t@Input() phieuThuId: number = 0;\n\t@Input() dataSourceChanged: boolean = false;\n\t@Output() huyThanhCong = new EventEmitter<boolean>();\n\t@Output() loadingCtThanhCong = new EventEmitter<any>();\n\n\tpublic icEdit = icEdit;\n\tpublic dataSoPhieus: any;\n\tpublic commonThuTien = new CommonThuTien();\n\tpublic loadingPopup: any;\n\n\tthongTinSoPhieuDaThu = new ThongTinSoPhieuDaThu();\n\ttrangThaiThuTienBenhNhan = new TrangThaiThuTienBenhNhan();\n\tyeuCauTiepNhanId: number;\n\n\tconstructor(private route: ActivatedRoute, private notificationService: NotificationService, private apiService: ApiService, private authService: AuthService, private router: Router, private dialog: MatDialog) { }\n\n\tngOnInit() {\n\t\tthis.yeuCauTiepNhanId = this.route.snapshot.params.id;\n\t\tif (this.yeuCauTiepNhanId != null && this.yeuCauTiepNhanId != undefined) {\n\t\t\tthis.getThongSoPhieu();\n\t\t}\n\t}\n\n\tselectionChangeSoPhieu(event: any) {\n\t\tif (event != null && event != undefined) {\n\t\t\tthis.thongTinSoPhieuDaThu.SoPhieuId = event.KeyId;\n\t\t\tthis.thongTinSoPhieuDaThu.LoaiPhieu = event.LoaiPhieu;\n\t\t\tthis.thongTinSoPhieuDaThu.TinhTrang = event.TinhTrang;\n\t\t\tthis.thongTinSoPhieuDaThu.LoaiPhieuThuChiThuNgan = event.LoaiPhieuThuChiThuNgan;\n\t\t\tlet loaiPhieuThu = event.LoaiPhieuThuChiThuNgan;\n\t\t\tthis.xemThongTinPhieu(event.KeyId, loaiPhieuThu);\n\t\t} else {\n\t\t\tthis.thongTinSoPhieuDaThu = new ThongTinSoPhieuDaThu();\n\t\t}\n\t}\n\n\txemThongTinPhieu(keyId: any, loaiPhieuThu: any) {\n\t\tthis.showLoadingPopup();\n\t\tthis.apiService.get<ThongTinSoPhieuDaThu>(\"ThuNgan/GetThongTinPhieuThu/\" + keyId + \"/\" + loaiPhieuThu).subscribe(resultData => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.thongTinSoPhieuDaThu = resultData;\n\t\t\t\tthis.thongTinSoPhieuDaThu.SoPhieuId = keyId;\n\t\t\t\tthis.thongTinSoPhieuDaThu.TenSoPhieu = resultData.SoPhieu;\n\t\t\t\tthis.dataSourceChanged = true;\n\t\t\t\tthis.loadingCtThanhCong.emit(true);\n\t\t\t}\n\t\t\tthis.closeAllDialogs();\n\t\t}, (err: ApiError) => {\n\t\t\tif (err.Message != \"Validation Failed\") {\n\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t}\n\t\t});\n\t}\n\n\tloadingThanhCong(loading: any) {\n\t\tif (loading) {\n\t\t\tthis.xemThongTinPhieu(this.thongTinSoPhieuDaThu.SoPhieuId, this.thongTinSoPhieuDaThu.LoaiPhieuThuChiThuNgan);\n\t\t\tthis.dataSourceChanged = true;\n\t\t}\n\t}\n\n\tgetThongSoPhieu() {\n\t\tthis.apiService.post<any>(\"ThuNgan/GetSoPhieuNgoaiTru/\" + this.yeuCauTiepNhanId).subscribe(resultData => {\n\t\t\tif (resultData !== null && resultData !== undefined) {\n\t\t\t\tthis.dataSoPhieus = resultData;\n\t\t\t\tif (this.phieuThuId != null && this.phieuThuId != undefined && this.phieuThuId != 0) {\n\t\t\t\t\tthis.xemThongTinPhieu(this.phieuThuId, 1);\n\t\t\t\t} else {\n\t\t\t\t\tif (resultData.length > 0) {\n\t\t\t\t\t\tthis.xemThongTinPhieu(resultData[0].KeyId, resultData[0].LoaiPhieuThuChiThuNgan);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.loadingCtThanhCong.emit(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, (err: ApiError) => {\n\t\t\tif (err.Message != \"Validation Failed\") {\n\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t}\n\t\t});\n\t}\n\n\tbangKeChiPhi(thongTinSoPhieuDaThu: any) {\n\t\tthis.inPhieuPdf(thongTinSoPhieuDaThu.Id, 0, \"InCPKhamNgoaiTru,InBangKeChiPhiGoiKhamChuaBenhStr\");\n\t}\n\n\tphieuIn(thongTinSoPhieuDaThu: any) {\n\t\tif (thongTinSoPhieuDaThu.LoaiPhieuThuChiThuNgan === this.trangThaiThuTienBenhNhan.ThuTheoChiPhiNumber) {\n\t\t\tthis.inPhieuPdf(thongTinSoPhieuDaThu.Id, 0, \"InPhieuThu\");\n\t\t}\n\t\tif (thongTinSoPhieuDaThu.LoaiPhieuThuChiThuNgan === this.trangThaiThuTienBenhNhan.ThuTamUngNumber) {\n\t\t\tthis.inPhieuPdf(thongTinSoPhieuDaThu.Id, 0, \"InPhieuThuTamUng\");\n\t\t}\n\t\tif (thongTinSoPhieuDaThu.LoaiPhieuThuChiThuNgan === this.trangThaiThuTienBenhNhan.HoanUngNumber) {\n\t\t\tthis.inPhieuPdf(0, thongTinSoPhieuDaThu.Id, \"InPhieuHoanUng\");\n\t\t}\n\t\tif (thongTinSoPhieuDaThu.LoaiPhieuThuChiThuNgan === this.trangThaiThuTienBenhNhan.HoanThuNumber) {\n\t\t\tthis.inPhieuPdf(0, thongTinSoPhieuDaThu.Id, \"InPhieuHoanThu\");\n\t\t}\n\t\tif (thongTinSoPhieuDaThu.LoaiPhieuThuChiThuNgan === this.trangThaiThuTienBenhNhan.PhieuChiNumber) {\n\t\t\tthis.inPhieuPdf(0, thongTinSoPhieuDaThu.Id, \"InPhieuChi\");\n\t\t}\n\t}\n\n\thuyPhieuThu(thongTinSoPhieuDaThu: any, thuHoiPhieu: any) {\n\t\tlet thongTinHuyPhieu = new ThongTinHuyPhieu();\n\t\tthongTinHuyPhieu.SoPhieu = thongTinSoPhieuDaThu.Id;\n\t\tthongTinHuyPhieu.TenPhieuThuChi = thongTinSoPhieuDaThu.LoaiPhieu;\n\t\tthongTinHuyPhieu.TenSoPhieu = this.thongTinSoPhieuDaThu.TenSoPhieu;\n\t\tthongTinHuyPhieu.LaPhieuChi = this.thongTinSoPhieuDaThu.LaPhieuChi;\n\t\tthongTinHuyPhieu.LoaiPhieuThuChiThuNgan = this.thongTinSoPhieuDaThu.LoaiPhieuThuChiThuNgan;\n\t\tthongTinHuyPhieu.TamUng = this.thongTinSoPhieuDaThu.TamUng;\n\t\tthongTinHuyPhieu.ThuTienGoiDichVu = this.thongTinSoPhieuDaThu.ThuTienGoiDichVu;\n\t\tlet loaiType = 'NgoaiTru';\n\t\tthis.dialog\n\t\t\t.open(XacNhanHuyThuComponent, { disableClose: true, width: \"800px\", data: { thongTinHuyPhieu, thuHoiPhieu, loaiType } })\n\t\t\t.afterClosed()\n\t\t\t.subscribe(resultData => {\n\t\t\t\tif (resultData != undefined && resultData !== null && resultData !== \"\") {\n\t\t\t\t\tthis.huyThanhCong.emit(true);\n\t\t\t\t\tthis.getThongSoPhieu();\n\t\t\t\t\tthis.notificationService.showSuccess(\"Hủy phiếu thu thành công.\");\n\t\t\t\t}\n\t\t\t},\n\t\t\t\t(err: ApiError) => {\n\t\t\t\t\tif (err.Message != \"Validation Failed\") {\n\t\t\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\t\t}\n\t\t\t\t});\n\t}\n\n\tChuyenQuaTamUng(thongTinSoPhieuDaThu: any) {\n\t\tif (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n\t\t\tthis.dialog\n\t\t\t\t.open(ConfirmComponent, {\n\t\t\t\t\tdisableClose: false,\n\t\t\t\t\twidth: \"400px\",\n\t\t\t\t\tdata: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn chuyển phiếu này qua tạm ứng không?\" },\n\t\t\t\t})\n\t\t\t\t.afterClosed()\n\t\t\t\t.subscribe(result => {\n\t\t\t\t\tif (result === \"Yes\") {\n\t\t\t\t\t\tthis.apiService.post(\"ThuNgan/ChuyenTamUng/\" + thongTinSoPhieuDaThu.Id).subscribe(\n\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\tthis.huyThanhCong.emit(true);\n\t\t\t\t\t\t\t\tthis.getThongSoPhieu();\n\t\t\t\t\t\t\t\tthis.notificationService.showSuccess(\"Chuyển phiếu qua tạm ứng thành công.\");\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t(err: ApiError) => {\n\t\t\t\t\t\t\t\tif (err.Message != \"Validation Failed\") {\n\t\t\t\t\t\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t}\n\n\thoanPhieuThu(thongTinSoPhieuDaThu: any) {\n\t\tlet thuHoiPhieu = false;\n\t\tlet thongTinHuyPhieu = new ThongTinHuyPhieu();\n\t\tthongTinHuyPhieu.SoPhieu = thongTinSoPhieuDaThu.Id;\n\t\tthongTinHuyPhieu.TenPhieuThuChi = thongTinSoPhieuDaThu.LoaiPhieu;\n\t\tthongTinHuyPhieu.TenSoPhieu = this.thongTinSoPhieuDaThu.TenSoPhieu;\n\t\tthongTinHuyPhieu.LaPhieuChi = this.thongTinSoPhieuDaThu.LaPhieuChi;\n\t\tthongTinHuyPhieu.LoaiPhieuThuChiThuNgan = this.thongTinSoPhieuDaThu.LoaiPhieuThuChiThuNgan;\n\t\tthongTinHuyPhieu.TamUng = this.thongTinSoPhieuDaThu.TamUng;\n\t\tthongTinHuyPhieu.ThuTienGoiDichVu = this.thongTinSoPhieuDaThu.ThuTienGoiDichVu;\n\t\tlet loaiType = 'NgoaiTru';\n\n\t\tthis.dialog\n\t\t\t.open(XacNhanHoanThuComponent, { disableClose: true, width: \"800px\", data: { thongTinHuyPhieu, thuHoiPhieu, loaiType } })\n\t\t\t.afterClosed()\n\t\t\t.subscribe(resultData => {\n\t\t\t\tif (resultData != undefined && resultData !== null && resultData !== \"\") {\n\t\t\t\t\tthis.huyThanhCong.emit(true);\n\t\t\t\t\tthis.getThongSoPhieu();\n\t\t\t\t\tthis.notificationService.showSuccess(\"Hoàn phiếu thu thành công.\");\n\t\t\t\t}\n\t\t\t}, (err: ApiError) => {\n\t\t\t\tif (err.Message != \"Validation Failed\") {\n\t\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tinPhieuPdf(taiKhoanThuId: any, taiKhoanChiId: any, loaiTypes: any) {\n\t\tthis.showLoadingPopup();\n\n\t\tlet idYeuCauTiepNhan = this.yeuCauTiepNhanId;\n\t\tlet phieuHoanUngIds = \"\";\n\n\t\tthis.dialog\n\t\t\t.open(ThongTinPhieuNgoaiTruPopupComponent, {\n\t\t\t\tdisableClose: false,\n\t\t\t\twidth: \"1000px\",\n\t\t\t\tdata: { taiKhoanThuId, taiKhoanChiId, idYeuCauTiepNhan, loaiTypes, phieuHoanUngIds },\n\t\t\t})\n\t\t\t.afterClosed()\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t});\n\t}\n\n\n\thoanUngKhongThucHienDV(thongTinSoPhieuDaThu : any)  {\n\t\tif (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n\t\t\tthis.dialog\n\t\t\t\t.open(ConfirmComponent, {\n\t\t\t\t\tdisableClose: false,\n\t\t\t\t\twidth: \"400px\",\n\t\t\t\t\tdata: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn hoàn ứng số tiền người bệnh này không ?\" },\n\t\t\t\t})\n\t\t\t\t.afterClosed()\n\t\t\t\t.subscribe(result => {\n\t\t\t\t\tif (result === \"Yes\") {\n\t\t\t\t\t\tthis.apiService.post(\"ThuNgan/HoanUngKhongThucHienDichVu/\" + thongTinSoPhieuDaThu.Id).subscribe(\n\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\tthis.huyThanhCong.emit(true);\n\t\t\t\t\t\t\t\tthis.getThongSoPhieu();\n\t\t\t\t\t\t\t\tthis.notificationService.showSuccess(\"Hoàn ứng thành công.\");\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t(err: ApiError) => {\n\t\t\t\t\t\t\t\tif (err.Message != \"Validation Failed\") {\n\t\t\t\t\t\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t}\n\n\tBackToList() {\n\t\tlet yctn = this.route.snapshot.queryParams.yctn;\n\t\tif (yctn) {\n\t\t\tthis.router.navigateByUrl(\"/them-yeu-cau-tiep-nhan\");\n\t\t} else {\n\t\t\tthis.router.navigate([\"/danh-sach-thu-dich-vu\"], {\n\t\t\t\tqueryParamsHandling: \"preserve\",\n\t\t\t});\n\t\t}\n\t}\n\n\tshowLoadingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang tải...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tshowSavingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang lưu...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tcloseAllDialogs() {\n\t\tif (this.loadingPopup) {\n\t\t\tthis.loadingPopup.close();\n\t\t\tthis.loadingPopup = null;\n\t\t}\n\t}\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 550px;\\n}\\n\\n.container-iframe iframe {\\n  margin-bottom: 10px;\\n  -webkit-backface-visibility: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL3Rob25nLXRpbi1waGlldS10aHUtcG9wdXAvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aHUtY2hpXFx0aHUtY2hpLXZpZW4tcGhpXFxuZ29haS10cnVcXGNoby10aHUtdGllblxcdGhvbmctdGluLXBoaWV1LXRodS1wb3B1cFxcdGhvbmctdGluLXBoaWV1LXRodS1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3RodS1jaGkvdGh1LWNoaS12aWVuLXBoaS9uZ29haS10cnUvY2hvLXRodS10aWVuL3Rob25nLXRpbi1waGlldS10aHUtcG9wdXAvdGhvbmctdGluLXBoaWV1LXRodS1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7QUNDRjs7QURFQTtFQUNFLG1CQUFBO0VBQ0EsbUNBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aHUtY2hpL3RodS1jaGktdmllbi1waGkvbmdvYWktdHJ1L2Noby10aHUtdGllbi90aG9uZy10aW4tcGhpZXUtdGh1LXBvcHVwL3Rob25nLXRpbi1waGlldS10aHUtcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTUwcHg7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xufSIsIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1NTBweDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgLXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XG59Il19 */\"","import { Component, Inject, OnInit } from \"@angular/core\";\nimport { MatDialog, MAT_DIALOG_DATA } from \"@angular/material\";\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { debug } from \"console\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { CommonService } from \"src/app/core/utilities/common.helper\";\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { ApiError } from \"src/app/shared/models/api-error.model\";\nimport icFullscreen from \"@iconify/icons-ic/twotone-fullscreen\";\nimport icFullscreenExit from \"@iconify/icons-ic/twotone-fullscreen-exit\";\ndeclare var jQuery: any;\n@Component({\n\tselector: \"thong-tin-phieu-thu-popup\",\n\ttemplateUrl: \"./thong-tin-phieu-thu-popup.component.html\",\n\tstyleUrls: [\"./thong-tin-phieu-thu-popup.component.scss\"],\n})\nexport class ThongTinPhieuNgoaiTruPopupComponent implements OnInit {\n\ticClose = icClose;\n\tarrFilePdf: Array<any> = [];\n\tarrFileUrl: Array<any> = [];\n\tpopupLoadingData: any;\n\tloadingPopup: any;\n\n\ticFullscreen = icFullscreen;\n\ticFullscreenExit = icFullscreenExit;\n\tisFullscreen: boolean = false;\n\n\tWidth: number = 800;\n\tHeight: number = 600;\n\ttamUng: boolean = false;\n\n\tconstructor(@Inject(MAT_DIALOG_DATA) public data: any, private apiService: ApiService, private dialog: MatDialog, private notificationService: NotificationService) { }\n\n\tngOnInit() {\n\t\tthis.getALlFilePDFFromHtml(this.data);\t\t\n\t\tthis.tamUng = this.data.tamUng != undefined ? true : false ;\n\t\tthis.fullscreen();\n\t}\n\n\tgetALlFilePDFFromHtml(data: any) {\n\t\tthis.showPopupLoadingData();\n\t\tlet hostingName = window.location.protocol + '//' + window.location.host;\n\t\tthis.apiService.postExportPdf<any>(\"ThuNgan/InPhieuThu?taiKhoanThuId=\" + data.taiKhoanThuId + \"&taiKhoanChiId=\" + data.taiKhoanChiId + \"&yeuCauTiepNhanId=\" + data.idYeuCauTiepNhan + \"&hostingName=\" + hostingName + \"&loaiTypes=\" + data.loaiTypes + \"&phieuHoanUngIds=\" + data.phieuHoanUngIds).subscribe(\n\t\t\t(file) => {\n\t\t\t\tlet newBlob = new Blob([file], { type: \"application/pdf\" });\n\t\t\t\tlet datalocalURL = window.URL.createObjectURL(newBlob);\n\t\t\t\tthis.arrFileUrl.push(datalocalURL);\n\t\t\t\tthis.arrFilePdf.push(file);\n\t\t\t\tthis.closePopupLoadingData();\n\t\t\t},\n\t\t\t(err: ApiError) => {\n\t\t\t\tif (err.Message !== \"Validation Failed\") {\n\t\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\t\tthis.closePopupLoadingData();\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tketXuatBangKeChiPhiExcel() {\n\t\tthis.apiService.postExportExcel<any>(\"ThuNgan/XuatBangKeNgoaiTruCoBHYTExcelDaThu?yeuCauTiepNhanId=\" + this.data.idYeuCauTiepNhan)\n\t\t\t.subscribe(res => {\n\t\t\t\tthis.showLoadingPopup();\n\t\t\t\tif (res.byteLength != 4) {\n\t\t\t\t\tlet dateTimeNow = new Date();\n\t\t\t\t\tCommonService.downLoadFile(res, \"application/vnd.ms-excel\", \"XuatBangKeNgoaiTruCoBHYT\" + dateTimeNow.getFullYear() + \".xlsx\");\n\t\t\t\t}\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t}, err => {\n\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t});\n\n\t\tthis.apiService.postExportExcel<any>(\"ThuNgan/XuatBangKeNgoaiTruExcelDaThu?yeuCauTiepNhanId=\" + this.data.idYeuCauTiepNhan)\n\t\t\t.subscribe(res => {\n\t\t\t\tthis.showLoadingPopup();\n\t\t\t\tif (res.byteLength != 4) {\n\t\t\t\t\tlet dateTimeNow = new Date();\n\t\t\t\t\tCommonService.downLoadFile(res, \"application/vnd.ms-excel\", \"XuatBangKeNgoaiTru\" + dateTimeNow.getFullYear() + \".xlsx\");\n\t\t\t\t}\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t}, err => {\n\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t});\n\n\t\tthis.apiService.postExportExcel<any>(\"ThuNgan/XuatBangKeNgoaiTruTrongGoiDvDaThu?yeuCauTiepNhanId=\" + this.data.idYeuCauTiepNhan)\n\t\t\t.subscribe(res => {\n\t\t\t\tthis.showLoadingPopup();\n\t\t\t\tif (res.byteLength != 4) {\n\t\t\t\t\tlet dateTimeNow = new Date();\n\t\t\t\t\tCommonService.downLoadFile(res, \"application/vnd.ms-excel\", \"XuatBangKeNgoaiTruTrongGoiDv\" + dateTimeNow.getFullYear() + \".xlsx\");\n\t\t\t\t}\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t}, err => {\n\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t});\n\t}\n\n\tdownloadAllFile() {\n\t\tconst dateTimeNow = new Date();\n\t\tthis.arrFilePdf.forEach((file) => {\n\t\t\tCommonService.downLoadFile(file, \"application/pdf\", \"PhieuThuNgan\" + dateTimeNow.getFullYear() + \".pdf\");\n\t\t});\n\t}\n\n\tshowPopupLoadingData() {\n\t\tif (this.popupLoadingData == undefined || this.popupLoadingData == null || this.popupLoadingData.openDialogs == undefined || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n\t\t\tthis.popupLoadingData = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: \"200px\",\n\t\t\t\theight: \"90px\",\n\t\t\t\tdata: { Title: \"Đang tải dữ liệu...\" },\n\t\t\t});\n\t\t}\n\t}\n\n\tclosePopupLoadingData() {\n\t\tif (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n\t\t\tthis.popupLoadingData.close();\n\t\t}\n\t}\n\n\tfullscreen() {\n\t\tthis.fullScreenDialog(this.isFullscreen, this.Height, this.Width, 200);\n\t\tthis.isFullscreen = !this.isFullscreen;\n\t}\n\n\tpublic fullScreenDialog(isFullscreen: boolean, Height: any, Width: any, heightHeaderFooter: number) {\n\t\tif (isFullscreen) {\n\t\t\tjQuery(\".cdk-overlay-pane\").css({ \"height\": (Height != null ? Height : \"auto\"), \"width\": Width, \"max-width\": Width });\n\t\t\tjQuery(\".mat-dialog-content\").css({ \"height\": Height - (heightHeaderFooter != null ? heightHeaderFooter : 0), \"max-height\": Height - (heightHeaderFooter != null ? heightHeaderFooter : 0) });\n\t\t}\n\t\telse {\n\t\t\tjQuery(\".cdk-overlay-pane\").css({ \"height\": \"97%\", \"width\": \"100%\", \"max-width\": \"97%\" });\n\t\t\tjQuery(\".mat-dialog-content\").css({ \"height\": (jQuery(window).height() - (heightHeaderFooter != null ? heightHeaderFooter : 150)), \"max-height\": jQuery(window).height() - (heightHeaderFooter != null ? heightHeaderFooter : 150) });\n\t\t}\n\t}\n\n\n\tshowLoadingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang tải...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tshowSavingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang lưu...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tcloseAllDialogs() {\n\t\tif (this.loadingPopup) {\n\t\t\tthis.loadingPopup.close();\n\t\t\tthis.loadingPopup = null;\n\t\t}\n\t}\n}\n"],"sourceRoot":"webpack:///"}