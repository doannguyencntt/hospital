{"version":3,"sources":["default~tiep-nhan-benh-nhan-danh-sach-cho-kham-danh-sach-cho-kham-module~tiep-nhan-benh-nhan-lich-su~2cabf56a-es5.js","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-xn-covid/in-phieu-xn-covid.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.html","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-xn-covid/in-phieu-xn-covid.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-xn-covid/in-phieu-xn-covid.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-routing.module.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.module.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.service.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component.ts","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.scss","webpack:///src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.ts"],"names":[],"mappings":"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","file":"x","sourcesContent":["(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[\"default~tiep-nhan-benh-nhan-danh-sach-cho-kham-danh-sach-cho-kham-module~tiep-nhan-benh-nhan-lich-su~2cabf56a\"],{\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.html\":\n/*!*******************************************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.html ***!\n  \\*******************************************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div fxFlex=\\\"100%\\\">\\n        <span fxFlex=\\\"20%\\\" style=\\\"padding-top: 20px;\\\">XEM TRƯỚC KHI IN</span>\\n    </div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div class=\\\"container-iframe\\\">\\n        <iframe width=\\\"100%\\\" style=\\\"height: 500px;\\\" [src]=\\\"src | safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n\\n</mat-dialog-content>\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <!-- in phiếu DvKT -->\\n    <app-print-form textPrint=\\\"In Phiếu Chỉ Định CLS\\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"A4\\\" (click)=\\\"InPhieu(1)\\\" \\n         [bodyComponent]=\\\"this\\\">\\n    </app-print-form>  \\n    <!-- in phiếu Dvkham -->\\n    <app-print-form textPrint=\\\"In Phiếu Khám Bệnh\\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"A5\\\" typeLayout=\\\"landscape\\\"(click)=\\\"InPhieu(2)\\\" \\n    [bodyComponent]=\\\"this\\\">\\n  </app-print-form>  \\n   <!-- in phiếu Dv giuong -->\\n   <!-- <app-print-form textPrint=\\\"In Dịch Vụ Giường\\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"A4\\\" (click)=\\\"InPhieu(4)\\\" \\n   (click)=\\\"InPhieu\\\" [bodyComponent]=\\\"this\\\" >\\n </app-print-form>   -->\\n  <!-- in phiếu Dv test Xn covid  -->\\n   <app-print-form textPrint=\\\"In phiếu Chỉ định xét nghiệm\\n   \\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"A4\\\" (click)=\\\"InPhieu(3)\\\" \\n   (click)=\\\"InPhieu\\\" [bodyComponent]=\\\"this\\\" >\\n </app-print-form>  \\n\\n</mat-dialog-actions>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-xn-covid/in-phieu-xn-covid.component.html\":\n/*!*******************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-xn-covid/in-phieu-xn-covid.component.html ***!\n  \\*******************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>XEM TRƯỚC KHI IN</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"overflow:hidden\\\">\\n    <div class=\\\"container-iframe\\\">\\n        <iframe width=\\\"100%\\\" style=\\\"height: 500px;\\\" [src]=\\\"src| safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <app-print-form textPrint=\\\"In phiếu chỉ định xét nghiệm\\\" type=\\\"PDF\\\" [event]=\\\"modelPrint\\\" [bodyComponent]=\\\"this\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\\n\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.html\":\n/*!***********************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.html ***!\n  \\***********************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>XÁC NHẬN</div>\\n    <!-- <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button> -->\\n</div>\\n\\n<mat-dialog-content>\\n    <!-- <h3 class=\\\"sub-title\\\">Thông Tin Thẻ</h3> -->\\n    <div>\\n        Dịch vụ này đã được thêm vào trước đó. Bạn có chắc chắn muốn thêm dịch vụ này hay không?\\n    </div>\\n    \\n</mat-dialog-content>\\n\\n\\n<mat-dialog-actions style=\\\"margin-top: 20px;\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" (click)=\\\"Khong()\\\">Không</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"Co()\\\">Có</button>\\n</mat-dialog-actions>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.html\":\n/*!***************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.html ***!\n  \\***************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Xác Nhận</div>\\n    <!-- <button (click)=\\\"close()\\\" type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button> -->\\n</div>\\n\\n<mat-dialog-content style=\\\"margin-bottom: 20px;\\\">\\n    <div class=\\\"div-tag-content\\\">\\n        <div style=\\\"margin-bottom: 10px;\\\">Dịch vụ cảnh báo:</div>\\n        <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n            [gridDataSource]=\\\"danhSachGoiDaChonTrongLanPopup\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n            [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\">\\n        </app-grid>\\n        <div style=\\\"margin-top: 10px;\\\">Ngoài ra tất cả các dịch vụ khác sẽ được thêm vào, bạn có chấp nhận không ?</div>\\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"null\\\" (click)=\\\"Khong()\\\">Không</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"Co()\\\">Có</button>\\n</mat-dialog-actions>\\n\\n\\n<ng-template #canhBaoTemplate let-dataItem>\\n    <span>Trùng</span>\\n</ng-template>\\n\\n<ng-template #actionTemplate let-dataItem>\\n    <app-checkbox [(model)]=\\\"dataItem.KhongThem\\\" id=\\\"khongThem-{{dataItem.Id}}\\\"\\n        label=\\\"Không thêm\\\"></app-checkbox>\\n    <!-- <app-textboxnumeric id=\\\"abc-{{dataItem.Id}}\\\" [disabled]=\\\"!dataItem.IsActive || !dataItem.IsChecked\\\" [(model)]=\\\"dataItem.SoLuongDungLanNay\\\"\\n        class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"(!dataItem.IsActive || !dataItem.IsChecked) ? 0 : 1\\\" [max]=\\\"dataItem.TenNhomDichVu == 'DỊCH VỤ KHÁM BỆNH' ? 1 : (dataItem.SoLuongConLai)\\\"\\n        (modelChange)=\\\"changeSoLuongDichVu($event, dataItem)\\\"> \\n    </app-textboxnumeric> -->\\n</ng-template>\\n\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.html\":\n/*!*******************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.html ***!\n  \\*******************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Gói dịch vụ</div>\\n    <button (click)=\\\"close()\\\" type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"min-height: 200px;\\\">    \\n    <kendo-splitter orientation=\\\"horizontal\\\">\\n        <kendo-splitter-pane>\\n            <div class=\\\"pane-content\\\">\\n                <app-grid #parentGrid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n                [urlGetData]=\\\"urlGetDataGrid\\\" [urlGetTotalPage]=\\\"urlGetTotalPageGrid\\\" [additionalSearchString]=\\\"searchStringDefault\\\"\\n                [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [HideHeader]=\\\"true\\\" [documentType]=\\\"documentType\\\"\\n                [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" urlGetData=\\\"KhamBenh/GetGoiDichVuCuaBenhNhanDataForGrid\\\" urlGetTotalPage=\\\"KhamBenh/GetGoiDichVuCuaBenhNhanTotalPageForGrid\\\"\\n                [headerTemplate]=\\\"headerTemplate\\\" \\n                [pageable]=\\\"false\\\" [detailTemplate]=\\\"detailTemplate\\\" (extOnDataBound)=\\\"xemChiTietGoiDichVu($event)\\\">\\n            </app-grid>\\n            </div>\\n        </kendo-splitter-pane>\\n        <kendo-splitter-pane [collapsible]=\\\"true\\\" size=\\\"30%\\\">\\n            <div class=\\\"pane-content p-3\\\" style=\\\"height: 100%;\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                    <h3 fxFlex=\\\"100%\\\">Dịch vụ sử dụng cho lần này</h3>\\n                    <ng-container *ngIf=\\\"danhSachDichVuDaChonTrongLanPopup.length > 0\\\">\\n                        <ng-container *ngFor=\\\"let goiDichVu of arrGoiDangChon\\\">\\n                            <table class=\\\"mb-2\\\" *ngIf=\\\"kiemTraGoiDichVuCoChonDichVu(goiDichVu.YeuCauGoiDichVuId)\\\" fxFlex=\\\"100%\\\">\\n                                <tr>\\n                                    <th colspan=\\\"3\\\" style=\\\"text-align: left;\\\">\\n                                        {{goiDichVu.TenGoiDichVu}}\\n                                    </th>\\n                                    <th><span *ngIf=\\\"goiDichVu.IsChecked\\\" class='text-right-td' style=\\\"color: green;\\\">Đã đăng ký</span></th>\\n                                </tr>\\n                                <ng-container *ngFor=\\\"let dichVu of getArrayDichVuDaChonTheoGoi(goiDichVu.YeuCauGoiDichVuId)\\\">\\n                                    <tr>\\n                                        <td width='35%' style=\\\"max-width: 150px;\\\" class='reverse-ellipsis r' kendoTooltip title=\\\"{{dichVu.TenDichVu}}\\\">- {{dichVu.TenDichVu}}</td>\\n                                        <td width='5%' class='text-left-td'>{{dichVu.SoLuongDungLanNay}}</td>\\n                                        <td width='20%' class='text-right-td'>{{dichVu.DonGia | number}}</td>\\n                                        <td width='20%' class='text-right-td'>{{(dichVu.SoLuongDungLanNay * dichVu.DonGia) | number}}</td>\\n                                    </tr>\\n                                </ng-container>\\n                                <tr>\\n                                    <td colspan=\\\"3\\\" class='text-right-td'>Tổng: </td>\\n                                    <td class='text-right-td'><b>{{tinhTongTienDichVuDangChon(goiDichVu.YeuCauGoiDichVuId) | number}}</b></td>\\n                                </tr>\\n                                <tr *ngIf=\\\"goiDichVu.TongTienConBaoLanhDuoc < tinhTongTienDichVuDangChon(goiDichVu.YeuCauGoiDichVuId)\\\">\\n                                    <td colspan='4' class='text-right-td text-red khong-du-bao-lanh' [attr.name]=\\\"'lbl-khong-du-bao-lanh'\\\">Không đủ bảo lãnh</td>\\n                                </tr>\\n                            </table>\\n                        </ng-container>\\n                    </ng-container>\\n                    <ng-container *ngIf=\\\"danhSachDichVuDaChonTrongLanPopup.length == 0\\\">\\n                        Chưa chọn dịch vụ\\n                    </ng-container>\\n                </div>\\n            </div>\\n        </kendo-splitter-pane>\\n    </kendo-splitter>\\n    \\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"null\\\">Hủy</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"luuDichVuChiDinh()\\\">Chọn</button>\\n</mat-dialog-actions>\\n\\n<ng-template #detailTemplate let-dataItem>\\n    <app-grid class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumnsChild\\\" [useAddDeault]=\\\"false\\\" [documentType]=\\\"documentType\\\"\\n        [useHeaderDefault]=\\\"true\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" \\n        [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\" [groups]=\\\"groups\\\"\\n        masterName=\\\"gridChiTietGoiDichVu\\\"\\n        urlGetData=\\\"TiepNhanBenhNhan/GetDataDichVuGoiForGridAsync\\\" urlGetTotalPage=\\\"TiepNhanBenhNhan/GetTotalDichVuGoiPageForGridAsync\\\"\\n        [dataItemParent]=\\\"dataItem\\\"\\n        [additionalSearchString]=\\\"benhNhanId + '|' + dataItem.Id + '|' + danhSachDichVuDaChonTrongLanPopupString + '|' + danhSachDichVuDaChonTrongLanYCTNNayString\\\">\\n    </app-grid>\\n    <!-- (extCheckboxSelection)=\\\"chonDichVuTrongGoi($event)\\\" [hideDetailSelectedCheckbox]=\\\"true\\\" -->\\n</ng-template>\\n\\n<ng-template #headerTemplate>\\n    <div class=\\\"bg-app-bar p-0 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n        <div style=\\\"margin-top: 5px;\\\" class=\\\"bg-card rounded-full border mb-1 ml-2\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n                <ic-icon class=\\\"ml-4\\\" [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n                <input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n                    type=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"searchString\\\" (keyup)=\\\"onKeyGrid($event)\\\"\\n                    (ngModelChange)=\\\"clearSearch()\\\"\\n                    placeholder=\\\"Nhập từ khóa...\\\" />\\n        </div>\\n\\n    </div>\\n</ng-template>\\n\\n<ng-template #tenGoiTemplate let-dataItem>\\n    <!-- <div style=\\\"display: flex; align-items: flex-end; color: green;\\\">\\n        <span style=\\\"margin-left: 10px;\\\" class=\\\"span-1-goi-marketing l\\\" position=\\\"right\\\" title=\\\"{{dataItem.TenDisplay}}\\\" kendoTooltip>{{dataItem.TenDisplay}}</span>\\n        <span class=\\\"span-trang-thai\\\"\\n            [ngStyle]=\\\"{'color':dataItem.TrangThai == 1 ? 'orange' : (dataItem.TrangThai == 2 ? 'green' : 'red') }\\\">{{dataItem.TrangThaiDisplay}}</span> \\n    </div> -->\\n\\n    <div style=\\\"display: flex; justify-content: space-between; color: green;\\\">\\n        <!-- <app-checkbox [disabled]=\\\"dataItem.TrangThai != 6 && dataItem.TrangThai != null\\\" (modelChange)=\\\"checkedChange($event, dataItem)\\\" [(model)]=\\\"dataItem.IsChecked\\\" \\n        id=\\\"IsChecked{{dataItem.Id}}\\\"></app-checkbox>  -->\\n        <span class=\\\"span-1-goi-marketing l\\\" position=\\\"right\\\" style=\\\"margin-left: 10px;\\\" title=\\\"{{dataItem.TenDisplay}}\\\"\\n            kendoTooltip>\\n            {{dataItem.TenDisplay}}</span>\\n        <!-- <span class=\\\"span-2-goi-marketing\\\"\\n            [ngStyle]=\\\"{'color':dataItem.TrangThai == 1 ? 'orange' : (dataItem.TrangThai == 2 ? 'green' : 'red') }\\\">{{dataItem.TrangThaiDisplay}}</span> -->\\n        \\n            <span style=\\\"text-align: right; color: black;\\\" *ngIf=\\\"dataItem.IsChecked\\\" kendoTooltip\\n                title=\\\"{{'ĐÃ THU:' + dataItem.BenhNhanDaThanhToanDisplay + ' - CHƯA THU: ' + dataItem.ChuaThuDisplay + ' - CÒN CHO PHÉP BẢO LÃNH: ' + dataItem.ConLaiDisplay}}\\\">\\n                ĐÃ THU:\\n                <b style=\\\"color: green;\\\">{{dataItem.BenhNhanDaThanhToanDisplay}}</b>\\n                -\\n                CHƯA THU: <b style=\\\"color: orange;\\\">{{dataItem.ChuaThuDisplay}}</b>\\n                -\\n                CÒN CHO PHÉP BẢO LÃNH: <b style=\\\"color: red;\\\">{{dataItem.ConLaiDisplay}}</b>\\n            </span>\\n    </div>\\n</ng-template>\\n<ng-template #tongCongFooterTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n    <!-- {{test(dataItemParent)}} -->\\n    <span class=\\\"blue\\\">{{dataItemParent.GiaTruocChietKhau | number:'0.2-2':'vi-VN'}}</span>\\n</ng-template>\\n<!-- <ng-template #chietKhauFooterTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n    CK: <span class=\\\"green\\\">{{dataItemParent.TiLeChietKhau | number}} %</span>\\n</ng-template>\\n<ng-template #giaGoiFooterTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n    Giá gói: <span class=\\\"red\\\">{{dataItemParent.GiaSauChietKhau | number:'0.2-2':'vi-VN'}}</span>\\n</ng-template> -->\\n\\n<ng-template #checkBoxHeaderTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n    <!-- <input type=\\\"checkbox\\\" id=\\\"ckbHeader-{{dataItemParent.Id}}\\\" [(ngModel)]=\\\"dataItemParent.IsChecked\\\" (ngModelChange)=\\\"chonTatCaDichVuTrongGoi($event, dataItemParent.Id)\\\"> -->\\n    <input type=\\\"checkbox\\\" id=\\\"ckbHeader-{{dataItemParent.Id}}\\\" [(ngModel)]=\\\"dataItemParent.chonTatCa\\\" \\n        (ngModelChange)=\\\"chonTatCaDichVuTrongGoi($event, dataItemParent.Id)\\\">\\n</ng-template>\\n<ng-template #checkBoxTemplate let-dataItem>\\n    <!-- <input *ngIf=\\\"dataItem.IsActive\\\" id=\\\"{{dataItem.Id}}\\\" type=\\\"checkbox\\\" [attr.name]=\\\"'ckbItem-' + dataItem.YeuCauGoiDichVuId\\\"\\n        [disabled]=\\\"dataItem.SoLuongConLai <= 0\\\"\\n        [(ngModel)]=\\\"dataItem.IsChecked\\\" (ngModelChange)=\\\"chonDichVu($event, dataItem)\\\"> -->\\n    <input id=\\\"ckbItem-{{dataItem.YeuCauGoiDichVuId}}-{{dataItem.NhomDichVu}}-{{dataItem.Id}}\\\" type=\\\"checkbox\\\" [attr.name]=\\\"'ckbItem-' + dataItem.YeuCauGoiDichVuId\\\"\\n        *ngIf=\\\"!(dataItem.SoLuongConLai <= 0 || !dataItem.IsActive)\\\" class=\\\"ckbItemInGroup-{{dataItem.YeuCauGoiDichVuId}}-{{dataItem.TenNhomDichVu}}\\\"\\n        [(ngModel)]=\\\"dataItem.IsChecked\\\" (ngModelChange)=\\\"chonDichVu($event, dataItem)\\\">\\n</ng-template>\\n<ng-template #tongTienFooterTemplate>\\n    <span>Tổng cộng:</span>\\n</ng-template>\\n<ng-template #nhomDichVuTemplate let-value=\\\"value\\\" let-dataItemParent=\\\"dataItemParent\\\">\\n    <!-- <strong>{{value}}</strong> -->\\n    <strong>\\n        <input type=\\\"checkbox\\\" id=\\\"ckbGroup-{{dataItemParent.Id}}-{{value}}\\\" class=\\\"ckbGroup-{{dataItemParent.Id}} mr-2\\\"\\n            (change)=\\\"chonTatCaDichVuTrongNhom($event, dataItemParent.Id, value)\\\" value=\\\"true\\\">\\n        {{value}}\\n    </strong>\\n</ng-template>\\n<ng-template #sttTemplate let-rowIndex=\\\"rowIndex\\\">\\n    <strong>{{rowIndex + 1}}</strong>\\n</ng-template> \\n<ng-template #soLuongTemplate let-dataItem>\\n    <app-textboxnumeric id=\\\"abc-{{dataItem.Id}}\\\" [disabled]=\\\"!dataItem.IsActive || !dataItem.IsChecked\\\" [(model)]=\\\"dataItem.SoLuongDungLanNay\\\"\\n        class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"(!dataItem.IsActive || !dataItem.IsChecked) ? 0 : 1\\\" [max]=\\\"dataItem.TenNhomDichVu == 'DỊCH VỤ KHÁM BỆNH' ? 1 : (dataItem.SoLuongConLai)\\\"\\n        (modelChange)=\\\"changeSoLuongDichVu($event, dataItem)\\\"> \\n    </app-textboxnumeric>\\n</ng-template>\\n<ng-template #donGiaTemplate let-dataItem>\\n    {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n</ng-template>\\n<ng-template #thanhTienTemplate let-dataItem>\\n    {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n</ng-template>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.html\":\n/*!*********************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.html ***!\n  \\*********************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"m-0\\\">\\n    <div>TÌM KIẾM NGƯỜI BỆNH</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close(null)\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <app-grid [gridColumns]=\\\"gridColumns\\\" [documentType]=\\\"documentType\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n        [useHeaderDefault]=\\\"false\\\" #gridTimKiem [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" height=\\\"511\\\"\\n        [allowSortDefault]=\\\"true\\\" [headerTemplate]=\\\"headerTemplate\\\" [urlGetData]=\\\"urlGetDataGrid\\\" [showStt]=\\\"true\\\"\\n        [urlGetTotalPage]=\\\"urlGetTotalPageGrid\\\" [additionalSearchString]=\\\"addtionStringDefault\\\">\\n    </app-grid>\\n</mat-dialog-content>\\n\\n<ng-template #actionTemplate let-dataItem>\\n    <button class=\\\"button-chon\\\" (click)=\\\"chonBenhNhan(dataItem)\\\" mat-menu-item>\\n        Chọn\\n    </button>\\n</ng-template>\\n\\n<ng-template #headerTemplate>\\n    <div style=\\\"padding: 10px;border-bottom: 1px solid #ccc;\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\n            <app-textbox fxFlex=\\\"10%\\\" [(model)]=\\\"timKiemBenhNhanSearch.MaBN\\\" id=\\\"MaBenhNhan\\\" label=\\\"Mã NB\\\"\\n                (keyup)=\\\"onKey($event)\\\">\\n            </app-textbox>\\n            <app-textbox fxFlex=\\\"12%\\\" [(model)]=\\\"timKiemBenhNhanSearch.BHYTMaSoThe\\\" id=\\\"MaBHYT\\\" label=\\\"Mã BHYT\\\"\\n                (keyup)=\\\"onKey($event)\\\">\\n            </app-textbox>\\n            <app-textbox fxFlex=\\\"15%\\\" [(model)]=\\\"timKiemBenhNhanSearch.HoTen\\\" id=\\\"HoTen\\\" label=\\\"Họ và tên\\\"  [upperCase]=\\\"true\\\"\\n                (keyup)=\\\"onKey($event)\\\">\\n            </app-textbox>\\n\\n            <app-datepicker fxFlex=\\\"11%\\\" [(model)]=\\\"timKiemBenhNhanSearch.NgaySinhDisplay\\\" id=\\\"NgaySinhDisplay\\\"\\n                label=\\\"Ngày sinh\\\" (keyup)=\\\"onKey($event)\\\">\\n            </app-datepicker>\\n\\n            <app-textbox fxFlex=\\\"12%\\\" [(model)]=\\\"timKiemBenhNhanSearch.SoChungMinhThu\\\" id=\\\"CMND\\\" label=\\\"CMND\\\"\\n                (keyup)=\\\"onKey($event)\\\">\\n            </app-textbox>\\n            <app-textboxmask fxFlex=\\\"10%\\\" [(model)]=\\\"timKiemBenhNhanSearch.SoDienThoai\\\" id=\\\"DienThoai\\\"\\n                label=\\\"Điện thoại\\\" (keyup)=\\\"onKey($event)\\\" mask=\\\"000 000 0000\\\">\\n            </app-textboxmask>\\n            <app-textbox fxFlex=\\\"20%\\\" [(model)]=\\\"timKiemBenhNhanSearch.DiaChi\\\" id=\\\"DiaChi\\\" label=\\\"Địa chỉ\\\"\\n                (keyup)=\\\"onKey($event)\\\">\\n            </app-textbox>\\n            <div fxFlex=\\\"5%\\\">\\n                <button type=\\\"button\\\" color=\\\"primary\\\" (keyup)=\\\"onKey($event)\\\" (click)=\\\"TimKiem()\\\" mat-raised-button\\n                    class=\\\"mt-5\\\">\\n                    Tìm</button>\\n            </div>\\n\\n        </div>\\n    </div>\\n</ng-template>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.html\":\n/*!*****************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.html ***!\n  \\*****************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\">\\n\\n    <div style=\\\"margin-top: 5px;\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\">\\n        <div fxFlex=\\\"100%\\\" style=\\\"padding-left: 7px; text-align: center;\\\">\\n            Số thẻ BHYT: <span style=\\\"font-weight: bold;\\\">{{data.MaThe}}</span>\\n        </div>\\n        <div fxFlex=\\\"100%\\\" style=\\\"padding-left: 7px; text-align: center;\\\">\\n            Họ và tên: <span style=\\\"font-weight: bold;\\\">{{data.TenBenhNhan}}</span>\\n        </div>\\n        <div fxFlex=\\\"100%\\\" style=\\\"padding-left: 7px; text-align: center;\\\">\\n            Ngày sinh: <span style=\\\"font-weight: bold;\\\">{{data.NgaySinhDisplay}}</span>\\n        </div>\\n    </div>\\n\\n</div>\\n\\n<div style=\\\"text-align: center;\\\">\\n    <h4>Hệ thống đang kiểm tra thông tin BHYT...</h4>\\n    <button color=\\\"primary\\\" mat-raised-button type=\\\"button\\\">\\n        <img src=\\\"/assets/img/loader.gif\\\" alt=\\\"Loading\\\" style=\\\"display: inline;\\\" />\\n    </button>\\n</div>\\n\\n\\n<!-- <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"menu\\\" (click)=\\\"close()\\\">Đóng</button>\\n</div> -->\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.html\":\n/*!***********************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.html ***!\n  \\***********************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>THÔNG BÁO</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <!-- <h3 class=\\\"sub-title\\\">Thông Tin Thẻ</h3> -->\\n    <table width=\\\"100%\\\">\\n        <tr>\\n            <td>Số thẻ BHYT: <strong>{{data.BHYTMaSoThe}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Họ và tên: <strong>{{data.HoTen}}</strong></td>\\n            <td>Năm sinh: <strong>{{data.NgayThangNamSinhDisplay}}</strong></td>\\n            <td>Giới tính: <strong>{{data.GioiTinhDisplay}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Ngày có hiệu lực: <strong>{{data.NgayCoHieuLucDisplay}}</strong></td>\\n            <td>Ngày hết hiệu lực: <strong [style.color] = \\\"data.isOutOfDate == true ? 'red' : 'black' \\\">{{data.NgayHetHieuLucDisplay}}</strong></td>\\n        </tr>\\n    </table>\\n\\n    <div style=\\\"margin-top: 30px\\\">\\n        <!-- <h3 class=\\\"sub-title, sub-title-bottom\\\">Người bệnh này không tồn tại trên cổng BHYT</h3> -->\\n        <h3 class=\\\"sub-title, sub-title-bottom err-mess-bhyt\\\">{{messageErrFromBHYT}}</h3>\\n    </div>\\n\\n    <div class=\\\"div-title-bottom\\\">\\n        <button type=\\\"button\\\" mat-button class=\\\"mr-1\\\" (click)=\\\"huy()\\\">Hủy</button>\\n        <button type=\\\"button\\\" class=\\\"mr-1\\\" (click)=\\\"khamKhongBHYT()\\\" color=\\\"primary\\\" mat-raised-button>Khám không có thẻ BHYT</button>\\n        <button type=\\\"button\\\" (click)=\\\"chapNhanBHYTNhapTay()\\\" color=\\\"primary\\\" mat-raised-button>Chấp nhận BHYT nhập tay</button>\\n    </div>\\n    \\n</mat-dialog-content>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component.html\":\n/*!***************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component.html ***!\n  \\***************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<p>tiep-nhan-benh-nhan-lich-su works!</p>\\n\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.html\":\n/*!*************************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.html ***!\n  \\*************************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>THÔNG BÁO</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <!-- <h3 class=\\\"sub-title\\\">Thông Tin Thẻ</h3> -->\\n    <table width=\\\"100%\\\">\\n        <tr>\\n            <td>Số thẻ BHYT: <strong>{{data.BHYTMaSoThe}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Họ và tên: <strong>{{data.HoTen}}</strong></td>\\n            <td>Năm sinh: <strong>{{data.NgayThangNamSinhDisplay}}</strong></td>\\n            <td>Giới tính: <strong>{{data.GioiTinhDisplay}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Ngày có hiệu lực: <strong>{{data.NgayCoHieuLucDisplay}}</strong></td>\\n            <td>Ngày hết hiệu lực: <strong [style.color] = \\\"data.isOutOfDate == true ? 'red' : 'black' \\\">{{data.NgayHetHieuLucDisplay}}</strong></td>\\n        </tr>\\n    </table>\\n\\n    <div style=\\\"margin-top: 30px\\\">\\n        <h3 class=\\\"sub-title, sub-title-bottom\\\">Bạn không thể sử dụng thẻ này vì thẻ đã hết hiệu lực</h3>\\n    </div>\\n\\n    <div class=\\\"div-title-bottom\\\">\\n        <button type=\\\"button\\\" mat-button class=\\\"mr-1\\\" (click)=\\\"huy()\\\">Hủy</button>\\n        <button type=\\\"button\\\" class=\\\"mr-1\\\" (click)=\\\"khamKhongBHYT()\\\" color=\\\"primary\\\" mat-raised-button>Khám không có thẻ BHYT</button>\\n        <button type=\\\"button\\\" (click)=\\\"chapNhanBHYTNhapTay()\\\" color=\\\"primary\\\" mat-raised-button>Chấp nhận BHYT nhập tay</button>\\n    </div>\\n    \\n</mat-dialog-content>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.html\":\n/*!***************************************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.html ***!\n  \\***************************************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>THÔNG BÁO</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <!-- <h3 class=\\\"sub-title\\\">Thông Tin Thẻ</h3> -->\\n    <table width=\\\"100%\\\">\\n        <tr>\\n            <td>Số thẻ BHYT: <strong>{{data.BHYTMaSoThe}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Họ và tên: <strong>{{data.HoTen}}</strong></td>\\n            <td>Năm sinh: <strong>{{data.NgayThangNamSinhDisplay}}</strong></td>\\n            <td>Giới tính: <strong>{{data.GioiTinhDisplay}}</strong></td>\\n        </tr>\\n    </table>\\n\\n    <div style=\\\"margin-top: 30px\\\">\\n        <h3 class=\\\"sub-title, sub-title-bottom\\\">Không thể kiểm tra thẻ này trên cổng BHYT, bạn hãy thử lại lần nữa</h3>\\n    </div>\\n\\n    <div class=\\\"div-title-bottom\\\">\\n        <button class=\\\"div-margin-bottom\\\" type=\\\"button\\\" mat-button class=\\\"mr-1\\\" (click)=\\\"khamKhongBHYT()\\\">Hủy</button>\\n        <button class=\\\"div-margin-bottom\\\" type=\\\"button\\\" (click)=\\\"khamKhongBHYT()\\\" color=\\\"primary\\\" mat-raised-button>Khám không có thẻ BHYT</button>\\n        <!-- <button class=\\\"div-margin-bottom\\\" type=\\\"button\\\" (click)=\\\"chapNhanCoBHYT()\\\" color=\\\"primary\\\" mat-raised-button>Chấp nhận có BHYT</button> -->\\n        <button type=\\\"button\\\" (click)=\\\"chapNhanBHYTNhapTay()\\\" class=\\\"div-margin-bottom\\\" color=\\\"primary\\\" mat-raised-button>Chấp nhận BHYT nhập tay</button>\\n        <button type=\\\"button\\\" (click)=\\\"thuLai()\\\" color=\\\"primary\\\" mat-raised-button>Thử lại</button>\\n    </div>\\n    \\n</mat-dialog-content>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.html\":\n/*!***********************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.html ***!\n  \\***********************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n\\n<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>LỊCH SỬ KCB</div>\\n    <!-- <button type=\\\"button\\\" mat-icon-button (click)=\\\"close('No answer')\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button> -->\\n</div>\\n\\n<mat-dialog-content>\\n    <app-grid [gridColumns]=\\\"gridColumns\\\" [gridDataSource]=\\\"gridData\\\"\\n    [documentType]=\\\"documentType\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" \\n    [useHeaderDefault]=\\\"false\\\" #grid [useActionDefault]=\\\"false\\\"\\n    [checkboxAble]=\\\"false\\\" height=\\\"300\\\">\\n</app-grid>\\n</mat-dialog-content>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.html\":\n/*!***************************************************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.html ***!\n  \\***************************************************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n\\n<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>LỊCH SỬ KIỂM TRA THẺ BHYT</div>\\n    <!-- <button type=\\\"button\\\" mat-icon-button (click)=\\\"close('No answer')\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button> -->\\n</div>\\n\\n<mat-dialog-content>\\n    <app-grid [gridColumns]=\\\"gridColumns\\\" [gridDataSource]=\\\"gridData\\\"\\n    [documentType]=\\\"documentType\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" \\n    [useHeaderDefault]=\\\"false\\\" #grid [useActionDefault]=\\\"false\\\"\\n    [checkboxAble]=\\\"false\\\" height=\\\"400\\\">\\n    <!-- height=\\\"300\\\" -->\\n</app-grid>\\n</mat-dialog-content>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.html\":\n/*!***********************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.html ***!\n  \\***********************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Thông Tin Bảo Hiểm Y Tế</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <h3 class=\\\"sub-title\\\">Thông Tin Thẻ</h3>\\n    <table width=\\\"100%\\\">\\n        <tr>\\n            <td width=\\\"28%\\\">Ngày sinh: <strong>{{data.BenhNhan.NgayThangNamSinhDisplay}}</strong></td>\\n            <td width=\\\"29%\\\">Giới tính: <strong>{{data.BenhNhan.GioiTinhDisplay}}</strong></td>\\n            <td>Địa chỉ: <strong>{{data.DiaChiDisplay}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Mã ĐKBĐ: <strong>{{data.MaDKBD}}</strong></td>\\n            <td>Nơi ĐKBH: <strong>{{data.BenhNhan.NoiDangKyBHYT}}</strong></td>\\n            <td>Cơ quan BHXH: <strong>{{data.cqBHXH}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Ngày có hiệu lực: <strong>{{data.NgayCoHieuLucDisplay}}</strong></td>\\n            <td>Ngày hết hiệu lực: <strong [style.color] = \\\"data.isOutOfDate == true ? 'red' : 'black' \\\">{{data.NgayHetHieuLucDisplay}}</strong></td>\\n            <td>Ngày đủ 5 năm: <strong>{{data.NgayDu5NamDisplay}}</strong></td>\\n        </tr>\\n    </table>\\n    <h3 class=\\\"sub-title\\\">Thông Tin Khám Chữa Bệnh</h3>\\n</mat-dialog-content>\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component.html\":\n/*!*****************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component.html ***!\n  \\*****************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<app-grid baseRoute=\\\"/them-yeu-cau-tiep-nhan\\\" [gridColumns]=\\\"gridColumns\\\"\\n        [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n        [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [urlGetData]=\\\"urlGetDataGrid\\\"\\n        [urlGetTotalPage]=\\\"urlGetTotalPageGrid\\\" [additionalSearchString]=\\\"BenhNhan+''\\\" [autoHeight]=true> \\n    </app-grid>\\n\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.html\":\n/*!***********************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.html ***!\n  \\***********************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-15\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <vex-breadcrumbs [crumbs]=\\\"[\\n                    {Title:'Tiếp Nhận Người Bệnh',Path:''}\\n                    ,{Title:'Thêm Yêu Cầu Tiếp Nhận',Path:'',Active:true}\\n                    ]\\\">\\n            </vex-breadcrumbs>\\n            <app-hot-key [keys]=\\\"[\\n            {Key:'Ctrl + Q',Description:'Quét mã vạch'},\\n            {Key:'Ctrl + F1',Description:'Di chuyển tới và check Có BHYT'},\\n            {Key:'Ctrl + F2',Description:'Di chuyển tới và check NHẬP TAY'},\\n            {Key:'Ctrl + F3',Description:'Di chuyển tới và check Có giấy chuyển viện'},\\n            {Key:'Ctrl + F5',Description:'Di chuyển tới và check Có giấy miễn cùng chi trả'},\\n            {Key:'Ctrl + F6',Description:'Di chuyển tới và check Có miễn giảm'},\\n            {Key:'Ctrl + F7',Description:'Di chuyển tới và check CÓ BHTN'},\\n            {Key:'Ctrl + F8',Description:'Di chuyển tới và mở tab Chỉ định dịch vụ'},\\n            {Key:'Ctrl + F9',Description:'Di chuyển tới và mở tab Tài liệu đính kèm'},\\n            {Key:'Ctrl + F10',Description:'Di chuyển tới và mở tab Người giám hộ'},\\n            {Key:'Ctrl + F11',Description:'Di chuyển tới và mở tab Lịch hẹn'},\\n            {Key:'Ctrl + F12',Description:'Di chuyển tới và mở tab Lịch sử khám bệnh'},\\n            {Key:'Ctrl + S',Description:'Lưu'},\\n            {Key:'Ctrl + Shift + S',Description:'Lưu và in phiếu chỉ định'},\\n            {Key:'Esc',Description:'Hủy',End:true}\\n            ]\\\"></app-hot-key>\\n            <!-- <app-radio id=\\\"LoaiKham\\\" name=\\\"LoaiKham\\\" class=\\\"no-format-css rad-white\\\"\\n                [(model)]=\\\"tiepNhanBenhNhan.LoaiKham\\\"\\n                [items]=\\\"[{Value:1,Text:'Khám Có BHYT'},{Value:2,Text:'Khám Nhân Dân'},{Value:3,Text:'Khám Sức Khỏe Tổng Quát'}]\\\">\\n            </app-radio> -->\\n        </div>\\n    </vex-page-layout-header>\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div @fadeInUp class=\\\"overflow-auto -mt-15\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n                <div @fadeInUp class=\\\"card\\\" fxFlex=\\\"auto\\\">\\n                    <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\">\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                fxLayoutGap.lt-sm=\\\"0\\\" fxFlex=\\\"100%\\\">\\n                                <div fxFlex=\\\"15%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\">\\n                                    <h3 class=\\\"sub-title mt-0\\\">\\n                                        Thông Tin Bảo Hiểm Y Tế\\n                                        <!-- <button (click)=\\\"openPopupGoiDichVu()\\\">Test</button> -->\\n                                    </h3>\\n                                </div>\\n                                <!-- &nbsp;&nbsp; -->\\n                                <div fxFlex=\\\"12%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" kendoTooltip>\\n                                    <app-checkbox (modelChange)=\\\"coBHYTChange($event)\\\"\\n                                        [(model)]=\\\"tiepNhanBenhNhan.CoBHYT\\\" id=\\\"CheckboxIsHaveBHYT\\\"\\n                                        [disabled]=\\\"tiepNhanBenhNhan.TuNhap == true\\\" label=\\\"Có\\\"\\n                                        title=\\\"Phím tắt: Ctrl + F1\\\"></app-checkbox>\\n                                    &nbsp;&nbsp;&nbsp;&nbsp;\\n                                    <app-checkbox (modelChange)=\\\"tuNhapChange($event)\\\"\\n                                        [(model)]=\\\"tiepNhanBenhNhan.TuNhap\\\" id=\\\"TuNhap\\\"\\n                                        [disabled]=\\\"tiepNhanBenhNhan.CoBHYT != true\\\" label=\\\"Nhập tay\\\"\\n                                        title=\\\"Phím tắt: Ctrl + F2\\\"></app-checkbox>\\n                                </div>\\n\\n                                <div fxFlex=\\\"53%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" kendoTooltip>\\n                                    <p style=\\\"color:red; font-weight:bold\\\">{{errMessageKhongChoPhepTaoMoiYCTN}}</p>\\n                                </div>\\n\\n                                <div fxFlex=\\\"20%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\">\\n                                    <div fxFlex=\\\"0%\\\">\\n\\n                                    </div>\\n                                    <div fxFlex=\\\"100%\\\" style=\\\"text-align: right;\\\">\\n                                        <a style=\\\"text-decoration: underline; color: blue; font-style: italic;\\\"\\n                                            (click)=\\\"lichSuKiemTraTheBHYT()\\\">Lịch\\n                                            sử kiểm tra thẻ BHYT</a>\\n                                        <a style=\\\"text-decoration: underline; color: blue; font-style: italic; margin-left: 10px;\\\"\\n                                            (click)=\\\"lichSuKBC()\\\">\\n                                            Lịch sử KCB\\n                                        </a>\\n                                    </div>\\n                                </div>\\n                            </div>\\n\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                fxLayoutGap.lt-sm=\\\"0\\\" *ngIf=\\\"tiepNhanBenhNhan.CoBHYT == true\\\">\\n                                <div fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" style=\\\"position: relative;\\\" kendoTooltip>\\n                                    <app-textbox id=\\\"SoTheBHYT\\\" label=\\\"Số thẻ BHYT\\\"\\n                                        [(model)]=\\\"tiepNhanBenhNhan.BHYTMaSoThe\\\" (keyup)=\\\"onKey($event, true, 1)\\\"\\n                                        [isAutoFocus]=\\\"true\\\" (blurChange)=\\\"blur($event, true)\\\"\\n                                        (modelChange)=\\\"ThongTinBenhNhanMaSoTHeChange($event)\\\" [required]=\\\"true\\\"\\n                                        [validationerror]=\\\"'BHYTMaSoThe' | validationerror:validationErrors\\\">\\n                                    </app-textbox>\\n\\n                                    <button (keyup)=\\\"onKeyScanner($event)\\\" (click)=\\\"QuetMaQRCodeClick()\\\" color=\\\"primary\\\"\\n                                        class=\\\"image-barcode\\\" mat-mini-fab type=\\\"button\\\" kendoTooltip\\n                                        title=\\\"Quét mã vạch thẻ BHYT\\\" title=\\\"Phím tắt: Ctrl + Q\\\">\\n                                        <img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n                                    </button>\\n                                </div>\\n                                <app-textbox id=\\\"BHYTMaDKBD\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Mã nơi ĐKBH\\\"\\n                                    maxlength=\\\"200\\\" (blurChange)=\\\"blurMaNoiDKBD($event)\\\"\\n                                    (keyup)=\\\"onKeyMaNoiDKBD($event)\\\" [(model)]=\\\"tiepNhanBenhNhan.BHYTMaDKBD\\\"\\n                                    [required]=\\\"true\\\" [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\"\\n                                    [validationerror]=\\\"'BHYTMaDKBD' | validationerror:validationErrors\\\">\\n                                </app-textbox>\\n\\n                                <app-textbox id=\\\"NoiDangKyBHYT\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Nơi ĐKBH\\\"\\n                                    maxlength=\\\"200\\\" [(model)]=\\\"tiepNhanBenhNhan.NoiDangKyBHYT\\\" [disabled]=\\\"true\\\">\\n                                </app-textbox>\\n\\n                                <app-textboxnumeric [(model)]=\\\"tiepNhanBenhNhan.BHYTMucHuong\\\" id=\\\"BHYTMucHuong\\\"\\n                                    fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Mức hưởng (%)\\\" format=\\\"0\\\" [required]=\\\"true\\\"\\n                                    [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\" (modelChange)=\\\"mucHuongChange($event)\\\"\\n                                    min=\\\"1\\\" max=\\\"100\\\"\\n                                    [validationerror]=\\\"'BHYTMucHuong' | validationerror:validationErrors\\\">\\n                                </app-textboxnumeric>\\n\\n                                <app-textbox id=\\\"BHYTDiaChi\\\" fxFlex=\\\"40%\\\" fxFlex.sm=\\\"40%\\\" label=\\\"Địa chỉ\\\"\\n                                    maxlength=\\\"200\\\"\\n                                    placeHolder=\\\"Địa chỉ (Số nhà/đường phố, Phường/Xã, Quận/Huyện, Tỉnh/Thành phố)\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.BHYTDiaChi\\\" [required]=\\\"true\\\"\\n                                    [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\" (blurChange)=\\\"blurBHYTDiaChi($event)\\\"\\n                                    (keyup)=\\\"onKeyBHYTDiaChi($event)\\\"\\n                                    [validationerror]=\\\"'BHYTDiaChi' | validationerror:validationErrors\\\">\\n                                </app-textbox>\\n\\n                                <app-radio id=\\\"LyDoVaoVien\\\" label=\\\"Tuyến khám\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.LyDoVaoVien\\\" (modelChange)=\\\"lyDoVaoVienChange($event)\\\"\\n                                    [items]=\\\"[{Value:1,Text:'Đúng tuyến'},{Value:3,Text:'Trái tuyến'}]\\\">\\n                                </app-radio>\\n\\n                                <app-datepicker id=\\\"BHYTNgayHieuLuc\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                    [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\"\\n                                    (modelChange)=\\\"ngayCoHieuLucChange($event)\\\" (blur)=\\\"blurNgayCoHieuLuc($event)\\\"\\n                                    (keyup)=\\\"onKeyNgayCotHieuLuc($event)\\\" label=\\\"Ngày có hiệu lực\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayHieuLuc\\\" [required]=\\\"true\\\"\\n                                    [validationerror]=\\\"'BHYTNgayHieuLuc' | validationerror:validationErrors\\\">\\n                                </app-datepicker>\\n\\n                                <app-datepicker id=\\\"BHYTNgayHetHan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                    [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\" (blur)=\\\"blurNgayHetHieuLuc($event)\\\"\\n                                    (keyup)=\\\"onKeyNgayHetHieuLuc($event)\\\" label=\\\"Ngày hết hiệu lực\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayHetHan\\\" [required]=\\\"true\\\"\\n                                    [validationerror]=\\\"'BHYTNgayHetHan' | validationerror:validationErrors\\\">\\n                                </app-datepicker>\\n\\n                                <app-datepicker id=\\\"BHYTNgayDu5Nam\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                    [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\" label=\\\"Ngày đủ 5 năm\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayDu5Nam\\\">\\n                                </app-datepicker>\\n\\n                                <app-textbox\\n                                    *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == true && soPhanTramHuongBHYT != null && tiepNhanBenhNhan.IsCheckedBHYT != null\\\"\\n                                    id=\\\"messageThanhCong\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Kiểm tra trên BHYT\\\"\\n                                    maxlength=\\\"200\\\" [disabled]=\\\"true\\\" [(model)]=\\\"messageThanhCong\\\" class=\\\"green\\\">\\n                                </app-textbox>\\n\\n                                <app-textbox\\n                                    *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == false && soPhanTramHuongBHYT != null && tiepNhanBenhNhan.IsCheckedBHYT != null\\\"\\n                                    id=\\\"messageKhongThanhCong\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Kiểm tra trên BHYT\\\"\\n                                    maxlength=\\\"200\\\" [disabled]=\\\"true\\\" [(model)]=\\\"messageKhongThanhCong\\\" class=\\\"red\\\">\\n                                </app-textbox>\\n\\n                                <app-textbox *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == null\\\" id=\\\"messageNULL\\\"\\n                                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Kiểm tra trên BHYT\\\" maxlength=\\\"200\\\"\\n                                    [disabled]=\\\"true\\\">\\n                                </app-textbox>\\n\\n                                <!-- </div> -->\\n\\n                                <!-- <div fxFlex=\\\"80%\\\"> -->\\n                                <!-- <div>\\n                                        <ul class=\\\"inline\\\">\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Mã nơi ĐKBH: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.BHYTMaDKBD}}</strong>\\n                                            </li>\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Nơi ĐKBH: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.NoiDangKyBHYT}}</strong>\\n                                            </li>\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Ngày đủ 5 năm: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.NgayDu5NamDisplay}}</strong>\\n                                            </li>\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Mức hưởng: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null && tiepNhanBenhNhan.BHYTMucHuong != null\\\">{{tiepNhanBenhNhan.BHYTMucHuong}}%</strong>\\n                                            </li>\\n                                        </ul>\\n                                    </div>\\n\\n                                    <div>\\n                                        <ul class=\\\"inline\\\">\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Ngày có hiệu lực: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.NgayCoHieuLucDisplay}}</strong>\\n                                            </li>\\n\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Ngày hết hiệu lực: <strong\\n                                                *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.NgayHetHieuLucDisplay}}</strong>\\n                                        </li>\\n                                        <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">\\n\\n                                        </li>\\n                                        <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">\\n\\n                                        </li>\\n                                        </ul>\\n                                    </div>\\n\\n                                    <div>\\n                                        <ul class=\\\"inline\\\">\\n                                            <li fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\">Địa chỉ: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.BHYTDiaChi}}</strong>\\n                                            </li>\\n                                            <li fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\">Kiểm tra trên BHYT: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == true && soPhanTramHuongBHYT != null\\\" style=\\\"color: green;\\\">Kiểm tra\\n                                                    thành công</strong>\\n                                                <strong *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == false && soPhanTramHuongBHYT != null\\\" style=\\\"color: red;\\\">Kiểm\\n                                                    tra không thành công</strong></li>\\n                                            <li fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\">\\n                                                <a style=\\\"text-decoration: underline; color: blue; font-style: italic;\\\" (click)=\\\"lichSuKBC()\\\">Lịch sử KCB</a>\\n                                            </li>\\n                                        </ul>\\n                                    </div> -->\\n\\n\\n\\n                                <!-- </div> -->\\n\\n\\n                            </div>\\n\\n                        </div>\\n\\n                        <div style=\\\"height: 30px;\\\">\\n\\n                        </div>\\n\\n                        <div id=\\\"test\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                            fxLayoutGap.lt-sm=\\\"0\\\">\\n                            <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thông Tin Hành Chính\\n                                <span class=\\\"thong-tin-tai-khoan-benh-nhan\\\"\\n                                    *ngIf=\\\"thongTinTaiKhoanBenhNhan != null && thongTinTaiKhoanBenhNhan != undefined\\\">\\n                                    Mã NB: <span\\n                                        style=\\\"font-weight: bold;\\\">{{thongTinTaiKhoanBenhNhan.MaBenhNhan}}</span> - Tài\\n                                    Khoản: <span\\n                                        style=\\\"font-weight: bold; color:green\\\">{{thongTinTaiKhoanBenhNhan.SoDuTaiKhoan |\\n                                        currency:'VND'}}</span>\\n                                </span>\\n                            </h3>\\n                            <app-textbox class=\\\"text-transform-uppercase\\\" #HoVaTenTextbox\\n                                (blurChange)=\\\"blur($event, false)\\\" id=\\\"HoTen\\\" fxFlex=\\\"15%\\\" fxFlex.sm=\\\"15%\\\"\\n                                label=\\\"Họ và tên\\\" [(model)]=\\\"tiepNhanBenhNhan.HoTen\\\" maxlength=\\\"100\\\"\\n                                [isAutoFocus]=\\\"true\\\" (keyup)=\\\"onKey($event, false, 2)\\\" [upperCase]=\\\"true\\\"\\n                                (modelChange)=\\\"ThongTinBenhNhanHoTenChange($event)\\\" [required]=\\\"true\\\"\\n                                [validationerror]=\\\"'HoTen' | validationerror:validationErrors\\\">\\n                            </app-textbox>\\n                            <div fxFlex=\\\"5%\\\" fxFlex.sm=\\\"5%\\\">\\n                                <button (keyup)=\\\"onKeyLookBN($event)\\\" color=\\\"default\\\" mat-raised-button type=\\\"button\\\"\\n                                    style=\\\"height: 100%;\\\" tabindex=\\\"-1\\\" (click)=\\\"timKiemBenhNhanPopup()\\\"\\n                                    [ngStyle]=\\\"{'color':true == true?'green':'grey'}\\\">\\n                                    <mat-icon [icIcon]=\\\"icFind\\\"></mat-icon>\\n                                    <div style=\\\"line-height: 20px;\\\">{{totalBenhNhan}}</div>\\n                                </button>\\n                            </div>\\n\\n                            <app-datepicker #NgaySinhCoBHYT *ngIf=\\\"tiepNhanBenhNhan.CoBHYT == true\\\"\\n                                (blur)=\\\"blur($event, false, 3)\\\" id=\\\"NgaySinh\\\" fxFlex=\\\"13%\\\" fxFlex.sm=\\\"13%\\\"\\n                                label=\\\"Ngày sinh\\\" [(model)]=\\\"tiepNhanBenhNhan.NgayThangNamSinh\\\"\\n                                (keyup)=\\\"onKey($event, false, 3)\\\" (modelChange)=\\\"ThongTinBenhNhanNgaySinhChange($event)\\\"\\n                                [required]=\\\"true\\\"\\n                                [validationerror]=\\\"'NgayThangNamSinh' | validationerror:validationErrors\\\">\\n                            </app-datepicker>\\n\\n                            <app-datepicker #NgaySinhKhongCoBHYT *ngIf=\\\"tiepNhanBenhNhan.CoBHYT != true\\\"\\n                                (blur)=\\\"blur($event, false, 3)\\\" id=\\\"NgaySinh\\\" fxFlex=\\\"13%\\\" fxFlex.sm=\\\"13%\\\"\\n                                label=\\\"Ngày sinh\\\" [required]=\\\"true\\\" [(model)]=\\\"tiepNhanBenhNhan.NgayThangNamSinh\\\"\\n                                (keyup)=\\\"onKey($event, false, 3)\\\" (modelChange)=\\\"ThongTinBenhNhanNgaySinhChange($event)\\\"\\n                                [validationerror]=\\\"'NgayThangNamSinh' | validationerror:validationErrors\\\">\\n                            </app-datepicker>\\n\\n                            <app-textboxnumeric [(model)]=\\\"tiepNhanBenhNhan.NamSinh\\\" id=\\\"Numerictextbox\\\" fxFlex=\\\"7%\\\"\\n                                (blur)=\\\"blur($event, false, 3)\\\" (keyup)=\\\"onKey($event, false, 3)\\\" fxFlex.sm=\\\"7%\\\"\\n                                label=\\\"Năm sinh\\\" format=\\\"0\\\" min=\\\"1\\\" max=\\\"9999\\\" (modelChange)=\\\"NamSinhChange($event)\\\"\\n                                [disabled]=\\\"tiepNhanBenhNhan.NgayThangNamSinh!=null\\\"\\n                                [validationerror]=\\\"'NamSinh' | validationerror:validationErrors\\\">\\n                            </app-textboxnumeric>\\n\\n                            <!-- *ngIf=\\\"under6yearsold\\\" -->\\n                            <app-textbox id=\\\"SoTuoi\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                label=\\\"Số tuổi\\\" [disabled]=\\\"true\\\" [(model)]=\\\"soTuoiDisplay\\\">\\n                            </app-textbox>\\n\\n                            <app-textboxmask id=\\\"SoDienThoai\\\" onlynumber=\\\"true\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                label=\\\"Số điện thoại\\\" (keyup)=\\\"onKeyTimKiemBenhNhan($event)\\\" maxlength=\\\"10\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.SoDienThoai\\\" mask=\\\"000 000 0000\\\">\\n                            </app-textboxmask>\\n\\n                            <app-dropdownlist id=\\\"Dropdownlist\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Giới tính\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetGioiTinh\\\" [(model)]=\\\"tiepNhanBenhNhan.GioiTinh\\\" bind=\\\"true\\\"\\n                                [validationerror]=\\\"'DiaChi' | validationerror:validationErrors\\\">\\n                            </app-dropdownlist>\\n\\n                            <app-combobox id=\\\"NgheNghiep\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Nghề Nghiệp\\\" bind=\\\"true\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetNgheNghiep\\\" [(model)]=\\\"tiepNhanBenhNhan.NgheNghiepId\\\">\\n                            </app-combobox>\\n\\n                            <app-combobox id=\\\"GetQuocTich\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Quốc tịch\\\" bind=\\\"true\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetQuocTich\\\" [(model)]=\\\"tiepNhanBenhNhan.QuocTichId\\\"\\n                                [required]=\\\"true\\\" [validationerror]=\\\"'QuocTichId' | validationerror:validationErrors\\\">\\n                            </app-combobox>\\n                            <!-- broadcastAfterLoaded=\\\"true\\\" -->\\n                            <app-combobox id=\\\"TinhThanhPho\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" bind=\\\"true\\\"\\n                                (modelChange)=\\\"TinhThanhPhoChange($event)\\\" label=\\\"Tỉnh/Thành Phố\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetTinhThanh/?quanHuyenId={{tiepNhanBenhNhan.QuanHuyenId}}\\\"\\n                                hierarchyKeyToSend=\\\"tinhThanh\\\" [(model)]=\\\"tiepNhanBenhNhan.TinhThanhId\\\"\\n                                class=\\\"item-no-padding\\\" [template]=\\\"tinhThanhTemplate\\\"\\n                                [templateHeader]=\\\"tinhThanhTemplateHeader\\\"\\n                                [required]=\\\"true\\\" [validationerror]=\\\"'TinhThanhId' | validationerror:validationErrors\\\">\\n                                <ng-template #tinhThanhTemplateHeader let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <th width=\\\"20%\\\">Mã</th>\\n                                            <th>Tên</th>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                                <ng-template #tinhThanhTemplate let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                            <td>{{dataItem.Ten}}</td>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                            </app-combobox>\\n                            <!-- broadcastAfterLoaded=\\\"true\\\" -->\\n                            <app-combobox id=\\\"QuanHuyen\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Quận/Huyện\\\"\\n                                #comboboxQuanHuyen (modelChange)=\\\"QuanHuyenChange($event)\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetQuanHuyen/?phuongXaId={{tiepNhanBenhNhan.PhuongXaId}}\\\"\\n                                hierarchyKeyToListen=\\\"tinhThanh\\\" hierarchyKeyToSend=\\\"quanHuyen\\\" bind=\\\"true\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.QuanHuyenId\\\" class=\\\"item-no-padding\\\"\\n                                [template]=\\\"quanHuyenTemplate\\\" [templateHeader]=\\\"quanHuyenTemplateHeader\\\"\\n                                [required]=\\\"true\\\" [validationerror]=\\\"'QuanHuyenId' | validationerror:validationErrors\\\">\\n                                <ng-template #quanHuyenTemplateHeader let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <th width=\\\"20%\\\">Mã</th>\\n                                            <th>Tên</th>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                                <ng-template #quanHuyenTemplate let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                            <td>{{dataItem.Ten}}</td>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                            </app-combobox>\\n\\n                            <!-- broadcastAfterLoaded=\\\"true\\\" -->\\n                            <app-combobox id=\\\"PhuongXa\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Phường/Xã\\\"\\n                                #comboboxPhuongXa url=\\\"TiepNhanBenhNhan/GetPhuongXa\\\" hierarchyKeyToListen=\\\"quanHuyen\\\"\\n                                (modelChange)=\\\"PhuongXaChange($event)\\\" [(model)]=\\\"tiepNhanBenhNhan.PhuongXaId\\\"\\n                                class=\\\"item-no-padding\\\" [template]=\\\"phuongXaTemplate\\\"\\n                                [templateHeader]=\\\"phuongXaTemplateHeader\\\"\\n                                [required]=\\\"true\\\" [validationerror]=\\\"'PhuongXaId' | validationerror:validationErrors\\\">\\n                                <ng-template #phuongXaTemplateHeader let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <th width=\\\"20%\\\">Mã</th>\\n                                            <th>Tên</th>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                                <ng-template #phuongXaTemplate let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                            <td>{{dataItem.Ten}}</td>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                            </app-combobox>\\n\\n                            <app-textbox class=\\\"text-transform-capitalize\\\" id=\\\"SoNhaDuongPho\\\" fxFlex=\\\"20%\\\"\\n                                fxFlex.sm=\\\"20%\\\" maxlength=\\\"200\\\" (keyup)=\\\"onKeyTimKiemBenhNhan($event)\\\"\\n                                label=\\\"Số nhà/Đường phố\\\" [(model)]=\\\"tiepNhanBenhNhan.DiaChi\\\"\\n                                (modelChange)=\\\"soNhaDuongPhoChange($event)\\\">\\n                            </app-textbox>\\n\\n                            <app-textbox id=\\\"SoCMND\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Số CMND\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.SoChungMinhThu\\\" maxlength=\\\"12\\\" onlynumber=\\\"true\\\"\\n                                (keyup)=\\\"onKeyTimKiemBenhNhanForLogicNewCMNDVaSdt($event)\\\"\\n                                [validationerror]=\\\"'SoChungMinhThu' | validationerror:validationErrors\\\">\\n                            </app-textbox>\\n\\n                            <app-textbox id=\\\"Email\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Email\\\" maxlength=\\\"200\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.Email\\\"\\n                                [validationerror]=\\\"'Email' | validationerror:validationErrors\\\">\\n                            </app-textbox>\\n\\n                            <!-- <button (click)=\\\"click()\\\">CLICK</button> -->\\n\\n                            <app-textbox id=\\\"NoiLamViec\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" maxlength=\\\"200\\\"\\n                                label=\\\"Nơi làm việc\\\" [(model)]=\\\"tiepNhanBenhNhan.NoiLamViec\\\"\\n                                [required]=\\\"tiepNhanBenhNhan.CoBHYT == true\\\"\\n                                [validationerror]=\\\"'NoiLamViec' | validationerror:validationErrors\\\">\\n                            </app-textbox>\\n\\n                            <app-combobox bind=\\\"true\\\" id=\\\"DanToc\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Dân tộc\\\" [reloadForGrid]=\\\"true\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetDanToc\\\" [(model)]=\\\"tiepNhanBenhNhan.DanTocId\\\">\\n                            </app-combobox>\\n\\n                            <div *ngIf=\\\"tiepNhanBenhNhan.CoBHYT == true\\\" style=\\\"width: 100%;\\\" fxLayout=\\\"row\\\"\\n                                xFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                                <div style=\\\"width: 100%;\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                    fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\n                                    <!-- <div *ngIf=\\\"tiepNhanBenhNhan.BHYTDuocMienCungChiTra == true\\n                                            && (tiepNhanBenhNhan.DuocChuyenVien == false || tiepNhanBenhNhan.DuocChuyenVien == null)\\\"\\n                                        fxFlex=\\\"80%\\\" fxFlex.sm=\\\"80%\\\">\\n\\n                                    </div> -->\\n\\n                                    <app-checkbox [(model)]=\\\"tiepNhanBenhNhan.BHYTDuocMienCungChiTra\\\" fxFlex=\\\"20%\\\"\\n                                        kendoTooltip fxFlex.sm=\\\"20%\\\" id=\\\"CheckboxAB\\\" label=\\\"Có giấy miễn cùng chi trả\\\"\\n                                        title=\\\"Phím tắt: Ctrl + F5\\\">\\n                                    </app-checkbox>\\n\\n                                    <app-upload *ngIf=\\\"tiepNhanBenhNhan.BHYTDuocMienCungChiTra == true\\\" fxFlex=\\\"60%\\\"\\n                                        fxFlex.sm=\\\"60%\\\" id=\\\"Upload\\\" label=\\\"Giấy miễn cùng chi trả đính kèm\\\"\\n                                        [model]=\\\"tiepNhanBenhNhan.BHYTGiayMienCungChiTra\\\"\\n                                        (uploadFileDone)=\\\"uploadFileMienCungChiTraDone($event)\\\">\\n                                    </app-upload>\\n\\n                                    <app-datepicker *ngIf=\\\"tiepNhanBenhNhan.BHYTDuocMienCungChiTra == true\\\"\\n                                        id=\\\"BHYTNgayDuocMienCungChiTra\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                        label=\\\"Ngày bắt đầu miễn cùng chi trả\\\"\\n                                        [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayDuocMienCungChiTra\\\">\\n                                    </app-datepicker>\\n\\n\\n\\n                                </div>\\n                            </div>\\n\\n                            <!-- style=\\\"width: 100%;\\\" -->\\n                            <div [fxFlex]=\\\"tiepNhanBenhNhan.DuocChuyenVien == true ? '100%' : '15%'\\\" [fxFlex.sm]=\\\"tiepNhanBenhNhan.DuocChuyenVien == true ? '100%' : '15%'\\\"\\n                                fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" kendoTooltip>\\n                                <app-checkbox [(model)]=\\\"tiepNhanBenhNhan.DuocChuyenVien\\\" [fxFlex]=\\\"tiepNhanBenhNhan.DuocChuyenVien == true ? '20%' : '100%'\\\" [fxFlex.sm]=\\\"tiepNhanBenhNhan.DuocChuyenVien == true ? '20%' : '100%'\\\"\\n                                    id=\\\"CheckboxA\\\" label=\\\"Có giấy chuyển viện\\\" title=\\\"Phím tắt: Ctrl + F3\\\">\\n                                </app-checkbox>\\n\\n                                <app-datepicker *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" id=\\\"ThoiGianChuyenVien\\\"\\n                                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Ngày chuyển tuyến\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.ThoiGianChuyenVien\\\">\\n                                </app-datepicker>\\n\\n                                <app-textbox *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" id=\\\"SoChuyenTuyen\\\"\\n                                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Số tuyến chuyển\\\" maxlength=\\\"20\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.SoChuyenTuyen\\\">\\n                                </app-textbox>\\n\\n                                <app-combobox *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" id=\\\"NoiChuyenId\\\"\\n                                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Tuyến chuyển\\\"\\n                                    url=\\\"TiepNhanBenhNhan/GetTuyenChuyen\\\" [(model)]=\\\"tiepNhanBenhNhan.NoiChuyenId\\\">\\n                                </app-combobox>\\n\\n                                <app-textbox *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" id=\\\"LyDoChuyen\\\"\\n                                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Lý do chuyển\\\" maxlength=\\\"200\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.LyDoChuyen\\\">\\n                                </app-textbox>\\n\\n                                <div *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\">\\n\\n                                </div>\\n\\n                                <app-upload *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" fxFlex=\\\"80%\\\" fxFlex.sm=\\\"80%\\\"\\n                                    id=\\\"Upload\\\" label=\\\"Giấy chuyển viện đính kèm\\\"\\n                                    [model]=\\\"tiepNhanBenhNhan.GiayChuyenVien\\\" (uploadFileDone)=\\\"uploadFileDone($event)\\\">\\n                                </app-upload>\\n                            </div>\\n\\n                            <div fxLayout=\\\"row wrap\\\" [fxFlex]=\\\"tiepNhanBenhNhan.DuocUuDai == true ? '100%' : '15%'\\\" [fxFlex.sm]=\\\"tiepNhanBenhNhan.DuocUuDai == true ? '100%' : '15%'\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                                <app-checkbox [(model)]=\\\"tiepNhanBenhNhan.DuocUuDai\\\" id=\\\"CheckboxUuDai\\\"\\n                                    (modelChange)=\\\"CoUuDaiChange($event)\\\" label=\\\"Có miễn giảm\\\" [fxFlex]=\\\"tiepNhanBenhNhan.DuocUuDai == true ? '10%' : '100%'\\\"\\n                                    [fxFlex.sm]=\\\"tiepNhanBenhNhan.DuocUuDai == true ? '10%' : '100%'\\\" title=\\\"Phím tắt: Ctrl + F6\\\" kendoTooltip></app-checkbox>\\n\\n                                <div style=\\\"margin-top: 3px;\\\" *ngIf=\\\"tiepNhanBenhNhan.DuocUuDai == true\\\" fxFlex=\\\"90%\\\"\\n                                    fxFlex.sm=\\\"90%\\\">\\n                                    <!-- <div fxLayout=\\\"row\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" fxLayoutGap=\\\"16px grid\\\">\\n\\n                                                                </div> -->\\n\\n                                    <!-- <label fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" style=\\\"margin-right: 10px\\\">Loại miễn giảm:\\n                                    </label> -->\\n                                    <!-- <app-radio fxFlex=\\\"85%\\\" fxFlex.sm=\\\"85%\\\" id=\\\"LoaiMienGiam\\\" class=\\\"no-format-css\\\"\\n                                        [(model)]=\\\"tiepNhanBenhNhan.LoaiMienGiam\\\"\\n                                        [items]=\\\"[{Value:1,Text:'Đối tượng ưu đãi'},{Value:2,Text:'Voucher'}]\\\">\\n                                    </app-radio> -->\\n\\n\\n                                </div>\\n\\n                                <div *ngIf=\\\"tiepNhanBenhNhan.DuocUuDai == true\\\" fxFlex=\\\"100%\\\">\\n                                    <div fxLayout=\\\"row wrap\\\" fxLayoutGap=\\\"16px grid\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                        style=\\\"width: 100%;\\\">\\n                                        <app-combobox id=\\\"DoiTuongKhamChuaBenh\\\" fxFlex=\\\"30%\\\" required=\\\"true\\\"\\n                                            fxFlex.sm=\\\"30%\\\" label=\\\"Đối tượng ưu đãi\\\" bind=\\\"true\\\"\\n                                            url=\\\"TiepNhanBenhNhan/GetDoiTuongUuDai\\\"\\n                                            [(model)]=\\\"tiepNhanBenhNhan.DoiTuongUuDaiId\\\"\\n                                            [validationerror]=\\\"'DoiTuongUuDaiId' | validationerror:validationErrors\\\">\\n                                        </app-combobox>\\n\\n                                        <app-combobox id=\\\"CongTyUuDai\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" required=\\\"true\\\"\\n                                            bind=\\\"true\\\" url=\\\"TiepNhanBenhNhan/GetCongTyUuDai\\\"\\n                                            [(model)]=\\\"tiepNhanBenhNhan.CongTyUuDaiId\\\" label=\\\"Công ty ưu đãi\\\"\\n                                            [validationerror]=\\\"'CongTyUuDaiId' | validationerror:validationErrors\\\">\\n                                        </app-combobox>\\n\\n                                        <div class=\\\"div-voucher\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\"\\n                                            kendoTooltip fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\">\\n                                            <kendo-multiselect #multiselect data-placeholder=\\\"Mã voucher\\\"\\n                                                [data]=\\\"listVoucherItem\\\" [(ngModel)]=\\\"value\\\" [clearButton]=\\\"false\\\"\\n                                                (open)=\\\"open()\\\" [filterable]=\\\"true\\\" (removeTag)=\\\"removeTag($event)\\\"\\n                                                (blur)=\\\"blurVoucher()\\\" (filterChange)=\\\"filterChange($event)\\\">\\n                                            </kendo-multiselect>\\n                                            <button (click)=\\\"QuetMaQRCodeClick()\\\" color=\\\"primary\\\" mat-mini-fab\\n                                                type=\\\"button\\\" class=\\\"button-barcoe-in-search\\\" kendoTooltip\\n                                                title=\\\"Quét mã vạch thẻ\\\" title=\\\"Phím tắt: Ctrl + Q\\\">\\n                                                <img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n                                            </button>\\n                                            <app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\"\\n                                                style=\\\"display: none;\\\"></app-barcode>\\n                                        </div>\\n                                        <app-validationerrorother fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"LstMaVoucher\\\"\\n                                            [validationerror]=\\\"'LstMaVoucher' | validationerror:validationErrors\\\">\\n                                        </app-validationerrorother>\\n\\n                                    </div>\\n\\n                                </div>\\n\\n                                <!-- <div *ngIf=\\\"tiepNhanBenhNhan.DuocUuDai == true\\\"\\n                                    fxFlex=\\\"100%\\\">\\n                                    <div fxLayout=\\\"row wrap\\\" fxLayoutGap=\\\"16px grid\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                        style=\\\"width: 100%;\\\">\\n                                        <div style=\\\"margin-top: -5px;\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\"\\n                                            fxLayoutAlign=\\\"start center\\\" kendoTooltip style=\\\"width: 100%;\\\">\\n                                            <kendo-multiselect  fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\"  #multiselect\\n                                                [data]=\\\"listVoucherItem\\\" [(ngModel)]=\\\"value\\\" [clearButton]=\\\"false\\\"\\n                                                (open)=\\\"open()\\\" [filterable]=\\\"true\\\" (removeTag)=\\\"removeTag($event)\\\" (blur)=\\\"blurVoucher()\\\"\\n                                                (filterChange)=\\\"filterChange($event)\\\">\\n                                            </kendo-multiselect>\\n                                            <button (click)=\\\"QuetMaQRCodeClick()\\\" color=\\\"primary\\\" mat-mini-fab\\n                                                type=\\\"button\\\" class=\\\"button-barcoe-in-search\\\" kendoTooltip title=\\\"Quét mã vạch thẻ\\\"\\n                                                title=\\\"Phím tắt: Ctrl + Q\\\">\\n                                                <img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n                                            </button>\\n                                            <app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\"\\n                                                style=\\\"display: none;\\\"></app-barcode>\\n                                        </div>\\n                                        <app-validationerrorother fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"LstMaVoucher\\\" [validationerror]=\\\"'LstMaVoucher' | validationerror:validationErrors\\\">\\n                                        </app-validationerrorother>\\n                                    </div>\\n                                </div> -->\\n                            </div>\\n\\n                            <div fxLayout=\\\"row wrap\\\" fxFlex=\\\"15%\\\" fxFlex.sm=\\\"15%\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                                <app-checkbox [(model)]=\\\"tiepNhanBenhNhan.LaCapCuu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" class=\\\"color-red\\\"\\n                                    id=\\\"ckbCapCuu\\\" label=\\\"Cấp cứu\\\">\\n                                </app-checkbox>\\n                            </div>\\n                        </div>\\n\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                            <h3 style=\\\"margin-top:10px !important\\\" fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thông Tin Bảo\\n                                Hiểm Tư Nhân &nbsp; <app-checkbox id=\\\"CheckboxIsHaveBHTN\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.CoBHTN\\\" label=\\\"Có\\\" title=\\\"Phím tắt: Ctrl + F7\\\"\\n                                    kendoTooltip></app-checkbox>\\n                            </h3>\\n                            <div fxFlex=\\\"100%\\\">\\n                                <div *ngIf=\\\"tiepNhanBenhNhan.CoBHTN == true\\\" fxLayout=\\\"row wrap\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                    fxLayout.lt-sm=\\\"column\\\" style=\\\"width: 100%;\\\">\\n                                    <app-combobox id=\\\"CongTyBaoHiemTuNhanId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                        [(model)]=\\\"themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId\\\" label=\\\"Công ty\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetCongTyBaoHiemTuNhan\\\" bind=\\\"true\\\"\\n                                        (modelChange)=\\\"congTyBaoHiemChange($event)\\\" required=\\\"true\\\" [required]=\\\"true\\\"\\n                                        [validationerror]=\\\"'CongTyBaoHiemTuNhanId' | validationerror:validationErrors\\\">\\n                                    </app-combobox>\\n\\n                                    <app-textbox id=\\\"MaSoThe\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Số thẻ\\\"\\n                                        [(model)]=\\\"themBaoHiemTuNhanModel.MaSoThe\\\" maxlength=\\\"30\\\">\\n                                    </app-textbox>\\n\\n                                    <app-datepicker id=\\\"NgayHieuLuc\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Từ ngày\\\"\\n                                        [(model)]=\\\"themBaoHiemTuNhanModel.NgayHieuLuc\\\">\\n                                    </app-datepicker>\\n\\n                                    <app-datepicker id=\\\"NgayHetHan\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Đến ngày\\\"\\n                                        [(model)]=\\\"themBaoHiemTuNhanModel.NgayHetHan\\\"\\n                                        [validationerror]=\\\"'NgayHetHan' | validationerror:validationErrors\\\">\\n                                    </app-datepicker>\\n\\n                                    <app-textboxmask id=\\\"SoDienThoai\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Điện thoại\\\"\\n                                        readonly=\\\"true\\\" maxlength=\\\"100\\\" [(model)]=\\\"themBaoHiemTuNhanModel.SoDienThoai\\\">\\n                                    </app-textboxmask>\\n\\n                                    <app-textbox id=\\\"DiaChi\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Địa chỉ\\\"\\n                                        readonly=\\\"true\\\" maxlength=\\\"200\\\" [(model)]=\\\"themBaoHiemTuNhanModel.DiaChi\\\">\\n                                    </app-textbox>\\n\\n                                    <div style=\\\"margin-bottom: 20px;\\\" fxLayoutAlign=\\\"end right\\\" fxFlex=\\\"100%\\\"\\n                                        fxFlex.sm=\\\"100%\\\" class=\\\"mr-4\\\">\\n                                        <button (click)=\\\"huyBHTN()\\\" mat-button class=\\\"mr-1 px-6 py-0\\\"><i\\n                                                class=\\\"ft-arrow-left \\\"></i>Hủy</button>\\n                                        <button *ngIf=\\\"isUpdateGrid == false\\\" (click)=\\\"ThemBHTN()\\\" color=\\\"primary\\\"\\n                                            mat-raised-button class=\\\"mr-1 px-6 py-o\\\"><i\\n                                                class=\\\"ft-save\\\"></i>Thêm</button>\\n                                        <button *ngIf=\\\"isUpdateGrid == true\\\" (click)=\\\"SuaBHTN()\\\" color=\\\"primary\\\"\\n                                            mat-raised-button class=\\\"mr-1 px-6 py-o\\\"><i class=\\\"ft-save\\\"></i>Cập\\n                                            nhật</button>\\n                                    </div>\\n\\n                                    <app-grid fxFlex=\\\"100%\\\" [gridDataSource]=\\\"gridDataSourceBHTN\\\"\\n                                        [gridColumns]=\\\"gridColumns\\\" #gridBHTN [documentType]=\\\"documentType\\\"\\n                                        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                                        [checkboxAble]=\\\"false\\\" pageSize=\\\"5\\\" [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\">\\n                                    </app-grid>\\n\\n                                </div>\\n                            </div>\\n                        </div>\\n\\n                        <ng-template #actionTemplate let-dataItem>\\n                            <button (click)=\\\"$event.stopPropagation()\\\" kendoTooltip title=\\\"Hành động\\\"\\n                                [matMenuTriggerFor]=\\\"actionsMenu\\\" mat-icon-button type=\\\"button\\\">\\n                                <mat-icon [icIcon]=\\\"icMoreHoriz\\\"></mat-icon>\\n                            </button>\\n                            <mat-menu #actionsMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n                                <ng-template let-customer=\\\"customer\\\" matMenuContent>\\n                                    <button (click)=\\\"updateGridBHTN(dataItem)\\\" mat-menu-item>\\n                                        <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n                                        <span>Sửa</span>\\n                                    </button>\\n                                    <button (click)=\\\"removeGridBHTN(dataItem.CongTyBaoHiemTuNhanId)\\\" mat-menu-item>\\n                                        <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                        <span>Xóa</span>\\n                                    </button>\\n                                </ng-template>\\n                            </mat-menu>\\n                        </ng-template>\\n\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" *ngIf=\\\"showbuttonLuuVaInPhieuXetNghiem == true\\\">\\n                            <h3 style=\\\"margin-top:10px !important\\\" fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thông Tin SARS-CoV\\n                            </h3>\\n                            <div fxFlex=\\\"100%\\\">\\n                                <app-textarea fxFlex=\\\"45%\\\" id=\\\"BieuHienLamSang\\\" [(model)]=\\\"tiepNhanBenhNhan.BieuHienLamSang\\\" label=\\\"Biểu hiện lâm sàng\\\"\\n                                    minHeight=\\\"20\\\" style=\\\"margin-right: 5px;\\\">\\n                                </app-textarea>\\n                                <app-textarea id=\\\"DichTeSarsCoV2\\\" [(model)]=\\\"tiepNhanBenhNhan.DichTeSarsCoV2\\\" fxFlex=\\\"45%\\\" label=\\\"Dịch tễ SARS-CoV 2\\\"\\n                                    minHeight=\\\"20\\\">\\n                                </app-textarea>\\n                            </div>\\n                        </div>\\n\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                            <h3 style=\\\"margin-top:20px !important\\\" fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thông Tin Tiếp\\n                                Nhận\\n                            </h3>\\n\\n                            <!-- <app-radio id=\\\"LoaiTiepNhan\\\" label=\\\"Loại tiếp nhận\\\" fxFlex=\\\"40%\\\" fxFlex.sm=\\\"40%\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.LoaiYeuCauTiepNhan\\\"\\n                                (modelChange)=\\\"loaiTiepNhanChange($event)\\\"\\n                                [items]=\\\"[{Value:1,Text:'Khám bệnh'},{Value:2,Text:'Thực hiện dịch vụ kỹ thuật'},{Value:3,Text:'Thực hiện dịch vụ khác'}]\\\">\\n                            </app-radio> -->\\n\\n                            <app-datetimepicker id=\\\"TiepNhanLuc\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Tiếp nhận lúc\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.ThoiGianTiepNhan\\\" [disabled]=\\\"true\\\"\\n                                [validationerror]=\\\"'ThoiGianTiepNhan' | validationerror:validationErrors\\\">\\n                            </app-datetimepicker>\\n\\n                            <app-combobox id=\\\"DoiTuongKhamChuaBenh\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                label=\\\"Đối tượng khám chữa bệnh ưu tiên\\\" [bind]=\\\"true\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetDoiTuongKhamChuaBenhUuTien\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.DoiTuongUuTienKhamChuaBenhId\\\">\\n                            </app-combobox>\\n\\n                            <!-- <app-combobox id=\\\"LyDoTiepNhan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Lý do tiếp nhận\\\" bind=\\\"true\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.LyDoTiepNhan\\\" url=\\\"TiepNhanBenhNhan/GetLyDoTiepNhan\\\" required=\\\"true\\\"\\n                                [validationerror]=\\\"'LyDoTiepNhan' | validationerror:validationErrors\\\">\\n                            </app-combobox> -->\\n\\n                            <app-combobox-tree id=\\\"LyDoTiepNhanId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Lý do tiếp nhận\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetLyDoTiepNhanTreeView\\\"\\n                                [modelText]=\\\"tiepNhanBenhNhan.LyDoTiepNhanText\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.LyDoTiepNhanId\\\" bind=\\\"true\\\" required=\\\"true\\\"\\n                                [validationerror]=\\\"'LyDoTiepNhanId' | validationerror:validationErrors\\\">\\n                            </app-combobox-tree>\\n\\n                            <app-combobox id=\\\"HinhThucDen\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Hình thức đến\\\"\\n                                bind=\\\"true\\\" (keyup)=\\\"onKeyHinhThucDen($event)\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.HinhThucDenId\\\" url=\\\"TiepNhanBenhNhan/GetHinhThucDen\\\"\\n                                [validationerror]=\\\"'HinhThucDenId' | validationerror:validationErrors\\\">\\n                            </app-combobox>\\n\\n                            <app-combobox id=\\\"NoiGioiThieu\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Nơi giới thiệu\\\"\\n                                bind=\\\"true\\\" [(model)]=\\\"tiepNhanBenhNhan.NoiGioiThieuId\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetNoiGioiThieu\\\" *ngIf=\\\"tiepNhanBenhNhan.HinhThucDenId == 2\\\"\\n                                [template]=\\\"noiGioiThieuTemplate\\\" [templateHeader]=\\\"noiGioiThieuTemplateHeader\\\"\\n                                class=\\\"item-no-padding\\\"\\n                                [validationerror]=\\\"'NoiGioiThieuId' | validationerror:validationErrors\\\">\\n                                <ng-template #noiGioiThieuTemplateHeader let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <th width=\\\"60%\\\">Tên cộng tác viên</th>\\n                                            <th>Đơn vị</th>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                                <ng-template #noiGioiThieuTemplate let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <td width=\\\"60%\\\">{{dataItem.Ten}}</td>\\n                                            <td>{{dataItem.Ma}}</td>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                            </app-combobox>\\n\\n                            <!-- <app-combobox id=\\\"TrieuChungTiepNhan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Triệu chứng khám\\\"\\n                                                            [(model)]=\\\"tiepNhanBenhNhan.TrieuChungTiepNhan\\\" url=\\\"TiepNhanBenhNhan/GetLyDoKhamBenh\\\"\\n\\n                                                            [validationerror]=\\\"'TrieuChungTiepNhan' | validationerror:validationErrors\\\">\\n                                                        </app-combobox> -->\\n                            <app-autocomplete id=\\\"TrieuChungTiepNhan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" maxlength=\\\"250\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.TrieuChungTiepNhan\\\" [dataList]=\\\"TrieuChungTiepNhanResource\\\"\\n                                label=\\\"Lý do khám bệnh\\\"\\n                                [validationerror]=\\\"'TrieuChungTiepNhan' | validationerror:validationErrors\\\">\\n                            </app-autocomplete>\\n\\n                            <kendo-tabstrip #tabStrip fxFlex=\\\"100%\\\" class=\\\"content-has-border\\\"\\n                                (tabSelect)=\\\"onTabSelect($event)\\\" (keyup)=\\\"tabscripChange($event)\\\">\\n                                <kendo-tabstrip-tab [selected]=\\\"true\\\">\\n                                    <ng-template kendoTabTitle>\\n                                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F8\\\">\\n                                            Chỉ định dịch vụ\\n                                        </div>\\n                                    </ng-template>\\n\\n                                    <ng-template kendoTabContent>\\n\\n\\n\\n                                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\"\\n                                            fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0\\\">\\n                                            <!-- <app-radio fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"LoaiDichVuKhac\\\"\\n                                                name=\\\"LoaiDichVuKhac\\\" class=\\\"no-format-css\\\"\\n                                                [(model)]=\\\"themChiDinhDichVuModel.LoaiDichVuKhac\\\"\\n                                                (modelChange)=\\\"LoaiDichVuKhacChange($event)\\\"\\n                                                [items]=\\\"[{Value:1,Text:'Gói không có chiết khấu'},{Value:2,Text:'Gói có chiết khấu'}\\n                                                                                            ,{Value:3,Text:'Dịch vụ khám bệnh'},{Value:4,Text:'Dịch vụ kỹ thuật'}\\n                                                                                            ,{Value:5,Text:'Dịch vụ giường'}]\\\">\\n                                            </app-radio> -->\\n\\n\\n                                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                                fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0 pb-0\\\" style=\\\"width: 100%;\\\">\\n                                                <label style=\\\"margin-top: 36px;\\\" fxFlex=\\\"7%\\\" fxFlex.sm=\\\"7%\\\">\\n                                                    Dịch vụ:\\n                                                </label>\\n                                                <app-combobox #dichVuCombobox hierarchyKeyToSend=\\\"khoaKham\\\" id=\\\"DichVu\\\"\\n                                                    fxFlex=\\\"33%\\\" fxFlex.sm=\\\"23%\\\" label=\\\"Mã dịch vụ\\\"\\n                                                    url=\\\"TiepNhanBenhNhan/GetDichVu\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.MaDichVuId\\\"\\n                                                    (modelChange)=\\\"modelChangeDichVu($event)\\\" [required]=\\\"true\\\"\\n                                                    (selectionChange)=\\\"MaDichVuSelectionChange($event)\\\"\\n                                                    (openCombobox)=\\\"openCombobox($event)\\\"\\n                                                    [validationerror]=\\\"'MaDichVuId' | validationerror:validationErrors\\\"\\n                                                    [template]=\\\"dichVuTemplate\\\" [templateHeader]=\\\"dichVuTemplateHeader\\\"\\n                                                    class=\\\"item-no-padding\\\"\\n                                                    [popupSettings]=\\\"{width: 900,popupClass:'item-no-padding'}\\\"\\n                                                    (keyup)=\\\"onKeyMaDichVu($event)\\\">\\n                                                    <ng-template #dichVuTemplateHeader let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <th width=\\\"12%\\\">Mã</th>\\n                                                                <th width=\\\"40%\\\">Tên</th>\\n                                                                <th width=\\\"38%\\\">Tên TT43</th>\\n                                                                <th width=\\\"10%\\\">Loại</th>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                    <ng-template #dichVuTemplate let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <td width=\\\"12%\\\">{{dataItem.Ma}}</td>\\n                                                                <td width=\\\"40%\\\">{{dataItem.Ten}}</td>\\n                                                                <td width=\\\"38%\\\">{{dataItem.TenTt43}}</td>\\n                                                                <td width=\\\"10%\\\">{{dataItem.Loai}}</td>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                </app-combobox>\\n\\n                                                <!-- url=\\\"TiepNhanBenhNhan/GetLoaiGiaKhamBenh\\\" -->\\n                                                <app-combobox id=\\\"LoaiGia\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Loại giá\\\"\\n                                                    (modelChange)=\\\"LoaiGiaChange($event)\\\" bind=\\\"true\\\"\\n                                                    (keyup)=\\\"onKeyMaDichVu($event)\\\"\\n                                                    (openCombobox)=\\\"openCombobox($event)\\\"\\n                                                    url=\\\"KhamBenh/LoaiGiaHieuLucTheoDichVuKham\\\" *ngIf=\\\"loaiTiepNhan == 1\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.LoaiGiaId\\\" [required]=\\\"true\\\"\\n                                                    popupSettings=\\\"null\\\"\\n                                                    hierarchyKeyToListen=\\\"khoaKham\\\" [autoSelectFirstItem]=\\\"true\\\" [bind]=\\\"true\\\"\\n                                                    [validationerror]=\\\"'LoaiGiaId' | validationerror:validationErrors\\\">\\n                                                </app-combobox>\\n\\n                                                <app-textboxnumeric id=\\\"SoLuong\\\" fxFlex=\\\"5%\\\" fxFlex.sm=\\\"5%\\\" label=\\\"SL\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.SoLuong\\\"\\n                                                    (keyup)=\\\"onKeyMaDichVu($event)\\\"\\n                                                    (modelChange)=\\\"SoLuongChange($event)\\\" max=\\\"10000\\\" min=\\\"1\\\"\\n                                                    [required]=\\\"true\\\"\\n                                                    [disabled]=\\\"loaiTiepNhan == 1 || loaiTiepNhan == 3\\\"\\n                                                    [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\">\\n                                                </app-textboxnumeric>\\n                                                <!-- <app-textbox id=\\\"DonGia\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\"\\n                                                    (modelChange)=\\\"DonGiaChange($event)\\\" label=\\\"Đơn giá\\\"\\n                                                    onlynumber=\\\"true\\\" [(model)]=\\\"themChiDinhDichVuModel.DonGia\\\"\\n                                                    [validationerror]=\\\"'DiaChi' | validationerror:validationErrors\\\">\\n                                                </app-textbox>\\n                                                <app-textbox id=\\\"ThanhTien\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\"\\n                                                    label=\\\"Thành tiền\\\" onlynumber=\\\"true\\\"\\n                                                    [validationerror]=\\\"'DiaChi' | validationerror:validationErrors\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.ThanhTien\\\">\\n                                                </app-textbox> -->\\n\\n                                                <app-textboxnumeric id=\\\"DonGia\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" min=\\\"0\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.DonGia\\\" disabled=\\\"true\\\"\\n                                                    format=\\\"n2\\\" decimals=\\\"2\\\" (modelChange)=\\\"DonGiaChange($event)\\\"\\n                                                    label=\\\"Đơn giá\\\"\\n                                                    [validationerror]=\\\"'DonGia' | validationerror:validationErrors\\\">\\n                                                </app-textboxnumeric>\\n\\n                                                <app-textboxnumeric id=\\\"ThanhTien\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" min=\\\"0\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.ThanhTien\\\" label=\\\"Thành tiền\\\"\\n                                                    disabled=\\\"true\\\"\\n                                                    [validationerror]=\\\"'ThanhTien' | validationerror:validationErrors\\\">\\n                                                </app-textboxnumeric>\\n\\n                                                <app-combobox hierarchyKeyToListen=\\\"khoaKham\\\" id=\\\"NoiThucHien1a\\\"\\n                                                    *ngIf=\\\"loaiTiepNhan == 1\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                    label=\\\"Nơi thực hiện\\\" idWhere=\\\"1\\\" (keyup)=\\\"onKeyMaDichVu($event)\\\"\\n                                                    (openCombobox)=\\\"openCombobox($event)\\\" autoSelectFirstItem=\\\"true\\\"\\n                                                    url=\\\"TiepNhanBenhNhan/GetPhongKham\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.NoiThucHienId\\\" [required]=\\\"true\\\"\\n                                                    [validationerror]=\\\"'NoiThucHienId' | validationerror:validationErrors\\\"\\n                                                    [template]=\\\"phongKhamTemplate\\\"\\n                                                    [templateHeader]=\\\"phongKhamTemplateHeader\\\" class=\\\"item-no-padding\\\"\\n                                                    [popupSettings]=\\\"{width: 600,popupClass:'item-no-padding'}\\\">\\n\\n                                                    <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <th width=\\\"40%\\\">Phòng</th>\\n                                                                <th width=\\\"40%\\\">Bác sĩ</th>\\n                                                                <th width=\\\"10%\\\" kendoTooltip\\n                                                                    title=\\\"SL người bệnh được đăng ký vào phòng trong ngày hôm nay ở trạng thái đang khám\\\">\\n                                                                    Đ.khám</th>\\n                                                                <th width=\\\"10%\\\" kendoTooltip\\n                                                                    title=\\\"Tổng SL người bệnh được đăng ký vào phòng trong ngày hôm nay\\\">\\n                                                                    Tổng</th>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                    <ng-template #phongKhamTemplate let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr [ngStyle]=\\\"{'color': dataItem.IsWarning==true?'orange':'black'}\\\"\\n                                                                kendoTooltip\\n                                                                title=\\\"{{dataItem.IsWarning==true?'Bác sĩ này đã khám nhiều hơn ' + dataItem.TongSoKhamGioiHan + ' người bệnh':''}}\\\">\\n                                                                <td width=\\\"40%\\\">{{dataItem.TenPhong}}</td>\\n                                                                <td width=\\\"40%\\\">{{dataItem.TenBacSi}}</td>\\n                                                                <td width=\\\"10%\\\">{{dataItem.DangKham}}</td>\\n                                                                <td width=\\\"10%\\\">{{dataItem.Tong}}</td>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n\\n                                                </app-combobox>\\n\\n                                                <app-combobox hierarchyKeyToListen=\\\"khoaKham\\\" id=\\\"NoiThucHien2a\\\"\\n                                                    *ngIf=\\\"loaiTiepNhan == 2\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                    label=\\\"Nơi thực hiện\\\" (keyup)=\\\"onKeyMaDichVu($event)\\\"\\n                                                    (openCombobox)=\\\"openCombobox($event)\\\" autoSelectFirstItem=\\\"true\\\"\\n                                                    idWhere=\\\"1\\\" url=\\\"TiepNhanBenhNhan/GetPhongKhamKyThuat\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.NoiThucHienId\\\" [required]=\\\"true\\\"\\n                                                    [validationerror]=\\\"'NoiThucHienId' | validationerror:validationErrors\\\"\\n                                                    [template]=\\\"phongKhamTemplate\\\"\\n                                                    [templateHeader]=\\\"phongKhamTemplateHeader\\\" class=\\\"item-no-padding\\\"\\n                                                    [popupSettings]=\\\"{width: 500,popupClass:'item-no-padding'}\\\">\\n\\n                                                    <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <th width=\\\"20%\\\">Mã</th>\\n                                                                <th width=\\\"60%\\\">Phòng</th>\\n                                                                <th>SL ĐTH</th>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                    <ng-template #phongKhamTemplate let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                                <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                                <td>{{dataItem.Tong}}</td>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n\\n                                                </app-combobox>\\n\\n                                                <app-combobox hierarchyKeyToListen=\\\"khoaKham\\\" id=\\\"NoiThucHien3a\\\"\\n                                                    *ngIf=\\\"loaiTiepNhan == 3\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                    label=\\\"Nơi thực hiện\\\" idWhere=\\\"1\\\" (keyup)=\\\"onKeyMaDichVu($event)\\\"\\n                                                    (openCombobox)=\\\"openCombobox($event)\\\" autoSelectFirstItem=\\\"true\\\"\\n                                                    url=\\\"TiepNhanBenhNhan/GetPhongKhamDichVuGiuong\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.NoiThucHienId\\\" [required]=\\\"true\\\"\\n                                                    [validationerror]=\\\"'NoiThucHienId' | validationerror:validationErrors\\\"\\n                                                    [template]=\\\"phongKhamTemplate\\\"\\n                                                    [templateHeader]=\\\"phongKhamTemplateHeader\\\" class=\\\"item-no-padding\\\"\\n                                                    [popupSettings]=\\\"{width: 500,popupClass:'item-no-padding'}\\\">\\n\\n                                                    <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <th width=\\\"20%\\\">Mã</th>\\n                                                                <th width=\\\"60%\\\">Phòng</th>\\n                                                                <th>SL ĐTH</th>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                    <ng-template #phongKhamTemplate let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                                <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                                <td>{{dataItem.Tong}}</td>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n\\n                                                </app-combobox>\\n\\n\\n                                                <!-- [disabled]=\\\"duocHuongBHYT != true || !enableDuocHuongBHYT\\\" update 10/8/2020-->\\n                                                <!-- <app-checkbox [(model)]=\\\"themChiDinhDichVuModel.DuocHuongBHYT\\\"\\n                                                    id=\\\"CheckboxDuocHuongBHYT\\\" label=\\\"Được hưởng BHYT\\\"  *ngIf=\\\"loaiTiepNhan == 1\\\"\\n                                                    [disabled]=\\\"true\\\"\\n                                                    fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" class=\\\"mt-2\\\">\\n                                                </app-checkbox> -->\\n                                                <div fxFlex=\\\"5%\\\" fxFlex.sm=\\\"5%\\\">\\n                                                    <button class=\\\"mt-5\\\" (click)=\\\"themChiDinhDichVuNew()\\\" title=\\\"Thêm\\\"\\n                                                        color=\\\"primary\\\" mat-raised-button>Thêm\\n                                                    </button>\\n                                                </div>\\n\\n                                            </div>\\n\\n\\n                                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                                fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0 pb-0\\\" style=\\\"width: 100%;\\\">\\n                                                <div fxFlex=\\\"90%\\\" fxFlex.sm=\\\"90%\\\">\\n\\n                                                    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                                        fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0 pb-0\\\"\\n                                                        style=\\\"width: 100%;\\\">\\n\\n                                                        <app-checkbox [(model)]=\\\"suDungGoiMarketingModelTemp\\\"\\n                                                            id=\\\"suDungGoiMarketingModelTemp\\\"\\n                                                            (modelChange)=\\\"suDungGoiMarketingChange($event)\\\"\\n                                                            [disabled]=\\\"true\\\"\\n                                                            label=\\\"Sử dụng gói marketing\\\"></app-checkbox>\\n\\n                                                            <!-- cập nhật BVHD-3246: chỉ hiện gói dịch vụ đã đăng ký -->\\n                                                            <!-- [disabled]=\\\"disabledCheckboxMarketing\\\" -->\\n\\n                                                        <div class=\\\"div-danh-sach-goi\\\"\\n                                                            *ngFor=\\\"let item of danhSachGoiDaChonTrongYCTN\\\">\\n                                                            <a class=\\\"danh-sach-goi\\\"\\n                                                                (click)=\\\"showPopupMarketingWithHyperlink(item)\\\">{{item.TenChuongTrinh}}\\n                                                            </a>\\n                                                            <!-- - {{item.TenGoiDichVu}} -->\\n\\n                                                            <button\\n                                                                *ngIf=\\\"item.DaThanhToan != true && item.IsFromMarketing != true\\\"\\n                                                                style=\\\"margin-left: 2px;\\\" (click)=\\\"removeGoi(item)\\\"\\n                                                                color=\\\"primary\\\" type=\\\"button\\\">\\n                                                                <span class=\\\"k-icon k-i-close\\\"></span>\\n                                                            </button>\\n                                                        </div>\\n\\n                                                        <!-- cập nhật BVHD-3246: chỉ hiện gói dịch vụ đã đăng ký -->\\n                                                        <!-- <div *ngIf=\\\"danhSachGoiDaChonTrongYCTN.length > 0 \\\">\\n                                                            <button (click)=\\\"openPopupGoiDichVu()\\\"\\n                                                                class=\\\"mr-6 button-them-goi\\\" color=\\\"primary\\\"\\n                                                                fxFlex=\\\"none\\\" mat-mini-fab kendoTooltip title=\\\"Thêm\\\"\\n                                                                type=\\\"button\\\">\\n                                                                <mat-icon class=\\\"mat-icon-them-goi\\\" [icIcon]=\\\"icAdd\\\">\\n                                                                </mat-icon>\\n                                                            </button>\\n                                                        </div> -->\\n                                                    </div>\\n\\n                                                </div>\\n                                                <div fxFlex=\\\"auto\\\">\\n                                                    <!-- cacDichVuKM -->\\n                                                    <a *ngIf=\\\"coYeuCauGoiDichVu\\\" (click)=\\\"xemGoiDichVuKhuyenMai()\\\">\\n                                                        <span\\n                                                            style=\\\"color:blue; text-decoration: underline; font-weight: bold; bottom: 20px;\\\">\\n                                                            Dịch vụ khuyến mại\\n                                                        </span>\\n                                                    </a>\\n                                                </div>\\n                                                <a (click)=\\\"xemNhomDichVuThuongDung()\\\"\\n                                                    style=\\\"color:green; text-decoration: underline; font-weight: bold;\\\">\\n                                                    Nhóm dịch vụ thường dùng\\n                                                </a>\\n                                            </div>\\n\\n                                            <!-- Dong dich vu giuong va goi kham vao 21/8/2020 -->\\n\\n                                            <!-- <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0 pb-0\\\"\\n                                                style=\\\"width: 100%;\\\">\\n                                                <label style=\\\"margin-top: 36px;\\\" fxFlex=\\\"7%\\\" fxFlex.sm=\\\"7%\\\">\\n                                                    Gói dịch vụ:\\n                                                </label>\\n                                                <app-combobox id=\\\"MaDichVuGoiId\\\" fxFlex=\\\"33%\\\" fxFlex.sm=\\\"33%\\\"\\n                                                    label=\\\"Gói khám\\\" url=\\\"TiepNhanBenhNhan/GetGoiKhamTongHop\\\"\\n                                                    [(model)]=\\\"themChiDinhGoiModel.MaDichVuGoiId\\\" [required]=\\\"true\\\"\\n                                                    [template]=\\\"goiTemplate\\\" (selectionChange)=\\\"MaDichVuGoiSelectionChange($event)\\\"\\n                                                    [templateHeader]=\\\"goiTemplateHeader\\\" class=\\\"item-no-padding\\\"\\n                                                    [validationerror]=\\\"'MaDichVuGoiId' | validationerror:validationErrors\\\">\\n                                                    <ng-template #goiTemplateHeader let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <th width=\\\"70%\\\">Tên gói</th>\\n                                                                <th>Chiết khấu </th>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                    <ng-template #goiTemplate let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <td width=\\\"70%\\\">{{dataItem.Ten}}</td>\\n                                                                <td>{{dataItem.ChietKhau}}</td>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                </app-combobox>\\n\\n                                                <div fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\">\\n                                                    <button class=\\\"mt-5\\\" (click)=\\\"themChiDinhDichVuGoiNew()\\\"\\n                                                        title=\\\"Thêm\\\" color=\\\"primary\\\" mat-raised-button>Thêm\\n                                                    </button>\\n                                                </div>\\n\\n                                            </div> -->\\n\\n\\n\\n\\n                                            <div style=\\\"display: inline-block !important;\\\" fxFlex=\\\"100%\\\"\\n                                                *ngIf=\\\"gridDataKhacCoChietKhauDisplay != null && gridDataKhacCoChietKhauDisplay.length != 0\\\">\\n\\n\\n                                                <div fxFlex=\\\"100%\\\"\\n                                                    *ngIf=\\\"gridDataKhacCoChietKhauArray != undefined && gridDataKhacCoChietKhauArray != null\\\">\\n                                                    <div class=\\\"header-grid\\\">GÓI CÓ CHIẾT KHẤU</div>\\n                                                    <div *ngFor=\\\"let item of gridDataKhacCoChietKhauArray; let i = index\\\"\\n                                                        fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\"\\n                                                        fxLayoutGap.lt-sm=\\\"0\\\" style=\\\"width: 100%;\\\">\\n                                                        <div fxFlex=\\\"100%\\\" style=\\\"background: #ebeced;\\\">\\n                                                            <span class=\\\"header-span-grid\\\"\\n                                                                style=\\\"padding: 13px 0 0 0;display: inline-block;\\\">\\n                                                                {{item.data[0].items[0].TenGoiChietKhau}}\\n                                                            </span>\\n                                                            <span style=\\\"float:right;\\\">\\n                                                                <button (click)=\\\"removeGridKhacCoChietKhau(item)\\\"\\n                                                                    mat-icon-button>\\n                                                                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                                                </button>\\n                                                            </span>\\n                                                        </div>\\n                                                        <app-grid fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" #gridCoChietKhau\\n                                                            masterName=\\\"{{item.data[0].items[0].GoiCoChietKhauId}}\\\"\\n                                                            [gridColumns]=\\\"gridCoChietKhauColumns\\\"\\n                                                            [gridDataSource]=\\\"item\\\" [documentType]=\\\"documentType\\\"\\n                                                            [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n                                                            [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n                                                            [lazyLoadPage]=\\\"true\\\" maxHeight=\\\"500\\\" [pageable]=\\\"false\\\"\\n                                                            [groups]=\\\"groupChietKhau\\\">\\n                                                        </app-grid>\\n                                                    </div>\\n                                                </div>\\n\\n                                            </div>\\n\\n                                            <div fxFlex=\\\"100%\\\"\\n                                                *ngIf=\\\"gridDataKhacDisplay != null && gridDataKhacDisplay.length != 0 && gridDataKhacDisplay.total != 0\\\">\\n                                                <div *ngIf=\\\"gridDataKhacCoChietKhauDisplay != null && gridDataKhacCoChietKhauDisplay.length != 0\\\"\\n                                                    class=\\\"header-grid\\\">DỊCH VỤ KHÁC</div>\\n                                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\"\\n                                                    fxLayoutGap.lt-sm=\\\"0\\\">\\n                                                    <app-grid fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" #gridKhongChietKhau\\n                                                        [gridColumns]=\\\"gridKhongChietKhauColumns\\\"\\n                                                        [gridDataSource]=\\\"gridDataKhacDisplay\\\" masterName=\\\"goiKhac\\\"\\n                                                        [removeGroupFooterIfIsOnlyOne]=\\\"true\\\"\\n                                                        [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n                                                        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n                                                        [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" maxHeight=\\\"500\\\"\\n                                                        [pageable]=\\\"false\\\" [groups]=\\\"groupKhongChietKhau\\\">\\n                                                    </app-grid>\\n                                                </div>\\n\\n                                            </div>\\n                                            <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                                                *ngIf=\\\"this.tiepNhanBenhNhan.YeuCauKhacGrid != null\\n                                                && this.tiepNhanBenhNhan.YeuCauKhacGrid != undefined\\n                                                && this.tiepNhanBenhNhan.YeuCauKhacGrid.length > 0\\n                                                && gridDataKhacCoChietKhauDisplay != null && gridDataKhacCoChietKhauDisplay.length != 0\\\">\\n                                                <div class=\\\"styleTinhTong\\\">\\n                                                    <ul class=\\\"inline\\\">\\n                                                        <li>Tổng cộng: <strong\\n                                                                style=\\\"color: blue;\\\">{{totalKhac('TongThanhTienGoi', 1)\\n                                                                | currency:'VND'}}</strong>\\n                                                        </li>\\n                                                        <li>Tổng tiền NB thanh toán: <strong\\n                                                                style=\\\"color:red;\\\">{{totalKhac('TongThanhTienBNTra', 1)\\n                                                                | currency:'VND'}}</strong>\\n                                                        </li>\\n                                                    </ul>\\n                                                </div>\\n                                            </div>\\n\\n                                        </div>\\n\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                                <kendo-tabstrip-tab>\\n                                    <ng-template kendoTabTitle>\\n                                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F9\\\">\\n                                            Tài liệu đính kèm\\n                                        </div>\\n                                    </ng-template>\\n                                    <ng-template kendoTabContent>\\n                                        <!-- grid -->\\n                                        <app-grid [gridColumns]=\\\"gridTaiLieuDinhKemColumns\\\"\\n                                            [gridDataSource]=\\\"gridDataTaiLieuDinhKem\\\" [documentType]=\\\"documentType\\\"\\n                                            [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                                            [headerTemplate]=\\\"headerTaiLieuTemplate\\\" [useHeaderDefault]=\\\"false\\\"\\n                                            #gridTaiLieuDinhKem [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n                                            [autoHeight]=\\\"true\\\">\\n                                        </app-grid>\\n\\n\\n                                        <ng-template #headerTaiLieuTemplate>\\n                                            <div style=\\\"padding: 16px;border-bottom: 1px solid #ccc;\\\">\\n                                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                                    fxLayoutGap.lt-sm=\\\"0\\\">\\n\\n                                                    <app-dropdownlist id=\\\"LoaiId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                        label=\\\"Loại\\\" url=\\\"TiepNhanBenhNhan/GetLoaiTaiLieuDinhKem\\\"\\n                                                        [(model)]=\\\"themTaiLieu.LoaiId\\\" required=\\\"true\\\"\\n                                                        [validationerror]=\\\"'LoaiId' | validationerror:validationErrors\\\">\\n                                                    </app-dropdownlist>\\n\\n                                                    <app-upload fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\" id=\\\"TaiLieu\\\"\\n                                                        label=\\\"Tài liệu\\\" [model]=\\\"themTaiLieu.TaiLieu\\\"\\n                                                        (uploadFileDone)=\\\"uploadTaiLieuDone($event)\\\" required=\\\"true\\\"\\n                                                        [validationerror]=\\\"'TaiLieu' | validationerror:validationErrors\\\">\\n                                                    </app-upload>\\n\\n                                                    <app-textbox id=\\\"MoTa\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" maxlength=\\\"100\\\"\\n                                                        label=\\\"Mô tả\\\" [(model)]=\\\"themTaiLieu.MoTa\\\">\\n                                                    </app-textbox>\\n\\n                                                    <div fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\">\\n                                                        <button class=\\\"mt-5\\\" (click)=\\\"themTaiLieuButton()\\\" type=\\\"button\\\"\\n                                                            color=\\\"primary\\\" mat-raised-button>Thêm</button>\\n                                                    </div>\\n\\n                                                </div>\\n                                            </div>\\n                                        </ng-template>\\n\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                                <kendo-tabstrip-tab>\\n                                    <ng-template kendoTabTitle>\\n                                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F10\\\">\\n                                            Người giám hộ\\n                                        </div>\\n                                    </ng-template>\\n\\n                                    <ng-template kendoTabContent>\\n                                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                            fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0\\\">\\n\\n                                            <app-textbox id=\\\"NguoiLienHeHoTen\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                maxlength=\\\"100\\\" label=\\\"Họ và tên\\\" [upperCase]=\\\"true\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeHoTen\\\"\\n                                                [validationerror]=\\\"'NguoiLienHeHoTen' | validationerror:validationErrors\\\">\\n                                            </app-textbox>\\n                                            <app-combobox id=\\\"NguoiLienHeQuanHeNhanThan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                label=\\\"Quan hệ\\\" url=\\\"TiepNhanBenhNhan/GetQuanHe\\\" bind=\\\"true\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeQuanHeNhanThanId\\\"\\n                                                [validationerror]=\\\"'NguoiLienHeQuanHeNhanThanId' | validationerror:validationErrors\\\">\\n                                            </app-combobox>\\n\\n                                            <app-textboxmask id=\\\"NguoiLienHeSoDienThoai\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                label=\\\"Số điện thoại\\\" maxlength=\\\"10\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeSoDienThoai\\\" mask=\\\"000 000 0000\\\"\\n                                                [validationerror]=\\\"'NguoiLienHeSoDienThoai' | validationerror:validationErrors\\\">\\n                                            </app-textboxmask>\\n                                            <app-textbox id=\\\"NguoiLienHeEmail\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                label=\\\"Email\\\" maxlength=\\\"200\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeEmail\\\"\\n                                                [validationerror]=\\\"'NguoiLienHeEmail' | validationerror:validationErrors\\\">\\n                                            </app-textbox>\\n\\n                                            <app-combobox id=\\\"NguoiLienHeTinhThanhId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                (modelChange)=\\\"TinhThanhPhoNguoiLienHeChange($event)\\\" bind=\\\"true\\\"\\n                                                broadcastAfterLoaded=\\\"true\\\" label=\\\"Tỉnh/Thành Phố\\\"\\n                                                url=\\\"TiepNhanBenhNhan/GetTinhThanh\\\" hierarchyKeyToSend=\\\"tinhThanhLienHe\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeTinhThanhId\\\"\\n                                                class=\\\"item-no-padding\\\" [template]=\\\"tinhThanhTemplate\\\"\\n                                                [templateHeader]=\\\"tinhThanhTemplateHeader\\\">\\n                                                <ng-template #tinhThanhTemplateHeader let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <th width=\\\"20%\\\">Mã</th>\\n                                                            <th>Tên</th>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                                <ng-template #tinhThanhTemplate let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                                            <td>{{dataItem.Ten}}</td>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                            </app-combobox>\\n\\n                                            <app-combobox id=\\\"NguoiLienHeQuanHuyenId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                label=\\\"Quận/Huyện\\\" (modelChange)=\\\"QuanHuyenNguoiLienHeChange($event)\\\"\\n                                                url=\\\"TiepNhanBenhNhan/GetQuanHuyen\\\" bind=\\\"true\\\"\\n                                                broadcastAfterLoaded=\\\"true\\\" hierarchyKeyToListen=\\\"tinhThanhLienHe\\\"\\n                                                hierarchyKeyToSend=\\\"quanHuyenLienHe\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeQuanHuyenId\\\"\\n                                                class=\\\"item-no-padding\\\" [template]=\\\"quanHuyenTemplate\\\"\\n                                                [templateHeader]=\\\"quanHuyenTemplateHeader\\\"\\n                                                [queryInfo]=\\\"queryInfoNguoiLienHeQuanHuyen\\\">\\n                                                <ng-template #quanHuyenTemplateHeader let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <th width=\\\"20%\\\">Mã</th>\\n                                                            <th>Tên</th>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                                <ng-template #quanHuyenTemplate let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                                            <td>{{dataItem.Ten}}</td>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                            </app-combobox>\\n\\n                                            <app-combobox id=\\\"NguoiLienHePhuongXaId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                label=\\\"Phường/Xã\\\" url=\\\"TiepNhanBenhNhan/GetPhuongXa\\\" bind=\\\"true\\\"\\n                                                broadcastAfterLoaded=\\\"true\\\" hierarchyKeyToListen=\\\"quanHuyenLienHe\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHePhuongXaId\\\"\\n                                                class=\\\"item-no-padding\\\" [template]=\\\"phuongXaTemplate\\\"\\n                                                [templateHeader]=\\\"phuongXaTemplateHeader\\\"\\n                                                [queryInfo]=\\\"queryInfoNguoiLienHePhuongXa\\\">\\n                                                <ng-template #phuongXaTemplateHeader let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <th width=\\\"20%\\\">Mã</th>\\n                                                            <th>Tên</th>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                                <ng-template #phuongXaTemplate let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                                            <td>{{dataItem.Ten}}</td>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                            </app-combobox>\\n\\n                                            <app-textbox id=\\\"SoNhaDuongPho\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" maxlength=\\\"200\\\"  class=\\\"text-transform-capitalize\\\"\\n                                                label=\\\"Số nhà/Đường phố\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeDiaChi\\\">\\n                                            </app-textbox>\\n                                        </div>\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                                <kendo-tabstrip-tab>\\n                                    <ng-template kendoTabTitle>\\n                                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F11\\\">\\n                                            Lịch Hẹn\\n                                        </div>\\n                                    </ng-template>\\n                                    <ng-template kendoTabContent>\\n                                        <app-tiep-nhan-benh-nhan-tai-kham [(BenhNhan)]=\\\"benhNhanId\\\">\\n                                        </app-tiep-nhan-benh-nhan-tai-kham>\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                                <kendo-tabstrip-tab>\\n                                    <ng-template kendoTabTitle>\\n                                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F12\\\">\\n                                            Lịch Sử Khám Bệnh\\n                                        </div>\\n                                    </ng-template>\\n                                    <ng-template kendoTabContent>\\n                                        <app-kham-benh-lich-su-kham-list [(BenhNhan)]=\\\"benhNhanId\\\">\\n                                        </app-kham-benh-lich-su-kham-list>\\n                                        <!-- <app-tiep-nhan-benh-nhan-lich-su [(benhNhanId)]=\\\"benhNhanId\\\"></app-tiep-nhan-benh-nhan-lich-su> -->\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                            </kendo-tabstrip>\\n\\n                            <ng-template #donGiaKhamBenhTemplate let-dataItem>\\n                                {{dataItem.DonGia | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #donGiaKhamBenhFooterTemplate let-dataItem>\\n                                <span style=\\\"float:right\\\">Tổng cộng:</span>\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhamBenhTemplate let-dataItem>\\n                                {{dataItem.ThanhTien | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhamBenhGroupFooterTemplate let-aggregates>\\n                                {{aggregates.ThanhTien.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhamBenhFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span style=\\\"color:blue;\\\">{{totalKhamBenh('ThanhTien') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhamBenhTemplate let-dataItem>\\n                                {{dataItem.BHYTThanhToan | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhamBenhFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span>{{totalKhamBenh('BHYTThanhToan') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhamBenhGroupFooterTemplate let-aggregates>\\n                                {{aggregates.BHYTThanhToan.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhamBenhTemplate let-dataItem>\\n                                {{dataItem.SoTienMG | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhamBenhFooterTemplate>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span>{{totalKhamBenh('SoTienMG') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhamBenhGroupFooterTemplate let-aggregates>\\n                                {{aggregates.SoTienMG.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhamBenhTemplate let-dataItem>\\n                                {{dataItem.BnThanhToan | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhamBenhGroupFooterTemplate let-aggregates>\\n                                {{aggregates.BnThanhToan.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhamBenhFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span style=\\\"color:red;\\\">{{totalKhamBenh('BnThanhToan') |\\n                                            currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #actionKhamBenhTemplate let-dataItem>\\n                                <button (click)=\\\"removeGridKhamBenh(dataItem)\\\" mat-menu-item>\\n                                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                </button>\\n                            </ng-template>\\n\\n                            <ng-template #donGiaKyThuatTemplate let-dataItem>\\n                                {{dataItem.DonGia | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #donGiaKyThuatFooterTemplate let-dataItem>\\n                                <span style=\\\"float:right\\\">Tổng cộng:</span>\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKyThuatTemplate let-dataItem>\\n                                {{dataItem.ThanhTien | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKyThuatGroupFooterTemplate let-aggregates>\\n                                {{aggregates.ThanhTien.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKyThuatFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span style=\\\"color:blue;\\\">{{totalKyThuat('ThanhTien') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKyThuatTemplate let-dataItem>\\n                                {{dataItem.SoTienMG | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKyThuatFooterTemplate>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span>{{totalKyThuat('SoTienMG') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKyThuatGroupFooterTemplate let-aggregates>\\n                                {{aggregates.SoTienMG.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKyThuatTemplate let-dataItem>\\n                                {{dataItem.BnThanhToan | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKyThuatFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span style=\\\"color:red;\\\">{{totalKyThuat('BnThanhToan') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKyThuatGroupFooterTemplate let-aggregates>\\n                                {{aggregates.BnThanhToan.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #actionKyThuatTemplate let-dataItem>\\n                                <button (click)=\\\"removeGridKyThuat(dataItem)\\\" mat-menu-item>\\n                                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                </button>\\n                            </ng-template>\\n\\n                            <ng-template #donGiaKhongChietKhauTemplate let-dataItem>\\n                                {{(dataItem.IsGoiCoChietKhau ? dataItem.DonGiaSauChietKhau : dataItem.DonGia) | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #donGiaBHYTTemplate let-dataItem>\\n                                {{dataItem.GiaBHYT | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #donGiaKhongChietKhauFooterTemplate let-dataItem>\\n                                <span style=\\\"float:right\\\">Tổng cộng:</span>\\n                            </ng-template>\\n\\n                            <ng-template #tenDichVuKhongChietKhauFooterTemplate let-dataItem>\\n                                <span style=\\\"float:right\\\">Cộng:</span>\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhongChietKhauTemplate let-dataItem>\\n                                {{(dataItem.IsGoiCoChietKhau ? dataItem.ThanhTienSauChietKhau : dataItem.ThanhTien) | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhongChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.ThanhTien.sum | currency:'VND'}}\\n                                <!-- {{tinhThanhTienDichVuBaoGomTrongGoiTheGroup(group, value) | currency:'VND'}} -->\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhongChietKhauFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span style=\\\"color:blue;\\\">{{totalKhac('ThanhTien', 1) | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhongChietKhauTemplate let-dataItem>\\n                                {{dataItem.BHYTThanhToan | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhongChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.BHYTThanhToan.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhongChietKhauFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span>{{totalKhac('BHYTThanhToan', 0) | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhongChietKhauTemplate let-dataItem>\\n                                {{dataItem.SoTienMG | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhongChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.SoTienMG.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhongChietKhauFooterTemplate let-masterName>\\n                                <span style=\\\"color:red;\\\">{{totalKhac('SoTienMG', masterName) | currency:'VND'}}</span>\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhongChietKhauTemplate let-dataItem>\\n                                {{dataItem.BnThanhToan | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhongChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.BnThanhToan.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhongChietKhauFooterTemplate let-masterName>\\n                                <span style=\\\"color:red;\\\">{{totalKhac('BnThanhToan', masterName) |\\n                                    currency:'VND'}}</span>\\n                            </ng-template>\\n\\n                            <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n                                <strong>{{value}}</strong>\\n                            </ng-template>\\n\\n                            <ng-template #duocHuongBHYTTemplate let-dataItem>\\n                                <!-- [disabled]=\\\"dataItem.Nhom != 'DỊCH VỤ KHÁM BỆNH' || duocHuongBHYT != true || dataItem.GiaBHYT == 0 || dataItem.GiaBHYT == null\\\" update 10/8/2020 -->\\n                                <app-checkbox [disabled]=\\\"true\\\"\\n                                    (modelChange)=\\\"duocHuongBHYTChange($event, dataItem.MaDichVuId, dataItem.Nhom)\\\"\\n                                    [(model)]=\\\"dataItem.DuocHuongBHYT\\\"\\n                                    id=\\\"DuocHuongBHYT{{dataItem.MaDichVuId}}{{dataItem.Nhom}}\\\" label=\\\"Có\\\">\\n                                </app-checkbox>\\n                            </ng-template>\\n\\n                            <ng-template #loaiGiaTemplate let-dataItem>\\n                                <!-- url=\\\"TiepNhanBenhNhan/GetLoaiGiaKhamBenh\\\" -->\\n                                <app-combobox id=\\\"LoaiGiaGrid-{{dataItem.Id}}\\\" label=\\\"\\\" class=\\\"no-label\\\"\\n                                    (modelChange)=\\\"loaiGiaGridChange($event, dataItem)\\\"\\n                                    url=\\\"{{dataItem.Nhom == 'DỊCH VỤ KHÁM BỆNH' ? 'KhamBenh/LoaiGiaHieuLucTheoDichVuKham' : 'KhamBenh/LoaiGiaHieuLucTheoDichVuKyThuat'}}\\\"\\n                                    [disabled]=\\\"dataItem.IsGoiCoChietKhau || (dataItem.YeuCauGoiDichVuKhuyenMaiId != null && dataItem.YeuCauGoiDichVuKhuyenMaiId != 0)\\\"\\n                                    [(model)]=\\\"dataItem.LoaiGiaId\\\" popupSettings=\\\"null\\\" [bind]=\\\"true\\\" [reloadForGrid]=\\\"true\\\"\\n                                    [queryInfo]=\\\"{ParameterDependencies:'{DichVuId:' +dataItem.MaDichVuId +'}', Take: 50}\\\">\\n                                </app-combobox>\\n                            </ng-template>\\n\\n                            <ng-template #sttKhongChietKhauTemplate let-rowIndex=\\\"rowIndex\\\">\\n                                {{rowIndex + 1}}\\n                            </ng-template>\\n                            <ng-template #sttCoChietKhauTemplate let-rowIndex=\\\"rowIndex\\\">\\n                                {{rowIndex + 1}}\\n                            </ng-template>\\n                            <!-- [max]=\\\"dataItem.IsGoiCoChietKhau ? dataItem.SoLuongConLai : 1000\\\" -->\\n                            <ng-template #soLuongTemplate let-dataItem>\\n                                <!-- {{test(dataItem)}} -->\\n                                <app-textboxnumeric [disabled]=\\\"dataItem.Nhom == 'DỊCH VỤ KHÁM BỆNH' || (dataItem.YeuCauGoiDichVuKhuyenMaiId != null && dataItem.YeuCauGoiDichVuKhuyenMaiId != 0)\\\"\\n                                    (modelChange)=\\\"soLuongGridChange($event, dataItem)\\\" min=1\\n                                    [max]=\\\"dataItem.IsGoiCoChietKhau ? 99999 : 1000\\\" [(model)]=\\\"dataItem.SoLuong\\\"\\n                                    id=\\\"NumerictextboxGrid\\\" label=\\\"\\\" format=\\\"0\\\" class=\\\"item-no-padding no-label\\\">\\n                                </app-textboxnumeric>\\n\\n                            </ng-template>\\n\\n                            <ng-template #noiThucHienKhongChietKhauTemplate let-dataItem>\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ GIƯỜNG'\\\">\\n                                    <app-combobox popupSettings=\\\"\\\" id=\\\"NoiThucHien43{{dataItem.MaDichVuId}}\\\" label=\\\"\\\"\\n                                        autoSelectFirstItem=\\\"true\\\" reloadForGrid=\\\"true\\\" idWhere=\\\"1\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamDichVuGiuongKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" bind=true [required]=\\\"true\\\"\\n                                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\"\\n                                        class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 400,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"20%\\\">Mã</th>\\n                                                    <th width=\\\"20%\\\">Phòng</th>\\n                                                    <th width=\\\"60%\\\">SL đang thực hiện</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                    <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                    <td width=\\\"20%\\\">{{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ KHÁM BỆNH'\\\">\\n                                    <app-combobox id=\\\"NoiThucHienDVKBKCK{{dataItem.MaDichVuId}}\\\" reloadForGrid=\\\"true\\\"\\n                                        autoSelectFirstItem=\\\"true\\\" idWhere=\\\"1\\\" label=\\\"\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" bind=true [required]=\\\"true\\\"\\n                                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\"\\n                                        class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 600,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"40%\\\">Phòng</th>\\n                                                    <th width=\\\"40%\\\">Bác sĩ</th>\\n                                                    <th width=\\\"10%\\\">Đ.khám</th>\\n                                                    <th width=\\\"10%\\\">Tổng</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"40%\\\">{{dataItem.TenPhong}}</td>\\n                                                    <td width=\\\"40%\\\">{{dataItem.TenBacSi}}</td>\\n                                                    <td width=\\\"10%\\\">{{dataItem.DangKham}}</td>\\n                                                    <td width=\\\"10%\\\">{{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ KỸ THUẬT'\\\">\\n                                    <app-combobox id=\\\"NoiThucHien23a{{dataItem.MaDichVuId}}\\\" label=\\\"\\\"\\n                                        autoSelectFirstItem=\\\"true\\\" reloadForGrid=\\\"true\\\" idWhere=\\\"1\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamKyThuatKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" bind=true [required]=\\\"true\\\"\\n                                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\"\\n                                        class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 400,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"20%\\\">Mã</th>\\n                                                    <th width=\\\"60%\\\">Phòng</th>\\n                                                    <th>SL ĐTH</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                    <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                    <td>{{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #actionKhongChietKhauTemplate let-dataItem>\\n                                <button (click)=\\\"removeGridKhac(dataItem)\\\" mat-menu-item>\\n                                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                </button>\\n                            </ng-template>\\n\\n                            <ng-template #donGiaChietKhauTemplate let-dataItem>\\n                                {{dataItem.DonGia | currency:'VND'}}\\n                            </ng-template>\\n\\n\\n                            <ng-template #thanhTienChietKhauTemplate let-dataItem>\\n                                {{dataItem.ThanhTien | currency:'VND'}}\\n                            </ng-template>\\n                            <ng-template #thanhTienTrongGoiChietKhauTemplate let-dataItem>\\n                                {{dataItem.ThanhTienTrongGoi | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #donGiaChietKhauFooterTemplate let-dataItem>\\n                                <span style=\\\"float:right\\\">Giá trước CK:</span>\\n                            </ng-template>\\n\\n                            <!-- <ng-template #thanhTienTrongGoiChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.ThanhTienTrongGoi.sum | currency:'VND'}}\\n                            </ng-template> -->\\n\\n                            <ng-template #thanhTienTrongGoiChietKhauFooterTemplate let-masterName>\\n                                <span style=\\\"color:red;\\\">{{totalKhac('ThanhTienTrongGoi', masterName) |\\n                                    currency:'VND'}}</span>\\n                            </ng-template>\\n\\n                            <!-- <ng-template #thanhTienChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.ThanhTien.sum | currency:'VND'}}\\n                            </ng-template> -->\\n\\n                            <ng-template #thanhTienChietKhauFooterTemplate let-masterName>\\n                                <span style=\\\"color:blue\\\">{{totalKhac('ThanhTienGoiChietKhau', masterName) |\\n                                    currency:'VND'}}</span>\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienTrongGoiChietKhauTemplate let-dataItem>\\n                                {{dataItem.ThanhTienTrongGoi | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #tyLeChietKhauCoChietKhauTemplate let-dataItem>\\n                                {{dataItem.TyLeChietKhauDisplay}}\\n                            </ng-template>\\n\\n                            <ng-template #duocGiamTrongGoiCoChietKhauTemplate let-dataItem>\\n                                {{dataItem.DuocGiamTrongGoi | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #duocGiamTrongGoiCoChietKhauFooterTemplate let-dataItem>\\n                                <div>\\n                                    <span style=\\\"float:right\\\">Giá sau CK:</span>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #tenDvTemplate let-dataItem>\\n                                <div *ngIf=\\\"dataItem.IsGoiCoChietKhau\\\" class=\\\"xac-nhan-ng-template\\\" kendoTooltip\\n                                    #tooltip=\\\"kendoTooltip\\\" tooltipClass=\\\"tooltip-block\\\" position=\\\"top\\\"\\n                                    [tooltipTemplate]=\\\"templateInfo\\\" filter=\\\"*\\\"\\n                                    (mouseover)=\\\"setUpDataTooltip(dataItem)\\\">\\n                                    <mat-icon [icIcon]=\\\"icInfo\\\" class=\\\"info\\\"></mat-icon>\\n                                </div>\\n\\n                                <ng-template #templateInfo let-dataItem>\\n                                    <span>Dịch vụ chọn từ gói: {{displayToolTipGrid}} </span>\\n                                </ng-template>\\n\\n                                <div class=\\\"xac-nhan-ng-template\\\" kendoTooltip>\\n                                    <p class=\\\"ten-dich-vu-label\\\" title={{dataItem.TenDichVu}}>\\n                                        {{dataItem.TenDichVu}}</p>\\n                                </div>\\n\\n                            </ng-template>\\n\\n                            <ng-template #noiThucHienChietKhauTemplate let-dataItem>\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ GIƯỜNG'\\\">\\n                                    <app-combobox id=\\\"NoiThucHien{{dataItem.MaDichVuId}}\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                                        label=\\\"\\\" autoSelectFirstItem=\\\"true\\\" reloadForGrid=\\\"true\\\" idWhere=\\\"1\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamDichVuGiuongKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" bind=true [required]=\\\"true\\\"\\n                                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\"\\n                                        class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 400,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"20%\\\">Mã</th>\\n                                                    <th width=\\\"60%\\\">Phòng</th>\\n                                                    <th>SL ĐTH</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                    <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                    <td>{{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ KHÁM BỆNH'\\\">\\n                                    <app-combobox id=\\\"NoiThucHienDVKB{{dataItem.MaDichVuId}}\\\" fxFlex=\\\"100%\\\"\\n                                        fxFlex.sm=\\\"100%\\\" label=\\\"\\\" bind=true reloadForGrid=\\\"true\\\" idWhere=\\\"1\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" [required]=\\\"true\\\" autoSelectFirstItem=\\\"true\\\"\\n                                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\"\\n                                        class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 600,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"40%\\\">Phòng</th>\\n                                                    <th width=\\\"40%\\\">Bác sĩ</th>\\n                                                    <th width=\\\"10%\\\">Đ.khám</th>\\n                                                    <th width=\\\"10%\\\">Tổng</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"40%\\\">\\n                                                        {{dataItem.TenPhong}}</td>\\n                                                    <td width=\\\"40%\\\">\\n                                                        {{dataItem.TenBacSi}}</td>\\n                                                    <td width=\\\"10%\\\">\\n                                                        {{dataItem.DangKham}}</td>\\n                                                    <td width=\\\"10%\\\">\\n                                                        {{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ KỸ THUẬT'\\\">\\n                                    <app-combobox id=\\\"NoiThucHienDVKT{{dataItem.MaDichVuId}}\\\" fxFlex=\\\"100%\\\"\\n                                        fxFlex.sm=\\\"100%\\\" label=\\\"\\\" idWhere=\\\"1\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamKyThuatKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" bind=true [required]=\\\"true\\\"\\n                                        autoSelectFirstItem=\\\"true\\\" reloadForGrid=\\\"true\\\" [template]=\\\"phongKhamTemplate\\\"\\n                                        [templateHeader]=\\\"phongKhamTemplateHeader\\\" class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 400,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"20%\\\">Mã</th>\\n                                                    <th width=\\\"60%\\\">Phòng</th>\\n                                                    <th>SL ĐTH</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                    <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                    <td>{{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n                            </ng-template>\\n\\n\\n                            <!-- template grid -->\\n                            <ng-template #taiLieuTemplate let-dataItem>\\n                                <a (click)=\\\"viewTaiLieu(dataItem)\\\">\\n                                    {{dataItem.Ten}}\\n                                </a>\\n                            </ng-template>\\n\\n                            <ng-template #actionTaiLieuTemplate let-dataItem>\\n                                <button (click)=\\\"$event.stopPropagation()\\\" kendoTooltip title=\\\"Hành động\\\"\\n                                    [matMenuTriggerFor]=\\\"actionsMenu\\\" mat-icon-button type=\\\"button\\\">\\n                                    <mat-icon [icIcon]=\\\"icMoreHoriz\\\"></mat-icon>\\n                                </button>\\n                                <mat-menu #actionsMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n                                    <ng-template let-customer=\\\"customer\\\" matMenuContent>\\n                                        <button (click)=\\\"removeTaiLieu(dataItem)\\\" mat-menu-item>\\n                                            <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                            <span>Xóa</span>\\n                                        </button>\\n                                    </ng-template>\\n                                </mat-menu>\\n                            </ng-template>\\n\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n\\n            <!-- </div> -->\\n            <div class=\\\"form-footer-fixed\\\" fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"8px\\\" kendoTooltip>\\n                <!-- <ul class=\\\"hot-keys float-left\\\">\\n                    <li class=\\\"warn\\\">F1: Quét mã vạch</li>\\n                </ul> -->\\n                <button *ngIf=\\\"urlPageUpdateYCTN != null\\\" type=\\\"button\\\" mat-raised-button color=\\\"primary\\\"\\n                    class=\\\"float-left\\\" title=\\\"Cập nhật YCTN\\\" (click)=\\\"chuyenVeTrangCapNhatYCTN()\\\">Cập nhật YCTN</button>\\n\\n                <button type=\\\"button\\\" mat-button class=\\\"mr-1\\\" (click)=\\\"huy()\\\" title=\\\"Phím tắt: Esc\\\">Hủy</button>\\n                <button type=\\\"button\\\" *ngIf=\\\"!loading\\\" (click)=\\\"xuLyTaoYeuCauTiepNhan()\\\" color=\\\"primary\\\" title=\\\"Phím tắt: Ctrl + S\\\"\\n                    [disabled]=\\\"errMessageKhongChoPhepTaoMoiYCTN != null && errMessageKhongChoPhepTaoMoiYCTN !=''\\\"\\n                    mat-raised-button>Lưu</button>\\n                <button type=\\\"button\\\" *ngIf=\\\"!loading\\\" (click)=\\\"xuLyTaoYeuCauTiepNhan(true)\\\" color=\\\"primary\\\"\\n                    title=\\\"Phím tắt: Ctrl + Shift + S\\\"\\n                    [disabled]=\\\"errMessageKhongChoPhepTaoMoiYCTN != null && errMessageKhongChoPhepTaoMoiYCTN !=''\\\" mat-raised-button>Lưu và in phiếu chỉ định</button>\\n                    <!-- title=\\\"Phím tắt: Ctrl + Shift + S\\\" -->\\n                <button *ngIf=\\\"loading\\\" class=\\\"btn btn-raised btn-raised btn-primary mb-0\\\"><img src=\\\"/assets/img/loader.gif\\\"\\n                        alt=\\\"Loading\\\" /></button>\\n            </div>\\n            <app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\"></app-barcode>\\n        </div>\\n\\n        <ng-template #dichVuTrongGoiTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            <app-checkbox *ngIf=\\\"dataItem.TenGoiChietKhau\\\" id=\\\"dvGoiMarketing{{rowIndex}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.GoiCoChietKhauId\\\"\\n                (modelChange)=\\\"changeDichVuTrongGoi($event, dataItem)\\\" [disabled]=\\\"dataItem.YeuCauGoiDichVuKhuyenMaiId\\\">\\n            </app-checkbox>\\n        </ng-template>\\n\\n        <ng-template #dichVuKhuyenMaiTemplate let-dataItem>\\n            <app-checkbox *ngIf=\\\"dataItem.LaDichVuKhuyenMai\\\" id=\\\"dvKhuyenMaiGoiMarketing{{dataItem.Id}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.LaDichVuKhuyenMai\\\"\\n                [disabled]=\\\"true\\\">\\n            </app-checkbox>\\n        </ng-template>\\n    </vex-page-layout-content>\\n</vex-page-layout>\\n\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component.html\":\n/*!*********************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component.html ***!\n  \\*********************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n\\t<div style=\\\"text-transform: uppercase\\\">Kết quả phiếu ({{arrFileUrl.length}} file)</div>\\n\\t<button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n\\t\\t<mat-icon [icIcon]=\\\"icClose\\\" [mat-dialog-close]=\\\"null\\\"></mat-icon>\\n\\t</button>\\n</div>\\n<mat-dialog-content style=\\\"height: 550px\\\">\\n\\t<div class=\\\"container-iframe\\\">\\n\\t\\t<ng-container [ngSwitch]=\\\"arrFileUrl.length == 1\\\">\\n\\t\\t\\t<div *ngSwitchCase=\\\"true\\\">\\n\\t\\t\\t\\t<ng-container  *ngFor=\\\"let item of arrFileUrl, let i = index\\\">\\n\\t\\t\\t\\t\\t<iframe id=\\\"{{i}}\\\" width=\\\"100%\\\" height=\\\"1000px\\\" frameborder=\\\"0\\\" [src]=\\\"item | safe\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"application/pdf\\\" allowTransparency=\\\"true\\\" background=\\\"transparent\\\" style=\\\"display: none\\\"\\n\\t\\t\\t\\t\\t\\tonload=\\\"this.style.display = 'block';\\\"></iframe>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div *ngSwitchDefault>Không có dữ liệu</div>\\n\\t\\t</ng-container>\\n\\n\\t\\t<ng-container [ngSwitch]=\\\"arrFileUrl.length > 1\\\">\\n\\t\\t\\t<div *ngSwitchCase=\\\"true\\\">\\n\\n\\t\\t\\t\\t<ng-container  *ngFor=\\\"let item of arrFileUrl, let i = index\\\">\\n\\t\\t\\t\\t\\t<iframe id=\\\"{{i}}\\\" width=\\\"100%\\\" height=\\\"450px\\\" frameborder=\\\"0\\\" [src]=\\\"item | safe\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"application/pdf\\\" allowTransparency=\\\"true\\\" background=\\\"transparent\\\" style=\\\"display: none\\\"\\n\\t\\t\\t\\t\\t\\tonload=\\\"this.style.display = 'block';\\\"></iframe>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div *ngSwitchDefault>Không có dữ liệu</div>\\n\\t\\t</ng-container>\\n\\t</div>\\n</mat-dialog-content>\\n<mat-dialog-actions class=\\\"pb-5\\\">\\n\\t<button type=\\\"button\\\" style=\\\"margin-left: auto\\\" [mat-dialog-close]=\\\"null\\\" mat-button class=\\\"mr-1 mt-4\\\"><i class=\\\"ft-arrow-left\\\"></i> Hủy</button>\\n\\t<button type=\\\"button\\\" *ngIf=\\\"arrFilePdf.length > 0\\\" (click)=\\\"downloadAllFile()\\\" mat-stroked-button color=\\\"primary\\\" class=\\\"mr-1 mt-4\\\">Tải tất cả</button>\\n\\t<button type=\\\"button\\\" mat-raised-button mat-button (click)=\\\"ketXuatBangKeChiPhiExcel()\\\" title=\\\"xuất excel\\\" color=\\\"primary\\\" class=\\\"mr-2\\\">Xuất Excel</button>\\n</mat-dialog-actions>\\n\");\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.html\":\n/*!*************************************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.html ***!\n  \\*************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div></div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"overflow:hidden\\\">\\n    <div class=\\\"container-iframe\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                <span fxFlex=\\\"30%\\\">\\n                     Biểu hiện lâm sàng:\\n                </span>\\n                <app-textarea fxFlex=\\\"70%\\\" id=\\\"BieuHienLamSang\\\" [(model)]=\\\"xetNghiemCovid.BieuHienLamSang\\\" \\n                 minHeight=\\\"20\\\">\\n                </app-textarea>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                <span fxFlex=\\\"30%\\\">\\n                     Dịch tễ SARS-CoV 2:\\n                </span>\\n                <app-textarea id=\\\"DichTeSarsCoV2\\\" [(model)]=\\\"xetNghiemCovid.DichTeSarsCoV2\\\" fxFlex=\\\"70%\\\"\\n                 minHeight=\\\"20\\\">\\n            </app-textarea>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                <span >\\n                     Loại bệnh án: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>{{xetNghiemCovid.LoaiBenhPham}}</b>\\n                </span>\\n            </div>\\n        </div>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" (click)=\\\"save()\\\" mat-raised-button mat-button color=\\\"primary\\\"\\n        class=\\\"md-primary\\\">Lưu</button>\\n</mat-dialog-actions> \");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.scss\":\n/*!*****************************************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.scss ***!\n  \\*****************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL2luLXBoaWV1LWRhbmcta3kta2hhbS10aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwL2luLXBoaWV1LWRhbmcta3kta2hhbS10aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLmNvbXBvbmVudC5zY3NzIn0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.ts\":\n/*!***************************************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.ts ***!\n  \\***************************************************************************************************************************************************************/\n/*! exports provided: InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent\", function() { return InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ \"./node_modules/@angular/platform-browser/fesm2015/platform-browser.js\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nlet InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent = class InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent {\n    constructor(data, sanitizer, apiService, dialog) {\n        this.data = data;\n        this.sanitizer = sanitizer;\n        this.apiService = apiService;\n        this.dialog = dialog;\n        this.phieuDangKyKham = [];\n        this.phieuDichVuKyThuatCLS = [];\n        this.phieuDichVuKhamCLS = [];\n        this.phieuDichVuKhacCLS = [];\n        this.phieuDichVuGiuongCLS = [];\n        this.phieuDichVuChiDinhXetNghiemTestCovid = [];\n        this.src = \"\";\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5___default.a;\n        this.loaiPhieu = 0;\n    }\n    ngOnInit() {\n        this.src = \"data:text/html;charset=utf-8,\" + encodeURIComponent(this.data.Model);\n        console.log(\"data:\", this.data.Model);\n        this.modelPrint = this.data.Model;\n    }\n    close() {\n        this.dialog.closeAll();\n    }\n    InPhieu(loaiPhieu) {\n        this.loaiPhieu = loaiPhieu;\n        this.getSharedPrintForm();\n    }\n    getSharedPrintForm() {\n        const tmpPhieuKham = '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU ĐĂNG KÝ KHÁM</th></tr></table>';\n        const tmpPhieuCLS = '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH CẬN LÂM SÀNG</th></tr></table>';\n        const tmpPhieuXNCoVId = '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH XÉT NGHIỆM TEST NHANH KHÁNG NGUYÊN SARS-CoV-2 </th></tr></table>';\n        let data = this.modelPrint.replaceAll(tmpPhieuKham, '').replaceAll(tmpPhieuCLS, '').replaceAll(tmpPhieuXNCoVId, '');\n        // in \n        let dataphieukeThuTienThuoc = data.split('<div class=\\\"pagebreak\\\"> </div>');\n        let dataphieu = data.split('<div class=\\\"pagebreak\\\"> </div>');\n        let pageBreak = '<div class=\\\"pagebreak\\\"> </div>';\n        dataphieu.forEach(element => {\n            if (element.indexOf('PHIẾU ĐĂNG KÝ KHÁM') > -1) {\n                let PhieuInPageBreak = element + pageBreak;\n                this.phieuDangKyKham.push(PhieuInPageBreak);\n            }\n            else if (element.indexOf('DỊCH VỤ GIƯỜNG') > -1) {\n                let PhieuInPageBreak = element + pageBreak;\n                this.phieuDichVuGiuongCLS.push(PhieuInPageBreak);\n            }\n            else if (element.indexOf('PHIẾU CHỈ ĐỊNH XÉT NGHIỆM') > -1) {\n                let PhieuInPageBreak = element + pageBreak;\n                this.phieuDichVuChiDinhXetNghiemTestCovid.push(PhieuInPageBreak);\n            }\n            else {\n                let PhieuInPageBreak = element + pageBreak;\n                this.phieuDichVuKyThuatCLS.push(PhieuInPageBreak);\n            }\n        });\n        if (this.loaiPhieu == 1) // dvkt\n         {\n            if (this.phieuDichVuKyThuatCLS.length == 0) {\n                let chuoiIn = \"Không có dịch vụ chỉ định cận lâm sàng.\";\n                return new Promise(resolve => {\n                    resolve(chuoiIn);\n                    chuoiIn = \"\";\n                    this.phieuDichVuKyThuatCLS = [];\n                });\n            }\n            else {\n                let chuoiIn = \"\";\n                this.phieuDichVuKyThuatCLS.forEach(element => {\n                    if (element != pageBreak) {\n                        chuoiIn = chuoiIn + element;\n                    }\n                });\n                let viTricutPageBreak = chuoiIn.lastIndexOf(pageBreak);\n                chuoiIn = chuoiIn.substr(0, viTricutPageBreak);\n                return new Promise(resolve => {\n                    resolve(chuoiIn);\n                    chuoiIn = \"\";\n                    this.phieuDichVuKyThuatCLS = [];\n                });\n            }\n        }\n        if (this.loaiPhieu == 2) // dv kb\n         {\n            if (this.phieuDangKyKham.length == 0) {\n                let chuoiIn = \"Không có dịch vụ khám bệnh.\";\n                return new Promise(resolve => {\n                    resolve(chuoiIn);\n                    chuoiIn = \"\";\n                    this.phieuDichVuKyThuatCLS = [];\n                });\n            }\n            else {\n                let chuoiIn = \"\";\n                this.phieuDangKyKham.forEach(element => {\n                    chuoiIn = chuoiIn + element;\n                });\n                let viTricutPageBreak = chuoiIn.lastIndexOf(pageBreak);\n                chuoiIn = chuoiIn.substr(0, viTricutPageBreak);\n                return new Promise(resolve => {\n                    resolve(chuoiIn);\n                    chuoiIn = \"\";\n                    this.phieuDangKyKham = [];\n                });\n            }\n        }\n        if (this.loaiPhieu == 4) // dv giuong\n         {\n            if (this.phieuDangKyKham.length == 0) {\n                let chuoiIn = \"Không có dịch vụ khám bệnh.\";\n                return new Promise(resolve => {\n                    resolve(chuoiIn);\n                    chuoiIn = \"\";\n                    this.phieuDichVuKyThuatCLS = [];\n                });\n            }\n            else {\n                let chuoiIn = \"\";\n                this.phieuDichVuGiuongCLS.forEach(element => {\n                    chuoiIn = chuoiIn + element;\n                });\n                let viTricutPageBreak = chuoiIn.lastIndexOf(pageBreak);\n                chuoiIn = chuoiIn.substr(0, viTricutPageBreak);\n                return new Promise(resolve => {\n                    resolve(chuoiIn);\n                    chuoiIn = \"\";\n                    this.phieuDichVuGiuongCLS = [];\n                });\n            }\n        }\n        if (this.loaiPhieu == 3) // dv xn covid\n         {\n            if (this.phieuDichVuChiDinhXetNghiemTestCovid.length == 0) {\n                let chuoiIn = \"Không có phiếu chỉ định xét nghiệm.\";\n                return new Promise(resolve => {\n                    resolve(chuoiIn);\n                    chuoiIn = \"\";\n                    this.phieuDichVuKyThuatCLS = [];\n                });\n            }\n            else {\n                let chuoiIn = \"\";\n                this.phieuDichVuChiDinhXetNghiemTestCovid.forEach(element => {\n                    chuoiIn = chuoiIn + element;\n                });\n                let viTricutPageBreak = chuoiIn.lastIndexOf(pageBreak);\n                chuoiIn = chuoiIn.substr(0, viTricutPageBreak);\n                return new Promise(resolve => {\n                    resolve(chuoiIn);\n                    chuoiIn = \"\";\n                    this.phieuDichVuChiDinhXetNghiemTestCovid = [];\n                });\n            }\n        }\n    }\n};\nInPhieuDangKyKhamTiepNhanBenhNhanPopupComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__[\"DomSanitizer\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__[\"ApiService\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialog\"] }\n];\nInPhieuDangKyKhamTiepNhanBenhNhanPopupComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-xn-covid/in-phieu-xn-covid.component.scss\":\n/*!*****************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-xn-covid/in-phieu-xn-covid.component.scss ***!\n  \\*****************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vaW4tcGhpZXUteG4tY292aWQvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aWVwLW5oYW4tYmVuaC1uaGFuXFxpbi1waGlldS14bi1jb3ZpZFxcaW4tcGhpZXUteG4tY292aWQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL2luLXBoaWV1LXhuLWNvdmlkL2luLXBoaWV1LXhuLWNvdmlkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL2luLXBoaWV1LXhuLWNvdmlkL2luLXBoaWV1LXhuLWNvdmlkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwMHB4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn0iLCIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTAwcHg7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSJdfQ== */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-xn-covid/in-phieu-xn-covid.component.ts\":\n/*!***************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-xn-covid/in-phieu-xn-covid.component.ts ***!\n  \\***************************************************************************************************/\n/*! exports provided: InPhieuXnCovidComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InPhieuXnCovidComponent\", function() { return InPhieuXnCovidComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ \"./node_modules/@angular/platform-browser/fesm2015/platform-browser.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nlet InPhieuXnCovidComponent = class InPhieuXnCovidComponent {\n    constructor(data, sanitizer, dialog) {\n        this.data = data;\n        this.sanitizer = sanitizer;\n        this.dialog = dialog;\n        this.src = '';\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default.a;\n        this.src = 'data:text/html;charset=utf-8,' + encodeURIComponent(this.data.Model);\n    }\n    ngOnInit() {\n        this.modelPrint = this.data.Model;\n    }\n    getSharedPrintForm() {\n        const tmpPhieuXNCoVId = '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH XÉT NGHIỆM TEST NHANH KHÁNG NGUYÊN SARS-CoV-2 </th></tr></table>';\n        let data = this.modelPrint.replaceAll(tmpPhieuXNCoVId, '');\n        return new Promise(resolve => {\n            resolve(data);\n        });\n    }\n    close() {\n        this.dialog.closeAll();\n    }\n};\nInPhieuXnCovidComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__[\"DomSanitizer\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialog\"] }\n];\nInPhieuXnCovidComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-in-phieu-xn-covid',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./in-phieu-xn-covid.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-xn-covid/in-phieu-xn-covid.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./in-phieu-xn-covid.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-xn-covid/in-phieu-xn-covid.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], InPhieuXnCovidComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.scss\":\n/*!*********************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.scss ***!\n  \\*********************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLWRpY2gtdnUtY2hlY2stdHJ1bmcvcG9wdXAtZGljaC12dS1jaGVjay10cnVuZy5jb21wb25lbnQuc2NzcyJ9 */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.ts\":\n/*!*******************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.ts ***!\n  \\*******************************************************************************************************************/\n/*! exports provided: PopupDichVuCheckTrungComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PopupDichVuCheckTrungComponent\", function() { return PopupDichVuCheckTrungComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nlet PopupDichVuCheckTrungComponent = class PopupDichVuCheckTrungComponent {\n    constructor(dialog, data, dialogRef, apiService, notificationService) {\n        this.dialog = dialog;\n        this.data = data;\n        this.dialogRef = dialogRef;\n        this.apiService = apiService;\n        this.notificationService = notificationService;\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5___default.a;\n    }\n    ngOnInit() {\n    }\n    Co() {\n        this.dialogRef.close(true);\n    }\n    Khong() {\n        this.dialogRef.close(false);\n    }\n};\nPopupDichVuCheckTrungComponent.ctorParameters = () => [\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialog\"] },\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__[\"ApiService\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_4__[\"NotificationService\"] }\n];\nPopupDichVuCheckTrungComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-popup-dich-vu-check-trung',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./popup-dich-vu-check-trung.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./popup-dich-vu-check-trung.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], PopupDichVuCheckTrungComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.scss\":\n/*!*************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.scss ***!\n  \\*************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".div-tag-content {\\n  display: block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vcG9wdXAtbWFya2V0aW5nLWNoZWNrLXRydW5nL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcdGllcC1uaGFuLWJlbmgtbmhhblxccG9wdXAtbWFya2V0aW5nLWNoZWNrLXRydW5nXFxwb3B1cC1tYXJrZXRpbmctY2hlY2stdHJ1bmcuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLW1hcmtldGluZy1jaGVjay10cnVuZy9wb3B1cC1tYXJrZXRpbmctY2hlY2stdHJ1bmcuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vcG9wdXAtbWFya2V0aW5nLWNoZWNrLXRydW5nL3BvcHVwLW1hcmtldGluZy1jaGVjay10cnVuZy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kaXYtdGFnLWNvbnRlbnQge1xuICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xufSIsIi5kaXYtdGFnLWNvbnRlbnQge1xuICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xufSJdfQ== */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.ts\":\n/*!***********************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.ts ***!\n  \\***********************************************************************************************************************/\n/*! exports provided: PopupMarketingCheckTrungComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PopupMarketingCheckTrungComponent\", function() { return PopupMarketingCheckTrungComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n\n\n\n\n\nlet PopupMarketingCheckTrungComponent = class PopupMarketingCheckTrungComponent {\n    constructor(dialog, data, dialogRef, apiService, notificationService) {\n        this.dialog = dialog;\n        this.data = data;\n        this.dialogRef = dialogRef;\n        this.apiService = apiService;\n        this.notificationService = notificationService;\n        this.danhSachGoiDaChonTrongLanPopup = new Array();\n        this.gridColumns = [];\n        this.danhSachGoiDaChonTrongLanPopup = this.data.data;\n        //console.log(\"PopupMarketingCheckTrungComponent = \", this.danhSachGoiDaChonTrongLanPopup);\n    }\n    ngOnInit() {\n        this.gridColumns = [\n            { Field: \"ThuocGoi\", Title: \"Chương Trình\", Width: 180, Sortable: false },\n            { Field: \"TenDichVu\", Title: \"Dịch Vụ\", Width: 180, Sortable: true },\n            { Field: \"ThuocGoi\", Title: \"Cảnh Báo\", Width: 80, Sortable: true, Template: this.canhBaoTemplate },\n            { Field: \"ThuocGoi\", Title: \"\", Width: 100, Sortable: true, Template: this.actionTemplate },\n        ];\n    }\n    Co() {\n        let item = this.danhSachGoiDaChonTrongLanPopup.filter(o => o.KhongThem);\n        //console.log(\"Co = \", item);\n        this.dialogRef.close(item);\n    }\n    Khong() {\n        this.dialogRef.close();\n    }\n    close() {\n        this.dialogRef.close();\n    }\n};\nPopupMarketingCheckTrungComponent.ctorParameters = () => [\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialog\"] },\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__[\"ApiService\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_4__[\"NotificationService\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('actionTemplate', { static: true })\n], PopupMarketingCheckTrungComponent.prototype, \"actionTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('canhBaoTemplate', { static: true })\n], PopupMarketingCheckTrungComponent.prototype, \"canhBaoTemplate\", void 0);\nPopupMarketingCheckTrungComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-popup-marketing-check-trung',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./popup-marketing-check-trung.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./popup-marketing-check-trung.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], PopupMarketingCheckTrungComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.scss\":\n/*!*****************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.scss ***!\n  \\*****************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"ul {\\n  margin: 0;\\n}\\n\\nul.dashed {\\n  list-style-type: none;\\n}\\n\\nul.dashed > li {\\n  text-indent: -5px;\\n  padding: 1px 0px 1px 0px;\\n}\\n\\nul.dashed > li:before {\\n  content: \\\"- \\\";\\n  text-indent: -5px;\\n}\\n\\n.title-grid-parent {\\n  text-transform: uppercase;\\n  font-weight: bold;\\n}\\n\\ninput[type=checkbox] {\\n  transform: scale(1.5);\\n}\\n\\n.span-1-goi-marketing {\\n  margin-left: 10px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  max-width: 40%;\\n  width: 40%;\\n}\\n\\n.span-trang-thai {\\n  width: 57%;\\n  text-align: right;\\n}\\n\\n.text-right-td {\\n  text-align: right;\\n}\\n\\n.text-left-td {\\n  text-align: left;\\n}\\n\\n.text-red {\\n  color: red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vcG9wdXAtbWFya2V0aW5nLXRpZXAtbmhhbi1iZW5oLW5oYW4vQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aWVwLW5oYW4tYmVuaC1uaGFuXFxwb3B1cC1tYXJrZXRpbmctdGllcC1uaGFuLWJlbmgtbmhhblxccG9wdXAtbWFya2V0aW5nLXRpZXAtbmhhbi1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLW1hcmtldGluZy10aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLW1hcmtldGluZy10aWVwLW5oYW4tYmVuaC1uaGFuLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsU0FBQTtBQ0NGOztBREVBO0VBQ0UscUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0Esd0JBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UscUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0EsY0FBQTtFQUNBLFVBQUE7QUNDRjs7QURFQTtFQUNFLFVBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGllcC1uaGFuLWJlbmgtbmhhbi9wb3B1cC1tYXJrZXRpbmctdGllcC1uaGFuLWJlbmgtbmhhbi9wb3B1cC1tYXJrZXRpbmctdGllcC1uaGFuLWJlbmgtbmhhbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInVsIHtcbiAgbWFyZ2luOiAwO1xufVxuXG51bC5kYXNoZWQge1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG59XG5cbnVsLmRhc2hlZCA+IGxpIHtcbiAgdGV4dC1pbmRlbnQ6IC01cHg7XG4gIHBhZGRpbmc6IDFweCAwcHggMXB4IDBweDtcbn1cblxudWwuZGFzaGVkID4gbGk6YmVmb3JlIHtcbiAgY29udGVudDogXCItIFwiO1xuICB0ZXh0LWluZGVudDogLTVweDtcbn1cblxuLnRpdGxlLWdyaWQtcGFyZW50IHtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbmlucHV0W3R5cGU9Y2hlY2tib3hdIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjUpO1xufVxuXG4uc3Bhbi0xLWdvaS1tYXJrZXRpbmcge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIG1heC13aWR0aDogNDAlO1xuICB3aWR0aDogNDAlO1xufVxuXG4uc3Bhbi10cmFuZy10aGFpIHtcbiAgd2lkdGg6IDU3JTtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi50ZXh0LXJpZ2h0LXRkIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi50ZXh0LWxlZnQtdGQge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuXG4udGV4dC1yZWQge1xuICBjb2xvcjogcmVkO1xufSIsInVsIHtcbiAgbWFyZ2luOiAwO1xufVxuXG51bC5kYXNoZWQge1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG59XG5cbnVsLmRhc2hlZCA+IGxpIHtcbiAgdGV4dC1pbmRlbnQ6IC01cHg7XG4gIHBhZGRpbmc6IDFweCAwcHggMXB4IDBweDtcbn1cblxudWwuZGFzaGVkID4gbGk6YmVmb3JlIHtcbiAgY29udGVudDogXCItIFwiO1xuICB0ZXh0LWluZGVudDogLTVweDtcbn1cblxuLnRpdGxlLWdyaWQtcGFyZW50IHtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbmlucHV0W3R5cGU9Y2hlY2tib3hdIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjUpO1xufVxuXG4uc3Bhbi0xLWdvaS1tYXJrZXRpbmcge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIG1heC13aWR0aDogNDAlO1xuICB3aWR0aDogNDAlO1xufVxuXG4uc3Bhbi10cmFuZy10aGFpIHtcbiAgd2lkdGg6IDU3JTtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi50ZXh0LXJpZ2h0LXRkIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi50ZXh0LWxlZnQtdGQge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuXG4udGV4dC1yZWQge1xuICBjb2xvcjogcmVkO1xufSJdfQ== */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.ts\":\n/*!***************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.ts ***!\n  \\***************************************************************************************************************************************/\n/*! exports provided: PopupMarketingTiepNhanBenhNhanComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PopupMarketingTiepNhanBenhNhanComponent\", function() { return PopupMarketingTiepNhanBenhNhanComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _iconify_icons_ic_twotone_search__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @iconify/icons-ic/twotone-search */ \"./node_modules/@iconify/icons-ic/twotone-search.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_search__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_search__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan.model */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.model.ts\");\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm2015/forms.js\");\n/* harmony import */ var src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/shared/configdata/system-message */ \"./src/app/shared/configdata/system-message.ts\");\n/* harmony import */ var _popup_marketing_check_trung_popup_marketing_check_trung_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../popup-marketing-check-trung/popup-marketing-check-trung.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.ts\");\n/* harmony import */ var _danh_sach_cho_kham_danh_sach_cho_kham_model__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../danh-sach-cho-kham/danh-sach-cho-kham.model */ \"./src/app/modules/main/tiep-nhan-benh-nhan/danh-sach-cho-kham/danh-sach-cho-kham.model.ts\");\n/* harmony import */ var src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/shared/component/dialogs/confirm/confirm.component */ \"./src/app/shared/component/dialogs/confirm/confirm.component.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet PopupMarketingTiepNhanBenhNhanComponent = class PopupMarketingTiepNhanBenhNhanComponent {\n    constructor(dialog, data, dialogRef, apiService, notificationService) {\n        this.dialog = dialog;\n        this.data = data;\n        this.dialogRef = dialogRef;\n        this.apiService = apiService;\n        this.notificationService = notificationService;\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_6___default.a;\n        this.icSearch = _iconify_icons_ic_twotone_search__WEBPACK_IMPORTED_MODULE_7___default.a;\n        this.searchCtrl = new _angular_forms__WEBPACK_IMPORTED_MODULE_9__[\"FormControl\"];\n        this.searchString = null;\n        this.gridColumns = [];\n        this.gridColumnsChild = [];\n        this.benhNhanId = null;\n        this.danhSachGoiDaChonTrongYCTN = new Array();\n        this.danhSachDichVuDaChonTrongLanPopup = new Array();\n        this.danhSachDichVuDaChonTrongLanPopupString = \"\";\n        this.danhSachDichVuDaChonTrongLanYCTNNay = new Array();\n        this.danhSachDichVuDaChonTrongLanYCTNNayString = \"\";\n        this.danhSachGoiDaChonTrongLanPopup = new Array();\n        this.danhSachDichVuDangCo = new Array();\n        this.urlGetDataGrid = \"TiepNhanBenhNhan/GetDataThongTinGoiForGridAsync\";\n        this.urlGetTotalPageGrid = \"TiepNhanBenhNhan/GetTotalThongTinGoiPageForGridAsync\";\n        this.searchStringDefault = null;\n        // lstDaChon: number[] = new Array<number>();\n        this.tongSoTienThem = null;\n        this.chuongTrinhGoiDichVuIdPopup = null;\n        this.yeuCauGoiDichVuIdPopup = null;\n        this.groups = [{ field: 'TenNhomDichVu' }];\n        this.arrGoiDangChon = new Array();\n        this.danhSachGoiDaChonTrongYCTN = this.data.data;\n        this.benhNhanId = this.data.benhNhanId;\n        if (this.data.itemPopup != undefined && this.data.itemPopup != null) {\n            // this.chuongTrinhGoiDichVuIdPopup = this.data.itemPopup.ChuongTrinhGoiDichVuId;\n            this.yeuCauGoiDichVuIdPopup = this.data.itemPopup.YeuCauGoiDichVuId;\n        }\n        // this.searchStringDefault = this.benhNhanId + \"|\" + this.chuongTrinhGoiDichVuIdPopup;\n        this.searchStringDefault = this.benhNhanId + \"|\" + this.yeuCauGoiDichVuIdPopup;\n        this.danhSachDichVuDaChonTrongLanYCTNNay = this.data.danhSachDichVuGoiDaChon;\n        if (this.danhSachDichVuDaChonTrongLanYCTNNay != undefined && this.danhSachDichVuDaChonTrongLanYCTNNay.length > 0) {\n            this.danhSachDichVuDaChonTrongLanYCTNNayString = JSON.stringify(this.danhSachDichVuDaChonTrongLanYCTNNay);\n        }\n        //console.log(this.danhSachGoiDaChonTrongYCTN, this.benhNhanId, this.danhSachDichVuDaChonTrongLanYCTNNay);\n        this.danhSachDichVuDangCo = this.data.danhSachDichVuDangCo;\n        //console.log(\"danhSachDichVuDangCo: \", this.danhSachDichVuDangCo, \" /n danhSachDichVuDaChonTrongLanYCTNNay: \", this.danhSachDichVuDaChonTrongLanYCTNNay);\n    }\n    ngOnInit() {\n        this.documentType = src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_5__[\"DocumentType\"].YeuCauTiepNhan;\n        this.gridColumns = [\n            { Field: \"TenGoi\", Title: \"Tên Gói\", Width: 600, Sortable: false, Template: this.tenGoiTemplate }\n        ];\n        this.gridColumnsChild = [\n            { Field: \"CheckBox\", Title: \"\", Width: 40, Sortable: false, Template: this.checkBoxTemplate, TemplateHeader: this.checkBoxHeaderTemplate },\n            // { Field: \"STT\", Title: \"#\", Width: 20 , Sortable: false, Template: this.sttTemplate },\n            { Field: \"TenNhomDichVu\", Title: \"\", Width: 20, TemplateGroupHeader: this.nhomDichVuTemplate, Hidden: true },\n            { Field: \"Ma\", Title: \"Mã\", Width: 80, Sortable: true },\n            { Field: \"TenDichVu\", Title: \"Tên dịch vụ\", MinWidth: 180, Sortable: true },\n            { Field: \"LoaiGiaDisplay\", Title: \"Loại giá\", Width: 100, Sortable: true },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 40, Sortable: true },\n            { Field: \"DonGia\", Title: \"Đơn giá\", Width: 120, Sortable: true, Template: this.donGiaTemplate, TemplateFooter: this.tongTienFooterTemplate },\n            { Field: \"ThanhTien\", Title: \"Thành tiền\", Width: 120, Sortable: true, Template: this.thanhTienTemplate, TemplateFooter: this.tongCongFooterTemplate },\n            { Field: \"SoLuongDaDung\", Title: \"SL đã dùng\", Width: 100, Sortable: true },\n            { Field: \"SoLuongDungLanNay\", Title: \"SL dùng lần này\", Width: 120, Sortable: false, Template: this.soLuongTemplate } //, TemplateFooter: this.giaGoiFooterTemplate  }\n        ];\n        // if(this.chuongTrinhGoiDichVuIdPopup != null && this.chuongTrinhGoiDichVuIdPopup != undefined){\n        if (this.yeuCauGoiDichVuIdPopup != null && this.yeuCauGoiDichVuIdPopup != undefined) {\n            let self = this;\n            setTimeout(() => {\n                self.gridChild.onExpandRowDetail(0);\n            }, 500);\n        }\n    }\n    onKeyGrid(event) {\n        if (event.keyCode == 13) {\n            this.Timkiem();\n        }\n    }\n    Timkiem() {\n        this.gridChild._additionalSearchString = this.searchStringDefault;\n        this.gridChild.searchString = this.searchString;\n        this.gridChild.search();\n    }\n    clearSearch() {\n        if ((this.searchString == \"\" || this.searchString == null) && this.gridChild != undefined) {\n            this.gridChild.searchString = \"\";\n            this.gridChild.search();\n        }\n    }\n    chonDichVu(event, dataItem) {\n        //console.log(\"chonDichVu = \", event, dataItem);\n        if (event == true) {\n            this.addDichVu(dataItem);\n        }\n        else {\n            this.removeDichVu(dataItem);\n        }\n    }\n    setSoTienTTThem() {\n        return (this.danhSachGoiDaChonTrongLanPopup.filter(o => o.TrangThaiThanhToan != 2)\n            .reduce((sum, item) => sum + item.GiaSauChietKhau, 0));\n    }\n    changeSoLuongDichVu(event, dataItem) {\n        let item = JSON.parse(JSON.stringify(this.danhSachDichVuDaChonTrongLanPopup.filter(o => o == dataItem)));\n        //console.log(\"changeSoLuongDichVu = \", event, dataItem, item);\n        if (item != undefined && item.length > 0) {\n            item[0].SoLuongDungLanNay = event;\n            item[0].SoLuongConLai = item[0].SoLan - event;\n            this.danhSachDichVuDaChonTrongLanPopupString = JSON.stringify(item);\n        }\n    }\n    addDichVu(data) {\n        let dataTemp = this.cloneItemDichVuChonTronLanNay(data);\n        let indexTemp = -1;\n        this.danhSachDichVuDaChonTrongLanPopup.forEach((element, index) => {\n            let elementTemp = this.cloneItemDichVuChonTronLanNay(element);\n            if (JSON.stringify(dataTemp) == JSON.stringify(elementTemp)) {\n                indexTemp = index;\n            }\n        });\n        if (indexTemp == -1) {\n            this.danhSachDichVuDaChonTrongLanPopup.push(data);\n            this.capNhatThongTinGoiTuDanhSachDichVuDaChon();\n            this.danhSachDichVuDaChonTrongLanPopupString = JSON.stringify(this.danhSachDichVuDaChonTrongLanPopup);\n        }\n        // let item = this.danhSachDichVuDaChonTrongLanPopup.filter(o => o == data);\n        // //console.log(\"addDichVu = \", item, data);\n        // if(item == undefined || item.length == 0)\n        // {\n        //   this.danhSachDichVuDaChonTrongLanPopup.push(data);\n        //   this.capNhatThongTinGoiTuDanhSachDichVuDaChon();\n        //   //\n        //   // let goi = new DanhSachGoiChonTrongLanPopup();\n        //   // goi.ThuocGoi = data.ThuocGoi;\n        //   // goi.GiaSauChietKhau = data.GiaSauChietKhau;\n        //   // goi.TrangThaiThanhToan = data.TrangThaiThanhToan;\n        //   // goi.TrangThaiThanhToanDisplay = data.TrangThaiThanhToanDisplay;\n        //   // this.danhSachGoiDaChonTrongLanPopup.push(goi);\n        //   //\n        //   this.danhSachDichVuDaChonTrongLanPopupString = JSON.stringify(this.danhSachDichVuDaChonTrongLanPopup);\n        // }\n    }\n    removeDichVu(data) {\n        let dataTemp = this.cloneItemDichVuChonTronLanNay(data);\n        let indexTemp = -1;\n        this.danhSachDichVuDaChonTrongLanPopup.forEach((element, index) => {\n            let elementTemp = this.cloneItemDichVuChonTronLanNay(element);\n            if (JSON.stringify(dataTemp) == JSON.stringify(elementTemp)) {\n                indexTemp = index;\n            }\n        });\n        if (indexTemp != -1) {\n            this.danhSachDichVuDaChonTrongLanPopup.splice(indexTemp, 1);\n        }\n        //this.danhSachDichVuDaChonTrongLanPopup = this.danhSachDichVuDaChonTrongLanPopup.filter(o => o != data);\n        //\n        this.capNhatThongTinGoiTuDanhSachDichVuDaChon();\n        //\n        this.danhSachDichVuDaChonTrongLanPopupString = JSON.stringify(this.danhSachDichVuDaChonTrongLanPopup);\n        //console.log(\"removeDichVu = \", this.danhSachDichVuDaChonTrongLanPopup, this.danhSachDichVuDaChonTrongLanPopupString);\n    }\n    cloneItemDichVuChonTronLanNay(data) {\n        let dataTemp = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_8__[\"DanhSachDichVuChonTrongLanPopup\"]();\n        dataTemp.Id = data.Id;\n        dataTemp.TenNhomDichVu = data.TenNhomDichVu;\n        dataTemp.ChuongTrinhGoiDichVuId = data.ChuongTrinhGoiDichVuId;\n        dataTemp.YeuCauGoiDichVuId = data.YeuCauGoiDichVuId;\n        dataTemp.DichVuId = data.DichVuId;\n        return dataTemp;\n    }\n    capNhatThongTinGoiTuDanhSachDichVuDaChon() {\n        this.danhSachGoiDaChonTrongLanPopup = new Array();\n        this.danhSachDichVuDaChonTrongLanPopup.forEach(o => {\n            let item = this.danhSachGoiDaChonTrongLanPopup.filter(m => m.ThuocGoi == o.ThuocGoi);\n            if (item.length == 0) {\n                let goi = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_8__[\"DanhSachGoiChonTrongLanPopup\"]();\n                goi.ThuocGoi = o.ThuocGoi;\n                goi.GiaSauChietKhau = o.GiaSauChietKhau;\n                goi.GiaSauChietKhauDisplay = o.GiaSauChietKhauDisplay;\n                goi.TrangThaiThanhToan = o.TrangThaiThanhToan;\n                goi.TrangThaiThanhToanDisplay = o.TrangThaiThanhToanDisplay;\n                this.danhSachGoiDaChonTrongLanPopup.push(goi);\n            }\n        });\n        //console.log(\"capNhatThongTinGoiTuDanhSachDichVuDaChon = \", this.danhSachGoiDaChonTrongLanPopup);\n    }\n    // test(dataItemParent){\n    //   console.log(\"dataItemParent = \", dataItemParent);\n    // }\n    luuDichVuChiDinh() {\n        if (this.danhSachDichVuDaChonTrongLanPopup != undefined && this.danhSachDichVuDaChonTrongLanPopup.length > 0) {\n            //check trung\n            let danhSachDichVuTrung = new Array();\n            for (let i = 0; i < this.danhSachDichVuDaChonTrongLanPopup.length; i++) {\n                let daThem = false;\n                let item = this.danhSachDichVuDaChonTrongLanPopup[i];\n                let itemExist = this.danhSachDichVuDangCo.filter(o => o.MaDichVuId == item.DichVuId && o.Nhom == item.TenNhomDichVu);\n                if (itemExist.length > 0) {\n                    danhSachDichVuTrung.push(item);\n                    daThem = true;\n                }\n                //\n                let itemPopupExist = this.danhSachDichVuDaChonTrongLanPopup.filter(o => o != item && o.DichVuId == item.DichVuId && o.TenNhomDichVu == item.TenNhomDichVu);\n                if (itemPopupExist.length > 0 && !daThem) {\n                    danhSachDichVuTrung.push(item);\n                }\n            }\n            //console.log(\"danhSachDichVuTrung = \", danhSachDichVuTrung);\n            //\n            if (danhSachDichVuTrung.length > 0) {\n                this.openPopup(danhSachDichVuTrung);\n            }\n            else {\n                //this.dialogRef.close(this.danhSachDichVuDaChonTrongLanPopup);\n                this.kiemTraCoDichVuKhongBaoLanh(this.danhSachDichVuDaChonTrongLanPopup);\n            }\n            //\n            //this.dialogRef.close(this.danhSachDichVuDaChonTrongLanPopup);\n        }\n        else {\n            this.notificationService.showError(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_10__[\"TiepNhanBenhNhanMessage\"].MessageErrorMustHaveOneDVGoi);\n        }\n    }\n    openPopup(danhSachDichVuTrung) {\n        var self = this;\n        self.dialog.open(_popup_marketing_check_trung_popup_marketing_check_trung_component__WEBPACK_IMPORTED_MODULE_11__[\"PopupMarketingCheckTrungComponent\"], {\n            disableClose: false,\n            width: '950px',\n            data: {\n                data: danhSachDichVuTrung\n            }\n        }).afterClosed().subscribe(result => {\n            //console.log('danh sach khong chon = ', result);\n            if (result == undefined) {\n                //khong them gi\n                this.dialogRef.close();\n            }\n            else {\n                let danhSach = new Array();\n                for (let i = 0; i < this.danhSachDichVuDaChonTrongLanPopup.length; i++) {\n                    let itemThem = this.danhSachDichVuDaChonTrongLanPopup[i];\n                    let itemKhongThem = result.filter(o => o == itemThem);\n                    if (itemKhongThem.length == 0) {\n                        danhSach.push(itemThem);\n                    }\n                }\n                //this.dialogRef.close(danhSach);\n                this.kiemTraCoDichVuKhongBaoLanh(danhSach);\n            }\n            // if (result != undefined && result.length > 0) {\n            //   this.dialogRef.close(this.danhSachDichVuDaChonTrongLanPopup);\n            // }\n            // else{\n            //   this.notificationService.showError(TiepNhanBenhNhanMessage.MessageErrorMustHaveOneDVGoi);\n            // }\n            //this.dialogRef.close(this.danhSachDichVuDaChonTrongLanPopup);\n        });\n    }\n    close() {\n        this.dialogRef.close();\n    }\n    // update gói marketing\n    xemChiTietGoiDichVu(event) {\n        if (event.Data.length > 0) {\n            console.log('event.Data', event.Data);\n            event.Data.forEach(element => {\n                //xử lý thêm vào ds hiển thị dịch vụ đang chọn\n                var indexGoiDangChon = this.arrGoiDangChon.findIndex(x => x.YeuCauGoiDichVuId == element.Id);\n                if (indexGoiDangChon == -1) {\n                    this.arrGoiDangChon.push(new _danh_sach_cho_kham_danh_sach_cho_kham_model__WEBPACK_IMPORTED_MODULE_12__[\"GoiDichVuMarketingDangChonTiepNhan\"](element.Id, 0, element.TenDisplay, element.ConLai, element.IsChecked, []));\n                }\n                else {\n                    var goiDangChon = this.arrGoiDangChon.find(x => x.YeuCauGoiDichVuId == element.Id);\n                    goiDangChon.TongTienConBaoLanhDuoc = element.ConLai;\n                }\n            });\n        }\n    }\n    kiemTraGoiDichVuCoChonDichVu(yeuCauGoiDichVuId) {\n        let index = this.danhSachDichVuDaChonTrongLanPopup.findIndex(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId);\n        return index != -1;\n    }\n    getArrayDichVuDaChonTheoGoi(yeuCauGoiDichVuId) {\n        return this.danhSachDichVuDaChonTrongLanPopup.filter(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId);\n    }\n    tinhTongTienDichVuDangChon(yeuCauGoiDichVuId) {\n        let tongTien = 0;\n        this.danhSachDichVuDaChonTrongLanPopup.forEach(element => {\n            if (element.YeuCauGoiDichVuId == yeuCauGoiDichVuId) {\n                tongTien += element.SoLuongDungLanNay * element.DonGia;\n            }\n        });\n        return tongTien;\n    }\n    // cập nhật BVHD-3423\n    chonTatCaDichVuTrongGoi(event, yeuCauGoiDichVuId) {\n        if (event) {\n            let name = 'ckbItem-' + yeuCauGoiDichVuId;\n            let checkboxes = document.getElementsByName(name);\n            checkboxes.forEach(element => {\n                if (!element['checked']) {\n                    document.getElementById(element['id']).click();\n                }\n            });\n            let nameGroup = 'ckbGroup-' + yeuCauGoiDichVuId;\n            let checkboxGroups = document.getElementsByClassName(nameGroup);\n            for (let index = 0; index < checkboxGroups.length; index++) {\n                var element = document.getElementById(checkboxGroups[index].id);\n                if (!element.checked) {\n                    element.checked = true;\n                }\n            }\n        }\n        else {\n            let name = 'ckbItem-' + yeuCauGoiDichVuId;\n            let checkboxes = document.getElementsByName(name);\n            checkboxes.forEach(element => {\n                if (element['checked']) {\n                    document.getElementById(element['id']).click();\n                }\n            });\n            let nameGroup = 'ckbGroup-' + yeuCauGoiDichVuId;\n            let checkboxGroups = document.getElementsByClassName(nameGroup);\n            for (let index = 0; index < checkboxGroups.length; index++) {\n                var element = document.getElementById(checkboxGroups[index].id);\n                if (element.checked) {\n                    element.checked = false;\n                }\n            }\n        }\n    }\n    chonTatCaDichVuTrongNhom(event, yeuCauGoiDichVuId, tenNhom) {\n        let classItemInGroup = 'ckbItemInGroup-' + yeuCauGoiDichVuId + '-' + tenNhom;\n        let checkboxItemGroups = document.getElementsByClassName(classItemInGroup);\n        for (let index = 0; index < checkboxItemGroups.length; index++) {\n            var element = document.getElementById(checkboxItemGroups[index].id);\n            if (event.target.checked) {\n                if (!element.checked) {\n                    document.getElementById(element.id).click();\n                }\n            }\n            else {\n                if (element.checked) {\n                    document.getElementById(element.id).click();\n                }\n            }\n        }\n    }\n    //BVHD-3804\n    kiemTraCoDichVuKhongBaoLanh(danhSach = null) {\n        var self = this;\n        let name = 'lbl-khong-du-bao-lanh';\n        let lbls = document.getElementsByName(name);\n        if (lbls != undefined && lbls.length > 0) {\n            self.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_13__[\"ConfirmComponent\"], {\n                disableClose: false,\n                width: '400px',\n                data: { Title: \"Thông báo\", Message: \"Số tiền tạm ứng gói của người bệnh chưa đủ để thực hiện dịch vụ này\", IsDetail: true },\n            }).afterClosed().subscribe(result => {\n                self.dialogRef.close(danhSach);\n            });\n        }\n        else {\n            self.dialogRef.close(danhSach);\n        }\n    }\n};\nPopupMarketingTiepNhanBenhNhanComponent.ctorParameters = () => [\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialog\"] },\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__[\"ApiService\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_4__[\"NotificationService\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('parentGrid', { static: true })\n], PopupMarketingTiepNhanBenhNhanComponent.prototype, \"gridChild\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('tenGoiTemplate', { static: true })\n], PopupMarketingTiepNhanBenhNhanComponent.prototype, \"tenGoiTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('sttTemplate', { static: true })\n], PopupMarketingTiepNhanBenhNhanComponent.prototype, \"sttTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('nhomDichVuTemplate', { static: true })\n], PopupMarketingTiepNhanBenhNhanComponent.prototype, \"nhomDichVuTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('soLuongTemplate', { static: true })\n], PopupMarketingTiepNhanBenhNhanComponent.prototype, \"soLuongTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('donGiaTemplate', { static: true })\n], PopupMarketingTiepNhanBenhNhanComponent.prototype, \"donGiaTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienTemplate', { static: true })\n], PopupMarketingTiepNhanBenhNhanComponent.prototype, \"thanhTienTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('tongTienFooterTemplate', { static: true })\n], PopupMarketingTiepNhanBenhNhanComponent.prototype, \"tongTienFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('tongCongFooterTemplate', { read: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"TemplateRef\"], static: true })\n], PopupMarketingTiepNhanBenhNhanComponent.prototype, \"tongCongFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('chietKhauFooterTemplate', { read: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"TemplateRef\"], static: true })\n], PopupMarketingTiepNhanBenhNhanComponent.prototype, \"chietKhauFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('giaGoiFooterTemplate', { read: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"TemplateRef\"], static: true })\n], PopupMarketingTiepNhanBenhNhanComponent.prototype, \"giaGoiFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('checkBoxHeaderTemplate', { read: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"TemplateRef\"], static: true })\n], PopupMarketingTiepNhanBenhNhanComponent.prototype, \"checkBoxHeaderTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('checkBoxTemplate', { read: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"TemplateRef\"], static: true })\n], PopupMarketingTiepNhanBenhNhanComponent.prototype, \"checkBoxTemplate\", void 0);\nPopupMarketingTiepNhanBenhNhanComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-popup-marketing-tiep-nhan-benh-nhan',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./popup-marketing-tiep-nhan-benh-nhan.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./popup-marketing-tiep-nhan-benh-nhan.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], PopupMarketingTiepNhanBenhNhanComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.scss\":\n/*!*******************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.scss ***!\n  \\*******************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".button-chon {\\n  color: white !important;\\n  background-color: #005dab !important;\\n  text-align: center !important;\\n  border-radius: 3px !important;\\n}\\n\\n.button-chon:hover {\\n  background-color: #005dab;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vcG9wdXAtdGltLWtpZW0tYmVuaC1uaGFuL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcdGllcC1uaGFuLWJlbmgtbmhhblxccG9wdXAtdGltLWtpZW0tYmVuaC1uaGFuXFxwb3B1cC10aW0ta2llbS1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLXRpbS1raWVtLWJlbmgtbmhhbi9wb3B1cC10aW0ta2llbS1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1QkFBQTtFQUNBLG9DQUFBO0VBQ0EsNkJBQUE7RUFDQSw2QkFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLXRpbS1raWVtLWJlbmgtbmhhbi9wb3B1cC10aW0ta2llbS1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnV0dG9uLWNob24ge1xuICBjb2xvcjogd2hpdGUgIWltcG9ydGFudDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNWRhYiAhaW1wb3J0YW50O1xuICB0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDtcbiAgYm9yZGVyLXJhZGl1czogM3B4ICFpbXBvcnRhbnQ7XG59XG5cbi5idXR0b24tY2hvbjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDVkYWI7XG59IiwiLmJ1dHRvbi1jaG9uIHtcbiAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDVkYWIgIWltcG9ydGFudDtcbiAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gIGJvcmRlci1yYWRpdXM6IDNweCAhaW1wb3J0YW50O1xufVxuXG4uYnV0dG9uLWNob246aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1ZGFiO1xufSJdfQ== */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.ts\":\n/*!*****************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.ts ***!\n  \\*****************************************************************************************************************/\n/*! exports provided: PopupTimKiemBenhNhanComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PopupTimKiemBenhNhanComponent\", function() { return PopupTimKiemBenhNhanComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan.model */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.model.ts\");\n/* harmony import */ var src_app_shared_component_grid_grid_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/component/grid/grid.component */ \"./src/app/shared/component/grid/grid.component.ts\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/core/utilities/common.helper */ \"./src/app/core/utilities/common.helper.ts\");\n\n\n\n\n\n\n\n\n\nlet PopupTimKiemBenhNhanComponent = class PopupTimKiemBenhNhanComponent {\n    constructor(data, dialogRef, apiService) {\n        this.data = data;\n        this.dialogRef = dialogRef;\n        this.apiService = apiService;\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_6___default.a;\n        this.gridColumns = [];\n        this.timKiemBenhNhanSearch = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"TimKiemBenhNhanGridVo\"]();\n        this.sort = [\n            {\n                field: \"MaBN\",\n                dir: \"asc\",\n            },\n        ];\n        this.addtionStringDefault = null;\n        this.urlGetDataGrid = \"TiepNhanBenhNhan/GetDataForGridAsyncPopupTimKiem\";\n        this.urlGetTotalPageGrid = \"TiepNhanBenhNhan/GetTotalPageForGridAsyncPopupTimKiem\";\n        //console.log(\"---: \", data); \n        if (data == null || data == undefined) {\n            data = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"DataTimKiem\"]();\n        }\n    }\n    ngOnInit() {\n        this.documentType = src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_5__[\"DocumentType\"].YeuCauTiepNhan;\n        this.gridColumns = [\n            { Field: \"MaBN\", Title: \"Mã NB\", Width: 80, Sortable: true },\n            { Field: \"BHYTMaSoThe\", Title: \"Mã thẻ BHYT\", Width: 150, Sortable: true },\n            { Field: \"HoTen\", Title: \"Họ và tên\", Width: 150, Sortable: true },\n            { Field: \"NgaySinhDisplay\", Title: \"Ngày sinh\", Width: 120, Sortable: false },\n            { Field: \"GioiTinhDisplay\", Title: \"GT\", Width: 60, Sortable: false },\n            { Field: \"SoChungMinhThu\", Title: \"CMND\", Width: 150, Sortable: false },\n            { Field: \"SoDienThoaiDisplay\", Title: \"Điện thoại\", Width: 120, Sortable: false },\n            { Field: \"DiaChi\", Title: \"Địa chỉ\", Width: 300, Sortable: false },\n            { Field: \"Action\", Title: \"\", Width: 60, Template: this.actionTemplate },\n        ];\n        this.timKiemBenhNhanSearch.MaBN = this.data.searchBenhNhan.MaBN;\n        this.timKiemBenhNhanSearch.BHYTMaSoThe = this.data.searchBenhNhan.MaBHYT;\n        this.timKiemBenhNhanSearch.HoTen = this.data.searchBenhNhan.HoTen;\n        this.timKiemBenhNhanSearch.NgaySinhDisplay = this.data.searchBenhNhan.NgaySinhDisplay;\n        this.timKiemBenhNhanSearch.ThangSinh = this.data.searchBenhNhan.ThangSinh;\n        this.timKiemBenhNhanSearch.NamSinh = this.data.searchBenhNhan.NamSinh;\n        this.timKiemBenhNhanSearch.SoChungMinhThu = this.data.searchBenhNhan.SoChungMinhThu;\n        this.timKiemBenhNhanSearch.SoDienThoai = this.data.searchBenhNhan.SoDienThoai;\n        this.timKiemBenhNhanSearch.DiaChi = this.data.searchBenhNhan.DiaChi;\n        if (this.timKiemBenhNhanSearch.NgaySinhDisplay != null) {\n            this.timKiemBenhNhanSearch.NgaySinhFormat = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_8__[\"CommonService\"].formatDateTime(new Date(this.timKiemBenhNhanSearch.NgaySinhDisplay), \"dd/mm/yyyy\");\n        }\n        this.addtionStringDefault = JSON.stringify(this.timKiemBenhNhanSearch);\n    }\n    close(answer) {\n        this.dialogRef.close(answer);\n    }\n    chonBenhNhan(item) {\n        this.apiService.post(\"TiepNhanBenhNhan/GetBenhNhan/?benhNhanId=\" + item.Id).subscribe(resultData => {\n            //console.log(\"chonBenhNhan = \", resultData);\n            this.dialogRef.close(resultData);\n        }, (err) => {\n        });\n    }\n    onKey(event) {\n        if (event.keyCode === 13) {\n            this.TimKiem();\n        }\n    }\n    TimKiem() {\n        if (this.timKiemBenhNhanSearch.NgaySinhDisplay != null) {\n            this.timKiemBenhNhanSearch.NgaySinhFormat = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_8__[\"CommonService\"].formatDateTime(this.timKiemBenhNhanSearch.NgaySinhDisplay, \"dd/mm/yyyy\");\n        }\n        else {\n            this.timKiemBenhNhanSearch.NgaySinhFormat = null;\n        }\n        var queryString = JSON.stringify(this.timKiemBenhNhanSearch);\n        this.gridTimKiemTiepNhan._additionalSearchString = queryString;\n        this.gridTimKiemTiepNhan.search();\n    }\n};\nPopupTimKiemBenhNhanComponent.ctorParameters = () => [\n    { type: _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"DataTimKiem\"], decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_7__[\"ApiService\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], PopupTimKiemBenhNhanComponent.prototype, \"sort\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])(src_app_shared_component_grid_grid_component__WEBPACK_IMPORTED_MODULE_4__[\"GridComponent\"], { static: true })\n], PopupTimKiemBenhNhanComponent.prototype, \"gridTimKiemTiepNhan\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('actionTemplate', { static: true })\n], PopupTimKiemBenhNhanComponent.prototype, \"actionTemplate\", void 0);\nPopupTimKiemBenhNhanComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-popup-tim-kiem-benh-nhan',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./popup-tim-kiem-benh-nhan.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./popup-tim-kiem-benh-nhan.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], PopupTimKiemBenhNhanComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.scss\":\n/*!***************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.scss ***!\n  \\***************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tY2hvLXF1ZXQvdGllcC1uaGFuLWJlbmgtbmhhbi1jaG8tcXVldC5jb21wb25lbnQuc2NzcyJ9 */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.ts\":\n/*!*************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.ts ***!\n  \\*************************************************************************************************************************/\n/*! exports provided: TiepNhanBenhNhanChoQuetComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TiepNhanBenhNhanChoQuetComponent\", function() { return TiepNhanBenhNhanChoQuetComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _danh_muc_bao_hiem_y_te_bao_hiem_y_te_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../danh-muc/bao-hiem-y-te/bao-hiem-y-te.model */ \"./src/app/modules/main/danh-muc/bao-hiem-y-te/bao-hiem-y-te.model.ts\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n\n\n\n\n\nlet TiepNhanBenhNhanChoQuetComponent = class TiepNhanBenhNhanChoQuetComponent {\n    constructor(data, dialog, apiService, dialogRef) {\n        this.data = data;\n        this.dialog = dialog;\n        this.apiService = apiService;\n        this.dialogRef = dialogRef;\n    }\n    ngOnInit() {\n        this.quetThongTinBenhNhan(this.data);\n    }\n    quetThongTinBenhNhan(model) {\n        //console.log(\"quetThongTinBenhNhan = \", this.data);\n        this.apiService.post(\"BHYT/GetLichSuKhamChuaBenh\", model).subscribe(resultData => {\n            if (resultData != undefined) {\n                //this.setValueBHYT(resultData);\n                //console.log(\"resultData === \", resultData);\n                this.dialogRef.close(resultData);\n            }\n        }, (err) => {\n            //console.log(\"err = \", err);\n            let errBHYT = new _danh_muc_bao_hiem_y_te_bao_hiem_y_te_model__WEBPACK_IMPORTED_MODULE_2__[\"BaoHiemYTe\"]();\n            if (err.Message != \"Validation Failed\" && err.Message != null && err.Message != '') {\n                errBHYT.ghiChu = err.Message;\n            }\n            else {\n                errBHYT = null;\n            }\n            this.dialogRef.close(errBHYT);\n        });\n    }\n};\nTiepNhanBenhNhanChoQuetComponent.ctorParameters = () => [\n    { type: _danh_muc_bao_hiem_y_te_bao_hiem_y_te_model__WEBPACK_IMPORTED_MODULE_2__[\"ThongTinBenhNhan\"], decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MatDialog\"] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__[\"ApiService\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MatDialogRef\"] }\n];\nTiepNhanBenhNhanChoQuetComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-tiep-nhan-benh-nhan-cho-quet',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./tiep-nhan-benh-nhan-cho-quet.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./tiep-nhan-benh-nhan-cho-quet.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MAT_DIALOG_DATA\"]))\n], TiepNhanBenhNhanChoQuetComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.scss\":\n/*!*********************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.scss ***!\n  \\*********************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".sub-title-bottom {\\n  text-align: center;\\n  color: red;\\n}\\n\\n.div-title-bottom {\\n  margin-top: 30px;\\n  text-align: right;\\n}\\n\\n.err-mess-bhyt:first-letter {\\n  text-transform: uppercase;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi1lcnJvci9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHRpZXAtbmhhbi1iZW5oLW5oYW5cXHRpZXAtbmhhbi1iZW5oLW5oYW4tZXJyb3JcXHRpZXAtbmhhbi1iZW5oLW5oYW4tZXJyb3IuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tZXJyb3IvdGllcC1uaGFuLWJlbmgtbmhhbi1lcnJvci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tZXJyb3IvdGllcC1uaGFuLWJlbmgtbmhhbi1lcnJvci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zdWItdGl0bGUtYm90dG9tIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xufVxuXG4uZGl2LXRpdGxlLWJvdHRvbSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4uZXJyLW1lc3MtYmh5dDpmaXJzdC1sZXR0ZXIge1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufSIsIi5zdWItdGl0bGUtYm90dG9tIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xufVxuXG4uZGl2LXRpdGxlLWJvdHRvbSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4uZXJyLW1lc3MtYmh5dDpmaXJzdC1sZXR0ZXIge1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufSJdfQ== */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.ts\":\n/*!*******************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.ts ***!\n  \\*******************************************************************************************************************/\n/*! exports provided: TiepNhanBenhNhanErrorComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TiepNhanBenhNhanErrorComponent\", function() { return TiepNhanBenhNhanErrorComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/configdata/system-message */ \"./src/app/shared/configdata/system-message.ts\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan.model */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.model.ts\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/core/utilities/common.helper */ \"./src/app/core/utilities/common.helper.ts\");\n\n\n\n\n\n\n\nlet TiepNhanBenhNhanErrorComponent = class TiepNhanBenhNhanErrorComponent {\n    constructor(data, dialog, dialogRef) {\n        this.data = data;\n        this.dialog = dialog;\n        this.dialogRef = dialogRef;\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5___default.a;\n        this.messageErrFromBHYT = \"\";\n    }\n    ngOnInit() {\n        this.errorMessage = src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_2__[\"TiepNhanBenhNhanMessage\"].MessageSaiThongTinBenhNhan;\n        if (this.data != null) {\n            //console.log(this.data);\n            let dateFormat = new Date(this.data.NgayThangNamSinh);\n            this.data.NgayThangNamSinhDisplay = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_6__[\"CommonService\"].formatDate(dateFormat, \"dd/mm/yyyy\");\n            if (this.data.MessageErrFromBHYT != undefined && this.data.MessageErrFromBHYT != null && this.data.MessageErrFromBHYT != \"\") {\n                this.messageErrFromBHYT = this.data.MessageErrFromBHYT;\n            }\n            else {\n                this.messageErrFromBHYT = \"Người bệnh này không tồn tại trên cổng BHYT\";\n            }\n        }\n        else {\n            this.messageErrFromBHYT = \"Người bệnh này không tồn tại trên cổng BHYT\";\n        }\n    }\n    close() {\n        this.dialog.closeAll();\n        //this.dialogRef.close(1);\n    }\n    khamKhongBHYT() {\n        //this.dialog.closeAll();\n        this.dialogRef.close(1);\n    }\n    huy() {\n        this.dialog.closeAll();\n        //this.dialogRef.close(1);\n    }\n    chapNhanBHYTNhapTay() {\n        this.dialogRef.close(2);\n    }\n};\nTiepNhanBenhNhanErrorComponent.ctorParameters = () => [\n    { type: _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_4__[\"TiepNhanBenhNhanViewModel\"], decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MatDialog\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MatDialogRef\"] }\n];\nTiepNhanBenhNhanErrorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-tiep-nhan-benh-nhan-error',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./tiep-nhan-benh-nhan-error.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./tiep-nhan-benh-nhan-error.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__[\"MAT_DIALOG_DATA\"]))\n], TiepNhanBenhNhanErrorComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component.scss\":\n/*!*************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component.scss ***!\n  \\*************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tbGljaC1zdS90aWVwLW5oYW4tYmVuaC1uaGFuLWxpY2gtc3UuY29tcG9uZW50LnNjc3MifQ== */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component.ts\":\n/*!***********************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component.ts ***!\n  \\***********************************************************************************************************************/\n/*! exports provided: TiepNhanBenhNhanLichSuComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TiepNhanBenhNhanLichSuComponent\", function() { return TiepNhanBenhNhanLichSuComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n\n\n\nlet TiepNhanBenhNhanLichSuComponent = class TiepNhanBenhNhanLichSuComponent {\n    constructor() {\n        this.benhNhanId = null;\n        this.gridColumns = [];\n    }\n    ngOnInit() {\n        //console.log(\"lich su = \", this.benhNhanId)\n        this.documentType = src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_2__[\"DocumentType\"].YeuCauTiepNhan;\n        this.gridColumns = [\n            { Field: \"ThoiDiemDangKyDisplay\", Title: \"Ngày khám\", Width: 150, Sortable: true },\n            { Field: \"BaSiKham\", Title: \"Bác sĩ khám\", Width: 150, Sortable: true },\n            { Field: \"Phong\", Title: \"Phòng khám\", Width: 150, Sortable: true },\n            { Field: \"LyDoKham\", Title: \"Lý do khám\", Width: 150, Sortable: true },\n            { Field: \"HoTen\", Title: \"Họ tên người bệnh\", Width: 200, Sortable: true },\n            { Field: \"TrieuChungLamSang\", Title: \"Triệu chuẩn LS\", Width: 200, Sortable: true },\n            { Field: \"ChuanDoanICD\", Title: \"Chẩn đoán ICD\", Width: 250, Sortable: true }\n        ];\n    }\n};\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], TiepNhanBenhNhanLichSuComponent.prototype, \"benhNhanId\", void 0);\nTiepNhanBenhNhanLichSuComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-tiep-nhan-benh-nhan-lich-su',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./tiep-nhan-benh-nhan-lich-su.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./tiep-nhan-benh-nhan-lich-su.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component.scss\")).default]\n    })\n], TiepNhanBenhNhanLichSuComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.scss\":\n/*!***********************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.scss ***!\n  \\***********************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".sub-title-bottom {\\n  text-align: center;\\n  color: red;\\n}\\n\\n.div-title-bottom {\\n  margin-top: 30px;\\n  text-align: right;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1oZXQtaGlldS1sdWMvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aWVwLW5oYW4tYmVuaC1uaGFuXFx0aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWhldC1oaWV1LWx1Y1xcdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1oZXQtaGlldS1sdWMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAtaGV0LWhpZXUtbHVjL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAtaGV0LWhpZXUtbHVjLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGllcC1uaGFuLWJlbmgtbmhhbi90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWhldC1oaWV1LWx1Yy90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWhldC1oaWV1LWx1Yy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zdWItdGl0bGUtYm90dG9tIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xufVxuXG4uZGl2LXRpdGxlLWJvdHRvbSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufSIsIi5zdWItdGl0bGUtYm90dG9tIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xufVxuXG4uZGl2LXRpdGxlLWJvdHRvbSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufSJdfQ== */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.ts\":\n/*!*********************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.ts ***!\n  \\*********************************************************************************************************************************************/\n/*! exports provided: TiepNhanBenhNhanPopupHetHieuLucComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TiepNhanBenhNhanPopupHetHieuLucComponent\", function() { return TiepNhanBenhNhanPopupHetHieuLucComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan.model */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.model.ts\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nlet TiepNhanBenhNhanPopupHetHieuLucComponent = class TiepNhanBenhNhanPopupHetHieuLucComponent {\n    constructor(data, dialog, dialogRef) {\n        this.data = data;\n        this.dialog = dialog;\n        this.dialogRef = dialogRef;\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default.a;\n    }\n    ngOnInit() {\n        //console.log(\"TiepNhanBenhNhanPopupHetHieuLucComponent = \", this.data)\n    }\n    close() {\n        //this.dialog.closeAll();\n        this.dialogRef.close(1);\n    }\n    khamKhongBHYT() {\n        this.dialog.closeAll();\n    }\n    huy() {\n        this.dialogRef.close(1);\n    }\n    chapNhanBHYTNhapTay() {\n        this.dialogRef.close(2);\n    }\n};\nTiepNhanBenhNhanPopupHetHieuLucComponent.ctorParameters = () => [\n    { type: _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"TiepNhanBenhNhanViewModel\"], decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialog\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] }\n];\nTiepNhanBenhNhanPopupHetHieuLucComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-tiep-nhan-benh-nhan-popup-het-hieu-luc',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./tiep-nhan-benh-nhan-popup-het-hieu-luc.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./tiep-nhan-benh-nhan-popup-het-hieu-luc.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], TiepNhanBenhNhanPopupHetHieuLucComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.scss\":\n/*!*************************************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.scss ***!\n  \\*************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".sub-title-bottom {\\n  text-align: center;\\n  color: red;\\n}\\n\\n.div-title-bottom {\\n  margin-top: 30px;\\n  text-align: right;\\n}\\n\\n.div-margin-bottom {\\n  margin-right: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1raG9uZy1raWVtLXRyYS1kdW9jL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcdGllcC1uaGFuLWJlbmgtbmhhblxcdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1raG9uZy1raWVtLXRyYS1kdW9jXFx0aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWtob25nLWtpZW0tdHJhLWR1b2MuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAta2hvbmcta2llbS10cmEtZHVvYy90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWtob25nLWtpZW0tdHJhLWR1b2MuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFVBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGllcC1uaGFuLWJlbmgtbmhhbi90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWtob25nLWtpZW0tdHJhLWR1b2MvdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1raG9uZy1raWVtLXRyYS1kdW9jLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnN1Yi10aXRsZS1ib3R0b20ge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5kaXYtdGl0bGUtYm90dG9tIHtcbiAgbWFyZ2luLXRvcDogMzBweDtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi5kaXYtbWFyZ2luLWJvdHRvbSB7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufSIsIi5zdWItdGl0bGUtYm90dG9tIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xufVxuXG4uZGl2LXRpdGxlLWJvdHRvbSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4uZGl2LW1hcmdpbi1ib3R0b20ge1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbn0iXX0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.ts\":\n/*!***********************************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.ts ***!\n  \\***********************************************************************************************************************************************************/\n/*! exports provided: TiepNhanBenhNhanPopupKhongKiemTraDuocComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TiepNhanBenhNhanPopupKhongKiemTraDuocComponent\", function() { return TiepNhanBenhNhanPopupKhongKiemTraDuocComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan.model */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.model.ts\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _tiep_nhan_benh_nhan_cho_quet_tiep_nhan_benh_nhan_cho_quet_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.ts\");\n/* harmony import */ var _tiep_nhan_benh_nhan_error_tiep_nhan_benh_nhan_error_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.ts\");\n/* harmony import */ var _danh_muc_bao_hiem_y_te_bao_hiem_y_te_model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../danh-muc/bao-hiem-y-te/bao-hiem-y-te.model */ \"./src/app/modules/main/danh-muc/bao-hiem-y-te/bao-hiem-y-te.model.ts\");\n\n\n\n\n\n\n\n\nlet TiepNhanBenhNhanPopupKhongKiemTraDuocComponent = class TiepNhanBenhNhanPopupKhongKiemTraDuocComponent {\n    constructor(data, dialog, dialogRef, dialogRef2) {\n        this.data = data;\n        this.dialog = dialog;\n        this.dialogRef = dialogRef;\n        this.dialogRef2 = dialogRef2;\n        this.thongTinBenhNhan = new _danh_muc_bao_hiem_y_te_bao_hiem_y_te_model__WEBPACK_IMPORTED_MODULE_7__[\"ThongTinBenhNhan\"]();\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default.a;\n    }\n    ngOnInit() {\n        //console.log(\"TiepNhanBenhNhanPopupKhongKiemTraDuocComponent = \", this.data);\n    }\n    khamKhongBHYT() {\n        this.dialogRef.close(false);\n        //this.dialogRef2.close();\n    }\n    chapNhanBHYTNhapTay() {\n        this.dialogRef.close(true);\n    }\n    // chapNhanCoBHYT(){\n    //   this.dialogRef.close(true);\n    //   //this.dialogRef2.close();\n    // }\n    close() {\n        this.dialogRef.close(false);\n    }\n    thuLai() {\n        this.thongTinBenhNhan.MaThe = this.data.BHYTMaSoThe;\n        this.thongTinBenhNhan.TenBenhNhan = this.data.HoTen;\n        this.thongTinBenhNhan.NgaySinh = this.data.NgayThangNamSinh;\n        let dialogRef = this.dialog.open(_tiep_nhan_benh_nhan_cho_quet_tiep_nhan_benh_nhan_cho_quet_component__WEBPACK_IMPORTED_MODULE_5__[\"TiepNhanBenhNhanChoQuetComponent\"], {\n            disableClose: true,\n            width: '500px',\n            height: '250px',\n            data: this.thongTinBenhNhan,\n        });\n        dialogRef.afterClosed().subscribe(result => {\n            //console.log(\"close = \", result);\n            // if (result == null || (result != null && result.maKetQua == \"050\")) {\n            if (result == null || (result != null && result.maKetQua !== \"000\" && result.maKetQua !== \"004\")) {\n                //this.notificationService.showError(TiepNhanBenhNhanMessage.MessageSaiThongTinBenhNhan);\n                //\n                this.thongTinBenhNhan.MessageErrFromBHYT = result != null ? result.ghiChu : null;\n                let dialogRef = this.dialog.open(_tiep_nhan_benh_nhan_error_tiep_nhan_benh_nhan_error_component__WEBPACK_IMPORTED_MODULE_6__[\"TiepNhanBenhNhanErrorComponent\"], {\n                    disableClose: false,\n                    width: '400px',\n                    height: '100px',\n                    data: this.thongTinBenhNhan\n                });\n                dialogRef.afterClosed().subscribe(result => {\n                    //document.getElementById(\"SoTheBHYTisAutoFocus\").focus();\n                });\n                //\n            }\n            else {\n                //console.log(\"thuLai = \", result);\n                this.dialogRef.close(result);\n                //this.dialogRef2.close();\n            }\n        });\n    }\n};\nTiepNhanBenhNhanPopupKhongKiemTraDuocComponent.ctorParameters = () => [\n    { type: _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"TiepNhanBenhNhanViewModel\"], decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialog\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] }\n];\nTiepNhanBenhNhanPopupKhongKiemTraDuocComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], TiepNhanBenhNhanPopupKhongKiemTraDuocComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.scss\":\n/*!*********************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.scss ***!\n  \\*********************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAtbGljaC1zdS1rY2IvdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1saWNoLXN1LWtjYi5jb21wb25lbnQuc2NzcyJ9 */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.ts\":\n/*!*******************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.ts ***!\n  \\*******************************************************************************************************************************************/\n/*! exports provided: TiepNhanBenhNhanPopupLichSuKcbComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TiepNhanBenhNhanPopupLichSuKcbComponent\", function() { return TiepNhanBenhNhanPopupLichSuKcbComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nlet TiepNhanBenhNhanPopupLichSuKcbComponent = class TiepNhanBenhNhanPopupLichSuKcbComponent {\n    constructor(data, dialog, dialogRef, dialogRef2) {\n        this.data = data;\n        this.dialog = dialog;\n        this.dialogRef = dialogRef;\n        this.dialogRef2 = dialogRef2;\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default.a;\n        this.gridColumns = [];\n    }\n    ngOnInit() {\n        //console.log(\"TiepNhanBenhNhanPopupLichSuKcbComponent = \", this.data);\n        //documenttype\n        this.documentType = src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_3__[\"DocumentType\"].YeuCauTiepNhan;\n        this.gridColumns = [\n            { Field: \"STT\", Title: \"STT\", Width: 45, Sortable: false },\n            { Field: \"MaTheBHYT\", Title: \"Mã thẻ BHYT\", Width: 150, Sortable: false },\n            { Field: \"HoVaTen\", Title: \"Họ và tên\", Width: 150, Sortable: false },\n            { Field: \"NgayVaoVien\", Title: \"Ngày vào viện\", Width: 156, Sortable: false },\n            { Field: \"NgayRaVien\", Title: \"Ngày ra viện\", Width: 156, Sortable: false },\n            { Field: \"\", Title: \"Khoa/Phòng\", Width: 100, Sortable: false },\n            { Field: \"CoSoKCB\", Title: \"Cơ sở KCB\", Width: 180, Sortable: false },\n            { Field: \"KetQuaDieuTri\", Title: \"Kết quả điều trị\", Width: 100, Sortable: false },\n            { Field: \"LyDoVaoVien\", Title: \"Lý do vào viện\", Width: 100, Sortable: false },\n            { Field: \"TinhTrangRaVien\", Title: \"Tình trạng ra viện\", Width: 100, Sortable: false },\n        ];\n        this.setDataForGrid();\n    }\n    setDataForGrid() {\n        this.gridData = {\n            data: this.data,\n            total: this.data.length\n        };\n        if (this.grid != undefined) {\n            this.grid.setDataSource();\n        }\n    }\n    close(answer) {\n        this.dialogRef.close(answer);\n    }\n};\nTiepNhanBenhNhanPopupLichSuKcbComponent.ctorParameters = () => [\n    { type: Array, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialog\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('grid', { static: false })\n], TiepNhanBenhNhanPopupLichSuKcbComponent.prototype, \"grid\", void 0);\nTiepNhanBenhNhanPopupLichSuKcbComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-tiep-nhan-benh-nhan-popup-lich-su-kcb',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./tiep-nhan-benh-nhan-popup-lich-su-kcb.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./tiep-nhan-benh-nhan-popup-lich-su-kcb.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], TiepNhanBenhNhanPopupLichSuKcbComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.scss\":\n/*!*************************************************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.scss ***!\n  \\*************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAtbGljaC1zdS1raWVtLXRyYS10aGUtYmh5dC90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWxpY2gtc3Uta2llbS10cmEtdGhlLWJoeXQuY29tcG9uZW50LnNjc3MifQ== */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.ts\":\n/*!***********************************************************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.ts ***!\n  \\***********************************************************************************************************************************************************************/\n/*! exports provided: TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent\", function() { return TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nlet TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent = class TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent {\n    constructor(data, dialog, dialogRef) {\n        this.data = data;\n        this.dialog = dialog;\n        this.dialogRef = dialogRef;\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default.a;\n        this.gridColumns = [];\n    }\n    ngOnInit() {\n        this.documentType = src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_3__[\"DocumentType\"].YeuCauTiepNhan;\n        this.gridColumns = [\n            { Field: \"STT\", Title: \"STT\", Width: 45, Sortable: false },\n            { Field: \"UserKiemTra\", Title: \"User kiểm tra\", Width: 120, Sortable: false },\n            { Field: \"TenCSKCB\", Title: \"Tên CSKCB\", Width: 260, Sortable: false },\n            { Field: \"ThoiGianKiemTra\", Title: \"Thời gian kiểm tra\", Width: 155, Sortable: false },\n            { Field: \"NoiDungThongBao\", Title: \"Nội dung thông báo\", MinWidth: 300, Sortable: false },\n        ];\n        this.setDataForGrid();\n    }\n    setDataForGrid() {\n        this.gridData = {\n            data: this.data,\n            total: this.data.length\n        };\n        if (this.grid != undefined) {\n            this.grid.setDataSource();\n        }\n    }\n    close(answer) {\n        this.dialogRef.close(answer);\n    }\n};\nTiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent.ctorParameters = () => [\n    { type: Array, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialog\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('grid', { static: false })\n], TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent.prototype, \"grid\", void 0);\nTiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.scss\":\n/*!*********************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.scss ***!\n  \\*********************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".sub-title {\\n  font-size: 15px;\\n  border-bottom: 1px solid var(--foreground-divider);\\n  padding-bottom: 0 !important;\\n  margin-top: 10px;\\n  margin-bottom: 10px;\\n  color: var(--text-color);\\n  text-transform: uppercase;\\n}\\n\\ntable tr {\\n  border-bottom: 1px solid #ebeced;\\n}\\n\\ntable tr td {\\n  padding: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHRpZXAtbmhhbi1iZW5oLW5oYW5cXHRpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXBcXHRpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAvdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQUE7RUFDQSxrREFBQTtFQUNBLDRCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLHdCQUFBO0VBQ0EseUJBQUE7QUNDRjs7QURFQTtFQUNFLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGllcC1uaGFuLWJlbmgtbmhhbi90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc3ViLXRpdGxlIHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tZm9yZWdyb3VuZC1kaXZpZGVyKTtcbiAgcGFkZGluZy1ib3R0b206IDAgIWltcG9ydGFudDtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgY29sb3I6IHZhcigtLXRleHQtY29sb3IpO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG50YWJsZSB0ciB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWJlY2VkO1xufVxuXG50YWJsZSB0ciB0ZCB7XG4gIHBhZGRpbmc6IDEwcHg7XG59IiwiLnN1Yi10aXRsZSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWZvcmVncm91bmQtZGl2aWRlcik7XG4gIHBhZGRpbmctYm90dG9tOiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxudGFibGUgdHIge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2ViZWNlZDtcbn1cblxudGFibGUgdHIgdGQge1xuICBwYWRkaW5nOiAxMHB4O1xufSJdfQ== */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.ts\":\n/*!*******************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.ts ***!\n  \\*******************************************************************************************************************/\n/*! exports provided: TiepNhanBenhNhanPopupComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TiepNhanBenhNhanPopupComponent\", function() { return TiepNhanBenhNhanPopupComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ \"./node_modules/@angular/material/esm2015/dialog.js\");\n/* harmony import */ var _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan.model */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.model.ts\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nlet TiepNhanBenhNhanPopupComponent = class TiepNhanBenhNhanPopupComponent {\n    constructor(data, dialog) {\n        this.data = data;\n        this.dialog = dialog;\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_5___default.a;\n    }\n    ngOnInit() {\n        //console.log(this.data);\n    }\n    close() {\n        this.dialog.closeAll();\n    }\n};\nTiepNhanBenhNhanPopupComponent.ctorParameters = () => [\n    { type: _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"TiepNhanBenhNhanViewModel\"], decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_4__[\"MatDialog\"] }\n];\nTiepNhanBenhNhanPopupComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-tiep-nhan-benh-nhan-popup',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./tiep-nhan-benh-nhan-popup.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./tiep-nhan-benh-nhan-popup.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], TiepNhanBenhNhanPopupComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-routing.module.ts\":\n/*!****************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-routing.module.ts ***!\n  \\****************************************************************************************/\n/*! exports provided: TiepNhanBenhNhanRoutingModule */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TiepNhanBenhNhanRoutingModule\", function() { return TiepNhanBenhNhanRoutingModule; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n/* harmony import */ var _tiep_nhan_benh_nhan_tiep_nhan_benh_nhan_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.ts\");\n/* harmony import */ var src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/shared/enum/security-operation.enum */ \"./src/app/shared/enum/security-operation.enum.ts\");\n/* harmony import */ var src_app_core_guards_permission_guard_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/core/guards/permission-guard.service */ \"./src/app/core/guards/permission-guard.service.ts\");\n\n\n\n\n\n\n\nconst routes = [\n    {\n        path: ':id',\n        component: _tiep_nhan_benh_nhan_tiep_nhan_benh_nhan_component__WEBPACK_IMPORTED_MODULE_4__[\"TiepNhanBenhNhanComponent\"],\n        data: {\n            title: 'Tiếp Nhận Người Bệnh',\n            DocumentType: src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_3__[\"DocumentType\"].YeuCauTiepNhan,\n            SecurityOperation: src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_5__[\"SecurityOperation\"].View\n        },\n        canActivate: [src_app_core_guards_permission_guard_service__WEBPACK_IMPORTED_MODULE_6__[\"PermisssionGuard\"]]\n    },\n    {\n        path: '',\n        component: _tiep_nhan_benh_nhan_tiep_nhan_benh_nhan_component__WEBPACK_IMPORTED_MODULE_4__[\"TiepNhanBenhNhanComponent\"],\n        data: {\n            title: 'Tiếp Nhận Người Bệnh',\n            DocumentType: src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_3__[\"DocumentType\"].YeuCauTiepNhan,\n            SecurityOperation: src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_5__[\"SecurityOperation\"].View\n        },\n        canActivate: [src_app_core_guards_permission_guard_service__WEBPACK_IMPORTED_MODULE_6__[\"PermisssionGuard\"]]\n    },\n];\nlet TiepNhanBenhNhanRoutingModule = class TiepNhanBenhNhanRoutingModule {\n};\nTiepNhanBenhNhanRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"NgModule\"])({\n        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__[\"RouterModule\"].forChild(routes)],\n        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__[\"RouterModule\"]]\n    })\n], TiepNhanBenhNhanRoutingModule);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component.scss\":\n/*!***************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component.scss ***!\n  \\***************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tdGFpLWtoYW0vdGllcC1uaGFuLWJlbmgtbmhhbi10YWkta2hhbS5jb21wb25lbnQuc2NzcyJ9 */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component.ts\":\n/*!*************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component.ts ***!\n  \\*************************************************************************************************************************/\n/*! exports provided: TiepNhanBenhNhanTaiKhamComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TiepNhanBenhNhanTaiKhamComponent\", function() { return TiepNhanBenhNhanTaiKhamComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var src_app_shared_component_grid_grid_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/component/grid/grid.component */ \"./src/app/shared/component/grid/grid.component.ts\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n\n\n\n\nlet TiepNhanBenhNhanTaiKhamComponent = class TiepNhanBenhNhanTaiKhamComponent {\n    constructor() {\n        this.gridColumns = [];\n        this.urlGetDataGrid = \"TiepNhanBenhNhan/GetDataForGridAsyncTaiKham\";\n        this.urlGetTotalPageGrid = \"TiepNhanBenhNhan/GetTotalPageForGridAsyncTaiKham\";\n        this.BenhNhan = null;\n    }\n    ngOnInit() {\n        this.documentType = src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_3__[\"DocumentType\"].YeuCauTiepNhan;\n        this.gridColumns = [\n            { Field: \"TenDichVu\", Title: \"Tên dịch vụ\", Width: 150, Sortable: false },\n            { Field: \"BacSiThucHien\", Title: \"Bác sĩ thực hiện\", Width: 150, Sortable: false },\n            { Field: \"NgayTaiKhamDisplay\", Title: \"Ngày tái khám\", Width: 150, Sortable: false },\n            { Field: \"GhiChuTaiKham\", Title: \"Ghi chú tái khám\", Width: 150, Sortable: false },\n        ];\n    }\n};\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])(src_app_shared_component_grid_grid_component__WEBPACK_IMPORTED_MODULE_2__[\"GridComponent\"], { static: true })\n], TiepNhanBenhNhanTaiKhamComponent.prototype, \"gridChild\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])()\n], TiepNhanBenhNhanTaiKhamComponent.prototype, \"BenhNhan\", void 0);\nTiepNhanBenhNhanTaiKhamComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-tiep-nhan-benh-nhan-tai-kham',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./tiep-nhan-benh-nhan-tai-kham.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./tiep-nhan-benh-nhan-tai-kham.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component.scss\")).default]\n    })\n], TiepNhanBenhNhanTaiKhamComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.module.ts\":\n/*!********************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.module.ts ***!\n  \\********************************************************************************/\n/*! exports provided: TiepNhanBenhNhanModule */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TiepNhanBenhNhanModule\", function() { return TiepNhanBenhNhanModule; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ \"./node_modules/@angular/common/fesm2015/common.js\");\n/* harmony import */ var _tiep_nhan_benh_nhan_routing_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tiep-nhan-benh-nhan-routing.module */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-routing.module.ts\");\n/* harmony import */ var _tiep_nhan_benh_nhan_tiep_nhan_benh_nhan_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.ts\");\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm2015/forms.js\");\n/* harmony import */ var src_app_shared_shared_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/shared/shared.module */ \"./src/app/shared/shared.module.ts\");\n/* harmony import */ var _progress_kendo_angular_tooltip__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @progress/kendo-angular-tooltip */ \"./node_modules/@progress/kendo-angular-tooltip/dist/fesm2015/index.js\");\n/* harmony import */ var src_vex_components_page_layout_page_layout_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/@vex/components/page-layout/page-layout.module */ \"./src/@vex/components/page-layout/page-layout.module.ts\");\n/* harmony import */ var src_vex_components_breadcrumbs_breadcrumbs_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/@vex/components/breadcrumbs/breadcrumbs.module */ \"./src/@vex/components/breadcrumbs/breadcrumbs.module.ts\");\n/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/flex-layout */ \"./node_modules/@angular/flex-layout/esm2015/flex-layout.js\");\n/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/icon */ \"./node_modules/@angular/material/esm2015/icon.js\");\n/* harmony import */ var _angular_material_menu__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/menu */ \"./node_modules/@angular/material/esm2015/menu.js\");\n/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/button-toggle */ \"./node_modules/@angular/material/esm2015/button-toggle.js\");\n/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/tooltip */ \"./node_modules/@angular/material/esm2015/tooltip.js\");\n/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/button */ \"./node_modules/@angular/material/esm2015/button.js\");\n/* harmony import */ var _visurel_iconify_angular__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @visurel/iconify-angular */ \"./node_modules/@visurel/iconify-angular/fesm2015/visurel-iconify-angular.js\");\n/* harmony import */ var _tiep_nhan_benh_nhan_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./tiep-nhan-benh-nhan.service */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.service.ts\");\n/* harmony import */ var src_app_core_services_base_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! src/app/core/services/base.service */ \"./src/app/core/services/base.service.ts\");\n/* harmony import */ var _progress_kendo_angular_layout__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @progress/kendo-angular-layout */ \"./node_modules/@progress/kendo-angular-layout/dist/fesm2015/index.js\");\n/* harmony import */ var _tiep_nhan_benh_nhan_popup_tiep_nhan_benh_nhan_popup_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.ts\");\n/* harmony import */ var _tiep_nhan_benh_nhan_cho_quet_tiep_nhan_benh_nhan_cho_quet_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.ts\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _tiep_nhan_benh_nhan_error_tiep_nhan_benh_nhan_error_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.ts\");\n/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @progress/kendo-angular-grid */ \"./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js\");\n/* harmony import */ var _tiep_nhan_benh_nhan_popup_het_hieu_luc_tiep_nhan_benh_nhan_popup_het_hieu_luc_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.ts\");\n/* harmony import */ var _tiep_nhan_benh_nhan_popup_khong_kiem_tra_duoc_tiep_nhan_benh_nhan_popup_khong_kiem_tra_duoc_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.ts\");\n/* harmony import */ var _tiep_nhan_benh_nhan_lich_su_tiep_nhan_benh_nhan_lich_su_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component.ts\");\n/* harmony import */ var _kham_benh_kham_benh_module__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../kham-benh/kham-benh.module */ \"./src/app/modules/main/kham-benh/kham-benh.module.ts\");\n/* harmony import */ var _tiep_nhan_benh_nhan_popup_lich_su_kcb_tiep_nhan_benh_nhan_popup_lich_su_kcb_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.ts\");\n/* harmony import */ var _popup_tim_kiem_benh_nhan_popup_tim_kiem_benh_nhan_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.ts\");\n/* harmony import */ var _tiep_nhan_benh_nhan_popup_lich_su_kiem_tra_the_bhyt_tiep_nhan_benh_nhan_popup_lich_su_kiem_tra_the_bhyt_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.ts\");\n/* harmony import */ var _tiep_nhan_benh_nhan_tai_kham_tiep_nhan_benh_nhan_tai_kham_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component.ts\");\n/* harmony import */ var _in_phieu_dang_ky_kham_tiep_nhan_benh_nhan_popup_in_phieu_dang_ky_kham_tiep_nhan_benh_nhan_popup_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.ts\");\n/* harmony import */ var _popup_marketing_tiep_nhan_benh_nhan_popup_marketing_tiep_nhan_benh_nhan_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.ts\");\n/* harmony import */ var _progress_kendo_angular_inputs__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @progress/kendo-angular-inputs */ \"./node_modules/@progress/kendo-angular-inputs/dist/fesm2015/index.js\");\n/* harmony import */ var _progress_kendo_angular_dropdowns__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @progress/kendo-angular-dropdowns */ \"./node_modules/@progress/kendo-angular-dropdowns/dist/fesm2015/index.js\");\n/* harmony import */ var _popup_marketing_check_trung_popup_marketing_check_trung_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./popup-marketing-check-trung/popup-marketing-check-trung.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.ts\");\n/* harmony import */ var _popup_dich_vu_check_trung_popup_dich_vu_check_trung_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./popup-dich-vu-check-trung/popup-dich-vu-check-trung.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.ts\");\n/* harmony import */ var _dich_vu_khuyen_mai_dich_vu_khuyen_mai_module__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../dich-vu-khuyen-mai/dich-vu-khuyen-mai.module */ \"./src/app/modules/main/dich-vu-khuyen-mai/dich-vu-khuyen-mai.module.ts\");\n/* harmony import */ var _xem_truoc_bang_ke_chi_phi_poup_xem_truoc_bang_ke_chi_phi_poup_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component.ts\");\n/* harmony import */ var _in_phieu_xn_covid_in_phieu_xn_covid_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./in-phieu-xn-covid/in-phieu-xn-covid.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-xn-covid/in-phieu-xn-covid.component.ts\");\n/* harmony import */ var _xn_covid_popup_xn_covid_popup_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./xn-covid-popup/xn-covid-popup.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet TiepNhanBenhNhanModule = class TiepNhanBenhNhanModule {\n};\nTiepNhanBenhNhanModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"NgModule\"])({\n        declarations: [_tiep_nhan_benh_nhan_tiep_nhan_benh_nhan_component__WEBPACK_IMPORTED_MODULE_4__[\"TiepNhanBenhNhanComponent\"],\n            _tiep_nhan_benh_nhan_popup_tiep_nhan_benh_nhan_popup_component__WEBPACK_IMPORTED_MODULE_20__[\"TiepNhanBenhNhanPopupComponent\"], _tiep_nhan_benh_nhan_cho_quet_tiep_nhan_benh_nhan_cho_quet_component__WEBPACK_IMPORTED_MODULE_21__[\"TiepNhanBenhNhanChoQuetComponent\"],\n            _tiep_nhan_benh_nhan_error_tiep_nhan_benh_nhan_error_component__WEBPACK_IMPORTED_MODULE_23__[\"TiepNhanBenhNhanErrorComponent\"], _tiep_nhan_benh_nhan_popup_het_hieu_luc_tiep_nhan_benh_nhan_popup_het_hieu_luc_component__WEBPACK_IMPORTED_MODULE_25__[\"TiepNhanBenhNhanPopupHetHieuLucComponent\"],\n            _tiep_nhan_benh_nhan_popup_khong_kiem_tra_duoc_tiep_nhan_benh_nhan_popup_khong_kiem_tra_duoc_component__WEBPACK_IMPORTED_MODULE_26__[\"TiepNhanBenhNhanPopupKhongKiemTraDuocComponent\"], _xem_truoc_bang_ke_chi_phi_poup_xem_truoc_bang_ke_chi_phi_poup_component__WEBPACK_IMPORTED_MODULE_40__[\"XemTruocBangKeChiPhiPopupComponent\"],\n            _tiep_nhan_benh_nhan_lich_su_tiep_nhan_benh_nhan_lich_su_component__WEBPACK_IMPORTED_MODULE_27__[\"TiepNhanBenhNhanLichSuComponent\"], _tiep_nhan_benh_nhan_popup_lich_su_kcb_tiep_nhan_benh_nhan_popup_lich_su_kcb_component__WEBPACK_IMPORTED_MODULE_29__[\"TiepNhanBenhNhanPopupLichSuKcbComponent\"],\n            _popup_tim_kiem_benh_nhan_popup_tim_kiem_benh_nhan_component__WEBPACK_IMPORTED_MODULE_30__[\"PopupTimKiemBenhNhanComponent\"], _tiep_nhan_benh_nhan_popup_lich_su_kiem_tra_the_bhyt_tiep_nhan_benh_nhan_popup_lich_su_kiem_tra_the_bhyt_component__WEBPACK_IMPORTED_MODULE_31__[\"TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent\"],\n            _tiep_nhan_benh_nhan_tai_kham_tiep_nhan_benh_nhan_tai_kham_component__WEBPACK_IMPORTED_MODULE_32__[\"TiepNhanBenhNhanTaiKhamComponent\"], _in_phieu_dang_ky_kham_tiep_nhan_benh_nhan_popup_in_phieu_dang_ky_kham_tiep_nhan_benh_nhan_popup_component__WEBPACK_IMPORTED_MODULE_33__[\"InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent\"], _popup_marketing_tiep_nhan_benh_nhan_popup_marketing_tiep_nhan_benh_nhan_component__WEBPACK_IMPORTED_MODULE_34__[\"PopupMarketingTiepNhanBenhNhanComponent\"],\n            _popup_marketing_check_trung_popup_marketing_check_trung_component__WEBPACK_IMPORTED_MODULE_37__[\"PopupMarketingCheckTrungComponent\"], _popup_dich_vu_check_trung_popup_dich_vu_check_trung_component__WEBPACK_IMPORTED_MODULE_38__[\"PopupDichVuCheckTrungComponent\"], _in_phieu_xn_covid_in_phieu_xn_covid_component__WEBPACK_IMPORTED_MODULE_41__[\"InPhieuXnCovidComponent\"], _xn_covid_popup_xn_covid_popup_component__WEBPACK_IMPORTED_MODULE_42__[\"XnCovidPopupComponent\"]],\n        imports: [\n            _angular_common__WEBPACK_IMPORTED_MODULE_2__[\"CommonModule\"],\n            _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"FormsModule\"],\n            _progress_kendo_angular_tooltip__WEBPACK_IMPORTED_MODULE_7__[\"TooltipModule\"],\n            src_vex_components_page_layout_page_layout_module__WEBPACK_IMPORTED_MODULE_8__[\"PageLayoutModule\"],\n            src_vex_components_breadcrumbs_breadcrumbs_module__WEBPACK_IMPORTED_MODULE_9__[\"BreadcrumbsModule\"],\n            _angular_flex_layout__WEBPACK_IMPORTED_MODULE_10__[\"FlexLayoutModule\"],\n            _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__[\"MatIconModule\"],\n            _visurel_iconify_angular__WEBPACK_IMPORTED_MODULE_16__[\"IconModule\"],\n            _angular_material_menu__WEBPACK_IMPORTED_MODULE_12__[\"MatMenuModule\"],\n            _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_13__[\"MatButtonToggleModule\"],\n            _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_14__[\"MatTooltipModule\"],\n            _angular_material_button__WEBPACK_IMPORTED_MODULE_15__[\"MatButtonModule\"],\n            _tiep_nhan_benh_nhan_routing_module__WEBPACK_IMPORTED_MODULE_3__[\"TiepNhanBenhNhanRoutingModule\"],\n            _progress_kendo_angular_layout__WEBPACK_IMPORTED_MODULE_19__[\"LayoutModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_22__[\"MatDialogModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_22__[\"MatTabsModule\"],\n            src_app_shared_shared_module__WEBPACK_IMPORTED_MODULE_6__[\"SharedModule\"],\n            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_24__[\"GridModule\"],\n            _kham_benh_kham_benh_module__WEBPACK_IMPORTED_MODULE_28__[\"KhamBenhModule\"],\n            _progress_kendo_angular_inputs__WEBPACK_IMPORTED_MODULE_35__[\"InputsModule\"],\n            _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"ReactiveFormsModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_22__[\"MatInputModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_22__[\"MatOptionModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_22__[\"MatRadioModule\"],\n            _angular_material__WEBPACK_IMPORTED_MODULE_22__[\"MatListModule\"],\n            _progress_kendo_angular_dropdowns__WEBPACK_IMPORTED_MODULE_36__[\"DropDownsModule\"],\n            _dich_vu_khuyen_mai_dich_vu_khuyen_mai_module__WEBPACK_IMPORTED_MODULE_39__[\"DichVuKhuyenMaiModule\"]\n        ],\n        providers: [\n            _tiep_nhan_benh_nhan_service__WEBPACK_IMPORTED_MODULE_17__[\"TiepNhanBenhNhanService\"],\n            { provide: src_app_core_services_base_service__WEBPACK_IMPORTED_MODULE_18__[\"BaseService\"], useClass: _tiep_nhan_benh_nhan_service__WEBPACK_IMPORTED_MODULE_17__[\"TiepNhanBenhNhanService\"] },\n        ],\n        exports: [\n            _kham_benh_kham_benh_module__WEBPACK_IMPORTED_MODULE_28__[\"KhamBenhModule\"]\n        ],\n        entryComponents: [\n            _tiep_nhan_benh_nhan_popup_tiep_nhan_benh_nhan_popup_component__WEBPACK_IMPORTED_MODULE_20__[\"TiepNhanBenhNhanPopupComponent\"],\n            _tiep_nhan_benh_nhan_cho_quet_tiep_nhan_benh_nhan_cho_quet_component__WEBPACK_IMPORTED_MODULE_21__[\"TiepNhanBenhNhanChoQuetComponent\"],\n            _tiep_nhan_benh_nhan_error_tiep_nhan_benh_nhan_error_component__WEBPACK_IMPORTED_MODULE_23__[\"TiepNhanBenhNhanErrorComponent\"],\n            _tiep_nhan_benh_nhan_popup_het_hieu_luc_tiep_nhan_benh_nhan_popup_het_hieu_luc_component__WEBPACK_IMPORTED_MODULE_25__[\"TiepNhanBenhNhanPopupHetHieuLucComponent\"],\n            _tiep_nhan_benh_nhan_popup_khong_kiem_tra_duoc_tiep_nhan_benh_nhan_popup_khong_kiem_tra_duoc_component__WEBPACK_IMPORTED_MODULE_26__[\"TiepNhanBenhNhanPopupKhongKiemTraDuocComponent\"],\n            _tiep_nhan_benh_nhan_popup_lich_su_kcb_tiep_nhan_benh_nhan_popup_lich_su_kcb_component__WEBPACK_IMPORTED_MODULE_29__[\"TiepNhanBenhNhanPopupLichSuKcbComponent\"],\n            _popup_tim_kiem_benh_nhan_popup_tim_kiem_benh_nhan_component__WEBPACK_IMPORTED_MODULE_30__[\"PopupTimKiemBenhNhanComponent\"],\n            _tiep_nhan_benh_nhan_popup_lich_su_kiem_tra_the_bhyt_tiep_nhan_benh_nhan_popup_lich_su_kiem_tra_the_bhyt_component__WEBPACK_IMPORTED_MODULE_31__[\"TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent\"],\n            _in_phieu_dang_ky_kham_tiep_nhan_benh_nhan_popup_in_phieu_dang_ky_kham_tiep_nhan_benh_nhan_popup_component__WEBPACK_IMPORTED_MODULE_33__[\"InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent\"],\n            _popup_marketing_tiep_nhan_benh_nhan_popup_marketing_tiep_nhan_benh_nhan_component__WEBPACK_IMPORTED_MODULE_34__[\"PopupMarketingTiepNhanBenhNhanComponent\"],\n            _popup_marketing_check_trung_popup_marketing_check_trung_component__WEBPACK_IMPORTED_MODULE_37__[\"PopupMarketingCheckTrungComponent\"],\n            _popup_dich_vu_check_trung_popup_dich_vu_check_trung_component__WEBPACK_IMPORTED_MODULE_38__[\"PopupDichVuCheckTrungComponent\"],\n            _xem_truoc_bang_ke_chi_phi_poup_xem_truoc_bang_ke_chi_phi_poup_component__WEBPACK_IMPORTED_MODULE_40__[\"XemTruocBangKeChiPhiPopupComponent\"],\n            _xn_covid_popup_xn_covid_popup_component__WEBPACK_IMPORTED_MODULE_42__[\"XnCovidPopupComponent\"],\n            _in_phieu_xn_covid_in_phieu_xn_covid_component__WEBPACK_IMPORTED_MODULE_41__[\"InPhieuXnCovidComponent\"]\n        ],\n    })\n], TiepNhanBenhNhanModule);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.service.ts\":\n/*!*********************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.service.ts ***!\n  \\*********************************************************************************/\n/*! exports provided: TiepNhanBenhNhanService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TiepNhanBenhNhanService\", function() { return TiepNhanBenhNhanService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var src_app_core_services_base_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/core/services/base.service */ \"./src/app/core/services/base.service.ts\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n\n\n\n\nlet TiepNhanBenhNhanService = class TiepNhanBenhNhanService extends src_app_core_services_base_service__WEBPACK_IMPORTED_MODULE_2__[\"BaseService\"] {\n    constructor(apiService) {\n        super(apiService);\n    }\n};\nTiepNhanBenhNhanService.ctorParameters = () => [\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_3__[\"ApiService\"] }\n];\nTiepNhanBenhNhanService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n        providedIn: 'root'\n    })\n], TiepNhanBenhNhanService);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.scss\":\n/*!*********************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.scss ***!\n  \\*********************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"kendo-tabstrip {\\n  margin-bottom: 5px;\\n}\\n\\n.ten-dich-vu-label {\\n  display: inline;\\n  text-overflow: ellipsis;\\n}\\n\\n.button-them-goi {\\n  width: 20px;\\n  height: 20px;\\n  margin-top: 5px;\\n}\\n\\n.mat-icon-them-goi {\\n  margin-top: -20px;\\n  margin-left: -2px;\\n}\\n\\n.xac-nhan-ng-template {\\n  display: inherit;\\n  white-space: nowrap;\\n}\\n\\n.danh-sach-goi {\\n  color: orange;\\n  text-decoration: underline;\\n}\\n\\n.div-danh-sach-goi {\\n  padding-top: 5px !important;\\n}\\n\\n.info {\\n  margin-bottom: -8px;\\n  margin-top: 0px;\\n}\\n\\n.header-grid {\\n  width: 100%;\\n  height: auto;\\n  background: #ffe0b2;\\n  padding: 10px 10px 10px 10px;\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\n.header-span-grid {\\n  width: 80%;\\n  padding: 10px 10px 10px 10px;\\n  font-weight: bold;\\n  color: #005dab;\\n  text-transform: uppercase;\\n  display: inline-block;\\n}\\n\\n.thong-tin-tai-khoan-benh-nhan {\\n  float: right;\\n  font-weight: normal;\\n}\\n\\n.so-tuoi {\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.styleTinhTong {\\n  border: 1px solid #ccc;\\n  padding: 15px;\\n  background: #e3f2fd;\\n  text-align: right;\\n  margin: 10px -17px -17px -17px;\\n}\\n\\n.image-barcode {\\n  padding-right: 0px !important;\\n  position: absolute;\\n  right: 25px;\\n  margin-top: 10px;\\n}\\n\\n.so-nha {\\n  text-transform: capitalize;\\n}\\n\\n.div-voucher {\\n  padding: 0 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHRpZXAtbmhhbi1iZW5oLW5oYW5cXHRpZXAtbmhhbi1iZW5oLW5oYW5cXHRpZXAtbmhhbi1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxlQUFBO0VBQ0EsdUJBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtFQUNBLDBCQUFBO0FDQ0Y7O0FERUE7RUFDRSwyQkFBQTtBQ0NGOztBREVBO0VBQ0UsbUJBQUE7RUFDQSxlQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsNEJBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0VBQ0EsNEJBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSx5QkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0FDQ0Y7O0FERUE7RUFDRSxzQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0EsOEJBQUE7QUNDRjs7QURFQTtFQUNFLDZCQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUNDRjs7QURFQTtFQUNFLDBCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi90aWVwLW5oYW4tYmVuaC1uaGFuLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsia2VuZG8tdGFic3RyaXAge1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5cbi50ZW4tZGljaC12dS1sYWJlbCB7XG4gIGRpc3BsYXk6IGlubGluZTtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG59XG5cbi5idXR0b24tdGhlbS1nb2kge1xuICB3aWR0aDogMjBweDtcbiAgaGVpZ2h0OiAyMHB4O1xuICBtYXJnaW4tdG9wOiA1cHg7XG59XG5cbi5tYXQtaWNvbi10aGVtLWdvaSB7XG4gIG1hcmdpbi10b3A6IC0yMHB4O1xuICBtYXJnaW4tbGVmdDogLTJweDtcbn1cblxuLnhhYy1uaGFuLW5nLXRlbXBsYXRlIHtcbiAgZGlzcGxheTogaW5oZXJpdDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLmRhbmgtc2FjaC1nb2kge1xuICBjb2xvcjogb3JhbmdlO1xuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbn1cblxuLmRpdi1kYW5oLXNhY2gtZ29pIHtcbiAgcGFkZGluZy10b3A6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uaW5mbyB7XG4gIG1hcmdpbi1ib3R0b206IC04cHg7XG4gIG1hcmdpbi10b3A6IDBweDtcbn1cblxuLmhlYWRlci1ncmlkIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogYXV0bztcbiAgYmFja2dyb3VuZDogI2ZmZTBiMjtcbiAgcGFkZGluZzogMTBweCAxMHB4IDEwcHggMTBweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbi5oZWFkZXItc3Bhbi1ncmlkIHtcbiAgd2lkdGg6IDgwJTtcbiAgcGFkZGluZzogMTBweCAxMHB4IDEwcHggMTBweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG5cbi50aG9uZy10aW4tdGFpLWtob2FuLWJlbmgtbmhhbiB7XG4gIGZsb2F0OiByaWdodDtcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbn1cblxuLnNvLXR1b2kge1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLnN0eWxlVGluaFRvbmcge1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICBwYWRkaW5nOiAxNXB4O1xuICBiYWNrZ3JvdW5kOiAjZTNmMmZkO1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgbWFyZ2luOiAxMHB4IC0xN3B4IC0xN3B4IC0xN3B4O1xufVxuXG4uaW1hZ2UtYmFyY29kZSB7XG4gIHBhZGRpbmctcmlnaHQ6IDBweCAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAyNXB4O1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuXG4uc28tbmhhIHtcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG59XG5cbi5kaXYtdm91Y2hlciB7XG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbn0iLCJrZW5kby10YWJzdHJpcCB7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbn1cblxuLnRlbi1kaWNoLXZ1LWxhYmVsIHtcbiAgZGlzcGxheTogaW5saW5lO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbn1cblxuLmJ1dHRvbi10aGVtLWdvaSB7XG4gIHdpZHRoOiAyMHB4O1xuICBoZWlnaHQ6IDIwcHg7XG4gIG1hcmdpbi10b3A6IDVweDtcbn1cblxuLm1hdC1pY29uLXRoZW0tZ29pIHtcbiAgbWFyZ2luLXRvcDogLTIwcHg7XG4gIG1hcmdpbi1sZWZ0OiAtMnB4O1xufVxuXG4ueGFjLW5oYW4tbmctdGVtcGxhdGUge1xuICBkaXNwbGF5OiBpbmhlcml0O1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG4uZGFuaC1zYWNoLWdvaSB7XG4gIGNvbG9yOiBvcmFuZ2U7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xufVxuXG4uZGl2LWRhbmgtc2FjaC1nb2kge1xuICBwYWRkaW5nLXRvcDogNXB4ICFpbXBvcnRhbnQ7XG59XG5cbi5pbmZvIHtcbiAgbWFyZ2luLWJvdHRvbTogLThweDtcbiAgbWFyZ2luLXRvcDogMHB4O1xufVxuXG4uaGVhZGVyLWdyaWQge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiBhdXRvO1xuICBiYWNrZ3JvdW5kOiAjZmZlMGIyO1xuICBwYWRkaW5nOiAxMHB4IDEwcHggMTBweCAxMHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLmhlYWRlci1zcGFuLWdyaWQge1xuICB3aWR0aDogODAlO1xuICBwYWRkaW5nOiAxMHB4IDEwcHggMTBweCAxMHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLnRob25nLXRpbi10YWkta2hvYW4tYmVuaC1uaGFuIHtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBmb250LXdlaWdodDogbm9ybWFsO1xufVxuXG4uc28tdHVvaSB7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4uc3R5bGVUaW5oVG9uZyB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIGJhY2tncm91bmQ6ICNlM2YyZmQ7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBtYXJnaW46IDEwcHggLTE3cHggLTE3cHggLTE3cHg7XG59XG5cbi5pbWFnZS1iYXJjb2RlIHtcbiAgcGFkZGluZy1yaWdodDogMHB4ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDI1cHg7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG59XG5cbi5zby1uaGEge1xuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbn1cblxuLmRpdi12b3VjaGVyIHtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xufSJdfQ== */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.ts\":\n/*!*******************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.ts ***!\n  \\*******************************************************************************************************/\n/*! exports provided: TiepNhanBenhNhanComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TiepNhanBenhNhanComponent\", function() { return TiepNhanBenhNhanComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _danh_muc_bao_hiem_y_te_bao_hiem_y_te_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../danh-muc/bao-hiem-y-te/bao-hiem-y-te.model */ \"./src/app/modules/main/danh-muc/bao-hiem-y-te/bao-hiem-y-te.model.ts\");\n/* harmony import */ var _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan.model */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.model.ts\");\n/* harmony import */ var src_app_shared_enum_common_type_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/enum/common-type.enums */ \"./src/app/shared/enum/common-type.enums.ts\");\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _tiep_nhan_benh_nhan_popup_tiep_nhan_benh_nhan_popup_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.ts\");\n/* harmony import */ var src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/shared/enum/document-type.enum */ \"./src/app/shared/enum/document-type.enum.ts\");\n/* harmony import */ var src_app_core_services_auth_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/core/services/auth.service */ \"./src/app/core/services/auth.service.ts\");\n/* harmony import */ var src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/shared/component/dialogs/confirm/confirm.component */ \"./src/app/shared/component/dialogs/confirm/confirm.component.ts\");\n/* harmony import */ var src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/shared/enum/security-operation.enum */ \"./src/app/shared/enum/security-operation.enum.ts\");\n/* harmony import */ var src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/core/utilities/common.helper */ \"./src/app/core/utilities/common.helper.ts\");\n/* harmony import */ var src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/shared/configdata/system-message */ \"./src/app/shared/configdata/system-message.ts\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var src_vex_animations_stagger_animation__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! src/@vex/animations/stagger.animation */ \"./src/@vex/animations/stagger.animation.ts\");\n/* harmony import */ var src_vex_animations_fade_in_up_animation__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! src/@vex/animations/fade-in-up.animation */ \"./src/@vex/animations/fade-in-up.animation.ts\");\n/* harmony import */ var _tiep_nhan_benh_nhan_cho_quet_tiep_nhan_benh_nhan_cho_quet_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.ts\");\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/common */ \"./node_modules/@angular/common/fesm2015/common.js\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n/* harmony import */ var _iconify_icons_ic_baseline_info__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @iconify/icons-ic/baseline-info */ \"./node_modules/@iconify/icons-ic/baseline-info.js\");\n/* harmony import */ var _iconify_icons_ic_baseline_info__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_baseline_info__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! src/app/shared/enum/tinh-trang-the.enum */ \"./src/app/shared/enum/tinh-trang-the.enum.ts\");\n/* harmony import */ var _tiep_nhan_benh_nhan_error_tiep_nhan_benh_nhan_error_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.ts\");\n/* harmony import */ var _iconify_icons_ic_twotone_more_horiz__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @iconify/icons-ic/twotone-more-horiz */ \"./node_modules/@iconify/icons-ic/twotone-more-horiz.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_more_horiz__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_more_horiz__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var _iconify_icons_ic_twotone_edit__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @iconify/icons-ic/twotone-edit */ \"./node_modules/@iconify/icons-ic/twotone-edit.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_edit__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_edit__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var _iconify_icons_ic_twotone_delete__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @iconify/icons-ic/twotone-delete */ \"./node_modules/@iconify/icons-ic/twotone-delete.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_delete__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_delete__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var _iconify_icons_ic_search__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @iconify/icons-ic/search */ \"./node_modules/@iconify/icons-ic/search.js\");\n/* harmony import */ var _iconify_icons_ic_search__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_search__WEBPACK_IMPORTED_MODULE_26__);\n/* harmony import */ var _iconify_icons_ic_twotone_add__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @iconify/icons-ic/twotone-add */ \"./node_modules/@iconify/icons-ic/twotone-add.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_add__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_add__WEBPACK_IMPORTED_MODULE_27__);\n/* harmony import */ var _tiep_nhan_benh_nhan_popup_het_hieu_luc_tiep_nhan_benh_nhan_popup_het_hieu_luc_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.ts\");\n/* harmony import */ var _tiep_nhan_benh_nhan_popup_khong_kiem_tra_duoc_tiep_nhan_benh_nhan_popup_khong_kiem_tra_duoc_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.ts\");\n/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @angular/common/http */ \"./node_modules/@angular/common/fesm2015/http.js\");\n/* harmony import */ var _tiep_nhan_benh_nhan_popup_lich_su_kcb_tiep_nhan_benh_nhan_popup_lich_su_kcb_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.ts\");\n/* harmony import */ var _popup_tim_kiem_benh_nhan_popup_tim_kiem_benh_nhan_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.ts\");\n/* harmony import */ var src_app_shared_models_common_model__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! src/app/shared/models/common.model */ \"./src/app/shared/models/common.model.ts\");\n/* harmony import */ var _tiep_nhan_benh_nhan_popup_lich_su_kiem_tra_the_bhyt_tiep_nhan_benh_nhan_popup_lich_su_kiem_tra_the_bhyt_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.ts\");\n/* harmony import */ var _in_phieu_dang_ky_kham_tiep_nhan_benh_nhan_popup_in_phieu_dang_ky_kham_tiep_nhan_benh_nhan_popup_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.ts\");\n/* harmony import */ var _popup_marketing_tiep_nhan_benh_nhan_popup_marketing_tiep_nhan_benh_nhan_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.ts\");\n/* harmony import */ var _popup_dich_vu_check_trung_popup_dich_vu_check_trung_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../popup-dich-vu-check-trung/popup-dich-vu-check-trung.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.ts\");\n/* harmony import */ var src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! src/app/shared/component/dialogs/loading/loading.component */ \"./src/app/shared/component/dialogs/loading/loading.component.ts\");\n/* harmony import */ var _dich_vu_khuyen_mai_dich_vu_khuyen_mai_popup_dich_vu_khuyen_mai_popup_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../dich-vu-khuyen-mai/dich-vu-khuyen-mai-popup/dich-vu-khuyen-mai-popup.component */ \"./src/app/modules/main/dich-vu-khuyen-mai/dich-vu-khuyen-mai-popup/dich-vu-khuyen-mai-popup.component.ts\");\n/* harmony import */ var _kham_benh_kham_benh_lan_kham_hien_tai_lan_kham_hien_tai_nhom_dich_vu_thuong_dung_popup_lan_kham_hien_tai_nhom_dich_vu_thuong_dung_popup_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup.component */ \"./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup.component.ts\");\n/* harmony import */ var src_app_shared_enum_kham_benh_enum__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! src/app/shared/enum/kham-benh.enum */ \"./src/app/shared/enum/kham-benh.enum.ts\");\n/* harmony import */ var _kham_benh_kham_benh_lan_kham_hien_tai_lan_kham_hien_tai_nhom_dich_vu_loi_popup_lan_kham_hien_tai_nhom_dich_vu_loi_popup_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-loi-popup/lan-kham-hien-tai-nhom-dich-vu-loi-popup.component */ \"./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-loi-popup/lan-kham-hien-tai-nhom-dich-vu-loi-popup.component.ts\");\n/* harmony import */ var _xn_covid_popup_xn_covid_popup_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../xn-covid-popup/xn-covid-popup.component */ \"./src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.ts\");\n/* harmony import */ var src_app_shared_enum_bo_phan_enum__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! src/app/shared/enum/bo-phan.enum */ \"./src/app/shared/enum/bo-phan.enum.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet TiepNhanBenhNhanComponent = class TiepNhanBenhNhanComponent {\n    constructor(apiService, dialog, authService, router, notificationService, route, renderer, cdRef) {\n        this.apiService = apiService;\n        this.dialog = dialog;\n        this.authService = authService;\n        this.router = router;\n        this.notificationService = notificationService;\n        this.route = route;\n        this.renderer = renderer;\n        this.cdRef = cdRef;\n        this.icMoreHoriz = _iconify_icons_ic_twotone_more_horiz__WEBPACK_IMPORTED_MODULE_23___default.a;\n        this.icEdit = _iconify_icons_ic_twotone_edit__WEBPACK_IMPORTED_MODULE_24___default.a;\n        this.icDelete = _iconify_icons_ic_twotone_delete__WEBPACK_IMPORTED_MODULE_25___default.a;\n        this.icFind = _iconify_icons_ic_search__WEBPACK_IMPORTED_MODULE_26___default.a;\n        this.icAdd = _iconify_icons_ic_twotone_add__WEBPACK_IMPORTED_MODULE_27___default.a;\n        this.isSearchQRCodeEnable = true;\n        this.isDungTuyenDisplay = null;\n        this.isDungTuyen = false;\n        this.isOutOfDate = false;\n        this.validationErrors = [];\n        this.icInfo = _iconify_icons_ic_baseline_info__WEBPACK_IMPORTED_MODULE_20___default.a;\n        this.soPhanTramHuongBHYT = null;\n        this.gridColumns = [];\n        this.gridKhamBenhColumns = [];\n        this.gridKyThuatColumns = [];\n        this.gridKhongChietKhauColumns = [];\n        this.gridCoChietKhauColumns = [];\n        this.gridTaiLieuDinhKemColumns = [];\n        this.themTaiLieu = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemTaiLieuDinhKem\"]();\n        this.themChiDinhDichVuModel = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemChiDinhDichVu\"]();\n        this.themChiDinhGoiModel = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemChiDinhDichVu\"]();\n        this.themBaoHiemTuNhanModel = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemBaoHiemTuNhan\"]();\n        this.lstBHTN = [];\n        this.isIdNeedUpdate = null;\n        this.isUpdateGrid = false;\n        this.gridDataKhacCoChietKhauArray = [];\n        this.soLuongGoiCoChietKhau = 0;\n        this.soLuongGoiKhongChietKhau = 0;\n        this.isSetValue = false;\n        this.isCheckedBHYT = false;\n        this.isActivePopup = false;\n        this.soTienBHYTSeThanhToan = 0;\n        this.benhNhanId = 0;\n        this.benhNhanIdPopup = 0;\n        this.coYeuCauGoiDichVu = false;\n        this.diaChiBHYT = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"DiaChiBHYT\"]();\n        this.lichSuKCB = new Array();\n        this.lichSuKiemTraTheBHYTGrid = new Array();\n        //1 kham benh, 2 ky thuat, 3 giuong\n        this.loaiTiepNhan = null;\n        this.isGoiCoChietKhau = null;\n        //\n        this.duocHuongBHYT = false;\n        this.enableDuocHuongBHYT = false;\n        this.isScanF1 = false;\n        this.idYeuCauTiepNhan = 0;\n        //ngay thang nam sinh\n        this.under6yearsold = false;\n        // voucher\n        this.loaiVoucher = 0;\n        //Tim kiem benh nhan\n        this.lstBenhNhan = new Array();\n        this.modelTimKiemBenhNhan = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"TimKiemBenhNhanGridVo\"]();\n        this.totalBenhNhan = 0;\n        this.queryInfoNguoiLienHeQuanHuyen = new src_app_shared_models_common_model__WEBPACK_IMPORTED_MODULE_33__[\"LookupQueryInfo\"]();\n        this.queryInfoNguoiLienHePhuongXa = new src_app_shared_models_common_model__WEBPACK_IMPORTED_MODULE_33__[\"LookupQueryInfo\"]();\n        //message kiem tra tren BHYT\n        this.messageThanhCong = \"Kiểm tra thành công\";\n        this.messageKhongThanhCong = \"Kiểm tra không thành công\";\n        //\n        this.isActiveAction = null;\n        //\n        this.maDichVuPrev = null;\n        //countCheck: number = 0;\n        this.maDichVuDisabled = false;\n        this.danhSachDichVuTrongGoiDaChonTrongYCTN = new Array();\n        this.danhSachGoiDaChonTrongYCTN = new Array();\n        this.danhSachDichVuGoiDaChon = new Array();\n        this.displayToolTipGrid = null;\n        this.suDungGoiMarketingModelTemp = false;\n        this.disabledCheckboxMarketing = false;\n        this.danhSachDichVuDaChonTrongLanPopup = new Array();\n        this.dichVuSarsCoVs = [];\n        this.loaiBenhPhamText = null;\n        this.loaiBenhPham = null;\n        this.showbuttonLuuVaInPhieuXetNghiem = false;\n        // group\n        this.groupKhamBenh = [\n            {\n                field: 'Nhom', aggregates: [\n                    { field: 'ThanhTien', aggregate: 'sum' },\n                    { field: 'BnThanhToan', aggregate: 'sum' },\n                    { field: 'SoTienMG', aggregate: 'sum' },\n                    { field: 'BHYTThanhToan', aggregate: 'sum' }\n                ]\n            }\n        ];\n        // group\n        this.groupKyThuat = [{\n                field: 'Nhom', aggregates: [\n                    { field: 'ThanhTien', aggregate: 'sum' },\n                    { field: 'SoTienMG', aggregate: 'sum' },\n                    { field: 'BnThanhToan', aggregate: 'sum' }\n                ]\n            }];\n        // group\n        this.groupKhongChietKhau = [\n            {\n                field: 'Nhom', aggregates: [\n                    { field: 'ThanhTien', aggregate: 'sum' },\n                    { field: 'BHYTThanhToan', aggregate: 'sum' },\n                    { field: 'SoTienMG', aggregate: 'sum' },\n                    { field: 'BnThanhToan', aggregate: 'sum' }\n                ]\n            }\n        ];\n        // @ViewChild('comboboxNoiThucHien1', { static: true }) comboboxNoiThucHien1: ComboboxComponent;\n        // @ViewChild('comboboxNoiThucHien2', { static: true }) comboboxNoiThucHien2: ComboboxComponent;\n        // action\n        this.groupChietKhau = [\n            {\n                field: 'Nhom', aggregates: [\n                    { field: 'ThanhTien', aggregate: 'sum' },\n                    { field: 'ThanhTienTrongGoi', aggregate: 'sum' }\n                ]\n            }\n        ];\n        //end chiết khấu\n        this.thanhTienTongCong = 0;\n        this.bnThanhToanTongCong = 0;\n        this.thanhTienDichVuChiDinhBaoGomDichVuTrongGoi = 0;\n        // cập nhật điều kiện tạo mới yctn\n        this.urlPageUpdateYCTN = null;\n        this.errMessageKhongChoPhepTaoMoiYCTN = null;\n        this.changeMaTheBHYT = false;\n        this.loading = false;\n        this.postTimKiem = null;\n        this.timeOutTimKiem = null;\n        this.postTimKiemForEnter = null;\n        this.timeOutTimKiemForEnter = null;\n        this.aggregatesKhamBenh = [{ field: 'ThanhTien', aggregate: 'sum' },\n            { field: 'BHYTThanhToan', aggregate: 'sum' }, { field: 'SoTienMG', aggregate: 'sum' },\n            { field: 'BnThanhToan', aggregate: 'sum' }];\n        this.stateKhamBenh = {\n            skip: 0,\n            take: 200,\n            group: [{ field: 'Nhom', aggregates: this.aggregatesKhamBenh }]\n        };\n        this.aggregatesKyThuat = [{ field: 'ThanhTien', aggregate: 'sum' },\n            { field: 'SoTienMG', aggregate: 'sum' },\n            { field: 'BnThanhToan', aggregate: 'sum' }];\n        this.stateKyThuat = {\n            skip: 0,\n            take: 200,\n            group: [{ field: 'Nhom', aggregates: this.aggregatesKyThuat }]\n        };\n        //============================================================Xử lý thông tin voucher========================================//\n        this.listVoucherItem = [];\n        this.newBarcode = \"\";\n        this.value = [];\n    }\n    ngOnDestroy() {\n        //console.log(\"ngOnDestroy\");\n        //this.cdRef.detectChanges();\n        //this.cdRef.markForCheck();\n        //console.log(\"ngOnDestroy\");\n        this.dialog.ngOnDestroy();\n    }\n    ngOnInit() {\n        this.errMessageKhongChoPhepTaoMoiYCTN = null;\n        this.urlPageUpdateYCTN = null;\n        this.changeMaTheBHYT = false;\n        this.id = this.route.snapshot.params.id;\n        this.getListDichVuSarsCoVs();\n        if (this.id != undefined) {\n            this.getBenhNhan(this.id, true);\n        }\n        else {\n            this.getDefaultDataTNBN();\n        }\n        console.log(\"ngOnInit - Id = \", this.id);\n        if (window.location.protocol == \"http:\") {\n            this.hostingName = \"http://\" + window.location.host;\n        }\n        else {\n            this.hostingName = \"https://\" + window.location.host;\n        }\n        this.danhSachDichVuTrongGoiDaChonTrongYCTN = new Array();\n        this.danhSachGoiDaChonTrongYCTN = new Array();\n        this.danhSachDichVuGoiDaChon = new Array();\n        this.suDungGoiMarketingModelTemp = false;\n        this.disabledCheckboxMarketing = false;\n        this.danhSachDichVuDaChonTrongLanPopup = new Array();\n        this.getSoTienBHYTSeThanhToan();\n        this.getListTenTrieuChungKham();\n        this.setDefaultData();\n        this.thongTinBenhNhan = new _danh_muc_bao_hiem_y_te_bao_hiem_y_te_model__WEBPACK_IMPORTED_MODULE_2__[\"ThongTinBenhNhan\"]();\n        this.lichSuKCB = new Array();\n        this.lichSuKiemTraTheBHYTGrid = new Array();\n        this.gridTaiLieuDinhKemColumns = [\n            { Field: \"LoaiDisplay\", Title: \"Loại\", Width: 200, Sortable: true },\n            { Field: \"Ten\", Title: \"Tài liệu\", MinWidth: 200, Sortable: true, Template: this.taiLieuTemplate },\n            { Field: \"MoTa\", Title: \"Mô tả\", Width: 200, Sortable: true },\n            { Field: \"Action\", Title: \"\", Width: 60, Template: this.actionTaiLieuTemplate },\n        ];\n        this.gridColumns = [\n            { Field: \"STT\", Title: \"STT\", Width: 50, Sortable: true },\n            { Field: \"CongTyDisplay\", Title: \"Công ty\", Width: 250, Sortable: true },\n            { Field: \"MaSoThe\", Title: \"Số thẻ\", Width: 150, Sortable: true },\n            { Field: \"NgayHieuLucDisplay\", Title: \"Từ ngày\", Width: 100, Sortable: true },\n            { Field: \"NgayHetHanDisplay\", Title: \"Đến ngày\", Width: 100, Sortable: true },\n            { Field: \"SoDienThoai\", Title: \"Điện thoại\", Width: 100, Sortable: true },\n            { Field: \"DiaChi\", Title: \"Địa chỉ\", MinWidth: 200, Sortable: true },\n            { Field: \"Action\", Title: \"\", Width: 60, Template: this.actionTemplate },\n        ];\n        this.gridKhamBenhColumns = [\n            { Field: \"Ma\", Title: \"Mã\", Width: 80, Sortable: true },\n            { Field: \"Nhom\", Title: \"Nhóm\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            {\n                Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", MinWidth: 140, Sortable: true,\n                TemplateFooter: this.donGiaKhamBenhFooterTemplate\n            },\n            { Field: \"LoaiGia\", Title: \"Loại Giá\", Width: 80, Sortable: true },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 30, Sortable: true },\n            {\n                Field: \"DonGia\", Title: \"Đơn Giá\", Width: 100, Sortable: true,\n                Template: this.donGiaKhamBenhTemplate\n            },\n            {\n                Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Sortable: true,\n                Template: this.thanhTienKhamBenhTemplate,\n                TemplateFooter: this.thanhTienKhamBenhFooterTemplate,\n                TemplateGroupFooter: this.thanhTienKhamBenhGroupFooterTemplate\n            },\n            {\n                Field: \"BHYTThanhToan\", Title: \"BHYT Thanh Toán\", Width: 100, Sortable: true,\n                Template: this.bhytThanhToanKhamBenhTemplate,\n                TemplateFooter: this.bhytThanhToanKhamBenhFooterTemplate,\n                TemplateGroupFooter: this.bhytThanhToanKhamBenhGroupFooterTemplate\n            },\n            // { Field: \"TLMGDisplay\", Title: \"TL MG\", Width: 45, Sortable: true },\n            // {\n            //     Field: \"SoTienMG\", Title: \"Số tiền MG\", Width: 100, Sortable: true,\n            //     Template: this.soTienMgKhamBenhTemplate,\n            //     TemplateFooter: this.soTienMgKhamBenhFooterTemplate,\n            //     TemplateGroupFooter: this.soTienMgKhamBenhGroupFooterTemplate\n            // },\n            {\n                Field: \"BnThanhToan\", Title: \"BN thanh toán\", Width: 150, Sortable: true,\n                Template: this.bnThanhToanKhamBenhTemplate,\n                TemplateFooter: this.bnThanhToanKhamBenhFooterTemplate,\n                TemplateGroupFooter: this.bnThanhToanKhamBenhGroupFooterTemplate\n            },\n            {\n                Field: \"NoiThucHienDisplay\", Title: \"Nơi thực hiện\", Width: 230, Sortable: true\n            },\n            { Field: \"ActionKhamBenh\", Title: \"\", Width: 50, Template: this.actionKhamBenhTemplate }\n        ];\n        this.gridKyThuatColumns = [\n            { Field: \"Nhom\", Title: \"Nhóm\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            { Field: \"Ma\", Title: \"Mã\", Width: 80, Sortable: true },\n            { Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", MinWidth: 140, Sortable: true },\n            { Field: \"LoaiGia\", Title: \"Loại Giá\", Width: 80, Sortable: true },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 30, Sortable: true },\n            {\n                Field: \"DonGia\", Title: \"Đơn Giá\", Width: 100, Sortable: true,\n                Template: this.donGiaKyThuatTemplate,\n                TemplateFooter: this.donGiaKyThuatFooterTemplate\n            },\n            {\n                Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Sortable: true,\n                Template: this.thanhTienKyThuatTemplate,\n                TemplateFooter: this.thanhTienKyThuatFooterTemplate,\n                TemplateGroupFooter: this.thanhTienKyThuatGroupFooterTemplate\n            },\n            // { Field: \"TLMGDisplay\", Title: \"TL MG\", Width: 45, Sortable: true },\n            // {\n            //     Field: \"SoTienMG\", Title: \"Số tiền MG\", Width: 100, Sortable: true,\n            //     Template: this.soTienMgKyThuatTemplate,\n            //     TemplateFooter: this.soTienMgKyThuatFooterTemplate,\n            //     TemplateGroupFooter: this.soTienMgKyThuatGroupFooterTemplate\n            // },\n            {\n                Field: \"BnThanhToan\", Title: \"BN thanh toán\", Width: 100, Sortable: true,\n                Template: this.bnThanhToanKyThuatTemplate,\n                TemplateFooter: this.bnThanhToanKyThuatFooterTemplate,\n                TemplateGroupFooter: this.bnThanhToanKyThuatGroupFooterTemplate\n            },\n            {\n                Field: \"NoiThucHienDisplay\", Title: \"Nơi thực hiện\", Width: 230, Sortable: true\n            },\n            {\n                Field: \"TenNhanVienChiDinh\", Title: \"Nhân viên chỉ định\", Width: 230, Sortable: true\n            },\n            { Field: \"ActionKyThuat\", Title: \"\", Width: 50, Template: this.actionKyThuatTemplate }\n        ];\n        this.gridKhongChietKhauColumns = [\n            {\n                Field: \"id\", Title: \"#\", Width: 50, Sortable: true,\n                Template: this.sttKhongChietKhauTemplate\n            },\n            { Field: \"Ma\", Title: \"Mã\", Width: 90, Sortable: true },\n            { Field: \"Nhom\", Title: \"Nhóm\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            {\n                Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\",\n                MinWidth: 200, Sortable: true, ShowTooltip: true,\n                TemplateFooter: this.donGiaKhongChietKhauFooterTemplate,\n                TemplateGroupFooter: this.tenDichVuKhongChietKhauFooterTemplate,\n                Template: this.tenDvTemplate\n            },\n            { Field: \"GoiCoChietKhauId\", Title: \"DV Trong Gói\", Width: 60, Template: this.dichVuTrongGoiTemplate },\n            { Field: \"YeuCauGoiDichVuKhuyenMaiId\", Title: \"DV Khuyến Mại\", Width: 60, Template: this.dichVuKhuyenMaiTemplate },\n            {\n                Field: \"LoaiGia\", Title: \"Loại Giá\", Width: 100, Sortable: true,\n                Template: this.loaiGiaTemplate\n            },\n            {\n                Field: \"SoLuong\", Title: \"SL\", Width: 50, Sortable: true,\n                Template: this.soLuongTemplate\n            },\n            {\n                Field: \"DonGia\", Title: \"Đơn Giá\", Width: 100, Sortable: true,\n                Template: this.donGiaKhongChietKhauTemplate\n            },\n            {\n                Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Sortable: true,\n                Template: this.thanhTienKhongChietKhauTemplate,\n                TemplateFooter: this.thanhTienKhongChietKhauFooterTemplate,\n                TemplateGroupFooter: this.thanhTienKhongChietKhauGroupFooterTemplate\n            },\n            {\n                Field: \"GiaBHYT\", Title: \"ĐG BHYT\", Width: 100, Sortable: true,\n                Template: this.donGiaBHYTTemplate\n            },\n            {\n                Field: \"DuocHuongBHYT\", Title: \"ĐH BHYT\", Width: 60, Sortable: false,\n                Template: this.duocHuongBHYTTemplate\n            },\n            // {\n            //     Field: \"BHYTThanhToan\", Title: \"BHYT Thanh Toán\", Width: 100, Sortable: true,\n            //     Template: this.bhytThanhToanKhongChietKhauTemplate,\n            //     TemplateFooter: this.bhytThanhToanKhongChietKhauFooterTemplate,\n            //     TemplateGroupFooter: this.bhytThanhToanKhongChietKhauGroupFooterTemplate\n            // },\n            // { Field: \"TLMGDisplay\", Title: \"TL MG\", Width: 60, Sortable: true },\n            // {\n            //     Field: \"SoTienMG\", Title: \"Số tiền MG\", Width: 100, Sortable: true,\n            //     Template: this.soTienMgKhongChietKhauTemplate,\n            //     TemplateFooter: this.soTienMgKhongChietKhauFooterTemplate,\n            //     TemplateGroupFooter: this.soTienMgKhongChietKhauGroupFooterTemplate\n            // },\n            // {\n            //     Field: \"BnThanhToan\", Title: \"BN thanh toán\", Width: 100, Sortable: true,\n            //     Template: this.bnThanhToanKhongChietKhauTemplate,\n            //     TemplateFooter: this.bnThanhToanKhongChietKhauFooterTemplate,\n            //     TemplateGroupFooter: this.bnThanhToanKhongChietKhauGroupFooterTemplate\n            // },\n            {\n                Field: \"NoiThucHienDisplay\", Title: \"Nơi thực hiện\", Width: 230, Sortable: true,\n                Template: this.noiThucHienKhongChietKhauTemplate\n            },\n            { Field: \"ActionKhongChietKhau\", Title: \"\", Width: 50, Template: this.actionKhongChietKhauTemplate }\n        ];\n        this.gridCoChietKhauColumns = [\n            {\n                Field: \"id\", Title: \"#\", Width: 90, Sortable: true,\n                Template: this.sttCoChietKhauTemplate\n            },\n            { Field: \"Nhom\", Title: \"Nhóm\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            { Field: \"Ma\", Title: \"Mã\", Width: 80, Sortable: true },\n            { Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", MinWidth: 200, Sortable: true, ShowTooltip: true },\n            { Field: \"LoaiGia\", Title: \"Loại Giá\", Width: 80, Sortable: true },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 30, Sortable: true },\n            {\n                Field: \"DonGia\", Title: \"Đơn Giá\", Width: 100, Sortable: true,\n                Template: this.donGiaChietKhauTemplate,\n                TemplateFooter: this.donGiaChietKhauFooterTemplate\n            },\n            {\n                Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Sortable: true,\n                Template: this.thanhTienChietKhauTemplate,\n                TemplateFooter: this.thanhTienChietKhauFooterTemplate,\n                TemplateGroupFooter: this.thanhTienChietKhauGroupFooterTemplate\n            },\n            {\n                Field: \"TyLeChietKhauDisplay\", Title: \"TL CK\", Width: 100, Sortable: true,\n                Template: this.tyLeChietKhauCoChietKhauTemplate,\n            },\n            {\n                Field: \"DuocGiamTrongGoi\", Title: \"DG Trong Gói\", Width: 100, Sortable: true,\n                Template: this.duocGiamTrongGoiCoChietKhauTemplate,\n                TemplateFooter: this.duocGiamTrongGoiCoChietKhauFooterTemplate\n            },\n            {\n                Field: \"ThanhTienTrongGoi\", Title: \"TT Trong Gói\", Width: 100, Sortable: true,\n                Template: this.thanhTienTrongGoiChietKhauTemplate,\n                TemplateFooter: this.thanhTienTrongGoiChietKhauFooterTemplate,\n                TemplateGroupFooter: this.thanhTienTrongGoiChietKhauGroupFooterTemplate\n            },\n            {\n                Field: \"NoiThucHienDisplay\", Title: \"Nơi thực hiện\", Width: 230, Sortable: true,\n                Template: this.noiThucHienChietKhauTemplate\n            }\n        ];\n        //documenttype\n        this.documentType = src_app_shared_enum_document_type_enum__WEBPACK_IMPORTED_MODULE_8__[\"DocumentType\"].YeuCauTiepNhan;\n        this.tiepNhanBenhNhan = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"TiepNhanBenhNhanViewModel\"];\n        this.tiepNhanBenhNhan.TinhThanhId = 1;\n        //set load first quan huyen combobox\n        //console.log(\"TNBN = \", this.comboboxQuanHuyen);\n        if (this.comboboxQuanHuyen != null && this.comboboxQuanHuyen != undefined) {\n            this.comboboxQuanHuyen.queryInfo.ParameterDependencies = \"{tinhThanh:\" + this.tiepNhanBenhNhan.TinhThanhId + \"}\";\n        }\n        this.tiepNhanBenhNhan.BenhNhan = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"BenhNhanTiepNhanBenhNhanViewModel\"]();\n        this.tiepNhanBenhNhan.GridLichSuKCB = new Array();\n        this.tiepNhanBenhNhan.GridLichSuKiemTraTheBHYT = new Array();\n        this.lstBHTN = new Array();\n        this.setValueForGridBHTN();\n        this.huyBHTN();\n        this.setDataForDichVuKyThuat();\n        this.setDataForDichVuKhamBenh();\n        this.setDataForDichVuKhac();\n        this.setDataForTaiLieuDinhKem();\n        this.refreshGrid();\n        this.themChiDinhDichVuModel = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemChiDinhDichVu\"]();\n        this.themChiDinhGoiModel = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemChiDinhDichVu\"]();\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n        //this.themChiDinhDichVuModel.DoiTuongUuDaiId = this.tiepNhanBenhNhan.DoiTuongUuDaiId;\n        this.clearThongTinTaiKhoanBenhNhan();\n        this.clearThemTaiLieu();\n        this.queryInfoNguoiLienHeQuanHuyen.ParameterDependencies = \"{tinhThanhLienHe:\" + this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId + \"}\";\n        this.queryInfoNguoiLienHePhuongXa.ParameterDependencies = \"{quanHuyenLienHe:\" + this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId + \"}\";\n        //console.log(\"isCheckedBHYT = \", this.isCheckedBHYT);\n        this.HoVaTenTextbox.focus();\n    }\n    setSoPhanTramHuongBHYTForThemChiDinh() {\n        this.themChiDinhDichVuModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n        this.themChiDinhGoiModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n    }\n    getBenhNhan(id, isCheckTheBHYT = false) {\n        this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_38__[\"LoadingComponent\"], {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: \"Đang tải dữ liệu...\" }\n        });\n        this.apiService.post(\"TiepNhanBenhNhan/GetYeuCauKhamBenh?id=\" + id).subscribe(resultData => {\n            if (resultData == null || resultData == undefined)\n                return;\n            this.tiepNhanBenhNhan = resultData;\n            //console.log(\"getBenhNhan\", this.tiepNhanBenhNhan);\n            console.log(\"ngOnInit - tiepNhanBenhNhan = \", this.tiepNhanBenhNhan);\n            this.tiepNhanBenhNhan.ThoiDiemTiepNhan = new Date();\n            this.tiepNhanBenhNhan.ThoiGianTiepNhan = new Date();\n            this.benhNhanId = this.tiepNhanBenhNhan.BenhNhanId;\n            //\n            this.getDanhSachGoiBenhNhan(this.benhNhanId);\n            //\n            this.setThongTinTaiKhoanBenhNhan(this.tiepNhanBenhNhan.BenhNhanId);\n            if (this.tiepNhanBenhNhan.TuNhap != true && this.tiepNhanBenhNhan.CoBHYT) {\n                //this.isDisableNhapTayForUpdate = true;\n            }\n            this.lichSuKCB = this.tiepNhanBenhNhan.GridLichSuKCB;\n            this.lichSuKiemTraTheBHYTGrid = this.tiepNhanBenhNhan.GridLichSuKiemTraTheBHYT;\n            if (resultData.LoaiVoucher == null) {\n                this.loaiVoucher = 0;\n            }\n            else {\n                this.loaiVoucher = resultData.LoaiVoucher;\n            }\n            // thong tin BHYT\n            if (resultData.BHYTNgayHieuLuc != null && resultData.BHYTNgayHieuLuc != undefined) {\n                let ngayCoHieuLuc = new Date(resultData.BHYTNgayHieuLuc);\n                this.tiepNhanBenhNhan.NgayCoHieuLucDisplay = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].formatDate(ngayCoHieuLuc, \"dd/mm/yyyy\");\n                //console.log(\"getBenhNhan = \", ngayCoHieuLuc, this.tiepNhanBenhNhan.NgayCoHieuLucDisplay);\n            }\n            if (resultData.BHYTNgayHetHan != null && resultData.BHYTNgayHetHan != undefined) {\n                let ngayHetHan = new Date(resultData.BHYTNgayHetHan);\n                this.tiepNhanBenhNhan.NgayHetHieuLucDisplay = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].formatDate(ngayHetHan, \"dd/mm/yyyy\");\n            }\n            if (resultData.BHYTNgayDu5Nam != null && resultData.BHYTNgayDu5Nam != undefined) {\n                let ngayDu5Nam = new Date(resultData.BHYTNgayDu5Nam);\n                this.tiepNhanBenhNhan.NgayDu5NamDisplay = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].formatDate(ngayDu5Nam, \"dd/mm/yyyy\");\n            }\n            if (resultData.BHYTMaDKBD != null && resultData.BHYTMaDKBD != undefined) {\n                //this.setSoPhanTramHuongBHYT(resultData.BHYTMaSoThe)\n                //this.setTuyenKhamBenh(resultData.BHYTMaDKBD);\n                this.setSoPhanTramHuongBHYTForThemChiDinh();\n                this.apiService.post(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + resultData.BHYTMaDKBD).subscribe(resultData => {\n                    this.tiepNhanBenhNhan.NoiDangKyBHYT = resultData;\n                }, () => {\n                    //return null;\n                    //console.log(\"error\")\n                });\n            }\n            // BHTN\n            //this.lstBHTN = resultData.BaoHiemTuNhans;\n            if (resultData.BaoHiemTuNhans != undefined && resultData.BaoHiemTuNhans != null) {\n                resultData.BaoHiemTuNhans.forEach(item => {\n                    let model = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemBaoHiemTuNhanGridVo\"]();\n                    model.Id = item.Id;\n                    model.CongTyBaoHiemTuNhanId = item.BHTNCongTyBaoHiemId;\n                    model.CongTyDisplay = item.CongTyDisplay;\n                    model.DiaChi = item.BHTNDiaChi;\n                    model.MaSoThe = item.BHTNMaSoThe;\n                    model.SoDienThoai = item.BHTNSoDienThoai;\n                    model.NgayHetHan = item.BHTNNgayHetHan;\n                    if (item.BHTNNgayHetHan != null) {\n                        let dateNgayHetHan = new Date(model.NgayHetHan);\n                        model.NgayHetHanDisplay = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].formatDate(dateNgayHetHan, \"dd/mm/yyyy\");\n                    }\n                    else {\n                        model.NgayHetHanDisplay = null;\n                    }\n                    model.NgayHieuLuc = item.BHTNNgayHieuLuc;\n                    if (item.BHTNNgayHieuLuc != null) {\n                        let dateNgayHieuLuc = new Date(model.NgayHieuLuc);\n                        model.NgayHieuLucDisplay = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].formatDate(dateNgayHieuLuc, \"dd/mm/yyyy\");\n                    }\n                    else {\n                        model.NgayHieuLucDisplay = null;\n                    }\n                    this.lstBHTN.push(model);\n                });\n                this.setValueForGridBHTN();\n            }\n            // BHTN\n            // this.isHaveBHYTUpdated = resultData.CoBHYT\n            //     //console.log(\"getBenhNhan\", this.tiepNhanBenhNhan)\n            //     ;\n            this.tiepNhanBenhNhan.BenhNhan.GioiTinhDisplay = resultData.BenhNhan.GioiTinh == 1 ? \"Nam\" : \"Nữ\";\n            //let ngayThangNamSinh = new Date();\n            //ngayThangNamSinh.setDate(resultData.BenhNhan.NgaySinh);\n            //ngayThangNamSinh.setMonth(resultData.BenhNhan.ThangSinh);\n            //ngayThangNamSinh.setFullYear(resultData.BenhNhan.NamSinh, resultData.BenhNhan.ThangSinh, resultData.BenhNhan.NgaySinh);\n            //this.tiepNhanBenhNhan.BenhNhan.NgayThangNamSinh = ngayThangNamSinh;\n            if (resultData.BenhNhan.NamSinh != null && resultData.BenhNhan.ThangSinh != null && resultData.BenhNhan.NgaySinh != null) {\n                let ngayThangNamSinh = new Date(resultData.BenhNhan.NgayThangNamSinh);\n                this.getAge(ngayThangNamSinh, new Date);\n            }\n            //console.log(\"------------: \", this.tiepNhanBenhNhan)\n            if (this.tiepNhanBenhNhan.BHYTMucHuong == null) {\n                this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                //this.isHaveBHYTForTheFistLoad = false;\n            }\n            if (this.tiepNhanBenhNhan.IsCheckedBHYT) {\n                let dateToCheck = new Date(this.tiepNhanBenhNhan.BHYTNgayHetHan);\n                //console.log(\"dateToCheck \", this.tiepNhanBenhNhan.BHYTNgayHetHan, dateToCheck)\n                this.checkOutOfDateBHYT(dateToCheck);\n            }\n            else {\n                this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].KhongXacDinh;\n            }\n            this.tiepNhanBenhNhan.YeuCauKhacGrid = [];\n            //\n            this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n            //Chi dinh dich vu\n            //this.setDataForDichVuKhac();\n            this.setDataForTaiLieuDinhKem();\n            this.refreshGrid();\n            this.dialog.closeAll();\n            // if(this.tiepNhanBenhNhan.CoBHYT == true && this.tiepNhanBenhNhan.TuNhap != true && isCheckTheBHYT)\n            // {\n            //     this.kiemTraTheBHYTKhiTaoYCTNMoi();\n            // }\n            //Do quận huyện nó không bind do cơ chế chạy trước sau nên ta set lại cho comboxQuanHuyen này\n            //this.bindComboboxQuanHuyen(resultData);   \n            this.xuLyKiemTraBenhNhanDuDieuKienTaoMoiYCTN();\n        }, () => {\n            this.dialog.closeAll();\n            //console.log(\"error\")\n        });\n    }\n    bindComboboxQuanHuyen(resultData) {\n        if (this.comboboxQuanHuyen != undefined && this.comboboxQuanHuyen != null) {\n            this.tiepNhanBenhNhan.TinhThanhId = resultData.TinhThanhId;\n            this.tiepNhanBenhNhan.QuanHuyenId = resultData.QuanHuyenId;\n            this.comboboxQuanHuyen.getDataForLookup();\n        }\n    }\n    keyEvent(event) {\n        //console.log(\"keyEvent = \", event);\n        if (event.keyCode == 81 && event.ctrlKey && this.isScanF1 != true) {\n            event.preventDefault();\n            this.QuetMaQRCodeClick();\n        }\n        else if (event.keyCode == 81 && event.ctrlKey && this.isScanF1 == true) {\n            event.preventDefault();\n        }\n        //f1 - CoBHYT\n        else if (event.keyCode == 112 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.coBHYTChange(true);\n            this.tiepNhanBenhNhan.CoBHYT = true;\n            event.preventDefault();\n        }\n        //f2 - TuNhap\n        else if (event.keyCode == 113 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.tuNhapChange(true);\n            this.tiepNhanBenhNhan.TuNhap = true;\n            event.preventDefault();\n        }\n        //f3 - Có giấy chuyển viện\n        else if (event.keyCode == 114 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.tiepNhanBenhNhan.DuocChuyenVien = true;\n            event.preventDefault();\n        }\n        //f5 - Có giấy miễn cùng chi trả\n        else if (event.keyCode == 116 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.tiepNhanBenhNhan.BHYTDuocMienCungChiTra = true;\n            event.preventDefault();\n        }\n        //f6 - Có miễn giảm\n        else if (event.keyCode == 117 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.CoUuDaiChange(true);\n            this.tiepNhanBenhNhan.DuocUuDai = true;\n            event.preventDefault();\n        }\n        //f7 - Có BHTN\n        else if (event.keyCode == 118 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.tiepNhanBenhNhan.CoBHTN = true;\n            event.preventDefault();\n        }\n        //f8 - Chỉ định dịch vụ\n        else if (event.keyCode == 119 && event.ctrlKey) {\n            this.tabStrip.selectTab(0);\n            this.onTabSelect(0);\n            event.preventDefault();\n        }\n        else if (event.keyCode == 120 && event.ctrlKey) {\n            this.tabStrip.selectTab(1);\n            this.onTabSelect(1);\n            event.preventDefault();\n        }\n        else if (event.keyCode == 121 && event.ctrlKey) {\n            this.tabStrip.selectTab(2);\n            this.onTabSelect(2);\n            event.preventDefault();\n        }\n        else if (event.keyCode == 122 && event.ctrlKey) {\n            this.tabStrip.selectTab(3);\n            this.onTabSelect(3);\n            event.preventDefault();\n        }\n        else if (event.keyCode == 123 && event.ctrlKey) {\n            this.tabStrip.selectTab(4);\n            this.onTabSelect(4);\n            event.preventDefault();\n        }\n        else if (event.keyCode == 83 && event.ctrlKey && !event.shiftKey) {\n            if (this.errMessageKhongChoPhepTaoMoiYCTN == null || this.errMessageKhongChoPhepTaoMoiYCTN == '') {\n                this.luuPhieu();\n            }\n            event.preventDefault();\n        }\n        else if (event.keyCode == 83 && event.ctrlKey && event.shiftKey) {\n            //console.log(\"-----Successfully---\");\n            if (this.errMessageKhongChoPhepTaoMoiYCTN == null || this.errMessageKhongChoPhepTaoMoiYCTN == '') {\n                this.luuVaInPhieu();\n            }\n            event.preventDefault();\n        }\n        else if (event.keyCode == 27) {\n            this.huy();\n            event.preventDefault();\n        }\n    }\n    removeTaiLieu(data) {\n        //console.log(\"removeTaiLieu = \", data);\n        // this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans = this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.filter(p => p.TenGuid != data.TenGuid\n        //     && p.Ten != data.Ten && p.LoaiHoSoYeuCauTiepNhanId != data.LoaiHoSoYeuCauTiepNhanId\n        //     && p.MoTa != data.MoTa);\n        this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.splice(this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.indexOf(data), 1);\n        this.setDataForTaiLieuDinhKem();\n    }\n    uploadTaiLieuDone($event) {\n        this.themTaiLieu.TaiLieu = $event;\n        if (!this.cdRef.destroyed) {\n            this.cdRef.detectChanges();\n        }\n    }\n    clearThemTaiLieu() {\n        this.themTaiLieu = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemTaiLieuDinhKem\"]();\n    }\n    themTaiLieuButton() {\n        // if(this.themTaiLieu.LoaiId != null && this.themTaiLieu.TaiLieu != null){\n        //     console.log(this.themTaiLieu);\n        this.validationErrors = null;\n        this.apiService.post(\"TiepNhanBenhNhan/GetNameLoaiTaiLieuDinhKem\", this.themTaiLieu).subscribe(resultData => {\n            let taiLieuNew = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"HoSoYeuCauTiepNhanViewModel\"]();\n            taiLieuNew.Ma = this.themTaiLieu.TaiLieu.Ma;\n            taiLieuNew.Ten = this.themTaiLieu.TaiLieu.Ten;\n            taiLieuNew.TenGuid = this.themTaiLieu.TaiLieu.TenGuid;\n            taiLieuNew.MoTa = this.themTaiLieu.MoTa;\n            taiLieuNew.DuongDan = this.themTaiLieu.TaiLieu.DuongDan;\n            taiLieuNew.KichThuoc = this.themTaiLieu.TaiLieu.KichThuoc;\n            taiLieuNew.LoaiHoSoYeuCauTiepNhanId = this.themTaiLieu.LoaiId;\n            taiLieuNew.LoaiDisplay = resultData;\n            taiLieuNew.DuongDanTmp = this.themTaiLieu.TaiLieu.DuongDanTmp;\n            taiLieuNew.AddNew = true;\n            this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.push(taiLieuNew);\n            this.setDataForTaiLieuDinhKem();\n            this.clearThemTaiLieu();\n        }, (err) => {\n            if (err != undefined && err.ValidationErrors != null) {\n                this.validationErrors = err.ValidationErrors;\n            }\n            else if (err != undefined && err.Errors == null) {\n                //self.validationErrors.push({ \"Message\": err.Message });\n                this.notificationService.showError(err.Message);\n            }\n        });\n        //}\n    }\n    viewTaiLieu(file) {\n        //console.log(\"viewTaiLieu = \", dataItem);\n        let duongDan = file.DuongDan;\n        if (file.AddNew) {\n            duongDan = file.DuongDanTmp;\n        }\n        const params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_30__[\"HttpParams\"]({\n            fromObject: {\n                tenGuid: file.TenGuid,\n                duongDan: duongDan,\n            }\n        });\n        // let response = await this.apiService.get<any>('TaiLieuDinhKem/GetTaiLieuUrl', params).toPromise();\n        this.apiService.get('TaiLieuDinhKem/GetTaiLieuUrl', params).subscribe((resp) => {\n            if (resp) {\n                if (file.TenGuid.indexOf(\".pdf\") != -1 || file.TenGuid.indexOf(\".PDF\") != -1) {\n                    var html = \"<div class=\\\"showFile\\\">\";\n                    html += \"<div class=\\\"overlay\\\"></div>\";\n                    html += \"<div class=\\\"middle\\\">\";\n                    html += \"<div class=\\\"inner\\\">\";\n                    html += \"<span class=\\\"close\\\" onclick=\\\"$('.showFile').detach();\\\">X</span>\";\n                    html += \"<iframe src='\" + resp + \"' style=\\\"width:770px; height:570px;\\\" frameborder=\\\"0\\\"></iframe>\";\n                    html += \"</div>\";\n                    html += \"</div>\";\n                    html += \"</div>\";\n                    $(html).appendTo('app-main');\n                }\n                else {\n                    var html = \"<div class=\\\"showFile\\\">\";\n                    html += \"<div class=\\\"overlay\\\"></div>\";\n                    html += \"<div class=\\\"middle\\\">\";\n                    html += \"<div class=\\\"inner\\\">\";\n                    html += \"<span class=\\\"close\\\" onclick=\\\"$('.showFile').detach();\\\">X</span>\";\n                    html += \"<img src='\" + resp + \"' alt='' style=\\\"max-width: 770px;max-height: 570px;\\\"/>\";\n                    html += \"</div>\";\n                    html += \"</div>\";\n                    html += \"</div>\";\n                    $(html).appendTo('app-main');\n                }\n            }\n        });\n    }\n    setDataForTaiLieuDinhKem() {\n        //console.log(\"abc = \", this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.length);\n        this.gridDataTaiLieuDinhKem = {\n            data: this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans,\n            total: this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.length\n        };\n    }\n    clearThongTinTaiKhoanBenhNhan() {\n        this.thongTinTaiKhoanBenhNhan = null;\n    }\n    getSoTienBHYTSeThanhToan() {\n        this.apiService.get(\"TiepNhanBenhNhan/GetSoTienBHYTSeThanhToan\").subscribe(resultData => {\n            this.soTienBHYTSeThanhToan = resultData;\n            //console.log(\"getSoTienBHYTSeThanhToan = \", this.soTienBHYTSeThanhToan);\n        });\n    }\n    CoUuDaiChange($event) {\n        //console.log(\"CoUuDaiChange = \", $event)\n        if (this.tiepNhanBenhNhan.DoiTuongUuDaiId != null) {\n            if ($event == false) {\n                this.removeDoiTuongMienGiamForGirdChiDinhDichVu();\n            }\n            else {\n                this.addDoiTuongMienGiamForGridChiDinhDichVu();\n            }\n        }\n    }\n    addBHYTForGridChiDinhDichVu() {\n        //khac\n        for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n            const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n            if (item.Nhom == \"DỊCH VỤ KHÁM BỆNH\" && item.GiaBHYT != 0) {\n                item.BHYTThanhToan = item.GiaBHYT;\n                item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n                item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                item.DuocHuongBHYT = true;\n            }\n        }\n        this.setGiaBHYT();\n        this.setDataForDichVuKhac();\n        this.refreshGrid();\n    }\n    removeBHYTForGridChiDinhDichVu() {\n        //kham benh\n        // for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.length; index++) {\n        //     const item = this.tiepNhanBenhNhan.YeuCauKhamBenhGrid[index];\n        //     if (item.DuocHuongBHYT == true && item.BHYTThanhToan != 0) {\n        //         item.BHYTThanhToan = 0;\n        //         item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n        //         item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n        //     }\n        // }\n        //dich vu ky thuat\n        //khac\n        for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n            const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n            if (item.Nhom == \"DỊCH VỤ KHÁM BỆNH\" && item.BHYTThanhToan != 0) {\n                item.BHYTThanhToan = 0;\n                item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n                item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                item.DuocHuongBHYT = false;\n            }\n        }\n        this.setDataForDichVuKhac();\n        this.setDataForDichVuKhamBenh();\n        this.refreshGrid();\n    }\n    removeDoiTuongMienGiamForGirdChiDinhDichVu() {\n        //kham benh\n        // for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.length; index++) {\n        //     const item = this.tiepNhanBenhNhan.YeuCauKhamBenhGrid[index];\n        //     if (item.SoTienMG != 0 && item.TLMG != 0) {\n        //         item.TLMG = 0\n        //         item.SoTienMG = 0;\n        //         item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n        //     }\n        // }\n        // //dich vu ky thuat\n        // for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKyThuatGrid.length; index++) {\n        //     const item = this.tiepNhanBenhNhan.YeuCauKyThuatGrid[index];\n        //     if (item.SoTienMG != 0 && item.TLMG != 0) {\n        //         item.TLMG = 0\n        //         item.SoTienMG = 0;\n        //         item.BnThanhToan = item.ThanhTien - item.SoTienMG;\n        //         //console.log(item.SoTienMG, item.BnThanhToan, item.BHYTThanhToan, item.ThanhTien );\n        //     }\n        // }\n        //khac\n        for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n            const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n            if (item.SoTienMG != 0 && item.TLMG != 0 && item.IsGoiCoChietKhau != true) {\n                item.TLMG = 0;\n                item.TLMGDisplay = \"0 %\";\n                item.SoTienMG = 0;\n                item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n            }\n        }\n        this.setDataForDichVuKhac();\n        //this.setDataForDichVuKhamBenh();\n        //this.setDataForDichVuKyThuat();\n        this.refreshGrid();\n    }\n    addDoiTuongMienGiamForGridChiDinhDichVu() {\n        //khac\n        for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n            const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n            if (item.IsGoiCoChietKhau != true) {\n                let url;\n                if (item.Nhom == 'DỊCH VỤ KHÁM BỆNH') {\n                    url = \"TiepNhanBenhNhan/GetTyLeMienGiamKhamBenh/\";\n                }\n                else if (item.Nhom == 'DỊCH VỤ KỸ THUẬT') {\n                    url = \"TiepNhanBenhNhan/GetTyLeMienGiamKyThuat/\";\n                }\n                if (url != undefined) {\n                    this.apiService.post(url + \"?doiTuongId=\"\n                        + this.tiepNhanBenhNhan.DoiTuongUuDaiId + \"&maDichVuId=\" + item.MaDichVuId).subscribe(resultData => {\n                        if (resultData != undefined && resultData != null && resultData != 0) {\n                            item.TLMG = resultData;\n                            item.TLMGDisplay = resultData + \" %\";\n                            item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * resultData / 100;\n                            item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                        }\n                        else {\n                            item.TLMG = 0;\n                            item.TLMGDisplay = \"0 %\";\n                            item.SoTienMG = 0;\n                            item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                        }\n                        this.setDataForDichVuKhac();\n                        this.refreshGrid();\n                    }, () => {\n                    });\n                }\n            }\n        }\n    }\n    setDuocHuongBHYT(CoBHYT = false, LyDoVaoVien = 1) {\n        let dateNow = new Date((new Date()).toDateString());\n        // console.log(\"setDuocHuongBHYT = \", CoBHYT, LyDoVaoVien\n        // , this.tiepNhanBenhNhan.BHYTNgayHieuLuc, this.tiepNhanBenhNhan.BHYTNgayHieuLuc < dateNow, this.tiepNhanBenhNhan.BHYTNgayHetHan);\n        //console.log(\"setDuocHuongBHYT = \", this.tiepNhanBenhNhan.BHYTNgayHetHan >= dateNow, this.tiepNhanBe nhNhan.BHYTNgayHetHan, dateNow.getDate)\n        // dùng để kiểm tra hạn dùng của thẻ BHYT\n        let compareDate = false;\n        if (this.tiepNhanBenhNhan.BHYTNgayHetHan != undefined && this.tiepNhanBenhNhan.BHYTNgayHetHan != null) {\n            let now = new Date();\n            let ngay = now.getDate();\n            let thang = now.getMonth();\n            let nam = now.getFullYear();\n            let dateNowFormat = new Date(nam, thang, ngay);\n            let ngayDenHanTheBHYTTemp = this.tiepNhanBenhNhan.BHYTNgayHetHan;\n            var type = typeof ngayDenHanTheBHYTTemp;\n            if (type == \"string\") {\n                ngayDenHanTheBHYTTemp = new Date(this.tiepNhanBenhNhan.BHYTNgayHetHan);\n            }\n            let ngayDenHanTheBHYT = ngayDenHanTheBHYTTemp.getDate();\n            let thangDenHanTheBHYT = ngayDenHanTheBHYTTemp.getMonth();\n            let namDenHanTheBHYT = ngayDenHanTheBHYTTemp.getFullYear();\n            let ngayDenHanTheBHYTFormat = new Date(namDenHanTheBHYT, thangDenHanTheBHYT, ngayDenHanTheBHYT);\n            compareDate = ngayDenHanTheBHYTFormat >= dateNowFormat;\n        }\n        if (CoBHYT && LyDoVaoVien == 1 && compareDate) { //&& this.tiepNhanBenhNhan.BHYTNgayHetHan >= dateNow) \n            this.themChiDinhDichVuModel.DuocHuongBHYT = true;\n            this.themChiDinhGoiModel.DuocHuongBHYT = true;\n            this.duocHuongBHYT = true;\n            this.themChiDinhDichVuModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n            this.themChiDinhGoiModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n            this.addBHYTForGridChiDinhDichVu();\n        }\n        else {\n            this.themChiDinhDichVuModel.DuocHuongBHYT = false;\n            this.themChiDinhGoiModel.DuocHuongBHYT = false;\n            this.duocHuongBHYT = false;\n            this.themChiDinhDichVuModel.BHYTMucHuong = null;\n            this.themChiDinhGoiModel.BHYTMucHuong = null;\n            this.removeBHYTForGridChiDinhDichVu();\n        }\n        if (!this.enableDuocHuongBHYT) {\n            this.themChiDinhDichVuModel.DuocHuongBHYT = false;\n            this.themChiDinhGoiModel.DuocHuongBHYT = false;\n        }\n        //console.log(\"setDuocHuongBHYT = \", this.duocHuongBHYT)\n    }\n    setDonGiaThanhTienGrid(item) {\n        item.ThanhTien = item.DonGia * item.SoLuong;\n        //Chi tinh trong truong hop khong co bhyt\n        item.BnThanhToan = item.ThanhTien;\n    }\n    setGiaBHYT() {\n        //console.log(\"setGiaBHYT = \", this.tiepNhanBenhNhan.YeuCauKhacGrid);\n        //this.setGiaBHYTSoLanKham();\n        let soLanKham = 1;\n        let tyLeLan1 = 0;\n        let tyLeLan2 = 0;\n        let tyLeLan3 = 0;\n        let tyLeLan4 = 0;\n        let tyLeLan5 = 0;\n        ;\n        this.apiService.get(\"TiepNhanBenhNhan/GetTyLeSoLanHuongBHYTDichVu\").subscribe(resultData => {\n            if (resultData != null && resultData != undefined) {\n                //console.log(\"setGiaBHYTSoLanKham = \", resultData, resultData[0],  resultData[1]);\n                tyLeLan1 = resultData[0];\n                tyLeLan2 = resultData[1];\n                tyLeLan3 = resultData[2];\n                tyLeLan4 = resultData[3];\n                tyLeLan5 = resultData[4];\n                //console.log(\"Trươc = \", this.tiepNhanBenhNhan.YeuCauKhacGrid);\n                if (this.tiepNhanBenhNhan.YeuCauKhacGrid != null && this.tiepNhanBenhNhan.YeuCauKhacGrid != undefined) {\n                    for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n                        //console.log(\"Solan = \", soLanKham, \" , TyLe = \",tyLeLan1, tyLeLan2, tyLeLan3, tyLeLan4, tyLeLan5);\n                        const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n                        //console.log(\"index = \", item, soLanKham);\n                        this.setDonGiaThanhTienGrid(item);\n                        //\n                        if (item.DuocHuongBHYT == true && item.GiaBHYT != 0) {\n                            if (soLanKham == 1) {\n                                item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100 * tyLeLan1 / 100;\n                                soLanKham = soLanKham + 1;\n                            }\n                            else if (soLanKham == 2) {\n                                item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100 * tyLeLan2 / 100;\n                                soLanKham = soLanKham + 1;\n                            }\n                            else if (soLanKham == 3) {\n                                item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100 * tyLeLan3 / 100;\n                                soLanKham = soLanKham + 1;\n                            }\n                            else if (soLanKham == 4) {\n                                item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100 * tyLeLan4 / 100;\n                                soLanKham = soLanKham + 1;\n                            }\n                            else if (soLanKham == 5) {\n                                item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100 * tyLeLan5 / 100;\n                                soLanKham = soLanKham + 1;\n                            }\n                            else {\n                                item.BHYTThanhToan = item.GiaBHYT * item.TiLeBaoHiemThanhToan / 100 * 0 / 100;\n                                soLanKham = soLanKham + 1;\n                            }\n                            item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n                            item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                        }\n                    }\n                }\n                //this.setDataForDichVuKhac();\n                //console.log(\"Sau = \", this.tiepNhanBenhNhan.YeuCauKhacGrid);\n            }\n            let bhytKhacKhamBenh = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                .reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n            if (bhytKhacKhamBenh != 0 && bhytKhacKhamBenh < this.soTienBHYTSeThanhToan) {\n                for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n                    const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n                    if (item.DuocHuongBHYT == true && item.BHYTThanhToan != 0 && this.tiepNhanBenhNhan.BHYTMucHuong != null) {\n                        item.BHYTThanhToan = item.BHYTThanhToan;\n                        item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n                        item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                    }\n                }\n            }\n            else if (bhytKhacKhamBenh != 0 && bhytKhacKhamBenh >= this.soTienBHYTSeThanhToan) {\n                for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n                    const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n                    if (item.DuocHuongBHYT == true && item.BHYTThanhToan != 0 && this.tiepNhanBenhNhan.BHYTMucHuong != null) {\n                        item.BHYTThanhToan = item.BHYTThanhToan * this.tiepNhanBenhNhan.BHYTMucHuong / 100;\n                        item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n                        item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                    }\n                }\n            }\n            //console.log(\"tiepNhanBenhNhan.BHYTMucHuong = \", this.tiepNhanBenhNhan.BHYTMucHuong);\n            this.setDataForDichVuKhac();\n            this.refreshGrid();\n        });\n    }\n    setGiaBHYTSoLanKham() {\n    }\n    getListTenTrieuChungKham() {\n        this.apiService.get(\"TiepNhanBenhNhan/GetListTenTrieuChungKhamAsync\").subscribe(resultData => {\n            this.TrieuChungTiepNhanResource = resultData;\n            //this.getDefaultDataForLyDoTiepNhan();\n        });\n    }\n    getDefaultDataForLyDoTiepNhan() {\n        this.apiService.get('TiepNhanBenhNhan/GetLyDoTiepNhanDefaultData').subscribe((result) => {\n            this.tiepNhanBenhNhan.LyDoTiepNhanId = result.Result.Id;\n            this.tiepNhanBenhNhan.LyDoTiepNhanText = result.Result.Ten;\n        });\n    }\n    getDefaultDataTNBN() {\n        this.apiService.get('TiepNhanBenhNhan/GetDefaultDataTNBN').subscribe((result) => {\n            if (result != undefined) {\n                if (result.DanTocId != 0 && result.DanTocId != null) {\n                    this.tiepNhanBenhNhan.DanTocId = result.DanTocId;\n                }\n                if (result.HinhThucDenId != 0 && result.HinhThucDenId != null) {\n                    this.tiepNhanBenhNhan.HinhThucDenId = result.HinhThucDenId;\n                }\n                if (result.LyDoTiepNhanId != 0 && result.LyDoTiepNhanId != null) {\n                    this.tiepNhanBenhNhan.LyDoTiepNhanId = result.LyDoTiepNhanId;\n                }\n                if (result.QuocTichId != 0 && result.QuocTichId != null) {\n                    this.tiepNhanBenhNhan.QuocTichId = result.QuocTichId;\n                }\n                if (result.TinhThanhPhoId != 0 && result.TinhThanhPhoId != null) {\n                    this.tiepNhanBenhNhan.TinhThanhId = result.TinhThanhPhoId;\n                }\n            }\n        });\n    }\n    // click(){\n    //     this.tiepNhanBenhNhan.LyDoTiepNhanId = 27\n    // }\n    refreshGrid() {\n        if (!this.cdRef.destroyed) {\n            this.cdRef.detectChanges();\n        }\n        if (this.gridChildKhamBenh != undefined) {\n            this.gridChildKhamBenh.setDataSource();\n        }\n        if (this.gridChildBHTN != undefined) {\n            this.gridChildBHTN.setDataSource();\n        }\n        if (this.gridChildCoChietKhau != undefined) {\n            this.gridChildCoChietKhau.setDataSource();\n        }\n        //console.log(\"grid ko chiet khau \", this.gridChildKhongChietKhau)\n        if (this.gridChildKhongChietKhau != undefined) {\n            this.gridChildKhongChietKhau.setDataSource();\n        }\n        if (this.gridChildKyThuat != undefined) {\n            this.gridChildKyThuat.setDataSource();\n        }\n        if (this.gridTaiLieuDinhKem != undefined) {\n            this.gridTaiLieuDinhKem.setDataSource();\n        }\n    }\n    setDefaultData() {\n        this.isDungTuyenDisplay = null;\n        this.isDungTuyen = false;\n        this.isSearchQRCodeEnable = true;\n        this.soTuoiDisplay = null;\n        this.hoTenDaTimKiem = null;\n        this.maSoTheDaTimKiem = null;\n        this.ngaySinhDaTimKiem = null;\n        this.soPhanTramHuongBHYT = null;\n        this.totalBenhNhan = 0;\n        this.lstBenhNhan = new Array();\n        this.modelTimKiemBenhNhan = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"TimKiemBenhNhanGridVo\"]();\n        this.isOutOfDate = false;\n    }\n    ngAfterContentInit() {\n        var self = this;\n    }\n    changeQR($event) {\n        if ($event != null) {\n            this.modelQRCode = $event;\n            this.setValueBHYT(this.modelQRCode);\n        }\n        else {\n        }\n        this.isScanF1 = false;\n        //console.log(\"changeQR = \", $event);\n    }\n    checkOutOfDateBHYT(date) {\n        //console.log(\"checkOutOfDateBHYT \");\n        let dateNow = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate());\n        if (date.getTime() < dateNow.getTime()) {\n            this.isActivePopup = true;\n            this.isOutOfDate = true;\n            this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].HetHieuLuc;\n            //this.notificationService.showError(\"Thẻ bảo hiểm này đã hết hiệu lực, bạn phải chuyển qua khám nhân dân\");\n            let dialogRef = this.dialog.open(_tiep_nhan_benh_nhan_popup_het_hieu_luc_tiep_nhan_benh_nhan_popup_het_hieu_luc_component__WEBPACK_IMPORTED_MODULE_28__[\"TiepNhanBenhNhanPopupHetHieuLucComponent\"], {\n                disableClose: true,\n                width: '700px',\n                height: '300px',\n                data: this.tiepNhanBenhNhan,\n            });\n            dialogRef.afterClosed().subscribe(result => {\n                //console.log(\"close = \", result);\n                //this.clearData();\n                this.isActivePopup = false;\n                if (result == 1) {\n                    this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].HetHieuLuc;\n                    this.clearData();\n                }\n                else if (result == 2) {\n                    this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                    this.tiepNhanBenhNhan.CoBHYT = true;\n                    this.tiepNhanBenhNhan.TuNhap = true;\n                }\n                else {\n                    this.tiepNhanBenhNhan.CoBHYT = false;\n                    this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].HetHieuLuc;\n                }\n            });\n        }\n        else {\n            this.isOutOfDate = false;\n            this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].ConHieuLuc;\n        }\n        this.tiepNhanBenhNhan.isOutOfDate = this.isOutOfDate;\n        //console.log(date, dateNow);\n        //console.log(\"checkOutOfDateBHYT = \", date.getTime(), \" ---- \",  dateNow.getTime(), \" ---- \", this.isOutOfDate)\n    }\n    setDiaChiBHYTForModel(diaChi) {\n        let self = this;\n        var coDiaChi = self.kiemTraDiaChiDaCo(); // BVHD-3768\n        var coDiaChiGiamHo = self.kiemTraDiaChiDaCo(true); // BVHD-3768\n        if ((diaChi == undefined || diaChi == null || diaChi == '')) // && !coDiaChi) {\n         {\n            if (!coDiaChi) {\n                this.tiepNhanBenhNhan.TinhThanhId = null;\n                this.tiepNhanBenhNhan.QuanHuyenId = null;\n                this.tiepNhanBenhNhan.PhuongXaId = null;\n                this.tiepNhanBenhNhan.DiaChi = null;\n            }\n            return;\n        }\n        let lstDiaChi = diaChi.split(\",\");\n        if ((lstDiaChi.length < 3)) // && !coDiaChi) {\n         {\n            if (!coDiaChi) {\n                this.tiepNhanBenhNhan.TinhThanhId = null;\n                this.tiepNhanBenhNhan.QuanHuyenId = null;\n                this.tiepNhanBenhNhan.PhuongXaId = null;\n                this.tiepNhanBenhNhan.DiaChi = null;\n            }\n            return;\n        }\n        let tinhThanhPho = lstDiaChi[lstDiaChi.length - 1].trim();\n        let quanHuyen = lstDiaChi[lstDiaChi.length - 2].trim();\n        let phuongXa = lstDiaChi[lstDiaChi.length - 3].trim();\n        let soNha = null;\n        if (lstDiaChi.length >= 4) {\n            let index = diaChi.indexOf(lstDiaChi[lstDiaChi.length - 3]);\n            soNha = diaChi.slice(0, index - 1);\n        }\n        let model = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"DiaChiBHYT\"]();\n        model.TinhThanh = tinhThanhPho;\n        model.QuanHuyen = quanHuyen;\n        model.PhuongXa = phuongXa;\n        this.apiService.post(\"TiepNhanBenhNhan/GetDiaChiBHYT\", model).subscribe(resultData => {\n            //console.log(\"DiaChiBHYT = \", resultData);\n            if (!coDiaChi) {\n                this.tiepNhanBenhNhan.TinhThanhId = null;\n                this.tiepNhanBenhNhan.QuanHuyenId = null;\n                this.tiepNhanBenhNhan.PhuongXaId = null;\n                this.tiepNhanBenhNhan.DiaChi = null;\n            }\n            var self = this;\n            setTimeout(function () {\n                if (!coDiaChi) {\n                    self.tiepNhanBenhNhan.TinhThanhId = resultData.TinhThanhId;\n                    self.tiepNhanBenhNhan.QuanHuyenId = resultData.QuanHuyenId;\n                    self.tiepNhanBenhNhan.PhuongXaId = resultData.PhuongXaId;\n                    self.tiepNhanBenhNhan.DiaChi = soNha;\n                }\n                if (self.under6yearsold && !coDiaChiGiamHo) {\n                    self.cloneDiaChiNguoiGiamHo();\n                }\n            }, 600);\n            //this.comboboxPhuongXa;\n            // if(this.comboboxPhuongXa != null && this.comboboxPhuongXa != undefined){\n            //     this.comboboxPhuongXa.queryInfo.ParameterDependencies = \"{tinhThanh:\"+ resultData.QuanHuyenId +\"}\";\n            // }\n            // if(this.comboboxQuanHuyen != null && this.comboboxQuanHuyen != undefined){\n            //     this.comboboxQuanHuyen.queryInfo.ParameterDependencies = \"{quanHuyen:\"+ resultData.TinhThanhId +\"}\";\n            // }\n            // this.comboboxPhuongXa.getDataForLookup();\n            // this.comboboxQuanHuyen.getDataForLookup();\n        }, () => {\n            //return null;\n            //console.log(\"error\")\n        });\n    }\n    kiemTraDiaChiDaCo(laGiamHo = false) {\n        if (laGiamHo) {\n            return this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId || this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId || this.tiepNhanBenhNhan.NguoiLienHePhuongXaId || this.tiepNhanBenhNhan.NguoiLienHeDiaChi;\n        }\n        else {\n            return this.tiepNhanBenhNhan.TinhThanhId || this.tiepNhanBenhNhan.QuanHuyenId || this.tiepNhanBenhNhan.PhuongXaId || this.tiepNhanBenhNhan.DiaChi;\n        }\n    }\n    setValueBHYT(model) {\n        //console.log(\"setValueBHYT = \", model, this.isSetValue);\n        if (model != null && model.maSoBHXH == null && this.isSetValue == false && model != undefined || this.isActivePopup == true)\n            return;\n        this.isSetValue = true;\n        let STT = 1;\n        this.lichSuKCB = new Array();\n        if (model.dsLichSuKCB2018 != null && model.dsLichSuKCB2018 != undefined) {\n            model.dsLichSuKCB2018.forEach(element => {\n                let childModel = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"GridLichSuKCB\"]();\n                childModel.STT = STT;\n                childModel.MaTheBHYT = model.maThe;\n                childModel.HoVaTen = model.hoTen;\n                childModel.NgayVaoVien = element.ngayVaoDisplay;\n                childModel.NgayRaVien = element.ngayRaDisplay;\n                childModel.CoSoKCB = element.coSoKCB;\n                childModel.MaCoSoKCB = element.maCSKCB;\n                childModel.KetQuaDieuTri = element.kqDieuTriDisplay;\n                childModel.KetQuaDieuTriNumber = +element.kqDieuTri;\n                childModel.LyDoVaoVien = element.lyDoVVDisplay;\n                childModel.LyDoVaoVienNumber = +element.lyDoVV;\n                childModel.TinhTrangRaVien = element.tinhTrangDisplay;\n                childModel.TinhTrangRaVienNumber = +element.tinhTrang;\n                childModel.NgayVaoDateTime = element.ngayVaoDateTime;\n                childModel.NgayRaDateTime = element.ngayRaDateTime;\n                this.lichSuKCB.push(childModel);\n                STT = STT + 1;\n            });\n            this.tiepNhanBenhNhan.GridLichSuKCB = this.lichSuKCB;\n        }\n        //\n        let STT2 = 1;\n        this.lichSuKiemTraTheBHYTGrid = new Array();\n        if (model.dsLichSuKT2018 != null && model.dsLichSuKT2018 != undefined) {\n            model.dsLichSuKT2018.forEach(element => {\n                let childModel = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"GridLichSuKiemTraTheBHYT\"]();\n                childModel.STT = STT2;\n                childModel.UserKiemTra = element.userKT;\n                childModel.ThoiGianKiemTra = element.thoiGianKTDisplay;\n                childModel.thoiGianKTDateTime = element.thoiGianKTDateTime;\n                childModel.TenCSKCB = element.tenCSKCB;\n                childModel.MaCSKCB = element.maCSKCB;\n                childModel.NoiDungThongBao = element.thongBao;\n                this.lichSuKiemTraTheBHYTGrid.push(childModel);\n                STT2 = STT2 + 1;\n            });\n            this.tiepNhanBenhNhan.GridLichSuKiemTraTheBHYT = this.lichSuKiemTraTheBHYTGrid;\n        }\n        //console.log(\"setValueBHYT = \", model)\n        this.tiepNhanBenhNhan.BHYTMaSoThe = model.maThe;\n        //set muc do huong quyen loi bao hiem\n        let maTheArray = model.maThe.split(\"\");\n        if (maTheArray[2] == '1') {\n            this.soPhanTramHuongBHYT = 100;\n        }\n        else if (maTheArray[2] == '2') {\n            this.soPhanTramHuongBHYT = 100;\n        }\n        else if (maTheArray[2] == '3') {\n            this.soPhanTramHuongBHYT = 95;\n        }\n        else if (maTheArray[2] == '4') {\n            this.soPhanTramHuongBHYT = 80;\n        }\n        else {\n            this.soPhanTramHuongBHYT = 100;\n        }\n        this.tiepNhanBenhNhan.BHYTMucHuong = this.soPhanTramHuongBHYT;\n        this.themChiDinhDichVuModel.BHYTMucHuong = this.soPhanTramHuongBHYT;\n        this.themChiDinhGoiModel.BHYTMucHuong = this.soPhanTramHuongBHYT;\n        //\n        this.tiepNhanBenhNhan.HoTen = model.hoTen;\n        if (model.ngaySinh.indexOf(\"/\") == -1) {\n            this.tiepNhanBenhNhan.NamSinh = +model.ngaySinh;\n        }\n        else {\n            var dateParts = model.ngaySinh.split(\"/\");\n            if (dateParts.length == 3) {\n                this.tiepNhanBenhNhan.NgayThangNamSinh = new Date(+dateParts[2], +dateParts[1] - 1, +dateParts[0]);\n                this.tiepNhanBenhNhan.NamSinh = this.tiepNhanBenhNhan.NgayThangNamSinh.getFullYear();\n                this.tiepNhanBenhNhan.NgayThangNamSinhDisplay = model.ngaySinh;\n            }\n        }\n        this.tiepNhanBenhNhan.GioiTinh = model.gioiTinh == 'Nam' ? src_app_shared_enum_common_type_enums__WEBPACK_IMPORTED_MODULE_4__[\"GioiTinh\"].Nam : src_app_shared_enum_common_type_enums__WEBPACK_IMPORTED_MODULE_4__[\"GioiTinh\"].Nu;\n        this.tiepNhanBenhNhan.GioiTinhDisplay = model.gioiTinh;\n        //this.tiepNhanBenhNhan.NoiDangKyBHYT = this.getBenhVienByMa(model.maDKBD);\n        this.apiService.post(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + model.maDKBD).subscribe(resultData => {\n            this.tiepNhanBenhNhan.NoiDangKyBHYT = resultData;\n        }, () => {\n            //return null;\n            //console.log(\"error\")\n        });\n        // this.apiService.post<any>(\"TiepNhanBenhNhan/GetThongTinTaiKhoanBenhNhan?maSoBHYT=\" + model.maThe).subscribe(\n        //     resultData => {\n        //         this.thongTinTaiKhoanBenhNhan = resultData;\n        //     },\n        //     () => {\n        //         //return null;\n        //         //console.log(\"error\")\n        //     });\n        this.checkTNBNToDay(model.maThe);\n        this.apiService.post(\"TiepNhanBenhNhan/GetThongTinBenhNhan?maSoBHYT=\" + model.maThe + \"&benhNhanId=\" + this.benhNhanId).subscribe(resultData => {\n            if (resultData != null) {\n                //this.tiepNhanBenhNhan.DiaChi = resultData.DiaChi; //BVHD-3768\n                this.tiepNhanBenhNhan.SoDienThoai = resultData.SoDienThoai;\n                this.tiepNhanBenhNhan.SoChungMinhThu = resultData.SoChungMinhThu;\n                this.tiepNhanBenhNhan.Email = resultData.Email;\n                this.tiepNhanBenhNhan.NgheNghiepId = resultData.NgheNghiepId;\n                this.tiepNhanBenhNhan.SoDienThoai = resultData.SoDienThoai;\n                this.tiepNhanBenhNhan.GioiTinh = resultData.GioiTinh;\n                this.tiepNhanBenhNhan.NoiLamViec = resultData.NoiLamViec;\n                this.tiepNhanBenhNhan.QuocTichId = resultData.QuocTichId;\n            }\n        }, () => {\n            //return null;\n            //console.log(\"error\")\n        });\n        this.apiService.post(\"TiepNhanBenhNhan/GetIdBenhNhan?maSoBHYT=\" + model.maThe + \"&benhNhanId=\" + this.benhNhanId).subscribe(resultData => {\n            if (resultData) {\n                this.benhNhanId = resultData;\n                this.getDanhSachGoiBenhNhan(this.benhNhanId);\n            }\n        }, () => {\n            //return null;\n            //console.log(\"error\")\n        });\n        this.tiepNhanBenhNhan.BHYTDiaChi = model.diaChi;\n        this.setDiaChiBHYTForModel(model.diaChi);\n        //popup\n        this.tiepNhanBenhNhan.MaDKBD = model.maDKBD;\n        this.tiepNhanBenhNhan.BHYTMaDKBD = model.maDKBD;\n        this.tiepNhanBenhNhan.NgayCoHieuLucDisplay = model.gtTheTu;\n        var dateParts2 = model.gtTheTu.split(\"/\");\n        this.tiepNhanBenhNhan.BHYTNgayHieuLuc = new Date(+dateParts2[2], +dateParts2[1] - 1, +dateParts2[0]);\n        if (model.gtTheDen != undefined && model.gtTheDen != null) {\n            this.tiepNhanBenhNhan.NgayHetHieuLucDisplay = model.gtTheDen;\n            var dateParts3 = model.gtTheDen.split(\"/\");\n            this.tiepNhanBenhNhan.BHYTNgayHetHan = new Date(+dateParts3[2], +dateParts3[1] - 1, +dateParts3[0]);\n        }\n        this.tiepNhanBenhNhan.NgayDu5NamDisplay = model.ngayDu5Nam;\n        this.tiepNhanBenhNhan.DiaChiDisplay = model.diaChi;\n        this.tiepNhanBenhNhan.cqBHXH = model.cqBHXH;\n        this.tiepNhanBenhNhan.BHYTCoQuanBHXH = model.cqBHXH;\n        if (model.ngayDu5Nam != null && model.ngayDu5Nam != undefined && model.ngayDu5Nam != \"\") {\n            var dateParts4 = model.ngayDu5Nam.split(\"/\");\n            this.tiepNhanBenhNhan.BHYTNgayDu5Nam = new Date(+dateParts4[2], +dateParts4[1] - 1, +dateParts4[0]);\n        }\n        //\n        this.apiService.post(\"TiepNhanBenhNhan/IsDungTuyen?maBenhVien=\" + model.maDKBD).subscribe(resultData => {\n            //console.log(\"IsDungTuyen\",resultData)\n            if (resultData == true) {\n                this.isDungTuyenDisplay = \"Đúng tuyến\";\n                this.isDungTuyen = true;\n                this.tiepNhanBenhNhan.LyDoVaoVien = 1;\n            }\n            else {\n                this.isDungTuyenDisplay = \"Đúng tuyến\";\n                this.isDungTuyen = true;\n                this.tiepNhanBenhNhan.LyDoVaoVien = 1;\n            }\n            this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n        }, () => {\n            //console.log(\"error\")\n        });\n        //\n        //test\n        //model.isConnectSuccessfully = false;\n        //\n        if (model.isConnectSuccessfully == false) {\n            //console.log(\"model.isConnectSuccessfully\");\n            this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n            this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].KhongXacDinh;\n            let dialogRef = this.dialog.open(_tiep_nhan_benh_nhan_popup_khong_kiem_tra_duoc_tiep_nhan_benh_nhan_popup_khong_kiem_tra_duoc_component__WEBPACK_IMPORTED_MODULE_29__[\"TiepNhanBenhNhanPopupKhongKiemTraDuocComponent\"], {\n                disableClose: true,\n                width: '700px',\n                height: '300px',\n                data: this.tiepNhanBenhNhan,\n            });\n            dialogRef.afterClosed().subscribe(result => {\n                //console.log(\"TiepNhanBenhNhanPopupKhongKiemTraDuocComponent = \",result);\n                if (result == true) {\n                    this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                    this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].KhongXacDinh;\n                    this.tiepNhanBenhNhan.CoBHYT = true;\n                    this.tiepNhanBenhNhan.TuNhap = true;\n                }\n                else if (result == false) {\n                    this.tiepNhanBenhNhan.CoBHYT = false;\n                    this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].KhongXacDinh;\n                    this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                }\n                else if (result != undefined) {\n                    //console.log(\"------- \", result);\n                    this.setValueBHYT(result);\n                }\n            });\n        }\n        else {\n            this.tiepNhanBenhNhan.IsCheckedBHYT = true;\n            this.checkOutOfDateBHYT(this.tiepNhanBenhNhan.BHYTNgayHetHan);\n        }\n        //Get tuoi\n        this.getAge(this.tiepNhanBenhNhan.NgayThangNamSinh, new Date);\n        //disable search qr code\n        this.isSearchQRCodeEnable = false;\n        //set value da tim kiem\n        this.hoTenDaTimKiem = model.hoTen;\n        this.maSoTheDaTimKiem = model.maThe;\n        this.ngaySinhDaTimKiem = this.tiepNhanBenhNhan.NgayThangNamSinh;\n        //\n        //console.log(\"setValueBHYT = \", this.tiepNhanBenhNhan)\n        this.isSetValue = false;\n    }\n    uploadFileDone(tapTin) {\n        //console.log(tapTin);\n        this.tiepNhanBenhNhan.GiayChuyenVien = tapTin;\n        if (!this.cdRef.destroyed) {\n            this.cdRef.detectChanges();\n        }\n        //console.log(\"aaaaa= \", this.tiepNhanBenhNhan)\n    }\n    uploadFileMienCungChiTraDone(tapTin) {\n        //console.log(tapTin);\n        this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra = tapTin;\n        this.cdRef.detectChanges();\n        //console.log(\"aaaaa= \", this.tiepNhanBenhNhan)\n    }\n    luuVaInPhieu() {\n        var self = this;\n        self.validationErrors = null;\n        let comfrim = \"lưu và in phiếu khám bệnh cho người bệnh\";\n        this.tiepNhanBenhNhan.NoiGioiThieu = null;\n        if (this.authService.hasPermission(this.documentType, src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_11__[\"SecurityOperation\"].Add)) {\n            if (this.isActiveAction != null) {\n                this.dialog.closeAll();\n                this.isActiveAction = null;\n            }\n            this.isActiveAction = this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_10__[\"ConfirmComponent\"], {\n                disableClose: false,\n                width: '400px',\n                data: { Title: \"Xác nhận\", Message: src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].format(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"SystemMessage\"].MessLockTemplate, [comfrim, \"\"]) }\n            }).afterClosed().subscribe(result => {\n                if (result == \"Yes\") {\n                    this.tiepNhanBenhNhan.ThoiGianTiepNhan = new Date();\n                    self.apiService.post(\"TiepNhanBenhNhan/LuuPhieuKham\", this.tiepNhanBenhNhan).subscribe(resultData => {\n                        self.loading = false;\n                        //console.log(\"result\", resultData)\n                        //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                        //this.getSharedPrintForm(resultData);\n                        let loaiDichVuKyThuat = 4;\n                        let loaiDichVuKhamBenh = 3;\n                        let kiemtraLoaiDichVuKhamBenh = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(x => x.LoaiDichVuKhac == loaiDichVuKhamBenh).length;\n                        let kiemtraLoaiDichVuKyThuat = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(x => x.LoaiDichVuKhac == loaiDichVuKyThuat).length;\n                        if (kiemtraLoaiDichVuKhamBenh > 0 && kiemtraLoaiDichVuKyThuat > 0) {\n                            this.getSharePrintPopup(resultData);\n                        }\n                        else {\n                            this.getSharedPrintForm(resultData);\n                        }\n                        this.idYeuCauTiepNhan = resultData;\n                        //confirm\n                        this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_10__[\"ConfirmComponent\"], {\n                            disableClose: false,\n                            width: '400px',\n                            data: { Title: \"Xác nhận\", Message: src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"TiepNhanBenhNhanMessage\"].MessageDangKyTiepTheo }\n                        }).afterClosed().subscribe(result => {\n                            if (result == \"Yes\") {\n                                //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                                //kiểm tra dịch vu trong yêu cầu tiếp nhận đó sài gói marketing trong gói\n                                this.kiemTraDichVuTrongGoi();\n                            }\n                            else {\n                                this.router.navigateByUrl('/', { skipLocationChange: true }).then(() => this.router.navigate(['them-yeu-cau-tiep-nhan']));\n                                self.ngOnInit();\n                            }\n                        });\n                    }, (err) => {\n                        //console.log(\"err\", err)\n                        // trường hợp bhyt chưa đóng là không cho tạo mới \n                        self.loading = false;\n                        if (err != undefined && err.Status == 503) {\n                            this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_10__[\"ConfirmComponent\"], {\n                                disableClose: false,\n                                width: '400px',\n                                data: { Title: \"Xác nhận\", Message: src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"TiepNhanBenhNhanMessage\"].MessageDaTaoYCTN }\n                            }).afterClosed().subscribe(result => {\n                                if (result == \"Yes\") {\n                                    //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                                    //self.router.navigateByUrl('tiep-nhan-trong-ngay/chinh-sua/' + );\n                                    this.checkTNBNToDay(this.tiepNhanBenhNhan.BHYTMaSoThe, this.tiepNhanBenhNhan.BenhNhanId);\n                                    this.getDanhSachGoiBenhNhan(this.tiepNhanBenhNhan.BenhNhanId);\n                                }\n                                else {\n                                }\n                            });\n                        }\n                        else {\n                            if (err != undefined && err.ValidationErrors != null) {\n                                let itemGiamHoValidate = err.ValidationErrors.find(p => p.Field == \"NguoiLienHeHoTen\"\n                                    || p.Field == \"NguoiLienHeQuanHeNhanThanId\" || p.Field == \"NguoiLienHeSoDienThoai\");\n                                if (itemGiamHoValidate != null && itemGiamHoValidate != undefined) {\n                                    self.tabStrip.selectTab(2);\n                                    ;\n                                }\n                                self.validationErrors = err.ValidationErrors;\n                            }\n                            else if (err != undefined && err.Errors == null) {\n                                //self.validationErrors.push({ \"Message\": err.Message });\n                                self.notificationService.showError(err.Message);\n                            }\n                        }\n                    });\n                    //\n                }\n                else {\n                    self.loading = false;\n                }\n            });\n        }\n        else {\n            self.loading = false;\n            self.notificationService.showError(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"SystemMessage\"].UnAuthorizedMessage);\n        }\n    }\n    kiemTraDichVuTrongGoi() {\n        this.apiService.get(\"TiepNhanBenhNhan/KiemTraTatCaDichVuTrongGoi/\" + this.idYeuCauTiepNhan).subscribe(resultData => {\n            if (resultData.Item1) {\n                this.router.navigateByUrl('/danh-sach-thu-goi-marketing/chi-tiet-cho-quyet-toan-marketing/' + resultData.Item2);\n            }\n            else {\n                this.router.navigateByUrl('danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/' + this.idYeuCauTiepNhan + \"?loaiThanhToan=\" + 1 + \"&yctn=true\");\n            }\n        });\n    }\n    // testin(){\n    //   console.log(\"testin\");\n    //   this.onPrintPDF(60);\n    // }\n    // getSharedPrintForm(id: any) {\n    //   return new Promise(resolve => {\n    //     this.apiService.get<any>(\"TiepNhanBenhNhan/InPhieuKhamBenh?id=\" + id + \"&hostingName=\" + this.hostingName).subscribe(resultData => {\n    //       resolve(resultData);\n    //     });\n    //   });\n    // }\n    getSharePrintPopup(id) {\n        this.apiService.get(\"TiepNhanBenhNhan/InPhieuKhamBenh?id=\" + id + \"&hostingName=\" + this.hostingName).subscribe(resultData => {\n            let dialogRef = this.dialog.open(_in_phieu_dang_ky_kham_tiep_nhan_benh_nhan_popup_in_phieu_dang_ky_kham_tiep_nhan_benh_nhan_popup_component__WEBPACK_IMPORTED_MODULE_35__[\"InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent\"], {\n                width: '1000px',\n                height: 'auto',\n                data: { Model: resultData }\n            }).afterClosed().subscribe(result => {\n            });\n        });\n    }\n    getSharedPrintForm(id) {\n        this.apiService.get(\"TiepNhanBenhNhan/InPhieuKhamBenh?id=\" + id + \"&hostingName=\" + this.hostingName).subscribe(resultData => {\n            //var self = this;\n            //console.log(\"onPrintPDF = \", resultData);\n            const tmpPhieuKham = '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU ĐĂNG KÝ KHÁM</th></tr></table>';\n            const tmpPhieuCLS = '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH CẬN LÂM SÀNG</th></tr></table>';\n            const tmpPhieuXNCoVId = '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH XÉT NGHIỆM TEST NHANH KHÁNG NGUYÊN SARS-CoV-2 </th></tr></table>';\n            resultData = resultData.replaceAll(tmpPhieuKham, '').replaceAll(tmpPhieuCLS, '').replaceAll(tmpPhieuXNCoVId, '');\n            const WindowPrt = window.open('', '', 'toolbar=0,scrollbars=0,status=0');\n            if (WindowPrt != null && WindowPrt != undefined) {\n                WindowPrt.focus();\n                WindowPrt.close();\n                WindowPrt.document.write(resultData);\n                WindowPrt.document.close();\n                var typeSize = \"A5\";\n                var typeLayout = \"landscape\";\n                var contents = WindowPrt.document.documentElement.innerHTML;\n                var frame1 = this.renderer.createElement('iframe');\n                frame1.name = \"frame1\";\n                frame1.style.position = \"absolute\";\n                frame1.style.top = \"-1000000px\";\n                document.body.appendChild(frame1);\n                var frameDoc = frame1.contentWindow ? frame1.contentWindow : frame1.contentDocument.document ? frame1.contentDocument.document : frame1.contentDocument;\n                frameDoc.document.open();\n                frameDoc.document.write('<html><head><title>DIV Contents</title><style>*{ box-sizing: border-box;} @media print {@page{size:' + typeSize + ' ' + typeLayout + ' ;} .pagebreak {clear: both;page-break-after: always;}}</style><link href=\"https://fonts.googleapis.com/css?family=Libre Barcode 39\" rel=\"stylesheet\">');\n                frameDoc.document.write('</head><body>');\n                frameDoc.document.write(contents);\n                frameDoc.document.write('</body></html>');\n                frameDoc.document.close();\n                setTimeout(function () {\n                    window.frames[\"frame1\"].focus();\n                    window.frames[\"frame1\"].print();\n                    document.body.removeChild(frame1);\n                }, 500);\n            }\n        });\n    }\n    luuPhieu() {\n        var self = this;\n        self.validationErrors = null;\n        let comfrim = \"lưu phiếu khám bệnh cho người bệnh\";\n        if (self.tiepNhanBenhNhan.YeuCauKhacGrid == undefined || self.tiepNhanBenhNhan.YeuCauKhacGrid.length == 0) {\n            comfrim = \"lưu thông tin cho người bệnh\";\n        }\n        self.tiepNhanBenhNhan.NoiGioiThieu = null;\n        if (this.authService.hasPermission(this.documentType, src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_11__[\"SecurityOperation\"].Update)) {\n            if (this.isActiveAction != null) {\n                this.dialog.closeAll();\n                this.isActiveAction = null;\n            }\n            this.isActiveAction = this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_10__[\"ConfirmComponent\"], {\n                disableClose: false,\n                width: '400px',\n                data: { Title: \"Xác nhận\", Message: src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].format(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"SystemMessage\"].MessLockTemplate, [comfrim, \"\"]) }\n            }).afterClosed().subscribe(result => {\n                if (result == \"Yes\") {\n                    self.tiepNhanBenhNhan.ThoiGianTiepNhan = new Date();\n                    self.apiService.post(\"TiepNhanBenhNhan/LuuPhieuKham\", this.tiepNhanBenhNhan).subscribe(resultData => {\n                        self.loading = false;\n                        //console.log(\"result\", resultData)\n                        //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                        // if(){\n                        // }\n                        this.idYeuCauTiepNhan = resultData;\n                        //confirm\n                        this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_10__[\"ConfirmComponent\"], {\n                            disableClose: false,\n                            width: '400px',\n                            data: { Title: \"Xác nhận\", Message: src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"TiepNhanBenhNhanMessage\"].MessageDangKyTiepTheo }\n                        }).afterClosed().subscribe(result => {\n                            if (result == \"Yes\") {\n                                //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                                // self.router.navigateByUrl('danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/' + this.idYeuCauTiepNhan + \"?loaiThanhToan=\" + 1 + \"&yctn=true\");\n                                this.kiemTraDichVuTrongGoi();\n                            }\n                            else {\n                                this.router.navigateByUrl('/', { skipLocationChange: true }).then(() => this.router.navigate(['them-yeu-cau-tiep-nhan']));\n                                self.ngOnInit();\n                            }\n                        });\n                    }, (err) => {\n                        self.loading = false;\n                        //console.log(\"err\", err)\n                        // self.validationErrors = err.ValidationErrors;\n                        if (err != undefined && err.Status == 503) {\n                            this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_10__[\"ConfirmComponent\"], {\n                                disableClose: false,\n                                width: '400px',\n                                data: { Title: \"Xác nhận\", Message: src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"TiepNhanBenhNhanMessage\"].MessageDaTaoYCTN }\n                            }).afterClosed().subscribe(result => {\n                                if (result == \"Yes\") {\n                                    //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                                    //self.router.navigateByUrl('tiep-nhan-trong-ngay/chinh-sua/' + );\n                                    this.checkTNBNToDay(this.tiepNhanBenhNhan.BHYTMaSoThe, this.tiepNhanBenhNhan.BenhNhanId);\n                                    this.getDanhSachGoiBenhNhan(this.tiepNhanBenhNhan.BenhNhanId);\n                                }\n                                else {\n                                }\n                            });\n                        }\n                        else {\n                            if (err != undefined && err.ValidationErrors != null) {\n                                let itemGiamHoValidate = err.ValidationErrors.find(p => p.Field == \"NguoiLienHeHoTen\"\n                                    || p.Field == \"NguoiLienHeQuanHeNhanThanId\" || p.Field == \"NguoiLienHeSoDienThoai\");\n                                if (itemGiamHoValidate != null && itemGiamHoValidate != undefined) {\n                                    self.tabStrip.selectTab(2);\n                                    ;\n                                }\n                                self.validationErrors = err.ValidationErrors;\n                            }\n                            else if (err != undefined && err.Errors == null) {\n                                //self.validationErrors.push({ \"Message\": err.Message });\n                                self.notificationService.showError(err.Message);\n                            }\n                        }\n                    });\n                    //\n                }\n                else {\n                    self.loading = false;\n                }\n            });\n        }\n        else {\n            self.loading = false;\n            self.notificationService.showError(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"SystemMessage\"].UnAuthorizedMessage);\n        }\n    }\n    xemThemThongTinBHYT() {\n        //console.log(\"xemThemThongTinBHYT\")\n        let dialogRef = this.dialog.open(_tiep_nhan_benh_nhan_popup_tiep_nhan_benh_nhan_popup_component__WEBPACK_IMPORTED_MODULE_7__[\"TiepNhanBenhNhanPopupComponent\"], {\n            disableClose: false,\n            width: '800px',\n            height: '500px',\n            data: this.tiepNhanBenhNhan,\n        });\n        dialogRef.afterClosed().subscribe(result => {\n        });\n    }\n    huy() {\n        //this.router.navigate(['tiep-nhan-trong-ngay/']);\n        this.ngOnInit();\n    }\n    getBenhVienByMa(ma) {\n        ;\n        this.apiService.post(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + ma).subscribe(resultData => {\n            return resultData;\n        }, () => {\n            //return null;\n            //console.log(\"error\")\n        });\n        return null;\n    }\n    inputQrCode(qrCode) {\n        this.apiService.post(\"BHYT/GetInfoFromURL/?model=\" + qrCode).subscribe(resultData => {\n            if (resultData != undefined) {\n                this.modelQRCode = resultData;\n                this.setValueBHYT(this.modelQRCode);\n            }\n        }, (err) => {\n            //\n            let dialogRef = this.dialog.open(_tiep_nhan_benh_nhan_error_tiep_nhan_benh_nhan_error_component__WEBPACK_IMPORTED_MODULE_22__[\"TiepNhanBenhNhanErrorComponent\"], {\n                disableClose: false,\n                width: '700px',\n                height: '300px',\n                data: this.tiepNhanBenhNhan,\n            });\n            dialogRef.afterClosed().subscribe(result => {\n                document.getElementById(\"SoTheBHYTisAutoFocus\").focus();\n                if (result == 2) {\n                    this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                    this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].KhongXacDinh;\n                    this.tiepNhanBenhNhan.CoBHYT = true;\n                    this.tiepNhanBenhNhan.TuNhap = true;\n                }\n                else if (result == 1) {\n                    this.tiepNhanBenhNhan.CoBHYT = false;\n                    this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].KhongXacDinh;\n                    this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                }\n                else if (result != undefined) {\n                    //console.log(\"------- \", result);\n                    this.setValueBHYT(result);\n                }\n            });\n            //\n        });\n    }\n    timKiemBenhNhan(model) {\n        var self = this;\n        if (self.timeOutTimKiem != null) {\n            clearTimeout(self.timeOutTimKiem);\n            self.timeOutTimKiem = null;\n        }\n        self.timeOutTimKiem = setTimeout(function () {\n            self.setModelTimKiemBenhNhan();\n            self.lstBenhNhan = new Array();\n            self.totalBenhNhan = 0;\n            if (self.postTimKiem != null) {\n                self.postTimKiem.unsubscribe();\n                self.postTimKiem = null;\n            }\n            self.postTimKiem = self.apiService.post(\"TiepNhanBenhNhan/GetBenhNhanTimKiem\", model).subscribe(resultData => {\n                //console.log(\"timKiemBenhNhan = \", resultData);\n                self.lstBenhNhan = resultData;\n                if (resultData != undefined && resultData != null) {\n                    self.totalBenhNhan = resultData.length;\n                    let index = 1;\n                    self.lstBenhNhan.forEach(obj => {\n                        obj.STT = index;\n                        index = index + 1;\n                    });\n                }\n                //console.log(\"timKiemBenhNhan = \", this.lstBenhNhan);\n            }, (err) => {\n            });\n        }, 500);\n    }\n    timKiemBenhNhanForEnter(model) {\n        var self = this;\n        if (self.timeOutTimKiemForEnter != null) {\n            clearTimeout(self.timeOutTimKiemForEnter);\n            self.timeOutTimKiemForEnter = null;\n        }\n        self.timeOutTimKiemForEnter = setTimeout(function () {\n            self.setModelTimKiemBenhNhan();\n            self.lstBenhNhan = new Array();\n            self.totalBenhNhan = 0;\n            if (self.postTimKiemForEnter != null) {\n                self.postTimKiemForEnter.unsubscribe();\n                self.postTimKiemForEnter = null;\n            }\n            self.postTimKiemForEnter = self.apiService.post(\"TiepNhanBenhNhan/GetBenhNhanTimKiem\", model).subscribe(resultData => {\n                self.lstBenhNhan = resultData;\n                if (resultData != undefined && resultData != null) {\n                    self.totalBenhNhan = resultData.length;\n                    let index = 1;\n                    self.lstBenhNhan.forEach(obj => {\n                        obj.STT = index;\n                        index = index + 1;\n                    });\n                    //\n                    if (resultData.length == 1) {\n                        // self.router.navigate(['tiep-nhan-trong-ngay/chinh-sua/' + resultData[0].Id]);\n                        self.checkTNBNToDay(resultData[0].MaBHYT, resultData[0].Id);\n                    }\n                    else if (resultData.length > 1) {\n                        self.timKiemBenhNhanPopup();\n                    }\n                }\n                //console.log(\"timKiemBenhNhan = \", this.lstBenhNhan);\n            }, (err) => {\n            });\n        }, 500);\n    }\n    setModelTimKiemBenhNhan() {\n        this.modelTimKiemBenhNhan.MaBHYT = this.tiepNhanBenhNhan.BHYTMaSoThe;\n        this.modelTimKiemBenhNhan.HoTen = this.tiepNhanBenhNhan.HoTen;\n        this.modelTimKiemBenhNhan.NgaySinhDisplay = this.tiepNhanBenhNhan.NgayThangNamSinhDisplay;\n        this.modelTimKiemBenhNhan.NamSinh = this.tiepNhanBenhNhan.NamSinh;\n        //this.modelTimKiemBenhNhan.GioiTinh = this.tiepNhanBenhNhan.GioiTinh;\n        this.modelTimKiemBenhNhan.SoChungMinhThu = this.tiepNhanBenhNhan.SoChungMinhThu;\n        this.modelTimKiemBenhNhan.SoDienThoai = this.tiepNhanBenhNhan.SoDienThoai;\n        this.modelTimKiemBenhNhan.DiaChi = this.tiepNhanBenhNhan.DiaChi;\n    }\n    onKeyTimKiemBenhNhan($event) {\n        if ($event.keyCode === 13) {\n            if (this.totalBenhNhan <= 0) {\n                return;\n            }\n            else {\n                this.timKiemBenhNhanPopup();\n            }\n        }\n        else {\n            this.timKiemBenhNhan(this.modelTimKiemBenhNhan);\n        }\n    }\n    onKeyTimKiemBenhNhanForLogicNewCMNDVaSdt($event) {\n        //console.log(\"onKeyTimKiemBenhNhanForLogicNewCMNDVaSdt = \", $event.keyCode);\n        if ($event.keyCode === 13) {\n            this.timKiemBenhNhanForEnter(this.modelTimKiemBenhNhan);\n        }\n        else {\n            this.timKiemBenhNhan(this.modelTimKiemBenhNhan);\n        }\n    }\n    onKeySdt($event) {\n        this.timKiemBenhNhan(this.modelTimKiemBenhNhan);\n    }\n    //cheat for tab on [BVHD-1506]\n    onKeyScanner(event) {\n        //console.log(\"onKeyScanner = \", event);\n        if (event.keyCode === 9) {\n            //console.log(this.HoVaTenTextbox);\n            this.HoVaTenTextbox.focus();\n        }\n    }\n    onKeyLookBN(event) {\n        if (event.keyCode === 9) {\n            if (this.tiepNhanBenhNhan.CoBHYT == true) {\n                //console.log(this.NgaySinhCoBHYT);\n                //this.NgaySinhCoBHYT.focusManual();\n            }\n            else {\n                //console.log(this.NgaySinhKhongCoBHYT);\n                //this.NgaySinhKhongCoBHYT.focusManual();\n            }\n        }\n    }\n    onKeyHinhThucDen(event) {\n        // if (event.keyCode === 9) {\n        //     this.tabStrip.selectTab(0);\n        //     let self = this;\n        //     setTimeout(function () {\n        //         //console.log(\"setTimeout = \", self.dichVuCombobox);\n        //         if (self.dichVuCombobox != undefined) {\n        //             self.dichVuCombobox.focusManual();\n        //         }\n        //     }, 100);\n        // }\n    }\n    onKey(event, isSoTheBHYT, loai = 1) {\n        if (isSoTheBHYT == true) {\n            this.bindMucHuongFromSoTheBHYT(this.tiepNhanBenhNhan.BHYTMaSoThe);\n        }\n        //console.log(\"onKey = \", event);\n        // if(loai == 1){\n        //     this.modelTimKiemBenhNhan.MaBHYT = this.tiepNhanBenhNhan.BHYTMaSoThe;\n        // }\n        // else if(loai == 2){\n        //     this.modelTimKiemBenhNhan.HoTen = this.tiepNhanBenhNhan.HoTen;\n        // }\n        // else if(loai == 3){\n        //     this.modelTimKiemBenhNhan.NgaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n        //     //console.log(\"-------------: \",this.tiepNhanBenhNhan.NgayThangNamSinh);\n        // }\n        if (event.keyCode === 13) {\n            if (loai == 3 && this.tiepNhanBenhNhan.NgayThangNamSinh != null && this.tiepNhanBenhNhan.NgayThangNamSinh != undefined) {\n                this.getAge(this.tiepNhanBenhNhan.NgayThangNamSinh, new Date);\n            }\n            this.checkTNBNToDay(this.tiepNhanBenhNhan.BHYTMaSoThe);\n        }\n        this.timKiemBenhNhan(this.modelTimKiemBenhNhan);\n        //console.log(\"onKey = \", this.isCheckedBHYT);\n        if (this.isCheckedBHYT == true || this.tiepNhanBenhNhan.CoBHYT != true)\n            return;\n        if (this.tiepNhanBenhNhan.TuNhap == true && this.isScanF1 == false && !(this.tiepNhanBenhNhan.BHYTMaSoThe != null && this.tiepNhanBenhNhan.BHYTMaSoThe.includes(\"$\")))\n            return;\n        this.isCheckedBHYT = true;\n        let isQrCodeScan = false;\n        if (isSoTheBHYT == true && this.tiepNhanBenhNhan.BHYTMaSoThe != null\n            && this.tiepNhanBenhNhan.BHYTMaSoThe != null && this.tiepNhanBenhNhan.BHYTMaSoThe.includes(\"$\")) {\n            //console.log(\"successfully\");\n            this.inputQrCode(this.tiepNhanBenhNhan.BHYTMaSoThe);\n            isQrCodeScan = true;\n        }\n        if (this.isSearchQRCodeEnable == true && isQrCodeScan == false) {\n            //console.log(\"enter submit\");\n            if (event.keyCode === 13) {\n                this.thongTinBenhNhan.MaThe = this.tiepNhanBenhNhan.BHYTMaSoThe;\n                this.thongTinBenhNhan.TenBenhNhan = this.tiepNhanBenhNhan.HoTen;\n                this.thongTinBenhNhan.NgaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n                this.thongTinBenhNhan.NamSinh = this.tiepNhanBenhNhan.NamSinh;\n                var datePipe = new _angular_common__WEBPACK_IMPORTED_MODULE_18__[\"DatePipe\"](\"en-US\");\n                this.thongTinBenhNhan.NgaySinhDisplay = datePipe.transform(this.tiepNhanBenhNhan.NgayThangNamSinh, 'dd/MM/yyyy');\n                //console.log(\"---------: \", this.thongTinBenhNhan.MaThe == null, this.thongTinBenhNhan.MaThe == \"\" );\n                if (this.thongTinBenhNhan.MaThe != null && this.thongTinBenhNhan.MaThe != \"\"\n                    && this.thongTinBenhNhan.TenBenhNhan != null && this.thongTinBenhNhan.TenBenhNhan != \"\"\n                    && (this.thongTinBenhNhan.NgaySinh != null || this.thongTinBenhNhan.NamSinh != null)) {\n                    let dialogRef = this.dialog.open(_tiep_nhan_benh_nhan_cho_quet_tiep_nhan_benh_nhan_cho_quet_component__WEBPACK_IMPORTED_MODULE_17__[\"TiepNhanBenhNhanChoQuetComponent\"], {\n                        disableClose: true,\n                        width: '500px',\n                        height: '250px',\n                        data: this.thongTinBenhNhan,\n                    });\n                    dialogRef.afterClosed().subscribe(result => {\n                        //console.log(\"close = \", result);\n                        //console.log(\"close = \", this.tiepNhanBenhNhan);\n                        if (result === undefined) {\n                            //cheat vi khong hieu sao ra duoc\n                        }\n                        // else if (result == null || (result != null && result.maKetQua == \"050\")) {\n                        else if (result == null || (result != null && result.maKetQua !== \"000\" && result.maKetQua !== \"004\")) {\n                            //this.clearData();\n                            //this.notificationService.showError(TiepNhanBenhNhanMessage.MessageSaiThongTinBenhNhan);\n                            //\n                            //console.log(\"TiepNhanBenhNhanErrorComponent = \", this.tiepNhanBenhNhan);\n                            this.tiepNhanBenhNhan.MessageErrFromBHYT = result != null ? result.ghiChu : null;\n                            let dialogRef = this.dialog.open(_tiep_nhan_benh_nhan_error_tiep_nhan_benh_nhan_error_component__WEBPACK_IMPORTED_MODULE_22__[\"TiepNhanBenhNhanErrorComponent\"], {\n                                disableClose: false,\n                                width: '700px',\n                                height: '300px',\n                                data: this.tiepNhanBenhNhan,\n                            });\n                            dialogRef.afterClosed().subscribe(result => {\n                                //document.getElementById(\"SoTheBHYTisAutoFocus\").focus();\n                                this.isCheckedBHYT = false;\n                                if (result == 2) {\n                                    this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                                    this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].KhongXacDinh;\n                                    this.tiepNhanBenhNhan.CoBHYT = true;\n                                    this.tiepNhanBenhNhan.TuNhap = true;\n                                }\n                                else if (result == 1) {\n                                    this.tiepNhanBenhNhan.CoBHYT = false;\n                                    this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].KhongXacDinh;\n                                    this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                                }\n                                else if (result != undefined) {\n                                    //console.log(\"------- \", result);\n                                    this.setValueBHYT(result);\n                                }\n                            });\n                            //\n                        }\n                        else {\n                            //console.log(\"onkey = \",event, this.tiepNhanBenhNhan.BHYTMaSoThe)\n                            this.isCheckedBHYT = false;\n                            this.setValueBHYT(result);\n                        }\n                    });\n                }\n                else {\n                    this.isCheckedBHYT = false;\n                }\n                //console.log(this.tiepNhanBenhNhan.BHYTMaSoThe);\n            }\n            else {\n                this.isCheckedBHYT = false;\n            }\n        }\n        else {\n            this.isCheckedBHYT = false;\n        }\n    }\n    bindMucHuongFromSoTheBHYT(soTheBHYT) {\n        if (soTheBHYT != undefined && soTheBHYT != null && soTheBHYT.length >= 3) {\n            let maTheArray = soTheBHYT.split(\"\");\n            if (maTheArray[2] == '1') {\n                this.tiepNhanBenhNhan.BHYTMucHuong = 100;\n            }\n            else if (maTheArray[2] == '2') {\n                this.tiepNhanBenhNhan.BHYTMucHuong = 100;\n            }\n            else if (maTheArray[2] == '3') {\n                this.tiepNhanBenhNhan.BHYTMucHuong = 95;\n            }\n            else if (maTheArray[2] == '4') {\n                this.tiepNhanBenhNhan.BHYTMucHuong = 80;\n            }\n            else {\n                this.tiepNhanBenhNhan.BHYTMucHuong = 100;\n            }\n        }\n    }\n    blur($event, isSoTheBHYT, loai = 1) {\n        if (isSoTheBHYT == true && this.changeMaTheBHYT != true) {\n            return;\n        }\n        if (isSoTheBHYT == true) {\n            this.bindMucHuongFromSoTheBHYT(this.tiepNhanBenhNhan.BHYTMaSoThe);\n        }\n        this.checkTNBNToDay(this.tiepNhanBenhNhan.BHYTMaSoThe);\n        if (loai == 3 && this.tiepNhanBenhNhan.NgayThangNamSinh != null && this.tiepNhanBenhNhan.NgayThangNamSinh != undefined) {\n            this.getAge(this.tiepNhanBenhNhan.NgayThangNamSinh, new Date);\n        }\n        //console.log(\"blur = \", this.isCheckedBHYT);\n        if (this.isCheckedBHYT == true || this.tiepNhanBenhNhan.CoBHYT != true)\n            return;\n        if (this.tiepNhanBenhNhan.TuNhap == true && this.isScanF1 == false && !(this.tiepNhanBenhNhan.BHYTMaSoThe != null && this.tiepNhanBenhNhan.BHYTMaSoThe.includes(\"$\")))\n            return;\n        this.isCheckedBHYT = true;\n        if (this.isSearchQRCodeEnable == true && !(this.tiepNhanBenhNhan.BHYTMaSoThe != null && this.tiepNhanBenhNhan.BHYTMaSoThe.includes(\"$\"))) {\n            this.thongTinBenhNhan.MaThe = this.tiepNhanBenhNhan.BHYTMaSoThe;\n            this.thongTinBenhNhan.TenBenhNhan = this.tiepNhanBenhNhan.HoTen;\n            this.thongTinBenhNhan.NgaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n            this.thongTinBenhNhan.NamSinh = this.tiepNhanBenhNhan.NamSinh;\n            var datePipe = new _angular_common__WEBPACK_IMPORTED_MODULE_18__[\"DatePipe\"](\"en-US\");\n            this.thongTinBenhNhan.NgaySinhDisplay = datePipe.transform(this.tiepNhanBenhNhan.NgayThangNamSinh, 'dd/MM/yyyy');\n            if (this.thongTinBenhNhan.MaThe != null && this.thongTinBenhNhan.MaThe != \"\"\n                && this.thongTinBenhNhan.TenBenhNhan != null && this.thongTinBenhNhan.TenBenhNhan != \"\"\n                && (this.thongTinBenhNhan.NgaySinh != null || this.thongTinBenhNhan.NamSinh != null)) {\n                let dialogRef = this.dialog.open(_tiep_nhan_benh_nhan_cho_quet_tiep_nhan_benh_nhan_cho_quet_component__WEBPACK_IMPORTED_MODULE_17__[\"TiepNhanBenhNhanChoQuetComponent\"], {\n                    disableClose: true,\n                    width: '500px',\n                    height: '250px',\n                    data: this.thongTinBenhNhan,\n                });\n                dialogRef.afterClosed().subscribe(result => {\n                    //console.log(\"close = \", result, typeof(result));\n                    if (result === undefined) {\n                        //console.log(\"undefined\");\n                        //cheat vi khong hieu sao ra duoc\n                    }\n                    // else if (result == null || (result != null && result.maKetQua == \"050\")) {\n                    else if (result == null || (result != null && result.maKetQua !== \"000\" && result.maKetQua !== \"004\")) {\n                        //this.clearData();\n                        //this.notificationService.showError(TiepNhanBenhNhanMessage.MessageSaiThongTinBenhNhan);\n                        //console.log(\"null\");\n                        //\n                        //console.log(\"TiepNhanBenhNhanErrorComponent = \", this.tiepNhanBenhNhan);\n                        this.tiepNhanBenhNhan.MessageErrFromBHYT = result != null ? result.ghiChu : null;\n                        let dialogRef = this.dialog.open(_tiep_nhan_benh_nhan_error_tiep_nhan_benh_nhan_error_component__WEBPACK_IMPORTED_MODULE_22__[\"TiepNhanBenhNhanErrorComponent\"], {\n                            disableClose: false,\n                            width: '700px',\n                            height: '300px',\n                            data: this.tiepNhanBenhNhan,\n                        });\n                        dialogRef.afterClosed().subscribe(result => {\n                            //document.getElementById(\"SoTheBHYTisAutoFocus\").focus();\n                            this.isCheckedBHYT = false;\n                            if (result == 2) {\n                                this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                                this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].KhongXacDinh;\n                                this.tiepNhanBenhNhan.CoBHYT = true;\n                                this.tiepNhanBenhNhan.TuNhap = true;\n                            }\n                            else if (result == 1) {\n                                this.tiepNhanBenhNhan.CoBHYT = false;\n                                this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].KhongXacDinh;\n                                this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                            }\n                            else if (result != undefined) {\n                                //console.log(\"------- \", result);\n                                this.setValueBHYT(result);\n                            }\n                        });\n                        //\n                    }\n                    else {\n                        this.isCheckedBHYT = false;\n                        this.setValueBHYT(result);\n                    }\n                });\n            }\n            else {\n                this.isCheckedBHYT = false;\n            }\n        }\n        else {\n            this.isCheckedBHYT = false;\n        }\n    }\n    clearData() {\n        let soTheBHYT = this.tiepNhanBenhNhan.BHYTMaSoThe;\n        let hoVaTen = this.tiepNhanBenhNhan.HoTen;\n        let ngaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n        this.ngOnInit();\n        this.tiepNhanBenhNhan.BHYTMaSoThe = soTheBHYT;\n        this.tiepNhanBenhNhan.HoTen = hoVaTen;\n        this.tiepNhanBenhNhan.NgayThangNamSinh = ngaySinh;\n    }\n    TinhThanhPhoChange($event) {\n        if ($event == undefined || $event == null) {\n            //this.tiepNhanBenhNhan.TinhThanhId = $event;\n            this.tiepNhanBenhNhan.QuanHuyenId = null;\n            this.tiepNhanBenhNhan.PhuongXaId = null;\n        }\n        // else {\n        // \tthis.comboboxQuanHuyen.getDataForLookup();\n        // }\n        if (this.under6yearsold) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if (this.under6yearsold == false) {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n    }\n    TinhThanhPhoNguoiLienHeChange($event) {\n        //console.log(\"TinhThanhPhoNguoiLienHeChange = \", $event);\n        this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId = null;\n        this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = null;\n    }\n    QuanHuyenChange($event) {\n        //this.tiepNhanBenhNhan.QuanHuyenId = $event;\n        // if($event == null || $event == undefined){\n        //     this.tiepNhanBenhNhan.PhuongXaId = null;\n        // }\n        // else{\n        //     this.tiepNhanBenhNhan.ph\n        // }\n        if ($event == undefined || $event == null) {\n            this.tiepNhanBenhNhan.PhuongXaId = null;\n        }\n        if (this.under6yearsold) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if (this.under6yearsold == false) {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n    }\n    PhuongXaChange($event) {\n        this.tiepNhanBenhNhan.PhuongXaId = $event;\n        if ($event != null && $event != undefined) {\n            this.apiService.post(\"TiepNhanBenhNhan/SetTinhThanhQuanHuyen?phuongXaId=\" + $event).subscribe(resultData => {\n                this.tiepNhanBenhNhan.TinhThanhId = resultData.TinhThanhId;\n                this.tiepNhanBenhNhan.QuanHuyenId = resultData.QuanHuyenId;\n                this.comboboxQuanHuyen.getDataForLookup();\n                if (this.validationErrors != undefined && this.validationErrors != null && this.validationErrors.length > 0) {\n                    if (this.validationErrors && this.validationErrors.some(x => x.Field.includes('QuanHuyenId') || x.Field.includes('TinhThanhId'))) {\n                        for (const validationItem of this.validationErrors.filter(x => x.Field.includes('QuanHuyenId') || x.Field.includes('TinhThanhId'))) {\n                            this.validationErrors.splice(this.validationErrors.indexOf(validationItem), 1);\n                        }\n                    }\n                }\n            }, (err) => {\n            });\n        }\n        else {\n            this.tiepNhanBenhNhan.TinhThanhId = null;\n            this.tiepNhanBenhNhan.QuanHuyenId = null;\n        }\n        if (this.under6yearsold) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if (this.under6yearsold == false) {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n    }\n    QuanHuyenNguoiLienHeChange($event) {\n        //console.log(\"QuanHuyenNguoiLienHeChange = \", $event);\n        this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = null;\n    }\n    KhoaKhamChange($event) {\n        //this.tiepNhanBenhNhan.PhongKhamVaBacSiId = null;\n        this.apiService.post(\"TiepNhanBenhNhan/SetPhongKham?KhoaKhamId=\" + $event).subscribe(resultData => {\n            this.tiepNhanBenhNhan.PhongKhamVaBacSiId = resultData;\n        }, (err) => {\n        });\n    }\n    ThongTinBenhNhanHoTenChange($event) {\n        //console.log(\"ThongTinBenhNhanHoTenChange = \", $event);\n        if ($event != null) {\n            //this.tiepNhanBenhNhan.HoTen = $event.toUpperCase();\n        }\n        if (this.hoTenDaTimKiem == $event && this.ngaySinhDaTimKiem == this.tiepNhanBenhNhan.NgayThangNamSinh\n            && this.maSoTheDaTimKiem == this.tiepNhanBenhNhan.BHYTMaSoThe) {\n            this.isSearchQRCodeEnable = false;\n        }\n        else {\n            this.isSearchQRCodeEnable = true;\n        }\n    }\n    ThongTinBenhNhanMaSoTHeChange($event) {\n        this.changeMaTheBHYT = true;\n        if ($event != null) {\n            this.tiepNhanBenhNhan.BHYTMaSoThe = $event.toUpperCase();\n        }\n        if (this.maSoTheDaTimKiem == $event && this.ngaySinhDaTimKiem == this.tiepNhanBenhNhan.NgayThangNamSinh\n            && this.hoTenDaTimKiem == this.tiepNhanBenhNhan.HoTen) {\n            this.isSearchQRCodeEnable = false;\n        }\n        else {\n            this.isSearchQRCodeEnable = true;\n        }\n    }\n    ThongTinBenhNhanNgaySinhChange($event) {\n        if (this.hoTenDaTimKiem == this.tiepNhanBenhNhan.HoTen && this.ngaySinhDaTimKiem == $event\n            && this.maSoTheDaTimKiem == this.tiepNhanBenhNhan.BHYTMaSoThe) {\n            this.isSearchQRCodeEnable = false;\n        }\n        else {\n            this.isSearchQRCodeEnable = true;\n        }\n        if (this.tiepNhanBenhNhan.NgayThangNamSinh != null) {\n            this.tiepNhanBenhNhan.NamSinh = this.tiepNhanBenhNhan.NgayThangNamSinh.getFullYear();\n            this.getAge(this.tiepNhanBenhNhan.NgayThangNamSinh, new Date);\n        }\n        if ($event == null || $event == undefined) {\n            this.under6yearsold = false;\n            if (this.under6yearsold == false) {\n                this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n            }\n            // kiểm tra khi change ngày tháng năm sinh, nếu ko nhập vào data mà khi đó filed năm sinh đã có thì sẽ ko clear data năm sinh\n            if (this.tiepNhanBenhNhan.NamSinh == undefined || this.tiepNhanBenhNhan.NamSinh == null) {\n                this.tiepNhanBenhNhan.NamSinh = null;\n            }\n        }\n        //console.log(\"ThongTinBenhNhanNgaySinhChange = \", $event, \"type of: \", typeof($event));\n    }\n    QuetMaQRCodeClick() {\n        let elementBarcode = document.getElementById('barcodeActive');\n        if (elementBarcode != undefined) {\n            elementBarcode.click();\n            this.isScanF1 = true;\n        }\n    }\n    test($event) {\n        console.log(\"test = \", $event);\n    }\n    setUpDataTooltip(dataItem) {\n        this.displayToolTipGrid = dataItem.TenGoiChietKhau;\n    }\n    loaiTiepNhanChange($event) {\n        if ($event == 1) {\n            this.tiepNhanBenhNhan.YeuCauKyThuatGrid = [];\n            this.tiepNhanBenhNhan.YeuCauKhacGrid = [];\n        }\n        else if ($event == 2) {\n            this.tiepNhanBenhNhan.YeuCauKhamBenhGrid = [];\n            this.tiepNhanBenhNhan.YeuCauKhacGrid = [];\n        }\n        else {\n            this.tiepNhanBenhNhan.YeuCauKhamBenhGrid = [];\n            this.tiepNhanBenhNhan.YeuCauKyThuatGrid = [];\n        }\n        this.setDataForDichVuKhac();\n        this.setDataForDichVuKyThuat();\n        this.setDataForDichVuKhamBenh();\n        this.refreshGrid();\n        this.removeThemDichVuValue();\n        this.removeThemGoiValue();\n    }\n    removeThemDichVuValue() {\n        //console.log(\"removeThemDichVuValue\");\n        this.themChiDinhDichVuModel = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemChiDinhDichVu\"]();\n        //this.setDuocHuongBHYT();\n        this.themChiDinhDichVuModel.ThanhTien = null;\n        //this.themChiDinhDichVuModel.DoiTuongUuDaiId = this.tiepNhanBenhNhan.DoiTuongUuDaiId;\n        this.loaiTiepNhan = null;\n        this.isGoiCoChietKhau = null;\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n    }\n    removeThemGoiValue() {\n        //console.log(\"removeThemDichVuValue\");\n        this.themChiDinhGoiModel = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemChiDinhDichVu\"]();\n        //this.setDuocHuongBHYT();\n        this.themChiDinhGoiModel.ThanhTien = null;\n        //this.themChiDinhGoiModel.DoiTuongUuDaiId = this.tiepNhanBenhNhan.DoiTuongUuDaiId;\n        this.loaiTiepNhan = null;\n        this.isGoiCoChietKhau = null;\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n    }\n    checkValidAddChiDinhDichVuKhac(id) {\n        let nhom = 'DỊCH VỤ KHÁM BỆNH';\n        if (this.loaiTiepNhan == 2) {\n            nhom = 'DỊCH VỤ KỸ THUẬT';\n        }\n        else if (this.loaiTiepNhan == 1) {\n            nhom = 'DỊCH VỤ KHÁM BỆNH';\n        }\n        else {\n            nhom = 'DỊCH VỤ GIƯỜNG';\n        }\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", this.tiepNhanBenhNhan.YeuCauKhacGrid, this.loaiTiepNhan, id);\n        let model = this.tiepNhanBenhNhan.YeuCauKhacGrid\n            //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n            .find(obj => obj.MaDichVuId == id && obj.Nhom == nhom);\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", model, nhom);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n    checkValidAddGoiCoChietKhau(id) {\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", this.tiepNhanBenhNhan.YeuCauKhacGrid, this.loaiTiepNhan, id);\n        let model = this.tiepNhanBenhNhan.YeuCauKhacGrid\n            //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n            .find(obj => obj.GoiCoChietKhauId == id);\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", model, nhom);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n    checkValidAddGoiKhongCoChietKhau(id, nhom) {\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", this.tiepNhanBenhNhan.YeuCauKhacGrid, nhom, id);\n        let model = this.tiepNhanBenhNhan.YeuCauKhacGrid\n            .filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n            .find(obj => obj.MaDichVuId == id && obj.Nhom == nhom);\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", model, nhom);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n    checkValidAddChiDinhDichVuKhamBenh(id) {\n        ;\n        let model = this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null).find(obj => obj.MaDichVuId == id);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n    checkValidAddChiDinhDichVuKyThuat(id) {\n        //console.log(\"checkValidAddChiDinhDichVuKhamBenh = \", this.tiepNhanBenhNhan.YeuCauKhamBenhGrid,id);\n        let model = this.tiepNhanBenhNhan.YeuCauKyThuatGrid.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null).find(obj => obj.MaDichVuId == id);\n        //console.log(\"checkValidAddBHTN = \", index);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n    // themChiDinhDichVu() {\n    //     var self = this;\n    //     let isValid = this.checkValidAddChiDinhDichVuKhamBenh(this.themChiDinhDichVuModel.MaDichVuId);\n    //     if (isValid == false) return;\n    //     self.validationErrors = null;\n    //     self.apiService.post<ChiDinhDichVuGridVo>(\"TiepNhanBenhNhan/ThemDichVu\", this.themChiDinhDichVuModel).subscribe(\n    //         resultData => {\n    //             if (resultData != undefined && resultData != null) {\n    //                 //console.log(resultData);\n    //                 this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.push(resultData);\n    //                 this.setDataForDichVuKhamBenh();\n    //                 this.setGiaBHYT();\n    //                 this.refreshGrid();\n    //                 this.removeThemDichVuValue();\n    //             }\n    //             else {\n    //             }\n    //         },\n    //         (err: any) => {\n    //             ;\n    //             // self.validationErrors = err.ValidationErrors;\n    //             //console.log(err);\n    //             if (err != undefined && err.ValidationErrors != null) {\n    //                 self.validationErrors = err.ValidationErrors;\n    //             }\n    //             else if (err != undefined && err.Errors == null) {\n    //                 //self.validationErrors.push({ \"Message\": err.Message });\n    //                 self.notificationService.showError(err.Message);\n    //             }\n    //         });\n    // }\n    themChiDinhDichVuGoiNew() {\n        if (this.isGoiCoChietKhau) {\n            this.themChiDinhDichVuKhacKhamBenh(2);\n        }\n        else if (this.isGoiCoChietKhau == false || this.isGoiCoChietKhau == null) {\n            this.themChiDinhDichVuKhacKhamBenh(1);\n        }\n    }\n    themChiDinhDichVuNew() {\n        //console.log(\"themChiDinhDichVuNew = \", this.loaiTiepNhan, this.danhSachDichVuDaChonTrongLanPopup);\n        // if(this.tiepNhanBenhNhan.BenhNhanId != null && this.tiepNhanBenhNhan.BenhNhanId != 0){\n        // }\n        // else{\n        //     if (this.loaiTiepNhan == 1) {\n        //         this.themChiDinhDichVuKhacKhamBenh(3);\n        //     }\n        //     else if (this.loaiTiepNhan == 2) {\n        //         this.themChiDinhDichVuKhacKhamBenh(4);\n        //     }\n        //     else {\n        //         this.themChiDinhDichVuKhacKhamBenh(5);\n        //     }\n        // }\n        let model = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"CheckDuSoLuongTonTrongGoi\"]();\n        model.DichVuThem = this.themChiDinhDichVuModel;\n        model.DichVuThem.benhNhanId = this.tiepNhanBenhNhan.BenhNhanId;\n        if (this.loaiTiepNhan == 1) {\n            //1: KB, 2: DVKT, 3: DVG\n            model.DichVuThem.TenNhomDichVu = 'DỊCH VỤ KHÁM BỆNH';\n        }\n        else if (this.loaiTiepNhan == 2) {\n            model.DichVuThem.TenNhomDichVu = 'DỊCH VỤ KỸ THUẬT';\n        }\n        else {\n            model.DichVuThem.TenNhomDichVu = 'DỊCH VỤ GIƯỜNG';\n        }\n        model.DanhSachDichVuChonTrongLanPopup = this.danhSachDichVuDaChonTrongLanPopup;\n        //check trung\n        let self = this;\n        let itemExist = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o.MaDichVuId == model.DichVuThem.MaDichVuId && o.Nhom == model.DichVuThem.TenNhomDichVu);\n        if (itemExist.length > 0) {\n            self.dialog.open(_popup_dich_vu_check_trung_popup_dich_vu_check_trung_component__WEBPACK_IMPORTED_MODULE_37__[\"PopupDichVuCheckTrungComponent\"], {\n                disableClose: false,\n                width: '400px',\n            }).afterClosed().subscribe(result => {\n                if (result == true) {\n                    this.themDichVu(model);\n                }\n                else {\n                }\n            });\n        }\n        else {\n            this.themDichVu(model);\n        }\n    }\n    themDichVu(model) {\n        let self = this;\n        let dataRes = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"DichVuTrongGoiKhiThem\"]();\n        // cập nhật ngày 02/06/2021: ko kiểm tra dịch vụ có trong gói nữa\n        if (this.loaiTiepNhan == 1) {\n            this.themChiDinhDichVuKhacKhamBenh(3);\n        }\n        else if (this.loaiTiepNhan == 2) {\n            this.themChiDinhDichVuKhacKhamBenh(4);\n        }\n        else {\n            this.themChiDinhDichVuKhacKhamBenh(5);\n        }\n        // this.apiService.post<DichVuTrongGoiKhiThem>(\"TiepNhanBenhNhan/CheckDuSoLuongTonTrongGoiForCreate\", model).subscribe(\n        //     resultData => {\n        //         if (resultData != undefined && resultData != null) {\n        //             //console.log(\"DichVuTrongGoiKhiThem = \", resultData);\n        //             dataRes = resultData;\n        //             this.dialog.open(ConfirmComponent, {\n        //                 disableClose: false,\n        //                 width: '400px',\n        //                 data: { Title: \"Xác nhận\", Message: CommonService.format(TiepNhanBenhNhanMessage.MessageConfirmThemVaoGoi, [resultData.TenDichVu, resultData.TenChuongTrinh, this.tiepNhanBenhNhan.HoTen]) }\n        //             }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n        //                 if (result == \"Yes\") {\n        //                     //\n        //                     self.danhSachDichVuGoiDaChon = new Array<ThemChiDinhDichVu>();\n        //                     let item = new ThemChiDinhDichVu();\n        //                     item.LaGoi = true;\n        //                     item.TenNhomDichVu = model.DichVuThem.TenNhomDichVu;\n        //                     item.MaDichVuId = model.DichVuThem.MaDichVuId;\n        //                     item.SoLuong = model.DichVuThem.SoLuong;\n        //                     item.chuongTrinhGoiDichVuId = dataRes.ChuongTrinhGoiDichVuId;\n        //                     //cheat cho lẹ\n        //                     item.DuocHuongBHYT = model.DichVuThem.DuocHuongBHYT;\n        //                     item.YeuCauGoiDichVuId = dataRes.YeuCauGoiDichVuId;\n        //                     item.ThuocGoi = dataRes.TenChuongTrinh;\n        //                     self.danhSachDichVuGoiDaChon.push(item);\n        //                     self.themChiDinhDichVuKhacKhamBenh(6, self.danhSachDichVuGoiDaChon);\n        //                     self.addDanhSachTongCongFromDanhSachDaChon(self.danhSachDichVuGoiDaChon);\n        //                     //self.router.navigate(['tiep-nhan-trong-ngay/']);\n        //                     //self.router.navigateByUrl('danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/' + this.idYeuCauTiepNhan + \"?loaiThanhToan=\" + 1 + \"&yctn=true\");\n        //                 }\n        //                 else {\n        //                     //self.ngOnInit();\n        //                     if (this.loaiTiepNhan == 1) {\n        //                         this.themChiDinhDichVuKhacKhamBenh(3);\n        //                     }\n        //                     else if (this.loaiTiepNhan == 2) {\n        //                         this.themChiDinhDichVuKhacKhamBenh(4);\n        //                     }\n        //                     else {\n        //                         this.themChiDinhDichVuKhacKhamBenh(5);\n        //                     }\n        //                 }\n        //             });\n        //         }\n        //         else {\n        //             if (this.loaiTiepNhan == 1) {\n        //                 this.themChiDinhDichVuKhacKhamBenh(3);\n        //             }\n        //             else if (this.loaiTiepNhan == 2) {\n        //                 this.themChiDinhDichVuKhacKhamBenh(4);\n        //             }\n        //             else {\n        //                 this.themChiDinhDichVuKhacKhamBenh(5);\n        //             }\n        //         }\n        //     },\n        //     (err: any) => {\n        //         if (err != undefined && err.ValidationErrors != null) {\n        //             this.validationErrors = err.ValidationErrors;\n        //         }\n        //         else if (err != undefined && err.Errors == null) {\n        //             this.notificationService.showError(err.Message);\n        //         }\n        //     });\n    }\n    themChiDinhDichVuKhacKhamBenh(loaiDichVuKhac, lstDataGoi = null) {\n        //1: goi khong co chiet khau, 2: goi co chiet khau, 3: dich vu kham benh, 4: dich vu ky thuat, 5: dich vu giuong\n        //bỏ check trùng 29/10/2020 Tuan said: \"e sửa lại ko cần check trùng luôn : 2:04PM\"\n        // if (loaiDichVuKhac == 2) {\n        //     let isValid = this.checkValidAddGoiCoChietKhau(this.themChiDinhGoiModel.MaDichVuGoiId);\n        //     if (isValid == false) {\n        //         this.notificationService.showError(TiepNhanBenhNhanMessage.MessageGoiTonTai);\n        //         return;\n        //     };\n        // }\n        // else if(loaiDichVuKhac == 1){\n        //     //let isValid = this.checkValidAddChiDinhDichVuKhac(this.themChiDinhGoiModel.MaDichVuId);\n        //     //if (isValid == false) return;\n        // }\n        // else {\n        //     let isValid = this.checkValidAddChiDinhDichVuKhac(this.themChiDinhDichVuModel.MaDichVuId);\n        //     if (isValid == false && loaiDichVuKhac != 1 && loaiDichVuKhac != 2){\n        //         this.notificationService.showError(TiepNhanBenhNhanMessage.MessageDichVuTonTai);\n        //         return;\n        //     };\n        // }\n        this.showbuttonLuuVaInPhieuXetNghiem = this.dichVuSarsCoVs.includes(this.themChiDinhDichVuModel.MaDichVuId);\n        if (this.showbuttonLuuVaInPhieuXetNghiem == true) {\n            this.dialog\n                .open(_xn_covid_popup_xn_covid_popup_component__WEBPACK_IMPORTED_MODULE_43__[\"XnCovidPopupComponent\"], {\n                width: \"600px\",\n                data: { LoaiMauXetNghiem: this.loaiBenhPham, LoaiMauXetNghiemText: this.loaiBenhPhamText }\n            })\n                .afterClosed()\n                .subscribe((result) => {\n                if (result != undefined) {\n                    this.tiepNhanBenhNhan.BieuHienLamSang = result.BieuHienLamSang;\n                    this.tiepNhanBenhNhan.DichTeSarsCoV2 = result.DichTeSarsCoV2;\n                }\n            });\n        }\n        this.validationErrors = null;\n        let urlDefault = \"TiepNhanBenhNhan/ThemDichVu\";\n        if (loaiDichVuKhac == 4) {\n            urlDefault = \"TiepNhanBenhNhan/ThemDichVuKyThuat\";\n        }\n        else if (loaiDichVuKhac == 5) {\n            urlDefault = \"TiepNhanBenhNhan/ThemDichVuGiuong\";\n        }\n        //Goi new\n        else if (loaiDichVuKhac == 6) {\n            urlDefault = \"TiepNhanBenhNhan/ThemDichVuTuGoi\";\n        }\n        else if (loaiDichVuKhac == 1) {\n            urlDefault = \"TiepNhanBenhNhan/ThemGoiKhongChietKhau\";\n            this.themChiDinhDichVuModel.LaGoi = true;\n            this.themChiDinhGoiModel.LaGoi = true;\n            this.themChiDinhDichVuModel.MaDichVuId = this.themChiDinhDichVuModel.MaDichVuGoiId;\n            this.themChiDinhGoiModel.MaDichVuId = this.themChiDinhGoiModel.MaDichVuGoiId;\n        }\n        else if (loaiDichVuKhac == 2) {\n            urlDefault = \"TiepNhanBenhNhan/ThemGoiCoChietKhau\";\n            this.themChiDinhDichVuModel.LaGoi = true;\n            this.themChiDinhGoiModel.LaGoi = true;\n            this.themChiDinhDichVuModel.MaDichVuId = this.themChiDinhDichVuModel.MaDichVuGoiId;\n            this.themChiDinhGoiModel.MaDichVuId = this.themChiDinhGoiModel.MaDichVuGoiId;\n        }\n        if (loaiDichVuKhac == 6) {\n            this.apiService.postArray(urlDefault, lstDataGoi).subscribe(resultData => {\n                if (resultData != undefined && resultData != null) {\n                    //console.log(resultData);\n                    //\n                    resultData.forEach(obj => {\n                        this.tiepNhanBenhNhan.YeuCauKhacGrid.push(obj);\n                    });\n                    this.setDataForDichVuKhac();\n                    this.setGiaBHYT();\n                    //this.refreshGrid();\n                    this.removeThemDichVuValue();\n                    this.removeThemGoiValue();\n                }\n                else {\n                }\n            }, (err) => {\n                // self.validationErrors = err.ValidationErrors;\n                this.themChiDinhDichVuModel.LaGoi = false;\n                this.themChiDinhGoiModel.LaGoi = false;\n                if (err != undefined && err.ValidationErrors != null) {\n                    this.validationErrors = err.ValidationErrors;\n                }\n                else if (err != undefined && err.Errors == null) {\n                    //self.validationErrors.push({ \"Message\": err.Message });\n                    this.notificationService.showError(err.Message);\n                }\n            });\n        }\n        else if (loaiDichVuKhac == 1 || loaiDichVuKhac == 2) {\n            this.apiService.post(urlDefault, this.themChiDinhGoiModel).subscribe(resultData => {\n                if (resultData != undefined && resultData != null) {\n                    //console.log(resultData);\n                    //check validate\n                    let added = true;\n                    resultData.forEach(obj => {\n                        if (loaiDichVuKhac == 2) {\n                            let modelValid = this.tiepNhanBenhNhan.YeuCauKhacGrid\n                                .find(o => o.MaDichVuId == obj.MaDichVuId && o.Nhom == obj.Nhom);\n                            if (modelValid != null && modelValid != undefined) {\n                                added = false;\n                            }\n                        }\n                    });\n                    if (!added) {\n                        this.notificationService.showError(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"TiepNhanBenhNhanMessage\"].MessageDichVuTrongGoiTonTai);\n                        return;\n                    }\n                    ;\n                    //\n                    resultData.forEach(obj => {\n                        if (loaiDichVuKhac == 1) {\n                            let isValid = this.checkValidAddGoiKhongCoChietKhau(obj.MaDichVuId, obj.Nhom);\n                            if (isValid != false) {\n                                obj.LoaiDichVuKhac = loaiDichVuKhac;\n                                this.tiepNhanBenhNhan.YeuCauKhacGrid.push(obj);\n                            }\n                        }\n                        else {\n                            obj.LoaiDichVuKhac = loaiDichVuKhac;\n                            this.tiepNhanBenhNhan.YeuCauKhacGrid.push(obj);\n                        }\n                    });\n                    this.setDataForDichVuKhac();\n                    this.setGiaBHYT();\n                    //this.refreshGrid();\n                    this.removeThemDichVuValue();\n                    this.removeThemGoiValue();\n                }\n                else {\n                }\n            }, (err) => {\n                // self.validationErrors = err.ValidationErrors;\n                this.themChiDinhDichVuModel.LaGoi = false;\n                this.themChiDinhGoiModel.LaGoi = false;\n                if (err != undefined && err.ValidationErrors != null) {\n                    this.validationErrors = err.ValidationErrors;\n                }\n                else if (err != undefined && err.Errors == null) {\n                    //self.validationErrors.push({ \"Message\": err.Message });\n                    this.notificationService.showError(err.Message);\n                }\n            });\n        }\n        else {\n            this.apiService.post(urlDefault, this.themChiDinhDichVuModel).subscribe(resultData => {\n                if (resultData != undefined && resultData != null) {\n                    resultData.LoaiDichVuKhac = loaiDichVuKhac;\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.push(resultData);\n                    this.setDataForDichVuKhac();\n                    this.setGiaBHYT();\n                    this.refreshGrid();\n                    this.removeThemDichVuValue();\n                    this.removeThemGoiValue();\n                }\n                else {\n                }\n            }, (err) => {\n                // self.validationErrors = err.ValidationErrors;\n                if (err != undefined && err.ValidationErrors != null) {\n                    this.validationErrors = err.ValidationErrors;\n                }\n                else if (err != undefined && err.Errors == null) {\n                    //self.validationErrors.push({ \"Message\": err.Message });\n                    this.notificationService.showError(err.Message);\n                }\n            });\n        }\n    }\n    totalKhamBenh(field) {\n        switch (field) {\n            case 'ThanhTien':\n                return this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'BHYTThanhToan':\n                return this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n            case 'SoTienMG':\n                return this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'BnThanhToan':\n                return this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.reduce((sum, item) => sum + item.BnThanhToan, 0);\n        }\n    }\n    ;\n    totalKhac(field, goiCoChietkhauId = 0) {\n        //.filter(o => o.GoiCoChietKhauId == goiCoChietkhauId)\n        //console.log(\"totalKhac = \", goiCoChietkhauId);\n        switch (field) {\n            case 'TongThanhTien':\n                return (this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.ThanhTien, 0)) + (this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == true)\n                    .reduce((sum, item) => sum + item.ThanhTien, 0));\n            case 'ThanhTien':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => (sum + (item.GoiCoChietKhauId != null ? item.ThanhTienSauChietKhau : item.ThanhTien)), 0); //sum + item.ThanhTien, 0);\n            case 'ThanhTienGoiChietKhau':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.GoiCoChietKhauId == goiCoChietkhauId)\n                    .reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'TongThanhTienGoiChietKhau':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == true)\n                    .reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'BHYTThanhToan':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n            case 'SoTienMG':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'BnThanhToan':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.BnThanhToan, 0);\n            case 'TongBnThanhToan':\n                return (this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.BnThanhToan, 0)) + (this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == true)\n                    .reduce((sum, item) => sum + item.ThanhTienTrongGoi, 0));\n            case 'ThanhTienTrongGoi':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.GoiCoChietKhauId == goiCoChietkhauId)\n                    .reduce((sum, item) => sum + item.ThanhTienTrongGoi, 0);\n            case 'TongThanhTienTrongGoi':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == true)\n                    .reduce((sum, item) => sum + item.ThanhTienTrongGoi, 0);\n            case 'TongThanhTienGoi':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    .reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'TongThanhTienBNTra':\n                return (this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.BnThanhToan, 0)) + this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == true)\n                    .reduce((sum, item) => sum + item.ThanhTienTrongGoi, 0);\n        }\n    }\n    ;\n    totalKyThuat(field) {\n        switch (field) {\n            case 'ThanhTien':\n                return this.tiepNhanBenhNhan.YeuCauKyThuatGrid.reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'SoTienMG':\n                return this.tiepNhanBenhNhan.YeuCauKyThuatGrid.reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'BnThanhToan':\n                return this.tiepNhanBenhNhan.YeuCauKyThuatGrid.reduce((sum, item) => sum + item.BnThanhToan, 0);\n        }\n    }\n    ;\n    setDataForDichVuKyThuat() {\n        this.gridDataKyThuatDisplay = {\n            data: this.tiepNhanBenhNhan.YeuCauKyThuatGrid,\n            total: this.tiepNhanBenhNhan.YeuCauKyThuatGrid.length\n        };\n    }\n    setDataForDichVuKhamBenh() {\n        this.gridDataKhamBenhDisplay = {\n            data: this.tiepNhanBenhNhan.YeuCauKhamBenhGrid,\n            total: this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.length\n        };\n    }\n    setDataForDichVuKhac() {\n        if (this.tiepNhanBenhNhan.YeuCauKhacGrid != null) {\n            if (this.tiepNhanBenhNhan.YeuCauKhacGrid.length == 0) {\n                this.showbuttonLuuVaInPhieuXetNghiem = false;\n            }\n            else {\n                if (this.showbuttonLuuVaInPhieuXetNghiem == false) {\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.forEach(element => {\n                        this.showbuttonLuuVaInPhieuXetNghiem = this.dichVuSarsCoVs.includes(element.MaDichVuId);\n                    });\n                }\n            }\n        }\n        this.gridDataKhacCoChietKhauArray = [];\n        this.gridDataKhacDisplay = {\n            data: this.tiepNhanBenhNhan.YeuCauKhacGrid,\n            //.filter(obj => obj.IsGoiCoChietKhau == false || obj.IsGoiCoChietKhau == null),\n            total: this.tiepNhanBenhNhan.YeuCauKhacGrid,\n        };\n        //this.cdRef.detectChanges();\n        //console.log(\"setDataForDichVuKhac = \", this.tiepNhanBenhNhan.YeuCauKhacGrid);\n        // let arrayNhomGoiCoChietKhau: string[] = [];\n        // this.gridDataKhacCoChietKhauDisplay = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(obj => obj.IsGoiCoChietKhau == true);\n        // this.gridDataKhacCoChietKhauDisplay.forEach(e => {\n        //     if (!arrayNhomGoiCoChietKhau.some(o => o == e.TenGoiChietKhau)) {\n        //         arrayNhomGoiCoChietKhau.push(e.TenGoiChietKhau);\n        //     }\n        // });\n        // arrayNhomGoiCoChietKhau.forEach(e => {\n        //     let resultArray: ChiDinhDichVuGridVo[] = [];\n        //     this.gridDataKhacCoChietKhauDisplay.forEach(o => {\n        //         //let result = new ChiDinhDichVuGridVo();\n        //         if (e == o.TenGoiChietKhau) {\n        //             //result = o;\n        //             resultArray.push(o);\n        //         }\n        //     });\n        //     this.gridDataKhacCoChietKhauArray.push(process(resultArray, this.stateKhamBenh));\n        // });\n        //console.log(\"setDataForDichVuKhac = \", this.gridDataKhacCoChietKhauArray);\n        this.setSoLuongChoGridKhac();\n    }\n    setSoLuongChoGridKhac() {\n        this.soLuongGoiCoChietKhau = this.gridDataKhacCoChietKhauArray.length - 1;\n    }\n    DonGiaChange($event) {\n        if (this.themChiDinhDichVuModel.SoLuong != undefined && this.themChiDinhDichVuModel.SoLuong != null\n            && $event != undefined && $event != null) {\n            this.themChiDinhDichVuModel.ThanhTien = this.themChiDinhDichVuModel.SoLuong * $event;\n        }\n        else {\n            this.themChiDinhDichVuModel.ThanhTien = null;\n        }\n    }\n    SoLuongChange($event) {\n        if (this.themChiDinhDichVuModel.DonGia != undefined && this.themChiDinhDichVuModel.DonGia != null\n            && $event != undefined && $event != null) {\n            this.themChiDinhDichVuModel.ThanhTien = this.themChiDinhDichVuModel.DonGia * $event;\n        }\n        else {\n            this.themChiDinhDichVuModel.ThanhTien = null;\n        }\n    }\n    setThanhTienForDichVuModel() {\n        if (this.themChiDinhDichVuModel.DonGia != undefined && this.themChiDinhDichVuModel.DonGia != null\n            && this.themChiDinhDichVuModel.SoLuong != undefined && this.themChiDinhDichVuModel.SoLuong != null) {\n            this.themChiDinhDichVuModel.ThanhTien = this.themChiDinhDichVuModel.DonGia * this.themChiDinhDichVuModel.SoLuong;\n        }\n        else {\n            this.themChiDinhDichVuModel.ThanhTien = null;\n        }\n    }\n    LoaiGiaChange($event) {\n        let model = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"GetDonGiaVo\"]();\n        if ($event != undefined && $event != null\n            && this.themChiDinhDichVuModel.MaDichVuId != null && this.themChiDinhDichVuModel.MaDichVuId != undefined) {\n            //console.log($event);\n            model.NhomGiaDichVuKhamBenhBenhVienId = $event;\n            model.DichVuKhamBenhBenhVienId = this.themChiDinhDichVuModel.MaDichVuId;\n            this.apiService.post(\"TiepNhanBenhNhan/GetDonGia\", model).subscribe(resultData => {\n                if (resultData != undefined && resultData != null) {\n                    this.themChiDinhDichVuModel.DonGia = resultData;\n                    this.setThanhTienForDichVuModel();\n                }\n                else {\n                    this.themChiDinhDichVuModel.DonGia = null;\n                    this.setThanhTienForDichVuModel();\n                }\n            }, (err) => {\n            });\n        }\n        else {\n            this.themChiDinhDichVuModel.DonGia = null;\n        }\n    }\n    // MaDichVuKyThuatChange($event: number) {\n    //     let model = new GetDonGiaVo();\n    //     if ($event != undefined && $event != null) {\n    //         this.validationErrors = null;\n    //         //console.log($event);\n    //         model.DichVuKhamBenhBenhVienId = $event;\n    //         //model.NhomGiaDichVuKhamBenhBenhVienId = this.themChiDinhDichVuModel.LoaiGiaId;\n    //         this.apiService.post<any>(\"TiepNhanBenhNhan/GetDonGiaKyThuat\", model).subscribe(\n    //             resultData => {\n    //                 if (resultData != undefined && resultData != null) {\n    //                     this.themChiDinhDichVuKyThuatModel.DonGia = resultData;\n    //                     this.setThanhTienForDichVuKyThuatModel();\n    //                 }\n    //                 else {\n    //                     this.themChiDinhDichVuKyThuatModel.DonGia = null;\n    //                     this.setThanhTienForDichVuKyThuatModel();\n    //                 }\n    //             },\n    //             (err: any) => {\n    //             });\n    //     }\n    //     else {\n    //         this.themChiDinhDichVuKyThuatModel.DonGia = null;\n    //     }\n    // }\n    MaDichVuGoiSelectionChange($event) {\n        //console.log(\"abc = \", $event);\n        if ($event != null && $event != undefined) {\n            if ($event.IsCoChietKhau) {\n                this.isGoiCoChietKhau = true;\n            }\n            else {\n                this.isGoiCoChietKhau = false;\n            }\n        }\n        else {\n            this.isGoiCoChietKhau = null;\n        }\n    }\n    onKeyMaDichVu($event) {\n        if ($event.keyCode == 13) {\n            if (this.maDichVuDisabled != true) {\n                this.themChiDinhDichVuNew();\n            }\n            else {\n                this.maDichVuDisabled = false;\n            }\n        }\n        //this.countCheck++;\n    }\n    modelChangeDichVu($event) {\n        //console.log(\"modelChangeDichVu = \", $event);\n        // if(this.maDichVuDisabled && $event != null && $event != undefined){\n        //     this.maDichVuDisabled = false;\n        // }\n    }\n    openCombobox($event) {\n        //console.log(\"openCombobox = \", $event);\n        //this.countCheck = 0;\n        if ($event) {\n            this.maDichVuDisabled = true;\n        }\n        else {\n            this.maDichVuDisabled = false;\n        }\n    }\n    MaDichVuSelectionChange($event) {\n        //console.log(\"MaDichVuSelectionChange = \", $event);\n        //let self = this;\n        this.themChiDinhDichVuModel.NoiThucHienId = null;\n        this.themChiDinhDichVuModel.SoLuong = 1;\n        if ($event != undefined && $event != null) {\n            //this.maDichVuPrev = $event.KeyId;\n            //this.countCheck++;\n            //console.log(\"MaDichVuSelectionChange = \", $event);\n            if ($event.Loai == \"DVKT\") {\n                this.MaDichVuChange($event.KeyId, 4, true);\n                this.loaiTiepNhan = 2;\n                // setTimeout(() => {\n                //     console.log(\"self.comboboxNoiThucHien2 = \", self.comboboxNoiThucHien2);\n                //     self.comboboxNoiThucHien2.getDataForLookup();\n                //   }, 500);\n            }\n            else if ($event.Loai == \"DV Giường\") {\n                this.MaDichVuChange($event.KeyId, 5);\n                this.loaiTiepNhan = 3;\n            }\n            else {\n                this.MaDichVuChange($event.KeyId);\n                this.loaiTiepNhan = 1;\n                //this.comboboxNoiThucHien1.getDataForLookup();\n            }\n        }\n        else {\n            this.themChiDinhDichVuModel.DonGia = null;\n            this.themChiDinhDichVuModel.NoiThucHienId = null;\n            this.setThanhTienForDichVuModel();\n            this.loaiTiepNhan = 1;\n        }\n        //\n        if ($event != null && $event != undefined) {\n            this.SetEnableDuocHuongBHYT($event.KeyId, this.loaiTiepNhan);\n        }\n        //this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n        this.cdRef.detectChanges();\n    }\n    SetEnableDuocHuongBHYT(dichVuId, loai) {\n        this.apiService.post(\"TiepNhanBenhNhan/DuocHuongBHYT?dichVuId=\" + dichVuId + \"&loai=\" + loai).subscribe(resultData => {\n            if (resultData != null && resultData != undefined) {\n                this.enableDuocHuongBHYT = resultData;\n                // if(resultData == false){\n                //     this.themChiDinhDichVuModel.DuocHuongBHYT = false;\n                // }\n                // else{\n                //     //this.themChiDinhDichVuModel.DuocHuongBHYT = true;\n                // }\n                this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n            }\n        }, (err) => {\n        });\n    }\n    MaDichVuChange($event, loaiDichVu = 0, isCheckValidDonGia = false) {\n        //console.log(\"MaDichVuChange = \", $event);\n        let urlDefault = \"TiepNhanBenhNhan/GetDonGia\";\n        if (loaiDichVu == 4) {\n            urlDefault = \"TiepNhanBenhNhan/GetDonGiaKyThuat\";\n            // this.themChiDinhDichVuModel.LoaiGiaId = 1;\n            this.themChiDinhDichVuModel.LoaiGiaId = null;\n        }\n        else if (loaiDichVu == 5) {\n            urlDefault = \"TiepNhanBenhNhan/GetDonGiaGiuongBenh\";\n            this.themChiDinhDichVuModel.LoaiGiaId = 1;\n        }\n        let model = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"GetDonGiaVo\"]();\n        if ($event != undefined && $event != null\n            && (loaiDichVu == 4 || (this.themChiDinhDichVuModel.LoaiGiaId != null && this.themChiDinhDichVuModel.LoaiGiaId != undefined))) {\n            //console.log($event);\n            model.DichVuKhamBenhBenhVienId = $event;\n            model.NhomGiaDichVuKhamBenhBenhVienId = this.themChiDinhDichVuModel.LoaiGiaId;\n            model.IsCheckValidDonGia = isCheckValidDonGia;\n            this.apiService.post(urlDefault, model).subscribe(resultData => {\n                if (resultData != undefined && resultData != null) {\n                    if (loaiDichVu == 4) {\n                        this.themChiDinhDichVuModel.LoaiGiaId = resultData.NhomGiaDichVuKhamBenhBenhVienId;\n                        this.themChiDinhDichVuModel.DonGia = resultData.DonGia;\n                    }\n                    else {\n                        this.themChiDinhDichVuModel.DonGia = resultData;\n                    }\n                    this.setThanhTienForDichVuModel();\n                }\n                else {\n                    this.themChiDinhDichVuModel.DonGia = null;\n                    this.setThanhTienForDichVuModel();\n                }\n            }, (err) => {\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n            });\n        }\n        else {\n            this.themChiDinhDichVuModel.DonGia = null;\n            this.setThanhTienForDichVuModel();\n        }\n    }\n    congTyBaoHiemChange($event) {\n        this.validationErrors = null;\n        this.apiService.post(\"TiepNhanBenhNhan/GetThongTinBHTN/?congTyBaoHiemTuNhanId=\" + $event).subscribe(resultData => {\n            if (resultData != undefined && resultData != null) {\n                this.themBaoHiemTuNhanModel.DiaChi = resultData.DiaChi;\n                this.themBaoHiemTuNhanModel.SoDienThoai = resultData.SoDienThoai;\n            }\n            else {\n                this.themBaoHiemTuNhanModel.DiaChi = null;\n                this.themBaoHiemTuNhanModel.SoDienThoai = null;\n            }\n        }, (err) => {\n            this.themBaoHiemTuNhanModel.DiaChi = null;\n            this.themBaoHiemTuNhanModel.SoDienThoai = null;\n        });\n    }\n    huyBHTN() {\n        this.isUpdateGrid = false;\n        this.clearThemBHTN();\n    }\n    ThemBHTN() {\n        this.validationErrors = null;\n        let isValid = this.checkValidAddBHTN(this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId);\n        if (isValid == false) {\n            this.notificationService.showError(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"TiepNhanBenhNhanMessage\"].MessageThemBHTN);\n            return;\n        }\n        this.apiService.post(\"TiepNhanBenhNhan/ThemThongTinBHTN\", this.themBaoHiemTuNhanModel).subscribe(resultData => {\n            if (resultData != undefined && resultData != null) {\n                this.lstBHTN.push(resultData);\n                this.setValueForGridBHTN();\n                this.clearThemBHTN();\n            }\n            else {\n            }\n        }, (err) => {\n            // self.validationErrors = err.ValidationErrors;\n            if (err != undefined && err.ValidationErrors != null) {\n                this.validationErrors = err.ValidationErrors;\n            }\n            else if (err != undefined && err.Errors == null) {\n                //self.validationErrors.push({ \"Message\": err.Message });\n                this.notificationService.showError(err.Message);\n            }\n        });\n    }\n    setValueForGridBHTN() {\n        //console.log(this.lstBHTN);\n        let index = 1;\n        this.lstBHTN.forEach(obj => {\n            obj.STT = index;\n            index = index + 1;\n        });\n        this.updateBHTN();\n        this.gridDataSourceBHTN = {\n            data: this.lstBHTN,\n            total: this.lstBHTN.length\n        };\n    }\n    updateBHTN() {\n        this.tiepNhanBenhNhan.BaoHiemTuNhans = new Array();\n        this.lstBHTN.forEach(obj => {\n            let model = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"BaoHiemTuNhanViewModel\"]();\n            model.BHTNCongTyBaoHiemId = obj.CongTyBaoHiemTuNhanId;\n            model.BHTNDiaChi = obj.DiaChi;\n            model.BHTNMaSoThe = obj.MaSoThe;\n            model.BHTNNgayHetHan = obj.NgayHetHan;\n            model.BHTNNgayHieuLuc = obj.NgayHieuLuc;\n            model.BHTNSoDienThoai = obj.SoDienThoai;\n            this.tiepNhanBenhNhan.BaoHiemTuNhans.push(model);\n        });\n        //console.log(\"updateBHTN = \", this.tiepNhanBenhNhan.BaoHiemTuNhans);\n    }\n    enableUpdateGird(id) {\n        this.isUpdateGrid = true;\n        this.isIdNeedUpdate = id;\n    }\n    disableUpdateGrid() {\n        this.isUpdateGrid = false;\n        this.isIdNeedUpdate = null;\n        this.clearThemBHTN();\n    }\n    clearThemBHTN() {\n        this.themBaoHiemTuNhanModel = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemBaoHiemTuNhan\"]();\n    }\n    removeGridBHTN(id) {\n        this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_10__[\"ConfirmComponent\"], {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].format(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"SystemMessage\"].MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {\n            if (result == 'Yes') {\n                let index = this.lstBHTN.find(obj => obj.CongTyBaoHiemTuNhanId == id);\n                this.lstBHTN.splice(this.lstBHTN.indexOf(index), 1);\n                this.gridDataSourceBHTN = {\n                    data: this.lstBHTN,\n                    total: this.lstBHTN.length\n                };\n                this.updateBHTN();\n            }\n        });\n    }\n    checkValidAddBHTN(id) {\n        //console.log(\"checkValidAddBHTN = \", this.lstBHTN,id);\n        let model = this.lstBHTN.find(obj => obj.CongTyBaoHiemTuNhanId == id);\n        //console.log(\"checkValidAddBHTN = \", index);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n    updateGridBHTN(dataItem) {\n        this.isUpdateGrid = true;\n        //set\n        this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId = dataItem.CongTyBaoHiemTuNhanId;\n        this.themBaoHiemTuNhanModel.DiaChi = dataItem.DiaChi;\n        this.themBaoHiemTuNhanModel.MaSoThe = dataItem.MaSoThe;\n        this.themBaoHiemTuNhanModel.NgayHetHan = dataItem.NgayHetHan;\n        this.themBaoHiemTuNhanModel.NgayHieuLuc = dataItem.NgayHieuLuc;\n        this.themBaoHiemTuNhanModel.SoDienThoai = dataItem.SoDienThoai;\n        //this.themBaoHiemTuNhanModel.STT = dataItem.STT;\n        this.enableUpdateGird(this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId);\n    }\n    SuaBHTN() {\n        let index = this.lstBHTN.find(obj => obj.CongTyBaoHiemTuNhanId == this.isIdNeedUpdate);\n        // this.lstBHTN.splice(this.lstBHTN.indexOf(index), 1);\n        // let isValid = this.checkValidAddBHTN(this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId);\n        if (this.isIdNeedUpdate != this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId) {\n            let isValid = this.checkValidAddBHTN(this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId);\n            if (isValid == false) {\n                this.disableUpdateGrid();\n                return;\n            }\n            ;\n        }\n        this.validationErrors = null;\n        //\n        //this.lstBHTN[this.lstBHTN.indexOf(index)] = this.themBaoHiemTuNhanModel;\n        this.lstBHTN.splice(this.lstBHTN.indexOf(index), 1);\n        this.apiService.post(\"TiepNhanBenhNhan/ThemThongTinBHTN\", this.themBaoHiemTuNhanModel).subscribe(resultData => {\n            if (resultData != undefined && resultData != null) {\n                this.lstBHTN.push(resultData);\n                this.setValueForGridBHTN();\n                this.disableUpdateGrid();\n            }\n            else {\n            }\n        }, (err) => {\n            // self.validationErrors = err.ValidationErrors;\n            if (err != undefined && err.ValidationErrors != null) {\n                this.validationErrors = err.ValidationErrors;\n            }\n            else if (err != undefined && err.Errors == null) {\n                //self.validationErrors.push({ \"Message\": err.Message });\n                this.notificationService.showError(err.Message);\n            }\n        });\n    }\n    removeGridKhamBenh(dataItem) {\n        this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_10__[\"ConfirmComponent\"], {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].format(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"SystemMessage\"].MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {\n            if (result == 'Yes') {\n                //console.log(\"removeGridKhamBenh = \", dataItem);\n                this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.splice(this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.indexOf(dataItem), 1);\n                this.setDataForDichVuKhamBenh();\n                this.setGiaBHYT();\n                this.refreshGrid();\n            }\n        });\n    }\n    removeGridKyThuat(dataItem) {\n        this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_10__[\"ConfirmComponent\"], {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].format(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"SystemMessage\"].MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {\n            if (result == 'Yes') {\n                //console.log(\"removeGridKhamBenh = \", dataItem);\n                this.tiepNhanBenhNhan.YeuCauKyThuatGrid.splice(this.tiepNhanBenhNhan.YeuCauKyThuatGrid.indexOf(dataItem), 1);\n                this.setDataForDichVuKyThuat();\n                this.refreshGrid();\n            }\n        });\n    }\n    removeGridKhac(dataItem) {\n        this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_10__[\"ConfirmComponent\"], {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].format(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"SystemMessage\"].MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {\n            if (result == 'Yes') {\n                //console.log(\"removeGridKhac = \", dataItem);\n                //this.tiepNhanBenhNhan.YeuCauKhacGrid.splice(this.tiepNhanBenhNhan.YeuCauKhacGrid.indexOf(dataItem), 1);\n                this.tiepNhanBenhNhan.YeuCauKhacGrid = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(obj => obj != dataItem);\n                this.setDataForDichVuKhac();\n                this.setGiaBHYT();\n                this.refreshGrid();\n                //console.log(\"removeGridKhac = \", this.tiepNhanBenhNhan.YeuCauKhacGrid);\n                //this.cdRef.detectChanges();\n                this.removeDanhSachTongCongFromDanhSachDaChon(dataItem);\n                this.notificationService.showSuccess(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"TiepNhanBenhNhanMessage\"].MessageRemoveDichVuSuccessfully);\n            }\n        });\n    }\n    removeGridKhacCoChietKhau(item) {\n        this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_10__[\"ConfirmComponent\"], {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].format(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"SystemMessage\"].MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {\n            if (result == 'Yes') {\n                let goiCoChietKhauId = item.data[0].items[0].GoiCoChietKhauId;\n                //console.log(\"removeGridKhacCoChietKhau1 = \", goiCoChietKhauId);\n                this.tiepNhanBenhNhan.YeuCauKhacGrid = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(obj => obj.GoiCoChietKhauId != goiCoChietKhauId);\n                // let index = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(obj => obj.GoiCoChietKhauId == goiCoChietKhauId);\n                // index.forEach(obj => {\n                //   this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o.GoiCoChietKhauId == goiCoChietKhauId)\n                //         .splice(this.tiepNhanBenhNhan.YeuCauKhacGrid.indexOf(obj), 1);\n                // });\n                //console.log(\"removeGridKhacCoChietKhau = \", index);\n                this.setDataForDichVuKhac();\n                this.refreshGrid();\n            }\n        });\n    }\n    // noiThucHienGridChange($event, dataItem) {\n    //     //console.log(\"noiThucHienGridChange = \", $event, dataItem);\n    // }\n    coBHYTChange($event) {\n        //console.log(\"coBHYTChange = \", $event);\n        // if ($event == true && this.tiepNhanBenhNhan.LyDoVaoVien == 1) {\n        //     this.themChiDinhDichVuModel.DuocHuongBHYT = true;\n        //     this.themChiDinhDichVuModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n        // }\n        // else {\n        //     this.themChiDinhDichVuModel.DuocHuongBHYT = false;\n        //     this.themChiDinhDichVuModel.BHYTMucHuong = null;\n        //     this.removeBHYTForGridChiDinhDichVu();\n        // }\n        if ($event != true) {\n            this.tiepNhanBenhNhan.TuNhap = false;\n            this.HoVaTenTextbox.focus();\n            this.tiepNhanBenhNhan.LyDoVaoVien = null;\n        }\n        else {\n            this.tiepNhanBenhNhan.LyDoVaoVien = 1;\n        }\n        this.xuLyKiemTraBenhNhanDuDieuKienTaoMoiYCTN($event);\n        this.setDuocHuongBHYT($event, this.tiepNhanBenhNhan.LyDoVaoVien);\n    }\n    tuNhapChange($event) {\n        if ($event == true) {\n            this.tiepNhanBenhNhan.CoBHYT = true;\n            this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n            this.tiepNhanBenhNhan.LyDoVaoVien = 1;\n        }\n        if ($event == false) {\n            this.tiepNhanBenhNhan.CoBHYT = false;\n            this.coBHYTChange(false);\n            this.tiepNhanBenhNhan.LyDoVaoVien = null;\n        }\n    }\n    mucHuongChange($event) {\n        this.tiepNhanBenhNhan.BHYTMucHuong = $event;\n        this.setGiaBHYT();\n    }\n    blurNgayHetHieuLuc($event) {\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n    }\n    onKeyNgayHetHieuLuc($event) {\n        if ($event.keyCode === 13) {\n            this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n        }\n    }\n    onKeyNgayCotHieuLuc($event) {\n        if ($event.keyCode === 13) {\n            this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n        }\n    }\n    blurNgayCoHieuLuc($event) {\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n    }\n    blurBHYTDiaChi($event) {\n        this.setDiaChiBHYTForModel(this.tiepNhanBenhNhan.BHYTDiaChi);\n    }\n    onKeyBHYTDiaChi($event) {\n        if ($event.keyCode === 13) {\n            this.setDiaChiBHYTForModel(this.tiepNhanBenhNhan.BHYTDiaChi);\n        }\n    }\n    blurMaNoiDKBD($event) {\n        this.setNoiDKBD(this.tiepNhanBenhNhan.BHYTMaDKBD);\n    }\n    onKeyMaNoiDKBD($event) {\n        if ($event.keyCode === 13) {\n            this.setNoiDKBD(this.tiepNhanBenhNhan.BHYTMaDKBD);\n        }\n    }\n    setNoiDKBD(ma) {\n        this.apiService.post(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + ma).subscribe(resultData => {\n            this.tiepNhanBenhNhan.NoiDangKyBHYT = resultData;\n        }, () => {\n            //return null;\n            //console.log(\"error\")\n        });\n    }\n    lyDoVaoVienChange($event) {\n        //console.log(\"tuyenChuyenChange = \", $event);\n        // if ($event == 1 && this.tiepNhanBenhNhan.CoBHYT == true) {\n        //     this.themChiDinhDichVuModel.DuocHuongBHYT = true;\n        //     this.themChiDinhDichVuModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n        //     this.addBHYTForGridChiDinhDichVu();\n        // }\n        // else {\n        //     this.themChiDinhDichVuModel.DuocHuongBHYT = false;\n        //     this.themChiDinhDichVuModel.BHYTMucHuong = null;\n        //     this.removeBHYTForGridChiDinhDichVu();\n        // }\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, $event);\n    }\n    onTabSelect($event) {\n        this.removeThemDichVuValue();\n        this.removeThemGoiValue();\n        //console.log(\"onTabSelect = \", $event);\n        if ($event != null && $event.index == 2 && this.under6yearsold) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if (this.under6yearsold == false) {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n    }\n    lichSuKBC() {\n        let dialogRef = this.dialog.open(_tiep_nhan_benh_nhan_popup_lich_su_kcb_tiep_nhan_benh_nhan_popup_lich_su_kcb_component__WEBPACK_IMPORTED_MODULE_31__[\"TiepNhanBenhNhanPopupLichSuKcbComponent\"], {\n            disableClose: false,\n            width: '1000px',\n            height: '409px',\n            data: this.lichSuKCB,\n        });\n        dialogRef.afterClosed().subscribe(result => {\n        });\n    }\n    lichSuKiemTraTheBHYT() {\n        let dialogRef = this.dialog.open(_tiep_nhan_benh_nhan_popup_lich_su_kiem_tra_the_bhyt_tiep_nhan_benh_nhan_popup_lich_su_kiem_tra_the_bhyt_component__WEBPACK_IMPORTED_MODULE_34__[\"TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent\"], {\n            disableClose: false,\n            width: '1200px',\n            height: '500px',\n            data: this.lichSuKiemTraTheBHYTGrid,\n        });\n        dialogRef.afterClosed().subscribe(result => {\n        });\n    }\n    duocHuongBHYTChange($event, maDichVuId, nhom) {\n        let item = this.tiepNhanBenhNhan.YeuCauKhacGrid\n            .filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n            .find(obj => obj.MaDichVuId == maDichVuId && obj.Nhom == nhom);\n        //console.log(\"duocHuongBHYTChange = \", maDichVuId, nhom, $event, item);\n        item.DuocHuongBHYT = $event;\n        if ($event) {\n            item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100;\n            item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n            item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n        }\n        else {\n            item.BHYTThanhToan = 0;\n            item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n            item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n        }\n        this.setGiaBHYT();\n        //this.setDataForDichVuKhac();\n        //this.refreshGrid();\n    }\n    setThongTinTaiKhoanBenhNhan(id) {\n        this.apiService.post(\"TiepNhanBenhNhan/GetThongTinTaiKhoanBenhNhan?idbenhNhan=\" + id).subscribe(resultData => {\n            this.thongTinTaiKhoanBenhNhan = resultData;\n        }, () => {\n            //return null;\n            //console.log(\"error\")\n        });\n    }\n    timKiemBenhNhanPopup() {\n        let dataTimKiem = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"DataTimKiem\"]();\n        dataTimKiem.searchBenhNhan = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"TimKiemBenhNhanGridVo\"]();\n        dataTimKiem.searchBenhNhan = this.modelTimKiemBenhNhan;\n        dataTimKiem.data = new Array();\n        dataTimKiem.data = this.lstBenhNhan;\n        let dialogRef = this.dialog.open(_popup_tim_kiem_benh_nhan_popup_tim_kiem_benh_nhan_component__WEBPACK_IMPORTED_MODULE_32__[\"PopupTimKiemBenhNhanComponent\"], {\n            disableClose: false,\n            width: '1400px',\n            height: '600px',\n            data: dataTimKiem,\n        });\n        dialogRef.afterClosed().subscribe(result => {\n            if (result != null && result != undefined) {\n                // console.log(\"data:\", result)\n                this.benhNhanIdPopup = result.Id;\n                this.coYeuCauGoiDichVu = result.CoYeuCauGoiDichVu;\n                //this.checkTNBNToDay(result.BHYTMaSoThe, result.Id);\n                this.checkTNBNToDay(result.BHYTMaSoThe, result.Id, true);\n                this.validationErrors = null;\n                //this.setThongTinTaiKhoanBenhNhan(result.Id);\n                //console.log(\"timKiemBenhNhanPopup = \", result);\n                //this.cdRef.detectChanges();\n                //set bhtn\n                if (result.BaoHiemTuNhans.length > 0) {\n                    this.lstBHTN = new Array();\n                    result.BaoHiemTuNhans.forEach(item => {\n                        let model = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemBaoHiemTuNhanGridVo\"]();\n                        model.CongTyBaoHiemTuNhanId = item.BHTNCongTyBaoHiemId;\n                        model.CongTyDisplay = item.CongTyDisplay;\n                        model.DiaChi = item.BHTNDiaChi;\n                        model.MaSoThe = item.BHTNMaSoThe;\n                        model.NgayHetHan = item.BHTNNgayHetHan;\n                        let dateNgayHetHan = new Date(model.NgayHetHan);\n                        model.NgayHetHanDisplay = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].formatDate(dateNgayHetHan, \"dd/mm/yyyy\");\n                        model.NgayHieuLuc = item.BHTNNgayHieuLuc;\n                        let dateNgayHieuLuc = new Date(model.NgayHieuLuc);\n                        model.NgayHieuLucDisplay = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].formatDate(dateNgayHieuLuc, \"dd/mm/yyyy\");\n                        model.SoDienThoai = item.BHTNSoDienThoai;\n                        this.lstBHTN.push(model);\n                    });\n                    this.setValueForGridBHTN();\n                }\n                //set benh nhan\n                this.tiepNhanBenhNhan.BenhNhanId = result.Id;\n                this.benhNhanId = result.Id;\n                //người giám hộ\n                this.tiepNhanBenhNhan.NguoiLienHeHoTen = result.NguoiLienHeHoTen;\n                this.tiepNhanBenhNhan.NguoiLienHeQuanHeNhanThanId = result.NguoiLienHeQuanHeNhanThanId;\n                this.tiepNhanBenhNhan.NguoiLienHeSoDienThoai = result.NguoiLienHeSoDienThoai;\n                this.tiepNhanBenhNhan.NguoiLienHeEmail = result.NguoiLienHeEmail;\n                this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId = result.NguoiLienHeTinhThanhId;\n                this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId = result.NguoiLienHeQuanHuyenId;\n                this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = result.NguoiLienHePhuongXaId;\n                this.tiepNhanBenhNhan.NguoiLienHeDiaChi = result.NguoiLienHeDiaChi;\n                //Nơi giới thiệu , hiển thị nơi giới thiệu              \n                this.tiepNhanBenhNhan.HinhThucDenId = result.HinhThucDenId;\n                this.tiepNhanBenhNhan.NoiGioiThieuId = result.NoiGioiThieuId;\n                //Do quận huyện nó không bind do cơ chế chạy trước sau nên ta set lại cho comboxQuanHuyen này\n                //this.bindComboboxQuanHuyen(result)\n                this.getDanhSachGoiBenhNhan(this.benhNhanId);\n                this.setValueFromBenhNhanToYeuCauTiepNhan(result);\n                this.timKiemBenhNhan(this.modelTimKiemBenhNhan);\n                this.xuLyKiemTraBenhNhanDuDieuKienTaoMoiYCTN();\n            }\n        });\n    }\n    checkTNBNToDay(maThe, id = 0, khongDongPopup = false) {\n        // Hàm này lúc dev cũ viết nhằm mục đích là tự động chuyển sang trang cập nhật YCTN nếu API trả về id YCTN, \n        // Nhưng theo logic mới thì đã bỏ tự động chuyển trang, nếu muốn chuyển sang cập nhật YCTN phải chọn button ở góc dưới cùng bên trái\n        // var idOld = this.route.snapshot.params.id;\n        // if (idOld == null || idOld <= 0) {\n        //     this.apiService.post<any>(\"TiepNhanBenhNhan/GetYeuCauTiepNhanOfBenhNhan?maSoBHYT=\" + maThe + \"&id=\" + id).subscribe(\n        //         resultData => {\n        //             if (resultData != null) {\n        //                 if(!khongDongPopup)\n        //                 {\n        //                     this.dialog.closeAll();\n        //                 }\n        //                 // cập nhật điều kiện tạo mới yctn\n        //                 //this.router.navigate(['danh-sach-tiep-nhan/chinh-sua/' + resultData]);\n        //                 // chuyển về xử lý chung ở function kiểm tra lỗi tạo mới YCTN\n        //                 //this.urlPageUpdateYCTN = 'danh-sach-tiep-nhan/chinh-sua/' + resultData;\n        //             }\n        //             else\n        //             {\n        //                 // cập nhật điều kiện tạo mới yctn\n        //                 //this.urlPageUpdateYCTN = null;\n        //             }\n        //         },\n        //         () => {\n        //             //return null;\n        //             //console.log(\"error\")\n        //         });\n        // }\n    }\n    setValueFromBenhNhanToYeuCauTiepNhan(benhNhan) {\n        this.tiepNhanBenhNhan.BHYTMaDKBD = benhNhan.BHYTMaDKBD;\n        this.tiepNhanBenhNhan.BHYTDiaChi = benhNhan.BHYTMaDKBD;\n        this.tiepNhanBenhNhan.BHYTMaSoThe = benhNhan.BHYTMaSoThe;\n        this.tiepNhanBenhNhan.BHYTNgayDu5Nam = benhNhan.BHYTNgayDu5Nam;\n        this.tiepNhanBenhNhan.BHYTDuocMienCungChiTra = benhNhan.BHYTDuocMienCungChiTra;\n        this.tiepNhanBenhNhan.BHYTNgayHieuLuc = benhNhan.BHYTNgayHieuLuc;\n        this.tiepNhanBenhNhan.BHYTNgayHetHan = benhNhan.BHYTNgayHetHan;\n        this.tiepNhanBenhNhan.BHYTCoQuanBHXH = benhNhan.BHYTCoQuanBHXH;\n        this.tiepNhanBenhNhan.CoBHTN = benhNhan.CoBHTN;\n        this.tiepNhanBenhNhan.CoBHYT = benhNhan.CoBHYT;\n        if (this.tiepNhanBenhNhan.CoBHYT == true) {\n            this.tiepNhanBenhNhan.LyDoVaoVien = 1;\n        }\n        else {\n            this.tiepNhanBenhNhan.LyDoVaoVien = null;\n        }\n        this.tiepNhanBenhNhan.NgaySinh = benhNhan.NgaySinh;\n        this.tiepNhanBenhNhan.NamSinh = benhNhan.NamSinh;\n        this.tiepNhanBenhNhan.ThangSinh = benhNhan.ThangSinh;\n        this.tiepNhanBenhNhan.NgayThangNamSinh = benhNhan.NgayThangNamSinh;\n        this.tiepNhanBenhNhan.HoTen = benhNhan.HoTen;\n        this.getAge(this.tiepNhanBenhNhan.NgayThangNamSinh, new Date);\n        this.tiepNhanBenhNhan.TinhThanhId = 0;\n        var self = this;\n        setTimeout(function () {\n            self.tiepNhanBenhNhan.TinhThanhId = benhNhan.TinhThanhId;\n            self.tiepNhanBenhNhan.QuanHuyenId = benhNhan.QuanHuyenId;\n            self.tiepNhanBenhNhan.PhuongXaId = benhNhan.PhuongXaId;\n        }, 1000);\n        this.tiepNhanBenhNhan.QuocTichId = benhNhan.QuocTichId;\n        //this.tiepNhanBenhNhan.DanTocId = benhNhan.DanTocId;\n        this.tiepNhanBenhNhan.DiaChi = benhNhan.DiaChi;\n        this.tiepNhanBenhNhan.SoDienThoai = benhNhan.SoDienThoai;\n        this.tiepNhanBenhNhan.SoChungMinhThu = benhNhan.SoChungMinhThu;\n        this.tiepNhanBenhNhan.Email = benhNhan.Email;\n        this.tiepNhanBenhNhan.NgheNghiepId = benhNhan.NgheNghiepId;\n        this.tiepNhanBenhNhan.GioiTinh = benhNhan.GioiTinh;\n        //this.tiepNhanBenhNhan.BHYTMaKhuVuc = benhNhan.BHYTMaKhuVuc;\n        this.tiepNhanBenhNhan.BHYTNgayDuocMienCungChiTra = benhNhan.BHYTNgayDuocMienCungChiTra;\n        this.tiepNhanBenhNhan.NoiLamViec = benhNhan.NoiLamViec;\n        //BHYT information\n        // this.tiepNhanBenhNhan.NgayThangNamSinhDisplay = benhNhan.NgayThangNamSinhDisplay;\n        // this.tiepNhanBenhNhan.NgayDu5NamDisplay = benhNhan.BHYTNgayDu5NamDisplay;\n        // this.apiService.post<string>(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + benhNhan.BHYTMaDKBD).subscribe(\n        //     resultData => {\n        //         this.tiepNhanBenhNhan.NoiDangKyBHYT = resultData;\n        //     },\n        //     () => {\n        //         //return null;\n        //         //console.log(\"error\")\n        //     });\n        if (benhNhan.CoBHYT != true)\n            return;\n        //if (this.isCheckedBHYT == true) return;\n        this.isCheckedBHYT = true;\n        this.thongTinBenhNhan.MaThe = this.tiepNhanBenhNhan.BHYTMaSoThe;\n        this.thongTinBenhNhan.TenBenhNhan = this.tiepNhanBenhNhan.HoTen;\n        this.thongTinBenhNhan.NgaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n        this.thongTinBenhNhan.NamSinh = this.tiepNhanBenhNhan.NamSinh;\n        var datePipe = new _angular_common__WEBPACK_IMPORTED_MODULE_18__[\"DatePipe\"](\"en-US\");\n        this.thongTinBenhNhan.NgaySinhDisplay = datePipe.transform(this.tiepNhanBenhNhan.NgayThangNamSinh, 'dd/MM/yyyy');\n        if (this.thongTinBenhNhan.MaThe != null && this.thongTinBenhNhan.TenBenhNhan != null\n            && (this.thongTinBenhNhan.NgaySinh != null || this.thongTinBenhNhan.NamSinh != null)) {\n            //console.log(\"thongTinBenhNhan = \", this.thongTinBenhNhan);\n            let dialogRef = this.dialog.open(_tiep_nhan_benh_nhan_cho_quet_tiep_nhan_benh_nhan_cho_quet_component__WEBPACK_IMPORTED_MODULE_17__[\"TiepNhanBenhNhanChoQuetComponent\"], {\n                disableClose: true,\n                width: '500px',\n                height: '250px',\n                data: this.thongTinBenhNhan,\n            });\n            dialogRef.afterClosed().subscribe(result => {\n                //console.log(\"close = \", result);\n                if (result === undefined) {\n                    //cheat vi khong hieu sao ra duoc\n                }\n                // else if (result == null || (result != null && result.maKetQua == \"050\")) {\n                else if (result == null || (result != null && result.maKetQua !== \"000\" && result.maKetQua !== \"004\")) {\n                    //this.clearData();\n                    //this.notificationService.showError(TiepNhanBenhNhanMessage.MessageSaiThongTinBenhNhan);\n                    //\n                    this.tiepNhanBenhNhan.MessageErrFromBHYT = result != null ? result.ghiChu : null;\n                    let dialogRef = this.dialog.open(_tiep_nhan_benh_nhan_error_tiep_nhan_benh_nhan_error_component__WEBPACK_IMPORTED_MODULE_22__[\"TiepNhanBenhNhanErrorComponent\"], {\n                        disableClose: false,\n                        width: '700px',\n                        height: '300px',\n                        data: this.tiepNhanBenhNhan,\n                    });\n                    dialogRef.afterClosed().subscribe(result => {\n                        //document.getElementById(\"SoTheBHYTisAutoFocus\").focus();\n                        this.isCheckedBHYT = false;\n                        if (result == 2) {\n                            this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                            this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].KhongXacDinh;\n                            this.tiepNhanBenhNhan.CoBHYT = true;\n                            this.tiepNhanBenhNhan.TuNhap = true;\n                        }\n                        else if (result == 1) {\n                            this.tiepNhanBenhNhan.CoBHYT = false;\n                            this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].KhongXacDinh;\n                            this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                        }\n                        else if (result != undefined) {\n                            //console.log(\"------- \", result);\n                            this.setValueBHYT(result);\n                        }\n                    });\n                    //\n                }\n                else {\n                    //console.log(\"onkey = \",event, this.tiepNhanBenhNhan.BHYTMaSoThe)\n                    this.isCheckedBHYT = false;\n                    this.setValueBHYT(result);\n                }\n            });\n        }\n        else {\n            this.isCheckedBHYT = false;\n        }\n        /////////////\n    }\n    onSelectChangeVoucher(voucherId) {\n        var last = voucherId[voucherId.length - 1];\n        if (last == undefined)\n            this.loaiVoucher = 0;\n        this.apiService.post(\"ThuNgan/GetMaVoucher?loaiVoucher=\" + this.loaiVoucher).subscribe(resultData => {\n            if (resultData !== null && resultData !== undefined) {\n                this.voucherLookupItemVo = resultData;\n                this.voucherLookupItemVo.forEach(element => {\n                    if (element.KeyId == last) {\n                        this.loaiVoucher = element.LoaiVoucher;\n                    }\n                });\n            }\n        });\n    }\n    getDanhSachGoiBenhNhan(benhNhanId) {\n        this.apiService.post(\"TiepNhanBenhNhan/GetMarketingForBenhNhan?benhNhanId=\" + benhNhanId).subscribe(resultData => {\n            this.danhSachGoiDaChonTrongYCTN = resultData;\n            if (resultData !== null && resultData !== undefined && resultData.length > 0) {\n                this.suDungGoiMarketingModelTemp = true;\n                this.disabledCheckboxMarketing = true;\n            }\n            else {\n                this.suDungGoiMarketingModelTemp = false;\n                this.disabledCheckboxMarketing = false;\n            }\n        });\n    }\n    suDungGoiMarketingChange(event) {\n        //console.log(\"suDungGoiMarketingChange = \", event);\n        if (event) {\n            this.openPopupGoiDichVu();\n        }\n    }\n    showPopupMarketingWithHyperlink(item) {\n        //console.log(\"showPopupMarketingWithHyperlink = \", item);\n        this.openPopupGoiDichVu(item);\n    }\n    removeGoi(item) {\n        //console.log(\"removeGoi = \", item, this.tiepNhanBenhNhan.YeuCauKhacGrid);\n        if (this.isActiveAction != null) {\n            this.dialog.closeAll();\n            this.isActiveAction = null;\n        }\n        this.isActiveAction = this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_10__[\"ConfirmComponent\"], {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"TiepNhanBenhNhanMessage\"].MessageConfirmRemoveGoi }\n        }).afterClosed().subscribe(result => {\n            if (result == \"Yes\") {\n                this.removeGoiOnDichVu(item);\n            }\n            else {\n                this.removeDichVuGoi(item);\n            }\n        });\n        this.removeGoiDaChon(item.ChuongTrinhGoiDichVuId);\n    }\n    removeGoiDaChon(id) {\n        this.danhSachGoiDaChonTrongYCTN = this.danhSachGoiDaChonTrongYCTN.filter(o => o.ChuongTrinhGoiDichVuId != id);\n        this.danhSachDichVuDaChonTrongLanPopup = this.danhSachDichVuDaChonTrongLanPopup.filter(o => o.ChuongTrinhGoiDichVuId != id);\n    }\n    removeDichVuGoi(item) {\n        console.log(\"removeDichVuGoi = \", item, this.tiepNhanBenhNhan.YeuCauKhacGrid);\n        this.tiepNhanBenhNhan.YeuCauKhacGrid = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o.GoiCoChietKhauId != item.ChuongTrinhGoiDichVuId);\n        this.setDataForDichVuKhac();\n        this.refreshGrid();\n    }\n    removeGoiOnDichVu(item) {\n        // this.tiepNhanBenhNhan.YeuCauKhacGrid.forEach(o => {\n        //     if(item.ChuongTrinhGoiDichVuId == o.GoiCoChietKhauId){\n        //         o.\n        //     }\n        // });\n        for (let i = 0; i < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; i++) {\n            let object = this.tiepNhanBenhNhan.YeuCauKhacGrid[i];\n            if (item.ChuongTrinhGoiDichVuId == object.GoiCoChietKhauId) {\n                object.GoiCoChietKhauId = null;\n                object.IsGoiCoChietKhau = false;\n            }\n        }\n        this.setDataForDichVuKhac();\n        this.refreshGrid();\n    }\n    openPopupGoiDichVu(danhSachGoiDaChon = null) {\n        var self = this;\n        if (self.authService.hasPermission(self.documentType, src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_11__[\"SecurityOperation\"].View)) {\n            self.dialog.open(_popup_marketing_tiep_nhan_benh_nhan_popup_marketing_tiep_nhan_benh_nhan_component__WEBPACK_IMPORTED_MODULE_36__[\"PopupMarketingTiepNhanBenhNhanComponent\"], {\n                disableClose: false,\n                width: '1800px',\n                data: {\n                    data: this.danhSachGoiDaChonTrongYCTN, benhNhanId: this.tiepNhanBenhNhan.BenhNhanId,\n                    danhSachDichVuGoiDaChon: this.danhSachDichVuDaChonTrongLanPopup, itemPopup: danhSachGoiDaChon,\n                    danhSachDichVuDangCo: this.tiepNhanBenhNhan.YeuCauKhacGrid\n                }\n            }).afterClosed().subscribe(result => {\n                //console.log('openPopupGoiDichVu', result);\n                if (result != undefined && result.length > 0) {\n                    this.danhSachDichVuGoiDaChon = new Array();\n                    result.forEach(e => {\n                        let item = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"ThemChiDinhDichVu\"]();\n                        item.LaGoi = true;\n                        item.TenNhomDichVu = e.TenNhomDichVu;\n                        item.MaDichVuId = e.DichVuId;\n                        item.SoLuong = e.SoLuongDungLanNay;\n                        item.chuongTrinhGoiDichVuId = e.ChuongTrinhGoiDichVuId;\n                        item.YeuCauGoiDichVuId = e.YeuCauGoiDichVuId;\n                        //cheat cho lẹ\n                        item.DuocHuongBHYT = this.themChiDinhDichVuModel.DuocHuongBHYT;\n                        this.danhSachDichVuGoiDaChon.push(item);\n                    });\n                    this.themChiDinhDichVuKhacKhamBenh(6, this.danhSachDichVuGoiDaChon);\n                    this.copyDanhSachTongCong(result);\n                    this.updateDanhSachGoiChon(result);\n                }\n                if (result == undefined && this.disabledCheckboxMarketing != true && this.danhSachDichVuDaChonTrongLanPopup.length == 0) {\n                    this.suDungGoiMarketingModelTemp = false;\n                }\n                // if(yeuCauGoiMarketing != undefined && yeuCauGoiMarketing != null && yeuCauGoiMarketing != \"\")\n                // {\n                // }\n            });\n        }\n        else {\n            self.notificationService.showError(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"SystemMessage\"].UnAuthorizedMessage);\n        }\n    }\n    addDanhSachTongCongFromDanhSachDaChon(data) {\n        data.forEach(o => {\n            let item = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"DanhSachDichVuChonTrongLanPopup\"]();\n            item.TenNhomDichVu = o.TenNhomDichVu;\n            item.DichVuId = o.MaDichVuId;\n            item.SoLuongDungLanNay = o.SoLuong;\n            item.ChuongTrinhGoiDichVuId = o.chuongTrinhGoiDichVuId;\n            item.BenhNhanId = this.tiepNhanBenhNhan.BenhNhanId;\n            item.YeuCauGoiDichVuId = o.YeuCauGoiDichVuId;\n            item.ThuocGoi = o.ThuocGoi;\n            this.danhSachDichVuDaChonTrongLanPopup.push(item);\n        });\n    }\n    removeDanhSachTongCongFromDanhSachDaChon(data) {\n        //console.log(\"removeDanhSachTongCongFromDanhSachDaChon = \", data, this.danhSachDichVuDaChonTrongLanPopup);\n        if (data.IsGoiCoChietKhau) {\n            let item = this.danhSachDichVuDaChonTrongLanPopup.filter(e => e.YeuCauGoiDichVuId == data.GoiCoChietKhauIdTemp && e.DichVuId == data.MaDichVuId)[0];\n            // this.danhSachDichVuDaChonTrongLanPopup \n            // = this.danhSachDichVuDaChonTrongLanPopup.filter(e => e.ChuongTrinhGoiDichVuId != data.GoiCoChietKhauId && e.DichVuId != data.MaDichVuId);\n            this.danhSachDichVuDaChonTrongLanPopup\n                = this.danhSachDichVuDaChonTrongLanPopup.filter(e => e != item);\n            //console.log(\"Co chiet khau, \", this.danhSachDichVuDaChonTrongLanPopup);\n        }\n        //let item = this.danhSachDichVuDaChonTrongLanPopup.filter(e => e.TenChuongTrinh == o.ThuocGoi);\n    }\n    copyDanhSachTongCong(data) {\n        data.forEach(o => {\n            // let item = this.danhSachDichVuDaChonTrongLanPopup.filter(e => e == data);\n            // if(item == undefined || item.length == 0){\n            //     this.danhSachDichVuDaChonTrongLanPopup.push(data);\n            // }\n            //code tiep\n            this.danhSachDichVuDaChonTrongLanPopup.push(o);\n        });\n    }\n    updateDanhSachGoiChon(data) {\n        console.log(\"updateDanhSachGoiChon = \", data);\n        data.forEach(o => {\n            let item = this.danhSachGoiDaChonTrongYCTN.filter(e => e.TenChuongTrinh == o.ThuocGoi);\n            if (item == undefined || item.length == 0) {\n                let itemAdd = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"DanhSachGoiChon\"]();\n                itemAdd.BenhNhanId = this.tiepNhanBenhNhan.BenhNhanId;\n                itemAdd.ChuongTrinhGoiDichVuId = o.ChuongTrinhGoiDichVuId;\n                itemAdd.IsFromMarketing = o.IsFromMarketing;\n                itemAdd.TenChuongTrinh = o.ThuocGoi;\n                itemAdd.YeuCauGoiDichVuId = o.YeuCauGoiDichVuId;\n                itemAdd.DaThanhToan = o.DaThanhToan;\n                itemAdd.TenGoiDichVu = o.TenGoi;\n                this.danhSachGoiDaChonTrongYCTN.push(itemAdd);\n            }\n        });\n    }\n    onOpenChange() {\n        this.voucherList.getDataForLookup();\n    }\n    soNhaDuongPhoChange(model) {\n        this.tiepNhanBenhNhan.DiaChi = model;\n        if (this.under6yearsold) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if (this.under6yearsold == false) {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n        //console.log(\"change = \", model, model != null && model != undefined, model != \"\");\n        //console.log(\"soNhaDuongPhoChange123 = \", model);\n        // if(model != null && model != undefined && model != \"\"){\n        //     let arrayDiaChi = model.split(\" \");\n        //     let resultString = \"\";\n        //     //console.log(\"soNhaDuongPhoChange = \", arrayDiaChi);\n        //     \n        //     arrayDiaChi.forEach(e => {\n        //         if(e != undefined && e != null && e != \"\"){\n        //             if(resultString == \"\"){\n        //                 resultString = e[0].toUpperCase() + e.slice(1);\n        //             }\n        //             else{\n        //                 resultString = resultString + \" \" +  e[0].toUpperCase() + e.slice(1);\n        //             }\n        //         }\n        //         else if(e == \"\"){\n        //             resultString = resultString + \" \";\n        //         }\n        //     });\n        //     this.tiepNhanBenhNhan.DiaChi = resultString;\n        //     //this.tiepNhanBenhNhan.DiaChi = model[0].toUpperCase() + model.slice(1);\n        // }\n    }\n    // noiThucHienChange($event){\n    //     if($event != null && $event != undefined && $event.length > 0)\n    //     {\n    //         this.themChiDinhDichVuModel.NoiThucHienId = $event[0].KeyId;\n    //     }\n    // }\n    // noiThucHienGridChange($event, dataItem) {\n    //     // let model = this.tiepNhanBenhNhan.YeuCauKhacGrid.find(obj => obj == dataItem);\n    //     // ;\n    //     // console.log(\"noiThucHienGridChange = \", $event, dataItem, model);\n    //     // if ($event != null && $event != undefined && $event.length > 0) {\n    //     //     //this.themChiDinhDichVuModel.NoiThucHienId = $event[0].KeyId;\n    //     //     if (model != undefined  && model.NoiThucHienId === null) {\n    //     //         model.NoiThucHienId = $event[0].KeyId;\n    //     //     }\n    //     // }\n    //     // else {\n    //     //     if (model != undefined && model.NoiThucHienId === null) {\n    //     //         model.NoiThucHienId = $event[0].KeyId;\n    //     //     }\n    //     //     //this.themChiDinhDichVuModel.NoiThucHienId = null;\n    //     // }\n    // }\n    NamSinhChange(event) {\n        //console.log(\"NamSinhChange = \", event);\n        let dateNow = new Date();\n        if (event >= dateNow.getFullYear() - 6) {\n            this.under6yearsold = true;\n            this.soTuoiDisplay = dateNow.getFullYear() - event + \" Tuổi \" + 0 + \" Tháng \" + 0 + \" Ngày \";\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        else {\n            this.under6yearsold = false;\n            this.soTuoiDisplay = dateNow.getFullYear() - event + \" Tuổi\";\n        }\n        // this.soTuoiDisplay = dateNow.getFullYear() - event + \" Tuổi \" + 0 + \" Tháng \" + 0 + \" Ngày \";\n        if (this.under6yearsold == true) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if (this.under6yearsold == false) {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n    }\n    getAge(date_1, date_2) {\n        if ((date_1 == undefined || date_1 == null) && this.tiepNhanBenhNhan.NamSinh != undefined && this.tiepNhanBenhNhan.NamSinh != null && this.tiepNhanBenhNhan.NamSinh != 0) {\n            date_1 = new Date(this.tiepNhanBenhNhan.NamSinh, 1, 1);\n        }\n        date_1 = new Date(date_1);\n        date_2 = new Date(date_2);\n        //convert to UTC\n        let date2_UTC = new Date(Date.UTC(date_2.getFullYear(), date_2.getMonth(), date_2.getDate()));\n        let date1_UTC = new Date(Date.UTC(date_1.getFullYear(), date_1.getMonth(), date_1.getDate()));\n        //console.log(date1_UTC, date2_UTC, date_1, date_2);\n        let yAppendix, mAppendix, dAppendix;\n        //--------------------------------------------------------------\n        let days = date2_UTC.getDate() - date1_UTC.getDate();\n        if (days < 0) {\n            date2_UTC.setMonth(date2_UTC.getMonth() - 1);\n            days += this.DaysInMonth(date2_UTC);\n        }\n        //--------------------------------------------------------------\n        let months = date2_UTC.getMonth() - date1_UTC.getMonth();\n        if (months < 0) {\n            date2_UTC.setFullYear(date2_UTC.getFullYear() - 1);\n            months += 12;\n        }\n        //--------------------------------------------------------------\n        let years = date2_UTC.getFullYear() - date1_UTC.getFullYear();\n        if (years > 1)\n            yAppendix = \" years\";\n        else\n            yAppendix = \" year\";\n        if (months > 1)\n            mAppendix = \" months\";\n        else\n            mAppendix = \" month\";\n        if (days > 1)\n            dAppendix = \" days\";\n        else\n            dAppendix = \" day\";\n        if ((years < 6 && years >= 0) || (years == 6 && months == 0 && days == 0)) {\n            this.under6yearsold = true;\n            this.soTuoiDisplay = years + \" Tuổi \" + months + \" Tháng \" + days + \" Ngày \";\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        else {\n            this.under6yearsold = false;\n            this.soTuoiDisplay = years + \" Tuổi\";\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n        //this.soTuoiDisplay = years + \" Tuổi \" + months + \" Tháng \" + days + \" Ngày \";\n        //console.log(years + yAppendix + \", \" + months + mAppendix + \", and \" + days + dAppendix);\n    }\n    DaysInMonth(date2_UTC) {\n        let monthStart = new Date(date2_UTC.getFullYear(), date2_UTC.getMonth(), 1);\n        let monthEnd = new Date(date2_UTC.getFullYear(), date2_UTC.getMonth() + 1, 1);\n        let monthLength = (monthEnd - monthStart) / (1000 * 60 * 60 * 24);\n        return monthLength;\n    }\n    tabscripChange(event) {\n        //console.log(\"tabscripChange = \", event, event.path[0].id == \"k-tabstrip-tab-0\");\n        if (event.keyCode === 9 && (event.path != null && event.path[0].id == \"k-tabstrip-tab-0\")) {\n            this.tabStrip.selectTab(0);\n            let self = this;\n            setTimeout(function () {\n                //console.log(\"setTimeout = \", self.dichVuCombobox);\n                if (self.dichVuCombobox != undefined) {\n                    self.dichVuCombobox.focusManual();\n                }\n            }, 100);\n        }\n    }\n    cloneDiaChiNguoiGiamHo() {\n        this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId = this.tiepNhanBenhNhan.TinhThanhId;\n        this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId = this.tiepNhanBenhNhan.QuanHuyenId;\n        this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = this.tiepNhanBenhNhan.PhuongXaId;\n        this.tiepNhanBenhNhan.NguoiLienHeDiaChi = this.tiepNhanBenhNhan.DiaChi;\n    }\n    cloneDiaChiNguoiGiamLonHon6Tuoi() {\n        this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId = null;\n        this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId = null;\n        this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = null;\n        this.tiepNhanBenhNhan.NguoiLienHeDiaChi = null;\n    }\n    ngayCoHieuLucChange($event) {\n        //console.log(\"ngayCoHieuLucChange, event = \", $event, \" , ngaycohieuluc = \", this.tiepNhanBenhNhan.BHYTNgayHieuLuc, this.tiepNhanBenhNhan.BHYTNgayHetHan);\n        if ($event != null && $event != undefined) {\n            //let dateFormat = new Date($event);\n            //this.tiepNhanBenhNhan.BHYTNgayHetHan = new Date(dateFormat.getFullYear() + 1, dateFormat.getMonth(), dateFormat.getDate());\n            //BVHD-3518: mặc định là ngà 31/12 của năm hiện tại\n            let currentDate = new Date();\n            this.tiepNhanBenhNhan.BHYTNgayHetHan = new Date(currentDate.getFullYear(), 11, 31);\n        }\n    }\n    soLuongGridChange($event, dataItem) {\n        let data = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o == dataItem);\n        if ($event != null && $event != undefined && $event != 0) {\n            data[0].SoLuong = $event;\n            this.setGiaBHYT();\n        }\n        else {\n            data[0].SoLuong = 0;\n            this.setGiaBHYT();\n        }\n        this.updateSoLuongForDichVuGoi(data[0]);\n    }\n    updateSoLuongForDichVuGoi(data) {\n        //console.log(\"updateSoLuongForDichVuGoi = \", data, this.danhSachDichVuDaChonTrongLanPopup, this.tiepNhanBenhNhan.YeuCauKhacGrid);\n        if (data.IsGoiCoChietKhau) {\n            let item = this.danhSachDichVuDaChonTrongLanPopup.filter(o => o.DichVuId == data.MaDichVuId\n                && o.ThuocGoi == data.TenGoiChietKhau);\n            if (item != undefined && item.length > 0) {\n                item[0].SoLuongDungLanNay = data.SoLuong;\n            }\n        }\n    }\n    loaiGiaGridChange($event, dataItem) {\n        //console.log($event, dataItem);\n        let data = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o == dataItem);\n        if ($event != null && $event != undefined && dataItem != null && dataItem != undefined) {\n            let url = \"TiepNhanBenhNhan/GetDonGiaKyThuat\";\n            if (dataItem.Nhom == \"DỊCH VỤ KỸ THUẬT\") {\n                url = \"TiepNhanBenhNhan/GetDonGiaKyThuat\";\n            }\n            else if (dataItem.Nhom == \"DỊCH VỤ GIƯỜNG\") {\n                url = \"TiepNhanBenhNhan/GetDonGiaGiuongBenh\";\n            }\n            else {\n                url = \"TiepNhanBenhNhan/GetDonGia\";\n            }\n            let model = {};\n            model.NhomGiaDichVuKhamBenhBenhVienId = $event;\n            model.DichVuKhamBenhBenhVienId = data[0].MaDichVuId;\n            this.apiService.post(url, model).subscribe(resultData => {\n                if (resultData != undefined && resultData != null) {\n                    //console.log(\"Gia = \", resultData);\n                    if (url == \"TiepNhanBenhNhan/GetDonGiaKyThuat\") {\n                        data[0].DonGia = resultData.DonGia;\n                    }\n                    else {\n                        data[0].DonGia = resultData;\n                    }\n                    this.setGiaBHYT();\n                }\n                else {\n                    //console.log(\"Gia = \", 0);\n                    data[0].DonGia = 0;\n                    this.setGiaBHYT();\n                }\n            }, (err) => {\n            });\n        }\n        else {\n            //console.log(\"Gia = \", 0);\n            data[0].DonGia = 0;\n            this.setGiaBHYT();\n        }\n    }\n    QuetMaQRCodeVoucherClick() {\n        let elementBarcode = document.getElementById(\"barcodeActive\");\n        if (elementBarcode != undefined) {\n            elementBarcode.click();\n        }\n    }\n    changeVoucherQR($event) {\n        if ($event != null && typeof $event == \"string\" && $event.endsWith(\"@\")) {\n            this.modelQRCodeVoucher = $event;\n            var maVoucher = $event.split(\"@\");\n            if (maVoucher.length > 1) {\n                this.kiemTraThongTinMaVoucher(maVoucher[0]);\n            }\n            else {\n                this.notificationService.showError(\"Mã voucher không hợp lệ.\");\n            }\n        }\n    }\n    kiemTraThongTinMaVoucher(maVoucher) {\n        this.listVoucherItem = [];\n        this.apiService.post(\"TiepNhanBenhNhan/KiemTraVoucherHopLe?maVoucher=\" + maVoucher)\n            .subscribe((resultData) => {\n            if (resultData.Item1 === 0) {\n                this.notificationService.showError(resultData.Item2);\n                this.newBarcode = \"\";\n            }\n            else {\n                let kiemTraMaVoucher = false;\n                if (this.tiepNhanBenhNhan.LstMaVoucher.length > 0) {\n                    this.tiepNhanBenhNhan.LstMaVoucher.forEach(element => {\n                        var dataVoucher = element.split(\"|\");\n                        if (dataVoucher[1] === maVoucher) {\n                            kiemTraMaVoucher = true;\n                        }\n                    });\n                }\n                if (!kiemTraMaVoucher) {\n                    this.notificationService.showSuccess(resultData.Item2);\n                    //neu voucher thành công\n                    this.value.push(maVoucher);\n                    this.tiepNhanBenhNhan.LstMaVoucher.push(resultData.Item1 + \"|\" + maVoucher);\n                    this.listVoucherItem.push(resultData.Item1 + \"|\" + maVoucher);\n                    this.newBarcode = \"\";\n                }\n            }\n        });\n    }\n    open() {\n        this.multiselect.toggle(false);\n    }\n    removeTag(ev) {\n        let maVouchers = [];\n        if (this.tiepNhanBenhNhan.LstMaVoucher.length > 0) {\n            this.tiepNhanBenhNhan.LstMaVoucher.forEach(element => {\n                var dataVoucher = element.split(\"|\");\n                if (dataVoucher[1] !== ev.dataItem) {\n                    maVouchers.push(dataVoucher[0] + \"|\" + dataVoucher[1]);\n                }\n            });\n            this.listVoucherItem = maVouchers;\n            this.tiepNhanBenhNhan.LstMaVoucher = maVouchers;\n            this.newBarcode = \"\";\n            //this.listVoucherItem = this.value;\n        }\n    }\n    blurVoucher() {\n        if (this.newBarcode != \"\") {\n            this.kiemTraThongTinMaVoucher(this.newBarcode);\n        }\n        ;\n    }\n    onKeyBarCode(event) {\n        if (event.keyCode === 13) {\n            this.multiselect.blur();\n            this.multiselect.focus();\n        }\n    }\n    filterChange(filter) {\n        if (filter != null && filter != \"\") {\n            this.newBarcode = filter;\n        }\n    }\n    cacDichVuKM() {\n        this.dialog.open(_dich_vu_khuyen_mai_dich_vu_khuyen_mai_popup_dich_vu_khuyen_mai_popup_component__WEBPACK_IMPORTED_MODULE_39__[\"DichVuKhuyenMaiPopupComponent\"], {\n            disableClose: false,\n            width: '1500px',\n            data: { BenhNhanId: this.benhNhanIdPopup, DocumentType: \"YeuCauTiepNhan\" }\n        }).afterClosed().subscribe(() => {\n        });\n    }\n    //===================================BVHD-3825==========================================\n    xemGoiDichVuKhuyenMai() {\n        var self = this;\n        if (self.authService.hasPermission(self.documentType, src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_11__[\"SecurityOperation\"].View)) {\n            // self.dialog.open(LanKhamHienTaiSuDungGoiDichVuPopupComponent, {\n            let dichVuDangChons = [];\n            this.tiepNhanBenhNhan.YeuCauKhacGrid.forEach(element => {\n                if (element.YeuCauGoiDichVuKhuyenMaiId != null && element.YeuCauGoiDichVuKhuyenMaiId != 0) {\n                    let dichVu = {\n                        Id: 0,\n                        DichVuBenhVienId: element.MaDichVuId,\n                        NhomGiaId: element.LoaiGiaId,\n                        NhomId: element.NhomId,\n                        YeuCauGoiDichVuId: element.YeuCauGoiDichVuKhuyenMaiId,\n                        SoLuong: element.SoLuong\n                    };\n                    dichVuDangChons.push(dichVu);\n                }\n            });\n            self.dialog.open(_dich_vu_khuyen_mai_dich_vu_khuyen_mai_popup_dich_vu_khuyen_mai_popup_component__WEBPACK_IMPORTED_MODULE_39__[\"DichVuKhuyenMaiPopupComponent\"], {\n                disableClose: false,\n                width: '1800px',\n                data: { DocumentType: self.documentType, BenhNhanId: self.benhNhanIdPopup, DichVuDangChons: dichVuDangChons }\n            }).afterClosed().subscribe(yeuCauGoiMarketing => {\n                if (yeuCauGoiMarketing != undefined && yeuCauGoiMarketing != null && yeuCauGoiMarketing != \"\") {\n                    let dateNow = new Date((new Date()).toDateString());\n                    yeuCauGoiMarketing.YeuCauTiepNhanId = 0;\n                    yeuCauGoiMarketing.DuocHuongBaoHiem = this.tiepNhanBenhNhan.CoBHYT && this.tiepNhanBenhNhan.LyDoVaoVien == 1 && this.tiepNhanBenhNhan.BHYTNgayHetHan >= dateNow;\n                    self.xuLyThemNhomDichVuKhuyenMai(yeuCauGoiMarketing);\n                }\n            });\n        }\n        else {\n            self.notificationService.showError(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"SystemMessage\"].UnAuthorizedMessage);\n        }\n    }\n    xuLyThemNhomDichVuKhuyenMai(yeuCauGoiMarketing) {\n        this.showPopupLoadingData(src_app_shared_enum_kham_benh_enum__WEBPACK_IMPORTED_MODULE_41__[\"EnumTypeLoadingData\"].Update);\n        //ThemYeuGoiDichVuThuongDungTaoMoiYCTN\n        this.apiService.post(\"TiepNhanBenhNhan/ThemChiDinhGoiDichVuKhuyenMaiKhiTaoYeuCauTiepNhan\", yeuCauGoiMarketing).subscribe(result => {\n            if (result) {\n                result.DichVuKhamBenhs.forEach(element => {\n                    element.LoaiDichVuKhac = 3;\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.push(element);\n                });\n                result.DichVuKyThuats.forEach(element => {\n                    element.LoaiDichVuKhac = 4;\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.push(element);\n                });\n                this.setDataForDichVuKhac();\n                this.setGiaBHYT();\n                this.refreshGrid();\n                this.removeThemDichVuValue();\n                this.removeThemGoiValue();\n                let mess = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].format(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"SystemMessage\"].ActionSuccessfully, [\"Thêm\"]);\n                this.notificationService.showSuccess(mess);\n            }\n            this.closePopupLoadingData();\n        }, (err) => {\n            this.validationErrors = err.ValidationErrors;\n            if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n            }\n            this.closePopupLoadingData();\n        });\n    }\n    showPopupLoadingData(typeLoading = src_app_shared_enum_kham_benh_enum__WEBPACK_IMPORTED_MODULE_41__[\"EnumTypeLoadingData\"].View) {\n        let mess = \"\";\n        switch (typeLoading) {\n            case src_app_shared_enum_kham_benh_enum__WEBPACK_IMPORTED_MODULE_41__[\"EnumTypeLoadingData\"].View:\n                mess = \"Đang tải dữ liệu...\";\n                break;\n            case src_app_shared_enum_kham_benh_enum__WEBPACK_IMPORTED_MODULE_41__[\"EnumTypeLoadingData\"].Update:\n                mess = \"Đang lưu dữ liệu...\";\n                break;\n            case src_app_shared_enum_kham_benh_enum__WEBPACK_IMPORTED_MODULE_41__[\"EnumTypeLoadingData\"].Delete:\n                mess = \"Đang xóa dữ liệu...\";\n                break;\n            case src_app_shared_enum_kham_benh_enum__WEBPACK_IMPORTED_MODULE_41__[\"EnumTypeLoadingData\"].Cancel:\n                mess = \"Đang hủy dữ liệu...\";\n                break;\n            default: mess = \"Đang tải dữ liệu...\";\n        }\n        this.loadingDataPopup = this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_38__[\"LoadingComponent\"], {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: mess }\n        });\n    }\n    closePopupLoadingData() {\n        if (this.loadingDataPopup) {\n            this.loadingDataPopup.close();\n        }\n    }\n    //======================================================================================\n    // cap nhat goi marketing\n    changeDichVuTrongGoi(event, dataItem) {\n        if (dataItem.IsDichVuTrongGoi) {\n            if (event) {\n                dataItem.IsGoiCoChietKhau = true;\n                dataItem.GoiCoChietKhauId = dataItem.GoiCoChietKhauIdTemp;\n            }\n            else {\n                dataItem.IsGoiCoChietKhau = false;\n                dataItem.GoiCoChietKhauId = null;\n            }\n        }\n    }\n    tinhThanhTienDichVuBaoGomTrongGoiTheGroup(group, value) {\n        console.log('tinhThanhTienDichVuBaoGomTrongGoiTheGroup', group, value);\n        console.log('tinhThanhTienDichVuBaoGomTrongGoi');\n        console.log('this.tiepNhanBenhNhan.YeuCauKhacGrid', this.tiepNhanBenhNhan.YeuCauKhacGrid);\n        return this.tiepNhanBenhNhan.YeuCauKhacGrid\n            .reduce((sum, item) => (sum + (item.GoiCoChietKhauId != null ? item.ThanhTienSauChietKhau : item.ThanhTien)), 0);\n        // event.Data.forEach(element => {\n        //     let donGia = element.GoiCoChietKhauId != null ? element.DonGiaSauChietKhau : element.DonGia;\n        //     this.thanhTienDichVuChiDinhBaoGomDichVuTrongGoi += donGia * element.SoLuong;\n        // });\n    }\n    // nhóm dịch vụ thường dùng\n    xemNhomDichVuThuongDung() {\n        var self = this;\n        let boPhan = src_app_shared_enum_bo_phan_enum__WEBPACK_IMPORTED_MODULE_44__[\"BoPhan\"].TiepNhanNgoaiTru;\n        if (self.authService.hasPermission(self.documentType, src_app_shared_enum_security_operation_enum__WEBPACK_IMPORTED_MODULE_11__[\"SecurityOperation\"].View)) {\n            self.dialog.open(_kham_benh_kham_benh_lan_kham_hien_tai_lan_kham_hien_tai_nhom_dich_vu_thuong_dung_popup_lan_kham_hien_tai_nhom_dich_vu_thuong_dung_popup_component__WEBPACK_IMPORTED_MODULE_40__[\"LanKhamHienTaiNhomDichVuThuongDungPopupComponent\"], {\n                disableClose: false,\n                width: '1500px',\n                data: { DocumentType: self.documentType, boPhan: boPhan }\n            }).afterClosed().subscribe(yeuCauGoiThuongDung => {\n                if (yeuCauGoiThuongDung) {\n                    yeuCauGoiThuongDung.DanhSachDichVuChons = self.tiepNhanBenhNhan.YeuCauKhacGrid;\n                    self.apiService.post(\"TiepNhanBenhNhan/KiemTraDichVuTrongGoiDaCoTheoDichVuTrongGrid\", yeuCauGoiThuongDung).subscribe(resultData => {\n                        if (resultData && resultData.length > 0) {\n                            self.dialog.open(_kham_benh_kham_benh_lan_kham_hien_tai_lan_kham_hien_tai_nhom_dich_vu_loi_popup_lan_kham_hien_tai_nhom_dich_vu_loi_popup_component__WEBPACK_IMPORTED_MODULE_42__[\"LanKhamHienTaiNhomDichVuLoiPopupComponent\"], {\n                                disableClose: false,\n                                width: '1200px',\n                                data: { arrDichVuCanhBao: resultData, DocumentType: this.documentType }\n                            }).afterClosed().subscribe(dichVuKhongThems => {\n                                if (dichVuKhongThems) {\n                                    yeuCauGoiThuongDung.DichVuKhongThems = dichVuKhongThems;\n                                    self.xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung);\n                                }\n                            });\n                        }\n                        else {\n                            self.xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung);\n                        }\n                    }, (err) => {\n                        self.validationErrors = err.ValidationErrors;\n                        if (err.Message != \"Validation Failed\") {\n                            self.notificationService.showError(err.Message);\n                        }\n                    });\n                }\n            });\n        }\n        else {\n            self.notificationService.showError(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"SystemMessage\"].UnAuthorizedMessage);\n        }\n    }\n    xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung) {\n        // code toàn cheat, giờ cũng phải cheat theo\n        let dateNow = new Date((new Date()).toDateString());\n        yeuCauGoiThuongDung.DuocHuongBaoHiem = this.tiepNhanBenhNhan.CoBHYT && this.tiepNhanBenhNhan.LyDoVaoVien == 1 && this.tiepNhanBenhNhan.BHYTNgayHetHan >= dateNow;\n        this.apiService.post(\"TiepNhanBenhNhan/ThemYeuGoiDichVuThuongDungTaoMoiYCTN\", yeuCauGoiThuongDung).subscribe(result => {\n            if (result) {\n                result.DichVuKhamBenhs.forEach(element => {\n                    element.LoaiDichVuKhac = 3;\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.push(element);\n                });\n                result.DichVuKyThuats.forEach(element => {\n                    element.LoaiDichVuKhac = 4;\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.push(element);\n                    // this.setDataForDichVuKhac();\n                    // this.setGiaBHYT();\n                    // this.refreshGrid();\n                });\n                this.setDataForDichVuKhac();\n                this.setGiaBHYT();\n                this.refreshGrid();\n                this.removeThemDichVuValue();\n                this.removeThemGoiValue();\n                let mess = src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_12__[\"CommonService\"].format(src_app_shared_configdata_system_message__WEBPACK_IMPORTED_MODULE_13__[\"SystemMessage\"].ActionSuccessfully, [\"Thêm\"]);\n                this.notificationService.showSuccess(mess);\n            }\n        }, (err) => {\n            this.validationErrors = err.ValidationErrors;\n            if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n            }\n        });\n    }\n    // cập nhật điều kiện tạo mới yctn\n    //================================================================================================\n    chuyenVeTrangCapNhatYCTN() {\n        this.router.navigate([this.urlPageUpdateYCTN]);\n    }\n    xuLyKiemTraBenhNhanDuDieuKienTaoMoiYCTN(coTheBHYT = null) {\n        if (this.tiepNhanBenhNhan.BenhNhanId != undefined\n            && this.tiepNhanBenhNhan.BenhNhanId != null\n            && this.tiepNhanBenhNhan.BenhNhanId != 0) {\n            console.log('this.tiepNhanBenhNhan.CoBHYT', this.tiepNhanBenhNhan.CoBHYT);\n            let laKiemTraCungNgay = coTheBHYT == null ? this.tiepNhanBenhNhan.CoBHYT != true : coTheBHYT != true;\n            this.apiService.post(\"TiepNhanBenhNhan/KiemTraDieuKienTaoMoiYeuCauTiepNhan?benhNhanId=\" + this.tiepNhanBenhNhan.BenhNhanId + \"&laKiemTraCungNgay=\" + laKiemTraCungNgay).subscribe(resultData => {\n                this.errMessageKhongChoPhepTaoMoiYCTN = resultData.ErrorMessage;\n                if (resultData.YeuCauTiepNhanId != null) {\n                    this.urlPageUpdateYCTN = 'danh-sach-tiep-nhan/chinh-sua/' + resultData.YeuCauTiepNhanId;\n                }\n            }, (err) => {\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n            });\n        }\n    }\n    kiemTraTheBHYTKhiTaoYCTNMoi() {\n        this.isCheckedBHYT = true;\n        this.thongTinBenhNhan.MaThe = this.tiepNhanBenhNhan.BHYTMaSoThe;\n        this.thongTinBenhNhan.TenBenhNhan = this.tiepNhanBenhNhan.HoTen;\n        this.thongTinBenhNhan.NgaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n        this.thongTinBenhNhan.NamSinh = this.tiepNhanBenhNhan.NamSinh;\n        var datePipe = new _angular_common__WEBPACK_IMPORTED_MODULE_18__[\"DatePipe\"](\"en-US\");\n        this.thongTinBenhNhan.NgaySinhDisplay = datePipe.transform(this.tiepNhanBenhNhan.NgayThangNamSinh, 'dd/MM/yyyy');\n        if (this.thongTinBenhNhan.MaThe != null && this.thongTinBenhNhan.TenBenhNhan != null\n            && (this.thongTinBenhNhan.NgaySinh != null || this.thongTinBenhNhan.NamSinh != null)) {\n            this.dialog.open(_tiep_nhan_benh_nhan_cho_quet_tiep_nhan_benh_nhan_cho_quet_component__WEBPACK_IMPORTED_MODULE_17__[\"TiepNhanBenhNhanChoQuetComponent\"], {\n                disableClose: true,\n                width: '500px',\n                height: '250px',\n                data: this.thongTinBenhNhan,\n            }).afterClosed().subscribe(result => {\n                if (result === undefined) {\n                    //cheat vi khong hieu sao ra duoc\n                }\n                // else if (result == null || (result != null && result.maKetQua == \"050\")) {\n                else if (result == null || (result != null && result.maKetQua !== \"000\" && result.maKetQua !== \"004\")) {\n                    this.tiepNhanBenhNhan.MessageErrFromBHYT = result != null ? result.ghiChu : null;\n                    this.dialog.open(_tiep_nhan_benh_nhan_error_tiep_nhan_benh_nhan_error_component__WEBPACK_IMPORTED_MODULE_22__[\"TiepNhanBenhNhanErrorComponent\"], {\n                        disableClose: false,\n                        width: '700px',\n                        height: '300px',\n                        data: this.tiepNhanBenhNhan,\n                    }).afterClosed().subscribe(resultData => {\n                        this.isCheckedBHYT = false;\n                        if (resultData == 2) {\n                            this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                            this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].KhongXacDinh;\n                            this.tiepNhanBenhNhan.CoBHYT = true;\n                            this.tiepNhanBenhNhan.TuNhap = true;\n                        }\n                        else if (resultData == 1) {\n                            this.tiepNhanBenhNhan.CoBHYT = false;\n                            this.tiepNhanBenhNhan.TinhTrangThe = src_app_shared_enum_tinh_trang_the_enum__WEBPACK_IMPORTED_MODULE_21__[\"TinhTrangThe\"].KhongXacDinh;\n                            this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                        }\n                        else if (resultData != undefined) {\n                            this.setValueBHYT(result);\n                        }\n                    });\n                }\n                else {\n                    this.isCheckedBHYT = false;\n                    this.setValueBHYT(result);\n                }\n            });\n        }\n        else {\n            this.isCheckedBHYT = false;\n        }\n    }\n    //================================================================================================\n    // BVHD-3481\n    //================================================================================================\n    xuLyTaoYeuCauTiepNhan(coInPhieu = false) {\n        this.loading = true;\n        this.validationErrors = [];\n        if (this.tiepNhanBenhNhan.BenhNhanId == null || this.tiepNhanBenhNhan.BenhNhanId == 0) {\n            this.apiService.post(\"TiepNhanBenhNhan/KiemTraBenhNhanTrongHeThong\", this.tiepNhanBenhNhan).subscribe(result => {\n                if (result != null) {\n                    this.dialog.open(src_app_shared_component_dialogs_confirm_confirm_component__WEBPACK_IMPORTED_MODULE_10__[\"ConfirmComponent\"], {\n                        disableClose: false,\n                        width: '400px',\n                        data: { Title: \"Xác nhận\", Message: result.Message }\n                    }).afterClosed().subscribe(result => {\n                        if (result == \"Yes\") {\n                            if (coInPhieu) {\n                                this.luuVaInPhieu();\n                            }\n                            else {\n                                this.luuPhieu();\n                            }\n                        }\n                        else {\n                            this.loading = false;\n                        }\n                    });\n                }\n                else {\n                    if (coInPhieu) {\n                        this.luuVaInPhieu();\n                    }\n                    else {\n                        this.luuPhieu();\n                    }\n                }\n            }, (err) => {\n                var self = this;\n                self.loading = false;\n                if (err != undefined && err.ValidationErrors != null) {\n                    let itemGiamHoValidate = err.ValidationErrors.find(p => p.Field == \"NguoiLienHeHoTen\"\n                        || p.Field == \"NguoiLienHeQuanHeNhanThanId\" || p.Field == \"NguoiLienHeSoDienThoai\");\n                    if (itemGiamHoValidate != null && itemGiamHoValidate != undefined) {\n                        self.tabStrip.selectTab(2);\n                        ;\n                    }\n                    self.validationErrors = err.ValidationErrors;\n                }\n                else if (err != undefined && err.Message != \"Validation Failed\") {\n                    self.notificationService.showError(err.Message);\n                }\n            });\n        }\n        else {\n            if (coInPhieu) {\n                this.luuVaInPhieu();\n            }\n            else {\n                this.luuPhieu();\n            }\n        }\n    }\n    //================================================================================================\n    // BVHD-3761\n    //================================================================================================\n    getListDichVuSarsCoVs() {\n        this.apiService.get(\"TiepNhanBenhNhan/GetSarsCoVs\").subscribe(resultData => {\n            this.dichVuSarsCoVs = [];\n            this.dichVuSarsCoVs = resultData.Ids;\n            this.loaiBenhPham = resultData.LoaiMauXetNghiem;\n            this.loaiBenhPhamText = resultData.LoaiMauXetNghiemText;\n        });\n    }\n};\nTiepNhanBenhNhanComponent.ctorParameters = () => [\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_5__[\"ApiService\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_6__[\"MatDialog\"] },\n    { type: src_app_core_services_auth_service__WEBPACK_IMPORTED_MODULE_9__[\"AuthService\"] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_14__[\"Router\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_19__[\"NotificationService\"] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_14__[\"ActivatedRoute\"] },\n    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Renderer2\"] },\n    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"] }\n];\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('actionTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"actionTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('gridBHTN', { static: false })\n], TiepNhanBenhNhanComponent.prototype, \"gridChildBHTN\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('gridKhamBenh', { static: false })\n], TiepNhanBenhNhanComponent.prototype, \"gridChildKhamBenh\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('gridKyThuat', { static: false })\n], TiepNhanBenhNhanComponent.prototype, \"gridChildKyThuat\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('gridCoChietKhau', { static: false })\n], TiepNhanBenhNhanComponent.prototype, \"gridChildCoChietKhau\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('gridKhongChietKhau', { static: false })\n], TiepNhanBenhNhanComponent.prototype, \"gridChildKhongChietKhau\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('gridTaiLieuDinhKem', { static: false })\n], TiepNhanBenhNhanComponent.prototype, \"gridTaiLieuDinhKem\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('donGiaKhamBenhFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"donGiaKhamBenhFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('donGiaKhamBenhTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"donGiaKhamBenhTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienKhamBenhTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"thanhTienKhamBenhTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienKhamBenhFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"thanhTienKhamBenhFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienKhamBenhGroupFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"thanhTienKhamBenhGroupFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('bhytThanhToanKhamBenhTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"bhytThanhToanKhamBenhTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('bhytThanhToanKhamBenhFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"bhytThanhToanKhamBenhFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('bhytThanhToanKhamBenhGroupFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"bhytThanhToanKhamBenhGroupFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('soTienMgKhamBenhTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"soTienMgKhamBenhTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('soTienMgKhamBenhFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"soTienMgKhamBenhFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('soTienMgKhamBenhGroupFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"soTienMgKhamBenhGroupFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('bnThanhToanKhamBenhTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"bnThanhToanKhamBenhTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('bnThanhToanKhamBenhFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"bnThanhToanKhamBenhFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('bnThanhToanKhamBenhGroupFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"bnThanhToanKhamBenhGroupFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('actionKhamBenhTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"actionKhamBenhTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])(\"tabStrip\", { static: false })\n], TiepNhanBenhNhanComponent.prototype, \"tabStrip\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('donGiaKyThuatFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"donGiaKyThuatFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('donGiaKyThuatTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"donGiaKyThuatTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienKyThuatTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"thanhTienKyThuatTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienKyThuatFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"thanhTienKyThuatFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienKyThuatGroupFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"thanhTienKyThuatGroupFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('soTienMgKyThuatTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"soTienMgKyThuatTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('soTienMgKyThuatFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"soTienMgKyThuatFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('soTienMgKyThuatGroupFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"soTienMgKyThuatGroupFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('bnThanhToanKyThuatTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"bnThanhToanKyThuatTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('bnThanhToanKyThuatFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"bnThanhToanKyThuatFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('bnThanhToanKyThuatGroupFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"bnThanhToanKyThuatGroupFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('actionKyThuatTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"actionKyThuatTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('donGiaKhongChietKhauFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"donGiaKhongChietKhauFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('donGiaKhongChietKhauTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"donGiaKhongChietKhauTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('donGiaBHYTTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"donGiaBHYTTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('tenDichVuKhongChietKhauFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"tenDichVuKhongChietKhauFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienKhongChietKhauTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"thanhTienKhongChietKhauTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienKhongChietKhauFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"thanhTienKhongChietKhauFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienKhongChietKhauGroupFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"thanhTienKhongChietKhauGroupFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('bhytThanhToanKhongChietKhauTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"bhytThanhToanKhongChietKhauTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('bhytThanhToanKhongChietKhauFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"bhytThanhToanKhongChietKhauFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('bhytThanhToanKhongChietKhauGroupFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"bhytThanhToanKhongChietKhauGroupFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('soTienMgKhongChietKhauTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"soTienMgKhongChietKhauTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('soTienMgKhongChietKhauFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"soTienMgKhongChietKhauFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('soTienMgKhongChietKhauGroupFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"soTienMgKhongChietKhauGroupFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('bnThanhToanKhongChietKhauTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"bnThanhToanKhongChietKhauTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('bnThanhToanKhongChietKhauFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"bnThanhToanKhongChietKhauFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('bnThanhToanKhongChietKhauGroupFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"bnThanhToanKhongChietKhauGroupFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('noiThucHienKhongChietKhauTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"noiThucHienKhongChietKhauTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('nhanVienChiDinhTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"nhanVienChiDinhTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('duocHuongBHYTTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"duocHuongBHYTTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('loaiGiaTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"loaiGiaTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('sttKhongChietKhauTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"sttKhongChietKhauTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('sttCoChietKhauTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"sttCoChietKhauTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('soLuongTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"soLuongTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('actionKhongChietKhauTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"actionKhongChietKhauTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('donGiaChietKhauTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"donGiaChietKhauTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('donGiaChietKhauFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"donGiaChietKhauFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienChietKhauTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"thanhTienChietKhauTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienChietKhauFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"thanhTienChietKhauFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienChietKhauGroupFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"thanhTienChietKhauGroupFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('tyLeChietKhauCoChietKhauTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"tyLeChietKhauCoChietKhauTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('duocGiamTrongGoiCoChietKhauTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"duocGiamTrongGoiCoChietKhauTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('duocGiamTrongGoiCoChietKhauFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"duocGiamTrongGoiCoChietKhauFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienTrongGoiChietKhauTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"thanhTienTrongGoiChietKhauTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienTrongGoiChietKhauFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"thanhTienTrongGoiChietKhauFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('thanhTienTrongGoiChietKhauGroupFooterTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"thanhTienTrongGoiChietKhauGroupFooterTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('noiThucHienChietKhauTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"noiThucHienChietKhauTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('nhomGroupHeaderTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"nhomGroupHeaderTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('taiLieuTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"taiLieuTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('actionTaiLieuTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"actionTaiLieuTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('HoVaTenTextbox', { static: false })\n], TiepNhanBenhNhanComponent.prototype, \"HoVaTenTextbox\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('NgaySinhCoBHYT', { static: false })\n], TiepNhanBenhNhanComponent.prototype, \"NgaySinhCoBHYT\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('NgaySinhKhongCoBHYT', { static: false })\n], TiepNhanBenhNhanComponent.prototype, \"NgaySinhKhongCoBHYT\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('dichVuCombobox', { static: false })\n], TiepNhanBenhNhanComponent.prototype, \"dichVuCombobox\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('comboboxQuanHuyen', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"comboboxQuanHuyen\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('comboboxPhuongXa', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"comboboxPhuongXa\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('tenDvTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"tenDvTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('dichVuTrongGoiTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"dichVuTrongGoiTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('dichVuKhuyenMaiTemplate', { static: true })\n], TiepNhanBenhNhanComponent.prototype, \"dichVuKhuyenMaiTemplate\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('voucherList', { static: false })\n], TiepNhanBenhNhanComponent.prototype, \"voucherList\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])(\"multiselect\", { static: false })\n], TiepNhanBenhNhanComponent.prototype, \"multiselect\", void 0);\ntslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"HostListener\"])('document:keydown', ['$event'])\n], TiepNhanBenhNhanComponent.prototype, \"keyEvent\", null);\nTiepNhanBenhNhanComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-tiep-nhan-benh-nhan',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./tiep-nhan-benh-nhan.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.html\")).default,\n        animations: [\n            src_vex_animations_stagger_animation__WEBPACK_IMPORTED_MODULE_15__[\"stagger60ms\"],\n            src_vex_animations_fade_in_up_animation__WEBPACK_IMPORTED_MODULE_16__[\"fadeInUp400ms\"]\n        ],\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./tiep-nhan-benh-nhan.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.scss\")).default]\n    })\n], TiepNhanBenhNhanComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component.scss\":\n/*!*******************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component.scss ***!\n  \\*******************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 550px;\\n}\\n\\n.container-iframe iframe {\\n  margin-bottom: 10px;\\n  -webkit-backface-visibility: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4veGVtLXRydW9jLWJhbmcta2UtY2hpLXBoaS1wb3VwL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcdGllcC1uaGFuLWJlbmgtbmhhblxceGVtLXRydW9jLWJhbmcta2UtY2hpLXBoaS1wb3VwXFx4ZW0tdHJ1b2MtYmFuZy1rZS1jaGktcGhpLXBvdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3hlbS10cnVvYy1iYW5nLWtlLWNoaS1waGktcG91cC94ZW0tdHJ1b2MtYmFuZy1rZS1jaGktcGhpLXBvdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0FDQ0Y7O0FERUE7RUFDRSxtQkFBQTtFQUNBLG1DQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGllcC1uaGFuLWJlbmgtbmhhbi94ZW0tdHJ1b2MtYmFuZy1rZS1jaGktcGhpLXBvdXAveGVtLXRydW9jLWJhbmcta2UtY2hpLXBoaS1wb3VwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDU1MHB4O1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcbn0iLCIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTUwcHg7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xufSJdfQ== */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component.ts\":\n/*!*****************************************************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component.ts ***!\n  \\*****************************************************************************************************************************/\n/*! exports provided: XemTruocBangKeChiPhiPopupComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XemTruocBangKeChiPhiPopupComponent\", function() { return XemTruocBangKeChiPhiPopupComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/core/services/api.service */ \"./src/app/core/services/api.service.ts\");\n/* harmony import */ var src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/core/services/notification.service */ \"./src/app/core/services/notification.service.ts\");\n/* harmony import */ var src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/core/utilities/common.helper */ \"./src/app/core/utilities/common.helper.ts\");\n/* harmony import */ var src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/shared/component/dialogs/loading/loading.component */ \"./src/app/shared/component/dialogs/loading/loading.component.ts\");\n/* harmony import */ var _iconify_icons_ic_twotone_fullscreen__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @iconify/icons-ic/twotone-fullscreen */ \"./node_modules/@iconify/icons-ic/twotone-fullscreen.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_fullscreen__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_fullscreen__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _iconify_icons_ic_twotone_fullscreen_exit__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @iconify/icons-ic/twotone-fullscreen-exit */ \"./node_modules/@iconify/icons-ic/twotone-fullscreen-exit.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_fullscreen_exit__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_fullscreen_exit__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n\n\n\n\nlet XemTruocBangKeChiPhiPopupComponent = class XemTruocBangKeChiPhiPopupComponent {\n    constructor(data, apiService, dialog, notificationService) {\n        this.data = data;\n        this.apiService = apiService;\n        this.dialog = dialog;\n        this.notificationService = notificationService;\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_3___default.a;\n        this.arrFilePdf = [];\n        this.arrFileUrl = [];\n        this.icFullscreen = _iconify_icons_ic_twotone_fullscreen__WEBPACK_IMPORTED_MODULE_8___default.a;\n        this.icFullscreenExit = _iconify_icons_ic_twotone_fullscreen_exit__WEBPACK_IMPORTED_MODULE_9___default.a;\n        this.isFullscreen = false;\n        this.Width = 800;\n        this.Height = 600;\n    }\n    ngOnInit() {\n        this.getALlFilePDFFromHtml(this.data);\n        this.yeuCauTiepNhanId = this.data;\n        this.fullscreen();\n    }\n    getALlFilePDFFromHtml(id) {\n        this.showPopupLoadingData();\n        let hostingName = \"http://\" + \"//\" + window.location.host;\n        this.apiService.postExportPdf(\"ThuNgan/XemTruocBangKeChiPhi?yeuCauTiepNhanId=\" + id + \"&hostingName=\" + hostingName).subscribe(file => {\n            let newBlob = new Blob([file], { type: \"application/pdf\" });\n            let datalocalURL = window.URL.createObjectURL(newBlob);\n            this.arrFileUrl.push(datalocalURL);\n            this.arrFilePdf.push(file);\n            this.closePopupLoadingData();\n        }, (err) => {\n            this.closePopupLoadingData();\n        });\n    }\n    downloadAllFile() {\n        const dateTimeNow = new Date();\n        this.arrFilePdf.forEach((file) => {\n            src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_6__[\"CommonService\"].downLoadFile(file, \"application/pdf\", \"PhieuThuNgan\" + dateTimeNow.getFullYear() + \".pdf\");\n        });\n    }\n    showPopupLoadingData() {\n        if (this.popupLoadingData == undefined || this.popupLoadingData == null || this.popupLoadingData.openDialogs == undefined || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n            this.popupLoadingData = this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_7__[\"LoadingComponent\"], {\n                disableClose: true,\n                width: \"200px\",\n                height: \"90px\",\n                data: { Title: \"Đang tải dữ liệu...\" },\n            });\n        }\n    }\n    closePopupLoadingData() {\n        if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n            this.popupLoadingData.close();\n        }\n    }\n    ketXuatBangKeChiPhiExcel() {\n        this.apiService.postExportExcel(\"ThuNgan/XuatBangKeNgoaiTruCoBHYTExcel?yeuCauTiepNhanId=\" + this.yeuCauTiepNhanId)\n            .subscribe(res => {\n            this.showLoadingPopup();\n            if (res.byteLength != 4) {\n                let dateTimeNow = new Date();\n                src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_6__[\"CommonService\"].downLoadFile(res, \"application/vnd.ms-excel\", \"XuatBangKeNgoaiTruCoBHYT\" + dateTimeNow.getFullYear() + \".xlsx\");\n            }\n            this.closeAllDialogs();\n        }, err => {\n            this.notificationService.showError(err.Message);\n            this.closeAllDialogs();\n        });\n        this.apiService.postExportExcel(\"ThuNgan/XuatBangKeNgoaiTruExcel?yeuCauTiepNhanId=\" + this.yeuCauTiepNhanId)\n            .subscribe(res => {\n            this.showLoadingPopup();\n            if (res.byteLength != 4) {\n                let dateTimeNow = new Date();\n                src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_6__[\"CommonService\"].downLoadFile(res, \"application/vnd.ms-excel\", \"XuatBangKeNgoaiTru\" + dateTimeNow.getFullYear() + \".xlsx\");\n            }\n            this.closeAllDialogs();\n        }, err => {\n            this.notificationService.showError(err.Message);\n            this.closeAllDialogs();\n        });\n        this.apiService.postExportExcel(\"ThuNgan/XuatBangKeNgoaiTruTrongGoiDv?yeuCauTiepNhanId=\" + this.yeuCauTiepNhanId)\n            .subscribe(res => {\n            this.showLoadingPopup();\n            if (res.byteLength != 4) {\n                let dateTimeNow = new Date();\n                src_app_core_utilities_common_helper__WEBPACK_IMPORTED_MODULE_6__[\"CommonService\"].downLoadFile(res, \"application/vnd.ms-excel\", \"XuatBangKeNgoaiTruTrongGoiDv\" + dateTimeNow.getFullYear() + \".xlsx\");\n            }\n            this.closeAllDialogs();\n        }, err => {\n            this.notificationService.showError(err.Message);\n            this.closeAllDialogs();\n        });\n    }\n    fullscreen() {\n        this.fullScreenDialog(this.isFullscreen, this.Height, this.Width, 200);\n        this.isFullscreen = !this.isFullscreen;\n    }\n    fullScreenDialog(isFullscreen, Height, Width, heightHeaderFooter) {\n        if (isFullscreen) {\n            jQuery(\".cdk-overlay-pane\").css({ \"height\": (Height != null ? Height : \"auto\"), \"width\": Width, \"max-width\": Width });\n            jQuery(\".mat-dialog-content\").css({ \"height\": Height - (heightHeaderFooter != null ? heightHeaderFooter : 0), \"max-height\": Height - (heightHeaderFooter != null ? heightHeaderFooter : 0) });\n        }\n        else {\n            jQuery(\".cdk-overlay-pane\").css({ \"height\": \"97%\", \"width\": \"100%\", \"max-width\": \"97%\" });\n            jQuery(\".mat-dialog-content\").css({ \"height\": (jQuery(window).height() - (heightHeaderFooter != null ? heightHeaderFooter : 150)), \"max-height\": jQuery(window).height() - (heightHeaderFooter != null ? heightHeaderFooter : 150) });\n        }\n    }\n    showLoadingPopup() {\n        if (!this.loadingPopup) {\n            this.loadingPopup = this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_7__[\"LoadingComponent\"], {\n                disableClose: true,\n                width: '200px',\n                height: '90px',\n                data: { Title: 'Đang tải...' }\n            });\n        }\n    }\n    showSavingPopup() {\n        if (!this.loadingPopup) {\n            this.loadingPopup = this.dialog.open(src_app_shared_component_dialogs_loading_loading_component__WEBPACK_IMPORTED_MODULE_7__[\"LoadingComponent\"], {\n                disableClose: true,\n                width: '200px',\n                height: '90px',\n                data: { Title: 'Đang lưu...' }\n            });\n        }\n    }\n    closeAllDialogs() {\n        if (this.loadingPopup) {\n            this.loadingPopup.close();\n            this.loadingPopup = null;\n        }\n    }\n};\nXemTruocBangKeChiPhiPopupComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: src_app_core_services_api_service__WEBPACK_IMPORTED_MODULE_4__[\"ApiService\"] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialog\"] },\n    { type: src_app_core_services_notification_service__WEBPACK_IMPORTED_MODULE_5__[\"NotificationService\"] }\n];\nXemTruocBangKeChiPhiPopupComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: \"app-xem-truoc-bang-ke-chi-phi-poup\",\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./xem-truoc-bang-ke-chi-phi-poup.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./xem-truoc-bang-ke-chi-phi-poup.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], XemTruocBangKeChiPhiPopupComponent);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.scss\":\n/*!***********************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.scss ***!\n  \\***********************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3huLWNvdmlkLXBvcHVwL3huLWNvdmlkLXBvcHVwLmNvbXBvbmVudC5zY3NzIn0= */\");\n\n/***/ }),\n\n/***/ \"./src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.ts\":\n/*!*********************************************************************************************!*\\\n  !*** ./src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.ts ***!\n  \\*********************************************************************************************/\n/*! exports provided: XnCovidPopupComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XnCovidPopupComponent\", function() { return XnCovidPopupComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ \"./node_modules/@angular/material/esm2015/material.js\");\n/* harmony import */ var _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tiep-nhan-benh-nhan.model */ \"./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.model.ts\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @iconify/icons-ic/twotone-close */ \"./node_modules/@iconify/icons-ic/twotone-close.js\");\n/* harmony import */ var _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nlet XnCovidPopupComponent = class XnCovidPopupComponent {\n    constructor(data, dialogRef) {\n        this.data = data;\n        this.dialogRef = dialogRef;\n        this.xetNghiemCovid = new _tiep_nhan_benh_nhan_model__WEBPACK_IMPORTED_MODULE_3__[\"XetNghiemCovid\"]();\n        this.icClose = _iconify_icons_ic_twotone_close__WEBPACK_IMPORTED_MODULE_4___default.a;\n        this.loaiMauXetNghiemText = null;\n    }\n    ngOnInit() {\n        this.xetNghiemCovid.LoaiBenhPham = this.data.LoaiMauXetNghiemText;\n    }\n    save() {\n        this.dialogRef.close(this.xetNghiemCovid);\n    }\n    close() {\n        this.dialogRef.close();\n    }\n};\nXnCovidPopupComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"], args: [_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"],] }] },\n    { type: _angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MatDialogRef\"] }\n];\nXnCovidPopupComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'app-xn-covid-popup',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./xn-covid-popup.component.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./xn-covid-popup.component.scss */ \"./src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__param\"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Inject\"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__[\"MAT_DIALOG_DATA\"]))\n], XnCovidPopupComponent);\n\n\n\n/***/ })\n\n}]);\n//# sourceMappingURL=default~tiep-nhan-benh-nhan-danh-sach-cho-kham-danh-sach-cho-kham-module~tiep-nhan-benh-nhan-lich-su~2cabf56a-es2015.js.map","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div fxFlex=\\\"100%\\\">\\n        <span fxFlex=\\\"20%\\\" style=\\\"padding-top: 20px;\\\">XEM TRƯỚC KHI IN</span>\\n    </div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div class=\\\"container-iframe\\\">\\n        <iframe width=\\\"100%\\\" style=\\\"height: 500px;\\\" [src]=\\\"src | safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n\\n</mat-dialog-content>\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <!-- in phiếu DvKT -->\\n    <app-print-form textPrint=\\\"In Phiếu Chỉ Định CLS\\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"A4\\\" (click)=\\\"InPhieu(1)\\\" \\n         [bodyComponent]=\\\"this\\\">\\n    </app-print-form>  \\n    <!-- in phiếu Dvkham -->\\n    <app-print-form textPrint=\\\"In Phiếu Khám Bệnh\\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"A5\\\" typeLayout=\\\"landscape\\\"(click)=\\\"InPhieu(2)\\\" \\n    [bodyComponent]=\\\"this\\\">\\n  </app-print-form>  \\n   <!-- in phiếu Dv giuong -->\\n   <!-- <app-print-form textPrint=\\\"In Dịch Vụ Giường\\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"A4\\\" (click)=\\\"InPhieu(4)\\\" \\n   (click)=\\\"InPhieu\\\" [bodyComponent]=\\\"this\\\" >\\n </app-print-form>   -->\\n  <!-- in phiếu Dv test Xn covid  -->\\n   <app-print-form textPrint=\\\"In phiếu Chỉ định xét nghiệm\\n   \\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"A4\\\" (click)=\\\"InPhieu(3)\\\" \\n   (click)=\\\"InPhieu\\\" [bodyComponent]=\\\"this\\\" >\\n </app-print-form>  \\n\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>XEM TRƯỚC KHI IN</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"overflow:hidden\\\">\\n    <div class=\\\"container-iframe\\\">\\n        <iframe width=\\\"100%\\\" style=\\\"height: 500px;\\\" [src]=\\\"src| safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <app-print-form textPrint=\\\"In phiếu chỉ định xét nghiệm\\\" type=\\\"PDF\\\" [event]=\\\"modelPrint\\\" [bodyComponent]=\\\"this\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>XÁC NHẬN</div>\\n    <!-- <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button> -->\\n</div>\\n\\n<mat-dialog-content>\\n    <!-- <h3 class=\\\"sub-title\\\">Thông Tin Thẻ</h3> -->\\n    <div>\\n        Dịch vụ này đã được thêm vào trước đó. Bạn có chắc chắn muốn thêm dịch vụ này hay không?\\n    </div>\\n    \\n</mat-dialog-content>\\n\\n\\n<mat-dialog-actions style=\\\"margin-top: 20px;\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" (click)=\\\"Khong()\\\">Không</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"Co()\\\">Có</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Xác Nhận</div>\\n    <!-- <button (click)=\\\"close()\\\" type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button> -->\\n</div>\\n\\n<mat-dialog-content style=\\\"margin-bottom: 20px;\\\">\\n    <div class=\\\"div-tag-content\\\">\\n        <div style=\\\"margin-bottom: 10px;\\\">Dịch vụ cảnh báo:</div>\\n        <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n            [gridDataSource]=\\\"danhSachGoiDaChonTrongLanPopup\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n            [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\">\\n        </app-grid>\\n        <div style=\\\"margin-top: 10px;\\\">Ngoài ra tất cả các dịch vụ khác sẽ được thêm vào, bạn có chấp nhận không ?</div>\\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"null\\\" (click)=\\\"Khong()\\\">Không</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"Co()\\\">Có</button>\\n</mat-dialog-actions>\\n\\n\\n<ng-template #canhBaoTemplate let-dataItem>\\n    <span>Trùng</span>\\n</ng-template>\\n\\n<ng-template #actionTemplate let-dataItem>\\n    <app-checkbox [(model)]=\\\"dataItem.KhongThem\\\" id=\\\"khongThem-{{dataItem.Id}}\\\"\\n        label=\\\"Không thêm\\\"></app-checkbox>\\n    <!-- <app-textboxnumeric id=\\\"abc-{{dataItem.Id}}\\\" [disabled]=\\\"!dataItem.IsActive || !dataItem.IsChecked\\\" [(model)]=\\\"dataItem.SoLuongDungLanNay\\\"\\n        class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"(!dataItem.IsActive || !dataItem.IsChecked) ? 0 : 1\\\" [max]=\\\"dataItem.TenNhomDichVu == 'DỊCH VỤ KHÁM BỆNH' ? 1 : (dataItem.SoLuongConLai)\\\"\\n        (modelChange)=\\\"changeSoLuongDichVu($event, dataItem)\\\"> \\n    </app-textboxnumeric> -->\\n</ng-template>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Gói dịch vụ</div>\\n    <button (click)=\\\"close()\\\" type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"min-height: 200px;\\\">    \\n    <kendo-splitter orientation=\\\"horizontal\\\">\\n        <kendo-splitter-pane>\\n            <div class=\\\"pane-content\\\">\\n                <app-grid #parentGrid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n                [urlGetData]=\\\"urlGetDataGrid\\\" [urlGetTotalPage]=\\\"urlGetTotalPageGrid\\\" [additionalSearchString]=\\\"searchStringDefault\\\"\\n                [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [HideHeader]=\\\"true\\\" [documentType]=\\\"documentType\\\"\\n                [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" urlGetData=\\\"KhamBenh/GetGoiDichVuCuaBenhNhanDataForGrid\\\" urlGetTotalPage=\\\"KhamBenh/GetGoiDichVuCuaBenhNhanTotalPageForGrid\\\"\\n                [headerTemplate]=\\\"headerTemplate\\\" \\n                [pageable]=\\\"false\\\" [detailTemplate]=\\\"detailTemplate\\\" (extOnDataBound)=\\\"xemChiTietGoiDichVu($event)\\\">\\n            </app-grid>\\n            </div>\\n        </kendo-splitter-pane>\\n        <kendo-splitter-pane [collapsible]=\\\"true\\\" size=\\\"30%\\\">\\n            <div class=\\\"pane-content p-3\\\" style=\\\"height: 100%;\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                    <h3 fxFlex=\\\"100%\\\">Dịch vụ sử dụng cho lần này</h3>\\n                    <ng-container *ngIf=\\\"danhSachDichVuDaChonTrongLanPopup.length > 0\\\">\\n                        <ng-container *ngFor=\\\"let goiDichVu of arrGoiDangChon\\\">\\n                            <table class=\\\"mb-2\\\" *ngIf=\\\"kiemTraGoiDichVuCoChonDichVu(goiDichVu.YeuCauGoiDichVuId)\\\" fxFlex=\\\"100%\\\">\\n                                <tr>\\n                                    <th colspan=\\\"3\\\" style=\\\"text-align: left;\\\">\\n                                        {{goiDichVu.TenGoiDichVu}}\\n                                    </th>\\n                                    <th><span *ngIf=\\\"goiDichVu.IsChecked\\\" class='text-right-td' style=\\\"color: green;\\\">Đã đăng ký</span></th>\\n                                </tr>\\n                                <ng-container *ngFor=\\\"let dichVu of getArrayDichVuDaChonTheoGoi(goiDichVu.YeuCauGoiDichVuId)\\\">\\n                                    <tr>\\n                                        <td width='35%' style=\\\"max-width: 150px;\\\" class='reverse-ellipsis r' kendoTooltip title=\\\"{{dichVu.TenDichVu}}\\\">- {{dichVu.TenDichVu}}</td>\\n                                        <td width='5%' class='text-left-td'>{{dichVu.SoLuongDungLanNay}}</td>\\n                                        <td width='20%' class='text-right-td'>{{dichVu.DonGia | number}}</td>\\n                                        <td width='20%' class='text-right-td'>{{(dichVu.SoLuongDungLanNay * dichVu.DonGia) | number}}</td>\\n                                    </tr>\\n                                </ng-container>\\n                                <tr>\\n                                    <td colspan=\\\"3\\\" class='text-right-td'>Tổng: </td>\\n                                    <td class='text-right-td'><b>{{tinhTongTienDichVuDangChon(goiDichVu.YeuCauGoiDichVuId) | number}}</b></td>\\n                                </tr>\\n                                <tr *ngIf=\\\"goiDichVu.TongTienConBaoLanhDuoc < tinhTongTienDichVuDangChon(goiDichVu.YeuCauGoiDichVuId)\\\">\\n                                    <td colspan='4' class='text-right-td text-red khong-du-bao-lanh' [attr.name]=\\\"'lbl-khong-du-bao-lanh'\\\">Không đủ bảo lãnh</td>\\n                                </tr>\\n                            </table>\\n                        </ng-container>\\n                    </ng-container>\\n                    <ng-container *ngIf=\\\"danhSachDichVuDaChonTrongLanPopup.length == 0\\\">\\n                        Chưa chọn dịch vụ\\n                    </ng-container>\\n                </div>\\n            </div>\\n        </kendo-splitter-pane>\\n    </kendo-splitter>\\n    \\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"null\\\">Hủy</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"luuDichVuChiDinh()\\\">Chọn</button>\\n</mat-dialog-actions>\\n\\n<ng-template #detailTemplate let-dataItem>\\n    <app-grid class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumnsChild\\\" [useAddDeault]=\\\"false\\\" [documentType]=\\\"documentType\\\"\\n        [useHeaderDefault]=\\\"true\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" \\n        [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\" [groups]=\\\"groups\\\"\\n        masterName=\\\"gridChiTietGoiDichVu\\\"\\n        urlGetData=\\\"TiepNhanBenhNhan/GetDataDichVuGoiForGridAsync\\\" urlGetTotalPage=\\\"TiepNhanBenhNhan/GetTotalDichVuGoiPageForGridAsync\\\"\\n        [dataItemParent]=\\\"dataItem\\\"\\n        [additionalSearchString]=\\\"benhNhanId + '|' + dataItem.Id + '|' + danhSachDichVuDaChonTrongLanPopupString + '|' + danhSachDichVuDaChonTrongLanYCTNNayString\\\">\\n    </app-grid>\\n    <!-- (extCheckboxSelection)=\\\"chonDichVuTrongGoi($event)\\\" [hideDetailSelectedCheckbox]=\\\"true\\\" -->\\n</ng-template>\\n\\n<ng-template #headerTemplate>\\n    <div class=\\\"bg-app-bar p-0 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n        <div style=\\\"margin-top: 5px;\\\" class=\\\"bg-card rounded-full border mb-1 ml-2\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n                <ic-icon class=\\\"ml-4\\\" [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n                <input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n                    type=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"searchString\\\" (keyup)=\\\"onKeyGrid($event)\\\"\\n                    (ngModelChange)=\\\"clearSearch()\\\"\\n                    placeholder=\\\"Nhập từ khóa...\\\" />\\n        </div>\\n\\n    </div>\\n</ng-template>\\n\\n<ng-template #tenGoiTemplate let-dataItem>\\n    <!-- <div style=\\\"display: flex; align-items: flex-end; color: green;\\\">\\n        <span style=\\\"margin-left: 10px;\\\" class=\\\"span-1-goi-marketing l\\\" position=\\\"right\\\" title=\\\"{{dataItem.TenDisplay}}\\\" kendoTooltip>{{dataItem.TenDisplay}}</span>\\n        <span class=\\\"span-trang-thai\\\"\\n            [ngStyle]=\\\"{'color':dataItem.TrangThai == 1 ? 'orange' : (dataItem.TrangThai == 2 ? 'green' : 'red') }\\\">{{dataItem.TrangThaiDisplay}}</span> \\n    </div> -->\\n\\n    <div style=\\\"display: flex; justify-content: space-between; color: green;\\\">\\n        <!-- <app-checkbox [disabled]=\\\"dataItem.TrangThai != 6 && dataItem.TrangThai != null\\\" (modelChange)=\\\"checkedChange($event, dataItem)\\\" [(model)]=\\\"dataItem.IsChecked\\\" \\n        id=\\\"IsChecked{{dataItem.Id}}\\\"></app-checkbox>  -->\\n        <span class=\\\"span-1-goi-marketing l\\\" position=\\\"right\\\" style=\\\"margin-left: 10px;\\\" title=\\\"{{dataItem.TenDisplay}}\\\"\\n            kendoTooltip>\\n            {{dataItem.TenDisplay}}</span>\\n        <!-- <span class=\\\"span-2-goi-marketing\\\"\\n            [ngStyle]=\\\"{'color':dataItem.TrangThai == 1 ? 'orange' : (dataItem.TrangThai == 2 ? 'green' : 'red') }\\\">{{dataItem.TrangThaiDisplay}}</span> -->\\n        \\n            <span style=\\\"text-align: right; color: black;\\\" *ngIf=\\\"dataItem.IsChecked\\\" kendoTooltip\\n                title=\\\"{{'ĐÃ THU:' + dataItem.BenhNhanDaThanhToanDisplay + ' - CHƯA THU: ' + dataItem.ChuaThuDisplay + ' - CÒN CHO PHÉP BẢO LÃNH: ' + dataItem.ConLaiDisplay}}\\\">\\n                ĐÃ THU:\\n                <b style=\\\"color: green;\\\">{{dataItem.BenhNhanDaThanhToanDisplay}}</b>\\n                -\\n                CHƯA THU: <b style=\\\"color: orange;\\\">{{dataItem.ChuaThuDisplay}}</b>\\n                -\\n                CÒN CHO PHÉP BẢO LÃNH: <b style=\\\"color: red;\\\">{{dataItem.ConLaiDisplay}}</b>\\n            </span>\\n    </div>\\n</ng-template>\\n<ng-template #tongCongFooterTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n    <!-- {{test(dataItemParent)}} -->\\n    <span class=\\\"blue\\\">{{dataItemParent.GiaTruocChietKhau | number:'0.2-2':'vi-VN'}}</span>\\n</ng-template>\\n<!-- <ng-template #chietKhauFooterTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n    CK: <span class=\\\"green\\\">{{dataItemParent.TiLeChietKhau | number}} %</span>\\n</ng-template>\\n<ng-template #giaGoiFooterTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n    Giá gói: <span class=\\\"red\\\">{{dataItemParent.GiaSauChietKhau | number:'0.2-2':'vi-VN'}}</span>\\n</ng-template> -->\\n\\n<ng-template #checkBoxHeaderTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n    <!-- <input type=\\\"checkbox\\\" id=\\\"ckbHeader-{{dataItemParent.Id}}\\\" [(ngModel)]=\\\"dataItemParent.IsChecked\\\" (ngModelChange)=\\\"chonTatCaDichVuTrongGoi($event, dataItemParent.Id)\\\"> -->\\n    <input type=\\\"checkbox\\\" id=\\\"ckbHeader-{{dataItemParent.Id}}\\\" [(ngModel)]=\\\"dataItemParent.chonTatCa\\\" \\n        (ngModelChange)=\\\"chonTatCaDichVuTrongGoi($event, dataItemParent.Id)\\\">\\n</ng-template>\\n<ng-template #checkBoxTemplate let-dataItem>\\n    <!-- <input *ngIf=\\\"dataItem.IsActive\\\" id=\\\"{{dataItem.Id}}\\\" type=\\\"checkbox\\\" [attr.name]=\\\"'ckbItem-' + dataItem.YeuCauGoiDichVuId\\\"\\n        [disabled]=\\\"dataItem.SoLuongConLai <= 0\\\"\\n        [(ngModel)]=\\\"dataItem.IsChecked\\\" (ngModelChange)=\\\"chonDichVu($event, dataItem)\\\"> -->\\n    <input id=\\\"ckbItem-{{dataItem.YeuCauGoiDichVuId}}-{{dataItem.NhomDichVu}}-{{dataItem.Id}}\\\" type=\\\"checkbox\\\" [attr.name]=\\\"'ckbItem-' + dataItem.YeuCauGoiDichVuId\\\"\\n        *ngIf=\\\"!(dataItem.SoLuongConLai <= 0 || !dataItem.IsActive)\\\" class=\\\"ckbItemInGroup-{{dataItem.YeuCauGoiDichVuId}}-{{dataItem.TenNhomDichVu}}\\\"\\n        [(ngModel)]=\\\"dataItem.IsChecked\\\" (ngModelChange)=\\\"chonDichVu($event, dataItem)\\\">\\n</ng-template>\\n<ng-template #tongTienFooterTemplate>\\n    <span>Tổng cộng:</span>\\n</ng-template>\\n<ng-template #nhomDichVuTemplate let-value=\\\"value\\\" let-dataItemParent=\\\"dataItemParent\\\">\\n    <!-- <strong>{{value}}</strong> -->\\n    <strong>\\n        <input type=\\\"checkbox\\\" id=\\\"ckbGroup-{{dataItemParent.Id}}-{{value}}\\\" class=\\\"ckbGroup-{{dataItemParent.Id}} mr-2\\\"\\n            (change)=\\\"chonTatCaDichVuTrongNhom($event, dataItemParent.Id, value)\\\" value=\\\"true\\\">\\n        {{value}}\\n    </strong>\\n</ng-template>\\n<ng-template #sttTemplate let-rowIndex=\\\"rowIndex\\\">\\n    <strong>{{rowIndex + 1}}</strong>\\n</ng-template> \\n<ng-template #soLuongTemplate let-dataItem>\\n    <app-textboxnumeric id=\\\"abc-{{dataItem.Id}}\\\" [disabled]=\\\"!dataItem.IsActive || !dataItem.IsChecked\\\" [(model)]=\\\"dataItem.SoLuongDungLanNay\\\"\\n        class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"(!dataItem.IsActive || !dataItem.IsChecked) ? 0 : 1\\\" [max]=\\\"dataItem.TenNhomDichVu == 'DỊCH VỤ KHÁM BỆNH' ? 1 : (dataItem.SoLuongConLai)\\\"\\n        (modelChange)=\\\"changeSoLuongDichVu($event, dataItem)\\\"> \\n    </app-textboxnumeric>\\n</ng-template>\\n<ng-template #donGiaTemplate let-dataItem>\\n    {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n</ng-template>\\n<ng-template #thanhTienTemplate let-dataItem>\\n    {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n</ng-template>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"m-0\\\">\\n    <div>TÌM KIẾM NGƯỜI BỆNH</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close(null)\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <app-grid [gridColumns]=\\\"gridColumns\\\" [documentType]=\\\"documentType\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n        [useHeaderDefault]=\\\"false\\\" #gridTimKiem [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" height=\\\"511\\\"\\n        [allowSortDefault]=\\\"true\\\" [headerTemplate]=\\\"headerTemplate\\\" [urlGetData]=\\\"urlGetDataGrid\\\" [showStt]=\\\"true\\\"\\n        [urlGetTotalPage]=\\\"urlGetTotalPageGrid\\\" [additionalSearchString]=\\\"addtionStringDefault\\\">\\n    </app-grid>\\n</mat-dialog-content>\\n\\n<ng-template #actionTemplate let-dataItem>\\n    <button class=\\\"button-chon\\\" (click)=\\\"chonBenhNhan(dataItem)\\\" mat-menu-item>\\n        Chọn\\n    </button>\\n</ng-template>\\n\\n<ng-template #headerTemplate>\\n    <div style=\\\"padding: 10px;border-bottom: 1px solid #ccc;\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\n            <app-textbox fxFlex=\\\"10%\\\" [(model)]=\\\"timKiemBenhNhanSearch.MaBN\\\" id=\\\"MaBenhNhan\\\" label=\\\"Mã NB\\\"\\n                (keyup)=\\\"onKey($event)\\\">\\n            </app-textbox>\\n            <app-textbox fxFlex=\\\"12%\\\" [(model)]=\\\"timKiemBenhNhanSearch.BHYTMaSoThe\\\" id=\\\"MaBHYT\\\" label=\\\"Mã BHYT\\\"\\n                (keyup)=\\\"onKey($event)\\\">\\n            </app-textbox>\\n            <app-textbox fxFlex=\\\"15%\\\" [(model)]=\\\"timKiemBenhNhanSearch.HoTen\\\" id=\\\"HoTen\\\" label=\\\"Họ và tên\\\"  [upperCase]=\\\"true\\\"\\n                (keyup)=\\\"onKey($event)\\\">\\n            </app-textbox>\\n\\n            <app-datepicker fxFlex=\\\"11%\\\" [(model)]=\\\"timKiemBenhNhanSearch.NgaySinhDisplay\\\" id=\\\"NgaySinhDisplay\\\"\\n                label=\\\"Ngày sinh\\\" (keyup)=\\\"onKey($event)\\\">\\n            </app-datepicker>\\n\\n            <app-textbox fxFlex=\\\"12%\\\" [(model)]=\\\"timKiemBenhNhanSearch.SoChungMinhThu\\\" id=\\\"CMND\\\" label=\\\"CMND\\\"\\n                (keyup)=\\\"onKey($event)\\\">\\n            </app-textbox>\\n            <app-textboxmask fxFlex=\\\"10%\\\" [(model)]=\\\"timKiemBenhNhanSearch.SoDienThoai\\\" id=\\\"DienThoai\\\"\\n                label=\\\"Điện thoại\\\" (keyup)=\\\"onKey($event)\\\" mask=\\\"000 000 0000\\\">\\n            </app-textboxmask>\\n            <app-textbox fxFlex=\\\"20%\\\" [(model)]=\\\"timKiemBenhNhanSearch.DiaChi\\\" id=\\\"DiaChi\\\" label=\\\"Địa chỉ\\\"\\n                (keyup)=\\\"onKey($event)\\\">\\n            </app-textbox>\\n            <div fxFlex=\\\"5%\\\">\\n                <button type=\\\"button\\\" color=\\\"primary\\\" (keyup)=\\\"onKey($event)\\\" (click)=\\\"TimKiem()\\\" mat-raised-button\\n                    class=\\\"mt-5\\\">\\n                    Tìm</button>\\n            </div>\\n\\n        </div>\\n    </div>\\n</ng-template>\"","export default \"<div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\">\\n\\n    <div style=\\\"margin-top: 5px;\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\">\\n        <div fxFlex=\\\"100%\\\" style=\\\"padding-left: 7px; text-align: center;\\\">\\n            Số thẻ BHYT: <span style=\\\"font-weight: bold;\\\">{{data.MaThe}}</span>\\n        </div>\\n        <div fxFlex=\\\"100%\\\" style=\\\"padding-left: 7px; text-align: center;\\\">\\n            Họ và tên: <span style=\\\"font-weight: bold;\\\">{{data.TenBenhNhan}}</span>\\n        </div>\\n        <div fxFlex=\\\"100%\\\" style=\\\"padding-left: 7px; text-align: center;\\\">\\n            Ngày sinh: <span style=\\\"font-weight: bold;\\\">{{data.NgaySinhDisplay}}</span>\\n        </div>\\n    </div>\\n\\n</div>\\n\\n<div style=\\\"text-align: center;\\\">\\n    <h4>Hệ thống đang kiểm tra thông tin BHYT...</h4>\\n    <button color=\\\"primary\\\" mat-raised-button type=\\\"button\\\">\\n        <img src=\\\"/assets/img/loader.gif\\\" alt=\\\"Loading\\\" style=\\\"display: inline;\\\" />\\n    </button>\\n</div>\\n\\n\\n<!-- <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"menu\\\" (click)=\\\"close()\\\">Đóng</button>\\n</div> -->\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>THÔNG BÁO</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <!-- <h3 class=\\\"sub-title\\\">Thông Tin Thẻ</h3> -->\\n    <table width=\\\"100%\\\">\\n        <tr>\\n            <td>Số thẻ BHYT: <strong>{{data.BHYTMaSoThe}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Họ và tên: <strong>{{data.HoTen}}</strong></td>\\n            <td>Năm sinh: <strong>{{data.NgayThangNamSinhDisplay}}</strong></td>\\n            <td>Giới tính: <strong>{{data.GioiTinhDisplay}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Ngày có hiệu lực: <strong>{{data.NgayCoHieuLucDisplay}}</strong></td>\\n            <td>Ngày hết hiệu lực: <strong [style.color] = \\\"data.isOutOfDate == true ? 'red' : 'black' \\\">{{data.NgayHetHieuLucDisplay}}</strong></td>\\n        </tr>\\n    </table>\\n\\n    <div style=\\\"margin-top: 30px\\\">\\n        <!-- <h3 class=\\\"sub-title, sub-title-bottom\\\">Người bệnh này không tồn tại trên cổng BHYT</h3> -->\\n        <h3 class=\\\"sub-title, sub-title-bottom err-mess-bhyt\\\">{{messageErrFromBHYT}}</h3>\\n    </div>\\n\\n    <div class=\\\"div-title-bottom\\\">\\n        <button type=\\\"button\\\" mat-button class=\\\"mr-1\\\" (click)=\\\"huy()\\\">Hủy</button>\\n        <button type=\\\"button\\\" class=\\\"mr-1\\\" (click)=\\\"khamKhongBHYT()\\\" color=\\\"primary\\\" mat-raised-button>Khám không có thẻ BHYT</button>\\n        <button type=\\\"button\\\" (click)=\\\"chapNhanBHYTNhapTay()\\\" color=\\\"primary\\\" mat-raised-button>Chấp nhận BHYT nhập tay</button>\\n    </div>\\n    \\n</mat-dialog-content>\"","export default \"<p>tiep-nhan-benh-nhan-lich-su works!</p>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>THÔNG BÁO</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <!-- <h3 class=\\\"sub-title\\\">Thông Tin Thẻ</h3> -->\\n    <table width=\\\"100%\\\">\\n        <tr>\\n            <td>Số thẻ BHYT: <strong>{{data.BHYTMaSoThe}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Họ và tên: <strong>{{data.HoTen}}</strong></td>\\n            <td>Năm sinh: <strong>{{data.NgayThangNamSinhDisplay}}</strong></td>\\n            <td>Giới tính: <strong>{{data.GioiTinhDisplay}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Ngày có hiệu lực: <strong>{{data.NgayCoHieuLucDisplay}}</strong></td>\\n            <td>Ngày hết hiệu lực: <strong [style.color] = \\\"data.isOutOfDate == true ? 'red' : 'black' \\\">{{data.NgayHetHieuLucDisplay}}</strong></td>\\n        </tr>\\n    </table>\\n\\n    <div style=\\\"margin-top: 30px\\\">\\n        <h3 class=\\\"sub-title, sub-title-bottom\\\">Bạn không thể sử dụng thẻ này vì thẻ đã hết hiệu lực</h3>\\n    </div>\\n\\n    <div class=\\\"div-title-bottom\\\">\\n        <button type=\\\"button\\\" mat-button class=\\\"mr-1\\\" (click)=\\\"huy()\\\">Hủy</button>\\n        <button type=\\\"button\\\" class=\\\"mr-1\\\" (click)=\\\"khamKhongBHYT()\\\" color=\\\"primary\\\" mat-raised-button>Khám không có thẻ BHYT</button>\\n        <button type=\\\"button\\\" (click)=\\\"chapNhanBHYTNhapTay()\\\" color=\\\"primary\\\" mat-raised-button>Chấp nhận BHYT nhập tay</button>\\n    </div>\\n    \\n</mat-dialog-content>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>THÔNG BÁO</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <!-- <h3 class=\\\"sub-title\\\">Thông Tin Thẻ</h3> -->\\n    <table width=\\\"100%\\\">\\n        <tr>\\n            <td>Số thẻ BHYT: <strong>{{data.BHYTMaSoThe}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Họ và tên: <strong>{{data.HoTen}}</strong></td>\\n            <td>Năm sinh: <strong>{{data.NgayThangNamSinhDisplay}}</strong></td>\\n            <td>Giới tính: <strong>{{data.GioiTinhDisplay}}</strong></td>\\n        </tr>\\n    </table>\\n\\n    <div style=\\\"margin-top: 30px\\\">\\n        <h3 class=\\\"sub-title, sub-title-bottom\\\">Không thể kiểm tra thẻ này trên cổng BHYT, bạn hãy thử lại lần nữa</h3>\\n    </div>\\n\\n    <div class=\\\"div-title-bottom\\\">\\n        <button class=\\\"div-margin-bottom\\\" type=\\\"button\\\" mat-button class=\\\"mr-1\\\" (click)=\\\"khamKhongBHYT()\\\">Hủy</button>\\n        <button class=\\\"div-margin-bottom\\\" type=\\\"button\\\" (click)=\\\"khamKhongBHYT()\\\" color=\\\"primary\\\" mat-raised-button>Khám không có thẻ BHYT</button>\\n        <!-- <button class=\\\"div-margin-bottom\\\" type=\\\"button\\\" (click)=\\\"chapNhanCoBHYT()\\\" color=\\\"primary\\\" mat-raised-button>Chấp nhận có BHYT</button> -->\\n        <button type=\\\"button\\\" (click)=\\\"chapNhanBHYTNhapTay()\\\" class=\\\"div-margin-bottom\\\" color=\\\"primary\\\" mat-raised-button>Chấp nhận BHYT nhập tay</button>\\n        <button type=\\\"button\\\" (click)=\\\"thuLai()\\\" color=\\\"primary\\\" mat-raised-button>Thử lại</button>\\n    </div>\\n    \\n</mat-dialog-content>\"","export default \"\\n\\n<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>LỊCH SỬ KCB</div>\\n    <!-- <button type=\\\"button\\\" mat-icon-button (click)=\\\"close('No answer')\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button> -->\\n</div>\\n\\n<mat-dialog-content>\\n    <app-grid [gridColumns]=\\\"gridColumns\\\" [gridDataSource]=\\\"gridData\\\"\\n    [documentType]=\\\"documentType\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" \\n    [useHeaderDefault]=\\\"false\\\" #grid [useActionDefault]=\\\"false\\\"\\n    [checkboxAble]=\\\"false\\\" height=\\\"300\\\">\\n</app-grid>\\n</mat-dialog-content>\"","export default \"\\n\\n<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>LỊCH SỬ KIỂM TRA THẺ BHYT</div>\\n    <!-- <button type=\\\"button\\\" mat-icon-button (click)=\\\"close('No answer')\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button> -->\\n</div>\\n\\n<mat-dialog-content>\\n    <app-grid [gridColumns]=\\\"gridColumns\\\" [gridDataSource]=\\\"gridData\\\"\\n    [documentType]=\\\"documentType\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" \\n    [useHeaderDefault]=\\\"false\\\" #grid [useActionDefault]=\\\"false\\\"\\n    [checkboxAble]=\\\"false\\\" height=\\\"400\\\">\\n    <!-- height=\\\"300\\\" -->\\n</app-grid>\\n</mat-dialog-content>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Thông Tin Bảo Hiểm Y Tế</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <h3 class=\\\"sub-title\\\">Thông Tin Thẻ</h3>\\n    <table width=\\\"100%\\\">\\n        <tr>\\n            <td width=\\\"28%\\\">Ngày sinh: <strong>{{data.BenhNhan.NgayThangNamSinhDisplay}}</strong></td>\\n            <td width=\\\"29%\\\">Giới tính: <strong>{{data.BenhNhan.GioiTinhDisplay}}</strong></td>\\n            <td>Địa chỉ: <strong>{{data.DiaChiDisplay}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Mã ĐKBĐ: <strong>{{data.MaDKBD}}</strong></td>\\n            <td>Nơi ĐKBH: <strong>{{data.BenhNhan.NoiDangKyBHYT}}</strong></td>\\n            <td>Cơ quan BHXH: <strong>{{data.cqBHXH}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Ngày có hiệu lực: <strong>{{data.NgayCoHieuLucDisplay}}</strong></td>\\n            <td>Ngày hết hiệu lực: <strong [style.color] = \\\"data.isOutOfDate == true ? 'red' : 'black' \\\">{{data.NgayHetHieuLucDisplay}}</strong></td>\\n            <td>Ngày đủ 5 năm: <strong>{{data.NgayDu5NamDisplay}}</strong></td>\\n        </tr>\\n    </table>\\n    <h3 class=\\\"sub-title\\\">Thông Tin Khám Chữa Bệnh</h3>\\n</mat-dialog-content>\"","export default \"<app-grid baseRoute=\\\"/them-yeu-cau-tiep-nhan\\\" [gridColumns]=\\\"gridColumns\\\"\\n        [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n        [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [urlGetData]=\\\"urlGetDataGrid\\\"\\n        [urlGetTotalPage]=\\\"urlGetTotalPageGrid\\\" [additionalSearchString]=\\\"BenhNhan+''\\\" [autoHeight]=true> \\n    </app-grid>\\n\"","export default \"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-15\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <vex-breadcrumbs [crumbs]=\\\"[\\n                    {Title:'Tiếp Nhận Người Bệnh',Path:''}\\n                    ,{Title:'Thêm Yêu Cầu Tiếp Nhận',Path:'',Active:true}\\n                    ]\\\">\\n            </vex-breadcrumbs>\\n            <app-hot-key [keys]=\\\"[\\n            {Key:'Ctrl + Q',Description:'Quét mã vạch'},\\n            {Key:'Ctrl + F1',Description:'Di chuyển tới và check Có BHYT'},\\n            {Key:'Ctrl + F2',Description:'Di chuyển tới và check NHẬP TAY'},\\n            {Key:'Ctrl + F3',Description:'Di chuyển tới và check Có giấy chuyển viện'},\\n            {Key:'Ctrl + F5',Description:'Di chuyển tới và check Có giấy miễn cùng chi trả'},\\n            {Key:'Ctrl + F6',Description:'Di chuyển tới và check Có miễn giảm'},\\n            {Key:'Ctrl + F7',Description:'Di chuyển tới và check CÓ BHTN'},\\n            {Key:'Ctrl + F8',Description:'Di chuyển tới và mở tab Chỉ định dịch vụ'},\\n            {Key:'Ctrl + F9',Description:'Di chuyển tới và mở tab Tài liệu đính kèm'},\\n            {Key:'Ctrl + F10',Description:'Di chuyển tới và mở tab Người giám hộ'},\\n            {Key:'Ctrl + F11',Description:'Di chuyển tới và mở tab Lịch hẹn'},\\n            {Key:'Ctrl + F12',Description:'Di chuyển tới và mở tab Lịch sử khám bệnh'},\\n            {Key:'Ctrl + S',Description:'Lưu'},\\n            {Key:'Ctrl + Shift + S',Description:'Lưu và in phiếu chỉ định'},\\n            {Key:'Esc',Description:'Hủy',End:true}\\n            ]\\\"></app-hot-key>\\n            <!-- <app-radio id=\\\"LoaiKham\\\" name=\\\"LoaiKham\\\" class=\\\"no-format-css rad-white\\\"\\n                [(model)]=\\\"tiepNhanBenhNhan.LoaiKham\\\"\\n                [items]=\\\"[{Value:1,Text:'Khám Có BHYT'},{Value:2,Text:'Khám Nhân Dân'},{Value:3,Text:'Khám Sức Khỏe Tổng Quát'}]\\\">\\n            </app-radio> -->\\n        </div>\\n    </vex-page-layout-header>\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div @fadeInUp class=\\\"overflow-auto -mt-15\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n                <div @fadeInUp class=\\\"card\\\" fxFlex=\\\"auto\\\">\\n                    <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\">\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                fxLayoutGap.lt-sm=\\\"0\\\" fxFlex=\\\"100%\\\">\\n                                <div fxFlex=\\\"15%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\">\\n                                    <h3 class=\\\"sub-title mt-0\\\">\\n                                        Thông Tin Bảo Hiểm Y Tế\\n                                        <!-- <button (click)=\\\"openPopupGoiDichVu()\\\">Test</button> -->\\n                                    </h3>\\n                                </div>\\n                                <!-- &nbsp;&nbsp; -->\\n                                <div fxFlex=\\\"12%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" kendoTooltip>\\n                                    <app-checkbox (modelChange)=\\\"coBHYTChange($event)\\\"\\n                                        [(model)]=\\\"tiepNhanBenhNhan.CoBHYT\\\" id=\\\"CheckboxIsHaveBHYT\\\"\\n                                        [disabled]=\\\"tiepNhanBenhNhan.TuNhap == true\\\" label=\\\"Có\\\"\\n                                        title=\\\"Phím tắt: Ctrl + F1\\\"></app-checkbox>\\n                                    &nbsp;&nbsp;&nbsp;&nbsp;\\n                                    <app-checkbox (modelChange)=\\\"tuNhapChange($event)\\\"\\n                                        [(model)]=\\\"tiepNhanBenhNhan.TuNhap\\\" id=\\\"TuNhap\\\"\\n                                        [disabled]=\\\"tiepNhanBenhNhan.CoBHYT != true\\\" label=\\\"Nhập tay\\\"\\n                                        title=\\\"Phím tắt: Ctrl + F2\\\"></app-checkbox>\\n                                </div>\\n\\n                                <div fxFlex=\\\"53%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" kendoTooltip>\\n                                    <p style=\\\"color:red; font-weight:bold\\\">{{errMessageKhongChoPhepTaoMoiYCTN}}</p>\\n                                </div>\\n\\n                                <div fxFlex=\\\"20%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\">\\n                                    <div fxFlex=\\\"0%\\\">\\n\\n                                    </div>\\n                                    <div fxFlex=\\\"100%\\\" style=\\\"text-align: right;\\\">\\n                                        <a style=\\\"text-decoration: underline; color: blue; font-style: italic;\\\"\\n                                            (click)=\\\"lichSuKiemTraTheBHYT()\\\">Lịch\\n                                            sử kiểm tra thẻ BHYT</a>\\n                                        <a style=\\\"text-decoration: underline; color: blue; font-style: italic; margin-left: 10px;\\\"\\n                                            (click)=\\\"lichSuKBC()\\\">\\n                                            Lịch sử KCB\\n                                        </a>\\n                                    </div>\\n                                </div>\\n                            </div>\\n\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                fxLayoutGap.lt-sm=\\\"0\\\" *ngIf=\\\"tiepNhanBenhNhan.CoBHYT == true\\\">\\n                                <div fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" style=\\\"position: relative;\\\" kendoTooltip>\\n                                    <app-textbox id=\\\"SoTheBHYT\\\" label=\\\"Số thẻ BHYT\\\"\\n                                        [(model)]=\\\"tiepNhanBenhNhan.BHYTMaSoThe\\\" (keyup)=\\\"onKey($event, true, 1)\\\"\\n                                        [isAutoFocus]=\\\"true\\\" (blurChange)=\\\"blur($event, true)\\\"\\n                                        (modelChange)=\\\"ThongTinBenhNhanMaSoTHeChange($event)\\\" [required]=\\\"true\\\"\\n                                        [validationerror]=\\\"'BHYTMaSoThe' | validationerror:validationErrors\\\">\\n                                    </app-textbox>\\n\\n                                    <button (keyup)=\\\"onKeyScanner($event)\\\" (click)=\\\"QuetMaQRCodeClick()\\\" color=\\\"primary\\\"\\n                                        class=\\\"image-barcode\\\" mat-mini-fab type=\\\"button\\\" kendoTooltip\\n                                        title=\\\"Quét mã vạch thẻ BHYT\\\" title=\\\"Phím tắt: Ctrl + Q\\\">\\n                                        <img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n                                    </button>\\n                                </div>\\n                                <app-textbox id=\\\"BHYTMaDKBD\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Mã nơi ĐKBH\\\"\\n                                    maxlength=\\\"200\\\" (blurChange)=\\\"blurMaNoiDKBD($event)\\\"\\n                                    (keyup)=\\\"onKeyMaNoiDKBD($event)\\\" [(model)]=\\\"tiepNhanBenhNhan.BHYTMaDKBD\\\"\\n                                    [required]=\\\"true\\\" [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\"\\n                                    [validationerror]=\\\"'BHYTMaDKBD' | validationerror:validationErrors\\\">\\n                                </app-textbox>\\n\\n                                <app-textbox id=\\\"NoiDangKyBHYT\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Nơi ĐKBH\\\"\\n                                    maxlength=\\\"200\\\" [(model)]=\\\"tiepNhanBenhNhan.NoiDangKyBHYT\\\" [disabled]=\\\"true\\\">\\n                                </app-textbox>\\n\\n                                <app-textboxnumeric [(model)]=\\\"tiepNhanBenhNhan.BHYTMucHuong\\\" id=\\\"BHYTMucHuong\\\"\\n                                    fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Mức hưởng (%)\\\" format=\\\"0\\\" [required]=\\\"true\\\"\\n                                    [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\" (modelChange)=\\\"mucHuongChange($event)\\\"\\n                                    min=\\\"1\\\" max=\\\"100\\\"\\n                                    [validationerror]=\\\"'BHYTMucHuong' | validationerror:validationErrors\\\">\\n                                </app-textboxnumeric>\\n\\n                                <app-textbox id=\\\"BHYTDiaChi\\\" fxFlex=\\\"40%\\\" fxFlex.sm=\\\"40%\\\" label=\\\"Địa chỉ\\\"\\n                                    maxlength=\\\"200\\\"\\n                                    placeHolder=\\\"Địa chỉ (Số nhà/đường phố, Phường/Xã, Quận/Huyện, Tỉnh/Thành phố)\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.BHYTDiaChi\\\" [required]=\\\"true\\\"\\n                                    [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\" (blurChange)=\\\"blurBHYTDiaChi($event)\\\"\\n                                    (keyup)=\\\"onKeyBHYTDiaChi($event)\\\"\\n                                    [validationerror]=\\\"'BHYTDiaChi' | validationerror:validationErrors\\\">\\n                                </app-textbox>\\n\\n                                <app-radio id=\\\"LyDoVaoVien\\\" label=\\\"Tuyến khám\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.LyDoVaoVien\\\" (modelChange)=\\\"lyDoVaoVienChange($event)\\\"\\n                                    [items]=\\\"[{Value:1,Text:'Đúng tuyến'},{Value:3,Text:'Trái tuyến'}]\\\">\\n                                </app-radio>\\n\\n                                <app-datepicker id=\\\"BHYTNgayHieuLuc\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                    [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\"\\n                                    (modelChange)=\\\"ngayCoHieuLucChange($event)\\\" (blur)=\\\"blurNgayCoHieuLuc($event)\\\"\\n                                    (keyup)=\\\"onKeyNgayCotHieuLuc($event)\\\" label=\\\"Ngày có hiệu lực\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayHieuLuc\\\" [required]=\\\"true\\\"\\n                                    [validationerror]=\\\"'BHYTNgayHieuLuc' | validationerror:validationErrors\\\">\\n                                </app-datepicker>\\n\\n                                <app-datepicker id=\\\"BHYTNgayHetHan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                    [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\" (blur)=\\\"blurNgayHetHieuLuc($event)\\\"\\n                                    (keyup)=\\\"onKeyNgayHetHieuLuc($event)\\\" label=\\\"Ngày hết hiệu lực\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayHetHan\\\" [required]=\\\"true\\\"\\n                                    [validationerror]=\\\"'BHYTNgayHetHan' | validationerror:validationErrors\\\">\\n                                </app-datepicker>\\n\\n                                <app-datepicker id=\\\"BHYTNgayDu5Nam\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                    [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\" label=\\\"Ngày đủ 5 năm\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayDu5Nam\\\">\\n                                </app-datepicker>\\n\\n                                <app-textbox\\n                                    *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == true && soPhanTramHuongBHYT != null && tiepNhanBenhNhan.IsCheckedBHYT != null\\\"\\n                                    id=\\\"messageThanhCong\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Kiểm tra trên BHYT\\\"\\n                                    maxlength=\\\"200\\\" [disabled]=\\\"true\\\" [(model)]=\\\"messageThanhCong\\\" class=\\\"green\\\">\\n                                </app-textbox>\\n\\n                                <app-textbox\\n                                    *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == false && soPhanTramHuongBHYT != null && tiepNhanBenhNhan.IsCheckedBHYT != null\\\"\\n                                    id=\\\"messageKhongThanhCong\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Kiểm tra trên BHYT\\\"\\n                                    maxlength=\\\"200\\\" [disabled]=\\\"true\\\" [(model)]=\\\"messageKhongThanhCong\\\" class=\\\"red\\\">\\n                                </app-textbox>\\n\\n                                <app-textbox *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == null\\\" id=\\\"messageNULL\\\"\\n                                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Kiểm tra trên BHYT\\\" maxlength=\\\"200\\\"\\n                                    [disabled]=\\\"true\\\">\\n                                </app-textbox>\\n\\n                                <!-- </div> -->\\n\\n                                <!-- <div fxFlex=\\\"80%\\\"> -->\\n                                <!-- <div>\\n                                        <ul class=\\\"inline\\\">\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Mã nơi ĐKBH: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.BHYTMaDKBD}}</strong>\\n                                            </li>\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Nơi ĐKBH: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.NoiDangKyBHYT}}</strong>\\n                                            </li>\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Ngày đủ 5 năm: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.NgayDu5NamDisplay}}</strong>\\n                                            </li>\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Mức hưởng: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null && tiepNhanBenhNhan.BHYTMucHuong != null\\\">{{tiepNhanBenhNhan.BHYTMucHuong}}%</strong>\\n                                            </li>\\n                                        </ul>\\n                                    </div>\\n\\n                                    <div>\\n                                        <ul class=\\\"inline\\\">\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Ngày có hiệu lực: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.NgayCoHieuLucDisplay}}</strong>\\n                                            </li>\\n\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Ngày hết hiệu lực: <strong\\n                                                *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.NgayHetHieuLucDisplay}}</strong>\\n                                        </li>\\n                                        <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">\\n\\n                                        </li>\\n                                        <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">\\n\\n                                        </li>\\n                                        </ul>\\n                                    </div>\\n\\n                                    <div>\\n                                        <ul class=\\\"inline\\\">\\n                                            <li fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\">Địa chỉ: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.BHYTDiaChi}}</strong>\\n                                            </li>\\n                                            <li fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\">Kiểm tra trên BHYT: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == true && soPhanTramHuongBHYT != null\\\" style=\\\"color: green;\\\">Kiểm tra\\n                                                    thành công</strong>\\n                                                <strong *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == false && soPhanTramHuongBHYT != null\\\" style=\\\"color: red;\\\">Kiểm\\n                                                    tra không thành công</strong></li>\\n                                            <li fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\">\\n                                                <a style=\\\"text-decoration: underline; color: blue; font-style: italic;\\\" (click)=\\\"lichSuKBC()\\\">Lịch sử KCB</a>\\n                                            </li>\\n                                        </ul>\\n                                    </div> -->\\n\\n\\n\\n                                <!-- </div> -->\\n\\n\\n                            </div>\\n\\n                        </div>\\n\\n                        <div style=\\\"height: 30px;\\\">\\n\\n                        </div>\\n\\n                        <div id=\\\"test\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                            fxLayoutGap.lt-sm=\\\"0\\\">\\n                            <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thông Tin Hành Chính\\n                                <span class=\\\"thong-tin-tai-khoan-benh-nhan\\\"\\n                                    *ngIf=\\\"thongTinTaiKhoanBenhNhan != null && thongTinTaiKhoanBenhNhan != undefined\\\">\\n                                    Mã NB: <span\\n                                        style=\\\"font-weight: bold;\\\">{{thongTinTaiKhoanBenhNhan.MaBenhNhan}}</span> - Tài\\n                                    Khoản: <span\\n                                        style=\\\"font-weight: bold; color:green\\\">{{thongTinTaiKhoanBenhNhan.SoDuTaiKhoan |\\n                                        currency:'VND'}}</span>\\n                                </span>\\n                            </h3>\\n                            <app-textbox class=\\\"text-transform-uppercase\\\" #HoVaTenTextbox\\n                                (blurChange)=\\\"blur($event, false)\\\" id=\\\"HoTen\\\" fxFlex=\\\"15%\\\" fxFlex.sm=\\\"15%\\\"\\n                                label=\\\"Họ và tên\\\" [(model)]=\\\"tiepNhanBenhNhan.HoTen\\\" maxlength=\\\"100\\\"\\n                                [isAutoFocus]=\\\"true\\\" (keyup)=\\\"onKey($event, false, 2)\\\" [upperCase]=\\\"true\\\"\\n                                (modelChange)=\\\"ThongTinBenhNhanHoTenChange($event)\\\" [required]=\\\"true\\\"\\n                                [validationerror]=\\\"'HoTen' | validationerror:validationErrors\\\">\\n                            </app-textbox>\\n                            <div fxFlex=\\\"5%\\\" fxFlex.sm=\\\"5%\\\">\\n                                <button (keyup)=\\\"onKeyLookBN($event)\\\" color=\\\"default\\\" mat-raised-button type=\\\"button\\\"\\n                                    style=\\\"height: 100%;\\\" tabindex=\\\"-1\\\" (click)=\\\"timKiemBenhNhanPopup()\\\"\\n                                    [ngStyle]=\\\"{'color':true == true?'green':'grey'}\\\">\\n                                    <mat-icon [icIcon]=\\\"icFind\\\"></mat-icon>\\n                                    <div style=\\\"line-height: 20px;\\\">{{totalBenhNhan}}</div>\\n                                </button>\\n                            </div>\\n\\n                            <app-datepicker #NgaySinhCoBHYT *ngIf=\\\"tiepNhanBenhNhan.CoBHYT == true\\\"\\n                                (blur)=\\\"blur($event, false, 3)\\\" id=\\\"NgaySinh\\\" fxFlex=\\\"13%\\\" fxFlex.sm=\\\"13%\\\"\\n                                label=\\\"Ngày sinh\\\" [(model)]=\\\"tiepNhanBenhNhan.NgayThangNamSinh\\\"\\n                                (keyup)=\\\"onKey($event, false, 3)\\\" (modelChange)=\\\"ThongTinBenhNhanNgaySinhChange($event)\\\"\\n                                [required]=\\\"true\\\"\\n                                [validationerror]=\\\"'NgayThangNamSinh' | validationerror:validationErrors\\\">\\n                            </app-datepicker>\\n\\n                            <app-datepicker #NgaySinhKhongCoBHYT *ngIf=\\\"tiepNhanBenhNhan.CoBHYT != true\\\"\\n                                (blur)=\\\"blur($event, false, 3)\\\" id=\\\"NgaySinh\\\" fxFlex=\\\"13%\\\" fxFlex.sm=\\\"13%\\\"\\n                                label=\\\"Ngày sinh\\\" [required]=\\\"true\\\" [(model)]=\\\"tiepNhanBenhNhan.NgayThangNamSinh\\\"\\n                                (keyup)=\\\"onKey($event, false, 3)\\\" (modelChange)=\\\"ThongTinBenhNhanNgaySinhChange($event)\\\"\\n                                [validationerror]=\\\"'NgayThangNamSinh' | validationerror:validationErrors\\\">\\n                            </app-datepicker>\\n\\n                            <app-textboxnumeric [(model)]=\\\"tiepNhanBenhNhan.NamSinh\\\" id=\\\"Numerictextbox\\\" fxFlex=\\\"7%\\\"\\n                                (blur)=\\\"blur($event, false, 3)\\\" (keyup)=\\\"onKey($event, false, 3)\\\" fxFlex.sm=\\\"7%\\\"\\n                                label=\\\"Năm sinh\\\" format=\\\"0\\\" min=\\\"1\\\" max=\\\"9999\\\" (modelChange)=\\\"NamSinhChange($event)\\\"\\n                                [disabled]=\\\"tiepNhanBenhNhan.NgayThangNamSinh!=null\\\"\\n                                [validationerror]=\\\"'NamSinh' | validationerror:validationErrors\\\">\\n                            </app-textboxnumeric>\\n\\n                            <!-- *ngIf=\\\"under6yearsold\\\" -->\\n                            <app-textbox id=\\\"SoTuoi\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                label=\\\"Số tuổi\\\" [disabled]=\\\"true\\\" [(model)]=\\\"soTuoiDisplay\\\">\\n                            </app-textbox>\\n\\n                            <app-textboxmask id=\\\"SoDienThoai\\\" onlynumber=\\\"true\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                label=\\\"Số điện thoại\\\" (keyup)=\\\"onKeyTimKiemBenhNhan($event)\\\" maxlength=\\\"10\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.SoDienThoai\\\" mask=\\\"000 000 0000\\\">\\n                            </app-textboxmask>\\n\\n                            <app-dropdownlist id=\\\"Dropdownlist\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Giới tính\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetGioiTinh\\\" [(model)]=\\\"tiepNhanBenhNhan.GioiTinh\\\" bind=\\\"true\\\"\\n                                [validationerror]=\\\"'DiaChi' | validationerror:validationErrors\\\">\\n                            </app-dropdownlist>\\n\\n                            <app-combobox id=\\\"NgheNghiep\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Nghề Nghiệp\\\" bind=\\\"true\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetNgheNghiep\\\" [(model)]=\\\"tiepNhanBenhNhan.NgheNghiepId\\\">\\n                            </app-combobox>\\n\\n                            <app-combobox id=\\\"GetQuocTich\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Quốc tịch\\\" bind=\\\"true\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetQuocTich\\\" [(model)]=\\\"tiepNhanBenhNhan.QuocTichId\\\"\\n                                [required]=\\\"true\\\" [validationerror]=\\\"'QuocTichId' | validationerror:validationErrors\\\">\\n                            </app-combobox>\\n                            <!-- broadcastAfterLoaded=\\\"true\\\" -->\\n                            <app-combobox id=\\\"TinhThanhPho\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" bind=\\\"true\\\"\\n                                (modelChange)=\\\"TinhThanhPhoChange($event)\\\" label=\\\"Tỉnh/Thành Phố\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetTinhThanh/?quanHuyenId={{tiepNhanBenhNhan.QuanHuyenId}}\\\"\\n                                hierarchyKeyToSend=\\\"tinhThanh\\\" [(model)]=\\\"tiepNhanBenhNhan.TinhThanhId\\\"\\n                                class=\\\"item-no-padding\\\" [template]=\\\"tinhThanhTemplate\\\"\\n                                [templateHeader]=\\\"tinhThanhTemplateHeader\\\"\\n                                [required]=\\\"true\\\" [validationerror]=\\\"'TinhThanhId' | validationerror:validationErrors\\\">\\n                                <ng-template #tinhThanhTemplateHeader let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <th width=\\\"20%\\\">Mã</th>\\n                                            <th>Tên</th>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                                <ng-template #tinhThanhTemplate let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                            <td>{{dataItem.Ten}}</td>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                            </app-combobox>\\n                            <!-- broadcastAfterLoaded=\\\"true\\\" -->\\n                            <app-combobox id=\\\"QuanHuyen\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Quận/Huyện\\\"\\n                                #comboboxQuanHuyen (modelChange)=\\\"QuanHuyenChange($event)\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetQuanHuyen/?phuongXaId={{tiepNhanBenhNhan.PhuongXaId}}\\\"\\n                                hierarchyKeyToListen=\\\"tinhThanh\\\" hierarchyKeyToSend=\\\"quanHuyen\\\" bind=\\\"true\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.QuanHuyenId\\\" class=\\\"item-no-padding\\\"\\n                                [template]=\\\"quanHuyenTemplate\\\" [templateHeader]=\\\"quanHuyenTemplateHeader\\\"\\n                                [required]=\\\"true\\\" [validationerror]=\\\"'QuanHuyenId' | validationerror:validationErrors\\\">\\n                                <ng-template #quanHuyenTemplateHeader let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <th width=\\\"20%\\\">Mã</th>\\n                                            <th>Tên</th>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                                <ng-template #quanHuyenTemplate let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                            <td>{{dataItem.Ten}}</td>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                            </app-combobox>\\n\\n                            <!-- broadcastAfterLoaded=\\\"true\\\" -->\\n                            <app-combobox id=\\\"PhuongXa\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Phường/Xã\\\"\\n                                #comboboxPhuongXa url=\\\"TiepNhanBenhNhan/GetPhuongXa\\\" hierarchyKeyToListen=\\\"quanHuyen\\\"\\n                                (modelChange)=\\\"PhuongXaChange($event)\\\" [(model)]=\\\"tiepNhanBenhNhan.PhuongXaId\\\"\\n                                class=\\\"item-no-padding\\\" [template]=\\\"phuongXaTemplate\\\"\\n                                [templateHeader]=\\\"phuongXaTemplateHeader\\\"\\n                                [required]=\\\"true\\\" [validationerror]=\\\"'PhuongXaId' | validationerror:validationErrors\\\">\\n                                <ng-template #phuongXaTemplateHeader let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <th width=\\\"20%\\\">Mã</th>\\n                                            <th>Tên</th>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                                <ng-template #phuongXaTemplate let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                            <td>{{dataItem.Ten}}</td>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                            </app-combobox>\\n\\n                            <app-textbox class=\\\"text-transform-capitalize\\\" id=\\\"SoNhaDuongPho\\\" fxFlex=\\\"20%\\\"\\n                                fxFlex.sm=\\\"20%\\\" maxlength=\\\"200\\\" (keyup)=\\\"onKeyTimKiemBenhNhan($event)\\\"\\n                                label=\\\"Số nhà/Đường phố\\\" [(model)]=\\\"tiepNhanBenhNhan.DiaChi\\\"\\n                                (modelChange)=\\\"soNhaDuongPhoChange($event)\\\">\\n                            </app-textbox>\\n\\n                            <app-textbox id=\\\"SoCMND\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Số CMND\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.SoChungMinhThu\\\" maxlength=\\\"12\\\" onlynumber=\\\"true\\\"\\n                                (keyup)=\\\"onKeyTimKiemBenhNhanForLogicNewCMNDVaSdt($event)\\\"\\n                                [validationerror]=\\\"'SoChungMinhThu' | validationerror:validationErrors\\\">\\n                            </app-textbox>\\n\\n                            <app-textbox id=\\\"Email\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Email\\\" maxlength=\\\"200\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.Email\\\"\\n                                [validationerror]=\\\"'Email' | validationerror:validationErrors\\\">\\n                            </app-textbox>\\n\\n                            <!-- <button (click)=\\\"click()\\\">CLICK</button> -->\\n\\n                            <app-textbox id=\\\"NoiLamViec\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" maxlength=\\\"200\\\"\\n                                label=\\\"Nơi làm việc\\\" [(model)]=\\\"tiepNhanBenhNhan.NoiLamViec\\\"\\n                                [required]=\\\"tiepNhanBenhNhan.CoBHYT == true\\\"\\n                                [validationerror]=\\\"'NoiLamViec' | validationerror:validationErrors\\\">\\n                            </app-textbox>\\n\\n                            <app-combobox bind=\\\"true\\\" id=\\\"DanToc\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Dân tộc\\\" [reloadForGrid]=\\\"true\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetDanToc\\\" [(model)]=\\\"tiepNhanBenhNhan.DanTocId\\\">\\n                            </app-combobox>\\n\\n                            <div *ngIf=\\\"tiepNhanBenhNhan.CoBHYT == true\\\" style=\\\"width: 100%;\\\" fxLayout=\\\"row\\\"\\n                                xFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                                <div style=\\\"width: 100%;\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                    fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\n                                    <!-- <div *ngIf=\\\"tiepNhanBenhNhan.BHYTDuocMienCungChiTra == true\\n                                            && (tiepNhanBenhNhan.DuocChuyenVien == false || tiepNhanBenhNhan.DuocChuyenVien == null)\\\"\\n                                        fxFlex=\\\"80%\\\" fxFlex.sm=\\\"80%\\\">\\n\\n                                    </div> -->\\n\\n                                    <app-checkbox [(model)]=\\\"tiepNhanBenhNhan.BHYTDuocMienCungChiTra\\\" fxFlex=\\\"20%\\\"\\n                                        kendoTooltip fxFlex.sm=\\\"20%\\\" id=\\\"CheckboxAB\\\" label=\\\"Có giấy miễn cùng chi trả\\\"\\n                                        title=\\\"Phím tắt: Ctrl + F5\\\">\\n                                    </app-checkbox>\\n\\n                                    <app-upload *ngIf=\\\"tiepNhanBenhNhan.BHYTDuocMienCungChiTra == true\\\" fxFlex=\\\"60%\\\"\\n                                        fxFlex.sm=\\\"60%\\\" id=\\\"Upload\\\" label=\\\"Giấy miễn cùng chi trả đính kèm\\\"\\n                                        [model]=\\\"tiepNhanBenhNhan.BHYTGiayMienCungChiTra\\\"\\n                                        (uploadFileDone)=\\\"uploadFileMienCungChiTraDone($event)\\\">\\n                                    </app-upload>\\n\\n                                    <app-datepicker *ngIf=\\\"tiepNhanBenhNhan.BHYTDuocMienCungChiTra == true\\\"\\n                                        id=\\\"BHYTNgayDuocMienCungChiTra\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                        label=\\\"Ngày bắt đầu miễn cùng chi trả\\\"\\n                                        [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayDuocMienCungChiTra\\\">\\n                                    </app-datepicker>\\n\\n\\n\\n                                </div>\\n                            </div>\\n\\n                            <!-- style=\\\"width: 100%;\\\" -->\\n                            <div [fxFlex]=\\\"tiepNhanBenhNhan.DuocChuyenVien == true ? '100%' : '15%'\\\" [fxFlex.sm]=\\\"tiepNhanBenhNhan.DuocChuyenVien == true ? '100%' : '15%'\\\"\\n                                fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" kendoTooltip>\\n                                <app-checkbox [(model)]=\\\"tiepNhanBenhNhan.DuocChuyenVien\\\" [fxFlex]=\\\"tiepNhanBenhNhan.DuocChuyenVien == true ? '20%' : '100%'\\\" [fxFlex.sm]=\\\"tiepNhanBenhNhan.DuocChuyenVien == true ? '20%' : '100%'\\\"\\n                                    id=\\\"CheckboxA\\\" label=\\\"Có giấy chuyển viện\\\" title=\\\"Phím tắt: Ctrl + F3\\\">\\n                                </app-checkbox>\\n\\n                                <app-datepicker *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" id=\\\"ThoiGianChuyenVien\\\"\\n                                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Ngày chuyển tuyến\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.ThoiGianChuyenVien\\\">\\n                                </app-datepicker>\\n\\n                                <app-textbox *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" id=\\\"SoChuyenTuyen\\\"\\n                                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Số tuyến chuyển\\\" maxlength=\\\"20\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.SoChuyenTuyen\\\">\\n                                </app-textbox>\\n\\n                                <app-combobox *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" id=\\\"NoiChuyenId\\\"\\n                                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Tuyến chuyển\\\"\\n                                    url=\\\"TiepNhanBenhNhan/GetTuyenChuyen\\\" [(model)]=\\\"tiepNhanBenhNhan.NoiChuyenId\\\">\\n                                </app-combobox>\\n\\n                                <app-textbox *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" id=\\\"LyDoChuyen\\\"\\n                                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Lý do chuyển\\\" maxlength=\\\"200\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.LyDoChuyen\\\">\\n                                </app-textbox>\\n\\n                                <div *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\">\\n\\n                                </div>\\n\\n                                <app-upload *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" fxFlex=\\\"80%\\\" fxFlex.sm=\\\"80%\\\"\\n                                    id=\\\"Upload\\\" label=\\\"Giấy chuyển viện đính kèm\\\"\\n                                    [model]=\\\"tiepNhanBenhNhan.GiayChuyenVien\\\" (uploadFileDone)=\\\"uploadFileDone($event)\\\">\\n                                </app-upload>\\n                            </div>\\n\\n                            <div fxLayout=\\\"row wrap\\\" [fxFlex]=\\\"tiepNhanBenhNhan.DuocUuDai == true ? '100%' : '15%'\\\" [fxFlex.sm]=\\\"tiepNhanBenhNhan.DuocUuDai == true ? '100%' : '15%'\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                                <app-checkbox [(model)]=\\\"tiepNhanBenhNhan.DuocUuDai\\\" id=\\\"CheckboxUuDai\\\"\\n                                    (modelChange)=\\\"CoUuDaiChange($event)\\\" label=\\\"Có miễn giảm\\\" [fxFlex]=\\\"tiepNhanBenhNhan.DuocUuDai == true ? '10%' : '100%'\\\"\\n                                    [fxFlex.sm]=\\\"tiepNhanBenhNhan.DuocUuDai == true ? '10%' : '100%'\\\" title=\\\"Phím tắt: Ctrl + F6\\\" kendoTooltip></app-checkbox>\\n\\n                                <div style=\\\"margin-top: 3px;\\\" *ngIf=\\\"tiepNhanBenhNhan.DuocUuDai == true\\\" fxFlex=\\\"90%\\\"\\n                                    fxFlex.sm=\\\"90%\\\">\\n                                    <!-- <div fxLayout=\\\"row\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" fxLayoutGap=\\\"16px grid\\\">\\n\\n                                                                </div> -->\\n\\n                                    <!-- <label fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" style=\\\"margin-right: 10px\\\">Loại miễn giảm:\\n                                    </label> -->\\n                                    <!-- <app-radio fxFlex=\\\"85%\\\" fxFlex.sm=\\\"85%\\\" id=\\\"LoaiMienGiam\\\" class=\\\"no-format-css\\\"\\n                                        [(model)]=\\\"tiepNhanBenhNhan.LoaiMienGiam\\\"\\n                                        [items]=\\\"[{Value:1,Text:'Đối tượng ưu đãi'},{Value:2,Text:'Voucher'}]\\\">\\n                                    </app-radio> -->\\n\\n\\n                                </div>\\n\\n                                <div *ngIf=\\\"tiepNhanBenhNhan.DuocUuDai == true\\\" fxFlex=\\\"100%\\\">\\n                                    <div fxLayout=\\\"row wrap\\\" fxLayoutGap=\\\"16px grid\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                        style=\\\"width: 100%;\\\">\\n                                        <app-combobox id=\\\"DoiTuongKhamChuaBenh\\\" fxFlex=\\\"30%\\\" required=\\\"true\\\"\\n                                            fxFlex.sm=\\\"30%\\\" label=\\\"Đối tượng ưu đãi\\\" bind=\\\"true\\\"\\n                                            url=\\\"TiepNhanBenhNhan/GetDoiTuongUuDai\\\"\\n                                            [(model)]=\\\"tiepNhanBenhNhan.DoiTuongUuDaiId\\\"\\n                                            [validationerror]=\\\"'DoiTuongUuDaiId' | validationerror:validationErrors\\\">\\n                                        </app-combobox>\\n\\n                                        <app-combobox id=\\\"CongTyUuDai\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" required=\\\"true\\\"\\n                                            bind=\\\"true\\\" url=\\\"TiepNhanBenhNhan/GetCongTyUuDai\\\"\\n                                            [(model)]=\\\"tiepNhanBenhNhan.CongTyUuDaiId\\\" label=\\\"Công ty ưu đãi\\\"\\n                                            [validationerror]=\\\"'CongTyUuDaiId' | validationerror:validationErrors\\\">\\n                                        </app-combobox>\\n\\n                                        <div class=\\\"div-voucher\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\"\\n                                            kendoTooltip fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\">\\n                                            <kendo-multiselect #multiselect data-placeholder=\\\"Mã voucher\\\"\\n                                                [data]=\\\"listVoucherItem\\\" [(ngModel)]=\\\"value\\\" [clearButton]=\\\"false\\\"\\n                                                (open)=\\\"open()\\\" [filterable]=\\\"true\\\" (removeTag)=\\\"removeTag($event)\\\"\\n                                                (blur)=\\\"blurVoucher()\\\" (filterChange)=\\\"filterChange($event)\\\">\\n                                            </kendo-multiselect>\\n                                            <button (click)=\\\"QuetMaQRCodeClick()\\\" color=\\\"primary\\\" mat-mini-fab\\n                                                type=\\\"button\\\" class=\\\"button-barcoe-in-search\\\" kendoTooltip\\n                                                title=\\\"Quét mã vạch thẻ\\\" title=\\\"Phím tắt: Ctrl + Q\\\">\\n                                                <img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n                                            </button>\\n                                            <app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\"\\n                                                style=\\\"display: none;\\\"></app-barcode>\\n                                        </div>\\n                                        <app-validationerrorother fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"LstMaVoucher\\\"\\n                                            [validationerror]=\\\"'LstMaVoucher' | validationerror:validationErrors\\\">\\n                                        </app-validationerrorother>\\n\\n                                    </div>\\n\\n                                </div>\\n\\n                                <!-- <div *ngIf=\\\"tiepNhanBenhNhan.DuocUuDai == true\\\"\\n                                    fxFlex=\\\"100%\\\">\\n                                    <div fxLayout=\\\"row wrap\\\" fxLayoutGap=\\\"16px grid\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                        style=\\\"width: 100%;\\\">\\n                                        <div style=\\\"margin-top: -5px;\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\"\\n                                            fxLayoutAlign=\\\"start center\\\" kendoTooltip style=\\\"width: 100%;\\\">\\n                                            <kendo-multiselect  fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\"  #multiselect\\n                                                [data]=\\\"listVoucherItem\\\" [(ngModel)]=\\\"value\\\" [clearButton]=\\\"false\\\"\\n                                                (open)=\\\"open()\\\" [filterable]=\\\"true\\\" (removeTag)=\\\"removeTag($event)\\\" (blur)=\\\"blurVoucher()\\\"\\n                                                (filterChange)=\\\"filterChange($event)\\\">\\n                                            </kendo-multiselect>\\n                                            <button (click)=\\\"QuetMaQRCodeClick()\\\" color=\\\"primary\\\" mat-mini-fab\\n                                                type=\\\"button\\\" class=\\\"button-barcoe-in-search\\\" kendoTooltip title=\\\"Quét mã vạch thẻ\\\"\\n                                                title=\\\"Phím tắt: Ctrl + Q\\\">\\n                                                <img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n                                            </button>\\n                                            <app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\"\\n                                                style=\\\"display: none;\\\"></app-barcode>\\n                                        </div>\\n                                        <app-validationerrorother fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"LstMaVoucher\\\" [validationerror]=\\\"'LstMaVoucher' | validationerror:validationErrors\\\">\\n                                        </app-validationerrorother>\\n                                    </div>\\n                                </div> -->\\n                            </div>\\n\\n                            <div fxLayout=\\\"row wrap\\\" fxFlex=\\\"15%\\\" fxFlex.sm=\\\"15%\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                                <app-checkbox [(model)]=\\\"tiepNhanBenhNhan.LaCapCuu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" class=\\\"color-red\\\"\\n                                    id=\\\"ckbCapCuu\\\" label=\\\"Cấp cứu\\\">\\n                                </app-checkbox>\\n                            </div>\\n                        </div>\\n\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                            <h3 style=\\\"margin-top:10px !important\\\" fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thông Tin Bảo\\n                                Hiểm Tư Nhân &nbsp; <app-checkbox id=\\\"CheckboxIsHaveBHTN\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.CoBHTN\\\" label=\\\"Có\\\" title=\\\"Phím tắt: Ctrl + F7\\\"\\n                                    kendoTooltip></app-checkbox>\\n                            </h3>\\n                            <div fxFlex=\\\"100%\\\">\\n                                <div *ngIf=\\\"tiepNhanBenhNhan.CoBHTN == true\\\" fxLayout=\\\"row wrap\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                    fxLayout.lt-sm=\\\"column\\\" style=\\\"width: 100%;\\\">\\n                                    <app-combobox id=\\\"CongTyBaoHiemTuNhanId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                        [(model)]=\\\"themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId\\\" label=\\\"Công ty\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetCongTyBaoHiemTuNhan\\\" bind=\\\"true\\\"\\n                                        (modelChange)=\\\"congTyBaoHiemChange($event)\\\" required=\\\"true\\\" [required]=\\\"true\\\"\\n                                        [validationerror]=\\\"'CongTyBaoHiemTuNhanId' | validationerror:validationErrors\\\">\\n                                    </app-combobox>\\n\\n                                    <app-textbox id=\\\"MaSoThe\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Số thẻ\\\"\\n                                        [(model)]=\\\"themBaoHiemTuNhanModel.MaSoThe\\\" maxlength=\\\"30\\\">\\n                                    </app-textbox>\\n\\n                                    <app-datepicker id=\\\"NgayHieuLuc\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Từ ngày\\\"\\n                                        [(model)]=\\\"themBaoHiemTuNhanModel.NgayHieuLuc\\\">\\n                                    </app-datepicker>\\n\\n                                    <app-datepicker id=\\\"NgayHetHan\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Đến ngày\\\"\\n                                        [(model)]=\\\"themBaoHiemTuNhanModel.NgayHetHan\\\"\\n                                        [validationerror]=\\\"'NgayHetHan' | validationerror:validationErrors\\\">\\n                                    </app-datepicker>\\n\\n                                    <app-textboxmask id=\\\"SoDienThoai\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Điện thoại\\\"\\n                                        readonly=\\\"true\\\" maxlength=\\\"100\\\" [(model)]=\\\"themBaoHiemTuNhanModel.SoDienThoai\\\">\\n                                    </app-textboxmask>\\n\\n                                    <app-textbox id=\\\"DiaChi\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Địa chỉ\\\"\\n                                        readonly=\\\"true\\\" maxlength=\\\"200\\\" [(model)]=\\\"themBaoHiemTuNhanModel.DiaChi\\\">\\n                                    </app-textbox>\\n\\n                                    <div style=\\\"margin-bottom: 20px;\\\" fxLayoutAlign=\\\"end right\\\" fxFlex=\\\"100%\\\"\\n                                        fxFlex.sm=\\\"100%\\\" class=\\\"mr-4\\\">\\n                                        <button (click)=\\\"huyBHTN()\\\" mat-button class=\\\"mr-1 px-6 py-0\\\"><i\\n                                                class=\\\"ft-arrow-left \\\"></i>Hủy</button>\\n                                        <button *ngIf=\\\"isUpdateGrid == false\\\" (click)=\\\"ThemBHTN()\\\" color=\\\"primary\\\"\\n                                            mat-raised-button class=\\\"mr-1 px-6 py-o\\\"><i\\n                                                class=\\\"ft-save\\\"></i>Thêm</button>\\n                                        <button *ngIf=\\\"isUpdateGrid == true\\\" (click)=\\\"SuaBHTN()\\\" color=\\\"primary\\\"\\n                                            mat-raised-button class=\\\"mr-1 px-6 py-o\\\"><i class=\\\"ft-save\\\"></i>Cập\\n                                            nhật</button>\\n                                    </div>\\n\\n                                    <app-grid fxFlex=\\\"100%\\\" [gridDataSource]=\\\"gridDataSourceBHTN\\\"\\n                                        [gridColumns]=\\\"gridColumns\\\" #gridBHTN [documentType]=\\\"documentType\\\"\\n                                        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                                        [checkboxAble]=\\\"false\\\" pageSize=\\\"5\\\" [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\">\\n                                    </app-grid>\\n\\n                                </div>\\n                            </div>\\n                        </div>\\n\\n                        <ng-template #actionTemplate let-dataItem>\\n                            <button (click)=\\\"$event.stopPropagation()\\\" kendoTooltip title=\\\"Hành động\\\"\\n                                [matMenuTriggerFor]=\\\"actionsMenu\\\" mat-icon-button type=\\\"button\\\">\\n                                <mat-icon [icIcon]=\\\"icMoreHoriz\\\"></mat-icon>\\n                            </button>\\n                            <mat-menu #actionsMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n                                <ng-template let-customer=\\\"customer\\\" matMenuContent>\\n                                    <button (click)=\\\"updateGridBHTN(dataItem)\\\" mat-menu-item>\\n                                        <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n                                        <span>Sửa</span>\\n                                    </button>\\n                                    <button (click)=\\\"removeGridBHTN(dataItem.CongTyBaoHiemTuNhanId)\\\" mat-menu-item>\\n                                        <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                        <span>Xóa</span>\\n                                    </button>\\n                                </ng-template>\\n                            </mat-menu>\\n                        </ng-template>\\n\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" *ngIf=\\\"showbuttonLuuVaInPhieuXetNghiem == true\\\">\\n                            <h3 style=\\\"margin-top:10px !important\\\" fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thông Tin SARS-CoV\\n                            </h3>\\n                            <div fxFlex=\\\"100%\\\">\\n                                <app-textarea fxFlex=\\\"45%\\\" id=\\\"BieuHienLamSang\\\" [(model)]=\\\"tiepNhanBenhNhan.BieuHienLamSang\\\" label=\\\"Biểu hiện lâm sàng\\\"\\n                                    minHeight=\\\"20\\\" style=\\\"margin-right: 5px;\\\">\\n                                </app-textarea>\\n                                <app-textarea id=\\\"DichTeSarsCoV2\\\" [(model)]=\\\"tiepNhanBenhNhan.DichTeSarsCoV2\\\" fxFlex=\\\"45%\\\" label=\\\"Dịch tễ SARS-CoV 2\\\"\\n                                    minHeight=\\\"20\\\">\\n                                </app-textarea>\\n                            </div>\\n                        </div>\\n\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                            <h3 style=\\\"margin-top:20px !important\\\" fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thông Tin Tiếp\\n                                Nhận\\n                            </h3>\\n\\n                            <!-- <app-radio id=\\\"LoaiTiepNhan\\\" label=\\\"Loại tiếp nhận\\\" fxFlex=\\\"40%\\\" fxFlex.sm=\\\"40%\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.LoaiYeuCauTiepNhan\\\"\\n                                (modelChange)=\\\"loaiTiepNhanChange($event)\\\"\\n                                [items]=\\\"[{Value:1,Text:'Khám bệnh'},{Value:2,Text:'Thực hiện dịch vụ kỹ thuật'},{Value:3,Text:'Thực hiện dịch vụ khác'}]\\\">\\n                            </app-radio> -->\\n\\n                            <app-datetimepicker id=\\\"TiepNhanLuc\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Tiếp nhận lúc\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.ThoiGianTiepNhan\\\" [disabled]=\\\"true\\\"\\n                                [validationerror]=\\\"'ThoiGianTiepNhan' | validationerror:validationErrors\\\">\\n                            </app-datetimepicker>\\n\\n                            <app-combobox id=\\\"DoiTuongKhamChuaBenh\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                label=\\\"Đối tượng khám chữa bệnh ưu tiên\\\" [bind]=\\\"true\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetDoiTuongKhamChuaBenhUuTien\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.DoiTuongUuTienKhamChuaBenhId\\\">\\n                            </app-combobox>\\n\\n                            <!-- <app-combobox id=\\\"LyDoTiepNhan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Lý do tiếp nhận\\\" bind=\\\"true\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.LyDoTiepNhan\\\" url=\\\"TiepNhanBenhNhan/GetLyDoTiepNhan\\\" required=\\\"true\\\"\\n                                [validationerror]=\\\"'LyDoTiepNhan' | validationerror:validationErrors\\\">\\n                            </app-combobox> -->\\n\\n                            <app-combobox-tree id=\\\"LyDoTiepNhanId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Lý do tiếp nhận\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetLyDoTiepNhanTreeView\\\"\\n                                [modelText]=\\\"tiepNhanBenhNhan.LyDoTiepNhanText\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.LyDoTiepNhanId\\\" bind=\\\"true\\\" required=\\\"true\\\"\\n                                [validationerror]=\\\"'LyDoTiepNhanId' | validationerror:validationErrors\\\">\\n                            </app-combobox-tree>\\n\\n                            <app-combobox id=\\\"HinhThucDen\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Hình thức đến\\\"\\n                                bind=\\\"true\\\" (keyup)=\\\"onKeyHinhThucDen($event)\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.HinhThucDenId\\\" url=\\\"TiepNhanBenhNhan/GetHinhThucDen\\\"\\n                                [validationerror]=\\\"'HinhThucDenId' | validationerror:validationErrors\\\">\\n                            </app-combobox>\\n\\n                            <app-combobox id=\\\"NoiGioiThieu\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Nơi giới thiệu\\\"\\n                                bind=\\\"true\\\" [(model)]=\\\"tiepNhanBenhNhan.NoiGioiThieuId\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetNoiGioiThieu\\\" *ngIf=\\\"tiepNhanBenhNhan.HinhThucDenId == 2\\\"\\n                                [template]=\\\"noiGioiThieuTemplate\\\" [templateHeader]=\\\"noiGioiThieuTemplateHeader\\\"\\n                                class=\\\"item-no-padding\\\"\\n                                [validationerror]=\\\"'NoiGioiThieuId' | validationerror:validationErrors\\\">\\n                                <ng-template #noiGioiThieuTemplateHeader let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <th width=\\\"60%\\\">Tên cộng tác viên</th>\\n                                            <th>Đơn vị</th>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                                <ng-template #noiGioiThieuTemplate let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <td width=\\\"60%\\\">{{dataItem.Ten}}</td>\\n                                            <td>{{dataItem.Ma}}</td>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                            </app-combobox>\\n\\n                            <!-- <app-combobox id=\\\"TrieuChungTiepNhan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Triệu chứng khám\\\"\\n                                                            [(model)]=\\\"tiepNhanBenhNhan.TrieuChungTiepNhan\\\" url=\\\"TiepNhanBenhNhan/GetLyDoKhamBenh\\\"\\n\\n                                                            [validationerror]=\\\"'TrieuChungTiepNhan' | validationerror:validationErrors\\\">\\n                                                        </app-combobox> -->\\n                            <app-autocomplete id=\\\"TrieuChungTiepNhan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" maxlength=\\\"250\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.TrieuChungTiepNhan\\\" [dataList]=\\\"TrieuChungTiepNhanResource\\\"\\n                                label=\\\"Lý do khám bệnh\\\"\\n                                [validationerror]=\\\"'TrieuChungTiepNhan' | validationerror:validationErrors\\\">\\n                            </app-autocomplete>\\n\\n                            <kendo-tabstrip #tabStrip fxFlex=\\\"100%\\\" class=\\\"content-has-border\\\"\\n                                (tabSelect)=\\\"onTabSelect($event)\\\" (keyup)=\\\"tabscripChange($event)\\\">\\n                                <kendo-tabstrip-tab [selected]=\\\"true\\\">\\n                                    <ng-template kendoTabTitle>\\n                                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F8\\\">\\n                                            Chỉ định dịch vụ\\n                                        </div>\\n                                    </ng-template>\\n\\n                                    <ng-template kendoTabContent>\\n\\n\\n\\n                                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\"\\n                                            fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0\\\">\\n                                            <!-- <app-radio fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"LoaiDichVuKhac\\\"\\n                                                name=\\\"LoaiDichVuKhac\\\" class=\\\"no-format-css\\\"\\n                                                [(model)]=\\\"themChiDinhDichVuModel.LoaiDichVuKhac\\\"\\n                                                (modelChange)=\\\"LoaiDichVuKhacChange($event)\\\"\\n                                                [items]=\\\"[{Value:1,Text:'Gói không có chiết khấu'},{Value:2,Text:'Gói có chiết khấu'}\\n                                                                                            ,{Value:3,Text:'Dịch vụ khám bệnh'},{Value:4,Text:'Dịch vụ kỹ thuật'}\\n                                                                                            ,{Value:5,Text:'Dịch vụ giường'}]\\\">\\n                                            </app-radio> -->\\n\\n\\n                                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                                fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0 pb-0\\\" style=\\\"width: 100%;\\\">\\n                                                <label style=\\\"margin-top: 36px;\\\" fxFlex=\\\"7%\\\" fxFlex.sm=\\\"7%\\\">\\n                                                    Dịch vụ:\\n                                                </label>\\n                                                <app-combobox #dichVuCombobox hierarchyKeyToSend=\\\"khoaKham\\\" id=\\\"DichVu\\\"\\n                                                    fxFlex=\\\"33%\\\" fxFlex.sm=\\\"23%\\\" label=\\\"Mã dịch vụ\\\"\\n                                                    url=\\\"TiepNhanBenhNhan/GetDichVu\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.MaDichVuId\\\"\\n                                                    (modelChange)=\\\"modelChangeDichVu($event)\\\" [required]=\\\"true\\\"\\n                                                    (selectionChange)=\\\"MaDichVuSelectionChange($event)\\\"\\n                                                    (openCombobox)=\\\"openCombobox($event)\\\"\\n                                                    [validationerror]=\\\"'MaDichVuId' | validationerror:validationErrors\\\"\\n                                                    [template]=\\\"dichVuTemplate\\\" [templateHeader]=\\\"dichVuTemplateHeader\\\"\\n                                                    class=\\\"item-no-padding\\\"\\n                                                    [popupSettings]=\\\"{width: 900,popupClass:'item-no-padding'}\\\"\\n                                                    (keyup)=\\\"onKeyMaDichVu($event)\\\">\\n                                                    <ng-template #dichVuTemplateHeader let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <th width=\\\"12%\\\">Mã</th>\\n                                                                <th width=\\\"40%\\\">Tên</th>\\n                                                                <th width=\\\"38%\\\">Tên TT43</th>\\n                                                                <th width=\\\"10%\\\">Loại</th>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                    <ng-template #dichVuTemplate let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <td width=\\\"12%\\\">{{dataItem.Ma}}</td>\\n                                                                <td width=\\\"40%\\\">{{dataItem.Ten}}</td>\\n                                                                <td width=\\\"38%\\\">{{dataItem.TenTt43}}</td>\\n                                                                <td width=\\\"10%\\\">{{dataItem.Loai}}</td>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                </app-combobox>\\n\\n                                                <!-- url=\\\"TiepNhanBenhNhan/GetLoaiGiaKhamBenh\\\" -->\\n                                                <app-combobox id=\\\"LoaiGia\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Loại giá\\\"\\n                                                    (modelChange)=\\\"LoaiGiaChange($event)\\\" bind=\\\"true\\\"\\n                                                    (keyup)=\\\"onKeyMaDichVu($event)\\\"\\n                                                    (openCombobox)=\\\"openCombobox($event)\\\"\\n                                                    url=\\\"KhamBenh/LoaiGiaHieuLucTheoDichVuKham\\\" *ngIf=\\\"loaiTiepNhan == 1\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.LoaiGiaId\\\" [required]=\\\"true\\\"\\n                                                    popupSettings=\\\"null\\\"\\n                                                    hierarchyKeyToListen=\\\"khoaKham\\\" [autoSelectFirstItem]=\\\"true\\\" [bind]=\\\"true\\\"\\n                                                    [validationerror]=\\\"'LoaiGiaId' | validationerror:validationErrors\\\">\\n                                                </app-combobox>\\n\\n                                                <app-textboxnumeric id=\\\"SoLuong\\\" fxFlex=\\\"5%\\\" fxFlex.sm=\\\"5%\\\" label=\\\"SL\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.SoLuong\\\"\\n                                                    (keyup)=\\\"onKeyMaDichVu($event)\\\"\\n                                                    (modelChange)=\\\"SoLuongChange($event)\\\" max=\\\"10000\\\" min=\\\"1\\\"\\n                                                    [required]=\\\"true\\\"\\n                                                    [disabled]=\\\"loaiTiepNhan == 1 || loaiTiepNhan == 3\\\"\\n                                                    [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\">\\n                                                </app-textboxnumeric>\\n                                                <!-- <app-textbox id=\\\"DonGia\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\"\\n                                                    (modelChange)=\\\"DonGiaChange($event)\\\" label=\\\"Đơn giá\\\"\\n                                                    onlynumber=\\\"true\\\" [(model)]=\\\"themChiDinhDichVuModel.DonGia\\\"\\n                                                    [validationerror]=\\\"'DiaChi' | validationerror:validationErrors\\\">\\n                                                </app-textbox>\\n                                                <app-textbox id=\\\"ThanhTien\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\"\\n                                                    label=\\\"Thành tiền\\\" onlynumber=\\\"true\\\"\\n                                                    [validationerror]=\\\"'DiaChi' | validationerror:validationErrors\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.ThanhTien\\\">\\n                                                </app-textbox> -->\\n\\n                                                <app-textboxnumeric id=\\\"DonGia\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" min=\\\"0\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.DonGia\\\" disabled=\\\"true\\\"\\n                                                    format=\\\"n2\\\" decimals=\\\"2\\\" (modelChange)=\\\"DonGiaChange($event)\\\"\\n                                                    label=\\\"Đơn giá\\\"\\n                                                    [validationerror]=\\\"'DonGia' | validationerror:validationErrors\\\">\\n                                                </app-textboxnumeric>\\n\\n                                                <app-textboxnumeric id=\\\"ThanhTien\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" min=\\\"0\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.ThanhTien\\\" label=\\\"Thành tiền\\\"\\n                                                    disabled=\\\"true\\\"\\n                                                    [validationerror]=\\\"'ThanhTien' | validationerror:validationErrors\\\">\\n                                                </app-textboxnumeric>\\n\\n                                                <app-combobox hierarchyKeyToListen=\\\"khoaKham\\\" id=\\\"NoiThucHien1a\\\"\\n                                                    *ngIf=\\\"loaiTiepNhan == 1\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                    label=\\\"Nơi thực hiện\\\" idWhere=\\\"1\\\" (keyup)=\\\"onKeyMaDichVu($event)\\\"\\n                                                    (openCombobox)=\\\"openCombobox($event)\\\" autoSelectFirstItem=\\\"true\\\"\\n                                                    url=\\\"TiepNhanBenhNhan/GetPhongKham\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.NoiThucHienId\\\" [required]=\\\"true\\\"\\n                                                    [validationerror]=\\\"'NoiThucHienId' | validationerror:validationErrors\\\"\\n                                                    [template]=\\\"phongKhamTemplate\\\"\\n                                                    [templateHeader]=\\\"phongKhamTemplateHeader\\\" class=\\\"item-no-padding\\\"\\n                                                    [popupSettings]=\\\"{width: 600,popupClass:'item-no-padding'}\\\">\\n\\n                                                    <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <th width=\\\"40%\\\">Phòng</th>\\n                                                                <th width=\\\"40%\\\">Bác sĩ</th>\\n                                                                <th width=\\\"10%\\\" kendoTooltip\\n                                                                    title=\\\"SL người bệnh được đăng ký vào phòng trong ngày hôm nay ở trạng thái đang khám\\\">\\n                                                                    Đ.khám</th>\\n                                                                <th width=\\\"10%\\\" kendoTooltip\\n                                                                    title=\\\"Tổng SL người bệnh được đăng ký vào phòng trong ngày hôm nay\\\">\\n                                                                    Tổng</th>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                    <ng-template #phongKhamTemplate let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr [ngStyle]=\\\"{'color': dataItem.IsWarning==true?'orange':'black'}\\\"\\n                                                                kendoTooltip\\n                                                                title=\\\"{{dataItem.IsWarning==true?'Bác sĩ này đã khám nhiều hơn ' + dataItem.TongSoKhamGioiHan + ' người bệnh':''}}\\\">\\n                                                                <td width=\\\"40%\\\">{{dataItem.TenPhong}}</td>\\n                                                                <td width=\\\"40%\\\">{{dataItem.TenBacSi}}</td>\\n                                                                <td width=\\\"10%\\\">{{dataItem.DangKham}}</td>\\n                                                                <td width=\\\"10%\\\">{{dataItem.Tong}}</td>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n\\n                                                </app-combobox>\\n\\n                                                <app-combobox hierarchyKeyToListen=\\\"khoaKham\\\" id=\\\"NoiThucHien2a\\\"\\n                                                    *ngIf=\\\"loaiTiepNhan == 2\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                    label=\\\"Nơi thực hiện\\\" (keyup)=\\\"onKeyMaDichVu($event)\\\"\\n                                                    (openCombobox)=\\\"openCombobox($event)\\\" autoSelectFirstItem=\\\"true\\\"\\n                                                    idWhere=\\\"1\\\" url=\\\"TiepNhanBenhNhan/GetPhongKhamKyThuat\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.NoiThucHienId\\\" [required]=\\\"true\\\"\\n                                                    [validationerror]=\\\"'NoiThucHienId' | validationerror:validationErrors\\\"\\n                                                    [template]=\\\"phongKhamTemplate\\\"\\n                                                    [templateHeader]=\\\"phongKhamTemplateHeader\\\" class=\\\"item-no-padding\\\"\\n                                                    [popupSettings]=\\\"{width: 500,popupClass:'item-no-padding'}\\\">\\n\\n                                                    <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <th width=\\\"20%\\\">Mã</th>\\n                                                                <th width=\\\"60%\\\">Phòng</th>\\n                                                                <th>SL ĐTH</th>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                    <ng-template #phongKhamTemplate let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                                <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                                <td>{{dataItem.Tong}}</td>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n\\n                                                </app-combobox>\\n\\n                                                <app-combobox hierarchyKeyToListen=\\\"khoaKham\\\" id=\\\"NoiThucHien3a\\\"\\n                                                    *ngIf=\\\"loaiTiepNhan == 3\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                    label=\\\"Nơi thực hiện\\\" idWhere=\\\"1\\\" (keyup)=\\\"onKeyMaDichVu($event)\\\"\\n                                                    (openCombobox)=\\\"openCombobox($event)\\\" autoSelectFirstItem=\\\"true\\\"\\n                                                    url=\\\"TiepNhanBenhNhan/GetPhongKhamDichVuGiuong\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.NoiThucHienId\\\" [required]=\\\"true\\\"\\n                                                    [validationerror]=\\\"'NoiThucHienId' | validationerror:validationErrors\\\"\\n                                                    [template]=\\\"phongKhamTemplate\\\"\\n                                                    [templateHeader]=\\\"phongKhamTemplateHeader\\\" class=\\\"item-no-padding\\\"\\n                                                    [popupSettings]=\\\"{width: 500,popupClass:'item-no-padding'}\\\">\\n\\n                                                    <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <th width=\\\"20%\\\">Mã</th>\\n                                                                <th width=\\\"60%\\\">Phòng</th>\\n                                                                <th>SL ĐTH</th>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                    <ng-template #phongKhamTemplate let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                                <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                                <td>{{dataItem.Tong}}</td>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n\\n                                                </app-combobox>\\n\\n\\n                                                <!-- [disabled]=\\\"duocHuongBHYT != true || !enableDuocHuongBHYT\\\" update 10/8/2020-->\\n                                                <!-- <app-checkbox [(model)]=\\\"themChiDinhDichVuModel.DuocHuongBHYT\\\"\\n                                                    id=\\\"CheckboxDuocHuongBHYT\\\" label=\\\"Được hưởng BHYT\\\"  *ngIf=\\\"loaiTiepNhan == 1\\\"\\n                                                    [disabled]=\\\"true\\\"\\n                                                    fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" class=\\\"mt-2\\\">\\n                                                </app-checkbox> -->\\n                                                <div fxFlex=\\\"5%\\\" fxFlex.sm=\\\"5%\\\">\\n                                                    <button class=\\\"mt-5\\\" (click)=\\\"themChiDinhDichVuNew()\\\" title=\\\"Thêm\\\"\\n                                                        color=\\\"primary\\\" mat-raised-button>Thêm\\n                                                    </button>\\n                                                </div>\\n\\n                                            </div>\\n\\n\\n                                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                                fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0 pb-0\\\" style=\\\"width: 100%;\\\">\\n                                                <div fxFlex=\\\"90%\\\" fxFlex.sm=\\\"90%\\\">\\n\\n                                                    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                                        fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0 pb-0\\\"\\n                                                        style=\\\"width: 100%;\\\">\\n\\n                                                        <app-checkbox [(model)]=\\\"suDungGoiMarketingModelTemp\\\"\\n                                                            id=\\\"suDungGoiMarketingModelTemp\\\"\\n                                                            (modelChange)=\\\"suDungGoiMarketingChange($event)\\\"\\n                                                            [disabled]=\\\"true\\\"\\n                                                            label=\\\"Sử dụng gói marketing\\\"></app-checkbox>\\n\\n                                                            <!-- cập nhật BVHD-3246: chỉ hiện gói dịch vụ đã đăng ký -->\\n                                                            <!-- [disabled]=\\\"disabledCheckboxMarketing\\\" -->\\n\\n                                                        <div class=\\\"div-danh-sach-goi\\\"\\n                                                            *ngFor=\\\"let item of danhSachGoiDaChonTrongYCTN\\\">\\n                                                            <a class=\\\"danh-sach-goi\\\"\\n                                                                (click)=\\\"showPopupMarketingWithHyperlink(item)\\\">{{item.TenChuongTrinh}}\\n                                                            </a>\\n                                                            <!-- - {{item.TenGoiDichVu}} -->\\n\\n                                                            <button\\n                                                                *ngIf=\\\"item.DaThanhToan != true && item.IsFromMarketing != true\\\"\\n                                                                style=\\\"margin-left: 2px;\\\" (click)=\\\"removeGoi(item)\\\"\\n                                                                color=\\\"primary\\\" type=\\\"button\\\">\\n                                                                <span class=\\\"k-icon k-i-close\\\"></span>\\n                                                            </button>\\n                                                        </div>\\n\\n                                                        <!-- cập nhật BVHD-3246: chỉ hiện gói dịch vụ đã đăng ký -->\\n                                                        <!-- <div *ngIf=\\\"danhSachGoiDaChonTrongYCTN.length > 0 \\\">\\n                                                            <button (click)=\\\"openPopupGoiDichVu()\\\"\\n                                                                class=\\\"mr-6 button-them-goi\\\" color=\\\"primary\\\"\\n                                                                fxFlex=\\\"none\\\" mat-mini-fab kendoTooltip title=\\\"Thêm\\\"\\n                                                                type=\\\"button\\\">\\n                                                                <mat-icon class=\\\"mat-icon-them-goi\\\" [icIcon]=\\\"icAdd\\\">\\n                                                                </mat-icon>\\n                                                            </button>\\n                                                        </div> -->\\n                                                    </div>\\n\\n                                                </div>\\n                                                <div fxFlex=\\\"auto\\\">\\n                                                    <!-- cacDichVuKM -->\\n                                                    <a *ngIf=\\\"coYeuCauGoiDichVu\\\" (click)=\\\"xemGoiDichVuKhuyenMai()\\\">\\n                                                        <span\\n                                                            style=\\\"color:blue; text-decoration: underline; font-weight: bold; bottom: 20px;\\\">\\n                                                            Dịch vụ khuyến mại\\n                                                        </span>\\n                                                    </a>\\n                                                </div>\\n                                                <a (click)=\\\"xemNhomDichVuThuongDung()\\\"\\n                                                    style=\\\"color:green; text-decoration: underline; font-weight: bold;\\\">\\n                                                    Nhóm dịch vụ thường dùng\\n                                                </a>\\n                                            </div>\\n\\n                                            <!-- Dong dich vu giuong va goi kham vao 21/8/2020 -->\\n\\n                                            <!-- <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0 pb-0\\\"\\n                                                style=\\\"width: 100%;\\\">\\n                                                <label style=\\\"margin-top: 36px;\\\" fxFlex=\\\"7%\\\" fxFlex.sm=\\\"7%\\\">\\n                                                    Gói dịch vụ:\\n                                                </label>\\n                                                <app-combobox id=\\\"MaDichVuGoiId\\\" fxFlex=\\\"33%\\\" fxFlex.sm=\\\"33%\\\"\\n                                                    label=\\\"Gói khám\\\" url=\\\"TiepNhanBenhNhan/GetGoiKhamTongHop\\\"\\n                                                    [(model)]=\\\"themChiDinhGoiModel.MaDichVuGoiId\\\" [required]=\\\"true\\\"\\n                                                    [template]=\\\"goiTemplate\\\" (selectionChange)=\\\"MaDichVuGoiSelectionChange($event)\\\"\\n                                                    [templateHeader]=\\\"goiTemplateHeader\\\" class=\\\"item-no-padding\\\"\\n                                                    [validationerror]=\\\"'MaDichVuGoiId' | validationerror:validationErrors\\\">\\n                                                    <ng-template #goiTemplateHeader let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <th width=\\\"70%\\\">Tên gói</th>\\n                                                                <th>Chiết khấu </th>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                    <ng-template #goiTemplate let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <td width=\\\"70%\\\">{{dataItem.Ten}}</td>\\n                                                                <td>{{dataItem.ChietKhau}}</td>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                </app-combobox>\\n\\n                                                <div fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\">\\n                                                    <button class=\\\"mt-5\\\" (click)=\\\"themChiDinhDichVuGoiNew()\\\"\\n                                                        title=\\\"Thêm\\\" color=\\\"primary\\\" mat-raised-button>Thêm\\n                                                    </button>\\n                                                </div>\\n\\n                                            </div> -->\\n\\n\\n\\n\\n                                            <div style=\\\"display: inline-block !important;\\\" fxFlex=\\\"100%\\\"\\n                                                *ngIf=\\\"gridDataKhacCoChietKhauDisplay != null && gridDataKhacCoChietKhauDisplay.length != 0\\\">\\n\\n\\n                                                <div fxFlex=\\\"100%\\\"\\n                                                    *ngIf=\\\"gridDataKhacCoChietKhauArray != undefined && gridDataKhacCoChietKhauArray != null\\\">\\n                                                    <div class=\\\"header-grid\\\">GÓI CÓ CHIẾT KHẤU</div>\\n                                                    <div *ngFor=\\\"let item of gridDataKhacCoChietKhauArray; let i = index\\\"\\n                                                        fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\"\\n                                                        fxLayoutGap.lt-sm=\\\"0\\\" style=\\\"width: 100%;\\\">\\n                                                        <div fxFlex=\\\"100%\\\" style=\\\"background: #ebeced;\\\">\\n                                                            <span class=\\\"header-span-grid\\\"\\n                                                                style=\\\"padding: 13px 0 0 0;display: inline-block;\\\">\\n                                                                {{item.data[0].items[0].TenGoiChietKhau}}\\n                                                            </span>\\n                                                            <span style=\\\"float:right;\\\">\\n                                                                <button (click)=\\\"removeGridKhacCoChietKhau(item)\\\"\\n                                                                    mat-icon-button>\\n                                                                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                                                </button>\\n                                                            </span>\\n                                                        </div>\\n                                                        <app-grid fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" #gridCoChietKhau\\n                                                            masterName=\\\"{{item.data[0].items[0].GoiCoChietKhauId}}\\\"\\n                                                            [gridColumns]=\\\"gridCoChietKhauColumns\\\"\\n                                                            [gridDataSource]=\\\"item\\\" [documentType]=\\\"documentType\\\"\\n                                                            [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n                                                            [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n                                                            [lazyLoadPage]=\\\"true\\\" maxHeight=\\\"500\\\" [pageable]=\\\"false\\\"\\n                                                            [groups]=\\\"groupChietKhau\\\">\\n                                                        </app-grid>\\n                                                    </div>\\n                                                </div>\\n\\n                                            </div>\\n\\n                                            <div fxFlex=\\\"100%\\\"\\n                                                *ngIf=\\\"gridDataKhacDisplay != null && gridDataKhacDisplay.length != 0 && gridDataKhacDisplay.total != 0\\\">\\n                                                <div *ngIf=\\\"gridDataKhacCoChietKhauDisplay != null && gridDataKhacCoChietKhauDisplay.length != 0\\\"\\n                                                    class=\\\"header-grid\\\">DỊCH VỤ KHÁC</div>\\n                                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\"\\n                                                    fxLayoutGap.lt-sm=\\\"0\\\">\\n                                                    <app-grid fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" #gridKhongChietKhau\\n                                                        [gridColumns]=\\\"gridKhongChietKhauColumns\\\"\\n                                                        [gridDataSource]=\\\"gridDataKhacDisplay\\\" masterName=\\\"goiKhac\\\"\\n                                                        [removeGroupFooterIfIsOnlyOne]=\\\"true\\\"\\n                                                        [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n                                                        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n                                                        [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" maxHeight=\\\"500\\\"\\n                                                        [pageable]=\\\"false\\\" [groups]=\\\"groupKhongChietKhau\\\">\\n                                                    </app-grid>\\n                                                </div>\\n\\n                                            </div>\\n                                            <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                                                *ngIf=\\\"this.tiepNhanBenhNhan.YeuCauKhacGrid != null\\n                                                && this.tiepNhanBenhNhan.YeuCauKhacGrid != undefined\\n                                                && this.tiepNhanBenhNhan.YeuCauKhacGrid.length > 0\\n                                                && gridDataKhacCoChietKhauDisplay != null && gridDataKhacCoChietKhauDisplay.length != 0\\\">\\n                                                <div class=\\\"styleTinhTong\\\">\\n                                                    <ul class=\\\"inline\\\">\\n                                                        <li>Tổng cộng: <strong\\n                                                                style=\\\"color: blue;\\\">{{totalKhac('TongThanhTienGoi', 1)\\n                                                                | currency:'VND'}}</strong>\\n                                                        </li>\\n                                                        <li>Tổng tiền NB thanh toán: <strong\\n                                                                style=\\\"color:red;\\\">{{totalKhac('TongThanhTienBNTra', 1)\\n                                                                | currency:'VND'}}</strong>\\n                                                        </li>\\n                                                    </ul>\\n                                                </div>\\n                                            </div>\\n\\n                                        </div>\\n\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                                <kendo-tabstrip-tab>\\n                                    <ng-template kendoTabTitle>\\n                                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F9\\\">\\n                                            Tài liệu đính kèm\\n                                        </div>\\n                                    </ng-template>\\n                                    <ng-template kendoTabContent>\\n                                        <!-- grid -->\\n                                        <app-grid [gridColumns]=\\\"gridTaiLieuDinhKemColumns\\\"\\n                                            [gridDataSource]=\\\"gridDataTaiLieuDinhKem\\\" [documentType]=\\\"documentType\\\"\\n                                            [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                                            [headerTemplate]=\\\"headerTaiLieuTemplate\\\" [useHeaderDefault]=\\\"false\\\"\\n                                            #gridTaiLieuDinhKem [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n                                            [autoHeight]=\\\"true\\\">\\n                                        </app-grid>\\n\\n\\n                                        <ng-template #headerTaiLieuTemplate>\\n                                            <div style=\\\"padding: 16px;border-bottom: 1px solid #ccc;\\\">\\n                                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                                    fxLayoutGap.lt-sm=\\\"0\\\">\\n\\n                                                    <app-dropdownlist id=\\\"LoaiId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                        label=\\\"Loại\\\" url=\\\"TiepNhanBenhNhan/GetLoaiTaiLieuDinhKem\\\"\\n                                                        [(model)]=\\\"themTaiLieu.LoaiId\\\" required=\\\"true\\\"\\n                                                        [validationerror]=\\\"'LoaiId' | validationerror:validationErrors\\\">\\n                                                    </app-dropdownlist>\\n\\n                                                    <app-upload fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\" id=\\\"TaiLieu\\\"\\n                                                        label=\\\"Tài liệu\\\" [model]=\\\"themTaiLieu.TaiLieu\\\"\\n                                                        (uploadFileDone)=\\\"uploadTaiLieuDone($event)\\\" required=\\\"true\\\"\\n                                                        [validationerror]=\\\"'TaiLieu' | validationerror:validationErrors\\\">\\n                                                    </app-upload>\\n\\n                                                    <app-textbox id=\\\"MoTa\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" maxlength=\\\"100\\\"\\n                                                        label=\\\"Mô tả\\\" [(model)]=\\\"themTaiLieu.MoTa\\\">\\n                                                    </app-textbox>\\n\\n                                                    <div fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\">\\n                                                        <button class=\\\"mt-5\\\" (click)=\\\"themTaiLieuButton()\\\" type=\\\"button\\\"\\n                                                            color=\\\"primary\\\" mat-raised-button>Thêm</button>\\n                                                    </div>\\n\\n                                                </div>\\n                                            </div>\\n                                        </ng-template>\\n\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                                <kendo-tabstrip-tab>\\n                                    <ng-template kendoTabTitle>\\n                                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F10\\\">\\n                                            Người giám hộ\\n                                        </div>\\n                                    </ng-template>\\n\\n                                    <ng-template kendoTabContent>\\n                                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                            fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0\\\">\\n\\n                                            <app-textbox id=\\\"NguoiLienHeHoTen\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                maxlength=\\\"100\\\" label=\\\"Họ và tên\\\" [upperCase]=\\\"true\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeHoTen\\\"\\n                                                [validationerror]=\\\"'NguoiLienHeHoTen' | validationerror:validationErrors\\\">\\n                                            </app-textbox>\\n                                            <app-combobox id=\\\"NguoiLienHeQuanHeNhanThan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                label=\\\"Quan hệ\\\" url=\\\"TiepNhanBenhNhan/GetQuanHe\\\" bind=\\\"true\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeQuanHeNhanThanId\\\"\\n                                                [validationerror]=\\\"'NguoiLienHeQuanHeNhanThanId' | validationerror:validationErrors\\\">\\n                                            </app-combobox>\\n\\n                                            <app-textboxmask id=\\\"NguoiLienHeSoDienThoai\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                label=\\\"Số điện thoại\\\" maxlength=\\\"10\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeSoDienThoai\\\" mask=\\\"000 000 0000\\\"\\n                                                [validationerror]=\\\"'NguoiLienHeSoDienThoai' | validationerror:validationErrors\\\">\\n                                            </app-textboxmask>\\n                                            <app-textbox id=\\\"NguoiLienHeEmail\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                label=\\\"Email\\\" maxlength=\\\"200\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeEmail\\\"\\n                                                [validationerror]=\\\"'NguoiLienHeEmail' | validationerror:validationErrors\\\">\\n                                            </app-textbox>\\n\\n                                            <app-combobox id=\\\"NguoiLienHeTinhThanhId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                (modelChange)=\\\"TinhThanhPhoNguoiLienHeChange($event)\\\" bind=\\\"true\\\"\\n                                                broadcastAfterLoaded=\\\"true\\\" label=\\\"Tỉnh/Thành Phố\\\"\\n                                                url=\\\"TiepNhanBenhNhan/GetTinhThanh\\\" hierarchyKeyToSend=\\\"tinhThanhLienHe\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeTinhThanhId\\\"\\n                                                class=\\\"item-no-padding\\\" [template]=\\\"tinhThanhTemplate\\\"\\n                                                [templateHeader]=\\\"tinhThanhTemplateHeader\\\">\\n                                                <ng-template #tinhThanhTemplateHeader let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <th width=\\\"20%\\\">Mã</th>\\n                                                            <th>Tên</th>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                                <ng-template #tinhThanhTemplate let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                                            <td>{{dataItem.Ten}}</td>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                            </app-combobox>\\n\\n                                            <app-combobox id=\\\"NguoiLienHeQuanHuyenId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                label=\\\"Quận/Huyện\\\" (modelChange)=\\\"QuanHuyenNguoiLienHeChange($event)\\\"\\n                                                url=\\\"TiepNhanBenhNhan/GetQuanHuyen\\\" bind=\\\"true\\\"\\n                                                broadcastAfterLoaded=\\\"true\\\" hierarchyKeyToListen=\\\"tinhThanhLienHe\\\"\\n                                                hierarchyKeyToSend=\\\"quanHuyenLienHe\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeQuanHuyenId\\\"\\n                                                class=\\\"item-no-padding\\\" [template]=\\\"quanHuyenTemplate\\\"\\n                                                [templateHeader]=\\\"quanHuyenTemplateHeader\\\"\\n                                                [queryInfo]=\\\"queryInfoNguoiLienHeQuanHuyen\\\">\\n                                                <ng-template #quanHuyenTemplateHeader let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <th width=\\\"20%\\\">Mã</th>\\n                                                            <th>Tên</th>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                                <ng-template #quanHuyenTemplate let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                                            <td>{{dataItem.Ten}}</td>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                            </app-combobox>\\n\\n                                            <app-combobox id=\\\"NguoiLienHePhuongXaId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                label=\\\"Phường/Xã\\\" url=\\\"TiepNhanBenhNhan/GetPhuongXa\\\" bind=\\\"true\\\"\\n                                                broadcastAfterLoaded=\\\"true\\\" hierarchyKeyToListen=\\\"quanHuyenLienHe\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHePhuongXaId\\\"\\n                                                class=\\\"item-no-padding\\\" [template]=\\\"phuongXaTemplate\\\"\\n                                                [templateHeader]=\\\"phuongXaTemplateHeader\\\"\\n                                                [queryInfo]=\\\"queryInfoNguoiLienHePhuongXa\\\">\\n                                                <ng-template #phuongXaTemplateHeader let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <th width=\\\"20%\\\">Mã</th>\\n                                                            <th>Tên</th>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                                <ng-template #phuongXaTemplate let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                                            <td>{{dataItem.Ten}}</td>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                            </app-combobox>\\n\\n                                            <app-textbox id=\\\"SoNhaDuongPho\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" maxlength=\\\"200\\\"  class=\\\"text-transform-capitalize\\\"\\n                                                label=\\\"Số nhà/Đường phố\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeDiaChi\\\">\\n                                            </app-textbox>\\n                                        </div>\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                                <kendo-tabstrip-tab>\\n                                    <ng-template kendoTabTitle>\\n                                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F11\\\">\\n                                            Lịch Hẹn\\n                                        </div>\\n                                    </ng-template>\\n                                    <ng-template kendoTabContent>\\n                                        <app-tiep-nhan-benh-nhan-tai-kham [(BenhNhan)]=\\\"benhNhanId\\\">\\n                                        </app-tiep-nhan-benh-nhan-tai-kham>\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                                <kendo-tabstrip-tab>\\n                                    <ng-template kendoTabTitle>\\n                                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F12\\\">\\n                                            Lịch Sử Khám Bệnh\\n                                        </div>\\n                                    </ng-template>\\n                                    <ng-template kendoTabContent>\\n                                        <app-kham-benh-lich-su-kham-list [(BenhNhan)]=\\\"benhNhanId\\\">\\n                                        </app-kham-benh-lich-su-kham-list>\\n                                        <!-- <app-tiep-nhan-benh-nhan-lich-su [(benhNhanId)]=\\\"benhNhanId\\\"></app-tiep-nhan-benh-nhan-lich-su> -->\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                            </kendo-tabstrip>\\n\\n                            <ng-template #donGiaKhamBenhTemplate let-dataItem>\\n                                {{dataItem.DonGia | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #donGiaKhamBenhFooterTemplate let-dataItem>\\n                                <span style=\\\"float:right\\\">Tổng cộng:</span>\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhamBenhTemplate let-dataItem>\\n                                {{dataItem.ThanhTien | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhamBenhGroupFooterTemplate let-aggregates>\\n                                {{aggregates.ThanhTien.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhamBenhFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span style=\\\"color:blue;\\\">{{totalKhamBenh('ThanhTien') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhamBenhTemplate let-dataItem>\\n                                {{dataItem.BHYTThanhToan | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhamBenhFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span>{{totalKhamBenh('BHYTThanhToan') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhamBenhGroupFooterTemplate let-aggregates>\\n                                {{aggregates.BHYTThanhToan.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhamBenhTemplate let-dataItem>\\n                                {{dataItem.SoTienMG | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhamBenhFooterTemplate>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span>{{totalKhamBenh('SoTienMG') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhamBenhGroupFooterTemplate let-aggregates>\\n                                {{aggregates.SoTienMG.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhamBenhTemplate let-dataItem>\\n                                {{dataItem.BnThanhToan | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhamBenhGroupFooterTemplate let-aggregates>\\n                                {{aggregates.BnThanhToan.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhamBenhFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span style=\\\"color:red;\\\">{{totalKhamBenh('BnThanhToan') |\\n                                            currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #actionKhamBenhTemplate let-dataItem>\\n                                <button (click)=\\\"removeGridKhamBenh(dataItem)\\\" mat-menu-item>\\n                                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                </button>\\n                            </ng-template>\\n\\n                            <ng-template #donGiaKyThuatTemplate let-dataItem>\\n                                {{dataItem.DonGia | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #donGiaKyThuatFooterTemplate let-dataItem>\\n                                <span style=\\\"float:right\\\">Tổng cộng:</span>\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKyThuatTemplate let-dataItem>\\n                                {{dataItem.ThanhTien | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKyThuatGroupFooterTemplate let-aggregates>\\n                                {{aggregates.ThanhTien.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKyThuatFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span style=\\\"color:blue;\\\">{{totalKyThuat('ThanhTien') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKyThuatTemplate let-dataItem>\\n                                {{dataItem.SoTienMG | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKyThuatFooterTemplate>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span>{{totalKyThuat('SoTienMG') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKyThuatGroupFooterTemplate let-aggregates>\\n                                {{aggregates.SoTienMG.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKyThuatTemplate let-dataItem>\\n                                {{dataItem.BnThanhToan | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKyThuatFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span style=\\\"color:red;\\\">{{totalKyThuat('BnThanhToan') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKyThuatGroupFooterTemplate let-aggregates>\\n                                {{aggregates.BnThanhToan.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #actionKyThuatTemplate let-dataItem>\\n                                <button (click)=\\\"removeGridKyThuat(dataItem)\\\" mat-menu-item>\\n                                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                </button>\\n                            </ng-template>\\n\\n                            <ng-template #donGiaKhongChietKhauTemplate let-dataItem>\\n                                {{(dataItem.IsGoiCoChietKhau ? dataItem.DonGiaSauChietKhau : dataItem.DonGia) | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #donGiaBHYTTemplate let-dataItem>\\n                                {{dataItem.GiaBHYT | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #donGiaKhongChietKhauFooterTemplate let-dataItem>\\n                                <span style=\\\"float:right\\\">Tổng cộng:</span>\\n                            </ng-template>\\n\\n                            <ng-template #tenDichVuKhongChietKhauFooterTemplate let-dataItem>\\n                                <span style=\\\"float:right\\\">Cộng:</span>\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhongChietKhauTemplate let-dataItem>\\n                                {{(dataItem.IsGoiCoChietKhau ? dataItem.ThanhTienSauChietKhau : dataItem.ThanhTien) | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhongChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.ThanhTien.sum | currency:'VND'}}\\n                                <!-- {{tinhThanhTienDichVuBaoGomTrongGoiTheGroup(group, value) | currency:'VND'}} -->\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhongChietKhauFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span style=\\\"color:blue;\\\">{{totalKhac('ThanhTien', 1) | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhongChietKhauTemplate let-dataItem>\\n                                {{dataItem.BHYTThanhToan | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhongChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.BHYTThanhToan.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhongChietKhauFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span>{{totalKhac('BHYTThanhToan', 0) | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhongChietKhauTemplate let-dataItem>\\n                                {{dataItem.SoTienMG | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhongChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.SoTienMG.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhongChietKhauFooterTemplate let-masterName>\\n                                <span style=\\\"color:red;\\\">{{totalKhac('SoTienMG', masterName) | currency:'VND'}}</span>\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhongChietKhauTemplate let-dataItem>\\n                                {{dataItem.BnThanhToan | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhongChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.BnThanhToan.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhongChietKhauFooterTemplate let-masterName>\\n                                <span style=\\\"color:red;\\\">{{totalKhac('BnThanhToan', masterName) |\\n                                    currency:'VND'}}</span>\\n                            </ng-template>\\n\\n                            <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n                                <strong>{{value}}</strong>\\n                            </ng-template>\\n\\n                            <ng-template #duocHuongBHYTTemplate let-dataItem>\\n                                <!-- [disabled]=\\\"dataItem.Nhom != 'DỊCH VỤ KHÁM BỆNH' || duocHuongBHYT != true || dataItem.GiaBHYT == 0 || dataItem.GiaBHYT == null\\\" update 10/8/2020 -->\\n                                <app-checkbox [disabled]=\\\"true\\\"\\n                                    (modelChange)=\\\"duocHuongBHYTChange($event, dataItem.MaDichVuId, dataItem.Nhom)\\\"\\n                                    [(model)]=\\\"dataItem.DuocHuongBHYT\\\"\\n                                    id=\\\"DuocHuongBHYT{{dataItem.MaDichVuId}}{{dataItem.Nhom}}\\\" label=\\\"Có\\\">\\n                                </app-checkbox>\\n                            </ng-template>\\n\\n                            <ng-template #loaiGiaTemplate let-dataItem>\\n                                <!-- url=\\\"TiepNhanBenhNhan/GetLoaiGiaKhamBenh\\\" -->\\n                                <app-combobox id=\\\"LoaiGiaGrid-{{dataItem.Id}}\\\" label=\\\"\\\" class=\\\"no-label\\\"\\n                                    (modelChange)=\\\"loaiGiaGridChange($event, dataItem)\\\"\\n                                    url=\\\"{{dataItem.Nhom == 'DỊCH VỤ KHÁM BỆNH' ? 'KhamBenh/LoaiGiaHieuLucTheoDichVuKham' : 'KhamBenh/LoaiGiaHieuLucTheoDichVuKyThuat'}}\\\"\\n                                    [disabled]=\\\"dataItem.IsGoiCoChietKhau || (dataItem.YeuCauGoiDichVuKhuyenMaiId != null && dataItem.YeuCauGoiDichVuKhuyenMaiId != 0)\\\"\\n                                    [(model)]=\\\"dataItem.LoaiGiaId\\\" popupSettings=\\\"null\\\" [bind]=\\\"true\\\" [reloadForGrid]=\\\"true\\\"\\n                                    [queryInfo]=\\\"{ParameterDependencies:'{DichVuId:' +dataItem.MaDichVuId +'}', Take: 50}\\\">\\n                                </app-combobox>\\n                            </ng-template>\\n\\n                            <ng-template #sttKhongChietKhauTemplate let-rowIndex=\\\"rowIndex\\\">\\n                                {{rowIndex + 1}}\\n                            </ng-template>\\n                            <ng-template #sttCoChietKhauTemplate let-rowIndex=\\\"rowIndex\\\">\\n                                {{rowIndex + 1}}\\n                            </ng-template>\\n                            <!-- [max]=\\\"dataItem.IsGoiCoChietKhau ? dataItem.SoLuongConLai : 1000\\\" -->\\n                            <ng-template #soLuongTemplate let-dataItem>\\n                                <!-- {{test(dataItem)}} -->\\n                                <app-textboxnumeric [disabled]=\\\"dataItem.Nhom == 'DỊCH VỤ KHÁM BỆNH' || (dataItem.YeuCauGoiDichVuKhuyenMaiId != null && dataItem.YeuCauGoiDichVuKhuyenMaiId != 0)\\\"\\n                                    (modelChange)=\\\"soLuongGridChange($event, dataItem)\\\" min=1\\n                                    [max]=\\\"dataItem.IsGoiCoChietKhau ? 99999 : 1000\\\" [(model)]=\\\"dataItem.SoLuong\\\"\\n                                    id=\\\"NumerictextboxGrid\\\" label=\\\"\\\" format=\\\"0\\\" class=\\\"item-no-padding no-label\\\">\\n                                </app-textboxnumeric>\\n\\n                            </ng-template>\\n\\n                            <ng-template #noiThucHienKhongChietKhauTemplate let-dataItem>\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ GIƯỜNG'\\\">\\n                                    <app-combobox popupSettings=\\\"\\\" id=\\\"NoiThucHien43{{dataItem.MaDichVuId}}\\\" label=\\\"\\\"\\n                                        autoSelectFirstItem=\\\"true\\\" reloadForGrid=\\\"true\\\" idWhere=\\\"1\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamDichVuGiuongKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" bind=true [required]=\\\"true\\\"\\n                                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\"\\n                                        class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 400,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"20%\\\">Mã</th>\\n                                                    <th width=\\\"20%\\\">Phòng</th>\\n                                                    <th width=\\\"60%\\\">SL đang thực hiện</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                    <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                    <td width=\\\"20%\\\">{{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ KHÁM BỆNH'\\\">\\n                                    <app-combobox id=\\\"NoiThucHienDVKBKCK{{dataItem.MaDichVuId}}\\\" reloadForGrid=\\\"true\\\"\\n                                        autoSelectFirstItem=\\\"true\\\" idWhere=\\\"1\\\" label=\\\"\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" bind=true [required]=\\\"true\\\"\\n                                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\"\\n                                        class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 600,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"40%\\\">Phòng</th>\\n                                                    <th width=\\\"40%\\\">Bác sĩ</th>\\n                                                    <th width=\\\"10%\\\">Đ.khám</th>\\n                                                    <th width=\\\"10%\\\">Tổng</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"40%\\\">{{dataItem.TenPhong}}</td>\\n                                                    <td width=\\\"40%\\\">{{dataItem.TenBacSi}}</td>\\n                                                    <td width=\\\"10%\\\">{{dataItem.DangKham}}</td>\\n                                                    <td width=\\\"10%\\\">{{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ KỸ THUẬT'\\\">\\n                                    <app-combobox id=\\\"NoiThucHien23a{{dataItem.MaDichVuId}}\\\" label=\\\"\\\"\\n                                        autoSelectFirstItem=\\\"true\\\" reloadForGrid=\\\"true\\\" idWhere=\\\"1\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamKyThuatKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" bind=true [required]=\\\"true\\\"\\n                                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\"\\n                                        class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 400,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"20%\\\">Mã</th>\\n                                                    <th width=\\\"60%\\\">Phòng</th>\\n                                                    <th>SL ĐTH</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                    <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                    <td>{{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #actionKhongChietKhauTemplate let-dataItem>\\n                                <button (click)=\\\"removeGridKhac(dataItem)\\\" mat-menu-item>\\n                                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                </button>\\n                            </ng-template>\\n\\n                            <ng-template #donGiaChietKhauTemplate let-dataItem>\\n                                {{dataItem.DonGia | currency:'VND'}}\\n                            </ng-template>\\n\\n\\n                            <ng-template #thanhTienChietKhauTemplate let-dataItem>\\n                                {{dataItem.ThanhTien | currency:'VND'}}\\n                            </ng-template>\\n                            <ng-template #thanhTienTrongGoiChietKhauTemplate let-dataItem>\\n                                {{dataItem.ThanhTienTrongGoi | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #donGiaChietKhauFooterTemplate let-dataItem>\\n                                <span style=\\\"float:right\\\">Giá trước CK:</span>\\n                            </ng-template>\\n\\n                            <!-- <ng-template #thanhTienTrongGoiChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.ThanhTienTrongGoi.sum | currency:'VND'}}\\n                            </ng-template> -->\\n\\n                            <ng-template #thanhTienTrongGoiChietKhauFooterTemplate let-masterName>\\n                                <span style=\\\"color:red;\\\">{{totalKhac('ThanhTienTrongGoi', masterName) |\\n                                    currency:'VND'}}</span>\\n                            </ng-template>\\n\\n                            <!-- <ng-template #thanhTienChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.ThanhTien.sum | currency:'VND'}}\\n                            </ng-template> -->\\n\\n                            <ng-template #thanhTienChietKhauFooterTemplate let-masterName>\\n                                <span style=\\\"color:blue\\\">{{totalKhac('ThanhTienGoiChietKhau', masterName) |\\n                                    currency:'VND'}}</span>\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienTrongGoiChietKhauTemplate let-dataItem>\\n                                {{dataItem.ThanhTienTrongGoi | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #tyLeChietKhauCoChietKhauTemplate let-dataItem>\\n                                {{dataItem.TyLeChietKhauDisplay}}\\n                            </ng-template>\\n\\n                            <ng-template #duocGiamTrongGoiCoChietKhauTemplate let-dataItem>\\n                                {{dataItem.DuocGiamTrongGoi | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #duocGiamTrongGoiCoChietKhauFooterTemplate let-dataItem>\\n                                <div>\\n                                    <span style=\\\"float:right\\\">Giá sau CK:</span>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #tenDvTemplate let-dataItem>\\n                                <div *ngIf=\\\"dataItem.IsGoiCoChietKhau\\\" class=\\\"xac-nhan-ng-template\\\" kendoTooltip\\n                                    #tooltip=\\\"kendoTooltip\\\" tooltipClass=\\\"tooltip-block\\\" position=\\\"top\\\"\\n                                    [tooltipTemplate]=\\\"templateInfo\\\" filter=\\\"*\\\"\\n                                    (mouseover)=\\\"setUpDataTooltip(dataItem)\\\">\\n                                    <mat-icon [icIcon]=\\\"icInfo\\\" class=\\\"info\\\"></mat-icon>\\n                                </div>\\n\\n                                <ng-template #templateInfo let-dataItem>\\n                                    <span>Dịch vụ chọn từ gói: {{displayToolTipGrid}} </span>\\n                                </ng-template>\\n\\n                                <div class=\\\"xac-nhan-ng-template\\\" kendoTooltip>\\n                                    <p class=\\\"ten-dich-vu-label\\\" title={{dataItem.TenDichVu}}>\\n                                        {{dataItem.TenDichVu}}</p>\\n                                </div>\\n\\n                            </ng-template>\\n\\n                            <ng-template #noiThucHienChietKhauTemplate let-dataItem>\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ GIƯỜNG'\\\">\\n                                    <app-combobox id=\\\"NoiThucHien{{dataItem.MaDichVuId}}\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                                        label=\\\"\\\" autoSelectFirstItem=\\\"true\\\" reloadForGrid=\\\"true\\\" idWhere=\\\"1\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamDichVuGiuongKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" bind=true [required]=\\\"true\\\"\\n                                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\"\\n                                        class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 400,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"20%\\\">Mã</th>\\n                                                    <th width=\\\"60%\\\">Phòng</th>\\n                                                    <th>SL ĐTH</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                    <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                    <td>{{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ KHÁM BỆNH'\\\">\\n                                    <app-combobox id=\\\"NoiThucHienDVKB{{dataItem.MaDichVuId}}\\\" fxFlex=\\\"100%\\\"\\n                                        fxFlex.sm=\\\"100%\\\" label=\\\"\\\" bind=true reloadForGrid=\\\"true\\\" idWhere=\\\"1\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" [required]=\\\"true\\\" autoSelectFirstItem=\\\"true\\\"\\n                                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\"\\n                                        class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 600,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"40%\\\">Phòng</th>\\n                                                    <th width=\\\"40%\\\">Bác sĩ</th>\\n                                                    <th width=\\\"10%\\\">Đ.khám</th>\\n                                                    <th width=\\\"10%\\\">Tổng</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"40%\\\">\\n                                                        {{dataItem.TenPhong}}</td>\\n                                                    <td width=\\\"40%\\\">\\n                                                        {{dataItem.TenBacSi}}</td>\\n                                                    <td width=\\\"10%\\\">\\n                                                        {{dataItem.DangKham}}</td>\\n                                                    <td width=\\\"10%\\\">\\n                                                        {{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ KỸ THUẬT'\\\">\\n                                    <app-combobox id=\\\"NoiThucHienDVKT{{dataItem.MaDichVuId}}\\\" fxFlex=\\\"100%\\\"\\n                                        fxFlex.sm=\\\"100%\\\" label=\\\"\\\" idWhere=\\\"1\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamKyThuatKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" bind=true [required]=\\\"true\\\"\\n                                        autoSelectFirstItem=\\\"true\\\" reloadForGrid=\\\"true\\\" [template]=\\\"phongKhamTemplate\\\"\\n                                        [templateHeader]=\\\"phongKhamTemplateHeader\\\" class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 400,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"20%\\\">Mã</th>\\n                                                    <th width=\\\"60%\\\">Phòng</th>\\n                                                    <th>SL ĐTH</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                    <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                    <td>{{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n                            </ng-template>\\n\\n\\n                            <!-- template grid -->\\n                            <ng-template #taiLieuTemplate let-dataItem>\\n                                <a (click)=\\\"viewTaiLieu(dataItem)\\\">\\n                                    {{dataItem.Ten}}\\n                                </a>\\n                            </ng-template>\\n\\n                            <ng-template #actionTaiLieuTemplate let-dataItem>\\n                                <button (click)=\\\"$event.stopPropagation()\\\" kendoTooltip title=\\\"Hành động\\\"\\n                                    [matMenuTriggerFor]=\\\"actionsMenu\\\" mat-icon-button type=\\\"button\\\">\\n                                    <mat-icon [icIcon]=\\\"icMoreHoriz\\\"></mat-icon>\\n                                </button>\\n                                <mat-menu #actionsMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n                                    <ng-template let-customer=\\\"customer\\\" matMenuContent>\\n                                        <button (click)=\\\"removeTaiLieu(dataItem)\\\" mat-menu-item>\\n                                            <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                            <span>Xóa</span>\\n                                        </button>\\n                                    </ng-template>\\n                                </mat-menu>\\n                            </ng-template>\\n\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n\\n            <!-- </div> -->\\n            <div class=\\\"form-footer-fixed\\\" fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"8px\\\" kendoTooltip>\\n                <!-- <ul class=\\\"hot-keys float-left\\\">\\n                    <li class=\\\"warn\\\">F1: Quét mã vạch</li>\\n                </ul> -->\\n                <button *ngIf=\\\"urlPageUpdateYCTN != null\\\" type=\\\"button\\\" mat-raised-button color=\\\"primary\\\"\\n                    class=\\\"float-left\\\" title=\\\"Cập nhật YCTN\\\" (click)=\\\"chuyenVeTrangCapNhatYCTN()\\\">Cập nhật YCTN</button>\\n\\n                <button type=\\\"button\\\" mat-button class=\\\"mr-1\\\" (click)=\\\"huy()\\\" title=\\\"Phím tắt: Esc\\\">Hủy</button>\\n                <button type=\\\"button\\\" *ngIf=\\\"!loading\\\" (click)=\\\"xuLyTaoYeuCauTiepNhan()\\\" color=\\\"primary\\\" title=\\\"Phím tắt: Ctrl + S\\\"\\n                    [disabled]=\\\"errMessageKhongChoPhepTaoMoiYCTN != null && errMessageKhongChoPhepTaoMoiYCTN !=''\\\"\\n                    mat-raised-button>Lưu</button>\\n                <button type=\\\"button\\\" *ngIf=\\\"!loading\\\" (click)=\\\"xuLyTaoYeuCauTiepNhan(true)\\\" color=\\\"primary\\\"\\n                    title=\\\"Phím tắt: Ctrl + Shift + S\\\"\\n                    [disabled]=\\\"errMessageKhongChoPhepTaoMoiYCTN != null && errMessageKhongChoPhepTaoMoiYCTN !=''\\\" mat-raised-button>Lưu và in phiếu chỉ định</button>\\n                    <!-- title=\\\"Phím tắt: Ctrl + Shift + S\\\" -->\\n                <button *ngIf=\\\"loading\\\" class=\\\"btn btn-raised btn-raised btn-primary mb-0\\\"><img src=\\\"/assets/img/loader.gif\\\"\\n                        alt=\\\"Loading\\\" /></button>\\n            </div>\\n            <app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\"></app-barcode>\\n        </div>\\n\\n        <ng-template #dichVuTrongGoiTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            <app-checkbox *ngIf=\\\"dataItem.TenGoiChietKhau\\\" id=\\\"dvGoiMarketing{{rowIndex}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.GoiCoChietKhauId\\\"\\n                (modelChange)=\\\"changeDichVuTrongGoi($event, dataItem)\\\" [disabled]=\\\"dataItem.YeuCauGoiDichVuKhuyenMaiId\\\">\\n            </app-checkbox>\\n        </ng-template>\\n\\n        <ng-template #dichVuKhuyenMaiTemplate let-dataItem>\\n            <app-checkbox *ngIf=\\\"dataItem.LaDichVuKhuyenMai\\\" id=\\\"dvKhuyenMaiGoiMarketing{{dataItem.Id}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.LaDichVuKhuyenMai\\\"\\n                [disabled]=\\\"true\\\">\\n            </app-checkbox>\\n        </ng-template>\\n    </vex-page-layout-content>\\n</vex-page-layout>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n\\t<div style=\\\"text-transform: uppercase\\\">Kết quả phiếu ({{arrFileUrl.length}} file)</div>\\n\\t<button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n\\t\\t<mat-icon [icIcon]=\\\"icClose\\\" [mat-dialog-close]=\\\"null\\\"></mat-icon>\\n\\t</button>\\n</div>\\n<mat-dialog-content style=\\\"height: 550px\\\">\\n\\t<div class=\\\"container-iframe\\\">\\n\\t\\t<ng-container [ngSwitch]=\\\"arrFileUrl.length == 1\\\">\\n\\t\\t\\t<div *ngSwitchCase=\\\"true\\\">\\n\\t\\t\\t\\t<ng-container  *ngFor=\\\"let item of arrFileUrl, let i = index\\\">\\n\\t\\t\\t\\t\\t<iframe id=\\\"{{i}}\\\" width=\\\"100%\\\" height=\\\"1000px\\\" frameborder=\\\"0\\\" [src]=\\\"item | safe\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"application/pdf\\\" allowTransparency=\\\"true\\\" background=\\\"transparent\\\" style=\\\"display: none\\\"\\n\\t\\t\\t\\t\\t\\tonload=\\\"this.style.display = 'block';\\\"></iframe>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div *ngSwitchDefault>Không có dữ liệu</div>\\n\\t\\t</ng-container>\\n\\n\\t\\t<ng-container [ngSwitch]=\\\"arrFileUrl.length > 1\\\">\\n\\t\\t\\t<div *ngSwitchCase=\\\"true\\\">\\n\\n\\t\\t\\t\\t<ng-container  *ngFor=\\\"let item of arrFileUrl, let i = index\\\">\\n\\t\\t\\t\\t\\t<iframe id=\\\"{{i}}\\\" width=\\\"100%\\\" height=\\\"450px\\\" frameborder=\\\"0\\\" [src]=\\\"item | safe\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"application/pdf\\\" allowTransparency=\\\"true\\\" background=\\\"transparent\\\" style=\\\"display: none\\\"\\n\\t\\t\\t\\t\\t\\tonload=\\\"this.style.display = 'block';\\\"></iframe>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div *ngSwitchDefault>Không có dữ liệu</div>\\n\\t\\t</ng-container>\\n\\t</div>\\n</mat-dialog-content>\\n<mat-dialog-actions class=\\\"pb-5\\\">\\n\\t<button type=\\\"button\\\" style=\\\"margin-left: auto\\\" [mat-dialog-close]=\\\"null\\\" mat-button class=\\\"mr-1 mt-4\\\"><i class=\\\"ft-arrow-left\\\"></i> Hủy</button>\\n\\t<button type=\\\"button\\\" *ngIf=\\\"arrFilePdf.length > 0\\\" (click)=\\\"downloadAllFile()\\\" mat-stroked-button color=\\\"primary\\\" class=\\\"mr-1 mt-4\\\">Tải tất cả</button>\\n\\t<button type=\\\"button\\\" mat-raised-button mat-button (click)=\\\"ketXuatBangKeChiPhiExcel()\\\" title=\\\"xuất excel\\\" color=\\\"primary\\\" class=\\\"mr-2\\\">Xuất Excel</button>\\n</mat-dialog-actions>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div></div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"overflow:hidden\\\">\\n    <div class=\\\"container-iframe\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                <span fxFlex=\\\"30%\\\">\\n                     Biểu hiện lâm sàng:\\n                </span>\\n                <app-textarea fxFlex=\\\"70%\\\" id=\\\"BieuHienLamSang\\\" [(model)]=\\\"xetNghiemCovid.BieuHienLamSang\\\" \\n                 minHeight=\\\"20\\\">\\n                </app-textarea>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                <span fxFlex=\\\"30%\\\">\\n                     Dịch tễ SARS-CoV 2:\\n                </span>\\n                <app-textarea id=\\\"DichTeSarsCoV2\\\" [(model)]=\\\"xetNghiemCovid.DichTeSarsCoV2\\\" fxFlex=\\\"70%\\\"\\n                 minHeight=\\\"20\\\">\\n            </app-textarea>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                <span >\\n                     Loại bệnh án: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>{{xetNghiemCovid.LoaiBenhPham}}</b>\\n                </span>\\n            </div>\\n        </div>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" (click)=\\\"save()\\\" mat-raised-button mat-button color=\\\"primary\\\"\\n        class=\\\"md-primary\\\">Lưu</button>\\n</mat-dialog-actions> \"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL2luLXBoaWV1LWRhbmcta3kta2hhbS10aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwL2luLXBoaWV1LWRhbmcta3kta2hhbS10aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n@Component({\n  selector: 'app-in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup',\n  templateUrl: './in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.html',\n  styleUrls: ['./in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.scss']\n})\nexport class InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent implements OnInit {\n\n  phieuDangKyKham : any[] =[];\n  phieuDichVuKyThuatCLS : any[] = [];\n  phieuDichVuKhamCLS : any[] =[];\n  phieuDichVuKhacCLS : any[]=[];\n  phieuDichVuGiuongCLS : any[]=[];\n  phieuDichVuChiDinhXetNghiemTestCovid : any[]=[];\n  src: string = \"\";\n  icClose = icClose;\n  modelPrint : any;\n  loaiPhieu : number = 0;\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, public sanitizer: DomSanitizer, private apiService: ApiService, private dialog: MatDialog) {\n  }\n\n  ngOnInit() {\n    this.src = \"data:text/html;charset=utf-8,\" + encodeURIComponent(this.data.Model);\n    console.log(\"data:\",this.data.Model)\n    this.modelPrint = this.data.Model;\n  }\n  close() {\n    this.dialog.closeAll();\n  }\n  InPhieu(loaiPhieu) {\n    this.loaiPhieu = loaiPhieu;\n    this.getSharedPrintForm();\n  }\n  getSharedPrintForm() {\n    const tmpPhieuKham =\n      '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU ĐĂNG KÝ KHÁM</th></tr></table>';\n    const tmpPhieuCLS =\n      '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH CẬN LÂM SÀNG</th></tr></table>';\n    const tmpPhieuXNCoVId =\n      '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH XÉT NGHIỆM TEST NHANH KHÁNG NGUYÊN SARS-CoV-2 </th></tr></table>';\n  \n    let data = this.modelPrint.replaceAll(tmpPhieuKham,'').replaceAll(tmpPhieuCLS,'').replaceAll(tmpPhieuXNCoVId,'');\n    // in \n    let dataphieukeThuTienThuoc = data.split('<div class=\\\"pagebreak\\\"> </div>');\n    let dataphieu = data.split('<div class=\\\"pagebreak\\\"> </div>');\n    let pageBreak = '<div class=\\\"pagebreak\\\"> </div>';\n    dataphieu.forEach(element => {\n      if(element.indexOf('PHIẾU ĐĂNG KÝ KHÁM') > -1)\n      {\n        let PhieuInPageBreak = element + pageBreak;\n        this.phieuDangKyKham.push(PhieuInPageBreak); \n       \n      }\n      else if(element.indexOf('DỊCH VỤ GIƯỜNG') > -1){\n        let PhieuInPageBreak = element + pageBreak;\n        this.phieuDichVuGiuongCLS.push(PhieuInPageBreak); \n        \n      }else if(element.indexOf('PHIẾU CHỈ ĐỊNH XÉT NGHIỆM') > -1){\n        let PhieuInPageBreak = element + pageBreak;\n        this.phieuDichVuChiDinhXetNghiemTestCovid.push(PhieuInPageBreak); \n        \n      }\n      else{\n        let PhieuInPageBreak = element + pageBreak;\n        this.phieuDichVuKyThuatCLS.push(PhieuInPageBreak); \n      }\n    });\n   \n    if(this.loaiPhieu == 1) // dvkt\n    {\n      if(this.phieuDichVuKyThuatCLS.length == 0)\n      {\n        let chuoiIn = \"Không có dịch vụ chỉ định cận lâm sàng.\";\n        return new Promise(resolve => {\n          resolve(chuoiIn);\n          chuoiIn=\"\";\n          this.phieuDichVuKyThuatCLS = [];\n        });\n      }\n      else\n      {\n        let chuoiIn = \"\";\n      this.phieuDichVuKyThuatCLS.forEach(element => {\n        if(element != pageBreak)\n        {\n          chuoiIn = chuoiIn + element;\n        }\n        \n      });\n      let viTricutPageBreak = chuoiIn.lastIndexOf(pageBreak);\n      chuoiIn = chuoiIn.substr(0,viTricutPageBreak);\n      return new Promise(resolve => {\n        resolve(chuoiIn);\n        chuoiIn=\"\";\n        this.phieuDichVuKyThuatCLS = [];\n      });\n      }\n      \n      \n    }\n    if(this.loaiPhieu == 2) // dv kb\n    {\n      if(this.phieuDangKyKham.length == 0)\n      {\n        let chuoiIn = \"Không có dịch vụ khám bệnh.\";\n        return new Promise(resolve => {\n          resolve(chuoiIn);\n          chuoiIn=\"\";\n          this.phieuDichVuKyThuatCLS = [];\n        });\n      }\n      else{\n        let chuoiIn = \"\";\n        this.phieuDangKyKham.forEach(element => {\n          chuoiIn = chuoiIn + element;\n        });\n        let viTricutPageBreak = chuoiIn.lastIndexOf(pageBreak);\n        chuoiIn = chuoiIn.substr(0,viTricutPageBreak);\n        return new Promise(resolve => {\n          resolve(chuoiIn);\n          chuoiIn=\"\";\n          this.phieuDangKyKham = [];\n        });\n      }\n      \n    }\n    if(this.loaiPhieu == 4) // dv giuong\n    {\n      if(this.phieuDangKyKham.length == 0)\n      {\n        let chuoiIn = \"Không có dịch vụ khám bệnh.\";\n        return new Promise(resolve => {\n          resolve(chuoiIn);\n          chuoiIn=\"\";\n          this.phieuDichVuKyThuatCLS = [];\n        });\n      }\n      else{\n        let chuoiIn = \"\";\n        this.phieuDichVuGiuongCLS.forEach(element => {\n          chuoiIn = chuoiIn + element;\n        });\n        let viTricutPageBreak = chuoiIn.lastIndexOf(pageBreak);\n        chuoiIn = chuoiIn.substr(0,viTricutPageBreak);\n        return new Promise(resolve => {\n          resolve(chuoiIn);\n          chuoiIn=\"\";\n          this.phieuDichVuGiuongCLS = [];\n        });\n      }\n    }\n    if(this.loaiPhieu == 3) // dv xn covid\n    {\n      if(this.phieuDichVuChiDinhXetNghiemTestCovid.length == 0)\n      {\n        let chuoiIn = \"Không có phiếu chỉ định xét nghiệm.\";\n        return new Promise(resolve => {\n          resolve(chuoiIn);\n          chuoiIn=\"\";\n          this.phieuDichVuKyThuatCLS = [];\n        });\n      }\n      else{\n        let chuoiIn = \"\";\n        this.phieuDichVuChiDinhXetNghiemTestCovid.forEach(element => {\n          chuoiIn = chuoiIn + element;\n        });\n        let viTricutPageBreak = chuoiIn.lastIndexOf(pageBreak);\n        chuoiIn = chuoiIn.substr(0,viTricutPageBreak);\n        return new Promise(resolve => {\n          resolve(chuoiIn);\n          chuoiIn=\"\";\n          this.phieuDichVuChiDinhXetNghiemTestCovid = [];\n        });\n      }\n      \n    }\n}\n\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vaW4tcGhpZXUteG4tY292aWQvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aWVwLW5oYW4tYmVuaC1uaGFuXFxpbi1waGlldS14bi1jb3ZpZFxcaW4tcGhpZXUteG4tY292aWQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL2luLXBoaWV1LXhuLWNvdmlkL2luLXBoaWV1LXhuLWNvdmlkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL2luLXBoaWV1LXhuLWNvdmlkL2luLXBoaWV1LXhuLWNvdmlkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwMHB4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn0iLCIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTAwcHg7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSJdfQ== */\"","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n\n@Component({\n  selector: 'app-in-phieu-xn-covid',\n  templateUrl: './in-phieu-xn-covid.component.html',\n  styleUrls: ['./in-phieu-xn-covid.component.scss']\n})\nexport class InPhieuXnCovidComponent implements OnInit {\n  hostingName: string;\n  modelPrint: any;\n  src = '';\n  icClose = icClose;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, public sanitizer: DomSanitizer, private dialog: MatDialog) {\n      this.src = 'data:text/html;charset=utf-8,' + encodeURIComponent(this.data.Model);\n  }\n\n  ngOnInit() {\n      this.modelPrint = this.data.Model;\n  }\n\n  getSharedPrintForm() {\n    const tmpPhieuXNCoVId =\n    '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH XÉT NGHIỆM TEST NHANH KHÁNG NGUYÊN SARS-CoV-2 </th></tr></table>';\n\n  let data = this.modelPrint.replaceAll(tmpPhieuXNCoVId, '');\n      return new Promise(resolve => {\n          resolve(data);\n      });\n  }\n\n  close() {\n      this.dialog.closeAll();\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLWRpY2gtdnUtY2hlY2stdHJ1bmcvcG9wdXAtZGljaC12dS1jaGVjay10cnVuZy5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n@Component({\n  selector: 'app-popup-dich-vu-check-trung',\n  templateUrl: './popup-dich-vu-check-trung.component.html',\n  styleUrls: ['./popup-dich-vu-check-trung.component.scss']\n})\nexport class PopupDichVuCheckTrungComponent implements OnInit {\n\n  icClose = icClose;\n\n  constructor(private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n  public dialogRef: MatDialogRef<PopupDichVuCheckTrungComponent>,\n  private apiService: ApiService,\n  private notificationService: NotificationService) { }\n\n  ngOnInit() {\n  }\n\n  Co(){\n    this.dialogRef.close(true);\n  }\n  Khong(){\n    this.dialogRef.close(false);\n  }\n}\n","export default \".div-tag-content {\\n  display: block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vcG9wdXAtbWFya2V0aW5nLWNoZWNrLXRydW5nL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcdGllcC1uaGFuLWJlbmgtbmhhblxccG9wdXAtbWFya2V0aW5nLWNoZWNrLXRydW5nXFxwb3B1cC1tYXJrZXRpbmctY2hlY2stdHJ1bmcuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLW1hcmtldGluZy1jaGVjay10cnVuZy9wb3B1cC1tYXJrZXRpbmctY2hlY2stdHJ1bmcuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vcG9wdXAtbWFya2V0aW5nLWNoZWNrLXRydW5nL3BvcHVwLW1hcmtldGluZy1jaGVjay10cnVuZy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kaXYtdGFnLWNvbnRlbnQge1xuICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xufSIsIi5kaXYtdGFnLWNvbnRlbnQge1xuICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xufSJdfQ== */\"","import { Component, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { DanhSachDichVuChonTrongLanPopup, DanhSachGoiChonTrongLanPopup } from '../tiep-nhan-benh-nhan.model';\n\n@Component({\n  selector: 'app-popup-marketing-check-trung',\n  templateUrl: './popup-marketing-check-trung.component.html',\n  styleUrls: ['./popup-marketing-check-trung.component.scss']\n})\nexport class PopupMarketingCheckTrungComponent implements OnInit {\n\n  danhSachGoiDaChonTrongLanPopup: Array<DanhSachDichVuChonTrongLanPopup> = new Array<DanhSachDichVuChonTrongLanPopup>();\n\n  gridColumns: any[] = [];\n\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n  @ViewChild('canhBaoTemplate', { static: true }) canhBaoTemplate: TemplateRef<any>;\n  \n  constructor(private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n  public dialogRef: MatDialogRef<PopupMarketingCheckTrungComponent>,\n  private apiService: ApiService,\n  private notificationService: NotificationService) { \n    this.danhSachGoiDaChonTrongLanPopup = this.data.data;\n    //console.log(\"PopupMarketingCheckTrungComponent = \", this.danhSachGoiDaChonTrongLanPopup);\n  }\n\n  ngOnInit() {\n    this.gridColumns = [\n      { Field: \"ThuocGoi\", Title: \"Chương Trình\", Width: 180 , Sortable: false },\n      { Field: \"TenDichVu\", Title: \"Dịch Vụ\", Width: 180 , Sortable: true },\n      { Field: \"ThuocGoi\", Title: \"Cảnh Báo\", Width: 80 , Sortable: true, Template: this.canhBaoTemplate },\n      { Field: \"ThuocGoi\", Title: \"\", Width: 100 , Sortable: true, Template: this.actionTemplate },\n    ];\n  }\n\n  Co(){\n    let item = this.danhSachGoiDaChonTrongLanPopup.filter(o => o.KhongThem);\n    //console.log(\"Co = \", item);\n    this.dialogRef.close(item);\n  }\n\n  Khong(){\n    this.dialogRef.close();\n  }\n\n  close(){\n    this.dialogRef.close();\n  }\n  // khongThemChange($event, dataItem){\n  //   console.log(\"khongThemChange = \", $event, dataItem);\n  // }\n}\n","export default \"ul {\\n  margin: 0;\\n}\\n\\nul.dashed {\\n  list-style-type: none;\\n}\\n\\nul.dashed > li {\\n  text-indent: -5px;\\n  padding: 1px 0px 1px 0px;\\n}\\n\\nul.dashed > li:before {\\n  content: \\\"- \\\";\\n  text-indent: -5px;\\n}\\n\\n.title-grid-parent {\\n  text-transform: uppercase;\\n  font-weight: bold;\\n}\\n\\ninput[type=checkbox] {\\n  transform: scale(1.5);\\n}\\n\\n.span-1-goi-marketing {\\n  margin-left: 10px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  max-width: 40%;\\n  width: 40%;\\n}\\n\\n.span-trang-thai {\\n  width: 57%;\\n  text-align: right;\\n}\\n\\n.text-right-td {\\n  text-align: right;\\n}\\n\\n.text-left-td {\\n  text-align: left;\\n}\\n\\n.text-red {\\n  color: red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vcG9wdXAtbWFya2V0aW5nLXRpZXAtbmhhbi1iZW5oLW5oYW4vQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aWVwLW5oYW4tYmVuaC1uaGFuXFxwb3B1cC1tYXJrZXRpbmctdGllcC1uaGFuLWJlbmgtbmhhblxccG9wdXAtbWFya2V0aW5nLXRpZXAtbmhhbi1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLW1hcmtldGluZy10aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLW1hcmtldGluZy10aWVwLW5oYW4tYmVuaC1uaGFuLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsU0FBQTtBQ0NGOztBREVBO0VBQ0UscUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0Esd0JBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UscUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0EsY0FBQTtFQUNBLFVBQUE7QUNDRjs7QURFQTtFQUNFLFVBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGllcC1uaGFuLWJlbmgtbmhhbi9wb3B1cC1tYXJrZXRpbmctdGllcC1uaGFuLWJlbmgtbmhhbi9wb3B1cC1tYXJrZXRpbmctdGllcC1uaGFuLWJlbmgtbmhhbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInVsIHtcbiAgbWFyZ2luOiAwO1xufVxuXG51bC5kYXNoZWQge1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG59XG5cbnVsLmRhc2hlZCA+IGxpIHtcbiAgdGV4dC1pbmRlbnQ6IC01cHg7XG4gIHBhZGRpbmc6IDFweCAwcHggMXB4IDBweDtcbn1cblxudWwuZGFzaGVkID4gbGk6YmVmb3JlIHtcbiAgY29udGVudDogXCItIFwiO1xuICB0ZXh0LWluZGVudDogLTVweDtcbn1cblxuLnRpdGxlLWdyaWQtcGFyZW50IHtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbmlucHV0W3R5cGU9Y2hlY2tib3hdIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjUpO1xufVxuXG4uc3Bhbi0xLWdvaS1tYXJrZXRpbmcge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIG1heC13aWR0aDogNDAlO1xuICB3aWR0aDogNDAlO1xufVxuXG4uc3Bhbi10cmFuZy10aGFpIHtcbiAgd2lkdGg6IDU3JTtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi50ZXh0LXJpZ2h0LXRkIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi50ZXh0LWxlZnQtdGQge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuXG4udGV4dC1yZWQge1xuICBjb2xvcjogcmVkO1xufSIsInVsIHtcbiAgbWFyZ2luOiAwO1xufVxuXG51bC5kYXNoZWQge1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG59XG5cbnVsLmRhc2hlZCA+IGxpIHtcbiAgdGV4dC1pbmRlbnQ6IC01cHg7XG4gIHBhZGRpbmc6IDFweCAwcHggMXB4IDBweDtcbn1cblxudWwuZGFzaGVkID4gbGk6YmVmb3JlIHtcbiAgY29udGVudDogXCItIFwiO1xuICB0ZXh0LWluZGVudDogLTVweDtcbn1cblxuLnRpdGxlLWdyaWQtcGFyZW50IHtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbmlucHV0W3R5cGU9Y2hlY2tib3hdIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjUpO1xufVxuXG4uc3Bhbi0xLWdvaS1tYXJrZXRpbmcge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIG1heC13aWR0aDogNDAlO1xuICB3aWR0aDogNDAlO1xufVxuXG4uc3Bhbi10cmFuZy10aGFpIHtcbiAgd2lkdGg6IDU3JTtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi50ZXh0LXJpZ2h0LXRkIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi50ZXh0LWxlZnQtdGQge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuXG4udGV4dC1yZWQge1xuICBjb2xvcjogcmVkO1xufSJdfQ== */\"","import { Component, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport { ChiDinhDichVuGridVo, ChiTietGoiDichVuChiDinhTheoBenhNhan, DanhSachDichVuChonTrongLanPopup, DanhSachGoiChon, DanhSachGoiChonTrongLanPopup } from '../tiep-nhan-benh-nhan.model';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\nimport { FormControl } from '@angular/forms';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { TiepNhanBenhNhanMessage } from 'src/app/shared/configdata/system-message';\nimport { PopupMarketingCheckTrungComponent } from '../popup-marketing-check-trung/popup-marketing-check-trung.component';\nimport { GoiDichVuMarketingDangChonTiepNhan } from '../danh-sach-cho-kham/danh-sach-cho-kham.model';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\n\n@Component({\n  selector: 'app-popup-marketing-tiep-nhan-benh-nhan',\n  templateUrl: './popup-marketing-tiep-nhan-benh-nhan.component.html',\n  styleUrls: ['./popup-marketing-tiep-nhan-benh-nhan.component.scss']\n})\nexport class PopupMarketingTiepNhanBenhNhanComponent implements OnInit {\n\n  documentType: DocumentType;\n\n  icClose = icClose;\n  icSearch = icSearch;\n  searchCtrl = new FormControl;\n\n  searchString: string = null;\n\n  gridColumns: any[] = [];\n  gridColumnsChild: any[] = [];\n\n  benhNhanId: number = null;\n  danhSachGoiDaChonTrongYCTN: DanhSachGoiChon[] = new Array<DanhSachGoiChon>();\n  danhSachDichVuDaChonTrongLanPopup: Array<DanhSachDichVuChonTrongLanPopup> = new Array<DanhSachDichVuChonTrongLanPopup>();\n  danhSachDichVuDaChonTrongLanPopupString: string = \"\";\n\n  danhSachDichVuDaChonTrongLanYCTNNay: Array<DanhSachDichVuChonTrongLanPopup> = new Array<DanhSachDichVuChonTrongLanPopup>();\n  danhSachDichVuDaChonTrongLanYCTNNayString: string = \"\";\n\n\n  danhSachGoiDaChonTrongLanPopup: Array<DanhSachGoiChonTrongLanPopup> = new Array<DanhSachGoiChonTrongLanPopup>();\n\n  danhSachDichVuDangCo: Array<ChiDinhDichVuGridVo> = new Array<ChiDinhDichVuGridVo>();\n\n  urlGetDataGrid: string = \"TiepNhanBenhNhan/GetDataThongTinGoiForGridAsync\";\n  urlGetTotalPageGrid: string = \"TiepNhanBenhNhan/GetTotalThongTinGoiPageForGridAsync\";\n  searchStringDefault: string = null;\n  // lstDaChon: number[] = new Array<number>();\n\n  tongSoTienThem: number = null;\n\n  chuongTrinhGoiDichVuIdPopup: number = null;\n  yeuCauGoiDichVuIdPopup: number = null;\n\n  groups: GroupDescriptor[] = [{ field: 'TenNhomDichVu' }];\n  arrGoiDangChon: Array<GoiDichVuMarketingDangChonTiepNhan> = new Array<GoiDichVuMarketingDangChonTiepNhan>();\n\n  @ViewChild('parentGrid', { static: true }) gridChild: GridComponent;\n\n\n  @ViewChild('tenGoiTemplate', { static: true }) tenGoiTemplate: TemplateRef<any>;\n  @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n  @ViewChild('nhomDichVuTemplate', { static: true }) nhomDichVuTemplate: TemplateRef<any>;\n  @ViewChild('soLuongTemplate', { static: true }) soLuongTemplate: TemplateRef<any>;\n  @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n\n  @ViewChild('tongTienFooterTemplate', { static: true }) tongTienFooterTemplate: TemplateRef<any>;\n  @ViewChild('tongCongFooterTemplate', {read: TemplateRef, static: true}) tongCongFooterTemplate: TemplateRef<any>;\n  @ViewChild('chietKhauFooterTemplate', {read: TemplateRef, static: true}) chietKhauFooterTemplate: TemplateRef<any>;\n  @ViewChild('giaGoiFooterTemplate', {read: TemplateRef, static: true}) giaGoiFooterTemplate: TemplateRef<any>;\n  @ViewChild('checkBoxHeaderTemplate', {read: TemplateRef, static: true}) checkBoxHeaderTemplate: TemplateRef<any>;\n  @ViewChild('checkBoxTemplate', {read: TemplateRef, static: true}) checkBoxTemplate: TemplateRef<any>;\n\n  constructor(private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n  public dialogRef: MatDialogRef<PopupMarketingTiepNhanBenhNhanComponent>,\n  private apiService: ApiService,\n  private notificationService: NotificationService) { \n    this.danhSachGoiDaChonTrongYCTN = this.data.data;\n    this.benhNhanId = this.data.benhNhanId;\n\n    \n    if(this.data.itemPopup != undefined && this.data.itemPopup != null){\n      // this.chuongTrinhGoiDichVuIdPopup = this.data.itemPopup.ChuongTrinhGoiDichVuId;\n      this.yeuCauGoiDichVuIdPopup = this.data.itemPopup.YeuCauGoiDichVuId;\n    }\n    // this.searchStringDefault = this.benhNhanId + \"|\" + this.chuongTrinhGoiDichVuIdPopup;\n    this.searchStringDefault = this.benhNhanId + \"|\" + this.yeuCauGoiDichVuIdPopup;\n\n\n    this.danhSachDichVuDaChonTrongLanYCTNNay = this.data.danhSachDichVuGoiDaChon;\n    \n    if(this.danhSachDichVuDaChonTrongLanYCTNNay != undefined && this.danhSachDichVuDaChonTrongLanYCTNNay.length > 0 ){\n      this.danhSachDichVuDaChonTrongLanYCTNNayString = JSON.stringify(this.danhSachDichVuDaChonTrongLanYCTNNay);\n    }\n    //console.log(this.danhSachGoiDaChonTrongYCTN, this.benhNhanId, this.danhSachDichVuDaChonTrongLanYCTNNay);\n    this.danhSachDichVuDangCo = this.data.danhSachDichVuDangCo;\n    //console.log(\"danhSachDichVuDangCo: \", this.danhSachDichVuDangCo, \" /n danhSachDichVuDaChonTrongLanYCTNNay: \", this.danhSachDichVuDaChonTrongLanYCTNNay);\n  }\n\n  ngOnInit() {\n    this.documentType = DocumentType.YeuCauTiepNhan;\n\n    this.gridColumns = [\n      { Field: \"TenGoi\", Title: \"Tên Gói\", Width: 600 , Sortable: false, Template: this.tenGoiTemplate }\n    ];\n    \n    this.gridColumnsChild = [\n      { Field: \"CheckBox\", Title: \"\", Width: 40 , Sortable: false, Template: this.checkBoxTemplate, TemplateHeader: this.checkBoxHeaderTemplate },\n      // { Field: \"STT\", Title: \"#\", Width: 20 , Sortable: false, Template: this.sttTemplate },\n      { Field: \"TenNhomDichVu\", Title: \"\" , Width: 20, TemplateGroupHeader: this.nhomDichVuTemplate , Hidden: true},\n      { Field: \"Ma\", Title: \"Mã\", Width: 80 , Sortable: true },\n      { Field: \"TenDichVu\", Title: \"Tên dịch vụ\", MinWidth: 180 , Sortable: true },\n      { Field: \"LoaiGiaDisplay\", Title: \"Loại giá\", Width: 100 , Sortable: true },\n      { Field: \"SoLuong\", Title: \"SL\", Width: 40 , Sortable: true},\n      { Field: \"DonGia\", Title: \"Đơn giá\", Width: 120 , Sortable: true, Template: this.donGiaTemplate, TemplateFooter: this.tongTienFooterTemplate },\n      { Field: \"ThanhTien\", Title: \"Thành tiền\", Width: 120 , Sortable: true, Template: this.thanhTienTemplate, TemplateFooter: this.tongCongFooterTemplate },\n      { Field: \"SoLuongDaDung\", Title: \"SL đã dùng\", Width: 100 , Sortable: true},//,  TemplateFooter: this.chietKhauFooterTemplate},\n      { Field: \"SoLuongDungLanNay\", Title: \"SL dùng lần này\", Width: 120 , Sortable: false, Template: this.soLuongTemplate} //, TemplateFooter: this.giaGoiFooterTemplate  }\n    ]\n\n    // if(this.chuongTrinhGoiDichVuIdPopup != null && this.chuongTrinhGoiDichVuIdPopup != undefined){\n    if (this.yeuCauGoiDichVuIdPopup != null && this.yeuCauGoiDichVuIdPopup != undefined) {\n      let self = this;\n      setTimeout(() => {\n                      self.gridChild.onExpandRowDetail(0);\n                    }, 500);\n    }\n    \n  }\n\n  onKeyGrid(event: any) {\n    if (event.keyCode == 13) {\n      this.Timkiem();\n    }\n  }\n\n  Timkiem(){\n    this.gridChild._additionalSearchString = this.searchStringDefault;\n    this.gridChild.searchString = this.searchString;\n    this.gridChild.search();\n  }\n\n  clearSearch() {\n    if((this.searchString == \"\" ||  this.searchString == null) && this.gridChild != undefined ){\n      this.gridChild.searchString = \"\";\n      this.gridChild.search();\n    }\n  }\n\n  chonDichVu(event, dataItem){\n    //console.log(\"chonDichVu = \", event, dataItem);\n    if(event == true){\n      this.addDichVu(dataItem);\n    }\n    else{\n      this.removeDichVu(dataItem);\n    }\n  }\n\n  setSoTienTTThem(){\n    return (this.danhSachGoiDaChonTrongLanPopup.filter(o => o.TrangThaiThanhToan != 2)\n    .reduce((sum, item) => sum + item.GiaSauChietKhau, 0));\n  }\n\n  changeSoLuongDichVu(event, dataItem){\n    \n    let item = JSON.parse(JSON.stringify(this.danhSachDichVuDaChonTrongLanPopup.filter(o => o == dataItem)));\n    \n    //console.log(\"changeSoLuongDichVu = \", event, dataItem, item);\n    if(item != undefined && item.length > 0)\n    {\n      item[0].SoLuongDungLanNay = event;\n      item[0].SoLuongConLai = item[0].SoLan - event;\n      this.danhSachDichVuDaChonTrongLanPopupString = JSON.stringify(item);\n    }\n  }\n\n  addDichVu(data: DanhSachDichVuChonTrongLanPopup){\n    let dataTemp = this.cloneItemDichVuChonTronLanNay(data);\n    let indexTemp = -1;\n    this.danhSachDichVuDaChonTrongLanPopup.forEach((element, index) => {\n      let elementTemp = this.cloneItemDichVuChonTronLanNay(element);\n      if (JSON.stringify(dataTemp) == JSON.stringify(elementTemp)) {\n        indexTemp = index;\n      }\n    });\n    if (indexTemp == -1) {\n      this.danhSachDichVuDaChonTrongLanPopup.push(data);\n      this.capNhatThongTinGoiTuDanhSachDichVuDaChon();\n      this.danhSachDichVuDaChonTrongLanPopupString = JSON.stringify(this.danhSachDichVuDaChonTrongLanPopup);\n    }\n    // let item = this.danhSachDichVuDaChonTrongLanPopup.filter(o => o == data);\n    // //console.log(\"addDichVu = \", item, data);\n    // if(item == undefined || item.length == 0)\n    // {\n    //   this.danhSachDichVuDaChonTrongLanPopup.push(data);\n    //   this.capNhatThongTinGoiTuDanhSachDichVuDaChon();\n    //   //\n    //   // let goi = new DanhSachGoiChonTrongLanPopup();\n    //   // goi.ThuocGoi = data.ThuocGoi;\n    //   // goi.GiaSauChietKhau = data.GiaSauChietKhau;\n    //   // goi.TrangThaiThanhToan = data.TrangThaiThanhToan;\n    //   // goi.TrangThaiThanhToanDisplay = data.TrangThaiThanhToanDisplay;\n    //   // this.danhSachGoiDaChonTrongLanPopup.push(goi);\n    //   //\n    //   this.danhSachDichVuDaChonTrongLanPopupString = JSON.stringify(this.danhSachDichVuDaChonTrongLanPopup);\n    // }\n  }\n  removeDichVu(data: DanhSachDichVuChonTrongLanPopup) {\n    let dataTemp = this.cloneItemDichVuChonTronLanNay(data);\n    let indexTemp = -1;\n    this.danhSachDichVuDaChonTrongLanPopup.forEach((element, index) => {\n      let elementTemp = this.cloneItemDichVuChonTronLanNay(element);\n      if(JSON.stringify(dataTemp) == JSON.stringify(elementTemp)){\n        indexTemp = index;\n      }\n    });\n    if(indexTemp != -1)\n    {\n      this.danhSachDichVuDaChonTrongLanPopup.splice(indexTemp, 1);\n    }\n\n    //this.danhSachDichVuDaChonTrongLanPopup = this.danhSachDichVuDaChonTrongLanPopup.filter(o => o != data);\n    //\n    this.capNhatThongTinGoiTuDanhSachDichVuDaChon();\n    //\n    this.danhSachDichVuDaChonTrongLanPopupString = JSON.stringify(this.danhSachDichVuDaChonTrongLanPopup);\n    //console.log(\"removeDichVu = \", this.danhSachDichVuDaChonTrongLanPopup, this.danhSachDichVuDaChonTrongLanPopupString);\n  }\n\n  cloneItemDichVuChonTronLanNay(data){\n    let dataTemp = new DanhSachDichVuChonTrongLanPopup();\n    dataTemp.Id = data.Id;\n    dataTemp.TenNhomDichVu = data.TenNhomDichVu;\n    dataTemp.ChuongTrinhGoiDichVuId = data.ChuongTrinhGoiDichVuId;\n    dataTemp.YeuCauGoiDichVuId = data.YeuCauGoiDichVuId;\n    dataTemp.DichVuId = data.DichVuId;\n    return dataTemp;\n  }\n\n  capNhatThongTinGoiTuDanhSachDichVuDaChon(){\n    this.danhSachGoiDaChonTrongLanPopup = new Array<DanhSachGoiChonTrongLanPopup>();\n    this.danhSachDichVuDaChonTrongLanPopup.forEach(o => {\n      let item = this.danhSachGoiDaChonTrongLanPopup.filter(m => m.ThuocGoi == o.ThuocGoi);\n      if(item.length == 0){\n        let goi = new DanhSachGoiChonTrongLanPopup();\n        goi.ThuocGoi = o.ThuocGoi;\n        goi.GiaSauChietKhau = o.GiaSauChietKhau;\n        goi.GiaSauChietKhauDisplay = o.GiaSauChietKhauDisplay;\n        goi.TrangThaiThanhToan = o.TrangThaiThanhToan;\n        goi.TrangThaiThanhToanDisplay = o.TrangThaiThanhToanDisplay;\n        this.danhSachGoiDaChonTrongLanPopup.push(goi);\n      }\n    });\n    //console.log(\"capNhatThongTinGoiTuDanhSachDichVuDaChon = \", this.danhSachGoiDaChonTrongLanPopup);\n  }\n  // test(dataItemParent){\n  //   console.log(\"dataItemParent = \", dataItemParent);\n  // }\n\n  luuDichVuChiDinh(){\n    if(this.danhSachDichVuDaChonTrongLanPopup != undefined && this.danhSachDichVuDaChonTrongLanPopup.length > 0){\n      //check trung\n      let danhSachDichVuTrung = new Array<DanhSachDichVuChonTrongLanPopup>();\n\n      for(let i = 0; i < this.danhSachDichVuDaChonTrongLanPopup.length; i++){\n        let daThem = false;\n\n        let item = this.danhSachDichVuDaChonTrongLanPopup[i];\n        let itemExist = this.danhSachDichVuDangCo.filter(o => o.MaDichVuId == item.DichVuId && o.Nhom == item.TenNhomDichVu);\n        if(itemExist.length > 0){\n          danhSachDichVuTrung.push(item);\n          daThem = true;\n        }\n\n        //\n        let itemPopupExist = this.danhSachDichVuDaChonTrongLanPopup.filter(o => o != item && o.DichVuId == item.DichVuId && o.TenNhomDichVu == item.TenNhomDichVu);\n        if(itemPopupExist.length > 0 && !daThem){\n          danhSachDichVuTrung.push(item);\n        }\n      }\n\n      //console.log(\"danhSachDichVuTrung = \", danhSachDichVuTrung);\n\n      //\n      if(danhSachDichVuTrung.length > 0){\n        this.openPopup(danhSachDichVuTrung);\n      }\n      else{\n        //this.dialogRef.close(this.danhSachDichVuDaChonTrongLanPopup);\n        this.kiemTraCoDichVuKhongBaoLanh(this.danhSachDichVuDaChonTrongLanPopup);\n      }\n      //\n      //this.dialogRef.close(this.danhSachDichVuDaChonTrongLanPopup);\n    }\n    else{\n      this.notificationService.showError(TiepNhanBenhNhanMessage.MessageErrorMustHaveOneDVGoi);\n    }\n  }\n\n  openPopup(danhSachDichVuTrung: Array<DanhSachDichVuChonTrongLanPopup>) {\n    var self = this;\n    self.dialog.open(PopupMarketingCheckTrungComponent, {\n      disableClose: false,\n      width: '950px',\n      data: {\n        data: danhSachDichVuTrung\n      }\n    }).afterClosed().subscribe(result => {\n      //console.log('danh sach khong chon = ', result);\n\n      if(result == undefined){\n        //khong them gi\n        this.dialogRef.close();\n      }\n      else{\n        let danhSach = new Array<DanhSachDichVuChonTrongLanPopup>();\n        for(let i = 0; i < this.danhSachDichVuDaChonTrongLanPopup.length; i++){\n          let itemThem = this.danhSachDichVuDaChonTrongLanPopup[i];\n          let itemKhongThem = result.filter(o => o == itemThem);\n          if(itemKhongThem.length == 0){\n            danhSach.push(itemThem);\n          }\n        }\n        //this.dialogRef.close(danhSach);\n        this.kiemTraCoDichVuKhongBaoLanh(danhSach);\n      }\n      // if (result != undefined && result.length > 0) {\n      //   this.dialogRef.close(this.danhSachDichVuDaChonTrongLanPopup);\n      // }\n      // else{\n      //   this.notificationService.showError(TiepNhanBenhNhanMessage.MessageErrorMustHaveOneDVGoi);\n      // }\n      //this.dialogRef.close(this.danhSachDichVuDaChonTrongLanPopup);\n    });\n  }\n\n  close(){\n    this.dialogRef.close();\n  }\n\n  // update gói marketing\n  xemChiTietGoiDichVu(event) {\n    if (event.Data.length > 0) {\n      console.log('event.Data', event.Data);\n      event.Data.forEach(element => {\n        //xử lý thêm vào ds hiển thị dịch vụ đang chọn\n        var indexGoiDangChon = this.arrGoiDangChon.findIndex(x => x.YeuCauGoiDichVuId == element.Id);\n        if (indexGoiDangChon == -1) {\n          this.arrGoiDangChon.push(new GoiDichVuMarketingDangChonTiepNhan(\n            element.Id,\n            0,\n            element.TenDisplay,\n            element.ConLai,\n            element.IsChecked,\n            []\n          ));\n        }\n        else {\n          var goiDangChon = this.arrGoiDangChon.find(x => x.YeuCauGoiDichVuId == element.Id);\n          goiDangChon.TongTienConBaoLanhDuoc = element.ConLai;\n        }\n      });\n    }\n  }\n\n  kiemTraGoiDichVuCoChonDichVu(yeuCauGoiDichVuId) {\n    let index = this.danhSachDichVuDaChonTrongLanPopup.findIndex(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId)\n    return index != -1;\n  }\n\n  getArrayDichVuDaChonTheoGoi(yeuCauGoiDichVuId) {\n    return this.danhSachDichVuDaChonTrongLanPopup.filter(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId);\n  }\n\n  tinhTongTienDichVuDangChon(yeuCauGoiDichVuId: number) {\n    let tongTien = 0;\n    this.danhSachDichVuDaChonTrongLanPopup.forEach(element => {\n      if (element.YeuCauGoiDichVuId == yeuCauGoiDichVuId) {\n        tongTien += element.SoLuongDungLanNay * element.DonGia;\n      }\n    });\n    return tongTien;\n  }\n\n  // cập nhật BVHD-3423\n  chonTatCaDichVuTrongGoi(event, yeuCauGoiDichVuId: number) {\n    if (event) {\n      let name = 'ckbItem-' + yeuCauGoiDichVuId;\n      let checkboxes = document.getElementsByName(name);\n      checkboxes.forEach(element => {\n        if (!element['checked']) {\n          document.getElementById(element['id']).click();\n        }\n      });\n\n      let nameGroup = 'ckbGroup-' + yeuCauGoiDichVuId;\n      let checkboxGroups = document.getElementsByClassName(nameGroup);\n      for (let index = 0; index < checkboxGroups.length; index++) {\n        var element = <HTMLInputElement>document.getElementById(checkboxGroups[index].id);\n        if (!element.checked) {\n          element.checked = true;\n        }\n      }\n    }\n    else {\n      let name = 'ckbItem-' + yeuCauGoiDichVuId;\n      let checkboxes = document.getElementsByName(name);\n      checkboxes.forEach(element => {\n        if (element['checked']) {\n          document.getElementById(element['id']).click();\n        }\n      });\n\n      let nameGroup = 'ckbGroup-' + yeuCauGoiDichVuId;\n      let checkboxGroups = document.getElementsByClassName(nameGroup);\n      for (let index = 0; index < checkboxGroups.length; index++) {\n        var element = <HTMLInputElement>document.getElementById(checkboxGroups[index].id);\n        if (element.checked) {\n          element.checked = false;\n        }\n      }\n    }\n  }\n\n  chonTatCaDichVuTrongNhom(event, yeuCauGoiDichVuId: number, tenNhom: string) {\n    let classItemInGroup = 'ckbItemInGroup-' + yeuCauGoiDichVuId + '-' + tenNhom;\n    let checkboxItemGroups = document.getElementsByClassName(classItemInGroup);\n    for (let index = 0; index < checkboxItemGroups.length; index++) {\n      var element = <HTMLInputElement>document.getElementById(checkboxItemGroups[index].id);\n      if (event.target.checked) {\n        if (!element.checked) {\n          document.getElementById(element.id).click();\n        }\n      }\n      else {\n        if (element.checked) {\n          document.getElementById(element.id).click();\n        }\n      }\n    }\n  }\n\n\n  //BVHD-3804\n  kiemTraCoDichVuKhongBaoLanh(danhSach: any = null){\n    var self = this;\n    let name = 'lbl-khong-du-bao-lanh';\n    let lbls = document.getElementsByName(name);\n    if(lbls != undefined && lbls.length > 0)\n    {\n      self.dialog.open(ConfirmComponent, {\n        disableClose: false,\n        width: '400px',\n        data: { Title: \"Thông báo\", Message: \"Số tiền tạm ứng gói của người bệnh chưa đủ để thực hiện dịch vụ này\", IsDetail: true},\n        \n      }).afterClosed().subscribe(result => {\n        self.dialogRef.close(danhSach);\n      });\n    }\n    else\n    {\n      self.dialogRef.close(danhSach);\n    }\n  }\n}\n","export default \".button-chon {\\n  color: white !important;\\n  background-color: #005dab !important;\\n  text-align: center !important;\\n  border-radius: 3px !important;\\n}\\n\\n.button-chon:hover {\\n  background-color: #005dab;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vcG9wdXAtdGltLWtpZW0tYmVuaC1uaGFuL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcdGllcC1uaGFuLWJlbmgtbmhhblxccG9wdXAtdGltLWtpZW0tYmVuaC1uaGFuXFxwb3B1cC10aW0ta2llbS1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLXRpbS1raWVtLWJlbmgtbmhhbi9wb3B1cC10aW0ta2llbS1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1QkFBQTtFQUNBLG9DQUFBO0VBQ0EsNkJBQUE7RUFDQSw2QkFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLXRpbS1raWVtLWJlbmgtbmhhbi9wb3B1cC10aW0ta2llbS1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnV0dG9uLWNob24ge1xuICBjb2xvcjogd2hpdGUgIWltcG9ydGFudDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNWRhYiAhaW1wb3J0YW50O1xuICB0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDtcbiAgYm9yZGVyLXJhZGl1czogM3B4ICFpbXBvcnRhbnQ7XG59XG5cbi5idXR0b24tY2hvbjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDVkYWI7XG59IiwiLmJ1dHRvbi1jaG9uIHtcbiAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDVkYWIgIWltcG9ydGFudDtcbiAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gIGJvcmRlci1yYWRpdXM6IDNweCAhaW1wb3J0YW50O1xufVxuXG4uYnV0dG9uLWNob246aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1ZGFiO1xufSJdfQ== */\"","import { Component, OnInit, Inject, ViewChild, TemplateRef, Input } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { TimKiemBenhNhanGridVo, BenhNhanTiepNhanBenhNhanViewModel, DataTimKiem } from '../tiep-nhan-benh-nhan.model';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SortDescriptor } from '@progress/kendo-data-query';\n\n@Component({\n  selector: 'app-popup-tim-kiem-benh-nhan',\n  templateUrl: './popup-tim-kiem-benh-nhan.component.html',\n  styleUrls: ['./popup-tim-kiem-benh-nhan.component.scss']\n})\nexport class PopupTimKiemBenhNhanComponent implements OnInit {\n\n  icClose = icClose;\n  gridColumns: any[] = [];\n  gridData: any;\n  documentType: DocumentType;\n  timKiemBenhNhanSearch: TimKiemBenhNhanGridVo = new TimKiemBenhNhanGridVo();\n\n  @Input() sort: SortDescriptor[] = [\n    {\n      field: \"MaBN\",\n      dir: \"asc\",\n    },\n  ];\n\n  addtionStringDefault: string = null;\n  urlGetDataGrid: string = \"TiepNhanBenhNhan/GetDataForGridAsyncPopupTimKiem\";\n  urlGetTotalPageGrid: string = \"TiepNhanBenhNhan/GetTotalPageForGridAsyncPopupTimKiem\";\n\n  @ViewChild(GridComponent, { static: true }) gridTimKiemTiepNhan: GridComponent;\n\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: DataTimKiem\n    , public dialogRef: MatDialogRef<PopupTimKiemBenhNhanComponent>\n    , private apiService: ApiService) {\n    //console.log(\"---: \", data); \n    if (data == null || data == undefined) {\n      data = new DataTimKiem();\n    }\n  }\n\n  ngOnInit() {\n\n    this.documentType = DocumentType.YeuCauTiepNhan;\n\n    this.gridColumns = [\n      { Field: \"MaBN\", Title: \"Mã NB\", Width: 80, Sortable: true },\n      { Field: \"BHYTMaSoThe\", Title: \"Mã thẻ BHYT\", Width: 150, Sortable: true },\n      { Field: \"HoTen\", Title: \"Họ và tên\", Width: 150, Sortable: true },\n      { Field: \"NgaySinhDisplay\", Title: \"Ngày sinh\", Width: 120, Sortable: false },\n      { Field: \"GioiTinhDisplay\", Title: \"GT\", Width: 60, Sortable: false },\n      { Field: \"SoChungMinhThu\", Title: \"CMND\", Width: 150, Sortable: false },\n      { Field: \"SoDienThoaiDisplay\", Title: \"Điện thoại\", Width: 120, Sortable: false },\n      { Field: \"DiaChi\", Title: \"Địa chỉ\", Width: 300, Sortable: false },\n      { Field: \"Action\", Title: \"\", Width: 60, Template: this.actionTemplate },\n    ];\n    this.timKiemBenhNhanSearch.MaBN = this.data.searchBenhNhan.MaBN;\n    this.timKiemBenhNhanSearch.BHYTMaSoThe = this.data.searchBenhNhan.MaBHYT;\n    this.timKiemBenhNhanSearch.HoTen = this.data.searchBenhNhan.HoTen;\n    this.timKiemBenhNhanSearch.NgaySinhDisplay = this.data.searchBenhNhan.NgaySinhDisplay;\n    this.timKiemBenhNhanSearch.ThangSinh = this.data.searchBenhNhan.ThangSinh;\n    this.timKiemBenhNhanSearch.NamSinh = this.data.searchBenhNhan.NamSinh;\n    this.timKiemBenhNhanSearch.SoChungMinhThu = this.data.searchBenhNhan.SoChungMinhThu;\n    this.timKiemBenhNhanSearch.SoDienThoai = this.data.searchBenhNhan.SoDienThoai;\n    this.timKiemBenhNhanSearch.DiaChi = this.data.searchBenhNhan.DiaChi;\n\n    if (this.timKiemBenhNhanSearch.NgaySinhDisplay != null) {\n      this.timKiemBenhNhanSearch.NgaySinhFormat = CommonService.formatDateTime(new Date(this.timKiemBenhNhanSearch.NgaySinhDisplay), \"dd/mm/yyyy\");\n    }\n\n    this.addtionStringDefault = JSON.stringify(this.timKiemBenhNhanSearch);\n  }\n\n  close(answer: string) {\n    this.dialogRef.close(answer);\n  }\n\n  chonBenhNhan(item: TimKiemBenhNhanGridVo) {\n    this.apiService.post<BenhNhanTiepNhanBenhNhanViewModel>(\"TiepNhanBenhNhan/GetBenhNhan/?benhNhanId=\" + item.Id).subscribe(\n      resultData => {\n        //console.log(\"chonBenhNhan = \", resultData);\n        this.dialogRef.close(resultData);\n      },\n      (err: ApiError) => {\n      });\n\n  }\n\n  onKey(event: any) {\n    if (event.keyCode === 13) {\n      this.TimKiem();\n    }\n  }\n\n  TimKiem() {\n    if (this.timKiemBenhNhanSearch.NgaySinhDisplay != null) {\n      this.timKiemBenhNhanSearch.NgaySinhFormat = CommonService.formatDateTime(\n        this.timKiemBenhNhanSearch.NgaySinhDisplay,\n        \"dd/mm/yyyy\"\n      );\n    } else {\n      this.timKiemBenhNhanSearch.NgaySinhFormat = null;\n    }\n    var queryString = JSON.stringify(this.timKiemBenhNhanSearch);\n    this.gridTimKiemTiepNhan._additionalSearchString = queryString;\n    this.gridTimKiemTiepNhan.search();\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tY2hvLXF1ZXQvdGllcC1uaGFuLWJlbmgtbmhhbi1jaG8tcXVldC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { BaoHiemYTe, ThongTinBenhNhan } from '../../danh-muc/bao-hiem-y-te/bao-hiem-y-te.model';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-cho-quet',\n  templateUrl: './tiep-nhan-benh-nhan-cho-quet.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-cho-quet.component.scss']\n})\nexport class TiepNhanBenhNhanChoQuetComponent implements OnInit {\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: ThongTinBenhNhan\n  , private dialog: MatDialog, private apiService: ApiService\n  , public dialogRef: MatDialogRef<TiepNhanBenhNhanChoQuetComponent>) { }\n\n  ngOnInit() {\n    this.quetThongTinBenhNhan(this.data);\n  }\n\n  quetThongTinBenhNhan(model: ThongTinBenhNhan){\n    //console.log(\"quetThongTinBenhNhan = \", this.data);\n    this.apiService.post<BaoHiemYTe>(\"BHYT/GetLichSuKhamChuaBenh\", model).subscribe(\n      resultData => {\n        if(resultData!=undefined){\n          //this.setValueBHYT(resultData);\n        //console.log(\"resultData === \", resultData);\n          this.dialogRef.close(resultData);\n\n        }\n    },\n      (err: ApiError) => {\n        //console.log(\"err = \", err);\n        let errBHYT = new BaoHiemYTe();\n        if (err.Message != \"Validation Failed\" && err.Message != null && err.Message != '') {\n          errBHYT.ghiChu = err.Message;\n        }\n        else\n        {\n          errBHYT = null;\n        }\n        this.dialogRef.close(errBHYT);\n      });\n  }\n}\n","export default \".sub-title-bottom {\\n  text-align: center;\\n  color: red;\\n}\\n\\n.div-title-bottom {\\n  margin-top: 30px;\\n  text-align: right;\\n}\\n\\n.err-mess-bhyt:first-letter {\\n  text-transform: uppercase;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi1lcnJvci9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHRpZXAtbmhhbi1iZW5oLW5oYW5cXHRpZXAtbmhhbi1iZW5oLW5oYW4tZXJyb3JcXHRpZXAtbmhhbi1iZW5oLW5oYW4tZXJyb3IuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tZXJyb3IvdGllcC1uaGFuLWJlbmgtbmhhbi1lcnJvci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tZXJyb3IvdGllcC1uaGFuLWJlbmgtbmhhbi1lcnJvci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zdWItdGl0bGUtYm90dG9tIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xufVxuXG4uZGl2LXRpdGxlLWJvdHRvbSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4uZXJyLW1lc3MtYmh5dDpmaXJzdC1sZXR0ZXIge1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufSIsIi5zdWItdGl0bGUtYm90dG9tIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xufVxuXG4uZGl2LXRpdGxlLWJvdHRvbSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4uZXJyLW1lc3MtYmh5dDpmaXJzdC1sZXR0ZXIge1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufSJdfQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { TiepNhanBenhNhanMessage } from 'src/app/shared/configdata/system-message';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material';\nimport { TiepNhanBenhNhanViewModel } from '../tiep-nhan-benh-nhan.model';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-error',\n  templateUrl: './tiep-nhan-benh-nhan-error.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-error.component.scss']\n})\nexport class TiepNhanBenhNhanErrorComponent implements OnInit {\n\n  errorMessage: string;\n  icClose=icClose;\n  messageErrFromBHYT: string = \"\";\n  constructor(@Inject(MAT_DIALOG_DATA) public data: TiepNhanBenhNhanViewModel\n  , private dialog: MatDialog, public dialogRef: MatDialogRef<TiepNhanBenhNhanErrorComponent>) { }\n\n  ngOnInit() {\n    this.errorMessage = TiepNhanBenhNhanMessage.MessageSaiThongTinBenhNhan;\n    if(this.data != null){\n      //console.log(this.data);\n      let dateFormat = new Date(this.data.NgayThangNamSinh);\n      this.data.NgayThangNamSinhDisplay = CommonService.formatDate(dateFormat,\"dd/mm/yyyy\");\n\n      if (this.data.MessageErrFromBHYT != undefined && this.data.MessageErrFromBHYT != null && this.data.MessageErrFromBHYT != \"\") {\n        this.messageErrFromBHYT = this.data.MessageErrFromBHYT;\n      }\n      else {\n        this.messageErrFromBHYT = \"Người bệnh này không tồn tại trên cổng BHYT\";\n      }\n    }\n    else\n    {\n      this.messageErrFromBHYT = \"Người bệnh này không tồn tại trên cổng BHYT\";\n    }\n  }\n\n  close(){\n    this.dialog.closeAll();\n    //this.dialogRef.close(1);\n  }\n\n  khamKhongBHYT(){\n    //this.dialog.closeAll();\n    this.dialogRef.close(1);\n  }\n\n  huy(){\n    this.dialog.closeAll();\n    //this.dialogRef.close(1);\n  }\n\n  chapNhanBHYTNhapTay(){\n    this.dialogRef.close(2);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tbGljaC1zdS90aWVwLW5oYW4tYmVuaC1uaGFuLWxpY2gtc3UuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-lich-su',\n  templateUrl: './tiep-nhan-benh-nhan-lich-su.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-lich-su.component.scss']\n})\nexport class TiepNhanBenhNhanLichSuComponent implements OnInit {\n\n  documentType: DocumentType;\n\n  @Input() benhNhanId: number = null;\n\n  gridColumns: any[] = [];\n  \n  constructor() { }\n\n  ngOnInit() {\n    //console.log(\"lich su = \", this.benhNhanId)\n    this.documentType = DocumentType.YeuCauTiepNhan;\n\n    this.gridColumns = [\n      { Field: \"ThoiDiemDangKyDisplay\", Title: \"Ngày khám\", Width: 150, Sortable: true },\n      { Field: \"BaSiKham\", Title: \"Bác sĩ khám\", Width: 150, Sortable: true},\n      { Field: \"Phong\", Title: \"Phòng khám\", Width: 150, Sortable: true},\n      { Field: \"LyDoKham\", Title: \"Lý do khám\", Width: 150, Sortable: true},\n      { Field: \"HoTen\", Title: \"Họ tên người bệnh\", Width: 200, Sortable: true},\n      { Field: \"TrieuChungLamSang\", Title: \"Triệu chuẩn LS\", Width: 200, Sortable: true},\n      { Field: \"ChuanDoanICD\", Title: \"Chẩn đoán ICD\", Width: 250, Sortable: true}\n    ];\n\n  }\n\n}\n","export default \".sub-title-bottom {\\n  text-align: center;\\n  color: red;\\n}\\n\\n.div-title-bottom {\\n  margin-top: 30px;\\n  text-align: right;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1oZXQtaGlldS1sdWMvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aWVwLW5oYW4tYmVuaC1uaGFuXFx0aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWhldC1oaWV1LWx1Y1xcdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1oZXQtaGlldS1sdWMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAtaGV0LWhpZXUtbHVjL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAtaGV0LWhpZXUtbHVjLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGllcC1uaGFuLWJlbmgtbmhhbi90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWhldC1oaWV1LWx1Yy90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWhldC1oaWV1LWx1Yy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zdWItdGl0bGUtYm90dG9tIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xufVxuXG4uZGl2LXRpdGxlLWJvdHRvbSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufSIsIi5zdWItdGl0bGUtYm90dG9tIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xufVxuXG4uZGl2LXRpdGxlLWJvdHRvbSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufSJdfQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { TiepNhanBenhNhanViewModel } from '../tiep-nhan-benh-nhan.model';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-popup-het-hieu-luc',\n  templateUrl: './tiep-nhan-benh-nhan-popup-het-hieu-luc.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-popup-het-hieu-luc.component.scss']\n})\nexport class TiepNhanBenhNhanPopupHetHieuLucComponent implements OnInit {\n\n  icClose=icClose;\n  constructor(@Inject(MAT_DIALOG_DATA) public data: TiepNhanBenhNhanViewModel\n  , private dialog: MatDialog, public dialogRef: MatDialogRef<TiepNhanBenhNhanPopupHetHieuLucComponent>) { }\n\n  ngOnInit() {\n    //console.log(\"TiepNhanBenhNhanPopupHetHieuLucComponent = \", this.data)\n  }\n\n  close(){\n    //this.dialog.closeAll();\n    this.dialogRef.close(1);\n  }\n\n  khamKhongBHYT(){\n    this.dialog.closeAll();\n  }\n\n  huy(){\n    this.dialogRef.close(1);\n  }\n\n  chapNhanBHYTNhapTay(){\n    this.dialogRef.close(2);\n  }\n}\n","export default \".sub-title-bottom {\\n  text-align: center;\\n  color: red;\\n}\\n\\n.div-title-bottom {\\n  margin-top: 30px;\\n  text-align: right;\\n}\\n\\n.div-margin-bottom {\\n  margin-right: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1raG9uZy1raWVtLXRyYS1kdW9jL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcdGllcC1uaGFuLWJlbmgtbmhhblxcdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1raG9uZy1raWVtLXRyYS1kdW9jXFx0aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWtob25nLWtpZW0tdHJhLWR1b2MuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAta2hvbmcta2llbS10cmEtZHVvYy90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWtob25nLWtpZW0tdHJhLWR1b2MuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFVBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGllcC1uaGFuLWJlbmgtbmhhbi90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWtob25nLWtpZW0tdHJhLWR1b2MvdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1raG9uZy1raWVtLXRyYS1kdW9jLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnN1Yi10aXRsZS1ib3R0b20ge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5kaXYtdGl0bGUtYm90dG9tIHtcbiAgbWFyZ2luLXRvcDogMzBweDtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi5kaXYtbWFyZ2luLWJvdHRvbSB7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufSIsIi5zdWItdGl0bGUtYm90dG9tIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xufVxuXG4uZGl2LXRpdGxlLWJvdHRvbSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4uZGl2LW1hcmdpbi1ib3R0b20ge1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbn0iXX0= */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { TiepNhanBenhNhanViewModel } from '../tiep-nhan-benh-nhan.model';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { TiepNhanBenhNhanChoQuetComponent } from '../tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component';\nimport { TiepNhanBenhNhanErrorComponent } from '../tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component';\nimport { ThongTinBenhNhan } from '../../danh-muc/bao-hiem-y-te/bao-hiem-y-te.model';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc',\n  templateUrl: './tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.scss']\n})\nexport class TiepNhanBenhNhanPopupKhongKiemTraDuocComponent implements OnInit {\n\n  thongTinBenhNhan: ThongTinBenhNhan = new ThongTinBenhNhan();\n  \n  icClose=icClose;\n  constructor(@Inject(MAT_DIALOG_DATA) public data: TiepNhanBenhNhanViewModel\n  , private dialog: MatDialog, public dialogRef: MatDialogRef<TiepNhanBenhNhanPopupKhongKiemTraDuocComponent>\n  , public dialogRef2: MatDialogRef<TiepNhanBenhNhanErrorComponent>) { }\n\n  ngOnInit() {\n    //console.log(\"TiepNhanBenhNhanPopupKhongKiemTraDuocComponent = \", this.data);\n  }\n\n  khamKhongBHYT(){\n    this.dialogRef.close(false);\n    //this.dialogRef2.close();\n  }\n\n  chapNhanBHYTNhapTay(){\n    this.dialogRef.close(true);\n  }\n\n  // chapNhanCoBHYT(){\n  //   this.dialogRef.close(true);\n  //   //this.dialogRef2.close();\n\n  // }\n  close(){\n    this.dialogRef.close(false);\n  }\n  thuLai(){\n    this.thongTinBenhNhan.MaThe = this.data.BHYTMaSoThe;\n    this.thongTinBenhNhan.TenBenhNhan = this.data.HoTen;\n    this.thongTinBenhNhan.NgaySinh = this.data.NgayThangNamSinh;\n\n    let dialogRef = this.dialog.open(TiepNhanBenhNhanChoQuetComponent, {\n      disableClose: true,\n      width: '500px',\n      height: '250px',\n      data: this.thongTinBenhNhan,\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      //console.log(\"close = \", result);\n      // if (result == null || (result != null && result.maKetQua == \"050\")) {\n      if (result == null || (result != null && result.maKetQua !== \"000\" && result.maKetQua !== \"004\")) {\n        //this.notificationService.showError(TiepNhanBenhNhanMessage.MessageSaiThongTinBenhNhan);\n\n        //\n        this.thongTinBenhNhan.MessageErrFromBHYT = result != null ? result.ghiChu : null;\n        let dialogRef = this.dialog.open(TiepNhanBenhNhanErrorComponent, {\n          disableClose: false,\n          width: '400px',\n          height: '100px',\n          data: this.thongTinBenhNhan\n        });\n        dialogRef.afterClosed().subscribe(result => {\n          //document.getElementById(\"SoTheBHYTisAutoFocus\").focus();\n        });\n      //\n\n      }\n      else {\n        //console.log(\"thuLai = \", result);\n        this.dialogRef.close(result);\n        //this.dialogRef2.close();\n\n      }\n    });\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAtbGljaC1zdS1rY2IvdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1saWNoLXN1LWtjYi5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Inject, ViewChild } from '@angular/core';\nimport { GridLichSuKCB } from '../tiep-nhan-benh-nhan.model';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material';\nimport { TiepNhanBenhNhanPopupKhongKiemTraDuocComponent } from '../tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-popup-lich-su-kcb',\n  templateUrl: './tiep-nhan-benh-nhan-popup-lich-su-kcb.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-popup-lich-su-kcb.component.scss']\n})\nexport class TiepNhanBenhNhanPopupLichSuKcbComponent implements OnInit {\n\n  icClose = icClose;\n  gridColumns: any[] = [];\n  gridData: any;\n  documentType: DocumentType;\n\n  @ViewChild('grid', { static: false }) grid: GridComponent;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: Array<GridLichSuKCB>\n    , private dialog: MatDialog, public dialogRef: MatDialogRef<TiepNhanBenhNhanPopupKhongKiemTraDuocComponent>\n    , public dialogRef2: MatDialogRef<TiepNhanBenhNhanPopupLichSuKcbComponent>) { }\n\n  ngOnInit() {\n    //console.log(\"TiepNhanBenhNhanPopupLichSuKcbComponent = \", this.data);\n    //documenttype\n    this.documentType = DocumentType.YeuCauTiepNhan;\n    this.gridColumns = [\n      { Field: \"STT\", Title: \"STT\", Width: 45, Sortable: false },\n      { Field: \"MaTheBHYT\", Title: \"Mã thẻ BHYT\", Width: 150, Sortable: false },\n      { Field: \"HoVaTen\", Title: \"Họ và tên\", Width: 150, Sortable: false },\n      { Field: \"NgayVaoVien\", Title: \"Ngày vào viện\", Width: 156, Sortable: false },\n      { Field: \"NgayRaVien\", Title: \"Ngày ra viện\", Width: 156, Sortable: false },\n      { Field: \"\", Title: \"Khoa/Phòng\", Width: 100, Sortable: false },\n      { Field: \"CoSoKCB\", Title: \"Cơ sở KCB\", Width: 180, Sortable: false },\n      { Field: \"KetQuaDieuTri\", Title: \"Kết quả điều trị\", Width: 100, Sortable: false },\n      { Field: \"LyDoVaoVien\", Title: \"Lý do vào viện\", Width: 100, Sortable: false },\n      { Field: \"TinhTrangRaVien\", Title: \"Tình trạng ra viện\", Width: 100, Sortable: false },\n    ];\n\n    this.setDataForGrid();\n  }\n\n  setDataForGrid() {\n    this.gridData = {\n      data: this.data,\n      total: this.data.length\n    };\n\n    if (this.grid != undefined) {\n      this.grid.setDataSource();\n    }\n\n  }\n\n  close(answer: string) {\n    this.dialogRef.close(answer);\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAtbGljaC1zdS1raWVtLXRyYS10aGUtYmh5dC90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWxpY2gtc3Uta2llbS10cmEtdGhlLWJoeXQuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Inject, ViewChild } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material';\nimport { GridLichSuKiemTraTheBHYT } from '../tiep-nhan-benh-nhan.model';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt',\n  templateUrl: './tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.scss']\n})\nexport class TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent implements OnInit {\n\n  icClose = icClose;\n  gridColumns: any[] = [];\n  gridData: any;\n  documentType: DocumentType;\n\n  @ViewChild('grid', { static: false }) grid: GridComponent;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: Array<GridLichSuKiemTraTheBHYT>\n  , private dialog: MatDialog, public dialogRef: MatDialogRef<TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent>) { }\n\n  ngOnInit() {\n    this.documentType = DocumentType.YeuCauTiepNhan;\n\n    this.gridColumns = [\n      { Field: \"STT\", Title: \"STT\", Width: 45, Sortable: false },\n      { Field: \"UserKiemTra\", Title: \"User kiểm tra\", Width: 120, Sortable: false },\n      { Field: \"TenCSKCB\", Title: \"Tên CSKCB\", Width: 260, Sortable: false },\n      { Field: \"ThoiGianKiemTra\", Title: \"Thời gian kiểm tra\", Width: 155, Sortable: false },\n      { Field: \"NoiDungThongBao\", Title: \"Nội dung thông báo\", MinWidth: 300, Sortable: false },\n    ];\n\n    this.setDataForGrid();\n\n  }\n\n  setDataForGrid() {\n    this.gridData = {\n      data: this.data,\n      total: this.data.length\n    };\n\n    if (this.grid != undefined) {\n      this.grid.setDataSource();\n    }\n\n  }\n\n  close(answer: string) {\n    this.dialogRef.close(answer);\n  }\n\n}\n","export default \".sub-title {\\n  font-size: 15px;\\n  border-bottom: 1px solid var(--foreground-divider);\\n  padding-bottom: 0 !important;\\n  margin-top: 10px;\\n  margin-bottom: 10px;\\n  color: var(--text-color);\\n  text-transform: uppercase;\\n}\\n\\ntable tr {\\n  border-bottom: 1px solid #ebeced;\\n}\\n\\ntable tr td {\\n  padding: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHRpZXAtbmhhbi1iZW5oLW5oYW5cXHRpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXBcXHRpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAvdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQUE7RUFDQSxrREFBQTtFQUNBLDRCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLHdCQUFBO0VBQ0EseUJBQUE7QUNDRjs7QURFQTtFQUNFLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGllcC1uaGFuLWJlbmgtbmhhbi90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc3ViLXRpdGxlIHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tZm9yZWdyb3VuZC1kaXZpZGVyKTtcbiAgcGFkZGluZy1ib3R0b206IDAgIWltcG9ydGFudDtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgY29sb3I6IHZhcigtLXRleHQtY29sb3IpO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG50YWJsZSB0ciB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWJlY2VkO1xufVxuXG50YWJsZSB0ciB0ZCB7XG4gIHBhZGRpbmc6IDEwcHg7XG59IiwiLnN1Yi10aXRsZSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWZvcmVncm91bmQtZGl2aWRlcik7XG4gIHBhZGRpbmctYm90dG9tOiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxudGFibGUgdHIge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2ViZWNlZDtcbn1cblxudGFibGUgdHIgdGQge1xuICBwYWRkaW5nOiAxMHB4O1xufSJdfQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport {MAT_DIALOG_DATA} from '@angular/material/dialog';\nimport { TiepNhanBenhNhanViewModel } from '../tiep-nhan-benh-nhan.model';\nimport { MatDialog } from '@angular/material';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-popup',\n  templateUrl: './tiep-nhan-benh-nhan-popup.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-popup.component.scss']\n})\nexport class TiepNhanBenhNhanPopupComponent implements OnInit {\n\n  icClose=icClose;\n  constructor(@Inject(MAT_DIALOG_DATA) public data: TiepNhanBenhNhanViewModel\n  , private dialog: MatDialog) { }\n\n  ngOnInit() {\n    //console.log(this.data);\n  }\n\n  close(){\n    this.dialog.closeAll();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { TiepNhanBenhNhanComponent } from './tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { PermisssionGuard } from 'src/app/core/guards/permission-guard.service';\n\nconst routes: Routes = [\n  {\n    path: ':id',\n    component: TiepNhanBenhNhanComponent,\n    data: {\n      title: 'Tiếp Nhận Người Bệnh',      \n      DocumentType: DocumentType.YeuCauTiepNhan,\n      SecurityOperation:SecurityOperation.View\n    },\n    canActivate: [PermisssionGuard]\n  },\n  {\n    path: '',\n    component: TiepNhanBenhNhanComponent,\n    data: {\n      title: 'Tiếp Nhận Người Bệnh',      \n      DocumentType: DocumentType.YeuCauTiepNhan,\n      SecurityOperation:SecurityOperation.View\n    },\n    canActivate: [PermisssionGuard]\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TiepNhanBenhNhanRoutingModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tdGFpLWtoYW0vdGllcC1uaGFuLWJlbmgtbmhhbi10YWkta2hhbS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Input, ViewChild } from '@angular/core';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-tai-kham',\n  templateUrl: './tiep-nhan-benh-nhan-tai-kham.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-tai-kham.component.scss']\n})\nexport class TiepNhanBenhNhanTaiKhamComponent implements OnInit {\n\n  documentType: DocumentType;\n\n  gridColumns: any[] = [];\n  urlGetDataGrid: string = \"TiepNhanBenhNhan/GetDataForGridAsyncTaiKham\";\n  urlGetTotalPageGrid: string = \"TiepNhanBenhNhan/GetTotalPageForGridAsyncTaiKham\";\n\n  @ViewChild(GridComponent, { static: true }) gridChild: GridComponent;\n\n  @Input() BenhNhan: number = null;\n  \n  constructor() { }\n\n  ngOnInit() {\n    this.documentType = DocumentType.YeuCauTiepNhan;\n\n    this.gridColumns = [\n      { Field: \"TenDichVu\", Title: \"Tên dịch vụ\", Width: 150, Sortable: false },\n      { Field: \"BacSiThucHien\", Title: \"Bác sĩ thực hiện\", Width: 150, Sortable: false},\n      { Field: \"NgayTaiKhamDisplay\", Title: \"Ngày tái khám\", Width: 150, Sortable: false},\n      { Field: \"GhiChuTaiKham\", Title: \"Ghi chú tái khám\", Width: 150, Sortable: false},\n    ];\n\n  }\n\n}\n","import { NgModule, NO_ERRORS_SCHEMA, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TiepNhanBenhNhanRoutingModule } from './tiep-nhan-benh-nhan-routing.module';\nimport { TiepNhanBenhNhanComponent } from './tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { TooltipModule } from '@progress/kendo-angular-tooltip';\nimport { PageLayoutModule } from 'src/@vex/components/page-layout/page-layout.module';\nimport { BreadcrumbsModule } from 'src/@vex/components/breadcrumbs/breadcrumbs.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatButtonModule } from '@angular/material/button';\nimport { IconModule } from '@visurel/iconify-angular';\nimport { TiepNhanBenhNhanService } from './tiep-nhan-benh-nhan.service';\nimport { BaseService } from 'src/app/core/services/base.service';\nimport { LayoutModule } from '@progress/kendo-angular-layout';\nimport { TiepNhanBenhNhanPopupComponent } from './tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component';\nimport { TiepNhanBenhNhanChoQuetComponent } from './tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component';\nimport { MatDialogModule, MatInputModule, MatListModule, MatOptionModule, MatRadioModule, MatTabsModule } from '@angular/material';\nimport { TiepNhanBenhNhanErrorComponent } from './tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component';\nimport { GridModule } from '@progress/kendo-angular-grid';\nimport { TiepNhanBenhNhanPopupHetHieuLucComponent } from './tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component';\nimport { TiepNhanBenhNhanPopupKhongKiemTraDuocComponent } from './tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component';\nimport { TiepNhanBenhNhanLichSuComponent } from './tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component';\nimport { KhamBenhLichSuKhamListComponent } from '../kham-benh/kham-benh/kham-benh-lich-su-kham-list/kham-benh-lich-su-kham-list.component';\nimport { KhamBenhModule } from '../kham-benh/kham-benh.module';\nimport { TiepNhanBenhNhanPopupLichSuKcbComponent } from './tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component';\nimport { PopupTimKiemBenhNhanComponent } from './popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component';\nimport { TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent } from './tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component';\nimport { TiepNhanBenhNhanTaiKhamComponent } from './tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component';\nimport { InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent } from './in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component';\nimport { PopupMarketingTiepNhanBenhNhanComponent } from './popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component';\nimport { InputsModule } from '@progress/kendo-angular-inputs';\nimport { DropDownsModule } from '@progress/kendo-angular-dropdowns';\nimport { PopupMarketingCheckTrungComponent } from './popup-marketing-check-trung/popup-marketing-check-trung.component';\nimport { PopupDichVuCheckTrungComponent } from './popup-dich-vu-check-trung/popup-dich-vu-check-trung.component';\nimport { DichVuKhuyenMaiModule } from '../dich-vu-khuyen-mai/dich-vu-khuyen-mai.module';\nimport { XemTruocBangKeChiPhiPopupComponent } from './xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component';\nimport { InPhieuXnCovidComponent } from './in-phieu-xn-covid/in-phieu-xn-covid.component';\nimport { XnCovidPopupComponent } from './xn-covid-popup/xn-covid-popup.component';\n\n@NgModule({\n  declarations: [TiepNhanBenhNhanComponent\n    , TiepNhanBenhNhanPopupComponent, TiepNhanBenhNhanChoQuetComponent\n    , TiepNhanBenhNhanErrorComponent, TiepNhanBenhNhanPopupHetHieuLucComponent\n    , TiepNhanBenhNhanPopupKhongKiemTraDuocComponent,XemTruocBangKeChiPhiPopupComponent\n    , TiepNhanBenhNhanLichSuComponent, TiepNhanBenhNhanPopupLichSuKcbComponent, \n    PopupTimKiemBenhNhanComponent, TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent, \n    TiepNhanBenhNhanTaiKhamComponent, InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent, PopupMarketingTiepNhanBenhNhanComponent, \n    PopupMarketingCheckTrungComponent, PopupDichVuCheckTrungComponent, InPhieuXnCovidComponent,XnCovidPopupComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    TooltipModule,\n    PageLayoutModule,\n    BreadcrumbsModule,\n    FlexLayoutModule,\n    MatIconModule,\n    IconModule,\n    MatMenuModule,\n    MatButtonToggleModule,\n    MatTooltipModule,\n    MatButtonModule,\n    TiepNhanBenhNhanRoutingModule,\n    LayoutModule,\n    MatDialogModule,\n    MatTabsModule,\n    SharedModule,\n    GridModule,\n    KhamBenhModule,\n    InputsModule,\n    ReactiveFormsModule,\n\n    MatInputModule,\n    MatOptionModule,\n    MatRadioModule,\n    MatListModule,\n    DropDownsModule,\n    DichVuKhuyenMaiModule\n  ],\n  providers: [\n    TiepNhanBenhNhanService,\n    { provide: BaseService, useClass: TiepNhanBenhNhanService },\n  ],\n  exports: [\n    KhamBenhModule\n  ],\n  entryComponents: [\n    TiepNhanBenhNhanPopupComponent,\n    TiepNhanBenhNhanChoQuetComponent,\n    TiepNhanBenhNhanErrorComponent,\n    TiepNhanBenhNhanPopupHetHieuLucComponent,\n    TiepNhanBenhNhanPopupKhongKiemTraDuocComponent,\n    TiepNhanBenhNhanPopupLichSuKcbComponent,\n    PopupTimKiemBenhNhanComponent,\n    TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent,\n    InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent,\n    PopupMarketingTiepNhanBenhNhanComponent,\n    PopupMarketingCheckTrungComponent,\n    PopupDichVuCheckTrungComponent,\n    XemTruocBangKeChiPhiPopupComponent,\n    XnCovidPopupComponent,\n    InPhieuXnCovidComponent\n  ],\n\n})\nexport class TiepNhanBenhNhanModule { }\n","import { Injectable } from '@angular/core';\nimport { BaseService } from 'src/app/core/services/base.service';\nimport { ApiService } from 'src/app/core/services/api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TiepNhanBenhNhanService extends BaseService {\n\n  constructor(apiService: ApiService) { \n    super(apiService);\n  }\n}\n","export default \"kendo-tabstrip {\\n  margin-bottom: 5px;\\n}\\n\\n.ten-dich-vu-label {\\n  display: inline;\\n  text-overflow: ellipsis;\\n}\\n\\n.button-them-goi {\\n  width: 20px;\\n  height: 20px;\\n  margin-top: 5px;\\n}\\n\\n.mat-icon-them-goi {\\n  margin-top: -20px;\\n  margin-left: -2px;\\n}\\n\\n.xac-nhan-ng-template {\\n  display: inherit;\\n  white-space: nowrap;\\n}\\n\\n.danh-sach-goi {\\n  color: orange;\\n  text-decoration: underline;\\n}\\n\\n.div-danh-sach-goi {\\n  padding-top: 5px !important;\\n}\\n\\n.info {\\n  margin-bottom: -8px;\\n  margin-top: 0px;\\n}\\n\\n.header-grid {\\n  width: 100%;\\n  height: auto;\\n  background: #ffe0b2;\\n  padding: 10px 10px 10px 10px;\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\n.header-span-grid {\\n  width: 80%;\\n  padding: 10px 10px 10px 10px;\\n  font-weight: bold;\\n  color: #005dab;\\n  text-transform: uppercase;\\n  display: inline-block;\\n}\\n\\n.thong-tin-tai-khoan-benh-nhan {\\n  float: right;\\n  font-weight: normal;\\n}\\n\\n.so-tuoi {\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.styleTinhTong {\\n  border: 1px solid #ccc;\\n  padding: 15px;\\n  background: #e3f2fd;\\n  text-align: right;\\n  margin: 10px -17px -17px -17px;\\n}\\n\\n.image-barcode {\\n  padding-right: 0px !important;\\n  position: absolute;\\n  right: 25px;\\n  margin-top: 10px;\\n}\\n\\n.so-nha {\\n  text-transform: capitalize;\\n}\\n\\n.div-voucher {\\n  padding: 0 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHRpZXAtbmhhbi1iZW5oLW5oYW5cXHRpZXAtbmhhbi1iZW5oLW5oYW5cXHRpZXAtbmhhbi1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxlQUFBO0VBQ0EsdUJBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtFQUNBLDBCQUFBO0FDQ0Y7O0FERUE7RUFDRSwyQkFBQTtBQ0NGOztBREVBO0VBQ0UsbUJBQUE7RUFDQSxlQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsNEJBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0VBQ0EsNEJBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSx5QkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0FDQ0Y7O0FERUE7RUFDRSxzQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0EsOEJBQUE7QUNDRjs7QURFQTtFQUNFLDZCQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUNDRjs7QURFQTtFQUNFLDBCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi90aWVwLW5oYW4tYmVuaC1uaGFuLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsia2VuZG8tdGFic3RyaXAge1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5cbi50ZW4tZGljaC12dS1sYWJlbCB7XG4gIGRpc3BsYXk6IGlubGluZTtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG59XG5cbi5idXR0b24tdGhlbS1nb2kge1xuICB3aWR0aDogMjBweDtcbiAgaGVpZ2h0OiAyMHB4O1xuICBtYXJnaW4tdG9wOiA1cHg7XG59XG5cbi5tYXQtaWNvbi10aGVtLWdvaSB7XG4gIG1hcmdpbi10b3A6IC0yMHB4O1xuICBtYXJnaW4tbGVmdDogLTJweDtcbn1cblxuLnhhYy1uaGFuLW5nLXRlbXBsYXRlIHtcbiAgZGlzcGxheTogaW5oZXJpdDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLmRhbmgtc2FjaC1nb2kge1xuICBjb2xvcjogb3JhbmdlO1xuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbn1cblxuLmRpdi1kYW5oLXNhY2gtZ29pIHtcbiAgcGFkZGluZy10b3A6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uaW5mbyB7XG4gIG1hcmdpbi1ib3R0b206IC04cHg7XG4gIG1hcmdpbi10b3A6IDBweDtcbn1cblxuLmhlYWRlci1ncmlkIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogYXV0bztcbiAgYmFja2dyb3VuZDogI2ZmZTBiMjtcbiAgcGFkZGluZzogMTBweCAxMHB4IDEwcHggMTBweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbi5oZWFkZXItc3Bhbi1ncmlkIHtcbiAgd2lkdGg6IDgwJTtcbiAgcGFkZGluZzogMTBweCAxMHB4IDEwcHggMTBweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG5cbi50aG9uZy10aW4tdGFpLWtob2FuLWJlbmgtbmhhbiB7XG4gIGZsb2F0OiByaWdodDtcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbn1cblxuLnNvLXR1b2kge1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLnN0eWxlVGluaFRvbmcge1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICBwYWRkaW5nOiAxNXB4O1xuICBiYWNrZ3JvdW5kOiAjZTNmMmZkO1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgbWFyZ2luOiAxMHB4IC0xN3B4IC0xN3B4IC0xN3B4O1xufVxuXG4uaW1hZ2UtYmFyY29kZSB7XG4gIHBhZGRpbmctcmlnaHQ6IDBweCAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAyNXB4O1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuXG4uc28tbmhhIHtcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG59XG5cbi5kaXYtdm91Y2hlciB7XG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbn0iLCJrZW5kby10YWJzdHJpcCB7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbn1cblxuLnRlbi1kaWNoLXZ1LWxhYmVsIHtcbiAgZGlzcGxheTogaW5saW5lO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbn1cblxuLmJ1dHRvbi10aGVtLWdvaSB7XG4gIHdpZHRoOiAyMHB4O1xuICBoZWlnaHQ6IDIwcHg7XG4gIG1hcmdpbi10b3A6IDVweDtcbn1cblxuLm1hdC1pY29uLXRoZW0tZ29pIHtcbiAgbWFyZ2luLXRvcDogLTIwcHg7XG4gIG1hcmdpbi1sZWZ0OiAtMnB4O1xufVxuXG4ueGFjLW5oYW4tbmctdGVtcGxhdGUge1xuICBkaXNwbGF5OiBpbmhlcml0O1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG4uZGFuaC1zYWNoLWdvaSB7XG4gIGNvbG9yOiBvcmFuZ2U7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xufVxuXG4uZGl2LWRhbmgtc2FjaC1nb2kge1xuICBwYWRkaW5nLXRvcDogNXB4ICFpbXBvcnRhbnQ7XG59XG5cbi5pbmZvIHtcbiAgbWFyZ2luLWJvdHRvbTogLThweDtcbiAgbWFyZ2luLXRvcDogMHB4O1xufVxuXG4uaGVhZGVyLWdyaWQge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiBhdXRvO1xuICBiYWNrZ3JvdW5kOiAjZmZlMGIyO1xuICBwYWRkaW5nOiAxMHB4IDEwcHggMTBweCAxMHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLmhlYWRlci1zcGFuLWdyaWQge1xuICB3aWR0aDogODAlO1xuICBwYWRkaW5nOiAxMHB4IDEwcHggMTBweCAxMHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLnRob25nLXRpbi10YWkta2hvYW4tYmVuaC1uaGFuIHtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBmb250LXdlaWdodDogbm9ybWFsO1xufVxuXG4uc28tdHVvaSB7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4uc3R5bGVUaW5oVG9uZyB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIGJhY2tncm91bmQ6ICNlM2YyZmQ7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBtYXJnaW46IDEwcHggLTE3cHggLTE3cHggLTE3cHg7XG59XG5cbi5pbWFnZS1iYXJjb2RlIHtcbiAgcGFkZGluZy1yaWdodDogMHB4ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDI1cHg7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG59XG5cbi5zby1uaGEge1xuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbn1cblxuLmRpdi12b3VjaGVyIHtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xufSJdfQ== */\"","import { Component, OnInit, HostListener, ViewChild, TemplateRef, Renderer2, ChangeDetectorRef, OnDestroy, ViewRef } from '@angular/core';\nimport { BaoHiemYTe, ThongTinBenhNhan, dsLichSuKCB2018 } from '../../danh-muc/bao-hiem-y-te/bao-hiem-y-te.model';\nimport { TiepNhanBenhNhanViewModel, BenhNhanTiepNhanBenhNhanViewModel, ThemChiDinhDichVu, GetDonGiaVo, ChiDinhDichVuGridVo, ThemBaoHiemTuNhan, ThemBaoHiemTuNhanGridVo, BaoHiemTuNhanViewModel, ThemChiDinhDichVuKyThuat, ChiDinhDichVuKyThuatGridVo, DiaChiBHYT, ThemTaiLieuDinhKem, HoSoYeuCauTiepNhanViewModel, TaiLieuModel, GridLichSuKCB, TimKiemBenhNhanGridVo, DataTimKiem, TimKiemBenhNhanSearch, GridLichSuKiemTraTheBHYT, DanhSachDichVuGoiChon, DanhSachGoiChon, DanhSachDichVuChonTrongLanPopup, DichVuTrongGoiKhiThem, CheckDuSoLuongTonTrongGoi, DefaultValueTNBNModel, DichVuKyThuatBenhVienIdsSarsCoVLoaiBenhPham } from '../tiep-nhan-benh-nhan.model';\nimport { GioiTinh } from 'src/app/shared/enum/common-type.enums';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { MatDialog } from '@angular/material';\nimport { TiepNhanBenhNhanPopupComponent } from '../tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage, TiepNhanBenhNhanMessage } from 'src/app/shared/configdata/system-message';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { stagger60ms } from 'src/@vex/animations/stagger.animation';\nimport { fadeInUp400ms } from 'src/@vex/animations/fade-in-up.animation';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { TiepNhanBenhNhanChoQuetComponent } from '../tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component';\nimport { DatePipe } from '@angular/common';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { TimeSelectorComponent, DatePickerComponent } from '@progress/kendo-angular-dateinputs';\nimport icInfo from '@iconify/icons-ic/baseline-info';\nimport { TinhTrangThe } from 'src/app/shared/enum/tinh-trang-the.enum';\nimport { TiepNhanBenhNhanErrorComponent } from '../tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component';\nimport { State, process } from '@progress/kendo-data-query';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\n\nimport icMoreHoriz from '@iconify/icons-ic/twotone-more-horiz';\nimport icEdit from '@iconify/icons-ic/twotone-edit';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icFind from '@iconify/icons-ic/search';\nimport icAdd from '@iconify/icons-ic/twotone-add';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { Observable } from 'rxjs/Rx';\nimport { TiepNhanBenhNhanPopupHetHieuLucComponent } from '../tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component';\nimport { TiepNhanBenhNhanPopupKhongKiemTraDuocComponent } from '../tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component';\nimport { HttpParams } from '@angular/common/http';\nimport { TiepNhanBenhNhanPopupLichSuKcbComponent } from '../tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component';\nimport { DateTime } from 'luxon';\nimport { PopupTimKiemBenhNhanComponent } from '../popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component';\nimport { LookupQueryInfo } from 'src/app/shared/models/common.model';\n\nimport { MultiselectComponent } from 'src/app/shared/component/dropdowns/multiselect/multiselect.component';\nimport { TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent } from '../tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component';\nimport { TabStripComponent } from '@progress/kendo-angular-layout';\nimport { TextboxComponent } from 'src/app/shared/component/inputs/textbox/textbox.component';\nimport { DatepickerComponent } from 'src/app/shared/component/dates/datepicker/datepicker.component';\nimport { ComboboxComponent } from 'src/app/shared/component/dropdowns/combobox/combobox.component';\nimport { InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent } from '../in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component';\nimport { PopupMarketingTiepNhanBenhNhanComponent } from '../popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component';\nimport { PopupDichVuCheckTrungComponent } from '../popup-dich-vu-check-trung/popup-dich-vu-check-trung.component';\nimport { LookupItemVo } from '../../thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/cho-thu-tien.model';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { DichVuKhuyenMaiPopupComponent } from '../../dich-vu-khuyen-mai/dich-vu-khuyen-mai-popup/dich-vu-khuyen-mai-popup.component';\nimport { LanKhamHienTaiNhomDichVuThuongDungPopupComponent } from '../../kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup.component';\nimport { EnumNhomGoiDichVu, EnumTypeLoadingData } from 'src/app/shared/enum/kham-benh.enum';\nimport { ChiDinhGoiDichVuTheoBenhNhan, ChiDinhGoiDichVuThuongDung, ChiDinhGoiDichVuThuongDungDichVuLoi } from '../../kham-benh/kham-benh.model';\nimport { LanKhamHienTaiNhomDichVuLoiPopupComponent } from '../../kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-loi-popup/lan-kham-hien-tai-nhom-dich-vu-loi-popup.component';\nimport { InPhieuXnCovidComponent } from '../in-phieu-xn-covid/in-phieu-xn-covid.component';\nimport { XnCovidPopupComponent } from '../xn-covid-popup/xn-covid-popup.component';\nimport { BoPhan } from 'src/app/shared/enum/bo-phan.enum';\ndeclare var jQuery: any;\ndeclare var $: any;\n\n@Component({\n    selector: 'app-tiep-nhan-benh-nhan',\n    templateUrl: './tiep-nhan-benh-nhan.component.html',\n    styleUrls: ['./tiep-nhan-benh-nhan.component.scss'],\n    animations: [\n        stagger60ms,\n        fadeInUp400ms\n    ]\n})\nexport class TiepNhanBenhNhanComponent implements OnInit, OnDestroy {\n\n    icMoreHoriz = icMoreHoriz;\n    icEdit = icEdit;\n    icDelete = icDelete;\n    icFind = icFind;\n\n    icAdd = icAdd;\n\n    hostingName: string;\n\n    thongTinBenhNhan: ThongTinBenhNhan;\n    modelQRCode: BaoHiemYTe;\n    isSearchQRCodeEnable: boolean = true;\n    tiepNhanBenhNhan: TiepNhanBenhNhanViewModel;\n    isDungTuyenDisplay: string = null;\n    isDungTuyen: boolean = false;\n    isOutOfDate: boolean = false;\n    soTuoiDisplay: string;\n    documentType: DocumentType;\n    validationErrors: any[] = [];\n\n    hoTenDaTimKiem: string;\n    maSoTheDaTimKiem: string;\n    ngaySinhDaTimKiem: Date;\n    icInfo = icInfo;\n\n    soPhanTramHuongBHYT: number = null;\n\n    gridColumns: any[] = [];\n    gridKhamBenhColumns: any[] = [];\n    gridKyThuatColumns: any[] = [];\n    gridKhongChietKhauColumns: any[] = [];\n    gridCoChietKhauColumns: any[] = [];\n    gridTaiLieuDinhKemColumns: any[] = [];\n\n    themTaiLieu: ThemTaiLieuDinhKem = new ThemTaiLieuDinhKem();\n    gridDataTaiLieuDinhKem: any;\n\n    TrieuChungTiepNhanResource: any;\n    themChiDinhDichVuModel: ThemChiDinhDichVu = new ThemChiDinhDichVu();\n    themChiDinhGoiModel: ThemChiDinhDichVu = new ThemChiDinhDichVu();\n    themBaoHiemTuNhanModel: ThemBaoHiemTuNhan = new ThemBaoHiemTuNhan();\n\n\n\n    gridDataSourceBHTN: any;\n    lstBHTN: ThemBaoHiemTuNhanGridVo[] = [];\n    isIdNeedUpdate: number = null;\n\n    isUpdateGrid: boolean = false;\n\n    //gridDataKhamBenh: ChiDinhDichVuGridVo[] = [];\n    gridDataKhamBenhDisplay: any;\n    gridDataKyThuatDisplay: any;\n\n    gridDataKhacDisplay: any;\n    gridDataKhacCoChietKhauDisplay: ChiDinhDichVuGridVo[];\n    gridDataKhacCoChietKhauArray: any[] = [];\n\n    soLuongGoiCoChietKhau: number = 0;\n    soLuongGoiKhongChietKhau: number = 0;\n\n    isSetValue: boolean = false;\n    isCheckedBHYT: boolean = false;\n    isActivePopup: boolean = false;\n\n    thongTinTaiKhoanBenhNhan: any;\n\n    soTienBHYTSeThanhToan: number = 0;\n\n    benhNhanId: number = 0;\n    benhNhanIdPopup: number = 0;\n    coYeuCauGoiDichVu: boolean = false;\n\n    diaChiBHYT: DiaChiBHYT = new DiaChiBHYT();\n\n    lichSuKCB: GridLichSuKCB[] = new Array<GridLichSuKCB>();\n\n    lichSuKiemTraTheBHYTGrid: GridLichSuKiemTraTheBHYT[] = new Array<GridLichSuKiemTraTheBHYT>();\n\n    //1 kham benh, 2 ky thuat, 3 giuong\n    loaiTiepNhan: number = null;\n    isGoiCoChietKhau: boolean = null;\n\n    //\n    duocHuongBHYT = false;\n\n    enableDuocHuongBHYT = false;\n\n    isScanF1 = false;\n\n    idYeuCauTiepNhan: number = 0;\n\n    //ngay thang nam sinh\n    under6yearsold: boolean = false;\n\n    // voucher\n    public loaiVoucher: number = 0;\n    public voucherLookupItemVo: Array<LookupItemVo>;\n\n    //Tim kiem benh nhan\n    lstBenhNhan: TimKiemBenhNhanGridVo[] = new Array<TimKiemBenhNhanGridVo>();\n    modelTimKiemBenhNhan: TimKiemBenhNhanGridVo = new TimKiemBenhNhanGridVo();\n    totalBenhNhan: number = 0;\n    queryInfoNguoiLienHeQuanHuyen: LookupQueryInfo = new LookupQueryInfo();\n    queryInfoNguoiLienHePhuongXa: LookupQueryInfo = new LookupQueryInfo();\n\n\n    //message kiem tra tren BHYT\n    messageThanhCong: string = \"Kiểm tra thành công\";\n    messageKhongThanhCong: string = \"Kiểm tra không thành công\";\n\n    //\n    isActiveAction: any = null;\n\n    //\n    maDichVuPrev: number = null;\n    //countCheck: number = 0;\n    maDichVuDisabled: boolean = false;\n\n    //update 29/10/2020\n\n    id: number;\n\n    danhSachDichVuTrongGoiDaChonTrongYCTN: DanhSachDichVuGoiChon[] = new Array<DanhSachDichVuGoiChon>();\n    danhSachGoiDaChonTrongYCTN: DanhSachGoiChon[] = new Array<DanhSachGoiChon>();\n    danhSachDichVuGoiDaChon: Array<ThemChiDinhDichVu> = new Array<ThemChiDinhDichVu>();\n\n    displayToolTipGrid: string = null;\n    suDungGoiMarketingModelTemp: boolean = false;\n    disabledCheckboxMarketing: boolean = false;\n    popupLoadingData: any;\n\n    danhSachDichVuDaChonTrongLanPopup: Array<DanhSachDichVuChonTrongLanPopup> = new Array<DanhSachDichVuChonTrongLanPopup>();\n\n    dichVuSarsCoVs:number[]=[];\n    loaiBenhPhamText:string =null;\n    loaiBenhPham:number =null;\n    showbuttonLuuVaInPhieuXetNghiem:boolean = false;\n    loadingDataPopup: any;\n    \n    @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n    @ViewChild('gridBHTN', { static: false }) gridChildBHTN: GridComponent;\n    @ViewChild('gridKhamBenh', { static: false }) gridChildKhamBenh: GridComponent;\n    @ViewChild('gridKyThuat', { static: false }) gridChildKyThuat: GridComponent;\n    @ViewChild('gridCoChietKhau', { static: false }) gridChildCoChietKhau: GridComponent;\n    @ViewChild('gridKhongChietKhau', { static: false }) gridChildKhongChietKhau: GridComponent;\n\n    @ViewChild('gridTaiLieuDinhKem', { static: false }) gridTaiLieuDinhKem: GridComponent;\n\n    //the begin of kham benh\n\n    // đơn giá\n    @ViewChild('donGiaKhamBenhFooterTemplate', { static: true }) donGiaKhamBenhFooterTemplate: TemplateRef<any>;\n    @ViewChild('donGiaKhamBenhTemplate', { static: true }) donGiaKhamBenhTemplate: TemplateRef<any>;\n\n    // thành tiền\n    @ViewChild('thanhTienKhamBenhTemplate', { static: true }) thanhTienKhamBenhTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienKhamBenhFooterTemplate', { static: true }) thanhTienKhamBenhFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienKhamBenhGroupFooterTemplate', { static: true }) thanhTienKhamBenhGroupFooterTemplate: TemplateRef<any>;\n\n    // bhyt thanh toán\n    @ViewChild('bhytThanhToanKhamBenhTemplate', { static: true }) bhytThanhToanKhamBenhTemplate: TemplateRef<any>;\n    @ViewChild('bhytThanhToanKhamBenhFooterTemplate', { static: true }) bhytThanhToanKhamBenhFooterTemplate: TemplateRef<any>;\n    @ViewChild('bhytThanhToanKhamBenhGroupFooterTemplate', { static: true }) bhytThanhToanKhamBenhGroupFooterTemplate: TemplateRef<any>;\n\n    // số tiền mg\n    @ViewChild('soTienMgKhamBenhTemplate', { static: true }) soTienMgKhamBenhTemplate: TemplateRef<any>;\n    @ViewChild('soTienMgKhamBenhFooterTemplate', { static: true }) soTienMgKhamBenhFooterTemplate: TemplateRef<any>;\n    @ViewChild('soTienMgKhamBenhGroupFooterTemplate', { static: true }) soTienMgKhamBenhGroupFooterTemplate: TemplateRef<any>;\n\n    // người bệnh thanh toán\n    @ViewChild('bnThanhToanKhamBenhTemplate', { static: true }) bnThanhToanKhamBenhTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanKhamBenhFooterTemplate', { static: true }) bnThanhToanKhamBenhFooterTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanKhamBenhGroupFooterTemplate', { static: true }) bnThanhToanKhamBenhGroupFooterTemplate: TemplateRef<any>;\n\n    //action\n    @ViewChild('actionKhamBenhTemplate', { static: true }) actionKhamBenhTemplate: TemplateRef<any>;\n\n    //\n    @ViewChild(\"tabStrip\", { static: false }) tabStrip: TabStripComponent;\n\n    // group\n    groupKhamBenh: GroupDescriptor[] = [\n        {\n            field: 'Nhom', aggregates: [\n                { field: 'ThanhTien', aggregate: 'sum' },\n                { field: 'BnThanhToan', aggregate: 'sum' },\n                { field: 'SoTienMG', aggregate: 'sum' },\n                { field: 'BHYTThanhToan', aggregate: 'sum' }\n            ]\n        }\n    ];\n\n    //end of kham benh\n\n    // the begin of ky thuat\n\n    // đơn giá\n    @ViewChild('donGiaKyThuatFooterTemplate', { static: true }) donGiaKyThuatFooterTemplate: TemplateRef<any>;\n    @ViewChild('donGiaKyThuatTemplate', { static: true }) donGiaKyThuatTemplate: TemplateRef<any>;\n\n    // thành tiền\n    @ViewChild('thanhTienKyThuatTemplate', { static: true }) thanhTienKyThuatTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienKyThuatFooterTemplate', { static: true }) thanhTienKyThuatFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienKyThuatGroupFooterTemplate', { static: true }) thanhTienKyThuatGroupFooterTemplate: TemplateRef<any>;\n\n    // số tiền mg\n    @ViewChild('soTienMgKyThuatTemplate', { static: true }) soTienMgKyThuatTemplate: TemplateRef<any>;\n    @ViewChild('soTienMgKyThuatFooterTemplate', { static: true }) soTienMgKyThuatFooterTemplate: TemplateRef<any>;\n    @ViewChild('soTienMgKyThuatGroupFooterTemplate', { static: true }) soTienMgKyThuatGroupFooterTemplate: TemplateRef<any>;\n\n    // người bệnh thanh toán\n    @ViewChild('bnThanhToanKyThuatTemplate', { static: true }) bnThanhToanKyThuatTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanKyThuatFooterTemplate', { static: true }) bnThanhToanKyThuatFooterTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanKyThuatGroupFooterTemplate', { static: true }) bnThanhToanKyThuatGroupFooterTemplate: TemplateRef<any>;\n\n    //action\n    @ViewChild('actionKyThuatTemplate', { static: true }) actionKyThuatTemplate: TemplateRef<any>;\n\n    // group\n    groupKyThuat: GroupDescriptor[] = [{\n        field: 'Nhom', aggregates: [\n            { field: 'ThanhTien', aggregate: 'sum' },\n            { field: 'SoTienMG', aggregate: 'sum' },\n            { field: 'BnThanhToan', aggregate: 'sum' }\n        ]\n    }];\n\n    //end of ky thuat\n\n    //the begin of khong chiet khau\n\n    // đơn giá\n    @ViewChild('donGiaKhongChietKhauFooterTemplate', { static: true }) donGiaKhongChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('donGiaKhongChietKhauTemplate', { static: true }) donGiaKhongChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('donGiaBHYTTemplate', { static: true }) donGiaBHYTTemplate: TemplateRef<any>;\n\n\n    @ViewChild('tenDichVuKhongChietKhauFooterTemplate', { static: true }) tenDichVuKhongChietKhauFooterTemplate: TemplateRef<any>;\n\n    // thành tiền\n    @ViewChild('thanhTienKhongChietKhauTemplate', { static: true }) thanhTienKhongChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienKhongChietKhauFooterTemplate', { static: true }) thanhTienKhongChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienKhongChietKhauGroupFooterTemplate', { static: true }) thanhTienKhongChietKhauGroupFooterTemplate: TemplateRef<any>;\n\n    // bhyt thanh toán\n    @ViewChild('bhytThanhToanKhongChietKhauTemplate', { static: true }) bhytThanhToanKhongChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('bhytThanhToanKhongChietKhauFooterTemplate', { static: true }) bhytThanhToanKhongChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('bhytThanhToanKhongChietKhauGroupFooterTemplate', { static: true }) bhytThanhToanKhongChietKhauGroupFooterTemplate: TemplateRef<any>;\n\n    // số tiền mg\n    @ViewChild('soTienMgKhongChietKhauTemplate', { static: true }) soTienMgKhongChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('soTienMgKhongChietKhauFooterTemplate', { static: true }) soTienMgKhongChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('soTienMgKhongChietKhauGroupFooterTemplate', { static: true }) soTienMgKhongChietKhauGroupFooterTemplate: TemplateRef<any>;\n\n    // người bệnh thanh toán\n    @ViewChild('bnThanhToanKhongChietKhauTemplate', { static: true }) bnThanhToanKhongChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanKhongChietKhauFooterTemplate', { static: true }) bnThanhToanKhongChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanKhongChietKhauGroupFooterTemplate', { static: true }) bnThanhToanKhongChietKhauGroupFooterTemplate: TemplateRef<any>;\n\n    // nơi thực hiện\n    @ViewChild('noiThucHienKhongChietKhauTemplate', { static: true }) noiThucHienKhongChietKhauTemplate: TemplateRef<any>;\n\n    // nhân viên chỉ định\n    @ViewChild('nhanVienChiDinhTemplate', { static: true }) nhanVienChiDinhTemplate: TemplateRef<any>;\n\n    // checkbox được hưởng bhyt\n    @ViewChild('duocHuongBHYTTemplate', { static: true }) duocHuongBHYTTemplate: TemplateRef<any>;\n\n    //Loai gia grid\n    @ViewChild('loaiGiaTemplate', { static: true }) loaiGiaTemplate: TemplateRef<any>;\n\n    //STT grid\n    @ViewChild('sttKhongChietKhauTemplate', { static: true }) sttKhongChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('sttCoChietKhauTemplate', { static: true }) sttCoChietKhauTemplate: TemplateRef<any>;\n\n    //So luong grid\n    @ViewChild('soLuongTemplate', { static: true }) soLuongTemplate: TemplateRef<any>;\n\n    //action\n    @ViewChild('actionKhongChietKhauTemplate', { static: true }) actionKhongChietKhauTemplate: TemplateRef<any>;\n\n    // group\n    groupKhongChietKhau: GroupDescriptor[] = [\n        {\n            field: 'Nhom', aggregates: [\n                { field: 'ThanhTien', aggregate: 'sum' },\n                { field: 'BHYTThanhToan', aggregate: 'sum' },\n                { field: 'SoTienMG', aggregate: 'sum' },\n                { field: 'BnThanhToan', aggregate: 'sum' }\n            ]\n        }\n    ];\n\n    //end of khong chiet khau\n\n    //start chiet khau\n\n    // đơn giá\n    @ViewChild('donGiaChietKhauTemplate', { static: true }) donGiaChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('donGiaChietKhauFooterTemplate', { static: true }) donGiaChietKhauFooterTemplate: TemplateRef<any>;\n\n    // thành tiền\n    @ViewChild('thanhTienChietKhauTemplate', { static: true }) thanhTienChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienChietKhauFooterTemplate', { static: true }) thanhTienChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienChietKhauGroupFooterTemplate', { static: true }) thanhTienChietKhauGroupFooterTemplate: TemplateRef<any>;\n\n    // tỷ lệ chiết khấu\n    @ViewChild('tyLeChietKhauCoChietKhauTemplate', { static: true }) tyLeChietKhauCoChietKhauTemplate: TemplateRef<any>;\n\n    // được giảm trong gói\n    @ViewChild('duocGiamTrongGoiCoChietKhauTemplate', { static: true }) duocGiamTrongGoiCoChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('duocGiamTrongGoiCoChietKhauFooterTemplate', { static: true }) duocGiamTrongGoiCoChietKhauFooterTemplate: TemplateRef<any>;\n\n    // thành tiền trong gói\n    @ViewChild('thanhTienTrongGoiChietKhauTemplate', { static: true }) thanhTienTrongGoiChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienTrongGoiChietKhauFooterTemplate', { static: true }) thanhTienTrongGoiChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienTrongGoiChietKhauGroupFooterTemplate', { static: true }) thanhTienTrongGoiChietKhauGroupFooterTemplate: TemplateRef<any>;\n\n    // nơi thực hiện\n    @ViewChild('noiThucHienChietKhauTemplate', { static: true }) noiThucHienChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n\n    //\n    @ViewChild('taiLieuTemplate', { static: true }) taiLieuTemplate: TemplateRef<any>;\n    @ViewChild('actionTaiLieuTemplate', { static: true }) actionTaiLieuTemplate: TemplateRef<any>;\n\n    @ViewChild('HoVaTenTextbox', { static: false }) HoVaTenTextbox: TextboxComponent;\n    @ViewChild('NgaySinhCoBHYT', { static: false }) NgaySinhCoBHYT: DatepickerComponent;\n    @ViewChild('NgaySinhKhongCoBHYT', { static: false }) NgaySinhKhongCoBHYT: DatepickerComponent;\n\n    @ViewChild('dichVuCombobox', { static: false }) dichVuCombobox: ComboboxComponent;\n\n    @ViewChild('comboboxQuanHuyen', { static: true }) comboboxQuanHuyen: ComboboxComponent;\n    @ViewChild('comboboxPhuongXa', { static: true }) comboboxPhuongXa: ComboboxComponent;\n\n    @ViewChild('tenDvTemplate', { static: true }) tenDvTemplate: TemplateRef<any>;\n\n    @ViewChild('dichVuTrongGoiTemplate', { static: true }) dichVuTrongGoiTemplate: TemplateRef<any>;\n    @ViewChild('dichVuKhuyenMaiTemplate', { static: true }) dichVuKhuyenMaiTemplate: TemplateRef<any>;\n\n    // @ViewChild('comboboxNoiThucHien1', { static: true }) comboboxNoiThucHien1: ComboboxComponent;\n    // @ViewChild('comboboxNoiThucHien2', { static: true }) comboboxNoiThucHien2: ComboboxComponent;\n\n    // action\n    groupChietKhau: GroupDescriptor[] = [\n        {\n            field: 'Nhom', aggregates: [\n                { field: 'ThanhTien', aggregate: 'sum' },\n                { field: 'ThanhTienTrongGoi', aggregate: 'sum' }\n            ]\n        }\n    ];\n\n    //end chiết khấu\n\n    thanhTienTongCong: number = 0;\n    bnThanhToanTongCong: number = 0;\n    thanhTienDichVuChiDinhBaoGomDichVuTrongGoi: number = 0;\n\n    @ViewChild('voucherList', { static: false }) voucherList: MultiselectComponent;\n    @ViewChild(\"multiselect\", { static: false }) public multiselect: any;\n\n    // cập nhật điều kiện tạo mới yctn\n    urlPageUpdateYCTN: string = null;\n    errMessageKhongChoPhepTaoMoiYCTN: string = null;\n    changeMaTheBHYT: boolean = false;\n    loading: boolean = false;\n\n    constructor(private apiService: ApiService, private dialog: MatDialog\n        , private authService: AuthService, private router: Router\n        , private notificationService: NotificationService, private route: ActivatedRoute\n        , private renderer: Renderer2, private cdRef: ChangeDetectorRef) { }\n\n    ngOnDestroy(): void {\n        //console.log(\"ngOnDestroy\");\n        //this.cdRef.detectChanges();\n        //this.cdRef.markForCheck();\n        //console.log(\"ngOnDestroy\");\n        this.dialog.ngOnDestroy();\n    }\n\n    ngOnInit() {\n        this.errMessageKhongChoPhepTaoMoiYCTN = null;\n        this.urlPageUpdateYCTN = null;\n        this.changeMaTheBHYT = false;\n        this.id = this.route.snapshot.params.id;\n\n        this.getListDichVuSarsCoVs();\n        \n        if (this.id != undefined) {\n            this.getBenhNhan(this.id, true);\n        } else {\n            this.getDefaultDataTNBN();\n        }\n\n        console.log(\"ngOnInit - Id = \", this.id);\n\n        if (window.location.protocol == \"http:\") {\n            this.hostingName = \"http://\" + window.location.host;\n        } else {\n            this.hostingName = \"https://\" + window.location.host;\n        }\n\n        this.danhSachDichVuTrongGoiDaChonTrongYCTN = new Array<DanhSachDichVuGoiChon>();\n        this.danhSachGoiDaChonTrongYCTN = new Array<DanhSachGoiChon>();\n        this.danhSachDichVuGoiDaChon = new Array<ThemChiDinhDichVu>();\n\n        this.suDungGoiMarketingModelTemp = false;\n        this.disabledCheckboxMarketing = false;\n\n        this.danhSachDichVuDaChonTrongLanPopup = new Array<DanhSachDichVuChonTrongLanPopup>();\n\n\n        this.getSoTienBHYTSeThanhToan();\n\n        this.getListTenTrieuChungKham();\n\n        this.setDefaultData();\n        this.thongTinBenhNhan = new ThongTinBenhNhan();\n        this.lichSuKCB = new Array<GridLichSuKCB>();\n        this.lichSuKiemTraTheBHYTGrid = new Array<GridLichSuKiemTraTheBHYT>();\n\n        this.gridTaiLieuDinhKemColumns = [\n            { Field: \"LoaiDisplay\", Title: \"Loại\", Width: 200, Sortable: true },\n            { Field: \"Ten\", Title: \"Tài liệu\", MinWidth: 200, Sortable: true, Template: this.taiLieuTemplate },\n            { Field: \"MoTa\", Title: \"Mô tả\", Width: 200, Sortable: true },\n            { Field: \"Action\", Title: \"\", Width: 60, Template: this.actionTaiLieuTemplate },\n        ];\n\n        this.gridColumns = [\n            { Field: \"STT\", Title: \"STT\", Width: 50, Sortable: true },\n            { Field: \"CongTyDisplay\", Title: \"Công ty\", Width: 250, Sortable: true },\n            { Field: \"MaSoThe\", Title: \"Số thẻ\", Width: 150, Sortable: true },\n            { Field: \"NgayHieuLucDisplay\", Title: \"Từ ngày\", Width: 100, Sortable: true },\n            { Field: \"NgayHetHanDisplay\", Title: \"Đến ngày\", Width: 100, Sortable: true },\n            { Field: \"SoDienThoai\", Title: \"Điện thoại\", Width: 100, Sortable: true },\n            { Field: \"DiaChi\", Title: \"Địa chỉ\", MinWidth: 200, Sortable: true },\n            { Field: \"Action\", Title: \"\", Width: 60, Template: this.actionTemplate },\n        ];\n\n        this.gridKhamBenhColumns = [\n            { Field: \"Ma\", Title: \"Mã\", Width: 80, Sortable: true },\n            { Field: \"Nhom\", Title: \"Nhóm\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            {\n                Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", MinWidth: 140, Sortable: true,\n                TemplateFooter: this.donGiaKhamBenhFooterTemplate\n            },\n            { Field: \"LoaiGia\", Title: \"Loại Giá\", Width: 80, Sortable: true },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 30, Sortable: true },\n            {\n                Field: \"DonGia\", Title: \"Đơn Giá\", Width: 100, Sortable: true,\n                Template: this.donGiaKhamBenhTemplate\n            },\n            {\n                Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Sortable: true,\n                Template: this.thanhTienKhamBenhTemplate,\n                TemplateFooter: this.thanhTienKhamBenhFooterTemplate,\n                TemplateGroupFooter: this.thanhTienKhamBenhGroupFooterTemplate\n            },\n            {\n                Field: \"BHYTThanhToan\", Title: \"BHYT Thanh Toán\", Width: 100, Sortable: true,\n                Template: this.bhytThanhToanKhamBenhTemplate,\n                TemplateFooter: this.bhytThanhToanKhamBenhFooterTemplate,\n                TemplateGroupFooter: this.bhytThanhToanKhamBenhGroupFooterTemplate\n            },\n            // { Field: \"TLMGDisplay\", Title: \"TL MG\", Width: 45, Sortable: true },\n            // {\n            //     Field: \"SoTienMG\", Title: \"Số tiền MG\", Width: 100, Sortable: true,\n            //     Template: this.soTienMgKhamBenhTemplate,\n            //     TemplateFooter: this.soTienMgKhamBenhFooterTemplate,\n            //     TemplateGroupFooter: this.soTienMgKhamBenhGroupFooterTemplate\n            // },\n            {\n                Field: \"BnThanhToan\", Title: \"BN thanh toán\", Width: 150, Sortable: true,\n                Template: this.bnThanhToanKhamBenhTemplate,\n                TemplateFooter: this.bnThanhToanKhamBenhFooterTemplate,\n                TemplateGroupFooter: this.bnThanhToanKhamBenhGroupFooterTemplate\n            },\n            {\n                Field: \"NoiThucHienDisplay\", Title: \"Nơi thực hiện\", Width: 230, Sortable: true\n            },\n            { Field: \"ActionKhamBenh\", Title: \"\", Width: 50, Template: this.actionKhamBenhTemplate }\n        ];\n\n        this.gridKyThuatColumns = [\n            { Field: \"Nhom\", Title: \"Nhóm\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            { Field: \"Ma\", Title: \"Mã\", Width: 80, Sortable: true },\n            { Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", MinWidth: 140, Sortable: true },\n            { Field: \"LoaiGia\", Title: \"Loại Giá\", Width: 80, Sortable: true },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 30, Sortable: true },\n            {\n                Field: \"DonGia\", Title: \"Đơn Giá\", Width: 100, Sortable: true,\n                Template: this.donGiaKyThuatTemplate,\n                TemplateFooter: this.donGiaKyThuatFooterTemplate\n            },\n            {\n                Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Sortable: true,\n                Template: this.thanhTienKyThuatTemplate,\n                TemplateFooter: this.thanhTienKyThuatFooterTemplate,\n                TemplateGroupFooter: this.thanhTienKyThuatGroupFooterTemplate\n            },\n            // { Field: \"TLMGDisplay\", Title: \"TL MG\", Width: 45, Sortable: true },\n            // {\n            //     Field: \"SoTienMG\", Title: \"Số tiền MG\", Width: 100, Sortable: true,\n            //     Template: this.soTienMgKyThuatTemplate,\n            //     TemplateFooter: this.soTienMgKyThuatFooterTemplate,\n            //     TemplateGroupFooter: this.soTienMgKyThuatGroupFooterTemplate\n            // },\n            {\n                Field: \"BnThanhToan\", Title: \"BN thanh toán\", Width: 100, Sortable: true,\n                Template: this.bnThanhToanKyThuatTemplate,\n                TemplateFooter: this.bnThanhToanKyThuatFooterTemplate,\n                TemplateGroupFooter: this.bnThanhToanKyThuatGroupFooterTemplate\n            },\n            {\n                Field: \"NoiThucHienDisplay\", Title: \"Nơi thực hiện\", Width: 230, Sortable: true\n            },\n            {\n                Field: \"TenNhanVienChiDinh\", Title: \"Nhân viên chỉ định\", Width: 230, Sortable: true\n            },\n            { Field: \"ActionKyThuat\", Title: \"\", Width: 50, Template: this.actionKyThuatTemplate }\n        ];\n\n        this.gridKhongChietKhauColumns = [\n            {\n                Field: \"id\", Title: \"#\", Width: 50, Sortable: true,\n                Template: this.sttKhongChietKhauTemplate\n            },\n            { Field: \"Ma\", Title: \"Mã\", Width: 90, Sortable: true },\n            { Field: \"Nhom\", Title: \"Nhóm\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            {\n                Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\"\n                , MinWidth: 200, Sortable: true, ShowTooltip: true\n                , TemplateFooter: this.donGiaKhongChietKhauFooterTemplate\n                , TemplateGroupFooter: this.tenDichVuKhongChietKhauFooterTemplate\n                , Template: this.tenDvTemplate\n            },\n            { Field: \"GoiCoChietKhauId\", Title: \"DV Trong Gói\", Width: 60, Template: this.dichVuTrongGoiTemplate },\n            { Field: \"YeuCauGoiDichVuKhuyenMaiId\", Title: \"DV Khuyến Mại\", Width: 60, Template: this.dichVuKhuyenMaiTemplate },\n            {\n                Field: \"LoaiGia\", Title: \"Loại Giá\", Width: 100, Sortable: true,\n                Template: this.loaiGiaTemplate\n            },\n\n\n            {\n                Field: \"SoLuong\", Title: \"SL\", Width: 50, Sortable: true,\n                Template: this.soLuongTemplate\n            },\n            {\n                Field: \"DonGia\", Title: \"Đơn Giá\", Width: 100, Sortable: true,\n                Template: this.donGiaKhongChietKhauTemplate\n            },\n            {\n                Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Sortable: true,\n                Template: this.thanhTienKhongChietKhauTemplate,\n                TemplateFooter: this.thanhTienKhongChietKhauFooterTemplate\n                , TemplateGroupFooter: this.thanhTienKhongChietKhauGroupFooterTemplate\n            },\n\n            {\n                Field: \"GiaBHYT\", Title: \"ĐG BHYT\", Width: 100, Sortable: true,\n                Template: this.donGiaBHYTTemplate\n            },\n            {\n                Field: \"DuocHuongBHYT\", Title: \"ĐH BHYT\", Width: 60, Sortable: false,\n                Template: this.duocHuongBHYTTemplate\n            },\n            // {\n            //     Field: \"BHYTThanhToan\", Title: \"BHYT Thanh Toán\", Width: 100, Sortable: true,\n            //     Template: this.bhytThanhToanKhongChietKhauTemplate,\n            //     TemplateFooter: this.bhytThanhToanKhongChietKhauFooterTemplate,\n            //     TemplateGroupFooter: this.bhytThanhToanKhongChietKhauGroupFooterTemplate\n            // },\n            // { Field: \"TLMGDisplay\", Title: \"TL MG\", Width: 60, Sortable: true },\n            // {\n            //     Field: \"SoTienMG\", Title: \"Số tiền MG\", Width: 100, Sortable: true,\n            //     Template: this.soTienMgKhongChietKhauTemplate,\n            //     TemplateFooter: this.soTienMgKhongChietKhauFooterTemplate,\n            //     TemplateGroupFooter: this.soTienMgKhongChietKhauGroupFooterTemplate\n            // },\n            // {\n            //     Field: \"BnThanhToan\", Title: \"BN thanh toán\", Width: 100, Sortable: true,\n            //     Template: this.bnThanhToanKhongChietKhauTemplate,\n            //     TemplateFooter: this.bnThanhToanKhongChietKhauFooterTemplate,\n            //     TemplateGroupFooter: this.bnThanhToanKhongChietKhauGroupFooterTemplate\n            // },\n            {\n                Field: \"NoiThucHienDisplay\", Title: \"Nơi thực hiện\", Width: 230, Sortable: true,\n                Template: this.noiThucHienKhongChietKhauTemplate\n            },\n            { Field: \"ActionKhongChietKhau\", Title: \"\", Width: 50, Template: this.actionKhongChietKhauTemplate }\n        ];\n\n        this.gridCoChietKhauColumns = [\n            {\n                Field: \"id\", Title: \"#\", Width: 90, Sortable: true,\n                Template: this.sttCoChietKhauTemplate\n            },\n            { Field: \"Nhom\", Title: \"Nhóm\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            { Field: \"Ma\", Title: \"Mã\", Width: 80, Sortable: true },\n            { Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", MinWidth: 200, Sortable: true, ShowTooltip: true },\n            { Field: \"LoaiGia\", Title: \"Loại Giá\", Width: 80, Sortable: true },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 30, Sortable: true },\n            {\n                Field: \"DonGia\", Title: \"Đơn Giá\", Width: 100, Sortable: true,\n                Template: this.donGiaChietKhauTemplate,\n                TemplateFooter: this.donGiaChietKhauFooterTemplate\n            },\n            {\n                Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Sortable: true,\n                Template: this.thanhTienChietKhauTemplate,\n                TemplateFooter: this.thanhTienChietKhauFooterTemplate,\n                TemplateGroupFooter: this.thanhTienChietKhauGroupFooterTemplate\n            },\n            {\n                Field: \"TyLeChietKhauDisplay\", Title: \"TL CK\", Width: 100, Sortable: true,\n                Template: this.tyLeChietKhauCoChietKhauTemplate,\n            },\n            {\n                Field: \"DuocGiamTrongGoi\", Title: \"DG Trong Gói\", Width: 100, Sortable: true,\n                Template: this.duocGiamTrongGoiCoChietKhauTemplate,\n                TemplateFooter: this.duocGiamTrongGoiCoChietKhauFooterTemplate\n            },\n            {\n                Field: \"ThanhTienTrongGoi\", Title: \"TT Trong Gói\", Width: 100, Sortable: true,\n                Template: this.thanhTienTrongGoiChietKhauTemplate,\n                TemplateFooter: this.thanhTienTrongGoiChietKhauFooterTemplate,\n                TemplateGroupFooter: this.thanhTienTrongGoiChietKhauGroupFooterTemplate\n            },\n            {\n                Field: \"NoiThucHienDisplay\", Title: \"Nơi thực hiện\", Width: 230, Sortable: true,\n                Template: this.noiThucHienChietKhauTemplate\n            }\n        ];\n\n        //documenttype\n        this.documentType = DocumentType.YeuCauTiepNhan;\n\n        this.tiepNhanBenhNhan = new TiepNhanBenhNhanViewModel;\n\n        this.tiepNhanBenhNhan.TinhThanhId = 1;\n        //set load first quan huyen combobox\n        //console.log(\"TNBN = \", this.comboboxQuanHuyen);\n        if (this.comboboxQuanHuyen != null && this.comboboxQuanHuyen != undefined) {\n            this.comboboxQuanHuyen.queryInfo.ParameterDependencies = \"{tinhThanh:\" + this.tiepNhanBenhNhan.TinhThanhId + \"}\";\n        }\n\n        this.tiepNhanBenhNhan.BenhNhan = new BenhNhanTiepNhanBenhNhanViewModel();\n        this.tiepNhanBenhNhan.GridLichSuKCB = new Array<GridLichSuKCB>();\n        this.tiepNhanBenhNhan.GridLichSuKiemTraTheBHYT = new Array<GridLichSuKiemTraTheBHYT>();\n\n        this.lstBHTN = new Array<ThemBaoHiemTuNhanGridVo>();\n\n        this.setValueForGridBHTN();\n        this.huyBHTN();\n\n        this.setDataForDichVuKyThuat();\n        this.setDataForDichVuKhamBenh();\n        this.setDataForDichVuKhac();\n        this.setDataForTaiLieuDinhKem();\n        this.refreshGrid();\n\n        this.themChiDinhDichVuModel = new ThemChiDinhDichVu();\n        this.themChiDinhGoiModel = new ThemChiDinhDichVu();\n\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n        //this.themChiDinhDichVuModel.DoiTuongUuDaiId = this.tiepNhanBenhNhan.DoiTuongUuDaiId;\n        this.clearThongTinTaiKhoanBenhNhan();\n        this.clearThemTaiLieu();\n        this.queryInfoNguoiLienHeQuanHuyen.ParameterDependencies = \"{tinhThanhLienHe:\" + this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId + \"}\";\n        this.queryInfoNguoiLienHePhuongXa.ParameterDependencies = \"{quanHuyenLienHe:\" + this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId + \"}\";\n\n\n\n        //console.log(\"isCheckedBHYT = \", this.isCheckedBHYT);\n        \n        this.HoVaTenTextbox.focus();\n\n       \n    }\n\n    setSoPhanTramHuongBHYTForThemChiDinh() {\n        this.themChiDinhDichVuModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n        this.themChiDinhGoiModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n    }\n\n    getBenhNhan(id: number, isCheckTheBHYT: boolean = false) {\n        this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: \"Đang tải dữ liệu...\" }\n        });\n        this.apiService.post<TiepNhanBenhNhanViewModel>(\"TiepNhanBenhNhan/GetYeuCauKhamBenh?id=\" + id).subscribe(\n            resultData => {\n                if (resultData == null || resultData == undefined) return;\n                this.tiepNhanBenhNhan = resultData;\n                //console.log(\"getBenhNhan\", this.tiepNhanBenhNhan);\n                console.log(\"ngOnInit - tiepNhanBenhNhan = \", this.tiepNhanBenhNhan);\n\n                this.tiepNhanBenhNhan.ThoiDiemTiepNhan = new Date();\n                this.tiepNhanBenhNhan.ThoiGianTiepNhan = new Date();\n                this.benhNhanId = this.tiepNhanBenhNhan.BenhNhanId;\n\n                //\n                this.getDanhSachGoiBenhNhan(this.benhNhanId);\n                //\n\n                this.setThongTinTaiKhoanBenhNhan(this.tiepNhanBenhNhan.BenhNhanId);\n\n                if (this.tiepNhanBenhNhan.TuNhap != true && this.tiepNhanBenhNhan.CoBHYT) {\n                    //this.isDisableNhapTayForUpdate = true;\n                }\n\n                this.lichSuKCB = this.tiepNhanBenhNhan.GridLichSuKCB;\n                this.lichSuKiemTraTheBHYTGrid = this.tiepNhanBenhNhan.GridLichSuKiemTraTheBHYT;\n\n                if (resultData.LoaiVoucher == null) {\n                    this.loaiVoucher = 0;\n                }\n                else {\n                    this.loaiVoucher = resultData.LoaiVoucher;\n                }\n                // thong tin BHYT\n                if (resultData.BHYTNgayHieuLuc != null && resultData.BHYTNgayHieuLuc != undefined) {\n                    let ngayCoHieuLuc = new Date(resultData.BHYTNgayHieuLuc);\n\n                    this.tiepNhanBenhNhan.NgayCoHieuLucDisplay = CommonService.formatDate(ngayCoHieuLuc, \"dd/mm/yyyy\");\n                    //console.log(\"getBenhNhan = \", ngayCoHieuLuc, this.tiepNhanBenhNhan.NgayCoHieuLucDisplay);\n\n                }\n                if (resultData.BHYTNgayHetHan != null && resultData.BHYTNgayHetHan != undefined) {\n                    let ngayHetHan = new Date(resultData.BHYTNgayHetHan);\n                    this.tiepNhanBenhNhan.NgayHetHieuLucDisplay = CommonService.formatDate(ngayHetHan, \"dd/mm/yyyy\");\n                }\n                if (resultData.BHYTNgayDu5Nam != null && resultData.BHYTNgayDu5Nam != undefined) {\n                    let ngayDu5Nam = new Date(resultData.BHYTNgayDu5Nam);\n                    this.tiepNhanBenhNhan.NgayDu5NamDisplay = CommonService.formatDate(ngayDu5Nam, \"dd/mm/yyyy\");\n                }\n                if (resultData.BHYTMaDKBD != null && resultData.BHYTMaDKBD != undefined) {\n                    //this.setSoPhanTramHuongBHYT(resultData.BHYTMaSoThe)\n                    //this.setTuyenKhamBenh(resultData.BHYTMaDKBD);\n                    this.setSoPhanTramHuongBHYTForThemChiDinh();\n\n                    this.apiService.post<string>(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + resultData.BHYTMaDKBD).subscribe(\n                        resultData => {\n                            this.tiepNhanBenhNhan.NoiDangKyBHYT = resultData;\n\n                        },\n                        () => {\n                            //return null;\n                            //console.log(\"error\")\n                        });\n                }\n\n\n                // BHTN\n                //this.lstBHTN = resultData.BaoHiemTuNhans;\n                if (resultData.BaoHiemTuNhans != undefined && resultData.BaoHiemTuNhans != null) {\n                    resultData.BaoHiemTuNhans.forEach(item => {\n                        let model = new ThemBaoHiemTuNhanGridVo();\n                        model.Id = item.Id;\n                        model.CongTyBaoHiemTuNhanId = item.BHTNCongTyBaoHiemId;\n                        model.CongTyDisplay = item.CongTyDisplay;\n                        model.DiaChi = item.BHTNDiaChi;\n                        model.MaSoThe = item.BHTNMaSoThe;\n                        model.SoDienThoai = item.BHTNSoDienThoai;\n\n\n                        model.NgayHetHan = item.BHTNNgayHetHan;\n                        if (item.BHTNNgayHetHan != null) {\n                            let dateNgayHetHan = new Date(model.NgayHetHan);\n                            model.NgayHetHanDisplay = CommonService.formatDate(dateNgayHetHan, \"dd/mm/yyyy\");\n                        }\n                        else {\n                            model.NgayHetHanDisplay = null;\n                        }\n\n                        model.NgayHieuLuc = item.BHTNNgayHieuLuc;\n                        if (item.BHTNNgayHieuLuc != null) {\n                            let dateNgayHieuLuc = new Date(model.NgayHieuLuc);\n                            model.NgayHieuLucDisplay = CommonService.formatDate(dateNgayHieuLuc, \"dd/mm/yyyy\");\n                        }\n                        else {\n                            model.NgayHieuLucDisplay = null;\n                        }\n\n                        this.lstBHTN.push(model);\n                    });\n\n                    this.setValueForGridBHTN();\n                }\n                // BHTN\n\n                // this.isHaveBHYTUpdated = resultData.CoBHYT\n                //     //console.log(\"getBenhNhan\", this.tiepNhanBenhNhan)\n                //     ;\n\n                this.tiepNhanBenhNhan.BenhNhan.GioiTinhDisplay = resultData.BenhNhan.GioiTinh == 1 ? \"Nam\" : \"Nữ\";\n\n                //let ngayThangNamSinh = new Date();\n                //ngayThangNamSinh.setDate(resultData.BenhNhan.NgaySinh);\n                //ngayThangNamSinh.setMonth(resultData.BenhNhan.ThangSinh);\n                //ngayThangNamSinh.setFullYear(resultData.BenhNhan.NamSinh, resultData.BenhNhan.ThangSinh, resultData.BenhNhan.NgaySinh);\n                //this.tiepNhanBenhNhan.BenhNhan.NgayThangNamSinh = ngayThangNamSinh;\n\n                if (resultData.BenhNhan.NamSinh != null && resultData.BenhNhan.ThangSinh != null && resultData.BenhNhan.NgaySinh != null) {\n                    let ngayThangNamSinh = new Date(resultData.BenhNhan.NgayThangNamSinh);\n                    this.getAge(ngayThangNamSinh, new Date);\n\n                }\n                //console.log(\"------------: \", this.tiepNhanBenhNhan)\n                if (this.tiepNhanBenhNhan.BHYTMucHuong == null) {\n                    this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                    //this.isHaveBHYTForTheFistLoad = false;\n                }\n                if (this.tiepNhanBenhNhan.IsCheckedBHYT) {\n                    let dateToCheck = new Date(this.tiepNhanBenhNhan.BHYTNgayHetHan);\n                    //console.log(\"dateToCheck \", this.tiepNhanBenhNhan.BHYTNgayHetHan, dateToCheck)\n                    this.checkOutOfDateBHYT(dateToCheck);\n                }\n                else {\n                    this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                }\n                this.tiepNhanBenhNhan.YeuCauKhacGrid = [];\n                //\n                this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n                //Chi dinh dich vu\n                //this.setDataForDichVuKhac();\n                this.setDataForTaiLieuDinhKem();\n                this.refreshGrid();\n                this.dialog.closeAll();\n\n                // if(this.tiepNhanBenhNhan.CoBHYT == true && this.tiepNhanBenhNhan.TuNhap != true && isCheckTheBHYT)\n                // {\n                //     this.kiemTraTheBHYTKhiTaoYCTNMoi();\n                // }\n\n                //Do quận huyện nó không bind do cơ chế chạy trước sau nên ta set lại cho comboxQuanHuyen này\n                //this.bindComboboxQuanHuyen(resultData);   \n\n                this.xuLyKiemTraBenhNhanDuDieuKienTaoMoiYCTN();\n            },\n            () => {\n                this.dialog.closeAll();\n                //console.log(\"error\")\n            });\n    }\n\n    bindComboboxQuanHuyen(resultData){\n        if(this.comboboxQuanHuyen != undefined && this.comboboxQuanHuyen != null){\n            this.tiepNhanBenhNhan.TinhThanhId = resultData.TinhThanhId;\n            this.tiepNhanBenhNhan.QuanHuyenId = resultData.QuanHuyenId;\n            this.comboboxQuanHuyen.getDataForLookup();\n        } \n    }\n    \n    @HostListener('document:keydown', ['$event'])\n    keyEvent(event: KeyboardEvent) {\n        //console.log(\"keyEvent = \", event);\n        if (event.keyCode == 81 && event.ctrlKey && this.isScanF1 != true) {\n            event.preventDefault();\n            this.QuetMaQRCodeClick();\n        }\n        else if (event.keyCode == 81 && event.ctrlKey && this.isScanF1 == true) {\n            event.preventDefault();\n        }\n        //f1 - CoBHYT\n        else if (event.keyCode == 112 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.coBHYTChange(true);\n            this.tiepNhanBenhNhan.CoBHYT = true;\n            event.preventDefault();\n        }\n        //f2 - TuNhap\n        else if (event.keyCode == 113 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.tuNhapChange(true);\n            this.tiepNhanBenhNhan.TuNhap = true;\n            event.preventDefault();\n        }\n        //f3 - Có giấy chuyển viện\n        else if (event.keyCode == 114 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.tiepNhanBenhNhan.DuocChuyenVien = true;\n            event.preventDefault();\n        }\n        //f5 - Có giấy miễn cùng chi trả\n        else if (event.keyCode == 116 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.tiepNhanBenhNhan.BHYTDuocMienCungChiTra = true;\n            event.preventDefault();\n        }\n        //f6 - Có miễn giảm\n        else if (event.keyCode == 117 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.CoUuDaiChange(true);\n            this.tiepNhanBenhNhan.DuocUuDai = true;\n            event.preventDefault();\n        }\n        //f7 - Có BHTN\n        else if (event.keyCode == 118 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.tiepNhanBenhNhan.CoBHTN = true;\n            event.preventDefault();\n        }\n        //f8 - Chỉ định dịch vụ\n        else if (event.keyCode == 119 && event.ctrlKey) {\n            this.tabStrip.selectTab(0);\n\n            this.onTabSelect(0);\n            event.preventDefault();\n        }\n        else if (event.keyCode == 120 && event.ctrlKey) {\n            this.tabStrip.selectTab(1);\n\n            this.onTabSelect(1);\n            event.preventDefault();\n        }\n        else if (event.keyCode == 121 && event.ctrlKey) {\n            this.tabStrip.selectTab(2);\n\n            this.onTabSelect(2);\n            event.preventDefault();\n        }\n        else if (event.keyCode == 122 && event.ctrlKey) {\n            this.tabStrip.selectTab(3);\n\n            this.onTabSelect(3);\n            event.preventDefault();\n        }\n        else if (event.keyCode == 123 && event.ctrlKey) {\n            this.tabStrip.selectTab(4);\n\n            this.onTabSelect(4);\n            event.preventDefault();\n        }\n        else if (event.keyCode == 83 && event.ctrlKey && !event.shiftKey) {\n            if(this.errMessageKhongChoPhepTaoMoiYCTN == null || this.errMessageKhongChoPhepTaoMoiYCTN =='')\n            {\n                this.luuPhieu();\n            }\n            event.preventDefault();\n        }\n        else if (event.keyCode == 83 && event.ctrlKey && event.shiftKey) {\n            //console.log(\"-----Successfully---\");\n            if(this.errMessageKhongChoPhepTaoMoiYCTN == null || this.errMessageKhongChoPhepTaoMoiYCTN =='')\n            {\n                this.luuVaInPhieu();\n            }\n            event.preventDefault();\n        }\n        else if (event.keyCode == 27) {\n            this.huy();\n            event.preventDefault();\n        }\n    }\n\n    removeTaiLieu(data: HoSoYeuCauTiepNhanViewModel) {\n        //console.log(\"removeTaiLieu = \", data);\n        // this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans = this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.filter(p => p.TenGuid != data.TenGuid\n        //     && p.Ten != data.Ten && p.LoaiHoSoYeuCauTiepNhanId != data.LoaiHoSoYeuCauTiepNhanId\n        //     && p.MoTa != data.MoTa);\n        this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.splice(this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.indexOf(data), 1);\n        this.setDataForTaiLieuDinhKem();\n    }\n\n    uploadTaiLieuDone($event) {\n        this.themTaiLieu.TaiLieu = $event;\n        if (!(this.cdRef as ViewRef).destroyed) {\n            this.cdRef.detectChanges();\n        }\n    }\n\n    clearThemTaiLieu() {\n        this.themTaiLieu = new ThemTaiLieuDinhKem();\n    }\n\n    themTaiLieuButton() {\n        // if(this.themTaiLieu.LoaiId != null && this.themTaiLieu.TaiLieu != null){\n        //     console.log(this.themTaiLieu);\n\n        this.validationErrors = null;\n        this.apiService.post<any>(\"TiepNhanBenhNhan/GetNameLoaiTaiLieuDinhKem\", this.themTaiLieu).subscribe(\n            resultData => {\n                let taiLieuNew = new HoSoYeuCauTiepNhanViewModel();\n                taiLieuNew.Ma = this.themTaiLieu.TaiLieu.Ma;\n                taiLieuNew.Ten = this.themTaiLieu.TaiLieu.Ten;\n                taiLieuNew.TenGuid = this.themTaiLieu.TaiLieu.TenGuid;\n                taiLieuNew.MoTa = this.themTaiLieu.MoTa;\n                taiLieuNew.DuongDan = this.themTaiLieu.TaiLieu.DuongDan;\n                taiLieuNew.KichThuoc = this.themTaiLieu.TaiLieu.KichThuoc;\n                taiLieuNew.LoaiHoSoYeuCauTiepNhanId = this.themTaiLieu.LoaiId;\n                taiLieuNew.LoaiDisplay = resultData;\n                taiLieuNew.DuongDanTmp = this.themTaiLieu.TaiLieu.DuongDanTmp;\n\n                taiLieuNew.AddNew = true;\n                this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.push(taiLieuNew);\n                this.setDataForTaiLieuDinhKem();\n\n                this.clearThemTaiLieu();\n            },\n            (err: any) => {\n                if (err != undefined && err.ValidationErrors != null) {\n                    this.validationErrors = err.ValidationErrors;\n                }\n                else if (err != undefined && err.Errors == null) {\n                    //self.validationErrors.push({ \"Message\": err.Message });\n                    this.notificationService.showError(err.Message);\n                }\n            });\n\n\n        //}\n    }\n\n    viewTaiLieu(file: HoSoYeuCauTiepNhanViewModel) {\n        //console.log(\"viewTaiLieu = \", dataItem);\n        let duongDan = file.DuongDan;\n\n        if (file.AddNew) {\n            duongDan = file.DuongDanTmp;\n        }\n\n        const params = new HttpParams(\n            {\n                fromObject: {\n                    tenGuid: file.TenGuid,\n                    duongDan: duongDan,\n                }\n            });\n        // let response = await this.apiService.get<any>('TaiLieuDinhKem/GetTaiLieuUrl', params).toPromise();\n        this.apiService.get<any>('TaiLieuDinhKem/GetTaiLieuUrl', params).subscribe((resp) => {\n            if (resp) {\n\n                if (file.TenGuid.indexOf(\".pdf\") != -1 || file.TenGuid.indexOf(\".PDF\") != -1) {\n                    var html = \"<div class=\\\"showFile\\\">\";\n                    html += \"<div class=\\\"overlay\\\"></div>\";\n                    html += \"<div class=\\\"middle\\\">\";\n                    html += \"<div class=\\\"inner\\\">\";\n                    html += \"<span class=\\\"close\\\" onclick=\\\"$('.showFile').detach();\\\">X</span>\";\n                    html += \"<iframe src='\" + resp + \"' style=\\\"width:770px; height:570px;\\\" frameborder=\\\"0\\\"></iframe>\";\n                    html += \"</div>\";\n                    html += \"</div>\";\n                    html += \"</div>\"\n                    $(html).appendTo('app-main');\n                }\n                else {\n                    var html = \"<div class=\\\"showFile\\\">\";\n                    html += \"<div class=\\\"overlay\\\"></div>\";\n                    html += \"<div class=\\\"middle\\\">\";\n                    html += \"<div class=\\\"inner\\\">\";\n                    html += \"<span class=\\\"close\\\" onclick=\\\"$('.showFile').detach();\\\">X</span>\";\n                    html += \"<img src='\" + resp + \"' alt='' style=\\\"max-width: 770px;max-height: 570px;\\\"/>\";\n                    html += \"</div>\";\n                    html += \"</div>\";\n                    html += \"</div>\"\n                    $(html).appendTo('app-main');\n                }\n\n            }\n        })\n\n    }\n\n    setDataForTaiLieuDinhKem() {\n        //console.log(\"abc = \", this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.length);\n        this.gridDataTaiLieuDinhKem = {\n            data: this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans,\n            total: this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.length\n        };\n    }\n\n    clearThongTinTaiKhoanBenhNhan() {\n        this.thongTinTaiKhoanBenhNhan = null;\n    }\n\n    getSoTienBHYTSeThanhToan() {\n        this.apiService.get<any>(\"TiepNhanBenhNhan/GetSoTienBHYTSeThanhToan\").subscribe(\n            resultData => {\n                this.soTienBHYTSeThanhToan = resultData;\n                //console.log(\"getSoTienBHYTSeThanhToan = \", this.soTienBHYTSeThanhToan);\n            }\n        )\n    }\n\n    CoUuDaiChange($event) {\n        //console.log(\"CoUuDaiChange = \", $event)\n        if (this.tiepNhanBenhNhan.DoiTuongUuDaiId != null) {\n            if ($event == false) {\n                this.removeDoiTuongMienGiamForGirdChiDinhDichVu();\n            }\n            else {\n                this.addDoiTuongMienGiamForGridChiDinhDichVu();\n            }\n        }\n    }\n\n    addBHYTForGridChiDinhDichVu() {\n        //khac\n        for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n            const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n            if (item.Nhom == \"DỊCH VỤ KHÁM BỆNH\" && item.GiaBHYT != 0) {\n                item.BHYTThanhToan = item.GiaBHYT;\n                item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n                item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                item.DuocHuongBHYT = true;\n            }\n        }\n\n        this.setGiaBHYT();\n\n        this.setDataForDichVuKhac();\n        this.refreshGrid();\n    }\n\n    removeBHYTForGridChiDinhDichVu() {\n        //kham benh\n        // for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.length; index++) {\n        //     const item = this.tiepNhanBenhNhan.YeuCauKhamBenhGrid[index];\n        //     if (item.DuocHuongBHYT == true && item.BHYTThanhToan != 0) {\n        //         item.BHYTThanhToan = 0;\n        //         item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n        //         item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n        //     }\n        // }\n\n        //dich vu ky thuat\n\n        //khac\n        for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n            const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n            if (item.Nhom == \"DỊCH VỤ KHÁM BỆNH\" && item.BHYTThanhToan != 0) {\n                item.BHYTThanhToan = 0;\n                item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n                item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                item.DuocHuongBHYT = false;\n            }\n        }\n\n        this.setDataForDichVuKhac();\n        this.setDataForDichVuKhamBenh();\n        this.refreshGrid();\n    }\n\n    removeDoiTuongMienGiamForGirdChiDinhDichVu() {\n\n        //kham benh\n        // for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.length; index++) {\n        //     const item = this.tiepNhanBenhNhan.YeuCauKhamBenhGrid[index];\n        //     if (item.SoTienMG != 0 && item.TLMG != 0) {\n        //         item.TLMG = 0\n        //         item.SoTienMG = 0;\n        //         item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n        //     }\n        // }\n\n        // //dich vu ky thuat\n        // for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKyThuatGrid.length; index++) {\n        //     const item = this.tiepNhanBenhNhan.YeuCauKyThuatGrid[index];\n        //     if (item.SoTienMG != 0 && item.TLMG != 0) {\n        //         item.TLMG = 0\n        //         item.SoTienMG = 0;\n        //         item.BnThanhToan = item.ThanhTien - item.SoTienMG;\n        //         //console.log(item.SoTienMG, item.BnThanhToan, item.BHYTThanhToan, item.ThanhTien );\n        //     }\n        // }\n        //khac\n        for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n            const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n            if (item.SoTienMG != 0 && item.TLMG != 0 && item.IsGoiCoChietKhau != true) {\n                item.TLMG = 0;\n                item.TLMGDisplay = \"0 %\";\n                item.SoTienMG = 0;\n                item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n            }\n        }\n\n        this.setDataForDichVuKhac();\n        //this.setDataForDichVuKhamBenh();\n        //this.setDataForDichVuKyThuat();\n        this.refreshGrid();\n    }\n\n    addDoiTuongMienGiamForGridChiDinhDichVu() {\n        //khac\n        for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n            const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n            if (item.IsGoiCoChietKhau != true) {\n                let url: string;\n                if (item.Nhom == 'DỊCH VỤ KHÁM BỆNH') {\n                    url = \"TiepNhanBenhNhan/GetTyLeMienGiamKhamBenh/\";\n                }\n                else if (item.Nhom == 'DỊCH VỤ KỸ THUẬT') {\n                    url = \"TiepNhanBenhNhan/GetTyLeMienGiamKyThuat/\";\n                }\n                if (url != undefined) {\n                    this.apiService.post<number>(url + \"?doiTuongId=\"\n                        + this.tiepNhanBenhNhan.DoiTuongUuDaiId + \"&maDichVuId=\" + item.MaDichVuId).subscribe(\n                            resultData => {\n                                if (resultData != undefined && resultData != null && resultData != 0) {\n                                    item.TLMG = resultData;\n                                    item.TLMGDisplay = resultData + \" %\";\n                                    item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * resultData / 100;\n                                    item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                                }\n                                else {\n                                    item.TLMG = 0;\n                                    item.TLMGDisplay = \"0 %\";\n                                    item.SoTienMG = 0;\n                                    item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                                }\n\n                                this.setDataForDichVuKhac();\n                                this.refreshGrid();\n                            },\n                            () => {\n                            });\n                }\n\n            }\n        }\n\n    }\n\n    setDuocHuongBHYT(CoBHYT: boolean = false, LyDoVaoVien: number = 1) {\n        let dateNow = new Date((new Date()).toDateString());\n        // console.log(\"setDuocHuongBHYT = \", CoBHYT, LyDoVaoVien\n        // , this.tiepNhanBenhNhan.BHYTNgayHieuLuc, this.tiepNhanBenhNhan.BHYTNgayHieuLuc < dateNow, this.tiepNhanBenhNhan.BHYTNgayHetHan);\n        //console.log(\"setDuocHuongBHYT = \", this.tiepNhanBenhNhan.BHYTNgayHetHan >= dateNow, this.tiepNhanBe nhNhan.BHYTNgayHetHan, dateNow.getDate)\n\n        // dùng để kiểm tra hạn dùng của thẻ BHYT\n        let compareDate = false;\n        if (this.tiepNhanBenhNhan.BHYTNgayHetHan != undefined && this.tiepNhanBenhNhan.BHYTNgayHetHan != null) {\n            let now = new Date();\n            let ngay = now.getDate();\n            let thang = now.getMonth();\n            let nam = now.getFullYear();\n            let dateNowFormat = new Date(nam, thang, ngay);\n\n            let ngayDenHanTheBHYTTemp = this.tiepNhanBenhNhan.BHYTNgayHetHan;\n            var type = typeof ngayDenHanTheBHYTTemp;\n            if (type == \"string\") {\n                ngayDenHanTheBHYTTemp = new Date(this.tiepNhanBenhNhan.BHYTNgayHetHan,);\n            }\n\n            let ngayDenHanTheBHYT = ngayDenHanTheBHYTTemp.getDate();\n            let thangDenHanTheBHYT = ngayDenHanTheBHYTTemp.getMonth();\n            let namDenHanTheBHYT = ngayDenHanTheBHYTTemp.getFullYear();\n            let ngayDenHanTheBHYTFormat = new Date(namDenHanTheBHYT, thangDenHanTheBHYT, ngayDenHanTheBHYT);\n\n            compareDate = ngayDenHanTheBHYTFormat >= dateNowFormat;\n        }\n\n        if (CoBHYT && LyDoVaoVien == 1 && compareDate){ //&& this.tiepNhanBenhNhan.BHYTNgayHetHan >= dateNow) \n            this.themChiDinhDichVuModel.DuocHuongBHYT = true;\n            this.themChiDinhGoiModel.DuocHuongBHYT = true;\n\n            this.duocHuongBHYT = true;\n\n            this.themChiDinhDichVuModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n            this.themChiDinhGoiModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n\n            this.addBHYTForGridChiDinhDichVu();\n        }\n        else {\n            this.themChiDinhDichVuModel.DuocHuongBHYT = false;\n            this.themChiDinhGoiModel.DuocHuongBHYT = false;\n\n            this.duocHuongBHYT = false;\n\n            this.themChiDinhDichVuModel.BHYTMucHuong = null;\n            this.themChiDinhGoiModel.BHYTMucHuong = null;\n\n            this.removeBHYTForGridChiDinhDichVu();\n        }\n\n        if (!this.enableDuocHuongBHYT) {\n            this.themChiDinhDichVuModel.DuocHuongBHYT = false;\n            this.themChiDinhGoiModel.DuocHuongBHYT = false;\n        }\n        //console.log(\"setDuocHuongBHYT = \", this.duocHuongBHYT)\n    }\n\n    setDonGiaThanhTienGrid(item: ChiDinhDichVuGridVo) {\n        item.ThanhTien = item.DonGia * item.SoLuong;\n        //Chi tinh trong truong hop khong co bhyt\n        item.BnThanhToan = item.ThanhTien;\n    }\n\n    setGiaBHYT() {\n        //console.log(\"setGiaBHYT = \", this.tiepNhanBenhNhan.YeuCauKhacGrid);\n        //this.setGiaBHYTSoLanKham();\n        let soLanKham = 1;\n        let tyLeLan1 = 0;\n        let tyLeLan2 = 0;\n        let tyLeLan3 = 0;\n        let tyLeLan4 = 0;\n        let tyLeLan5 = 0;\n        ;\n        this.apiService.get<Array<number>>(\"TiepNhanBenhNhan/GetTyLeSoLanHuongBHYTDichVu\").subscribe(\n            resultData => {\n                if (resultData != null && resultData != undefined) {\n                    //console.log(\"setGiaBHYTSoLanKham = \", resultData, resultData[0],  resultData[1]);\n                    tyLeLan1 = resultData[0];\n                    tyLeLan2 = resultData[1];\n                    tyLeLan3 = resultData[2];\n                    tyLeLan4 = resultData[3];\n                    tyLeLan5 = resultData[4];\n                    //console.log(\"Trươc = \", this.tiepNhanBenhNhan.YeuCauKhacGrid);\n                    if (this.tiepNhanBenhNhan.YeuCauKhacGrid != null && this.tiepNhanBenhNhan.YeuCauKhacGrid != undefined) {\n                        for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n                            //console.log(\"Solan = \", soLanKham, \" , TyLe = \",tyLeLan1, tyLeLan2, tyLeLan3, tyLeLan4, tyLeLan5);\n                            const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n                            //console.log(\"index = \", item, soLanKham);\n                            this.setDonGiaThanhTienGrid(item);\n                            //\n                            if (item.DuocHuongBHYT == true && item.GiaBHYT != 0) {\n                                if (soLanKham == 1) {\n                                    item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100 * tyLeLan1 / 100;\n                                    soLanKham = soLanKham + 1;\n                                }\n                                else if (soLanKham == 2) {\n                                    item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100 * tyLeLan2 / 100;\n                                    soLanKham = soLanKham + 1;\n                                }\n                                else if (soLanKham == 3) {\n                                    item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100 * tyLeLan3 / 100;\n                                    soLanKham = soLanKham + 1;\n\n                                }\n                                else if (soLanKham == 4) {\n                                    item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100 * tyLeLan4 / 100;\n                                    soLanKham = soLanKham + 1;\n\n                                }\n                                else if (soLanKham == 5) {\n                                    item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100 * tyLeLan5 / 100;\n                                    soLanKham = soLanKham + 1;\n\n                                }\n                                else {\n                                    item.BHYTThanhToan = item.GiaBHYT * item.TiLeBaoHiemThanhToan / 100 * 0 / 100;\n                                    soLanKham = soLanKham + 1;\n\n                                }\n                                item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n                                item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                            }\n                        }\n                    }\n\n                    //this.setDataForDichVuKhac();\n                    //console.log(\"Sau = \", this.tiepNhanBenhNhan.YeuCauKhacGrid);\n                }\n                let bhytKhacKhamBenh = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n\n                if (bhytKhacKhamBenh != 0 && bhytKhacKhamBenh < this.soTienBHYTSeThanhToan) {\n                    for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n                        const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n                        if (item.DuocHuongBHYT == true && item.BHYTThanhToan != 0 && this.tiepNhanBenhNhan.BHYTMucHuong != null) {\n                            item.BHYTThanhToan = item.BHYTThanhToan;\n                            item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n                            item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                        }\n                    }\n                }\n                else if (bhytKhacKhamBenh != 0 && bhytKhacKhamBenh >= this.soTienBHYTSeThanhToan) {\n                    for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n                        const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n                        if (item.DuocHuongBHYT == true && item.BHYTThanhToan != 0 && this.tiepNhanBenhNhan.BHYTMucHuong != null) {\n                            item.BHYTThanhToan = item.BHYTThanhToan * this.tiepNhanBenhNhan.BHYTMucHuong / 100;\n                            item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n                            item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                        }\n                    }\n\n                }\n                //console.log(\"tiepNhanBenhNhan.BHYTMucHuong = \", this.tiepNhanBenhNhan.BHYTMucHuong);\n                this.setDataForDichVuKhac();\n                this.refreshGrid();\n            }\n\n\n        )\n\n\n    }\n\n    setGiaBHYTSoLanKham() {\n\n\n    }\n\n    getListTenTrieuChungKham() {\n        this.apiService.get<Array<string>>(\"TiepNhanBenhNhan/GetListTenTrieuChungKhamAsync\").subscribe(\n            resultData => {\n                this.TrieuChungTiepNhanResource = resultData;\n                //this.getDefaultDataForLyDoTiepNhan();\n            }\n        )\n    }\n\n    getDefaultDataForLyDoTiepNhan() {\n        this.apiService.get<any>('TiepNhanBenhNhan/GetLyDoTiepNhanDefaultData').subscribe((result) => {\n            this.tiepNhanBenhNhan.LyDoTiepNhanId = result.Result.Id;\n            this.tiepNhanBenhNhan.LyDoTiepNhanText = result.Result.Ten;\n        })\n    }\n\n    getDefaultDataTNBN() {\n        this.apiService.get<DefaultValueTNBNModel>('TiepNhanBenhNhan/GetDefaultDataTNBN').subscribe((result) => {\n            if (result != undefined) {\n                if (result.DanTocId != 0 && result.DanTocId != null) {\n                    this.tiepNhanBenhNhan.DanTocId = result.DanTocId;\n                }\n                if (result.HinhThucDenId != 0 && result.HinhThucDenId != null) {\n                    this.tiepNhanBenhNhan.HinhThucDenId = result.HinhThucDenId;\n                }\n                if (result.LyDoTiepNhanId != 0 && result.LyDoTiepNhanId != null) {\n                    this.tiepNhanBenhNhan.LyDoTiepNhanId = result.LyDoTiepNhanId;\n                }\n                if (result.QuocTichId != 0 && result.QuocTichId != null) {\n                    this.tiepNhanBenhNhan.QuocTichId = result.QuocTichId;\n                }\n                if (result.TinhThanhPhoId != 0 && result.TinhThanhPhoId != null) {\n                    this.tiepNhanBenhNhan.TinhThanhId = result.TinhThanhPhoId;\n                }\n            }\n        })\n    }\n\n    // click(){\n    //     this.tiepNhanBenhNhan.LyDoTiepNhanId = 27\n    // }\n\n    refreshGrid() {\n\n        if (!(this.cdRef as ViewRef).destroyed) {\n            this.cdRef.detectChanges();\n        }\n\n        if (this.gridChildKhamBenh != undefined) {\n            this.gridChildKhamBenh.setDataSource();\n        }\n\n        if (this.gridChildBHTN != undefined) {\n            this.gridChildBHTN.setDataSource();\n        }\n\n        if (this.gridChildCoChietKhau != undefined) {\n            this.gridChildCoChietKhau.setDataSource();\n        }\n\n        //console.log(\"grid ko chiet khau \", this.gridChildKhongChietKhau)\n\n        if (this.gridChildKhongChietKhau != undefined) {\n            this.gridChildKhongChietKhau.setDataSource();\n        }\n\n        if (this.gridChildKyThuat != undefined) {\n            this.gridChildKyThuat.setDataSource();\n        }\n\n        if (this.gridTaiLieuDinhKem != undefined) {\n            this.gridTaiLieuDinhKem.setDataSource();\n        }\n    }\n\n    setDefaultData() {\n        this.isDungTuyenDisplay = null;\n        this.isDungTuyen = false;\n        this.isSearchQRCodeEnable = true;\n        this.soTuoiDisplay = null;\n        this.hoTenDaTimKiem = null;\n        this.maSoTheDaTimKiem = null;\n        this.ngaySinhDaTimKiem = null;\n        this.soPhanTramHuongBHYT = null;\n\n        this.totalBenhNhan = 0;\n        this.lstBenhNhan = new Array<TimKiemBenhNhanGridVo>();\n        this.modelTimKiemBenhNhan = new TimKiemBenhNhanGridVo();\n\n        this.isOutOfDate = false;\n    }\n    ngAfterContentInit() {\n        var self = this;\n    }\n\n    changeQR($event) {\n        if ($event != null) {\n            this.modelQRCode = $event;\n\n            this.setValueBHYT(this.modelQRCode);\n        }\n        else {\n        }\n        this.isScanF1 = false;\n\n        //console.log(\"changeQR = \", $event);\n    }\n\n    checkOutOfDateBHYT(date: Date) {\n        //console.log(\"checkOutOfDateBHYT \");\n        let dateNow = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate());\n        if (date.getTime() < dateNow.getTime()) {\n            this.isActivePopup = true;\n            this.isOutOfDate = true;\n            this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.HetHieuLuc;\n            //this.notificationService.showError(\"Thẻ bảo hiểm này đã hết hiệu lực, bạn phải chuyển qua khám nhân dân\");\n\n            let dialogRef = this.dialog.open(TiepNhanBenhNhanPopupHetHieuLucComponent, {\n                disableClose: true,\n                width: '700px',\n                height: '300px',\n                data: this.tiepNhanBenhNhan,\n            });\n            dialogRef.afterClosed().subscribe(result => {\n                //console.log(\"close = \", result);\n                //this.clearData();\n                this.isActivePopup = false;\n                if (result == 1) {\n                    this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.HetHieuLuc;\n                    this.clearData();\n                }\n                else if (result == 2) {\n                    this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                    this.tiepNhanBenhNhan.CoBHYT = true;\n                    this.tiepNhanBenhNhan.TuNhap = true;\n                }\n                else {\n                    this.tiepNhanBenhNhan.CoBHYT = false;\n                    this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.HetHieuLuc;\n                }\n\n            });\n\n        }\n        else {\n            this.isOutOfDate = false;\n            this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.ConHieuLuc;\n\n        }\n        this.tiepNhanBenhNhan.isOutOfDate = this.isOutOfDate;\n        //console.log(date, dateNow);\n        //console.log(\"checkOutOfDateBHYT = \", date.getTime(), \" ---- \",  dateNow.getTime(), \" ---- \", this.isOutOfDate)\n    }\n    setDiaChiBHYTForModel(diaChi: string) {\n        let self = this;\n        var coDiaChi = self.kiemTraDiaChiDaCo(); // BVHD-3768\n        var coDiaChiGiamHo = self.kiemTraDiaChiDaCo(true); // BVHD-3768\n\n        if ((diaChi == undefined || diaChi == null || diaChi == '')) // && !coDiaChi) {\n        {\n            if (!coDiaChi) {\n                this.tiepNhanBenhNhan.TinhThanhId = null;\n                this.tiepNhanBenhNhan.QuanHuyenId = null;\n                this.tiepNhanBenhNhan.PhuongXaId = null;\n                this.tiepNhanBenhNhan.DiaChi = null;\n            }\n            return;\n        }\n        let lstDiaChi = diaChi.split(\",\");\n        if ((lstDiaChi.length < 3))// && !coDiaChi) {\n        {\n            if (!coDiaChi) {\n                this.tiepNhanBenhNhan.TinhThanhId = null;\n                this.tiepNhanBenhNhan.QuanHuyenId = null;\n                this.tiepNhanBenhNhan.PhuongXaId = null;\n                this.tiepNhanBenhNhan.DiaChi = null;\n            }\n            return;\n        }\n        let tinhThanhPho = lstDiaChi[lstDiaChi.length - 1].trim();\n        let quanHuyen = lstDiaChi[lstDiaChi.length - 2].trim();\n        let phuongXa = lstDiaChi[lstDiaChi.length - 3].trim();\n        let soNha = null;\n        if (lstDiaChi.length >= 4) {\n            let index = diaChi.indexOf(lstDiaChi[lstDiaChi.length - 3]);\n            soNha = diaChi.slice(0, index - 1);\n        }\n        let model = new DiaChiBHYT();\n        model.TinhThanh = tinhThanhPho;\n        model.QuanHuyen = quanHuyen;\n        model.PhuongXa = phuongXa;\n\n        this.apiService.post<DiaChiBHYT>(\"TiepNhanBenhNhan/GetDiaChiBHYT\", model).subscribe(\n            resultData => {\n                //console.log(\"DiaChiBHYT = \", resultData);\n                if(!coDiaChi)\n                {\n                    this.tiepNhanBenhNhan.TinhThanhId = null;\n                    this.tiepNhanBenhNhan.QuanHuyenId = null;\n                    this.tiepNhanBenhNhan.PhuongXaId = null;\n                    this.tiepNhanBenhNhan.DiaChi = null;\n                }\n                \n                var self = this;\n                setTimeout(function () {\n                    if (!coDiaChi) {\n                        self.tiepNhanBenhNhan.TinhThanhId = resultData.TinhThanhId;\n                        self.tiepNhanBenhNhan.QuanHuyenId = resultData.QuanHuyenId;\n                        self.tiepNhanBenhNhan.PhuongXaId = resultData.PhuongXaId;\n                        self.tiepNhanBenhNhan.DiaChi = soNha;\n                    }\n\n                    if (self.under6yearsold && !coDiaChiGiamHo) {\n                        self.cloneDiaChiNguoiGiamHo();\n                    }\n                }, 600);\n\n                //this.comboboxPhuongXa;\n                // if(this.comboboxPhuongXa != null && this.comboboxPhuongXa != undefined){\n                //     this.comboboxPhuongXa.queryInfo.ParameterDependencies = \"{tinhThanh:\"+ resultData.QuanHuyenId +\"}\";\n                // }\n                // if(this.comboboxQuanHuyen != null && this.comboboxQuanHuyen != undefined){\n                //     this.comboboxQuanHuyen.queryInfo.ParameterDependencies = \"{quanHuyen:\"+ resultData.TinhThanhId +\"}\";\n                // }\n                // this.comboboxPhuongXa.getDataForLookup();\n                // this.comboboxQuanHuyen.getDataForLookup();\n            },\n            () => {\n                //return null;\n                //console.log(\"error\")\n            });\n\n    }\n\n    kiemTraDiaChiDaCo(laGiamHo: boolean = false)\n    {\n        if(laGiamHo)\n        {\n            return this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId || this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId || this.tiepNhanBenhNhan.NguoiLienHePhuongXaId || this.tiepNhanBenhNhan.NguoiLienHeDiaChi;\n        }\n        else{\n            return this.tiepNhanBenhNhan.TinhThanhId || this.tiepNhanBenhNhan.QuanHuyenId || this.tiepNhanBenhNhan.PhuongXaId || this.tiepNhanBenhNhan.DiaChi;\n        }\n    }\n\n    setValueBHYT(model: BaoHiemYTe) {\n        //console.log(\"setValueBHYT = \", model, this.isSetValue);\n        if (model != null && model.maSoBHXH == null && this.isSetValue == false && model != undefined || this.isActivePopup == true) return;\n\n        this.isSetValue = true;\n\n        let STT = 1;\n        this.lichSuKCB = new Array<GridLichSuKCB>();\n        if (model.dsLichSuKCB2018 != null && model.dsLichSuKCB2018 != undefined) {\n            model.dsLichSuKCB2018.forEach(element => {\n                let childModel = new GridLichSuKCB();\n                childModel.STT = STT;\n                childModel.MaTheBHYT = model.maThe;\n                childModel.HoVaTen = model.hoTen;\n                childModel.NgayVaoVien = element.ngayVaoDisplay;\n                childModel.NgayRaVien = element.ngayRaDisplay;\n\n                childModel.CoSoKCB = element.coSoKCB;\n                childModel.MaCoSoKCB = element.maCSKCB;\n\n                childModel.KetQuaDieuTri = element.kqDieuTriDisplay;\n                childModel.KetQuaDieuTriNumber = +element.kqDieuTri;\n\n                childModel.LyDoVaoVien = element.lyDoVVDisplay;\n                childModel.LyDoVaoVienNumber = +element.lyDoVV;\n\n                childModel.TinhTrangRaVien = element.tinhTrangDisplay;\n                childModel.TinhTrangRaVienNumber = +element.tinhTrang;\n\n                childModel.NgayVaoDateTime = element.ngayVaoDateTime;\n                childModel.NgayRaDateTime = element.ngayRaDateTime;\n                this.lichSuKCB.push(childModel);\n                STT = STT + 1;\n            });\n            this.tiepNhanBenhNhan.GridLichSuKCB = this.lichSuKCB;\n        }\n\n        //\n        let STT2 = 1;\n        this.lichSuKiemTraTheBHYTGrid = new Array<GridLichSuKiemTraTheBHYT>();\n        if (model.dsLichSuKT2018 != null && model.dsLichSuKT2018 != undefined) {\n            model.dsLichSuKT2018.forEach(element => {\n                let childModel = new GridLichSuKiemTraTheBHYT();\n                childModel.STT = STT2;\n                childModel.UserKiemTra = element.userKT;\n                childModel.ThoiGianKiemTra = element.thoiGianKTDisplay;\n                childModel.thoiGianKTDateTime = element.thoiGianKTDateTime;\n\n                childModel.TenCSKCB = element.tenCSKCB;\n                childModel.MaCSKCB = element.maCSKCB;\n\n                childModel.NoiDungThongBao = element.thongBao;\n\n                this.lichSuKiemTraTheBHYTGrid.push(childModel);\n                STT2 = STT2 + 1;\n            });\n            this.tiepNhanBenhNhan.GridLichSuKiemTraTheBHYT = this.lichSuKiemTraTheBHYTGrid;\n        }\n\n\n        //console.log(\"setValueBHYT = \", model)\n        this.tiepNhanBenhNhan.BHYTMaSoThe = model.maThe;\n\n        //set muc do huong quyen loi bao hiem\n        let maTheArray = model.maThe.split(\"\");\n        if (maTheArray[2] == '1') {\n            this.soPhanTramHuongBHYT = 100;\n        }\n        else if (maTheArray[2] == '2') {\n            this.soPhanTramHuongBHYT = 100;\n        }\n        else if (maTheArray[2] == '3') {\n            this.soPhanTramHuongBHYT = 95;\n        }\n        else if (maTheArray[2] == '4') {\n            this.soPhanTramHuongBHYT = 80;\n        }\n        else {\n            this.soPhanTramHuongBHYT = 100;\n        }\n        this.tiepNhanBenhNhan.BHYTMucHuong = this.soPhanTramHuongBHYT;\n        this.themChiDinhDichVuModel.BHYTMucHuong = this.soPhanTramHuongBHYT;\n        this.themChiDinhGoiModel.BHYTMucHuong = this.soPhanTramHuongBHYT;\n\n        //\n\n        this.tiepNhanBenhNhan.HoTen = model.hoTen;\n\n        if (model.ngaySinh.indexOf(\"/\") == -1) {\n            this.tiepNhanBenhNhan.NamSinh = +model.ngaySinh;\n        }\n        else {\n            var dateParts = model.ngaySinh.split(\"/\");\n            if(dateParts.length == 3)\n            {\n                this.tiepNhanBenhNhan.NgayThangNamSinh = new Date(+dateParts[2], +dateParts[1] - 1, +dateParts[0]);\n                this.tiepNhanBenhNhan.NamSinh = this.tiepNhanBenhNhan.NgayThangNamSinh.getFullYear();\n                this.tiepNhanBenhNhan.NgayThangNamSinhDisplay = model.ngaySinh;\n            }\n        }\n\n        this.tiepNhanBenhNhan.GioiTinh = model.gioiTinh == 'Nam' ? GioiTinh.Nam : GioiTinh.Nu;\n        this.tiepNhanBenhNhan.GioiTinhDisplay = model.gioiTinh;\n\n\n        //this.tiepNhanBenhNhan.NoiDangKyBHYT = this.getBenhVienByMa(model.maDKBD);\n\n        this.apiService.post<string>(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + model.maDKBD).subscribe(\n            resultData => {\n                this.tiepNhanBenhNhan.NoiDangKyBHYT = resultData;\n\n            },\n            () => {\n                //return null;\n                //console.log(\"error\")\n            });\n\n        // this.apiService.post<any>(\"TiepNhanBenhNhan/GetThongTinTaiKhoanBenhNhan?maSoBHYT=\" + model.maThe).subscribe(\n        //     resultData => {\n        //         this.thongTinTaiKhoanBenhNhan = resultData;\n\n        //     },\n        //     () => {\n        //         //return null;\n        //         //console.log(\"error\")\n        //     });\n\n\n        this.checkTNBNToDay(model.maThe);\n\n        this.apiService.post<any>(\"TiepNhanBenhNhan/GetThongTinBenhNhan?maSoBHYT=\" + model.maThe + \"&benhNhanId=\"+ this.benhNhanId).subscribe(\n            resultData => {\n                if (resultData != null) {\n                    //this.tiepNhanBenhNhan.DiaChi = resultData.DiaChi; //BVHD-3768\n                    this.tiepNhanBenhNhan.SoDienThoai = resultData.SoDienThoai;\n                    this.tiepNhanBenhNhan.SoChungMinhThu = resultData.SoChungMinhThu;\n                    this.tiepNhanBenhNhan.Email = resultData.Email;\n                    this.tiepNhanBenhNhan.NgheNghiepId = resultData.NgheNghiepId;\n                    this.tiepNhanBenhNhan.SoDienThoai = resultData.SoDienThoai;\n                    this.tiepNhanBenhNhan.GioiTinh = resultData.GioiTinh;\n                    this.tiepNhanBenhNhan.NoiLamViec = resultData.NoiLamViec;\n                    this.tiepNhanBenhNhan.QuocTichId = resultData.QuocTichId;\n                }\n            },\n            () => {\n                //return null;\n                //console.log(\"error\")\n            });\n\n        this.apiService.post<any>(\"TiepNhanBenhNhan/GetIdBenhNhan?maSoBHYT=\" + model.maThe + \"&benhNhanId=\"+ this.benhNhanId).subscribe(\n            resultData => {\n                if(resultData)\n                {\n                    this.benhNhanId = resultData;\n                    this.getDanhSachGoiBenhNhan(this.benhNhanId);\n                }\n            },\n            () => {\n                //return null;\n                //console.log(\"error\")\n            });\n\n        this.tiepNhanBenhNhan.BHYTDiaChi = model.diaChi;\n        this.setDiaChiBHYTForModel(model.diaChi);\n\n        //popup\n        this.tiepNhanBenhNhan.MaDKBD = model.maDKBD;\n        this.tiepNhanBenhNhan.BHYTMaDKBD = model.maDKBD;\n\n\n        this.tiepNhanBenhNhan.NgayCoHieuLucDisplay = model.gtTheTu;\n        var dateParts2 = model.gtTheTu.split(\"/\");\n        this.tiepNhanBenhNhan.BHYTNgayHieuLuc = new Date(+dateParts2[2], +dateParts2[1] - 1, +dateParts2[0]);\n\n        if (model.gtTheDen != undefined && model.gtTheDen != null) {\n            this.tiepNhanBenhNhan.NgayHetHieuLucDisplay = model.gtTheDen;\n            var dateParts3 = model.gtTheDen.split(\"/\");\n            this.tiepNhanBenhNhan.BHYTNgayHetHan = new Date(+dateParts3[2], +dateParts3[1] - 1, +dateParts3[0]);\n        }\n\n\n        this.tiepNhanBenhNhan.NgayDu5NamDisplay = model.ngayDu5Nam;\n        this.tiepNhanBenhNhan.DiaChiDisplay = model.diaChi;\n        this.tiepNhanBenhNhan.cqBHXH = model.cqBHXH;\n        this.tiepNhanBenhNhan.BHYTCoQuanBHXH = model.cqBHXH;\n\n        if (model.ngayDu5Nam != null && model.ngayDu5Nam != undefined && model.ngayDu5Nam != \"\") {\n            var dateParts4 = model.ngayDu5Nam.split(\"/\");\n            this.tiepNhanBenhNhan.BHYTNgayDu5Nam = new Date(+dateParts4[2], +dateParts4[1] - 1, +dateParts4[0]);\n        }\n        //\n        this.apiService.post<any>(\"TiepNhanBenhNhan/IsDungTuyen?maBenhVien=\" + model.maDKBD).subscribe(\n            resultData => {\n                //console.log(\"IsDungTuyen\",resultData)\n                if (resultData == true) {\n                    this.isDungTuyenDisplay = \"Đúng tuyến\";\n                    this.isDungTuyen = true;\n                    this.tiepNhanBenhNhan.LyDoVaoVien = 1;\n                }\n                else {\n                    this.isDungTuyenDisplay = \"Đúng tuyến\";\n                    this.isDungTuyen = true;\n                    this.tiepNhanBenhNhan.LyDoVaoVien = 1;\n                }\n                this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n            },\n            () => {\n                //console.log(\"error\")\n            });\n\n        //\n        //test\n        //model.isConnectSuccessfully = false;\n        //\n        if (model.isConnectSuccessfully == false) {\n            //console.log(\"model.isConnectSuccessfully\");\n            this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n            this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n\n            let dialogRef = this.dialog.open(TiepNhanBenhNhanPopupKhongKiemTraDuocComponent, {\n                disableClose: true,\n                width: '700px',\n                height: '300px',\n                data: this.tiepNhanBenhNhan,\n            });\n            dialogRef.afterClosed().subscribe(result => {\n                //console.log(\"TiepNhanBenhNhanPopupKhongKiemTraDuocComponent = \",result);\n                if (result == true) {\n                    this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                    this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                    this.tiepNhanBenhNhan.CoBHYT = true;\n                    this.tiepNhanBenhNhan.TuNhap = true;\n                }\n                else if (result == false) {\n                    this.tiepNhanBenhNhan.CoBHYT = false;\n                    this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                    this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                }\n                else if (result != undefined) {\n                    //console.log(\"------- \", result);\n                    this.setValueBHYT(result);\n                }\n            });\n\n        }\n        else {\n            this.tiepNhanBenhNhan.IsCheckedBHYT = true;\n            this.checkOutOfDateBHYT(this.tiepNhanBenhNhan.BHYTNgayHetHan);\n        }\n\n        //Get tuoi\n        this.getAge(this.tiepNhanBenhNhan.NgayThangNamSinh, new Date);\n\n        //disable search qr code\n        this.isSearchQRCodeEnable = false;\n\n        //set value da tim kiem\n        this.hoTenDaTimKiem = model.hoTen;\n        this.maSoTheDaTimKiem = model.maThe;\n        this.ngaySinhDaTimKiem = this.tiepNhanBenhNhan.NgayThangNamSinh\n        //\n\n        //console.log(\"setValueBHYT = \", this.tiepNhanBenhNhan)\n        this.isSetValue = false;\n    }\n    uploadFileDone(tapTin: any) {\n        //console.log(tapTin);\n        this.tiepNhanBenhNhan.GiayChuyenVien = tapTin;\n        if (!(this.cdRef as ViewRef).destroyed) {\n            this.cdRef.detectChanges();\n        }\n        //console.log(\"aaaaa= \", this.tiepNhanBenhNhan)\n    }\n\n    uploadFileMienCungChiTraDone(tapTin: any) {\n        //console.log(tapTin);\n        this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra = tapTin;\n        this.cdRef.detectChanges();\n        //console.log(\"aaaaa= \", this.tiepNhanBenhNhan)\n    }\n\n    luuVaInPhieu() {\n        var self = this;\n        self.validationErrors = null;\n        let comfrim = \"lưu và in phiếu khám bệnh cho người bệnh\";\n        this.tiepNhanBenhNhan.NoiGioiThieu = null;\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Add)) {\n\n            if (this.isActiveAction != null) {\n                this.dialog.closeAll();\n                this.isActiveAction = null;\n            }\n\n            this.isActiveAction = this.dialog.open(ConfirmComponent, {\n                disableClose: false,\n                width: '400px',\n                data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessLockTemplate, [comfrim, \"\"]) }\n            }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n                if (result == \"Yes\") {\n                    this.tiepNhanBenhNhan.ThoiGianTiepNhan = new Date();\n                    self.apiService.post<any>(\"TiepNhanBenhNhan/LuuPhieuKham\", this.tiepNhanBenhNhan).subscribe(\n                        resultData => {\n                            self.loading = false;\n                            //console.log(\"result\", resultData)\n                            //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                            //this.getSharedPrintForm(resultData);\n                            let loaiDichVuKyThuat = 4;\n                            let loaiDichVuKhamBenh = 3;\n                            let kiemtraLoaiDichVuKhamBenh = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(x => x.LoaiDichVuKhac == loaiDichVuKhamBenh).length;\n                            let kiemtraLoaiDichVuKyThuat = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(x => x.LoaiDichVuKhac == loaiDichVuKyThuat).length;\n                            if (kiemtraLoaiDichVuKhamBenh > 0 && kiemtraLoaiDichVuKyThuat > 0) {\n                                this.getSharePrintPopup(resultData);\n                            }\n                            else {\n                                this.getSharedPrintForm(resultData);\n                            }\n                            this.idYeuCauTiepNhan = resultData;\n                            //confirm\n                            this.dialog.open(ConfirmComponent, {\n                                disableClose: false,\n                                width: '400px',\n                                data: { Title: \"Xác nhận\", Message: TiepNhanBenhNhanMessage.MessageDangKyTiepTheo }\n                            }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n                                if (result == \"Yes\") {\n                                    //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                                    //kiểm tra dịch vu trong yêu cầu tiếp nhận đó sài gói marketing trong gói\n                                    this.kiemTraDichVuTrongGoi();\n                                }\n                                else {\n                                    this.router.navigateByUrl('/', { skipLocationChange: true }).then(() =>\n                                        this.router.navigate(['them-yeu-cau-tiep-nhan']));\n                                    self.ngOnInit();\n                                }\n                            });\n\n                        },\n                        (err: any) => {\n                            //console.log(\"err\", err)\n                            // trường hợp bhyt chưa đóng là không cho tạo mới \n                            self.loading = false;\n                            if (err != undefined && err.Status == 503) {\n                                this.dialog.open(ConfirmComponent, {\n                                    disableClose: false,\n                                    width: '400px',\n                                    data: { Title: \"Xác nhận\", Message: TiepNhanBenhNhanMessage.MessageDaTaoYCTN }\n                                }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n                                    if (result == \"Yes\") {\n                                        //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                                        //self.router.navigateByUrl('tiep-nhan-trong-ngay/chinh-sua/' + );\n                                        this.checkTNBNToDay(this.tiepNhanBenhNhan.BHYTMaSoThe, this.tiepNhanBenhNhan.BenhNhanId);\n                                        this.getDanhSachGoiBenhNhan(this.tiepNhanBenhNhan.BenhNhanId);\n                                    }\n                                    else {\n                                    }\n                                });\n                            }\n                            else {\n                                if (err != undefined && err.ValidationErrors != null) {\n                                    let itemGiamHoValidate = err.ValidationErrors.find(p => p.Field == \"NguoiLienHeHoTen\"\n                                        || p.Field == \"NguoiLienHeQuanHeNhanThanId\" || p.Field == \"NguoiLienHeSoDienThoai\");\n                                    if (itemGiamHoValidate != null && itemGiamHoValidate != undefined) {\n                                        self.tabStrip.selectTab(2);;\n                                    }\n\n                                    self.validationErrors = err.ValidationErrors;\n                                }\n                                else if (err != undefined && err.Errors == null) {\n                                    //self.validationErrors.push({ \"Message\": err.Message });\n                                    self.notificationService.showError(err.Message);\n                                }\n                            }\n                        });\n\n\n\n                    //\n                }\n                else\n                {\n                    self.loading = false;\n                }\n            });\n        }\n        else\n        {\n            self.loading = false;\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    kiemTraDichVuTrongGoi() {        \n        this.apiService.get<any>(\"TiepNhanBenhNhan/KiemTraTatCaDichVuTrongGoi/\" + this.idYeuCauTiepNhan).subscribe(resultData => {            \n            if (resultData.Item1) {\n                this.router.navigateByUrl('/danh-sach-thu-goi-marketing/chi-tiet-cho-quyet-toan-marketing/' +  resultData.Item2);              \n            } else {\n                this.router.navigateByUrl('danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/' + this.idYeuCauTiepNhan + \"?loaiThanhToan=\" + 1 + \"&yctn=true\");\n            }\n        });\n    }\n\n\n    // testin(){\n    //   console.log(\"testin\");\n    //   this.onPrintPDF(60);\n    // }\n    // getSharedPrintForm(id: any) {\n    //   return new Promise(resolve => {\n    //     this.apiService.get<any>(\"TiepNhanBenhNhan/InPhieuKhamBenh?id=\" + id + \"&hostingName=\" + this.hostingName).subscribe(resultData => {\n    //       resolve(resultData);\n    //     });\n    //   });\n    // }\n    getSharePrintPopup(id: any) {\n        this.apiService.get<any>(\"TiepNhanBenhNhan/InPhieuKhamBenh?id=\" + id + \"&hostingName=\" + this.hostingName).subscribe(resultData => {\n            let dialogRef = this.dialog.open(InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent, {\n                width: '1000px',\n                height: 'auto',\n                data: { Model: resultData }\n            }).afterClosed().subscribe(result => {\n            });\n        });\n    }\n    getSharedPrintForm(id: any) {\n        this.apiService.get<any>(\"TiepNhanBenhNhan/InPhieuKhamBenh?id=\" + id + \"&hostingName=\" + this.hostingName).subscribe(resultData => {\n            //var self = this;\n            //console.log(\"onPrintPDF = \", resultData);\n\n            const tmpPhieuKham =\n                '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU ĐĂNG KÝ KHÁM</th></tr></table>';\n            const tmpPhieuCLS =\n                '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH CẬN LÂM SÀNG</th></tr></table>';\n\n            const tmpPhieuXNCoVId =\n                '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH XÉT NGHIỆM TEST NHANH KHÁNG NGUYÊN SARS-CoV-2 </th></tr></table>';\n  \n    \n            resultData = resultData.replaceAll(tmpPhieuKham, '').replaceAll(tmpPhieuCLS, '').replaceAll(tmpPhieuXNCoVId,'');\n            const WindowPrt = window.open('', '', 'toolbar=0,scrollbars=0,status=0');\n            if(WindowPrt != null  && WindowPrt != undefined)\n            {\n                WindowPrt.focus();\n                WindowPrt.close();\n                WindowPrt.document.write(resultData);\n                WindowPrt.document.close();\n    \n                var typeSize = \"A5\";\n                var typeLayout = \"landscape\";\n    \n                var contents = WindowPrt.document.documentElement.innerHTML;\n                var frame1 = this.renderer.createElement('iframe');\n                frame1.name = \"frame1\";\n                frame1.style.position = \"absolute\";\n                frame1.style.top = \"-1000000px\";\n                document.body.appendChild(frame1);\n                var frameDoc = frame1.contentWindow ? frame1.contentWindow : frame1.contentDocument.document ? frame1.contentDocument.document : frame1.contentDocument;\n                frameDoc.document.open();\n                frameDoc.document.write('<html><head><title>DIV Contents</title><style>*{ box-sizing: border-box;} @media print {@page{size:' + typeSize + ' ' + typeLayout + ' ;} .pagebreak {clear: both;page-break-after: always;}}</style><link href=\"https://fonts.googleapis.com/css?family=Libre Barcode 39\" rel=\"stylesheet\">');\n                frameDoc.document.write('</head><body>');\n                frameDoc.document.write(contents);\n                frameDoc.document.write('</body></html>');\n                frameDoc.document.close();\n                setTimeout(function () {\n                    window.frames[\"frame1\"].focus();\n                    window.frames[\"frame1\"].print();\n                    document.body.removeChild(frame1);\n                }, 500);\n            }\n        });\n\n\n    }\n\n\n    luuPhieu() {\n\n        var self = this;\n        self.validationErrors = null;\n        let comfrim = \"lưu phiếu khám bệnh cho người bệnh\";\n        if(self.tiepNhanBenhNhan.YeuCauKhacGrid == undefined || self.tiepNhanBenhNhan.YeuCauKhacGrid.length == 0)\n        {\n            comfrim = \"lưu thông tin cho người bệnh\";\n        }\n        self.tiepNhanBenhNhan.NoiGioiThieu = null;\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            if (this.isActiveAction != null) {\n                this.dialog.closeAll();\n                this.isActiveAction = null;\n            }\n            this.isActiveAction = this.dialog.open(ConfirmComponent, {\n                disableClose: false,\n                width: '400px',\n                data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessLockTemplate, [comfrim, \"\"]) }\n            }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n                if (result == \"Yes\") {\n                    self.tiepNhanBenhNhan.ThoiGianTiepNhan = new Date();\n                    self.apiService.post<any>(\"TiepNhanBenhNhan/LuuPhieuKham\", this.tiepNhanBenhNhan).subscribe(\n                        resultData => {\n                            self.loading = false;\n                            //console.log(\"result\", resultData)\n                            //self.router.navigate(['tiep-nhan-trong-ngay/']);\n\n                            // if(){\n\n                            // }\n                            this.idYeuCauTiepNhan = resultData;\n                            //confirm\n                            this.dialog.open(ConfirmComponent, {\n                                disableClose: false,\n                                width: '400px',\n                                data: { Title: \"Xác nhận\", Message: TiepNhanBenhNhanMessage.MessageDangKyTiepTheo }\n                            }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n                                if (result == \"Yes\") {\n                                    //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                                    // self.router.navigateByUrl('danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/' + this.idYeuCauTiepNhan + \"?loaiThanhToan=\" + 1 + \"&yctn=true\");\n                                    this.kiemTraDichVuTrongGoi();\n                                }\n                                else {\n                                    this.router.navigateByUrl('/', { skipLocationChange: true }).then(() =>\n                                        this.router.navigate(['them-yeu-cau-tiep-nhan']));\n                                    self.ngOnInit();\n                                }\n                            });\n\n                        },\n                        (err: any) => {\n                            self.loading = false;\n                            //console.log(\"err\", err)\n                            // self.validationErrors = err.ValidationErrors;\n                            if (err != undefined && err.Status == 503) {\n                                this.dialog.open(ConfirmComponent, {\n                                    disableClose: false,\n                                    width: '400px',\n                                    data: { Title: \"Xác nhận\", Message: TiepNhanBenhNhanMessage.MessageDaTaoYCTN }\n                                }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n                                    if (result == \"Yes\") {\n                                        //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                                        //self.router.navigateByUrl('tiep-nhan-trong-ngay/chinh-sua/' + );\n                                        this.checkTNBNToDay(this.tiepNhanBenhNhan.BHYTMaSoThe, this.tiepNhanBenhNhan.BenhNhanId);\n                                        this.getDanhSachGoiBenhNhan(this.tiepNhanBenhNhan.BenhNhanId);\n                                    }\n                                    else {\n                                    }\n                                });\n                            }\n                            else {\n                                if (err != undefined && err.ValidationErrors != null) {\n                                    let itemGiamHoValidate = err.ValidationErrors.find(p => p.Field == \"NguoiLienHeHoTen\"\n                                        || p.Field == \"NguoiLienHeQuanHeNhanThanId\" || p.Field == \"NguoiLienHeSoDienThoai\");\n                                    if (itemGiamHoValidate != null && itemGiamHoValidate != undefined) {\n                                        self.tabStrip.selectTab(2);;\n                                    }\n\n                                    self.validationErrors = err.ValidationErrors;\n                                }\n                                else if (err != undefined && err.Errors == null) {\n                                    //self.validationErrors.push({ \"Message\": err.Message });\n                                    self.notificationService.showError(err.Message);\n                                }\n                            }\n                        });\n\n\n\n                    //\n                }\n                else{\n                    self.loading = false;\n                }\n            });\n        }\n        else{\n            self.loading = false;\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n    xemThemThongTinBHYT() {\n        //console.log(\"xemThemThongTinBHYT\")\n        let dialogRef = this.dialog.open(TiepNhanBenhNhanPopupComponent, {\n            disableClose: false,\n            width: '800px',\n            height: '500px',\n            data: this.tiepNhanBenhNhan,\n        });\n        dialogRef.afterClosed().subscribe(result => {\n\n        });\n    }\n\n    huy() {\n        //this.router.navigate(['tiep-nhan-trong-ngay/']);\n        this.ngOnInit();\n\n    }\n    getBenhVienByMa(ma: string) {\n        ;\n        this.apiService.post<string>(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + ma).subscribe(\n            resultData => {\n                return resultData;\n\n            },\n            () => {\n                //return null;\n                //console.log(\"error\")\n            });\n        return null;\n    }\n\n\n    inputQrCode(qrCode: string) {\n        this.apiService.post<any>(\"BHYT/GetInfoFromURL/?model=\" + qrCode).subscribe(\n            resultData => {\n                if (resultData != undefined) {\n                    this.modelQRCode = resultData;\n                    this.setValueBHYT(this.modelQRCode);\n                }\n            },\n            (err: ApiError) => {\n                //\n                let dialogRef = this.dialog.open(TiepNhanBenhNhanErrorComponent, {\n                    disableClose: false,\n                    width: '700px',\n                    height: '300px',\n                    data: this.tiepNhanBenhNhan,\n                });\n                dialogRef.afterClosed().subscribe(result => {\n                    document.getElementById(\"SoTheBHYTisAutoFocus\").focus();\n                    if (result == 2) {\n                        this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                        this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                        this.tiepNhanBenhNhan.CoBHYT = true;\n                        this.tiepNhanBenhNhan.TuNhap = true;\n                    }\n                    else if (result == 1) {\n                        this.tiepNhanBenhNhan.CoBHYT = false;\n                        this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                        this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                    }\n                    else if (result != undefined) {\n                        //console.log(\"------- \", result);\n                        this.setValueBHYT(result);\n                    }\n                });\n                //\n\n            });\n\n    }\n    postTimKiem: any = null;\n    timeOutTimKiem: any = null;\n    timKiemBenhNhan(model: TimKiemBenhNhanGridVo) {\n        var self = this;\n        if (self.timeOutTimKiem != null) {\n            clearTimeout(self.timeOutTimKiem);\n            self.timeOutTimKiem = null;\n        }\n        self.timeOutTimKiem = setTimeout(function () {\n            self.setModelTimKiemBenhNhan();\n            self.lstBenhNhan = new Array<TimKiemBenhNhanGridVo>();\n            self.totalBenhNhan = 0;\n            if (self.postTimKiem != null) {\n                self.postTimKiem.unsubscribe();\n                self.postTimKiem = null;\n            }\n            self.postTimKiem = self.apiService.post<Array<TimKiemBenhNhanGridVo>>(\"TiepNhanBenhNhan/GetBenhNhanTimKiem\", model).subscribe(\n                resultData => {\n                    //console.log(\"timKiemBenhNhan = \", resultData);\n                    self.lstBenhNhan = resultData;\n                    if (resultData != undefined && resultData != null) {\n                        self.totalBenhNhan = resultData.length;\n                        let index = 1;\n                        self.lstBenhNhan.forEach(obj => {\n                            obj.STT = index;\n                            index = index + 1;\n                        });\n                    }\n                    //console.log(\"timKiemBenhNhan = \", this.lstBenhNhan);\n                },\n                (err: ApiError) => {\n                });\n        }, 500);\n\n    }\n\n    postTimKiemForEnter: any = null;\n    timeOutTimKiemForEnter: any = null;\n    timKiemBenhNhanForEnter(model: TimKiemBenhNhanGridVo) {\n        var self = this;\n        if (self.timeOutTimKiemForEnter != null) {\n            clearTimeout(self.timeOutTimKiemForEnter);\n            self.timeOutTimKiemForEnter = null;\n        }\n        self.timeOutTimKiemForEnter = setTimeout(function () {\n            self.setModelTimKiemBenhNhan();\n            self.lstBenhNhan = new Array<TimKiemBenhNhanGridVo>();\n            self.totalBenhNhan = 0;\n            if (self.postTimKiemForEnter != null) {\n                self.postTimKiemForEnter.unsubscribe();\n                self.postTimKiemForEnter = null;\n            }\n            self.postTimKiemForEnter = self.apiService.post<Array<TimKiemBenhNhanGridVo>>(\"TiepNhanBenhNhan/GetBenhNhanTimKiem\", model).subscribe(\n                resultData => {\n                    self.lstBenhNhan = resultData;\n                    if (resultData != undefined && resultData != null) {\n                        self.totalBenhNhan = resultData.length;\n                        let index = 1;\n                        self.lstBenhNhan.forEach(obj => {\n                            obj.STT = index;\n                            index = index + 1;\n                        });\n\n                        //\n                        if (resultData.length == 1) {\n                            // self.router.navigate(['tiep-nhan-trong-ngay/chinh-sua/' + resultData[0].Id]);\n                            self.checkTNBNToDay(resultData[0].MaBHYT, resultData[0].Id);\n                        }\n                        else if (resultData.length > 1) {\n                            self.timKiemBenhNhanPopup();\n                        }\n                    }\n                    //console.log(\"timKiemBenhNhan = \", this.lstBenhNhan);\n                },\n                (err: ApiError) => {\n                });\n        }, 500);\n\n    }\n\n    setModelTimKiemBenhNhan() {\n        this.modelTimKiemBenhNhan.MaBHYT = this.tiepNhanBenhNhan.BHYTMaSoThe;\n        this.modelTimKiemBenhNhan.HoTen = this.tiepNhanBenhNhan.HoTen;\n        this.modelTimKiemBenhNhan.NgaySinhDisplay = this.tiepNhanBenhNhan.NgayThangNamSinhDisplay;\n        this.modelTimKiemBenhNhan.NamSinh = this.tiepNhanBenhNhan.NamSinh;\n        //this.modelTimKiemBenhNhan.GioiTinh = this.tiepNhanBenhNhan.GioiTinh;\n        this.modelTimKiemBenhNhan.SoChungMinhThu = this.tiepNhanBenhNhan.SoChungMinhThu;\n        this.modelTimKiemBenhNhan.SoDienThoai = this.tiepNhanBenhNhan.SoDienThoai;\n        this.modelTimKiemBenhNhan.DiaChi = this.tiepNhanBenhNhan.DiaChi;\n    }\n\n    onKeyTimKiemBenhNhan($event) {\n        if ($event.keyCode === 13) {\n\n            if (this.totalBenhNhan <= 0) {\n                return;\n            }\n            else {\n                this.timKiemBenhNhanPopup();\n            }\n        }\n        else {\n            this.timKiemBenhNhan(this.modelTimKiemBenhNhan);\n        }\n    }\n\n    onKeyTimKiemBenhNhanForLogicNewCMNDVaSdt($event) {\n        //console.log(\"onKeyTimKiemBenhNhanForLogicNewCMNDVaSdt = \", $event.keyCode);\n        if ($event.keyCode === 13) {\n            this.timKiemBenhNhanForEnter(this.modelTimKiemBenhNhan);\n        }\n        else {\n            this.timKiemBenhNhan(this.modelTimKiemBenhNhan);\n        }\n    }\n\n    onKeySdt($event) {\n        this.timKiemBenhNhan(this.modelTimKiemBenhNhan);\n    }\n\n    //cheat for tab on [BVHD-1506]\n    onKeyScanner(event) {\n        //console.log(\"onKeyScanner = \", event);\n        if (event.keyCode === 9) {\n            //console.log(this.HoVaTenTextbox);\n            this.HoVaTenTextbox.focus();\n        }\n    }\n\n    onKeyLookBN(event) {\n        if (event.keyCode === 9) {\n            if (this.tiepNhanBenhNhan.CoBHYT == true) {\n                //console.log(this.NgaySinhCoBHYT);\n                //this.NgaySinhCoBHYT.focusManual();\n            }\n            else {\n                //console.log(this.NgaySinhKhongCoBHYT);\n                //this.NgaySinhKhongCoBHYT.focusManual();\n            }\n        }\n    }\n\n    onKeyHinhThucDen(event) {\n        // if (event.keyCode === 9) {\n        //     this.tabStrip.selectTab(0);\n        //     let self = this;\n        //     setTimeout(function () {\n        //         //console.log(\"setTimeout = \", self.dichVuCombobox);\n        //         if (self.dichVuCombobox != undefined) {\n        //             self.dichVuCombobox.focusManual();\n        //         }\n        //     }, 100);\n        // }\n    }\n\n    onKey(event: any, isSoTheBHYT: boolean, loai: number = 1) {\n        if (isSoTheBHYT == true) {\n            this.bindMucHuongFromSoTheBHYT(this.tiepNhanBenhNhan.BHYTMaSoThe);\n        }\n        //console.log(\"onKey = \", event);\n        // if(loai == 1){\n        //     this.modelTimKiemBenhNhan.MaBHYT = this.tiepNhanBenhNhan.BHYTMaSoThe;\n        // }\n        // else if(loai == 2){\n        //     this.modelTimKiemBenhNhan.HoTen = this.tiepNhanBenhNhan.HoTen;\n        // }\n        // else if(loai == 3){\n        //     this.modelTimKiemBenhNhan.NgaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n        //     //console.log(\"-------------: \",this.tiepNhanBenhNhan.NgayThangNamSinh);\n        // }\n        if (event.keyCode === 13) {\n            if (loai == 3 && this.tiepNhanBenhNhan.NgayThangNamSinh != null && this.tiepNhanBenhNhan.NgayThangNamSinh != undefined) {\n                this.getAge(this.tiepNhanBenhNhan.NgayThangNamSinh, new Date);\n            }\n            this.checkTNBNToDay(this.tiepNhanBenhNhan.BHYTMaSoThe);\n        }\n\n        this.timKiemBenhNhan(this.modelTimKiemBenhNhan);\n        //console.log(\"onKey = \", this.isCheckedBHYT);\n        if (this.isCheckedBHYT == true || this.tiepNhanBenhNhan.CoBHYT != true) return;\n\n        if (this.tiepNhanBenhNhan.TuNhap == true && this.isScanF1 == false && !(this.tiepNhanBenhNhan.BHYTMaSoThe != null && this.tiepNhanBenhNhan.BHYTMaSoThe.includes(\"$\"))) return;\n\n        this.isCheckedBHYT = true;\n        let isQrCodeScan = false;\n        if (isSoTheBHYT == true && this.tiepNhanBenhNhan.BHYTMaSoThe != null\n            && this.tiepNhanBenhNhan.BHYTMaSoThe != null && this.tiepNhanBenhNhan.BHYTMaSoThe.includes(\"$\")) {\n            //console.log(\"successfully\");\n            this.inputQrCode(this.tiepNhanBenhNhan.BHYTMaSoThe);\n            isQrCodeScan = true;\n        }\n        if (this.isSearchQRCodeEnable == true && isQrCodeScan == false) {\n            //console.log(\"enter submit\");\n            if (event.keyCode === 13) {\n                this.thongTinBenhNhan.MaThe = this.tiepNhanBenhNhan.BHYTMaSoThe;\n                this.thongTinBenhNhan.TenBenhNhan = this.tiepNhanBenhNhan.HoTen;\n                this.thongTinBenhNhan.NgaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n                this.thongTinBenhNhan.NamSinh = this.tiepNhanBenhNhan.NamSinh;\n\n                var datePipe = new DatePipe(\"en-US\");\n                this.thongTinBenhNhan.NgaySinhDisplay = datePipe.transform(this.tiepNhanBenhNhan.NgayThangNamSinh, 'dd/MM/yyyy');\n\n                //console.log(\"---------: \", this.thongTinBenhNhan.MaThe == null, this.thongTinBenhNhan.MaThe == \"\" );\n                if (this.thongTinBenhNhan.MaThe != null && this.thongTinBenhNhan.MaThe != \"\"\n                    && this.thongTinBenhNhan.TenBenhNhan != null && this.thongTinBenhNhan.TenBenhNhan != \"\"\n                    && (this.thongTinBenhNhan.NgaySinh != null || this.thongTinBenhNhan.NamSinh != null)) {\n\n\n                    let dialogRef = this.dialog.open(TiepNhanBenhNhanChoQuetComponent, {\n                        disableClose: true,\n                        width: '500px',\n                        height: '250px',\n                        data: this.thongTinBenhNhan,\n                    });\n                    dialogRef.afterClosed().subscribe(result => {\n                        //console.log(\"close = \", result);\n\n                        //console.log(\"close = \", this.tiepNhanBenhNhan);\n                        if (result === undefined) {\n                            //cheat vi khong hieu sao ra duoc\n                        }\n                        // else if (result == null || (result != null && result.maKetQua == \"050\")) {\n                        else if (result == null || (result != null && result.maKetQua !== \"000\" && result.maKetQua !== \"004\")) {\n                            //this.clearData();\n                            //this.notificationService.showError(TiepNhanBenhNhanMessage.MessageSaiThongTinBenhNhan);\n                            //\n                            //console.log(\"TiepNhanBenhNhanErrorComponent = \", this.tiepNhanBenhNhan);\n                            this.tiepNhanBenhNhan.MessageErrFromBHYT = result != null ? result.ghiChu : null;\n                            let dialogRef = this.dialog.open(TiepNhanBenhNhanErrorComponent, {\n                                disableClose: false,\n                                width: '700px',\n                                height: '300px',\n                                data: this.tiepNhanBenhNhan,\n                            });\n                            dialogRef.afterClosed().subscribe(result => {\n                                //document.getElementById(\"SoTheBHYTisAutoFocus\").focus();\n                                this.isCheckedBHYT = false;\n                                if (result == 2) {\n                                    this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                                    this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                                    this.tiepNhanBenhNhan.CoBHYT = true;\n                                    this.tiepNhanBenhNhan.TuNhap = true;\n                                }\n                                else if (result == 1) {\n                                    this.tiepNhanBenhNhan.CoBHYT = false;\n                                    this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                                    this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                                }\n                                else if (result != undefined) {\n                                    //console.log(\"------- \", result);\n                                    this.setValueBHYT(result);\n                                }\n                            });\n                            //\n\n                        }\n                        else {\n                            //console.log(\"onkey = \",event, this.tiepNhanBenhNhan.BHYTMaSoThe)\n                            this.isCheckedBHYT = false;\n                            this.setValueBHYT(result);\n                        }\n                    });\n\n\n\n                }\n\n                else {\n                    this.isCheckedBHYT = false;\n                }\n                //console.log(this.tiepNhanBenhNhan.BHYTMaSoThe);\n            }\n            else {\n                this.isCheckedBHYT = false;\n            }\n        }\n        else {\n            this.isCheckedBHYT = false;\n        }\n    }\n\n    bindMucHuongFromSoTheBHYT(soTheBHYT: string) {\n        if (soTheBHYT != undefined && soTheBHYT != null && soTheBHYT.length >= 3) {\n            let maTheArray = soTheBHYT.split(\"\");\n            if (maTheArray[2] == '1') {\n                this.tiepNhanBenhNhan.BHYTMucHuong = 100;\n            }\n            else if (maTheArray[2] == '2') {\n                this.tiepNhanBenhNhan.BHYTMucHuong = 100;\n            }\n            else if (maTheArray[2] == '3') {\n                this.tiepNhanBenhNhan.BHYTMucHuong = 95;\n            }\n            else if (maTheArray[2] == '4') {\n                this.tiepNhanBenhNhan.BHYTMucHuong = 80;\n            }\n            else {\n                this.tiepNhanBenhNhan.BHYTMucHuong = 100;\n            }\n        }\n    }\n\n    blur($event: any, isSoTheBHYT: boolean, loai: number = 1) {\n        if (isSoTheBHYT == true && this.changeMaTheBHYT != true) {\n            return;\n        }\n\n        if (isSoTheBHYT == true) {\n            this.bindMucHuongFromSoTheBHYT(this.tiepNhanBenhNhan.BHYTMaSoThe);\n        }\n\n        this.checkTNBNToDay(this.tiepNhanBenhNhan.BHYTMaSoThe);\n\n        if (loai == 3 && this.tiepNhanBenhNhan.NgayThangNamSinh != null && this.tiepNhanBenhNhan.NgayThangNamSinh != undefined) {\n            this.getAge(this.tiepNhanBenhNhan.NgayThangNamSinh, new Date);\n        }\n        //console.log(\"blur = \", this.isCheckedBHYT);\n        if (this.isCheckedBHYT == true || this.tiepNhanBenhNhan.CoBHYT != true) return;\n\n        if (this.tiepNhanBenhNhan.TuNhap == true && this.isScanF1 == false && !(this.tiepNhanBenhNhan.BHYTMaSoThe != null && this.tiepNhanBenhNhan.BHYTMaSoThe.includes(\"$\"))) return;\n\n        this.isCheckedBHYT = true;\n        if (this.isSearchQRCodeEnable == true && !(this.tiepNhanBenhNhan.BHYTMaSoThe != null && this.tiepNhanBenhNhan.BHYTMaSoThe.includes(\"$\"))) {\n            this.thongTinBenhNhan.MaThe = this.tiepNhanBenhNhan.BHYTMaSoThe;\n            this.thongTinBenhNhan.TenBenhNhan = this.tiepNhanBenhNhan.HoTen;\n            this.thongTinBenhNhan.NgaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n            this.thongTinBenhNhan.NamSinh = this.tiepNhanBenhNhan.NamSinh;\n\n            var datePipe = new DatePipe(\"en-US\");\n            this.thongTinBenhNhan.NgaySinhDisplay = datePipe.transform(this.tiepNhanBenhNhan.NgayThangNamSinh, 'dd/MM/yyyy');\n\n            if (this.thongTinBenhNhan.MaThe != null && this.thongTinBenhNhan.MaThe != \"\"\n                && this.thongTinBenhNhan.TenBenhNhan != null && this.thongTinBenhNhan.TenBenhNhan != \"\"\n                && (this.thongTinBenhNhan.NgaySinh != null || this.thongTinBenhNhan.NamSinh != null)) {\n\n\n                let dialogRef = this.dialog.open(TiepNhanBenhNhanChoQuetComponent, {\n                    disableClose: true,\n                    width: '500px',\n                    height: '250px',\n                    data: this.thongTinBenhNhan,\n                });\n                dialogRef.afterClosed().subscribe(result => {\n                    //console.log(\"close = \", result, typeof(result));\n                    if (result === undefined) {\n                        //console.log(\"undefined\");\n                        //cheat vi khong hieu sao ra duoc\n                    }\n                    // else if (result == null || (result != null && result.maKetQua == \"050\")) {\n                    else if (result == null || (result != null && result.maKetQua !== \"000\" && result.maKetQua !== \"004\")) {\n                        //this.clearData();\n                        //this.notificationService.showError(TiepNhanBenhNhanMessage.MessageSaiThongTinBenhNhan);\n                        //console.log(\"null\");\n                        //\n                        //console.log(\"TiepNhanBenhNhanErrorComponent = \", this.tiepNhanBenhNhan);\n                        this.tiepNhanBenhNhan.MessageErrFromBHYT = result != null ? result.ghiChu : null;\n                        let dialogRef = this.dialog.open(TiepNhanBenhNhanErrorComponent, {\n                            disableClose: false,\n                            width: '700px',\n                            height: '300px',\n                            data: this.tiepNhanBenhNhan,\n                        });\n                        dialogRef.afterClosed().subscribe(result => {\n                            //document.getElementById(\"SoTheBHYTisAutoFocus\").focus();\n                            this.isCheckedBHYT = false;\n                            if (result == 2) {\n                                this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                                this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                                this.tiepNhanBenhNhan.CoBHYT = true;\n                                this.tiepNhanBenhNhan.TuNhap = true;\n                            }\n                            else if (result == 1) {\n                                this.tiepNhanBenhNhan.CoBHYT = false;\n                                this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                                this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                            }\n                            else if (result != undefined) {\n                                //console.log(\"------- \", result);\n                                this.setValueBHYT(result);\n                            }\n                        });\n                        //\n                    }\n                    else {\n                        this.isCheckedBHYT = false;\n                        this.setValueBHYT(result);\n                    }\n                });\n            }\n            else {\n                this.isCheckedBHYT = false;\n            }\n        }\n        else {\n            this.isCheckedBHYT = false;\n        }\n    }\n\n    clearData() {\n        let soTheBHYT = this.tiepNhanBenhNhan.BHYTMaSoThe;\n        let hoVaTen = this.tiepNhanBenhNhan.HoTen;\n        let ngaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n        this.ngOnInit();\n\n        this.tiepNhanBenhNhan.BHYTMaSoThe = soTheBHYT;\n        this.tiepNhanBenhNhan.HoTen = hoVaTen;\n        this.tiepNhanBenhNhan.NgayThangNamSinh = ngaySinh;\n    }\n\n    TinhThanhPhoChange($event) {\n        if ($event == undefined || $event == null) {\n            //this.tiepNhanBenhNhan.TinhThanhId = $event;\n            this.tiepNhanBenhNhan.QuanHuyenId = null;\n            this.tiepNhanBenhNhan.PhuongXaId = null;\n        }\n        // else {\n\t\t// \tthis.comboboxQuanHuyen.getDataForLookup();\n\t\t// }\n\n        if (this.under6yearsold) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if(this.under6yearsold == false)\n        {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n\n    }\n\n    TinhThanhPhoNguoiLienHeChange($event) {\n        //console.log(\"TinhThanhPhoNguoiLienHeChange = \", $event);\n        this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId = null;\n        this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = null;\n    }\n\n    QuanHuyenChange($event) {\n        //this.tiepNhanBenhNhan.QuanHuyenId = $event;\n        // if($event == null || $event == undefined){\n        //     this.tiepNhanBenhNhan.PhuongXaId = null;\n        // }\n        // else{\n        //     this.tiepNhanBenhNhan.ph\n        // }\n\n        if ($event == undefined || $event == null) {\n            this.tiepNhanBenhNhan.PhuongXaId = null;\n        }\n\n        if (this.under6yearsold) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if(this.under6yearsold == false)\n        {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n    }\n\n    PhuongXaChange($event) {\n        this.tiepNhanBenhNhan.PhuongXaId = $event;\n        if ($event != null && $event != undefined) {\n            this.apiService.post<any>(\"TiepNhanBenhNhan/SetTinhThanhQuanHuyen?phuongXaId=\" + $event).subscribe(\n                resultData => {\n                    this.tiepNhanBenhNhan.TinhThanhId = resultData.TinhThanhId;\n                    this.tiepNhanBenhNhan.QuanHuyenId = resultData.QuanHuyenId;\n                    this.comboboxQuanHuyen.getDataForLookup();\n\n                    if(this.validationErrors != undefined && this.validationErrors != null && this.validationErrors.length > 0)\n                    {\n                        if (this.validationErrors && this.validationErrors.some(x => x.Field.includes('QuanHuyenId') || x.Field.includes('TinhThanhId'))) {\n                            for (const validationItem of this.validationErrors.filter(x => x.Field.includes('QuanHuyenId') || x.Field.includes('TinhThanhId'))) {\n                                this.validationErrors.splice(this.validationErrors.indexOf(validationItem), 1);\n                            }\n                        }\n                    }\n                },\n                (err: any) => {\n                });\n        }\n        else {\n            this.tiepNhanBenhNhan.TinhThanhId = null;\n            this.tiepNhanBenhNhan.QuanHuyenId = null;\n        }\n\n\n        if (this.under6yearsold) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if(this.under6yearsold == false)\n        {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n\n    }\n\n    QuanHuyenNguoiLienHeChange($event) {\n        //console.log(\"QuanHuyenNguoiLienHeChange = \", $event);\n        this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = null;\n    }\n\n    KhoaKhamChange($event) {\n        //this.tiepNhanBenhNhan.PhongKhamVaBacSiId = null;\n        this.apiService.post<any>(\"TiepNhanBenhNhan/SetPhongKham?KhoaKhamId=\" + $event).subscribe(\n            resultData => {\n                this.tiepNhanBenhNhan.PhongKhamVaBacSiId = resultData;\n            },\n            (err: any) => {\n            });\n    }\n    ThongTinBenhNhanHoTenChange($event: string) {\n        //console.log(\"ThongTinBenhNhanHoTenChange = \", $event);\n        if ($event != null) {\n            //this.tiepNhanBenhNhan.HoTen = $event.toUpperCase();\n        }\n        if (this.hoTenDaTimKiem == $event && this.ngaySinhDaTimKiem == this.tiepNhanBenhNhan.NgayThangNamSinh\n            && this.maSoTheDaTimKiem == this.tiepNhanBenhNhan.BHYTMaSoThe) {\n            this.isSearchQRCodeEnable = false;\n        }\n        else {\n            this.isSearchQRCodeEnable = true;\n        }\n    }\n\n    ThongTinBenhNhanMaSoTHeChange($event) {\n        this.changeMaTheBHYT = true;\n        if ($event != null) {\n            this.tiepNhanBenhNhan.BHYTMaSoThe = $event.toUpperCase();\n        }\n        if (this.maSoTheDaTimKiem == $event && this.ngaySinhDaTimKiem == this.tiepNhanBenhNhan.NgayThangNamSinh\n            && this.hoTenDaTimKiem == this.tiepNhanBenhNhan.HoTen) {\n            this.isSearchQRCodeEnable = false;\n        }\n        else {\n            this.isSearchQRCodeEnable = true;\n        }\n    }\n    ThongTinBenhNhanNgaySinhChange($event) {\n        if (this.hoTenDaTimKiem == this.tiepNhanBenhNhan.HoTen && this.ngaySinhDaTimKiem == $event\n            && this.maSoTheDaTimKiem == this.tiepNhanBenhNhan.BHYTMaSoThe) {\n            this.isSearchQRCodeEnable = false;\n        }\n        else {\n            this.isSearchQRCodeEnable = true;\n        }\n        if (this.tiepNhanBenhNhan.NgayThangNamSinh != null) {\n            this.tiepNhanBenhNhan.NamSinh = this.tiepNhanBenhNhan.NgayThangNamSinh.getFullYear();\n            this.getAge(this.tiepNhanBenhNhan.NgayThangNamSinh, new Date);\n        }\n        if ($event == null || $event == undefined) {\n            this.under6yearsold = false;\n            if (this.under6yearsold == false) {\n                this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n            }\n\n            // kiểm tra khi change ngày tháng năm sinh, nếu ko nhập vào data mà khi đó filed năm sinh đã có thì sẽ ko clear data năm sinh\n            if(this.tiepNhanBenhNhan.NamSinh == undefined || this.tiepNhanBenhNhan.NamSinh == null)\n            {\n                this.tiepNhanBenhNhan.NamSinh = null;\n            }\n        }\n        //console.log(\"ThongTinBenhNhanNgaySinhChange = \", $event, \"type of: \", typeof($event));\n    }\n    QuetMaQRCodeClick() {\n        let elementBarcode: HTMLElement = document.getElementById('barcodeActive') as HTMLElement;\n        if (elementBarcode != undefined) {\n            elementBarcode.click();\n            this.isScanF1 = true;\n        }\n    }\n\n    test($event) {\n        console.log(\"test = \", $event);\n    }\n\n\n    setUpDataTooltip(dataItem) {\n        this.displayToolTipGrid = dataItem.TenGoiChietKhau;\n    }\n\n\n    loaiTiepNhanChange($event) {\n        if ($event == 1) {\n            this.tiepNhanBenhNhan.YeuCauKyThuatGrid = [];\n            this.tiepNhanBenhNhan.YeuCauKhacGrid = [];\n        }\n        else if ($event == 2) {\n            this.tiepNhanBenhNhan.YeuCauKhamBenhGrid = [];\n            this.tiepNhanBenhNhan.YeuCauKhacGrid = [];\n        }\n        else {\n            this.tiepNhanBenhNhan.YeuCauKhamBenhGrid = [];\n            this.tiepNhanBenhNhan.YeuCauKyThuatGrid = [];\n        }\n\n        this.setDataForDichVuKhac();\n        this.setDataForDichVuKyThuat();\n        this.setDataForDichVuKhamBenh();\n        this.refreshGrid();\n\n        this.removeThemDichVuValue();\n        this.removeThemGoiValue();\n    }\n\n    removeThemDichVuValue() {\n        //console.log(\"removeThemDichVuValue\");\n        this.themChiDinhDichVuModel = new ThemChiDinhDichVu();\n        //this.setDuocHuongBHYT();\n        this.themChiDinhDichVuModel.ThanhTien = null;\n        //this.themChiDinhDichVuModel.DoiTuongUuDaiId = this.tiepNhanBenhNhan.DoiTuongUuDaiId;\n\n        this.loaiTiepNhan = null;\n        this.isGoiCoChietKhau = null;\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n    }\n\n    removeThemGoiValue() {\n        //console.log(\"removeThemDichVuValue\");\n        this.themChiDinhGoiModel = new ThemChiDinhDichVu();\n        //this.setDuocHuongBHYT();\n        this.themChiDinhGoiModel.ThanhTien = null;\n        //this.themChiDinhGoiModel.DoiTuongUuDaiId = this.tiepNhanBenhNhan.DoiTuongUuDaiId;\n\n        this.loaiTiepNhan = null;\n        this.isGoiCoChietKhau = null;\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n    }\n\n    checkValidAddChiDinhDichVuKhac(id: number) {\n        let nhom = 'DỊCH VỤ KHÁM BỆNH';\n        if (this.loaiTiepNhan == 2) {\n            nhom = 'DỊCH VỤ KỸ THUẬT'\n        }\n        else if (this.loaiTiepNhan == 1) {\n            nhom = 'DỊCH VỤ KHÁM BỆNH';\n        }\n        else {\n            nhom = 'DỊCH VỤ GIƯỜNG';\n        }\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", this.tiepNhanBenhNhan.YeuCauKhacGrid, this.loaiTiepNhan, id);\n        let model = this.tiepNhanBenhNhan.YeuCauKhacGrid\n            //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n            .find(obj => obj.MaDichVuId == id && obj.Nhom == nhom);\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", model, nhom);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n\n    checkValidAddGoiCoChietKhau(id: number) {\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", this.tiepNhanBenhNhan.YeuCauKhacGrid, this.loaiTiepNhan, id);\n        let model = this.tiepNhanBenhNhan.YeuCauKhacGrid\n            //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n            .find(obj => obj.GoiCoChietKhauId == id);\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", model, nhom);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n\n    checkValidAddGoiKhongCoChietKhau(id: number, nhom: string) {\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", this.tiepNhanBenhNhan.YeuCauKhacGrid, nhom, id);\n        let model = this.tiepNhanBenhNhan.YeuCauKhacGrid\n            .filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n            .find(obj => obj.MaDichVuId == id && obj.Nhom == nhom);\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", model, nhom);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n\n    checkValidAddChiDinhDichVuKhamBenh(id: number) {\n        ;\n        let model = this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null).find(obj => obj.MaDichVuId == id);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n\n    checkValidAddChiDinhDichVuKyThuat(id: number) {\n        //console.log(\"checkValidAddChiDinhDichVuKhamBenh = \", this.tiepNhanBenhNhan.YeuCauKhamBenhGrid,id);\n        let model = this.tiepNhanBenhNhan.YeuCauKyThuatGrid.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null).find(obj => obj.MaDichVuId == id);\n        //console.log(\"checkValidAddBHTN = \", index);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n\n\n\n    // themChiDinhDichVu() {\n    //     var self = this;\n\n    //     let isValid = this.checkValidAddChiDinhDichVuKhamBenh(this.themChiDinhDichVuModel.MaDichVuId);\n    //     if (isValid == false) return;\n\n    //     self.validationErrors = null;\n\n    //     self.apiService.post<ChiDinhDichVuGridVo>(\"TiepNhanBenhNhan/ThemDichVu\", this.themChiDinhDichVuModel).subscribe(\n    //         resultData => {\n    //             if (resultData != undefined && resultData != null) {\n    //                 //console.log(resultData);\n    //                 this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.push(resultData);\n    //                 this.setDataForDichVuKhamBenh();\n    //                 this.setGiaBHYT();\n    //                 this.refreshGrid();\n    //                 this.removeThemDichVuValue();\n    //             }\n    //             else {\n    //             }\n    //         },\n    //         (err: any) => {\n    //             ;\n    //             // self.validationErrors = err.ValidationErrors;\n    //             //console.log(err);\n    //             if (err != undefined && err.ValidationErrors != null) {\n    //                 self.validationErrors = err.ValidationErrors;\n    //             }\n    //             else if (err != undefined && err.Errors == null) {\n    //                 //self.validationErrors.push({ \"Message\": err.Message });\n    //                 self.notificationService.showError(err.Message);\n    //             }\n    //         });\n    // }\n\n    themChiDinhDichVuGoiNew() {\n        if (this.isGoiCoChietKhau) {\n            this.themChiDinhDichVuKhacKhamBenh(2);\n        }\n        else if (this.isGoiCoChietKhau == false || this.isGoiCoChietKhau == null) {\n            this.themChiDinhDichVuKhacKhamBenh(1);\n        }\n    }\n\n    themChiDinhDichVuNew() {\n        //console.log(\"themChiDinhDichVuNew = \", this.loaiTiepNhan, this.danhSachDichVuDaChonTrongLanPopup);\n        // if(this.tiepNhanBenhNhan.BenhNhanId != null && this.tiepNhanBenhNhan.BenhNhanId != 0){\n\n        // }\n        // else{\n        //     if (this.loaiTiepNhan == 1) {\n        //         this.themChiDinhDichVuKhacKhamBenh(3);\n        //     }\n        //     else if (this.loaiTiepNhan == 2) {\n        //         this.themChiDinhDichVuKhacKhamBenh(4);\n        //     }\n        //     else {\n        //         this.themChiDinhDichVuKhacKhamBenh(5);\n        //     }\n        // }\n        let model = new CheckDuSoLuongTonTrongGoi();\n        model.DichVuThem = this.themChiDinhDichVuModel;\n        model.DichVuThem.benhNhanId = this.tiepNhanBenhNhan.BenhNhanId;\n        if (this.loaiTiepNhan == 1) {\n            //1: KB, 2: DVKT, 3: DVG\n            model.DichVuThem.TenNhomDichVu = 'DỊCH VỤ KHÁM BỆNH'\n        }\n        else if (this.loaiTiepNhan == 2) {\n            model.DichVuThem.TenNhomDichVu = 'DỊCH VỤ KỸ THUẬT'\n        }\n        else {\n            model.DichVuThem.TenNhomDichVu = 'DỊCH VỤ GIƯỜNG'\n        }\n\n\n        model.DanhSachDichVuChonTrongLanPopup = this.danhSachDichVuDaChonTrongLanPopup;\n\n        //check trung\n        let self = this;\n        let itemExist = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o.MaDichVuId == model.DichVuThem.MaDichVuId && o.Nhom == model.DichVuThem.TenNhomDichVu);\n\n        if (itemExist.length > 0) {\n            self.dialog.open(PopupDichVuCheckTrungComponent, {\n                disableClose: false,\n                width: '400px',\n            }).afterClosed().subscribe(result => {\n                if (result == true) {\n                    this.themDichVu(model);\n                }\n                else {\n\n                }\n            });\n        }\n        else {\n            this.themDichVu(model);\n        }\n\n\n\n    }\n\n    themDichVu(model) {\n        let self = this;\n        let dataRes = new DichVuTrongGoiKhiThem();\n\n        // cập nhật ngày 02/06/2021: ko kiểm tra dịch vụ có trong gói nữa\n        if (this.loaiTiepNhan == 1) {\n            this.themChiDinhDichVuKhacKhamBenh(3);\n        }\n        else if (this.loaiTiepNhan == 2) {\n            this.themChiDinhDichVuKhacKhamBenh(4);\n        }\n        else {\n            this.themChiDinhDichVuKhacKhamBenh(5);\n        }\n\n        // this.apiService.post<DichVuTrongGoiKhiThem>(\"TiepNhanBenhNhan/CheckDuSoLuongTonTrongGoiForCreate\", model).subscribe(\n        //     resultData => {\n        //         if (resultData != undefined && resultData != null) {\n        //             //console.log(\"DichVuTrongGoiKhiThem = \", resultData);\n        //             dataRes = resultData;\n        //             this.dialog.open(ConfirmComponent, {\n        //                 disableClose: false,\n        //                 width: '400px',\n        //                 data: { Title: \"Xác nhận\", Message: CommonService.format(TiepNhanBenhNhanMessage.MessageConfirmThemVaoGoi, [resultData.TenDichVu, resultData.TenChuongTrinh, this.tiepNhanBenhNhan.HoTen]) }\n        //             }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n        //                 if (result == \"Yes\") {\n        //                     //\n        //                     self.danhSachDichVuGoiDaChon = new Array<ThemChiDinhDichVu>();\n\n        //                     let item = new ThemChiDinhDichVu();\n        //                     item.LaGoi = true;\n        //                     item.TenNhomDichVu = model.DichVuThem.TenNhomDichVu;\n        //                     item.MaDichVuId = model.DichVuThem.MaDichVuId;\n        //                     item.SoLuong = model.DichVuThem.SoLuong;\n        //                     item.chuongTrinhGoiDichVuId = dataRes.ChuongTrinhGoiDichVuId;\n        //                     //cheat cho lẹ\n        //                     item.DuocHuongBHYT = model.DichVuThem.DuocHuongBHYT;\n        //                     item.YeuCauGoiDichVuId = dataRes.YeuCauGoiDichVuId;\n        //                     item.ThuocGoi = dataRes.TenChuongTrinh;\n\n        //                     self.danhSachDichVuGoiDaChon.push(item);\n        //                     self.themChiDinhDichVuKhacKhamBenh(6, self.danhSachDichVuGoiDaChon);\n        //                     self.addDanhSachTongCongFromDanhSachDaChon(self.danhSachDichVuGoiDaChon);\n        //                     //self.router.navigate(['tiep-nhan-trong-ngay/']);\n        //                     //self.router.navigateByUrl('danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/' + this.idYeuCauTiepNhan + \"?loaiThanhToan=\" + 1 + \"&yctn=true\");\n        //                 }\n        //                 else {\n        //                     //self.ngOnInit();\n        //                     if (this.loaiTiepNhan == 1) {\n        //                         this.themChiDinhDichVuKhacKhamBenh(3);\n        //                     }\n        //                     else if (this.loaiTiepNhan == 2) {\n        //                         this.themChiDinhDichVuKhacKhamBenh(4);\n        //                     }\n        //                     else {\n        //                         this.themChiDinhDichVuKhacKhamBenh(5);\n        //                     }\n        //                 }\n        //             });\n        //         }\n        //         else {\n        //             if (this.loaiTiepNhan == 1) {\n        //                 this.themChiDinhDichVuKhacKhamBenh(3);\n        //             }\n        //             else if (this.loaiTiepNhan == 2) {\n        //                 this.themChiDinhDichVuKhacKhamBenh(4);\n        //             }\n        //             else {\n        //                 this.themChiDinhDichVuKhacKhamBenh(5);\n        //             }\n        //         }\n        //     },\n        //     (err: any) => {\n        //         if (err != undefined && err.ValidationErrors != null) {\n        //             this.validationErrors = err.ValidationErrors;\n        //         }\n        //         else if (err != undefined && err.Errors == null) {\n        //             this.notificationService.showError(err.Message);\n        //         }\n        //     });\n\n    }\n\n    themChiDinhDichVuKhacKhamBenh(loaiDichVuKhac: number, lstDataGoi: Array<ThemChiDinhDichVu> = null) {\n        //1: goi khong co chiet khau, 2: goi co chiet khau, 3: dich vu kham benh, 4: dich vu ky thuat, 5: dich vu giuong\n        //bỏ check trùng 29/10/2020 Tuan said: \"e sửa lại ko cần check trùng luôn : 2:04PM\"\n        // if (loaiDichVuKhac == 2) {\n        //     let isValid = this.checkValidAddGoiCoChietKhau(this.themChiDinhGoiModel.MaDichVuGoiId);\n        //     if (isValid == false) {\n        //         this.notificationService.showError(TiepNhanBenhNhanMessage.MessageGoiTonTai);\n        //         return;\n        //     };\n        // }\n        // else if(loaiDichVuKhac == 1){\n        //     //let isValid = this.checkValidAddChiDinhDichVuKhac(this.themChiDinhGoiModel.MaDichVuId);\n        //     //if (isValid == false) return;\n        // }\n        // else {\n        //     let isValid = this.checkValidAddChiDinhDichVuKhac(this.themChiDinhDichVuModel.MaDichVuId);\n        //     if (isValid == false && loaiDichVuKhac != 1 && loaiDichVuKhac != 2){\n        //         this.notificationService.showError(TiepNhanBenhNhanMessage.MessageDichVuTonTai);\n        //         return;\n        //     };\n        // }\n        this.showbuttonLuuVaInPhieuXetNghiem = this.dichVuSarsCoVs.includes(this.themChiDinhDichVuModel.MaDichVuId);\n        if(this.showbuttonLuuVaInPhieuXetNghiem == true)\n        {\n            this.dialog\n            .open(XnCovidPopupComponent, {\n                width: \"600px\",\n                data: { LoaiMauXetNghiem:this.loaiBenhPham,LoaiMauXetNghiemText:this.loaiBenhPhamText}\n            })\n            .afterClosed()\n            .subscribe((result) => {\n                if (result != undefined) {\n                     this.tiepNhanBenhNhan.BieuHienLamSang = result.BieuHienLamSang;\n                     this.tiepNhanBenhNhan.DichTeSarsCoV2 = result.DichTeSarsCoV2;\n                }\n\n            });\n        }\n        \n        this.validationErrors = null;\n\n        let urlDefault = \"TiepNhanBenhNhan/ThemDichVu\";\n        if (loaiDichVuKhac == 4) {\n            urlDefault = \"TiepNhanBenhNhan/ThemDichVuKyThuat\";\n        }\n        else if (loaiDichVuKhac == 5) {\n            urlDefault = \"TiepNhanBenhNhan/ThemDichVuGiuong\";\n        }\n        //Goi new\n        else if (loaiDichVuKhac == 6) {\n            urlDefault = \"TiepNhanBenhNhan/ThemDichVuTuGoi\";\n        }\n        else if (loaiDichVuKhac == 1) {\n            urlDefault = \"TiepNhanBenhNhan/ThemGoiKhongChietKhau\";\n            this.themChiDinhDichVuModel.LaGoi = true;\n            this.themChiDinhGoiModel.LaGoi = true;\n            this.themChiDinhDichVuModel.MaDichVuId = this.themChiDinhDichVuModel.MaDichVuGoiId;\n            this.themChiDinhGoiModel.MaDichVuId = this.themChiDinhGoiModel.MaDichVuGoiId;\n        }\n        else if (loaiDichVuKhac == 2) {\n            urlDefault = \"TiepNhanBenhNhan/ThemGoiCoChietKhau\";\n            this.themChiDinhDichVuModel.LaGoi = true;\n            this.themChiDinhGoiModel.LaGoi = true;\n            this.themChiDinhDichVuModel.MaDichVuId = this.themChiDinhDichVuModel.MaDichVuGoiId;\n            this.themChiDinhGoiModel.MaDichVuId = this.themChiDinhGoiModel.MaDichVuGoiId;\n        }\n\n        if (loaiDichVuKhac == 6) {\n            this.apiService.postArray<ChiDinhDichVuGridVo[]>(urlDefault, lstDataGoi).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        //console.log(resultData);\n                        //\n                        resultData.forEach(obj => {\n                            this.tiepNhanBenhNhan.YeuCauKhacGrid.push(obj);\n                        });\n                        this.setDataForDichVuKhac();\n                        this.setGiaBHYT();\n                        //this.refreshGrid();\n                        this.removeThemDichVuValue();\n                        this.removeThemGoiValue();\n                    }\n                    else {\n                    }\n                },\n                (err: any) => {\n                    // self.validationErrors = err.ValidationErrors;\n                    this.themChiDinhDichVuModel.LaGoi = false;\n                    this.themChiDinhGoiModel.LaGoi = false;\n                    if (err != undefined && err.ValidationErrors != null) {\n                        this.validationErrors = err.ValidationErrors;\n                    }\n                    else if (err != undefined && err.Errors == null) {\n                        //self.validationErrors.push({ \"Message\": err.Message });\n                        this.notificationService.showError(err.Message);\n                    }\n                });\n        }\n        else if (loaiDichVuKhac == 1 || loaiDichVuKhac == 2) {\n            this.apiService.post<ChiDinhDichVuGridVo[]>(urlDefault, this.themChiDinhGoiModel).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        //console.log(resultData);\n                        //check validate\n                        let added = true;\n                        resultData.forEach(obj => {\n                            if (loaiDichVuKhac == 2) {\n                                let modelValid = this.tiepNhanBenhNhan.YeuCauKhacGrid\n                                    .find(o => o.MaDichVuId == obj.MaDichVuId && o.Nhom == obj.Nhom);\n                                if (modelValid != null && modelValid != undefined) {\n                                    added = false;\n                                }\n                            }\n                        });\n                        if (!added) {\n                            this.notificationService.showError(TiepNhanBenhNhanMessage.MessageDichVuTrongGoiTonTai);\n                            return\n                        };\n                        //\n                        resultData.forEach(obj => {\n                            if (loaiDichVuKhac == 1) {\n                                let isValid = this.checkValidAddGoiKhongCoChietKhau(obj.MaDichVuId, obj.Nhom);\n                                if (isValid != false) {\n                                    obj.LoaiDichVuKhac = loaiDichVuKhac;\n                                    this.tiepNhanBenhNhan.YeuCauKhacGrid.push(obj);\n                                }\n                            }\n                            else {\n                                obj.LoaiDichVuKhac = loaiDichVuKhac;\n                                this.tiepNhanBenhNhan.YeuCauKhacGrid.push(obj);\n                            }\n\n\n                        });\n                        this.setDataForDichVuKhac();\n                        this.setGiaBHYT();\n                        //this.refreshGrid();\n                        this.removeThemDichVuValue();\n                        this.removeThemGoiValue();\n                    }\n                    else {\n                    }\n                },\n                (err: any) => {\n                    // self.validationErrors = err.ValidationErrors;\n                    this.themChiDinhDichVuModel.LaGoi = false;\n                    this.themChiDinhGoiModel.LaGoi = false;\n                    if (err != undefined && err.ValidationErrors != null) {\n                        this.validationErrors = err.ValidationErrors;\n                    }\n                    else if (err != undefined && err.Errors == null) {\n                        //self.validationErrors.push({ \"Message\": err.Message });\n                        this.notificationService.showError(err.Message);\n                    }\n                });\n        }\n        else {\n            this.apiService.post<ChiDinhDichVuGridVo>(urlDefault, this.themChiDinhDichVuModel).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        resultData.LoaiDichVuKhac = loaiDichVuKhac;\n                        this.tiepNhanBenhNhan.YeuCauKhacGrid.push(resultData);\n                        this.setDataForDichVuKhac();\n                        this.setGiaBHYT();\n                        this.refreshGrid();\n                        this.removeThemDichVuValue();\n                        this.removeThemGoiValue();\n                    }\n                    else {\n                    }\n                },\n                (err: any) => {\n                    // self.validationErrors = err.ValidationErrors;\n                    if (err != undefined && err.ValidationErrors != null) {\n                        this.validationErrors = err.ValidationErrors;\n                    }\n                    else if (err != undefined && err.Errors == null) {\n                        //self.validationErrors.push({ \"Message\": err.Message });\n                        this.notificationService.showError(err.Message);\n                    }\n                });\n        }\n\n    }\n\n    public aggregatesKhamBenh: any[] = [{ field: 'ThanhTien', aggregate: 'sum' }\n        , { field: 'BHYTThanhToan', aggregate: 'sum' }, { field: 'SoTienMG', aggregate: 'sum' }\n        , { field: 'BnThanhToan', aggregate: 'sum' }];\n\n    public stateKhamBenh: State = {\n        skip: 0,\n        take: 200,\n        group: [{ field: 'Nhom', aggregates: this.aggregatesKhamBenh }]\n    };\n\n\n    public totalKhamBenh(field: any) {\n        switch (field) {\n            case 'ThanhTien':\n                return this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'BHYTThanhToan':\n                return this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n            case 'SoTienMG':\n                return this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'BnThanhToan':\n                return this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.reduce((sum, item) => sum + item.BnThanhToan, 0);\n        }\n    };\n\n    public totalKhac(field: any, goiCoChietkhauId: any = 0) {\n        //.filter(o => o.GoiCoChietKhauId == goiCoChietkhauId)\n        //console.log(\"totalKhac = \", goiCoChietkhauId);\n        switch (field) {\n            case 'TongThanhTien':\n                return (this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.ThanhTien, 0)) + (this.tiepNhanBenhNhan.YeuCauKhacGrid\n                        //.filter(o => o.IsGoiCoChietKhau == true)\n                        .reduce((sum, item) => sum + item.ThanhTien, 0));\n\n            case 'ThanhTien':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => (sum + (item.GoiCoChietKhauId != null ? item.ThanhTienSauChietKhau : item.ThanhTien)), 0); //sum + item.ThanhTien, 0);\n            case 'ThanhTienGoiChietKhau':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.GoiCoChietKhauId == goiCoChietkhauId)\n                    .reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'TongThanhTienGoiChietKhau':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == true)\n                    .reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'BHYTThanhToan':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n            case 'SoTienMG':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'BnThanhToan':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.BnThanhToan, 0);\n\n            case 'TongBnThanhToan':\n                return (this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.BnThanhToan, 0)) + (this.tiepNhanBenhNhan.YeuCauKhacGrid\n                        //.filter(o => o.IsGoiCoChietKhau == true)\n                        .reduce((sum, item) => sum + item.ThanhTienTrongGoi, 0));\n\n            case 'ThanhTienTrongGoi':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.GoiCoChietKhauId == goiCoChietkhauId)\n                    .reduce((sum, item) => sum + item.ThanhTienTrongGoi, 0);\n            case 'TongThanhTienTrongGoi':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == true)\n                    .reduce((sum, item) => sum + item.ThanhTienTrongGoi, 0);\n\n            case 'TongThanhTienGoi':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    .reduce((sum, item) => sum + item.ThanhTien, 0);\n\n            case 'TongThanhTienBNTra':\n                return (this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.BnThanhToan, 0)) + this.tiepNhanBenhNhan.YeuCauKhacGrid\n                        //.filter(o => o.IsGoiCoChietKhau == true)\n                        .reduce((sum, item) => sum + item.ThanhTienTrongGoi, 0);\n        }\n    };\n\n\n\n    public aggregatesKyThuat: any[] = [{ field: 'ThanhTien', aggregate: 'sum' }\n        , { field: 'SoTienMG', aggregate: 'sum' }\n        , { field: 'BnThanhToan', aggregate: 'sum' }];\n\n    public stateKyThuat: State = {\n        skip: 0,\n        take: 200,\n        group: [{ field: 'Nhom', aggregates: this.aggregatesKyThuat }]\n    };\n\n    public totalKyThuat(field: any) {\n        switch (field) {\n            case 'ThanhTien':\n                return this.tiepNhanBenhNhan.YeuCauKyThuatGrid.reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'SoTienMG':\n                return this.tiepNhanBenhNhan.YeuCauKyThuatGrid.reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'BnThanhToan':\n                return this.tiepNhanBenhNhan.YeuCauKyThuatGrid.reduce((sum, item) => sum + item.BnThanhToan, 0);\n        }\n    };\n\n    setDataForDichVuKyThuat() {\n        this.gridDataKyThuatDisplay = {\n            data: this.tiepNhanBenhNhan.YeuCauKyThuatGrid,\n            total: this.tiepNhanBenhNhan.YeuCauKyThuatGrid.length\n        };\n    }\n\n    setDataForDichVuKhamBenh() {\n        this.gridDataKhamBenhDisplay = {\n            data: this.tiepNhanBenhNhan.YeuCauKhamBenhGrid,\n            total: this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.length\n        };\n    }\n\n    setDataForDichVuKhac() {\n        if(this.tiepNhanBenhNhan.YeuCauKhacGrid != null)\n        {\n            if(this.tiepNhanBenhNhan.YeuCauKhacGrid.length == 0)\n            {\n                this.showbuttonLuuVaInPhieuXetNghiem = false;\n            }else{\n                if(this.showbuttonLuuVaInPhieuXetNghiem == false)\n                {\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.forEach(element => {\n                        this.showbuttonLuuVaInPhieuXetNghiem = this.dichVuSarsCoVs.includes(element.MaDichVuId);\n                    });\n                }\n               \n            }\n        }\n        \n        this.gridDataKhacCoChietKhauArray = [];\n        this.gridDataKhacDisplay = {\n            data: this.tiepNhanBenhNhan.YeuCauKhacGrid,\n            //.filter(obj => obj.IsGoiCoChietKhau == false || obj.IsGoiCoChietKhau == null),\n            total: this.tiepNhanBenhNhan.YeuCauKhacGrid,\n            //.filter(obj => obj.IsGoiCoChietKhau == false || obj.IsGoiCoChietKhau == null).length\n        };\n        //this.cdRef.detectChanges();\n        //console.log(\"setDataForDichVuKhac = \", this.tiepNhanBenhNhan.YeuCauKhacGrid);\n        // let arrayNhomGoiCoChietKhau: string[] = [];\n        // this.gridDataKhacCoChietKhauDisplay = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(obj => obj.IsGoiCoChietKhau == true);\n        // this.gridDataKhacCoChietKhauDisplay.forEach(e => {\n        //     if (!arrayNhomGoiCoChietKhau.some(o => o == e.TenGoiChietKhau)) {\n        //         arrayNhomGoiCoChietKhau.push(e.TenGoiChietKhau);\n        //     }\n        // });\n\n        // arrayNhomGoiCoChietKhau.forEach(e => {\n        //     let resultArray: ChiDinhDichVuGridVo[] = [];\n        //     this.gridDataKhacCoChietKhauDisplay.forEach(o => {\n        //         //let result = new ChiDinhDichVuGridVo();\n        //         if (e == o.TenGoiChietKhau) {\n        //             //result = o;\n        //             resultArray.push(o);\n        //         }\n        //     });\n\n        //     this.gridDataKhacCoChietKhauArray.push(process(resultArray, this.stateKhamBenh));\n        // });\n\n        //console.log(\"setDataForDichVuKhac = \", this.gridDataKhacCoChietKhauArray);\n        this.setSoLuongChoGridKhac();\n    }\n\n    setSoLuongChoGridKhac() {\n        this.soLuongGoiCoChietKhau = this.gridDataKhacCoChietKhauArray.length - 1;\n    }\n\n\n    DonGiaChange($event) {\n        if (this.themChiDinhDichVuModel.SoLuong != undefined && this.themChiDinhDichVuModel.SoLuong != null\n            && $event != undefined && $event != null) {\n            this.themChiDinhDichVuModel.ThanhTien = this.themChiDinhDichVuModel.SoLuong * $event;\n        }\n        else {\n            this.themChiDinhDichVuModel.ThanhTien = null;\n        }\n    }\n\n\n    SoLuongChange($event: number) {\n        if (this.themChiDinhDichVuModel.DonGia != undefined && this.themChiDinhDichVuModel.DonGia != null\n            && $event != undefined && $event != null) {\n            this.themChiDinhDichVuModel.ThanhTien = this.themChiDinhDichVuModel.DonGia * $event;\n        }\n        else {\n            this.themChiDinhDichVuModel.ThanhTien = null;\n        }\n    }\n\n    setThanhTienForDichVuModel() {\n        if (this.themChiDinhDichVuModel.DonGia != undefined && this.themChiDinhDichVuModel.DonGia != null\n            && this.themChiDinhDichVuModel.SoLuong != undefined && this.themChiDinhDichVuModel.SoLuong != null) {\n            this.themChiDinhDichVuModel.ThanhTien = this.themChiDinhDichVuModel.DonGia * this.themChiDinhDichVuModel.SoLuong;\n        }\n        else {\n            this.themChiDinhDichVuModel.ThanhTien = null;\n        }\n    }\n\n    LoaiGiaChange($event: number) {\n        let model = new GetDonGiaVo();\n        if ($event != undefined && $event != null\n            && this.themChiDinhDichVuModel.MaDichVuId != null && this.themChiDinhDichVuModel.MaDichVuId != undefined) {\n            //console.log($event);\n            model.NhomGiaDichVuKhamBenhBenhVienId = $event;\n            model.DichVuKhamBenhBenhVienId = this.themChiDinhDichVuModel.MaDichVuId;\n            this.apiService.post<any>(\"TiepNhanBenhNhan/GetDonGia\", model).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        this.themChiDinhDichVuModel.DonGia = resultData;\n                        this.setThanhTienForDichVuModel();\n                    }\n                    else {\n                        this.themChiDinhDichVuModel.DonGia = null;\n                        this.setThanhTienForDichVuModel();\n                    }\n                },\n                (err: any) => {\n                });\n        }\n        else {\n            this.themChiDinhDichVuModel.DonGia = null;\n        }\n\n    }\n\n\n    // MaDichVuKyThuatChange($event: number) {\n    //     let model = new GetDonGiaVo();\n    //     if ($event != undefined && $event != null) {\n    //         this.validationErrors = null;\n\n    //         //console.log($event);\n    //         model.DichVuKhamBenhBenhVienId = $event;\n    //         //model.NhomGiaDichVuKhamBenhBenhVienId = this.themChiDinhDichVuModel.LoaiGiaId;\n    //         this.apiService.post<any>(\"TiepNhanBenhNhan/GetDonGiaKyThuat\", model).subscribe(\n    //             resultData => {\n    //                 if (resultData != undefined && resultData != null) {\n    //                     this.themChiDinhDichVuKyThuatModel.DonGia = resultData;\n    //                     this.setThanhTienForDichVuKyThuatModel();\n    //                 }\n    //                 else {\n    //                     this.themChiDinhDichVuKyThuatModel.DonGia = null;\n    //                     this.setThanhTienForDichVuKyThuatModel();\n    //                 }\n    //             },\n    //             (err: any) => {\n    //             });\n    //     }\n    //     else {\n    //         this.themChiDinhDichVuKyThuatModel.DonGia = null;\n    //     }\n\n\n    // }\n\n    MaDichVuGoiSelectionChange($event) {\n        //console.log(\"abc = \", $event);\n        if ($event != null && $event != undefined) {\n            if ($event.IsCoChietKhau) {\n                this.isGoiCoChietKhau = true;\n            }\n            else {\n                this.isGoiCoChietKhau = false;\n            }\n        }\n        else {\n            this.isGoiCoChietKhau = null;\n        }\n    }\n\n    onKeyMaDichVu($event) {\n        if ($event.keyCode == 13) {\n            if (this.maDichVuDisabled != true) {\n                this.themChiDinhDichVuNew();\n            }\n            else {\n                this.maDichVuDisabled = false;\n            }\n        }\n\n        //this.countCheck++;\n    }\n\n    modelChangeDichVu($event) {\n        //console.log(\"modelChangeDichVu = \", $event);\n        // if(this.maDichVuDisabled && $event != null && $event != undefined){\n        //     this.maDichVuDisabled = false;\n        // }\n    }\n\n    openCombobox($event) {\n        //console.log(\"openCombobox = \", $event);\n        //this.countCheck = 0;\n        if ($event) {\n            this.maDichVuDisabled = true;\n        }\n        else {\n            this.maDichVuDisabled = false;\n        }\n    }\n\n    MaDichVuSelectionChange($event) {\n        //console.log(\"MaDichVuSelectionChange = \", $event);\n        //let self = this;\n        this.themChiDinhDichVuModel.NoiThucHienId = null;\n        this.themChiDinhDichVuModel.SoLuong = 1;\n        if ($event != undefined && $event != null) {\n            //this.maDichVuPrev = $event.KeyId;\n            //this.countCheck++;\n            //console.log(\"MaDichVuSelectionChange = \", $event);\n            if ($event.Loai == \"DVKT\") {\n                this.MaDichVuChange($event.KeyId, 4, true);\n                this.loaiTiepNhan = 2;\n                // setTimeout(() => {\n                //     console.log(\"self.comboboxNoiThucHien2 = \", self.comboboxNoiThucHien2);\n                //     self.comboboxNoiThucHien2.getDataForLookup();\n                //   }, 500);\n            }\n            else if ($event.Loai == \"DV Giường\") {\n                this.MaDichVuChange($event.KeyId, 5);\n                this.loaiTiepNhan = 3;\n            }\n            else {\n                this.MaDichVuChange($event.KeyId);\n                this.loaiTiepNhan = 1;\n                //this.comboboxNoiThucHien1.getDataForLookup();\n            }\n        }\n        else {\n            this.themChiDinhDichVuModel.DonGia = null;\n            this.themChiDinhDichVuModel.NoiThucHienId = null;\n            this.setThanhTienForDichVuModel();\n            this.loaiTiepNhan = 1;\n        }\n        //\n        if ($event != null && $event != undefined) {\n            this.SetEnableDuocHuongBHYT($event.KeyId, this.loaiTiepNhan);\n        }\n        //this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n        this.cdRef.detectChanges();\n    }\n\n    SetEnableDuocHuongBHYT(dichVuId: number, loai: number) {\n        this.apiService.post<boolean>(\"TiepNhanBenhNhan/DuocHuongBHYT?dichVuId=\" + dichVuId + \"&loai=\" + loai).subscribe(\n            resultData => {\n                if (resultData != null && resultData != undefined) {\n                    this.enableDuocHuongBHYT = resultData;\n                    // if(resultData == false){\n                    //     this.themChiDinhDichVuModel.DuocHuongBHYT = false;\n                    // }\n                    // else{\n                    //     //this.themChiDinhDichVuModel.DuocHuongBHYT = true;\n                    // }\n                    this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n                }\n            },\n            (err: any) => {\n            });\n    }\n\n    MaDichVuChange($event: number, loaiDichVu: number = 0, isCheckValidDonGia: boolean = false) {\n        //console.log(\"MaDichVuChange = \", $event);\n        let urlDefault = \"TiepNhanBenhNhan/GetDonGia\";\n\n        if (loaiDichVu == 4) {\n            urlDefault = \"TiepNhanBenhNhan/GetDonGiaKyThuat\";\n            // this.themChiDinhDichVuModel.LoaiGiaId = 1;\n            this.themChiDinhDichVuModel.LoaiGiaId = null;\n        }\n        else if (loaiDichVu == 5) {\n            urlDefault = \"TiepNhanBenhNhan/GetDonGiaGiuongBenh\";\n            this.themChiDinhDichVuModel.LoaiGiaId = 1;\n        }\n\n        let model = new GetDonGiaVo();\n        if ($event != undefined && $event != null\n            && (loaiDichVu == 4 || (this.themChiDinhDichVuModel.LoaiGiaId != null && this.themChiDinhDichVuModel.LoaiGiaId != undefined))) {\n            //console.log($event);\n            model.DichVuKhamBenhBenhVienId = $event;\n            model.NhomGiaDichVuKhamBenhBenhVienId = this.themChiDinhDichVuModel.LoaiGiaId;\n            model.IsCheckValidDonGia = isCheckValidDonGia;\n            this.apiService.post<any>(urlDefault, model).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        if(loaiDichVu == 4)\n                        {\n                            this.themChiDinhDichVuModel.LoaiGiaId = resultData.NhomGiaDichVuKhamBenhBenhVienId;\n                            this.themChiDinhDichVuModel.DonGia = resultData.DonGia;\n                        }\n                        else\n                        {\n                            this.themChiDinhDichVuModel.DonGia = resultData;\n                        }\n                        this.setThanhTienForDichVuModel();\n\n                    }\n                    else {\n                        this.themChiDinhDichVuModel.DonGia = null;\n                        this.setThanhTienForDichVuModel();\n\n                    }\n                },\n                (err: ApiError) => {\n                    if (err.Message != \"Validation Failed\") {\n                        this.notificationService.showError(err.Message);\n                    }\n                });\n        }\n        else {\n            this.themChiDinhDichVuModel.DonGia = null;\n            this.setThanhTienForDichVuModel();\n\n        }\n\n\n    }\n\n    congTyBaoHiemChange($event: number) {\n        this.validationErrors = null;\n\n        this.apiService.post<ThemBaoHiemTuNhan>(\"TiepNhanBenhNhan/GetThongTinBHTN/?congTyBaoHiemTuNhanId=\" + $event).subscribe(\n            resultData => {\n                if (resultData != undefined && resultData != null) {\n                    this.themBaoHiemTuNhanModel.DiaChi = resultData.DiaChi;\n                    this.themBaoHiemTuNhanModel.SoDienThoai = resultData.SoDienThoai;\n                }\n                else {\n                    this.themBaoHiemTuNhanModel.DiaChi = null;\n                    this.themBaoHiemTuNhanModel.SoDienThoai = null;\n                }\n            },\n            (err: any) => {\n                this.themBaoHiemTuNhanModel.DiaChi = null;\n                this.themBaoHiemTuNhanModel.SoDienThoai = null;\n            });\n    }\n\n    huyBHTN() {\n        this.isUpdateGrid = false;\n        this.clearThemBHTN();\n    }\n\n    ThemBHTN() {\n        this.validationErrors = null;\n        let isValid = this.checkValidAddBHTN(this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId);\n        if (isValid == false) {\n            this.notificationService.showError(TiepNhanBenhNhanMessage.MessageThemBHTN);\n            return;\n        }\n        this.apiService.post<ThemBaoHiemTuNhanGridVo>(\"TiepNhanBenhNhan/ThemThongTinBHTN\", this.themBaoHiemTuNhanModel).subscribe(\n            resultData => {\n                if (resultData != undefined && resultData != null) {\n                    this.lstBHTN.push(resultData);\n                    this.setValueForGridBHTN();\n                    this.clearThemBHTN();\n                }\n                else {\n                }\n            },\n            (err: any) => {\n                // self.validationErrors = err.ValidationErrors;\n                if (err != undefined && err.ValidationErrors != null) {\n                    this.validationErrors = err.ValidationErrors;\n                }\n                else if (err != undefined && err.Errors == null) {\n                    //self.validationErrors.push({ \"Message\": err.Message });\n                    this.notificationService.showError(err.Message);\n                }\n\n            });\n    }\n\n    setValueForGridBHTN() {\n        //console.log(this.lstBHTN);\n        let index = 1;\n        this.lstBHTN.forEach(obj => {\n            obj.STT = index;\n            index = index + 1;\n        });\n\n        this.updateBHTN();\n        this.gridDataSourceBHTN = {\n            data: this.lstBHTN,\n            total: this.lstBHTN.length\n        }\n    }\n\n    updateBHTN() {\n        this.tiepNhanBenhNhan.BaoHiemTuNhans = new Array<BaoHiemTuNhanViewModel>();\n        this.lstBHTN.forEach(obj => {\n            let model = new BaoHiemTuNhanViewModel();\n            model.BHTNCongTyBaoHiemId = obj.CongTyBaoHiemTuNhanId;\n            model.BHTNDiaChi = obj.DiaChi;\n            model.BHTNMaSoThe = obj.MaSoThe;\n            model.BHTNNgayHetHan = obj.NgayHetHan;\n            model.BHTNNgayHieuLuc = obj.NgayHieuLuc;\n            model.BHTNSoDienThoai = obj.SoDienThoai;\n            this.tiepNhanBenhNhan.BaoHiemTuNhans.push(model);\n        });\n        //console.log(\"updateBHTN = \", this.tiepNhanBenhNhan.BaoHiemTuNhans);\n    }\n\n    enableUpdateGird(id: number) {\n        this.isUpdateGrid = true;\n        this.isIdNeedUpdate = id;\n    }\n\n    disableUpdateGrid() {\n        this.isUpdateGrid = false;\n        this.isIdNeedUpdate = null;\n        this.clearThemBHTN();\n    }\n\n    clearThemBHTN() {\n        this.themBaoHiemTuNhanModel = new ThemBaoHiemTuNhan();\n    }\n\n    removeGridBHTN(id: number) {\n\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: CommonService.format(SystemMessage.MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result == 'Yes') {\n                let index = this.lstBHTN.find(obj => obj.CongTyBaoHiemTuNhanId == id);\n                this.lstBHTN.splice(this.lstBHTN.indexOf(index), 1)\n                this.gridDataSourceBHTN = {\n                    data: this.lstBHTN,\n                    total: this.lstBHTN.length\n                }\n                this.updateBHTN();\n            }\n        });\n    }\n\n    checkValidAddBHTN(id: number) {\n        //console.log(\"checkValidAddBHTN = \", this.lstBHTN,id);\n        let model = this.lstBHTN.find(obj => obj.CongTyBaoHiemTuNhanId == id);\n        //console.log(\"checkValidAddBHTN = \", index);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n\n    updateGridBHTN(dataItem: ThemBaoHiemTuNhanGridVo) {\n        this.isUpdateGrid = true;\n\n        //set\n        this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId = dataItem.CongTyBaoHiemTuNhanId;\n        this.themBaoHiemTuNhanModel.DiaChi = dataItem.DiaChi;\n        this.themBaoHiemTuNhanModel.MaSoThe = dataItem.MaSoThe;\n        this.themBaoHiemTuNhanModel.NgayHetHan = dataItem.NgayHetHan;\n        this.themBaoHiemTuNhanModel.NgayHieuLuc = dataItem.NgayHieuLuc;\n        this.themBaoHiemTuNhanModel.SoDienThoai = dataItem.SoDienThoai;\n        //this.themBaoHiemTuNhanModel.STT = dataItem.STT;\n        this.enableUpdateGird(this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId);\n    }\n\n    SuaBHTN() {\n        let index = this.lstBHTN.find(obj => obj.CongTyBaoHiemTuNhanId == this.isIdNeedUpdate);\n        // this.lstBHTN.splice(this.lstBHTN.indexOf(index), 1);\n\n        // let isValid = this.checkValidAddBHTN(this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId);\n\n        if (this.isIdNeedUpdate != this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId) {\n            let isValid = this.checkValidAddBHTN(this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId);\n            if (isValid == false) {\n                this.disableUpdateGrid();\n                return;\n            };\n        }\n\n        this.validationErrors = null;\n\n        //\n        //this.lstBHTN[this.lstBHTN.indexOf(index)] = this.themBaoHiemTuNhanModel;\n        this.lstBHTN.splice(this.lstBHTN.indexOf(index), 1)\n\n        this.apiService.post<ThemBaoHiemTuNhanGridVo>(\"TiepNhanBenhNhan/ThemThongTinBHTN\", this.themBaoHiemTuNhanModel).subscribe(\n            resultData => {\n                if (resultData != undefined && resultData != null) {\n                    this.lstBHTN.push(resultData);\n                    this.setValueForGridBHTN();\n                    this.disableUpdateGrid();\n                }\n                else {\n                }\n            },\n            (err: any) => {\n                // self.validationErrors = err.ValidationErrors;\n                if (err != undefined && err.ValidationErrors != null) {\n                    this.validationErrors = err.ValidationErrors;\n                }\n                else if (err != undefined && err.Errors == null) {\n                    //self.validationErrors.push({ \"Message\": err.Message });\n                    this.notificationService.showError(err.Message);\n                }\n            });\n\n    }\n\n    removeGridKhamBenh(dataItem) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: CommonService.format(SystemMessage.MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result == 'Yes') {\n                //console.log(\"removeGridKhamBenh = \", dataItem);\n                this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.splice(this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.indexOf(dataItem), 1);\n                this.setDataForDichVuKhamBenh();\n                this.setGiaBHYT();\n                this.refreshGrid();\n            }\n        });\n    }\n\n    removeGridKyThuat(dataItem) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: CommonService.format(SystemMessage.MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result == 'Yes') {\n                //console.log(\"removeGridKhamBenh = \", dataItem);\n                this.tiepNhanBenhNhan.YeuCauKyThuatGrid.splice(this.tiepNhanBenhNhan.YeuCauKyThuatGrid.indexOf(dataItem), 1);\n                this.setDataForDichVuKyThuat();\n                this.refreshGrid();\n            }\n        });\n    }\n\n    removeGridKhac(dataItem) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: CommonService.format(SystemMessage.MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result == 'Yes') {\n                //console.log(\"removeGridKhac = \", dataItem);\n\n                //this.tiepNhanBenhNhan.YeuCauKhacGrid.splice(this.tiepNhanBenhNhan.YeuCauKhacGrid.indexOf(dataItem), 1);\n                this.tiepNhanBenhNhan.YeuCauKhacGrid = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(obj =>\n                    obj != dataItem);\n\n                this.setDataForDichVuKhac();\n                this.setGiaBHYT();\n                this.refreshGrid();\n                //console.log(\"removeGridKhac = \", this.tiepNhanBenhNhan.YeuCauKhacGrid);\n                //this.cdRef.detectChanges();\n                this.removeDanhSachTongCongFromDanhSachDaChon(dataItem);\n\n                this.notificationService.showSuccess(TiepNhanBenhNhanMessage.MessageRemoveDichVuSuccessfully);\n            }\n        });\n    }\n\n    removeGridKhacCoChietKhau(item) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: CommonService.format(SystemMessage.MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result == 'Yes') {\n\n                let goiCoChietKhauId = item.data[0].items[0].GoiCoChietKhauId;\n                //console.log(\"removeGridKhacCoChietKhau1 = \", goiCoChietKhauId);\n\n\n                this.tiepNhanBenhNhan.YeuCauKhacGrid = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(obj => obj.GoiCoChietKhauId != goiCoChietKhauId);\n\n\n                // let index = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(obj => obj.GoiCoChietKhauId == goiCoChietKhauId);\n                // index.forEach(obj => {\n                //   this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o.GoiCoChietKhauId == goiCoChietKhauId)\n                //         .splice(this.tiepNhanBenhNhan.YeuCauKhacGrid.indexOf(obj), 1);\n                // });\n\n\n\n\n                //console.log(\"removeGridKhacCoChietKhau = \", index);\n\n                this.setDataForDichVuKhac();\n\n                this.refreshGrid();\n            }\n        });\n    }\n\n    // noiThucHienGridChange($event, dataItem) {\n    //     //console.log(\"noiThucHienGridChange = \", $event, dataItem);\n    // }\n\n    coBHYTChange($event) {\n        //console.log(\"coBHYTChange = \", $event);\n        // if ($event == true && this.tiepNhanBenhNhan.LyDoVaoVien == 1) {\n        //     this.themChiDinhDichVuModel.DuocHuongBHYT = true;\n        //     this.themChiDinhDichVuModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n        // }\n        // else {\n        //     this.themChiDinhDichVuModel.DuocHuongBHYT = false;\n        //     this.themChiDinhDichVuModel.BHYTMucHuong = null;\n        //     this.removeBHYTForGridChiDinhDichVu();\n        // }\n        if ($event != true) {\n            this.tiepNhanBenhNhan.TuNhap = false;\n            this.HoVaTenTextbox.focus();\n            this.tiepNhanBenhNhan.LyDoVaoVien = null;\n        }\n        else\n        {\n            this.tiepNhanBenhNhan.LyDoVaoVien = 1;\n        }\n\n        this.xuLyKiemTraBenhNhanDuDieuKienTaoMoiYCTN($event);\n        this.setDuocHuongBHYT($event, this.tiepNhanBenhNhan.LyDoVaoVien);\n    }\n\n    tuNhapChange($event) {\n        if ($event == true) {\n            this.tiepNhanBenhNhan.CoBHYT = true;\n            this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n            this.tiepNhanBenhNhan.LyDoVaoVien = 1;\n        }\n        if ($event == false) {\n            this.tiepNhanBenhNhan.CoBHYT = false;\n            this.coBHYTChange(false);\n            this.tiepNhanBenhNhan.LyDoVaoVien = null;\n        }\n    }\n\n    mucHuongChange($event) {\n        this.tiepNhanBenhNhan.BHYTMucHuong = $event;\n        this.setGiaBHYT();\n    }\n\n    blurNgayHetHieuLuc($event) {\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n    }\n    onKeyNgayHetHieuLuc($event) {\n        if ($event.keyCode === 13) {\n            this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n        }\n    }\n\n    onKeyNgayCotHieuLuc($event) {\n        if ($event.keyCode === 13) {\n            this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n        }\n    }\n\n    blurNgayCoHieuLuc($event) {\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n    }\n\n    blurBHYTDiaChi($event) {\n        this.setDiaChiBHYTForModel(this.tiepNhanBenhNhan.BHYTDiaChi);\n    }\n    onKeyBHYTDiaChi($event) {\n        if ($event.keyCode === 13) {\n            this.setDiaChiBHYTForModel(this.tiepNhanBenhNhan.BHYTDiaChi);\n        }\n    }\n\n    blurMaNoiDKBD($event) {\n        this.setNoiDKBD(this.tiepNhanBenhNhan.BHYTMaDKBD);\n    }\n\n    onKeyMaNoiDKBD($event) {\n        if ($event.keyCode === 13) {\n            this.setNoiDKBD(this.tiepNhanBenhNhan.BHYTMaDKBD);\n        }\n    }\n\n    setNoiDKBD(ma: string) {\n        this.apiService.post<string>(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + ma).subscribe(\n            resultData => {\n                this.tiepNhanBenhNhan.NoiDangKyBHYT = resultData;\n\n            },\n            () => {\n                //return null;\n                //console.log(\"error\")\n            });\n    }\n\n    lyDoVaoVienChange($event) {\n        //console.log(\"tuyenChuyenChange = \", $event);\n        // if ($event == 1 && this.tiepNhanBenhNhan.CoBHYT == true) {\n        //     this.themChiDinhDichVuModel.DuocHuongBHYT = true;\n        //     this.themChiDinhDichVuModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n        //     this.addBHYTForGridChiDinhDichVu();\n        // }\n        // else {\n        //     this.themChiDinhDichVuModel.DuocHuongBHYT = false;\n        //     this.themChiDinhDichVuModel.BHYTMucHuong = null;\n        //     this.removeBHYTForGridChiDinhDichVu();\n        // }\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, $event);\n    }\n\n    onTabSelect($event) {\n        this.removeThemDichVuValue();\n        this.removeThemGoiValue();\n        //console.log(\"onTabSelect = \", $event);\n        if ($event != null && $event.index == 2 && this.under6yearsold) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if(this.under6yearsold == false)\n        {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n    }\n\n    lichSuKBC() {\n        let dialogRef = this.dialog.open(TiepNhanBenhNhanPopupLichSuKcbComponent, {\n            disableClose: false,\n            width: '1000px',\n            height: '409px',\n            data: this.lichSuKCB,\n        });\n        dialogRef.afterClosed().subscribe(result => {\n\n        });\n    }\n\n    lichSuKiemTraTheBHYT() {\n        let dialogRef = this.dialog.open(TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent, {\n            disableClose: false,\n            width: '1200px',\n            height: '500px',\n            data: this.lichSuKiemTraTheBHYTGrid,\n        });\n        dialogRef.afterClosed().subscribe(result => {\n\n        });\n    }\n\n    duocHuongBHYTChange($event, maDichVuId, nhom) {\n\n        let item = this.tiepNhanBenhNhan.YeuCauKhacGrid\n            .filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n            .find(obj => obj.MaDichVuId == maDichVuId && obj.Nhom == nhom);\n        //console.log(\"duocHuongBHYTChange = \", maDichVuId, nhom, $event, item);\n        item.DuocHuongBHYT = $event;\n        if ($event) {\n            item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100;\n            item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n            item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n        }\n        else {\n            item.BHYTThanhToan = 0;\n            item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n            item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n        }\n        this.setGiaBHYT();\n\n        //this.setDataForDichVuKhac();\n        //this.refreshGrid();\n    }\n\n    setThongTinTaiKhoanBenhNhan(id: number) {\n        this.apiService.post<any>(\"TiepNhanBenhNhan/GetThongTinTaiKhoanBenhNhan?idbenhNhan=\" + id).subscribe(\n            resultData => {\n                this.thongTinTaiKhoanBenhNhan = resultData;\n\n            },\n            () => {\n                //return null;\n                //console.log(\"error\")\n            });\n    }\n\n    timKiemBenhNhanPopup() {\n        let dataTimKiem = new DataTimKiem();\n        dataTimKiem.searchBenhNhan = new TimKiemBenhNhanGridVo();\n        dataTimKiem.searchBenhNhan = this.modelTimKiemBenhNhan;\n        dataTimKiem.data = new Array<TimKiemBenhNhanGridVo>();\n        dataTimKiem.data = this.lstBenhNhan;\n        let dialogRef = this.dialog.open(PopupTimKiemBenhNhanComponent, {\n            disableClose: false,\n            width: '1400px',\n            height: '600px',\n            data: dataTimKiem,\n        });\n        dialogRef.afterClosed().subscribe(result => {\n            if (result != null && result != undefined) {\n                // console.log(\"data:\", result)\n                this.benhNhanIdPopup = result.Id;\n                this.coYeuCauGoiDichVu = result.CoYeuCauGoiDichVu;\n                //this.checkTNBNToDay(result.BHYTMaSoThe, result.Id);\n                this.checkTNBNToDay(result.BHYTMaSoThe, result.Id, true);\n                this.validationErrors = null;\n                //this.setThongTinTaiKhoanBenhNhan(result.Id);\n                //console.log(\"timKiemBenhNhanPopup = \", result);\n                //this.cdRef.detectChanges();\n                //set bhtn\n                if (result.BaoHiemTuNhans.length > 0) {\n                    this.lstBHTN = new Array<ThemBaoHiemTuNhanGridVo>();\n                    result.BaoHiemTuNhans.forEach(item => {\n                        let model = new ThemBaoHiemTuNhanGridVo();\n                        model.CongTyBaoHiemTuNhanId = item.BHTNCongTyBaoHiemId;\n                        model.CongTyDisplay = item.CongTyDisplay;\n                        model.DiaChi = item.BHTNDiaChi;\n                        model.MaSoThe = item.BHTNMaSoThe;\n                        model.NgayHetHan = item.BHTNNgayHetHan;\n                        let dateNgayHetHan = new Date(model.NgayHetHan);\n                        model.NgayHetHanDisplay = CommonService.formatDate(dateNgayHetHan, \"dd/mm/yyyy\");\n                        model.NgayHieuLuc = item.BHTNNgayHieuLuc;\n                        let dateNgayHieuLuc = new Date(model.NgayHieuLuc);\n                        model.NgayHieuLucDisplay = CommonService.formatDate(dateNgayHieuLuc, \"dd/mm/yyyy\");\n                        model.SoDienThoai = item.BHTNSoDienThoai;\n                        this.lstBHTN.push(model);\n                    });\n                    this.setValueForGridBHTN();\n                }\n\n\n                //set benh nhan\n                this.tiepNhanBenhNhan.BenhNhanId = result.Id;\n                this.benhNhanId = result.Id;\n\n                //người giám hộ\n                this.tiepNhanBenhNhan.NguoiLienHeHoTen = result.NguoiLienHeHoTen;\n                this.tiepNhanBenhNhan.NguoiLienHeQuanHeNhanThanId = result.NguoiLienHeQuanHeNhanThanId;\n                this.tiepNhanBenhNhan.NguoiLienHeSoDienThoai = result.NguoiLienHeSoDienThoai;\n                this.tiepNhanBenhNhan.NguoiLienHeEmail = result.NguoiLienHeEmail;\n                this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId = result.NguoiLienHeTinhThanhId;\n                this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId = result.NguoiLienHeQuanHuyenId;\n                this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = result.NguoiLienHePhuongXaId;\n                this.tiepNhanBenhNhan.NguoiLienHeDiaChi = result.NguoiLienHeDiaChi;\n\n                //Nơi giới thiệu , hiển thị nơi giới thiệu              \n                this.tiepNhanBenhNhan.HinhThucDenId = result.HinhThucDenId;\n                this.tiepNhanBenhNhan.NoiGioiThieuId = result.NoiGioiThieuId;\n\n                //Do quận huyện nó không bind do cơ chế chạy trước sau nên ta set lại cho comboxQuanHuyen này\n                //this.bindComboboxQuanHuyen(result)\n\n                this.getDanhSachGoiBenhNhan(this.benhNhanId);\n\n                this.setValueFromBenhNhanToYeuCauTiepNhan(result);\n\n                this.timKiemBenhNhan(this.modelTimKiemBenhNhan);\n\n                this.xuLyKiemTraBenhNhanDuDieuKienTaoMoiYCTN();\n            }\n        });\n    }\n\n    checkTNBNToDay(maThe: string, id: number = 0, khongDongPopup: boolean = false) {\n        // Hàm này lúc dev cũ viết nhằm mục đích là tự động chuyển sang trang cập nhật YCTN nếu API trả về id YCTN, \n        // Nhưng theo logic mới thì đã bỏ tự động chuyển trang, nếu muốn chuyển sang cập nhật YCTN phải chọn button ở góc dưới cùng bên trái\n\n        // var idOld = this.route.snapshot.params.id;\n        // if (idOld == null || idOld <= 0) {\n        //     this.apiService.post<any>(\"TiepNhanBenhNhan/GetYeuCauTiepNhanOfBenhNhan?maSoBHYT=\" + maThe + \"&id=\" + id).subscribe(\n        //         resultData => {\n        //             if (resultData != null) {\n        //                 if(!khongDongPopup)\n        //                 {\n        //                     this.dialog.closeAll();\n        //                 }\n\n        //                 // cập nhật điều kiện tạo mới yctn\n        //                 //this.router.navigate(['danh-sach-tiep-nhan/chinh-sua/' + resultData]);\n        //                 // chuyển về xử lý chung ở function kiểm tra lỗi tạo mới YCTN\n        //                 //this.urlPageUpdateYCTN = 'danh-sach-tiep-nhan/chinh-sua/' + resultData;\n        //             }\n        //             else\n        //             {\n        //                 // cập nhật điều kiện tạo mới yctn\n        //                 //this.urlPageUpdateYCTN = null;\n        //             }\n        //         },\n        //         () => {\n        //             //return null;\n        //             //console.log(\"error\")\n        //         });\n        // }\n\n\n    }\n\n    setValueFromBenhNhanToYeuCauTiepNhan(benhNhan: BenhNhanTiepNhanBenhNhanViewModel) {\n        this.tiepNhanBenhNhan.BHYTMaDKBD = benhNhan.BHYTMaDKBD;\n        this.tiepNhanBenhNhan.BHYTDiaChi = benhNhan.BHYTMaDKBD;\n        this.tiepNhanBenhNhan.BHYTMaSoThe = benhNhan.BHYTMaSoThe;\n        this.tiepNhanBenhNhan.BHYTNgayDu5Nam = benhNhan.BHYTNgayDu5Nam;\n        this.tiepNhanBenhNhan.BHYTDuocMienCungChiTra = benhNhan.BHYTDuocMienCungChiTra;\n        this.tiepNhanBenhNhan.BHYTNgayHieuLuc = benhNhan.BHYTNgayHieuLuc;\n        this.tiepNhanBenhNhan.BHYTNgayHetHan = benhNhan.BHYTNgayHetHan;\n        this.tiepNhanBenhNhan.BHYTCoQuanBHXH = benhNhan.BHYTCoQuanBHXH;\n        this.tiepNhanBenhNhan.CoBHTN = benhNhan.CoBHTN;\n        this.tiepNhanBenhNhan.CoBHYT = benhNhan.CoBHYT;\n        if(this.tiepNhanBenhNhan.CoBHYT == true)\n        {\n            this.tiepNhanBenhNhan.LyDoVaoVien = 1;\n        }\n        else\n        {\n            this.tiepNhanBenhNhan.LyDoVaoVien = null;\n        }\n        this.tiepNhanBenhNhan.NgaySinh = benhNhan.NgaySinh;\n        this.tiepNhanBenhNhan.NamSinh = benhNhan.NamSinh;\n        this.tiepNhanBenhNhan.ThangSinh = benhNhan.ThangSinh;\n\n        this.tiepNhanBenhNhan.NgayThangNamSinh = benhNhan.NgayThangNamSinh;\n        this.tiepNhanBenhNhan.HoTen = benhNhan.HoTen;\n\n        this.getAge(this.tiepNhanBenhNhan.NgayThangNamSinh, new Date);\n\n        this.tiepNhanBenhNhan.TinhThanhId = 0;\n        var self=this;\n        setTimeout(function () {\n            self.tiepNhanBenhNhan.TinhThanhId = benhNhan.TinhThanhId;\n            self.tiepNhanBenhNhan.QuanHuyenId = benhNhan.QuanHuyenId;\n            self.tiepNhanBenhNhan.PhuongXaId = benhNhan.PhuongXaId;        \n        },1000);        \n\n        this.tiepNhanBenhNhan.QuocTichId = benhNhan.QuocTichId;\n        //this.tiepNhanBenhNhan.DanTocId = benhNhan.DanTocId;\n        this.tiepNhanBenhNhan.DiaChi = benhNhan.DiaChi;\n        this.tiepNhanBenhNhan.SoDienThoai = benhNhan.SoDienThoai;\n        this.tiepNhanBenhNhan.SoChungMinhThu = benhNhan.SoChungMinhThu;\n        this.tiepNhanBenhNhan.Email = benhNhan.Email;\n        this.tiepNhanBenhNhan.NgheNghiepId = benhNhan.NgheNghiepId;\n        this.tiepNhanBenhNhan.GioiTinh = benhNhan.GioiTinh;\n        //this.tiepNhanBenhNhan.BHYTMaKhuVuc = benhNhan.BHYTMaKhuVuc;\n        this.tiepNhanBenhNhan.BHYTNgayDuocMienCungChiTra = benhNhan.BHYTNgayDuocMienCungChiTra;\n        this.tiepNhanBenhNhan.NoiLamViec = benhNhan.NoiLamViec;\n\n        //BHYT information\n        // this.tiepNhanBenhNhan.NgayThangNamSinhDisplay = benhNhan.NgayThangNamSinhDisplay;\n        // this.tiepNhanBenhNhan.NgayDu5NamDisplay = benhNhan.BHYTNgayDu5NamDisplay;\n        // this.apiService.post<string>(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + benhNhan.BHYTMaDKBD).subscribe(\n        //     resultData => {\n        //         this.tiepNhanBenhNhan.NoiDangKyBHYT = resultData;\n\n        //     },\n        //     () => {\n        //         //return null;\n        //         //console.log(\"error\")\n        //     });\n\n        if (benhNhan.CoBHYT != true) return;\n\n        //if (this.isCheckedBHYT == true) return;\n        this.isCheckedBHYT = true;\n\n        this.thongTinBenhNhan.MaThe = this.tiepNhanBenhNhan.BHYTMaSoThe;\n        this.thongTinBenhNhan.TenBenhNhan = this.tiepNhanBenhNhan.HoTen;\n        this.thongTinBenhNhan.NgaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n        this.thongTinBenhNhan.NamSinh = this.tiepNhanBenhNhan.NamSinh;\n\n        var datePipe = new DatePipe(\"en-US\");\n        this.thongTinBenhNhan.NgaySinhDisplay = datePipe.transform(this.tiepNhanBenhNhan.NgayThangNamSinh, 'dd/MM/yyyy');\n\n        if (this.thongTinBenhNhan.MaThe != null && this.thongTinBenhNhan.TenBenhNhan != null\n            && (this.thongTinBenhNhan.NgaySinh != null || this.thongTinBenhNhan.NamSinh != null)) {\n\n\n            //console.log(\"thongTinBenhNhan = \", this.thongTinBenhNhan);\n            let dialogRef = this.dialog.open(TiepNhanBenhNhanChoQuetComponent, {\n                disableClose: true,\n                width: '500px',\n                height: '250px',\n                data: this.thongTinBenhNhan,\n            });\n            dialogRef.afterClosed().subscribe(result => {\n                //console.log(\"close = \", result);\n                if (result === undefined) {\n                    //cheat vi khong hieu sao ra duoc\n                }\n\n                // else if (result == null || (result != null && result.maKetQua == \"050\")) {\n                else if (result == null || (result != null && result.maKetQua !== \"000\" && result.maKetQua !== \"004\")) {\n                    //this.clearData();\n                    //this.notificationService.showError(TiepNhanBenhNhanMessage.MessageSaiThongTinBenhNhan);\n\n                    //\n                    this.tiepNhanBenhNhan.MessageErrFromBHYT = result != null ? result.ghiChu : null;\n                    let dialogRef = this.dialog.open(TiepNhanBenhNhanErrorComponent, {\n                        disableClose: false,\n                        width: '700px',\n                        height: '300px',\n                        data: this.tiepNhanBenhNhan,\n                    });\n                    dialogRef.afterClosed().subscribe(result => {\n                        //document.getElementById(\"SoTheBHYTisAutoFocus\").focus();\n                        this.isCheckedBHYT = false;\n                        if (result == 2) {\n                            this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                            this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                            this.tiepNhanBenhNhan.CoBHYT = true;\n                            this.tiepNhanBenhNhan.TuNhap = true;\n                        }\n                        else if (result == 1) {\n                            this.tiepNhanBenhNhan.CoBHYT = false;\n                            this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                            this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                        }\n                        else if (result != undefined) {\n                            //console.log(\"------- \", result);\n                            this.setValueBHYT(result);\n                        }\n                    });\n                    //\n\n                }\n                else {\n                    //console.log(\"onkey = \",event, this.tiepNhanBenhNhan.BHYTMaSoThe)\n\n                    this.isCheckedBHYT = false;\n                    this.setValueBHYT(result);\n                }\n            });\n\n\n\n        }\n\n        else {\n            this.isCheckedBHYT = false;\n        }\n\n        /////////////\n    }\n\n    onSelectChangeVoucher(voucherId: any) {\n        var last = voucherId[voucherId.length - 1];\n        if (last == undefined)\n            this.loaiVoucher = 0;\n\n        this.apiService.post<any>(\"ThuNgan/GetMaVoucher?loaiVoucher=\" + this.loaiVoucher).subscribe(resultData => {\n            if (resultData !== null && resultData !== undefined) {\n                this.voucherLookupItemVo = resultData;\n                this.voucherLookupItemVo.forEach(element => {\n                    if (element.KeyId == last) {\n                        this.loaiVoucher = element.LoaiVoucher;\n                    }\n                });\n            }\n        });\n    }\n\n    getDanhSachGoiBenhNhan(benhNhanId: number) {\n        this.apiService.post<any>(\"TiepNhanBenhNhan/GetMarketingForBenhNhan?benhNhanId=\" + benhNhanId).subscribe(resultData => {\n            this.danhSachGoiDaChonTrongYCTN = resultData;\n            if (resultData !== null && resultData !== undefined && resultData.length > 0) {\n                this.suDungGoiMarketingModelTemp = true;\n                this.disabledCheckboxMarketing = true;\n            }\n            else {\n                this.suDungGoiMarketingModelTemp = false;\n                this.disabledCheckboxMarketing = false;\n            }\n        });\n    }\n\n    suDungGoiMarketingChange(event) {\n        //console.log(\"suDungGoiMarketingChange = \", event);\n        if (event) {\n            this.openPopupGoiDichVu();\n        }\n    }\n\n    showPopupMarketingWithHyperlink(item) {\n        //console.log(\"showPopupMarketingWithHyperlink = \", item);\n        this.openPopupGoiDichVu(item);\n    }\n\n    removeGoi(item) {\n        //console.log(\"removeGoi = \", item, this.tiepNhanBenhNhan.YeuCauKhacGrid);\n\n        if (this.isActiveAction != null) {\n            this.dialog.closeAll();\n            this.isActiveAction = null;\n        }\n\n        this.isActiveAction = this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: TiepNhanBenhNhanMessage.MessageConfirmRemoveGoi }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result == \"Yes\") {\n                this.removeGoiOnDichVu(item);\n            }\n            else {\n                this.removeDichVuGoi(item);\n            }\n        });\n\n        this.removeGoiDaChon(item.ChuongTrinhGoiDichVuId);\n\n    }\n\n\n    removeGoiDaChon(id) {\n        this.danhSachGoiDaChonTrongYCTN = this.danhSachGoiDaChonTrongYCTN.filter(o => o.ChuongTrinhGoiDichVuId != id);\n        this.danhSachDichVuDaChonTrongLanPopup = this.danhSachDichVuDaChonTrongLanPopup.filter(o => o.ChuongTrinhGoiDichVuId != id);\n    }\n\n    removeDichVuGoi(item) {\n        console.log(\"removeDichVuGoi = \", item, this.tiepNhanBenhNhan.YeuCauKhacGrid);\n\n        this.tiepNhanBenhNhan.YeuCauKhacGrid = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o.GoiCoChietKhauId != item.ChuongTrinhGoiDichVuId);\n        this.setDataForDichVuKhac();\n        this.refreshGrid();\n    }\n    removeGoiOnDichVu(item) {\n        // this.tiepNhanBenhNhan.YeuCauKhacGrid.forEach(o => {\n        //     if(item.ChuongTrinhGoiDichVuId == o.GoiCoChietKhauId){\n        //         o.\n        //     }\n        // });\n        for (let i = 0; i < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; i++) {\n            let object = this.tiepNhanBenhNhan.YeuCauKhacGrid[i];\n            if (item.ChuongTrinhGoiDichVuId == object.GoiCoChietKhauId) {\n                object.GoiCoChietKhauId = null;\n                object.IsGoiCoChietKhau = false;\n            }\n        }\n\n        this.setDataForDichVuKhac();\n        this.refreshGrid();\n    }\n\n    openPopupGoiDichVu(danhSachGoiDaChon: DanhSachGoiChon = null) {\n        var self = this;\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n\n            self.dialog.open(PopupMarketingTiepNhanBenhNhanComponent, {\n                disableClose: false,\n                width: '1800px',\n                data: {\n                    data: this.danhSachGoiDaChonTrongYCTN, benhNhanId: this.tiepNhanBenhNhan.BenhNhanId\n                    , danhSachDichVuGoiDaChon: this.danhSachDichVuDaChonTrongLanPopup, itemPopup: danhSachGoiDaChon\n                    , danhSachDichVuDangCo: this.tiepNhanBenhNhan.YeuCauKhacGrid\n                }\n            }).afterClosed().subscribe(result => {\n                //console.log('openPopupGoiDichVu', result);\n\n                if (result != undefined && result.length > 0) {\n                    this.danhSachDichVuGoiDaChon = new Array<ThemChiDinhDichVu>();\n                    result.forEach(e => {\n                        let item = new ThemChiDinhDichVu();\n                        item.LaGoi = true;\n                        item.TenNhomDichVu = e.TenNhomDichVu;\n                        item.MaDichVuId = e.DichVuId;\n                        item.SoLuong = e.SoLuongDungLanNay;\n                        item.chuongTrinhGoiDichVuId = e.ChuongTrinhGoiDichVuId;\n                        item.YeuCauGoiDichVuId = e.YeuCauGoiDichVuId;\n                        //cheat cho lẹ\n                        item.DuocHuongBHYT = this.themChiDinhDichVuModel.DuocHuongBHYT;\n\n                        this.danhSachDichVuGoiDaChon.push(item);\n                    });\n                    this.themChiDinhDichVuKhacKhamBenh(6, this.danhSachDichVuGoiDaChon);\n                    this.copyDanhSachTongCong(result);\n                    this.updateDanhSachGoiChon(result);\n                }\n\n                if (result == undefined && this.disabledCheckboxMarketing != true && this.danhSachDichVuDaChonTrongLanPopup.length == 0) {\n                    this.suDungGoiMarketingModelTemp = false;\n                }\n\n                // if(yeuCauGoiMarketing != undefined && yeuCauGoiMarketing != null && yeuCauGoiMarketing != \"\")\n                // {\n\n                // }\n            });\n        }\n        else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    addDanhSachTongCongFromDanhSachDaChon(data: Array<ThemChiDinhDichVu>) {\n        data.forEach(o => {\n            let item = new DanhSachDichVuChonTrongLanPopup();\n            item.TenNhomDichVu = o.TenNhomDichVu;\n            item.DichVuId = o.MaDichVuId;\n            item.SoLuongDungLanNay = o.SoLuong;\n            item.ChuongTrinhGoiDichVuId = o.chuongTrinhGoiDichVuId;\n            item.BenhNhanId = this.tiepNhanBenhNhan.BenhNhanId;\n            item.YeuCauGoiDichVuId = o.YeuCauGoiDichVuId;\n            item.ThuocGoi = o.ThuocGoi;\n            this.danhSachDichVuDaChonTrongLanPopup.push(item);\n        })\n    }\n\n    removeDanhSachTongCongFromDanhSachDaChon(data) {\n        //console.log(\"removeDanhSachTongCongFromDanhSachDaChon = \", data, this.danhSachDichVuDaChonTrongLanPopup);\n        if (data.IsGoiCoChietKhau) {\n            let item = this.danhSachDichVuDaChonTrongLanPopup.filter(e => e.YeuCauGoiDichVuId == data.GoiCoChietKhauIdTemp && e.DichVuId == data.MaDichVuId)[0];\n            // this.danhSachDichVuDaChonTrongLanPopup \n            // = this.danhSachDichVuDaChonTrongLanPopup.filter(e => e.ChuongTrinhGoiDichVuId != data.GoiCoChietKhauId && e.DichVuId != data.MaDichVuId);\n            this.danhSachDichVuDaChonTrongLanPopup\n                = this.danhSachDichVuDaChonTrongLanPopup.filter(e => e != item);\n\n            //console.log(\"Co chiet khau, \", this.danhSachDichVuDaChonTrongLanPopup);\n        }\n        //let item = this.danhSachDichVuDaChonTrongLanPopup.filter(e => e.TenChuongTrinh == o.ThuocGoi);\n    }\n\n    copyDanhSachTongCong(data: Array<DanhSachDichVuChonTrongLanPopup>) {\n        data.forEach(o => {\n            // let item = this.danhSachDichVuDaChonTrongLanPopup.filter(e => e == data);\n\n            // if(item == undefined || item.length == 0){\n            //     this.danhSachDichVuDaChonTrongLanPopup.push(data);\n            // }\n            //code tiep\n            this.danhSachDichVuDaChonTrongLanPopup.push(o);\n        })\n    }\n\n    updateDanhSachGoiChon(data: Array<DanhSachDichVuChonTrongLanPopup>) {\n        console.log(\"updateDanhSachGoiChon = \", data);\n        data.forEach(o => {\n            let item = this.danhSachGoiDaChonTrongYCTN.filter(e => e.TenChuongTrinh == o.ThuocGoi);\n\n            if (item == undefined || item.length == 0) {\n                let itemAdd = new DanhSachGoiChon();\n                itemAdd.BenhNhanId = this.tiepNhanBenhNhan.BenhNhanId;\n                itemAdd.ChuongTrinhGoiDichVuId = o.ChuongTrinhGoiDichVuId;\n                itemAdd.IsFromMarketing = o.IsFromMarketing;\n                itemAdd.TenChuongTrinh = o.ThuocGoi;\n                itemAdd.YeuCauGoiDichVuId = o.YeuCauGoiDichVuId;\n                itemAdd.DaThanhToan = o.DaThanhToan;\n                itemAdd.TenGoiDichVu = o.TenGoi;\n                this.danhSachGoiDaChonTrongYCTN.push(itemAdd);\n            }\n        })\n    }\n\n    onOpenChange() {\n        this.voucherList.getDataForLookup();\n    }\n\n    soNhaDuongPhoChange(model) {\n        this.tiepNhanBenhNhan.DiaChi = model;\n\n        if (this.under6yearsold) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if(this.under6yearsold == false)\n        {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n        //console.log(\"change = \", model, model != null && model != undefined, model != \"\");\n        //console.log(\"soNhaDuongPhoChange123 = \", model);\n        // if(model != null && model != undefined && model != \"\"){\n        //     let arrayDiaChi = model.split(\" \");\n        //     let resultString = \"\";\n        //     //console.log(\"soNhaDuongPhoChange = \", arrayDiaChi);\n        //     \n        //     arrayDiaChi.forEach(e => {\n        //         if(e != undefined && e != null && e != \"\"){\n        //             if(resultString == \"\"){\n        //                 resultString = e[0].toUpperCase() + e.slice(1);\n        //             }\n        //             else{\n        //                 resultString = resultString + \" \" +  e[0].toUpperCase() + e.slice(1);\n        //             }\n        //         }\n        //         else if(e == \"\"){\n        //             resultString = resultString + \" \";\n        //         }\n        //     });\n        //     this.tiepNhanBenhNhan.DiaChi = resultString;\n        //     //this.tiepNhanBenhNhan.DiaChi = model[0].toUpperCase() + model.slice(1);\n        // }\n    }\n    // noiThucHienChange($event){\n    //     if($event != null && $event != undefined && $event.length > 0)\n    //     {\n    //         this.themChiDinhDichVuModel.NoiThucHienId = $event[0].KeyId;\n    //     }\n    // }\n\n    // noiThucHienGridChange($event, dataItem) {\n\n    //     // let model = this.tiepNhanBenhNhan.YeuCauKhacGrid.find(obj => obj == dataItem);\n    //     // ;\n    //     // console.log(\"noiThucHienGridChange = \", $event, dataItem, model);\n    //     // if ($event != null && $event != undefined && $event.length > 0) {\n    //     //     //this.themChiDinhDichVuModel.NoiThucHienId = $event[0].KeyId;\n    //     //     if (model != undefined  && model.NoiThucHienId === null) {\n    //     //         model.NoiThucHienId = $event[0].KeyId;\n    //     //     }\n    //     // }\n    //     // else {\n    //     //     if (model != undefined && model.NoiThucHienId === null) {\n    //     //         model.NoiThucHienId = $event[0].KeyId;\n    //     //     }\n    //     //     //this.themChiDinhDichVuModel.NoiThucHienId = null;\n    //     // }\n    // }\n\n    NamSinhChange(event) {\n        //console.log(\"NamSinhChange = \", event);\n        let dateNow = new Date();\n        if (event >= dateNow.getFullYear() - 6) {\n            this.under6yearsold = true;\n            this.soTuoiDisplay = dateNow.getFullYear() - event + \" Tuổi \" + 0 + \" Tháng \" + 0 + \" Ngày \";\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        else {\n            this.under6yearsold = false;\n            this.soTuoiDisplay = dateNow.getFullYear() - event + \" Tuổi\";\n        }\n\n        // this.soTuoiDisplay = dateNow.getFullYear() - event + \" Tuổi \" + 0 + \" Tháng \" + 0 + \" Ngày \";\n        if(this.under6yearsold == true)\n        {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if(this.under6yearsold == false)\n        {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n       \n    }\n\n    getAge(date_1, date_2) {\n\n        if((date_1 == undefined || date_1 == null) && this.tiepNhanBenhNhan.NamSinh != undefined && this.tiepNhanBenhNhan.NamSinh != null && this.tiepNhanBenhNhan.NamSinh != 0)\n        {\n            date_1 = new Date(this.tiepNhanBenhNhan.NamSinh, 1, 1);\n        }\n        date_1 = new Date(date_1);\n        date_2 = new Date(date_2);\n\n        //convert to UTC\n        let date2_UTC = new Date(Date.UTC(date_2.getFullYear(), date_2.getMonth(), date_2.getDate()));\n        let date1_UTC = new Date(Date.UTC(date_1.getFullYear(), date_1.getMonth(), date_1.getDate()));\n\n\n        //console.log(date1_UTC, date2_UTC, date_1, date_2);\n        let yAppendix, mAppendix, dAppendix;\n\n\n        //--------------------------------------------------------------\n        let days = date2_UTC.getDate() - date1_UTC.getDate();\n        if (days < 0) {\n\n            date2_UTC.setMonth(date2_UTC.getMonth() - 1);\n            days += this.DaysInMonth(date2_UTC);\n        }\n        //--------------------------------------------------------------\n        let months = date2_UTC.getMonth() - date1_UTC.getMonth();\n        if (months < 0) {\n            date2_UTC.setFullYear(date2_UTC.getFullYear() - 1);\n            months += 12;\n        }\n        //--------------------------------------------------------------\n        let years = date2_UTC.getFullYear() - date1_UTC.getFullYear();\n\n\n\n\n        if (years > 1) yAppendix = \" years\";\n        else yAppendix = \" year\";\n        if (months > 1) mAppendix = \" months\";\n        else mAppendix = \" month\";\n        if (days > 1) dAppendix = \" days\";\n        else dAppendix = \" day\";\n\n        if ((years < 6 && years >= 0) || (years == 6 && months == 0 && days == 0)) {\n            this.under6yearsold = true;\n            this.soTuoiDisplay = years + \" Tuổi \" + months + \" Tháng \" + days + \" Ngày \";\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        else {\n            this.under6yearsold = false;\n            this.soTuoiDisplay = years + \" Tuổi\";\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n\n        //this.soTuoiDisplay = years + \" Tuổi \" + months + \" Tháng \" + days + \" Ngày \";\n        //console.log(years + yAppendix + \", \" + months + mAppendix + \", and \" + days + dAppendix);\n    }\n\n\n    DaysInMonth(date2_UTC) {\n        let monthStart: any = new Date(date2_UTC.getFullYear(), date2_UTC.getMonth(), 1);\n        let monthEnd: any = new Date(date2_UTC.getFullYear(), date2_UTC.getMonth() + 1, 1);\n        let monthLength: any = (monthEnd - monthStart) / (1000 * 60 * 60 * 24);\n        return monthLength;\n    }\n\n    tabscripChange(event) {\n        //console.log(\"tabscripChange = \", event, event.path[0].id == \"k-tabstrip-tab-0\");\n        if (event.keyCode === 9 && (event.path != null && event.path[0].id == \"k-tabstrip-tab-0\")) {\n            this.tabStrip.selectTab(0);\n            let self = this;\n            setTimeout(function () {\n                //console.log(\"setTimeout = \", self.dichVuCombobox);\n                if (self.dichVuCombobox != undefined) {\n                    self.dichVuCombobox.focusManual();\n                }\n            }, 100);\n        }\n    }\n\n    cloneDiaChiNguoiGiamHo() {\n        this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId = this.tiepNhanBenhNhan.TinhThanhId;\n        this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId = this.tiepNhanBenhNhan.QuanHuyenId;\n        this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = this.tiepNhanBenhNhan.PhuongXaId;\n        this.tiepNhanBenhNhan.NguoiLienHeDiaChi = this.tiepNhanBenhNhan.DiaChi;\n    }\n\n    cloneDiaChiNguoiGiamLonHon6Tuoi() {\n        this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId = null;\n        this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId = null;\n        this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = null;\n        this.tiepNhanBenhNhan.NguoiLienHeDiaChi = null;\n    }\n\n\n    ngayCoHieuLucChange($event) {\n        //console.log(\"ngayCoHieuLucChange, event = \", $event, \" , ngaycohieuluc = \", this.tiepNhanBenhNhan.BHYTNgayHieuLuc, this.tiepNhanBenhNhan.BHYTNgayHetHan);\n        if ($event != null && $event != undefined) {\n            //let dateFormat = new Date($event);\n            //this.tiepNhanBenhNhan.BHYTNgayHetHan = new Date(dateFormat.getFullYear() + 1, dateFormat.getMonth(), dateFormat.getDate());\n\n            //BVHD-3518: mặc định là ngà 31/12 của năm hiện tại\n            let currentDate = new Date();\n            this.tiepNhanBenhNhan.BHYTNgayHetHan = new Date(currentDate.getFullYear(), 11, 31);\n        }\n\n    }\n\n    soLuongGridChange($event, dataItem) {\n        let data = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o == dataItem);\n        if ($event != null && $event != undefined && $event != 0) {\n            data[0].SoLuong = $event;\n            this.setGiaBHYT();\n        }\n        else {\n            data[0].SoLuong = 0;\n            this.setGiaBHYT();\n        }\n\n        this.updateSoLuongForDichVuGoi(data[0]);\n    }\n\n    updateSoLuongForDichVuGoi(data: ChiDinhDichVuGridVo) {\n        //console.log(\"updateSoLuongForDichVuGoi = \", data, this.danhSachDichVuDaChonTrongLanPopup, this.tiepNhanBenhNhan.YeuCauKhacGrid);\n        if (data.IsGoiCoChietKhau) {\n            let item = this.danhSachDichVuDaChonTrongLanPopup.filter(o => o.DichVuId == data.MaDichVuId\n                && o.ThuocGoi == data.TenGoiChietKhau);\n\n            if (item != undefined && item.length > 0) {\n                item[0].SoLuongDungLanNay = data.SoLuong;\n            }\n        }\n    }\n\n    loaiGiaGridChange($event, dataItem) {\n        //console.log($event, dataItem);\n        let data = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o == dataItem);\n        if ($event != null && $event != undefined && dataItem != null && dataItem != undefined) {\n            let url = \"TiepNhanBenhNhan/GetDonGiaKyThuat\";\n            if (dataItem.Nhom == \"DỊCH VỤ KỸ THUẬT\") {\n                url = \"TiepNhanBenhNhan/GetDonGiaKyThuat\";\n            }\n            else if (dataItem.Nhom == \"DỊCH VỤ GIƯỜNG\") {\n                url = \"TiepNhanBenhNhan/GetDonGiaGiuongBenh\";\n            }\n            else {\n                url = \"TiepNhanBenhNhan/GetDonGia\";\n            }\n\n            let model: any = {};\n            model.NhomGiaDichVuKhamBenhBenhVienId = $event;\n            model.DichVuKhamBenhBenhVienId = data[0].MaDichVuId;\n            this.apiService.post<any>(url, model).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        //console.log(\"Gia = \", resultData);\n                        if(url == \"TiepNhanBenhNhan/GetDonGiaKyThuat\")\n                        {\n                            data[0].DonGia = resultData.DonGia;\n                        }\n                        else\n                        {\n                            data[0].DonGia = resultData;\n                        }\n                        this.setGiaBHYT();\n                    }\n                    else {\n                        //console.log(\"Gia = \", 0);\n                        data[0].DonGia = 0;\n                        this.setGiaBHYT();\n                    }\n                },\n                (err: any) => {\n                });\n        }\n        else {\n            //console.log(\"Gia = \", 0);\n            data[0].DonGia = 0;\n            this.setGiaBHYT();\n        }\n\n    }\n\n    //============================================================Xử lý thông tin voucher========================================//\n    public listVoucherItem: Array<string> = [];\n    newBarcode: string = \"\";\n    public value: any = [];\n    modelQRCodeVoucher: any;\n\n    QuetMaQRCodeVoucherClick() {\n        let elementBarcode: HTMLElement = document.getElementById(\"barcodeActive\") as HTMLElement;\n        if (elementBarcode != undefined) {\n            elementBarcode.click();\n        }\n    }\n\n    changeVoucherQR($event) {\n        if ($event != null && typeof $event == \"string\" && $event.endsWith(\"@\")) {\n            this.modelQRCodeVoucher = $event;\n            var maVoucher = $event.split(\"@\");\n            if (maVoucher.length > 1) {\n                this.kiemTraThongTinMaVoucher(maVoucher[0]);\n            } else {\n                this.notificationService.showError(\"Mã voucher không hợp lệ.\")\n            }\n        }\n    }\n\n    kiemTraThongTinMaVoucher(maVoucher: any) {\n        this.listVoucherItem = [];\n        this.apiService.post<any>(\"TiepNhanBenhNhan/KiemTraVoucherHopLe?maVoucher=\" + maVoucher)\n            .subscribe((resultData) => {\n                if (resultData.Item1 === 0) {\n                    this.notificationService.showError(resultData.Item2);\n                    this.newBarcode = \"\";\n                } else {\n\n                    let kiemTraMaVoucher: boolean = false;\n                    if (this.tiepNhanBenhNhan.LstMaVoucher.length > 0) {\n                        this.tiepNhanBenhNhan.LstMaVoucher.forEach(element => {\n                            var dataVoucher = element.split(\"|\");\n                            if (dataVoucher[1] === maVoucher) {\n                                kiemTraMaVoucher = true;\n                            }\n                        });\n                    }\n                    if (!kiemTraMaVoucher) {\n                        this.notificationService.showSuccess(resultData.Item2);\n                        //neu voucher thành công\n                        this.value.push(maVoucher);\n                        this.tiepNhanBenhNhan.LstMaVoucher.push(resultData.Item1 + \"|\" + maVoucher);\n                        this.listVoucherItem.push(resultData.Item1 + \"|\" + maVoucher);\n                        this.newBarcode = \"\";\n                    }\n\n                }\n            });\n    }\n\n    public open(): void {\n        this.multiselect.toggle(false);\n    }\n\n    removeTag(ev: any) {\n        let maVouchers = [];\n        if (this.tiepNhanBenhNhan.LstMaVoucher.length > 0) {\n            this.tiepNhanBenhNhan.LstMaVoucher.forEach(element => {\n                var dataVoucher = element.split(\"|\");\n                if (dataVoucher[1] !== ev.dataItem) {\n                    maVouchers.push(dataVoucher[0] + \"|\" + dataVoucher[1])\n                }\n            });\n            this.listVoucherItem = maVouchers;\n            this.tiepNhanBenhNhan.LstMaVoucher = maVouchers;\n            this.newBarcode = \"\";\n            //this.listVoucherItem = this.value;\n        }\n    }\n\n    blurVoucher() {\n        if (this.newBarcode != \"\") {\n            this.kiemTraThongTinMaVoucher(this.newBarcode);\n        };\n    }\n\n    onKeyBarCode(event: any) {\n        if (event.keyCode === 13) {\n            this.multiselect.blur();\n            this.multiselect.focus();\n        }\n    }\n\n    public filterChange(filter: any): void {\n        if (filter != null && filter != \"\") {\n            this.newBarcode = filter;\n        }\n    }\n\n    cacDichVuKM() {\n        this.dialog.open(DichVuKhuyenMaiPopupComponent, {\n            disableClose: false,\n            width: '1500px',\n            data: { BenhNhanId: this.benhNhanIdPopup, DocumentType: \"YeuCauTiepNhan\" }\n        }).afterClosed().subscribe(() => {\n        });\n    }\n\n    //===================================BVHD-3825==========================================\n    xemGoiDichVuKhuyenMai() {\n        var self = this;\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n            // self.dialog.open(LanKhamHienTaiSuDungGoiDichVuPopupComponent, {\n            let dichVuDangChons = [];\n            this.tiepNhanBenhNhan.YeuCauKhacGrid.forEach(element => {\n                if(element.YeuCauGoiDichVuKhuyenMaiId != null && element.YeuCauGoiDichVuKhuyenMaiId != 0)\n                {\n                    let dichVu = {\n                        Id: 0, // mặc định khi chưa lưu vào DB\n                        DichVuBenhVienId: element.MaDichVuId,\n                        NhomGiaId: element.LoaiGiaId,\n                        NhomId: element.NhomId, //EnumNhomGoiDichVu.DichVuKyThuat, // là nhóm dịch vụ kỹ thuật\n                        YeuCauGoiDichVuId: element.YeuCauGoiDichVuKhuyenMaiId,\n                        SoLuong: element.SoLuong\n                    };\n                    dichVuDangChons.push(dichVu);\n                }\n            });\n            self.dialog.open(DichVuKhuyenMaiPopupComponent, {\n                disableClose: false,\n                width: '1800px',\n                data: { DocumentType: self.documentType, BenhNhanId: self.benhNhanIdPopup, DichVuDangChons: dichVuDangChons}\n            }).afterClosed().subscribe(yeuCauGoiMarketing => {\n                if(yeuCauGoiMarketing != undefined && yeuCauGoiMarketing != null && yeuCauGoiMarketing != \"\")\n                {\n                    let dateNow = new Date((new Date()).toDateString());\n                    yeuCauGoiMarketing.YeuCauTiepNhanId = 0;\n                    yeuCauGoiMarketing.DuocHuongBaoHiem = this.tiepNhanBenhNhan.CoBHYT && this.tiepNhanBenhNhan.LyDoVaoVien == 1 && this.tiepNhanBenhNhan.BHYTNgayHetHan >= dateNow;\n                    self.xuLyThemNhomDichVuKhuyenMai(yeuCauGoiMarketing);\n                }\n            });\n        }\n        else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    xuLyThemNhomDichVuKhuyenMai(yeuCauGoiMarketing: ChiDinhGoiDichVuTheoBenhNhan) {\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        //ThemYeuGoiDichVuThuongDungTaoMoiYCTN\n        this.apiService.post<any>(\"TiepNhanBenhNhan/ThemChiDinhGoiDichVuKhuyenMaiKhiTaoYeuCauTiepNhan\", yeuCauGoiMarketing).subscribe(result => {\n            if (result) {\n                result.DichVuKhamBenhs.forEach(element => {\n                    element.LoaiDichVuKhac = 3;\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.push(element);\n                });\n\n                result.DichVuKyThuats.forEach(element => {\n                    element.LoaiDichVuKhac = 4;\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.push(element);\n                });\n\n                this.setDataForDichVuKhac();\n                this.setGiaBHYT();\n                this.refreshGrid();\n                this.removeThemDichVuValue();\n                this.removeThemGoiValue();\n\n                let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm\"]);\n                this.notificationService.showSuccess(mess);\n            }\n            this.closePopupLoadingData();\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n\n    showPopupLoadingData(typeLoading: EnumTypeLoadingData = EnumTypeLoadingData.View) {\n        let mess = \"\";\n        switch (typeLoading) {\n            case EnumTypeLoadingData.View:\n                mess = \"Đang tải dữ liệu...\"; break;\n            case EnumTypeLoadingData.Update:\n                mess = \"Đang lưu dữ liệu...\"; break;\n            case EnumTypeLoadingData.Delete:\n                mess = \"Đang xóa dữ liệu...\"; break;\n            case EnumTypeLoadingData.Cancel:\n                mess = \"Đang hủy dữ liệu...\"; break;\n            default: mess = \"Đang tải dữ liệu...\";\n        }\n\n        this.loadingDataPopup = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: mess }\n        });\n    }\n\n    closePopupLoadingData() {\n        if (this.loadingDataPopup) {\n            this.loadingDataPopup.close();\n        }\n    }\n\n    //======================================================================================\n\n\n    // cap nhat goi marketing\n    changeDichVuTrongGoi(event, dataItem) {\n        if (dataItem.IsDichVuTrongGoi) {\n            if (event) {\n                dataItem.IsGoiCoChietKhau = true;\n                dataItem.GoiCoChietKhauId = dataItem.GoiCoChietKhauIdTemp;\n            }\n            else {\n                dataItem.IsGoiCoChietKhau = false;\n                dataItem.GoiCoChietKhauId = null;\n            }\n        }\n    }\n\n    tinhThanhTienDichVuBaoGomTrongGoiTheGroup(group, value) {\n        console.log('tinhThanhTienDichVuBaoGomTrongGoiTheGroup', group, value);\n        console.log('tinhThanhTienDichVuBaoGomTrongGoi')\n        console.log('this.tiepNhanBenhNhan.YeuCauKhacGrid', this.tiepNhanBenhNhan.YeuCauKhacGrid);\n        return this.tiepNhanBenhNhan.YeuCauKhacGrid\n            .reduce((sum, item) => (sum + (item.GoiCoChietKhauId != null ? item.ThanhTienSauChietKhau : item.ThanhTien)), 0);\n        // event.Data.forEach(element => {\n        //     let donGia = element.GoiCoChietKhauId != null ? element.DonGiaSauChietKhau : element.DonGia;\n        //     this.thanhTienDichVuChiDinhBaoGomDichVuTrongGoi += donGia * element.SoLuong;\n        // });\n    }\n\n    // nhóm dịch vụ thường dùng\n    xemNhomDichVuThuongDung() {\n        var self = this;\n        let boPhan = BoPhan.TiepNhanNgoaiTru;\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n            self.dialog.open(LanKhamHienTaiNhomDichVuThuongDungPopupComponent, {\n                disableClose: false,\n                width: '1500px',\n                data: { DocumentType: self.documentType, boPhan: boPhan }\n            }).afterClosed().subscribe(yeuCauGoiThuongDung => {\n                if (yeuCauGoiThuongDung) {\n                    yeuCauGoiThuongDung.DanhSachDichVuChons = self.tiepNhanBenhNhan.YeuCauKhacGrid;\n                    self.apiService.post<Array<ChiDinhGoiDichVuThuongDungDichVuLoi>>(\"TiepNhanBenhNhan/KiemTraDichVuTrongGoiDaCoTheoDichVuTrongGrid\", yeuCauGoiThuongDung).subscribe(resultData => {\n                        if (resultData && resultData.length > 0) {\n                            self.dialog.open(LanKhamHienTaiNhomDichVuLoiPopupComponent, {\n                                disableClose: false,\n                                width: '1200px',\n                                data: { arrDichVuCanhBao: resultData, DocumentType: this.documentType }\n                            }).afterClosed().subscribe(dichVuKhongThems => {\n                                if (dichVuKhongThems) {\n                                    yeuCauGoiThuongDung.DichVuKhongThems = dichVuKhongThems;\n                                    self.xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung);\n                                }\n                            });\n                        }\n                        else {\n                            self.xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung);\n                        }\n                    },\n                        (err: ApiError) => {\n                            self.validationErrors = err.ValidationErrors;\n                            if (err.Message != \"Validation Failed\") {\n                                self.notificationService.showError(err.Message);\n                            }\n                        });\n                }\n            });\n        }\n        else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung: ChiDinhGoiDichVuThuongDung) {\n        // code toàn cheat, giờ cũng phải cheat theo\n        let dateNow = new Date((new Date()).toDateString());\n        yeuCauGoiThuongDung.DuocHuongBaoHiem = this.tiepNhanBenhNhan.CoBHYT && this.tiepNhanBenhNhan.LyDoVaoVien == 1 && this.tiepNhanBenhNhan.BHYTNgayHetHan >= dateNow;\n        this.apiService.post<any>(\"TiepNhanBenhNhan/ThemYeuGoiDichVuThuongDungTaoMoiYCTN\", yeuCauGoiThuongDung).subscribe(result => {\n            if (result) {\n                result.DichVuKhamBenhs.forEach(element => {\n                    element.LoaiDichVuKhac = 3;\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.push(element);\n                    \n                });\n\n                result.DichVuKyThuats.forEach(element => {\n                    element.LoaiDichVuKhac = 4;\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.push(element);\n                    // this.setDataForDichVuKhac();\n                    // this.setGiaBHYT();\n                    // this.refreshGrid();\n                });\n\n                this.setDataForDichVuKhac();\n                this.setGiaBHYT();\n                this.refreshGrid();\n                this.removeThemDichVuValue();\n                this.removeThemGoiValue();\n\n                let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm\"]);\n                this.notificationService.showSuccess(mess);\n            }\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n            });\n    }\n\n    // cập nhật điều kiện tạo mới yctn\n    //================================================================================================\n    chuyenVeTrangCapNhatYCTN(){\n        this.router.navigate([this.urlPageUpdateYCTN]);\n    }\n\n    xuLyKiemTraBenhNhanDuDieuKienTaoMoiYCTN(coTheBHYT: boolean = null) {\n        if (this.tiepNhanBenhNhan.BenhNhanId != undefined\n            && this.tiepNhanBenhNhan.BenhNhanId != null\n            && this.tiepNhanBenhNhan.BenhNhanId != 0) {\n            console.log('this.tiepNhanBenhNhan.CoBHYT', this.tiepNhanBenhNhan.CoBHYT);\n            let laKiemTraCungNgay = coTheBHYT == null ? this.tiepNhanBenhNhan.CoBHYT != true : coTheBHYT != true;\n            this.apiService.post<any>(\"TiepNhanBenhNhan/KiemTraDieuKienTaoMoiYeuCauTiepNhan?benhNhanId=\" + this.tiepNhanBenhNhan.BenhNhanId + \"&laKiemTraCungNgay=\" + laKiemTraCungNgay).subscribe(\n                resultData => {\n                    this.errMessageKhongChoPhepTaoMoiYCTN = resultData.ErrorMessage;\n                    if(resultData.YeuCauTiepNhanId != null)\n                    {\n                        this.urlPageUpdateYCTN = 'danh-sach-tiep-nhan/chinh-sua/' + resultData.YeuCauTiepNhanId;\n                    }\n                },\n                (err: ApiError) => {\n                    if (err.Message != \"Validation Failed\") {\n                        this.notificationService.showError(err.Message);\n                    }\n                });\n        }\n    }\n\n    kiemTraTheBHYTKhiTaoYCTNMoi(){\n        this.isCheckedBHYT = true;\n\n        this.thongTinBenhNhan.MaThe = this.tiepNhanBenhNhan.BHYTMaSoThe;\n        this.thongTinBenhNhan.TenBenhNhan = this.tiepNhanBenhNhan.HoTen;\n        this.thongTinBenhNhan.NgaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n        this.thongTinBenhNhan.NamSinh = this.tiepNhanBenhNhan.NamSinh;\n\n        var datePipe = new DatePipe(\"en-US\");\n        this.thongTinBenhNhan.NgaySinhDisplay = datePipe.transform(this.tiepNhanBenhNhan.NgayThangNamSinh, 'dd/MM/yyyy');\n\n        if (this.thongTinBenhNhan.MaThe != null && this.thongTinBenhNhan.TenBenhNhan != null\n            && (this.thongTinBenhNhan.NgaySinh != null || this.thongTinBenhNhan.NamSinh != null)) {\n            this.dialog.open(TiepNhanBenhNhanChoQuetComponent, {\n                disableClose: true,\n                width: '500px',\n                height: '250px',\n                data: this.thongTinBenhNhan,\n            }).afterClosed().subscribe(result => {\n                if (result === undefined) {\n                    //cheat vi khong hieu sao ra duoc\n                }\n                // else if (result == null || (result != null && result.maKetQua == \"050\")) {\n                else if (result == null || (result != null && result.maKetQua !== \"000\" && result.maKetQua !== \"004\")) {\n                    this.tiepNhanBenhNhan.MessageErrFromBHYT = result != null ? result.ghiChu : null;\n                    this.dialog.open(TiepNhanBenhNhanErrorComponent, {\n                        disableClose: false,\n                        width: '700px',\n                        height: '300px',\n                        data: this.tiepNhanBenhNhan,\n                    }).afterClosed().subscribe(resultData => {\n                        this.isCheckedBHYT = false;\n                        if (resultData == 2) {\n                            this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                            this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                            this.tiepNhanBenhNhan.CoBHYT = true;\n                            this.tiepNhanBenhNhan.TuNhap = true;\n                        }\n                        else if (resultData == 1) {\n                            this.tiepNhanBenhNhan.CoBHYT = false;\n                            this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                            this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                        }\n                        else if (resultData != undefined) {\n                            this.setValueBHYT(result);\n                        }\n                    });\n                }\n                else {\n                    this.isCheckedBHYT = false;\n                    this.setValueBHYT(result);\n                }\n            });\n        }\n        else {\n            this.isCheckedBHYT = false;\n        }\n    }\n    //================================================================================================\n\n    // BVHD-3481\n    //================================================================================================\n    xuLyTaoYeuCauTiepNhan(coInPhieu: boolean = false) {\n        this.loading = true;\n        this.validationErrors = [];\n        if (this.tiepNhanBenhNhan.BenhNhanId == null || this.tiepNhanBenhNhan.BenhNhanId == 0) {\n            this.apiService.post<any>(\"TiepNhanBenhNhan/KiemTraBenhNhanTrongHeThong\", this.tiepNhanBenhNhan).subscribe(result => {\n                if (result != null) {\n                    this.dialog.open(ConfirmComponent, {\n                        disableClose: false,\n                        width: '400px',\n                        data: { Title: \"Xác nhận\", Message: result.Message }\n                    }).afterClosed().subscribe(result => {\n                        if (result == \"Yes\") {\n                            if (coInPhieu) {\n                                this.luuVaInPhieu();\n                            }\n                            else {\n                                this.luuPhieu();\n                            }\n                        }\n                        else{\n                            this.loading = false;\n                        }\n                    });\n                }\n                else {\n                    if (coInPhieu) {\n                        this.luuVaInPhieu();\n                    }\n                    else {\n                        this.luuPhieu();\n                    }\n                }\n            },\n            (err: ApiError) => {\n                var self = this;\n                self.loading = false;\n                if (err != undefined && err.ValidationErrors != null) {\n                    let itemGiamHoValidate = err.ValidationErrors.find(p => p.Field == \"NguoiLienHeHoTen\"\n                        || p.Field == \"NguoiLienHeQuanHeNhanThanId\" || p.Field == \"NguoiLienHeSoDienThoai\");\n                    if (itemGiamHoValidate != null && itemGiamHoValidate != undefined) {\n                        self.tabStrip.selectTab(2);;\n                    }\n\n                    self.validationErrors = err.ValidationErrors;\n                }\n                else if (err != undefined && err.Message != \"Validation Failed\") {\n                    self.notificationService.showError(err.Message);\n                }\n            });\n        }\n        else {\n            if (coInPhieu) {\n                this.luuVaInPhieu();\n            }\n            else {\n                this.luuPhieu();\n            }\n        }\n    }\n    //================================================================================================\n    \n    // BVHD-3761\n    //================================================================================================\n    getListDichVuSarsCoVs(){\n        this.apiService.get<DichVuKyThuatBenhVienIdsSarsCoVLoaiBenhPham>(\"TiepNhanBenhNhan/GetSarsCoVs\").subscribe(\n            resultData => {\n                this.dichVuSarsCoVs = [];\n                this.dichVuSarsCoVs =resultData.Ids;\n                this.loaiBenhPham = resultData.LoaiMauXetNghiem\n                this.loaiBenhPhamText = resultData.LoaiMauXetNghiemText\n            });\n    }\n    //================================================================================================\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 550px;\\n}\\n\\n.container-iframe iframe {\\n  margin-bottom: 10px;\\n  -webkit-backface-visibility: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4veGVtLXRydW9jLWJhbmcta2UtY2hpLXBoaS1wb3VwL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcdGllcC1uaGFuLWJlbmgtbmhhblxceGVtLXRydW9jLWJhbmcta2UtY2hpLXBoaS1wb3VwXFx4ZW0tdHJ1b2MtYmFuZy1rZS1jaGktcGhpLXBvdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3hlbS10cnVvYy1iYW5nLWtlLWNoaS1waGktcG91cC94ZW0tdHJ1b2MtYmFuZy1rZS1jaGktcGhpLXBvdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0FDQ0Y7O0FERUE7RUFDRSxtQkFBQTtFQUNBLG1DQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGllcC1uaGFuLWJlbmgtbmhhbi94ZW0tdHJ1b2MtYmFuZy1rZS1jaGktcGhpLXBvdXAveGVtLXRydW9jLWJhbmcta2UtY2hpLXBoaS1wb3VwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDU1MHB4O1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcbn0iLCIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTUwcHg7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xufSJdfQ== */\"","import { Component, Inject, OnInit } from \"@angular/core\";\nimport { MatDialog, MAT_DIALOG_DATA } from \"@angular/material\";\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { debug } from \"console\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { CommonService } from \"src/app/core/utilities/common.helper\";\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { ApiError } from \"src/app/shared/models/api-error.model\";\nimport icFullscreen from \"@iconify/icons-ic/twotone-fullscreen\";\nimport icFullscreenExit from \"@iconify/icons-ic/twotone-fullscreen-exit\";\ndeclare var jQuery: any;\n@Component({\n\tselector: \"app-xem-truoc-bang-ke-chi-phi-poup\",\n\ttemplateUrl: \"./xem-truoc-bang-ke-chi-phi-poup.component.html\",\n\tstyleUrls: [\"./xem-truoc-bang-ke-chi-phi-poup.component.scss\"],\n})\nexport class XemTruocBangKeChiPhiPopupComponent implements OnInit {\n\ticClose = icClose;\n\tarrFilePdf: Array<any> = [];\n\tarrFileUrl: Array<any> = [];\n\tpopupLoadingData: any;\n\n\ticFullscreen = icFullscreen;\n\ticFullscreenExit = icFullscreenExit;\n\tisFullscreen: boolean = false;\n\n\tWidth: number = 800;\n\tHeight: number = 600;\n\tloadingPopup: any;\n\tyeuCauTiepNhanId: any;\n\n\tconstructor(@Inject(MAT_DIALOG_DATA) public data: any, private apiService: ApiService, private dialog: MatDialog, private notificationService: NotificationService) { }\n\n\tngOnInit() {\n\t\tthis.getALlFilePDFFromHtml(this.data);\n\t\tthis.yeuCauTiepNhanId = this.data;\n\n\t\tthis.fullscreen();\n\t}\n\n\tgetALlFilePDFFromHtml(id: any) {\n\t\tthis.showPopupLoadingData();\n\t\tlet hostingName = \"http://\" + \"//\" + window.location.host;\n\t\tthis.apiService.postExportPdf<any>(\"ThuNgan/XemTruocBangKeChiPhi?yeuCauTiepNhanId=\" + id + \"&hostingName=\" + hostingName).subscribe(\n\t\t\tfile => {\n\t\t\t\tlet newBlob = new Blob([file], { type: \"application/pdf\" });\n\t\t\t\tlet datalocalURL = window.URL.createObjectURL(newBlob);\n\t\t\t\tthis.arrFileUrl.push(datalocalURL);\n\t\t\t\tthis.arrFilePdf.push(file);\n\t\t\t\tthis.closePopupLoadingData();\n\t\t\t},\n\t\t\t(err: ApiError) => {\n\t\t\t\tthis.closePopupLoadingData();\n\t\t\t}\n\t\t);\n\t}\n\n\tdownloadAllFile() {\n\t\tconst dateTimeNow = new Date();\n\t\tthis.arrFilePdf.forEach((file) => {\n\t\t\tCommonService.downLoadFile(file, \"application/pdf\", \"PhieuThuNgan\" + dateTimeNow.getFullYear() + \".pdf\");\n\t\t});\n\t}\n\n\tshowPopupLoadingData() {\n\t\tif (this.popupLoadingData == undefined || this.popupLoadingData == null || this.popupLoadingData.openDialogs == undefined || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n\t\t\tthis.popupLoadingData = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: \"200px\",\n\t\t\t\theight: \"90px\",\n\t\t\t\tdata: { Title: \"Đang tải dữ liệu...\" },\n\t\t\t});\n\t\t}\n\t}\n\n\tclosePopupLoadingData() {\n\t\tif (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n\t\t\tthis.popupLoadingData.close();\n\t\t}\n\t}\n\n\n\tketXuatBangKeChiPhiExcel() {\n\t\tthis.apiService.postExportExcel<any>(\"ThuNgan/XuatBangKeNgoaiTruCoBHYTExcel?yeuCauTiepNhanId=\" + this.yeuCauTiepNhanId)\n\t\t\t.subscribe(res => {\n\t\t\t\tthis.showLoadingPopup();\n\t\t\t\tif (res.byteLength != 4) {\n\t\t\t\t\tlet dateTimeNow = new Date();\n\t\t\t\t\tCommonService.downLoadFile(res, \"application/vnd.ms-excel\", \"XuatBangKeNgoaiTruCoBHYT\" + dateTimeNow.getFullYear() + \".xlsx\");\n\t\t\t\t}\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t}, err => {\n\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t});\n\n\t\tthis.apiService.postExportExcel<any>(\"ThuNgan/XuatBangKeNgoaiTruExcel?yeuCauTiepNhanId=\" + this.yeuCauTiepNhanId)\n\t\t\t.subscribe(res => {\n\t\t\t\tthis.showLoadingPopup();\n\t\t\t\tif (res.byteLength != 4) {\n\t\t\t\t\tlet dateTimeNow = new Date();\n\t\t\t\t\tCommonService.downLoadFile(res, \"application/vnd.ms-excel\", \"XuatBangKeNgoaiTru\" + dateTimeNow.getFullYear() + \".xlsx\");\n\t\t\t\t}\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t}, err => {\n\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t});\n\n\t\tthis.apiService.postExportExcel<any>(\"ThuNgan/XuatBangKeNgoaiTruTrongGoiDv?yeuCauTiepNhanId=\" + this.yeuCauTiepNhanId)\n\t\t\t.subscribe(res => {\n\t\t\t\tthis.showLoadingPopup();\n\t\t\t\tif (res.byteLength != 4) {\n\t\t\t\t\tlet dateTimeNow = new Date();\n\t\t\t\t\tCommonService.downLoadFile(res, \"application/vnd.ms-excel\", \"XuatBangKeNgoaiTruTrongGoiDv\" + dateTimeNow.getFullYear() + \".xlsx\");\n\t\t\t\t}\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t}, err => {\n\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t});\n\t}\n\n\tfullscreen() {\n\t\tthis.fullScreenDialog(this.isFullscreen, this.Height, this.Width, 200);\n\t\tthis.isFullscreen = !this.isFullscreen;\n\t}\n\n\tpublic fullScreenDialog(isFullscreen: boolean, Height: any, Width: any, heightHeaderFooter: number) {\n\t\tif (isFullscreen) {\n\t\t\tjQuery(\".cdk-overlay-pane\").css({ \"height\": (Height != null ? Height : \"auto\"), \"width\": Width, \"max-width\": Width });\n\t\t\tjQuery(\".mat-dialog-content\").css({ \"height\": Height - (heightHeaderFooter != null ? heightHeaderFooter : 0), \"max-height\": Height - (heightHeaderFooter != null ? heightHeaderFooter : 0) });\n\t\t}\n\t\telse {\n\t\t\tjQuery(\".cdk-overlay-pane\").css({ \"height\": \"97%\", \"width\": \"100%\", \"max-width\": \"97%\" });\n\t\t\tjQuery(\".mat-dialog-content\").css({ \"height\": (jQuery(window).height() - (heightHeaderFooter != null ? heightHeaderFooter : 150)), \"max-height\": jQuery(window).height() - (heightHeaderFooter != null ? heightHeaderFooter : 150) });\n\t\t}\n\t}\n\n\tshowLoadingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang tải...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tshowSavingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang lưu...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tcloseAllDialogs() {\n\t\tif (this.loadingPopup) {\n\t\t\tthis.loadingPopup.close();\n\t\t\tthis.loadingPopup = null;\n\t\t}\n\t}\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3huLWNvdmlkLXBvcHVwL3huLWNvdmlkLXBvcHVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit,Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { XetNghiemCovid } from '../tiep-nhan-benh-nhan.model';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n@Component({\n  selector: 'app-xn-covid-popup',\n  templateUrl: './xn-covid-popup.component.html',\n  styleUrls: ['./xn-covid-popup.component.scss']\n})\nexport class XnCovidPopupComponent implements OnInit {\n  xetNghiemCovid = new XetNghiemCovid();\n\n  icClose = icClose;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any,\n  public dialogRef: MatDialogRef<XnCovidPopupComponent>,) { }\n  loaiMauXetNghiemText :string =null;\n\n  ngOnInit() {\n    this.xetNghiemCovid.LoaiBenhPham =this.data.LoaiMauXetNghiemText;\n  }\n  save(){\n    this.dialogRef.close(this.xetNghiemCovid);\n  }\n  close(){\n    this.dialogRef.close();\n  }\n}\n"]}