{"version":3,"sources":["./node_modules/@iconify/icons-ic/arrow-downward.js","./node_modules/@iconify/icons-ic/assignment.js","./node_modules/@iconify/icons-ic/attach-file.js","./node_modules/@iconify/icons-ic/baseline-add-photo-alternate.js","./node_modules/@iconify/icons-ic/baseline-info.js","./node_modules/@iconify/icons-ic/block.js","./node_modules/@iconify/icons-ic/check.js","./node_modules/@iconify/icons-ic/code.js","./node_modules/@iconify/icons-ic/comment.js","./node_modules/@iconify/icons-ic/date-range.js","./node_modules/@iconify/icons-ic/done.js","./node_modules/@iconify/icons-ic/event-note.js","./node_modules/@iconify/icons-ic/group.js","./node_modules/@iconify/icons-ic/local-offer.js","./node_modules/@iconify/icons-ic/location-on.js","./node_modules/@iconify/icons-ic/more-horiz.js","./node_modules/@iconify/icons-ic/outline-cancel.js","./node_modules/@iconify/icons-ic/outline-save.js","./node_modules/@iconify/icons-ic/perm-contact-calendar.js","./node_modules/@iconify/icons-ic/person.js","./node_modules/@iconify/icons-ic/phone.js","./node_modules/@iconify/icons-ic/play-circle-filled.js","./node_modules/@iconify/icons-ic/swap-horiz.js","./node_modules/@iconify/icons-ic/timeline.js","./node_modules/@iconify/icons-ic/twotone-cloud-download.js","./node_modules/@iconify/icons-ic/twotone-history.js","./node_modules/@iconify/icons-ic/twotone-hourglass-full.js","./node_modules/@iconify/icons-ic/view-quilt.js","./node_modules/@iconify/icons-ic/visibility.js","./node_modules/@iconify/icons-ic/wc.js","./node_modules/@iconify/icons-ic/work.js","./src/app/modules/main/dich-vu-khuyen-mai/dich-vu-khuyen-mai-popup/dich-vu-khuyen-mai-popup.component.html","./src/app/modules/main/dieu-tri-noi-tru/danh-sach-dieu-tri-noi-tru/phieu-dieu-tri/phieu-dieu-tri-popup-in-phieu-cls/phieu-dieu-tri-popup-in-phieu-cls.component.html","./src/app/modules/main/kham-benh/danh-sach-da-kham-list/danh-sach-da-kham-list.component.html","./src/app/modules/main/kham-benh/danh-sach-da-kham-list/popup-message-khong-co-dv-in-dk/popup-message-khong-co-dv-in-dk.component.html","./src/app/modules/main/kham-benh/danh-sach-da-kham-list/toa-thuoc-kham-benh-comfirm-dk/toa-thuoc-kham-benh-comfirm-dk.component.html","./src/app/modules/main/kham-benh/danh-sach-da-kham-list/toa-thuoc-kham-benh-dk-popup/toa-thuoc-kham-benh-dk-popup.component.html","./src/app/modules/main/kham-benh/kham-benh-cho-kham-list/kham-benh-cho-kham-list.component.html","./src/app/modules/main/kham-benh/kham-benh/ket-luan-nguoi-benh-hang-doi-chung-popup/ket-luan-nguoi-benh-hang-doi-chung-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-dich-vu-chua-thuc-hien-popup/kham-benh-dich-vu-chua-thuc-hien-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/kham-benh-lich-su-kham-list.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-bo-phan-ton-thuong/lich-su-kham-benh-bo-phan-ton-thuong.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-chan-doan-phan-biet/lich-su-kham-benh-chan-doan-phan-biet.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-chi-dinh/lich-su-kham-benh-chi-dinh.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-chi-so-sinh-ton/lich-su-kham-benh-chi-so-sinh-ton.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-di-ung-thuoc/lich-su-kham-benh-di-ung-thuoc.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-ke-toa/lich-su-kham-benh-ke-toa.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-ket-luan/lich-su-kham-benh-ket-luan.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-ket-qua-cls/lich-su-kham-benh-ket-qua-cls.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-kham-benh/lich-su-kham-benh-kham-benh.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-kham-khac/lich-su-kham-benh-kham-khac.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-phau-thuat-thu-thuat/lich-su-kham-benh-phau-thuat-thu-thuat.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-popup-detail/lich-su-kham-benh-popup-detail.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-tien-su-benh/lich-su-kham-benh-tien-su-benh.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh/lich-su-kham-benh.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-doan-tu-van-thuoc/lich-su-kham-doan-tu-van-thuoc.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/xac-nhan-chuyen-trang-thai-dich-vu/xac-nhan-chuyen-trang-thai-dich-vu.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-thong-tin-doi-tuong-popup/kham-benh-thong-tin-doi-tuong-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh-tim-benh-nhan-popup/kham-benh-tim-benh-nhan-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/kham-benh.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/cap-nhat-thong-tin-thuc-hien-dvkt-popup/cap-nhat-thong-tin-thuc-hien-dvkt-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/chan-doan-cua-bac-si-khac-popup/chan-doan-cua-bac-si-khac-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/chinh-sua-don-thuoc-chi-tiet-popup/chinh-sua-don-thuoc-chi-tiet-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/chinh-sua-vat-tu-chi-tiet-popup/chinh-sua-vat-tu-chi-tiet-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/don-thuoc-bac-si-khac-ke-popup/don-thuoc-bac-si-khac-ke-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/giay-chuyen-vien-popup/giay-chuyen-vien-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/huy-dich-vu-huy-thanh-toan-popup/huy-dich-vu-huy-thanh-toan-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/in-bang-kham-benh-chi-dinh/in-bang-kham-benh-chi-dinh.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/in-thuoc-tu-van-kham-doan-popup/in-thuoc-tu-van-kham-doan-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-benh-nhan-dang-lam-chi-dinh-popup/lan-kham-hien-tai-benh-nhan-dang-lam-chi-dinh-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-benh-nhan-tiep-theo-popup/lan-kham-hien-tai-benh-nhan-tiep-theo-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-bo-phan-ton-thuong-popup/lan-kham-hien-tai-bo-phan-ton-thuong-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-bo-phan-ton-thuong/lan-kham-hien-tai-bo-phan-ton-thuong.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-cap-nhat-ghi-nhan-vtth-thuoc-popup/lan-kham-hien-tai-cap-nhat-ghi-nhan-vtth-thuoc-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-chan-doan-phan-biet/lan-kham-hien-tai-chan-doan-phan-biet.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-chi-dinh-cua-bac-si-khac-popup/lan-kham-hien-tai-chi-dinh-cua-bac-si-khac-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-chuyen-kham/lan-kham-hien-tai-chuyen-kham.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-hoan-thanh-kham-popup/lan-kham-hien-tai-hoan-thanh-kham-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-hoan-tra-thuoc-vtth-popup/lan-kham-hien-tai-hoan-tra-thuoc-vtth-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/ap-dung-lich-su-ke-toa-confirm-popup/ap-dung-lich-su-ke-toa-confirm-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-ap-dung-toa-thuoc-popup/lan-kham-hien-tai-ap-dung-toa-thuoc-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-in-toa-thuoc-popup/lan-kham-hien-tai-in-toa-thuoc-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-in-vat-tu-popup/lan-kham-hien-tai-in-vat-tu-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-ke-toa.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/trung-thuoc-popup/trung-thuoc-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ket-luan-kham-doan/lan-kham-hien-tai-ket-luan-kham-doan.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ket-luan/lan-kham-hien-tai-ket-luan.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ket-qua-cls/lan-kham-hien-tai-ket-qua-cls.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-chi-dinh/lan-kham-hien-tai-kham-benh-chi-dinh.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-chi-so-sinh-ton/lan-kham-hien-tai-kham-benh-chi-so-sinh-ton.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-di-ung-thuoc/lan-kham-hien-tai-kham-benh-di-ung-thuoc.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-goi-dich-vu-popup/lan-kham-hien-tai-kham-benh-goi-dich-vu-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-kham-benh/lan-kham-hien-tai-kham-benh-kham-benh.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-tien-su-benh/lan-kham-hien-tai-kham-benh-tien-su-benh.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh/lan-kham-hien-tai-kham-benh.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-khac/lan-kham-hien-tai-kham-khac.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ls-cls/lan-kham-hien-tai-ls-cls.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-loi-popup/lan-kham-hien-tai-nhom-dich-vu-loi-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-phau-thuat-thu-thuat/lan-kham-hien-tai-phau-thuat-thu-thuat.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-so-do-giuong-popup/lan-kham-hien-tai-so-do-giuong-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-su-dung-goi-dich-vu-popup/lan-kham-hien-tai-su-dung-goi-dich-vu-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-tu-van-thuoc-kham-doan/lan-kham-hien-tai-tu-van-thuoc-kham-doan.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-vat-tu-tieu-hao/lan-kham-hien-tai-vat-tu-tieu-hao.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lay-mau-xet-nghiem-ket-qua-mot-file-popup/lay-mau-xet-nghiem-ket-qua-mot-file-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lay-mau-xet-nghiem-ket-qua-popup/lay-mau-xet-nghiem-ket-qua-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/nghi-huong-bhyt-confirm-popup/nghi-huong-bhyt-confirm-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/nghi-huong-bhyt-detail-popup/nghi-huong-bhyt-detail-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/noi-dung-mau-kham-benh-popup/noi-dung-mau-kham-benh-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/phau-thuat-thu-thuat-popup-chon-anh/phau-thuat-thu-thuat-popup-chon-anh.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/phau-thuat-thu-thuat-tuong-trinh/phau-thuat-thu-thuat-tuong-trinh.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/phieu-in-xet-nghiem-popup/phieu-in-xet-nghiem-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/phieu-kham-benh-popup/phieu-kham-benh-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/phieu-kham-benh-vao-vien-popup/phieu-kham-benh-vao-vien-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/sua-thuoc-tu-van-kham-doan-popup/sua-thuoc-tu-van-kham-doan-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/them-thuoc-khong-bhyt/them-thuoc-khong-bhyt.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/view-image-pdf-list/view-image-pdf-list.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/xn-covid-sarscov2-popup/xn-covid-sarscov2-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/yeu-cau-xet-nghiem-lai-popup/yeu-cau-xet-nghiem-lai-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/ngay-duong-thai-popup/ngay-duong-thai-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/ngay-duong-thai-xac-nhan-popup/ngay-duong-thai-xac-nhan-popup.component.html","./src/app/modules/main/kham-benh/kham-benh/xn-sars-cov2-popup/xn-sars-cov2-popup.component.html","./src/app/modules/main/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-chuyen-phong-kham-popup/lan-kham-hien-tai-chuyen-phong-kham-popup.component.html","./src/app/modules/main/kham-benh/lich-su-kham-benh-popup/lich-su-kham-benh-popup.component.html","./src/app/modules/main/kham-benh/lich-su-kham-benh/lich-su-kham-benh-chi-tiet/lich-su-kham-benh-chi-tiet.component.html","./src/app/modules/main/kham-doan/kham-doan-ket-luan-cls-ksk/ket-qua-mau-popup/ket-qua-mau-popup.component.html","./src/app/modules/main/kham-doan/kham-doan-ket-luan/ket-luan-kham-suc-khoe-doan-ket-qua-mau-popup/ket-luan-kham-suc-khoe-doan-ket-qua-mau-popup.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/pttt-cls-in-chi-dinh/pttt-cls-in-chi-dinh.component.html","./src/app/modules/main/popup-chon-loai-In/popup-chon-loai-in-view/popup-chon-loai-in-view.component.html","./src/@vex/layout/layout.module.ts","./src/app/modules/main/dich-vu-khuyen-mai/dich-vu-khuyen-mai-popup/dich-vu-khuyen-mai-popup.component.scss","./src/app/modules/main/dich-vu-khuyen-mai/dich-vu-khuyen-mai-popup/dich-vu-khuyen-mai-popup.component.ts","./src/app/modules/main/dich-vu-khuyen-mai/dich-vu-khuyen-mai-routing.module.ts","./src/app/modules/main/dich-vu-khuyen-mai/dich-vu-khuyen-mai.model.ts","./src/app/modules/main/dich-vu-khuyen-mai/dich-vu-khuyen-mai.module.ts","./src/app/modules/main/dieu-tri-noi-tru/danh-sach-dieu-tri-noi-tru/phieu-dieu-tri/phieu-dieu-tri-popup-in-phieu-cls/phieu-dieu-tri-popup-in-phieu-cls.component.scss","./src/app/modules/main/dieu-tri-noi-tru/danh-sach-dieu-tri-noi-tru/phieu-dieu-tri/phieu-dieu-tri-popup-in-phieu-cls/phieu-dieu-tri-popup-in-phieu-cls.component.ts","./src/app/modules/main/kham-benh/danh-sach-da-kham-list/danh-sach-da-kham-list.component.scss","./src/app/modules/main/kham-benh/danh-sach-da-kham-list/danh-sach-da-kham-list.component.ts","./src/app/modules/main/kham-benh/danh-sach-da-kham-list/popup-message-khong-co-dv-in-dk/popup-message-khong-co-dv-in-dk.component.scss","./src/app/modules/main/kham-benh/danh-sach-da-kham-list/popup-message-khong-co-dv-in-dk/popup-message-khong-co-dv-in-dk.component.ts","./src/app/modules/main/kham-benh/danh-sach-da-kham-list/toa-thuoc-kham-benh-comfirm-dk/toa-thuoc-kham-benh-comfirm-dk.component.scss","./src/app/modules/main/kham-benh/danh-sach-da-kham-list/toa-thuoc-kham-benh-comfirm-dk/toa-thuoc-kham-benh-comfirm-dk.component.ts","./src/app/modules/main/kham-benh/danh-sach-da-kham-list/toa-thuoc-kham-benh-dk-popup/toa-thuoc-kham-benh-dk-popup.component.scss","./src/app/modules/main/kham-benh/danh-sach-da-kham-list/toa-thuoc-kham-benh-dk-popup/toa-thuoc-kham-benh-dk-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh-cho-kham-list/kham-benh-cho-kham-list.component.scss","./src/app/modules/main/kham-benh/kham-benh-cho-kham-list/kham-benh-cho-kham-list.component.ts","./src/app/modules/main/kham-benh/kham-benh-routing.module.ts","./src/app/modules/main/kham-benh/kham-benh.module.ts","./src/app/modules/main/kham-benh/kham-benh/ket-luan-nguoi-benh-hang-doi-chung-popup/ket-luan-nguoi-benh-hang-doi-chung-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/ket-luan-nguoi-benh-hang-doi-chung-popup/ket-luan-nguoi-benh-hang-doi-chung-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-dich-vu-chua-thuc-hien-popup/kham-benh-dich-vu-chua-thuc-hien-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-dich-vu-chua-thuc-hien-popup/kham-benh-dich-vu-chua-thuc-hien-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/kham-benh-lich-su-kham-list.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/kham-benh-lich-su-kham-list.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-bo-phan-ton-thuong/lich-su-kham-benh-bo-phan-ton-thuong.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-bo-phan-ton-thuong/lich-su-kham-benh-bo-phan-ton-thuong.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-chan-doan-phan-biet/lich-su-kham-benh-chan-doan-phan-biet.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-chan-doan-phan-biet/lich-su-kham-benh-chan-doan-phan-biet.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-chi-dinh/lich-su-kham-benh-chi-dinh.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-chi-dinh/lich-su-kham-benh-chi-dinh.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-chi-so-sinh-ton/lich-su-kham-benh-chi-so-sinh-ton.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-chi-so-sinh-ton/lich-su-kham-benh-chi-so-sinh-ton.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-di-ung-thuoc/lich-su-kham-benh-di-ung-thuoc.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-di-ung-thuoc/lich-su-kham-benh-di-ung-thuoc.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-ke-toa/lich-su-kham-benh-ke-toa.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-ke-toa/lich-su-kham-benh-ke-toa.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-ket-luan/lich-su-kham-benh-ket-luan.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-ket-luan/lich-su-kham-benh-ket-luan.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-ket-qua-cls/lich-su-kham-benh-ket-qua-cls.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-ket-qua-cls/lich-su-kham-benh-ket-qua-cls.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-kham-benh/lich-su-kham-benh-kham-benh.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-kham-benh/lich-su-kham-benh-kham-benh.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-kham-khac/lich-su-kham-benh-kham-khac.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-kham-khac/lich-su-kham-benh-kham-khac.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-phau-thuat-thu-thuat/lich-su-kham-benh-phau-thuat-thu-thuat.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-phau-thuat-thu-thuat/lich-su-kham-benh-phau-thuat-thu-thuat.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-popup-detail/lich-su-kham-benh-popup-detail.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-popup-detail/lich-su-kham-benh-popup-detail.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-tien-su-benh/lich-su-kham-benh-tien-su-benh.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-tien-su-benh/lich-su-kham-benh-tien-su-benh.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh/lich-su-kham-benh.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh/lich-su-kham-benh.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-doan-tu-van-thuoc/lich-su-kham-doan-tu-van-thuoc.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-doan-tu-van-thuoc/lich-su-kham-doan-tu-van-thuoc.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/xac-nhan-chuyen-trang-thai-dich-vu/xac-nhan-chuyen-trang-thai-dich-vu.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-lich-su-kham-list/xac-nhan-chuyen-trang-thai-dich-vu/xac-nhan-chuyen-trang-thai-dich-vu.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-thong-tin-doi-tuong-popup/kham-benh-thong-tin-doi-tuong-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-thong-tin-doi-tuong-popup/kham-benh-thong-tin-doi-tuong-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh-tim-benh-nhan-popup/kham-benh-tim-benh-nhan-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh-tim-benh-nhan-popup/kham-benh-tim-benh-nhan-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/kham-benh.component.scss","./src/app/modules/main/kham-benh/kham-benh/kham-benh.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/cap-nhat-thong-tin-thuc-hien-dvkt-popup/cap-nhat-thong-tin-thuc-hien-dvkt-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/cap-nhat-thong-tin-thuc-hien-dvkt-popup/cap-nhat-thong-tin-thuc-hien-dvkt-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/chan-doan-cua-bac-si-khac-popup/chan-doan-cua-bac-si-khac-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/chan-doan-cua-bac-si-khac-popup/chan-doan-cua-bac-si-khac-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/chinh-sua-don-thuoc-chi-tiet-popup/chinh-sua-don-thuoc-chi-tiet-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/chinh-sua-don-thuoc-chi-tiet-popup/chinh-sua-don-thuoc-chi-tiet-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/chinh-sua-vat-tu-chi-tiet-popup/chinh-sua-vat-tu-chi-tiet-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/chinh-sua-vat-tu-chi-tiet-popup/chinh-sua-vat-tu-chi-tiet-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/don-thuoc-bac-si-khac-ke-popup/don-thuoc-bac-si-khac-ke-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/don-thuoc-bac-si-khac-ke-popup/don-thuoc-bac-si-khac-ke-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/giay-chuyen-vien-popup/giay-chuyen-vien-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/giay-chuyen-vien-popup/giay-chuyen-vien-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/huy-dich-vu-huy-thanh-toan-popup/huy-dich-vu-huy-thanh-toan-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/huy-dich-vu-huy-thanh-toan-popup/huy-dich-vu-huy-thanh-toan-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/in-bang-kham-benh-chi-dinh/in-bang-kham-benh-chi-dinh.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/in-bang-kham-benh-chi-dinh/in-bang-kham-benh-chi-dinh.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/in-thuoc-tu-van-kham-doan-popup/in-thuoc-tu-van-kham-doan-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/in-thuoc-tu-van-kham-doan-popup/in-thuoc-tu-van-kham-doan-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-benh-nhan-dang-lam-chi-dinh-popup/lan-kham-hien-tai-benh-nhan-dang-lam-chi-dinh-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-benh-nhan-dang-lam-chi-dinh-popup/lan-kham-hien-tai-benh-nhan-dang-lam-chi-dinh-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-benh-nhan-tiep-theo-popup/lan-kham-hien-tai-benh-nhan-tiep-theo-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-benh-nhan-tiep-theo-popup/lan-kham-hien-tai-benh-nhan-tiep-theo-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-bo-phan-ton-thuong-popup/lan-kham-hien-tai-bo-phan-ton-thuong-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-bo-phan-ton-thuong-popup/lan-kham-hien-tai-bo-phan-ton-thuong-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-bo-phan-ton-thuong/lan-kham-hien-tai-bo-phan-ton-thuong.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-bo-phan-ton-thuong/lan-kham-hien-tai-bo-phan-ton-thuong.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-cap-nhat-ghi-nhan-vtth-thuoc-popup/lan-kham-hien-tai-cap-nhat-ghi-nhan-vtth-thuoc-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-cap-nhat-ghi-nhan-vtth-thuoc-popup/lan-kham-hien-tai-cap-nhat-ghi-nhan-vtth-thuoc-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-chan-doan-phan-biet/lan-kham-hien-tai-chan-doan-phan-biet.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-chan-doan-phan-biet/lan-kham-hien-tai-chan-doan-phan-biet.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-chi-dinh-cua-bac-si-khac-popup/lan-kham-hien-tai-chi-dinh-cua-bac-si-khac-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-chi-dinh-cua-bac-si-khac-popup/lan-kham-hien-tai-chi-dinh-cua-bac-si-khac-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-chuyen-kham/lan-kham-hien-tai-chuyen-kham.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-chuyen-kham/lan-kham-hien-tai-chuyen-kham.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-hoan-thanh-kham-popup/lan-kham-hien-tai-hoan-thanh-kham-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-hoan-thanh-kham-popup/lan-kham-hien-tai-hoan-thanh-kham-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-hoan-tra-thuoc-vtth-popup/lan-kham-hien-tai-hoan-tra-thuoc-vtth-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-hoan-tra-thuoc-vtth-popup/lan-kham-hien-tai-hoan-tra-thuoc-vtth-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/ap-dung-lich-su-ke-toa-confirm-popup/ap-dung-lich-su-ke-toa-confirm-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/ap-dung-lich-su-ke-toa-confirm-popup/ap-dung-lich-su-ke-toa-confirm-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-ap-dung-toa-thuoc-popup/lan-kham-hien-tai-ap-dung-toa-thuoc-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-ap-dung-toa-thuoc-popup/lan-kham-hien-tai-ap-dung-toa-thuoc-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-in-toa-thuoc-popup/lan-kham-hien-tai-in-toa-thuoc-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-in-toa-thuoc-popup/lan-kham-hien-tai-in-toa-thuoc-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-in-vat-tu-popup/lan-kham-hien-tai-in-vat-tu-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-in-vat-tu-popup/lan-kham-hien-tai-in-vat-tu-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-ke-toa.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-ke-toa.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/trung-thuoc-popup/trung-thuoc-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/trung-thuoc-popup/trung-thuoc-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ket-luan-kham-doan/lan-kham-hien-tai-ket-luan-kham-doan.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ket-luan-kham-doan/lan-kham-hien-tai-ket-luan-kham-doan.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ket-luan/lan-kham-hien-tai-ket-luan.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ket-luan/lan-kham-hien-tai-ket-luan.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ket-qua-cls/lan-kham-hien-tai-ket-qua-cls.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ket-qua-cls/lan-kham-hien-tai-ket-qua-cls.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-chi-dinh/lan-kham-hien-tai-kham-benh-chi-dinh.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-chi-dinh/lan-kham-hien-tai-kham-benh-chi-dinh.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-chi-so-sinh-ton/lan-kham-hien-tai-kham-benh-chi-so-sinh-ton.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-chi-so-sinh-ton/lan-kham-hien-tai-kham-benh-chi-so-sinh-ton.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-di-ung-thuoc/lan-kham-hien-tai-kham-benh-di-ung-thuoc.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-di-ung-thuoc/lan-kham-hien-tai-kham-benh-di-ung-thuoc.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-goi-dich-vu-popup/lan-kham-hien-tai-kham-benh-goi-dich-vu-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-goi-dich-vu-popup/lan-kham-hien-tai-kham-benh-goi-dich-vu-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-kham-benh/lan-kham-hien-tai-kham-benh-kham-benh.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-kham-benh/lan-kham-hien-tai-kham-benh-kham-benh.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-tien-su-benh/lan-kham-hien-tai-kham-benh-tien-su-benh.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-tien-su-benh/lan-kham-hien-tai-kham-benh-tien-su-benh.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh/lan-kham-hien-tai-kham-benh.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh/lan-kham-hien-tai-kham-benh.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-khac/lan-kham-hien-tai-kham-khac.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-khac/lan-kham-hien-tai-kham-khac.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ls-cls/lan-kham-hien-tai-ls-cls.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ls-cls/lan-kham-hien-tai-ls-cls.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-loi-popup/lan-kham-hien-tai-nhom-dich-vu-loi-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-loi-popup/lan-kham-hien-tai-nhom-dich-vu-loi-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-phau-thuat-thu-thuat/lan-kham-hien-tai-phau-thuat-thu-thuat.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-phau-thuat-thu-thuat/lan-kham-hien-tai-phau-thuat-thu-thuat.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-so-do-giuong-popup/lan-kham-hien-tai-so-do-giuong-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-so-do-giuong-popup/lan-kham-hien-tai-so-do-giuong-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-su-dung-goi-dich-vu-popup/lan-kham-hien-tai-su-dung-goi-dich-vu-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-su-dung-goi-dich-vu-popup/lan-kham-hien-tai-su-dung-goi-dich-vu-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-tu-van-thuoc-kham-doan/lan-kham-hien-tai-tu-van-thuoc-kham-doan.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-tu-van-thuoc-kham-doan/lan-kham-hien-tai-tu-van-thuoc-kham-doan.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-vat-tu-tieu-hao/lan-kham-hien-tai-vat-tu-tieu-hao.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-vat-tu-tieu-hao/lan-kham-hien-tai-vat-tu-tieu-hao.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lay-mau-xet-nghiem-ket-qua-mot-file-popup/lay-mau-xet-nghiem-ket-qua-mot-file-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lay-mau-xet-nghiem-ket-qua-mot-file-popup/lay-mau-xet-nghiem-ket-qua-mot-file-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lay-mau-xet-nghiem-ket-qua-popup/lay-mau-xet-nghiem-ket-qua-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/lay-mau-xet-nghiem-ket-qua-popup/lay-mau-xet-nghiem-ket-qua-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/nghi-huong-bhyt-confirm-popup/nghi-huong-bhyt-confirm-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/nghi-huong-bhyt-confirm-popup/nghi-huong-bhyt-confirm-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/nghi-huong-bhyt-detail-popup/nghi-huong-bhyt-detail-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/nghi-huong-bhyt-detail-popup/nghi-huong-bhyt-detail-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/noi-dung-mau-kham-benh-popup/noi-dung-mau-kham-benh-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/noi-dung-mau-kham-benh-popup/noi-dung-mau-kham-benh-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/phau-thuat-thu-thuat-popup-chon-anh/phau-thuat-thu-thuat-popup-chon-anh.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/phau-thuat-thu-thuat-popup-chon-anh/phau-thuat-thu-thuat-popup-chon-anh.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/phau-thuat-thu-thuat-tuong-trinh/phau-thuat-thu-thuat-tuong-trinh.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/phau-thuat-thu-thuat-tuong-trinh/phau-thuat-thu-thuat-tuong-trinh.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/phieu-in-xet-nghiem-popup/phieu-in-xet-nghiem-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/phieu-in-xet-nghiem-popup/phieu-in-xet-nghiem-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/phieu-kham-benh-popup/phieu-kham-benh-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/phieu-kham-benh-popup/phieu-kham-benh-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/phieu-kham-benh-vao-vien-popup/phieu-kham-benh-vao-vien-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/phieu-kham-benh-vao-vien-popup/phieu-kham-benh-vao-vien-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/sua-thuoc-tu-van-kham-doan-popup/sua-thuoc-tu-van-kham-doan-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/sua-thuoc-tu-van-kham-doan-popup/sua-thuoc-tu-van-kham-doan-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/them-thuoc-khong-bhyt/them-thuoc-khong-bhyt.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/them-thuoc-khong-bhyt/them-thuoc-khong-bhyt.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/view-image-pdf-list/view-image-pdf-list.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/view-image-pdf-list/view-image-pdf-list.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/xn-covid-sarscov2-popup/xn-covid-sarscov2-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/xn-covid-sarscov2-popup/xn-covid-sarscov2-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/yeu-cau-xet-nghiem-lai-popup/yeu-cau-xet-nghiem-lai-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/lan-kham-hien-tai/yeu-cau-xet-nghiem-lai-popup/yeu-cau-xet-nghiem-lai-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/ngay-duong-thai-popup/ngay-duong-thai-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/ngay-duong-thai-popup/ngay-duong-thai-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/ngay-duong-thai-xac-nhan-popup/ngay-duong-thai-xac-nhan-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/ngay-duong-thai-xac-nhan-popup/ngay-duong-thai-xac-nhan-popup.component.ts","./src/app/modules/main/kham-benh/kham-benh/xn-sars-cov2-popup/xn-sars-cov2-popup.component.scss","./src/app/modules/main/kham-benh/kham-benh/xn-sars-cov2-popup/xn-sars-cov2-popup.component.ts","./src/app/modules/main/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-chuyen-phong-kham-popup/lan-kham-hien-tai-chuyen-phong-kham-popup.component.scss","./src/app/modules/main/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-chuyen-phong-kham-popup/lan-kham-hien-tai-chuyen-phong-kham-popup.component.ts","./src/app/modules/main/kham-benh/lich-su-kham-benh-popup/lich-su-kham-benh-popup.component.scss","./src/app/modules/main/kham-benh/lich-su-kham-benh-popup/lich-su-kham-benh-popup.component.ts","./src/app/modules/main/kham-benh/lich-su-kham-benh/lich-su-kham-benh-chi-tiet/lich-su-kham-benh-chi-tiet.component.scss","./src/app/modules/main/kham-benh/lich-su-kham-benh/lich-su-kham-benh-chi-tiet/lich-su-kham-benh-chi-tiet.component.ts","./src/app/modules/main/kham-doan/kham-doan-ket-luan-cls-ksk/ket-qua-mau-popup/ket-qua-mau-popup.component.scss","./src/app/modules/main/kham-doan/kham-doan-ket-luan-cls-ksk/ket-qua-mau-popup/ket-qua-mau-popup.component.ts","./src/app/modules/main/kham-doan/kham-doan-ket-luan-cls-ksk/kham-doan-ket-luan-cls-ksk.model.ts","./src/app/modules/main/kham-doan/kham-doan-ket-luan/ket-luan-kham-suc-khoe-doan-ket-qua-mau-popup/ket-luan-kham-suc-khoe-doan-ket-qua-mau-popup.component.scss","./src/app/modules/main/kham-doan/kham-doan-ket-luan/ket-luan-kham-suc-khoe-doan-ket-qua-mau-popup/ket-luan-kham-suc-khoe-doan-ket-qua-mau-popup.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/pttt-cls-in-chi-dinh/pttt-cls-in-chi-dinh.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/pttt-cls-in-chi-dinh/pttt-cls-in-chi-dinh.component.ts","./src/app/modules/main/popup-chon-loai-In/popup-chon-loai-In.model.ts","./src/app/modules/main/popup-chon-loai-In/popup-chon-loai-in-view/popup-chon-loai-in-view.component.scss","./src/app/modules/main/popup-chon-loai-In/popup-chon-loai-in-view/popup-chon-loai-in-view.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/danh-sach-cho-kham/danh-sach-cho-kham.model.ts","./src/app/modules/main/xet-nghiem/lay-mau-xet-nghiem/lay-mau-xet-nghiem.model.ts","./src/app/shared/enum/bo-phan.enum.ts","./src/app/shared/enum/thuoc.enum.ts","./src/app/shared/enum/tinh-trang-the.enum.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;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","file":"default~bao-cao-bao-cao-dich-vu-hop-dong-kham-doan-bao-cao-dich-vu-hop-dong-kham-doan-module~bao-cao~ea14fdcb-es2015.js","sourcesContent":["var data = {\n\t\"body\": \"<path d=\\\"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 0 1 5 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 0 0 5 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9A7.902 7.902 0 0 1 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1A7.902 7.902 0 0 1 20 12c0 4.42-3.58 8-8 8z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M19 3h-1V1h-2v2H8V1H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<defs><path id=\\\"ssvg-id-baseline-timelinea\\\" d=\\\"M0 0h24v24H0V0z\\\"/></defs><clipPath id=\\\"ssvg-id-baseline-timelineb\\\"><use xlink:href=\\\"#ssvg-id-baseline-timelinea\\\" overflow=\\\"visible\\\"/></clipPath><path clip-path=\\\"url(#ssvg-id-baseline-timelineb)\\\" d=\\\"M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path opacity=\\\".3\\\" d=\\\"M19.21 12.04l-1.53-.11-.3-1.5A5.484 5.484 0 0 0 12 6C9.94 6 8.08 7.14 7.12 8.96l-.5.95-1.07.11A3.99 3.99 0 0 0 2 14c0 2.21 1.79 4 4 4h13c1.65 0 3-1.35 3-3 0-1.55-1.22-2.86-2.79-2.96zM12 17l-4-4h2.55v-3h2.91v3H16l-4 4z\\\" fill=\\\"currentColor\\\"/><path d=\\\"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95A5.469 5.469 0 0 1 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11A2.98 2.98 0 0 1 22 15c0 1.65-1.35 3-3 3zm-5.55-8h-2.9v3H8l4 4 4-4h-2.55z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.25 2.52.77-1.28-3.52-2.09V8z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path opacity=\\\".3\\\" d=\\\"M8 7.5l4 4 4-4V4H8zm0 9V20h8v-3.5l-4-4z\\\" fill=\\\"currentColor\\\"/><path d=\\\"M18 2H6v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm-2 14.5V20H8v-3.5l4-4 4 4zm0-9l-4 4-4-4V4h8v3.5z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M10 18h5v-6h-5v6zm-6 0h5V5H4v13zm12 0h5v-6h-5v6zM10 5v6h11V5H10z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M5.5 22v-7.5H4V9c0-1.1.9-2 2-2h3c1.1 0 2 .9 2 2v5.5H9.5V22h-4zM18 22v-6h3l-2.54-7.63A2.01 2.01 0 0 0 16.56 7h-.12a2 2 0 0 0-1.9 1.37L12 16h3v6h3zM7.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2zm9 0c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>DỊCH VỤ KHUYẾN MẠI KÈM THEO GÓI</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"min-height: 200px;\\\">\\n    <app-grid #gridNhomGoiDichVu fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n        [urlGetData]=\\\"urlGetData\\\" [urlGetTotalPage]=\\\"urlGetTotalData\\\" [HideHeader]=\\\"true\\\" [sort]=\\\"sort\\\"\\n        [additionalSearchString]=\\\"benhNhanId + ';' + isCapGiuong\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n        [checkboxAble]=\\\"false\\\" [documentType]=\\\"documentType\\\" [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\"\\n        [detailTemplate]=\\\"detailTemplate\\\" [pageable]=\\\"false\\\" (extOnDataBound)=\\\"onDataBoundGridParent($event)\\\">\\n    </app-grid>\\n\\n    <ng-template #detailTemplate let-dataItem>\\n        <app-grid class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumnsDetail\\\" [useAddDeault]=\\\"false\\\"\\n            [useActionDefault]=\\\"false\\\" [useHeaderDefault]=\\\"true\\\" [documentType]=\\\"documentType\\\" [showStt]=\\\"false\\\"\\n            [urlGetData]=\\\"urlGetDataChild\\\" [urlGetTotalPage]=\\\"urlGetTotalDataChild\\\"\\n            [additionalSearchString]=\\\"dataItem.Id + ';' + strDichVuDaChon + ';' + isPTTT+ ';' + isCapGiuong + ';' + isNoiTru + ';' + isVacxin\\\" [checkboxAble]=\\\"false\\\"\\n            [groups]=\\\"groups\\\" [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\"\\n            [dataItemParent]=\\\"dataItem\\\" (extOnDataBound)=\\\"onDataBoundGridChild($event)\\\">\\n        </app-grid>\\n    </ng-template>\\n\\n    <ng-template #tenGoiTemplate let-dataItem>\\n        <span class=\\\"green title-grid-parent\\\">{{dataItem.Ten}}</span>\\n    </ng-template>\\n\\n    <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n        <strong>{{value}}</strong>\\n    </ng-template>\\n\\n    <ng-template #donGiaTemplate let-dataItem>\\n        {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n\\n    <ng-template #donGiaKhuyenMaiTemplate let-dataItem>\\n        {{dataItem.DonGiaKhuyenMai | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n\\n    <ng-template #donGiaCKTemplate let-dataItem>\\n        {{dataItem.DonGiaKhuyenMai | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n    <ng-template #thanhTienTemplate let-dataItem>\\n        {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n\\n    <ng-template #nhomDichVuTemplate let-value=\\\"value\\\">\\n        <strong>{{value}}</strong>\\n    </ng-template>\\n\\n    <ng-template #sttTemplate let-rowIndex=\\\"rowIndex\\\">\\n        <strong>{{rowIndex + 1}}</strong>\\n    </ng-template> \\n\\n    <ng-template #hanSuDungTemplate let-dataItem>\\n        <p [style.color]=\\\"dataItem.IsHetHanSuDung ? 'red': ''\\\">{{dataItem.HanSuDungDisplay}}</p>\\n    </ng-template>\\n\\n    <ng-template #checkBoxHeaderTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n        <input type=\\\"checkbox\\\" id=\\\"ckbHeader-{{dataItemParent.Id}}\\\" [(ngModel)]=\\\"dataItemParent.IsChecked\\\" (ngModelChange)=\\\"chonTatCaDichVuTrongGoi($event, dataItemParent.Id)\\\">\\n    </ng-template>\\n    <ng-template #checkBoxTemplate let-dataItem>\\n        <input *ngIf=\\\"dataItem.IsActive\\\" id=\\\"{{dataItem.Id}}\\\" type=\\\"checkbox\\\" [attr.name]=\\\"'ckbItem-' + dataItem.YeuCauGoiDichVuId\\\"\\n            [(ngModel)]=\\\"dataItem.IsChecked\\\" (ngModelChange)=\\\"chonDichVu($event, dataItem)\\\">\\n    </ng-template>\\n    <ng-template #soLuongTemplate let-dataItem>\\n        <app-textboxnumeric id=\\\"abc-{{dataItem.Id}}\\\" [disabled]=\\\"!dataItem.IsActive || !dataItem.IsChecked || isVacxin\\\" [(model)]=\\\"dataItem.SoLuongDungLanNay\\\"\\n            class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"(!dataItem.IsActive || !dataItem.IsChecked || dataItem.SoLuongConLai == 0) ? 0 : 1\\\" [max]=\\\"dataItem.NhomGoiDichVu == 1 ? 1 : dataItem.SoLuongConLai\\\"\\n            (modelChange)=\\\"changeSoLuongDichVu($event, dataItem)\\\"> \\n        </app-textboxnumeric>\\n    </ng-template>\\n\\n    <ng-template #viTriTiemTemplate let-dataItem>\\n        <app-dropdownlist label=\\\" \\\" id=\\\"ViTriTiem\\\" class=\\\"item-no-padding no-label\\\" url=\\\"TiemChung/GetViTriTiems\\\" required=\\\"true\\\" popupSettings=\\\"null\\\"\\n            [disabled]=\\\"!dataItem.IsActive || !dataItem.IsChecked\\\"\\n            [(model)]=\\\"dataItem.ViTriTiem\\\"\\n            (selectionChange)=\\\"evtViTriTiemChange($event, dataItem)\\\">\\n        </app-dropdownlist>\\n    </ng-template>\\n    <ng-template #muiSoTemplate let-dataItem>\\n        <app-textboxnumeric label=\\\" \\\" class=\\\"no-label\\\" [min]=\\\"1\\\" [required]=\\\"true\\\" \\n            [disabled]=\\\"!dataItem.IsActive || !dataItem.IsChecked\\\"\\n            [(model)]=\\\"dataItem.MuiSo\\\"\\n            (modelChange)=\\\"evtMuiSoChange($event, dataItem)\\\">\\n        </app-textboxnumeric>\\n    </ng-template>\\n    <ng-template #noiThucHienTemplate let-dataItem>\\n        <app-combobox id=\\\"NoiDangKyId\\\" label=\\\" \\\" url=\\\"KhamBenh/GetPhongThucHienChiDinhKhamOrDichVuKyThuat\\\" class=\\\"item-no-padding no-label\\\" [disabled]=\\\"!dataItem.DichVuBenhVienId || !dataItem.IsActive || !dataItem.IsChecked\\\" required=\\\"true\\\" popupSettings=\\\"null\\\"\\n            (selectionChange)=\\\"evtNoiThucHienChange($event, dataItem)\\\" [(model)]=\\\"dataItem.NoiThucHienId\\\" \\n            [templateHeader]=\\\"noiThucHienTiemChungTemplateHeader\\\"\\n            [template]=\\\"noiThucHienTiemChungTemplate\\\" [queryInfo]=\\\"{ParameterDependencies:'{DichVuId:' + dataItem.DichVuBenhVienId +'}', Take: 50}\\\">\\n            <ng-template #noiThucHienTiemChungTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"20%\\\">Mã</th>\\n                        <th width=\\\"80%\\\">Tên</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #noiThucHienTiemChungTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                        <td width=\\\"80%\\\">{{dataItem.Ten}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n    </ng-template>\\n    <ng-template #lieuLuongTemplate let-dataItem>\\n        <app-textbox id=\\\"lieu-luong\\\" maxlength=\\\"500\\\" label=\\\" \\\" class=\\\"no-label\\\"\\n            [disabled]=\\\"!dataItem.IsActive || !dataItem.IsChecked\\\"\\n            [(model)]=\\\"dataItem.LieuLuong\\\"\\n            (modelChange)=\\\"evtLieuLuongChange($event, dataItem)\\\">\\n        </app-textbox>\\n    </ng-template>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions *ngIf=\\\"!isCapGiuong\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"null\\\">Hủy</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"luuDichVuChiDinh()\\\">Áp dụng</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div  fxFlex=\\\"100%\\\">\\n        <span fxFlex=\\\"20%\\\" style=\\\"padding-top: 20px;\\\">XEM TRƯỚC KHI IN</span> \\n    </div>\\n   \\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div class=\\\"container-iframe\\\">\\n        <iframe width=\\\"100%\\\" height=\\\"100%\\\" [src]=\\\"src | safe\\\" allowTransparency=\\\"true\\\" background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <app-print-form textPrint=\\\"In Phiếu Chỉ Định\\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"{{printSize}}\\\"\\n        [typeLayout]=\\\"printLayout\\\" [bodyComponent]=\\\"this\\\">\\n    </app-print-form>\\n    <!-- <button type=\\\"button\\\" class=\\\"btn btn-light\\\" (click)=\\\"getSharedPrintForm()\\\">In Phiếu Chỉ Định</button> -->\\n</mat-dialog-actions>\"","export default \"<div class=\\\"card overflow-auto mb-4\\\">\\n    <app-grid #gridDaKham [gridColumns]=\\\"gridColumns\\\" [documentType]=\\\"documentType\\\" [useActionDefault]=\\\"false\\\"\\n        [lazyLoadPage]=\\\"true\\\" [urlGetData]=\\\"urlGetData\\\" [urlGetTotalPage]=\\\"urlGetTotalPage\\\" [useHeaderDefault]=\\\"false\\\"\\n        [checkboxAble]=\\\"false\\\" [headerTemplate]=\\\"headerTemplate\\\" heightToolbar=\\\"235\\\" [sort]=\\\"sort\\\">\\n    </app-grid>\\n</div>\\n\\n<ng-template #headerTemplate>\\n    <div class=\\\"bg-app-bar px-3 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n        <div class=\\\"bg-card rounded-full border px-4\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\"\\n            fxLayoutAlign=\\\"start center\\\" style=\\\"margin-top: 2px;\\\">\\n            <ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n            <input class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\" type=\\\"search\\\"\\n                [(ngModel)]=\\\"searchString\\\" (keyup)=\\\"onKey($event)\\\" (ngModelChange)=\\\"clear()\\\"\\n                placeholder=\\\"Nhập từ khóa...\\\" />\\n            <!-- <input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n                    type=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"searchString\\\" (keyup)=\\\"onKey($event)\\\"\\n                    (ngModelChange)=\\\"searchChange()\\\" placeholder=\\\"Nhập từ khóa(Mã NB,Tên NB,Năm sinh,Địa chỉ)...\\\" /> -->\\n        </div>\\n        <ng-container *ngIf=\\\"isKhamDoanTatCa\\\">\\n            <app-combobox id=\\\"congTy\\\" fxFlex=\\\"300px\\\" label=\\\"Tên công ty\\\" class=\\\"ml-2 mt-5 on-header\\\"\\n                url=\\\"KhamDoan/GetCongTys\\\" [(model)]=\\\"danhSachDaKhamSearch.CongTyId\\\" (modelChange)=\\\"TimkiemNangCao()\\\"\\n                [reloadForGrid]=\\\"true\\\" [broadcastAfterLoaded]=\\\"true\\\" [popupSettings]=\\\"null\\\"\\n                hierarchyKeyToSend=\\\"CongTyId\\\">\\n            </app-combobox>\\n            <app-combobox id=\\\"hopDong\\\" fxFlex=\\\"300px\\\" label=\\\"Số hợp đồng\\\" url=\\\"KhamDoan/GetHopDongKhamSucKhoes\\\"\\n                [(model)]=\\\"danhSachDaKhamSearch.HopDongId\\\" (modelChange)=\\\"TimkiemNangCao()\\\" [bind]=\\\"true\\\"\\n                class=\\\"ml-2 mt-5 on-header\\\" [popupSettings]=\\\"null\\\" hierarchyKeyToListen=\\\"CongTyId\\\">\\n            </app-combobox>\\n        </ng-container>\\n        <!-- (modelChange)=\\\"thoiDiemTNChange()\\\" -->\\n        <app-datetimepicker fxFlex=\\\"220px\\\" [(model)]=\\\"danhSachDaKhamSearch.ThoiDiemTiepNhanTuFormat\\\" #tiepnhantu\\n            id=\\\"ThoiDiemTiepNhanTuFormat\\\" label=\\\"Từ ngày\\\" class=\\\"ml-2 on-header\\\" (keyup)=\\\"onKey($event)\\\">\\n        </app-datetimepicker>\\n        <app-datetimepicker fxFlex=\\\"220px\\\" [(model)]=\\\"danhSachDaKhamSearch.ThoiDiemTiepNhanDenFormat\\\" #tiepnhanden\\n            id=\\\"ThoiDiemTiepNhanDenFormat\\\" label=\\\"Đến ngày\\\" class=\\\"ml-2 on-header\\\"\\n            (keyup)=\\\"onKey($event)\\\">\\n        </app-datetimepicker>\\n        <button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"TimkiemNangCao()\\\" class=\\\"ml-2\\\" mat-raised-button>Tìm</button>\\n        <button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\" (click)=\\\"clearSearch()\\\">\\n            <mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n        </button>\\n    </div>\\n</ng-template>\\n\\n<ng-template #MaTNTemplate let-dataItem>\\n    <a (click)=\\\"DetailLSKBPopup(dataItem)\\\">{{dataItem.MaYeuCauTiepNhan}}</a>\\n</ng-template>\\n<ng-template #TrangThaiTemplate let-dataItem>\\n    <!-- <button *ngIf=\\\"dataItem.BenhNhanDaTaoBenhAn != true\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"KhamLai(dataItem.Id)\\\">Khám Lại</button> -->\\n    <ng-container *ngIf=\\\"isKhamDoan || (dataItem.BenhNhanDaTaoBenhAn != true && dataItem.YeuCauTiepNhanDaHoanTat != true)\\\">\\n        <button *ngIf=\\\"!isKhamDoan\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"KhamLai(dataItem.Id)\\\">Khám Lại</button>\\n        <button *ngIf=\\\"isKhamDoan\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"CapNhatKhamLaiKhamSucKhoe(dataItem)\\\">Khám\\n            Lại</button>\\n    </ng-container>\\n</ng-template>\\n<ng-template #hoTenTemplate let-dataItem>\\n    <p style=\\\"position: relative;\\\">{{dataItem.HoTen}}<img *ngIf=\\\"dataItem.BaoHiemChiTra\\\" src=\\\"assets/img/logoBHXH.png\\\"\\n            class=\\\"icon-bhyt\\\" /></p>\\n</ng-template>\\n<ng-template #tinhTrangTemplate let-dataItem>\\n    <p style=\\\"color: green;\\\"><b>{{dataItem.TrangThaiYeuCauTiepNhanDisplay}}</b></p>\\n</ng-template>\\n<ng-template #acTionTemplate let-dataItem>\\n    <button kendoTooltip title=\\\"Hành động\\\" [matMenuTriggerFor]=\\\"actionsMenu\\\" mat-icon-button type=\\\"button\\\">\\n        <mat-icon [icIcon]=\\\"icMoreHoriz\\\"></mat-icon>\\n    </button>\\n    <mat-menu #actionsMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n        <ng-template let-customer=\\\"customer\\\" matMenuContent>\\n            <button (click)=\\\"InToaThuoc(dataItem)\\\" mat-menu-item>\\n                <mat-icon [icIcon]=\\\"icPrint\\\"></mat-icon>\\n                <span>In Toa Thuốc/Vật Tư</span>\\n            </button>\\n            <button (click)=\\\"In(dataItem,1)\\\" mat-menu-item>\\n                <mat-icon [icIcon]=\\\"icPrint\\\"></mat-icon>\\n                <span>In Phiếu Chỉ Định</span>\\n            </button>\\n            <button (click)=\\\"In(dataItem,2)\\\" mat-menu-item>\\n                <mat-icon [icIcon]=\\\"icPrint\\\"></mat-icon>\\n                <span>In Đơn Thuốc BHYT</span>\\n            </button>\\n            <button (click)=\\\"In(dataItem,3)\\\" mat-menu-item>\\n                <mat-icon [icIcon]=\\\"icPrint\\\"></mat-icon>\\n                <span>In Đơn Thuốc Nhà Thuốc</span>\\n            </button>\\n            <button (click)=\\\"In(dataItem,4)\\\" mat-menu-item>\\n                <mat-icon [icIcon]=\\\"icPrint\\\"></mat-icon>\\n                <span>In Phiếu Khám Bệnh</span>\\n            </button>\\n            <button (click)=\\\"In(dataItem,5)\\\" mat-menu-item>\\n                <mat-icon [icIcon]=\\\"icPrint\\\"></mat-icon>\\n                <span>In Phiếu Khám Bệnh Vào Viện</span>\\n            </button>\\n        </ng-template>\\n    </mat-menu>\\n</ng-template>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Xác Nhận</div>\\n</div>\\n<ng-container *ngIf=\\\"showMessage==1\\\">\\n    <h4>Dịch vụ khám này không có dịch vụ chỉ định.</h4>\\n    <div style=\\\"float: right;\\\">\\n        <button type=\\\"button\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"close()\\\">Đóng</button>\\n    </div>\\n</ng-container>\\n<ng-container *ngIf=\\\"showMessage==2\\\">\\n    <h4>Dịch vụ khám này không có thuốc BHYT.</h4>\\n    <div style=\\\"float: right;\\\">\\n        <button type=\\\"button\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"close()\\\">Đóng</button>\\n    </div>\\n</ng-container>\\n<ng-container *ngIf=\\\"showMessage==3\\\">\\n    <h4>Dịch vụ khám này không có thuốc nhà thuốc (thuốc không BHYT).</h4>\\n    <div style=\\\"float: right;\\\">\\n        <button type=\\\"button\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"close()\\\">Đóng</button>\\n    </div>\\n</ng-container>\\n<ng-container *ngIf=\\\"showMessage==4\\\">\\n    <h4>Dịch vụ khám này không có phiếu khám bệnh.</h4>\\n    <div style=\\\"float: right;\\\">\\n        <button type=\\\"button\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"close()\\\">Đóng</button>\\n    </div>\\n</ng-container>\\n<ng-container *ngIf=\\\"showMessage==5\\\">\\n    <h4>Dịch vụ khám này không có phiếu khám bệnh vào viện.</h4>\\n    <div style=\\\"float: right;\\\">\\n        <button type=\\\"button\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"close()\\\">Đóng</button>\\n    </div>\\n</ng-container>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Xác Nhận</div>\\n</div>\\n<ng-container *ngIf=\\\"dataItem.CoDonThuocBHYT || dataItem.CoDonThuocKhongBHYT || dataItem.CoDonVatTu\\\">\\n    <p class=\\\"mb-3\\\"> Thực hiện in toa thuốc/vật tư cho NB : </p>\\n\\n    <div *ngIf=\\\"dataItem.CoDonThuocBHYT == true\\\">\\n        <app-checkbox id=\\\"BHYT\\\" [(model)]=\\\"thongTin.ThuocBHYT\\\" label=\\\"In toa thuốc BHYT\\\" class=\\\"pb-0\\\"></app-checkbox>\\n    </div>\\n\\n    <div *ngIf=\\\"dataItem.CoDonThuocKhongBHYT\\\">\\n        <app-checkbox id=\\\"KhongBHYT\\\" [(model)]=\\\"thongTin.ThuocKhongBHYT\\\" label=\\\"In toa thuốc không BHYT\\\" class=\\\"pb-0\\\">\\n        </app-checkbox>\\n    </div>\\n\\n    <div *ngIf=\\\"dataItem.CoDonVatTu\\\">\\n        <app-checkbox id=\\\"VatTu\\\" [(model)]=\\\"thongTin.VatTu\\\" label=\\\"In vật tư\\\" class=\\\"pb-0\\\">\\n        </app-checkbox>\\n    </div>\\n\\n    <div style=\\\"float: right;\\\">\\n        <button type=\\\"button\\\" style=\\\"margin-right: 10px\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n            (click)=\\\"close()\\\">Không</button>\\n        <button [disabled]=\\\"!thongTin.ThuocBHYT && !thongTin.ThuocKhongBHYT && !thongTin.VatTu\\\" type=\\\"button\\\"\\n            color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"InToaThuoc()\\\">In toa\\n            thuốc/vật tư</button>\\n    </div>\\n</ng-container>\\n\\n<ng-container *ngIf=\\\"!dataItem.CoDonThuocBHYT && !dataItem.CoDonThuocKhongBHYT && !dataItem.CoDonVatTu\\\">\\n\\n    <h4>Dịch vụ khám này không có toa thuốc/vật tư.</h4>\\n    <div style=\\\"float: right;\\\">\\n        <button type=\\\"button\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"close()\\\">Đóng</button>\\n    </div>\\n</ng-container>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-0\\\">\\n    <div>XEM TOA THUỐC/VẬT TƯ</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div class=\\\"container-iframe\\\"><iframe width=\\\"100%\\\" [src]=\\\"src|safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <app-print-form fxFlex='100%' class=\\\"mr-1 mt-2\\\" textPrint=\\\"In toa thuốc/vật tư\\\" type=\\\"PDF\\\" [bodyComponent]=\\\"this\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\"","export default \"<div class=\\\"card overflow-auto mb-4\\\">\\n    <app-grid [gridColumns]=\\\"gridColumns\\\" [documentType]=\\\"documentType\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n        [urlGetData]=\\\"urlGetData\\\" [urlGetTotalPage]=\\\"urlGetTotalPage\\\" [useHeaderDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n        [sort]=\\\"sort\\\" [headerTemplate]=\\\"headerTemplate\\\" heightToolbar=\\\"235\\\">\\n        <ng-template #thoiDiemTiepNhanTemplate let-dataItem>\\n            {{dataItem.ThoiDiemTiepNhanDisplay}}\\n        </ng-template>\\n    </app-grid>\\n</div>\\n<ng-template #tinhtrangTemplate let-dataItem>\\n    <label *ngIf=\\\"dataItem.TrangThai == 1\\\" style=\\\"color: black;\\\">\\n        <span>Chưa khám</span>\\n    </label>\\n    <label *ngIf=\\\"dataItem.TrangThai == 2\\\" style=\\\"color: chocolate;\\\">\\n        <span><b>Đang khám</b></span>\\n    </label>\\n</ng-template>\\n<ng-template #headerTemplate>\\n    <div class=\\\"bg-app-bar px-6 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\"\\n        style=\\\"height: 4rem;\\\">\\n        <div class=\\\"bg-card rounded-full border px-4\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\"\\n            fxLayoutAlign=\\\"start center\\\" style=\\\"margin-top: 2px;\\\">\\n            <ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n            <input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n                type=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"searchString\\\" (keyup)=\\\"onKey($event)\\\"\\n                (ngModelChange)=\\\"searchChanges()\\\" placeholder=\\\"Nhập từ khóa...\\\" />\\n        </div>\\n        <app-datetimepicker fxFlex=\\\"205px\\\" [(model)]=\\\"danhSachChoKhamSearch.ThoiDiemTiepNhanTuFormat\\\" #tiepnhantu\\n        id=\\\"ThoiDiemTiepNhanTuFormat\\\" (modelChange)=\\\"getInputSearchValue($event, tiepnhantu.id, tiepnhantu.label)\\\"\\n        label=\\\"Tiếp nhận từ\\\" class=\\\"ml-2 on-header\\\" (keyup)=\\\"onKey($event)\\\">\\n    </app-datetimepicker>\\n    <app-datetimepicker fxFlex=\\\"205px\\\" [(model)]=\\\"danhSachChoKhamSearch.ThoiDiemTiepNhanDenFormat\\\" #tiepnhanden\\n        id=\\\"ThoiDiemTiepNhanDenFormat\\\"\\n        (modelChange)=\\\"getInputSearchValue($event, tiepnhanden.id, tiepnhanden.label)\\\" label=\\\"Tiếp nhận đến\\\"\\n        class=\\\"ml-2 on-header\\\" (keyup)=\\\"onKey($event)\\\">\\n    </app-datetimepicker>\\n    <button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"TimkiemNangCao()\\\" class=\\\"ml-2\\\" mat-raised-button>Tìm</button>\\n    <button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\" (click)=\\\"clearSearch()\\\">\\n        <mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n    </button>\\n    </div>\\n</ng-template>\\n<ng-template #trangThaiTemplate let-dataItem>\\n    <!-- <button kendoTooltip title=\\\"Hành động\\\" [matMenuTriggerFor]=\\\"actionsMenu\\\" mat-icon-button type=\\\"button\\\">\\n        <mat-icon [icIcon]=\\\"icMoreHoriz\\\"></mat-icon>\\n    </button> -->\\n    <button mat-menu-item kendoTooltip title=\\\"Vào đợi khám\\\" class=\\\"icon-color-button\\\" (click)=\\\"vaoHangDoi(dataItem)\\\">\\n        <mat-icon [icIcon]=\\\"icPlay\\\"></mat-icon>\\n    </button>\\n    <!-- <mat-menu #actionsMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n        <ng-template let-customer=\\\"customer\\\" matMenuContent>\\n            <button mat-menu-item>\\n                <mat-icon [icIcon]=\\\"icPlay\\\"></mat-icon>\\n                <span>Vào phòng đợi</span>\\n            </button>\\n            <button mat-menu-item>\\n                <mat-icon [icIcon]=\\\"icAssignment\\\"></mat-icon>\\n                <span>Vào phòng kết luận</span>\\n            </button>\\n        </ng-template>\\n    </mat-menu> -->\\n</ng-template>\\n<ng-template #actionTemplate let-dataItem>\\n\\n</ng-template>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" style=\\\"margin-bottom: 0px !important;\\\">\\n    <div style=\\\"text-transform: uppercase\\\">\\n        <div style=\\\"float: left;\\\">NGƯỜI BỆNH ĐANG KHÁM</div>\\n        <div *ngIf=\\\"benhNhanHienTai.Id != 0 && benhNhanHienTai.YeuCauKhamBenh.LaThamVan\\\" style=\\\"float: right; color: red;\\\"> (DỊCH VỤ KHÁM THAM VẤN)</div>\\n    </div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"min-height: 150px;\\\">\\n    <ng-container *ngIf=\\\"benhNhanHienTai.Id == 0\\\">\\n        <p class=\\\"ml-4 mt-2\\\">Chưa chọn người bệnh</p>\\n    </ng-container>\\n    <ng-container *ngIf=\\\"benhNhanHienTai.Id != 0\\\">\\n        <div class=\\\"row ml-1 mb-2\\\">\\n            <fieldset fxFlex=\\\"100%\\\" style=\\\"background: #e1f5fe;\\\">\\n                <legend>Thông tin hành chính</legend>\\n                <div fxFlex=\\\"100%\\\" *ngIf=\\\"benhNhanHienTai.YeuCauTiepNhan != null\\\">\\n                    <ul *ngIf=\\\"!LaChuyenKhoaKhamNhieu\\\" class=\\\"inline\\\">\\n                        <li>Mã TN:\\n                            <strong>{{benhNhanHienTai.YeuCauTiepNhan.MaYeuCauTiepNhan}}</strong>\\n                        </li>\\n                        <li>Mã NB:\\n                            <strong>{{benhNhanHienTai.YeuCauTiepNhan.BenhNhan.MaBN}}</strong>\\n                        </li>\\n                        <li>Họ tên:\\n                            <strong>{{benhNhanHienTai.YeuCauTiepNhan.HoTen}}</strong>\\n                        </li>\\n                        <li>Giới tính:\\n                            <strong>{{benhNhanHienTai.YeuCauTiepNhan.TenGioiTinh}}</strong>\\n                        </li>\\n                        <ng-container *ngIf=\\\"!isKhamDoan\\\">\\n                            <li *ngIf=\\\"!isDuoi6Tuoi\\\">Tuổi:\\n                                <strong>{{benhNhanHienTai.YeuCauTiepNhan.Tuoi}}</strong>\\n                            </li>\\n                            <li *ngIf=\\\"isDuoi6Tuoi\\\">Tuổi:\\n                                <strong>{{Duoi6TuoiDisplay}}</strong>\\n                            </li>\\n                        </ng-container>\\n                        <ng-container *ngIf=\\\"isKhamDoan\\\">\\n                            <li>Năm sinh:\\n                                <strong>{{benhNhanHienTai.YeuCauTiepNhan.NamSinh}}</strong>\\n                        </ng-container>\\n\\n                        <li>SĐT:\\n                            <strong>{{benhNhanHienTai.YeuCauTiepNhan.SoDienThoaiDisplay}}</strong>\\n                        </li>\\n                        <li>Dân tộc:\\n                            <strong>{{benhNhanHienTai.YeuCauTiepNhan.DanToc == null ? null :\\n                                benhNhanHienTai.YeuCauTiepNhan.DanToc.Ten}}</strong>\\n                        </li>\\n                        <li>Địa chỉ:\\n                            <strong>{{benhNhanHienTai.YeuCauTiepNhan.DiaChiDisplay}}</strong>\\n                        </li>\\n                        <li>Nghề nghiệp:\\n                            <strong>{{benhNhanHienTai.YeuCauTiepNhan.NgheNghiep == null ? null :\\n                                benhNhanHienTai.YeuCauTiepNhan.NgheNghiep.Ten}}</strong>\\n                        </li>\\n                        <ng-container *ngIf=\\\"!isKhamDoan\\\">\\n                            <li>Tuyến khám: <strong\\n                                    style=\\\"color: green;\\\">{{benhNhanHienTai.YeuCauTiepNhan.TenLyDoVaoVien}}</strong>\\n                            </li>\\n                            <li>Số BHYT: <strong>{{benhNhanHienTai.YeuCauTiepNhan.BHYTMaSoThe}}</strong>\\n                            </li>\\n                            <li>Mức hưởng: <strong\\n                                    style=\\\"color: blue;\\\">{{benhNhanHienTai.YeuCauTiepNhan.BHYTMucHuong}}%</strong>\\n                            </li>\\n                            <li>Ngày hiệu lực: <strong\\n                                    [style.color]=\\\"benhNhanHienTai.YeuCauTiepNhan.IsBHYTHetHan ? 'red' : ''\\\">{{benhNhanHienTai.YeuCauTiepNhan.BHYTThoiGianHieuLucDisplay}}</strong>\\n                            </li>\\n\\n                            <li>Lý do TN:\\n                                <strong>{{benhNhanHienTai.YeuCauTiepNhan.TenLyDoTiepNhan}}</strong>\\n                            </li>\\n                            <li>Ngày TN:\\n                                <strong>{{benhNhanHienTai.YeuCauTiepNhan.ThoiDiemTiepNhanDisplay}}</strong>\\n                            </li>\\n                            <li *ngIf=\\\"benhNhanHienTai.YeuCauTiepNhan.TrangThaiTiepNhan == yeuCauTiepNhanDangThucHien\\\">\\n                                <a style=\\\"text-decoration: underline; color: blue; float:right;\\\"\\n                                    (click)=\\\"capNhatDoiTuong()\\\"><i>Cập nhật đối tượng</i></a>\\n                            </li>\\n                        </ng-container>\\n                        <ng-container *ngIf=\\\"isKhamDoan\\\">\\n                            <li>Công ty:\\n                                <strong style=\\\"color: red;\\\">{{benhNhanHienTai.YeuCauTiepNhan.TenCongTy}}</strong>\\n                            </li>\\n                        </ng-container>\\n                    </ul>\\n\\n                    <ul *ngIf=\\\"LaChuyenKhoaKhamNhieu\\\" class=\\\"inline\\\">\\n                        <li>Mã TN:\\n                            <strong>{{benhNhanHienTai.YeuCauTiepNhan.MaYeuCauTiepNhan}}</strong>\\n                        </li>\\n                        <li>Họ tên:\\n                            <strong>{{benhNhanHienTai.YeuCauTiepNhan.HoTen}}</strong>\\n                        </li>\\n                        <li>Giới tính:\\n                            <strong>{{benhNhanHienTai.YeuCauTiepNhan.TenGioiTinh}}</strong>\\n                        </li>\\n                        <li>Ngày sinh:\\n                            <strong>{{benhNhanHienTai.YeuCauTiepNhan.NgaySinhDisplay}}</strong>\\n                        </li>\\n                        <li>Mức hưởng: <strong\\n                                style=\\\"color: blue;\\\">{{benhNhanHienTai.YeuCauTiepNhan.BHYTMucHuong}}%</strong>\\n                        </li>\\n\\n                        <li style=\\\"margin-right: -20px; float:right;\\\">\\n                            <a style=\\\"text-decoration: underline; color: blue;\\\"\\n                                (click)=\\\"showChiTietHanhChinh = !showChiTietHanhChinh\\\">\\n                                <i>{{showChiTietHanhChinh ? 'Ẩn chi tiết' : 'Xem chi tiết'}}</i>\\n                            </a>\\n                        </li>\\n                    </ul>\\n                    <ng-container *ngIf=\\\"LaChuyenKhoaKhamNhieu && showChiTietHanhChinh\\\">\\n                        <div style=\\\"width:100%\\\"></div>\\n                        <ul class=\\\"inline\\\">\\n                            <li>Mã NB:\\n                                <strong>{{benhNhanHienTai.YeuCauTiepNhan.BenhNhan.MaBN}}</strong>\\n                            </li>\\n\\n                            <li>SĐT:\\n                                <strong>{{benhNhanHienTai.YeuCauTiepNhan.SoDienThoaiDisplay}}</strong>\\n                            </li>\\n                            <li>Dân tộc:\\n                                <strong>{{benhNhanHienTai.YeuCauTiepNhan.DanToc == null ? null :\\n                                    benhNhanHienTai.YeuCauTiepNhan.DanToc.Ten}}</strong>\\n                            </li>\\n                            <li>Địa chỉ:\\n                                <strong>{{benhNhanHienTai.YeuCauTiepNhan.DiaChiDisplay}}</strong>\\n                            </li>\\n                            <li>Nghề nghiệp:\\n                                <strong>{{benhNhanHienTai.YeuCauTiepNhan.NgheNghiep == null ? null :\\n                                    benhNhanHienTai.YeuCauTiepNhan.NgheNghiep.Ten}}</strong>\\n                            </li>\\n                            <li>Tuyến khám: <strong\\n                                    style=\\\"color: green;\\\">{{benhNhanHienTai.YeuCauTiepNhan.TenLyDoVaoVien}}</strong>\\n                            </li>\\n                            <li>Số BHYT: <strong>{{benhNhanHienTai.YeuCauTiepNhan.BHYTMaSoThe}}</strong>\\n                            </li>\\n\\n                            <li>Ngày hiệu lực: <strong\\n                                    [style.color]=\\\"benhNhanHienTai.YeuCauTiepNhan.IsBHYTHetHan ? 'red' : ''\\\">{{benhNhanHienTai.YeuCauTiepNhan.BHYTThoiGianHieuLucDisplay}}</strong>\\n                            </li>\\n\\n                            <li>Lý do TN:\\n                                <strong>{{benhNhanHienTai.YeuCauTiepNhan.TenLyDoTiepNhan}}</strong>\\n                            </li>\\n                            <li>Ngày TN:\\n                                <strong>{{benhNhanHienTai.YeuCauTiepNhan.ThoiDiemTiepNhanDisplay}}</strong>\\n                            </li>\\n                            <li *ngIf=\\\"benhNhanHienTai.YeuCauTiepNhan.TrangThaiTiepNhan == yeuCauTiepNhanDangThucHien\\\">\\n                                <a style=\\\"text-decoration: underline; color: blue; float:right;\\\"\\n                                    (click)=\\\"capNhatDoiTuong()\\\"><i>Cập nhật đối tượng</i></a>\\n                            </li>\\n                        </ul>\\n                    </ng-container>\\n                </div>\\n            </fieldset>\\n        </div>\\n\\n        <div class=\\\"row ml-1 temp d-inline\\\">\\n            <kendo-tabstrip fxFlex=\\\"100%\\\" id=\\\"card-popup\\\" class=\\\"content-has-border tabstrip-pad sticky-kendotab-item-2\\\" (tabSelect)=\\\"chuyenDen('card-popup', $event, isKhamDoan)\\\">\\n                <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectTabKhambenh.selectedTabKhamBenh\\\">\\n                    <ng-template kendoTabTitle>\\n                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F1\\\">\\n                            KHÁM BỆNH\\n                        </div>\\n                    </ng-template>\\n                    <ng-template kendoTabContent>\\n                        <div class=\\\"p-2\\\">\\n                            <app-lan-kham-hien-tai-kham-benh [data]=\\\"benhNhanHienTai\\\" [tenKP]=\\\"tenKhoaPhong\\\" \\n                                [phongKhamId]=\\\"phongKhamId\\\" [templateKhamCacCoQuanObj]=\\\"benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj\\\"\\n                                [isKhamDoan]=\\\"isKhamDoan\\\" [laChuyenKhoaKhamNhieu]=\\\"LaChuyenKhoaKhamNhieu\\\"\\n                                [templateDichVuKhamSucKhoes]=\\\"benhNhanHienTai.YeuCauKhamBenh.TemplateDichVuKhamSucKhoes\\\"\\n                                [documentType]=\\\"documentType\\\">\\n                            </app-lan-kham-hien-tai-kham-benh>\\n\\n\\n                            <div class=\\\"sticky-button-action py-3 text-right\\\" kendoTooltip>\\n                                <button type=\\\"button\\\" mat-button class=\\\"mr-2\\\" *ngIf=\\\"isKhamDoan ||benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh\\\" (click)=\\\"cancelChangeData()\\\" title=\\\"Phím tắt: Esc\\\">Hủy</button>\\n                                <button type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button *ngIf=\\\"isKhamDoan || benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh\\\" (click)=\\\"saveChangeData(null, true)\\\" title=\\\"Phím tắt: Ctrl + S\\\">Lưu</button>\\n                            </div>\\n                        </div>\\n\\n                    </ng-template>\\n                </kendo-tabstrip-tab>\\n                <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectTabKhambenh.selectedTabLichSuKham\\\">\\n                    <ng-template kendoTabTitle>\\n                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F2\\\">\\n                            LỊCH SỬ KHÁM \\n                        </div>\\n                    </ng-template>\\n                    \\n                    <ng-template kendoTabContent>\\n                        <app-kham-benh-lich-su-kham-list [BenhNhan]=\\\"benhNhanHienTai.YeuCauTiepNhan.BenhNhanId\\\" [tenKP]=\\\"tenKhoaPhong\\\" \\n                            [YeuCauTiepNhanId]=\\\"benhNhanHienTai.YeuCauTiepNhanId\\\" [documentType]=\\\"documentType\\\">\\n                        </app-kham-benh-lich-su-kham-list>\\n                    </ng-template>\\n                </kendo-tabstrip-tab>\\n\\n                <!-- tab chỉ định -->\\n                <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectTabKhambenh.selectedTabChiDinh\\\">\\n                    <ng-template kendoTabTitle>\\n                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F3\\\">\\n                            CHỈ ĐỊNH\\n                        </div>\\n                    </ng-template>\\n                    <ng-template kendoTabContent>\\n                        <div class=\\\"m-2\\\">\\n                            <app-lan-kham-hien-tai-kham-benh-chi-dinh [data]=\\\"benhNhanHienTai\\\" [templateKp]=\\\"templateKhoaPhong\\\" [tenKp]=\\\"tenKhoaPhong\\\" \\n                                [isKhamDoan]=\\\"isKhamDoan\\\" [hinhThucKhamBenh]=\\\"hinhThucKham\\\" [documentType]=\\\"documentType\\\">\\n                            </app-lan-kham-hien-tai-kham-benh-chi-dinh>\\n                        </div>\\n                    </ng-template>\\n                </kendo-tabstrip-tab>\\n\\n                <!-- tab kết quả cls -->\\n                <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectTabKhambenh.selectedTabKetQuaCLS\\\">\\n                    <ng-template kendoTabTitle>\\n                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F5\\\">\\n                            KQ CLS\\n                        </div>\\n                    </ng-template>\\n                    <ng-template kendoTabContent>\\n                        <div class=\\\"mt-2 ml-2 mr-2\\\">\\n                            <app-lan-kham-hien-tai-ket-qua-cls  [YeuCauTiepNhanId]=\\\"benhNhanHienTai.YeuCauTiepNhanId\\\"\\n                                [documentType]=\\\"documentType\\\">\\n                            </app-lan-kham-hien-tai-ket-qua-cls>\\n                        </div>\\n                    </ng-template>\\n                </kendo-tabstrip-tab>\\n\\n\\n                <kendo-tabstrip-tab *ngIf=\\\"!isKhamDoan\\\" [selected]=\\\"lstStatusSelectTabKhambenh.selectedTabChanDoan\\\">\\n                    <ng-template kendoTabTitle>\\n                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F6\\\">\\n                            CHẨN ĐOÁN\\n                        </div>\\n                    </ng-template>\\n                    <ng-template kendoTabContent>\\n                        <div class=\\\"p-2\\\">\\n                            <app-lan-kham-hien-tai-ket-luan [data]=\\\"benhNhanHienTai\\\" [dataYeuCauKhamBenh]=\\\"benhNhanHienTai.YeuCauKhamBenh\\\" \\n                                [dataICDKhacs]=\\\"benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs\\\" [dataYeuCauKhamBenhPrevious]=\\\"yeuCauKhamBenhPrevious\\\" \\n                                [validationErrors]=\\\"validationKetLuanErrors\\\" [documentType]=\\\"documentType\\\">\\n                            </app-lan-kham-hien-tai-ket-luan>\\n\\n                            <div class=\\\"sticky-button-action py-3 text-right\\\" kendoTooltip>\\n                                <button (click)=\\\"huy()\\\" type=\\\"button\\\" *ngIf=\\\"this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1 mt-2\\\" title=\\\"Phím tắt: Esc\\\">Hủy</button>\\n                                <button (click)=\\\"luuKetLuan()\\\" type=\\\"button\\\" *ngIf=\\\"this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" title=\\\"Phím tắt: Ctrl + S\\\">Lưu</button>\\n                                \\n                                <button type=\\\"button\\\" color=\\\"primary\\\" *ngIf=\\\"this.benhNhanHienTai.YeuCauKhamBenh.DichVuKhamBenhBenhVienId == cauHinhDichVuKhamThai\\\" mat-raised-button mat-button class=\\\"mr-1\\\" (click)=\\\"inGiayNghiDuongThai()\\\">In giấy nghỉ dưỡng thai\\n                                </button>\\n\\n                                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" [disabled]=\\\"benhNhanHienTai.YeuCauKhamBenh.CoDieuTriNgoaiTru == true\\\" (click)=\\\"hoanThanhKham()\\\" title=\\\"Phím tắt: Ctrl + H\\\">Lưu và Hoàn thành\\n                                    khám</button>\\n\\n                                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" (click)=\\\"inPhieuKham()\\\">In phiếu khám\\n                                    bệnh</button>\\n\\n                                <button *ngIf=\\\"this.benhNhanHienTai.YeuCauKhamBenh.CoNhapVien\\\" type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" (click)=\\\"inPhieuKhamVaoVien()\\\">In phiếu khám\\n                                        bệnh vào viện</button>\\n                                <button type=\\\"button\\\" color=\\\"primary\\\" *ngIf=\\\"this.benhNhanHienTai.YeuCauTiepNhan.CoBHYT == true\\\" mat-raised-button mat-button class=\\\"mr-1\\\" (click)=\\\"inGiayNghiHuongBHXH()\\\">In giấy nghỉ\\n                                    hưởng BHXH</button>\\n                                   \\n                            </div>\\n                        </div>\\n                    </ng-template>\\n                </kendo-tabstrip-tab>\\n                <!-- số dư tạm ứng -->\\n                <kendo-tabstrip-tab [disabled]=\\\"true\\\" cssClass=\\\"tab-right-po\\\">\\n                    <ng-template kendoTabTitle>\\n                        Tạm ứng:\\n                        <b>{{benhNhanHienTai.YeuCauKhamBenh.SoDuTaiKhoanDisplay}}</b>\\n                        -\\n                        Còn lại: <b>{{benhNhanHienTai.YeuCauKhamBenh.SoDuTaiKhoanConLaiDisplay}}</b>\\n                    </ng-template>\\n                    <ng-template kendoTabContent>\\n                    </ng-template>\\n                </kendo-tabstrip-tab>\\n            </kendo-tabstrip>\\n        </div>\\n    </ng-container>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"null\\\">Hủy</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>XÁC NHẬN</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close('No answer')\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <div>Dịch vụ:</div>\\n    <ol style=\\\"list-style: decimal;\\\" class=\\\"ml-8\\\">\\n        <ng-container *ngFor=\\\"let dichVu of dichVus\\\">\\n            <li style=\\\"color:red\\\">{{dichVu}}</li>\\n        </ng-container>\\n    </ol>\\n    <div>chưa thực hiện, bạn có muốn hoàn thành khám?</div>\\n</mat-dialog-content>\\n\\n\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <button mat-button (click)=\\\"close('No')\\\">Không</button>\\n    <button mat-button color=\\\"primary\\\" (click)=\\\"close('Yes')\\\">Có</button>\\n</mat-dialog-actions>\"","export default \"<!-- <div class=\\\"card overflow-auto mb-4 mr-4\\\"> -->\\n<h3 class=\\\"p-2\\\" style=\\\"color: chocolate;\\\">Lịch Sử Khám Tại Bệnh Viện</h3>\\n<app-grid #gridA baseRoute=\\\"\\\" [gridColumns]=\\\"gridColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n    [useHeaderDefault]=\\\"true\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n     [urlGetData]=\\\"urlGetDataGrid\\\" [urlGetTotalPage]=\\\"urlGetTotalPageGrid\\\" height=\\\"300\\\"\\n    [additionalSearchString]=\\\"BenhNhan+''\\\" [autoHeight]=\\\"true\\\" (extDetailExpand)=\\\"detailExpand($event)\\\" [pageSize]=\\\"10\\\">\\n</app-grid>\\n\\n<h3 class=\\\"p-2\\\" style=\\\"color: chocolate;\\\">Lịch Sử Khám Theo BHYT</h3>\\n<app-grid #gridB baseRoute=\\\"\\\" [gridColumns]=\\\"gridColumnsBHYT\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n    [useHeaderDefault]=\\\"true\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n     [urlGetData]=\\\"urlGetDataGridBHYT\\\" [urlGetTotalPage]=\\\"urlGetTotalPageGridBHYT\\\" height=\\\"300\\\"\\n    [additionalSearchString]=\\\"YeuCauTiepNhanId+''\\\" [autoHeight]=\\\"true\\\"  [pageSize]=\\\"10\\\">\\n</app-grid>\\n<ng-template #detailTemplate let-dataItem>\\n    <a (click)=\\\" detailExpand(dataItem)\\\">{{dataItem.ThoiDiemDangKyDisplay}}</a>\\n</ng-template>\\n\"","export default \"<div fxFlex=\\\"100%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <h3  fxFlex=\\\"100%\\\"class=\\\"sub-title\\\">BỘ PHẬN TỔN THƯƠNG\\n    </h3>\\n    \\n    <div fxFlex=\\\"100%\\\"\\n        *ngIf=\\\"dataSourceBoPhanTonThuong.data != undefined && dataSourceBoPhanTonThuong.data != null && dataSourceBoPhanTonThuong.data.length > 0\\\"\\n        class=\\\"mb-3\\\">\\n        <div fxFlex=\\\"100%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <div fxFlex=\\\"25%\\\" *ngFor=\\\"let boPhanTonThuong of dataSourceBoPhanTonThuong.data\\\">\\n                <div class=\\\"card overflow-hidden\\\" style=\\\"border: 1px solid #ccc;position: relative;\\\">\\n                    <div class=\\\"mat-ripple p-4 text-center hover:bg-hover trans-ease-out cursor-pointer relative\\\">\\n                        <img (click)=\\\"xemHinhAnhBoPhanTonThuong(boPhanTonThuong)\\\" src=\\\"{{boPhanTonThuong.HinhAnh}}\\\"\\n                            class=\\\"mx-auto\\\" />\\n                    </div>\\n                    <div class=\\\"bg-app-bar p-2\\\">\\n                        <p>{{boPhanTonThuong.MoTa}}</p>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n<ng-container\\n    *ngIf=\\\"dataSourceBoPhanTonThuong.data == undefined || dataSourceBoPhanTonThuong.data == null || dataSourceBoPhanTonThuong.data.length == 0\\\">\\n    <p>Không có bộ phận tổn thương</p>\\n</ng-container>\\n</div>\\n\"","export default \"<h3 class=\\\"sub-title\\\">Chẩn đoán phân biệt\\n</h3>\\n<ng-container *ngIf=\\\"dataSourceChanDoanPhamBiet.data.length == 0\\\">\\n    <p>Không có chẩn đoán phân biệt</p>\\n</ng-container>\\n<app-grid *ngIf=\\\"dataSourceChanDoanPhamBiet.data.length > 0\\\" masterName=\\\"TienSuBenh\\\"\\n    [gridColumns]=\\\"gridChanDoanPhanBietColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n    class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [maxHeight]=\\\"200\\\"\\n    [lazyLoadPage]=\\\"true\\\" [gridDataSource]=\\\"dataSourceChanDoanPhamBiet\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n</app-grid>\\n\\n<ng-template #icdTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <app-combobox *ngIf=\\\"dataItem.Id == 0\\\" [(model)]=\\\"dataItem.ICDId\\\" class=\\\"no-label\\\"\\n    [modelText]=\\\"dataItem.TenICD\\\" [popupSettings]=\\\"null\\\" url=\\\"ChuanDoan/GetChuanDoanLienKetICD\\\" [required]=\\\"true\\\"\\n    label=\\\" \\\">\\n\\n</app-combobox>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\" >{{dataItem.MaICd}}</p>\\n</ng-template>\\n<ng-template #ghiChuTemplate let-dataItem>\\n    <app-textbox *ngIf=\\\"dataItem.Id == 0\\\" maxlength=\\\"4000\\\" [(model)]=\\\"dataItem.GhiChu\\\" class=\\\"no-label\\\"\\n        label=\\\"\\\" [required]=\\\"true\\\">\\n    </app-textbox>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.GhiChu}}</p>\\n</ng-template>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <span><b>Dịch vụ</b></span>\\n    <app-grid *ngIf=\\\"gridDataNotChietKhau!=null\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [gridColumns]=\\\"gridColumns\\\"\\n        [gridDataSource]=\\\"gridDataNotChietKhau\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n        [autoHeight]=\\\"true\\\" masterName=\\\"gridLichSuChiDinh{{yeuCauKhamBenhId}}\\\" [pageable]=\\\"false\\\" [groups]=\\\"groups\\\"\\n        [removeGroupFooterIfIsOnlyOne]=\\\"true\\\">\\n    </app-grid>\\n    <span><b>Ghi nhận dược phẩm/ vật tư</b></span>\\n    <app-grid #gridVTTHThuoc fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" style=\\\"width: 1px;\\\" [gridColumns]=\\\"gridVTTHThuocColumns\\\"\\n        [allowSortDefault]=\\\"true\\\" [gridDataSource]=\\\"gridDataSourceVTTHThuoc\\\" [documentType]=\\\"documentType\\\"\\n        [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n        [lazyLoadPage]=\\\"true\\\" maxHeight=\\\"500\\\" [pageable]=\\\"false\\\" [groups]=\\\"groupsGhiNhanVTHHThuoc\\\"\\n        masterName=\\\"gridVTTHThuoc\\\" [removeGroupFooterIfIsOnlyOne]=\\\"true\\\" reorderRowsMoveItemData=\\\"true\\\">\\n    </app-grid>\\n\\n    <!-- Grid Dịch vụ-->\\n    <ng-template #DonGiaTemplateKCK let-dataItem>\\n        {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n\\n    <ng-template #ThanhTienTemplateKCK let-dataItem>\\n        {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n\\n    <ng-template #BHYTThanhToanTemplateKCK let-dataItem>\\n        {{dataItem.BHYTThanhToan | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n\\n    <ng-template #BNThanhToanTemplateKCK let-dataItem>\\n        {{dataItem.BNThanhToan | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n\\n    <ng-template #nhomDichVuTemplate let-value=\\\"value\\\">\\n        <strong>{{value}}</strong>\\n    </ng-template>\\n\\n    <ng-template #tenDichVuTemplate let-dataItem>\\n        <div>\\n            <mat-icon fxFlex=\\\"30px\\\" *ngIf=\\\"dataItem.YeuCauGoiDichVuId !== null\\\" [icIcon]=\\\"icInfo\\\" kendoTooltip\\n                title=\\\"{{dataItem.TenGoiDichVu}}\\\">\\n            </mat-icon>\\n            <span fxFlex=\\\"auto\\\" class=\\\"reverse-ellipsis r\\\" kendoTooltip\\n                title=\\\"{{dataItem.TenDichVu}}\\\">{{dataItem.TenDichVu}} </span>\\n        </div>\\n    </ng-template>\\n\\n    <ng-template #tkChietKhauFooter let-dataItem>\\n        <span style=\\\"float: right;\\\">Giá gói:</span>\\n    </ng-template>\\n\\n    <ng-template #TongCongThanhTienaFooter let-dataItem>\\n        <span style=\\\"color:blue\\\">{{tongthanhtien | number:'0.2-2':'vi-VN'}}</span>\\n    </ng-template>\\n\\n    <ng-template #TongCongthanhTienFooter let-dataItem>\\n        <span style=\\\"color:red\\\">{{tongThanhTienGoiChietKhau | number:'0.2-2':'vi-VN'}}</span>\\n    </ng-template>\\n\\n    <ng-template #bhytThanhToanTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        <div class=\\\"float_right\\\">{{ dataItem.BHYTThanhToan | number:'0.2-2':'vi-VN'}}\\n            <ic-icon *ngIf=\\\"dataItem.KiemTraBHYTXacNhan===true\\\" [icon]=\\\"icCheck\\\" class=\\\"size-icon mr-3\\\" inline=\\\"true\\\">\\n            </ic-icon>\\n        </div>\\n    </ng-template>\\n\\n    <ng-template #TongCongThanhTienKCKGroupFooter let-aggregates>\\n        {{aggregates.ThanhTien.sum | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n\\n    <ng-template #TongCongBHTTThanhToanGroupFooter let-dataItem>\\n        <span>{{dataItem.BHYTThanhToan.sum | number:'0.2-2':'vi-VN'}}</span>\\n    </ng-template>\\n\\n    <ng-template #TongCongBNTTGroupFooter let-dataItem>\\n        {{dataItem.BNThanhToan.sum | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n\\n    <ng-template #congTienGroupFooterTemplate let-dataItem>\\n        <span>Cộng:</span>\\n    </ng-template>\\n\\n    <ng-template #TongCongKCKFooter let-dataItem>\\n        <span *ngIf=\\\"!isKhamDoan\\\">Tổng cộng:</span>\\n    </ng-template>\\n\\n    <ng-template #TongCongThanhTienKCKFooter let-dataItem>\\n        <span style=\\\"color:blue\\\" *ngIf=\\\"!isKhamDoan\\\">{{totalNotChietKhau('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n    </ng-template>\\n\\n\\n    <ng-template #donGiaBaoHiemGrid1Template let-dataItem>\\n        {{dataItem.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n\\n    <ng-template #duocHuongBaoHiemTemplate let-dataItem>\\n        <app-checkbox id=\\\"duocHuongBaoHiem{{dataItem.Id}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.DuocHuongBaoHiem\\\"\\n            disabled=\\\"{{true}}\\\">\\n        </app-checkbox>\\n    </ng-template>\\n\\n    <ng-template #noiThucHienTemplate let-dataItem>\\n        <span style=\\\"color:red;\\\">\\n            {{dataItem.NoiThucHien}}\\n        </span>\\n    </ng-template>\\n    <ng-template #trangThaiTemplate let-dataItem>\\n        <div style=\\\"position: relative;\\\" [ngSwitch]=\\\"dataItem.NhomId\\\">\\n            <span *ngSwitchCase=\\\"1\\\" [ngClass]=\\\"{'blackText': dataItem.TrangThaiDichVuId == trangThaiYCKB.ChuaKham, \\n                                            'orangeText': (dataItem.TrangThaiDichVuId == trangThaiYCKB.DangKham \\n                                                            || dataItem.TrangThaiDichVuId == trangThaiYCKB.DangLamChiDinh\\n                                                            || dataItem.TrangThaiDichVuId == trangThaiYCKB.DangDoiKetLuan),\\n                                            'greenText': dataItem.TrangThaiDichVuId == trangThaiYCKB.DaKham}\\\">\\n                {{dataItem.TrangThaiDichVu}}\\n            </span>\\n\\n            <span [style.white-space]=\\\"dataItem.KhongThucHien ? 'normal' : 'none'\\\" *ngSwitchDefault [ngClass]=\\\"{'blackText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.ChuaThucHien, \\n                                            'orangeText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.DangThucHien,\\n                                            'greenText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.DaThucHien }\\\">\\n                {{dataItem.TrangThaiDichVu}}\\n            </span>\\n\\n            <button\\n                *ngIf=\\\"dataItem.Nhom ==='DỊCH VỤ KHÁC' && dataItem.TrangThaiDichVuId === trangThaiYCDVKT.ChuaThucHien\\\"\\n                color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Cập nhật thực hiện dịch vụ\\\" type=\\\"button\\\"\\n                (click)=\\\"capNhatThongTinThucHienDichVu(dataItem)\\\" class=\\\"mr-1\\\">\\n                <mat-icon [icIcon]=\\\"icDone\\\"></mat-icon>\\n            </button>\\n\\n            <button *ngIf=\\\"dataItem.Nhom ==='DỊCH VỤ KHÁC' && dataItem.TrangThaiDichVuId === trangThaiYCDVKT.DaThucHien\\\"\\n                style=\\\"color: red\\\" mat-icon-button kendoTooltip title=\\\"Hủy thực hiện dịch vụ\\\" type=\\\"button\\\"\\n                (click)=\\\"capNhatThongTinThucHienDichVu(dataItem, false)\\\" class=\\\"mr-1\\\">\\n                <mat-icon [icIcon]=\\\"icHistory\\\"></mat-icon>\\n            </button>\\n\\n            <!-- <button *ngIf=\\\"dataItem.TrangThaiDichVuId !== trangThaiYCDVKT.ChuaThucHien\\\" style=\\\"color: red\\\"\\n                mat-icon-button kendoTooltip title=\\\"Hủy thực hiện dịch vụ\\\" type=\\\"button\\\"\\n                (click)=\\\"capNhatThongTinThucHienDichVu(dataItem, false)\\\" class=\\\"mr-1\\\">\\n                <mat-icon [icIcon]=\\\"icHistory\\\"></mat-icon>\\n            </button> -->\\n\\n        </div>\\n    </ng-template>\\n    <!-- end dich vụ -->\\n\\n    <!-- vat tu -->\\n    <ng-template #donGiaTemplate let-dataItem>\\n        <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n            {{item.DonGia | number:'0.2-2':'vi-VN'}}\\n        </p>\\n    </ng-template>\\n    <ng-template #donGiaBaoHiemGrid2Template let-dataItem>\\n        <ng-container *ngIf=\\\"dataItem.DonGiaBaoHiem != null\\\">\\n            {{dataItem.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}}\\n        </ng-container>\\n        <ng-container *ngIf=\\\"dataItem.DonGiaBaoHiem == null\\\">\\n            <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n                {{item.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}}\\n            </p>\\n        </ng-container>\\n    </ng-template>\\n    <ng-template #soLuongGhiNhanVTTHThuocTemplate let-dataItem>\\n        <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n            <ng-container *ngIf=\\\"dataItem.LoaiKho == 5\\\">{{item.SoLuong | number:'0.2'}}</ng-container>\\n            <ng-container *ngIf=\\\"dataItem.LoaiKho != 5\\\">{{item.SoLuong | number}}</ng-container>\\n        </p>\\n    </ng-template>\\n    <ng-template #thanhTienGhiNhanVTTHThuocGroupFooterTemplate let-aggregates>\\n        {{aggregates.ThanhTien.sum | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n    <ng-template #thanhTienGhiNhanVTTHThuocFooterTemplate let-dataItem>\\n        <span style=\\\"color:blue\\\">{{totalGhiNhanVTTHThuoc('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n    </ng-template>\\n    <ng-template #thanhTienTemplate let-dataItem>\\n        <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n            {{item.ThanhTien | number:'0.2-2':'vi-VN'}}\\n        </p>\\n    </ng-template>\\n    <ng-template #donGiaBaoHiemTemplate let-dataItem>\\n        {{dataItem.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n    <ng-template #duocHuongBaoHiemGhiNhanVHTTTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        <app-checkbox id=\\\"duocHuongBaoHiem{{rowIndex}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.DuocHuongBaoHiem\\\"\\n            disabled=\\\"{{true}}\\\">\\n        </app-checkbox>\\n    </ng-template>\\n    <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n        <strong>{{value}}</strong>\\n    </ng-template>\\n\\n    <ng-template #sttTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        {{rowIndex + 1}}\\n    </ng-template>\\n    <!---->\\n    <div fxFlex=\\\"100%\\\">\\n        <a (click)=\\\"xemChiDinhCuaBacSiKhac()\\\"\\n            style=\\\"color:green; text-decoration: underline; font-weight: bold; bottom: 20px;\\\">Xem\\n            chỉ định của bác sĩ khác</a>\\n    </div>\\n</div>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mr-4\\\"> CHỈ SỐ SINH TỒN\\n    </h3>\\n    <app-grid [gridColumns]=\\\"gridSinhHieuColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n        urlGetData=\\\"KhamBenh/GetDataForGridAsyncChiSoSinhHieu\\\" urlGetTotalPage=\\\"\\\"\\n        [additionalSearchString]=\\\"maTiepNhanBNId\\\" class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\"\\n        [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [maxHeight]=\\\"200\\\" [lazyLoadPage]=\\\"true\\\" [pageable]=\\\"false\\\">\\n    </app-grid>\\n    <ng-template #nhipTimTemplate let-dataItem>\\n        <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\" [(model)]=\\\"dataItem.NhipTim\\\" class=\\\"no-label\\\">\\n        </app-textboxnumeric>\\n        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.NhipTim}}</p>\\n    </ng-template>\\n    <ng-template #huyetApTemplate let-dataItem>\\n        <div style=\\\"width:100%;display: block;overflow: hidden;\\\">\\n            <div *ngIf=\\\"dataItem.Id == 0\\\" style=\\\"width: calc(50% - 10px);float: left;\\\">\\n                <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\" [(model)]=\\\"huyetApTamThu\\\" class=\\\"no-label\\\" [min]=\\\"90\\\"\\n                    [max]=\\\"140\\\">\\n                </app-textboxnumeric>\\n            </div>\\n            <div *ngIf=\\\"dataItem.Id == 0\\\" style=\\\"width: 20px;text-align: center;float: left;line-height: 43px;\\\">/</div>\\n            <div *ngIf=\\\"dataItem.Id == 0\\\" style=\\\"width: calc(50% - 10px);float: left;\\\">\\n                <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\" [(model)]=\\\"huyetApTamTruong\\\" class=\\\"no-label\\\" [min]=\\\"60\\\"\\n                    [max]=\\\"90\\\">\\n                </app-textboxnumeric>\\n            </div>\\n        </div>\\n        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.HuyetAp}} </p>\\n    </ng-template>\\n    <ng-template #thanNhietTemplate let-dataItem>\\n        <app-textboxnumeric [format]=\\\"format\\\" *ngIf=\\\"dataItem.Id == 0\\\" [(model)]=\\\"dataItem.ThanNhiet\\\" class=\\\"no-label\\\">\\n        </app-textboxnumeric>\\n        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.ThanNhiet | number}}</p>\\n    </ng-template>\\n    <ng-template #nhipThoTemplate let-dataItem>\\n        <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\" [(model)]=\\\"dataItem.NhipTho\\\" class=\\\"no-label\\\">\\n        </app-textboxnumeric>\\n        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.NhipTho | number}} </p>\\n    </ng-template>\\n    <ng-template #canNangTemplate let-dataItem>\\n        <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\" [format]=\\\"format\\\" [(model)]=\\\"dataItem.CanNang\\\" class=\\\"no-label\\\"\\n            [min]=\\\"2.0\\\" [max]=\\\"222.0\\\">\\n        </app-textboxnumeric>\\n        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.CanNang | number}} </p>\\n    </ng-template>\\n    <ng-template #BMITemplate let-dataItem>\\n        <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\" [format]=\\\"format\\\" [(model)]=\\\"dataItem.BMI\\\" class=\\\"no-label\\\">\\n        </app-textboxnumeric>\\n        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.Bmi  | number: '1.2-2'}}</p>\\n    </ng-template>\\n    <ng-template #chieuCaoTemplate let-dataItem>\\n        <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\" [format]=\\\"format\\\" [(model)]=\\\"dataItem.ChieuCao\\\" class=\\\"no-label\\\"\\n            [min]=\\\"100.0\\\" [max]=\\\"250.0\\\">\\n        </app-textboxnumeric>\\n        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.ChieuCao}} </p>\\n    </ng-template>\\n    <ng-template #glassgowTemplate let-dataItem>\\n        <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\" [format]=\\\"format\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.Glassgow\\\"\\n            [decimals]=\\\"1\\\" class=\\\"no-label\\\">\\n        </app-textboxnumeric>\\n        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.Glassgow | number}}</p>\\n    </ng-template>\\n    <ng-template #spO2Template let-dataItem>\\n        <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\" [max]=\\\"9999\\\" [format]=\\\"format\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.SpO2\\\" [decimals]=\\\"1\\\" class=\\\"no-label\\\">\\n        </app-textboxnumeric>\\n        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.SpO2 | number}}</p>\\n    </ng-template>\\n</div>\"","export default \"<h3 class=\\\"sub-title\\\">DỊ ỨNG\\n</h3>\\n<app-grid [gridColumns]=\\\"gridDiUngThuocColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n    urlGetData=\\\"KhamBenh/GetDataForGridAsyncDiUngThuoc\\\" urlGetTotalPage=\\\"\\\" [additionalSearchString]=\\\"BenhNhan\\\"\\n    class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [maxHeight]=\\\"200\\\"\\n    [lazyLoadPage]=\\\"true\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n</app-grid>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title  mr-4\\\"><strong style=\\\"color: black;font-weight: bold;\\\">TOA THUỐC</strong></h3>\\n    <app-grid [gridColumns]=\\\"gridToaThuocChildColumns\\\" fxFlex=\\\"100%\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n        [lazyLoadPage]=\\\"true\\\"  [pageable]=\\\"false\\\" [autoHeight]=\\\"true\\\" \\n        [urlGetData]=\\\"urlGetDataGridChildToaThuoc\\\" [additionalSearchString]=\\\"yeuCauKhamBenhId+''\\\" [groups]=\\\"groups\\\">\\n    </app-grid>\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title  mr-4\\\"><strong style=\\\"color: black;font-weight: bold;\\\">VẬT TƯ Y TẾ</strong></h3>\\n    <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridVatTuYTColumns\\\"\\n                [documentType]=\\\"documentType\\\" #gridVatTu [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n                [useActionDefault]=\\\"false\\\" masterName=\\\"VatTu\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                [autoHeight]=\\\"true\\\" urlGetData=\\\"KhamBenh/GetVatTuYTDataForGridAsync\\\"\\n                (extOnDataBound)=\\\"onDataBoundVatTuGrid($event)\\\"\\n                urlGetTotalPage=\\\"KhamBenh/GetVatTuYTTotalPageForGridAsync\\\"\\n                [additionalSearchString]=\\\"yeuCauKhamBenhId+''\\\"  style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n            </app-grid>\\n    <!-- template -->\\n    <ng-template #donGiatemplate let-dataItem>\\n        {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n    <ng-template #thanhTientemplate let-dataItem>\\n        {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n    <ng-template #BNTratemplate let-dataItem>\\n        {{dataItem.BNChiTra | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n    <!-- footer -->\\n    <ng-template #donGiaFooter let-dataItem>\\n        <span style=\\\"float:right\\\">Tổng cộng :</span>\\n    </ng-template>\\n    <ng-template #thanhTienFooter let-dataItem>\\n        <span style=\\\"color:blue\\\">{{total('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n    </ng-template>\\n    <ng-template #BHTraFooter let-dataItem>\\n        <span style=\\\"color:blue\\\">{{total('BHChiTra') | number:'0.2-2':'vi-VN'}}</span>\\n    </ng-template>\\n    <ng-template #BNTraFooter let-dataItem>\\n        <span style=\\\"color:red;\\\">{{total('BNChiTra') | number:'0.2-2':'vi-VN'}}</span>\\n    </ng-template>\\n    <ng-template #loaiGroupHeaderTemplate let-value=\\\"value\\\">\\n        <strong>{{value}}</strong>\\n    </ng-template>\\n    <ng-template #sangTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <p *ngIf=\\\"dataItem.ThoiGianDungSangDisplay != null\\\" kendoTooltip\\n                title=\\\"{{dataItem.SangDisplay + ' ' +(dataItem.ThoiGianDungSangDisplay)}}\\\">\\n                {{dataItem.SangDisplay}}&nbsp;\\n                {{dataItem.ThoiGianDungSangDisplay}}\\n            </p>\\n            <p *ngIf=\\\"dataItem.ThoiGianDungSangDisplay == null\\\" kendoTooltip title=\\\"{{dataItem.SangDisplay}}\\\">\\n                {{dataItem.SangDisplay}}\\n            </p>\\n        </div>\\n    </ng-template>\\n    <ng-template #truaTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <p *ngIf=\\\"dataItem.ThoiGianDungTruaDisplay != null\\\" kendoTooltip\\n                title=\\\"{{dataItem.TruaDisplay + ' ' +(dataItem.ThoiGianDungTruaDisplay)}}\\\">\\n                {{dataItem.TruaDisplay}}&nbsp;\\n                {{dataItem.ThoiGianDungTruaDisplay}}\\n            </p>\\n            <p *ngIf=\\\"dataItem.ThoiGianDungTruaDisplay == null\\\" kendoTooltip title=\\\"{{dataItem.TruaDisplay}}\\\">\\n                {{dataItem.TruaDisplay}}\\n            </p>\\n        </div>\\n    </ng-template>\\n    <ng-template #chieuTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <p *ngIf=\\\"dataItem.ThoiGianDungChieuDisplay != null\\\" kendoTooltip\\n                title=\\\"{{dataItem.ChieuDisplay + ' ' +(dataItem.ThoiGianDungChieuDisplay)}}\\\">\\n                {{dataItem.ChieuDisplay}}&nbsp;\\n                {{dataItem.ThoiGianDungChieuDisplay}}\\n            </p>\\n            <p *ngIf=\\\"dataItem.ThoiGianDungChieuDisplay == null\\\" kendoTooltip title=\\\"{{dataItem.ChieuDisplay}}\\\">\\n                {{dataItem.ChieuDisplay}}\\n            </p>\\n        </div>\\n\\n\\n    </ng-template>\\n    <ng-template #toiTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <p *ngIf=\\\"dataItem.ThoiGianDungToiDisplay != null\\\" kendoTooltip\\n                title=\\\"{{dataItem.ToiDisplay + ' ' +(dataItem.ThoiGianDungToiDisplay)}}\\\">\\n                {{dataItem.ToiDisplay}}&nbsp;\\n                {{dataItem.ThoiGianDungToiDisplay}}\\n            </p>\\n            <p *ngIf=\\\"dataItem.ThoiGianDungToiDisplay == null\\\" kendoTooltip title=\\\"{{dataItem.ToiDisplay}}\\\">\\n                {{dataItem.ToiDisplay}}\\n            </p>\\n        </div>\\n\\n    </ng-template>\\n    <ng-template #thanhTienVatTuTemplate let-dataItem>\\n        {{dataItem.ThanhTienVatTu | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n    <ng-template #donGiaVatTuTemplate let-dataItem>\\n        {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n\\n\\n    <ng-template #thanhTienVatTuFooterTemplate let-dataItem>\\n        <p style=\\\"color: blue; font-weight: bold;\\\">\\n            <span>{{totalThanhTienVatTu('ThanhTienVatTu') | number:'0.2-2':'vi-VN'}}</span>\\n    </ng-template>\\n    <ng-template #donGiaVatTuFooterTemplate>\\n        <span style=\\\"float:right\\\">Tổng cộng:</span>\\n    </ng-template>\\n    <ng-template #thanhTienVatTuGroupFooterTemplate let-aggregates>\\n        {{aggregates.ThanhTienVatTu.sum | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n</div>\\n\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"pt-4\\\"\\n    *ngFor=\\\"let item of gridKetLuanColumns\\\" fxFlex=\\\"100%\\\">\\n    <div fxFlex=\\\"100%\\\">\\n        <a (click)=\\\"xemChanDoan()\\\" style=\\\"color:green; text-decoration: underline; font-weight: bold; bottom: 20px;\\\">Xem\\n            chẩn đoán của bác sĩ khác</a>\\n    </div>\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">TÓM TẮT KẾT QUẢ CLS </h3>\\n\\n    <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.TomTatKetQuaCLS != null\\\">Tóm tắt kết quả :{{item.TomTatKetQuaCLS}}</label>\\n    <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.TomTatKetQuaCLS == null\\\">Không có tóm tắt kết quả cận lâm sàng.</label>\\n\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Chẩn đoán ICD chính </h3>\\n    <label fxFlex=\\\"50%\\\" *ngIf=\\\"item.ChuanDoanICDChinh != null\\\"><span style=\\\"font-weight: bold;\\\">ICD</span>:{{item.ChuanDoanICDChinh}}</label>\\n    <label fxFlex=\\\"50%\\\" *ngIf=\\\"item.ChuThichChanDoanICDChinh != null\\\"><span style=\\\"font-weight: bold;\\\">Chẩn đoán</span>\\n        :{{item.ChuThichChanDoanICDChinh}}</label>\\n\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">CHẨN ĐOÁN ICD KÈM THEO </h3>\\n\\n    <label *ngIf=\\\"gridKetLuanICDPhus.length == 0\\\" fxFlex=\\\"50%\\\">Không có chẩn đoán icd kèm theo.</label>\\n    <ng-container *ngIf=\\\"gridKetLuanICDPhus.length != null\\\">\\n        <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" *ngFor=\\\"let item of gridKetLuanICDPhus\\\">\\n            <label fxFlex=\\\"50%\\\"><span style=\\\"font-weight: bold;\\\">ICD</span> :{{item.ICDPhu}}</label>\\n            <label fxFlex=\\\"50%\\\"><span style=\\\"font-weight: bold;\\\">Chẩn đoán</span> :{{item.ChuThichChanDoanICDPhu}}</label>\\n        </div>\\n    </ng-container>\\n\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">CÁCH GIẢI QUYẾT </h3>\\n    <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.CachGiaiQuyet != null\\\">Cách giải quyết :{{item.CachGiaiQuyet}}</label>\\n    <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.CachGiaiQuyet == null\\\">Không có cách giải quyết.</label>\\n    <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n        <app-checkbox id=\\\"CoKeToa\\\" fxFlex=\\\"35%\\\" value=\\\"true\\\" [(model)]=\\\"item.CoKeToa\\\" label=\\\"Cho về, Kê đơn thuốc\\\"\\n            [disabled]=\\\"true\\\">\\n        </app-checkbox>\\n        <app-checkbox id=\\\"CoKeToa\\\" fxFlex=\\\"35%\\\" value=\\\"false\\\" [(model)]=\\\"item.CoKeToa\\\" label=\\\"Cho về, không toa\\\" *ngIf=\\\"item.CoKeToa == null\\\"\\n        [disabled]=\\\"true\\\" >\\n        </app-checkbox>\\n        <app-checkbox id=\\\"CoKeToa\\\" fxFlex=\\\"35%\\\" value=\\\"false\\\" [(model)]=\\\"!item.CoKeToa\\\" label=\\\"Cho về, không toa\\\" *ngIf=\\\"item.CoKeToa == false\\\"\\n        [disabled]=\\\"true\\\" >\\n        </app-checkbox>\\n        <app-checkbox id=\\\"CoKeToa\\\" fxFlex=\\\"35%\\\" value=\\\"false\\\"  label=\\\"Cho về, không toa\\\" *ngIf=\\\"item.CoKeToa == true\\\"\\n        [disabled]=\\\"true\\\" >\\n        </app-checkbox>\\n        <a (click)=\\\"xemDonThuocBacSiKhac()\\\" *ngIf=\\\"item.CoKeToa == true\\\"  fxFlex=\\\"45%\\\" style=\\\"float: right;\\\">\\n            <span style=\\\"color:green; text-decoration: underline; font-weight: bold; bottom: 20px;float: right;\\\">\\n                Xem đơn thuốc bác sĩ khác đã kê\\n            </span>\\n        </a>\\n    </div>\\n    <div *ngIf=\\\"item.CoKeToa == true\\\" fxFlex=\\\"100%\\\">\\n        <app-lich-su-kham-benh-ke-toa *ngIf=\\\"item.CoKeToa == true\\\" [yeuCauKhamBenhId]=\\\"yeuCauKhamBenhId\\\">\\n        </app-lich-su-kham-benh-ke-toa>\\n        \\n    </div>\\n    <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n        <app-checkbox id=\\\"TaiKham\\\" fxFlex=\\\"80%\\\" fxFlex.sm=\\\"100%\\\" value=\\\"true\\\" [(model)]=\\\"item.TaiKham\\\" label=\\\"Tái khám\\\"\\n            [disabled]=\\\"true\\\">\\n        </app-checkbox>\\n    </div>\\n    <div *ngIf=\\\"item.TaiKham == true\\\" fxFlex=\\\"100%\\\">\\n        <div class=\\\"row ml-1\\\">\\n            <fieldset fxFlex=\\\"100%\\\">\\n                <div fxFlex=\\\"100%\\\">\\n                    <ul class=\\\"inline\\\">\\n                        <li>Ngày hẹn tái khám:\\n                            <strong>{{item.NgayHenKhamDisplay}}</strong>\\n                        </li>\\n                        <li>Ghi chú:\\n                            <strong>{{item.GhiChu}}</strong>\\n                        </li>\\n                    </ul>\\n                </div>\\n            </fieldset>\\n        </div>\\n    </div>\\n    <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n        <app-checkbox id=\\\"TaiKham\\\" fxFlex=\\\"80%\\\" fxFlex.sm=\\\"100%\\\" value=\\\"true\\\" [(model)]=\\\"item.DieuTriNgoaiTru\\\"\\n            label=\\\"Điều trị ngoại trú\\\" [disabled]=\\\"true\\\">\\n        </app-checkbox>\\n    </div>\\n    <div *ngIf=\\\"item.DieuTriNgoaiTru == true\\\" fxFlex=\\\"100%\\\">\\n        <div class=\\\"row ml-1\\\">\\n            <fieldset fxFlex=\\\"100%\\\">\\n                <div fxFlex=\\\"100%\\\">\\n                    <ul class=\\\"inline\\\">\\n                        <li>Dịch vụ kỹ thuật:\\n                            <strong>{{item.TenDichVuKyThuat}}</strong>\\n                        </li>\\n                        <li>Số lần điều trị:\\n                            <strong>{{item.SoLanDieuTri}}</strong>\\n                        </li>\\n                        <li>Thời gian bắt đầu điều trị:\\n                            <strong>{{item.ThoiGianBatDauDieuTri}}</strong>\\n                        </li>\\n                    </ul>\\n                </div>\\n            </fieldset>\\n        </div>\\n    </div>\\n    <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n        <app-checkbox id=\\\"NhapVien\\\" fxFlex=\\\"70%\\\" value=\\\"true\\\" [(model)]=\\\"item.NhapVien\\\" label=\\\"Nhập viện\\\"\\n            [disabled]=\\\"true\\\">\\n        </app-checkbox>\\n    </div>\\n    <div *ngIf=\\\"item.NhapVien == true\\\" fxFlex=\\\"100%\\\">\\n\\n        <label fxFlex=\\\"50%\\\">Khoa :{{item.Khoa}}</label>\\n        <label fxFlex=\\\"50%\\\">Lý do :{{item.LyDoNhapVien}}</label>\\n    </div>\\n    <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n        <app-checkbox id=\\\"ChuyenVien\\\" fxFlex=\\\"70%\\\" value=\\\"true\\\" [(model)]=\\\"item.ChuyenVien\\\" label=\\\"Chuyển viện\\\"\\n            [disabled]=\\\"true\\\">\\n        </app-checkbox>\\n    </div>\\n    <div *ngIf=\\\"item.ChuyenVien == true\\\" fxFlex=\\\"100%\\\">\\n        <label fxFlex=\\\"50%\\\">Bệnh viện chuyển đến :{{item.BenhVienChuyenDen}}</label>\\n        <label fxFlex=\\\"50%\\\">Tình trạng người bệnh lúc chuyển viện :{{item.TinhTrangChuyenVien}}</label>\\n    </div>\\n    <div *ngIf=\\\"item.ChuyenVien == true\\\" fxFlex=\\\"100%\\\">\\n        <label fxFlex=\\\"100%\\\">Lý do :{{item.LyDoChuyenVien}}</label>\\n    </div>\\n    <!-- <div *ngIf=\\\"item.ChuyenVien == true\\\" fxFlex=\\\"100%\\\">\\n        <label fxFlex=\\\"100%\\\">Hướng điều trị :{{item.HuongDieuTri}}</label>\\n    </div> -->\\n    <div *ngIf=\\\"item.ChuyenVien == true\\\" fxFlex=\\\"100%\\\">\\n        <label fxFlex=\\\"25%\\\">Thời điểm chuyển viện :{{item.ThoiDiemChuyenVien}}</label>\\n        <label fxFlex=\\\"25%\\\">Nhân viên hộ tống :{{item.NhanVienHoTong}}</label>\\n        <label fxFlex=\\\"25%\\\">Phương tiện vẫn chuyển :{{item.PhuongTienDiChuyen}}</label>\\n    </div>\\n\\n    <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n        <app-checkbox id=\\\"CoTuVong\\\" fxFlex=\\\"70%\\\" value=\\\"true\\\" [(model)]=\\\"item.CoTuVong\\\" label=\\\"Tử vong\\\"\\n            [disabled]=\\\"true\\\">\\n        </app-checkbox>\\n    </div>\\n    <div *ngIf=\\\"item.CoTuVong == true\\\" fxFlex=\\\"100%\\\">\\n        <label fxFlex=\\\"100%\\\">Cách giải quyết :{{item.CachGiaiQuyet}}</label>\\n    </div>\\n\\n\\n</div>\"","export default \"<div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n    <div class=\\\"card\\\" fxFlex=\\\"100%\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <!--Begin Chuẩn đoán hình ảnh  -->\\n            <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3\\\">\\n                <legend>KẾT QUẢ CĐHA VÀ TDCN</legend>\\n                <div class=\\\"mt-1\\\">\\n                    <app-grid masterName=\\\"gridCDHAVaTDCNCLS\\\" fxFlex=\\\"100%\\\" [gridColumns]=\\\"gridColumns\\\"\\n                        [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"true\\\"\\n                        [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                        [urlGetData]=\\\"urlGetDataGrid\\\" [urlGetTotalPage]=\\\"urlGetTotalPageGrid\\\" [autoHeight]=true\\n                        #gridCDHAVaTDCNCLS [detailTemplate]=\\\"detailTemplate\\\" [additionalSearchString]=\\\"YeuCauTiepNhanId\\\"\\n                        [groups]=\\\"groups\\\" maxHeight=\\\"400\\\">\\n                    </app-grid>\\n                </div>\\n            </fieldset>\\n            <!--End Chuẩn đoán hình ảnh -->\\n            <!--Begin Xét Nghiệm  -->\\n            <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3\\\">\\n                <legend>KẾT QUẢ XÉT NGHIỆM</legend>\\n\\n                <div class=\\\"mt-1\\\">\\n                    <app-grid masterName=\\\"gridDuyetYeuCauChayLaiXN\\\" fxFlex=\\\"100%\\\" [sort]=\\\"sort\\\" #gridDuyetYeuCauChayLaiXN [documentType]=\\\"documentType\\\"\\n                        [useHeaderDefault]=\\\"false\\\" [useAddDeault]=\\\"false\\\" [useAddDeault]=\\\"false\\\"\\n                        [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [gridColumns]=\\\"gridXetNghiemColumns\\\"\\n                        [groups]=\\\"groupXNs\\\" [pageable]=\\\"false\\\" [headerTemplate]=\\\"headerTemplate\\\" maxHeight=\\\"400\\\"\\n                        [gridDataSource]=\\\"dataSourceXetNghiem\\\" [collapseGroup]=\\\"true\\\">\\n                    </app-grid>\\n                    <ng-template #headerTemplate>\\n                        <div class=\\\"div-header bg-app-bar px-6 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\"\\n                            fxLayoutAlign=\\\"start center\\\">\\n                            <div class=\\\"bg-card rounded-full border px-4\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs\\n                                fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\" style=\\\"margin-top: 2px;\\\">\\n                                <ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n                                <!-- [(ngModel)]=\\\"searchString\\\" -->\\n                                <input type=\\\"search\\\" name=\\\"searchString\\\"\\n                                    class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n                                    placeholder=\\\"Nhập từ khóa tìm kiếm\\\" [formControl]=\\\"searchCtrl\\\"\\n                                    (ngModelChange)=\\\"searchChanges($event)\\\" (keyup)=\\\"onKeySearchChanges($event)\\\" />\\n                            </div>\\n                            <button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\">\\n                                <mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n                            </button>\\n\\n                            <div fxFlex=\\\"53%\\\" class=\\\"order-color\\\">\\n                                <div class=\\\"set-color black\\\"></div>\\n                                <p>Bình thường</p>\\n                                <div class=\\\"set-color blue\\\"></div>\\n                                <p>Bất thường</p>\\n                                <div class=\\\"set-color red\\\"></div>\\n                                <p>Nguy hiểm</p>\\n                            </div>\\n                        </div>\\n                    </ng-template>\\n                </div>\\n                \\n                <div class=\\\"mt-2 mr-2 mb-2\\\" fxLayout=\\\"column\\\" style=\\\"position: relative\\\">\\n                    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                        <div *ngIf=\\\"dataSourceXetNghiem != undefined && dataSourceXetNghiem.data.length > 0\\\" class=\\\"sticky-button-action py-3 text-right\\\"\\n                            kendoTooltip fxFlex=\\\"100%\\\">\\n                            <!-- <div style=\\\"float: left;\\\">\\n                               \\n                            </div> -->\\n                            <!-- <button type=\\\"button\\\" mat-raised-button (click)=\\\"InPhieuXn()\\\" class=\\\"icon-color-button\\\"\\n                                color=\\\"primary\\\" mat-raised-button>In Phiếu\\n                                XN</button> -->\\n                            <!-- <button type=\\\"button\\\" mat-raised-button (click)=\\\"yeuCauChayLaiXN()\\\"\\n                                class=\\\"mr-2 icon-color-button\\\" color=\\\"primary\\\" mat-raised-button>Yêu cầu chạy\\n                                lại XN</button> -->\\n                        </div>\\n                    </div>\\n                </div>\\n            </fieldset>\\n            <!--End Xét Nghiệm  -->\\n        </div>\\n    </div>\\n</div>\\n\\n<ng-template #nhomTemplate let-value=\\\"value\\\" let-dataItem>\\n    <div style=\\\"width: 163%\\\" kendoTooltip>\\n        <strong style=\\\"width: 100%;\\\">\\n            {{value}}\\n        </strong>\\n    </div>\\n    <div style=\\\"width: 17%\\\" kendoTooltip>\\n        <button type=\\\"button\\\" mat-raised-button\\n            (click)=\\\"xemXetNghiemTheoNhom(value)\\\" color=\\\"primary\\\"  mat-raised-button class=\\\"mr-2\\\">\\n              Xem \\n        </button>\\n    </div>\\n</ng-template>\\n\\n<ng-template #tenTemplate let-dataItem>\\n    <span\\n        [ngStyle]=\\\"{'padding-left':(dataItem.Level)*20+'px','font-weight':dataItem.IdChilds.length>0?'bold':'normal'}\\\">{{dataItem.Ten}}</span>\\n</ng-template>\\n\\n<ng-template #kqCuTemplate  let-dataItem>\\n    <span *ngIf=\\\"dataItem.Level!=1 || (dataItem.Level==1 && dataItem.IdChilds.length==0)\\\"  [ngStyle]=\\\"{'color':dataItem.LoaiKetQuaTuMay == 1 ? 'black' : (dataItem.LoaiKetQuaTuMay == 2 ? 'blue' : 'red'),'font-weight':dataItem.ToDamGiaTri?'bold':'normal'}\\\">{{dataItem.GiaTriCu}}</span>\\n</ng-template>\\n\\n<ng-template #kqMoiTemplate let-dataItem>\\n    <span  [ngStyle]=\\\"{'color':dataItem.LoaiKetQuaTuMay == 1 ? 'black' : (dataItem.LoaiKetQuaTuMay == 2 ? 'blue' : 'red'),'font-weight':dataItem.ToDamGiaTri?'bold':'normal'}\\\">{{dataItem.KetQuaMoi}}</span>\\n</ng-template>\\n\\n<ng-template #trangThaiTemplate let-dataItem>\\n    <div *ngIf=\\\"dataItem.LoaiKetQuaCLS === 'Xét nghiệm' && dataItem.TrangThaiXetNghiemLai=== true\\\">\\n        <strong style=\\\"color: sandybrown;\\\"> Đang Chạy Lại XN</strong>\\n    </div>\\n</ng-template>\\n\\n<ng-template #nhomGroupHeaderTemplate let-aggregates let-value=\\\"value\\\">    \\n    <strong fxFlex=\\\"60%\\\">{{value}}</strong>\\n</ng-template>\\n\\n<ng-template #detailTemplate let-dataItem>\\n    <div style=\\\"overflow: auto;\\\">\\n        <table class=\\\"table table-hover table-bordered table-responsive-xl\\\"\\n            *ngIf=\\\"dataItem.KetQuaCLSGridChiTietVos !== null && dataItem.KetQuaCLSGridChiTietVos.length > 0\\\">\\n            <thead>\\n                <th resizable class=\\\"w-450\\\">TÊN</th>\\n                <th resizable style=\\\"width: 100px;\\\"> KẾT QUẢ CŨ</th>\\n                <th resizable style=\\\"width: 100px;\\\"> KẾT QUẢ</th>\\n                <th resizable style=\\\"width: 100px;\\\"> CSBT </th>\\n                <th resizable style=\\\"width: 100px;\\\"> ĐƠN VỊ</th>\\n                <th resizable style=\\\"width: 100px;\\\"> Máy XN</th>\\n                <th resizable style=\\\"width: 100px;\\\"> Người duyệt </th>\\n                <th resizable style=\\\"width: 100px;\\\"> Ngày duyệt </th>\\n            </thead>\\n            <tbody>\\n                <ng-container *ngFor=\\\"let data of dataItem.KetQuaCLSGridChiTietVos\\\">\\n                    <tr [class]=\\\"data.NgayDuyet == null ? 'bg-light-red' : ''\\\" (click)=\\\"data.expanded = !data.expanded\\\">\\n                        <td [class]=\\\"!data.IsParent ? 'pl-5' : ''\\\"\\n                            [style.font-weight]=\\\"data.Items !== null && data.Items.length > 0 ? 'bold' : ''\\\">\\n                            <ng-container *ngIf=\\\"data.IsParent\\\">\\n                                <span style=\\\"cursor: pointer;\\\"> {{!data.expanded ? '+' : '&ndash;'}} </span>\\n                            </ng-container>\\n                            {{data.TenDichVu}}\\n                        </td>\\n                        <ng-container *ngIf=\\\"data.IsRoot\\\">\\n                            <td colspan=\\\"12\\\"></td>\\n                        </ng-container>\\n                        <ng-container *ngIf=\\\"!data.IsRoot\\\">\\n                            <td [ngClass]=\\\"{ 'in-dam': data.IsBold}\\\"> {{data.KetQuaCu}} </td>\\n                            <td [ngClass]=\\\"{ 'in-dam': data.IsBold}\\\"> {{data.KetQuaMoi}} </td>\\n                            <td [ngClass]=\\\"{ 'in-dam': data.IsBold}\\\"> {{data.CSBT}} </td>\\n                            <td> {{data.DonVi}} </td>\\n                            <td> {{data.MayXN}} </td>\\n                            <td> {{data.NguoiDuyet}} </td>\\n                            <td> {{data.NgayDuyet}} </td>\\n                        </ng-container>\\n                    </tr>\\n                    <ng-container *ngIf=\\\"data.expanded\\\">\\n                        <ng-container *ngFor=\\\"let detail of data.Items\\\">\\n                            <tr [class]=\\\"detail.NgayDuyet == null ? 'bg-light-red' : ''\\\"\\n                                (click)=\\\"detail.expanded = !detail.expanded\\\">\\n                                <td [class]=\\\"!detail.IsParent ? 'pl-8' : 'pl-5'\\\"\\n                                    [style.font-weight]=\\\"detail.Items != null && detail.Items.length > 0 ? 'bold' : ''\\\">\\n                                    <ng-container *ngIf=\\\"detail.IsParent\\\">\\n                                        <span style=\\\"cursor: pointer;\\\"> {{!detail.expanded ? '+' : '&ndash;'}} </span>\\n                                    </ng-container>\\n                                    {{detail.TenDichVu}}\\n                                </td>\\n                                <td [ngClass]=\\\"{ 'in-dam': detail.IsBold}\\\"> {{detail.KetQuaCu}} </td>\\n                                <td [ngClass]=\\\"{ 'in-dam': detail.IsBold}\\\"> {{detail.KetQuaMoi}} </td>\\n                                <td [ngClass]=\\\"{ 'in-dam': detail.IsBold}\\\"> {{detail.CSBT}} </td>\\n                                <td> {{detail.DonVi}} </td>\\n                                <td> {{detail.MayXN}} </td>\\n                                <td> {{detail.NguoiDuyet}} </td>\\n                                <td> {{detail.NgayDuyet}} </td>\\n                            </tr>\\n\\n                            <ng-container *ngIf=\\\"detail.expanded\\\">\\n                                <ng-container *ngFor=\\\"let detail of detail.Items\\\">\\n                                    <tr [class]=\\\"detail.NgayDuyet == null ? 'bg-light-red' : ''\\\">\\n                                        <td [class]=\\\"!detail.IsParent ? 'pl-12' : 'pl-10'\\\">{{detail.TenDichVu}}</td>\\n                                        <td [ngClass]=\\\"{ 'in-dam': detail.IsBold}\\\"> {{data.KetQuaCu}} </td>\\n                                        <td [ngClass]=\\\"{ 'in-dam': detail.IsBold}\\\"> {{data.KetQuaMoi}} </td>\\n                                        <td [ngClass]=\\\"{ 'in-dam': detail.IsBold}\\\"> {{data.CSBT}} </td>\\n                                        <td> {{data.DonVi}} </td>\\n                                        <td> {{data.MayXN}} </td>\\n                                        <td> {{data.NguoiDuyet}} </td>\\n                                        <td> {{data.NgayDuyet}} </td>\\n                                    </tr>\\n                                </ng-container>\\n                            </ng-container>\\n                        </ng-container>\\n                    </ng-container>\\n                </ng-container>\\n            </tbody>\\n        </table>\\n    </div>\\n\\n    <ng-template #sttTemplate let-rowIndex=\\\"rowIndex\\\">\\n        {{rowIndex + 1}}\\n    </ng-template>\\n</ng-template>\\n\\n<ng-template #xemKetQuaActionTemplate let-dataItem>\\n    <!-- type == 1 => pdf type == 2 => file -->\\n    <!------------------------------------- Chuẩn đoán hình ảnh và thăm dò chức năng ---------------------------------------------->\\n    <button *ngIf=\\\"dataItem.LoaiKetQuaCLS !== 'Xét nghiệm'\\\" type=\\\"button\\\" (click)=\\\"xemKetQua(dataItem)\\\" color=\\\"primary\\\"\\n        mat-raised-button class=\\\"mr-2\\\">Xem và Tải về</button>\\n    <!------------------------------------ Xét nghiệm ----------------------------------------------------------------------------->\\n    <!-- <button *ngIf=\\\"dataItem.LoaiKetQuaCLS === 'Xét nghiệm'\\\" fileName=\\\"KetQuaXetNghiem\\\" (click)=\\\"downloadXNCLS(dataItem)\\\"\\n        color=\\\"primary\\\" mat-raised-button>Tải\\n        về</button> -->\\n</ng-template>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <div fxFlex=\\\"100%\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n            *ngFor=\\\"let item of gridKhamBenhColumns\\\">\\n            <p fxFlex=\\\"100%\\\">Triệu chứng khám: <strong>{{item.LyDoKham}}</strong></p>\\n            <p fxFlex=\\\"100%\\\">Triệu chứng lâm sàng : <strong *ngFor=\\\"let item of trieuChungLamSangs\\\">{{item}} </strong></p>\\n            <p fxFlex=\\\"100%\\\">Ghi chú triệu chứng lâm sàng : <strong>{{item.GhiChuTrieuChungLamSang}}</strong></p>\\n            <p fxFlex=\\\"100%\\\">Chẩn đoán ban đầu : <strong *ngFor=\\\"let item of chuanDoanBanDaus\\\">{{item}} </strong></p>\\n\\n            <ng-container\\n            *ngIf=\\\"templateKhoaPhongObj!=null && templateKhoaPhongObj.ComponentDynamics!=null && templateKhoaPhongObj.ComponentDynamics.length>0\\\">\\n            <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title\\\">{{tenKhoaPhong}}</h3>\\n            <ng-container *ngFor=\\\"let item of templateKhoaPhongObj.ComponentDynamics\\\">\\n                <app-textbox *ngIf=\\\"item.Type==1\\\" fxFlex=\\\"{{item.fxFlex}}\\\" fxFlex.sm=\\\"{{item.fxFlexSm}}\\\"\\n                    id=\\\"{{item.Id}}\\\" label=\\\"{{item.Label}}\\\" [(model)]=\\\"item.Value\\\" \\n                    maxlength=\\\"1000\\\">\\n                </app-textbox>\\n                <app-textarea *ngIf=\\\"item.Type==2\\\" fxFlex=\\\"{{item.fxFlex}}\\\" fxFlex.sm=\\\"{{item.fxFlexSm}}\\\"\\n                    id=\\\"{{item.Id}}\\\" label=\\\"{{item.Label}}\\\" [(model)]=\\\"item.Value\\\" \\n                    maxlength=\\\"1000\\\">\\n                </app-textarea>\\n            </ng-container>\\n        </ng-container>\\n\\n\\n        </div>\\n    </div>\\n</div>\"","export default \"<h3 class=\\\"sub-title\\\">KHÁM KHÁC\\n</h3>\\n<ng-container *ngIf=\\\"dataSourceKhamKhac.data.length == 0\\\">\\n    <p>Không có khám khác</p>\\n</ng-container>\\n<app-grid *ngIf=\\\"dataSourceKhamKhac.data.length > 0\\\" masterName=\\\"TienSuBenh\\\" [gridColumns]=\\\"gridKhamKhacColumns\\\"\\n    [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\"\\n    [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [maxHeight]=\\\"200\\\" [lazyLoadPage]=\\\"true\\\" \\n    [gridDataSource]=\\\"dataSourceKhamKhac\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n</app-grid>\\n\\n<ng-template #boPhanTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <app-textbox *ngIf=\\\"dataItem.Id == 0\\\" maxlength=\\\"250\\\" [(model)]=\\\"dataItem.Ten\\\" class=\\\"no-label\\\" label=\\\" \\\" required=\\\"true\\\"\\n    >\\n    </app-textbox>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.Ten}}</p>\\n</ng-template>\\n<ng-template #moTaTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <app-textbox *ngIf=\\\"dataItem.Id == 0\\\" maxlength=\\\"4000\\\" [(model)]=\\\"dataItem.NoiDung\\\" class=\\\"no-label\\\" label=\\\" \\\" required=\\\"true\\\">\\n    </app-textbox>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.NoiDUng}}</p>\\n</ng-template>\\n\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <label fxFlex=\\\"100%\\\" >\\n        <span style=\\\"font-weight: bold;\\\">Tên khoa phòng</span> : {{thongTinTuongTrinhKhoaPhong}}\\n    </label>\\n\\n\\n    <label fxFlex=\\\"40%\\\" >\\n        <span style=\\\"font-weight: bold;\\\">Chẩn đoán vào khoa</span> : {{thongTinTuongTrinhChanDoanVaoKhoa}}\\n    </label>\\n    <label fxFlex=\\\"60%\\\" >\\n        <span style=\\\"font-weight: bold;\\\">Mô tả</span> : {{thongTinTuongTrinhMoTa}}\\n    </label>\\n    <div class=\\\"\\\" fxFlex=\\\"100%\\\">\\n        <kendo-panelbar>\\n            <kendo-panelbar-item *ngFor=\\\"let item of pTTT\\\" [title]=\\\"item.Ten\\\" expanded=\\\"true\\\"\\n                class=\\\"panelbar-item panelbar-item-padr\\\">\\n                <ng-template kendoPanelBarContent>\\n                    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                        style=\\\"padding-top: 16px;\\\">\\n\\n                        <label fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\" >\\n                            <span style=\\\"font-weight: bold;\\\">CĐ trước phẫu thuật</span> :\\n                            {{item.ICDTruocPhauThuatDisplay}}\\n                        </label>\\n                        <label fxFlex=\\\"70%\\\" fxFlex.sm=\\\"70%\\\" >\\n                            <span style=\\\"font-weight: bold;\\\">Mô tả</span> : {{item.GhiChuICDTruocPhauThuat}}\\n                        </label>\\n\\n                        <label fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\" >\\n                            <span style=\\\"font-weight: bold;\\\">CĐ sau phẫu thuật</span> : {{item.ICDSauPhauThuatDisplay}}\\n                        </label>\\n                        <label fxFlex=\\\"70%\\\" fxFlex.sm=\\\"70%\\\" >\\n                            <span style=\\\"font-weight: bold;\\\">Mô tả</span> : {{item.GhiChuICDSauPhauThuat}}\\n                        </label>\\n                        <label fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" >\\n                            <span style=\\\"font-weight: bold;\\\">Phương Pháp PTTT</span> :\\n                            {{item.PhuongPhapPhauThuatThuThuatDisplay}}\\n                        </label>\\n\\n                        <label fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\" >\\n                            <span style=\\\"font-weight: bold;\\\">Loại PTTT</span> : {{item.LoaiPTTTDisplay}}\\n                        </label>\\n                        <label fxFlex=\\\"70%\\\" fxFlex.sm=\\\"70%\\\" >\\n                            <span style=\\\"font-weight: bold;\\\">PP Vô Cảm</span> : {{item.PhuongPhapVoCamDisplay}}\\n                        </label>\\n                        <label fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\" >\\n                            <span style=\\\"font-weight: bold;\\\">PTTT Viên</span> : {{item.NhanVienThucHienDisplay}}\\n                        </label>\\n                        <label fxFlex=\\\"70%\\\" fxFlex.sm=\\\"70%\\\" >\\n                            <span style=\\\"font-weight: bold;\\\">Tình Hình PTTT</span> : {{item.TinhHinhPtttDisplay}}\\n                        </label>\\n                        <label fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\" >\\n                            <span style=\\\"font-weight: bold;\\\">Tai Biến PTTT</span> : {{item.TaiBienPtttDisplay}}\\n                        </label>\\n                        <label fxFlex=\\\"70%\\\" fxFlex.sm=\\\"70%\\\" >\\n                            <span style=\\\"font-weight: bold;\\\">Tai Biến PTTT</span> : {{item.TuVongPtttDisplay}}\\n                        </label>\\n\\n                        <label fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" >\\n                            <span style=\\\"font-weight: bold;\\\">Trình tự phẫu thuật</span> : {{item.TrinhTuPttt}}\\n                        </label>\\n                        <label fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" >\\n                            <h3>LƯỢC ĐỒ PTTT</h3>\\n                            <div class=\\\"mb-3\\\">\\n                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                    fxLayoutGap.lt-sm=\\\"0\\\">\\n                                    <div fxFlex=\\\"20%\\\"\\n                                        *ngFor=\\\"let thongTinAnh of item.ListLuocDoPhauThuatThuThuatResultVo\\\">\\n                                        <div class=\\\"card overflow-hidden\\\"\\n                                            style=\\\"border: 1px solid #ccc;position: relative;\\\">\\n                                            <div\\n                                                class=\\\"mat-ripple p-4 text-center hover:bg-hover trans-ease-out cursor-pointer relative\\\">\\n                                                <img (click)=\\\"ViewImage(thongTinAnh)\\\" src=\\\"{{thongTinAnh.LuocDo}}\\\"\\n                                                    class=\\\"mx-auto\\\" />\\n                                            </div>\\n                                            <div class=\\\"bg-app-bar p-2\\\">\\n                                                <p>{{thongTinAnh.MoTa}}</p>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </label>\\n\\n                    </div>\\n                </ng-template>\\n            </kendo-panelbar-item>\\n        </kendo-panelbar>\\n    </div>\\n</div>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>Lịch sử chi tiết khám bệnh</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close('No answer',1)\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <div class=\\\"card overflow-auto -mt-15\\\" style=\\\"overflow: hidden;\\\">\\n        <kendo-tabstrip fxFlex=\\\"100%\\\" class=\\\"content-has-border tabstrip-pad sticky-kendotab-item tabstrip-on-popup\\\"\\n           >\\n            <kendo-tabstrip-tab [title]=\\\"'KHÁM BỆNH'\\\" [selected]=\\\"true\\\" > \\n                <ng-template kendoTabContent>\\n                    <div class=\\\"content-tab-popup\\\">\\n                        <app-lich-su-kham-benh [BenhNhan]=\\\"benhNhan\\\" [yeuCauKhamBenhId]=\\\"yeuCauKhamBenhId\\\"\\n                            [YeuCauTiepNhanId]=\\\"data.YeuCauTiepNhanId\\\" (outputIsKhamDoan)=\\\"getIsKhamDoan($event)\\\">\\n                        </app-lich-su-kham-benh>\\n                        <!-- [tenKP]=\\\"tenKhoaPhong\\\" -->\\n                    </div>\\n                </ng-template>\\n            </kendo-tabstrip-tab>\\n\\n            <!-- tab chỉ định -->\\n            <kendo-tabstrip-tab [title]=\\\"'CHỈ ĐỊNH'\\\">\\n                <ng-template kendoTabContent>\\n                    <div class=\\\"content-tab-popup\\\">\\n                        <app-lich-su-kham-benh-chi-dinh yeuCauKhamBenhId=\\\"{{yeuCauKhamBenhId}}\\\" [isKhamDoan]=\\\"isKhamDoan\\\"\\n                            yeuCauTiepNhanId=\\\"{{yeuCauTiepNhanId}}\\\">\\n                        </app-lich-su-kham-benh-chi-dinh>\\n                    </div>\\n                </ng-template>\\n            </kendo-tabstrip-tab>\\n\\n            <!-- tab kết quả cls -->\\n            <kendo-tabstrip-tab [title]=\\\"'KQ CLS'\\\">\\n                <ng-template kendoTabContent>\\n                    <div class=\\\"content-tab-popup\\\">\\n                        <app-lich-su-kham-benh-ket-qua-cls [YeuCauTiepNhanId]=\\\"yeuCauTiepNhanId\\\"> \\n                             <!-- to do  -->\\n                        </app-lich-su-kham-benh-ket-qua-cls>\\n                    </div>\\n                </ng-template>\\n            </kendo-tabstrip-tab>\\n\\n            <!-- tab chẩn đoán //to do can update -->\\n            <kendo-tabstrip-tab [title]=\\\"'CHẨN ĐOÁN'\\\" *ngIf=\\\"!isKhamDoan\\\">\\n                <ng-template kendoTabContent>\\n                    <div class=\\\"content-tab-popup\\\">\\n                        <app-lich-su-kham-benh-ket-luan [BenhNhan]=\\\"benhNhan\\\" [yeuCauKhamBenhId]=\\\"yeuCauKhamBenhId\\\" [yeuCauTiepNhanId]=\\\"yeuCauTiepNhanId\\\">\\n                        </app-lich-su-kham-benh-ket-luan>\\n                    </div>\\n                </ng-template>\\n            </kendo-tabstrip-tab>\\n            <kendo-tabstrip-tab [title]=\\\"'TƯ VẤN THUỐC'\\\" *ngIf=\\\"isKhamDoan\\\">>\\n                <ng-template kendoTabContent>\\n                    <div class=\\\"content-tab-popup\\\">\\n                        <!-- Tư vấ thuoc -->\\n                        <app-lich-su-kham-doan-tu-van-thuoc [YeuCauTiepNhanId]=\\\"yeuCauTiepNhanId\\\"\\n                            [YeuCauKhamBenhId]=\\\"yeuCauKhamBenhId\\\" >\\n                        </app-lich-su-kham-doan-tu-van-thuoc>\\n                    </div>\\n                </ng-template>\\n            </kendo-tabstrip-tab>\\n        </kendo-tabstrip>\\n    </div>\\n</mat-dialog-content>\"","export default \"\\n<h3 class=\\\"sub-title\\\">TIỀN SỬ BỆNH</h3>\\n<app-grid [gridColumns]=\\\"gridTienSuBenhColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n    class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\" urlGetData=\\\"KhamBenh/GetDataForGridAsyncTienSuBenh\\\"\\n    urlGetTotalPage=\\\"\\\" [additionalSearchString]=\\\"BenhNhan\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n    [maxHeight]=\\\"200\\\" [lazyLoadPage]=\\\"true\\\" [pageable]=\\\"false\\\">\\n</app-grid>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n    *ngFor=\\\"let item of yeuCauKhamBenh\\\">\\n    <!-- <h3 fxFlex=\\\"100%\\\"></h3>\\n    <div fxFlex=\\\"100%\\\"></div>\\n    <h3 fxFlex=\\\"100%\\\"></h3> -->\\n    <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.TenDichVu != null \\\" ><span style=\\\"font-weight: bold;\\\">Tên dịch vụ </span>:{{item.TenDichVu}}</label>\\n    <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.TrieuChungTiepNhan != null\\\" ><span style=\\\"font-weight: bold;\\\">Lý do vào viện </span>:{{item.TrieuChungTiepNhan}}</label>\\n    <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.BenhSu != null\\\"><span style=\\\"font-weight: bold;\\\">Bệnh sử</span> :{{item.BenhSu}}</label>\\n    <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.NoiGioiThieu != null && !isKhamDoan\\\"><span style=\\\"font-weight: bold;\\\">Chẩn đoán của nơi giới thiệu </span>:{{item.NoiGioiThieu}}</label>\\n\\n\\n    <!-- tiền sử bệnh -->\\n    <app-lich-su-kham-benh-tien-su-benh fxFlex=\\\"100%\\\" [BenhNhan]=\\\"BenhNhan\\\">\\n    </app-lich-su-kham-benh-tien-su-benh>\\n\\n    <!-- dị ứng thuốc -->\\n    <app-lich-su-kham-benh-di-ung-thuoc fxFlex=\\\"100%\\\" [BenhNhan]=\\\"BenhNhan\\\">\\n    </app-lich-su-kham-benh-di-ung-thuoc>\\n\\n    <!-- chỉ số sinh tồn -->\\n    <app-lich-su-kham-benh-chi-so-sinh-ton [BenhNhan]=\\\"BenhNhan\\\" [maTiepNhanBNId]=\\\"maTiepNhanBNId\\\">\\n    </app-lich-su-kham-benh-chi-so-sinh-ton>\\n\\n    <!-- khám toàn thân -->\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\" *ngIf=\\\"!isKhamDoan\\\">Khám toàn thân</h3>\\n    <label   *ngIf=\\\"thongTinKhamToanThan != null && !isKhamDoan\\\" >Khám toàn thân : {{thongTinKhamToanThan}}</label>\\n    <label   *ngIf=\\\"thongTinKhamToanThan == null && !isKhamDoan\\\" >Không có khám toàn thân</label>\\n\\n    <!-- phân loại thể lực -->\\n    <ng-container *ngIf=\\\"isKhamDoan\\\">\\n        <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Phân loại thể lực</h3>\\n        <h3 fxFlex=\\\"100%\\\" *ngIf=\\\"item.KSKPhanLoaiTheLucString != 'null'\\\" class=\\\"sub-title mt-0\\\">{{item.KSKPhanLoaiTheLucString}}</h3>\\n    </ng-container>\\n\\n    <!-- khám các cơ quan -->\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Khám các cơ quan</h3>\\n    <ng-container\\n        *ngIf=\\\"yeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj==null && !isKhamDoan\\\">\\n        <label fxFlex=\\\"100%\\\" \\n        class=\\\"font-weight-bold\\\">Không có khám cơ quan khác</label>\\n    </ng-container>\\n    <ng-container\\n        *ngIf=\\\"yeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj!=null && yeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj.ComponentDynamics!=null && yeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj.ComponentDynamics.length>0 && !isKhamDoan\\\">\\n        <ng-container *ngFor=\\\"let item of yeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj.ComponentDynamics\\\">\\n            <ng-container *ngIf=\\\"item.Type == 4 && item.groupItems != undefined && item.groupItems.length > 0\\\">\\n                <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                    <fieldset fxFlex=\\\"100%\\\">\\n                        <legend>{{item.Label}}</legend>\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                            <ng-container *ngFor=\\\"let itemInGroup of item.groupItems\\\">\\n                                <h3 *ngIf=\\\"itemInGroup.Type==1\\\" fxFlex=\\\"20%\\\" class=\\\"sub-title\\\">{{itemInGroup.Label}}\\n                                </h3>\\n                                <label fxFlex=\\\"100%\\\" *ngIf=\\\"itemInGroup.Type==2\\\"><span style=\\\"font-weight: bold;\\\">{{itemInGroup.Label}} </span>:\\n                                    {{itemInGroup.Value}}</label>\\n                                <label fxFlex=\\\"100%\\\" *ngIf=\\\"itemInGroup.Type==3\\\"><span style=\\\"font-weight: bold;\\\">{{itemInGroup.Label}}</span> :\\n                                    {{itemInGroup.Value}}</label>\\n                            </ng-container>\\n                        </div>\\n                    </fieldset>\\n                </div>\\n            </ng-container>\\n            <ng-container\\n                *ngIf=\\\"item.groupItems == undefined || item.groupItems == null || item.groupItems.length == 0\\\">\\n                <h3 *ngIf=\\\"item.Type==1\\\" fxFlex=\\\"20%\\\" class=\\\"sub-title\\\">{{item.Label}}</h3>\\n                <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.Type==2\\\"><span style=\\\"font-weight: bold;\\\">{{item.Label}} :</span> {{item.Value}}</label>\\n                <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.Type==3\\\"><span style=\\\"font-weight: bold;\\\">{{item.Label}} :</span> {{item.Value}}</label>\\n            </ng-container>\\n        </ng-container>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"dataKhamDoanChuyenKhoa != null && dataKhamDoanChuyenKhoa.ListNoiKhoa.length != 0 && isKhamDoan\\\">\\n        <label style=\\\"font-weight: bold;font-size: 18px;text-transform: uppercase;\\\"> Nội Khoa</label>\\n        <ng-container *ngFor=\\\"let item of dataKhamDoanChuyenKhoa.ListNoiKhoa\\\">\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n             <label><span style=\\\"font-weight: bold;\\\">{{item.TenTemplate}}</span> &nbsp;&nbsp;{{item.Ten}}</label>\\n            </div>\\n        </ng-container>\\n    </ng-container>\\n    \\n    <ng-container *ngIf=\\\"dataKhamDoanChuyenKhoa != null && dataKhamDoanChuyenKhoa.ListNoiKhoa.length == 0 && isKhamDoan\\\">\\n        <label style=\\\"font-weight: bold;font-size: 18px;text-transform: uppercase;\\\">  Nội Khoa</label>\\n        <ng-container>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Tuần hoàn:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Phân loại:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Hô hấp:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Phân loại:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Tiêu hóa:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Phân loại:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Thận-tiết niệu:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Phân loại:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Nội tiết:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Phân loại:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Cơ-Xương-Khớp:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Phân loại:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Thần kinh:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Phân loại:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Tâm thần:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Phân loại:</span> &nbsp;&nbsp;</label>\\n            </div>\\n        </ng-container>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"dataKhamDoanChuyenKhoa != null && dataKhamDoanChuyenKhoa.ListNgoaiKhoa.length == 0 && isKhamDoan\\\">\\n        <label style=\\\"font-weight: bold;font-size: 18px;text-transform: uppercase;\\\"> Ngoại khoa</label>\\n        <ng-container>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n             <label><span style=\\\"font-weight: bold;\\\">Ngoại Khoa:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Phân loại:</span> &nbsp;&nbsp;</label>\\n            </div>\\n        </ng-container>\\n    </ng-container>\\n\\n\\n    <ng-container *ngIf=\\\"dataKhamDoanChuyenKhoa != null && dataKhamDoanChuyenKhoa.ListNgoaiKhoa.length != 0 && isKhamDoan\\\">\\n        <label style=\\\"font-weight: bold;font-size: 18px;text-transform: uppercase;\\\"> Ngoại khoa</label>\\n        <ng-container *ngFor=\\\"let item of dataKhamDoanChuyenKhoa.ListNgoaiKhoa\\\">\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n             <label><span style=\\\"font-weight: bold;\\\">{{item.TenTemplate}}</span> &nbsp;&nbsp;{{item.Ten}}</label>\\n            </div>\\n        </ng-container>\\n    </ng-container>\\n\\n\\n    <ng-container *ngIf=\\\"dataKhamDoanChuyenKhoa != null && dataKhamDoanChuyenKhoa.ListSanPhuKhoa.length != 0 && isKhamDoan\\\">\\n        <label style=\\\"font-weight: bold;font-size: 18px;text-transform: uppercase;\\\"> Sản phụ khoa</label>\\n        <ng-container *ngFor=\\\"let item of dataKhamDoanChuyenKhoa.ListSanPhuKhoa\\\">\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n             <label><span style=\\\"font-weight: bold;\\\">{{item.TenTemplate}}</span> &nbsp;&nbsp;{{item.Ten}}</label>\\n            </div>\\n            \\n        </ng-container>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"dataKhamDoanChuyenKhoa != null && dataKhamDoanChuyenKhoa.ListSanPhuKhoa.length == 0 && isKhamDoan\\\">\\n        <label style=\\\"font-weight: bold;font-size: 18px;text-transform: uppercase;\\\"> Sản phụ khoa</label>\\n        <ng-container>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n             <label><span style=\\\"font-weight: bold;\\\">Sản phụ khoa:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Phân loại:</span> &nbsp;&nbsp;</label>\\n            </div>\\n        </ng-container>\\n    </ng-container>\\n\\n\\n    <ng-container *ngIf=\\\"dataKhamDoanChuyenKhoa != null && dataKhamDoanChuyenKhoa.ListDaLieu.length != 0 && isKhamDoan\\\">\\n        <label style=\\\"font-weight: bold;font-size: 18px;text-transform: uppercase;\\\"> Da liễu</label>\\n        <ng-container *ngFor=\\\"let item of dataKhamDoanChuyenKhoa.ListDaLieu\\\">\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n             <label><span style=\\\"font-weight: bold;\\\">{{item.TenTemplate}}</span> &nbsp;&nbsp;{{item.Ten}}</label>\\n            </div>\\n        </ng-container>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"dataKhamDoanChuyenKhoa != null && dataKhamDoanChuyenKhoa.ListDaLieu.length == 0 && isKhamDoan\\\">\\n        <label style=\\\"font-weight: bold;font-size: 18px;text-transform: uppercase;\\\"> Da liễu</label>\\n        <ng-container >\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n             <label><span style=\\\"font-weight: bold;\\\">Da liễu:</span> &nbsp;&nbsp;</label>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\">Phân loại:</span> &nbsp;&nbsp;</label>\\n            </div>\\n        </ng-container>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"dataKhamDoanChuyenKhoa != null && dataKhamDoanChuyenKhoa.Mat != null  && isKhamDoan\\\">\\n        <label style=\\\"font-weight: bold;font-size: 18px;text-transform: uppercase;\\\"> Mắt</label>\\n        <ng-container >\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"50%\\\">Không kính</span> &nbsp;&nbsp;</label>\\n                <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"25%\\\">Mắt phải:</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.Mat.KhongKinhMatPhai}}</label>\\n                <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"25%\\\">Mắt trái</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.Mat.KhongKinhMatTrai}}</label>\\n                <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"100%\\\"></span> &nbsp;&nbsp;</label>\\n                <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"50%\\\">Có kính</span> &nbsp;&nbsp;</label>\\n                <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"25%\\\">Mắt phải:</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.Mat.CoKinhMatPhai}}</label>\\n                <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"25%\\\">Mắt trái</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.Mat.CoKinhMatTrai}}</label>\\n           </div>\\n           <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n            <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"50%\\\">Các bệnh về mắt(nếu có):</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.Mat.CacBenhVeMat}}</label>\\n            <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"50%\\\">Phân loại:</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.Mat.PhanLoai}}</label>\\n           </div>\\n        </ng-container>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"dataKhamDoanChuyenKhoa != null && dataKhamDoanChuyenKhoa.TaiMuiHong != null  && isKhamDoan\\\">\\n        <label style=\\\"font-weight: bold;font-size: 18px;text-transform: uppercase;\\\"> Tai mũi họng</label>\\n        <ng-container >\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\"  fxFlex=\\\"50%\\\">Tai phải</span> &nbsp;&nbsp;</label>\\n                <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"50%\\\">Nói thường:</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.TaiMuiHong.TaiPhaiNoiThuong}}</label>\\n                <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"50%\\\">Nói thường</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.TaiMuiHong.TaiTraiNoiThuong}}</label>\\n                <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"50%\\\"></span> &nbsp;&nbsp;</label>\\n                <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"50%\\\">Tai trái</span> &nbsp;&nbsp;</label>\\n                <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"50%\\\">Nói thầm:</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.TaiMuiHong.TaiPhaiNoiTham}}</label>\\n                <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"50%\\\">Nói thầm</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.TaiMuiHong.TaiTraiNoiTham}}</label>\\n           </div>\\n           <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n            <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"50%\\\">Các bệnh về tai mũi họng(nếu có):</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.TaiMuiHong.CacBenhTaiMuiHong}}</label>\\n            <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"50%\\\">Phân loại:</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.TaiMuiHong.PhanLoai}}</label>\\n           </div>\\n        </ng-container>\\n    </ng-container>\\n    \\n\\n    <ng-container *ngIf=\\\"dataKhamDoanChuyenKhoa != null && dataKhamDoanChuyenKhoa.RangHamMat != null  && isKhamDoan\\\">\\n        <label style=\\\"font-weight: bold;font-size: 18px;text-transform: uppercase;\\\"> Răng hàm mặt</label>\\n        <ng-container >\\n            <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <label><span style=\\\"font-weight: bold;\\\"  fxFlex=\\\"50%\\\">Hàm trên</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.RangHamMat.HamTren}}</label>\\n                <label><span style=\\\"font-weight: bold;\\\" fxFlex=\\\"50%\\\">Hàm dưới:</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.RangHamMat.HamDuoi}}</label>\\n           </div>\\n           <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n            <label><span style=\\\"font-weight: bold;\\\"  fxFlex=\\\"50%\\\">Các bệnh răng hàm mặt(nếu có):</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.RangHamMat.CacBenhRangHamMat}}</label>\\n            <label><span style=\\\"font-weight: bold;\\\"  fxFlex=\\\"50%\\\">Phân loại:</span> &nbsp;&nbsp;{{dataKhamDoanChuyenKhoa.RangHamMat.PhanLoai}}</label>\\n           </div>\\n        </ng-container>\\n    </ng-container>\\n    <!-- <ng-container\\n        *ngIf=\\\"yeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj!=null && yeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj.ComponentDynamics!=null && yeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj.ComponentDynamics.length>0 && isKhamDoan\\\">\\n        <ng-container *ngFor=\\\"let item of yeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj.ComponentDynamics\\\">\\n            <ng-container *ngIf=\\\"item.Type == 4 && item.groupItems != undefined && item.groupItems.length > 0\\\">\\n                <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                    <fieldset fxFlex=\\\"100%\\\">\\n                        <legend>{{item.Label}}</legend>\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                            <ng-container *ngFor=\\\"let itemInGroup of item.groupItems\\\">\\n                                <h3 *ngIf=\\\"itemInGroup.Type==1\\\" fxFlex=\\\"20%\\\" class=\\\"sub-title\\\">{{itemInGroup.Label}}\\n                                </h3>\\n                                <label fxFlex=\\\"100%\\\" *ngIf=\\\"itemInGroup.Type==2\\\"><span\\n                                        style=\\\"font-weight: bold;\\\">{{itemInGroup.Label}} </span>:\\n                                    {{itemInGroup.Value}}</label>\\n                                <label fxFlex=\\\"100%\\\" *ngIf=\\\"itemInGroup.Type==3\\\"><span\\n                                        style=\\\"font-weight: bold;\\\">{{itemInGroup.Label}}</span> :\\n                                    {{itemInGroup.Value}}</label>\\n                                <label fxFlex=\\\"100%\\\" *ngIf=\\\"itemInGroup.Type==5\\\"><span\\n                                        style=\\\"font-weight: bold;\\\">{{itemInGroup.Label}}</span> :\\n                                    {{itemInGroup.Value}}</label>\\n                            </ng-container>\\n                        </div>\\n                    </fieldset>\\n                </div>\\n            </ng-container>\\n            <ng-container *ngIf=\\\"item.groupItems == undefined || item.groupItems == null || item.groupItems.length == 0\\\">\\n                <h3 *ngIf=\\\"item.Type==1\\\" fxFlex=\\\"20%\\\" class=\\\"sub-title\\\">{{item.Label}}</h3>\\n                <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.Type==2\\\"><span style=\\\"font-weight: bold;\\\">{{item.Label}} :</span>\\n                    {{item.Value}}</label>\\n                <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.Type==3\\\"><span style=\\\"font-weight: bold;\\\">{{item.Label}} :</span>\\n                    {{item.Value}}</label>\\n                <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.Type==5\\\"><span style=\\\"font-weight: bold;\\\">{{item.Label}} :</span>\\n                    {{item.Value}}</label>\\n            </ng-container>\\n        </ng-container>\\n    </ng-container> -->\\n    <!-- khám khác -->\\n    <app-lich-su-kham-benh-kham-khac [yeuCauKhamBenhId]=\\\"yeuCauKhamBenhId\\\" *ngIf=\\\"!isKhamDoan\\\"></app-lich-su-kham-benh-kham-khac>\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\"></h3>\\n     <!-- Bộ phận tổn thương -->\\n    <app-lich-su-kham-benh-bo-phan-ton-thuong [yeuCauKhamBenhId]=\\\"yeuCauKhamBenhId\\\" *ngIf=\\\"!isKhamDoan\\\"></app-lich-su-kham-benh-bo-phan-ton-thuong>\\n\\n    <!-- chuẩn đoán sơ bộ -->\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\" *ngIf=\\\"!isKhamDoan\\\">Chẩn đoán sơ bộ</h3>\\n    <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.ChanDoanSoBoICDId == null && item.ChanDoanSoBoGhiChu == null && !isKhamDoan\\\"\\n        class=\\\"font-weight-bold\\\">Không có chẩn đoán sơ bộ</label>\\n    <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.ChanDoanSoBoICDId != null && !isKhamDoan\\\">ICD :{{item.ChanDoanSoBoICDId}}</label>\\n    <label fxFlex=\\\"100%\\\" *ngIf=\\\"item.ChanDoanSoBoGhiChu != null && !isKhamDoan\\\">Chẩn đoán :{{item.ChanDoanSoBoGhiChu}}</label>\\n\\n    <!-- chuẩn đoán phân biệt -->\\n    <app-lich-su-kham-benh-chan-doan-phan-biet [yeuCauKhamBenhId]=\\\"yeuCauKhamBenhId\\\" *ngIf=\\\"!isKhamDoan\\\">\\n    </app-lich-su-kham-benh-chan-doan-phan-biet>\\n    \\n</div>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <app-grid fxFlex=\\\"100%\\\" #gridThuoc [gridColumns]=\\\"gridToaThuocColumns\\\" [documentType]=\\\"documentType\\\"\\n        [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n        (extOnDataBound)=\\\"onDataBound($event)\\\" urlGetData=\\\"KhamBenh/GetDataForGridTuVanThuoc\\\"\\n        urlGetTotalPage=\\\"KhamBenh/GetTotalPageForGridTuVanThuoc\\\" [additionalSearchString]=\\\"YeuCauTiepNhanId\\\"\\n        [checkboxAble]=\\\"false\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\">\\n        <ng-template #sangTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.SangDisplay != null && dataItem.ThoiGianDungSangDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.SangDisplay + ' ' +(dataItem.ThoiGianDungSangDisplay)}}\\\">\\n                    {{dataItem.SangDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungSangDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.SangDisplay != null && dataItem.ThoiGianDungSangDisplay == null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.SangDisplay}}\\\">\\n                    {{dataItem.SangDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.SangDisplay == null && dataItem.ThoiGianDungSangDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ThoiGianDungSangDisplay}}\\\">\\n                    {{dataItem.ThoiGianDungSangDisplay}}\\n                </p>\\n            </div>\\n        </ng-template>\\n\\n        <ng-template #truaTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.TruaDisplay != null && dataItem.ThoiGianDungTruaDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.TruaDisplay + ' ' +(dataItem.ThoiGianDungTruaDisplay)}}\\\">\\n                    {{dataItem.TruaDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungTruaDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.TruaDisplay != null && dataItem.ThoiGianDungTruaDisplay == null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.TruaDisplay}}\\\">\\n                    {{dataItem.TruaDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.TruaDisplay == null && dataItem.ThoiGianDungTruaDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ThoiGianDungTruaDisplay}}\\\">\\n                    {{dataItem.ThoiGianDungTruaDisplay}}\\n                </p>\\n            </div>\\n        </ng-template>\\n\\n        <ng-template #chieuTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.ChieuDisplay != null && dataItem.ThoiGianDungChieuDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ChieuDisplay + ' ' +(dataItem.ThoiGianDungChieuDisplay)}}\\\">\\n                    {{dataItem.ChieuDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungChieuDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ChieuDisplay != null && dataItem.ThoiGianDungChieuDisplay == null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ChieuDisplay}}\\\">\\n                    {{dataItem.ChieuDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ChieuDisplay == null && dataItem.ThoiGianDungChieuDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ThoiGianDungChieuDisplay}}\\\">\\n                    {{dataItem.ThoiGianDungChieuDisplay}}\\n                </p>\\n            </div>\\n        </ng-template>\\n\\n        <ng-template #toiTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.ToiDisplay != null && dataItem.ThoiGianDungToiDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ToiDisplay + ' ' +(dataItem.ThoiGianDungToiDisplay)}}\\\">\\n                    {{dataItem.ToiDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungToiDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ToiDisplay != null && dataItem.ThoiGianDungToiDisplay == null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ToiDisplay}}\\\">\\n                    {{dataItem.ToiDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ToiDisplay == null && dataItem.ThoiGianDungToiDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ThoiGianDungToiDisplay}}\\\">\\n                    {{dataItem.ThoiGianDungToiDisplay}}\\n                </p>\\n            </div>\\n        </ng-template>\\n\\n        <ng-template #soLuongTemplate let-dataItem>\\n            {{dataItem.SoLuongDisplay}}\\n        </ng-template>\\n    </app-grid>\\n    <ng-template #sttTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        {{rowIndex + 1}}\\n    </ng-template>\\n    <div fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\">\\n        <button [disabled]=\\\"!isDisabled\\\" type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button\\n            (click)=\\\"inPhieuTuVanThuoc()\\\">In toa thuốc</button>\\n    </div>\\n</div>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div style=\\\"text-transform: uppercase\\\">{{title}}</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"min-height: 150px;\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <ng-container *ngIf=\\\"laThucHienDichVu == true\\\">\\n            <div fxFlex=\\\"100\\\" fxFlex.sm=\\\"100\\\">Bạn có chắc chắn muốn chuyển trạng thái đã thực hiện cho dịch vụ này không?</div>\\n            <div fxFlex=\\\"100\\\" fxFlex.sm=\\\"100\\\">Nếu có hãy nhập thông tin sau: </div>\\n            <app-combobox id=\\\"nguoiThucHien\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\" label=\\\"Người thực hiên\\\" bind=\\\"true\\\"\\n                [(model)]=\\\"yeuCauDichVuKyThuat.NhanVienThucHienId\\\"  [required]=\\\"true\\\" [reloadForGrid]=\\\"true\\\"\\n                url=\\\"YeuCauLinhDuocPham/GetListNhanVien\\\" popupSettings=\\\"null\\\"\\n                [validationerror]=\\\"'NhanVienThucHienId' | validationerror:validationErrors\\\">\\n            </app-combobox>\\n            <app-datetimepicker id=\\\"thoiDiemThucHien\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\" label=\\\"Thời điểm thực hiện\\\" [required]=\\\"true\\\"\\n                [(model)]=\\\"yeuCauDichVuKyThuat.ThoiDiemThucHien\\\"\\n                [validationerror]=\\\"'ThoiDiemThucHien' | validationerror:validationErrors\\\">\\n            </app-datetimepicker>\\n        </ng-container>\\n        <ng-container *ngIf=\\\"laThucHienDichVu == false\\\">\\n            <div fxFlex=\\\"100\\\" fxFlex.sm=\\\"100\\\">Bạn có chắc chắn muốn chuyển trạng thái chưa thực hiện cho dịch vụ này không?</div>\\n        \\n            <app-textarea id=\\\"lyDo\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"1000\\\" label=\\\"Lý do\\\" minHeight=\\\"20\\\"\\n                [(model)]=\\\"yeuCauDichVuKyThuat.LyDoHuyTrangThaiDaThucHien\\\" [required]=\\\"true\\\"\\n                [validationerror]=\\\"'LyDoHuyTrangThaiDaThucHien' | validationerror:validationErrors\\\">\\n            </app-textarea>\\n        </ng-container>\\n        \\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"null\\\">Hủy</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"xuLyCapNhatThongTinThucHienDichVu()\\\">Lưu</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div style=\\\"text-transform: uppercase;\\\">\\n        Cập nhật thông tin đối tượng\\n    </div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\" (click)=\\\"close()\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"height: 650px;\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <h3 style=\\\"display: flex;\\\" fxFlex=\\\"100%\\\" class=\\\"mt-0\\\">\\n            Thông tin bảo hiểm y tế\\n            <div style=\\\"display: flex;font-size: 14px;text-transform: initial; margin-left: 10px\\\">\\n                <app-checkbox class=\\\"ml-2\\\" id=\\\"coBHYT\\\" label=\\\"Có\\\" \\n                    [(model)]=\\\"tiepNhanBenhNhan.CoBHYT\\\" [disabled]=\\\"tiepNhanBenhNhan.TuNhap == true\\\" (modelChange)=\\\"changeBoxCoTheBHYT($event)\\\"></app-checkbox>\\n                <app-checkbox class=\\\"ml-2\\\" id=\\\"nhapTay\\\" label=\\\"Nhập tay\\\"\\n                    [(model)]=\\\"tiepNhanBenhNhan.TuNhap\\\" [disabled]=\\\"tiepNhanBenhNhan.CoBHYT != true\\\" (modelChange)=\\\"clearValidationBHYT()\\\"></app-checkbox>\\n            </div>\\n        </h3>\\n\\n        <ng-container *ngIf=\\\"tiepNhanBenhNhan.CoBHYT == true\\\">\\n            <div style=\\\"position: relative;\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" kendoTooltip>\\n                <app-textbox id=\\\"SoTheBHYT\\\" label=\\\"Số thẻ BHYT\\\" [required]=\\\"true\\\" [(model)]=\\\"tiepNhanBenhNhan.BHYTMaSoThe\\\"\\n                    (modelChange)=\\\"changeSoTheBHYT($event, tiepNhanBenhNhan)\\\" [maxlength]=\\\"20\\\"\\n                    (blurChange)=\\\"changeThongTinGetBHYT($event, tiepNhanBenhNhan, isLoadingDataBHYT)\\\"\\n                    (keyup)=\\\"onKeySoTheBHYT($event, tiepNhanBenhNhan ,isLoadingDataBHYT)\\\"\\n                    [validationerror]=\\\"'BHYTMaSoThe' | validationerror:validationErrors\\\">\\n                </app-textbox>\\n\\n                <button (click)=\\\"QuetMaQRCodeClick()\\\" [disabled]=\\\"tiepNhanBenhNhan.TuNhap\\\"\\n                    style=\\\"position: absolute;right: 21px;top: 8px;\\\" color=\\\"primary\\\" (keyup)=\\\"onKeyScanner($event)\\\" mat-mini-fab\\n                    type=\\\"button\\\" kendoTooltip title=\\\"Quét mã vạch thẻ BHYT\\\" title=\\\"Phím tắt: Ctrl + Q\\\">\\n                    <img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n                </button>\\n            </div>\\n            <app-textbox id=\\\"BHYTMaDKBD\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Mã nơi ĐKBH\\\" [maxlength]=\\\"20\\\"\\n                [required]=\\\"true\\\" [(model)]=\\\"tiepNhanBenhNhan.BHYTMaDKBD\\\" [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\"\\n                (blurChange)=\\\"blurMaNoiDKBD(tiepNhanBenhNhan)\\\" (keyup)=\\\"onKeyMaNoiDKBD($event, tiepNhanBenhNhan)\\\"\\n                (modelChange)=\\\"onChangeMaNoiDKBD($event, tiepNhanBenhNhan)\\\"\\n                [validationerror]=\\\"'BHYTMaDKBD' | validationerror:validationErrors\\\">\\n            </app-textbox>\\n            <app-textbox id=\\\"NoiDangKyBHYT\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Nơi ĐKBH\\\"\\n                [(model)]=\\\"tiepNhanBenhNhan.NoiDangKyBHYT\\\" [disabled]=\\\"true\\\">\\n            </app-textbox>\\n            <app-textboxnumeric id=\\\"BHYTMucHuong\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Mức hưởng (%)\\\" format=\\\"0\\\"\\n                [(model)]=\\\"tiepNhanBenhNhan.BHYTMucHuong\\\" [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\" [required]=\\\"true\\\" min=\\\"1\\\" max=\\\"100\\\"\\n                [validationerror]=\\\"'BHYTMucHuong' | validationerror:validationErrors\\\">\\n            </app-textboxnumeric>\\n            <app-textbox id=\\\"BHYTDiaChi\\\" fxFlex=\\\"40%\\\" fxFlex.sm=\\\"40%\\\" label=\\\"Địa chỉ\\\" [maxlength]=\\\"200\\\"\\n                (blurChange)=\\\"blurDiaChi(tiepNhanBenhNhan.BHYTDiaChi)\\\" (keyup)=\\\"onKeyDiaChi($event, tiepNhanBenhNhan.BHYTDiaChi)\\\"\\n                placeHolder=\\\"Địa chỉ (Số nhà/đường phố, Phường/Xã, Quận/Huyện, Tỉnh/Thành phố)\\\" [required]=\\\"true\\\"\\n                [(model)]=\\\"tiepNhanBenhNhan.BHYTDiaChi\\\" [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\"\\n                [validationerror]=\\\"'BHYTDiaChi' | validationerror:validationErrors\\\">\\n            </app-textbox>\\n\\n            <!-- <app-radio id=\\\"LyDoVaoVien\\\" label=\\\"Tuyến khám\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" [(model)]=\\\"tiepNhanBenhNhan.LyDoVaoVien\\\"\\n                (modelChange)=\\\"lyDoVaoVienChange($event)\\\" [items]=\\\"[{Value:1,Text:'Đúng tuyến'},{Value:3,Text:'Trái tuyến'}]\\\">\\n            </app-radio> -->\\n\\n            <app-datepicker id=\\\"BHYTNgayHieuLuc\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Ngày có hiệu lực\\\"\\n                [required]=\\\"true\\\" [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayHieuLuc\\\" [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\"\\n                (modelChange)=\\\"ngayCoHieuLucChange($event, tiepNhanBenhNhan)\\\"\\n                [validationerror]=\\\"'BHYTNgayHieuLuc' | validationerror:validationErrors\\\">\\n            </app-datepicker>\\n        \\n            <app-datepicker id=\\\"BHYTNgayHetHan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Ngày hết hiệu lực\\\"\\n                [required]=\\\"true\\\" [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayHetHan\\\" [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\"\\n                (modelChange)=\\\"changeNgayHetHan($event, tiepNhanBenhNhan)\\\" [class]=\\\"tiepNhanBenhNhan.IsQuaHanTheBHYT ? 'warning-value' : ''\\\"\\n                [validationerror]=\\\"'BHYTNgayHetHan' | validationerror:validationErrors\\\">\\n            </app-datepicker>\\n        \\n            <app-datepicker id=\\\"BHYTNgayDu5Nam\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Ngày đủ 5 năm\\\"\\n                [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayDu5Nam\\\" [disabled]=\\\"true\\\">\\n            </app-datepicker>\\n        \\n            <ng-container *ngIf=\\\"tiepNhanBenhNhan.TuNhap != true\\\">\\n                <app-textbox *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == true && tiepNhanBenhNhan.BHYTMucHuong != null\\\" id=\\\"messageThanhCong\\\"\\n                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Kiểm tra trên BHYT\\\" maxlength=\\\"200\\\" [disabled]=\\\"true\\\"\\n                    [(model)]=\\\"messageThanhCong\\\" class=\\\"green\\\">\\n                </app-textbox>\\n        \\n                <app-textbox *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == false && tiepNhanBenhNhan.BHYTMucHuong != null\\\"\\n                    id=\\\"messageKhongThanhCong\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Kiểm tra trên BHYT\\\" maxlength=\\\"200\\\"\\n                    [disabled]=\\\"true\\\" [(model)]=\\\"messageKhongThanhCong\\\" class=\\\"red\\\">\\n                </app-textbox>\\n        \\n                <app-textbox *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == null && this.tiepNhanBenhNhan.TuNhap == false\\\"\\n                    id=\\\"messageNULL\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Kiểm tra trên BHYT\\\" maxlength=\\\"200\\\"\\n                    [disabled]=\\\"true\\\">\\n                </app-textbox>\\n            </ng-container>\\n\\n            <app-checkbox [(model)]=\\\"tiepNhanBenhNhan.BHYTDuocMienCungChiTra\\\" fxFlex=\\\"20%\\\" kendoTooltip fxFlex.sm=\\\"20%\\\"\\n                id=\\\"CheckboxAB\\\" label=\\\"Có giấy miễn cùng chi trả\\\" title=\\\"Phím tắt: Ctrl + F5\\\">\\n            </app-checkbox>\\n            \\n            <app-upload *ngIf=\\\"tiepNhanBenhNhan.BHYTDuocMienCungChiTra == true\\\" #fileMienDongChiTra fxFlex=\\\"60%\\\" fxFlex.sm=\\\"60%\\\" id=\\\"Upload\\\"\\n                label=\\\"Giấy miễn cùng chi trả đính kèm\\\" [model]=\\\"file\\\" [template]=\\\"templateFile\\\"\\n                (uploadFileDone)=\\\"uploadFileDone($event)\\\">\\n                <ng-template #templateFile let-files>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <td>\\n                                <a *ngIf=\\\"file.error\\\" title=\\\"{{'Tải file bị lỗi: '+file.error}}\\\"\\n                                    (click)=\\\"fileMienDongChiTra.viewFile(file)\\\" class=\\\"custom-name red\\\">{{file.name}}</a>\\n                                <a *ngIf=\\\"!file.error\\\" title=\\\"{{file.name}}\\\" (click)=\\\"fileMienDongChiTra.viewFile(file)\\\"\\n                                    class=\\\"green\\\" class=\\\"custom-name green\\\">{{file.name}}</a>\\n                            </td>\\n                            <td style=\\\"width:25px\\\">\\n                                <a type=\\\"button\\\" (click)=\\\"fileMienDongChiTra.remove(file.uid)\\\" mat-icon-button>\\n                                    <mat-icon [icIcon]=\\\"icClear\\\"></mat-icon>\\n                                </a>\\n                            </td>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n            </app-upload>\\n            \\n            <app-datepicker *ngIf=\\\"tiepNhanBenhNhan.BHYTDuocMienCungChiTra == true\\\" id=\\\"BHYTNgayDuocMienCungChiTra\\\" fxFlex=\\\"20%\\\"\\n                fxFlex.sm=\\\"20%\\\" label=\\\"Ngày bắt đầu miễn cùng chi trả\\\" [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayDuocMienCungChiTra\\\">\\n            </app-datepicker>\\n        \\n            <!-- <app-datepicker id=\\\"NgayBatDauMienDongChiTra\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                label=\\\"Ngày bắt đầu miễn đồng chi trả\\\" [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayDuocMienCungChiTra\\\">\\n            </app-datepicker>\\n            <app-upload id=\\\"upload\\\" #fileMienDongChiTra [allowedExtensions]=\\\"allowedExtensions\\\" fxFlex=\\\"40%\\\"\\n                fxFlex.sm=\\\"40%\\\" label=\\\"Giấy miễn đồng chi trả đính kèm\\\" [template]=\\\"templateFile\\\" [(model)]=\\\"file\\\"\\n                (uploadFileDone)=\\\"uploadFileDone($event, tiepNhanBenhNhan)\\\">\\n            </app-upload> -->\\n            \\n            \\n        \\n        </ng-container>\\n\\n        <h3 fxFlex=\\\"100%\\\" class=\\\"mt-0\\\">Thông tin hành chính</h3>\\n        <app-textbox class=\\\"text-transform-uppercase\\\" #HoVaTenTextbox id=\\\"HoTen\\\" fxFlex=\\\"20%\\\"\\n            fxFlex.sm=\\\"20%\\\" label=\\\"Họ và tên\\\" maxlength=\\\"100\\\" [required]=\\\"true\\\" [isAutoFocus]=\\\"true\\\"\\n            [(model)]=\\\"tiepNhanBenhNhan.HoTen\\\"  [upperCase]=\\\"true\\\"\\n            (modelChange)=\\\"changeHoTen($event)\\\" (blurChange)=\\\"changeThongTinGetBHYT($event, tiepNhanBenhNhan, isLoadingDataBHYT)\\\"\\n            [validationerror]=\\\"'HoTen' | validationerror:validationErrors\\\">\\n        </app-textbox>\\n        <app-datepicker id=\\\"NgaySinh\\\"\\n            fxFlex=\\\"13%\\\" fxFlex.sm=\\\"13%\\\" label=\\\"Ngày sinh\\\" [required]=\\\"true\\\"\\n            [(model)]=\\\"tiepNhanBenhNhan.NgayThangNamSinh\\\"\\n            (modelChange)=\\\"ThongTinBenhNhanNgaySinhChange($event)\\\"\\n            (blurChange)=\\\"changeThongTinGetBHYT($event, tiepNhanBenhNhan, isLoadingDataBHYT)\\\"\\n            [validationerror]=\\\"'NgayThangNamSinh' | validationerror:validationErrors\\\">\\n        </app-datepicker>\\n        <app-textboxnumeric id=\\\"Numerictextbox\\\" fxFlex=\\\"7%\\\" fxFlex.sm=\\\"7%\\\" \\n            label=\\\"Năm sinh\\\" format=\\\"0\\\" min=\\\"1\\\" max=\\\"9999\\\" \\n            [(model)]=\\\"tiepNhanBenhNhan.NamSinh\\\" [disabled]=\\\"tiepNhanBenhNhan.NgayThangNamSinh != null\\\"\\n            (modelChange)=\\\"changeNamSinh($event)\\\" (blurChange)=\\\"changeThongTinGetBHYT($event, tiepNhanBenhNhan, isLoadingDataBHYT)\\\"\\n           >\\n        </app-textboxnumeric>\\n        <app-textbox *ngIf=\\\"under6yearsold\\\" id=\\\"SoTuoi\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Số tuổi\\\" [disabled]=\\\"true\\\"\\n            [(model)]=\\\"soTuoiDisplay\\\">\\n        </app-textbox>\\n        <app-textboxmask id=\\\"SoDienThoai\\\" onlynumber=\\\"true\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Số điện thoại\\\"\\n            maxlength=\\\"10\\\" [(model)]=\\\"tiepNhanBenhNhan.SoDienThoai\\\" mask=\\\"000 000 0000\\\">\\n        </app-textboxmask>\\n        <app-dropdownlist id=\\\"gioiTinh\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Giới tính\\\" \\n            url=\\\"TiepNhanBenhNhan/GetGioiTinh\\\" [(model)]=\\\"tiepNhanBenhNhan.GioiTinh\\\" bind=\\\"true\\\" bind=\\\"true\\\">\\n        </app-dropdownlist>\\n        <app-combobox id=\\\"NgheNghiep\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Nghề Nghiệp\\\" bind=\\\"true\\\" \\n            url=\\\"TiepNhanBenhNhan/GetNgheNghiep\\\" popupSettings=\\\"null\\\" [(model)]=\\\"tiepNhanBenhNhan.NgheNghiepId\\\">\\n        </app-combobox>\\n\\n        <app-combobox id=\\\"GetQuocTich\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Quốc tịch\\\" bind=\\\"true\\\" popupSettings=\\\"null\\\"\\n            url=\\\"TiepNhanBenhNhan/GetQuocTich\\\" [(model)]=\\\"tiepNhanBenhNhan.QuocTichId\\\">\\n        </app-combobox>\\n        <!-- (selectionChange)=\\\"cloneDiaChiNguoiGiamHo(true)\\\" -->\\n        <app-combobox id=\\\"TinhThanhPho\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" bind=\\\"true\\\" popupSettings=\\\"null\\\"\\n            label=\\\"Tỉnh/Thành Phố\\\" class=\\\"item-no-padding\\\" [template]=\\\"tinhThanhTemplate\\\"\\n            [templateHeader]=\\\"tinhThanhTemplateHeader\\\" [(model)]=\\\"tiepNhanBenhNhan.TinhThanhId\\\"\\n            url=\\\"TiepNhanBenhNhan/GetTinhThanh/?quanHuyenId={{tiepNhanBenhNhan.QuanHuyenId}}\\\" hierarchyKeyToSend=\\\"tinhThanh\\\"\\n            (modelChange)=\\\"TinhThanhPhoChange($event)\\\">\\n            <ng-template #tinhThanhTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"20%\\\">Mã</th>\\n                        <th>Tên</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #tinhThanhTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                        <td>{{dataItem.Ten}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n\\n        <!-- (selectionChange)=\\\"cloneDiaChiNguoiGiamHo(true)\\\" -->\\n        <app-combobox #comboboxQuanHuyen id=\\\"QuanHuyen\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Quận/Huyện\\\" bind=\\\"true\\\" popupSettings=\\\"null\\\"\\n            class=\\\"item-no-padding\\\" [template]=\\\"quanHuyenTemplate\\\" [templateHeader]=\\\"quanHuyenTemplateHeader\\\"\\n            [(model)]=\\\"tiepNhanBenhNhan.QuanHuyenId\\\" (modelChange)=\\\"QuanHuyenChange($event)\\\"\\n            url=\\\"TiepNhanBenhNhan/GetQuanHuyen/?phuongXaId={{tiepNhanBenhNhan.PhuongXaId}}\\\"\\n            hierarchyKeyToListen=\\\"tinhThanh\\\"  hierarchyKeyToSend=\\\"quanHuyen\\\">\\n            <ng-template #quanHuyenTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"20%\\\">Mã</th>\\n                        <th>Tên</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #quanHuyenTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                        <td>{{dataItem.Ten}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n        <!-- (selectionChange)=\\\"cloneDiaChiNguoiGiamHo(true)\\\" -->\\n        <app-combobox id=\\\"PhuongXa\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Phường/Xã\\\" class=\\\"item-no-padding\\\" popupSettings=\\\"null\\\"\\n            #comboboxPhuongXa url=\\\"TiepNhanBenhNhan/GetPhuongXa\\\" hierarchyKeyToListen=\\\"quanHuyen\\\"\\n            [template]=\\\"phuongXaTemplate\\\" [templateHeader]=\\\"phuongXaTemplateHeader\\\"\\n            [(model)]=\\\"tiepNhanBenhNhan.PhuongXaId\\\"\\n            (modelChange)=\\\"PhuongXaChange($event)\\\">\\n            <ng-template #phuongXaTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"20%\\\">Mã</th>\\n                        <th>Tên</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #phuongXaTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                        <td>{{dataItem.Ten}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n        <app-textbox class=\\\"text-transform-capitalize\\\" id=\\\"SoNhaDuongPho\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" maxlength=\\\"200\\\"\\n            label=\\\"Số nhà/Đường phố\\\" [(model)]=\\\"tiepNhanBenhNhan.DiaChi\\\">\\n        </app-textbox>\\n\\n        <app-textbox id=\\\"soCMND\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Số CMND\\\" maxlength=\\\"12\\\" digitOnly\\n            [(model)]=\\\"tiepNhanBenhNhan.SoChungMinhThu\\\">\\n        </app-textbox>\\n        <app-textbox id=\\\"Email\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Email\\\" maxlength=\\\"200\\\"\\n            [(model)]=\\\"tiepNhanBenhNhan.Email\\\"\\n            [validationerror]=\\\"'Email' | validationerror:validationErrors\\\">\\n        </app-textbox>\\n        <app-textbox id=\\\"NoiLamViec\\\" fxFlex=\\\"40%\\\" fxFlex.sm=\\\"40%\\\" maxlength=\\\"300\\\" label=\\\"Nơi làm việc\\\"\\n            [(model)]=\\\"tiepNhanBenhNhan.NoiLamViec\\\">\\n        </app-textbox>\\n\\n        <app-combobox bind=\\\"true\\\" id=\\\"DanToc\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Dân tộc\\\" url=\\\"DieuTriNoiTru/GetDanToc\\\"\\n            [reloadForGrid]=\\\"true\\\"\\n            [(model)]=\\\"tiepNhanBenhNhan.DanTocId\\\">\\n        </app-combobox>\\n\\n        <h3 style=\\\"display: flex;\\\" fxFlex=\\\"100%\\\" class=\\\"mt-0\\\">Thông Tin Bảo Hiểm Tư Nhân\\n            <div style=\\\"display: flex;font-size: 14px;text-transform: initial; margin-left: 10px\\\">\\n                <app-checkbox id=\\\"CheckboxIsHaveBHTN\\\" [(model)]=\\\"tiepNhanBenhNhan.CoBHTN\\\" label=\\\"Có\\\" (modelChange)=\\\"changeCoBaoHiemTuNhan($event)\\\">\\n                </app-checkbox>\\n            </div>\\n        </h3>\\n        <ng-container *ngIf=\\\"tiepNhanBenhNhan.CoBHTN == true\\\">\\n            <app-combobox id=\\\"CongTyBaoHiemTuNhanId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                [(model)]=\\\"themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId\\\" label=\\\"Công ty\\\"\\n                url=\\\"DieuTriNoiTru/GetCongTyBaoHiemTuNhan\\\" bind=\\\"true\\\" (selectionChange)=\\\"congTyBaoHiemChange($event)\\\"\\n                required=\\\"true\\\" [required]=\\\"true\\\"\\n                [validationerror]=\\\"'CongTyBaoHiemTuNhanId' | validationerror:validationCongTyBHTNErrors\\\">\\n            </app-combobox>\\n        \\n            <app-textbox id=\\\"MaSoThe\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Số thẻ\\\" [(model)]=\\\"themBaoHiemTuNhanModel.MaSoThe\\\"\\n                maxlength=\\\"30\\\">\\n            </app-textbox>\\n        \\n            <app-datepicker id=\\\"NgayHieuLuc\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Từ ngày\\\"\\n                [(model)]=\\\"themBaoHiemTuNhanModel.NgayHieuLuc\\\">\\n            </app-datepicker>\\n        \\n            <app-datepicker id=\\\"NgayHetHan\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Đến ngày\\\"\\n                [(model)]=\\\"themBaoHiemTuNhanModel.NgayHetHan\\\"\\n                [validationerror]=\\\"'NgayHetHan' | validationerror:validationCongTyBHTNErrors\\\">\\n            </app-datepicker>\\n        \\n            <app-textboxmask id=\\\"SoDienThoai\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Điện thoại\\\" readonly=\\\"true\\\" maxlength=\\\"100\\\"\\n                [(model)]=\\\"themBaoHiemTuNhanModel.SoDienThoai\\\">\\n            </app-textboxmask>\\n        \\n            <app-textbox id=\\\"DiaChi\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Địa chỉ\\\" readonly=\\\"true\\\" maxlength=\\\"200\\\"\\n                [(model)]=\\\"themBaoHiemTuNhanModel.DiaChi\\\">\\n            </app-textbox>\\n        \\n            <div style=\\\"margin-bottom: 20px;\\\" fxLayoutAlign=\\\"end right\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" class=\\\"mr-4\\\">\\n                <button (click)=\\\"huyBHTN()\\\" mat-button class=\\\"mr-1 px-6 py-0\\\"><i class=\\\"ft-arrow-left \\\"></i>Hủy</button>\\n                <button *ngIf=\\\"isUpdateGrid == false\\\" (click)=\\\"ThemBHTN()\\\" color=\\\"primary\\\" mat-raised-button\\n                    class=\\\"mr-1 px-6 py-o\\\"><i class=\\\"ft-save\\\"></i>Thêm</button>\\n                <button *ngIf=\\\"isUpdateGrid == true\\\" (click)=\\\"LuuBHTN()\\\" color=\\\"primary\\\" mat-raised-button\\n                    class=\\\"mr-1 px-6 py-o\\\"><i class=\\\"ft-save\\\"></i>Cập\\n                    nhật</button>\\n            </div>\\n        \\n            <app-grid fxFlex=\\\"100%\\\" [gridDataSource]=\\\"gridDataSourceBHTN\\\" [gridColumns]=\\\"gridCongTyBHTNColumns\\\" #gridBHTN\\n                [documentType]=\\\"documentType\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                [checkboxAble]=\\\"false\\\" pageSize=\\\"5\\\" [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\" [showStt]=\\\"true\\\">\\n            </app-grid>\\n        \\n        </ng-container>\\n        <ng-template #actionTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            <button (click)=\\\"$event.stopPropagation()\\\" kendoTooltip title=\\\"Hành động\\\"\\n                [matMenuTriggerFor]=\\\"actionsMenu\\\" mat-icon-button type=\\\"button\\\">\\n                <mat-icon [icIcon]=\\\"icMoreHoriz\\\"></mat-icon>\\n            </button>\\n            <mat-menu #actionsMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n                <ng-template let-customer=\\\"customer\\\" matMenuContent>\\n                    <button (click)=\\\"SuaBHTN(dataItem, rowIndex)\\\" mat-menu-item>\\n                        <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n                        <span>Sửa</span>\\n                    </button>\\n                    <button (click)=\\\"xoaCongTyBHTN(dataItem)\\\" mat-menu-item>\\n                        <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                        <span>Xóa</span>\\n                    </button>\\n                </ng-template>\\n            </mat-menu>\\n        </ng-template>\\n        <ng-template #ngayHieuLucTemplate let-dataItem>\\n            {{dataItem.NgayHieuLuc | date:'dd/MM/yyy'}}\\n        </ng-template>\\n        <ng-template #ngayDenHanTemplate let-dataItem>\\n            {{dataItem.NgayHetHan | date:'dd/MM/yyy'}}\\n        </ng-template>\\n\\n        <h3 fxFlex=\\\"100%\\\" class=\\\"mt-0\\\">Thông tin người giám hộ/đi cùng</h3>\\n        <app-textbox id=\\\"hoTenNguoiGiamHo\\\" fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\" label=\\\"Họ và tên\\\" maxlength=\\\"100\\\"\\n            [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeHoTen\\\"  [upperCase]=\\\"true\\\"\\n            [validationerror]=\\\"'NguoiLienHeHoTen' | validationerror:validationErrors\\\">\\n        </app-textbox>\\n        <app-combobox fxFlex=\\\"25%\\\" label=\\\"Quan hệ\\\" id=\\\"quanHe\\\" url=\\\"TiepNhanBenhNhan/GetQuanHe\\\"\\n            popupSettings=\\\"null\\\" bind=\\\"true\\\" [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeQuanHeNhanThanId\\\"\\n            [validationerror]=\\\"'NguoiLienHeQuanHeNhanThanId' | validationerror:validationErrors\\\">\\n        </app-combobox>\\n        <app-textboxmask id=\\\"NguoiLienHeSoDienThoai\\\" fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\" label=\\\"Điện thoại\\\" maxlength=\\\"10\\\"\\n            [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeSoDienThoai\\\" mask=\\\"000 000 0000\\\"\\n            [validationerror]=\\\"'NguoiLienHeSoDienThoai' | validationerror:validationErrors\\\">\\n        </app-textboxmask>\\n        <app-textbox id=\\\"EmailNguoiGiamHo\\\" fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\" label=\\\"Email\\\"\\n            maxlength=\\\"200\\\" [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeEmail\\\"\\n            [validationerror]=\\\"'NguoiLienHeEmail' | validationerror:validationErrors\\\">\\n        </app-textbox>\\n\\n        <app-combobox id=\\\"TinhThanhPhoNguoiLienHe\\\" fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\" popupSettings=\\\"null\\\" bind=\\\"true\\\"\\n            label=\\\"Tỉnh/Thành Phố\\\" class=\\\"item-no-padding\\\" [template]=\\\"tinhThanhTemplate\\\" [templateHeader]=\\\"tinhThanhTemplateHeader\\\"\\n            [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeTinhThanhId\\\" \\n            url=\\\"TiepNhanBenhNhan/GetTinhThanh?quanHuyenId={{tiepNhanBenhNhan.NguoiLienHeQuanHuyenId}}\\\" hierarchyKeyToSend=\\\"tinhThanhLienHe\\\"\\n            (modelChange)=\\\"TinhThanhPhoNguoiLienHeChange($event)\\\">\\n            <ng-template #tinhThanhTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"20%\\\">Mã</th>\\n                        <th>Tên</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #tinhThanhTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                        <td>{{dataItem.Ten}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n        <app-combobox #cboQuanHuyenNguoiLienHe  id=\\\"QuanHuyenNguoiLienHe\\\" fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\" label=\\\"Quận/Huyện\\\" popupSettings=\\\"null\\\" bind=\\\"true\\\"\\n            class=\\\"item-no-padding\\\" [template]=\\\"quanHuyenTemplate\\\" [templateHeader]=\\\"quanHuyenTemplateHeader\\\"\\n            [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeQuanHuyenId\\\"\\n            (modelChange)=\\\"QuanHuyenNguoiLienHeChange($event)\\\"\\n            url=\\\"TiepNhanBenhNhan/GetQuanHuyen?phuongXaId={{tiepNhanBenhNhan.NguoiLienHePhuongXaId}}\\\" [queryInfo]=\\\"{ParameterDependencies:'{tinhThanhLienHe:' + this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId +'}', Take: 50}\\\"\\n            hierarchyKeyToListen=\\\"tinhThanhLienHe\\\" hierarchyKeyToSend=\\\"quanHuyenLienHe\\\">\\n            <ng-template #quanHuyenTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"20%\\\">Mã</th>\\n                        <th>Tên</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #quanHuyenTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                        <td>{{dataItem.Ten}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n        \\n        <app-combobox id=\\\"PhuongXaNguoiLienHe\\\" fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\" label=\\\"Phường/Xã\\\" class=\\\"item-no-padding\\\"\\n            [template]=\\\"phuongXaTemplate\\\" [templateHeader]=\\\"phuongXaTemplateHeader\\\" popupSettings=\\\"null\\\"\\n            [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHePhuongXaId\\\"  url=\\\"TiepNhanBenhNhan/GetPhuongXa\\\"\\n            hierarchyKeyToListen=\\\"quanHuyenLienHe\\\" (modelChange)=\\\"PhuongXaNguoiLienHeChange($event)\\\"\\n            [queryInfo]=\\\"{ParameterDependencies:'{quanHuyenLienHe:' + this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId +'}', Take: 50}\\\">\\n            <ng-template #phuongXaTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"20%\\\">Mã</th>\\n                        <th>Tên</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #phuongXaTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                        <td>{{dataItem.Ten}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n        <app-textbox class=\\\"text-transform-capitalize\\\" id=\\\"SoNhaDuongPhoNguoiGiamHo\\\" fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\" maxlength=\\\"200\\\"\\n            label=\\\"Số nhà/Đường phố\\\" [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeDiaChi\\\">\\n        </app-textbox>\\n        <h3 fxFlex=\\\"100%\\\" class=\\\"mt-0\\\">Thông Tin SARS-CoV</h3>\\n        <app-textarea fxFlex=\\\"45%\\\" id=\\\"BieuHienLamSang\\\" [(model)]=\\\"tiepNhanBenhNhan.BieuHienLamSang\\\" label=\\\"Biểu hiện lâm sàng\\\"\\n            minHeight=\\\"20\\\" style=\\\"margin-right: 5px;\\\">\\n        </app-textarea>\\n        <app-textarea id=\\\"DichTeSarsCoV2\\\" [(model)]=\\\"tiepNhanBenhNhan.DichTeSarsCoV2\\\" fxFlex=\\\"45%\\\" label=\\\"Dịch tễ SARS-CoV 2\\\"\\n            minHeight=\\\"20\\\">\\n        </app-textarea>\\n        <div fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\" kendoTooltip>\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1\\\" [mat-dialog-close]=\\\"null\\\">Hủy</button>\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" (click)=\\\"xuLyCapNhatThongTin()\\\">Lưu</button>\\n        </div>\\n    </div>\\n</mat-dialog-content>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>Tìm kiếm người bệnh</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"closes()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"overflow-y: hidden;\\\">\\n    <div class=\\\"bg-app-bar px-3 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n        <!-- <app-textbox fxFlex=\\\"30%\\\" id=\\\"MaTNMaBN\\\" [(model)]=\\\"searchString\\\" label=\\\"Mã TN/ Mã NB\\\" (keyup)=\\\"keyUp($event)\\\">\\n        </app-textbox> -->\\n        <div class=\\\"bg-card rounded-full border px-4\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\"\\n            fxLayoutAlign=\\\"start center\\\" style=\\\"margin-top: 2px;\\\">\\n            <ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n            <input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n                type=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"searchString\\\" (keyup)=\\\"onKey($event)\\\"\\n                (ngModelChange)=\\\"searchChanges()\\\" placeholder=\\\"Nhập từ khóa...\\\" />\\n        </div>\\n        <!-- <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"ml-2\\\" (click)=\\\"timKemBenhNhan()\\\"> Tìm\\n            kiếm</button> -->\\n\\n    </div>\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n            [documentType]=\\\"documentType\\\" [urlGetData]=\\\"urlGetData\\\" [urlGetTotalPage]=\\\"urlGetTotalPage\\\"\\n            [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n            [additionalSearchString]=\\\"phongKhamId\\\" [detailTemplate]=\\\"detailTemplate\\\" height=\\\"500\\\"\\n            style=\\\"width: 1px;\\\">\\n        </app-grid>\\n        <ng-template #detailTemplate let-dataItem>\\n            <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n                <fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n                    <legend>Thông tin hành chính</legend>\\n                    <div fxFlex=\\\"100%\\\">\\n                        <ul class=\\\"inline\\\">\\n                            <li>Mã TN: <strong>{{dataItem.MaTN}}</strong></li>\\n                            <li>Mã NB: <strong>{{dataItem.MaBN}}</strong></li>\\n                            <li>Họ tên: <strong>{{dataItem.HoTen}}</strong></li>\\n                            <li>Giới tính: <strong>{{dataItem.GioiTinhDisplay}}</strong></li>\\n                            <li>Tuổi: <strong>{{dataItem.Tuoi}}</strong></li>\\n\\n                            <li>SĐT: <strong>{{dataItem.SoDienThoai}}</strong></li>\\n                            <li>Dân tộc:\\n                                <strong>{{dataItem.DanToc}}</strong>\\n                            </li>\\n                            <li>Địa chỉ: <strong>{{dataItem.DiaChiDisplay}}</strong></li>\\n                            <li>Nghề nghiệp:\\n                                <strong>{{dataItem.NgheNghiep}}</strong>\\n                            </li>\\n                            <li>Tuyến khám: <strong\\n                                    style=\\\"color: green;\\\">{{dataItem.TuyenKham}}</strong>\\n                            </li>\\n                            <li>Mức hưởng: <strong\\n                                    style=\\\"color: blue;\\\">{{dataItem.MucHuongDisplay}}</strong></li>\\n                        </ul>\\n                    </div>\\n                </fieldset>\\n            </div>\\n            <div *ngIf=\\\"dataItem.YeuCauDichVuKyThuats.length > 0\\\" fxLayoutAlign=\\\"start center\\\"\\n                fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n                <fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n                    <legend>Thông tin xét nghiệm, cận lâm sàn</legend>\\n                    <div fxFlex=\\\"100%\\\">\\n                        <div class=\\\"inline\\\">\\n                            <app-checkbox *ngFor=\\\"let item of dataItem.YeuCauDichVuKyThuats\\\"\\n                                value=\\\"true\\\" id=\\\"ycdvkt{{item.Id}}\\\" [(model)]=\\\"item.IsDone\\\" [disabled]=\\\"true\\\"\\n                                class=\\\"inline_b py-1\\\" label=\\\"{{item.TenDichVu}}\\\">\\n                            </app-checkbox>\\n                        </div>\\n                    </div>\\n                </fieldset>\\n            </div>\\n        </ng-template>\\n    </div>\\n    <!-- action chuẩn bị khám -->\\n    <ng-template #chuanBiKhamActionTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <button *ngIf=\\\"dataItem.LoaiHangDoi == 1\\\" type=\\\"button\\\" title=\\\"Vào đợi khám\\\" class=\\\"icon-color-button\\\"\\n                (click)=\\\"batDauKham(dataItem)\\\">\\n                <mat-icon [icIcon]=\\\"icPlay\\\"></mat-icon>\\n            </button>\\n            <button *ngIf=\\\"dataItem.LoaiHangDoi ==  2\\\" type=\\\"button\\\" title=\\\"Vào đợi kết luận\\\" class=\\\"icon-color-button\\\"\\n                (click)=\\\"duaVaoHangDoi(dataItem)\\\">\\n                <mat-icon [icIcon]=\\\"icAssignment\\\"></mat-icon>\\n            </button>\\n        </div>\\n    </ng-template>\\n</mat-dialog-content>\"","export default \"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-16\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <vex-breadcrumbs [crumbs]=\\\"[\\n                    {Title:isKhamDoan ?'Khám đoàn': 'Khám bệnh',Path:'',Active:true}\\n                    ]\\\">\\n            </vex-breadcrumbs>\\n            <app-hot-key [keys]=\\\"[\\n                {Key:'Ctrl + F1',Description:'Di chuyển tới và mở tab Khám bệnh'},\\n                {Key:'Ctrl + F2',Description:'Di chuyển tới và mở tab Lịch sử khám'},\\n                {Key:'Ctrl + F3',Description:'Di chuyển tới và mở tab Chỉ định'},\\n                {Key:'Ctrl + F5',Description:'Di chuyển tới và mở tab Kết quả CLS'},\\n                {Key:'Ctrl + F6',Description:'Di chuyển tới và mở tab Chẩn đoán'},\\n\\n                {Key:'Ctrl + F7',Description:'Di chuyển tới và ' + (isKhamDoan ? 'mở tab Tư vấn thuốc' : 'check Cho về, kê đơn thuốc')},\\n                {Key:'Ctrl + F8',Description:'Di chuyển tới và check Hẹn tái khám'},\\n                {Key:'Ctrl + F9',Description:'Di chuyển tới và check Chuyển khám'},\\n                {Key:'Ctrl + F10',Description:'Di chuyển tới và check Nhập viện'},\\n                {Key:'Ctrl + F11',Description:'Di chuyển tới và check Chuyển viện'},\\n                {Key:'Ctrl + F12',Description:'Di chuyển tới và check Tử vong'},\\n\\n                {Key:'Ctrl + H',Description:'Hoàn thành khám'},\\n                {Key:'Ctrl + P',Description:'In chỉ định'},\\n                {Key:'Ctrl + P',Description:'In kê toa'},\\n                {Key:'Ctrl + S',Description:'Lưu form khám bệnh'},\\n                {Key:'Esc',Description:'Hủy', End:true}\\n            ]\\\"></app-hot-key>\\n\\n            <!-- {Key:'Ctrl + →',Description:'Người bệnh tiếp theo', End:true}, -->\\n        </div>\\n    </vex-page-layout-header>\\n\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div @fadeInUp class=\\\"-mt-16\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n                <div class=\\\"card\\\" fxFlex=\\\"100%\\\">\\n                    <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\" style=\\\"position: relative;\\\">\\n                        <!-- <div class=\\\"po-right\\\" style=\\\"position: absolute;right: 25px;top: 20px;z-index: 9;\\\">\\n                            <ul class=\\\"inline\\\">\\n                                <li class=\\\"right-0\\\">\\n                                    Phòng khám:\\n                                    <app-dropdownlist id=\\\"PhongKhamId\\\" label=\\\"\\\"\\n                                        url=\\\"PhongBenhVien/GetListPhongBenhVienByCurrentUser\\\"\\n                                        style=\\\"min-width: 150px;max-width: 300px;font-weight: bold;padding: 0;\\\"\\n                                        popupSettings=\\\"\\\" bind=\\\"true\\\" class=\\\"dropdown on-li\\\"\\n                                        [(model)]=\\\"phongKhamHienTai.KeyId\\\" [modelText]=\\\"phongKhamHienTai.DisplayName\\\"\\n                                        [autoSelectFirstItem]=\\\"true\\\" (modelChange)=\\\"chonPhongKham($event)\\\"\\n                                        (selectionChange)=\\\"selectionChangePhongKham($event)\\\">\\n                                    </app-dropdownlist>\\n                                </li>\\n                                <li class=\\\"right-0\\\">\\n                                    Bác sỹ:\\n                                    <strong>{{HoTen}}</strong>\\n                                </li>\\n                            </ul>\\n                        </div> -->\\n                        <kendo-tabstrip *ngIf=\\\"phongKhamHienTai.KeyId != null && phongKhamHienTai.KeyId != 0\\\" fxFlex=\\\"100%\\\" class=\\\"tab-no-padding-content field-set-p kendotab-button-right\\\" (tabSelect)=\\\"onParentTabSelect($event)\\\">\\n\\n                            <!-- tab khám bệnh -->\\n                            <!-- [title]=\\\"'Khám bệnh'\\\"  -->\\n                            <kendo-tabstrip-tab [selected]=\\\"true\\\">\\n                                <ng-template kendoTabTitle>\\n                                    {{isKhamDoan ? 'Khám đoàn':'Khám bệnh'}}\\n                                </ng-template>\\n                                <ng-template kendoTabContent>\\n                                    <kendo-splitter>\\n                                        <kendo-splitter-pane [collapsible]=\\\"true\\\" size=\\\"25%\\\" style=\\\"max-height: 800px;\\\" class=\\\"sticky-panelbar\\\">\\n                                            <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"px-2 py-3\\\">\\n                                                <div>\\n                                                    <!-- <h3 class=\\\"title m-0\\\">HÀNG ĐỢI</h3> -->\\n                                                    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"xuLyShowHangDoiChung()\\\">HÀNG ĐỢI</button>\\n                                                </div>\\n                                                <div class=\\\"po-right d-unset\\\">\\n                                                    <div class=\\\"bg-card rounded-full border px-2\\\" fxFlex=\\\"260px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\" style=\\\"margin-top: 2px; float: right;\\\">\\n                                                        <ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n                                                        <input class=\\\"px-1 py-2 border-0 outline-none w-full bg-transparent\\\" [(ngModel)]=\\\"searchBenhNhan\\\" placeholder=\\\"Tìm kiếm mã TN/BN\\\" type=\\\"search\\\" name=\\\"searchString\\\" (keyup)=\\\"timKiemBenhNhan($event)\\\" (ngModelChange)=\\\"searchChange($event)\\\" />\\n                                                        <button (click)=\\\"QuetMaQRCodeClick()\\\" color=\\\"primary\\\" mat-mini-fab type=\\\"button\\\"\\n                                                            class=\\\"button-barcoe-in-search\\\" kendoTooltip title=\\\"Phím tắt: Ctrl + Q\\\">\\n                                                            <img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n                                                        </button>\\n                                                    </div>\\n                                                    <app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\" style=\\\"display: none;\\\"></app-barcode>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"\\\">\\n                                                <kendo-panelbar class=\\\"m-1\\\">\\n                                                    <kendo-panelbar-item *ngIf=\\\"showHangDoiChung\\\" [title]=\\\"'Danh sách Người bệnh đợi khám ('+slYeuCauHienTai.ChuanBiKhamHangDoiChung+')'\\\" expanded=\\\"true\\\" class=\\\"panelbar-item\\\">\\n                                                        <ng-template kendoPanelBarContent>\\n                                                            <app-grid fxFlex=\\\"100%\\\" masterName=\\\"nguoiBenhDoiKham\\\" [allowSortDefault]=\\\"false\\\" [autoRefreshDataSource]=\\\"true\\\" [gridColumns]=\\\"gridChuanBiKhamHangDoiChungColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border cursor-pointer\\\" [useHeaderDefault]=\\\"false\\\"\\n                                                                [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\" [gridDataSource]=\\\"dataSourceChuanBiKhamHangDoiChung\\\" [lazyLoadPage]=\\\"true\\\" style=\\\"width: 1px;\\\"\\n                                                                [pageable]=\\\"true\\\" [pageSize]=\\\"10\\\" [buttonCount]=\\\"1\\\" [widthColumnSTT]=\\\"20\\\" titleColumnSTT=\\\"#\\\" keyCode=\\\"Enter\\\" (extEnterChangePage)=\\\"xuLyBatDauKhamNguoiBenhTuHangDoiChung($event)\\\" (extDoubleClick)=\\\"xuLyBatDauKhamNguoiBenhTuHangDoiChung($event)\\\" [showStt]=\\\"true\\\" [groups]=\\\"isKhamDoan ? null :groupHangCho\\\">\\n                                                            </app-grid>\\n                                                        </ng-template>\\n                                                    </kendo-panelbar-item>\\n                                                    <kendo-panelbar-item *ngIf=\\\"showHangDoiChung && !isKhamDoan\\\" [title]=\\\"'Danh sách Người bệnh đợi kết luận ('+slYeuCauHienTai.ChoKetLuanHangDoiChung+')'\\\" expanded=\\\"true\\\" class=\\\"panelbar-item\\\">\\n                                                        <ng-template kendoPanelBarContent>\\n                                                            <app-grid fxFlex=\\\"100%\\\" masterName=\\\"nguoiBenhDoiKetLuanChung\\\" [allowSortDefault]=\\\"false\\\" [autoRefreshDataSource]=\\\"true\\\" [gridColumns]=\\\"gridChoKetLuanHangDoiChungColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border cursor-pointer\\\" [useHeaderDefault]=\\\"false\\\"\\n                                                                [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\" [gridDataSource]=\\\"dataSourceChoKetLuanHangDoiChung\\\" [lazyLoadPage]=\\\"true\\\" style=\\\"width: 1px;\\\"\\n                                                                [pageable]=\\\"true\\\" [pageSize]=\\\"10\\\" [buttonCount]=\\\"1\\\" [widthColumnSTT]=\\\"20\\\" titleColumnSTT=\\\"#\\\" keyCode=\\\"Enter\\\" (extEnterChangePage)=\\\"xuLyKetLuanNguoiBenhTuHangDoiChung($event)\\\" (extDoubleClick)=\\\"xuLyKetLuanNguoiBenhTuHangDoiChung($event)\\\" [showStt]=\\\"true\\\" [groups]=\\\"groupHangCho\\\">\\n                                                            </app-grid>\\n                                                        </ng-template>\\n                                                    </kendo-panelbar-item>\\n\\n                                                    <kendo-panelbar-item [title]=\\\"'Người bệnh chuẩn bị khám ('+slYeuCauHienTai.ChuanBiKham+')'\\\" expanded=\\\"true\\\" class=\\\"panelbar-item\\\">\\n                                                        <ng-template kendoPanelBarContent>\\n                                                            <!-- [detailTemplate]=\\\"isKhamDoan ? null : chuanBiKhamDetailTemplate\\\"  -->\\n                                                            <!-- <app-grid *ngIf=\\\"!LaChuyenKhoaKhamNhieu\\\" fxFlex=\\\"100%\\\" masterName=\\\"ChuanBiKham\\\" [allowSortDefault]=\\\"false\\\" [autoRefreshDataSource]=\\\"true\\\" [gridColumns]=\\\"gridChuanBiKhamColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border cursor-pointer\\\" [useHeaderDefault]=\\\"false\\\"\\n                                                                [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"isKhamDoan ? false : true\\\" [autoHeight]=\\\"true\\\" [gridDataSource]=\\\"dataSourceChuanBiKham\\\" [lazyLoadPage]=\\\"true\\\" style=\\\"width: 1px;\\\" (extCheckboxSelection)=\\\"chonBenhNhanCanChuyenPhong($event)\\\"\\n                                                                [pageable]=\\\"true\\\" [pageSize]=\\\"10\\\" [buttonCount]=\\\"1\\\" [widthColumnSTT]=\\\"15\\\" titleColumnSTT=\\\"#\\\" keyCode=\\\"Enter\\\" (extEnterChangePage)=\\\"batDauKham($event)\\\" (extDoubleClick)=\\\"batDauKham($event)\\\" [showStt]=\\\"true\\\" [groups]=\\\"isKhamDoan ? null :groupHangCho\\\">\\n                                                            </app-grid>\\n                                                            <ng-template #chuanBiKhamDetailTemplate let-dataItem>\\n                                                                <ul class=\\\"inline\\\">\\n                                                                    <li>Lý do khám:\\n                                                                        <strong>{{dataItem.LyDoKham}}</strong></li>\\n                                                                </ul>\\n                                                                <div class=\\\"mt-1\\\">\\n                                                                    <p class=\\\"mb-1\\\" style=\\\"text-decoration-line: underline; font-weight: bold;\\\">\\n                                                                        Chỉ số sinh tồn:\\n                                                                    </p>\\n\\n                                                                    <ul class=\\\"inline\\\">\\n                                                                        <li>Nhóm máu:\\n                                                                            <strong>{{dataItem.TenNhomMau}}</strong>\\n                                                                        </li>\\n                                                                        <li>Mạch (nhịp/ phút):\\n                                                                            <strong>{{dataItem.Mach | number:'0.0-2'}}</strong>\\n                                                                        </li>\\n                                                                        <li>Huyết áp (mmHg):\\n                                                                            <strong>{{dataItem.HuyetApDisplay}}</strong>\\n                                                                        </li>\\n                                                                        <li>Nhiệt độ (C):\\n                                                                            <strong>{{dataItem.NhietDo | number:'0.0-2'}}</strong>\\n                                                                        </li>\\n                                                                        <li>Nhịp thở (lần/phút):\\n                                                                            <strong>{{dataItem.NhipTho | number:'0.0-2'}}</strong>\\n                                                                        </li>\\n                                                                        <li>Cân nặng (kg):\\n                                                                            <strong>{{dataItem.CanNang | number:'0.0-2'}}</strong>\\n                                                                        </li>\\n                                                                        <li>Chiều cao (cm):\\n                                                                            <strong>{{dataItem.ChieuCao | number:'0.0-2'}}</strong>\\n                                                                        </li>\\n                                                                        <li>BMI:\\n                                                                            <strong>{{dataItem.BMI | number:'0.0-2'}}</strong>\\n                                                                        </li>\\n                                                                    </ul>\\n                                                                </div>\\n                                                            </ng-template> -->\\n\\n                                                            <!-- áp dụng hàng chờ mới cho màn hình khám bệnh: chỉ có hàng chờ khám và kết luận -->\\n                                                            <app-grid fxFlex=\\\"100%\\\" masterName=\\\"ChuanBiKham\\\" [allowSortDefault]=\\\"false\\\" [autoRefreshDataSource]=\\\"true\\\" [gridColumns]=\\\"gridChuanBiKhamKhoaKhamNhieuColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border cursor-pointer\\\" [useHeaderDefault]=\\\"false\\\"\\n                                                                [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"isKhamDoan ? false : true\\\" [autoHeight]=\\\"true\\\" [gridDataSource]=\\\"dataSourceChuanBiKham\\\" [lazyLoadPage]=\\\"true\\\" style=\\\"width: 1px;\\\" (extCheckboxSelection)=\\\"chonBenhNhanCanChuyenPhong($event)\\\"\\n                                                                [pageable]=\\\"true\\\" [pageSize]=\\\"10\\\" [buttonCount]=\\\"1\\\" [widthColumnSTT]=\\\"15\\\" titleColumnSTT=\\\"#\\\" keyCode=\\\"Enter\\\" (extEnterChangePage)=\\\"batDauKham($event)\\\" (extDoubleClick)=\\\"batDauKham($event)\\\" [showStt]=\\\"true\\\" [groups]=\\\"isKhamDoan ? null :groupHangCho\\\">\\n                                                            </app-grid>\\n                                                        </ng-template>\\n                                                    </kendo-panelbar-item>\\n                                                    <!-- <kendo-panelbar-item *ngIf=\\\"!isKhamDoan && !LaChuyenKhoaKhamNhieu\\\" [title]=\\\"'Người bệnh đang làm chỉ định ('+slYeuCauHienTai.DangLamChiDinh+')'\\\" [expanded]=\\\"false\\\" class=\\\"panelbar-item\\\">\\n                                                        <ng-template kendoPanelBarContent>\\n                                                            <app-grid fxFlex=\\\"100%\\\" masterName=\\\"DangLamChiDinh\\\" [autoRefreshDataSource]=\\\"true\\\" [gridColumns]=\\\"gridLamChiDinhColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border cursor-pointer\\\" [allowSortDefault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n                                                                [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\" [lazyLoadPage]=\\\"true\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"true\\\" [pageSize]=\\\"10\\\" [gridDataSource]=\\\"dataSourceLamChiDinh\\\"\\n                                                                keyCode=\\\"Enter\\\" [buttonCount]=\\\"1\\\" [widthColumnSTT]=\\\"15\\\" titleColumnSTT=\\\"#\\\" (extEnterChangePage)=\\\"batDauKham($event)\\\" (extDoubleClick)=\\\"batDauKham($event)\\\" [showStt]=\\\"true\\\" [groups]=\\\"isKhamDoan ? null :groupHangCho\\\">\\n                                                            </app-grid>\\n                                                            <ng-template #doiKetLuanDetailTemplate let-dataItem>\\n                                                                <ul class=\\\"inline\\\">\\n                                                                    <li>Lý do khám:\\n                                                                        <strong>{{dataItem.LyDoKham}}</strong></li>\\n                                                                </ul>\\n                                                                <ng-container *ngIf=\\\"dataItem.YeuCauDichVuKyThuats != null\\\">\\n                                                                    <p style=\\\"text-decoration-line: underline; font-weight: bold;\\\">\\n                                                                        Kết quả</p>\\n                                                                    <div class=\\\"inline\\\">\\n                                                                        <app-checkbox *ngFor=\\\"let item of dataItem.YeuCauDichVuKyThuats\\\" value=\\\"true\\\" id=\\\"ycdvkt{{item.Id}}\\\" [(model)]=\\\"item.TrangThai == yeuCauDichVuKyThuatDaHoanThanh\\\" [disabled]=\\\"true\\\" class=\\\"inline_b py-1\\\" label=\\\"{{item.TenDichVu}}\\\">\\n                                                                        </app-checkbox>\\n                                                                    </div>\\n                                                                </ng-container>\\n                                                            </ng-template>\\n                                                        </ng-template>\\n                                                    </kendo-panelbar-item> -->\\n                                                    <kendo-panelbar-item [title]=\\\"(isKhamDoan ? 'Người bệnh đã khám và đang làm dịch vụ khác' : 'Người bệnh đang đợi kết luận') + '('+slYeuCauHienTai.DangDoiKetLuan+')'\\\" expanded=\\\"true\\\" class=\\\"panelbar-item\\\">\\n                                                        <ng-template kendoPanelBarContent>\\n                                                            <!-- [detailTemplate]=\\\"isKhamDoan ? null : doiKetLuanDetailTemplate\\\" -->\\n                                                            <!-- <app-grid *ngIf=\\\"!LaChuyenKhoaKhamNhieu\\\" fxFlex=\\\"100%\\\" masterName=\\\"DangDoiKetLuan\\\" [autoRefreshDataSource]=\\\"true\\\" [gridColumns]=\\\"gridDoiKetLuanColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border cursor-pointer\\\" [allowSortDefault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n                                                                [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\" [lazyLoadPage]=\\\"true\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"true\\\" [pageSize]=\\\"10\\\" [gridDataSource]=\\\"dataSourceDoiKetLuan\\\"\\n                                                                keyCode=\\\"Enter\\\" [buttonCount]=\\\"1\\\" [widthColumnSTT]=\\\"15\\\" titleColumnSTT=\\\"#\\\" (extEnterChangePage)=\\\"batDauKham($event)\\\" (extDoubleClick)=\\\"batDauKham($event)\\\" [showStt]=\\\"true\\\" [groups]=\\\"isKhamDoan ? null : groupHangCho\\\">\\n                                                            </app-grid>\\n                                                            <ng-template #doiKetLuanDetailTemplate let-dataItem>\\n                                                                <ul class=\\\"inline\\\">\\n                                                                    <li>Lý do khám:\\n                                                                        <strong>{{dataItem.LyDoKham}}</strong></li>\\n                                                                </ul>\\n                                                                <ng-container *ngIf=\\\"dataItem.YeuCauDichVuKyThuats != null\\\">\\n                                                                    <p style=\\\"text-decoration-line: underline; font-weight: bold;\\\">\\n                                                                        Kết quả</p>\\n                                                                    <div class=\\\"inline\\\">\\n                                                                        <app-checkbox *ngFor=\\\"let item of dataItem.YeuCauDichVuKyThuats\\\" value=\\\"true\\\" id=\\\"ycdvkt{{item.Id}}\\\" [(model)]=\\\"item.TrangThai == yeuCauDichVuKyThuatDaHoanThanh\\\" [disabled]=\\\"true\\\" class=\\\"inline_b py-1\\\" label=\\\"{{item.TenDichVu}}\\\">\\n                                                                        </app-checkbox>\\n                                                                    </div>\\n                                                                </ng-container>\\n                                                            </ng-template> -->\\n\\n                                                            <!-- áp dụng hàng chờ mới cho màn hình khám bệnh: chỉ có hàng chờ khám và kết luận -->\\n                                                            <app-grid fxFlex=\\\"100%\\\" masterName=\\\"DangDoiKetLuan\\\" [autoRefreshDataSource]=\\\"true\\\" [gridColumns]=\\\"gridDoiKetLuanKhoaKhamNhieuColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border cursor-pointer\\\" [allowSortDefault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n                                                                [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\" [lazyLoadPage]=\\\"true\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"true\\\" [pageSize]=\\\"10\\\" [gridDataSource]=\\\"dataSourceDoiKetLuan\\\"\\n                                                                keyCode=\\\"Enter\\\" [buttonCount]=\\\"1\\\" [widthColumnSTT]=\\\"15\\\" titleColumnSTT=\\\"#\\\" (extEnterChangePage)=\\\"batDauKham($event)\\\" (extDoubleClick)=\\\"batDauKham($event)\\\" [showStt]=\\\"true\\\" [groups]=\\\"isKhamDoan ? null : groupHangCho\\\">\\n                                                            </app-grid>\\n                                                        </ng-template>\\n                                                    </kendo-panelbar-item>\\n                                                </kendo-panelbar>\\n                                            </div>\\n                                        </kendo-splitter-pane>\\n\\n                                        <kendo-splitter-pane style=\\\"overflow:initial;\\\">\\n                                            <div *ngIf=\\\"!LaChuyenKhoaKhamNhieu\\\" style=\\\"display: flow-root;\\\" class=\\\"ml-4 py-3 border-b\\\">\\n                                                <h3 class=\\\"title blue\\\" style=\\\"float: left;\\\">NGƯỜI BỆNH ĐANG KHÁM</h3>\\n                                                <h3 *ngIf=\\\"benhNhanHienTai.Id != 0 && benhNhanHienTai.YeuCauKhamBenh.LaThamVan\\\" class=\\\"title red\\\" style=\\\"float: right;\\\">DỊCH VỤ KHÁM THAM VẤN</h3>\\n                                            </div>\\n                                            <ng-container *ngIf=\\\"benhNhanHienTai.Id == 0\\\">\\n                                                <p class=\\\"ml-4 mt-2\\\">Chưa chọn người bệnh</p>\\n                                            </ng-container>\\n                                            <ng-container *ngIf=\\\"benhNhanHienTai.Id != 0\\\">\\n                                                <div class=\\\"row ml-1 mb-2 {{isKhamDoan ? 'sticky-div' : ''}}\\\">\\n                                                    <!-- style=\\\"background: #e1f5fe;\\\"  -->\\n                                                    <fieldset fxFlex=\\\"100%\\\" \\n                                                        class=\\\"{{(benhNhanHienTai.YeuCauTiepNhan != null && benhNhanHienTai.YeuCauTiepNhan.LaCapCuu == true) ? 'bg-tthc-lightpink' : 'bg-tthc-lightblue'}}\\\">\\n                                                        <legend>Thông tin hành chính</legend>\\n                                                        <div fxFlex=\\\"100%\\\" *ngIf=\\\"benhNhanHienTai.YeuCauTiepNhan != null\\\">\\n                                                            <ul *ngIf=\\\"!LaChuyenKhoaKhamNhieu\\\" class=\\\"inline\\\">\\n                                                                <li>Mã TN:\\n                                                                    <strong>{{benhNhanHienTai.YeuCauTiepNhan.MaYeuCauTiepNhan}}</strong>\\n                                                                </li>\\n                                                                <li>Mã NB:\\n                                                                    <strong>{{benhNhanHienTai.YeuCauTiepNhan.BenhNhan.MaBN}}</strong>\\n                                                                </li>\\n                                                                <li>Họ tên:\\n                                                                    <strong>{{benhNhanHienTai.YeuCauTiepNhan.HoTen}}</strong>\\n                                                                </li>\\n                                                                <li>Giới tính:\\n                                                                    <strong>{{benhNhanHienTai.YeuCauTiepNhan.TenGioiTinh}}</strong>\\n                                                                </li>\\n                                                                <ng-container *ngIf=\\\"!isKhamDoan\\\">\\n                                                                    <li *ngIf=\\\"!isDuoi6Tuoi\\\">Tuổi:\\n                                                                        <strong>{{benhNhanHienTai.YeuCauTiepNhan.Tuoi}}</strong>\\n                                                                    </li>\\n                                                                    <li *ngIf=\\\"isDuoi6Tuoi\\\">Tuổi:\\n                                                                        <strong>{{Duoi6TuoiDisplay}}</strong>\\n                                                                    </li>\\n                                                                </ng-container>\\n                                                                <ng-container *ngIf=\\\"isKhamDoan\\\">\\n                                                                    <li>Năm sinh:\\n                                                                        <strong>{{benhNhanHienTai.YeuCauTiepNhan.NamSinh}}</strong>\\n                                                                </ng-container>\\n\\n                                                                <li>SĐT:\\n                                                                    <strong>{{benhNhanHienTai.YeuCauTiepNhan.SoDienThoaiDisplay}}</strong>\\n                                                                </li>\\n                                                                <li>Dân tộc:\\n                                                                    <strong>{{benhNhanHienTai.YeuCauTiepNhan.DanToc == null ? null : benhNhanHienTai.YeuCauTiepNhan.DanToc.Ten}}</strong>\\n                                                                </li>\\n                                                                <li>Địa chỉ:\\n                                                                    <strong>{{benhNhanHienTai.YeuCauTiepNhan.DiaChiDisplay}}</strong>\\n                                                                </li>\\n                                                                <li>Nghề nghiệp:\\n                                                                    <strong>{{benhNhanHienTai.YeuCauTiepNhan.NgheNghiep == null ? null : benhNhanHienTai.YeuCauTiepNhan.NgheNghiep.Ten}}</strong>\\n                                                                </li>\\n                                                                <ng-container *ngIf=\\\"!isKhamDoan\\\">\\n                                                                    <li>Tuyến khám: <strong style=\\\"color: green;\\\">{{benhNhanHienTai.YeuCauTiepNhan.TenLyDoVaoVien}}</strong>\\n                                                                    </li>\\n                                                                    <li>Số BHYT: <strong>{{benhNhanHienTai.YeuCauTiepNhan.BHYTMaSoThe}}</strong>\\n                                                                    </li>\\n                                                                    <li>Mức hưởng: <strong style=\\\"color: blue;\\\">{{benhNhanHienTai.YeuCauTiepNhan.BHYTMucHuong}}%</strong>\\n                                                                    </li>\\n                                                                    <li>Ngày hiệu lực: <strong\\n                                                                            [style.color]=\\\"benhNhanHienTai.YeuCauTiepNhan.IsBHYTHetHan ? 'red' : ''\\\">{{benhNhanHienTai.YeuCauTiepNhan.BHYTThoiGianHieuLucDisplay}}</strong>\\n                                                                    </li>\\n                                                                \\n                                                                    <li>Lý do TN:\\n                                                                        <strong>{{benhNhanHienTai.YeuCauTiepNhan.TenLyDoTiepNhan}}</strong>\\n                                                                    </li>\\n                                                                    <li>Ngày TN:\\n                                                                        <strong>{{benhNhanHienTai.YeuCauTiepNhan.ThoiDiemTiepNhanDisplay}}</strong>\\n                                                                    </li>\\n                                                                    <li *ngIf=\\\"benhNhanHienTai.YeuCauTiepNhan.TrangThaiTiepNhan == yeuCauTiepNhanDangThucHien\\\">\\n                                                                        <a style=\\\"text-decoration: underline; color: blue; float:right;\\\" (click)=\\\"capNhatDoiTuong()\\\"><i>Cập nhật đối tượng</i></a>\\n                                                                    </li>\\n                                                                </ng-container>\\n                                                                <ng-container *ngIf=\\\"isKhamDoan\\\">\\n                                                                    <li>Công ty:\\n                                                                        <strong style=\\\"color: red;\\\">{{benhNhanHienTai.YeuCauTiepNhan.TenCongTy}}</strong>\\n                                                                    </li>\\n                                                                </ng-container>\\n                                                            </ul>\\n\\n                                                            <ul *ngIf=\\\"LaChuyenKhoaKhamNhieu\\\" class=\\\"inline\\\">\\n                                                                <li>Mã TN:\\n                                                                    <strong>{{benhNhanHienTai.YeuCauTiepNhan.MaYeuCauTiepNhan}}</strong>\\n                                                                </li>\\n                                                                <li>Họ tên:\\n                                                                    <strong>{{benhNhanHienTai.YeuCauTiepNhan.HoTen}}</strong>\\n                                                                </li>\\n                                                                <li>Giới tính:\\n                                                                    <strong>{{benhNhanHienTai.YeuCauTiepNhan.TenGioiTinh}}</strong>\\n                                                                </li>\\n                                                                <li>Ngày sinh:\\n                                                                    <strong>{{benhNhanHienTai.YeuCauTiepNhan.NgaySinhDisplay}}</strong>\\n                                                                </li>\\n                                                                <li>Mức hưởng: <strong style=\\\"color: blue;\\\">{{benhNhanHienTai.YeuCauTiepNhan.BHYTMucHuong}}%</strong>\\n                                                                </li>\\n\\n                                                                <li style=\\\"margin-right: -20px; float:right;\\\">\\n                                                                    <a style=\\\"text-decoration: underline; color: blue;\\\" (click)=\\\"showChiTietHanhChinh = !showChiTietHanhChinh\\\">\\n                                                                        <i>{{showChiTietHanhChinh ? 'Ẩn chi tiết' : 'Xem chi tiết'}}</i>\\n                                                                    </a>\\n                                                                </li>\\n                                                            </ul>\\n                                                            <ng-container *ngIf=\\\"LaChuyenKhoaKhamNhieu && showChiTietHanhChinh\\\">\\n                                                                <div style=\\\"width:100%\\\"></div>\\n                                                                <ul class=\\\"inline\\\">\\n                                                                    <li>Mã NB:\\n                                                                        <strong>{{benhNhanHienTai.YeuCauTiepNhan.BenhNhan.MaBN}}</strong>\\n                                                                    </li>\\n                                                            \\n                                                                    <li>SĐT:\\n                                                                        <strong>{{benhNhanHienTai.YeuCauTiepNhan.SoDienThoaiDisplay}}</strong>\\n                                                                    </li>\\n                                                                    <li>Dân tộc:\\n                                                                        <strong>{{benhNhanHienTai.YeuCauTiepNhan.DanToc == null ? null :\\n                                                                            benhNhanHienTai.YeuCauTiepNhan.DanToc.Ten}}</strong>\\n                                                                    </li>\\n                                                                    <li>Địa chỉ:\\n                                                                        <strong>{{benhNhanHienTai.YeuCauTiepNhan.DiaChiDisplay}}</strong>\\n                                                                    </li>\\n                                                                    <li>Nghề nghiệp:\\n                                                                        <strong>{{benhNhanHienTai.YeuCauTiepNhan.NgheNghiep == null ? null :\\n                                                                            benhNhanHienTai.YeuCauTiepNhan.NgheNghiep.Ten}}</strong>\\n                                                                    </li>\\n                                                                    <li>Tuyến khám: <strong style=\\\"color: green;\\\">{{benhNhanHienTai.YeuCauTiepNhan.TenLyDoVaoVien}}</strong>\\n                                                                    </li>\\n                                                                    <li>Số BHYT: <strong>{{benhNhanHienTai.YeuCauTiepNhan.BHYTMaSoThe}}</strong>\\n                                                                    </li>\\n                                                            \\n                                                                    <li>Ngày hiệu lực: <strong\\n                                                                            [style.color]=\\\"benhNhanHienTai.YeuCauTiepNhan.IsBHYTHetHan ? 'red' : ''\\\">{{benhNhanHienTai.YeuCauTiepNhan.BHYTThoiGianHieuLucDisplay}}</strong>\\n                                                                    </li>\\n                                                            \\n                                                                    <li>Lý do TN:\\n                                                                        <strong>{{benhNhanHienTai.YeuCauTiepNhan.TenLyDoTiepNhan}}</strong>\\n                                                                    </li>\\n                                                                    <li>Ngày TN:\\n                                                                        <strong>{{benhNhanHienTai.YeuCauTiepNhan.ThoiDiemTiepNhanDisplay}}</strong>\\n                                                                    </li>\\n                                                                    <li *ngIf=\\\"benhNhanHienTai.YeuCauTiepNhan.TrangThaiTiepNhan == yeuCauTiepNhanDangThucHien\\\">\\n                                                                        <a style=\\\"text-decoration: underline; color: blue; float:right;\\\" (click)=\\\"capNhatDoiTuong()\\\"><i>Cập nhật đối tượng</i></a>\\n                                                                    </li>\\n                                                                </ul>\\n                                                            </ng-container>\\n                                                        </div>\\n                                                    </fieldset>\\n                                                </div>\\n\\n                                                <div class=\\\"row ml-1 mb-2\\\">\\n                                                    <fieldset *ngIf=\\\"benhNhanHienTai.GoiDichVus != null && benhNhanHienTai.GoiDichVus.length > 0 && (!LaChuyenKhoaKhamNhieu || (LaChuyenKhoaKhamNhieu && showChiTietHanhChinh))\\\" fxFlex=\\\"100%\\\">\\n                                                        <legend>Thông tin tạm ứng gói marketing</legend>\\n                                                        <div fxFlex=\\\"100%\\\">\\n                                                            <ng-container *ngFor=\\\"let goiDichVu of benhNhanHienTai.GoiDichVus\\\">\\n                                                                <p class=\\\"mb-3\\\"><strong>{{goiDichVu.TenGoiDichVu}}: \\n                                                                </strong> TẠM ỨNG: <strong class=\\\"green\\\">{{goiDichVu.BenhNhanDaThanhToanDisplay}}</strong> \\n                                                                - CÒN LẠI: <strong class=\\\"red\\\">{{goiDichVu.ConLaiDisplay}}</strong></p>                                                           \\n                                                            </ng-container>\\n                                                        </div>\\n                                                    </fieldset> \\n                                                </div>\\n                                                <div class=\\\"row ml-1 temp d-inline\\\">\\n                                                    <kendo-tabstrip fxFlex=\\\"100%\\\" id=\\\"card\\\" class=\\\"content-has-border tabstrip-pad {{isKhamDoan ? 'sticky-kendotab-kham-doan-item' : 'sticky-kendotab-item'}}\\\" (tabSelect)=\\\"chuyenDen('card', $event, isKhamDoan)\\\">\\n                                                        <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectTabKhambenh.selectedTabKhamBenh\\\">\\n                                                            <ng-template kendoTabTitle>\\n                                                                <div kendoTooltip title=\\\"Phím tắt: Ctrl + F1\\\">\\n                                                                    KHÁM BỆNH\\n                                                                </div>\\n                                                            </ng-template>\\n                                                            <ng-template kendoTabContent>\\n                                                                <div class=\\\"p-2\\\">\\n                                                                    <app-lan-kham-hien-tai-kham-benh [data]=\\\"benhNhanHienTai\\\" [tenKP]=\\\"tenKhoaPhong\\\" \\n                                                                        [phongKhamId]=\\\"phongKhamHienTai.KeyId\\\" [templateKhamCacCoQuanObj]=\\\"benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj\\\"\\n                                                                        [isKhamDoan]=\\\"isKhamDoan\\\" [laChuyenKhoaKhamNhieu]=\\\"LaChuyenKhoaKhamNhieu\\\"\\n                                                                        [templateDichVuKhamSucKhoes]=\\\"benhNhanHienTai.YeuCauKhamBenh.TemplateDichVuKhamSucKhoes\\\"\\n                                                                        [documentType]=\\\"documentType\\\">\\n                                                                    </app-lan-kham-hien-tai-kham-benh>\\n\\n\\n                                                                    <div class=\\\"sticky-button-action py-3 text-right\\\" kendoTooltip>\\n                                                                        <button type=\\\"button\\\" mat-button class=\\\"mr-2\\\" *ngIf=\\\"isKhamDoan ||benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh\\\" (click)=\\\"cancelChangeData()\\\" title=\\\"Phím tắt: Esc\\\">Hủy</button>\\n                                                                        <button type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button *ngIf=\\\"isKhamDoan || benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh\\\" (click)=\\\"saveChangeData(null, true)\\\" title=\\\"Phím tắt: Ctrl + S\\\">Lưu</button>\\n                                                                        <button type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"chuyenPhongKhamBenhNhanDangChon(benhNhanHienTai.Id)\\\">Chuyển phòng khám</button>\\n                                                                        <!-- *ngIf=\\\"benhNhanHienTai.YeuCauKhamBenh.TrangThai == 1\\\"  -->\\n                                                                        <ng-container *ngIf=\\\"!isKhamDoan\\\">\\n                                                                            <!-- <button type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"xuLyChuyenDichVuKham()\\\">Chuyển dịch vụ khám</button> -->\\n\\n                                                                            <button type=\\\"button\\\" class=\\\"mr-2 float-left\\\" mat-button (click)=\\\"bnVang(benhNhanHienTai)\\\" mat-raised-button color=\\\"warn\\\">BN vắng</button>\\n                                                                            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"xuLyQuayLaiChuaKham()\\\" class=\\\"float-left\\\">Quay lại chưa khám</button>\\n                                                                        </ng-container>\\n                                                                        <!-- <button type=\\\"button\\\"\\n                                                                            *ngIf=\\\"benhNhanHienTai.YeuCauKhamBenh.TrangThai != yeuCauKhamBenhDangKetLuan\\\"\\n                                                                            color=\\\"primary\\\" mat-raised-button mat-button\\n                                                                            class=\\\"mr-2\\\" (click)=\\\"bnTiepTheo()\\\">BN tiếp\\n                                                                            theo</button> -->\\n\\n                                                                        <ng-container *ngIf=\\\"isKhamDoan\\\">\\n                                                                            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"xuLyQuayLaiChuaKhamKhamDoanTheoPhong()\\\" class=\\\"float-left\\\">Quay lại chưa khám</button>\\n\\n                                                                            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" \\n                                                                                [disabled]=\\\"benhNhanHienTai.YeuCauKhamBenh.CoDieuTriNgoaiTru == true\\\" \\n                                                                                (click)=\\\"kiemTraDichVuChuaThucHien(true)\\\" title=\\\"Phím tắt: Ctrl + H\\\">Lưu và Hoàn thành khám</button>\\n                                                                                <!-- luuVaHoanThanhKhamDoan() -->\\n                                                                        </ng-container>\\n                                                                    </div>\\n                                                                </div>\\n\\n                                                            </ng-template>\\n                                                        </kendo-tabstrip-tab>\\n                                                        <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectTabKhambenh.selectedTabLichSuKham\\\">\\n                                                            <ng-template kendoTabTitle>\\n                                                                <div kendoTooltip title=\\\"Phím tắt: Ctrl + F2\\\">\\n                                                                    LỊCH SỬ KHÁM \\n                                                                </div>\\n                                                            </ng-template>\\n                                                            \\n                                                            <ng-template kendoTabContent>\\n                                                                <app-kham-benh-lich-su-kham-list [BenhNhan]=\\\"benhNhanHienTai.YeuCauTiepNhan.BenhNhanId\\\" [tenKP]=\\\"tenKhoaPhong\\\" \\n                                                                    [YeuCauTiepNhanId]=\\\"benhNhanHienTai.YeuCauTiepNhanId\\\" [documentType]=\\\"documentType\\\">\\n                                                                </app-kham-benh-lich-su-kham-list>\\n                                                            </ng-template>\\n                                                        </kendo-tabstrip-tab>\\n\\n                                                        <!-- tab chỉ định -->\\n                                                        <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectTabKhambenh.selectedTabChiDinh\\\">\\n                                                            <ng-template kendoTabTitle>\\n                                                                <div kendoTooltip title=\\\"Phím tắt: Ctrl + F3\\\">\\n                                                                    CHỈ ĐỊNH\\n                                                                </div>\\n                                                            </ng-template>\\n                                                            <ng-template kendoTabContent>\\n                                                                <div class=\\\"m-2\\\">\\n                                                                    <app-lan-kham-hien-tai-kham-benh-chi-dinh [data]=\\\"benhNhanHienTai\\\" [templateKp]=\\\"templateKhoaPhong\\\" [tenKp]=\\\"tenKhoaPhong\\\" \\n                                                                        [isKhamDoan]=\\\"isKhamDoan\\\" [hinhThucKhamBenh]=\\\"hinhThucKham\\\" [documentType]=\\\"documentType\\\">\\n                                                                    </app-lan-kham-hien-tai-kham-benh-chi-dinh>\\n                                                                </div>\\n                                                            </ng-template>\\n                                                        </kendo-tabstrip-tab>\\n\\n                                                        <!-- tab kết quả cls -->\\n                                                        <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectTabKhambenh.selectedTabKetQuaCLS\\\">\\n                                                            <ng-template kendoTabTitle>\\n                                                                <div kendoTooltip title=\\\"Phím tắt: Ctrl + F5\\\">\\n                                                                    KQ CLS\\n                                                                </div>\\n                                                            </ng-template>\\n                                                            <ng-template kendoTabContent>\\n                                                                <div class=\\\"mt-2 ml-2 mr-2\\\">\\n                                                                    <app-lan-kham-hien-tai-ket-qua-cls  [YeuCauTiepNhanId]=\\\"benhNhanHienTai.YeuCauTiepNhanId\\\"\\n                                                                        [documentType]=\\\"documentType\\\">\\n                                                                    </app-lan-kham-hien-tai-ket-qua-cls>\\n                                                                </div>\\n                                                            </ng-template>\\n                                                        </kendo-tabstrip-tab>\\n\\n\\n                                                        <kendo-tabstrip-tab *ngIf=\\\"!isKhamDoan\\\" [selected]=\\\"lstStatusSelectTabKhambenh.selectedTabChanDoan\\\">\\n                                                            <ng-template kendoTabTitle>\\n                                                                <div kendoTooltip title=\\\"Phím tắt: Ctrl + F6\\\">\\n                                                                    CHẨN ĐOÁN\\n                                                                </div>\\n                                                            </ng-template>\\n                                                            <ng-template kendoTabContent>\\n                                                                <div class=\\\"p-2\\\">\\n                                                                    <app-lan-kham-hien-tai-ket-luan [data]=\\\"benhNhanHienTai\\\" [dataYeuCauKhamBenh]=\\\"benhNhanHienTai.YeuCauKhamBenh\\\" \\n                                                                        [dataICDKhacs]=\\\"benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs\\\" [dataYeuCauKhamBenhPrevious]=\\\"yeuCauKhamBenhPrevious\\\" \\n                                                                        [validationErrors]=\\\"validationKetLuanErrors\\\" [documentType]=\\\"documentType\\\">\\n                                                                    </app-lan-kham-hien-tai-ket-luan>\\n\\n                                                                    <div class=\\\"sticky-button-action py-3 text-right\\\" kendoTooltip>\\n                                                                        <button (click)=\\\"huy()\\\" type=\\\"button\\\" *ngIf=\\\"this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1 mt-2\\\" title=\\\"Phím tắt: Esc\\\">Hủy</button>\\n                                                                        <button (click)=\\\"luuKetLuan()\\\" type=\\\"button\\\" *ngIf=\\\"this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" title=\\\"Phím tắt: Ctrl + S\\\">Lưu</button>\\n                                                                        \\n                                                                        <button type=\\\"button\\\" color=\\\"primary\\\" *ngIf=\\\"this.benhNhanHienTai.YeuCauKhamBenh.DichVuKhamBenhBenhVienId == cauHinhDichVuKhamThai\\\" mat-raised-button mat-button class=\\\"mr-1\\\" (click)=\\\"inGiayNghiDuongThai()\\\">In giấy nghỉ dưỡng thai\\n                                                                        </button>\\n\\n                                                                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" [disabled]=\\\"benhNhanHienTai.YeuCauKhamBenh.CoDieuTriNgoaiTru == true\\\" (click)=\\\"kiemTraDichVuChuaThucHien()\\\" title=\\\"Phím tắt: Ctrl + H\\\">Lưu và Hoàn thành\\n                                                                            khám</button>\\n                                                                            <!-- hoanThanhKham() -->\\n\\n                                                                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" (click)=\\\"inPhieuKham()\\\">In phiếu khám\\n                                                                            bệnh</button>\\n\\n                                                                        <button *ngIf=\\\"this.benhNhanHienTai.YeuCauKhamBenh.CoNhapVien\\\" type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" (click)=\\\"inPhieuKhamVaoVien()\\\">In phiếu khám\\n                                                                                bệnh vào viện</button>\\n                                                                        <button type=\\\"button\\\" color=\\\"primary\\\" *ngIf=\\\"this.benhNhanHienTai.YeuCauTiepNhan.CoBHYT == true\\\" mat-raised-button mat-button class=\\\"mr-1\\\" (click)=\\\"inGiayNghiHuongBHXH()\\\">In giấy nghỉ\\n                                                                            hưởng BHXH</button>\\n                                                                           \\n                                                                    </div>\\n                                                                    <!-- <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"mt-2 border-t\\\">\\n                                                                            <div class=\\\"text-right\\\" fxFlex=\\\"100%\\\">\\n                                                                                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n                                                                                    (click)=\\\"hoanThanhKham()\\\">Lưu và Hoàn thành khám</button>\\n                                                                            </div>\\n                                                                        </div> -->\\n\\n                                                                    <!-- <div class=\\\"my-2 border-t\\\">\\n                                                                            <div fxFlex=\\\"20%\\\">\\n                                                                                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n                                                                                    (click)=\\\"hoanThanhKham()\\\">Hoàn\\n                                                                                    thành khám</button>\\n                                                                            </div>\\n                                                                            <div class=\\\"text-right\\\" fxFlex=\\\"80%\\\">\\n                                                                                <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" mat-button class=\\\"mr-1 mt-2\\\">Nhập\\n                                                                                    viện</button>\\n                                                                                <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" mat-button class=\\\"mr-1 mt-2\\\">Chuyển\\n                                                                                    viện</button>\\n                                                                            </div>\\n                                                                        </div> -->\\n                                                                </div>\\n                                                            </ng-template>\\n                                                        </kendo-tabstrip-tab>\\n\\n                                                        <!-- tab tường trình pttt -->\\n                                                        <!-- <kendo-tabstrip-tab *ngIf=\\\"showTuongTrinh\\\"\\n                                                            [title]=\\\"'TƯỜNG TRÌNH PT/TT'\\\"\\n                                                            [selected]=\\\"lstStatusSelectTabKhambenh.selectedTabTuongTrinhPttt\\\">\\n                                                            <ng-template kendoTabContent>\\n                                                                <div class=\\\"p-2\\\">\\n                                                                    <app-phau-thuat-thu-thuat-tuong-trinh\\n                                                                        [thongTinBenhNhan]=\\\"benhNhanHienTai\\\">\\n                                                                    </app-phau-thuat-thu-thuat-tuong-trinh>\\n                                                                    <div *ngIf=\\\"benhNhanHienTai.YeuCauKhamBenh.IsChangePhauThuat\\\"\\n                                                                        class=\\\"sticky-button-action py-3 text-right\\\">\\n                                                                        <button type=\\\"button\\\" mat-flat-button mat-button\\n                                                                            class=\\\"mr-1\\\"\\n                                                                            (click)=\\\"onResetTuongTrinh()\\\">Hủy</button>\\n\\n                                                                        <button type=\\\"button\\\" color=\\\"primary\\\"\\n                                                                            mat-raised-button mat-button class=\\\"mr-1\\\"\\n                                                                            (click)=\\\"onSaveTuongTrinh()\\\">Lưu</button>\\n                                                                    </div>\\n                                                                </div>\\n                                                            </ng-template>\\n                                                        </kendo-tabstrip-tab> -->\\n\\n                                                        <!-- tab kết luận khám đoàn -->\\n                                                        <kendo-tabstrip-tab *ngIf=\\\"isKhamDoan\\\" [selected]=\\\"lstStatusSelectTabKhambenh.selectedTabTuVanThuocKhamDoan\\\">\\n                                                            <ng-template kendoTabTitle>\\n                                                                <div kendoTooltip title=\\\"Phím tắt: Ctrl + F6\\\">\\n                                                                    TƯ VẤN THUỐC\\n                                                                </div>\\n                                                            </ng-template>\\n                                                            <ng-template kendoTabContent>\\n                                                                <div class=\\\"p-2\\\">\\n                                                                    <app-lan-kham-hien-tai-tu-van-thuoc-kham-doan [YeuCauTiepNhanId]=\\\"benhNhanHienTai.YeuCauTiepNhanId\\\"\\n                                                                        [YeuCauKhamBenhId]=\\\"benhNhanHienTai.YeuCauKhamBenhId\\\" [documentType]=\\\"documentType\\\">\\n                                                                    </app-lan-kham-hien-tai-tu-van-thuoc-kham-doan>\\n                                                                    <!-- <div class=\\\"sticky-button-action py-3 text-right\\\" kendoTooltip>\\n                                                                        <button type=\\\"button\\\" mat-button class=\\\"float-left\\\">In phiếu</button>\\n                                                                        <button type=\\\"button\\\" mat-button class=\\\"mr-1\\\">In toa thuốc</button>\\n                                                                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" \\n                                                                            [disabled]=\\\"benhNhanHienTai.YeuCauKhamBenh.CoDieuTriNgoaiTru == true\\\" title=\\\"Phím tắt: Ctrl + H\\\" (click)=\\\"luuVaHoanThanhKhamDoan()\\\">\\n                                                                            Lưu và Hoàn thành khám\\n                                                                        </button>\\n                                                                    </div> -->\\n                                                                </div>\\n                                                            </ng-template>\\n                                                        </kendo-tabstrip-tab>\\n                                                        <!-- số dư tạm ứng -->\\n                                                        <kendo-tabstrip-tab [disabled]=\\\"true\\\" cssClass=\\\"tab-right-po\\\">\\n                                                            <ng-template kendoTabTitle>\\n                                                                Tạm ứng:\\n                                                                <b>{{benhNhanHienTai.YeuCauKhamBenh.SoDuTaiKhoanDisplay}}</b>\\n                                                                -\\n                                                                Còn lại: <b>{{benhNhanHienTai.YeuCauKhamBenh.SoDuTaiKhoanConLaiDisplay}}</b>\\n                                                            </ng-template>\\n                                                            <ng-template kendoTabContent>\\n                                                            </ng-template>\\n                                                        </kendo-tabstrip-tab>\\n                                                    </kendo-tabstrip>\\n                                                </div>\\n                                            </ng-container>\\n                                        </kendo-splitter-pane>\\n                                    </kendo-splitter>\\n                                </ng-template>\\n                            </kendo-tabstrip-tab>\\n\\n                            <!-- tab danh sách đã khám bệnh -->\\n                            <kendo-tabstrip-tab [title]=\\\"'Danh sách hoàn thành khám'\\\">\\n                                <ng-template kendoTabContent>\\n                                    <app-danh-sach-da-kham-list [phongKham]=\\\"phongKhamHienTai.KeyId\\\" [documentType]=\\\"documentType\\\">\\n                                    </app-danh-sach-da-kham-list>\\n                                </ng-template>\\n                            </kendo-tabstrip-tab>\\n\\n                            <kendo-tabstrip-tab *ngIf=\\\"LaChuyenKhoaKhamNhieu\\\" cssClass=\\\"disable-select-tab\\\" [disabled]=\\\"true\\\">\\n                                <ng-template kendoTabTitle>\\n                                    <div kendoTooltip>\\n                                        <h3 class=\\\"title blue\\\">NGƯỜI BỆNH ĐANG KHÁM \\n                                            <span *ngIf=\\\"benhNhanHienTai.Id != 0 && benhNhanHienTai.YeuCauKhamBenh.LaThamVan\\\" class=\\\"title red\\\"> (DỊCH VỤ KHÁM THAM VẤN)</span>\\n                                        </h3>\\n                                    </div>\\n                                </ng-template>\\n                            </kendo-tabstrip-tab>\\n\\n                            <!-- tab hiện button chuyển loại khám -->\\n                            <kendo-tabstrip-tab *ngIf=\\\"hinhThucKham == loginNoiVien\\\" cssClass=\\\"tab-right-po\\\">\\n                                <ng-template kendoTabTitle>\\n                                    <!-- *ngIf=\\\"!isLoadingKhamDoan\\\" -->\\n                                    <button  type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" (click)=\\\"chuyenLoaiKham()\\\">\\n                                        {{isKhamDoan ? 'Chuyển Khám bệnh' : 'Khám sức khỏe'}}\\n                                    </button>\\n                                    <!-- <button *ngIf=\\\"isLoadingKhamDoan\\\" class=\\\"btn btn-raised btn-raised btn-primary mb-0\\\"><img src=\\\"/assets/img/loader.gif\\\"\\n                                        alt=\\\"Loading\\\" /></button> -->\\n                                </ng-template>\\n                                <ng-template kendoTabContent>\\n                                </ng-template>\\n                            </kendo-tabstrip-tab>\\n                        </kendo-tabstrip>\\n                        <ng-container *ngIf=\\\"phongKhamHienTai.KeyId == null || phongKhamHienTai.KeyId == 0\\\">\\n                            Chưa chọn phòng khám\\n                        </ng-container>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </vex-page-layout-content>\\n</vex-page-layout>\\n\\n<ng-template #maTNTemplate let-dataItem>\\n    <a (click)=\\\"batDauKham(dataItem)\\\">\\n        <p kendoTooltip class=\\\"reverse-ellipsis l\\\" title=\\\"{{dataItem.MaYeuCauTiepNhan}}\\\">{{dataItem.MaYeuCauTiepNhan}}\\n        </p>\\n    </a>\\n</ng-template>\\n<ng-template #hoTenTemplate let-dataItem>\\n    <p (click)=\\\"batDauKham(dataItem)\\\" style=\\\"position: relative;\\\">{{dataItem.HoTen}}<img *ngIf=\\\"dataItem.CoBaoHiem\\\" src=\\\"assets/img/logoBHXH.png\\\" class=\\\"icon-bhyt\\\" /></p>\\n</ng-template>\\n<!-- hàng đợi chung -->\\n<ng-template #maTNHangDoiChungTemplate let-dataItem>\\n    <a (click)=\\\"xuLyBatDauKhamNguoiBenhTuHangDoiChung(dataItem)\\\">\\n        <p kendoTooltip class=\\\"reverse-ellipsis l\\\" title=\\\"{{dataItem.MaYeuCauTiepNhan}}\\\">{{dataItem.MaYeuCauTiepNhan}}\\n        </p>\\n    </a>\\n</ng-template>\\n<ng-template #hoTenHangDoiChungTemplate let-dataItem>\\n    <p (click)=\\\"xuLyBatDauKhamNguoiBenhTuHangDoiChung(dataItem)\\\" style=\\\"position: relative;\\\">{{dataItem.HoTen}}<img *ngIf=\\\"dataItem.CoBaoHiem\\\" src=\\\"assets/img/logoBHXH.png\\\" class=\\\"icon-bhyt\\\" /></p>\\n</ng-template>\\n\\n<ng-template #maTNHangDoiChungKetLuanTemplate let-dataItem>\\n    <a (click)=\\\"xuLyKetLuanNguoiBenhTuHangDoiChung(dataItem)\\\">\\n        <p kendoTooltip class=\\\"reverse-ellipsis l\\\" title=\\\"{{dataItem.MaYeuCauTiepNhan}}\\\">{{dataItem.MaYeuCauTiepNhan}}\\n        </p>\\n    </a>\\n</ng-template>\\n<ng-template #hoTenHangDoiChungKetLuanTemplate let-dataItem>\\n    <p (click)=\\\"xuLyKetLuanNguoiBenhTuHangDoiChung(dataItem)\\\" style=\\\"position: relative;\\\">{{dataItem.HoTen}}<img *ngIf=\\\"dataItem.CoBaoHiem\\\" src=\\\"assets/img/logoBHXH.png\\\" class=\\\"icon-bhyt\\\" /></p>\\n</ng-template>\\n<!-- END hàng đợi chung END -->\\n<ng-template #tienTrinhTemplate let-dataItem>\\n    <p kendoTooltip title=\\\"{{dataItem.TienTrinhKhamSucKhoe}}\\\" class=\\\"reverse-ellipsis r\\\">\\n        <label [style.color]=\\\"dataItem.IsKhamDuDichVuKhamSucKhoe ? 'green' : 'orange'\\\">{{dataItem.DichVuKhamDaThucHien}}</label>/{{dataItem.TongDichVuKham}}\\n    </p>\\n</ng-template>\\n\\n<ng-template #ngayKhamBenhGroupHeaderTemplate let-value=\\\"value\\\">\\n    <div class=\\\"text-left\\\" kendoTooltip>\\n        <strong>{{value | date:'dd/MM/yyyy'}}</strong>\\n        <button *ngIf=\\\"kiemTraNgayCoBenhNhanChonChuyenPhong(value)\\\" type=\\\"button\\\" title=\\\"Chuyển phòng khám\\\" color=\\\"primary\\\" mat-stroked-button mat-button\\n                class=\\\"icon-color-button ml-1\\\" (click)=\\\"chuyenPhongKhamBenhNhanDangChon()\\\">\\n            <mat-icon [icIcon]=\\\"icSwap\\\"></mat-icon>\\n        </button>\\n    </div>\\n</ng-template>\\n\\n\\n<!-- action chuẩn bị khám -->\\n<ng-template #chuanBiKhamActionTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <div class=\\\"text-center\\\" kendoTooltip>\\n        <button type=\\\"button\\\" title=\\\"Bắt đầu khám\\\" class=\\\"icon-color-button\\\" (click)=\\\"batDauKham(dataItem)\\\">\\n            <mat-icon [icIcon]=\\\"icPlay\\\"></mat-icon>\\n        </button>\\n        <button type=\\\"button\\\" title=\\\"BN vắng\\\" class=\\\"icon-color-button\\\" (click)=\\\"bnVang(dataItem)\\\" color=\\\"warn\\\" mat-raised-button>\\n            <mat-icon [icIcon]=\\\"icCancel\\\"></mat-icon>\\n        </button>\\n    </div>\\n</ng-template>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div style=\\\"text-transform: uppercase\\\">{{title}}</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"min-height: 150px;\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <ng-container *ngIf=\\\"laThucHienDichVu == true\\\">\\n            <div fxFlex=\\\"100\\\" fxFlex.sm=\\\"100\\\">Bạn có chắc chắn muốn chuyển trạng thái đã thực hiện cho dịch vụ này không?</div>\\n            <div fxFlex=\\\"100\\\" fxFlex.sm=\\\"100\\\">Nếu có hãy nhập thông tin sau: </div>\\n            <app-combobox id=\\\"nguoiThucHien\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\" label=\\\"Người thực hiên\\\" bind=\\\"true\\\"\\n                [(model)]=\\\"yeuCauDichVuKyThuat.NhanVienThucHienId\\\"  [required]=\\\"true\\\" [reloadForGrid]=\\\"true\\\"\\n                url=\\\"YeuCauLinhDuocPham/GetListNhanVien\\\" popupSettings=\\\"null\\\"\\n                [validationerror]=\\\"'NhanVienThucHienId' | validationerror:validationErrors\\\">\\n            </app-combobox>\\n            <app-datetimepicker id=\\\"thoiDiemThucHien\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\" label=\\\"Thời điểm thực hiện\\\" [required]=\\\"true\\\"\\n                [(model)]=\\\"yeuCauDichVuKyThuat.ThoiDiemThucHien\\\"\\n                [validationerror]=\\\"'ThoiDiemThucHien' | validationerror:validationErrors\\\">\\n            </app-datetimepicker>\\n        </ng-container>\\n        <ng-container *ngIf=\\\"laThucHienDichVu == false\\\">\\n            <div fxFlex=\\\"100\\\" fxFlex.sm=\\\"100\\\">Bạn có chắc chắn muốn chuyển trạng thái chưa thực hiện cho dịch vụ này không?</div>\\n        \\n            <app-textarea id=\\\"lyDo\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"1000\\\" label=\\\"Lý do\\\" minHeight=\\\"20\\\"\\n                [(model)]=\\\"yeuCauDichVuKyThuat.LyDoHuyTrangThaiDaThucHien\\\" [required]=\\\"true\\\"\\n                [validationerror]=\\\"'LyDoHuyTrangThaiDaThucHien' | validationerror:validationErrors\\\">\\n            </app-textarea>\\n        </ng-container>\\n        \\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"null\\\">Hủy</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"xuLyCapNhatThongTinThucHienDichVu()\\\">Lưu</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Chẩn Đoán Của Bác Sĩ Khác</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n        <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n            [urlGetData]=\\\"urlGetData\\\" [urlGetTotalPage]=\\\"urlGetTotalPage\\\" [useHeaderDefault]=\\\"false\\\"\\n            [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\"\\n            [additionalSearchString]=\\\"yeuCauKhamBenhId\\\" [detailTemplate]=\\\"detailTemplate\\\" style=\\\"width: 1px;\\\"\\n            [pageable]=\\\"false\\\">\\n        </app-grid>\\n        <ng-template #detailTemplate let-dataItem>\\n            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"pt-4\\\">\\n                <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">TÓM TẮT KẾT QUẢ CLS </h3>\\n                <label fxFlex=\\\"100%\\\" *ngIf=\\\"dataItem.KetQuaCLS != null\\\">Tóm tắt kết quả :{{dataItem.KetQuaCLS}}</label>\\n                <label fxFlex=\\\"100%\\\" *ngIf=\\\"dataItem.KetQuaCLS == null\\\">Không có tóm tắt kết quả cận lâm sàng.</label>\\n                <!-- <div fxFlex=\\\"100%\\\">\\n                    <ul class=\\\"inline\\\">\\n                        <li>Kết quả: <strong>{{dataItem.KetQuaCLS}}</strong></li>\\n\\n                    </ul>\\n                </div> -->\\n                <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Chẩn đoán ICD chính </h3>\\n                <label fxFlex=\\\"50%\\\" *ngIf=\\\"dataItem.TenICDChinh!= null\\\"><span\\n                        style=\\\"font-weight: bold;\\\">ICD</span>:{{dataItem.TenICDChinh}}</label>\\n                <label fxFlex=\\\"50%\\\" *ngIf=\\\"dataItem.GhiChuICDChinh != null\\\"><span style=\\\"font-weight: bold;\\\">Chẩn\\n                        đoán</span>\\n                    :{{dataItem.GhiChuICDChinh}}</label>\\n\\n                <!-- <h4 fxFlex=\\\"100%\\\" style=\\\"font-weight: bold\\\">Chẩn đoán ICD Chính</h4>\\n                <div fxFlex=\\\"100%\\\">\\n                    <ul class=\\\"inline\\\">\\n                        <li>ICD Chính: <strong>{{dataItem.TenICDChinh}}</strong></li><br>\\n                        <li>Chẩn Đoán: <strong>{{dataItem.GhiChuICDChinh}}</strong></li>\\n                    </ul>\\n                </div> -->\\n                <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">CHẨN ĐOÁN ICD KÈM THEO </h3>\\n\\n                <label *ngIf=\\\"dataItem.YeuCauKhamBenhICDKhacs.length == 0\\\" fxFlex=\\\"50%\\\">Không có chẩn đoán icd kèm theo.</label>\\n                <ng-container *ngIf=\\\"dataItem.YeuCauKhamBenhICDKhacs.length != null\\\">\\n                    <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" *ngFor=\\\"let item of dataItem.YeuCauKhamBenhICDKhacs\\\">\\n                        <label fxFlex=\\\"50%\\\"><span style=\\\"font-weight: bold;\\\">ICD</span> :{{item.TenICDKhac}}</label>\\n                        <label fxFlex=\\\"50%\\\"><span style=\\\"font-weight: bold;\\\">Chẩn đoán</span>:{{item.GhiChu}}</label>\\n                    </div>\\n                </ng-container>\\n\\n                <!-- <h4 fxFlex=\\\"100%\\\" style=\\\"font-weight: bold\\\">\\n                    Chẩn đoán ICD kèm theo\\n                </h4>\\n                <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumnsChild\\\" [useAddDeault]=\\\"false\\\"\\n                    [useActionDefault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [urlGetData]=\\\"urlGetDataDetail\\\"\\n                    [urlGetTotalPage]=\\\"urlGetTotalPageDetail\\\" searchString=\\\"{{dataItem.Id}}\\\" [checkboxAble]=\\\"false\\\"\\n                    [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n                </app-grid> -->\\n\\n                <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">CÁCH GIẢI QUYẾT </h3>\\n                <label fxFlex=\\\"100%\\\" *ngIf=\\\"dataItem.CachGiaiQuyet != null\\\">Cách giải quyết :{{dataItem.CachGiaiQuyet}}</label>\\n                <label fxFlex=\\\"100%\\\" *ngIf=\\\"dataItem.CachGiaiQuyet == null\\\">Không có cách giải quyết.</label>\\n                <!-- <h4 fxFlex=\\\"100%\\\" style=\\\"font-weight: bold\\\">\\n                    Cách giải quyết\\n                </h4>\\n                <div fxFlex=\\\"100%\\\">\\n                    <ul class=\\\"inline\\\">\\n                        <li>Nội dung: <strong>{{dataItem.CachGiaiQuyet}}</strong></li>\\n                    </ul>\\n                </div> -->\\n            </div>\\n\\n        </ng-template>\\n    </div>\\n\\n</mat-dialog-content>\\n\\n<!-- <mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" (click)=\\\"close()\\\" mat-stroked-button color=\\\"primary\\\" mat-dialog-close>Đóng</button>\\n</mat-dialog-actions> -->\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Chỉnh Sửa Đơn Thuốc Chi Tiết</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"height: 270px;\\\">\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3\\\">\\n            <legend>\\n                Thông tin thuốc\\n            </legend>\\n\\n            <div fxLayout=\\\"column\\\">\\n                <ul class=\\\"inline\\\">\\n                    <li>Dược phẩm: &nbsp;<strong>{{keToaEdit.Ten}}</strong></li>\\n                    <li>Hoạt chất: &nbsp;<strong>{{keToaEdit.HoatChat}}</strong></li>\\n                    <li>Đơn vị tính: &nbsp;<strong>{{keToaEdit.DVT}}</strong></li>\\n                    <li>Đường dùng: &nbsp;<strong>{{keToaEdit.TenDuongDung}}</strong></li>\\n                    <li>Đơn giá:\\n                        &nbsp;<strong>{{keToaEdit.DonGia | number:'0.2-2':'vi-VN'}}</strong>\\n                    </li>\\n                    <li>Tương tác thuốc: &nbsp;<strong>{{keToaEdit.TuongTacThuoc}}</strong></li>\\n                    <li>Dị ứng: &nbsp;<strong>{{keToaEdit.DiUngThuocDisplay}}</strong></li>\\n                </ul>\\n            </div>\\n        </fieldset>\\n    </div>\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3 mt-3\\\">\\n            <legend>\\n                Thông tin chỉnh sửa\\n            </legend>\\n\\n            <div fxLayout=\\\"column\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                    style=\\\"padding-top: 16px;\\\">\\n\\n                    <app-textboxnumeric id=\\\"SoLuongAdd\\\" fxFlex=\\\"9%\\\" [(model)]=\\\"keToaEdit.SoLuong\\\" min=\\\"1\\\"\\n                        max=\\\"999999999\\\" (modelChange)=\\\"SoLuongChange($event)\\\" label=\\\"SL\\\" format=\\\"#.##\\\" [decimals]=\\\"2\\\"\\n                        (keyup)=\\\"onKey($event)\\\"\\n                        [validationerror]=\\\"'SoLuong' | validationerror:validationErrorsUpdate\\\" required=\\\"true\\\">\\n                    </app-textboxnumeric>\\n\\n                    <app-textbox fxFlex=\\\"9%\\\" id=\\\"SoLanTrenVienDisplay\\\" label=\\\"Số lần/Viên\\\"\\n                        [(model)]=\\\"keToaEdit.SoLanTrenVienDisplay\\\" (keyup)=\\\"onKey($event)\\\"\\n                        (modelChange)=\\\"SoLanLieuDungDisplayChange($event,'SoLanVien')\\\"\\n                        [validationerror]=\\\"'SoLanTrenVienDisplay' | validationerror:validationErrorsUpdate\\\">\\n                    </app-textbox>\\n\\n                    <app-textbox fxFlex=\\\"9%\\\" id=\\\"LieuDungTrenNgayDisplay\\\" label=\\\"L.dùng/ngày\\\"\\n                        [(model)]=\\\"keToaEdit.LieuDungTrenNgayDisplay\\\" (keyup)=\\\"onKey($event)\\\"\\n                        (modelChange)=\\\"SoLanLieuDungDisplayChange($event,'LieuDung')\\\"\\n                        [validationerror]=\\\"'LieuDungTrenNgayDisplay' | validationerror:validationErrorsUpdate\\\">\\n                    </app-textbox>\\n\\n                    <app-autocomplete id=\\\"Sang\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\"\\n                        (keyup)=\\\"onKey($event)\\\" [(model)]=\\\"keToaEdit.SangDisplay\\\" label=\\\"Sáng\\\" placeHolder=\\\"SL\\\"\\n                        (openCombobox)=\\\"openCombobox($event)\\\" [popupSettings]=\\\"null\\\"\\n                        [validationerror]=\\\"'SangDisplay' | validationerror:validationErrorsUpdate\\\" class=\\\"pr-0\\\">\\n                    </app-autocomplete>\\n                    <app-timepicker id=\\\"GioSang\\\" fxFlex=\\\"9%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" (keyup)=\\\"onKey($event)\\\"\\n                        [tabindex]=\\\"-1\\\" [(model)]=\\\"keToaEdit.ThoiGianDungSang\\\" [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n                    </app-timepicker>\\n\\n                    <app-autocomplete id=\\\"Trua\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\"\\n                        (keyup)=\\\"onKey($event)\\\" [(model)]=\\\"keToaEdit.TruaDisplay\\\" label=\\\"Trưa\\\" placeHolder=\\\"SL\\\"\\n                        (openCombobox)=\\\"openCombobox($event)\\\" [popupSettings]=\\\"null\\\"\\n                        [validationerror]=\\\"'TruaDisplay' | validationerror:validationErrorsUpdate\\\" class=\\\"pr-0\\\">\\n                    </app-autocomplete>\\n\\n                    <app-timepicker id=\\\"GioTrua\\\" fxFlex=\\\"9%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" (keyup)=\\\"onKey($event)\\\"\\n                        [tabindex]=\\\"-1\\\" [(model)]=\\\"keToaEdit.ThoiGianDungTrua\\\" [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n                    </app-timepicker>\\n\\n                    <app-autocomplete id=\\\"Chieu\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\"\\n                        (keyup)=\\\"onKey($event)\\\" [(model)]=\\\"keToaEdit.ChieuDisplay\\\" label=\\\"Chiều\\\" placeHolder=\\\"SL\\\"\\n                        (openCombobox)=\\\"openCombobox($event)\\\" [popupSettings]=\\\"null\\\"\\n                        [validationerror]=\\\"'ChieuDisplay' | validationerror:validationErrorsUpdate\\\" class=\\\"pr-0\\\">\\n                    </app-autocomplete>\\n\\n                    <app-timepicker id=\\\"GioChieu\\\" fxFlex=\\\"9%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" (keyup)=\\\"onKey($event)\\\"\\n                        [tabindex]=\\\"-1\\\" [(model)]=\\\"keToaEdit.ThoiGianDungChieu\\\" [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n                    </app-timepicker>\\n\\n                    <app-autocomplete id=\\\"Toi\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\"\\n                        (keyup)=\\\"onKey($event)\\\" [(model)]=\\\"keToaEdit.ToiDisplay\\\" label=\\\"Tối\\\" placeHolder=\\\"SL\\\"\\n                        (openCombobox)=\\\"openCombobox($event)\\\" [popupSettings]=\\\"null\\\"\\n                        [validationerror]=\\\"'ToiDisplay' | validationerror:validationErrorsUpdate\\\" class=\\\"pr-0\\\">\\n                    </app-autocomplete>\\n\\n                    <app-timepicker id=\\\"GioToi\\\" fxFlex=\\\"9%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\"\\n                        [(model)]=\\\"keToaEdit.ThoiGianDungToi\\\" [tabindex]=\\\"-1\\\" (keyup)=\\\"onKey($event)\\\"\\n                        [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\"></app-timepicker>\\n\\n                    <app-textboxnumeric fxFlex=\\\"9%\\\" [(model)]=\\\"keToaEdit.SoNgayDung\\\" min=\\\"0\\\" (change)=\\\"convertInt()\\\"\\n                        (keyup)=\\\"onKey($event)\\\" max=\\\"9999\\\" label=\\\"Số ngày\\\">\\n                    </app-textboxnumeric>\\n                    <!-- <app-autocomplete fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"keToaEdit.GhiChu\\\"\\n                        [validationerror]=\\\"'GhiChu' | validationerror:validationErrorsUpdate\\\"\\n                        [dataList]=\\\"ghiChuDonThuocChiTietDataSource\\\" label=\\\"Cách dùng\\\">\\n                    </app-autocomplete> -->\\n                    <app-autocomplete fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"keToaEdit.GhiChu\\\" [popupSettings]=\\\"null\\\"\\n                        (keyup)=\\\"onKey($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\" [queryInfo]=\\\" {ParameterDependencies:'{LoaiDuocPhamHoacVatTu:' + loaiDuocPhamHoacVatTu +'}',\\n                        Take: 50}\\\" url=\\\"KhamBenh/GetGhiChuDonThuocChiTietString\\\" label=\\\"Cách dùng\\\">\\n                    </app-autocomplete>\\n                </div>\\n            </div>\\n        </fieldset>\\n\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" (click)=\\\"close()\\\" mat-stroked-button color=\\\"primary\\\"\\n        mat-dialog-close>Hủy</button>\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" (click)=\\\"luuKeToa()\\\" mat-stroked-button color=\\\"primary\\\" class=\\\"md-primary\\\">Cập\\n        nhật</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Chỉnh Sửa Vật Tư Chi Tiết</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"height: 200px;\\\">\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3\\\">\\n            <legend>\\n                Thông tin vật tư\\n            </legend>\\n\\n            <div fxLayout=\\\"column\\\">\\n                <ul class=\\\"inline\\\">\\n                    <li>Vật tư: &nbsp;<strong>{{vatTuEdit.Ten}}</strong></li>\\n                    <li>Mã: &nbsp;<strong>{{vatTuEdit.Ma}}</strong></li>\\n                    <li>Đơn vị tính: &nbsp;<strong>{{vatTuEdit.DonViTinh}}</strong></li>\\n                    <li>Nhà SX: &nbsp;<strong>{{vatTuEdit.NhaSX}}</strong></li>\\n                    <li>Nước SX: &nbsp;<strong>{{vatTuEdit.NuocSX}}</strong></li>\\n                </ul>\\n            </div>\\n        </fieldset>\\n    </div>\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3 mt-3\\\">\\n            <legend>\\n                Thông tin chỉnh sửa\\n            </legend>\\n\\n            <div fxLayout=\\\"column\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                    style=\\\"padding-top: 16px;\\\">\\n                    <app-textboxnumeric id=\\\"SoLuongAdd\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" [(model)]=\\\"vatTuEdit.SoLuong\\\"\\n                        min=\\\"1\\\" max=\\\"999999999\\\" label=\\\"Số lượng\\\"\\n                        [validationerror]=\\\"'SoLuong' | validationerror:validationErrorsUpdate\\\" required=\\\"true\\\">\\n                    </app-textboxnumeric>\\n\\n                    <app-autocomplete fxFlex=\\\"80%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"vatTuEdit.GhiChu\\\" (keyup)=\\\"onKey($event)\\\"\\n                        (openCombobox)=\\\"openCombobox($event)\\\" [popupSettings]=\\\"null\\\"\\n                        [queryInfo]=\\\"{ParameterDependencies:'{LoaiDuocPhamHoacVatTu:' + loaiDuocPhamHoacVatTu +'}', Take: 50}\\\"\\n                        url=\\\"KhamBenh/GetGhiChuDonThuocChiTietString\\\" label=\\\"Cách dùng\\\">\\n                    </app-autocomplete>\\n                </div>\\n            </div>\\n        </fieldset>\\n\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" (click)=\\\"close()\\\" mat-stroked-button color=\\\"primary\\\"\\n        mat-dialog-close>Hủy</button>\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" (click)=\\\"luuVatTu()\\\" mat-stroked-button color=\\\"primary\\\" class=\\\"md-primary\\\">Cập\\n        nhật</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Đơn Thuốc Bác Sĩ Khác Đã Kê</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n        <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n            [urlGetData]=\\\"urlGetDataGridDonThuocBacSiKhac\\\" [urlGetTotalPage]=\\\"urlGetTotalPageGridDonThuocBacSiKhac\\\"\\n            [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n            [autoHeight]=\\\"true\\\" [additionalSearchString]=\\\"yeuCauKhamBenhId\\\" [detailTemplate]=\\\"detailTemplate\\\"\\n            style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n        </app-grid>\\n        <ng-template #detailTemplate let-dataItem>\\n            <app-grid class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumnsDetail\\\" [useAddDeault]=\\\"false\\\"\\n                [useActionDefault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [urlGetData]=\\\"urlGetDataGridToaThuoc\\\"\\n                [urlGetTotalPage]=\\\"urlGetTotalPageGridToaThuoc\\\" searchString=\\\"{{dataItem.Id}}\\\" [checkboxAble]=\\\"false\\\"\\n                [groups]=\\\"groupNhomThuoc\\\" [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" style=\\\"width: 1px;\\\"\\n                [pageable]=\\\"false\\\">\\n            </app-grid>\\n        </ng-template>\\n        <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n            <strong>{{value}}</strong>\\n        </ng-template>\\n    </div>\\n\\n</mat-dialog-content>\\n<!-- \\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" (click)=\\\"close()\\\" mat-stroked-button color=\\\"primary\\\" mat-dialog-close>Đóng</button>\\n</mat-dialog-actions> -->\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Giấy Chuyển Tuyến</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div class=\\\"container-iframe\\\"><iframe width=\\\"100%\\\" [src]=\\\" src | safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <app-print-form fxFlex='100%' class=\\\"mr-1 mt-2\\\" textPrint=\\\"In giấy chuyển tuyến\\\" type=\\\"PDF\\\" [bodyComponent]=\\\"this\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>XÁC NHẬN</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"height: 110px;\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <div fxFlex=\\\"100\\\" fxFlex.sm=\\\"100\\\">Bạn có chắc chắn muốn hủy dịch vụ này không?</div>\\n\\n        <app-textarea id=\\\"lyDo\\\" [(model)]=\\\"lyDoHuy\\\" fxFlex=\\\"100\\\" fxFlex.sm=\\\"100\\\" maxlength=\\\"1000\\\" label=\\\"Lý do\\\" [required]=\\\"true\\\"\\n            minHeight=\\\"20\\\" [validationerror]=\\\"'LyDoHuy' | validationerror:validationErrors\\\">\\n        </app-textarea>\\n    </div>\\n</mat-dialog-content>\\n\\n\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <button mat-button (click)=\\\"close()\\\">Không</button>\\n    <button mat-button color=\\\"primary\\\" (click)=\\\"Huy()\\\">Có</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div fxFlex=\\\"100%\\\">\\n        <span fxFlex=\\\"20%\\\" style=\\\"padding-top: 20px;\\\">XEM TRƯỚC KHI IN</span>\\n        <app-radio fxFlex=\\\"40%\\\" id=\\\"IsDisabled\\\" name=\\\"IsOfficial\\\"\\n            [items]=\\\"[{Value:true,Text:'In theo nhóm'},{Value:false,Text:'In theo số thứ tự'}]\\\"\\n            [(model)]=\\\"ChonKieuInChung\\\" label=\\\"Chọn Kiểu In\\\" (modelChange)=\\\"changeKieuIn($event)\\\"\\n            [hidden]=\\\"showLoaiPhieuIn\\\">\\n        </app-radio>\\n    </div>\\n\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div class=\\\"container-iframe\\\">\\n        <iframe width=\\\"100%\\\" height=\\\"100%\\\" [src]=\\\"src | safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <!-- in phiếu DvKT -->\\n    <app-print-form textPrint=\\\"In Phiếu Dịch Vụ Kỹ Thuật\\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"A4\\\" (click)=\\\"InPhieu(1)\\\" *ngIf= 'showLoaiPhieuIn== true'\\n        (click)=\\\"InPhieu\\\" [bodyComponent]=\\\"this\\\">\\n    </app-print-form>  \\n    <!-- in phiếu Dvkham -->\\n    <app-print-form textPrint=\\\"In Phiếu Dịch Vụ Khám Bệnh\\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"A4\\\" (click)=\\\"InPhieu(2)\\\" *ngIf= 'showLoaiPhieuIn== true'\\n    (click)=\\\"InPhieu\\\" [bodyComponent]=\\\"this\\\">\\n  </app-print-form>  \\n   <!-- in phiếu In chung dvkt Dvkham -->\\n   <app-print-form textPrint=\\\"In Dịch Vụ Khám Bệnh/Dịch Vụ Kỹ Thuật \\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"A4\\\" (click)=\\\"InPhieu(3)\\\"\\n   (click)=\\\"InPhieu\\\" [bodyComponent]=\\\"this\\\" *ngIf= 'showLoaiPhieuIn== false'>\\n </app-print-form>  \\n\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-0\\\">\\n    <div>TƯ VẤN THUỐC</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div class=\\\"container-iframe\\\"><iframe width=\\\"100%\\\" [src]=\\\"src| safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <app-print-form fxFlex='100%' class=\\\"mr-1 mt-2\\\" textPrint=\\\"In phiếu\\\" type=\\\"PDF\\\" [bodyComponent]=\\\"this\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>Danh sách người bệnh đang làm chỉ định</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <app-grid [gridColumns]=\\\"gridColumns\\\" [documentType]=\\\"documentType\\\" [useHeaderDefault]=\\\"true\\\"\\n        [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [urlGetData]=\\\"urlData\\\" [urlGetTotalPage]=\\\"urlTotalPage\\\"\\n        [checkboxAble]=\\\"false\\\" [useAddDeault]=\\\"false\\\" height=\\\"500\\\" [additionalSearchString]=\\\"data\\\"\\n        [detailTemplate]=\\\"detailTemplate\\\">\\n    </app-grid>\\n    <ng-template #detailTemplate let-dataItem>\\n        <app-kham-benh-lich-su-kham-list [BenhNhan]=\\\"dataItem.MaBN\\\">\\n        </app-kham-benh-lich-su-kham-list>\\n    </ng-template>\\n    <ng-template #actionTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <button  mat-button color=\\\"primary\\\" [mat-dialog-close]=\\\"dataItem.Id\\\" cdkFocusInitial>\\n                <mat-icon [icIcon]=\\\"icAssignment\\\"></mat-icon>\\n            </button>\\n        </div>\\n    </ng-template>\\n</mat-dialog-content>\\n\\n<!-- <mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button mat-raised-button mat-button color=\\\"primary\\\" [mat-dialog-close]=\\\"''\\\" cdkFocusInitial>Đóng</button>\\n  </mat-dialog-actions> -->\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>Thông Tin Người Bệnh Tiếp Theo</div>\\n    <!-- <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button> -->\\n</div>\\n\\n<mat-dialog-content>\\n    <ng-container *ngIf=\\\"conBenhNhanTrongHangDoi\\\">\\n        <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n            <fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n                <legend>Thông tin hành chính</legend>\\n                <div fxFlex=\\\"100%\\\">\\n                    <ul class=\\\"inline\\\">\\n                        <li>Mã TN: <strong>{{benhNhanTiepTheo.YeuCauTiepNhan.MaYeuCauTiepNhan}}</strong></li>\\n                        <li>Mã NB: <strong>{{benhNhanTiepTheo.YeuCauTiepNhan.BenhNhanId}}</strong></li>\\n                        <li>Họ tên: <strong>{{benhNhanTiepTheo.YeuCauTiepNhan.HoTen}}</strong></li>\\n                        <li>Giới tính: <strong>{{benhNhanTiepTheo.YeuCauTiepNhan.TenGioiTinh}}</strong></li>\\n                        <li *ngIf=\\\"!IsKhamDoanTatCa\\\">Tuổi: <strong>{{benhNhanTiepTheo.YeuCauTiepNhan.Tuoi}}</strong></li>\\n                        <li *ngIf=\\\"IsKhamDoanTatCa\\\">Năm sinh: <strong>{{benhNhanTiepTheo.YeuCauTiepNhan.NamSinh}}</strong></li>\\n    \\n                        <li>SĐT: <strong>{{benhNhanTiepTheo.YeuCauTiepNhan.SoDienThoai}}</strong></li>\\n                        <li>Dân tộc: <strong>{{benhNhanTiepTheo.YeuCauTiepNhan.DanToc == null ? null :benhNhanTiepTheo.YeuCauTiepNhan.DanToc.Ten}}</strong></li>\\n                        <li>Địa chỉ: <strong>{{benhNhanTiepTheo.YeuCauTiepNhan.DiaChiDisplay}}</strong></li>\\n                        <li>Nghề nghiệp: <strong>{{benhNhanTiepTheo.YeuCauTiepNhan.NgheNghiep == null ? null : benhNhanTiepTheo.YeuCauTiepNhan.NgheNghiep.Ten}}</strong></li>\\n                        <ng-container *ngIf=\\\"!IsKhamDoanTatCa\\\">\\n                            <li>Tuyến khám: <strong style=\\\"color: green;\\\">{{benhNhanTiepTheo.YeuCauTiepNhan.TenLyDoVaoVien}}</strong></li>\\n                            <li>Mức hưởng: <strong style=\\\"color: blue;\\\">{{benhNhanTiepTheo.YeuCauTiepNhan.BHYTMucHuong}}%</strong></li>\\n                        </ng-container>\\n                        \\n                        <li *ngIf=\\\"IsKhamDoanTatCa\\\">Công ty: <strong style=\\\"color: red;\\\">{{benhNhanTiepTheo.YeuCauTiepNhan.TenCongTy}}</strong>\\n                        </li>\\n                    </ul>\\n                </div>\\n            </fieldset>\\n        </div>\\n        <div *ngIf=\\\"benhNhanTiepTheo.YeuCauKhamBenh.YeuCauDichVuKyThuats != undefined && benhNhanTiepTheo.YeuCauKhamBenh.YeuCauDichVuKyThuats.length > 0\\\"\\n            fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n            <fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n                <legend>Thông tin xét nghiệm, cận lâm sàn</legend>\\n                <div fxFlex=\\\"100%\\\">\\n                    <div class=\\\"inline\\\">\\n                        <app-checkbox *ngFor=\\\"let item of benhNhanTiepTheo.YeuCauKhamBenh.YeuCauDichVuKyThuats\\\" value=\\\"true\\\"\\n                            id=\\\"ycdvkt{{item.Id}}\\\" [(model)]=\\\"item.IsDone\\\" [disabled]=\\\"true\\\" class=\\\"inline_b py-1\\\" label=\\\"{{item.TenDichVu}}\\\">\\n                        </app-checkbox>\\n                    </div>\\n                </div>\\n            </fieldset>\\n        </div>\\n    </ng-container>\\n    <ng-container *ngIf=\\\"conBenhNhanTrongHangDoi == false\\\">\\n        Không còn người bệnh nào trong hàng đợi\\n    </ng-container>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" mat-dialog-close=\\\"tuChon\\\">Tự chọn NB </button>\\n    <button *ngIf=\\\"benhNhanTiepTheo != null && !chuyenKham\\\" type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" mat-dialog-close=\\\"boQua\\\">Bỏ qua</button>\\n    <button *ngIf=\\\"benhNhanTiepTheo != null\\\" mat-raised-button mat-button color=\\\"primary\\\" \\n        [mat-dialog-close]=\\\"benhNhanTiepTheoId\\\" cdkFocusInitial>Xác nhận</button>\\n  </mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1 border-bottom\\\">\\n    <div>Thêm bộ phận tổn thương</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"max-height: 86vh;\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"p-2 mb-6\\\">\\n        <app-upload id=\\\"Upload\\\" label=\\\"Chọn hình ảnh\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\"\\n            [allowedExtensions]=\\\"['.jpg', '.jpeg', '.png', '.JPG', '.JPEG', '.PNG']\\\"\\n            (uploadFileDone)=\\\"uploadFileDone($event)\\\" required=\\\"true\\\"\\n            [validationerror]=\\\"'HinhAnh' | validationerror:validationErrors\\\">\\n        </app-upload>\\n        <app-textarea id=\\\"mota\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"4000\\\" label=\\\"Mô tả\\\"\\n            [(model)]=\\\"boPhanTonThuong.MoTa\\\" minHeight=\\\"20\\\" required=\\\"true\\\"\\n            [validationerror]=\\\"'MoTa' | validationerror:validationErrors\\\">\\n        </app-textarea>\\n        <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" *ngIf=\\\"boPhanTonThuong.HinhAnh!=null && boPhanTonThuong.HinhAnh!=''\\\" style=\\\"position: relative;\\\">\\n            <image-drawing [src]=\\\"boPhanTonThuong.HinhAnh\\\" outputMimeType=\\\"'image/jpeg'\\\" showCancelButton={{true}}\\n                 outputQuality=\\\"1\\\" (save)=\\\"save($event)\\\" (cancel)=\\\"cancel()\\\" enableRemoveImage={{true}} forceSizeExport={{true}}\\n                (click)=\\\"showErrorIfNoImage($event)\\\" #imageDrawing [loadingTemplate]=\\\"loadingTemplate\\\" saveBtnText=\\\"Lưu\\\" cancelBtnText=\\\"Hủy\\\">\\n            </image-drawing>\\n            <ng-template #loadingTemplate>                \\n                <button class=\\\"btn btn-raised btn-raised btn-primary mb-0\\\"><img src=\\\"/assets/img/loader.gif\\\" alt=\\\"Loading\\\" /></button>\\n            </ng-template>         \\n            <button class=\\\"btn btn-raised btn-raised btn-primary btn-loading\\\" *ngIf=\\\"loading\\\"><img src=\\\"/assets/img/loader.gif\\\"\\n                alt=\\\"Loading\\\" /></button>\\n        </div>\\n        <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" *ngIf=\\\"boPhanTonThuong.HinhAnh==null || boPhanTonThuong.HinhAnh==''\\\">\\n            <div style=\\\"border:1px solid #ccc;width:100%;height:400px;text-align: center;padding:15px;\\\">\\n                Bạn chưa chọn ảnh\\n            </div>\\n        </div>\\n    </div>\\n</mat-dialog-content>\"","export default \"<div fxFlex=\\\"100%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title\\\">BỘ PHẬN TỔN THƯƠNG\\n        <button class=\\\"po-h\\\" color=\\\"primary\\\" (click)=\\\"themBoPhanTonThuong()\\\">\\n            <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n        </button>\\n    </h3>\\n    <ng-container\\n        *ngIf=\\\"dataBoPhanTonThuong == undefined || dataBoPhanTonThuong == null || dataBoPhanTonThuong.length == 0\\\">\\n        <p>Không có bộ phận tổn thương</p>\\n    </ng-container>\\n\\n    <div fxFlex=\\\"100%\\\"\\n        *ngIf=\\\"dataBoPhanTonThuong != undefined && dataBoPhanTonThuong != null && dataBoPhanTonThuong.length > 0\\\"\\n        class=\\\"mb-3\\\">\\n        <div fxFlex=\\\"100%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <div fxFlex=\\\"25%\\\" *ngFor=\\\"let boPhanTonThuong of dataBoPhanTonThuong\\\">\\n                <div class=\\\"card overflow-hidden\\\" style=\\\"border: 1px solid #ccc;position: relative;\\\">\\n                    <mat-icon [icIcon]=\\\"icClose\\\" class=\\\"icon-close\\\" (click)=\\\"xoaBoPhanTonThuong(boPhanTonThuong)\\\">\\n                    </mat-icon>\\n                    <div class=\\\"mat-ripple p-4 text-center hover:bg-hover trans-ease-out cursor-pointer relative\\\">\\n                        <img (click)=\\\"xemHinhAnhBoPhanTonThuong(boPhanTonThuong)\\\" src=\\\"{{boPhanTonThuong.HinhAnh}}\\\"\\n                            class=\\\"mx-auto\\\" />\\n                    </div>\\n                    <div class=\\\"bg-app-bar p-2\\\">\\n                        <p>{{boPhanTonThuong.MoTa}}</p>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Chỉnh Sửa {{tenLoai}} Chi Tiết</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"height: 220px;\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3\\\">\\n            <legend>\\n                Thông tin {{tenLoai | lowercase}}\\n            </legend>\\n\\n            <div fxLayout=\\\"column\\\">\\n                <ul class=\\\"inline\\\">\\n                    <li>{{tenLoai}}: &nbsp;<strong>{{thongTinVatTuThuoc.Ten}}</strong></li>\\n                    <li>Mã: &nbsp;<strong>{{thongTinVatTuThuoc.Ma}}</strong></li>\\n                    <li>Đơn vị tính: &nbsp;<strong>{{thongTinVatTuThuoc.DVT}}</strong></li>\\n                    <li>Nhà SX: &nbsp;<strong>{{thongTinVatTuThuoc.NhaSX}}</strong></li>\\n                    <li>Nước SX: &nbsp;<strong>{{thongTinVatTuThuoc.NuocSX}}</strong></li>\\n                </ul>\\n            </div>\\n        </fieldset>\\n        <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3 mt-3\\\">\\n            <legend>\\n                Thông tin chỉnh sửa\\n            </legend>\\n\\n            <div fxLayout=\\\"column\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                    style=\\\"padding-top: 16px;\\\">\\n                    <app-textboxnumeric id=\\\"SoLuongAdd\\\" fxFlex=\\\"70%\\\" fxFlex.sm=\\\"70%\\\"\\n                        [(model)]=\\\"thongTinVatTuThuoc.SoLuong\\\" [min]=\\\"thongTinVatTuThuoc.LoaiKho == 5 ? 0.01 : 1\\\" max=\\\"999999\\\" label=\\\"Số lượng\\\"\\n                        (keyup)=\\\"onKey($event)\\\" [format]=\\\"thongTinVatTuThuoc.LoaiKho == 5 ? format : ''\\\" [decimals]=\\\"thongTinVatTuThuoc.LoaiKho == 5 ? 2 : 0\\\"\\n                        [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\" required=\\\"true\\\">\\n                    </app-textboxnumeric>\\n                    <div fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\">\\n                        <div class=\\\"container-custom no-label\\\">\\n                            <label>&nbsp;</label>\\n                            <div fxLayout=\\\"row\\\" fxLayoutGap=\\\"16px\\\">\\n                                <app-checkbox fxFlex=\\\"100%\\\" id=\\\"vehicle1KhuVucVT1\\\" [(model)]=\\\"thongTinVatTuThuoc.TinhPhi\\\"\\n                                    label=\\\"Tính phí\\\" value=\\\"true\\\"></app-checkbox>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </fieldset>\\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" mat-dialog-close>Hủy</button>\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" (click)=\\\"luuVatTu()\\\" mat-stroked-button color=\\\"primary\\\" class=\\\"md-primary\\\">Cập nhật</button>\\n</mat-dialog-actions>\"","export default \"<ng-container *ngIf=\\\"!laChuyenKhoaKhamNhieu\\\">\\n    <h3 class=\\\"sub-title\\\">Chẩn đoán phân biệt\\n        <button class=\\\"po-h\\\" color=\\\"primary\\\" (click)=\\\"themChanDoanPhanBiet()\\\">\\n            <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n        </button>\\n    </h3>\\n    <ng-container *ngIf=\\\"dataSourceChanDoanPhamBiet.data.length == 0\\\">\\n        <p>Không có chẩn đoán phân biệt</p>\\n    </ng-container>\\n    <app-grid *ngIf=\\\"dataSourceChanDoanPhamBiet.data.length > 0\\\" masterName=\\\"TienSuBenh\\\"\\n        [gridColumns]=\\\"gridChanDoanPhanBietColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n        class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n        [maxHeight]=\\\"200\\\" [lazyLoadPage]=\\\"true\\\" [gridDataSource]=\\\"dataSourceChanDoanPhamBiet\\\" style=\\\"width: 1px;\\\"\\n        [pageable]=\\\"false\\\">\\n    </app-grid>\\n    \\n</ng-container>\\n\\n<ng-container *ngIf=\\\"laChuyenKhoaKhamNhieu\\\">\\n    <div [fxFlex]=\\\"dataSourceChanDoanPhamBiet.data.length == 0 ? '20%' : '15%'\\\">\\n        <h3 class=\\\"sub-title\\\">Chẩn đoán phân biệt\\n            <button class=\\\"po-h mt-0\\\" color=\\\"primary\\\" (click)=\\\"themChanDoanPhanBiet()\\\">\\n                <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n            </button>\\n        </h3>\\n    </div>\\n    <div [fxFlex]=\\\"dataSourceChanDoanPhamBiet.data.length == 0 ? '80%' : '85%'\\\" class=\\\"ml-2\\\">\\n        <ng-container *ngIf=\\\"dataSourceChanDoanPhamBiet.data.length == 0\\\">\\n            <span>Không có chẩn đoán phân biệt</span>\\n        </ng-container>\\n\\n        <ng-container *ngIf=\\\"dataSourceChanDoanPhamBiet.data.length > 0\\\">\\n            <table id=\\\"tbl-chan-doan-pb\\\" style=\\\"width: 100%\\\">\\n                <tr>\\n                    <th style=\\\"width: 30%; text-align: left;\\\">ICD</th>\\n                    <th style=\\\"width: 65%; text-align: left;\\\">Chẩn đoán</th>\\n                    <th style=\\\"width: 5%\\\"></th>\\n                </tr>\\n                <tr *ngFor=\\\"let dataItem of dataSourceChanDoanPhamBiet.data, let rowIndex = index\\\">\\n                    <td>\\n                        <app-combobox [(model)]=\\\"dataItem.ICDId\\\" (selectionChange)=\\\"chonICD($event, dataItem)\\\" [disabled]=\\\"dataItem.Id != 0\\\"\\n                            [modelText]=\\\"dataItem.TenICD\\\" popupSettings=\\\"null\\\" url=\\\"KhamBenh/GetListICDBaoGomItemDaChon\\\" [required]=\\\"true\\\"\\n                            [validationerror]=\\\"'YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets['+rowIndex+'].ICDId' | validationerror:benhNhanHienTai.validationErrors\\\"\\n                            class=\\\"no-label item-no-padding\\\" label=\\\" \\\" [templateHeader]=\\\"chanDoanPhanbietTemplateHeader\\\"\\n                            [template]=\\\"chanDoanPhanBietTemplate\\\" title=\\\"{{dataItem.TenICD}}\\\" kendoTooltip>\\n                            <ng-template #chanDoanPhanbietTemplateHeader let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <th width=\\\"20%\\\">Mã</th>\\n                                        <th>Dịch vụ</th>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                            <ng-template #chanDoanPhanBietTemplate let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                        <td>{{dataItem.Ten}}</td>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                        </app-combobox>\\n                        <!-- <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.TenICD}}</p> -->\\n                    </td>\\n                    <td>\\n                        <app-textarea maxlength=\\\"4000\\\" [(model)]=\\\"dataItem.GhiChu\\\" class=\\\"no-label\\\" label=\\\"\\\"\\n                            minHeight=\\\"20\\\" [disabled]=\\\"dataItem.Id != 0\\\">\\n                        </app-textarea>\\n                        <!-- <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.GhiChu}}</p> -->\\n                    </td>\\n                    <td>\\n                        <div class=\\\"text-center\\\" kendoTooltip>\\n                            <button color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\" (click)=\\\"xoa(dataItem)\\\">\\n                                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                            </button>\\n                        </div>\\n                    </td>\\n                </tr>\\n            </table>\\n        </ng-container>\\n    </div>\\n</ng-container>\\n\\n<!-- template -->\\n<ng-template #icdTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <app-combobox *ngIf=\\\"dataItem.Id == 0\\\" [(model)]=\\\"dataItem.ICDId\\\" (selectionChange)=\\\"chonICD($event, dataItem)\\\"\\n        [modelText]=\\\"dataItem.TenICD\\\" popupSettings=\\\"null\\\" url=\\\"KhamBenh/GetListICDBaoGomItemDaChon\\\"\\n        [required]=\\\"true\\\"\\n        [validationerror]=\\\"'YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets['+rowIndex+'].ICDId' | validationerror:benhNhanHienTai.validationErrors\\\"\\n        class=\\\"no-label item-no-padding\\\" label=\\\" \\\" [templateHeader]=\\\"chanDoanPhanbietTemplateHeader\\\"\\n        [template]=\\\"chanDoanPhanBietTemplate\\\">\\n        <!-- url=\\\"ChuanDoan/GetChuanDoanLienKetICD\\\" -->\\n        <ng-template #chanDoanPhanbietTemplateHeader let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <th width=\\\"20%\\\">Mã</th>\\n                    <th>Dịch vụ</th>\\n                </tr>\\n            </table>\\n        </ng-template>\\n        <ng-template #chanDoanPhanBietTemplate let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                    <td>{{dataItem.Ten}}</td>\\n                </tr>\\n            </table>\\n        </ng-template>\\n    </app-combobox>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.TenICD}}</p>\\n</ng-template>\\n<ng-template #ghiChuTemplate let-dataItem>\\n    <app-textarea *ngIf=\\\"dataItem.Id == 0\\\" maxlength=\\\"4000\\\" [(model)]=\\\"dataItem.GhiChu\\\" class=\\\"no-label\\\" label=\\\"\\\"\\n        minHeight=\\\"20\\\">\\n    </app-textarea>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.GhiChu}}</p>\\n</ng-template>\\n<ng-template #actionTemplate let-dataItem>\\n    <div class=\\\"text-center\\\" kendoTooltip>\\n        <button color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\" (click)=\\\"xoa(dataItem)\\\">\\n            <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n        </button>\\n    </div>\\n</ng-template>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Chỉ Định Của Bác Sĩ Khác</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n        <app-grid #GridChiDinhBSKhac fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n            [urlGetData]=\\\"urlGetData\\\" [urlGetTotalPage]=\\\"urlGetTotalPage\\\" [useHeaderDefault]=\\\"false\\\"\\n            [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\"\\n            [additionalSearchString]=\\\"yeuCauTiepNhanId + ';' + yeuCauKhamBenhId\\\" [useHeaderDefault]=\\\"false\\\"\\n            [pageable]=\\\"true\\\" [groups]=\\\"groups\\\" (extOnDataBound)=\\\"extOnDataBound($event)\\\" >\\n        </app-grid>\\n        <!-- <ng-template #detailTemplate let-dataItem>\\n\\n        </ng-template> -->\\n        <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n            <strong>{{value}}</strong>\\n        </ng-template>\\n\\n        <ng-template #sttTemplate let-rowIndex=\\\"rowIndex\\\">\\n            <strong>{{rowIndex + 1}}</strong>\\n        </ng-template>\\n        <div class=\\\"gripViewGoiDichViKhacTemplate\\\">\\n            <ng-template #checkBoxHeaderTemplate let-dataItem>\\n                <input type=\\\"checkbox\\\" id=\\\"vehicle1\\\" name=\\\"vehicle1\\\" [(ngModel)]=\\\"checkAll\\\"\\n                    (ngModelChange)=\\\"SelectcheckAllboxIn($event)\\\">\\n            </ng-template>\\n            <ng-template #checkBoxTemplate let-dataItem>\\n                <input type=\\\"checkbox\\\" id=\\\"vehicle1\\\" [(ngModel)]=\\\"dataItem.isCheckRowItem\\\" name=\\\"vehicle1\\\"\\n                    (ngModelChange)=\\\"checkboxIn($event,dataItem)\\\">\\n            </ng-template>\\n        </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\" style=\\\"padding-bottom: 15px;\\\">\\n    <ng-container>\\n        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"InPhieuXN()\\\"  style=\\\"margin-right: 5px;\\\">\\n            In phiếu chỉ định xét nghiệm test nhanh Sars-Cov 2\\n        </button>\\n        <button (click)=\\\"InChiDinhNoiTru(0)\\\" type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button>In\\n            chỉ định</button>\\n    </ng-container>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>Chuyển dịch vụ khám</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"closes()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"overflow-y: hidden;\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <app-combobox fxFlex=\\\"40%\\\" label=\\\"Dịch vụ khám\\\" id=\\\"DichVuKhamBenhBenhVienId\\\" popupSettings=\\\"null\\\"\\n            hierarchyKeyToSend=\\\"DichVuKhamBenhBenhVienId\\\" [(model)]=\\\"yeuCauKhamBenh.DichVuKhamBenhBenhVienId\\\"\\n            [validationerror]=\\\"'DichVuKhamBenhBenhVienId' | validationerror:validationErrors\\\"\\n            url=\\\"KhamBenh/GetDichVuKhamBenh\\\" required=\\\"true\\\">\\n        </app-combobox>\\n        <app-combobox fxFlex=\\\"30%\\\" id=\\\"NoiDangKyId\\\" label=\\\"Nơi thực hiện\\\" url=\\\"KhamBenh/NoiThucHien\\\"\\n            hierarchyKeyToListen=\\\"DichVuKhamBenhBenhVienId\\\" [(model)]=\\\"yeuCauKhamBenh.NoiDangKyId\\\" required=\\\"true\\\"\\n            hierarchyKeyToSend=\\\"NoiDangKyId\\\" [autoSelectFirstItem]=\\\"true\\\" popupSettings=\\\"null\\\"\\n            [validationerror]=\\\"'NoiDangKyId' | validationerror:validationErrors\\\">\\n        </app-combobox>\\n\\n        <app-combobox id=\\\"BacSiDangKyId\\\" fxFlex=\\\"30%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Bác sĩ\\\" popupSettings=\\\"null\\\"\\n            [(model)]=\\\"yeuCauKhamBenh.BacSiDangKyId\\\" url=\\\"KhamBenh/BacSiKham\\\" hierarchyKeyToListen=\\\"NoiDangKyId\\\"\\n            [autoSelectFirstItem]=\\\"true\\\">\\n        </app-combobox>\\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"null\\\">Hủy</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"luuChuyenKham()\\\">Lưu</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>Thông Báo</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n        <p>Người bệnh đang khám (Mã TN: {{maTN}}, Họ tên: {{hoTen}}) có cần quay lại phòng khám này không?</p><br>\\n        <app-radio fxFlex=\\\"30\\\" [items]=\\\"[{Value:true,Text:'Có'},{Value:false,Text:'Không'}]\\\" [(model)]=\\\"quayLai\\\"\\n            class=\\\"no-label\\\" >\\n        </app-radio>\\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button *ngIf=\\\"quayLai != null\\\" mat-raised-button mat-button color=\\\"primary\\\" [mat-dialog-close]=\\\"quayLai\\\"\\n        cdkFocusInitial>Xác nhận</button>\\n\\n    <button *ngIf=\\\"quayLai == null\\\" style=\\\"pointer-events: none; opacity: 0.5;\\\" \\n        mat-raised-button mat-button color=\\\"primary\\\" cdkFocusInitial>Xác nhận</button>\\n</mat-dialog-actions>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Yêu Cầu Trả {{thongTinTraVT.LaDuocPham ? 'Thuốc' : 'Vật tư'}}</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content class=\\\"minHeight310\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"5px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <div fxFlex=\\\"100%\\\">\\n            <ul class=\\\"inline\\\">\\n                <li>{{thongTinTraVT.LaDuocPham ? 'Thuốc' : 'Vật tư'}}: &nbsp;<strong>{{thongTinHoanTraVTVo.Ten}}</strong></li>\\n                <li>Kho: &nbsp;<strong>{{thongTinHoanTraVTVo.TenKho}}</strong></li>\\n            </ul>\\n        </div>\\n\\n        <div fxFlex=\\\"100%\\\" *ngFor=\\\"let item of thongTinHoanTraVTVo.YeuCauDuocPhamVatTuBenhViens; let i = index\\\">\\n            <ul class=\\\"inline\\\">\\n                <li>Số lượng: &nbsp;<strong>{{item.SoLuong | number:'0.2'}}</strong></li>\\n                <li>Đơn giá: &nbsp;<strong>{{item.DonGia | number:'0.2-2':'vi-VN'}}</strong></li>\\n                <li>Thành tiền: &nbsp;<strong>{{item.ThanhTien | number:'0.2-2':'vi-VN'}}</strong></li>\\n                <li>Số lượng đã trả: &nbsp;<strong>{{item.SoLuongDaTra | number:'0.2'}}</strong></li>\\n                <li>\\n                    <div style=\\\"display: inline-flex;line-height: 40px;\\\" *ngIf=\\\"thongTinTraVT.SoLuong != 0\\\">\\n                        <span>Số lượng trả lần này: &nbsp;</span>\\n                        <app-textboxnumeric style=\\\"width:100px;padding: 0\\\" id=\\\"SoLuongTra\\\" min=\\\"0\\\" max=\\\"999999\\\" [required]=\\\"true\\\" [(model)]=\\\"item.SoLuongTra\\\" label=\\\" \\\" class=\\\"no-label\\\"\\n                            [validationerror]=\\\"'YeuCauDuocPhamVatTuBenhViens[' + i + '].SoLuongTra' | validationerror:validationErrors\\\">\\n                        </app-textboxnumeric>\\n                    </div>\\n                </li>\\n            </ul>\\n        </div>\\n        <div fxFlex=\\\"100%\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" style=\\\"padding-top: 16px;\\\">\\n                <app-combobox *ngIf=\\\"thongTinTraVT.SoLuong != 0\\\" id=\\\"NguoiTra\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"40%\\\" label=\\\"Người trả\\\" url=\\\"ToaThuocMau/BacSiKeToa\\\" popupSettings=\\\"null\\\" [required]=\\\"true\\\" [(model)]=\\\"thongTinHoanTraVTVo.NhanVienYeuCauId\\\" [modelText]=\\\"thongTinHoanTraVTVo.TenNhanVienYeuCau\\\"\\n                    [validationerror]=\\\"'NhanVienYeuCauId' | validationerror:validationErrors\\\">\\n                </app-combobox>\\n\\n                <app-datepicker *ngIf=\\\"thongTinTraVT.SoLuong != 0\\\" id=\\\"NgayYeuCau\\\" fxFlex=\\\"20%\\\" [(model)]=\\\"thongTinHoanTraVTVo.NgayYeuCau\\\" required=\\\"true\\\" label=\\\"Ngày trả\\\" [validationerror]=\\\"'NgayYeuCau' | validationerror:validationErrors\\\">\\n                </app-datepicker>\\n                <div fxFlex=\\\"60%\\\" fxLayoutAlign=\\\"end center\\\" kendoTooltip>\\n                    <button *ngIf=\\\"thongTinTraVT.SoLuong != 0\\\" type=\\\"button\\\" mat-button class=\\\"mr-2\\\" (click)=\\\"huy()\\\">Hủy</button>\\n                    <button *ngIf=\\\"(thongTinTraVT.CoYeuCauTraVTTuBenhNhanChiTiet && thongTinTraVT.SoLuong != 0)\\\" type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"luu()\\\">Lưu</button>\\n                    <button *ngIf=\\\"(!thongTinTraVT.CoYeuCauTraVTTuBenhNhanChiTiet && thongTinTraVT.SoLuong != 0 )\\n                    || (thongTinTraVT.CoYeuCauTraVTTuBenhNhanChiTiet && thongTinTraVT.SoLuong != 0)\\\" type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"luu()\\\">Thêm</button>\\n                </div>\\n\\n            </div>\\n        </div>\\n    </div>\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"10px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <h1 fxFlex=\\\"100%\\\" class=\\\"sub-titlewithh1  mr-4 mt-0\\\">DS CÁC LẦN TRẢ</h1>\\n        <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" fxLayout=\\\"row wrap\\\" fxLayoutGap=\\\"16px grid\\\" fxLayout.lt-md=\\\"column\\\">\\n            <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" urlGetData=\\\"PhauThuatThuThuat/GetDataForGridDanhSachVatTuThuocHoanTraPTTT\\\" [gridColumns]=\\\"gridColumns\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"false\\\" [removeGroupFooterIfIsOnlyOne]=\\\"true\\\"\\n                [checkboxAble]=\\\"false\\\" [additionalSearchString]=\\\"additionString\\\" [pageable]=\\\"false\\\" [autoHeight]=\\\"true\\\">\\n            </app-grid>\\n\\n            <ng-template #tinhTrangTemplate let-dataItem>\\n                <label *ngIf=\\\"dataItem.DuocDuyet == null\\\">\\n                    <strong><span>{{dataItem.TinhTrang}}</span></strong>\\n                </label>\\n                <label *ngIf=\\\"dataItem.DuocDuyet == true\\\" class=\\\"green\\\">\\n                    <strong><span>{{dataItem.TinhTrang}}</span></strong>\\n                </label>\\n                <label *ngIf=\\\"dataItem.DuocDuyet == false\\\" class=\\\"red\\\">\\n                    <strong><span>{{dataItem.TinhTrang}}</span></strong>\\n                </label>\\n            </ng-template>\\n\\n            <ng-template #ngayTraTemplate let-datathongTinHoanTraVTVo>\\n                {{datathongTinHoanTraVTVo.NgayTraDisplay}}\\n            </ng-template>\\n\\n            <ng-template #ngayTaoTemplate let-datathongTinHoanTraVTVo>\\n                {{datathongTinHoanTraVTVo.NgayTaoDisplay}}\\n            </ng-template>\\n        </div>\\n    </div>\\n</mat-dialog-content>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Toa Thuốc</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n        <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n            [showStt]=\\\"true\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n            [lazyLoadPage]=\\\"true\\\" [groups]=\\\"groupNhomThuocLichSuKeToa\\\" [autoHeight]=\\\"true\\\"\\n            [gridDataSource]=\\\"dataToaThuoc\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n        </app-grid>\\n        <ng-template #nhomThuocGroupHeaderTemplate let-value=\\\"value\\\">\\n            <strong>{{value}}</strong>\\n        </ng-template>\\n        <ng-template #sangTemplate let-dataItem>\\n            {{dataItem.SangDisplay}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\n            {{dataItem.ThoiGianDungSangDisplay}}\\n        </ng-template>\\n        <ng-template #truaTemplate let-dataItem>\\n            {{dataItem.TruaDisplay}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\n            {{dataItem.ThoiGianDungTruaDisplay}}\\n        </ng-template>\\n        <ng-template #chieuTemplate let-dataItem>\\n            {{dataItem.ChieuDisplay}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\n            {{dataItem.ThoiGianDungChieuDisplay}}\\n        </ng-template>\\n        <ng-template #toiTemplate let-dataItem>\\n            {{dataItem.ToiDisplay}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\n            {{dataItem.ThoiGianDungToiDisplay}}\\n        </ng-template>\\n    </div>\\n    <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n        <div>\\n            <label style=\\\"color: red;\\\">\\n                <span>\\n                    <h3><b><i>{{canhBao}}</i></b></h3>\\n                </span>\\n            </label>\\n        </div>\\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" (click)=\\\"close()\\\" mat-stroked-button color=\\\"primary\\\" mat-dialog-close>Hủy</button>\\n    <!-- <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"apDungLichSuKeToaConfirm()\\\" cdkFocusInitial>Xác\\n        nhận</button> -->\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Toa Thuốc</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n        <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n            [showStt]=\\\"true\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n            [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" [gridDataSource]=\\\"dataToaThuoc\\\" style=\\\"width: 1px;\\\"\\n            [pageable]=\\\"false\\\">\\n        </app-grid>\\n        <ng-template #nhomThuocGroupHeaderTemplate let-value=\\\"value\\\">\\n            <strong>{{value}}</strong>\\n        </ng-template>\\n        <ng-template #sangTemplate let-dataItem>\\n            {{dataItem.SangDisplay}}&nbsp;&nbsp;\\n            {{dataItem.ThoiGianDungSangDisplay}}\\n        </ng-template>\\n        <ng-template #truaTemplate let-dataItem>\\n            {{dataItem.TruaDisplay}}&nbsp;&nbsp;\\n            {{dataItem.ThoiGianDungTruaDisplay}}\\n        </ng-template>\\n        <ng-template #chieuTemplate let-dataItem>\\n            {{dataItem.ChieuDisplay}}&nbsp;&nbsp;\\n            {{dataItem.ThoiGianDungChieuDisplay}}\\n        </ng-template>\\n        <ng-template #toiTemplate let-dataItem>\\n            {{dataItem.ToiDisplay}}&nbsp;&nbsp;\\n            {{dataItem.ThoiGianDungToiDisplay}}\\n        </ng-template>\\n    </div>\\n    <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n        <div>\\n            <label style=\\\"color: red;\\\">\\n                <span>\\n                    <h3><b><i>{{canhBao}}</i></b></h3>\\n                </span>\\n            </label>\\n        </div>\\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" (click)=\\\"close()\\\" mat-stroked-button color=\\\"primary\\\" mat-dialog-close>Hủy</button>\\n    <!-- <button disabled=\\\"isDisabled\\\" mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"apDung()\\\" cdkFocusInitial>Xác nhận</button> -->\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-0\\\">\\n    <div>XEM TOA THUỐC</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div class=\\\"container-iframe\\\"><iframe width=\\\"100%\\\" [src]=\\\"src|safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <app-print-form fxFlex='100%' class=\\\"mr-1 mt-2\\\" textPrint=\\\"In toa thuốc\\\" type=\\\"PDF\\\" typeSize=\\\"A5\\\"\\n        [bodyComponent]=\\\"this\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-0\\\">\\n    <div>XEM VẬT TƯ Y TẾ</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div class=\\\"container-iframe\\\"><iframe width=\\\"100%\\\" [src]=\\\"src|safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <app-print-form fxFlex='100%' class=\\\"mr-1 mt-2\\\" textPrint=\\\"In vật tư\\\" type=\\\"PDF\\\" typeSize=\\\"A5\\\"\\n        [bodyComponent]=\\\"this\\\">\\n    </app-print-form>\\n\\n</mat-dialog-actions>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title  mr-4\\\" style=\\\"position: relative;\\\">\\n        <app-radio id=\\\"LoaiToaMau\\\" name=\\\"LoaiToaMau\\\" class=\\\"no-format-css pl-4 temp\\\"\\n            [(model)]=\\\"keToaNew.ToaMauLichSuKeToa\\\" (modelChange)=\\\"changeRemoveValidator()\\\"\\n            [items]=\\\"[{Value:3,Text:'KÊ ĐƠN'},{Value:1,Text:'TOA MẪU'},{Value:2,Text:'LỊCH SỬ KÊ TOA'}]\\\">\\n        </app-radio>\\n        <a (click)=\\\"xemDonThuocBacSiKhac()\\\" style=\\\"position: absolute;right: 0; top: 0; text-transform: none;\\\">\\n            <span style=\\\"color:green; text-decoration: underline; font-weight: bold; bottom: 20px;\\\">\\n                Xem đơn thuốc bác sĩ khác đã kê\\n            </span>\\n        </a>\\n    </h3>\\n    <div fxFlex=\\\"100%\\\" *ngIf=\\\"keToaNew.ToaMauLichSuKeToa == 1 ||keToaNew.ToaMauLichSuKeToa == 2\\\">\\n        <ng-container *ngIf=\\\"keToaNew.ToaMauLichSuKeToa == 1\\\">\\n            <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridToaMauColumns\\\"\\n                [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n                [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [detailTemplate]=\\\"detailTemplate\\\"\\n                [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" urlGetData=\\\"KhamBenh/GetDataForGridAsyncToaThuocMau\\\"\\n                urlGetTotalPage=\\\"KhamBenh/GetTotalPageForGridAsyncToaThuocMau\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n            </app-grid>\\n\\n            <ng-template #detailTemplate let-dataItem>\\n                <!-- [groups]=\\\"groupNhom\\\"  -->\\n                <app-grid [gridColumns]=\\\"gridToaMauChildColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n                    [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                    urlGetData=\\\"KhamBenh/GetDataForGridToaThuocMauChiTietChild\\\"\\n                    urlGetTotalPage=\\\"KhamBenh/GetTotalPageForToaThuocMauChiTietChild\\\" style=\\\"width: 1px;\\\"\\n                    [additionalSearchString]=\\\"coBHYTSearch\\\" [pageable]=\\\"false\\\" searchString=\\\"{{dataItem.Id}}\\\"\\n                    [autoHeight]=\\\"true\\\">\\n                </app-grid>\\n            </ng-template>\\n            <!-- <ng-template #nhomThuocGroupHeaderTemplate let-value=\\\"value\\\">\\n                <strong>{{value}}</strong>\\n            </ng-template> -->\\n        </ng-container>\\n        <ng-container *ngIf=\\\"keToaNew.ToaMauLichSuKeToa == 2\\\">\\n            <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridLichSuKeToaColumns\\\"\\n                [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n                [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [detailTemplate]=\\\"detailTemplate\\\"\\n                [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" urlGetData=\\\"KhamBenh/GetDataForGridAsyncLichSuKeToa\\\"\\n                [additionalSearchString]=\\\"benhNhanId\\\" urlGetTotalPage=\\\"KhamBenh/GetTotalPageForGridAsyncLichSuKeToa\\\"\\n                [sort]=\\\"sort\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n            </app-grid>\\n\\n            <ng-template #detailTemplate let-dataItem>\\n                <app-grid [gridColumns]=\\\"gridLichSuKeToaChildColumns\\\" [documentType]=\\\"documentType\\\"\\n                    [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n                    [lazyLoadPage]=\\\"true\\\" urlGetData=\\\"KhamBenh/GetDataForGridLichSuKeToaChild\\\"\\n                    [groups]=\\\"groupNhomLichSuKeToa\\\" [additionalSearchString]=\\\"benhNhanId\\\"\\n                    urlGetTotalPage=\\\"KhamBenh/GetTotalPageForLichSuKeToaChild\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\"\\n                    searchString=\\\"{{dataItem.Id}}\\\" [autoHeight]=\\\"true\\\">\\n                </app-grid>\\n            </ng-template>\\n            <ng-template #nhomThuocLSKTGroupHeaderTemplate let-value=\\\"value\\\">\\n                <strong>{{value}}</strong>\\n            </ng-template>\\n\\n        </ng-container>\\n    </div>\\n\\n    <ng-template #actionToaMauTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <button color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Áp dụng\\\" type=\\\"button\\\"\\n                (click)=\\\"apDungConfirm(dataItem)\\\">\\n                <mat-icon [icIcon]=\\\"icCheck\\\"></mat-icon>\\n            </button>\\n        </div>\\n    </ng-template>\\n\\n    <ng-template #actionLichSuKeToaTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <button color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Áp dụng\\\" type=\\\"button\\\"\\n                (click)=\\\"apDungLichSuKeToaConfirm(dataItem)\\\">\\n                <mat-icon [icIcon]=\\\"icCheck\\\"></mat-icon>\\n            </button>\\n        </div>\\n    </ng-template>\\n\\n    <ng-container *ngIf=\\\"keToaNew.ToaMauLichSuKeToa == 3\\\">\\n        <!-- <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title  mr-4\\\">THÊM THUỐC</h3> -->\\n        <div fxFlex=\\\"100%\\\">\\n            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"10px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\n                <app-radio *ngIf=\\\"benhNhanHienTai.YeuCauTiepNhan.CoBHYT == true\\\" fxFlex=\\\"25%\\\" id=\\\"KhoThuoc\\\"\\n                    name=\\\"KhoThuoc\\\" label=\\\"Kho\\\" [(model)]=\\\"keToaNew.KhoThuoc\\\" (modelChange)=\\\"chonKhoThuoc($event)\\\"\\n                    [items]=\\\"[{Value:1,Text:'BHYT'},{Value:2,Text:'Không BHYT'}]\\\">\\n                </app-radio>\\n\\n                <app-radio *ngIf=\\\"benhNhanHienTai.YeuCauTiepNhan.CoBHYT == false\\\" fxFlex=\\\"25%\\\" id=\\\"KhoThuoc\\\"\\n                    name=\\\"KhoThuoc\\\" label=\\\"Kho\\\" [(model)]=\\\"keToaNew.KhoThuoc\\\" (modelChange)=\\\"chonKhoThuoc($event)\\\"\\n                    [items]=\\\"[{Value:2,Text:'Không BHYT'}]\\\">\\n                </app-radio>\\n\\n                <ng-container *ngIf=\\\"keToaNew.KhoThuoc == 2\\\">\\n                    <app-radio fxFlex=\\\"auto\\\" id=\\\"ThuocBV\\\" name=\\\"ThuocBV\\\" fxFlex=\\\"25%\\\" label=\\\"Khu vực\\\"\\n                        [(model)]=\\\"keToaNew.KhoThuocKhongBHYT\\\" (modelChange)=\\\"chonKhoThuoc($event)\\\"\\n                        [items]=\\\"[{Value:3,Text:'Trong BV'},{Value:4,Text:'Ngoài BV'}]\\\">\\n                    </app-radio>\\n                </ng-container>\\n\\n                <app-combobox *ngIf=\\\"keToaNew.KhoThuocKhongBHYT != 3 && keToaNew.KhoThuocKhongBHYT != 4\\\" #isFocus\\n                    [isAutoFocus]=\\\"true\\\" fxFlex=\\\"75%\\\" label=\\\"Dược phẩm/Hoạt chất/VTYT\\\" [(model)]=\\\"keToaNew.DuocPhamId\\\"\\n                    [modelText]=\\\"keToaNew.Ten\\\" id=\\\"DuocPhamId\\\" (selectionChange)=\\\"chonDuoc($event)\\\" required=\\\"true\\\"\\n                    url=\\\"KhamBenh/DuocPhams\\\" (openCombobox)=\\\"openCombobox($event)\\\" (keyup)=\\\"onKey($event)\\\"\\n                    [queryInfo]=\\\"queryInfo\\\" [template]=\\\"DuocPhamTemplate\\\" [templateHeader]=\\\"DuocPhamTemplateHeader\\\"\\n                    [validationerror]=\\\"'DuocPhamId' | validationerror:validationErrors\\\" class=\\\"item-no-padding\\\"\\n                    [popupSettings]=\\\"{width: 900,popupClass:'item-no-padding'}\\\">\\n                    <ng-template #DuocPhamTemplateHeader let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <th width=\\\"30%\\\">Tên</th>\\n                                <th width=\\\"10%\\\">Hàm lượng</th>\\n                                <th width=\\\"10%\\\">Hoạt Chất</th>\\n                                <th width=\\\"10%\\\">ĐVT</th>\\n                                <th width=\\\"10%\\\">Đường dùng</th>\\n                                <th width=\\\"10%\\\">NSX</th>\\n                                <th width=\\\"10%\\\" style=\\\"text-align: right; right: 10px;\\\">Tồn</th>\\n                                <th width=\\\"10%\\\" style=\\\"text-align: center; right: 10px;\\\">HSD</th>\\n\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                    <ng-template #DuocPhamTemplate let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <td width=\\\"30%\\\">{{dataItem.Ten}}</td>\\n                                <td width=\\\"10%\\\">{{dataItem.HamLuong}}</td>\\n                                <td width=\\\"10%\\\">{{dataItem.HoatChat}}</td>\\n                                <td width=\\\"10%\\\">{{dataItem.DVT}}</td>\\n                                <td width=\\\"10%\\\">{{dataItem.DuongDung}}</td>\\n                                <td width=\\\"10%\\\">{{dataItem.NhaSanXuat}}</td>\\n                                <td width=\\\"10%\\\" style=\\\"text-align: right;\\\">{{dataItem.SLTonFormat}}</td>\\n                                <td width=\\\"10%\\\" style=\\\"text-align: center;\\\">{{dataItem.HanSuDung}}</td>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                </app-combobox>\\n\\n                <app-combobox *ngIf=\\\"keToaNew.KhoThuocKhongBHYT == 3\\\" #isFocus [isAutoFocus]=\\\"true\\\" fxFlex=\\\"50%\\\"\\n                    label=\\\"Dược phẩm/Hoạt chất/VTYT\\\" [(model)]=\\\"keToaNew.DuocPhamId\\\" [modelText]=\\\"keToaNew.Ten\\\"\\n                    id=\\\"DuocPhamId\\\" (selectionChange)=\\\"chonDuoc($event)\\\" required=\\\"true\\\" url=\\\"KhamBenh/DuocPhams\\\"\\n                    (openCombobox)=\\\"openCombobox($event)\\\" (keyup)=\\\"onKey($event)\\\" [queryInfo]=\\\"queryInfo\\\"\\n                    [template]=\\\"DuocPhamTemplate\\\" [templateHeader]=\\\"DuocPhamTemplateHeader\\\"\\n                    [validationerror]=\\\"'DuocPhamId' | validationerror:validationErrors\\\" class=\\\"item-no-padding\\\"\\n                    [popupSettings]=\\\"{width: 900,popupClass:'item-no-padding'}\\\">\\n                    <ng-template #DuocPhamTemplateHeader let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <!-- <th width=\\\"10%\\\">Loại</th> -->\\n                                <th width=\\\"30%\\\">Tên</th>\\n                                <th width=\\\"10%\\\">Hàm lượng</th>\\n                                <th width=\\\"10%\\\">Hoạt Chất</th>\\n                                <th width=\\\"10%\\\">ĐVT</th>\\n                                <th width=\\\"10%\\\">Đường dùng</th>\\n                                <th width=\\\"10%\\\">NSX</th>\\n                                <th width=\\\"10%\\\" style=\\\"text-align: right; right: 10px;\\\">Tồn</th>\\n                                <th width=\\\"10%\\\" style=\\\"text-align: center; right: 10px;\\\">HSD</th>\\n\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                    <ng-template #DuocPhamTemplate let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <!-- <td width=\\\"10%\\\">{{dataItem.TenLoaiDuocPhamHoacVatTu}}</td> -->\\n                                <td width=\\\"30%\\\">{{dataItem.Ten}}</td>\\n                                <td width=\\\"10%\\\">{{dataItem.HamLuong}}</td>\\n                                <td width=\\\"10%\\\">{{dataItem.HoatChat}}</td>\\n                                <td width=\\\"10%\\\">{{dataItem.DVT}}</td>\\n                                <td width=\\\"10%\\\">{{dataItem.DuongDung}}</td>\\n                                <td width=\\\"10%\\\">{{dataItem.NhaSanXuat}}</td>\\n                                <td width=\\\"10%\\\" style=\\\"text-align: right;\\\">{{dataItem.SLTonFormat}}</td>\\n                                <td width=\\\"10%\\\" style=\\\"text-align: center;\\\">{{dataItem.HanSuDung}}</td>\\n\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                </app-combobox>\\n\\n                <app-combobox *ngIf=\\\"keToaNew.KhoThuocKhongBHYT == 4\\\" #isFocus [isAutoFocus]=\\\"true\\\" fxFlex=\\\"45%\\\"\\n                    label=\\\"Dược phẩm/Hoạt chất/VTYT\\\" [(model)]=\\\"keToaNew.DuocPhamId\\\" [modelText]=\\\"keToaNew.Ten\\\"\\n                    id=\\\"DuocPhamId\\\" (selectionChange)=\\\"chonDuoc($event)\\\" required=\\\"true\\\" url=\\\"KhamBenh/DuocPhams\\\"\\n                    (openCombobox)=\\\"openCombobox($event)\\\" (keyup)=\\\"onKey($event)\\\" [queryInfo]=\\\"queryInfo\\\"\\n                    [template]=\\\"DuocPhamTemplate\\\" [templateHeader]=\\\"DuocPhamTemplateHeader\\\"\\n                    [validationerror]=\\\"'DuocPhamId' | validationerror:validationErrors\\\" class=\\\"item-no-padding\\\"\\n                    [popupSettings]=\\\"{width: 900,popupClass:'item-no-padding'}\\\">\\n                    <ng-template #DuocPhamTemplateHeader let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <th width=\\\"30%\\\">Tên</th>\\n                                <th width=\\\"10%\\\">Hàm lượng</th>\\n                                <th width=\\\"10%\\\">Hoạt Chất</th>\\n                                <th width=\\\"10%\\\">ĐVT</th>\\n                                <th width=\\\"10%\\\">Đường dùng</th>\\n                                <th width=\\\"30%\\\">NSX</th>\\n\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                    <ng-template #DuocPhamTemplate let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <td width=\\\"30%\\\">{{dataItem.Ten}}</td>\\n                                <td width=\\\"10%\\\">{{dataItem.HamLuong}}</td>\\n                                <td width=\\\"10%\\\">{{dataItem.HoatChat}}</td>\\n                                <td width=\\\"10%\\\">{{dataItem.DVT}}</td>\\n                                <td width=\\\"10%\\\">{{dataItem.DuongDung}}</td>\\n                                <td width=\\\"30%\\\">{{dataItem.NhaSanXuat}}</td>\\n\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                </app-combobox>\\n\\n                <div *ngIf=\\\"keToaNew.KhoThuocKhongBHYT == 4\\\" fxFlex=\\\"5%\\\" class=\\\"mt-2\\\" fxLayoutAlign=\\\"start center\\\">\\n                    <button (click)=\\\"themThuocKhongBHYT()\\\" class=\\\"right\\\" color=\\\"primary\\\" fxFlex=\\\"none\\\" mat-mini-fab\\n                        kendoTooltip title=\\\"Thêm dược phẩm\\\" type=\\\"button\\\">\\n                        <mat-icon [icIcon]=\\\"icAdd\\\"></mat-icon>\\n                    </button>\\n                </div>\\n\\n\\n            </div>\\n\\n            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"10px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                style=\\\"padding-top: 10px;\\\">\\n\\n                <div fxFlex=\\\"100%\\\">\\n                    <fieldset\\n                        style=\\\"border:1px solid #ccc;border-radius: 5px;padding: 7px 15px 8px 15px;background: #e3f2fd;\\\">\\n                        <ul class=\\\"inline\\\">\\n                            <li>Cân nặng (kg):\\n                                <strong>{{benhNhanHienTai.YeuCauKhamBenh.CanNang!=null?benhNhanHienTai.YeuCauKhamBenh.CanNang:\\\"(Chưa\\n                                    nhập)\\\"}}</strong>\\n                            </li>\\n                        </ul>\\n                        <ul class=\\\"inline\\\" *ngIf=\\\"keToaNew.DuocPhamId != null && isDuocPham == true\\\">\\n                            <li>Đơn vị tính: <strong>{{thongTinDuocPham.TenDonViTinh}}</strong></li>\\n                            <li>Đường dùng: <strong>{{thongTinDuocPham.TenDuongDung}}</strong></li>\\n                            <li>Tương tác thuốc:\\n                                <strong *ngIf=\\\"thongTinDuocPham.FlagTuongTac == true\\\"\\n                                    class=\\\"red\\\">{{thongTinDuocPham.TuongTacThuoc}}\\n                                </strong>\\n                                <strong *ngIf=\\\"thongTinDuocPham.FlagTuongTac == false\\\">\\n                                    {{thongTinDuocPham.TuongTacThuoc}}\\n                                </strong>\\n                            </li>\\n                            <li>Dị ứng thuốc:\\n                                <strong *ngIf=\\\"thongTinDuocPham.FlagDiUng == true\\\" class=\\\"red\\\">\\n                                    {{thongTinDuocPham.DiUngThuoc}}\\n                                </strong>\\n                                <strong *ngIf=\\\"thongTinDuocPham.FlagDiUng == false\\\">\\n                                    {{thongTinDuocPham.DiUngThuoc}}\\n                                </strong>\\n                            </li>\\n                            <li>Mức độ:\\n                                <strong>\\n                                    {{benhNhanHienTai.YeuCauKhamBenh.TenMucDo}}\\n                                </strong>\\n                            </li>\\n                            <li>Thuốc đã kê:\\n                                <strong *ngIf=\\\"thongTinDuocPham.FlagThuocDaKe == true\\\" class=\\\"red\\\">\\n                                    {{thongTinDuocPham.ThuocDaKe}}\\n                                </strong>\\n                                <strong *ngIf=\\\"thongTinDuocPham.FlagThuocDaKe == false\\\">\\n                                    {{thongTinDuocPham.ThuocDaKe}}\\n                                </strong>\\n                            </li>\\n                            <li *ngIf=\\\"this.loaiKhoThuoc != 3\\\">\\n                                Tồn kho:\\n                                <strong>\\n                                    <span *ngIf=\\\"thongTinDuocPham.TonKho < 10\\\" class=\\\"red\\\">\\n                                        {{thongTinDuocPham.TonKhoFormat}}\\n                                    </span>\\n                                    <span *ngIf=\\\"thongTinDuocPham.TonKho > 10\\\">\\n                                        {{thongTinDuocPham.TonKhoFormat}}\\n                                    </span>\\n                                </strong>\\n                            </li>\\n                            <li *ngIf=\\\"this.loaiKhoThuoc != 3\\\">\\n                                HSD:\\n                                <strong>\\n                                    <strong>\\n                                        {{thongTinDuocPham.HSD}}\\n                                    </strong>\\n                                </strong>\\n                            </li>\\n                        </ul>\\n                        <ul class=\\\"inline\\\" *ngIf=\\\"keToaNew.DuocPhamId != null && isVatTu == true\\\">\\n                            <li>Đơn vị tính: <strong>{{thongTinVatTu.DonViTinh}}</strong></li>\\n\\n                            <li *ngIf=\\\"this.loaiKhoThuoc != 3\\\">\\n                                Tồn kho:\\n                                <strong>\\n                                    <span *ngIf=\\\"thongTinVatTu.TonKho < 10\\\" class=\\\"red\\\">\\n                                        {{thongTinVatTu.TonKhoFormat}}\\n                                    </span>\\n                                    <span *ngIf=\\\"thongTinVatTu.TonKho > 10\\\">\\n                                        {{thongTinVatTu.TonKhoFormat}}\\n                                    </span>\\n                                </strong>\\n                            </li>\\n                            <li *ngIf=\\\"this.loaiKhoThuoc != 3\\\">\\n                                HSD:\\n                                <strong>\\n                                    <strong>\\n                                        {{thongTinVatTu.HSD}}\\n                                    </strong>\\n                                </strong>\\n                            </li>\\n                        </ul>\\n                    </fieldset>\\n                </div>\\n                <!-- <app-textboxnumeric fxFlex=\\\"19%\\\" min=\\\"0\\\" max=\\\"9999\\\" id=\\\"CanNang\\\"\\n                    [disabled]=\\\"true\\\" [decimals]=\\\"2\\\" format=\\\"#.##\\\" [(model)]=\\\" benhNhanHienTai.YeuCauKhamBenh.CanNang\\\"\\n                    label=\\\"Cân nặng (kg)\\\">\\n                </app-textboxnumeric> -->\\n                <!-- <app-textbox *ngIf=\\\"isDuocPham == true\\\" fxFlex=\\\"17%\\\" id=\\\"TuongTac\\\" label=\\\"Tương tác\\\" [disabled]=\\\"true\\\"\\n                    [(model)]=\\\"keToaNew.TuongTacThuoc\\\">\\n                </app-textbox>\\n                <app-textbox *ngIf=\\\"isDuocPham == true\\\" fxFlex=\\\"17%\\\" id=\\\"DiUngThuoc\\\" label=\\\"Dị ứng thuốc\\\"\\n                    [disabled]=\\\"true\\\" (modelChange)=\\\"diUngThuocModelChange()\\\" [(model)]=\\\"keToaNew.DiUngThuocDisplay\\\">\\n                </app-textbox> -->\\n                <!-- <app-textbox *ngIf=\\\"isDuocPham == true\\\" fxFlex=\\\"17%\\\" id=\\\"MucDo\\\" label=\\\"Mức độ\\\" [disabled]=\\\"true\\\"\\n                    [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.TenMucDo\\\">\\n                </app-textbox> -->\\n\\n            </div>\\n\\n            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"10px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                style=\\\"padding-top: 10px;\\\">\\n                <app-textboxnumeric id=\\\"SoLuongAdd\\\" fxFlex=\\\"9%\\\" [(model)]=\\\"keToaNew.SoLuong\\\" min=\\\"1\\\" max=\\\"999999999\\\"\\n                    (modelChange)=\\\"SoLuongChange($event)\\\" label=\\\"SL\\\" format=\\\"#.##\\\" [decimals]=\\\"2\\\"\\n                    (keyup)=\\\"onKey($event)\\\" [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\"\\n                    required=\\\"true\\\">\\n                </app-textboxnumeric>\\n\\n                <app-textbox fxFlex=\\\"9%\\\" id=\\\"SoLanTrenVienDisplay\\\" label=\\\"Số lần/Viên\\\"\\n                    [(model)]=\\\"keToaNew.SoLanTrenVienDisplay\\\" [disabled]=\\\"!isDuocPham\\\" (keyup)=\\\"onKey($event)\\\"\\n                    (modelChange)=\\\"SoLanLieuDungDisplayChange($event,'SoLanVien')\\\"\\n                    [validationerror]=\\\"'SoLanTrenVienDisplay' | validationerror:validationErrors\\\">\\n                </app-textbox>\\n\\n                <app-textbox fxFlex=\\\"9%\\\" id=\\\"LieuDungTrenNgayDisplay\\\" label=\\\"L.dùng/ngày\\\"\\n                    [(model)]=\\\"keToaNew.LieuDungTrenNgayDisplay\\\" [disabled]=\\\"!isDuocPham\\\" (keyup)=\\\"onKey($event)\\\"\\n                    (modelChange)=\\\"SoLanLieuDungDisplayChange($event,'LieuDung')\\\"\\n                    [validationerror]=\\\"'LieuDungTrenNgayDisplay' | validationerror:validationErrors\\\">\\n                </app-textbox>\\n\\n                <app-autocomplete id=\\\"Sang\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\" (keyup)=\\\"onKey($event)\\\"\\n                    [(model)]=\\\"keToaNew.SangDisplay\\\" label=\\\"Sáng\\\" placeHolder=\\\"SL\\\" [disabled]=\\\"!isDuocPham\\\"\\n                    (onValueChange)=\\\"onValueChangeAdd('Sang')\\\" (openCombobox)=\\\"openCombobox($event)\\\"\\n                    [validationerror]=\\\"'SangDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n                </app-autocomplete>\\n                <!-- (modelChange)=\\\"nhapDungCacBuoiTrongNgayThem($event, 'Sang')\\\" -->\\n                <app-timepicker id=\\\"GioSang\\\" fxFlex=\\\"9%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" (keyup)=\\\"onKey($event)\\\"\\n                    [disabled]=\\\"!isDuocPham\\\" [tabindex]=\\\"-1\\\" [(model)]=\\\"keToaNew.ThoiGianDungSang\\\"\\n                    [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n                </app-timepicker>\\n\\n                <app-autocomplete id=\\\"Trua\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\" (keyup)=\\\"onKey($event)\\\"\\n                    [(model)]=\\\"keToaNew.TruaDisplay\\\" label=\\\"Trưa\\\" placeHolder=\\\"SL\\\" [disabled]=\\\"!isDuocPham\\\"\\n                    (onValueChange)=\\\"onValueChangeAdd('Trua')\\\" (openCombobox)=\\\"openCombobox($event)\\\"\\n                    [validationerror]=\\\"'TruaDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n                </app-autocomplete>\\n                <!-- (modelChange)=\\\"nhapDungCacBuoiTrongNgayThem($event, 'Trua')\\\" -->\\n\\n                <app-timepicker id=\\\"GioTrua\\\" fxFlex=\\\"9%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" (keyup)=\\\"onKey($event)\\\"\\n                    [disabled]=\\\"!isDuocPham\\\" [tabindex]=\\\"-1\\\" [(model)]=\\\"keToaNew.ThoiGianDungTrua\\\"\\n                    [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n                </app-timepicker>\\n\\n                <app-autocomplete id=\\\"Chieu\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\" (keyup)=\\\"onKey($event)\\\"\\n                    [(model)]=\\\"keToaNew.ChieuDisplay\\\" label=\\\"Chiều\\\" placeHolder=\\\"SL\\\" [disabled]=\\\"!isDuocPham\\\"\\n                    (onValueChange)=\\\"onValueChangeAdd('Chieu')\\\" (openCombobox)=\\\"openCombobox($event)\\\"\\n                    [validationerror]=\\\"'ChieuDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n                </app-autocomplete>\\n                <!-- (modelChange)=\\\"nhapDungCacBuoiTrongNgayThem($event, 'Chieu')\\\" -->\\n\\n                <app-timepicker id=\\\"GioChieu\\\" fxFlex=\\\"9%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" (keyup)=\\\"onKey($event)\\\"\\n                    [disabled]=\\\"!isDuocPham\\\" [tabindex]=\\\"-1\\\" [(model)]=\\\"keToaNew.ThoiGianDungChieu\\\"\\n                    [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n                </app-timepicker>\\n\\n                <app-autocomplete id=\\\"Toi\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\" (keyup)=\\\"onKey($event)\\\"\\n                    [(model)]=\\\"keToaNew.ToiDisplay\\\" label=\\\"Tối\\\" placeHolder=\\\"SL\\\" [disabled]=\\\"!isDuocPham\\\"\\n                    (onValueChange)=\\\"onValueChangeAdd('Toi')\\\" (openCombobox)=\\\"openCombobox($event)\\\"\\n                    [validationerror]=\\\"'ToiDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n                </app-autocomplete>\\n                <!-- (modelChange)=\\\"nhapDungCacBuoiTrongNgayThem($event, 'Toi')\\\" -->\\n\\n                <app-timepicker id=\\\"GioToi\\\" fxFlex=\\\"9%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" [(model)]=\\\"keToaNew.ThoiGianDungToi\\\"\\n                    [disabled]=\\\"!isDuocPham\\\" [tabindex]=\\\"-1\\\" (keyup)=\\\"onKey($event)\\\" [modelIsNumber]=\\\"true\\\"\\n                    moreClass=\\\"pl-0\\\"></app-timepicker>\\n\\n                <app-textboxnumeric id=\\\"SoNgayDung\\\" fxFlex=\\\"9%\\\" [(model)]=\\\"keToaNew.SoNgayDung\\\" min=\\\"0\\\"\\n                    [disabled]=\\\"!isDuocPham\\\" (change)=\\\"convertInt()\\\" (keyup)=\\\"onKey($event)\\\" max=\\\"9999\\\" label=\\\"Số ngày\\\">\\n                </app-textboxnumeric>\\n                <!-- (modelChange)=\\\"SoNgayDungChange()\\\" -->\\n\\n                <app-autocomplete fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"keToaNew.GhiChu\\\" (keyup)=\\\"onKey($event)\\\"\\n                    [queryInfo]=\\\"{ParameterDependencies:'{LoaiDuocPhamHoacVatTu:' +loaiDuocPhamHoacVatTu +'}', Take: 50}\\\"\\n                    url=\\\"KhamBenh/GetGhiChuDonThuocChiTietString\\\" label=\\\"Cách dùng\\\" maxlength=\\\"4000\\\"\\n                    (openCombobox)=\\\"openCombobox($event)\\\">\\n                </app-autocomplete>\\n            </div>\\n        </div>\\n        <div fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\">\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button id=\\\"btnThemKeToa\\\"\\n                (click)=\\\"themKeToa()\\\">Thêm</button>\\n        </div>\\n    </ng-container>\\n\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title  mr-4 mt-0\\\">TOA THUỐC</h3>\\n    <!-- [groups]=\\\"groupsChild\\\" -->\\n    <app-grid fxFlex=\\\"100%\\\" #toaThuoc [gridColumns]=\\\"gridToaThuocColumns\\\" [documentType]=\\\"documentType\\\"\\n        [removeGroupFooterIfIsOnlyOne]=\\\"true\\\" masterName=\\\"ToaThuoc\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border\\\"\\n        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" style=\\\"width: 1px;\\\"\\n        [pageable]=\\\"false\\\" urlGetData=\\\"KhamBenh/GetDataForGridKetLuanDSCK\\\" [sort]=\\\"sortToaThuoc\\\"\\n        urlGetTotalPage=\\\"KhamBenh/GetTotalPageForGridKetLuanDSCK\\\" [lazyLoadPage]=\\\"true\\\" reorderRowsMoveItemData=true\\n        [additionalSearchString]=\\\"yckhambenhId\\\" (extOnDataBound)=\\\"onDataBoundChild($event)\\\" [autoHeight]=\\\"true\\\">\\n        <ng-template #sangTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.SangDisplay != null && dataItem.ThoiGianDungSangDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.SangDisplay + ' ' +(dataItem.ThoiGianDungSangDisplay)}}\\\">\\n                    {{dataItem.SangDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungSangDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.SangDisplay != null && dataItem.ThoiGianDungSangDisplay == null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.SangDisplay}}\\\">\\n                    {{dataItem.SangDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.SangDisplay == null && dataItem.ThoiGianDungSangDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ThoiGianDungSangDisplay}}\\\">\\n                    {{dataItem.ThoiGianDungSangDisplay}}\\n                </p>\\n            </div>\\n        </ng-template>\\n        <ng-template #truaTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.TruaDisplay != null && dataItem.ThoiGianDungTruaDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.TruaDisplay + ' ' +(dataItem.ThoiGianDungTruaDisplay)}}\\\">\\n                    {{dataItem.TruaDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungTruaDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.TruaDisplay != null && dataItem.ThoiGianDungTruaDisplay == null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.TruaDisplay}}\\\">\\n                    {{dataItem.TruaDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.TruaDisplay == null && dataItem.ThoiGianDungTruaDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ThoiGianDungTruaDisplay}}\\\">\\n                    {{dataItem.ThoiGianDungTruaDisplay}}\\n                </p>\\n            </div>\\n        </ng-template>\\n        <ng-template #chieuTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.ChieuDisplay != null && dataItem.ThoiGianDungChieuDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ChieuDisplay + ' ' +(dataItem.ThoiGianDungChieuDisplay)}}\\\">\\n                    {{dataItem.ChieuDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungChieuDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ChieuDisplay != null && dataItem.ThoiGianDungChieuDisplay == null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ChieuDisplay}}\\\">\\n                    {{dataItem.ChieuDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ChieuDisplay == null && dataItem.ThoiGianDungChieuDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ThoiGianDungChieuDisplay}}\\\">\\n                    {{dataItem.ThoiGianDungChieuDisplay}}\\n                </p>\\n            </div>\\n        </ng-template>\\n        <ng-template #toiTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.ToiDisplay != null && dataItem.ThoiGianDungToiDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ToiDisplay + ' ' +(dataItem.ThoiGianDungToiDisplay)}}\\\">\\n                    {{dataItem.ToiDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungToiDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ToiDisplay != null && dataItem.ThoiGianDungToiDisplay == null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ToiDisplay}}\\\">\\n                    {{dataItem.ToiDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ToiDisplay == null && dataItem.ThoiGianDungToiDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ThoiGianDungToiDisplay}}\\\">\\n                    {{dataItem.ThoiGianDungToiDisplay}}\\n                </p>\\n            </div>\\n        </ng-template>\\n\\n\\n        <ng-template #donGiaTemplate let-dataItem>\\n            {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n        <ng-template #thanhTienTemplate let-dataItem>\\n            {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n        <ng-template #thanhTienFooterTemplate let-dataItem>\\n            <p style=\\\"color: blue; font-weight: bold;\\\">\\n                <span>{{totalThanhTien('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n        </ng-template>\\n        <ng-template #donGiaFooterTemplate>\\n            <span style=\\\"float:right\\\">Tổng cộng:</span>\\n        </ng-template>\\n        <ng-template #thanhTienGroupFooterTemplate let-aggregates>\\n            {{aggregates.ThanhTien.sum | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n        <ng-template #donGiaGroupFooterTemplate let-dataItem>\\n            <span style=\\\"float:right\\\">Cộng:</span>\\n        </ng-template>\\n        <ng-template #soLuongTemplate let-dataItem>\\n            {{dataItem.SoLuongDisplay}}\\n        </ng-template>\\n\\n    </app-grid>\\n\\n    <app-textarea id=\\\"GhiChu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" *ngIf=\\\"benhNhanHienTai.YeuCauKhamBenh.IsShowTextBoxLoiDan\\\"\\n        [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.GhiChu\\\" (modelChange)=\\\"isShowButtonThemGhiChuDonThuoc($event)\\\"\\n        maxlength=\\\"8000\\\" label=\\\"Lời dặn\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n    <ng-template #actionToaThuocTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        <div class=\\\"text-right\\\" kendoTooltip>\\n            <ng-container>\\n                <button color=\\\"primary\\\" #btnEdit mat-icon-button kendoTooltip title=\\\"Sửa\\\" (click)=\\\"suaKeToa(dataItem)\\\"\\n                    type=\\\"button\\\">\\n                    <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n                </button>\\n                <button color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" (click)=\\\"xoaKeToa(dataItem)\\\"\\n                    type=\\\"button\\\">\\n                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                </button>\\n                <button color=\\\"warn\\\" mat-icon-button kendoTooltip title=\\\"Tăng STT\\\"\\n                    (click)=\\\"tangGiamSTT(dataItem, 'tang')\\\" type=\\\"button\\\">\\n                    <mat-icon [icIcon]=\\\"icArrowUpward\\\"></mat-icon>\\n                </button>\\n\\n                <button color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Giảm STT\\\"\\n                    (click)=\\\"tangGiamSTT(dataItem, 'giam')\\\" type=\\\"button\\\">\\n                    <mat-icon [icIcon]=\\\"icArrowDownward\\\"></mat-icon>\\n                </button>\\n            </ng-container>\\n        </div>\\n    </ng-template>\\n\\n    <ng-template #tuongTacTemplate let-dataItem>\\n        {{dataItem.TuongTacThuoc == true ? \\\"Có\\\" : \\\"Không\\\"}}\\n    </ng-template>\\n    <ng-template #duongDungTemplate let-dataItem>\\n        {{dataItem.TenDuongDung}}\\n    </ng-template>\\n    <ng-template #diUngTemplate let-dataItem>\\n        <strong *ngIf=\\\"thongTinDuocPham.FlagDiUng == true\\\" class=\\\"red\\\">\\n            {{thongTinDuocPham.DiUngThuoc}}\\n        </strong>\\n        <strong *ngIf=\\\"thongTinDuocPham.FlagDiUng\\\">\\n            {{thongTinDuocPham.DiUngThuoc}}\\n        </strong>\\n    </ng-template>\\n\\n    <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n        <strong>{{value}}</strong>\\n    </ng-template>\\n\\n    <div fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\">\\n        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button id=\\\"btnThemKeToa\\\" title=\\\"Phím tắt: Ctrl + P\\\"\\n            [disabled]=\\\"isDisableButtonPrint\\\" (click)=\\\"showInToaThuocPopup()\\\">\\n            In toa thuốc</button>\\n    </div>\\n    <!-- *ngIf=\\\"benhNhanHienTai.YeuCauKhamBenh.IsShowGridVatTu\\\" -->\\n    <div [style.display]=\\\"benhNhanHienTai.YeuCauKhamBenh.IsShowGridVatTu ? 'block' : 'none'\\\" fxFlex=\\\"100%\\\">\\n        <ng-container>\\n            <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title  mr-4 mt-0\\\">VẬT TƯ</h3>\\n            <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridVatTuYTColumns\\\"\\n                [documentType]=\\\"documentType\\\" #gridVatTu [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n                [useActionDefault]=\\\"false\\\" masterName=\\\"VatTu\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                [autoHeight]=\\\"true\\\" urlGetData=\\\"KhamBenh/GetVatTuYTDataForGridAsync\\\"\\n                (extOnDataBound)=\\\"onDataBoundVatTuGrid($event)\\\" reorderRowsMoveItemData=true\\n                [removeGroupFooterIfIsOnlyOne]=\\\"true\\\" urlGetTotalPage=\\\"KhamBenh/GetVatTuYTTotalPageForGridAsync\\\"\\n                [additionalSearchString]=\\\"benhNhanHienTai.YeuCauKhamBenhId\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n                <ng-template #nhomVatTuGroupHeaderTemplate let-value=\\\"value\\\">\\n                    <strong>{{value}}</strong>\\n                </ng-template>\\n            </app-grid>\\n\\n\\n\\n            <!-- title=\\\"Phím tắt: Ctrl + P\\\" -->\\n            <div fxFlex=\\\"100%\\\" class=\\\"mt-2\\\" fxLayoutAlign=\\\"end center\\\">\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button id=\\\"btnInVatTu\\\"\\n                    (click)=\\\"InVatTuPopup()\\\">\\n                    In vật tư</button>\\n            </div>\\n        </ng-container>\\n        <ng-template #actionVatTuTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            <div class=\\\"text-right\\\" kendoTooltip>\\n                <ng-container>\\n                    <button color=\\\"primary\\\" #btnEditVatTu mat-icon-button kendoTooltip title=\\\"Sửa\\\"\\n                        (click)=\\\"suaVatTu(dataItem)\\\" type=\\\"button\\\">\\n                        <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n                    </button>\\n                    <button color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" (click)=\\\"xoaVatTu(dataItem)\\\"\\n                        type=\\\"button\\\">\\n                        <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                    </button>\\n                </ng-container>\\n            </div>\\n        </ng-template>\\n        <!-- <ng-template #STTVatTuTemplate let-rowIndex=\\\"rowIndex\\\">\\n                    {{rowIndex + 1}}\\n                </ng-template> -->\\n        <ng-template #thanhTienVatTuTemplate let-dataItem>\\n            {{dataItem.ThanhTienVatTu | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n        <ng-template #donGiaVatTuTemplate let-dataItem>\\n            {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n\\n\\n        <ng-template #thanhTienVatTuFooterTemplate let-dataItem>\\n            <p style=\\\"color: blue; font-weight: bold;\\\">\\n                <span>{{totalThanhTienVatTu('ThanhTienVatTu') | number:'0.2-2':'vi-VN'}}</span>\\n        </ng-template>\\n        <ng-template #donGiaVatTuFooterTemplate>\\n            <span style=\\\"float:right\\\">Tổng cộng:</span>\\n        </ng-template>\\n        <ng-template #thanhTienVatTuGroupFooterTemplate let-aggregates>\\n            {{aggregates.ThanhTienVatTu.sum | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n    </div>\\n\\n</div>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <mat-icon class=\\\"icon-war-status-grid\\\" [icIcon]=\\\"icWarning\\\">\\n    </mat-icon>\\n    <div>{{Title}}</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close('No answer')\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content class=\\\"text_align\\\">\\n    <div [innerHtml]=\\\"Message\\\"></div>\\n</mat-dialog-content>\\n\\n\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <ng-container *ngIf=\\\"!isOver30Days\\\">\\n        <button mat-button color=\\\"warn\\\" (click)=\\\"close('Cancel')\\\">{{ButtonCancel}}</button>\\n        <button mat-button color=\\\"primary\\\" (click)=\\\"close('OK')\\\">{{ButtonOk}}</button>\\n    </ng-container>\\n    <ng-container *ngIf=\\\"isOver30Days\\\">\\n        <button mat-button color=\\\"primary\\\" (click)=\\\"close('Close')\\\">{{ButtonClose}}</button>\\n    </ng-container>\\n\\n</mat-dialog-actions>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <!-- <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title title-blue-text\\\">I. Khám lâm sàn</h3>\\n    <ng-container *ngFor=\\\"let items of arrDichVuKham, let i = index\\\">\\n        <div fxFlex=\\\"100%\\\" class=\\\"sub-title title-red-text\\\" style=\\\"font-size: 15px;\\\">{{i+1}}. {{items.Title}}</div>\\n        <ng-container *ngFor=\\\"let item of items.TemplateObj\\\">\\n            <div fxFlex=\\\"{{item.fxFlex}}\\\">\\n                <label class=\\\"ml-4\\\">{{item.Title}}: </label>\\n                <strong class=\\\"ml-2\\\">{{item.Value}}</strong>\\n            </div>\\n        </ng-container>\\n    </ng-container>\\n\\n\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title title-blue-text\\\">II. Khám cận lâm sàn</h3>\\n    <div fxFlex=\\\"100%\\\" class=\\\"sub-title title-red-text\\\" style=\\\"font-size: 15px;\\\">1. Xét nghiệm máu</div>\\n    <strong fxFlex=\\\"100%\\\">a) Công thức máu</strong>\\n    <app-textarea fxFlex=\\\"33%\\\" id=\\\"soLuongHongCau\\\" label=\\\"Số lượng hồng cầu\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n    <app-textarea fxFlex=\\\"33%\\\" id=\\\"soLuongBachCau\\\" label=\\\"Số lượng bạch cầu\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n    <app-textarea fxFlex=\\\"34%\\\" id=\\\"soLuongTieuCau\\\" label=\\\"Số lượng tiểu cầu\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n\\n    <strong fxFlex=\\\"100%\\\">b) Sinh hóa máu</strong>\\n    <app-textarea fxFlex=\\\"33%\\\" id=\\\"duongMau\\\" label=\\\"Đường máu\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n    <app-textarea fxFlex=\\\"33%\\\" id=\\\"ure\\\" label=\\\"Urê\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n    <app-textarea fxFlex=\\\"34%\\\" id=\\\"creatinin\\\" label=\\\"Creatinin\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n    <app-textarea fxFlex=\\\"33%\\\" id=\\\"asatGot\\\" label=\\\"ASAT (GOT)\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n    <app-textarea fxFlex=\\\"33%\\\" id=\\\"asatGpt\\\" label=\\\"ASAT (GPT)\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n\\n    <strong fxFlex=\\\"100%\\\">c) Khác (nếu có)</strong>\\n    <app-textarea fxFlex=\\\"100%\\\" id=\\\"khac\\\" label=\\\"Nội dung\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n\\n    <div fxFlex=\\\"100%\\\" class=\\\"sub-title title-red-text\\\" style=\\\"font-size: 15px;\\\">2. Xét nghiệm nước tiểu</div>\\n    <app-textarea fxFlex=\\\"50%\\\" id=\\\"xnNuocTieuPhanLoaiSucKhoe\\\" label=\\\"a) Đường\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n    <app-textarea fxFlex=\\\"50%\\\" id=\\\"xnNuocTieuProtein\\\" label=\\\"b) Prôtêin\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n    <app-textarea fxFlex=\\\"100%\\\" id=\\\"xnNuocTieukhac\\\" label=\\\"c) Khác (nếu có)\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n\\n    <div fxFlex=\\\"100%\\\" class=\\\"sub-title title-red-text\\\" style=\\\"font-size: 15px;\\\">3. Chẩn đoán hình ảnh</div>\\n    <app-textarea fxFlex=\\\"100%\\\" id=\\\"chanDoanHinhAnh\\\" label=\\\"Nội dung\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title title-blue-text\\\">III. Kết luận</h3>\\n    <app-textarea fxFlex=\\\"50%\\\" id=\\\"phanLoaiSucKhoe\\\" label=\\\"Phân loại sức khỏe\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n    <app-textarea fxFlex=\\\"50%\\\" id=\\\"cacBenhTat\\\" label=\\\"Các bệnh tật (nếu có)\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n\\n    <div fxFlex=\\\"100%\\\" style=\\\"border-bottom: 1px solid var(--foreground-divider)\\\">\\n        <app-checkbox fxFlex=\\\"20%\\\" id=\\\"keToa\\\" label=\\\"KÊ TOA\\\"></app-checkbox>\\n    </div> -->\\n\\n    <!-- <app-radio fxFlex=\\\"25%\\\" id=\\\"ThuocBV\\\" name=\\\"ThuocBV\\\" fxFlex=\\\"25%\\\" label=\\\"Khu vực\\\"\\n        [items]=\\\"[{Value:3,Text:'Trong BV'},{Value:4,Text:'Ngoài BV'}]\\\">\\n    </app-radio> -->\\n    <app-combobox fxFlex=\\\"50%\\\" label=\\\"Dược phẩm\\\" id=\\\"DuocPhamId\\\" required=\\\"true\\\" url=\\\"KhamBenh/DuocPhams\\\"\\n        [template]=\\\"DuocPhamTemplate\\\" [templateHeader]=\\\"DuocPhamTemplateHeader\\\"\\n        [validationerror]=\\\"'DuocPhamId' | validationerror:validationErrors\\\" class=\\\"item-no-padding\\\"\\n        [popupSettings]=\\\"{width: 600,popupClass:'item-no-padding'}\\\">\\n        <ng-template #DuocPhamTemplateHeader let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <th width=\\\"30%\\\">Tên</th>\\n                    <th width=\\\"30%\\\">Hoạt Chất</th>\\n                    <th style=\\\"text-align: right; right: 10px;\\\" width=\\\"auto\\\">SL Tồn</th>\\n                    <th style=\\\"text-align: center; right: 10px;\\\" width=\\\"auto\\\">HSD</th>\\n    \\n                </tr>\\n            </table>\\n        </ng-template>\\n        <ng-template #DuocPhamTemplate let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <td width=\\\"30%\\\">{{dataItem.Ten}}</td>\\n                    <td width=\\\"30%\\\">{{dataItem.HoatChat}}</td>\\n                    <td style=\\\"text-align: right;\\\" width=\\\"auto\\\">{{dataItem.SLTonFormat}}</td>\\n                    <td style=\\\"text-align: center;\\\" width=\\\"auto\\\">{{dataItem.HanSuDung}}</td>\\n                </tr>\\n            </table>\\n        </ng-template>\\n    </app-combobox>\\n    <div fxFlex=\\\"100%\\\">\\n        <div fxFlex=\\\"100%\\\" style=\\\"border:1px solid #ccc;border-radius: 5px;padding: 7px 15px 8px 15px;background: #e3f2fd;\\\">\\n            <ul class=\\\"inline\\\" *ngIf=\\\"keToaNew.DuocPhamId != 0\\\">\\n                <li>Đơn vị tính: <strong>{{thongTinDuocPham.TenDonViTinh}}</strong></li>\\n                <li>Đường dùng: <strong>{{thongTinDuocPham.TenDuongDung}}</strong></li>\\n                <li>Tương tác thuốc:\\n                    <strong *ngIf=\\\"thongTinDuocPham.FlagTuongTac == true\\\" class=\\\"red\\\">{{thongTinDuocPham.TuongTacThuoc}}\\n                    </strong>\\n                    <strong *ngIf=\\\"thongTinDuocPham.FlagTuongTac == false\\\">\\n                        {{thongTinDuocPham.TuongTacThuoc}}\\n                    </strong>\\n                </li>\\n                <li>Dị ứng thuốc:\\n                    <strong *ngIf=\\\"thongTinDuocPham.FlagDiUng == true\\\" class=\\\"red\\\">\\n                        {{thongTinDuocPham.DiUngThuoc}}\\n                    </strong>\\n                    <strong *ngIf=\\\"thongTinDuocPham.FlagDiUng == false\\\">\\n                        {{thongTinDuocPham.DiUngThuoc}}\\n                    </strong>\\n                </li>\\n                <li>Mức độ:\\n                    <strong>\\n                        <!-- {{benhNhanHienTai.YeuCauKhamBenh.TenMucDo}} -->\\n                    </strong>\\n                </li>\\n                <li>Thuốc đã kê:\\n                    <strong *ngIf=\\\"thongTinDuocPham.FlagThuocDaKe == true\\\" class=\\\"red\\\">\\n                        {{thongTinDuocPham.ThuocDaKe}}\\n                    </strong>\\n                    <strong *ngIf=\\\"thongTinDuocPham.FlagThuocDaKe == false\\\">\\n                        {{thongTinDuocPham.ThuocDaKe}}\\n                    </strong>\\n                </li>\\n                <!-- *ngIf=\\\"this.loaiKhoThuoc != 3\\\" -->\\n                <li>\\n                    Tồn kho:\\n                    <strong>\\n                        <span *ngIf=\\\"thongTinDuocPham.TonKho < 10\\\" class=\\\"red\\\">\\n                            {{thongTinDuocPham.TonKhoFormat}}\\n                        </span>\\n                        <span *ngIf=\\\"thongTinDuocPham.TonKho > 10\\\">\\n                            {{thongTinDuocPham.TonKhoFormat}}\\n                        </span>\\n                    </strong>\\n                </li>\\n                <li>\\n                    HSD:\\n                    <strong>\\n                        <strong>\\n                            {{thongTinDuocPham.HSD}}\\n                        </strong>\\n                    </strong>\\n                </li>\\n            </ul>\\n        </div>\\n    </div>\\n    <app-textboxnumeric id=\\\"SoLuongAdd\\\" fxFlex=\\\"9%\\\" min=\\\"1\\\" max=\\\"999999999\\\" label=\\\"SL\\\" format=\\\"#.##\\\" [decimals]=\\\"2\\\"\\n        [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\" required=\\\"true\\\">\\n    </app-textboxnumeric>\\n    <app-textbox fxFlex=\\\"10%\\\" id=\\\"LieuDung\\\" label=\\\"L.dùng/ngày\\\">\\n    </app-textbox>\\n    <app-autocomplete id=\\\"Sang\\\" fxFlex=\\\"7%\\\" label=\\\"Sáng\\\" placeHolder=\\\"SL\\\"\\n        [validationerror]=\\\"'SangDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n    </app-autocomplete>\\n    <app-timepicker id=\\\"GioSang\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" [tabindex]=\\\"-1\\\" [modelIsNumber]=\\\"true\\\"\\n        moreClass=\\\"pl-0\\\">\\n    </app-timepicker>\\n    <app-autocomplete id=\\\"Trua\\\" fxFlex=\\\"7%\\\" label=\\\"Trưa\\\" placeHolder=\\\"SL\\\"\\n        [validationerror]=\\\"'TruaDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n    </app-autocomplete>\\n    <app-timepicker id=\\\"GioTrua\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" [tabindex]=\\\"-1\\\" [modelIsNumber]=\\\"true\\\"\\n        moreClass=\\\"pl-0\\\">\\n    </app-timepicker>\\n    <app-autocomplete id=\\\"Chieu\\\" fxFlex=\\\"7%\\\" label=\\\"Chiều\\\" placeHolder=\\\"SL\\\"\\n        [validationerror]=\\\"'ChieuDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n    </app-autocomplete>\\n    <app-timepicker id=\\\"GioChieu\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" [tabindex]=\\\"-1\\\" [modelIsNumber]=\\\"true\\\"\\n        moreClass=\\\"pl-0\\\">\\n    </app-timepicker>\\n    <app-autocomplete id=\\\"Toi\\\" fxFlex=\\\"7%\\\" label=\\\"Tối\\\" placeHolder=\\\"SL\\\"\\n        [validationerror]=\\\"'ToiDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n    </app-autocomplete>\\n    <app-timepicker id=\\\"GioToi\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" [tabindex]=\\\"-1\\\" [modelIsNumber]=\\\"true\\\"\\n        moreClass=\\\"pl-0\\\"></app-timepicker>\\n    <app-textboxnumeric fxFlex=\\\"13%\\\" min=\\\"0\\\" max=\\\"9999\\\" label=\\\"Số ngày\\\">\\n    </app-textboxnumeric>\\n    \\n    <app-autocomplete fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" url=\\\"KhamBenh/GetGhiChuDonThuocChiTietString\\\" label=\\\"Cách dùng\\\"\\n        maxlength=\\\"4000\\\">\\n    </app-autocomplete>\\n\\n    <div fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\">\\n        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button id=\\\"btnThemKeToa\\\">Thêm</button>\\n    </div>\\n\\n    <app-grid fxFlex=\\\"100%\\\" #toaThuoc [gridColumns]=\\\"gridToaThuocColumns\\\" [documentType]=\\\"documentType\\\"\\n        [removeGroupFooterIfIsOnlyOne]=\\\"true\\\" masterName=\\\"ToaThuoc\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border\\\"\\n        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" style=\\\"width: 1px;\\\"\\n        [pageable]=\\\"false\\\" [groups]=\\\"groupsChild\\\" [lazyLoadPage]=\\\"true\\\" reorderRowsMoveItemData=true\\n        [autoHeight]=\\\"true\\\" gridDataSource=\\\" \\\">\\n        <ng-template #sangTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.ThoiGianDungSangDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.SangDisplay + ' ' +(dataItem.ThoiGianDungSangDisplay)}}\\\">\\n                    {{dataItem.SangDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungSangDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ThoiGianDungSangDisplay == null\\\" kendoTooltip title=\\\"{{dataItem.SangDisplay}}\\\">\\n                    {{dataItem.SangDisplay}}\\n                </p>\\n            </div>\\n        </ng-template>\\n        <ng-template #truaTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.ThoiGianDungTruaDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.TruaDisplay + ' ' +(dataItem.ThoiGianDungTruaDisplay)}}\\\">\\n                    {{dataItem.TruaDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungTruaDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ThoiGianDungTruaDisplay == null\\\" kendoTooltip title=\\\"{{dataItem.TruaDisplay}}\\\">\\n                    {{dataItem.TruaDisplay}}\\n                </p>\\n            </div>\\n        </ng-template>\\n        <ng-template #chieuTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.ThoiGianDungChieuDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ChieuDisplay + ' ' +(dataItem.ThoiGianDungChieuDisplay)}}\\\">\\n                    {{dataItem.ChieuDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungChieuDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ThoiGianDungChieuDisplay == null\\\" kendoTooltip title=\\\"{{dataItem.ChieuDisplay}}\\\">\\n                    {{dataItem.ChieuDisplay}}\\n                </p>\\n            </div>\\n\\n\\n        </ng-template>\\n        <ng-template #toiTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.ThoiGianDungToiDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ToiDisplay + ' ' +(dataItem.ThoiGianDungToiDisplay)}}\\\">\\n                    {{dataItem.ToiDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungToiDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ThoiGianDungToiDisplay == null\\\" kendoTooltip title=\\\"{{dataItem.ToiDisplay}}\\\">\\n                    {{dataItem.ToiDisplay}}\\n                </p>\\n            </div>\\n\\n        </ng-template>\\n        <ng-template #donGiaTemplate let-dataItem>\\n            {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n        <ng-template #thanhTienTemplate let-dataItem>\\n            {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n        <ng-template #thanhTienFooterTemplate let-dataItem>\\n            <p style=\\\"color: blue; font-weight: bold;\\\">\\n                <span></span>\\n        </ng-template>\\n        <ng-template #donGiaFooterTemplate>\\n            <span style=\\\"float:right\\\">Tổng cộng:</span>\\n        </ng-template>\\n        <ng-template #thanhTienGroupFooterTemplate let-aggregates>\\n            {{aggregates.ThanhTien.sum | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n        <ng-template #donGiaGroupFooterTemplate let-dataItem>\\n            <span style=\\\"float:right\\\">Cộng:</span>\\n        </ng-template>\\n        <ng-template #soLuongTemplate let-dataItem>\\n            {{dataItem.SoLuongDisplay}}\\n        </ng-template>\\n    </app-grid>\\n\\n    <div fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\">\\n        <button type=\\\"button\\\" mat-button class=\\\"mr-1\\\">In toa thuốc</button>\\n    </div>\\n</div>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <div fxFlex=\\\"100%\\\">\\n        <a (click)=\\\"xemChanDoan()\\\" style=\\\"color:green; text-decoration: underline; font-weight: bold; bottom: 20px;\\\">Xem\\n            chẩn đoán của bác sĩ khác</a>\\n    </div>\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title\\\" style=\\\"text-transform: none;\\\">TÓM TẮT KẾT QUẢ CLS</h3>\\n    <app-textarea fxFlex=\\\"100%\\\" id=\\\"TomTatKetQuaCLS\\\" label=\\\"Kết Quả\\\" [(model)]=\\\"yeuCauKhamBenh.TomTatKetQuaCLS\\\"\\n        (modelChange)=\\\"changeData()\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title\\\" style=\\\"text-transform: none;\\\">CHẨN ĐOÁN ICD CHÍNH</h3>\\n\\n    <app-combobox fxFlex=\\\"50%\\\" label=\\\"Chẩn đoán ICD chính\\\" url=\\\"KhamBenh/ICD\\\" [(model)]=\\\"yeuCauKhamBenh.IcdchinhId\\\"\\n        (selectionChange)=\\\"iCDSelectionChange($event)\\\" [(modelText)]=\\\"yeuCauKhamBenh.TenICDChinh\\\" required=\\\"true\\\"\\n        [template]=\\\"iCDChinhTemplate\\\" [templateHeader]=\\\"iCDChinhTemplateHeader\\\" class=\\\"item-no-padding\\\"\\n        [queryInfo]=\\\"{ParameterDependencies:'{ChanDoanICDId:' + yeuCauKhamBenh.IcdchinhId +'}', Take: 50}\\\"\\n        [validationerror]=\\\"'IcdchinhId' | validationerror:validationErrors\\\">\\n\\n        <ng-template #iCDChinhTemplateHeader let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <th width=\\\"25%\\\">Mã</th>\\n                    <th>Tên Tiếng Việt</th>\\n                </tr>\\n            </table>\\n        </ng-template>\\n        <ng-template #iCDChinhTemplate let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <td width=\\\"25%\\\">{{dataItem.Ma}}</td>\\n                    <td>{{dataItem.Ten}}</td>\\n                </tr>\\n            </table>\\n        </ng-template>\\n\\n    </app-combobox>\\n\\n    <app-textarea fxFlex=\\\"50%\\\" id=\\\"GhiChu\\\" label=\\\"Chẩn đoán\\\" [(model)]=\\\"yeuCauKhamBenh.GhiChuICDChinh\\\"\\n        (modelChange)=\\\"changeData()\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\">\\n    </app-textarea>\\n    <div fxFlex=\\\"100%\\\">\\n        <h3 class=\\\"sub-title\\\" style=\\\"text-transform: none;\\\">CHẨN ĐOÁN ICD KÈM THEO\\n            <button (click)=\\\"themICDsPhu()\\\">\\n                <mat-icon color=\\\"#005dab\\\" [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n            </button>\\n        </h3>\\n        <app-grid #iCDKhacs masterName=\\\"ICDPhuIds\\\" [gridColumns]=\\\"gridICDsPhuKhacColumns\\\" [useAddDeault]=\\\"false\\\"\\n            class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n            [gridDataSource]=\\\"dataSourceICDsPhuKhac\\\" [maxHeight]=\\\"150\\\" [lazyLoadPage]=\\\"true\\\" style=\\\"width: 1px;\\\"\\n            [pageable]=\\\"false\\\">\\n        </app-grid>\\n        <ng-template #teniCDsPhuKhacTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            <app-combobox *ngIf=\\\"dataItem.Id == 0\\\" [(model)]=\\\"dataItem.ICDId\\\"\\n                (selectionChange)=\\\"onChangeSetTenICDPhu($event, rowIndex)\\\" [modelText]=\\\"dataItem.TenICD\\\"\\n                popupSettings=\\\"null\\\" url=\\\"KhamBenh/GetListICDBaoGomItemDaChon\\\" [required]=\\\"true\\\"\\n                [queryInfo]=\\\"{ParameterDependencies:'{ICDId:' + dataItem.ICDId +'}', Take: 50}\\\"\\n                [validationerror]=\\\"'YeuCauKhamBenhICDKhacs['+rowIndex+'].ICDId' | validationerror:validationErrors\\\"\\n                class=\\\"no-label item-no-padding\\\" label=\\\" \\\" [templateHeader]=\\\"chanDoanPhanbietTemplateHeader\\\"\\n                [template]=\\\"chanDoanPhanBietTemplate\\\">\\n                <!-- url=\\\"ChuanDoan/GetChuanDoanLienKetICD\\\" -->\\n                <ng-template #chanDoanPhanbietTemplateHeader let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <th width=\\\"20%\\\">Mã</th>\\n                            <th>Tên Tiếng Việt</th>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n                <ng-template #chanDoanPhanBietTemplate let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                            <td>{{dataItem.Ten}}</td>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n            </app-combobox>\\n            <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.TenICD}}</p>\\n        </ng-template>\\n        <ng-template #ghiChuICDsPhuKhacTemplate let-dataItem>\\n            <app-textarea *ngIf=\\\"dataItem.Id == 0\\\" maxlength=\\\"4000\\\" [(model)]=\\\"dataItem.GhiChu\\\" class=\\\"no-label\\\"\\n                label=\\\"\\\" minHeight=\\\"20\\\">\\n            </app-textarea>\\n            <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.GhiChu}}</p>\\n        </ng-template>\\n        <ng-template #actionICDsPhuKhacTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <button style=\\\"color: red\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\"\\n                    (click)=\\\"xoaICDsPhu(dataItem)\\\">\\n                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                </button>\\n            </div>\\n        </ng-template>\\n    </div>\\n\\n    <div fxFlex=\\\"100%\\\">\\n        <h3 class=\\\"sub-title\\\" style=\\\"text-transform: none;\\\">CÁCH GIẢI QUYẾT\\n        </h3>\\n    </div>\\n    <app-textarea fxFlex=\\\"100%\\\" id=\\\"CachGiaiQuyet\\\" label=\\\"Cách giải quyết\\\" [(model)]=\\\"yeuCauKhamBenh.CachGiaiQuyet\\\"\\n        required=\\\"true\\\" (modelChange)=\\\"changeData()\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\"\\n        [validationerror]=\\\"'CachGiaiQuyet' | validationerror:validationErrors\\\">\\n    </app-textarea>\\n\\n    <div fxFlex=\\\"100%\\\" kendoTooltip>\\n        <app-checkbox *ngIf=\\\"yeuCauKhamBenh.LaChiDinhTuNoiTru != true\\\" id=\\\"ChoVeKeDonThuoc\\\" fxFlex=\\\"20%\\\" label=\\\"Cho về, Kê đơn thuốc\\\" [(model)]=\\\"yeuCauKhamBenh.CoKeToa\\\"\\n            title=\\\"Phím tắt: Ctrl + F7\\\" (modelChange)=\\\"boCheckDeXoaToaThuoc($event)\\\"></app-checkbox>\\n        <!-- [disabled]=\\\"yeuCauKhamBenh.CoNhapVien == true || yeuCauKhamBenh.CoChuyenVien || yeuCauKhamBenh.CoTuVong || yeuCauKhamBenh.KhongKeToa\\\" -->\\n\\n        <app-checkbox id=\\\"ChoVeKhongKeDonThuoc\\\" label=\\\"Cho về, Không toa\\\" [(model)]=\\\"yeuCauKhamBenh.KhongKeToa\\\"\\n            (modelChange)=\\\"checkKhongKeToa($event)\\\">\\n        </app-checkbox>\\n        <!-- [disabled]=\\\"yeuCauKhamBenh.CoNhapVien == true || yeuCauKhamBenh.CoChuyenVien || yeuCauKhamBenh.CoTuVong || yeuCauKhamBenh.CoKeToa\\\" -->\\n    </div>\\n    <ng-container *ngIf=\\\"yeuCauKhamBenh.CoKeToa\\\">\\n        <app-lan-kham-hien-tai-ke-toa [data]=\\\"benhNhanHienTai\\\" [dataYeuCauKhamBenhPrevious]=\\\"dataYeuCauKhamBenhPrevious\\\"\\n            (dataThuoc)=\\\"dataThuoc($event)\\\" (dataVatTu)=\\\"dataVatTu($event)\\\"\\n            (validationErrorsOut)=\\\"validationErrorsOut($event)\\\" (hideTextBoxLoiDan)=\\\"hideTextBoxLoiDan($event)\\\"\\n            fxFlex=\\\"100%\\\" [documentType]=\\\"documentType\\\">\\n        </app-lan-kham-hien-tai-ke-toa>\\n    </ng-container>\\n\\n    <div fxFlex=\\\"100%\\\" kendoTooltip>\\n        <app-checkbox id=\\\"HenTaiKham\\\" label=\\\"Hẹn tái khám\\\" [(model)]=\\\"yeuCauKhamBenh.CoTaiKham\\\"\\n            title=\\\"Phím tắt: Ctrl + F8\\\" (modelChange)=\\\"boCheckDeXoaTaiKham()\\\" (click)=\\\"removeValidator()\\\">\\n        </app-checkbox>\\n    </div>\\n    <!-- [disabled]=\\\"yeuCauKhamBenh.CoNhapVien == true || yeuCauKhamBenh.CoChuyenVien || yeuCauKhamBenh.CoTuVong\\\" -->\\n\\n\\n    <ng-container *ngIf=\\\"yeuCauKhamBenh.CoTaiKham\\\">\\n        <app-datepicker fxFlex=\\\"25%\\\" label=\\\"Ngày hẹn tái khám\\\" [(model)]=\\\"yeuCauKhamBenh.NgayTaiKham\\\"\\n            [validationerror]=\\\"'NgayTaiKham' | validationerror:validationErrors\\\" (modelChange)=\\\"changeData()\\\"\\n            required=\\\"true\\\">\\n        </app-datepicker>\\n        <app-textarea id=\\\"GhiChuTaiKham\\\" maxlength=\\\"2000\\\" fxFlex=\\\"75%\\\" label=\\\"Ghi chú\\\" (modelChange)=\\\"changeData()\\\"\\n            [(model)]=\\\"yeuCauKhamBenh.GhiChuTaiKham\\\" minHeight=\\\"20\\\">\\n        </app-textarea>\\n    </ng-container>\\n    <div fxFlex=\\\"100%\\\" kendoTooltip>\\n        <app-checkbox id=\\\"CoDieuTriNgoaiTru\\\" label=\\\"Điều trị ngoại trú\\\"\\n            (modelChange)=\\\"boCheckDeXoaDieuTriNgoaiChu($event)\\\" title=\\\"Phím tắt: Ctrl + F9\\\"\\n            [(model)]=\\\"yeuCauKhamBenh.CoDieuTriNgoaiTru\\\" (click)=\\\"removeValidator()\\\">\\n        </app-checkbox>\\n    </div>\\n    <!-- [disabled]=\\\"yeuCauKhamBenh.CoNhapVien == true || yeuCauKhamBenh.CoChuyenVien || yeuCauKhamBenh.CoTuVong\\\" -->\\n\\n\\n    <ng-container *ngIf=\\\"yeuCauKhamBenh.CoDieuTriNgoaiTru && yeuCauKhamBenh.YeuCauDichVuKyThuat != undefined\\\">\\n        <app-combobox fxFlex=\\\"50%\\\" id=\\\"DichVuKyThuatBenhVienId\\\" label=\\\"Dịch vụ kỹ thuật\\\"\\n            [modelText]=\\\"yeuCauKhamBenh.YeuCauDichVuKyThuat.TenDichVuHienThi\\\"\\n            (modelChange)=\\\"changeDataDichVuKyThuat($event)\\\"\\n            [(model)]=\\\"yeuCauKhamBenh.YeuCauDichVuKyThuat.DichVuKyThuatBenhVienId\\\"\\n            [validationerror]=\\\"'YeuCauDichVuKyThuat.DichVuKyThuatBenhVienId' | validationerror:validationErrors\\\"\\n            url=\\\"KhamBenh/GetDichVuKyThuatBenhViens\\\" [queryInfo]=\\\"queryInfoDichVuKyThuatBenhVien\\\" required=\\\"true\\\">\\n        </app-combobox>\\n\\n        <app-textboxnumeric fxFlex=\\\"20%\\\" min=\\\"0\\\" max=\\\"9999\\\" id=\\\"SoLan\\\" required=\\\"true\\\"\\n            [(model)]=\\\"yeuCauKhamBenh.YeuCauDichVuKyThuat.SoLan\\\" (modelChange)=\\\"changeData()\\\" label=\\\"Số lần điều trị\\\"\\n            [validationerror]=\\\"'YeuCauDichVuKyThuat.SoLan' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n\\n        <app-datepicker fxFlex=\\\"30%\\\" id=\\\"ThoiDiemBatDauDieuTri\\\" label=\\\"Thời gian bắt đầu điều trị\\\"\\n            [(model)]=\\\"yeuCauKhamBenh.YeuCauDichVuKyThuat.ThoiDiemBatDauDieuTri\\\"\\n            [validationerror]=\\\"'YeuCauDichVuKyThuat.ThoiDiemBatDauDieuTri' | validationerror:validationErrors\\\"\\n            (modelChange)=\\\"changeData()\\\" required=\\\"true\\\">\\n        </app-datepicker>\\n    </ng-container>\\n    <div *ngIf=\\\"yeuCauKhamBenh.LaChiDinhTuNoiTru != true\\\" fxFlex=\\\"100%\\\" kendoTooltip>\\n        <app-checkbox id=\\\"NhapVien\\\" label=\\\"Nhập viện\\\" [(model)]=\\\"yeuCauKhamBenh.CoNhapVien\\\" title=\\\"Phím tắt: Ctrl + F10\\\"\\n            (click)=\\\"removeValidator()\\\" (modelChange)=\\\"boCheckDeXoaNhapVien($event)\\\">\\n        </app-checkbox>\\n        <!-- [disabled]=\\\" yeuCauKhamBenh.CoKeToa==true || yeuCauKhamBenh.CoTaiKham || yeuCauKhamBenh.CoTuVong ||\\n        yeuCauKhamBenh.CoDieuTriNgoaiTru || yeuCauKhamBenh.KhongKeToa\\\"  -->\\n    </div>\\n\\n    <div fxFlex=\\\"100%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n        *ngIf=\\\"yeuCauKhamBenh.CoNhapVien\\\">\\n        <app-combobox [(model)]=\\\"yeuCauKhamBenh.KhoaPhongNhapVienId\\\" url=\\\"KhamBenh/KhoaPhongNhapViens\\\" required=\\\"true\\\"\\n            (selectionChange)=\\\"selectChangeKhoa($event)\\\" [modelText]=\\\"yeuCauKhamBenh.TenKhoaPhongNhapVien\\\" fxFlex=\\\"50%\\\"\\n            [validationerror]=\\\"'KhoaPhongNhapVienId' | validationerror:validationErrors\\\" id=\\\"KhoaId\\\" label=\\\"Khoa\\\">\\n        </app-combobox>\\n        <!-- <app-textarea fxFlex=\\\"50%\\\" [(model)]=\\\"yeuCauKhamBenh.LyDoNhapVien\\\" id=\\\"LyDoNhapVien\\\"\\n            (modelChange)=\\\"changeData()\\\" label=\\\"Lý Do\\\" maxlength=\\\"1000\\\" minHeight=\\\"20\\\">\\n        </app-textarea> -->\\n\\n        <app-autocomplete fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\" [(model)]=\\\"yeuCauKhamBenh.LyDoNhapVien\\\"\\n            (modelChange)=\\\"changeData()\\\" url=\\\"KhamBenh/GetLyDoNhapVienString\\\" label=\\\"Lý Do\\\" maxlength=\\\"1000\\\"\\n            minHeight=\\\"20\\\" (openCombobox)=\\\"openCombobox($event)\\\">\\n        </app-autocomplete>\\n    </div>\\n\\n    <div fxFlex=\\\"100%\\\" kendoTooltip>\\n        <app-checkbox id=\\\"ChuyenVien\\\" label=\\\"Chuyển tuyến\\\" [(model)]=\\\"yeuCauKhamBenh.CoChuyenVien\\\"\\n            title=\\\"Phím tắt: Ctrl + F11\\\" (modelChange)=\\\"boCheckDeXoaChuyenVien($event)\\\">\\n        </app-checkbox>\\n    </div>\\n    <!-- [disabled]=\\\"yeuCauKhamBenh.CoKeToa == true || yeuCauKhamBenh.CoTaiKham || yeuCauKhamBenh.CoTuVong || yeuCauKhamBenh.CoDieuTriNgoaiTru || yeuCauKhamBenh.KhongKeToa\\\" -->\\n\\n\\n    <div fxFlex=\\\"100%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n        *ngIf=\\\"yeuCauKhamBenh.CoChuyenVien\\\">\\n\\n        <app-combobox [(model)]=\\\"yeuCauKhamBenh.BenhVienChuyenVienId\\\" url=\\\"KhamBenh/BenhVienChuyenViens\\\" required=\\\"true\\\"\\n            [modelText]=\\\"yeuCauKhamBenh.TenBenhVienChuyenVien\\\" fxFlex=\\\"40%\\\" id=\\\"BenhVienId\\\"\\n            [queryInfo]=\\\"queryInfoBenhVienChuyenVien\\\"\\n            [validationerror]=\\\"'BenhVienChuyenVienId' | validationerror:validationErrors\\\"\\n            (selectionChange)=\\\"selectChangeBenhVien($event)\\\" label=\\\"Bệnh Viện Chuyển Đến\\\"></app-combobox>\\n\\n        <app-textarea fxFlex=\\\"60%\\\" [(model)]=\\\"yeuCauKhamBenh.TinhTrangBenhNhanChuyenVien\\\"\\n            id=\\\"TinhTrangBenhNhanChuyenVien\\\" (modelChange)=\\\"changeData()\\\" label=\\\"Tình Trạng Người Bệnh Lúc Chuyển Tuyến\\\"\\n            maxlength=\\\"1000\\\" minHeight=\\\"20\\\">\\n        </app-textarea>\\n\\n        <app-radio fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"LoaiLyDoChuyenVien\\\"\\n            [items]=\\\"[{Value:1,Text:'Đủ điều kiện chuyển tuyến'},{Value:2,Text:'Theo yêu cầu của người bệnh hoặc người đại diện hợp pháp của người bệnh'}]\\\"\\n            [(model)]=\\\"yeuCauKhamBenh.LoaiLyDoChuyenVien\\\" label=\\\"Lý Do Chuyển Tuyến\\\" (modelChange)=\\\"changeData()\\\"\\n            [validationerror]=\\\"'LoaiLyDoChuyenVien' | validationerror:validationErrors\\\">\\n        </app-radio>\\n        <app-textarea fxFlex=\\\"40%\\\" [(model)]=\\\"yeuCauKhamBenh.KetQuaXetNghiemCLS\\\"\\n            id=\\\"KetQuaXetNghiemCLS\\\" (modelChange)=\\\"changeData()\\\" label=\\\"Kết Quả Xét Nghiệm, Cận Lâm Sàng\\\"\\n            maxlength=\\\"2000\\\" minHeight=\\\"20\\\">\\n        </app-textarea>\\n        <app-textarea fxFlex=\\\"60%\\\" [(model)]=\\\"yeuCauKhamBenh.PhuongPhapTrongDieuTri\\\"\\n            id=\\\"PhuongPhapTrongDieuTri\\\" (modelChange)=\\\"changeData()\\\" label=\\\"Phương pháp, thủ thuật, kỹ thuật, thuốc đã sử dụng trong điều trị\\\"\\n            maxlength=\\\"2000\\\" minHeight=\\\"20\\\">\\n        </app-textarea>\\n        <app-textarea *ngIf=\\\"coLyDoChuyenVien\\\" fxFlex=\\\"100%\\\" [(model)]=\\\"yeuCauKhamBenh.LyDoChuyenVien\\\"\\n            id=\\\"LyDoChuyenVien\\\" (modelChange)=\\\"changeData()\\\" label=\\\"Hướng Điều Trị\\\" maxlength=\\\"1000\\\" minHeight=\\\"20\\\">\\n        </app-textarea>\\n        <app-datetimepicker fxFlex=\\\"30%\\\" [(model)]=\\\"yeuCauKhamBenh.ThoiDiemChuyenVien\\\" id=\\\"ThoiDiemChuyenVien\\\"\\n            required=\\\"true\\\" (modelChange)=\\\"changeData()\\\" [minDate]=\\\"dateChuyenVienMin\\\"\\n            [validationerror]=\\\"'ThoiDiemChuyenVien' | validationerror:validationErrors\\\" label=\\\"Thời Điểm Chuyển Tuyến\\\">\\n        </app-datetimepicker>\\n\\n        <!-- required=\\\"true\\\" -->\\n        <!-- [validationerror]=\\\"'NhanVienHoTongChuyenVienId' | validationerror:validationErrors\\\" -->\\n        <app-combobox [(model)]=\\\"yeuCauKhamBenh.NhanVienHoTongChuyenVienId\\\" url=\\\"KhamBenh/GetNhanVienHoTongs\\\"\\n            [modelText]=\\\"yeuCauKhamBenh.HoTenNhanVienHoTong\\\" fxFlex=\\\"30%\\\"\\n            (selectionChange)=\\\"selectChangeNhanVienHoTong($event)\\\" id=\\\"NhanVienHoTongChuyenVienId\\\"\\n            [templateHeader]=\\\"nhanViensTemplateHeader\\\" [template]=\\\"nhanViensTemplate\\\" label=\\\"Nhân Viên Hộ Tống\\\">\\n            <ng-template #nhanViensTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"30%\\\">Họ tên</th>\\n                        <th width=\\\"30%\\\">Chức danh</th>\\n                        <th width=\\\"40%\\\">Trình độ chuyên môn</th>\\n\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #nhanViensTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"30%\\\">{{dataItem.TenNhanVien}}</td>\\n                        <td width=\\\"30%\\\">{{dataItem.TenNhomChucDanh}}</td>\\n                        <td width=\\\"40%\\\">{{dataItem.TenVanBang}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n        <app-textarea fxFlex=\\\"40%\\\" [(model)]=\\\"yeuCauKhamBenh.PhuongTienChuyenVien\\\" id=\\\"PhuongTienChuyenVien\\\"\\n            (modelChange)=\\\"changeData()\\\" label=\\\"Phương Tiện Vận Chuyển\\\" maxlength=\\\"1000\\\" minHeight=\\\"20\\\">\\n        </app-textarea>\\n\\n    </div>\\n    <div fxFlex=\\\"100%\\\" *ngIf=\\\"yeuCauKhamBenh.CoChuyenVien\\\">\\n        <button style=\\\"float: right;\\\"\\n            [disabled]=\\\"yeuCauKhamBenh.BenhVienChuyenVienId == null || yeuCauKhamBenh.ThoiDiemChuyenVien == null\\\"\\n            (click)=\\\"InGiayChuyenVien()\\\" type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\">In\\n            Giấy Chuyển Tuyến</button>\\n        <!-- [disabled]=\\\"yeuCauKhamBenh.BenhVienChuyenVienId == null || yeuCauKhamBenh.ThoiDiemChuyenVien == null \\n                        || yeuCauKhamBenh.NhanVienHoTongChuyenVienId == null\\\"  -->\\n    </div>\\n\\n    <div fxFlex=\\\"100%\\\" kendoTooltip>\\n        <app-checkbox label=\\\"Tử vong\\\" [(model)]=\\\"yeuCauKhamBenh.CoTuVong\\\" id=\\\"CoTuVong\\\" title=\\\"Phím tắt: Ctrl + F12\\\"\\n            (modelChange)=\\\"coCheckTuVong($event)\\\">\\n        </app-checkbox>\\n        <!-- [disabled]=\\\"yeuCauKhamBenh.CoKeToa == true || yeuCauKhamBenh.CoTaiKham || yeuCauKhamBenh.CoDieuTriNgoaiTru || yeuCauKhamBenh.KhongKeToa\\\" -->\\n\\n    </div>\\n</div>\"","export default \"<div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n    <div class=\\\"card\\\" fxFlex=\\\"100%\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <!--Begin Chuẩn đoán hình ảnh  -->\\n            <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3\\\">\\n                <legend>KẾT QUẢ CĐHA VÀ TDCN</legend>\\n                <div class=\\\"mt-1\\\">\\n                    <app-grid masterName=\\\"gridCDHAVaTDCNCLS\\\" fxFlex=\\\"100%\\\" [gridColumns]=\\\"gridColumns\\\"\\n                        [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"true\\\"\\n                        [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                        [urlGetData]=\\\"urlGetDataGrid\\\" [urlGetTotalPage]=\\\"urlGetTotalPageGrid\\\" [autoHeight]=true\\n                        #gridCDHAVaTDCNCLS [detailTemplate]=\\\"detailTemplate\\\" [additionalSearchString]=\\\"YeuCauTiepNhanId\\\"\\n                        [groups]=\\\"groups\\\" maxHeight=\\\"400\\\">\\n                    </app-grid>\\n                </div>\\n            </fieldset>\\n            <!--End Chuẩn đoán hình ảnh -->\\n            <!--Begin Xét Nghiệm  -->\\n            <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3\\\">\\n                <legend>KẾT QUẢ XÉT NGHIỆM</legend>\\n\\n                <div class=\\\"mt-1\\\">\\n                    <app-grid masterName=\\\"gridDuyetYeuCauChayLaiXN\\\" fxFlex=\\\"100%\\\" [sort]=\\\"sort\\\"\\n                        #gridDuyetYeuCauChayLaiXN [documentType]=\\\"documentType\\\" [useHeaderDefault]=\\\"false\\\"\\n                        [useAddDeault]=\\\"false\\\" [useAddDeault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n                        [gridColumns]=\\\"gridXetNghiemColumns\\\" [groups]=\\\"groupXNs\\\" [pageable]=\\\"false\\\"\\n                        [headerTemplate]=\\\"headerTemplate\\\" maxHeight=\\\"400\\\" [gridDataSource]=\\\"dataSourceXetNghiem\\\"\\n                        [collapseGroup]=\\\"true\\\">\\n                    </app-grid>\\n                    <ng-template #headerTemplate>\\n                        <div class=\\\"div-header bg-app-bar px-6 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\"\\n                            fxLayoutAlign=\\\"start center\\\">\\n                            <div class=\\\"bg-card rounded-full border px-4\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs\\n                                fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\" style=\\\"margin-top: 2px;\\\">\\n                                <ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n                                <!-- [(ngModel)]=\\\"searchString\\\" -->\\n                                <input type=\\\"search\\\" name=\\\"searchString\\\"\\n                                    class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n                                    placeholder=\\\"Nhập từ khóa tìm kiếm\\\" [formControl]=\\\"searchCtrl\\\"\\n                                    (ngModelChange)=\\\"searchChanges($event)\\\" (keyup)=\\\"onKeySearchChanges($event)\\\" />\\n                            </div>\\n                            <button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\">\\n                                <mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n                            </button>\\n\\n                            <div fxFlex=\\\"50%\\\" class=\\\"order-color\\\">\\n                                <div class=\\\"set-color black\\\"></div>\\n                                <p>Bình thường</p>\\n                                <div class=\\\"set-color blue\\\"></div>\\n                                <p>Bất thường</p>\\n                                <div class=\\\"set-color red\\\"></div>\\n                                <p>Nguy hiểm</p>\\n                            </div>\\n                        </div>\\n                    </ng-template>\\n                </div>\\n\\n                <div class=\\\"mt-2\\\" fxLayout=\\\"column\\\" style=\\\"position: relative\\\">\\n                    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                        <div *ngIf=\\\"dataSourceXetNghiem != undefined && dataSourceXetNghiem.data.length > 0\\\"\\n                            class=\\\"sticky-button-action py-3 text-right\\\" kendoTooltip fxFlex=\\\"100%\\\">\\n                            <!-- <div style=\\\"float: left;\\\">\\n                               \\n                            </div> -->\\n                            <!-- <button type=\\\"button\\\" mat-raised-button (click)=\\\"InPhieuXn()\\\" class=\\\"icon-color-button\\\"\\n                                color=\\\"primary\\\" mat-raised-button>In Phiếu\\n                                XN</button> -->\\n                            <!-- <button type=\\\"button\\\" mat-raised-button (click)=\\\"yeuCauChayLaiXN()\\\"\\n                                class=\\\"mr-2 icon-color-button\\\" color=\\\"primary\\\" mat-raised-button>Yêu cầu chạy\\n                                lại XN</button> -->\\n                        </div>\\n                    </div>\\n                </div>\\n            </fieldset>\\n            <!--End Xét Nghiệm  -->\\n        </div>\\n    </div>\\n</div>\\n\\n<ng-template #nhomTemplate let-value=\\\"value\\\" let-dataItem>\\n    <div style=\\\"width: 163%\\\" kendoTooltip>\\n        <strong style=\\\"width: 100%;\\\">\\n            {{value}}\\n        </strong>\\n    </div>\\n    <div style=\\\"width: 17%\\\" kendoTooltip>\\n        <button type=\\\"button\\\" mat-raised-button\\n            (click)=\\\"xemXetNghiemTheoNhom(value)\\\" color=\\\"primary\\\"  mat-raised-button class=\\\"mr-2\\\">\\n              Xem \\n        </button>\\n    </div>\\n</ng-template>\\n\\n<ng-template #tenTemplate let-dataItem>\\n    <span\\n        [ngStyle]=\\\"{'padding-left':(dataItem.Level)*20+'px','font-weight':dataItem.IdChilds.length>0?'bold':'normal'}\\\">{{dataItem.Ten}}</span>\\n</ng-template>\\n\\n<ng-template #kqCuTemplate let-dataItem>\\n    <span *ngIf=\\\"dataItem.Level!=1 || (dataItem.Level==1 && dataItem.IdChilds.length==0)\\\"\\n        [ngStyle]=\\\"{'color':dataItem.LoaiKetQuaTuMay == 1 ? 'black' : (dataItem.LoaiKetQuaTuMay == 2 ? 'blue' : 'red'),'font-weight':dataItem.ToDamGiaTri?'bold':'normal'}\\\">{{dataItem.GiaTriCu}}</span>\\n</ng-template>\\n\\n<ng-template #kqMoiTemplate let-dataItem>\\n    <span\\n        [ngStyle]=\\\"{'color':dataItem.LoaiKetQuaTuMay == 1 ? 'black' : (dataItem.LoaiKetQuaTuMay == 2 ? 'blue' : 'red'),'font-weight':dataItem.ToDamGiaTri?'bold':'normal'}\\\">{{dataItem.KetQuaMoi}}</span>\\n</ng-template>\\n\\n<ng-template #nhomGroupHeaderTemplate let-aggregates let-value=\\\"value\\\">\\n    <ng-template #templateInfo let-dataItem>\\n        <table class=\\\"table table-border\\\" width=\\\"100%\\\" *ngIf=\\\"lichSuYeuCauChayLais.length > 0\\\">\\n            <ng-container *ngFor=\\\"let item of lichSuYeuCauChayLais\\\" style=\\\"font-size: 10px !important;\\\">\\n                <tr>\\n                    <td>Người yêu cầu: {{item.NguoiYeuCau}}</td>\\n                </tr>\\n                <tr>\\n                    <td>Ngày yêu cầu: {{item.NguoiYeuCau}}</td>\\n                </tr>\\n                <tr>\\n                    <td>Lý do yêu cầu: {{item.LyDoYeuCau}}</td>\\n                </tr>\\n\\n                <!-- Trạng thái duyệt -->\\n                <tr *ngIf=\\\"item.TrangThai ===  true\\\">\\n                    <td>Người duyệt: {{item.NguoiTuChoi}}</td>\\n                </tr>\\n                <tr class=\\\"in-dam\\\" *ngIf=\\\"item.TrangThai ===  true\\\">\\n                    <td>Ngày duyệt: {{item.NgayTuChoi}}</td>\\n                </tr>\\n\\n                <!-- Trạng thái từ chối -->\\n                <tr *ngIf=\\\"item.TrangThai ===  false\\\">\\n                    <td>Người từ chối: {{item.NguoiTuChoi}}</td>\\n                </tr>\\n                <tr *ngIf=\\\"item.TrangThai ===  false\\\">\\n                    <td>Ngày từ chối: {{item.NgayTuChoi}}</td>\\n                </tr>\\n                <tr class=\\\"in-dam\\\" *ngIf=\\\"item.TrangThai ===  false\\\">\\n                    <td>Lý do yêu cầu: {{item.LyDoTuChoi}}</td>\\n                </tr>\\n            </ng-container>\\n        </table>\\n        <span *ngIf=\\\"lichSuYeuCauChayLais.length <= 0\\\">Chưa có thông tin chạy lại.</span>\\n\\n    </ng-template>\\n    <strong fxFlex=\\\"60%\\\">{{value}}</strong>\\n</ng-template>\\n\\n<ng-template #trangThaiTemplate let-dataItem>\\n    <div *ngIf=\\\"dataItem.LoaiKetQuaCLS === 'Xét nghiệm' && dataItem.TrangThaiXetNghiemLai=== true\\\">\\n        <strong style=\\\"color: sandybrown;\\\"> Đang Chạy Lại XN</strong>\\n    </div>\\n</ng-template>\\n\\n<ng-template #detailTemplate let-dataItem>\\n    <div style=\\\"overflow: auto;\\\">\\n        <table class=\\\"table table-hover table-bordered table-responsive-xl\\\"\\n            *ngIf=\\\"dataItem.KetQuaCLSGridChiTietVos !== null && dataItem.KetQuaCLSGridChiTietVos.length > 0\\\">\\n            <thead>\\n                <th resizable class=\\\"w-450\\\">TÊN</th>\\n                <th resizable style=\\\"width: 100px;\\\"> KẾT QUẢ CŨ</th>\\n                <th resizable style=\\\"width: 100px;\\\"> KẾT QUẢ</th>\\n                <th resizable style=\\\"width: 100px;\\\"> CSBT </th>\\n                <th resizable style=\\\"width: 100px;\\\"> ĐƠN VỊ</th>\\n                <th resizable style=\\\"width: 100px;\\\"> Máy XN</th>\\n                <th resizable style=\\\"width: 100px;\\\"> Người duyệt </th>\\n                <th resizable style=\\\"width: 100px;\\\"> Ngày duyệt </th>\\n            </thead>\\n            <tbody>\\n                <ng-container *ngFor=\\\"let data of dataItem.KetQuaCLSGridChiTietVos\\\">\\n                    <tr [class]=\\\"data.NgayDuyet == null ? 'bg-light-red' : ''\\\" (click)=\\\"data.expanded = !data.expanded\\\">\\n                        <td [class]=\\\"!data.IsParent ? 'pl-5' : ''\\\"\\n                            [style.font-weight]=\\\"data.Items !== null && data.Items.length > 0 ? 'bold' : ''\\\">\\n                            <ng-container *ngIf=\\\"data.IsParent\\\">\\n                                <span style=\\\"cursor: pointer;\\\"> {{!data.expanded ? '+' : '&ndash;'}} </span>\\n                            </ng-container>\\n                            {{data.TenDichVu}}\\n                        </td>\\n                        <ng-container *ngIf=\\\"data.IsRoot\\\">\\n                            <td colspan=\\\"12\\\"></td>\\n                        </ng-container>\\n                        <ng-container *ngIf=\\\"!data.IsRoot\\\">\\n                            <td [ngClass]=\\\"{ 'in-dam': data.IsBold}\\\"> {{data.KetQuaCu}} </td>\\n                            <td [ngClass]=\\\"{ 'in-dam': data.IsBold}\\\"> {{data.KetQuaMoi}} </td>\\n                            <td [ngClass]=\\\"{ 'in-dam': data.IsBold}\\\"> {{data.CSBT}} </td>\\n                            <td> {{data.DonVi}} </td>\\n                            <td> {{data.MayXN}} </td>\\n                            <td> {{data.NguoiDuyet}} </td>\\n                            <td> {{data.NgayDuyet}} </td>\\n                        </ng-container>\\n                    </tr>\\n                    <ng-container *ngIf=\\\"data.expanded\\\">\\n                        <ng-container *ngFor=\\\"let detail of data.Items\\\">\\n                            <tr [class]=\\\"detail.NgayDuyet == null ? 'bg-light-red' : ''\\\"\\n                                (click)=\\\"detail.expanded = !detail.expanded\\\">\\n                                <td [class]=\\\"!detail.IsParent ? 'pl-8' : 'pl-5'\\\"\\n                                    [style.font-weight]=\\\"detail.Items != null && detail.Items.length > 0 ? 'bold' : ''\\\">\\n                                    <ng-container *ngIf=\\\"detail.IsParent\\\">\\n                                        <span style=\\\"cursor: pointer;\\\"> {{!detail.expanded ? '+' : '&ndash;'}} </span>\\n                                    </ng-container>\\n                                    {{detail.TenDichVu}}\\n                                </td>\\n                                <td [ngClass]=\\\"{ 'in-dam': detail.IsBold}\\\"> {{detail.KetQuaCu}} </td>\\n                                <td [ngClass]=\\\"{ 'in-dam': detail.IsBold}\\\"> {{detail.KetQuaMoi}} </td>\\n                                <td [ngClass]=\\\"{ 'in-dam': detail.IsBold}\\\"> {{detail.CSBT}} </td>\\n                                <td> {{detail.DonVi}} </td>\\n                                <td> {{detail.MayXN}} </td>\\n                                <td> {{detail.NguoiDuyet}} </td>\\n                                <td> {{detail.NgayDuyet}} </td>\\n                            </tr>\\n\\n                            <ng-container *ngIf=\\\"detail.expanded\\\">\\n                                <ng-container *ngFor=\\\"let detail of detail.Items\\\">\\n                                    <tr [class]=\\\"detail.NgayDuyet == null ? 'bg-light-red' : ''\\\">\\n                                        <td [class]=\\\"!detail.IsParent ? 'pl-12' : 'pl-10'\\\">{{detail.TenDichVu}}</td>\\n                                        <td [ngClass]=\\\"{ 'in-dam': detail.IsBold}\\\"> {{data.KetQuaCu}} </td>\\n                                        <td [ngClass]=\\\"{ 'in-dam': detail.IsBold}\\\"> {{data.KetQuaMoi}} </td>\\n                                        <td [ngClass]=\\\"{ 'in-dam': detail.IsBold}\\\"> {{data.CSBT}} </td>\\n                                        <td> {{data.DonVi}} </td>\\n                                        <td> {{data.MayXN}} </td>\\n                                        <td> {{data.NguoiDuyet}} </td>\\n                                        <td> {{data.NgayDuyet}} </td>\\n                                    </tr>\\n                                </ng-container>\\n                            </ng-container>\\n                        </ng-container>\\n                    </ng-container>\\n                </ng-container>\\n            </tbody>\\n        </table>\\n    </div>\\n\\n    <ng-template #sttTemplate let-rowIndex=\\\"rowIndex\\\">\\n        {{rowIndex + 1}}\\n    </ng-template>\\n</ng-template>\\n\\n<ng-template #xemKetQuaActionTemplate let-dataItem>\\n    <!-- type == 1 => pdf type == 2 => file -->\\n    <!------------------------------------- Chuẩn đoán hình ảnh và thăm dò chức năng ---------------------------------------------->\\n    <button *ngIf=\\\"dataItem.LoaiKetQuaCLS !== 'Xét nghiệm'\\\" type=\\\"button\\\" (click)=\\\"xemKetQua(dataItem)\\\" color=\\\"primary\\\"\\n        mat-raised-button class=\\\"mr-2\\\">Xem</button>\\n    <!------------------------------------ Xét nghiệm ----------------------------------------------------------------------------->\\n    <!-- <button *ngIf=\\\"dataItem.LoaiKetQuaCLS === 'Xét nghiệm'\\\" fileName=\\\"KetQuaXetNghiem\\\" (click)=\\\"downloadXNCLS(dataItem)\\\"\\n        color=\\\"primary\\\" mat-raised-button>Tải\\n        về</button> -->\\n</ng-template>\\n\\n    \\n\\n<!-- <ng-template #checkBoxTemplate let-dataItem>\\n    <input *ngIf=\\\"dataItem.Level==1\\\" type=\\\"checkbox\\\" id=\\\"vehicle1\\\" [(ngModel)]=\\\"dataItem.CheckBox\\\"\\n        (ngModelChange)=\\\"checkBoxChange($event,dataItem)\\\" name=\\\"vehicle1\\\">\\n</ng-template>\\n<ng-template #checkBoxHeaderTemplate let-dataItem>\\n    <input type=\\\"checkbox\\\" id=\\\"vehicle1\\\" (ngModelChange)=\\\"checkBoxAllChange($event)\\\" name=\\\"vehicle1\\\"\\n        [(ngModel)]=\\\"checkAll\\\">\\n</ng-template> -->\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n    [ngClass]=\\\"{'disableDiv': isReadOnly}\\\">\\n    <h3 *ngIf=\\\"!isKhamDoan\\\" fxFlex=\\\"100%\\\" class=\\\"sub-title  mr-4\\\">\\n        <div fxFlex=\\\"100%\\\" class=\\\"po-h-radio\\\">\\n            <app-radio *ngIf=\\\"!data.YeuCauKhamBenh.LaChiDinhTuNoiTru\\\" id=\\\"Chon\\\" name=\\\"Chon\\\" class=\\\"no-format-css temp\\\" [(model)]=\\\"LuaChonChiDinh\\\" (modelChange)=\\\"selectLuaChonChiDinh($event)\\\" [items]=\\\"[   {Value:1,Text:'Khám'},\\n                          {Value:3,Text:'Dịch vụ kỹ thuật'},\\n                          \\n                          {Value:5,Text:'VTTH/Thuốc'}]\\\">\\n                <!-- {Value:4,Text:'Giường'}, -->\\n            </app-radio>\\n            <app-radio *ngIf=\\\"data.YeuCauKhamBenh.LaChiDinhTuNoiTru\\\" id=\\\"Chon\\\" name=\\\"Chon\\\" class=\\\"no-format-css temp\\\" [(model)]=\\\"LuaChonChiDinh\\\" (modelChange)=\\\"selectLuaChonChiDinh($event)\\\" \\n                [items]=\\\"[{Value:3,Text:'Dịch vụ kỹ thuật'},{Value:5,Text:'VTTH/Thuốc'}]\\\">\\n            </app-radio>\\n        </div>\\n    </h3>\\n\\n    <!-- Khám -->\\n    <ng-container *ngIf=\\\"LuaChonChiDinh==1 && !isKhamDoan\\\">\\n        <app-combobox fxFlex=\\\"30%\\\" label=\\\"Dịch vụ khám\\\" id=\\\"DichVuKhamBenhBenhVienId\\\" hierarchyKeyToSend=\\\"DichVuKhamBenhBenhVienId\\\" [(model)]=\\\"yeuCauKhamBenh.DichVuKhamBenhBenhVienId\\\" [validationerror]=\\\"'DichVuKhamBenhBenhVienId' | validationerror:validationErrors\\\"\\n            url=\\\"KhamBenh/GetDichVuKhamBenh\\\" required=\\\"true\\\" (modelChange)=\\\"getThongTinThanhToan($event)\\\" (selectionChange)=\\\"chonDichVuKham($event)\\\" (keyup)=\\\"onKeyEnterAddItem($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\" [templateHeader]=\\\"dichVuKhamBenhBVTemplateHeader\\\"\\n            [template]=\\\"dichVuKhamBenhBVTemplate\\\" class=\\\"item-no-padding\\\">\\n            <ng-template #dichVuKhamBenhBVTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"20%\\\">Mã</th>\\n                        <th width=\\\"80%\\\">Tên</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #dichVuKhamBenhBVTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                        <td width=\\\"80%\\\">{{dataItem.Ten}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n\\n        <!-- KhamBenh/LoaiGia -->\\n        <app-dropdownlist #dropdownLoaiGiaDVKham id=\\\"loaiGiaDVKham\\\" fxFlex=\\\"15%\\\" label=\\\"Loại giá\\\" url=\\\"KhamBenh/LoaiGiaHieuLucTheoDichVuKham\\\" required=\\\"true\\\" \\n            [autoSelectFirstItem]=\\\"true\\\" [bind]=\\\"true\\\" [(model)]=\\\"yeuCauKhamBenh.NhomGiaDichVuKhamBenhBenhVienId\\\" (modelChange)=\\\"getThongTinThanhToan($event)\\\"\\n            hierarchyKeyToListen=\\\"DichVuKhamBenhBenhVienId\\\"\\n            [validationerror]=\\\"'NhomGiaDichVuKhamBenhBenhVienId' | validationerror:validationErrors\\\" (keyup)=\\\"onKeyEnterAddItem($event)\\\" (openDropDownList)=\\\"openCombobox($event)\\\">\\n        </app-dropdownlist>\\n\\n        <app-textboxnumeric fxFlex=\\\"15%\\\" label=\\\"Số lượng\\\" [min]=\\\"1\\\" [(model)]=\\\"yeuCauKhamBenh.SoLuongs\\\" [disabled]=\\\"true\\\" (keyup)=\\\"onKeyEnterAddItem($event)\\\" [tabIndex]=\\\"-1\\\">\\n        </app-textboxnumeric>\\n        <app-textboxnumeric [disabled]=\\\"true\\\" fxFlex=\\\"20%\\\" label=\\\"Đơn giá\\\" [min]=\\\"0\\\" [(model)]=\\\"yeuCauKhamBenh.Gia\\\" (modelChange)=\\\"onChangeDonGiaKhamBenh($event)\\\" [tabIndex]=\\\"-1\\\" [max]=\\\"999999999\\\" [validationerror]=\\\"'SoLan' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n        <app-textboxnumeric [disabled]=\\\"true\\\" fxFlex=\\\"20%\\\" label=\\\"Thành tiền\\\" [min]=\\\"0\\\" [(model)]=\\\"yeuCauKhamBenh.ThanhTien\\\" [tabIndex]=\\\"-1\\\">\\n        </app-textboxnumeric>\\n        <app-combobox fxFlex=\\\"30%\\\" id=\\\"NoiDangKyId\\\" label=\\\"Nơi thực hiện\\\" url=\\\"KhamBenh/NoiThucHien\\\" hierarchyKeyToListen=\\\"DichVuKhamBenhBenhVienId\\\" [(model)]=\\\"yeuCauKhamBenh.NoiDangKyId\\\" required=\\\"true\\\" hierarchyKeyToSend=\\\"NoiDangKyId\\\" [autoSelectFirstItem]=\\\"true\\\"\\n            [validationerror]=\\\"'NoiDangKyId' | validationerror:validationErrors\\\" (keyup)=\\\"onKeyEnterAddItem($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\" [templateHeader]=\\\"noiDangKyDVKBBVTemplateHeader\\\" [template]=\\\"noiDangKyDVKBBVTemplate\\\" class=\\\"item-no-padding\\\">\\n            <ng-template #noiDangKyDVKBBVTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"20%\\\">Mã</th>\\n                        <th width=\\\"80%\\\">Tên</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #noiDangKyDVKBBVTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                        <td width=\\\"80%\\\">{{dataItem.Ten}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n\\n        <app-combobox id=\\\"BacSiDangKyId\\\" fxFlex=\\\"30%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Bác sĩ\\\" [(model)]=\\\"yeuCauKhamBenh.BacSiDangKyId\\\" url=\\\"KhamBenh/BacSiKham\\\" hierarchyKeyToListen=\\\"NoiDangKyId\\\" [autoSelectFirstItem]=\\\"true\\\" (keyup)=\\\"onKeyEnterAddItem($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\">\\n        </app-combobox>\\n\\n        <div fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\">\\n            <div class=\\\"container-custom no-label\\\">\\n                <label>&nbsp;</label>\\n                <div fxLayout=\\\"row\\\" fxLayoutGap=\\\"16px\\\">\\n                    <app-checkbox fxFlex=\\\"100%\\\" id=\\\"ThamVan\\\" label=\\\"Tham vấn\\\" value=\\\"true\\\" (modelChange)=\\\"autoHideShowTinhPhi($event, yeuCauKhamBenh)\\\" [(model)]=\\\"yeuCauKhamBenh.LaThamVan\\\" (keyup)=\\\"onKeyEnterAddItem($event)\\\"></app-checkbox>\\n                </div>\\n            </div>\\n        </div>\\n        <div fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" *ngIf=\\\"yeuCauKhamBenh.LaThamVan != true\\\">\\n            <div class=\\\"container-custom no-label\\\">\\n                <label>&nbsp;</label>\\n                <div fxLayout=\\\"row\\\" fxLayoutGap=\\\"16px\\\">\\n                    <app-checkbox fxFlex=\\\"100%\\\" id=\\\"TinhPhi\\\" label=\\\"Tính phí\\\" value=\\\"true\\\" (modelChange)=\\\"autoCheckDuocHuongBaoHiem($event, yeuCauKhamBenh)\\\" [(model)]=\\\"yeuCauKhamBenh.TinhPhi\\\" (keyup)=\\\"onKeyEnterAddItem($event)\\\"></app-checkbox>\\n                </div>\\n            </div>\\n        </div>\\n        <!-- <div fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" *ngIf=\\\"FlagDuocHuongBaoHiem && yeuCauKhamBenh.TinhPhi\\\">\\n            <div class=\\\"container-custom no-label\\\">\\n                <label>&nbsp;</label>\\n                <div fxLayout=\\\"row\\\" fxLayoutGap=\\\"16px\\\">\\n                    <app-checkbox fxFlex=\\\"100%\\\" value=\\\"true\\\" id=\\\"DuocHuongBHYT\\\" label=\\\"Được hưởng BHYT\\\" \\n                        [(model)]=\\\"yeuCauKhamBenh.DuocHuongBaoHiem\\\"></app-checkbox> \\n                </div>\\n            </div>\\n        </div> -->\\n\\n        <div fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\" kendoTooltip>\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1\\\" (click)=\\\"huyDichVuKhamBenh()\\\" title=\\\"Phím tắt: Esc\\\">Hủy</button>\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" (click)=\\\"themDichVuKhamBenh()\\\" title=\\\"Phím tắt: Ctrl + S\\\">Thêm</button>\\n        </div>\\n    </ng-container>\\n\\n    <!-- dịch vụ kỹ thuật -->\\n    <ng-container *ngIf=\\\"LuaChonChiDinh==3\\\">\\n        <!-- <app-checkbox fxFlex=\\\"100%\\\" value=\\\"true\\\" id=\\\"DVKTDonLe\\\" label=\\\"Dịch vụ đơn lẻ\\\" [(model)]=\\\"dichVuDonLeChecked\\\" (modelChange)=\\\"changeDichVuDonLe($event)\\\"></app-checkbox>\\n        <ng-container *ngIf=\\\"dichVuDonLeChecked\\\"> -->\\n\\n        <!-- chỉ show khi không phải là khám đoàn -->\\n        <div *ngIf=\\\"!isKhamDoan\\\" fxFlex=\\\"85%\\\">\\n            <a (click)=\\\"xemChiDinhCuaBacSiKhac()\\\" style=\\\"color:green; text-decoration: underline; font-weight: bold; bottom: 20px;\\\">Xem\\n                    chỉ định của bác sĩ khác</a>\\n\\n            <a (click)=\\\"xemNhomDichVuThuongDung()\\\" style=\\\"color:green; text-decoration: underline; font-weight: bold; bottom: 20px;\\\" class=\\\"ml-8\\\">\\n                    Nhóm dịch vụ thường dùng\\n                </a>\\n\\n            <a *ngIf=\\\"coGoiDichVu\\\" (click)=\\\"xemGoiDichVu()\\\" style=\\\"color:green; text-decoration: underline; font-weight: bold; bottom: 20px;\\\" class=\\\"ml-8\\\">\\n                    Sử dụng gói dịch vụ\\n                </a>\\n        </div>\\n\\n        <!-- cacDichVuKM -->\\n        <div *ngIf=\\\"coDichVuKhuyenMai\\\" fxFlex=\\\"15%\\\">\\n            <a (click)=\\\"xemGoiDichVuKhuyenMai()\\\" style=\\\"color:blue; text-decoration: underline; font-weight: bold; bottom: 20px;\\\"> Dịch vụ khuyến mại</a>\\n\\n        </div>\\n        <div fxFlex=\\\"100%\\\" *ngIf=\\\"!isReadOnly\\\">\\n            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\n                <app-combobox-tree *ngIf=\\\"chiDinhDichVuKyThuatMultiselect.ShowComboboxNhomDichVuKyThuat\\\" fxFlex=\\\"25%\\\" label=\\\"Nhóm dịch vụ\\\" id=\\\"NhomDichVuBenhVienId\\\" hierarchyKeyToSend=\\\"NhomDichVuBenhVienId\\\" [(model)]=\\\"chiDinhDichVuKyThuatMultiselect.NhomDichVuBenhVienId\\\"\\n                    [modelText]=\\\"chiDinhDichVuKyThuatMultiselect.TenNhomDichVu\\\" url=\\\"KhamBenh/GetListNhomDichVuBenhVien\\\" required=\\\"true\\\" [bind]=\\\"true\\\" (modelChange)=\\\"changeNhomDichVuKyThuat($event)\\\" (selectionChange)=\\\"selectChangeNhomDichVuKyThuat($event)\\\"\\n                    [validationerror]=\\\"'NhomDichVuBenhVienId' | validationerror:validationErrors\\\">\\n                </app-combobox-tree>\\n\\n                <app-multiselect id=\\\"dvkt\\\" [fxFlex]=\\\"!chiDinhDichVuKyThuatMultiselect.ShowComboboxNhomDichVuKyThuat ? 'auto' : '75%'\\\" hierarchyKeyToListen=\\\"NhomDichVuBenhVienId\\\" [modelText]=\\\"\\\" label=\\\"Dịch vụ\\\" class=\\\"item-no-padding\\\" [template]=\\\"dichVuKyThuatTemplate\\\"\\n                    [templateHeader]=\\\"dichVuKyThuatTemplateHeader\\\" url=\\\"KhamBenh/GetListDichVuKyThuatMultiSelect\\\" [(model)]=\\\"chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs\\\" (modelChange)=\\\"changeMultiDichVuKyThuat($event)\\\" [autoClose]=\\\"false\\\"\\n                    (closeChange)=\\\"closeChangeDichVuKyThuat($event)\\\" [validationerror]=\\\"'DichVuKyThuatBenhVienChiDinhs' | validationerror:validationErrors\\\" required=\\\"true\\\">\\n                    <ng-template #dichVuKyThuatTemplateHeader let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <th width=\\\"15%\\\">Nhóm</th>\\n                                <th width=\\\"15%\\\">Mã</th>\\n                                <th width=\\\"30%\\\">Dịch vụ</th>\\n                                <th width=\\\"25%\\\">Tên TT43</th>\\n                                <th width=\\\"15%\\\">Nơi thực hiện</th>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                    <ng-template #dichVuKyThuatTemplate let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <td width=\\\"15%\\\">{{dataItem.TenNhomDichVuBenhVien}}</td>\\n                                <td width=\\\"15%\\\">{{dataItem.Ma}}</td>\\n                                <td width=\\\"30%\\\">{{dataItem.Ten}}</td>\\n                                <td width=\\\"25%\\\">{{dataItem.TenTT43}}</td>\\n                                <td width=\\\"15%\\\">{{dataItem.TenNoiThucHien}}</td>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                </app-multiselect>\\n            </div>\\n        </div>\\n        <div fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\" kendoTooltip *ngIf=\\\"!isReadOnly\\\">\\n            <!-- <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1\\\"\\n                    (click)=\\\"huyDichVuKyThuat()\\\" title=\\\"Phím tắt: Esc\\\">Hủy</button> -->\\n            <!-- <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\"\\n                    (click)=\\\"themDichVuKyThuat()\\\" title=\\\"Phím tắt: Ctrl + S\\\">Thêm</button> -->\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1\\\" (click)=\\\"huyDichVuKyThuatMultiselect()\\\" title=\\\"Phím tắt: Esc\\\">Hủy</button>\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" (click)=\\\"themDichVuKyThuatMultiselect()\\\" title=\\\"Phím tắt: Ctrl + S\\\">Thêm</button>\\n        </div>\\n        <!-- </ng-container> -->\\n\\n        <!-- <app-checkbox fxFlex=\\\"100%\\\" value=\\\"true\\\" id=\\\"GoiDV\\\" label=\\\"Gói dịch vụ\\\" [(model)]=\\\"goiDichVuChecked\\\" (modelChange)=\\\"changeCheckBoxGoiDichVu($event)\\\"></app-checkbox> -->\\n        <ng-container *ngIf=\\\"goiDichVuChecked && !isKhamDoan\\\">\\n            <app-dropdownlist fxFlex=\\\"50%\\\" label=\\\"Gói khám\\\" [(model)]=\\\"yeuCauGoiDichVu.GoiDichVuId\\\" required=\\\"true\\\" (selectionChange)=\\\"chonGoiKhongChietKhau($event)\\\" (modelChange)=\\\"changeGoiDichVu($event)\\\" hierarchyKeyToSend=\\\"GoiDichVuId\\\" url=\\\"KhamBenh/GetGoiKhongChietKhau\\\"\\n                [validationerror]=\\\"'GoiDichVuId' | validationerror:validationErrors\\\">\\n            </app-dropdownlist>\\n\\n            <!-- <app-multiselect id=\\\"DichVuId\\\" fxFlex=\\\"75%\\\" fxFlex.sm=\\\"75%\\\" label=\\\"Dịch vụ\\\" required=\\\"true\\\"\\n                [(model)]=\\\"yeuCauGoiDichVu.DichVuChiDinhTheoGois\\\" hierarchyKeyToListen=\\\"GoiDichVuId\\\"\\n                [template]=\\\"dichVuTemplate\\\" [templateHeader]=\\\"dichVuTemplateHeader\\\" url=\\\"KhamBenh/GetListDichVuTheoGoi\\\"\\n                [validationerror]=\\\"'DichVuChiDinhTheoGois' | validationerror:validationErrors\\\">\\n                <ng-template #dichVuTemplateHeader let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <th width=\\\"20%\\\">Mã</th>\\n                            <th>Tên</th>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n                <ng-template #dichVuTemplate let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                            <td>{{dataItem.Ten}}</td>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n            </app-multiselect> -->\\n\\n            <div fxFlex=\\\"50%\\\">\\n                <table width=\\\"100%\\\" class=\\\"table table-border\\\">\\n                    <thead style=\\\"background-color: whitesmoke;\\\">\\n                        <tr>\\n                            <th width=\\\"10%\\\">\\n                                <app-checkbox *ngIf=\\\"lstDichVuTheoGoiDangChon.length > 0\\\" [(model)]=\\\"checkALlDichVuTrongGoi\\\" id=\\\"checkALlDichVuTrongGoi\\\" (modelChange)=\\\"changeCheckAllDichVu($event)\\\"></app-checkbox>\\n                            </th>\\n                            <th>Dịch vụ trong gói</th>\\n                        </tr>\\n                    </thead>\\n                    <ng-container *ngIf=\\\"lstDichVuTheoGoiDangChon.length > 0\\\">\\n                        <tr *ngFor=\\\"let item of lstDichVuTheoGoiDangChon\\\">\\n                            <td width=\\\"10%\\\" style=\\\"text-align: center;\\\">\\n                                <app-checkbox [(model)]=\\\"item.IsCheck\\\" id=\\\"{{item.KeyId}}\\\" (modelChange)=\\\"changeDichVuTrongGoi($event, item.KeyId)\\\"></app-checkbox>\\n                            </td>\\n                            <td>{{item.DisplayName}}</td>\\n                        </tr>\\n                    </ng-container>\\n                    <tr *ngIf=\\\"lstDichVuTheoGoiDangChon.length == 0\\\">\\n                        <td></td>\\n                        <td style=\\\"text-align: center;\\\">Không có dữ liệu</td>\\n                    </tr>\\n                </table>\\n            </div>\\n\\n            <div fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\" kendoTooltip>\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1\\\" (click)=\\\"huyGoiKhongChietKhau()\\\" title=\\\"Phím tắt: Esc\\\">Hủy</button>\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" (click)=\\\"themGoiKhongChietKhau()\\\" title=\\\"Phím tắt: Ctrl + S\\\">Thêm</button>\\n            </div>\\n        </ng-container>\\n    </ng-container>\\n\\n    <!-- dịch vụ giường -->\\n    <ng-container *ngIf=\\\"LuaChonChiDinh==4  && !isKhamDoan\\\">\\n        <div fxFlex=\\\"100%\\\">\\n            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\n                <app-combobox fxFlex=\\\"50%\\\" label=\\\"Loại giường\\\" required=\\\"true\\\" url=\\\"KhamBenh/GetDichVuGiuongBenhVien\\\" (selectionChange)=\\\"chonDichVuGiuong($event)\\\" [template]=\\\"dichVuGiuongTemplate\\\" (modelChange)=\\\"onChangeDonGiaDichVuGiuong($event)\\\" hierarchyKeyToSend=\\\"DichVuGiuongId\\\"\\n                    [templateHeader]=\\\"dichVuGiuongTemplateHeader\\\" [(model)]=\\\"yeuCauDichVuGiuong.DichVuGiuongBenhVienId\\\" [modelText]=\\\"yeuCauDichVuGiuong.Ten\\\" class=\\\"item-no-padding\\\" [validationerror]=\\\"'DichVuGiuongBenhVienId' | validationerror:validationErrors\\\">\\n                    <ng-template #dichVuGiuongTemplateHeader let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <th width=\\\"30%\\\">Mã</th>\\n                                <th>Dịch vụ</th>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                    <ng-template #dichVuGiuongTemplate let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <td width=\\\"30%\\\">{{dataItem.Ma}}</td>\\n                                <td>{{dataItem.DichVu}}</td>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                </app-combobox>\\n\\n                <app-textboxnumeric fxFlex=\\\"25%\\\" label=\\\"Đơn giá\\\" [min]=\\\"0\\\" [max]=\\\"999999999\\\" [disabled]=\\\"true\\\" [(model)]=\\\"yeuCauDichVuGiuong.Gia\\\">\\n                </app-textboxnumeric>\\n                <app-textboxnumeric [disabled]=\\\"true\\\" fxFlex=\\\"25%\\\" label=\\\"Thành tiền\\\" [min]=\\\"0\\\" [max]=\\\"999999999\\\" [(model)]=\\\"yeuCauDichVuGiuong.ThanhTien\\\">\\n                </app-textboxnumeric>\\n\\n                <div fxFlex=\\\"5%\\\" class=\\\"container-so-do-giuong\\\" kendoTooltip title=\\\"Chọn theo sơ đồ giường\\\" [style.cursor]=\\\"yeuCauDichVuGiuong.DichVuGiuongBenhVienId != null && yeuCauDichVuGiuong.DichVuGiuongBenhVienId != undefined ? '' : 'not-allowed'\\\">\\n                    <button type=\\\"button\\\" mat-mini-fab color=\\\"primary\\\" class=\\\"mt-2\\\" [style.pointer-events]=\\\"yeuCauDichVuGiuong.DichVuGiuongBenhVienId != null && yeuCauDichVuGiuong.DichVuGiuongBenhVienId != undefined ? '' : 'none'\\\" (click)=\\\"xemSoDoGiuong()\\\"><mat-icon><ic-icon [icon]=\\\"icHotel\\\"></ic-icon></mat-icon></button>\\n                    <!-- <a class=\\\"so-do-giuong\\\" [style.pointer-events]=\\\"yeuCauDichVuGiuong.DichVuGiuongBenhVienId != null && yeuCauDichVuGiuong.DichVuGiuongBenhVienId != undefined ? '' : 'none'\\\" (click)=\\\"xemSoDoGiuong()\\\">Chọn theo sơ đồ giường</a> -->\\n                    <!-- <a class=\\\"so-do-giuong\\\" style=\\\"pointer-events: none; opacity: 0.6;\\\" *ngIf=\\\"yeuCauDichVuGiuong.DichVuGiuongBenhVienId == null || yeuCauDichVuGiuong.DichVuGiuongBenhVienId == undefined\\\" (click)=\\\"xemSoDoGiuong()\\\">Chọn theo sơ đồ giường</a> -->\\n                </div>\\n\\n                <app-combobox #noiThucHienGB id=\\\"NoiThucHienGB\\\" hierarchyKeyToListen=\\\"DichVuGiuongId\\\" hierarchyKeyToSend=\\\"NoiThucHienId\\\" fxFlex=\\\"20%\\\" label=\\\"Phòng\\\" [required]=\\\"true\\\" [(model)]=\\\"yeuCauDichVuGiuong.NoiThucHienId\\\" [modelText]=\\\"yeuCauDichVuGiuong.TenNoiThucHien\\\"\\n                    [validationerror]=\\\"'NoiThucHienId' | validationerror:validationErrors\\\" url=\\\"KhamBenh/GetPhongThucHienChiDinhGiuong\\\" [autoSelectFirstItem]=\\\"true\\\" class=\\\"item-no-padding\\\" [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\">\\n                    <ng-template #phongKhamTemplateHeader let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <th width=\\\"20%\\\">Mã</th>\\n                                <th width=\\\"80%\\\">Tên phòng</th>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                    <ng-template #phongKhamTemplate let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                <td width=\\\"80%\\\">{{dataItem.TenPhong}}</td>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                </app-combobox>\\n                <app-combobox #giuongTrongPhong id=\\\"SoGiuong\\\" hierarchyKeyToListen=\\\"NoiThucHienId\\\" fxFlex=\\\"25%\\\" label=\\\"Số giường\\\" [required]=\\\"true\\\" [(model)]=\\\"yeuCauDichVuGiuong.GiuongBenhId\\\" [modelText]=\\\"yeuCauDichVuGiuong.TenGiuongBenh\\\" [validationerror]=\\\"'GiuongBenhId' | validationerror:validationErrors\\\"\\n                    url=\\\"KhamBenh/GetListGiuongBenhTheoPhong\\\" [autoSelectFirstItem]=\\\"true\\\" class=\\\"item-no-padding\\\" [template]=\\\"giuongBenhTemplate\\\" [templateHeader]=\\\"giuongBenhTemplateHeader\\\">\\n                    <ng-template #giuongBenhTemplateHeader let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <th width=\\\"70%\\\">Tên phòng</th>\\n                                <th width=\\\"30%\\\">SL NB </th>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                    <ng-template #giuongBenhTemplate let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <td width=\\\"70%\\\">{{dataItem.DisplayName}}</td>\\n                                <td width=\\\"30%\\\">{{dataItem.SoBenhNhanHienTai}}</td>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                </app-combobox>\\n\\n                <app-datetimepicker fxFlex=\\\"25%\\\" label=\\\"Thời gian bắt đầu\\\" [(model)]=\\\"yeuCauDichVuGiuong.ThoiDiemBatDauSuDung\\\" required=\\\"true\\\" [validationerror]=\\\"'ThoiDiemBatDauSuDung' | validationerror:validationErrors\\\">\\n                </app-datetimepicker>\\n\\n                <div fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">\\n                    <div class=\\\"container-custom no-label\\\">\\n                        <label>&nbsp;</label>\\n                        <div fxLayout=\\\"row\\\" fxLayoutGap=\\\"16px\\\">\\n                            <app-checkbox fxFlex=\\\"100%\\\" value=\\\"true\\\" id=\\\"TinhPhi\\\" label=\\\"Tính phí\\\" (modelChange)=\\\"autoCheckDuocHuongBaoHiem($event, yeuCauDichVuGiuong)\\\" [(model)]=\\\"yeuCauDichVuGiuong.TinhPhi\\\"></app-checkbox>\\n                        </div>\\n                    </div>\\n                </div>\\n                <!-- <div fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" *ngIf=\\\"FlagDuocHuongBaoHiem && yeuCauDichVuGiuong.TinhPhi\\\">\\n                    <div class=\\\"container-custom no-label\\\">\\n                        <label>&nbsp;</label>\\n                        <div fxLayout=\\\"row\\\" fxLayoutGap=\\\"16px\\\">\\n                            <app-checkbox fxFlex=\\\"100%\\\" value=\\\"true\\\" id=\\\"DuocHuongBHYT\\\" label=\\\"Được hưởng BHYT\\\" \\n                                [(model)]=\\\"yeuCauDichVuGiuong.DuocHuongBaoHiem\\\"></app-checkbox>\\n                        </div>\\n                    </div>\\n                </div> -->\\n\\n            </div>\\n        </div>\\n        <div fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\" kendoTooltip>\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1\\\" (click)=\\\"huyDichVuGiuong()\\\" title=\\\"Phím tắt: Esc\\\">Hủy</button>\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" (click)=\\\"themDichVuGiuong()\\\" title=\\\"Phím tắt: Ctrl + S\\\">Thêm</button>\\n        </div>\\n    </ng-container>\\n\\n    <!-- vật tư/ dược phẩm -->\\n    <ng-container *ngIf=\\\"LuaChonChiDinh==5  && !isKhamDoan\\\">\\n        <div fxFlex=\\\"100%\\\">\\n            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                <app-combobox fxFlex=\\\"50%\\\" label=\\\"Dịch vụ\\\" required=\\\"true\\\" url=\\\"KhamBenh/GetListDichVuCanGhiNhanVTTHThuoc\\\" [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.DichVuChiDinhId\\\" [modelText]=\\\"chiDinhGhiNhanVatTuThuoc.TenDichVuChiDinh\\\" [queryInfo]=\\\"{ParameterDependencies:'{yeuCauKhamBenhId:' + benhNhanHienTai.Id +'}', Take: 50}\\\"\\n                    autoSelectFirstItem=\\\"{{true}}\\\" bind=\\\"{{true}}\\\" [validationerror]=\\\"'DichVuChiDinhId' | validationerror:validationErrors\\\" (keyup)=\\\"onKeyEnterAddItem($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\" [templateHeader]=\\\"dichVuChiDinhTemplateHeader\\\"\\n                    [template]=\\\"dichChiDinhTemplate\\\" class=\\\"item-no-padding\\\">\\n                    <ng-template #dichVuChiDinhTemplateHeader let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <th width=\\\"20%\\\">Mã</th>\\n                                <th>Dịch vụ</th>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                    <ng-template #dichChiDinhTemplate let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                <td>{{dataItem.Ten}}</td>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                </app-combobox>\\n                <div fxFlex=\\\"50%\\\"></div>\\n                <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thông tin ghi nhận VTTH/Thuốc</h3>\\n                <!-- <app-checkbox fxFlex=\\\"100%\\\" value=\\\"true\\\" id=\\\"GoiDV\\\" label=\\\"Ghi nhận vật tư y tế/ thuốc\\\" [(model)]=\\\"dichVuDonLeChecked\\\"></app-checkbox> -->\\n                <ng-container *ngIf=\\\"dichVuDonLeChecked\\\">\\n                    <app-combobox fxFlex=\\\"25%\\\" label=\\\"Tên kho\\\" required=\\\"true\\\" url=\\\"KhamBenh/GetListKhoSapXepUutien\\\" [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.KhoId\\\" [modelText]=\\\"chiDinhGhiNhanVatTuThuoc.TenKho\\\" [autoSelectFirstItem]=\\\"true\\\" bind=\\\"{{true}}\\\" (modelChange)=\\\"chonKho($event)\\\"\\n                        [validationerror]=\\\"'KhoId' | validationerror:validationErrors\\\" (keyup)=\\\"onKeyEnterAddItem($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\">\\n                    </app-combobox>\\n\\n                    <app-radio *ngIf=\\\"showGhiNhanCoBHYT\\\" fxFlex=\\\"15%\\\" fxFlex.sm=\\\"15%\\\" id=\\\"isBHYT\\\" [items]=\\\"[{Value:true,Text:'Có'},{Value:false,Text:'Không'}]\\\" [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.LaDuocPhamBHYT\\\" label=\\\"BHYT\\\">\\n                    </app-radio>\\n\\n                    <app-combobox #cboVTTHThuoc id=\\\"lstVTTHThuoc\\\" fxFlex=\\\"45%\\\" fxFlex.sm=\\\"45%\\\" class=\\\"item-no-padding\\\" required=\\\"true\\\" [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.DichVuGhiNhanId\\\" [modelText]=\\\"chiDinhGhiNhanVatTuThuoc.TenDichVuGhiNhan\\\" (selectionChange)=\\\"chonDichVuTieuHao($event)\\\"\\n                        [queryInfo]=\\\"{ParameterDependencies:'{KhoId:' + (chiDinhGhiNhanVatTuThuoc.KhoId ? chiDinhGhiNhanVatTuThuoc.KhoId : 0) + ', LaDuocPhamBHYT:' + chiDinhGhiNhanVatTuThuoc.LaDuocPhamBHYT +'}', Take: 50}\\\" [templateHeader]=\\\"vatTuChiDinhTemplateHeader\\\"\\n                        [template]=\\\"vatTuChiDinhTemplate\\\" url=\\\"KhamBenh/GetListVatTuTieuHaoThuoc\\\" label=\\\"Vật tư/Thuốc\\\" [validationerror]=\\\"'DichVuGhiNhanId' | validationerror:validationErrors\\\" (keyup)=\\\"onKeyEnterAddItem($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\"\\n                        [isAutoFocus]=\\\"true\\\" [popupSettings]=\\\"{width: 900,popupClass:'item-no-padding'}\\\">\\n\\n                        <ng-template #vatTuChiDinhTemplateHeader let-dataItem>\\n                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                <tr>\\n                                    <th width=\\\"30%\\\">Tên</th>\\n                                    <th width=\\\"10%\\\">Hàm lượng</th>\\n                                    <th width=\\\"10%\\\">Hoạt Chất</th>\\n                                    <th width=\\\"10%\\\">ĐVT</th>\\n                                    <th width=\\\"10%\\\">Đường dùng</th>\\n                                    <th>NSX</th>\\n                                    <th width=\\\"10%\\\">Tồn</th>\\n                                </tr>\\n                            </table>\\n                        </ng-template>\\n                        <ng-template #vatTuChiDinhTemplate let-dataItem>\\n                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                <tr>\\n\\n                                    <td width=\\\"30%\\\">{{dataItem.DisplayName}}</td>\\n                                    <td width=\\\"10%\\\">{{dataItem.HamLuong}}</td>\\n                                    <td width=\\\"10%\\\">{{dataItem.HoatChat}}</td>\\n                                    <td width=\\\"10%\\\">{{dataItem.DonViTinh}}</td>\\n                                    <td width=\\\"10%\\\">{{dataItem.DuongDung}}</td>\\n                                    <td>{{dataItem.NhaSanXuat}}</td>\\n                                    <td width=\\\"10%\\\">{{dataItem.SoLuongTonDisplay}}</td>\\n                                </tr>\\n                            </table>\\n                        </ng-template>\\n                    </app-combobox>\\n\\n                    <app-textbox fxFlex=\\\"15%\\\" label=\\\"ĐVT\\\" disabled=\\\"{{true}}\\\" [required]=\\\"true\\\" [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.strDonViTinh\\\" class=\\\"item-no-padding\\\" [validationerror]=\\\"'strDonViTinh' | validationerror:validationErrors\\\">\\n                    </app-textbox>\\n                    <app-textboxnumeric *ngIf=\\\"chiDinhGhiNhanVatTuThuoc.LoaiKho != undefined && chiDinhGhiNhanVatTuThuoc.LoaiKho != null && chiDinhGhiNhanVatTuThuoc.LoaiKho == 5\\\" fxFlex=\\\"15%\\\" label=\\\"Số lượng\\\" required=\\\"true\\\" [min]=\\\"0.01\\\" [max]=\\\"999999999\\\" [format]=\\\"format\\\"\\n                        [decimals]=\\\"2\\\" [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.SoLuong\\\" [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\" (keyup)=\\\"onKeyEnterAddItem($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\">\\n                    </app-textboxnumeric>\\n\\n                    <app-textboxnumeric *ngIf=\\\"chiDinhGhiNhanVatTuThuoc.LoaiKho == undefined || chiDinhGhiNhanVatTuThuoc.LoaiKho == null || (chiDinhGhiNhanVatTuThuoc.LoaiKho != undefined && chiDinhGhiNhanVatTuThuoc.LoaiKho != null && chiDinhGhiNhanVatTuThuoc.LoaiKho != 5)\\\"\\n                        fxFlex=\\\"15%\\\" label=\\\"Số lượng\\\" required=\\\"true\\\" [min]=\\\"1\\\" [max]=\\\"999999999\\\" [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.SoLuong\\\" [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\" (keyup)=\\\"onKeyEnterAddItem($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\">\\n                    </app-textboxnumeric>\\n\\n                    <div fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\">\\n                        <div class=\\\"container-custom no-label\\\">\\n                            <label>&nbsp;</label>\\n                            <div fxLayout=\\\"row\\\" fxLayoutGap=\\\"16px\\\">\\n                                <app-checkbox fxFlex=\\\"100%\\\" id=\\\"TinhPhiVTTH\\\" [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.TinhPhi\\\" label=\\\"Tính phí\\\" value=\\\"true\\\"></app-checkbox>\\n                            </div>\\n                        </div>\\n                    </div>\\n\\n                    <div style=\\\"width: 100%; padding: 0px 16px 16px 0px; display: flex\\\">\\n                        <!-- <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button\\n                            (click)=\\\"xuatGhiNhanVatTuBenhVien()\\\">Xuất</button> -->\\n\\n                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button style=\\\"margin-left: auto;\\\" class=\\\"mr-1\\\" (click)=\\\"huyGhiNhanVatTuBenhVien()\\\">Hủy</button>\\n                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" (click)=\\\"themGhiNhanVatTuBenhVien()\\\">Thêm</button>\\n                    </div>\\n                </ng-container>\\n\\n                <!-- <app-checkbox fxFlex=\\\"100%\\\" value=\\\"true\\\" id=\\\"GoiDV\\\" label=\\\"Vật tư y tế/thuốc theo định mức\\\" [(model)]=\\\"goiDichVuChecked\\\"></app-checkbox> -->\\n                <ng-container *ngIf=\\\"goiDichVuChecked\\\">\\n                    <app-combobox fxFlex=\\\"25%\\\" label=\\\"Tên kho\\\" required=\\\"true\\\" [validationerror]=\\\"'TenKho' | validationerror:validationErrors\\\" class=\\\"item-no-padding\\\">\\n                    </app-combobox>\\n                    <app-combobox fxFlex=\\\"50%\\\" label=\\\"Vật tư\\\" required=\\\"true\\\" url=\\\"KhamBenh/GetVatTuYTeBenhVien\\\" (selectionChange)=\\\"chonVatTu($event)\\\" [template]=\\\"vatTuChiDinhTemplate\\\" [templateHeader]=\\\"vatTuChiDinhTemplateHeader\\\" [(model)]=\\\"yeuCauVatTuBenhVien.VatTuBenhVienId\\\"\\n                        [modelText]=\\\"yeuCauVatTuBenhVien.Ten\\\" class=\\\"item-no-padding\\\" [validationerror]=\\\"'VatTuBenhVienId' | validationerror:validationErrors\\\">\\n                        <ng-template #vatTuChiDinhTemplateHeader let-dataItem>\\n                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                <tr>\\n                                    <th width=\\\"40%\\\">Mã</th>\\n                                    <th>Dịch vụ</th>\\n                                </tr>\\n                            </table>\\n                        </ng-template>\\n                        <ng-template #vatTuChiDinhTemplate let-dataItem>\\n                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                <tr>\\n                                    <td width=\\\"40%\\\">{{dataItem.Ma}}</td>\\n                                    <td>{{dataItem.DichVu}}</td>\\n                                </tr>\\n                            </table>\\n                        </ng-template>\\n                    </app-combobox>\\n                    <app-textbox fxFlex=\\\"25%\\\" label=\\\"Ghi chú\\\"></app-textbox>\\n                    <div fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\">\\n                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1\\\">Hủy</button>\\n                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\">Thêm</button>\\n                    </div>\\n                </ng-container>\\n            </div>\\n        </div>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"nhomDichVuDangChon != 3 && nhomDichVuDangChon != 4\\\">\\n        <app-grid #GridChiDinh fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" style=\\\"width: 1px;\\\" [gridColumns]=\\\"gridColumns\\\" [allowSortDefault]=\\\"true\\\" [gridDataSource]=\\\"gridDataSource\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n            [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" maxHeight=\\\"500\\\" [pageable]=\\\"false\\\" [groups]=\\\"groups\\\" masterName=\\\"gridChiDinh\\\" [removeGroupFooterIfIsOnlyOne]=\\\"true\\\" reorderRowsMoveItemData=\\\"true\\\">\\n        </app-grid>\\n\\n        <!-- <app-textarea id=\\\"BenhSu\\\" fxFlex=\\\"100%\\\" label=\\\"Ghi chú\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\"\\n            [(model)]=\\\"data.YeuCauKhamBenh.GhiChuCanLamSang\\\" (blurChange)=\\\"changeGhiChuCanLamSang($event)\\\" (modelChange)=\\\"changeGhiChuCLS($event)\\\">\\n        </app-textarea> -->\\n        <app-autocomplete fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"data.YeuCauKhamBenh.GhiChuCanLamSang\\\" (blurChange)=\\\"changeGhiChuCanLamSang($event)\\\" (modelChange)=\\\"changeGhiChuCLS($event)\\\" url=\\\"KhamBenh/GetGhiChuDichVuCanLamSangs\\\" label=\\\"Ghi chú\\\" maxlength=\\\"4000\\\">\\n        </app-autocomplete>\\n    </ng-container>\\n    <ng-template #sttTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        {{rowIndex + 1}}\\n    </ng-template>\\n    <ng-container *ngIf=\\\"nhomDichVuDangChon == 3 || nhomDichVuDangChon == 4\\\">\\n        <app-grid #gridVTTHThuoc fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" style=\\\"width: 1px;\\\" [gridColumns]=\\\"gridVTTHThuocColumns\\\" [allowSortDefault]=\\\"true\\\" [gridDataSource]=\\\"gridDataSourceVTTHThuoc\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n            [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" maxHeight=\\\"500\\\" [pageable]=\\\"false\\\" [groups]=\\\"groupsGhiNhanVTHHThuoc\\\" masterName=\\\"gridVTTHThuoc\\\" [removeGroupFooterIfIsOnlyOne]=\\\"true\\\" reorderRowsMoveItemData=\\\"true\\\">\\n        </app-grid>\\n    </ng-container>\\n    <div class=\\\"gripViewGoiDichViKhacTemplate\\\">\\n        <ng-template #checkBoxHeaderTemplate let-dataItem>\\n            <input type=\\\"checkbox\\\" id=\\\"vehicle1\\\" name=\\\"vehicle1\\\" [(ngModel)]=\\\"checkAll\\\" (ngModelChange)=\\\"SelectcheckAllboxIn($event)\\\">\\n        </ng-template>\\n        <ng-template #checkBoxTemplate let-dataItem>\\n            <span *ngIf=\\\"dataItem.TrangThaiDichVuId != 4 && dataItem.TrangThaiDichVuId != 6\\\">\\n                <input type=\\\"checkbox\\\" id=\\\"vehicle1\\\" [(ngModel)]=\\\"dataItem.isCheckRowItem\\\" name=\\\"vehicle1\\\" (ngModelChange)=\\\"checkboxIn($event,dataItem)\\\">\\n            </span>\\n        </ng-template>\\n        \\n        <ng-template #donGiaVTTHThuocTemplate let-dataItem>\\n            <!-- {{dataItem.DonGia | number:'0.2-2':'vi-VN'}} -->\\n            <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n                {{item.DonGia | number:'0.2-2':'vi-VN'}}\\n            </p>\\n        </ng-template>\\n\\n        <ng-template #thanhTienVTTHThuocTemplate let-dataItem>\\n            <!-- {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}} -->\\n            <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n                {{item.ThanhTien | number:'0.2-2':'vi-VN'}}\\n            </p>\\n        </ng-template>\\n\\n        <ng-template #donGiaTemplate let-dataItem>\\n            {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n\\n        <ng-template #thanhTienTemplate let-dataItem>\\n            {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n\\n        <ng-template #thanhTienGroupFooterTemplate let-aggregates>\\n            {{aggregates.ThanhTien.sum | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n\\n        <ng-template #thanhTienFooterTemplate let-dataItem>\\n            <span style=\\\"color:blue\\\">{{totalNotChietKhau('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n        </ng-template>\\n\\n        <ng-template #thanhTienGhiNhanVTTHThuocGroupFooterTemplate let-aggregates>\\n            {{aggregates.ThanhTien.sum | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n\\n        <ng-template #thanhTienGhiNhanVTTHThuocFooterTemplate let-dataItem>\\n            <span style=\\\"color:blue\\\">{{totalGhiNhanVTTHThuoc('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n        </ng-template>\\n\\n        <!-- <ng-template #bhytThanhToanTemplate let-dataItem>\\n                {{dataItem.BHYTThanhToan | number:'0.2-2':'vi-VN'}}\\n            </ng-template> -->\\n\\n        <ng-template #bhytThanhToanTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            <div class=\\\"float_right\\\">{{ dataItem.BHYTThanhToan | number:'0.2-2':'vi-VN'}}\\n                <ic-icon *ngIf=\\\"dataItem.KiemTraBHYTXacNhan===true\\\" [icon]=\\\"icCheck\\\" class=\\\"size-icon mr-3\\\" inline=\\\"true\\\">\\n                </ic-icon>\\n            </div>\\n        </ng-template>\\n\\n        <ng-template #bhytThanhToanGroupFooterTemplate let-aggregates>\\n            {{aggregates.BHYTThanhToan.sum | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n\\n        <ng-template #bhytThanhToanFooterTemplate let-dataItem>\\n            <span>{{totalNotChietKhau('BHYTThanhToan') | number:'0.2-2':'vi-VN'}}</span>\\n        </ng-template>\\n\\n        <ng-template #donGiaBaoHiemTemplate let-dataItem>\\n            {{dataItem.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n\\n        <ng-template #donGiaBaoHiemVTTHThuocTemplate let-dataItem>\\n            <!-- {{dataItem.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}} -->\\n            <ng-container *ngIf=\\\"dataItem.DonGiaBaoHiem != null\\\">\\n                {{dataItem.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}}\\n            </ng-container>\\n            <ng-container *ngIf=\\\"dataItem.DonGiaBaoHiem == null\\\">\\n                <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n                    {{item.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}}\\n                </p>\\n            </ng-container>\\n        </ng-template>\\n\\n        <ng-template #duocHuongBaoHiemTemplate let-dataItem>\\n            <app-checkbox id=\\\"duocHuongBaoHiem{{dataItem.Id}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.DuocHuongBaoHiem\\\" disabled=\\\"{{true}}\\\">\\n            </app-checkbox>\\n        </ng-template>\\n        <ng-template #dichVuTrongGoiTemplate let-dataItem>\\n            <app-checkbox *ngIf=\\\"dataItem.CoDichVuNayTrongGoi\\\" id=\\\"dvGoiMarketing{{dataItem.Id}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.LaDichVuTrongGoi\\\" (modelChange)=\\\"CapNhatGridItemDichVuKyThuat(dataItem, $event, 'SwapDichVuGoi')\\\"\\n                [disabled]=\\\"dataItem.LaDichVuKhuyenMai\\\">\\n            </app-checkbox>\\n        </ng-template>\\n        <ng-template #dichVuKhuyenMaiTemplate let-dataItem>\\n            <!-- disabled=\\\"{{true}}\\\" -->\\n            <app-checkbox *ngIf=\\\"dataItem.CoDichVuNayTrongGoiKhuyenMai\\\" id=\\\"dvKhuyenMaiGoiMarketing{{dataItem.Id}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.LaDichVuKhuyenMai\\\" \\n                (modelChange)=\\\"CapNhatGridItemDichVuKyThuat(dataItem, $event, 'SwapDichVuKhuyenMai')\\\" [disabled]=\\\"dataItem.LaDichVuTrongGoi\\\">\\n            </app-checkbox>\\n        </ng-template>\\n        <ng-template #duocHuongBaoHiemGhiNhanVHTTTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            <app-checkbox id=\\\"duocHuongBaoHiem{{rowIndex}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.DuocHuongBaoHiem\\\" disabled=\\\"{{true}}\\\">\\n            </app-checkbox>\\n        </ng-template>\\n        <ng-template #tinhPhiGhiNhanVHTTTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            <app-checkbox id=\\\"tinhPhiGhiNhanVTTH{{rowIndex}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.TinhPhi\\\" [disabled]=\\\"(dataItem.PhieuLinh != null && dataItem.PhieuLinh != '')\\\" (modelChange)=\\\"changeTinhPhiGhiNhanVTTH($event, dataItem)\\\">\\n            </app-checkbox>\\n        </ng-template>\\n\\n        <ng-template #tLMGTemplate let-dataItem>\\n            {{dataItem.TLMG | number}} %\\n        </ng-template>\\n\\n        <ng-template #soTienMGTemplate let-dataItem>\\n            {{dataItem.SoTienMG | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n\\n        <ng-template #soTienMGGroupFooterTemplate let-aggregates>\\n            {{aggregates.SoTienMG.sum | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n\\n        <ng-template #soTienMGFooterTemplate let-dataItem>\\n            <span>{{totalNotChietKhau('SoTienMG') | number:'0.2-2':'vi-VN'}}</span>\\n        </ng-template>\\n\\n        <ng-template #bnThanhToanTemplate let-dataItem>\\n            {{dataItem.BNThanhToan | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n\\n        <ng-template #bnThanhToanGroupFooterTemplate let-aggregates>\\n            {{aggregates.BNThanhToan.sum | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n\\n        <ng-template #congTienGroupFooterTemplate let-dataItem>\\n            <span>Cộng:</span>\\n        </ng-template>\\n\\n        <ng-template #bnThanhToanFooterTemplate let-dataItem>\\n            <span style=\\\"color:red\\\">{{totalNotChietKhau('BNThanhToan') | number:'0.2-2':'vi-VN'}}</span>\\n        </ng-template>\\n\\n\\n        <ng-template #trangThaiTemplate let-dataItem>\\n            <div style=\\\"position: relative;\\\" [ngSwitch]=\\\"dataItem.NhomId\\\">\\n                <span *ngSwitchCase=\\\"1\\\" [ngClass]=\\\"{'blackText': dataItem.TrangThaiDichVuId == trangThaiYCKB.ChuaKham, \\n                                                    'orangeText': (dataItem.TrangThaiDichVuId == trangThaiYCKB.DangKham \\n                                                                    || dataItem.TrangThaiDichVuId == trangThaiYCKB.DangLamChiDinh\\n                                                                    || dataItem.TrangThaiDichVuId == trangThaiYCKB.DangDoiKetLuan),\\n                                                    'greenText': dataItem.TrangThaiDichVuId == trangThaiYCKB.DaKham,\\n                                                    'redText': dataItem.TrangThaiDichVuId == trangThaiYCKB.HuyKham}\\\" kendoTooltip title=\\\"{{dataItem.LyDoHuyDichVu}}\\\">\\n                        {{dataItem.TrangThaiDichVu}}\\n                    </span>\\n\\n                <span [style.white-space]=\\\"dataItem.KhongThucHien ? 'normal' : 'none'\\\" *ngSwitchDefault [ngClass]=\\\"{'blackText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.ChuaThucHien, \\n                                                    'orangeText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.DangThucHien,\\n                                                    'greenText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.DaThucHien,\\n                                                    'redText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.DaHuy }\\\" kendoTooltip title=\\\"{{dataItem.LyDoHuyDichVu}}\\\">\\n                        {{dataItem.TrangThaiDichVu}}\\n                            \\n                    </span>\\n                <mat-icon class=\\\"icon-war-status-grid\\\" *ngIf=\\\"dataItem.NhomId == 2 && dataItem.KhongThucHien\\\" [icIcon]=\\\"icWarning\\\" kendoTooltip title=\\\"Lý do không thực hiện: {{dataItem.LyDoKhongThucHien}}\\\">\\n                </mat-icon>\\n                <mat-icon class=\\\"icon-info-status-grid\\\" *ngIf=\\\"dataItem.LyDoHuyTrangThaiDaThucHien\\\" [icIcon]=\\\"icInfo\\\" kendoTooltip title=\\\"{{'Lý do hủy thực hiện: ' + dataItem.LyDoHuyTrangThaiDaThucHien}}\\\">\\n                </mat-icon>\\n            </div>\\n            <!-- <span [ngClass]=\\\"{'redText': dataItem.TrangThaiDichVu == 'Chưa thực hiện', 'greenText': dataItem.TrangThaiDichVu == 'Đang khám' }\\\">\\n                    {{dataItem.TrangThaiDichVu}}\\n                </span> -->\\n        </ng-template>\\n\\n        <ng-template #tongTienFooterTemplate let-dataItem>\\n            <span>Tổng cộng:</span>\\n        </ng-template>\\n\\n\\n\\n        <ng-template #noiThucHienTemplate let-dataItem>\\n            <!-- <div *ngIf=\\\"dataItem.NhomId != 1\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\" 5px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" fxLayoutAlign=\\\"space-between\\\"> -->\\n            <!-- <div fxFlex=\\\"100%\\\"  style=\\\"position: relative; padding-bottom: 0px;\\\"> -->\\n            <!-- Dich vu Giuong -->\\n            <!-- <app-combobox fxFlex=\\\"auto\\\" *ngIf=\\\"dataItem.NhomId ===5\\\" [disabled]=\\\"dataItem.TrangThaiDichVu!='Chưa thực hiện'\\\" \\n                                [(model)]=\\\"dataItem.NoiThucHienId\\\"  [modelText]=\\\"dataItem.NoiThucHien\\\" popupSettings=\\\"null\\\" class=\\\"item-no-padding no-label\\\" \\n                                (modelChange)=\\\"updateNoiThucHien($event,dataItem,dataItem.NoiThucHien)\\\"  url=\\\"KhamBenh/GetPhongThucHienChiDinhGiuong\\\"\\n                                [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\" idWhere=\\\"{{dataItem.LoaiYeuCauDichVuId}}\\\">\\n                                    <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                            <tr>\\n                                                <th width=\\\"20%\\\">Mã</th>\\n                                                <th width=\\\"80%\\\">Tên phòng</th>\\n                                            </tr>\\n                                        </table>\\n                                    </ng-template>\\n                                    <ng-template #phongKhamTemplate let-dataItem>\\n                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                            <tr >\\n                                                <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                <td width=\\\"80%\\\">{{dataItem.TenPhong}}</td>\\n                                            </tr>\\n                                        </table>\\n                                    </ng-template>\\n                        </app-combobox> -->\\n\\n            <!-- Chi Dinh Kham Benh,Ky Thuat -->\\n            <!-- (modelChange)=\\\"updateNoiThucHien($event,dataItem,dataItem.NoiThucHien)\\\"  -->\\n            <!-- idWhere=\\\"{{dataItem.LoaiYeuCauDichVuId}}\\\" -->\\n            <app-combobox fxFlex=\\\"auto\\\" *ngIf=\\\"dataItem.NhomId === 2 && !isKhamNgoaiVien\\\" [disabled]=\\\"dataItem.TrangThaiDichVu!='Chưa thực hiện'\\\" popupSettings=\\\"null\\\" class=\\\"item-no-padding no-label\\\" [(model)]=\\\"dataItem.NoiThucHienId\\\" [modelText]=\\\"dataItem.NoiThucHien\\\"\\n                url=\\\"KhamBenh/GetPhongThucHienChiDinhKhamOrDichVuKyThuat\\\" (modelChange)=\\\"CapNhatGridItemDichVuKyThuat(dataItem, $event, 'NoiThucHien')\\\" [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\" id=\\\"NoiThucHien{{dataItem.Id}}\\\"\\n                [queryInfo]=\\\"{ParameterDependencies:'{DichVuId:' +dataItem.LoaiYeuCauDichVuId +'}', Take: 50}\\\">\\n                <ng-template #phongKhamTemplateHeader let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <th width=\\\"20%\\\">Mã</th>\\n                            <th width=\\\"40%\\\">Tên phòng</th>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n                <ng-template #phongKhamTemplate let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                            <td width=\\\"40%\\\">{{dataItem.TenPhong}}</td>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n            </app-combobox>\\n            <app-combobox fxFlex=\\\"auto\\\" *ngIf=\\\"dataItem.NhomId === 2 && isKhamDoan && isKhamNgoaiVien\\\" [disabled]=\\\"dataItem.TrangThaiDichVu!='Chưa thực hiện'\\\" popupSettings=\\\"null\\\" class=\\\"item-no-padding no-label\\\" [(model)]=\\\"dataItem.NoiThucHienId\\\" [modelText]=\\\"dataItem.NoiThucHien\\\"\\n                url=\\\"KhamDoan/GetKhoaPhongGoiKhams\\\" (modelChange)=\\\"CapNhatGridItemDichVuKyThuat(dataItem, $event, 'NoiThucHien')\\\" [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\" id=\\\"NoiThucHien{{dataItem.Id}}\\\" [queryInfo]=\\\"{ParameterDependencies:'{LaDichVuKham:false' + ', HinhThucKhamBenh: ' + hinhThucKhamBenh +', DichVuId:' + dataItem.NoiThucHienId+ ', HopDongKhamSucKhoeId:'+ data.YeuCauTiepNhan.HopDongKhamSucKhoeId +'}', Take: 50}\\\">\\n                <ng-template #phongKhamTemplateHeader let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <th width=\\\"20%\\\">Mã</th>\\n                            <th width=\\\"40%\\\">Tên phòng</th>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n                <ng-template #phongKhamTemplate let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                            <td width=\\\"40%\\\">{{dataItem.Ten}}</td>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n            </app-combobox>\\n\\n            <!-- <div fxFlex=\\\"10%\\\" *ngIf=\\\"dataItem.NhomId === 2\\\">\\n                            <mat-icon [icIcon]=\\\"icInfo\\\" class=\\\"mt-4\\\"\\n                                kendoTooltip title=\\\"Nơi thực hiện yêu cầu nhập, nếu để trống thì sẽ lấy lại nơi thực hiện đã chọn trước đó\\\">\\n                            </mat-icon>\\n                        </div> -->\\n            <!-- </div> -->\\n            <!-- </div> -->\\n            <ng-container *ngIf=\\\"dataItem.NhomId == 1 || dataItem.NhomId == 5\\\">{{dataItem.NoiThucHien}}</ng-container>\\n        </ng-template>\\n\\n        <ng-template #nhomGiaTemplate let-dataItem>\\n            <app-dropdownlist *ngIf=\\\"dataItem.NhomId === 2 && dataItem.YeuCauGoiDichVuId === null\\\" [(model)]=\\\"dataItem.LoaiGia\\\" [modelText]=\\\"dataItem.TenLoaiGia\\\" [disabled]=\\\"dataItem.TrangThaiDichVu!='Chưa thực hiện' || dataItem.DaThanhToan\\\" class=\\\" item-no-padding no-label\\\"\\n                popupSettings=\\\"null\\\" url=\\\"KhamBenh/GetNhomGiaTheoLoaiDichVuKyThuat\\\" label=\\\" \\\" (modelChange)=\\\"CapNhatGridItemDichVuKyThuat(dataItem, $event, 'NhomGia')\\\">\\n            </app-dropdownlist>\\n            <ng-container *ngIf=\\\"dataItem.NhomId !== 2 || dataItem.YeuCauGoiDichVuId !== null\\\">{{dataItem.TenLoaiGia}}</ng-container>\\n        </ng-template>\\n\\n        <ng-template #soLuongTemplate let-dataItem>\\n            <app-textboxnumeric id=\\\"txtSoLuongDVKT{{dataItem.Id}}\\\" *ngIf=\\\"dataItem.NhomId === 2\\\" [(model)]=\\\"dataItem.SoLuong\\\" class=\\\"no-label\\\" label=\\\" \\\" min=\\\"1\\\" max=\\\"9999999\\\" (modelChange)=\\\"CapNhatGridItemDichVuKyThuat(dataItem, $event, 'SoLan')\\\" [disabled]=\\\"dataItem.TrangThaiDichVu!='Chưa thực hiện' || (dataItem.DaThanhToan && dataItem.YeuCauGoiDichVuId === null)\\\">\\n            </app-textboxnumeric>\\n            <ng-container *ngIf=\\\"dataItem.NhomId !== 2\\\">{{dataItem.SoLuong}}</ng-container>\\n        </ng-template>\\n\\n        <ng-template #soLuongGhiNhanVTTHThuocTemplate let-dataItem>\\n            <!-- <app-textboxnumeric *ngIf=\\\"dataItem.LoaiKho != 5\\\"\\n                    [disabled]=\\\"(dataItem.PhieuLinh != null && dataItem.PhieuLinh != '') || (dataItem.PhieuXuat != null && dataItem.PhieuXuat != '')\\\"\\n                    [(model)]=\\\"dataItem.SoLuong\\\" class=\\\"no-label\\\" label=\\\" \\\" min=\\\"1\\\" max=\\\"9999999\\\"\\n                    (modelChange)=\\\"CapNhatGridItemGhiNhaVTTHThuoc($event, dataItem)\\\">\\n                </app-textboxnumeric>\\n            \\n                <app-textboxnumeric *ngIf=\\\"dataItem.LoaiKho == 5\\\"\\n                    [disabled]=\\\"(dataItem.PhieuLinh != null && dataItem.PhieuLinh != '') || (dataItem.PhieuXuat != null && dataItem.PhieuXuat != '')\\\"\\n                    [(model)]=\\\"dataItem.SoLuong\\\" class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"0.01\\\" max=\\\"9999999\\\" [format]=\\\"format\\\" [decimals]=\\\"2\\\"\\n                    (modelChange)=\\\"CapNhatGridItemGhiNhaVTTHThuoc($event, dataItem)\\\">\\n                </app-textboxnumeric> -->\\n\\n            <!-- <div *ngIf=\\\"dataItem.LoaiKho == 5\\\">{{dataItem.SoLuong | number:'0.2'}}</div>\\n            <div *ngIf=\\\"dataItem.LoaiKho != 5\\\">{{dataItem.SoLuong | number}}</div> -->\\n\\n            <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n                <ng-container *ngIf=\\\"dataItem.LoaiKho == 5\\\">{{item.SoLuong | number:'0.2'}}</ng-container>\\n                <ng-container *ngIf=\\\"dataItem.LoaiKho != 5\\\">{{item.SoLuong | number}}</ng-container>\\n            </p>\\n        </ng-template>\\n\\n        <ng-template #nguoiThucHienTemplate let-dataItem>\\n            <!-- [idWhere]=\\\"dataItem.NoiThucHienId\\\"   -->\\n            <app-combobox *ngIf=\\\"dataItem.NhomId === 2\\\" popupSettings=\\\"null\\\" url=\\\"KhamBenh/BacSiKham\\\" class=\\\"no-label\\\" label=\\\" \\\" [(model)]=\\\"dataItem.NguoiThucHienId\\\" [modelText]=\\\"dataItem.TenNguoiThucHien\\\" [disabled]=\\\"dataItem.TrangThaiDichVu!='Chưa thực hiện'\\\" (modelChange)=\\\"CapNhatGridItemDichVuKyThuat(dataItem, $event, 'NguoiThucHien')\\\"\\n                [queryInfo]=\\\"{ParameterDependencies:'{DichVuId:' +dataItem.NoiThucHienId +'}', Take: 50}\\\">\\n            </app-combobox>\\n            <!-- <div fxFlex=\\\"10%\\\" *ngIf=\\\"dataItem.NhomId === 2\\\">\\n                    <mat-icon [icIcon]=\\\"icInfo\\\" class=\\\"mt-4\\\"\\n                        kendoTooltip title=\\\"Người thực hiện yêu cầu nhập, nếu để trống thì sẽ lấy lại người thực hiện đã chọn trước đó. Nếu chọn nơi thực hiện không có người thực hiện đang chọn, sẽ tự động chọn người thực hiện đầu tiên\\\">\\n                    </mat-icon>\\n                </div> -->\\n            <ng-container *ngIf=\\\"dataItem.NhomId !== 2\\\">{{dataItem.TenNguoiThucHien}}</ng-container>\\n        </ng-template>\\n\\n        <ng-template #actionTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <button *ngIf=\\\"dataItem.ShowButtonHoanThanhDichVu\\\" color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Cập nhật thực hiện dịch vụ\\\" type=\\\"button\\\" (click)=\\\"capNhatThongTinThucHienDichVu(dataItem)\\\" class=\\\"mr-1\\\">\\n                        <mat-icon [icIcon]=\\\"icDone\\\"></mat-icon>\\n                    </button>\\n                <button *ngIf=\\\"dataItem.ShowButtonHuyHoanThanhDichVu\\\" style=\\\"color: red\\\" mat-icon-button kendoTooltip title=\\\"Hủy thực hiện dịch vụ\\\" type=\\\"button\\\" (click)=\\\"capNhatThongTinThucHienDichVu(dataItem, false)\\\" class=\\\"mr-1\\\">\\n                        <mat-icon [icIcon]=\\\"icHistory\\\"></mat-icon>\\n                    </button>\\n                <button *ngIf=\\\"!dataItem.IsDichVuHuyThanhToan\\\" style=\\\"color: red\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\" (click)=\\\"xoaGoiDichVuKhac(dataItem)\\\">\\n                        <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                    </button>\\n                <button *ngIf=\\\"dataItem.IsDichVuHuyThanhToan && !dataItem.LyDoHuyDichVu\\\" style=\\\"color: red\\\" mat-icon-button kendoTooltip title=\\\"Hủy\\\" type=\\\"button\\\" (click)=\\\"huyDichVuDaHuyThanhToan(dataItem)\\\">\\n                        <mat-icon [icIcon]=\\\"icCancel\\\"></mat-icon>\\n                    </button>\\n            </div>\\n        </ng-template>\\n\\n        <ng-template #actionHeaderTemplate>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <button *ngIf=\\\"listChonDichVuChiDinh != undefined && listChonDichVuChiDinh.length > 0 && !isReadOnly\\\" style=\\\"color: red\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\"\\n                    type=\\\"button\\\" (click)=\\\"xuLyXoaNhieuDichVu()\\\">\\n                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                </button>\\n            </div>\\n        </ng-template>\\n\\n        <ng-template #actionVTTHThuocTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n\\n                <button *ngIf=\\\"dataItem.IsCoYeuCauTraVatTuThuocTuBenhNhanChiTiet && dataItem.TinhTrang && dataItem.IsKhoTong\\\" style=\\\"color:red\\\" mat-icon-button kendoTooltip title=\\\"Hoàn trả\\\" type=\\\"button\\\" (click)=\\\"hoanTra(dataItem)\\\">\\n                        <mat-icon [icIcon]=\\\"icReturn\\\"></mat-icon>\\n                    </button>\\n                <button *ngIf=\\\"!dataItem.IsCoYeuCauTraVatTuThuocTuBenhNhanChiTiet && dataItem.TinhTrang && dataItem.IsKhoTong\\\" color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Hoàn trả\\\" type=\\\"button\\\" (click)=\\\"hoanTra(dataItem)\\\">\\n                        <mat-icon [icIcon]=\\\"icReturn\\\"></mat-icon>\\n                    </button>\\n\\n                <button *ngIf=\\\"!(dataItem.PhieuLinh != null && dataItem.PhieuLinh != '')\\\" color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Sửa\\\" type=\\\"button\\\" (click)=\\\"suaVatTuThuoc(dataItem)\\\">\\n                        <mat-icon [icIcon]=\\\"icEditV2\\\"></mat-icon>\\n                    </button>\\n\\n                <button *ngIf=\\\"!(dataItem.PhieuLinh != null && dataItem.PhieuLinh != '')\\\" style=\\\"color: red\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\" (click)=\\\"XoaGhiNhanVTTHThuoc(dataItem)\\\">\\n                        <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                    </button>\\n            </div>\\n        </ng-template>\\n\\n        <!-- BVHD-3745 -->\\n        <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n            <input type=\\\"checkbox\\\" id=\\\"ckbGroup-{{value}}\\\" value=\\\"true\\\" class=\\\"mr-2\\\" (change)=\\\"changeCheckNhomDichVu($event, value)\\\"> <strong>{{value}}</strong>\\n        </ng-template>\\n\\n        <ng-template #stttTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            {{rowIndex + 1}}\\n        </ng-template>\\n        <ng-template #tenDichVuTemplate let-dataItem>\\n            <div>\\n                <mat-icon fxFlex=\\\"30px\\\" *ngIf=\\\"dataItem.YeuCauGoiDichVuId !== null || dataItem.LaDichVuKhuyenMai\\\" [icIcon]=\\\"icInfo\\\" kendoTooltip title=\\\"{{dataItem.TenGoiDichVu}}\\\">\\n                </mat-icon>\\n                <span fxFlex=\\\"auto\\\" class=\\\"reverse-ellipsis r\\\" kendoTooltip title=\\\"{{dataItem.TenDichVu}}\\\">{{dataItem.TenDichVu}} </span>\\n            </div>\\n        </ng-template>\\n\\n        <ng-template #benhPhamTemplate let-dataItem>\\n            <app-textbox *ngIf=\\\"dataItem.IsDichVuXetNghiem\\\" [disabled]=\\\"dataItem.TrangThaiDichVu!='Chưa thực hiện'\\\" [(model)]=\\\"dataItem.BenhPhamXetNghiem\\\" class=\\\"no-label\\\" label=\\\" \\\" [maxlength]=\\\"200\\\" (modelChange)=\\\"CapNhatGridItemDichVuKyThuat(dataItem, $event, 'BenhPhamXetNghiem')\\\">\\n            </app-textbox>\\n        </ng-template>\\n\\n        <ng-template #nhomGroupHeaderVTTHThuocTemplate let-value=\\\"value\\\">\\n            <strong>{{value}}</strong>\\n        </ng-template>\\n    </div>\\n    <div fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\" *ngIf=\\\"tongthanhtien !== 0 || tongtienBNThanhToan !== 0 \\\" kendoTooltip>\\n        <!-- *ngIf=\\\"!isKhamDoan\\\" -->\\n        <ng-container>\\n            <!-- <div class=\\\"styleInChiDinh\\\" *ngIf=\\\"isCheckXacNhanIn == true && hienThiNutInChiDinh == true\\\">\\n                <div class=\\\"inline\\\" kendoTooltip>\\n                    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"XacNhanIn(0)\\\" title=\\\"Phím tắt: Ctrl + P\\\">In\\n                        Chỉ Định</button>\\n                </div>\\n            </div>\\n            <div class=\\\"styleInChiDinh\\\" *ngIf=\\\"isCheckXacNhanIn == true && hienThiNutInChiDinh == true\\\">\\n                <div class=\\\"inline\\\" kendoTooltip>\\n                    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"XacNhanIn(1)\\\" title=\\\"Phím tắt: Ctrl + P\\\">In\\n                        Chung Dịch Vụ Khám Bệnh Và Dịch Vụ Kỹ Thuật</button>\\n                </div>\\n            </div> -->\\n            <ng-container *ngIf=\\\"isCheckXacNhanIn == true && hienThiNutInChiDinh == true && !isReadOnly\\\">\\n                <!-- <button type=\\\"button\\\" color=\\\"primary\\\" class=\\\"mr-1\\\" mat-raised-button (click)=\\\"XacNhanIn(1)\\\" title=\\\"Phím tắt: Ctrl + P\\\">\\n                                {{isKhamDoan ? 'In Chỉ Định Chung' : 'In Chung Dịch Vụ Khám Bệnh Và Dịch Vụ Kỹ Thuật'}}</button>\\n                            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"XacNhanIn(0)\\\" title=\\\"Phím tắt: Ctrl + P\\\">\\n                                In Chỉ Định</button> -->\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"InPhieuXN()\\\"  style=\\\"margin-right: 5px;\\\">\\n                    In phiếu chỉ định xét nghiệm test nhanh Sars-Cov 2\\n                </button>\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"XacNhanIn(0)\\\" title=\\\"Phím tắt: Ctrl + P\\\">\\n                    In chỉ định</button>\\n            \\n            </ng-container>\\n\\n        </ng-container>\\n        <!-- <div *ngIf=\\\"isKhamDoan && isCheckXacNhanIn == true && hienThiNutInChiDinh == true\\\">\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button class=\\\"mr-1\\\" title=\\\"Phím tắt: Ctrl + P\\\">In\\n                Chỉ Định Chung</button>\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button title=\\\"Phím tắt: Ctrl + P\\\">In\\n                Chỉ Định Riêng</button>\\n        </div> -->\\n        <!-- <div class=\\\"styleInChiDinh\\\" *ngIf=\\\"isCheckXacNhanIn == true\\\">\\n            <div class=\\\"inline\\\" kendoTooltip>\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"XacNhanIn(2)\\\" title=\\\"Phím tắt: Ctrl + P\\\">In Chung Tùy Chọn</button>\\n            </div>\\n        </div> -->\\n    </div>\\n</div>\"","export default \"<div *ngIf=\\\"!laChuyenKhoaKhamNhieu\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mr-4\\\">CHỈ SỐ SINH TỒN\\n        <button *ngIf=\\\"!isReadOnly\\\" class=\\\"po-h\\\" color=\\\"primary\\\" (click)=\\\"themChiSoSinhTon()\\\">\\n            <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n        </button>\\n    </h3>\\n    <ng-container *ngIf=\\\"dataSourceSinhHieu.data.length == 0\\\">\\n        <p>Không có chỉ số sinh tồn</p>\\n    </ng-container>\\n    <app-grid fxFlex=\\\"100%\\\" *ngIf=\\\"dataSourceSinhHieu.data.length > 0\\\" masterName=\\\"SinhHieu\\\" [gridColumns]=\\\"gridSinhHieuColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n        [checkboxAble]=\\\"false\\\" [maxHeight]=\\\"200\\\" [lazyLoadPage]=\\\"true\\\" [gridDataSource]=\\\"dataSourceSinhHieu\\\" [pageable]=\\\"false\\\">\\n    </app-grid>\\n    \\n</div>\\n\\n<div *ngIf=\\\"laChuyenKhoaKhamNhieu\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <div [fxFlex]=\\\"dataSourceSinhHieu.data.length == 0 ? '15%' : '10%'\\\">\\n        <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">CHỈ SỐ SINH TỒN\\n            <button *ngIf=\\\"!isReadOnly\\\" class=\\\"po-h\\\" color=\\\"primary\\\" (click)=\\\"themChiSoSinhTon()\\\">\\n                <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n            </button>\\n        </h3>\\n    </div>\\n    <div [fxFlex]=\\\"dataSourceSinhHieu.data.length == 0 ? '85%' : '90%'\\\" class=\\\"pl-1\\\">\\n        <ng-container *ngIf=\\\"dataSourceSinhHieu.data.length == 0\\\">\\n            <span>Không có chỉ số sinh tồn</span>\\n        </ng-container>\\n\\n        <ng-container *ngIf=\\\"dataSourceSinhHieu.data.length > 0\\\">\\n            <table id=\\\"tbl-sinh-ton\\\" style=\\\"width: 100%\\\">\\n                <tr>\\n                    <th style=\\\"text-align: left; width: 110px;\\\">Mạch (nhịp/phút)</th>\\n                    <th style=\\\"text-align: left; width: 110px;\\\">Nhiệt độ (°C)</th>\\n                    <th style=\\\"text-align: left; width: 110px;\\\">Huyết áp (mmHg)</th>\\n                    <th style=\\\"text-align: left; width: 110px;\\\">Nhịp thở (lần/phút)</th>\\n                    <th style=\\\"text-align: left; width: 110px;\\\">Cân nặng (kg)</th>\\n                    <th style=\\\"text-align: left; width: 110px;\\\">Chiều cao (cm)</th>\\n                    <th style=\\\"text-align: left; width: 110px;\\\">BMI (kg/m²)</th>\\n                    <th style=\\\"text-align: left; width: 110px;\\\">Glassgow</th>\\n                    <th style=\\\"text-align: left; width: 110px;\\\">SpO2 (%)</th>\\n                    <th style=\\\"text-align: left; width: 110px;\\\">Ngày thực hiện</th>\\n                    <th style=\\\"width: 30px;\\\"></th>\\n                </tr>\\n                <tr *ngFor=\\\"let dataItem of dataSourceSinhHieu.data, let rowIndex = index\\\">\\n                    <td>\\n                        <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [max]=\\\"9999\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.NhipTim\\\" class=\\\"no-label\\\" (modelChange)=\\\"onChangeNhipTim(dataItem, $event)\\\">\\n                        </app-textboxnumeric>\\n                        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.NhipTim}}</p>\\n                    </td>\\n                    <td>\\n                        <app-textboxnumeric [format]=\\\"format\\\" [max]=\\\"9999\\\" [spinners]=\\\"false\\\" *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [decimals]=\\\"1\\\" [(model)]=\\\"dataItem.ThanNhiet\\\" class=\\\"no-label\\\">\\n                        </app-textboxnumeric>\\n                        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.ThanNhiet | number}}</p>\\n                    </td>\\n                    <td>\\n                        <table width=\\\"100%\\\" *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\">\\n                            <tr>\\n                                <td style=\\\"width:calc(50% - 3px);padding:0\\\">\\n                                    <app-textboxnumeric [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.HuyetApTamThu\\\" class=\\\"no-label\\\" [max]=\\\"9999\\\" (modelChange)=\\\"onChangeHuyetApTamThu($event, dataItem)\\\">\\n                                    </app-textboxnumeric>\\n                                </td>\\n                                <td style=\\\"width:6px;padding:0\\\">/</td>\\n                                <td style=\\\"width:calc(50% - 3px);padding:0\\\">\\n                                    <app-textboxnumeric [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.HuyetApTamTruong\\\" class=\\\"no-label\\\" [max]=\\\"9999\\\" (modelChange)=\\\"onChangeHuyetApTamTruong($event, dataItem)\\\">\\n                                    </app-textboxnumeric>\\n                                </td>\\n                            </tr>\\n                        </table>\\n                        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.HuyetAp}}</p>\\n                    </td>\\n                    <td>\\n                        <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [max]=\\\"9999\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.NhipTho\\\" class=\\\"no-label\\\" (modelChange)=\\\"onChangeNhipTho($event, dataItem)\\\">\\n                        </app-textboxnumeric>\\n                        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.NhipTho}}</p>\\n                    </td>\\n                    <td>\\n                        <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [format]=\\\"format\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.CanNang\\\" class=\\\"no-label\\\" [max]=\\\"9999\\\" [decimals]=\\\"1\\\" (modelChange)=\\\"onChangeCanNang(dataItem)\\\">\\n                        </app-textboxnumeric>\\n                        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.CanNang | number}}</p>\\n                    </td>\\n                    <td>\\n                        <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [format]=\\\"format\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.ChieuCao\\\" [decimals]=\\\"1\\\" class=\\\"no-label\\\" [max]=\\\"9999\\\" (modelChange)=\\\"onChangeChieuCao(dataItem)\\\">\\n                        </app-textboxnumeric>\\n                        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.ChieuCao | number}}</p>\\n                    </td>\\n                    <td>\\n                        <p class=\\\"ml-1\\\">{{dataItem.BMI | number: '1.2-2'}}</p>\\n                    </td>\\n                    <td>\\n                        <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [max]=\\\"9999\\\" [format]=\\\"format\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.Glassgow\\\" [decimals]=\\\"1\\\" class=\\\"no-label\\\">\\n                        </app-textboxnumeric>\\n                        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.Glassgow | number}}</p>\\n                    </td>\\n                    <td>\\n                        <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [max]=\\\"9999\\\" [format]=\\\"format\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.SpO2\\\" [decimals]=\\\"1\\\" class=\\\"no-label\\\">\\n                        </app-textboxnumeric>\\n                        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.SpO2 | number}}</p>\\n                    </td>\\n                    <td>\\n                        {{dataItem.NgayThucHien}}\\n                    </td>\\n                    <td>\\n                        <div *ngIf=\\\"!isReadOnly\\\" class=\\\"text-center\\\" kendoTooltip>\\n                            <button color=\\\"primary\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\" kendoTooltip title=\\\"Sửa\\\" (click)=\\\"suaChiSoSinhHieu(dataItem)\\\" class=\\\"btn-blue\\\">\\n                                <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n                            </button>\\n                            <button color=\\\"primary\\\" kendoTooltip title=\\\"Xóa\\\" (click)=\\\"xoaChiSoSinhHieu(dataItem)\\\" class=\\\"btn-blue\\\">\\n                                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                            </button>\\n                        </div>\\n                    </td>\\n                </tr>\\n            </table>\\n        </ng-container>\\n    </div>\\n</div>\\n\\n<!-- template -->\\n<ng-template #nhipTimTemplate let-dataItem>\\n    <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [max]=\\\"9999\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.NhipTim\\\" class=\\\"no-label\\\" (modelChange)=\\\"onChangeNhipTim(dataItem, $event)\\\">\\n    </app-textboxnumeric>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.NhipTim}}</p>\\n</ng-template>\\n<ng-template #huyetApTemplate let-dataItem>\\n    <table width=\\\"100%\\\" *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\">\\n        <tr>\\n            <td style=\\\"width:calc(50% - 3px);padding:0\\\">\\n                <app-textboxnumeric [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.HuyetApTamThu\\\" class=\\\"no-label\\\" [max]=\\\"9999\\\" (modelChange)=\\\"onChangeHuyetApTamThu($event, dataItem)\\\">\\n                </app-textboxnumeric>\\n            </td>\\n            <td style=\\\"width:6px;padding:0\\\">/</td>\\n            <td style=\\\"width:calc(50% - 3px);padding:0\\\">\\n                <app-textboxnumeric [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.HuyetApTamTruong\\\" class=\\\"no-label\\\" [max]=\\\"9999\\\" (modelChange)=\\\"onChangeHuyetApTamTruong($event, dataItem)\\\">\\n                </app-textboxnumeric>\\n            </td>\\n        </tr>\\n    </table>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.HuyetAp}}</p>\\n</ng-template>\\n<ng-template #thanNhietTemplate let-dataItem>\\n    <app-textboxnumeric [format]=\\\"format\\\" [max]=\\\"9999\\\" [spinners]=\\\"false\\\" *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [decimals]=\\\"1\\\" [(model)]=\\\"dataItem.ThanNhiet\\\" class=\\\"no-label\\\">\\n    </app-textboxnumeric>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.ThanNhiet | number}}</p>\\n</ng-template>\\n<ng-template #nhipThoTemplate let-dataItem>\\n    <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [max]=\\\"9999\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.NhipTho\\\" class=\\\"no-label\\\" (modelChange)=\\\"onChangeNhipTho($event, dataItem)\\\">\\n    </app-textboxnumeric>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.NhipTho}}</p>\\n</ng-template>\\n<ng-template #canNangTemplate let-dataItem>\\n    <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [format]=\\\"format\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.CanNang\\\" class=\\\"no-label\\\" [max]=\\\"9999\\\" [decimals]=\\\"1\\\" (modelChange)=\\\"onChangeCanNang(dataItem)\\\">\\n    </app-textboxnumeric>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.CanNang | number}}</p>\\n</ng-template>\\n<ng-template #chieuCaoTemplate let-dataItem>\\n    <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [format]=\\\"format\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.ChieuCao\\\" [decimals]=\\\"1\\\" class=\\\"no-label\\\" [max]=\\\"9999\\\" (modelChange)=\\\"onChangeChieuCao(dataItem)\\\">\\n    </app-textboxnumeric>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.ChieuCao | number}}</p>\\n</ng-template>\\n<ng-template #BMITemplate let-dataItem>\\n    <p class=\\\"ml-1\\\">{{dataItem.BMI | number: '1.2-2'}}</p>\\n</ng-template>\\n<ng-template #glassgowTemplate let-dataItem>\\n    <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [max]=\\\"9999\\\" [format]=\\\"format\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.Glassgow\\\" [decimals]=\\\"1\\\" class=\\\"no-label\\\">\\n    </app-textboxnumeric>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.Glassgow | number}}</p>\\n</ng-template>\\n<ng-template #spO2Template let-dataItem>\\n    <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [max]=\\\"9999\\\" [format]=\\\"format\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.SpO2\\\" [decimals]=\\\"1\\\" class=\\\"no-label\\\">\\n    </app-textboxnumeric>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.SpO2 | number}}</p>\\n</ng-template>\\n<ng-template #actionSinhHieuTemplate let-dataItem>\\n    <div class=\\\"text-center\\\" kendoTooltip>\\n        <!-- <button *ngIf=\\\"dataItem.Id == 0\\\" color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Lưu\\\" type=\\\"button\\\"\\n            (click)=\\\"luuChiSoSinhHieu(dataItem)\\\">\\n            <mat-icon [icIcon]=\\\"icSave\\\"></mat-icon>\\n        </button> -->\\n        <button color=\\\"primary\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\" mat-icon-button kendoTooltip title=\\\"Sửa\\\" type=\\\"button\\\" (click)=\\\"suaChiSoSinhHieu(dataItem)\\\">\\n            <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n        </button>\\n        <button color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\" (click)=\\\"xoaChiSoSinhHieu(dataItem)\\\">\\n            <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n        </button>\\n    </div>\\n</ng-template>\"","export default \"<ng-container *ngIf=\\\"!laChuyenKhoaKhamNhieu\\\">\\n    <h3 class=\\\"sub-title\\\">DỊ ỨNG\\n        <button *ngIf=\\\"!isReadOnly\\\" class=\\\"po-h\\\" color=\\\"primary\\\" (click)=\\\"themDiUngThuoc()\\\">\\n            <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n        </button>\\n    </h3>\\n    <ng-container *ngIf=\\\"dataSourceDiUng.data.length == 0\\\">\\n        <p>Không có dị ứng </p>\\n    </ng-container>\\n    <app-grid *ngIf=\\\"dataSourceDiUng.data.length > 0\\\" masterName=\\\"DiUngThuoc\\\" [gridColumns]=\\\"gridDiUngThuocColumns\\\"\\n        [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\"\\n        [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [maxHeight]=\\\"200\\\" [lazyLoadPage]=\\\"true\\\"\\n        [gridDataSource]=\\\"dataSourceDiUng\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n    </app-grid>\\n    \\n</ng-container>\\n\\n<ng-container *ngIf=\\\"laChuyenKhoaKhamNhieu\\\">\\n    <div fxFlex=\\\"10%\\\">\\n        <h3 class=\\\"sub-title\\\" style=\\\"margin-top: 0px !important;\\\">DỊ ỨNG\\n            <button *ngIf=\\\"!isReadOnly\\\" class=\\\"po-h\\\" color=\\\"primary\\\" (click)=\\\"themDiUngThuoc()\\\">\\n                <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n            </button>\\n        </h3>\\n    </div>\\n    <div fxFlex=\\\"90%\\\" class=\\\"ml-2\\\">\\n        <ng-container *ngIf=\\\"dataSourceDiUng.data.length == 0\\\">\\n            <span>Không có dị ứng</span>\\n        </ng-container>\\n\\n        <ng-container *ngIf=\\\"dataSourceDiUng.data.length > 0\\\">\\n            <table id=\\\"tbl-di-ung\\\" style=\\\"width: 100%;\\\">\\n                <tr>\\n                    <th style=\\\"width: 20%; text-align: left;\\\">Loại dị ứng</th>\\n                    <th style=\\\"width: 35%; text-align: left;\\\">Tên dị ứng</th>\\n                    <th style=\\\"width: 20%; text-align: left;\\\">Biểu hiện dị ứng</th>\\n                    <th style=\\\"width: 20%; text-align: left;\\\">Mức độ</th>\\n                    <th style=\\\"width: 5%\\\"></th>\\n                </tr>\\n                <tr *ngFor=\\\"let dataItem of dataSourceDiUng.data, let rowIndex = index\\\">\\n                    <td>\\n                        <app-dropdownlist *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [(model)]=\\\"dataItem.LoaiDiUng\\\" [modelText]=\\\"dataItem.TenLoaiDiUng\\\"\\n                            popupSettings=\\\"null\\\" [template]=\\\"DuocPhamTemplate\\\" [templateHeader]=\\\"DuocPhamTemplateHeader\\\"\\n                            url=\\\"KhamBenh/getListLoaiDiUng\\\" [required]=\\\"true\\\" [disabled]=\\\"(dataItem.Id != 0 && !dataItem.IsUpdate) || isReadOnly\\\"\\n                            [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs['+rowIndex+'].LoaiDiUng' | validationerror:benhNhanHienTai.validationErrors\\\"\\n                            (selectionChange)=\\\"onSelectLoaiDiUng($event, dataItem)\\\" class=\\\"no-label item-no-padding\\\" label=\\\" \\\">\\n                            <ng-template #DuocPhamTemplateHeader let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <th width=\\\"20%\\\">Loại</th>\\n                                        <th>Tên dị ứng</th>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                            <ng-template #DuocPhamTemplate let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <th width=\\\"20%\\\" style=\\\"font-weight: normal;\\\">{{dataItem.KeyId}}</th>\\n                                        <th style=\\\"font-weight: normal;\\\">{{dataItem.DisplayName}}</th>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                        </app-dropdownlist>\\n                        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.TenLoaiDiUng}}</p>\\n                    </td>\\n                    <td>\\n                        <!-- <app-combobox *ngIf=\\\"(dataItem.Id == 0 || dataItem.IsUpdate) && dataItem.LoaiDiUng == 1\\\" [(model)]=\\\"dataItem.ThuocId\\\" [bind]=\\\"true\\\"\\n                            [modelText]=\\\"dataItem.TenDiUng\\\" popupSettings=\\\"null\\\" [template]=\\\"DuocPhamTemplate\\\"\\n                            (selectionChange)=\\\"chonThuoc($event, dataItem)\\\" [templateHeader]=\\\"DuocPhamTemplateHeader\\\"\\n                            url=\\\"KhamBenh/GetListThuoc\\\" [required]=\\\"true\\\" [disabled]=\\\"dataItem.Id != 0\\\"\\n                            [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs['+rowIndex+'].TenDiUng' | validationerror:benhNhanHienTai.validationErrors\\\"\\n                            class=\\\"no-label item-no-padding\\\" label=\\\" \\\">\\n                            <ng-template #DuocPhamTemplateHeader let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <th width=\\\"15%\\\">Dược Phẩm</th>\\n                                        <th>Hoạt Chất</th>\\n                                        <th width=\\\"25%\\\">Đường Dùng</th>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                            <ng-template #DuocPhamTemplate let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <td width=\\\"15%\\\">{{dataItem.HoatChat}}</td>\\n                                        <td>{{dataItem.TenThuoc}}</td>\\n                                        <td width=\\\"25%\\\">{{dataItem.DuongDung}}</td>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                        </app-combobox> -->\\n\\n                        <app-autocomplete *ngIf=\\\"(dataItem.Id == 0 || dataItem.IsUpdate) && dataItem.LoaiDiUng == 1\\\" maxlength=\\\"1000\\\"\\n                            popupSettings=\\\"null\\\" [(model)]=\\\"dataItem.TenDiUng\\\" valueField=\\\"TenThuoc\\\" [template]=\\\"DuocPhamTemplate\\\"\\n                            (onValueChange)=\\\"changeData()\\\" [templateHeader]=\\\"DuocPhamTemplateHeader\\\" url=\\\"KhamBenh/GetListThuoc\\\" [required]=\\\"true\\\"\\n                            [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs['+rowIndex+'].TenDiUng' | validationerror:benhNhanHienTai.validationErrors\\\"\\n                            class=\\\"no-label item-no-padding\\\" label=\\\" \\\" [disabled]=\\\"(dataItem.Id != 0 && !dataItem.IsUpdate) || isReadOnly\\\">\\n                            <ng-template #DuocPhamTemplateHeader let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <th width=\\\"15%\\\">Dược Phẩm</th>\\n                                        <th>Hoạt Chất</th>\\n                                        <th width=\\\"25%\\\">Đường Dùng</th>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                            <ng-template #DuocPhamTemplate let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <td width=\\\"15%\\\">{{dataItem.HoatChat}}</td>\\n                                        <td>{{dataItem.TenThuoc}}</td>\\n                                        <td width=\\\"25%\\\">{{dataItem.DuongDung}}</td>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                        </app-autocomplete>\\n\\n                        <app-textbox *ngIf=\\\"(dataItem.Id == 0 || dataItem.IsUpdate) && dataItem.LoaiDiUng !=1\\\" maxlength=\\\"1000\\\" [(model)]=\\\"dataItem.TenDiUng\\\"\\n                            [required]=\\\"true\\\" [disabled]=\\\"(dataItem.Id != 0 && !dataItem.IsUpdate) || isReadOnly\\\"\\n                            [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs['+rowIndex+'].TenDiUng' | validationerror:benhNhanHienTai.validationErrors\\\"\\n                            class=\\\"no-label\\\" label=\\\" \\\">\\n                        </app-textbox>\\n                        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.TenDiUng}}</p>\\n                    </td>\\n                    <td>\\n                        <app-textbox *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" maxlength=\\\"2000\\\" [(model)]=\\\"dataItem.BieuHienDiUng\\\" class=\\\"no-label\\\"\\n                            [required]=\\\"true\\\" [disabled]=\\\"(dataItem.Id != 0 && !dataItem.IsUpdate) || isReadOnly\\\"\\n                            [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs['+rowIndex+'].BieuHienDiUng' | validationerror:benhNhanHienTai.validationErrors\\\"\\n                            label=\\\" \\\">\\n                        </app-textbox>\\n                        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.BieuHienDiUng}}</p>\\n                    </td>\\n                    <td>\\n                        <app-dropdownlist *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [(model)]=\\\"dataItem.MucDo\\\" (selectionChange)=\\\"chonMucDo($event, dataItem)\\\"\\n                            [modelText]=\\\"dataItem.TenMucDo\\\" class=\\\"no-label\\\" [popupSettings]=\\\"null\\\" url=\\\"KhamBenh/GetListMucDoDiUng\\\"\\n                            [required]=\\\"true\\\" [disabled]=\\\"(dataItem.Id != 0 && !dataItem.IsUpdate) || isReadOnly\\\"\\n                            [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs['+rowIndex+'].MucDo' | validationerror:benhNhanHienTai.validationErrors\\\"\\n                            label=\\\" \\\">\\n                        </app-dropdownlist>\\n                        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.TenMucDo}}</p>\\n                    </td>\\n                    <td>\\n                        <div *ngIf=\\\"!isReadOnly\\\" class=\\\"text-center\\\" kendoTooltip>\\n                            <button *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\" color=\\\"primary\\\" kendoTooltip title=\\\"Sửa\\\"\\n                                (click)=\\\"suaDiUngThuoc(dataItem)\\\" class=\\\"btn-blue\\\">\\n                                <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n                            </button>\\n                            <button color=\\\"primary\\\" kendoTooltip title=\\\"Xóa\\\" class=\\\"btn-blue\\\"\\n                                (click)=\\\"xoaDiUngThuoc(dataItem)\\\">\\n                                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                            </button>\\n                        </div>\\n                    </td>\\n                </tr>\\n            </table>\\n        </ng-container>\\n    </div>\\n</ng-container>\\n\\n<!-- template -->\\n<ng-template #loaiDiUngTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <app-dropdownlist *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [(model)]=\\\"dataItem.LoaiDiUng\\\" [modelText]=\\\"dataItem.TenLoaiDiUng\\\"\\n        popupSettings=\\\"null\\\" [template]=\\\"DuocPhamTemplate\\\" [templateHeader]=\\\"DuocPhamTemplateHeader\\\"\\n        url=\\\"KhamBenh/getListLoaiDiUng\\\" [required]=\\\"true\\\"\\n        [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs['+rowIndex+'].LoaiDiUng' | validationerror:benhNhanHienTai.validationErrors\\\"\\n        (selectionChange)=\\\"onSelectLoaiDiUng($event, dataItem)\\\" class=\\\"no-label item-no-padding\\\" label=\\\" \\\">\\n        <ng-template #DuocPhamTemplateHeader let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <th width=\\\"20%\\\">Loại</th>\\n                    <th>Tên dị ứng</th>\\n                </tr>\\n            </table>\\n        </ng-template>\\n        <ng-template #DuocPhamTemplate let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <th width=\\\"20%\\\" style=\\\"font-weight: normal;\\\">{{dataItem.KeyId}}</th>\\n                    <th style=\\\"font-weight: normal;\\\">{{dataItem.DisplayName}}</th>\\n                </tr>\\n            </table>\\n        </ng-template>\\n    </app-dropdownlist>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.TenLoaiDiUng}}</p>\\n</ng-template>\\n\\n<ng-template #tenThuocTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <!-- <app-combobox *ngIf=\\\"(dataItem.Id == 0 || dataItem.IsUpdate) && dataItem.LoaiDiUng == 1\\\" [(model)]=\\\"dataItem.ThuocId\\\"\\n        [modelText]=\\\"dataItem.TenDiUng\\\" popupSettings=\\\"null\\\" [template]=\\\"DuocPhamTemplate\\\"\\n        (selectionChange)=\\\"chonThuoc($event, dataItem)\\\" [templateHeader]=\\\"DuocPhamTemplateHeader\\\"\\n        url=\\\"KhamBenh/GetListThuoc\\\" [required]=\\\"true\\\"\\n        [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs['+rowIndex+'].TenDiUng' | validationerror:benhNhanHienTai.validationErrors\\\"\\n        class=\\\"no-label item-no-padding\\\" label=\\\" \\\">\\n        <ng-template #DuocPhamTemplateHeader let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <th width=\\\"15%\\\">Dược Phẩm</th>\\n                    <th>Hoạt Chất</th>\\n                    <th width=\\\"25%\\\">Đường Dùng</th>\\n                </tr>\\n            </table>\\n        </ng-template>\\n        <ng-template #DuocPhamTemplate let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <td width=\\\"15%\\\">{{dataItem.HoatChat}}</td>\\n                    <td>{{dataItem.TenThuoc}}</td>\\n                    <td width=\\\"25%\\\">{{dataItem.DuongDung}}</td>\\n                </tr>\\n            </table>\\n        </ng-template>\\n    </app-combobox> -->\\n\\n    <app-autocomplete *ngIf=\\\"(dataItem.Id == 0 || dataItem.IsUpdate) && dataItem.LoaiDiUng == 1\\\" maxlength=\\\"1000\\\"\\n        popupSettings=\\\"null\\\" [(model)]=\\\"dataItem.TenDiUng\\\" valueField=\\\"TenThuoc\\\"[template]=\\\"DuocPhamTemplate\\\"\\n        (onValueChange)=\\\"changeData()\\\" [templateHeader]=\\\"DuocPhamTemplateHeader\\\" url=\\\"KhamBenh/GetListThuoc\\\"\\n        [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs['+rowIndex+'].TenDiUng' | validationerror:benhNhanHienTai.validationErrors\\\"\\n        class=\\\"no-label item-no-padding\\\" label=\\\" \\\" [required]=\\\"true\\\">\\n        <ng-template #DuocPhamTemplateHeader let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <th width=\\\"15%\\\">Dược Phẩm</th>\\n                    <th>Hoạt Chất</th>\\n                    <th width=\\\"25%\\\">Đường Dùng</th>\\n                </tr>\\n            </table>\\n        </ng-template>\\n        <ng-template #DuocPhamTemplate let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <td width=\\\"15%\\\">{{dataItem.HoatChat}}</td>\\n                    <td>{{dataItem.TenThuoc}}</td>\\n                    <td width=\\\"25%\\\">{{dataItem.DuongDung}}</td>\\n                </tr>\\n            </table>\\n        </ng-template>\\n    </app-autocomplete>\\n\\n    <app-textbox *ngIf=\\\"(dataItem.Id == 0 || dataItem.IsUpdate) && dataItem.LoaiDiUng !=1\\\" maxlength=\\\"1000\\\" [(model)]=\\\"dataItem.TenDiUng\\\"\\n        [required]=\\\"true\\\"\\n        [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs['+rowIndex+'].TenDiUng' | validationerror:benhNhanHienTai.validationErrors\\\"\\n        class=\\\"no-label\\\" label=\\\" \\\">\\n    </app-textbox>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.TenDiUng}}</p>\\n</ng-template>\\n<ng-template #bieuHienDiUngTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <app-textbox *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" maxlength=\\\"2000\\\" [(model)]=\\\"dataItem.BieuHienDiUng\\\" class=\\\"no-label\\\"\\n        [required]=\\\"true\\\"\\n        [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs['+rowIndex+'].BieuHienDiUng' | validationerror:benhNhanHienTai.validationErrors\\\"\\n        label=\\\" \\\">\\n    </app-textbox>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.BieuHienDiUng}}</p>\\n</ng-template>\\n<ng-template #mucDoTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <app-dropdownlist *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [(model)]=\\\"dataItem.MucDo\\\"\\n        (selectionChange)=\\\"chonMucDo($event, dataItem)\\\" [modelText]=\\\"dataItem.TenMucDo\\\" class=\\\"no-label\\\"\\n        [popupSettings]=\\\"null\\\" url=\\\"KhamBenh/GetListMucDoDiUng\\\" [required]=\\\"true\\\"\\n        [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs['+rowIndex+'].MucDo' | validationerror:benhNhanHienTai.validationErrors\\\"\\n        label=\\\" \\\">\\n    </app-dropdownlist>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.TenMucDo}}</p>\\n</ng-template>\\n<ng-template #actionDiUngThuocTemplate let-dataItem>\\n    <div class=\\\"text-center\\\" kendoTooltip>\\n        <!-- <button *ngIf=\\\"dataItem.Id == 0\\\" color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Lưu\\\" type=\\\"button\\\"\\n        (click)=\\\"luuDiUngThuoc(dataItem)\\\">\\n        <mat-icon [icIcon]=\\\"icSave\\\"></mat-icon>\\n    </button> -->\\n        <button *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\" color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Sửa\\\"\\n            type=\\\"button\\\" (click)=\\\"suaDiUngThuoc(dataItem)\\\">\\n            <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n        </button>\\n        <button color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\"\\n            (click)=\\\"xoaDiUngThuoc(dataItem)\\\">\\n            <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n        </button>\\n    </div>\\n</ng-template>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>Thêm gói dịch vụ</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n        <!-- <div style=\\\"padding-top: 0;padding-bottom: 0;margin: -16px!important;\\\"> -->\\n        <app-grid *ngIf=\\\"loadedGrid\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" style=\\\"width: 1px;\\\" [gridColumns]=\\\"gridColumns\\\"\\n            [gridDataSource]=\\\"gridDataSource\\\" [documentType]=\\\"data.documentType\\\" [useAddDeault]=\\\"false\\\"\\n            [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n            maxHeight=\\\"500\\\" [pageable]=\\\"false\\\" [groups]=\\\"data.groups\\\">\\n        </app-grid>\\n        <!-- </div> -->\\n    </div>\\n\\n    <ng-template #noiThucHienTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"5px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n            fxLayoutAlign=\\\"space-between\\\">\\n            <div fxFlex=\\\"100%\\\" style=\\\"position: relative;\\\">\\n                <!-- Dich vu Giuong -->\\n                <app-combobox *ngIf=\\\"dataItem.NhomId ===5\\\" [(model)]=\\\"dataItem.NoiThucHienId\\\"\\n                    [modelText]=\\\"dataItem.NoiThucHien\\\" popupSettings=\\\"null\\\" class=\\\"item-no-padding no-label\\\"\\n                    url=\\\"KhamBenh/GetPhongThucHienChiDinhGiuong\\\" [template]=\\\"phongKhamTemplate\\\"\\n                    [templateHeader]=\\\"phongKhamTemplateHeader\\\" [idWhere]=\\\"dataItem.LoaiYeuCauDichVuId\\\" [autoSelectFirstItem]=\\\"true\\\"\\n                    [validationerror]=\\\"'GoiDichVuChiTietNoiThucHiens['+rowIndex+'].NoiThucHienId' | validationerror:validationErrors\\\">\\n                    <ng-template #phongKhamTemplateHeader let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <th width=\\\"20%\\\">Mã</th>\\n                                <th width=\\\"80%\\\">Tên phòng</th>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                    <ng-template #phongKhamTemplate let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                <td width=\\\"80%\\\">{{dataItem.TenPhong}}</td>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                </app-combobox>\\n                <app-combobox *ngIf=\\\"dataItem.NhomId === 1 || dataItem.NhomId === 2\\\" popupSettings=\\\"null\\\"\\n                    class=\\\"item-no-padding no-label\\\" [(model)]=\\\"dataItem.NoiThucHienId\\\"\\n                    [modelText]=\\\"dataItem.NoiThucHien\\\" [idWhere]=\\\"dataItem.LoaiYeuCauDichVuId\\\" [autoSelectFirstItem]=\\\"true\\\"\\n                    url=\\\"KhamBenh/GetPhongThucHienChiDinhKhamOrDichVuKyThuat\\\" [template]=\\\"phongKhamTemplate\\\"\\n                    [templateHeader]=\\\"phongKhamTemplateHeader\\\" id=\\\"NoiThucHien{{dataItem.Id}}\\\"\\n                    [validationerror]=\\\"'GoiDichVuChiTietNoiThucHiens['+rowIndex+'].NoiThucHienId' | validationerror:validationErrors\\\">\\n                    <ng-template #phongKhamTemplateHeader let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <th width=\\\"20%\\\">Mã</th>\\n                                <th width=\\\"40%\\\">Tên phòng</th>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                    <ng-template #phongKhamTemplate let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                <td width=\\\"40%\\\">{{dataItem.TenPhong}}</td>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                </app-combobox>\\n            </div>\\n        </div>\\n    </ng-template>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"\\\" cdkFocusInitial>Hủy</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"kiemTraValiDationNoiThucHien()\\\">Lưu</button>\\n</mat-dialog-actions>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <div fxFlex=\\\"100%\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <app-textbox id=\\\"Ten\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"200\\\"\\n                [(model)]=\\\"trieuChungKhamBanDau\\\" label=\\\"Triệu chứng khám\\\"\\n                (modelChange)=\\\"onSaveTrieuChungKham()\\\">\\n            </app-textbox>\\n\\n            <app-multiselect id=\\\"TrieuChungLamSang\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"trieuChungs\\\"\\n                label=\\\"Triệu chứng lâm sàng\\\" url=\\\"KhamBenh/GetListTrieuChung\\\" (valueChange)=\\\"saveTrieuChung($event)\\\">\\n            </app-multiselect>\\n\\n            <app-textbox id=\\\"Ten\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"200\\\"\\n                [(model)]=\\\"ghiChuTrieuChungBanDau\\\" label=\\\"Ghi chú triệu chứng lâm sàng\\\"\\n                (modelChange)=\\\"onSaveGhiChuTrieuChung()\\\">\\n            </app-textbox>\\n\\n            <app-multiselect id=\\\"ChuanDoan\\\" fxFlex=\\\"100%\\\" [(model)]=\\\"chuanDoans\\\" fxFlex.sm=\\\"100%\\\"\\n                label=\\\"Chẩn đoán ban đầu\\\" url=\\\"KhamBenh/GetListChuanDoan\\\" (valueChange)=\\\"saveChuanDoan($event)\\\">\\n            </app-multiselect>\\n            <ng-container\\n                *ngIf=\\\"templateKhoaPhongObj!=null && templateKhoaPhongObj.ComponentDynamics!=null && templateKhoaPhongObj.ComponentDynamics.length>0\\\">\\n                <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title\\\">{{tenKhoaPhong}}</h3>\\n                <ng-container *ngFor=\\\"let item of templateKhoaPhongObj.ComponentDynamics\\\">\\n                    <app-textbox *ngIf=\\\"item.Type==1\\\" fxFlex=\\\"{{item.fxFlex}}\\\" fxFlex.sm=\\\"{{item.fxFlexSm}}\\\"\\n                        id=\\\"{{item.Id}}\\\" label=\\\"{{item.Label}}\\\" [(model)]=\\\"item.Value\\\" (modelChange)=\\\"changeText()\\\"\\n                        maxlength=\\\"1000\\\">\\n                    </app-textbox>\\n                    <app-textarea *ngIf=\\\"item.Type==2\\\" fxFlex=\\\"{{item.fxFlex}}\\\" fxFlex.sm=\\\"{{item.fxFlexSm}}\\\"\\n                        id=\\\"{{item.Id}}\\\" label=\\\"{{item.Label}}\\\" [(model)]=\\\"item.Value\\\" (modelChange)=\\\"changeTextArea()\\\"\\n                        maxlength=\\\"1000\\\">\\n                    </app-textarea>\\n                </ng-container>\\n            </ng-container>\\n        </div>\\n        <div style=\\\"float:right;\\\" *ngIf=\\\"displayButton===true\\\">\\n            <button (click)=\\\"reset()\\\" mat-flat-button\\n                style=\\\"margin-right: 5px; margin-top:5px; height: 36px;\\\">Hủy</button>\\n            <button (click)=\\\"save()\\\" mat-flat-button color=\\\"primary\\\" style=\\\"margin-top:5px; height: 36px;\\\">Lưu</button>\\n        </div>\\n    </div>\\n</div>\"","export default \"<ng-container *ngIf=\\\"!laChuyenKhoaKhamNhieu\\\">\\n    <h3 class=\\\"sub-title\\\">TIỀN SỬ BỆNH\\n        <button *ngIf=\\\"!isReadOnly\\\" class=\\\"po-h\\\" color=\\\"primary\\\" (click)=\\\"themTienSuBenh()\\\">\\n            <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n        </button>\\n    </h3>\\n    <ng-container *ngIf=\\\"dataSourceTienSu.data.length == 0\\\">\\n        <p>Không có tiền sử bệnh</p>\\n    </ng-container>\\n    <app-grid *ngIf=\\\"dataSourceTienSu.data.length > 0\\\" masterName=\\\"TienSuBenh\\\" [gridColumns]=\\\"gridTienSuBenhColumns\\\"\\n        [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\"\\n        [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [maxHeight]=\\\"200\\\" [lazyLoadPage]=\\\"true\\\"\\n        [gridDataSource]=\\\"dataSourceTienSu\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n    </app-grid>\\n    \\n</ng-container>\\n\\n<ng-container *ngIf=\\\"laChuyenKhoaKhamNhieu\\\">\\n    <div fxFlex=\\\"10%\\\">\\n        <h3 class=\\\"sub-title\\\" style=\\\"margin-top: 0px !important;\\\">TIỀN SỬ BỆNH\\n            <button *ngIf=\\\"!isReadOnly\\\" class=\\\"po-h\\\" color=\\\"primary\\\" (click)=\\\"themTienSuBenh()\\\">\\n                <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n            </button>\\n        </h3>\\n    </div>\\n    <div fxFlex=\\\"90%\\\" class=\\\"ml-2\\\">\\n        <ng-container *ngIf=\\\"dataSourceTienSu.data.length == 0\\\">\\n            <span>Không có tiền sử bệnh</span>\\n        </ng-container>\\n    \\n        <ng-container *ngIf=\\\"dataSourceTienSu.data.length > 0\\\">\\n            <table style=\\\"width: 100%\\\">\\n                <tr>\\n                    <th style=\\\"width: 20%; text-align: left;\\\">Loại tiền sử bệnh</th>\\n                    <th style=\\\"width: 75%; text-align: left;\\\">Tên bệnh</th>\\n                    <th style=\\\"width: 5%\\\"></th>\\n                </tr>\\n                <tr *ngFor=\\\"let dataItem of dataSourceTienSu.data, let rowIndex = index\\\">\\n                    <td>\\n                        <app-dropdownlist *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [(model)]=\\\"dataItem.LoaiTienSuBenh\\\" class=\\\"no-label\\\"\\n                            [modelText]=\\\"dataItem.TenLoaiTienSuBenh\\\" [popupSettings]=\\\"null\\\" url=\\\"KhamBenh/getListLoaiTienSuBenh\\\"\\n                            [required]=\\\"true\\\" (selectionChange)=\\\"chonLoaiTienSuBenh($event, dataItem)\\\" [disabled]=\\\"(dataItem.Id != 0 && !dataItem.IsUpdate) || isReadOnly\\\"\\n                            [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs['+rowIndex+'].LoaiTienSuBenh' | validationerror:benhNhanHienTai.validationErrors\\\"\\n                            class=\\\"no-label item-no-padding\\\" label=\\\" \\\">\\n                        </app-dropdownlist>\\n                        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.TenLoaiTienSuBenh}}</p>\\n                    </td>\\n                    <td>\\n                        <app-textbox *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" maxlength=\\\"200\\\" [(model)]=\\\"dataItem.TenBenh\\\" class=\\\"no-label\\\" maxlength=\\\"200\\\"\\n                            [required]=\\\"true\\\" [disabled]=\\\"(dataItem.Id != 0 && !dataItem.IsUpdate) || isReadOnly\\\"\\n                            [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs['+rowIndex+'].TenBenh' | validationerror:benhNhanHienTai.validationErrors\\\"\\n                            label=\\\" \\\">\\n                        </app-textbox>\\n                        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.TenBenh}}</p>\\n                    </td>\\n                    <td>\\n                        <div *ngIf=\\\"!isReadOnly\\\" class=\\\"text-center\\\" kendoTooltip>\\n                            <button *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\" color=\\\"primary\\\" kendoTooltip title=\\\"Sửa\\\"\\n                                (click)=\\\"suaTienSuBenh(dataItem)\\\" class=\\\"btn-blue\\\">\\n                                <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n                            </button>\\n                            <button color=\\\"primary\\\" kendoTooltip title=\\\"Xóa\\\" class=\\\"btn-blue\\\"\\n                                (click)=\\\"xoaTienSuBenh(dataItem)\\\">\\n                                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                            </button>\\n                        </div>\\n                    </td>\\n                </tr>\\n            </table>\\n        </ng-container>\\n    </div>\\n</ng-container>\\n\\n\\n<!-- template -->\\n<ng-template #loaiTienSuBenhTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <app-dropdownlist *ngIf=\\\"dataItem.Id == 0 || dataItem.IsUpdate\\\" [(model)]=\\\"dataItem.LoaiTienSuBenh\\\" class=\\\"no-label\\\"\\n        [modelText]=\\\"dataItem.TenLoaiTienSuBenh\\\" [popupSettings]=\\\"null\\\" url=\\\"KhamBenh/getListLoaiTienSuBenh\\\"\\n        [required]=\\\"true\\\" (selectionChange)=\\\"chonLoaiTienSuBenh($event, dataItem)\\\"\\n        [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs['+rowIndex+'].LoaiTienSuBenh' | validationerror:benhNhanHienTai.validationErrors\\\"\\n        class=\\\"no-label item-no-padding\\\" label=\\\" \\\">\\n    </app-dropdownlist>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.TenLoaiTienSuBenh}}</p>\\n</ng-template>\\n<ng-template #tienSuBenhTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <app-textbox *ngIf=\\\"dataItem.Id == 0|| dataItem.IsUpdate\\\" maxlength=\\\"200\\\" [(model)]=\\\"dataItem.TenBenh\\\" class=\\\"no-label\\\"\\n        maxlength=\\\"200\\\" [required]=\\\"true\\\"\\n        [validationerror]=\\\"'YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs['+rowIndex+'].TenBenh' | validationerror:benhNhanHienTai.validationErrors\\\"\\n        label=\\\" \\\">\\n    </app-textbox>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.TenBenh}}</p>\\n</ng-template>\\n<ng-template #actionTienSuBenhTemplate let-dataItem>\\n    <div class=\\\"text-center\\\" kendoTooltip>\\n        <button *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\" color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Sửa\\\" type=\\\"button\\\"\\n            (click)=\\\"suaTienSuBenh(dataItem)\\\">\\n            <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n        </button>\\n        <button color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\"\\n            (click)=\\\"xoaTienSuBenh(dataItem)\\\">\\n            <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n        </button>\\n    </div>\\n</ng-template>\"","export default \"<div *ngIf=\\\"!laChuyenKhoaKhamNhieu\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <!-- benhNhanHienTai.YeuCauTiepNhan.TrieuChungTiepNhan -->\\n    <app-textarea id=\\\"LyDoKham\\\" fxFlex=\\\"100%\\\" label=\\\"Lý do vào viện\\\" maxlength=\\\"200\\\" minHeight=\\\"20\\\"\\n        [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.TrieuChungTiepNhan\\\" (modelChange)=\\\"dataChange()\\\"\\n        [disabled]=\\\"isReadOnly\\\">\\n    </app-textarea>\\n    \\n    <app-textarea id=\\\"BenhSu\\\" fxFlex=\\\"100%\\\" label=\\\"Bệnh sử\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\"\\n        [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.BenhSu\\\" (modelChange)=\\\"dataChange()\\\"\\n        [disabled]=\\\"isReadOnly\\\" [showButtonClearData]=\\\"!isReadOnly\\\" [useVoice]=\\\"false\\\">\\n    </app-textarea>\\n\\n    <app-textarea *ngIf=\\\"benhNhanHienTai.YeuCauTiepNhan.NoiGioiThieuId != null && benhNhanHienTai.YeuCauTiepNhan.NoiGioiThieuId != 0\\\" id=\\\"ChanDoanCuaNoiGioiThieu\\\" fxFlex=\\\"100%\\\" label=\\\"Chẩn đoán của nơi giới thiệu\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\"\\n        [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.ChanDoanCuaNoiGioiThieu\\\" (modelChange)=\\\"dataChange()\\\"\\n        [disabled]=\\\"isReadOnly\\\">\\n    </app-textarea>\\n\\n    <!-- tiền sử bệnh -->\\n    <app-lan-kham-hien-tai-kham-benh-tien-su-benh fxFlex=\\\"100%\\\" [data]=\\\"benhNhanHienTai\\\" [dataTienSuBenh]=\\\"benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs\\\"\\n        [isReadOnly]=\\\"isReadOnly\\\">\\n    </app-lan-kham-hien-tai-kham-benh-tien-su-benh>\\n\\n    <!-- dị ứng thuốc -->\\n    <app-lan-kham-hien-tai-kham-benh-di-ung-thuoc fxFlex=\\\"100%\\\" [data]=\\\"benhNhanHienTai\\\" [dataDiUngThuoc]=\\\"benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs\\\"\\n        [isReadOnly]=\\\"isReadOnly\\\">\\n    </app-lan-kham-hien-tai-kham-benh-di-ung-thuoc>\\n\\n    <!-- chỉ số sinh tồn -->\\n    <app-lan-kham-hien-tai-kham-benh-chi-so-sinh-ton fxFlex=\\\"100%\\\" [data]=\\\"benhNhanHienTai.YeuCauKhamBenh\\\"\\n        [phongKhamId]=\\\"phongKhamHienTai\\\" [dataChiSoSinhTon]=\\\"benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus\\\"\\n        [isReadOnly]=\\\"isReadOnly\\\">\\n    </app-lan-kham-hien-tai-kham-benh-chi-so-sinh-ton>\\n\\n    <!-- khám toàn thân -->\\n    <ng-container *ngIf=\\\"!isKhamDoan\\\">\\n        <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Khám toàn thân</h3>\\n        <app-textarea id=\\\"KhamToanThan\\\" fxFlex=\\\"100%\\\" label=\\\"Nội dung\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\"\\n            [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.KhamToanThan\\\" (modelChange)=\\\"dataChange()\\\">\\n        </app-textarea>\\n    </ng-container>\\n\\n    <!-- phân loại thể lực -->\\n    <ng-container *ngIf=\\\"isKhamDoan && dataPhanLoaiSucKhoes.length > 0\\\">\\n        <!-- <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Phân loại thể lực</h3> -->\\n        <!-- url=\\\"KhamDoan/GetPhanLoaiSucKhoes\\\" -->\\n        <app-combobox id=\\\"KSKPhanLoaiTheLuc\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Phân loại thể lực\\\"\\n            [(model)]=\\\"benhNhanHienTai.YeuCauTiepNhan.KSKPhanLoaiTheLuc\\\" popupSettings=\\\"null\\\" [data]=\\\"dataPhanLoaiSucKhoes\\\" [bind]=\\\"true\\\"\\n            (modelChange)=\\\"dataChange()\\\" [bind]=\\\"true\\\" [disabled]=\\\"isReadOnly\\\">\\n        </app-combobox>\\n    </ng-container>\\n    \\n    <!-- khám các cơ quan -->\\n    <h3 id=\\\"contentbpk\\\" fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Khám các cơ quan</h3>\\n    <ng-container *ngIf=\\\"!isKhamDoan\\\">\\n        <ng-container\\n            *ngIf=\\\"templateKhamCacCoQuanObj!=null && templateKhamCacCoQuanObj.ComponentDynamics!=null && templateKhamCacCoQuanObj.ComponentDynamics.length>0\\\">\\n            <ng-container *ngFor=\\\"let item of templateKhamCacCoQuanObj.ComponentDynamics\\\">\\n                <ng-container *ngIf=\\\"item.Type == 4 && item.groupItems != undefined && item.groupItems.length > 0\\\">\\n                    <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                        <fieldset fxFlex=\\\"100%\\\">\\n                            <legend>{{item.Label}}</legend>\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                                <ng-container *ngFor=\\\"let itemInGroup of item.groupItems\\\">\\n                                    <h3 *ngIf=\\\"itemInGroup.Type==1\\\" fxFlex=\\\"20%\\\" class=\\\"sub-title\\\">{{itemInGroup.Label}}\\n                                    </h3>\\n                                    <app-textbox *ngIf=\\\"itemInGroup.Type==2\\\" fxFlex=\\\"{{itemInGroup.fxFlex}}\\\"\\n                                        fxFlex.sm=\\\"{{itemInGroup.fxFlexSm}}\\\" id=\\\"{{itemInGroup.Id}}\\\"\\n                                        placeHolder=\\\"{{itemInGroup.placeholder}}\\\" label=\\\"{{itemInGroup.Label}}\\\"\\n                                        [(model)]=\\\"itemInGroup.Value\\\" (modelChange)=\\\"dataChange()\\\"\\n                                        maxlength=\\\"{{itemInGroup.maxlength}}\\\">\\n                                    </app-textbox>\\n                                    <app-textarea *ngIf=\\\"itemInGroup.Type==3\\\" id=\\\"{{itemInGroup.Id}}\\\"\\n                                        fxFlex=\\\"{{itemInGroup.fxFlex}}\\\" label=\\\"{{itemInGroup.Label}}\\\"\\n                                        maxlength=\\\"{{itemInGroup.maxlength}}\\\" minHeight=\\\"{{itemInGroup.minHeight}}\\\"\\n                                        [(model)]=\\\"itemInGroup.Value\\\" (modelChange)=\\\"dataChange()\\\"></app-textarea>\\n                                </ng-container>\\n                            </div>\\n                        </fieldset>\\n                    </div>\\n                </ng-container>\\n                <ng-container\\n                    *ngIf=\\\"item.groupItems == undefined || item.groupItems == null || item.groupItems.length == 0\\\">\\n                    <h3 *ngIf=\\\"item.Type==1\\\" fxFlex=\\\"20%\\\" class=\\\"sub-title\\\">{{item.Label}}</h3>\\n                    <app-textbox *ngIf=\\\"item.Type==2\\\" fxFlex=\\\"{{item.fxFlex}}\\\" fxFlex.sm=\\\"{{item.fxFlexSm}}\\\"\\n                        id=\\\"{{item.Id}}\\\" placeHolder=\\\"{{item.placeHolder}}\\\" label=\\\"{{item.Label}}\\\" [(model)]=\\\"item.Value\\\"\\n                        (modelChange)=\\\"dataChange()\\\" maxlength=\\\"{{item.maxlength}}\\\">\\n                    </app-textbox>\\n                    <app-textarea *ngIf=\\\"item.Type==3\\\" id=\\\"{{item.Id}}\\\" fxFlex=\\\"{{item.fxFlex}}\\\" label=\\\"{{item.Label}}\\\"\\n                        maxlength=\\\"{{item.maxlength}}\\\" minHeight=\\\"{{item.minHeight}}\\\" [(model)]=\\\"item.Value\\\"\\n                        (modelChange)=\\\"dataChange()\\\"></app-textarea>\\n                    <!-- useVoice=\\\"{{item.useVoice}}\\\" -->\\n                </ng-container>\\n            </ng-container>\\n        </ng-container>\\n    </ng-container>\\n    <ng-container *ngIf=\\\"isKhamDoan\\\">\\n        <kendo-tabstrip fxFlex=\\\"100%\\\" class=\\\"mr-4 mb-2 kham-doan-cac-co-quan\\\" style=\\\"z-index: 1;\\\">\\n            <ng-container *ngFor=\\\"let item of templateDichVuKhamSucKhoes, let i=index\\\">\\n                <kendo-tabstrip-tab [selected]=\\\"item.IsDungChuyenKhoaLogin\\\" cssClass=\\\"{{item.IsDaKham ? 'tab-dich-vu-da-kham' : ''}}\\\">\\n                    <ng-template kendoTabTitle>\\n                        <div kendoTooltip>\\n                            <app-checkbox *ngIf=\\\"isKhamDoanTatCa\\\" id=\\\"khamDichVu{{i}}\\\" fxFlex=\\\"auto\\\" title=\\\"Khám dịch vụ\\\" [(model)]=\\\"item.IsCheckedDichVu\\\"\\n                                (modelChange)=\\\"xuLyChonKhamDichVu($event, item)\\\" [disabled]=\\\"item.IsDaHoanThanhKham || isReadOnly\\\">\\n                            </app-checkbox>\\n                            <div class=\\\"ml-1\\\" fxFlex=\\\"auto\\\">{{item.TenChuyenKhoa}}</div>\\n                        </div>\\n                    </ng-template>\\n                    <ng-template kendoTabContent>\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"py-2\\\" [ngClass]=\\\"{'disableDiv': (isKhamDoanTatCa && !item.IsCheckedDichVu) || isReadOnly}\\\"\\n                            *ngIf=\\\"item.TemplateKhamCacCoQuanObj!=null && item.TemplateKhamCacCoQuanObj.ComponentDynamics!=null && item.TemplateKhamCacCoQuanObj.ComponentDynamics.length>0\\\">\\n                            <ng-container *ngFor=\\\"let itemChild of item.TemplateKhamCacCoQuanObj.ComponentDynamics\\\">\\n                                <ng-container *ngIf=\\\"itemChild.Type == 4 && itemChild.groupItems != undefined && itemChild.groupItems.length > 0\\\">\\n                                    <div fxFlex=\\\"{{itemChild.fxFlex}}\\\" class=\\\"mb-2\\\">\\n                                        <fieldset fxFlex=\\\"100%\\\">\\n                                            <legend>{{itemChild.Label}}</legend>\\n                                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                                                <ng-container *ngFor=\\\"let itemInGroup of itemChild.groupItems\\\">\\n                                                    <h3 *ngIf=\\\"itemInGroup.Type==1\\\" fxFlex=\\\"20%\\\" class=\\\"sub-title\\\">{{itemInGroup.Label}}\\n                                                    </h3>\\n                                                    <app-textbox *ngIf=\\\"itemInGroup.Type==2\\\" fxFlex=\\\"{{itemInGroup.fxFlex}}\\\"\\n                                                        fxFlex.sm=\\\"{{itemInGroup.fxFlexSm}}\\\" id=\\\"{{itemInGroup.Id}}\\\"\\n                                                        placeHolder=\\\"{{itemInGroup.placeholder}}\\\" label=\\\"{{itemInGroup.Label}}\\\"\\n                                                        [(model)]=\\\"itemInGroup.Value\\\" (modelChange)=\\\"dataChange()\\\"\\n                                                        maxlength=\\\"{{itemInGroup.maxlength}}\\\" [disabled]=\\\"item.IsDisabled\\\">\\n                                                    </app-textbox>\\n                                                    <app-textarea *ngIf=\\\"itemInGroup.Type==3\\\" id=\\\"{{itemInGroup.Id}}\\\"\\n                                                        fxFlex=\\\"{{itemInGroup.fxFlex}}\\\" label=\\\"{{itemInGroup.Label}}\\\"\\n                                                        maxlength=\\\"{{itemInGroup.maxlength}}\\\" minHeight=\\\"{{itemInGroup.minHeight}}\\\"\\n                                                        [(model)]=\\\"itemInGroup.Value\\\" (modelChange)=\\\"dataChange()\\\" [disabled]=\\\"item.IsDisabled\\\">\\n                                                    </app-textarea>\\n                                                    <!-- url=\\\"KhamDoan/GetPhanLoaiSucKhoes\\\"  -->\\n                                                    <app-combobox *ngIf=\\\"itemInGroup.Type==5 && dataPhanLoaiSucKhoes.length > 0\\\" id=\\\"{{itemInGroup.Id}}\\\" fxFlex=\\\"{{itemInGroup.fxFlex}}\\\" fxFlex.sm=\\\"{{itemInGroup.fxFlexSm}}\\\"\\n                                                        label=\\\"{{itemInGroup.Label}}\\\" [(model)]=\\\"itemInGroup.Value\\\" popupSettings=\\\"null\\\" [data]=\\\"dataPhanLoaiSucKhoes\\\"\\n                                                        [disabled]=\\\"item.IsDisabled\\\" (modelChange)=\\\"dataChange()\\\" [bind]=\\\"true\\\">\\n                                                    </app-combobox>\\n                                                </ng-container>\\n                                            </div>\\n                                        </fieldset>\\n                                    </div>\\n                                </ng-container>\\n                                <ng-container\\n                                    *ngIf=\\\"itemChild.groupItems == undefined || itemChild.groupItems == null || itemChild.groupItems.length == 0\\\">\\n                                    <h3 *ngIf=\\\"itemChild.Type==1\\\" fxFlex=\\\"20%\\\" class=\\\"sub-title\\\">{{itemChild.Label}}</h3>\\n                                    <app-textbox *ngIf=\\\"itemChild.Type==2\\\" fxFlex=\\\"{{itemChild.fxFlex}}\\\" fxFlex.sm=\\\"{{itemChild.fxFlexSm}}\\\"\\n                                        id=\\\"{{itemChild.Id}}\\\" placeHolder=\\\"{{itemChild.placeHolder}}\\\" label=\\\"{{itemChild.Label}}\\\" [(model)]=\\\"itemChild.Value\\\"\\n                                        (modelChange)=\\\"dataChange()\\\" maxlength=\\\"{{itemChild.maxlength}}\\\" [disabled]=\\\"item.IsDisabled\\\">\\n                                    </app-textbox>\\n                                    <app-textarea *ngIf=\\\"itemChild.Type==3\\\" id=\\\"{{itemChild.Id}}\\\" fxFlex=\\\"{{itemChild.fxFlex}}\\\" fxFlex.sm=\\\"{{itemChild.fxFlexSm}}\\\" \\n                                        label=\\\"{{itemChild.Label}}\\\" maxlength=\\\"{{itemChild.maxlength}}\\\" minHeight=\\\"{{itemChild.minHeight}}\\\" [(model)]=\\\"itemChild.Value\\\"\\n                                        (modelChange)=\\\"dataChange()\\\" [disabled]=\\\"item.IsDisabled\\\">\\n                                    </app-textarea>\\n                                    <!-- url=\\\"KhamDoan/GetPhanLoaiSucKhoes\\\"  -->\\n                                    <app-combobox *ngIf=\\\"itemChild.Type==5 && dataPhanLoaiSucKhoes.length > 0\\\" id=\\\"{{itemChild.Id}}\\\" fxFlex=\\\"{{itemChild.fxFlex}}\\\" fxFlex.sm=\\\"{{itemChild.fxFlexSm}}\\\" label=\\\"{{itemChild.Label}}\\\"\\n                                        [(model)]=\\\"itemChild.Value\\\" (modelChange)=\\\"dataChange()\\\" popupSettings=\\\"null\\\" [data]=\\\"dataPhanLoaiSucKhoes\\\"\\n                                        [disabled]=\\\"item.IsDisabled\\\" [bind]=\\\"true\\\">\\n                                    </app-combobox>\\n                                </ng-container>\\n                            </ng-container>\\n                        </div>\\n                    </ng-template>\\n                </kendo-tabstrip-tab>\\n            </ng-container>\\n        </kendo-tabstrip>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"!isKhamDoan\\\">\\n        <!-- khám khác -->\\n        <app-lan-kham-hien-tai-kham-khac fxFlex=\\\"100%\\\" [data]=\\\"benhNhanHienTai\\\"\\n            [dataKhamBoPhanKhac]=\\\"benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs\\\">\\n        </app-lan-kham-hien-tai-kham-khac>\\n    \\n        <!-- Bộ phận tổn thương -->\\n        <app-lan-kham-hien-tai-bo-phan-ton-thuong fxFlex=\\\"100%\\\" [data]=\\\"benhNhanHienTai\\\"\\n            [dataBoPhanTonThuong]=\\\"benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhBoPhanTonThuongs\\\">\\n        </app-lan-kham-hien-tai-bo-phan-ton-thuong>\\n    \\n        <!-- chuẩn đoán sơ bộ -->\\n        <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Chẩn đoán sơ bộ</h3>\\n        <!-- [idWhere]=\\\"benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoICDId\\\" -->\\n        <app-combobox fxFlex=\\\"50%\\\" label=\\\"ICD\\\" url=\\\"KhamBenh/GetListICDBaoGomItemDaChon\\\"\\n            [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoICDId\\\"\\n            [(modelText)]=\\\"benhNhanHienTai.YeuCauKhamBenh.TenChanDoanSoBoICD\\\" (modelChange)=\\\"dataChange()\\\"\\n            (selectionChange)=\\\"chonChanDoanSoBoICD($event)\\\"\\n            [queryInfo]=\\\"{ParameterDependencies:'{ChanDoanSoBoICDId:' + benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoICDId +'}', Take: 50}\\\"\\n            [templateHeader]=\\\"chanDoanSoBoTemplateHeader\\\" [template]=\\\"chanDoanSoBoTemplate\\\" class=\\\"item-no-padding\\\">\\n            <ng-template #chanDoanSoBoTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"20%\\\">Mã</th>\\n                        <th>Dịch vụ</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #chanDoanSoBoTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                        <td>{{dataItem.Ten}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n        <app-textarea id=\\\"GhiChu\\\" fxFlex=\\\"50%\\\" label=\\\"Chẩn đoán\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\"\\n            [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoGhiChu\\\" (modelChange)=\\\"dataChange()\\\">\\n        </app-textarea>\\n    \\n        <!-- chuẩn đoán phân biệt -->\\n        <app-lan-kham-hien-tai-chan-doan-phan-biet [data]=\\\"benhNhanHienTai\\\"\\n            [dataChanDoanPhanBiet]=\\\"benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets\\\">\\n        </app-lan-kham-hien-tai-chan-doan-phan-biet>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"isKhamDoanTatCa\\\">\\n        <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Kết luận cận lâm sàng</h3>\\n        <!-- (click)=\\\"ketQuaMau()\\\" -->\\n        <span fxFlex=\\\"50%\\\" style=\\\"text-align: right;\\\"> \\n            <button *ngIf=\\\"!isReadOnly\\\"  type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button\\n                class=\\\"mr-1\\\" (click)=\\\"ketQuaMauDichVuKyThuatVer2()\\\">Kết quả mẫu</button></span>\\n        <span fxFlex=\\\"50%\\\"></span>\\n        <app-textarea id=\\\"KetQua\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\" maxlength=\\\"1000\\\" label=\\\"Kết quả\\\"\\n            minHeight=\\\"30\\\" (modelChange)=\\\"dataChange()\\\" [disabled]=\\\"isReadOnly\\\"\\n            [(model)]=\\\"benhNhanHienTai.YeuCauTiepNhan.KSKKetQuaCanLamSang\\\"\\n            [validationerror]=\\\"'YeuCauTiepNhan.KSKKetQuaCanLamSang' | validationerror:benhNhanHienTai.validationErrors\\\">\\n        </app-textarea>\\n        <app-textarea id=\\\"DanhGia\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\" maxlength=\\\"1000\\\" label=\\\"Đánh giá\\\"\\n            minHeight=\\\"30\\\" (modelChange)=\\\"dataChange()\\\" [disabled]=\\\"isReadOnly\\\"\\n            [(model)]=\\\"benhNhanHienTai.YeuCauTiepNhan.KSKDanhGiaCanLamSang\\\"\\n            [validationerror]=\\\"'YeuCauTiepNhan.KSKDanhGiaCanLamSang' | validationerror:benhNhanHienTai.validationErrors\\\">\\n        </app-textarea>\\n\\n        <!-- //BVHD-3349 -->\\n        <!-- <ng-container *ngIf=\\\"benhNhanHienTai.YeuCauTiepNhan.IsDuChuyenKhoaKhamSucKhoeChinh\\\"> -->\\n            <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Kết luận</h3>\\n            <div fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\" kendoTooltip>\\n                <button *ngIf=\\\"!isReadOnly\\\" type=\\\"button\\\" class=\\\"mr-1\\\" color=\\\"primary\\\" mat-stroked-button mat-button\\n                    (click)=\\\"showKetQuaMauKhamBenh()\\\">Kết quả mẫu</button>\\n            </div>\\n            <!-- url=\\\"KhamDoan/GetPhanLoaiSucKhoes\\\"  -->\\n            <app-combobox *ngIf=\\\"benhNhanHienTai.YeuCauTiepNhan.IsDuChuyenKhoaKhamSucKhoeChinh && dataPhanLoaiSucKhoes.length > 0\\\" id=\\\"PhanLoaiSucKhoeId\\\" fxFlex=\\\"15%\\\" fxFlex.sm=\\\"30%\\\" label=\\\"Phân loại sức khỏe\\\"\\n                [required]=\\\"true\\\" (modelChange)=\\\"dataChange()\\\"  [data]=\\\"dataPhanLoaiSucKhoes\\\" [bind]=\\\"true\\\"\\n                [(model)]=\\\"benhNhanHienTai.YeuCauTiepNhan.PhanLoaiSucKhoeId\\\"\\n                [modelText]=\\\"benhNhanHienTai.YeuCauTiepNhan.KSKKetLuanPhanLoaiSucKhoe\\\" [disabled]=\\\"isReadOnly\\\"\\n                [validationerror]=\\\"'YeuCauTiepNhan.PhanLoaiSucKhoeId' | validationerror:benhNhanHienTai.validationErrors\\\">\\n            </app-combobox>\\n            <app-textarea id=\\\"cacBenhKhac\\\" fxFlex=\\\"auto\\\" fxFlex.sm=\\\"auto\\\" label=\\\"Các bệnh tật (nếu có)\\\" [maxlength]=\\\"4000\\\"\\n                [(model)]=\\\"benhNhanHienTai.YeuCauTiepNhan.KSKKetLuanCacBenhTat\\\" (modelChange)=\\\"dataChange()\\\"\\n                [disabled]=\\\"isReadOnly\\\">\\n            </app-textarea>\\n            <!-- (click)=\\\"ketQuaMau()\\\" -->\\n            \\n            \\n            <app-textarea id=\\\"ghiChu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Đề nghị\\\" [maxlength]=\\\"4000\\\"\\n                [(model)]=\\\"benhNhanHienTai.YeuCauTiepNhan.KSKKetLuanGhiChu\\\" (modelChange)=\\\"dataChange()\\\"\\n                [disabled]=\\\"isReadOnly\\\">\\n            </app-textarea>\\n        <!-- </ng-container> -->\\n    </ng-container>\\n</div>\\n\\n<!-- sắp xếp layout chia đôi màn hình -->\\n<!-- benhNhanHienTai.YeuCauTiepNhan.TrieuChungTiepNhan -->\\n<div *ngIf=\\\"laChuyenKhoaKhamNhieu\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <app-textarea id=\\\"LyDoKham\\\" fxFlex=\\\"30%\\\" label=\\\"Lý do vào viện\\\" maxlength=\\\"200\\\" minHeight=\\\"20\\\"\\n        [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.TrieuChungTiepNhan\\\" (modelChange)=\\\"dataChange()\\\"\\n        [disabled]=\\\"isReadOnly\\\">\\n    </app-textarea>\\n    \\n    <app-textarea id=\\\"BenhSu\\\" fxFlex=\\\"70%\\\" label=\\\"Bệnh sử\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\"\\n        [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.BenhSu\\\" (modelChange)=\\\"dataChange()\\\"\\n        [disabled]=\\\"isReadOnly\\\" [showButtonClearData]=\\\"!isReadOnly\\\" [useVoice]=\\\"false\\\">\\n    </app-textarea>\\n\\n    <app-textarea *ngIf=\\\"benhNhanHienTai.YeuCauTiepNhan.NoiGioiThieuId != null && benhNhanHienTai.YeuCauTiepNhan.NoiGioiThieuId != 0\\\" id=\\\"ChanDoanCuaNoiGioiThieu\\\" fxFlex=\\\"100%\\\" label=\\\"Chẩn đoán của nơi giới thiệu\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\"\\n        [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.ChanDoanCuaNoiGioiThieu\\\" (modelChange)=\\\"dataChange()\\\"\\n        [disabled]=\\\"isReadOnly\\\">\\n    </app-textarea>\\n\\n    <!-- tiền sử bệnh -->\\n    <app-lan-kham-hien-tai-kham-benh-tien-su-benh fxFlex=\\\"100%\\\" [data]=\\\"benhNhanHienTai\\\" [dataTienSuBenh]=\\\"benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs\\\"\\n        [isReadOnly]=\\\"isReadOnly\\\" [laChuyenKhoaKhamNhieu]=\\\"laChuyenKhoaKhamNhieu\\\">\\n    </app-lan-kham-hien-tai-kham-benh-tien-su-benh>\\n\\n    <!-- dị ứng thuốc -->\\n    <app-lan-kham-hien-tai-kham-benh-di-ung-thuoc fxFlex=\\\"100%\\\" [data]=\\\"benhNhanHienTai\\\" [dataDiUngThuoc]=\\\"benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs\\\"\\n        [isReadOnly]=\\\"isReadOnly\\\" [laChuyenKhoaKhamNhieu]=\\\"laChuyenKhoaKhamNhieu\\\">\\n    </app-lan-kham-hien-tai-kham-benh-di-ung-thuoc>\\n\\n    <!-- chỉ số sinh tồn -->\\n    <app-lan-kham-hien-tai-kham-benh-chi-so-sinh-ton fxFlex=\\\"100%\\\" [data]=\\\"benhNhanHienTai.YeuCauKhamBenh\\\"\\n        [phongKhamId]=\\\"phongKhamHienTai\\\" [dataChiSoSinhTon]=\\\"benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus\\\"\\n        [isReadOnly]=\\\"isReadOnly\\\" [laChuyenKhoaKhamNhieu]=\\\"laChuyenKhoaKhamNhieu\\\">\\n    </app-lan-kham-hien-tai-kham-benh-chi-so-sinh-ton>\\n\\n    <div fxFlex=\\\"50%\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <h3 fxFlex=\\\"20%\\\" class=\\\"sub-title mt-0\\\">Khám bệnh</h3>\\n            <app-combobox fxFlex=\\\"75%\\\" url=\\\"KhamBenh/GetListNoiDungMauKhamBenhTheoBacSi\\\"\\n                [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.NoiDungMauKhamBenhId\\\" class=\\\"no-label item-no-padding\\\" label=\\\" \\\"\\n                (selectionChange)=\\\"chonNoiDungMauKhamBenh($event)\\\" \\n                [templateHeader]=\\\"noiDungKhamMauTemplateHeader\\\" [template]=\\\"noiDungKhamMauTemplate\\\">\\n                <ng-template #noiDungKhamMauTemplateHeader let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <th width=\\\"20%\\\">Mã</th>\\n                            <th>Ten</th>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n                <ng-template #noiDungKhamMauTemplate let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                            <td>{{dataItem.Ten}}</td>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n            </app-combobox>\\n            <button fxFlex=\\\"5%\\\" fxFlex.sm=\\\"8%\\\" type=\\\"button\\\" title=\\\"Tìm kiếm\\\" class=\\\"icon-color-button\\\"\\n                (click)=\\\"showPopupNoiDungMauKhamBenh()\\\">\\n                <mat-icon [icIcon]=\\\"addIcon\\\"></mat-icon>\\n            </button>\\n            <div id=\\\"contentkhamkhac\\\" fxFlex=\\\"20%\\\" style=\\\"position: relative;\\\">\\n                <a *ngIf=\\\"!showNoiDungKhamKhac\\\" id=\\\"hienKhamKhac\\\" (click)=\\\"xuLyAnHienKhamKhac(true, 'anKhamKhac')\\\" style=\\\"color: #005dab;text-decoration: underline;\\\">\\n                    Hiển thị khám khác\\n                </a>\\n\\n                <a *ngIf=\\\"showNoiDungKhamKhac\\\" (click)=\\\"xuLyAnHienKhamKhac(false, 'hienKhamKhac')\\\" style=\\\"color: #005dab;text-decoration: underline; position: absolute; bottom: 0px\\\">\\n                    Ẩn khám khác\\n                </a>\\n            </div>\\n            <!-- <app-editor id=\\\"noiDungKhamBenh\\\" fxFlex=\\\"80%\\\" label=\\\"Nội dung\\\"\\n                [hideLinkButton]=\\\"true\\\" [hideFileButton]=\\\"true\\\" [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.NoiDungKhamBenh\\\"\\n                [hideImageButton]=\\\"true\\\" [showToolbar]=\\\"false\\\" [maxlength]=\\\"4000\\\" (modelChange)=\\\"dataChange()\\\">\\n            </app-editor> -->\\n\\n            <app-textarea id=\\\"noiDungKhamBenh\\\" fxFlex=\\\"80%\\\" label=\\\"Nội dung\\\" maxlength=\\\"5000\\\" minHeight=\\\"150\\\"\\n                [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.NoiDungKhamBenh\\\" (modelChange)=\\\"dataChange()\\\">\\n            </app-textarea>\\n\\n            <ng-container *ngIf=\\\"showNoiDungKhamKhac\\\">\\n                <div id=\\\"anKhamKhac\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"8px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                    <!-- khám toàn thân -->\\n                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Khám toàn thân</h3>\\n                    <app-textarea id=\\\"KhamToanThan\\\" fxFlex=\\\"100%\\\" label=\\\"Nội dung\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\"\\n                        [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.KhamToanThan\\\" (modelChange)=\\\"dataChange()\\\">\\n                    </app-textarea>\\n                \\n                    <!-- khám các cơ quan -->\\n                    <h3 id=\\\"contentbpk\\\" fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Khám các cơ quan</h3>\\n                    <ng-container>\\n                        <ng-container\\n                            *ngIf=\\\"templateKhamCacCoQuanObj!=null && templateKhamCacCoQuanObj.ComponentDynamics!=null && templateKhamCacCoQuanObj.ComponentDynamics.length>0\\\">\\n                            <ng-container *ngFor=\\\"let item of templateKhamCacCoQuanObj.ComponentDynamics\\\">\\n                                <ng-container *ngIf=\\\"item.Type == 4 && item.groupItems != undefined && item.groupItems.length > 0\\\">\\n                                    <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                                        <fieldset fxFlex=\\\"100%\\\">\\n                                            <legend>{{item.Label}}</legend>\\n                                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                                fxLayoutGap.lt-sm=\\\"0\\\">\\n                                                <ng-container *ngFor=\\\"let itemInGroup of item.groupItems\\\">\\n                                                    <h3 *ngIf=\\\"itemInGroup.Type==1\\\" fxFlex=\\\"20%\\\" class=\\\"sub-title\\\">{{itemInGroup.Label}}\\n                                                    </h3>\\n                                                    <app-textbox *ngIf=\\\"itemInGroup.Type==2\\\" fxFlex=\\\"{{itemInGroup.fxFlex}}\\\"\\n                                                        fxFlex.sm=\\\"{{itemInGroup.fxFlexSm}}\\\" id=\\\"{{itemInGroup.Id}}\\\"\\n                                                        placeHolder=\\\"{{itemInGroup.placeholder}}\\\" label=\\\"{{itemInGroup.Label}}\\\"\\n                                                        [(model)]=\\\"itemInGroup.Value\\\" (modelChange)=\\\"dataChange()\\\"\\n                                                        maxlength=\\\"{{itemInGroup.maxlength}}\\\">\\n                                                    </app-textbox>\\n                                                    <app-textarea *ngIf=\\\"itemInGroup.Type==3\\\" id=\\\"{{itemInGroup.Id}}\\\"\\n                                                        fxFlex=\\\"{{itemInGroup.fxFlex}}\\\" label=\\\"{{itemInGroup.Label}}\\\"\\n                                                        maxlength=\\\"{{itemInGroup.maxlength}}\\\" minHeight=\\\"{{itemInGroup.minHeight}}\\\"\\n                                                        [(model)]=\\\"itemInGroup.Value\\\" (modelChange)=\\\"dataChange()\\\"></app-textarea>\\n                                                </ng-container>\\n                                            </div>\\n                                        </fieldset>\\n                                    </div>\\n                                </ng-container>\\n                                <ng-container\\n                                    *ngIf=\\\"item.groupItems == undefined || item.groupItems == null || item.groupItems.length == 0\\\">\\n                                    <h3 *ngIf=\\\"item.Type==1\\\" fxFlex=\\\"20%\\\" class=\\\"sub-title\\\">{{item.Label}}</h3>\\n                                    <app-textbox *ngIf=\\\"item.Type==2\\\" fxFlex=\\\"{{item.fxFlex}}\\\" fxFlex.sm=\\\"{{item.fxFlexSm}}\\\"\\n                                        id=\\\"{{item.Id}}\\\" placeHolder=\\\"{{item.placeHolder}}\\\" label=\\\"{{item.Label}}\\\"\\n                                        [(model)]=\\\"item.Value\\\" (modelChange)=\\\"dataChange()\\\" maxlength=\\\"{{item.maxlength}}\\\">\\n                                    </app-textbox>\\n                                    <app-textarea *ngIf=\\\"item.Type==3\\\" id=\\\"{{item.Id}}\\\" fxFlex=\\\"{{item.fxFlex}}\\\" label=\\\"{{item.Label}}\\\"\\n                                        maxlength=\\\"{{item.maxlength}}\\\" minHeight=\\\"{{item.minHeight}}\\\" [(model)]=\\\"item.Value\\\"\\n                                        (modelChange)=\\\"dataChange()\\\"></app-textarea>\\n                                    <!-- useVoice=\\\"{{item.useVoice}}\\\" -->\\n                                </ng-container>\\n                            </ng-container>\\n                        </ng-container>\\n                    </ng-container>\\n                \\n                    <!-- khám khác -->\\n                    <app-lan-kham-hien-tai-kham-khac fxFlex=\\\"100%\\\" [data]=\\\"benhNhanHienTai\\\"\\n                        [dataKhamBoPhanKhac]=\\\"benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs\\\">\\n                    </app-lan-kham-hien-tai-kham-khac>\\n                \\n                    <!-- Bộ phận tổn thương -->\\n                    <app-lan-kham-hien-tai-bo-phan-ton-thuong fxFlex=\\\"100%\\\" [data]=\\\"benhNhanHienTai\\\"\\n                        [dataBoPhanTonThuong]=\\\"benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhBoPhanTonThuongs\\\">\\n                    </app-lan-kham-hien-tai-bo-phan-ton-thuong>\\n                </div>\\n            </ng-container>\\n        </div>\\n    </div>\\n    <div fxFlex=\\\"50%\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <!-- chuẩn đoán sơ bộ -->\\n            <h3 fxFlex=\\\"15%\\\" class=\\\"sub-title mt-0\\\">Chẩn đoán sơ bộ</h3>\\n            <app-combobox fxFlex=\\\"30%\\\" label=\\\"ICD\\\" url=\\\"KhamBenh/GetListICDBaoGomItemDaChon\\\"\\n                [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoICDId\\\"\\n                [(modelText)]=\\\"benhNhanHienTai.YeuCauKhamBenh.TenChanDoanSoBoICD\\\" (modelChange)=\\\"dataChange()\\\"\\n                (selectionChange)=\\\"chonChanDoanSoBoICD($event)\\\" title=\\\"{{benhNhanHienTai.YeuCauKhamBenh.TenChanDoanSoBoICD}}\\\" kendoTooltip\\n                [queryInfo]=\\\"{ParameterDependencies:'{ChanDoanSoBoICDId:' + benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoICDId +'}', Take: 50}\\\"\\n                [templateHeader]=\\\"chanDoanSoBoTemplateHeader\\\" [template]=\\\"chanDoanSoBoTemplate\\\" class=\\\"item-no-padding\\\">\\n                <ng-template #chanDoanSoBoTemplateHeader let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <th width=\\\"20%\\\">Mã</th>\\n                            <th>Dịch vụ</th>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n                <ng-template #chanDoanSoBoTemplate let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                            <td>{{dataItem.Ten}}</td>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n            </app-combobox>\\n            <app-textarea id=\\\"GhiChu\\\" fxFlex=\\\"54%\\\" label=\\\"Chẩn đoán\\\" maxlength=\\\"4000\\\" minHeight=\\\"20\\\" class=\\\"ml-1\\\"\\n                [(model)]=\\\"benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoGhiChu\\\" (modelChange)=\\\"dataChange()\\\">\\n            </app-textarea>\\n    \\n            <!-- chuẩn đoán phân biệt -->\\n            <app-lan-kham-hien-tai-chan-doan-phan-biet fxFlex=\\\"100%\\\" [data]=\\\"benhNhanHienTai\\\"\\n                [dataChanDoanPhanBiet]=\\\"benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets\\\"\\n                [laChuyenKhoaKhamNhieu]=\\\"laChuyenKhoaKhamNhieu\\\">\\n            </app-lan-kham-hien-tai-chan-doan-phan-biet>\\n        </div>\\n    </div>\\n\\n    \\n</div>\"","export default \"<h3 class=\\\"sub-title\\\">KHÁM KHÁC\\n    <button class=\\\"po-h\\\" color=\\\"primary\\\" (click)=\\\"themKhamKhac()\\\">\\n        <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n    </button>\\n</h3>\\n<ng-container *ngIf=\\\"dataSourceKhamKhac.data.length == 0\\\">\\n    <p>Không có khám khác</p>\\n</ng-container>\\n<app-grid *ngIf=\\\"dataSourceKhamKhac.data.length > 0\\\" masterName=\\\"TienSuBenh\\\" [gridColumns]=\\\"gridKhamKhacColumns\\\"\\n    [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\"\\n    [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [maxHeight]=\\\"200\\\" [lazyLoadPage]=\\\"true\\\" \\n    [gridDataSource]=\\\"dataSourceKhamKhac\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n</app-grid>\\n\\n<ng-template #boPhanTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <app-textbox *ngIf=\\\"dataItem.Id == 0  || dataItem.IsUpdate\\\" maxlength=\\\"250\\\" [(model)]=\\\"dataItem.Ten\\\" class=\\\"no-label\\\" label=\\\" \\\" required=\\\"true\\\"\\n        [validationerror]=\\\"'YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs['+rowIndex+'].Ten' | validationerror:benhNhanHienTai.validationErrors\\\">\\n    </app-textbox>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.Ten}}</p>\\n</ng-template>\\n<ng-template #moTaTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <app-textarea *ngIf=\\\"dataItem.Id == 0  || dataItem.IsUpdate\\\" maxlength=\\\"4000\\\" [(model)]=\\\"dataItem.NoiDUng\\\" class=\\\"no-label\\\" label=\\\" \\\" required=\\\"true\\\" minHeight=\\\"20\\\"\\n        [validationerror]=\\\"'YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs['+rowIndex+'].NoiDUng' | validationerror:benhNhanHienTai.validationErrors\\\">\\n    </app-textarea>\\n    <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\">{{dataItem.NoiDUng}}</p>\\n</ng-template>\\n<ng-template #actionTemplate let-dataItem>\\n    <div class=\\\"text-center\\\" kendoTooltip>\\n        <!-- <button *ngIf=\\\"dataItem.Id == 0\\\" color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Lưu\\\" type=\\\"button\\\"\\n            (click)=\\\"luu(dataItem)\\\">\\n            <mat-icon [icIcon]=\\\"icSave\\\"></mat-icon>\\n        </button> -->\\n        <button *ngIf=\\\"dataItem.Id != 0 && !dataItem.IsUpdate\\\" color=\\\"primary\\\" class=\\\"btn-blue\\\" kendoTooltip title=\\\"Sửa\\\"\\n            (click)=\\\"suaKhamKhac(dataItem)\\\">\\n            <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n        </button>\\n        <button color=\\\"primary\\\" class=\\\"btn-blue ml-1\\\" kendoTooltip title=\\\"Xóa\\\" (click)=\\\"xoa(dataItem)\\\">\\n            <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n        </button>\\n    </div>\\n</ng-template>\"","export default \"<!-- \\n<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <ng-container *ngIf=\\\"isProcessAdd\\\"> -->\\n        <!-- <h3  fxFlex=\\\"100%\\\" class=\\\"sub-title  mr-4\\\">THÊM</h3>\\n        <div fxFlex=\\\"100%\\\">\\n            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                \\n                <app-combobox fxFlex=\\\"25%\\\" label=\\\"Nhóm dịch vụ\\\" id=\\\"NhomDichVuId\\\" hierarchyKeyToSend=\\\"NhomDichVuId\\\" \\n                    [(model)]=\\\"NhomDichVuId\\\" [modelText]=\\\"TenNhomDichVu\\\" \\n                    url=\\\"KhamBenh/GetListNhomDichVuKhamBenh\\\" required=\\\"true\\\">\\n                </app-combobox>\\n\\n                <app-combobox fxFlex=\\\"50%\\\" label=\\\"Dịch vụ\\\" id=\\\"DichVuId\\\" hierarchyKeyToListen=\\\"NhomDichVuId\\\"\\n                    [(model)]=\\\"dichVuLSCLSNew.DichVuId\\\" [modelText]=\\\"dichVuLSCLSNew.TenDichVu\\\"\\n                    [template]=\\\"dichVuKyThuatTemplate\\\" [templateHeader]=\\\"dichVuKyThuatTemplateHeader\\\"\\n                    (selectionChange)=\\\"chonDichVu($event)\\\" required=\\\"true\\\"  url=\\\"KhamBenh/GetListDichVuKhamBenh\\\"\\n                    [validationerror]=\\\"'DichVuKyThuatId' | validationerror:validationErrors\\\">\\n                    <ng-template #dichVuKyThuatTemplateHeader let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <th width=\\\"40%\\\">Mã</th>\\n                                <th>Dịch vụ</th>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                    <ng-template #dichVuKyThuatTemplate let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <td width=\\\"40%\\\">{{dataItem.Ma}}</td>\\n                                <td>{{dataItem.DichVu}}</td>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                </app-combobox>\\n\\n                <app-dropdownlist fxFlex=\\\"25%\\\" label=\\\"Loại\\\" [(model)]=\\\"dichVuLSCLSNew.LoaiId\\\" [modelText]=\\\"dichVuLSCLSNew.TenLoai\\\"\\n                    (selectionChange)=\\\"chonLoaiDichVu($event)\\\" required=\\\"true\\\" [data]=\\\"loaiDataSource\\\">\\n                </app-dropdownlist>\\n    \\n                <app-textboxnumeric fxFlex=\\\"25%\\\" label=\\\"Số lượng\\\" [(model)]=\\\"dichVuLSCLSNew.SoLuong\\\" required=\\\"true\\\">\\n\\n                </app-textboxnumeric>\\n\\n                <app-combobox fxFlex=\\\"25%\\\" label=\\\"Nơi thực hiện\\\"  url=\\\"KhamBenh/GetDataNoiThucHien\\\"\\n                    [(model)]=\\\"dichVuLSCLSNew.NoiThucHienId\\\" [modelText]=\\\"dichVuLSCLSNew.NoiThucHien\\\"\\n                    required=\\\"true\\\" >\\n                </app-combobox>\\n\\n                <app-textbox fxFlex=\\\"50%\\\" label=\\\"Ghi chú\\\" [(model)]=\\\"dichVuLSCLSNew.GhiChu\\\"></app-textbox>\\n            </div>\\n        </div> -->\\n        <!-- <div fxFlex=\\\"25%\\\" class=\\\"pl-4\\\">\\n            <fieldset fxFlex=\\\"100%\\\">\\n                <div fxFlex=\\\"100%\\\">\\n                    <ul>\\n                        <li>Đơn giá: <strong class=\\\"item_right\\\">5.000</strong></li>\\n                        <li>Thành tiền: <strong class=\\\"item_right\\\" style=\\\"color: blue;\\\">105.000</strong></li>\\n                        <li>BH chi trả: <strong class=\\\"item_right\\\">105.000</strong></li>\\n                        <li>BN chi trả: <strong class=\\\"item_right\\\" style=\\\"color: red;\\\">0</strong></li>\\n                    </ul>\\n                </div>\\n            </fieldset>\\n        </div> -->\\n        <!-- <div fxFlex=\\\"100%\\\" class=\\\"mt-2\\\" fxLayoutAlign=\\\"end center\\\">\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"huy()\\\">Hủy</button>\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"themDichVuLSCLS()\\\">Thêm</button>\\n        </div>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"!isProcessAdd\\\">\\n        <div fxFlex=\\\"100%\\\" class=\\\"mt-2\\\" fxLayoutAlign=\\\"start center\\\">\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"isProcessAdd = true\\\">\\n                Thêm LS/CLS</button>\\n        </div>\\n    </ng-container> -->\\n<!-- \\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title  mr-4\\\">DANH SÁCH</h3>\\n        <app-grid fxFlex=\\\"100%\\\" baseRoute=\\\"/danh-muc/nhom-he-thong/bao-hiem-y-te/dich-vu-ky-thuat\\\" \\n            [gridColumns]=\\\"gridColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault] = \\\"false\\\"  class=\\\"k-grid-border\\\"\\n            [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble] =\\\"false\\\" [autoHeight]=\\\"true\\\"\\n            [lazyLoadPage]=\\\"true\\\" [gridDataSource]=\\\"dataSource\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n        </app-grid>\\n       \\n        <ng-template #actionTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip >\\n                <button  *ngIf=\\\"dataItem.TenTinhTrang == 'Chưa đóng tiền'\\\" color=\\\"primary\\\" (click)=\\\"xoaLSCLS(dataItem.Id, dataItem.STT)\\\"\\n                     mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\"> -->\\n                    <!-- icon thay đổi theo từng trạng thái như mockup, hiện tại data test -->\\n                    <!-- <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                </button>\\n                <button  *ngIf=\\\"dataItem.TenTinhTrang == 'Đã thực hiện'\\\"  color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xem\\\" type=\\\"button\\\"> -->\\n                    <!-- icon thay đổi theo từng trạng thái như mockup, hiện tại data test -->\\n                    <!-- <mat-icon [icIcon]=\\\"icVisibility\\\"></mat-icon> \\n                </button>\\n                <button *ngIf=\\\"dataItem.TenTinhTrang == 'Chưa thực hiện'\\\" color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\"> -->\\n                    <!-- icon thay đổi theo từng trạng thái như mockup, hiện tại data test -->\\n                    <!-- <mat-icon [icIcon]=\\\"icBlock\\\"></mat-icon>\\n                </button>\\n            </div>\\n        </ng-template>\\n\\n        <ng-template #donGiaTemplate let-dataItem>\\n            {{dataItem.DonGia | number}}\\n        </ng-template>\\n        <ng-template #thanhTienTemplate let-dataItem>\\n            {{dataItem.ThanhTien | number}}\\n        </ng-template>\\n        <ng-template #bHChiTraTemplate let-dataItem>\\n            {{dataItem.BHChiTra | number}}\\n        </ng-template>\\n        <ng-template #bNChiTraTemplate let-dataItem>\\n            {{dataItem.BNChiTra | number}}\\n        </ng-template>\\n        <ng-template #tongCongFooterTemplate>\\n            <b>Tổng: </b>\\n        </ng-template>\\n        <ng-template #thanhTienFooterTemplate>\\n            <p style=\\\"color: blue; font-weight: bold;\\\">{{(total[\\\"ThanhTien\\\"] != undefined ? total[\\\"ThanhTien\\\"].sum : 0) | number}}</p>\\n        </ng-template>\\n        <ng-template #bHChiTraFooterTemplate>\\n            <p style=\\\"color: black; font-weight: bold;\\\">{{(total[\\\"BHChiTra\\\"] != undefined ? total[\\\"BHChiTra\\\"].sum : 0) | number}}</p>\\n        </ng-template>\\n        <ng-template #bNChiTraFooterTemplate>\\n            <p style=\\\"color: red; font-weight: bold;\\\">{{(total[\\\"BNChiTra\\\"] != undefined ? total[\\\"BNChiTra\\\"].sum : 0) | number}}</p>\\n        </ng-template>\\n</div> -->\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"m-0\\\">\\n    <div>XÁC NHẬN</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close(null)\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <p>Dịch vụ cảnh báo:</p>\\n    <app-grid #grid [gridColumns]=\\\"gridColumns\\\" [documentType]=\\\"documentType\\\"\\n        [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n        [gridDataSource]=\\\"gridDataSource\\\" style=\\\"width: 1px;\\\" [allowSortDefault]=\\\"false\\\"\\n        [checkboxAble]=\\\"false\\\" [pageable]=\\\"false\\\" [maxHeight]=\\\"200\\\">\\n    </app-grid>\\n    <p class=\\\"mt-2\\\">Ngoài ra tất cả các dịch vụ khác sẽ được thêm vào, bạn có chấp nhận không?</p>\\n    <ng-template #sttTemplate let-rowIndex=\\\"rowIndex\\\">\\n        {{rowIndex + 1}}\\n    </ng-template>\\n    <ng-template #actionTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        <app-checkbox id=\\\"khongThem{{rowIndex}}\\\" label=\\\"Không thêm\\\" [(model)]=\\\"dataItem.KhongThem\\\" [disabled]=\\\"dataItem.IsDisabled\\\">\\n        </app-checkbox>\\n    </ng-template>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button mat-button mat-dialog-close (click)=\\\"close(null)\\\">Không</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"chonDichVuKhongThem()\\\">Có</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Nhóm dịch vụ thường dùng</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <app-grid #gridNhomGoiDichVu fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"true\\\" \\n        [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" [headerTemplate]=\\\"headerTemplate\\\"\\n        [pageable]=\\\"false\\\" [detailTemplate]=\\\"detailTemplate\\\"\\n        [additionalSearchString]=\\\"boPhan\\\"\\n        urlGetData=\\\"KhamBenh/GetNhomDichVuThuongDungDataForGrid\\\" urlGetTotalPage=\\\"KhamBenh/GetNhomDichVuThuongDungTotalPageForGrid\\\">\\n    </app-grid>\\n    <!-- [urlGetData]=\\\"urlGetData\\\" [urlGetTotalPage]=\\\"urlGetTotalPage\\\" -->\\n    <ng-template #detailTemplate let-dataItem>\\n        <app-grid class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumnsChild\\\" [useAddDeault]=\\\"false\\\"\\n            [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n            [autoHeight]=\\\"true\\\" [useHeaderDefault]=\\\"false\\\" [pageable]=\\\"true\\\" [pageSize]=\\\"10\\\" [groups]=\\\"groups\\\"\\n            [additionalSearchString]=\\\"dataItem.Id\\\"\\n            urlGetData=\\\"KhamBenh/GetChiTietDichVuThuongDungTrongGoiDataForGrid\\\" urlGetTotalPage=\\\"KhamBenh/GetChiTietDichVuThuongDungTrongGoiTotalPageForGrid\\\">\\n        </app-grid>\\n    </ng-template>\\n\\n    <ng-template #headerTemplate>\\n        <div class=\\\"bg-app-bar px-0 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n            <div class=\\\"bg-card rounded-full border px-4\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs\\n                fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\" style=\\\"margin-top: 2px;\\\">\\n                <ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n                <input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n                    type=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"gridNhomGoiDichVu.searchString\\\" (keyup)=\\\"onKey($event)\\\"\\n                    (ngModelChange)=\\\"searchChanges($event)\\\" placeholder=\\\"Nhập từ khóa tìm kiếm...\\\" />\\n            </div>\\n            <button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\" (click)=\\\"clearSearch()\\\">\\n                <mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n            </button>\\n        </div>\\n    </ng-template>\\n\\n    <ng-template #nhomDichVuTemplate let-value=\\\"value\\\">\\n        <strong>{{value}}</strong>\\n    </ng-template>\\n    <ng-template #sttTemplate let-rowIndex=\\\"rowIndex\\\">\\n        <strong>{{rowIndex + 1}}</strong>\\n    </ng-template> \\n    <ng-template #donGiaTemplate let-dataItem>\\n        {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n    </ng-template> \\n    <ng-template #thanhTienTemplate let-dataItem>\\n        {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n    </ng-template> \\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button mat-raised-button mat-button color=\\\"warn\\\" (click)=\\\"xoaGoiDichVu()\\\">Xóa</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"themGoiDichVu()\\\">Thêm</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"chonGoiDichVu()\\\">Chọn</button>\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"null\\\">Hủy</button>    \\n</mat-dialog-actions>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <ng-container *ngIf=\\\"isProcessAdd\\\">\\n        <h3  fxFlex=\\\"100%\\\" class=\\\"sub-title  mr-4\\\">THÊM</h3>\\n        <div fxFlex=\\\"100%\\\">\\n            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                <app-dropdownlist fxFlex=\\\"25%\\\" label=\\\"Nhóm dịch vụ\\\" required=\\\"true\\\" url=\\\"\\\"></app-dropdownlist>\\n                <app-dropdownlist fxFlex=\\\"50%\\\" label=\\\"Dịch vụ\\\" [(model)]=\\\"newPhauThuatThuThuat.DichVuId\\\" \\n                    [modelText]=\\\"newPhauThuatThuThuat.TenDichVu\\\" required=\\\"true\\\" url=\\\"\\\"></app-dropdownlist>\\n                <app-dropdownlist fxFlex=\\\"25%\\\" label=\\\"Loại\\\"\\n                    (selectionChange)=\\\"chonLoaiDichVu($event)\\\" [(model)]=\\\"newPhauThuatThuThuat.LoaiId\\\" \\n                    [modelText]=\\\"newPhauThuatThuThuat.TenLoai\\\" required=\\\"true\\\" [data]=\\\"loaiDataSource\\\"></app-dropdownlist>\\n                <app-textboxnumeric fxFlex=\\\"25%\\\" label=\\\"Số lượng\\\" required=\\\"true\\\" [(model)]=\\\"newPhauThuatThuThuat.SoLuong\\\"></app-textboxnumeric>\\n                <app-dropdownlist fxFlex=\\\"25%\\\" label=\\\"Nơi thực hiện\\\" \\n                    (selectionChange)=\\\"chonNoiThucHien($event)\\\" [(model)]=\\\"newPhauThuatThuThuat.NoiThucHienId\\\"\\n                    [modelText]=\\\"newPhauThuatThuThuat.TenNoiThucHien\\\" required=\\\"true\\\" [data]=\\\"noiThucHienDataSource\\\"></app-dropdownlist>\\n                <app-textbox fxFlex=\\\"50%\\\" label=\\\"Ghi chú\\\" [(model)]=\\\"newPhauThuatThuThuat.GhiChu\\\"></app-textbox>\\n            </div>\\n        </div>\\n        <!-- <div fxFlex=\\\"25%\\\" class=\\\"pl-4\\\">\\n            <fieldset fxFlex=\\\"100%\\\">\\n                <div fxFlex=\\\"100%\\\">\\n                    <ul>\\n                        <li>Đơn giá: <strong class=\\\"item_right\\\">5.000</strong></li>\\n                        <li>Thành tiền: <strong class=\\\"item_right\\\" style=\\\"color: blue;\\\">105.000</strong></li>\\n                        <li>BH chi trả: <strong class=\\\"item_right\\\">105.000</strong></li>\\n                        <li>BN chi trả: <strong class=\\\"item_right\\\" style=\\\"color: red;\\\">0</strong></li>\\n                    </ul>\\n                </div>\\n            </fieldset>\\n        </div> -->\\n        <div fxFlex=\\\"100%\\\" class=\\\"mt-2\\\" fxLayoutAlign=\\\"end center\\\">\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1 mt-2\\\"\\n                (click)=\\\"huy()\\\">Hủy</button>\\n            <button type=\\\"button\\\" (click)=\\\"themPhauThuatThuThuat()\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\">Thêm</button>\\n        </div>\\n    </ng-container>\\n    <ng-container *ngIf=\\\"!isProcessAdd\\\">\\n        <div fxFlex=\\\"100%\\\" class=\\\"mt-2\\\" fxLayoutAlign=\\\"start center\\\">\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n                (click)=\\\"isProcessAdd = true\\\">\\n                Thêm phẫu thuật/thủ thuật</button>\\n        </div>\\n    </ng-container>\\n\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title  mr-4\\\">DANH SÁCH</h3>\\n    <app-grid fxFlex=\\\"100%\\\" baseRoute=\\\"/danh-muc/nhom-he-thong/bao-hiem-y-te/dich-vu-ky-thuat\\\" \\n            [gridColumns]=\\\"gridColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault] = \\\"false\\\"  class=\\\"k-grid-border\\\"\\n            [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble] =\\\"false\\\" [autoHeight]=\\\"true\\\"\\n            [lazyLoadPage]=\\\"true\\\" [gridDataSource]=\\\"dataSource\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n        </app-grid>\\n        <ng-template #actionTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip >\\n                <button  *ngIf=\\\"dataItem.TinhTrang == 'Chưa đóng tiền'\\\" color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\">\\n                    <!-- icon thay đổi theo từng trạng thái như mockup, hiện tại data test -->\\n                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                </button>\\n                <button  *ngIf=\\\"dataItem.TinhTrang == 'Đã thực hiện'\\\"  color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\">\\n                    <!-- icon thay đổi theo từng trạng thái như mockup, hiện tại data test -->\\n                    <mat-icon [icIcon]=\\\"icVisibility\\\"></mat-icon> \\n                </button>\\n                <button *ngIf=\\\"dataItem.TinhTrang == 'Chưa thực hiện'\\\"  color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\">\\n                    <!-- icon thay đổi theo từng trạng thái như mockup, hiện tại data test -->\\n                    <mat-icon [icIcon]=\\\"icBlock\\\"></mat-icon>\\n                </button>\\n            </div>\\n        </ng-template>\\n\\n        <ng-template #donGiaTemplate let-dataItem>\\n            {{dataItem.DonGia | number}}\\n        </ng-template>\\n        <ng-template #thanhTienTemplate let-dataItem>\\n            {{dataItem.ThanhTien | number}}\\n        </ng-template>\\n        <ng-template #bHChiTraTemplate let-dataItem>\\n            {{dataItem.BHChiTra | number}}\\n        </ng-template>\\n        <ng-template #bNChiTraTemplate let-dataItem>\\n            {{dataItem.BNChiTra | number}}\\n        </ng-template>\\n\\n        <ng-template #tongCongFooterTemplate>\\n            <b>Tổng: </b>\\n        </ng-template>\\n        <ng-template #thanhTienFooterTemplate>\\n            <p style=\\\"color: blue; font-weight: bold;\\\">{{total[\\\"ThanhTien\\\"].sum | number}}</p>\\n        </ng-template>\\n        <ng-template #bHChiTraFooterTemplate>\\n            <p style=\\\"color: black; font-weight: bold;\\\">{{total[\\\"BHChiTra\\\"].sum | number}}</p>\\n        </ng-template>\\n        <ng-template #bNChiTraFooterTemplate>\\n            <p style=\\\"color: red; font-weight: bold;\\\">{{total[\\\"BNChiTra\\\"].sum | number}}</p>\\n        </ng-template>\\n    </div>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>Sơ đồ giường</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"overflow:hidden\\\">\\n    <!-- idWhere=\\\"{{dataYeuCau.DichVuGiuongBenhVienId}}\\\" -->\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <app-combobox fxFlex=\\\"50%\\\" id=\\\"phongThucHienGB\\\" label=\\\"Phòng\\\" url=\\\"KhamBenh/GetAllPhongBenhVienDangHoatDong\\\" class=\\\"item-no-padding\\\"\\n            [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\" [(model)]=\\\"soDoGiuongFillter.PhongBenhVienId\\\" [popupSettings]=\\\"\\\"\\n            (modelChange)=\\\"getSoDoGiuong()\\\"\\n            [queryInfo]=\\\"{ParameterDependencies:'{DichVuId:' +dataYeuCau.DichVuGiuongBenhVienId +'}', Take: 50}\\\">\\n            <ng-template #phongKhamTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"20%\\\">Mã</th>\\n                        <th width=\\\"80%\\\">Tên phòng</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #phongKhamTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                        <td width=\\\"80%\\\">{{dataItem.TenPhong}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n\\n        <div fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">\\n            <div class=\\\"container-custom no-label\\\">\\n                <label>&nbsp;</label>\\n                <div fxLayout=\\\"row\\\" fxLayoutGap=\\\"16px\\\">\\n                    <app-checkbox fxFlex=\\\"100%\\\" style=\\\"color: green;\\\" value=\\\"true\\\" id=\\\"giuongTrong\\\" label=\\\"Giường trống\\\" \\n                        [(model)]=\\\"soDoGiuongFillter.GiuongTrong\\\" (modelChange)=\\\"getSoDoGiuong()\\\"></app-checkbox>\\n                </div>\\n            </div>\\n        </div>\\n        <div fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">\\n            <div class=\\\"container-custom no-label\\\">\\n                <label>&nbsp;</label>\\n                <div fxLayout=\\\"row\\\" fxLayoutGap=\\\"16px\\\">\\n                    <app-checkbox fxFlex=\\\"100%\\\" style=\\\"color: red;\\\" value=\\\"true\\\" id=\\\"giuongCoBenhNhan\\\" label=\\\"Giường đã có người bệnh\\\"\\n                        [(model)]=\\\"soDoGiuongFillter.GiuongDangSuDung\\\" (modelChange)=\\\"getSoDoGiuong()\\\"></app-checkbox>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <!-- <div style=\\\"overflow-x: auto; max-height: 240px;\\\">\\n            <table *ngIf=\\\"soDoGiuong != undefined && soDoGiuong != null && soDoGiuong.length > 0\\\" width=\\\"100%\\\"\\n                class=\\\"table table-border mr-4\\\">\\n                <tbody style=\\\"max-height: 250px;\\\">\\n                    <tr *ngFor=\\\"let phong of soDoGiuong\\\">\\n                        <td width=\\\"20%\\\" class=\\\"head-table\\\">\\n                            Phòng {{phong.DisplayName}}\\n                        </td>\\n                        <td>\\n                            <div style=\\\"display: flex\\\">\\n                                <ng-container *ngFor=\\\"let giuong of phong.GiuongBenhs\\\">\\n                                    <button *ngIf=\\\"giuong.IsAvailable\\\" type=\\\"button\\\" style=\\\"background-color: green;\\\"\\n                                        color=\\\"primary\\\" mat-raised-button (click)=\\\"chonGiuong(phong, giuong)\\\"\\n                                        class=\\\"mr-1 btn-select\\\">{{giuong.TenGiuong + ' | ' + (giuong.SoNguoiHienTai | number: '2.0-0')}}</button>\\n                                    <button *ngIf=\\\"!giuong.IsAvailable\\\" type=\\\"button\\\" mat-button mat-raised-button color=\\\"warn\\\"\\n                                        (click)=\\\"chonGiuong(phong, giuong)\\\"\\n                                        class=\\\"mr-1 btn-select\\\">{{giuong.TenGiuong + ' | ' + (giuong.SoNguoiHienTai | number: '2.0-0')}}</button>\\n                                </ng-container>\\n                            </div>\\n                        </td>\\n                    </tr>\\n                </tbody>\\n            </table>\\n        </div>\\n        <div fxFlex=\\\"100%\\\" *ngIf=\\\"soDoGiuong == undefined || soDoGiuong == null || soDoGiuong.length == 0\\\">\\n            Không có dữ liệu\\n        </div> -->\\n\\n        <div fxFlex=\\\"100%\\\">\\n            <app-grid #gridSoDoGiuong *ngIf=\\\"dataSource != undefined && dataSource != null && dataSource.data.length > 0\\\"\\n                [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\"\\n                [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" height=\\\"400\\\" [lazyLoadPage]=\\\"true\\\"\\n                [gridDataSource]=\\\"dataSource\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n            </app-grid>\\n        </div>\\n        <div fxFlex=\\\"100%\\\" *ngIf=\\\"dataSource == undefined || dataSource == null || dataSource.data.length == 0\\\">\\n            Không có dữ liệu\\n        </div>\\n        \\n        <ng-template #giuongTemplate let-dataItem>\\n                <ng-container *ngFor=\\\"let giuong of dataItem.GiuongBenhs\\\">\\n                    <button *ngIf=\\\"giuong.IsAvailable\\\" type=\\\"button\\\" style=\\\"border-color: #ccc;\\\"\\n                        mat-stroked-button (click)=\\\"chonGiuong(dataItem, giuong)\\\" [ngClass]=\\\"{'select':this.dataYeuCau.GiuongBenhId==giuong.GiuongBenhId}\\\"\\n                        class=\\\"mr-1 btn-select\\\">{{giuong.TenGiuong + ' | ' + (giuong.SoNguoiHienTai | number: '2.0-0')}}</button>\\n                    <button *ngIf=\\\"!giuong.IsAvailable\\\" type=\\\"button\\\" mat-button mat-raised-button color=\\\"warn\\\"\\n                        (click)=\\\"chonGiuong(dataItem, giuong)\\\" [ngClass]=\\\"{'not-available-select':this.dataYeuCau.GiuongBenhId==giuong.GiuongBenhId}\\\"\\n                        class=\\\"mr-1 btn-select\\\">{{giuong.TenGiuong + ' | ' + (giuong.SoNguoiHienTai | number: '2.0-0')}}</button>\\n                </ng-container>\\n        </ng-template>\\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <div style=\\\"margin-left: auto !important;\\\">\\n        <ng-container *ngIf=\\\"this.dataYeuCau.TenGiuongBenh != null && this.dataYeuCau.TenGiuongBenh!=''\\\">\\n            <span>Đang chọn Phòng: <strong style=\\\"color:green\\\">{{this.dataYeuCau.TenNoiThucHien}}</strong> - Giường: <strong style=\\\"color:green\\\">{{this.dataYeuCau.TenGiuongBenh}}</strong></span>\\n        </ng-container>\\n        <ng-container *ngIf=\\\"this.dataYeuCau.TenGiuongBenh == null || this.dataYeuCau.TenGiuongBenh==''\\\">\\n            Chưa chọn phòng\\n        </ng-container>\\n    </div>\\n    <button mat-stroked-button mat-button color=\\\"primary\\\" [mat-dialog-close]=\\\"\\\">Hủy</button>\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button [mat-dialog-close]=\\\"dataYeuCau\\\">Xác nhận</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Gói dịch vụ</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"min-height: 200px;\\\">\\n    <app-grid #gridNhomGoiDichVu [fxFlex]=\\\"!isCapGiuong ? '80%' : '100%'\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [HideHeader]=\\\"true\\\" [documentType]=\\\"documentType\\\"\\n        [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" [urlGetData]=\\\"urlGetDataGoi\\\" [urlGetTotalPage]=\\\"urlGetTotalDataGoi\\\"\\n        [pageable]=\\\"false\\\" [additionalSearchString]=\\\"benhNhanId + ';' + isCapGiuong\\\" [detailTemplate]=\\\"detailTemplate\\\"\\n        (extOnDataBound)=\\\"xemChiTietGoiDichVu($event)\\\">\\n    </app-grid>\\n    <ng-template #detailTemplate let-dataItem>\\n        <app-grid class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumnsChild\\\" [useAddDeault]=\\\"false\\\" [documentType]=\\\"documentType\\\"\\n            [useHeaderDefault]=\\\"true\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n            [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\" [groups]=\\\"groups\\\" [additionalSearchString]=\\\"dataItem.Id + ';' + strDichVuDaChon + ';' + isPTTT+ ';' + isCapGiuong\\\"\\n            masterName=\\\"gridChiTietGoiDichVu\\\" (extOnDataBound)=\\\"xemChiTietDichVuTheoGoi($event)\\\"\\n            [urlGetData]=\\\"urlGetDataChiTietGoi\\\" [urlGetTotalPage]=\\\"urlGetTotalDataChiTietGoi\\\"\\n            [dataItemParent]=\\\"dataItem\\\">\\n        </app-grid>\\n        <!-- (extCheckboxSelection)=\\\"chonDichVuTrongGoi($event)\\\" [hideDetailSelectedCheckbox]=\\\"true\\\" -->\\n    </ng-template>\\n    <ng-template #tenGoiTemplate let-dataItem>\\n        <span class=\\\"green title-grid-parent\\\">{{dataItem.TenGoiDichVu}}</span>\\n        <span style=\\\"float: right;\\\">ĐÃ THU:\\n            <b style=\\\"color: green;\\\">{{dataItem.BenhNhanDaThanhToanDisplay}}</b>\\n            -\\n            CHƯA THU: <b style=\\\"color: orange;\\\">{{dataItem.ChuaThuDisplay}}</b>\\n            -\\n            CÒN CHO PHÉP BẢO LÃNH: <b style=\\\"color: red;\\\">{{dataItem.ConLaiDisplay}}</b></span>\\n    </ng-template>\\n    <ng-template #tongCongFooterTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n        <span class=\\\"blue\\\">{{dataItemParent.GiaGoi | number:'0.2-2':'vi-VN'}}</span>\\n    </ng-template>\\n    <ng-template #chietKhauFooterTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n        CK: <span class=\\\"green\\\">{{dataItemParent.ChietKhau | number}} %</span>\\n    </ng-template>\\n    <ng-template #giaGoiFooterTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n        Giá gói: <span class=\\\"red\\\">{{dataItemParent.GiaGoi | number:'0.2-2':'vi-VN'}}</span>\\n    </ng-template>\\n    \\n    <ng-template #checkBoxHeaderTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n        <input type=\\\"checkbox\\\" id=\\\"ckbHeader-{{dataItemParent.Id}}\\\" [(ngModel)]=\\\"dataItemParent.IsChecked\\\" (ngModelChange)=\\\"chonTatCaDichVuTrongGoi($event, dataItemParent.Id)\\\">\\n    </ng-template>\\n    <ng-template #checkBoxTemplate let-dataItem>\\n        <input *ngIf=\\\"dataItem.IsActive\\\" id=\\\"{{dataItem.Id}}\\\" type=\\\"checkbox\\\" [attr.name]=\\\"'ckbItem-' + dataItem.YeuCauGoiDichVuId\\\"\\n            [(ngModel)]=\\\"dataItem.IsChecked\\\" (ngModelChange)=\\\"chonDichVu($event, dataItem)\\\">\\n    </ng-template>\\n    <ng-template #tongTienFooterTemplate>\\n        <span>Tổng cộng:</span>\\n    </ng-template>\\n    <ng-template #nhomDichVuTemplate let-value=\\\"value\\\">\\n        <strong>{{value}}</strong>\\n    </ng-template>\\n    <ng-template #sttTemplate let-rowIndex=\\\"rowIndex\\\">\\n        <strong>{{rowIndex + 1}}</strong>\\n    </ng-template> \\n    <ng-template #soLuongTemplate let-dataItem>\\n        <app-textboxnumeric id=\\\"abc-{{dataItem.Id}}\\\" [disabled]=\\\"!dataItem.IsActive || !dataItem.IsChecked\\\" [(model)]=\\\"dataItem.SoLuongDungLanNay\\\"\\n            class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"(!dataItem.IsActive || !dataItem.IsChecked || dataItem.SoLuongConLai == 0) ? 0 : 1\\\" [max]=\\\"dataItem.NhomGoiDichVu == 1 ? 1 : dataItem.SoLuongConLai\\\"\\n            (modelChange)=\\\"changeSoLuongDichVu($event, dataItem)\\\"> \\n        </app-textboxnumeric>\\n    </ng-template>\\n    <ng-template #donGiaTemplate let-dataItem>\\n        {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n    <ng-template #thanhTienTemplate let-dataItem>\\n        {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n    \\n    <ng-template #actionChonGiuongTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip *ngIf=\\\"dataItem.NhomGoiDichVu == nhomDichVuGiuong\\\">\\n            <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"chonDichVuGiuong(dataItem)\\\">Chọn</button>\\n        </div>\\n    </ng-template>\\n\\n    <!-- <div fxFlex=\\\"20%\\\" class=\\\"ml-4\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <h3 fxFlex=\\\"100%\\\">Dịch vụ sử dụng cho lần này</h3>\\n            <ul *ngIf=\\\"arrChiTietDichVuDaChon.length > 0\\\" fxFlex=\\\"100%\\\" class=\\\"ml-2 dashed\\\">\\n                <li *ngFor=\\\"let item of arrChiTietDichVuDaChon\\\">\\n                    <strong>{{item.TenDichVu}}</strong>  (SL: {{item.SoLuongSuDung}})\\n                </li>\\n            </ul>\\n            <ng-container *ngIf=\\\"arrChiTietDichVuDaChon.length == 0\\\">\\n                Chưa chọn dịch vụ\\n            </ng-container>\\n        </div>\\n    </div> -->\\n\\n    <div *ngIf=\\\"!isCapGiuong\\\" fxFlex=\\\"20%\\\" class=\\\"ml-4\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <h3 fxFlex=\\\"100%\\\">Dịch vụ sử dụng cho lần này</h3>\\n            <ng-container *ngIf=\\\"arrChiTietDichVuDaChon.length > 0\\\">\\n                <ng-container *ngFor=\\\"let goiDichVu of arrGoiDangChon\\\">\\n                    <table class=\\\"mb-2\\\" *ngIf=\\\"kiemTraGoiDichVuCoChonDichVu(goiDichVu.YeuCauGoiDichVuId)\\\" fxFlex=\\\"100%\\\">\\n                        <tr>\\n                            <th colspan=\\\"4\\\" style=\\\"text-align: left;\\\">\\n                                {{goiDichVu.TenGoiDichVu}}\\n                            </th>\\n                        </tr>\\n                        <ng-container *ngFor=\\\"let dichVu of getArrayDichVuDaChonTheoGoi(goiDichVu.YeuCauGoiDichVuId)\\\">\\n                            <tr>\\n                                <td width='35%' style=\\\"max-width: 150px;\\\" class='reverse-ellipsis r' kendoTooltip title=\\\"{{dichVu.TenDichVu}}\\\">- {{dichVu.TenDichVu}}</td>\\n                                <td width='5%' class='text-left-td'>{{dichVu.SoLuongSuDung}}</td>\\n                                <td width='20%' class='text-right-td'>{{dichVu.DonGia | number}}</td>\\n                                <td width='20%' class='text-right-td'>{{(dichVu.SoLuongSuDung * dichVu.DonGia) | number}}</td>\\n                            </tr>\\n                        </ng-container>\\n                        <tr>\\n                            <td colspan=\\\"3\\\" class='text-right-td'>Tổng: </td>\\n                            <td class='text-right-td'><b>{{tinhTongTienDichVuDangChon(goiDichVu.YeuCauGoiDichVuId) | number}}</b></td>\\n                        </tr>\\n                        <tr *ngIf=\\\"goiDichVu.TongTienConBaoLanhDuoc < tinhTongTienDichVuDangChon(goiDichVu.YeuCauGoiDichVuId)\\\">\\n                            <td colspan='4' class='text-right-td text-red'>Không đủ bảo lãnh</td>\\n                        </tr>\\n                    </table>\\n                </ng-container>\\n            </ng-container>\\n            <ng-container *ngIf=\\\"arrChiTietDichVuDaChon.length == 0\\\">\\n                Chưa chọn dịch vụ\\n            </ng-container>\\n        </div>\\n    </div>\\n    <!-- <table fxFlex=\\\"100%\\\">\\n                                                <tr>\\n                                                    <th colspan=\\\"4\\\" style=\\\"text-align: left;\\\">\\n                                                        {{goiDichVu.TenGoiDichVu}}\\n                                                    </th>\\n                                                </tr>\\n                                                <pre [innerHtml]=\\\"getHtmlDichVuTheoGoiDangChon(goiDichVu.YeuCauGoiDichVuId)\\\"></pre>\\n                                                <tr>\\n                                                    <td colspan=\\\"3\\\">Tổng: </td>\\n                                                    <td>{{tinhTongTienDichVuDangChon(goiDichVu.YeuCauGoiDichVuId) | number:'0.2-2':'vi-VN'}}</td>\\n                                                </tr>\\n                                            </table> -->\\n</mat-dialog-content>\\n\\n<mat-dialog-actions *ngIf=\\\"!isCapGiuong\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"null\\\">Hủy</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"luuDichVuChiDinh()\\\">Chọn</button>\\n</mat-dialog-actions>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n        [ngClass]=\\\"{'disableDiv':isReadOnly}\\\">\\n    <ng-container *ngIf=\\\"!isReadOnly\\\">\\n    <app-combobox #isFocus fxFlex=\\\"53%\\\" label=\\\"Dược phẩm\\\" id=\\\"DuocPhamId\\\" required=\\\"true\\\" url=\\\"KhamBenh/DuocPhamTuVans\\\"\\n        [template]=\\\"DuocPhamTemplate\\\" [templateHeader]=\\\"DuocPhamTemplateHeader\\\" [(model)]=\\\"keToaNew.DuocPhamId\\\"\\n        (selectionChange)=\\\"chonDuoc($event)\\\" (keyup)=\\\"onKey($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\"\\n        [isAutoFocus]=\\\"true\\\" [validationerror]=\\\"'DuocPhamId' | validationerror:validationErrors\\\" class=\\\"item-no-padding\\\"\\n        [popupSettings]=\\\"{width: 600,popupClass:'item-no-padding'}\\\">\\n        <ng-template #DuocPhamTemplateHeader let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <th width=\\\"60%\\\">Tên</th>\\n                    <th style=\\\"text-align: right; right: 10px;\\\" width=\\\"auto\\\">SL Tồn</th>\\n                </tr>\\n            </table>\\n        </ng-template>\\n        <ng-template #DuocPhamTemplate let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <td width=\\\"60%\\\">{{dataItem.Ten}}</td>\\n                    <td *ngIf=\\\"dataItem.SLTon > 0\\\" style=\\\"text-align: right;\\\" width=\\\"auto\\\">{{dataItem.SLTonFormat}}</td>\\n                    <td *ngIf=\\\"dataItem.SLTon == 0\\\" style=\\\"text-align: right;\\\" width=\\\"auto\\\">0</td>\\n                </tr>\\n            </table>\\n        </ng-template>\\n    </app-combobox>\\n    <div fxFlex=\\\"40%\\\" fxHide.sm></div>\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"10px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" fxFlex=\\\"100%\\\"\\n        style=\\\"padding-top: 10px;\\\" *ngIf=\\\"keToaNew.DuocPhamId != undefined && keToaNew.DuocPhamId != null\\\">\\n        <div fxFlex=\\\"100%\\\" kendoTooltip>\\n            <fieldset style=\\\"border:1px solid #ccc;border-radius: 5px;padding: 7px 15px 8px 15px;background: #e3f2fd;\\\">\\n                <div fxFlex=\\\"100%\\\">\\n                    <ul class=\\\"inline\\\">\\n                        <li>Đơn vị tính: <strong>{{thongTinDuocPham.TenDonViTinh}}</strong></li>\\n                        <li>Đường dùng: <strong>{{thongTinDuocPham.TenDuongDung}}</strong></li>\\n                        <li>Tương tác thuốc:\\n                            <strong *ngIf=\\\"thongTinDuocPham.FlagTuongTac == true\\\"\\n                                class=\\\"red\\\">{{thongTinDuocPham.TuongTacThuoc}}\\n                            </strong>\\n                            <strong *ngIf=\\\"thongTinDuocPham.FlagTuongTac == false\\\">\\n                                {{thongTinDuocPham.TuongTacThuoc}}\\n                            </strong>\\n                        </li>\\n                        <li>Dị ứng thuốc:\\n                            <strong *ngIf=\\\"thongTinDuocPham.FlagDiUng == true\\\" class=\\\"red\\\">\\n                                {{thongTinDuocPham.DiUngThuoc}}\\n                            </strong>\\n                            <strong *ngIf=\\\"thongTinDuocPham.FlagDiUng == false\\\">\\n                                {{thongTinDuocPham.DiUngThuoc}}\\n                            </strong>\\n                        </li>\\n                        <li>Mức độ:\\n                            <strong>\\n                                {{thongTinDuocPham.MucDoDisplay}}\\n                            </strong>\\n                        </li>\\n                        <li>Thuốc đã kê:\\n                            <strong *ngIf=\\\"thongTinDuocPham.FlagThuocDaKe == true\\\" class=\\\"red\\\">\\n                                {{thongTinDuocPham.ThuocDaKe}}\\n                            </strong>\\n                            <strong *ngIf=\\\"thongTinDuocPham.FlagThuocDaKe == false\\\">\\n                                {{thongTinDuocPham.ThuocDaKe}}\\n                            </strong>\\n                        </li>\\n                        <li>\\n                            Tồn kho:\\n                            <strong>\\n                                <span *ngIf=\\\"thongTinDuocPham.TonKho < 10\\\" class=\\\"red\\\">\\n                                    {{thongTinDuocPham.TonKhoFormat}}\\n                                </span>\\n                                <span *ngIf=\\\"thongTinDuocPham.TonKho > 10\\\">\\n                                    {{thongTinDuocPham.TonKhoFormat}}\\n                                </span>\\n                            </strong>\\n                        </li>\\n                        <li *ngIf=\\\"keToaNew.LaDuocPhamBenhVien && thongTinDuocPham.CoNhapKhoDuocPhamChiTiet\\\">\\n                            HSD:\\n                            <strong>\\n                                <strong>\\n                                    {{thongTinDuocPham.HSD}}\\n                                </strong>\\n                            </strong>\\n                        </li>\\n                    </ul>\\n                </div>\\n            </fieldset>\\n        </div>\\n    </div>\\n\\n    <app-textboxnumeric id=\\\"SoLuongAdd\\\" fxFlex=\\\"9%\\\" [(model)]=\\\"keToaNew.SoLuong\\\" min=\\\"1\\\" max=\\\"999999999\\\"\\n        (modelChange)=\\\"SoLuongChange()\\\" label=\\\"SL\\\" format=\\\"#.##\\\" [decimals]=\\\"2\\\" (keyup)=\\\"onKey($event)\\\"\\n        [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\" required=\\\"true\\\">\\n    </app-textboxnumeric>\\n\\n    <app-textbox fxFlex=\\\"10%\\\" id=\\\"LieuDung\\\" label=\\\"L.dùng/ngày\\\" [(model)]=\\\"keToaNew.LieuDung\\\" (keyup)=\\\"onKey($event)\\\"\\n        (modelChange)=\\\"LieuDungChange()\\\">\\n    </app-textbox>\\n\\n    <app-autocomplete id=\\\"Sang\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\" (keyup)=\\\"onKey($event)\\\"\\n        [(model)]=\\\"keToaNew.SangDisplay\\\" label=\\\"Sáng\\\" placeHolder=\\\"SL\\\" (openCombobox)=\\\"openCombobox($event)\\\"\\n        [validationerror]=\\\"'SangDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n    </app-autocomplete>\\n    <app-timepicker id=\\\"GioSang\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" (keyup)=\\\"onKey($event)\\\" [tabindex]=\\\"-1\\\"\\n        [(model)]=\\\"keToaNew.ThoiGianDungSang\\\" [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n    </app-timepicker>\\n\\n    <app-autocomplete id=\\\"Trua\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\" (keyup)=\\\"onKey($event)\\\"\\n        [(model)]=\\\"keToaNew.TruaDisplay\\\" label=\\\"Trưa\\\" placeHolder=\\\"SL\\\" (openCombobox)=\\\"openCombobox($event)\\\"\\n        [validationerror]=\\\"'TruaDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n    </app-autocomplete>\\n    <app-timepicker id=\\\"GioTrua\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" (keyup)=\\\"onKey($event)\\\" [tabindex]=\\\"-1\\\"\\n        [(model)]=\\\"keToaNew.ThoiGianDungTrua\\\" [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n    </app-timepicker>\\n\\n    <app-autocomplete id=\\\"Chieu\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\" (keyup)=\\\"onKey($event)\\\"\\n        [(model)]=\\\"keToaNew.ChieuDisplay\\\" label=\\\"Chiều\\\" placeHolder=\\\"SL\\\" (openCombobox)=\\\"openCombobox($event)\\\"\\n        [validationerror]=\\\"'ChieuDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n    </app-autocomplete>\\n    <app-timepicker id=\\\"GioChieu\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" (keyup)=\\\"onKey($event)\\\" [tabindex]=\\\"-1\\\"\\n        [(model)]=\\\"keToaNew.ThoiGianDungChieu\\\" [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n    </app-timepicker>\\n\\n    <app-autocomplete id=\\\"Toi\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\" (keyup)=\\\"onKey($event)\\\"\\n        [(model)]=\\\"keToaNew.ToiDisplay\\\" label=\\\"Tối\\\" placeHolder=\\\"SL\\\" (openCombobox)=\\\"openCombobox($event)\\\"\\n        [validationerror]=\\\"'ToiDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n    </app-autocomplete>\\n    <app-timepicker id=\\\"GioToi\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" [(model)]=\\\"keToaNew.ThoiGianDungToi\\\"\\n        [tabindex]=\\\"-1\\\" (keyup)=\\\"onKey($event)\\\" [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n    </app-timepicker>\\n\\n    <app-textboxnumeric fxFlex=\\\"13%\\\" [(model)]=\\\"keToaNew.SoNgayDung\\\" min=\\\"0\\\" (modelChange)=\\\"SoNgayDungChange()\\\"\\n        (change)=\\\"convertInt()\\\" (keyup)=\\\"onKey($event)\\\" max=\\\"9999\\\" label=\\\"Số ngày\\\">\\n    </app-textboxnumeric>\\n\\n    <app-autocomplete fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"keToaNew.GhiChu\\\" (keyup)=\\\"onKey($event)\\\"\\n        [queryInfo]=\\\"{ParameterDependencies:'{LoaiDuocPhamHoacVatTu:' + 1 +'}', Take: 50}\\\"\\n        url=\\\"KhamBenh/GetGhiChuDonThuocChiTietString\\\" label=\\\"Cách dùng\\\" maxlength=\\\"4000\\\"\\n        (openCombobox)=\\\"openCombobox($event)\\\">\\n    </app-autocomplete>\\n\\n    <div fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\">\\n        <button type=\\\"button\\\" mat-button class=\\\"mr-2\\\" (click)=\\\"clearDuocPham()\\\">Hủy</button>\\n        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button (click)=\\\"themKeToa()\\\"\\n            id=\\\"btnThemKeToa\\\">Thêm</button>\\n    </div>\\n    </ng-container>\\n\\n    <app-grid fxFlex=\\\"100%\\\" #gridThuoc [gridColumns]=\\\"gridToaThuocColumns\\\" [documentType]=\\\"documentType\\\"\\n        [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n        (extOnDataBound)=\\\"onDataBound($event)\\\" urlGetData=\\\"KhamBenh/GetDataForGridTuVanThuoc\\\"\\n        urlGetTotalPage=\\\"KhamBenh/GetTotalPageForGridTuVanThuoc\\\" [additionalSearchString]=\\\"YeuCauTiepNhanId\\\"\\n        [checkboxAble]=\\\"false\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\">\\n        <ng-template #sangTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.SangDisplay != null && dataItem.ThoiGianDungSangDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.SangDisplay + ' ' +(dataItem.ThoiGianDungSangDisplay)}}\\\">\\n                    {{dataItem.SangDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungSangDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.SangDisplay != null && dataItem.ThoiGianDungSangDisplay == null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.SangDisplay}}\\\">\\n                    {{dataItem.SangDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.SangDisplay == null && dataItem.ThoiGianDungSangDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ThoiGianDungSangDisplay}}\\\">\\n                    {{dataItem.ThoiGianDungSangDisplay}}\\n                </p>\\n            </div>\\n        </ng-template>\\n\\n        <ng-template #truaTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.TruaDisplay != null && dataItem.ThoiGianDungTruaDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.TruaDisplay + ' ' +(dataItem.ThoiGianDungTruaDisplay)}}\\\">\\n                    {{dataItem.TruaDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungTruaDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.TruaDisplay != null && dataItem.ThoiGianDungTruaDisplay == null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.TruaDisplay}}\\\">\\n                    {{dataItem.TruaDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.TruaDisplay == null && dataItem.ThoiGianDungTruaDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ThoiGianDungTruaDisplay}}\\\">\\n                    {{dataItem.ThoiGianDungTruaDisplay}}\\n                </p>\\n            </div>\\n        </ng-template>\\n\\n        <ng-template #chieuTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.ChieuDisplay != null && dataItem.ThoiGianDungChieuDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ChieuDisplay + ' ' +(dataItem.ThoiGianDungChieuDisplay)}}\\\">\\n                    {{dataItem.ChieuDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungChieuDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ChieuDisplay != null && dataItem.ThoiGianDungChieuDisplay == null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ChieuDisplay}}\\\">\\n                    {{dataItem.ChieuDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ChieuDisplay == null && dataItem.ThoiGianDungChieuDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ThoiGianDungChieuDisplay}}\\\">\\n                    {{dataItem.ThoiGianDungChieuDisplay}}\\n                </p>\\n            </div>\\n        </ng-template>\\n\\n        <ng-template #toiTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <p *ngIf=\\\"dataItem.ToiDisplay != null && dataItem.ThoiGianDungToiDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ToiDisplay + ' ' +(dataItem.ThoiGianDungToiDisplay)}}\\\">\\n                    {{dataItem.ToiDisplay}}&nbsp;\\n                    {{dataItem.ThoiGianDungToiDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ToiDisplay != null && dataItem.ThoiGianDungToiDisplay == null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ToiDisplay}}\\\">\\n                    {{dataItem.ToiDisplay}}\\n                </p>\\n                <p *ngIf=\\\"dataItem.ToiDisplay == null && dataItem.ThoiGianDungToiDisplay != null\\\" kendoTooltip\\n                    title=\\\"{{dataItem.ThoiGianDungToiDisplay}}\\\">\\n                    {{dataItem.ThoiGianDungToiDisplay}}\\n                </p>\\n            </div>\\n        </ng-template>\\n\\n        <ng-template #soLuongTemplate let-dataItem>\\n            {{dataItem.SoLuongDisplay}}\\n        </ng-template>\\n    </app-grid>\\n\\n    <ng-template #actionToaThuocTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        <div class=\\\"text-right\\\" kendoTooltip>\\n            <ng-container>\\n                <button color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Sửa\\\" (click)=\\\"suaKeToa(dataItem)\\\"\\n                    type=\\\"button\\\">\\n                    <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n                </button>\\n                <button color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" (click)=\\\"xoaKeToa(dataItem)\\\"\\n                    type=\\\"button\\\">\\n                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                </button>\\n            </ng-container>\\n        </div>\\n    </ng-template>\\n    <ng-template #sttTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        {{rowIndex + 1}}\\n    </ng-template>\\n    <div *ngIf=\\\"!isReadOnly\\\" fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\">\\n        <button [disabled]=\\\"!isDisabled\\\" type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button\\n            (click)=\\\"inPhieuTuVanThuoc()\\\">In toa thuốc</button>\\n    </div>\\n</div>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <ng-container *ngIf=\\\"isProcessAdd\\\">\\n        <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title  mr-4\\\">THÊM</h3>\\n        <div fxFlex=\\\"100%\\\">\\n            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                <app-dropdownlist fxFlex=\\\"50%\\\" label=\\\"Vật tư tiêu hao\\\" required=\\\"true\\\" url=\\\"VatTuBenhVien/GetVatTuYTeBenhVien\\\" (selectionChange)=\\\"chonVatTu($event)\\\"\\n                    [template]=\\\"dichVuKyThuatTemplate\\\" [templateHeader]=\\\"dichVuKyThuatTemplateHeader\\\" [(model)]=\\\"vatTuTieuHaoNew.VatTuId\\\" [modelText]=\\\"vatTuTieuHaoNew.TenVatTu\\\" class=\\\"item-no-padding\\\">\\n                    <ng-template #dichVuKyThuatTemplateHeader let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <th width=\\\"20%\\\">Mã</th>\\n                                <th>Tên</th>\\n                                <th>Nhóm</th>\\n                                <th>Đơn vị</th>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                    <ng-template #dichVuKyThuatTemplate let-dataItem>\\n                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                            <tr>\\n                                <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                <td>{{dataItem.Ten}}</td>\\n                                <td>{{dataItem.Nhom}}</td>\\n                                <td>{{dataItem.DonVi}}</td>\\n                            </tr>\\n                        </table>\\n                    </ng-template>\\n                </app-dropdownlist>\\n                <app-textboxnumeric fxFlex=\\\"25%\\\" label=\\\"Số lượng\\\" [(model)]=\\\"vatTuTieuHaoNew.SoLuong\\\" required=\\\"true\\\"></app-textboxnumeric>\\n                <div fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">\\n                    <div class=\\\"container-custom no-label\\\">\\n                        <label>&nbsp;</label>\\n                        <div fxLayout=\\\"row\\\" fxLayoutGap=\\\"16px\\\">\\n                            <app-checkbox fxFlex=\\\"100%\\\" value=\\\"true\\\" id=\\\"TinhTien\\\" [(model)]=\\\"vatTuTieuHaoNew.TinhTien\\\" label=\\\"Tính tiền\\\">\\n                            </app-checkbox>\\n                        </div>\\n                    </div>\\n                </div>\\n    \\n                <app-textbox fxFlex=\\\"100%\\\" [(model)]=\\\"vatTuTieuHaoNew.GhiChu\\\" label=\\\"Ghi chú\\\"></app-textbox>\\n            </div>\\n        </div>\\n        <!-- <div fxFlex=\\\"25%\\\" class=\\\"pl-4\\\">\\n            <fieldset fxFlex=\\\"100%\\\">\\n                <div fxFlex=\\\"100%\\\">\\n                    <ul>\\n                        <li>Đơn giá: <strong class=\\\"item_right\\\">5.000</strong></li>\\n                        <li>Thành tiền: <strong class=\\\"item_right\\\" style=\\\"color: blue;\\\">105.000</strong></li>\\n                        <li>BH chi trả: <strong class=\\\"item_right\\\">105.000</strong></li>\\n                        <li>BN chi trả: <strong class=\\\"item_right\\\" style=\\\"color: red;\\\">0</strong></li>\\n                    </ul>\\n                </div>\\n            </fieldset>\\n        </div> -->\\n        <div fxFlex=\\\"100%\\\" class=\\\"mt-2\\\" fxLayoutAlign=\\\"end center\\\">\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1 mt-2\\\"\\n                (click)=\\\"isProcessAdd = false\\\">Hủy</button>\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n                (click)=\\\"themVatTu()\\\">Thêm</button>\\n        </div>\\n    </ng-container>\\n    <ng-container *ngIf=\\\"!isProcessAdd\\\">\\n        <div fxFlex=\\\"100%\\\" class=\\\"mt-2\\\" fxLayoutAlign=\\\"start center\\\">\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\"\\n                (click)=\\\"isProcessAdd = true\\\">\\n                Thêm vật tư tiêu hao</button>\\n        </div>\\n    </ng-container>\\n\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title  mr-4\\\">DANH SÁCH</h3>\\n    <app-grid fxFlex=\\\"100%\\\"  class=\\\"k-grid-border\\\"\\n        [gridColumns]=\\\"gridColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault] = \\\"false\\\"\\n        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble] =\\\"false\\\" [autoHeight]=\\\"true\\\"\\n        [lazyLoadPage]=\\\"true\\\" [gridDataSource]=\\\"dataSource\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n    </app-grid>\\n    <ng-template #actionTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip >\\n            <button color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" (click)=\\\"xoaVatTu(dataItem.Id, dataItem.STT)\\\" type=\\\"button\\\">\\n                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n            </button>\\n        </div>\\n    </ng-template>\\n    <ng-template #tinhTienTemplate let-dataItem>\\n        {{dataItem.TinhTien == true ? \\\"Có\\\" : \\\"Không\\\"}}\\n    </ng-template>\\n    <ng-template #donGiaTemplate let-dataItem>\\n        {{dataItem.DonGia | number}}\\n    </ng-template>\\n    <ng-template #thanhTienTemplate let-dataItem>\\n        {{dataItem.ThanhTien | number}}\\n    </ng-template>\\n    <ng-template #bHChiTraTemplate let-dataItem>\\n        {{dataItem.BHChiTra | number}}\\n    </ng-template>\\n    <ng-template #bNChiTraTemplate let-dataItem>\\n        {{dataItem.BNChiTra | number}}\\n    </ng-template>\\n    <ng-template #tongCongFooterTemplate>\\n        <b>Tổng: </b>\\n    </ng-template>\\n    <ng-template #thanhTienFooterTemplate>\\n        <p style=\\\"color: blue; font-weight: bold;\\\">{{(total[\\\"ThanhTien\\\"] != undefined ? total[\\\"ThanhTien\\\"].sum : 0) | number}}</p>\\n    </ng-template>\\n    <ng-template #bHChiTraFooterTemplate>\\n        <p style=\\\"color: black; font-weight: bold;\\\">{{(total[\\\"BHChiTra\\\"] != undefined ? total[\\\"BHChiTra\\\"].sum : 0) | number}}</p>\\n    </ng-template>\\n    <ng-template #bNChiTraFooterTemplate>\\n        <p style=\\\"color: red; font-weight: bold;\\\">{{(total[\\\"BNChiTra\\\"] != undefined ? total[\\\"BNChiTra\\\"].sum : 0) | number}}</p>\\n    </ng-template>\\n</div>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div style=\\\"text-transform: uppercase;\\\">Kết quả xét nghiệm ({{arrFileUrl.length}} file)</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\" [mat-dialog-close]=\\\"null\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"height: 550px;\\\">\\n    <div class=\\\"container-iframe\\\">\\n        <ng-container [ngSwitch]=\\\"arrFileUrl.length > 0\\\">\\n            <div *ngSwitchCase=\\\"true\\\">\\n                <ng-container *ngFor=\\\"let item of arrFileUrl\\\">\\n                    <iframe width=\\\"100%\\\" height=\\\"540px\\\" frameborder=\\\"0\\\" [src]=\\\"item | safe\\\" type=\\\"application/pdf\\\"\\n                        allowTransparency=\\\"true\\\" background=\\\"transparent\\\"></iframe>\\n                </ng-container>\\n            </div>\\n            <div *ngSwitchDefault>Không có dữ liệu</div>\\n        </ng-container>\\n\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions class=\\\"pb-5\\\">\\n    <button type=\\\"button\\\" style=\\\"margin-left: auto;\\\" [mat-dialog-close]=\\\"null\\\" mat-button class=\\\"mr-1 mt-4\\\"><i\\n            class=\\\"ft-arrow-left\\\"></i> Hủy</button>\\n    <button type=\\\"button\\\" *ngIf=\\\"arrFilePdf.length > 0\\\" (click)=\\\"downloadAllFile()\\\" mat-stroked-button color=\\\"primary\\\"\\n        class=\\\"mr-1 mt-4\\\">Tải tất cả</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div style=\\\"text-transform: uppercase;\\\">Kết quả xét nghiệm ({{arrFileUrl.length}} file)</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\" [mat-dialog-close]=\\\"null\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"height: 550px;\\\">\\n    <div class=\\\"container-iframe\\\">\\n        <ng-container [ngSwitch]=\\\"arrFileUrl.length > 0\\\">\\n            <div *ngSwitchCase=\\\"true\\\">\\n                <ng-container *ngFor=\\\"let item of arrFileUrl\\\">\\n                    <iframe width=\\\"100%\\\" height=\\\"540px\\\" frameborder=\\\"0\\\" [src]=\\\"item | safe\\\" type=\\\"application/pdf\\\"\\n                        allowTransparency=\\\"true\\\" background=\\\"transparent\\\"></iframe>\\n                </ng-container>\\n            </div>\\n            <div *ngSwitchDefault>Không có dữ liệu</div>\\n        </ng-container>\\n\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions class=\\\"pb-5\\\">\\n    <button type=\\\"button\\\" style=\\\"margin-left: auto;\\\" [mat-dialog-close]=\\\"null\\\" mat-button class=\\\"mr-1 mt-4\\\"><i\\n            class=\\\"ft-arrow-left\\\"></i> Hủy</button>\\n    <button type=\\\"button\\\" *ngIf=\\\"arrFilePdf.length > 0\\\" (click)=\\\"downloadAllFile()\\\" mat-stroked-button color=\\\"primary\\\"\\n        class=\\\"mr-1 mt-4\\\">Tải tất cả</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Ngày Nghỉ Hưởng Bảo Hiểm Xã Hội</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"height: 290px;\\\">\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxFlex=\\\"100%\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n            style=\\\"padding-top: 16px;\\\">\\n\\n            <div fxFlex=\\\"10%\\\">\\n                <mat-icon [icIcon]=\\\"icInfo\\\" kendoTooltip title=\\\"Thời điểm tiếp nhận\\\">\\n                </mat-icon>\\n            </div>\\n            <app-datepicker fxFlex=\\\"45%\\\" label=\\\"Từ ngày\\\" [minDate]=\\\"dateTiepNhanMin\\\"\\n                [(model)]=\\\"thongTinNgayNghiHuongBHYT.ThoiDiemTiepNhan\\\" required=\\\"true\\\"\\n                [validationerror]=\\\"'ThoiDiemTiepNhan' | validationerror:validationErrors\\\">\\n            </app-datepicker>\\n\\n\\n            <app-datepicker fxFlex=\\\"45%\\\" label=\\\"Đến ngày\\\" [minDate]=\\\"dateTiepNhanMin\\\"\\n                [(model)]=\\\"thongTinNgayNghiHuongBHYT.DenNgay\\\" required=\\\"true\\\"\\n                [validationerror]=\\\"'DenNgay' | validationerror:validationErrors\\\">\\n            </app-datepicker>\\n\\n            <strong class=\\\"font_size\\\">Chuẩn đoán và phương pháp điều trị</strong>\\n            <app-combobox label=\\\"Chẩn đoán\\\" url=\\\"KhamBenh/ICD\\\"\\n                [(model)]=\\\"thongTinNgayNghiHuongBHYT.ICDChinhNghiHuongBHYT\\\" fxFlex=\\\"100%\\\"\\n                [(modelText)]=\\\"thongTinNgayNghiHuongBHYT.TenICDChinhNghiHuongBHYT\\\" popupSettings=\\\"null\\\"\\n                (selectionChange)=\\\"iCDSelectionChange($event)\\\" [template]=\\\"iCDChinhTemplate\\\"\\n                [templateHeader]=\\\"iCDChinhTemplateHeader\\\" class=\\\"item-no-padding\\\" [required]=\\\"true\\\"\\n                [validationerror]=\\\"'ICDChinhNghiHuongBHYT' | validationerror:validationErrors\\\"\\n                [queryInfo]=\\\"{ParameterDependencies:'{ChanDoanICDId:' + thongTinNgayNghiHuongBHYT.ICDChinhNghiHuongBHYT +'}', Take: 50}\\\">\\n                <ng-template #iCDChinhTemplateHeader let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <th width=\\\"25%\\\">Mã</th>\\n                            <th>Tên Tiếng Việt</th>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n                <ng-template #iCDChinhTemplate let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <td width=\\\"25%\\\">{{dataItem.Ma}}</td>\\n                            <td>{{dataItem.Ten}}</td>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n            </app-combobox>\\n            <app-textarea [minHeight]=\\\"60\\\" id=\\\"huong-dan-dieu-tri\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"100%\\\"\\n                label=\\\"Phương pháp điều trị\\\" [(model)]=\\\"thongTinNgayNghiHuongBHYT.PhuongPhapDieuTriNghiHuongBHYT\\\"\\n                [required]=\\\"true\\\" maxlength=\\\"4000\\\"\\n                [validationerror]=\\\"'PhuongPhapDieuTriNghiHuongBHYT' | validationerror:validationErrors\\\">\\n            </app-textarea>\\n\\n        </div>\\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" (click)=\\\"close()\\\" mat-stroked-button color=\\\"primary\\\"\\n        mat-dialog-close>Hủy</button>\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" (click)=\\\"xemGiayHuongBHXH()\\\" mat-stroked-button color=\\\"primary\\\"\\n        class=\\\"md-primary\\\">Xác Nhận</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Giấy Nghỉ Hưởng Bảo Hiểm Xã Hội</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div class=\\\"container-iframe\\\"><iframe width=\\\"100%\\\" [src]=\\\"src| safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <app-print-form fxFlex='100%' class=\\\"mr-1 mt-2\\\" textPrint=\\\"In giấy nghỉ hưởng BHXH\\\" type=\\\"PDF\\\"\\n        typeLayout=\\\"landscape\\\" [bodyComponent]=\\\"this\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div style=\\\"text-transform: uppercase;\\\">Danh sách nội dung mẫu</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"height: 800px;\\\">\\n    <div class=\\\"card overflow-auto\\\">\\n        <kendo-splitter style=\\\"height: 600px;\\\" [ngStyle]=\\\"{'width':isShow?'100%':'calc(100% - 8px)'}\\\">\\n            <kendo-splitter-pane style=\\\"overflow:hidden;\\\" size=\\\"{{isShow?'40%':'100%'}}\\\">\\n                <app-grid #gridChild [urlGetData]=\\\"urlGetData\\\" [urlGetTotalPage]=\\\"urlGetTotalPage\\\" [showStt]=\\\"true\\\"\\n                    [gridColumns]=\\\"gridColumns\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [searchString]=\\\"searchString\\\"\\n                    [useHeaderDefault]=\\\"false\\\" [headerTemplate]=\\\"headerTemplate\\\" [documentType]=\\\"documentType\\\"\\n                    [checkboxAble]=\\\"false\\\" height=\\\"600\\\">\\n                </app-grid>\\n            </kendo-splitter-pane>\\n        \\n            <kendo-splitter-pane style=\\\"overflow:auto;\\\" [hidden]=\\\"!isShow\\\">\\n                <div class=\\\"px-4 pt-4\\\" fxLayout=\\\"column\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                    <app-textbox id=\\\"ma\\\" fxFlex=\\\"30%\\\" fxFlex.sm=\\\"20%\\\" maxlength=\\\"20\\\" [required]=\\\"true\\\" [(model)]=\\\"noiDungMau.Ma\\\"\\n                        (modelChange)=\\\"changeData()\\\"\\n                        label=\\\"Mã\\\" [validationerror]=\\\"'Ma' | validationerror:validationErrors\\\">\\n                    </app-textbox>\\n                    <app-textbox id=\\\"Ten\\\" fxFlex=\\\"70%\\\" fxFlex.sm=\\\"30%\\\" maxlength=\\\"250\\\" [required]=\\\"true\\\" [(model)]=\\\"noiDungMau.Ten\\\"\\n                        (modelChange)=\\\"changeData()\\\"\\n                        label=\\\"Tên\\\" [validationerror]=\\\"'Ten' | validationerror:validationErrors\\\">\\n                    </app-textbox>\\n                    <!-- <app-editor id=\\\"noiDungMau\\\" fxFlex=\\\"100%\\\" label=\\\"Nội dung\\\" [required]=\\\"true\\\" [(model)]=\\\"noiDungMau.NoiDung\\\"\\n                        [hideLinkButton]=\\\"true\\\" [hideFileButton]=\\\"true\\\" [hideImageButton]=\\\"true\\\" \\n                        (modelChange)=\\\"changeData()\\\"\\n                        [validationerror]=\\\"'NoiDung' | validationerror:validationErrors\\\">\\n                    </app-editor> -->\\n\\n                    <app-textarea id=\\\"noiDungMau\\\" fxFlex=\\\"100%\\\" label=\\\"Nội dung\\\" maxlength=\\\"5000\\\" minHeight=\\\"200\\\"\\n                        [(model)]=\\\"noiDungMau.NoiDung\\\" (modelChange)=\\\"changeData()\\\"  [required]=\\\"true\\\"\\n                        [validationerror]=\\\"'NoiDung' | validationerror:validationErrors\\\">\\n                    </app-textarea>\\n                </div>\\n                <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"2px\\\" class=\\\"mt-4 mb-2\\\" kendoTooltip>\\n                    <button type=\\\"button\\\" mat-raised-button \\n                        (click)=\\\"huy()\\\">Hủy</button>\\n                    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button \\n                        (click)=\\\"luu()\\\">Lưu</button>\\n                </div></div>\\n            </kendo-splitter-pane>\\n        </kendo-splitter>\\n\\n        \\n        <ng-template #headerTemplate>\\n            <div class=\\\"bg-app-bar px-3 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n                <div class=\\\"bg-card rounded-full border px-4 ml-2\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\"\\n                    fxLayoutAlign=\\\"start center\\\">\\n                    <ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n                    <input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n                        type=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"searchString\\\" (keyup)=\\\"onKey($event)\\\"\\n                        (ngModelChange)=\\\"searchChange($event)\\\" placeholder=\\\"Tìm kiếm ...\\\" />\\n                </div>\\n                <button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\" (click)=\\\"clearSearch()\\\">\\n                    <mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n                </button>\\n        \\n                <button [matMenuTriggerFor]=\\\"columnFilterMenu\\\" class=\\\"ml-auto\\\" fxFlex=\\\"none\\\" mat-icon-button kendoTooltip\\n                    title=\\\"Lọc cột\\\" type=\\\"button\\\">\\n                    <mat-icon [icIcon]=\\\"icFilterList\\\"></mat-icon>\\n                </button>\\n                <mat-menu #columnFilterMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n                    <div *ngFor=\\\"let column of _gridColumnsFilter\\\">\\n                        <button class=\\\"checkbox-item mat-menu-item\\\" *ngIf=\\\"!column.HideFilter\\\">\\n                            <mat-checkbox [disabled]=\\\"!column.HasFilter\\\" [(ngModel)]=\\\"_isCheckColumnFilter\\\" color=\\\"primary\\\">\\n                                {{ column.Title }}\\n                            </mat-checkbox>\\n                        </button>\\n                    </div>\\n                </mat-menu>\\n                <button class=\\\"ml-3\\\" color=\\\"primary\\\" fxFlex=\\\"none\\\" mat-mini-fab kendoTooltip \\n                    title=\\\"Thêm\\\" type=\\\"button\\\" (click)=\\\"them()\\\">\\n                    <mat-icon [icIcon]=\\\"icAdd\\\"></mat-icon>\\n                </button>\\n            </div>\\n        </ng-template>\\n    </div>\\n\\n    <ng-template #maTemplate let-dataItem>\\n        <a (click)=\\\"xem(dataItem.Id)\\\">\\n            <p class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.Ma}}\\\">{{dataItem.Ma}}</p>\\n        </a>\\n    </ng-template>\\n    <ng-template #actionTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <button style=\\\"color: red;\\\" mat-icon-button kendoTooltip \\n                (click)=\\\"xoa(dataItem.Id)\\\" title=\\\"Xóa\\\" type=\\\"button\\\">\\n                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n            </button>\\n        </div>\\n    </ng-template>\\n</mat-dialog-content>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1 border-bottom\\\">\\n    <div>Chọn ảnh</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"max-height: 86vh;\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"p-2 mb-6\\\">\\n        <app-radio id=\\\"ChonThongTin\\\" name=\\\"ChonThongTin\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"ChonThongTin\\\"\\n            class=\\\"no-format-css\\\" [items]=\\\"[{Value:1,Text:'Bộ phận cơ thể'},{Value:2,Text:'Khác'}]\\\">\\n        </app-radio>\\n        <app-combobox id=\\\"dl-chon-bo-phan-co-the\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"boPhanCoTheCurrent\\\"\\n            url=\\\"KhamBenh/GetListBoPhanCoThe\\\" (selectionChange)=\\\"onSelectionChange($event)\\\" label=\\\"Chọn Bộ Phận Cơ Thể\\\"\\n            *ngIf=\\\"ChonThongTin==1\\\">\\n        </app-combobox>\\n        <app-upload id=\\\"Upload\\\" label=\\\"Chọn ảnh khác\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\"\\n            [allowedExtensions]=\\\"['.jpg', '.jpeg', '.png', '.JPG', '.JPEG', '.PNG']\\\"\\n            (uploadFileDone)=\\\"uploadFileDone($event)\\\" *ngIf=\\\"ChonThongTin==2\\\">\\n        </app-upload>\\n        <app-textarea id=\\\"mota\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"1000\\\" label=\\\"Mô tả\\\"\\n            [(model)]=\\\"sanhSachThongTinAnhs.MoTa\\\" minHeight=\\\"20\\\">\\n        </app-textarea>\\n        <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" *ngIf=\\\"sanhSachThongTinAnhs.Url!=null && sanhSachThongTinAnhs.Url!=''\\\" style=\\\"position: relative;\\\">\\n            <image-drawing [src]=\\\"sanhSachThongTinAnhs.Url\\\" outputMimeType=\\\"'image/jpeg'\\\" showCancelButton={{true}} saveBtnText=\\\"Lưu\\\"\\n                cancelBtnText=\\\"Hủy ảnh\\\" loadingText=\\\"Đang xử lý ảnh...\\\"\\n                (save)=\\\"save($event)\\\" (cancel)=\\\"cancel()\\\" enableRemoveImage={{true}} forceSizeExport={{true}}\\n                (click)=\\\"showErrorIfNoImage($event)\\\" #imageDrawing [loadingTemplate]=\\\"loadingTemplate\\\">\\n            </image-drawing>\\n            <ng-template #loadingTemplate>                \\n                <button class=\\\"btn btn-raised btn-raised btn-primary mb-0\\\"><img src=\\\"/assets/img/loader.gif\\\" alt=\\\"Loading\\\" /></button>\\n            </ng-template>         \\n            <button class=\\\"btn btn-raised btn-raised btn-primary btn-loading\\\" *ngIf=\\\"loading\\\"><img src=\\\"/assets/img/loader.gif\\\"\\n                alt=\\\"Loading\\\" /></button>\\n        </div>\\n        <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" *ngIf=\\\"sanhSachThongTinAnhs.Url==null || sanhSachThongTinAnhs.Url==''\\\">\\n            <div style=\\\"border:1px solid #ccc;width:100%;height:400px;text-align: center;padding:15px;\\\">\\n                Bạn chưa chọn ảnh\\n            </div>\\n        </div>\\n    </div>\\n</mat-dialog-content>\\n\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <app-textbox id=\\\"khoa_phong\\\" fxFlex=\\\"100%\\\" label=\\\"Khoa phòng\\\" [(model)]=\\\"khoaPhong\\\" [disabled]=\\\"true\\\">\\n    </app-textbox>\\n\\n    <app-textbox id=\\\"chan_doan_vao_khoa\\\" fxFlex=\\\"30%\\\" label=\\\"Chẩn đoán vào khoa\\\" [(model)]=\\\"chanDoanICD\\\"\\n        [disabled]=\\\"true\\\">\\n    </app-textbox>\\n\\n    <app-textbox id=\\\"mo_ta_chan_doan_vao_khoa\\\" [(model)]=\\\"moTaICD\\\" fxFlex=\\\"70%\\\" label=\\\"Mô tả\\\" [disabled]=\\\"true\\\">\\n    </app-textbox>\\n\\n    <div class=\\\"\\\" fxFlex=\\\"100%\\\">\\n        <kendo-panelbar [keepItemContent]=\\\"true\\\">\\n            <kendo-panelbar-item\\n                *ngFor=\\\"let item of thongTinBenhNhan.YeuCauKhamBenh.YeuCauDichVuKyThuatPhauThuat; let i = index\\\"\\n                [title]=\\\"item.Ten\\\" expanded=\\\"true\\\" class=\\\"panelbar-item panelbar-item-padr\\\">\\n                <ng-template kendoPanelBarContent>\\n                    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                        style=\\\"padding-top: 16px;\\\">\\n                        <app-combobox id=\\\"cd_truoc_phau_thuat\\\" fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\" label=\\\"CĐ trước phẫu thuật\\\"\\n                            class=\\\"item-no-padding\\\" [template]=\\\"truocPhauThuatTemplate\\\" url=\\\"KhamBenh/GetListICD\\\"\\n                            [templateHeader]=\\\"truocPhauThuatTemplateHeader\\\" [(model)]=\\\"item.ICDTruocPhauThuatId\\\"\\n                            [modelText]=\\\"item.ICDTruocPhauThuatDisplay\\\"\\n                            (selectionChange)=\\\"OnChangeCdTruocPhauThuat($event, item)\\\" #cdTruocPhauThuat>\\n                            <ng-template #truocPhauThuatTemplateHeader let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <th width=\\\"20%\\\">Mã</th>\\n                                        <th>Tên</th>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                            <ng-template #truocPhauThuatTemplate let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                        <td>{{dataItem.TenBenh}}</td>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                        </app-combobox>\\n\\n                        <app-textbox id=\\\"mo_ta_cd_truoc_phau_thuat\\\" fxFlex=\\\"70%\\\" label=\\\"Mô tả\\\" maxlength=\\\"4000\\\"\\n                            [(model)]=\\\"item.GhiChuICDTruocPhauThuat\\\" (modelChange)=\\\"onChangeData()\\\" #moTaTruocPhauThuat\\n                            [validationerror]=\\\"'ListPttt['+i+'].GhiChuICDTruocPhauThuat' | validationerror:validationErrors\\\">\\n                        </app-textbox>\\n\\n                        <app-combobox id=\\\"cd_sau_phau_thuat\\\" fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\" label=\\\"CĐ sau phẫu thuật\\\"\\n                            class=\\\"item-no-padding\\\" [template]=\\\"sauPhauThuatTemplate\\\" url=\\\"KhamBenh/GetListICD\\\"\\n                            [templateHeader]=\\\"sauPhauThuatTemplateHeader\\\" [(model)]=\\\"item.ICDSauPhauThuatId\\\"\\n                            [modelText]=\\\"item.ICDSauPhauThuatDisplay\\\"\\n                            (selectionChange)=\\\"OnChangeCdSauPhauThuat($event, item)\\\" #cdSauPhauThuat>\\n                            <ng-template #sauPhauThuatTemplateHeader let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <th width=\\\"20%\\\">Mã</th>\\n                                        <th>Tên</th>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                            <ng-template #sauPhauThuatTemplate let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                        <td>{{dataItem.TenBenh}}</td>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                        </app-combobox>\\n\\n                        <app-textbox id=\\\"mo_ta_cd_sau_phau_thuat\\\" fxFlex=\\\"70%\\\" label=\\\"Mô tả\\\" maxlength=\\\"4000\\\"\\n                            [(model)]=\\\"item.GhiChuICDSauPhauThuat\\\" (modelChange)=\\\"onChangeData()\\\"\\n                            #moTaChanDoanSauPhauThuat\\n                            [validationerror]=\\\"'ListPttt['+i+'].GhiChuICDSauPhauThuat' | validationerror:validationErrors\\\">\\n                        </app-textbox>\\n\\n                        <app-combobox id=\\\"phuong_phap_pttt\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Phương Pháp PTTT\\\"\\n                            class=\\\"item-no-padding\\\" [template]=\\\"phuongPhapTemplate\\\" url=\\\"KhamBenh/GetListPhuongPhapPTTT\\\"\\n                            [templateHeader]=\\\"phuongPhapTemplateHeader\\\" [(model)]=\\\"item.PhuongPhapPhauThuatThuThuatKey\\\"\\n                            [modelText]=\\\"item.PhuongPhapPhauThuatThuThuatDisplay\\\"\\n                            (selectionChange)=\\\"onChangePhauThuatThuThuat($event, item)\\\" #phuongPhapPttt>\\n                            <ng-template #phuongPhapTemplateHeader let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <th width=\\\"20%\\\">Mã</th>\\n                                        <th>Tên PTTT</th>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                            <ng-template #phuongPhapTemplate let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                        <td>{{dataItem.Ten}}</td>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                        </app-combobox>\\n\\n                        <app-textbox id=\\\"loai_pttt\\\" fxFlex=\\\"30%\\\" label=\\\"Loại PTTT\\\" [(model)]=\\\"item.LoaiPTTTDisplay\\\"\\n                            [disabled]=\\\"true\\\">\\n                        </app-textbox>\\n\\n                        <app-combobox id=\\\"pp_vo_cam\\\" fxFlex=\\\"70%\\\" fxFlex.sm=\\\"70%\\\" label=\\\"PP Vô Cảm\\\"\\n                            class=\\\"item-no-padding\\\" [template]=\\\"phuongPhapVoCamTemplate\\\"\\n                            (selectionChange)=\\\"OnChangePhuongPhapVoCam($event, item)\\\"\\n                            url=\\\"KhamBenh/GetListPhuongPhapVoCam\\\" [templateHeader]=\\\"phuongPhapVoCamTemplateHeader\\\"\\n                            [(model)]=\\\"item.PhuongPhapVoCamId\\\" [modelText]=\\\"item.PhuongPhapVoCamDisplay\\\"\\n                            #phuongPhapVoCam>\\n                            <ng-template #phuongPhapVoCamTemplateHeader let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <th width=\\\"20%\\\">Mã</th>\\n                                        <th>Tên</th>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                            <ng-template #phuongPhapVoCamTemplate let-dataItem>\\n                                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                    <tr>\\n                                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                        <td>{{dataItem.Ten}}</td>\\n                                    </tr>\\n                                </table>\\n                            </ng-template>\\n                        </app-combobox>\\n\\n                        <app-textbox id=\\\"pttt_vien\\\" fxFlex=\\\"30%\\\" label=\\\"PTTT Viên\\\"\\n                            [(model)]=\\\"item.NhanVienThucHienDisplay\\\" [disabled]=\\\"true\\\">\\n                        </app-textbox>\\n\\n                        <app-combobox id=\\\"tinh_hinh_pttt\\\" fxFlex=\\\"70%\\\" fxFlex.sm=\\\"70%\\\" [(model)]=\\\"item.TinhHinhPttt\\\"\\n                            [modelText]=\\\"item.TinhHinhPtttDisplay\\\" label=\\\"Tình Hình PTTT\\\"\\n                            (selectionChange)=\\\"OnChangeTinhHinhPttt($event, item)\\\" url=\\\"KhamBenh/GetTinhHinhPttt\\\"\\n                            #tinhHinhPttt>\\n                        </app-combobox>\\n\\n                        <app-combobox id=\\\"tai_bien_pttt\\\" fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\" [(model)]=\\\"item.TaiBienPttt\\\"\\n                            (selectionChange)=\\\"OnChangeTaiBien($event, item)\\\" [modelText]=\\\"item.TaiBienPtttDisplay\\\"\\n                            label=\\\"Tai Biến PTTT\\\" url=\\\"KhamBenh/GetTaiBienPttt\\\" #taiBienPttt>\\n                        </app-combobox>\\n\\n                        <app-combobox id=\\\"tu_vong_pttt\\\" fxFlex=\\\"70%\\\" fxFlex.sm=\\\"70%\\\" [(model)]=\\\"item.TuVongPttt\\\"\\n                            [modelText]=\\\"item.TuVongPtttDisplay\\\" label=\\\"Tử Vong Trong PTTT\\\"\\n                            (selectionChange)=\\\"OnChangeTuVong($event, item)\\\" url=\\\"KhamBenh/GetTuVongPttt\\\" #tuVongPttt>\\n                        </app-combobox>\\n\\n                        <app-textarea id=\\\"trinh_tu_pttt\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"4000\\\"\\n                            (modelChange)=\\\"onChangeData()\\\" label=\\\"Trình tự phẫu thuật\\\" [(model)]=\\\"item.TrinhTuPttt\\\"\\n                            minHeight=\\\"20\\\" #trinhTuPttt\\n                            [validationerror]=\\\"'ListPttt['+i+'].TrinhTuPttt' | validationerror:validationErrors\\\">\\n                        </app-textarea>\\n\\n                        <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title\\\">LƯỢC ĐỒ PTTT\\n                            <button class=\\\"po-h\\\" color=\\\"primary\\\" (click)=\\\"UpLoadFile(item)\\\">\\n                                <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n                            </button>\\n                        </h3>\\n\\n                        <div fxFlex=\\\"100%\\\" class=\\\"mb-3\\\">\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                fxLayoutGap.lt-sm=\\\"0\\\">\\n                                <div fxFlex=\\\"25%\\\" *ngFor=\\\"let thongTinAnh of item.LuocDoPttts\\\">\\n                                    <div class=\\\"card overflow-hidden\\\"\\n                                        style=\\\"border: 1px solid #ccc;position: relative;\\\">\\n                                        <mat-icon [icIcon]=\\\"icClose\\\" class=\\\"icon-close\\\"\\n                                            (click)=\\\"DeleteAnh(thongTinAnh, item)\\\"></mat-icon>\\n                                        <div\\n                                            class=\\\"mat-ripple p-4 text-center hover:bg-hover trans-ease-out cursor-pointer relative\\\">\\n                                            <img (click)=\\\"ViewImage(thongTinAnh)\\\" src=\\\"{{thongTinAnh.LuocDoPhauThuat}}\\\"\\n                                                class=\\\"mx-auto\\\" />\\n                                        </div>\\n                                        <div class=\\\"bg-app-bar p-2\\\">\\n                                            <p>{{thongTinAnh.MoTa}}</p>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <label *ngIf=\\\"showValidationMoTa\\\" class=\\\"red\\\"\\n                            [innerHTML]=\\\"'ListPttt['+i+'].MoTa' | validationerror:validationErrors\\\"></label>\\n\\n                    </div>\\n                </ng-template>\\n            </kendo-panelbar-item>\\n        </kendo-panelbar>\\n    </div>\\n</div>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>XEM TRƯỚC KHI IN</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div style=\\\"overflow-y: auto;max-height: 553px;\\\">\\n        <!-- PHIẾU THU -->\\n        <table class=\\\"table table-border\\\" width=\\\"100%\\\">\\n            <tr style=\\\"background: #005dab;color:#fff;\\\">\\n                <th>PHIẾU KẾT QUẢ XÉT NGHIỆM</th>\\n            </tr>\\n            <tr *ngFor=\\\"let item of srcData; let i = index\\\">\\n                <td style=\\\"padding: 0;\\\">\\n                    <div class=\\\"container-iframe\\\">\\n                        <iframe width=\\\"100%\\\" [src]=\\\"item|safe\\\" allowTransparency=\\\"true\\\"\\n                            background=\\\"transparent\\\"></iframe>\\n                    </div>\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions align=\\\"end\\\">\\n    <app-print-form textPrint=\\\"IN PHIẾU KẾT QUẢ XÉT NGHIỆM\\\" type=\\\"PDF\\\" [event]=\\\"19\\\" typeSize=\\\"A4\\\" typeLayout=\\\"landscape\\\"\\n        (click)=\\\"InPhieu('InPhieuThuBenhNhanTraTien')\\\" [bodyComponent]=\\\"this\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\"","export default \"<p>phieu-kham-benh-popup works!</p>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div style=\\\"text-transform: uppercase;\\\">Phiếu khám bệnh ({{length}} file)</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\" [mat-dialog-close]=\\\"null\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"height: 550px;\\\">\\n    <div class=\\\"container-iframe\\\">\\n\\n        <div *ngIf=\\\"fileUrl != null && fileUrl != ''\\\" class=\\\"container-iframe\\\">\\n            <iframe width=\\\"100%\\\" height=\\\"550px\\\" frameborder=\\\"0\\\" [src]=\\\"fileUrl | safe\\\" type=\\\"application/pdf\\\"\\n                allowTransparency=\\\"true\\\" background=\\\"transparent\\\"></iframe>\\n        </div>\\n        <div *ngIf=\\\"length==0\\\">Không có dữ liệu</div>\\n\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions class=\\\"pb-5\\\">\\n    <button type=\\\"button\\\" style=\\\"margin-left: auto;\\\" [mat-dialog-close]=\\\"null\\\" mat-button class=\\\"mr-1 mt-4\\\"><i\\n            class=\\\"ft-arrow-left\\\"></i> Hủy</button>\\n    <button type=\\\"button\\\" *ngIf=\\\"length > 0\\\" (click)=\\\"downloadAllFile()\\\" mat-stroked-button color=\\\"primary\\\"\\n        class=\\\"mr-1 mt-4\\\">Tải tất cả</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Chỉnh Sửa Đơn Thuốc Chi Tiết</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"height: 270px;\\\">\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3\\\">\\n            <legend>\\n                Thông tin thuốc\\n            </legend>\\n\\n            <div fxLayout=\\\"column\\\">\\n                <ul class=\\\"inline\\\">\\n                    <li>Dược phẩm: &nbsp;<strong>{{keToaEdit.Ten}}</strong></li>\\n                    <li>Hoạt chất: &nbsp;<strong>{{keToaEdit.HoatChat}}</strong></li>\\n                    <li>Đơn vị tính: &nbsp;<strong>{{keToaEdit.DVT}}</strong></li>\\n                    <li>Đường dùng: &nbsp;<strong>{{keToaEdit.TenDuongDung}}</strong></li>\\n                    <li>Tương tác thuốc: &nbsp;<strong>{{keToaEdit.TuongTacThuoc}}</strong></li>\\n                    <li>Dị ứng: &nbsp;<strong>{{keToaEdit.DiUngThuocDisplay}}</strong></li>\\n                </ul>\\n            </div>\\n        </fieldset>\\n    </div>\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3 mt-3\\\">\\n            <legend>\\n                Thông tin chỉnh sửa\\n            </legend>\\n\\n            <div fxLayout=\\\"column\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                    style=\\\"padding-top: 16px;\\\">\\n                    <app-textboxnumeric id=\\\"SoLuongAdd\\\" fxFlex=\\\"9%\\\" [(model)]=\\\"keToaEdit.SoLuong\\\" min=\\\"1\\\"\\n                        max=\\\"999999999\\\" (modelChange)=\\\"SoLuongChange()\\\" label=\\\"Số lượng\\\" format=\\\"#.##\\\" [decimals]=\\\"2\\\"\\n                        [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\" required=\\\"true\\\">\\n                    </app-textboxnumeric>\\n\\n                    <app-textbox fxFlex=\\\"10%\\\" id=\\\"LieuDung\\\" label=\\\"Liều dùng/ngày\\\" [(model)]=\\\"keToaEdit.LieuDung\\\"\\n                        (modelChange)=\\\"LieuDungChange()\\\">\\n                    </app-textbox>\\n                    <app-autocomplete id=\\\"Sang\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\"\\n                        [(model)]=\\\"keToaEdit.SangDisplay\\\" label=\\\"Sáng\\\" placeHolder=\\\"SL\\\"\\n                        (openCombobox)=\\\"openCombobox($event)\\\" [popupSettings]=\\\"null\\\"\\n                        [validationerror]=\\\"'SangDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n                    </app-autocomplete>\\n                    <app-timepicker id=\\\"GioSang\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" [tabindex]=\\\"-1\\\"\\n                        [(model)]=\\\"keToaEdit.ThoiGianDungSang\\\" [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n                    </app-timepicker>\\n\\n                    <app-autocomplete id=\\\"Trua\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\"\\n                        [(model)]=\\\"keToaEdit.TruaDisplay\\\" label=\\\"Trưa\\\" placeHolder=\\\"SL\\\"\\n                        (openCombobox)=\\\"openCombobox($event)\\\" [popupSettings]=\\\"null\\\"\\n                        [validationerror]=\\\"'TruaDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n                    </app-autocomplete>\\n                    <app-timepicker id=\\\"GioTrua\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" [tabindex]=\\\"-1\\\"\\n                        [(model)]=\\\"keToaEdit.ThoiGianDungTrua\\\" [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n                    </app-timepicker>\\n\\n                    <app-autocomplete id=\\\"Chieu\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\"\\n                        [(model)]=\\\"keToaEdit.ChieuDisplay\\\" label=\\\"Chiều\\\" placeHolder=\\\"SL\\\"\\n                        (openCombobox)=\\\"openCombobox($event)\\\" [popupSettings]=\\\"null\\\"\\n                        [validationerror]=\\\"'ChieuDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n                    </app-autocomplete>\\n                    <app-timepicker id=\\\"GioChieu\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" [tabindex]=\\\"-1\\\"\\n                        [(model)]=\\\"keToaEdit.ThoiGianDungChieu\\\" [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n                    </app-timepicker>\\n\\n                    <app-autocomplete id=\\\"Toi\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\"\\n                        [(model)]=\\\"keToaEdit.ToiDisplay\\\" label=\\\"Tối\\\" placeHolder=\\\"SL\\\"\\n                        (openCombobox)=\\\"openCombobox($event)\\\" [popupSettings]=\\\"null\\\"\\n                        [validationerror]=\\\"'ToiDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n                    </app-autocomplete>\\n                    <app-timepicker id=\\\"GioToi\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\"\\n                        [(model)]=\\\"keToaEdit.ThoiGianDungToi\\\" [tabindex]=\\\"-1\\\" [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n                    </app-timepicker>\\n                    <app-textboxnumeric fxFlex=\\\"13%\\\" [(model)]=\\\"keToaEdit.SoNgayDung\\\" (modelChange)=\\\"SoNgayDungChange()\\\"\\n                        (change)=\\\"convertInt()\\\" min=\\\"0\\\" max=\\\"9999\\\" label=\\\"Số ngày\\\">\\n                    </app-textboxnumeric>\\n\\n                    <app-autocomplete fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"keToaEdit.GhiChu\\\" [popupSettings]=\\\"null\\\"\\n                        (keyup)=\\\"onKey($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\" [queryInfo]=\\\" {ParameterDependencies:'{LoaiDuocPhamHoacVatTu:' + 1 +'}',\\n                        Take: 50}\\\" url=\\\"KhamBenh/GetGhiChuDonThuocChiTietString\\\" label=\\\"Cách dùng\\\">\\n                    </app-autocomplete>\\n                </div>\\n            </div>\\n        </fieldset>\\n\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" mat-dialog-close>Hủy</button>\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" (click)=\\\"luuKeToa()\\\" mat-stroked-button color=\\\"primary\\\" class=\\\"md-primary\\\">Cập\\n        nhật</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div fxFlex=\\\"100%\\\">\\n        <h3 class=\\\"sub-title\\\" style=\\\"text-transform: none;\\\">THÊM DƯỢC PHẨM NGOÀI BỆNH VIỆN</h3>\\n    </div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"overflow: hidden;\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n        fxLayoutAlign=\\\"space-between\\\">\\n\\n        <app-textbox id=\\\"Ten\\\" fxFlex=\\\"50\\\" fxFlex.sm=\\\"25\\\" [required]=\\\"true\\\" maxlength=\\\"250\\\"\\n            [(model)]=\\\"thuocNgoaiBenhVien.Ten\\\" (keyup)=\\\"onKey($event)\\\" label=\\\"Tên dược phẩm\\\"\\n            [validationerror]=\\\"'Ten' | validationerror:validationErrors\\\">\\n        </app-textbox>\\n\\n        <app-combobox id=\\\"DuongDungId\\\" fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\" [(model)]=\\\"thuocNgoaiBenhVien.DuongDungId\\\"\\n            [required]=\\\"true\\\" [modelText]=\\\"thuocNgoaiBenhVien.TenDuongDung\\\" label=\\\"Đường dùng\\\" class=\\\"item-no-padding\\\"\\n            (openCombobox)=\\\"openCombobox($event)\\\" (keyup)=\\\"onKey($event)\\\" [template]=\\\"duongDungTemplate\\\"\\n            [templateHeader]=\\\"duongDungTemplateHeader\\\" url=\\\"DuocPham/GetDanhSachDuongDung\\\" popupSettings=\\\"null\\\"\\n            [validationerror]=\\\"'DuongDungId' | validationerror:validationErrors\\\">\\n            <ng-template #duongDungTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"20%\\\">Mã</th>\\n                        <th>Tên</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #duongDungTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                        <td>{{dataItem.Ten}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n\\n\\n        <app-combobox id=\\\"DonViTinhId\\\" fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\" [(model)]=\\\"thuocNgoaiBenhVien.DonViTinhId\\\"\\n            maxlength=\\\"500\\\" [required]=\\\"true\\\" [modelText]=\\\"thuocNgoaiBenhVien.TenDonViTinh\\\" label=\\\"Đơn vị tính\\\"\\n            (keyup)=\\\"onKey($event)\\\" class=\\\"item-no-padding\\\" [template]=\\\"donViTinhTemplate\\\"\\n            (openCombobox)=\\\"openCombobox($event)\\\" [templateHeader]=\\\"donViTinhTemplateHeader\\\"\\n            url=\\\"DonViTinh/GetDanhSachDonViTinh\\\" popupSettings=\\\"null\\\"\\n            [validationerror]=\\\"'DonViTinhId' | validationerror:validationErrors\\\">\\n            <ng-template #donViTinhTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"20%\\\">Mã</th>\\n                        <th>Tên</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #donViTinhTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                        <td>{{dataItem.Ten}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"10px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n            style=\\\"padding-top: 10px;\\\">\\n            <app-textboxnumeric id=\\\"SoLuongAdd\\\" fxFlex=\\\"9%\\\" [(model)]=\\\"thuocNgoaiBenhVien.SoLuong\\\" min=\\\"1\\\"\\n                max=\\\"999999999\\\" (modelChange)=\\\"SoLuongChange()\\\" label=\\\"SL\\\" format=\\\"#.##\\\" [decimals]=\\\"2\\\"\\n                (keyup)=\\\"onKey($event)\\\" [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\"\\n                required=\\\"true\\\">\\n            </app-textboxnumeric>\\n\\n            <app-textbox fxFlex=\\\"10%\\\" id=\\\"LieuDung\\\" label=\\\"L.dùng/ngày\\\" [(model)]=\\\"thuocNgoaiBenhVien.LieuDung\\\"\\n                (modelChange)=\\\"LieuDungChange()\\\">\\n            </app-textbox>\\n\\n            <app-autocomplete id=\\\"Sang\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\" (keyup)=\\\"onKey($event)\\\"\\n                [(model)]=\\\"thuocNgoaiBenhVien.SangDisplay\\\" label=\\\"Sáng\\\" placeHolder=\\\"SL\\\"\\n                (modelChange)=\\\"nhapDungCacBuoiTrongNgayThem($event, 'Sang')\\\" (onValueChange)=\\\"onValueChangeAdd('Sang')\\\"\\n                [validationerror]=\\\"'SangDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n            </app-autocomplete>\\n            <app-timepicker id=\\\"GioSang\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" (keyup)=\\\"onKey($event)\\\" [tabindex]=\\\"-1\\\"\\n                [(model)]=\\\"thuocNgoaiBenhVien.ThoiGianDungSang\\\" [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n            </app-timepicker>\\n\\n            <app-autocomplete id=\\\"Trua\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\" (keyup)=\\\"onKey($event)\\\"\\n                [(model)]=\\\"thuocNgoaiBenhVien.TruaDisplay\\\" label=\\\"Trưa\\\" placeHolder=\\\"SL\\\"\\n                (modelChange)=\\\"nhapDungCacBuoiTrongNgayThem($event, 'Trua')\\\" (onValueChange)=\\\"onValueChangeAdd('Trua')\\\"\\n                [validationerror]=\\\"'TruaDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n            </app-autocomplete>\\n            <app-timepicker id=\\\"GioTrua\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" (keyup)=\\\"onKey($event)\\\" [tabindex]=\\\"-1\\\"\\n                [(model)]=\\\"thuocNgoaiBenhVien.ThoiGianDungTrua\\\" [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n            </app-timepicker>\\n\\n            <app-autocomplete id=\\\"Chieu\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\" (keyup)=\\\"onKey($event)\\\"\\n                [(model)]=\\\"thuocNgoaiBenhVien.ChieuDisplay\\\" label=\\\"Chiều\\\" placeHolder=\\\"SL\\\"\\n                (modelChange)=\\\"nhapDungCacBuoiTrongNgayThem($event, 'Chieu')\\\"\\n                (onValueChange)=\\\"onValueChangeAdd('Chieu')\\\"\\n                [validationerror]=\\\"'ChieuDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n            </app-autocomplete>\\n            <app-timepicker id=\\\"GioChieu\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\" (keyup)=\\\"onKey($event)\\\"\\n                [tabindex]=\\\"-1\\\" [(model)]=\\\"thuocNgoaiBenhVien.ThoiGianDungChieu\\\" [modelIsNumber]=\\\"true\\\"\\n                moreClass=\\\"pl-0\\\">\\n            </app-timepicker>\\n\\n            <app-autocomplete id=\\\"Toi\\\" fxFlex=\\\"7%\\\" [dataList]=\\\"thoiGianDonThuocDataSource\\\" (keyup)=\\\"onKey($event)\\\"\\n                [(model)]=\\\"thuocNgoaiBenhVien.ToiDisplay\\\" label=\\\"Tối\\\" placeHolder=\\\"SL\\\"\\n                (modelChange)=\\\"nhapDungCacBuoiTrongNgayThem($event, 'Toi')\\\" (onValueChange)=\\\"onValueChangeAdd('Toi')\\\"\\n                [validationerror]=\\\"'ToiDisplay' | validationerror:validationErrors\\\" class=\\\"pr-0\\\">\\n            </app-autocomplete>\\n            <app-timepicker id=\\\"GioToi\\\" fxFlex=\\\"10%\\\" label=\\\"\\\" placeHolder=\\\"Giờ\\\"\\n                [(model)]=\\\"thuocNgoaiBenhVien.ThoiGianDungToi\\\" [tabindex]=\\\"-1\\\" (keyup)=\\\"onKey($event)\\\"\\n                [modelIsNumber]=\\\"true\\\" moreClass=\\\"pl-0\\\">\\n            </app-timepicker>\\n\\n            <app-textboxnumeric fxFlex=\\\"13%\\\" [(model)]=\\\"thuocNgoaiBenhVien.SoNgayDung\\\" min=\\\"0\\\"\\n                (modelChange)=\\\"SoNgayDungChange()\\\" (change)=\\\"convertInt()\\\" (keyup)=\\\"onKey($event)\\\" max=\\\"9999\\\"\\n                label=\\\"Số ngày\\\">\\n            </app-textboxnumeric>\\n\\n            <app-autocomplete fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"thuocNgoaiBenhVien.GhiChu\\\"\\n                (keyup)=\\\"onKey($event)\\\"\\n                [queryInfo]=\\\"{ParameterDependencies:'{LoaiDuocPhamHoacVatTu:' + 1 +'}', Take: 50}\\\"\\n                url=\\\"KhamBenh/GetGhiChuDonThuocChiTietString\\\" label=\\\"Cách dùng\\\" (openCombobox)=\\\"openCombobox($event)\\\">\\n            </app-autocomplete>\\n        </div>\\n\\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" style=\\\"margin-top:10px\\\">\\n    <button mat-stroked-button color=\\\"primary\\\" (click)=\\\"huy()\\\" mat-dialog-close>Hủy</button>\\n    <button type=\\\"button\\\" (click)=\\\"luuDuocPham()\\\" cdkFocusInitial mat-raised-button mat-button\\n        color=\\\"primary\\\">Thêm</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Hình Ảnh / PDF Kết Quả Cận Lâm Sàng</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\" (click)=\\\"close('No answer')\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <!-- <div class=\\\"mb-3\\\" *ngIf=\\\"ListImage != null\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <div fxFlex=\\\"20%\\\" *ngFor=\\\"let thongTinAnh of ListImage\\\">\\n                <div class=\\\"card overflow-hidden\\\" style=\\\"border: 1px solid #ccc;position: relative;\\\">\\n                    <div class=\\\"mat-ripple p-4 text-center hover:bg-hover trans-ease-out cursor-pointer relative\\\">\\n                        <img (click)=\\\"ViewImagePDF(thongTinAnh,1)\\\" src=\\\"{{thongTinAnh}}\\\"\\n                            style=\\\"width: 150px;height: 150px;\\\" />\\n                    </div>\\n                    <div class=\\\"bg-app-bar p-2\\\" (click)=\\\"ViewImagePDF(thongTinAnh,1)\\\">\\n                        <p>{{data.Model.NoiDung}}</p>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"mb-3\\\" *ngIf=\\\"listPdf != null\\\" >\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <div fxFlex=\\\"20%\\\" *ngFor=\\\"let thongTinAnh of listPdf\\\">\\n                <div class=\\\"card overflow-hidden\\\" style=\\\"border: 1px solid #ccc;position: relative;\\\" >\\n                    <div class=\\\"mat-ripple p-4 text-center hover:bg-hover trans-ease-out cursor-pointer relative\\\">\\n                        <button type=\\\"button\\\" mat-icon-button tabindex=\\\"-1\\\"  class=\\\"button\\\" (click)=\\\"ViewImagePDF(thongTinAnh,2)\\\">\\n                            <mat-icon [icIcon]=\\\"IcPDF\\\" class =\\\"zoom\\\" style=\\\"color: red;width: 150px;\\\"></mat-icon>\\n                        </button>\\n                    </div>\\n                    <div class=\\\"bg-app-bar p-2\\\" (click)=\\\"ViewImagePDF(thongTinAnh,2)\\\">\\n                        <p>{{data.Model.NoiDung}}</p>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div> -->\\n    <div class=\\\"mb-3\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <app-grid fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [gridDataSource]=\\\"gridDataSource\\\" [useHeaderDefault]=\\\"false\\\"\\n                [gridColumns]=\\\"gridColumns\\\" [useActionDefault]=\\\"false\\\"\\n                [useAddDeault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\"\\n                style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\" >\\n            </app-grid>\\n        </div>\\n    </div>\\n    <ng-template #headerTemplate let-dataItem>\\n        <div class=\\\"text-center\\\">\\n            <button type=\\\"button\\\"  mat-raised-button mat-button (click)=\\\"downloadFileAll(data.Model.TenGuidList)\\\">\\n                Tải tất cả\\n            </button>\\n        </div>\\n    </ng-template>\\n    <ng-template #actionTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        <div fxFlex=\\\"100%\\\" >\\n            <button type=\\\"button\\\" fxFlex=\\\"50%\\\"  style=\\\"float: right;padding-right: 5px;\\\"color=\\\"primary\\\" mat-raised-button mat-button (click)=\\\"ViewImagePDF(dataItem)\\\" *ngIf=\\\"dataItem.LoaiTapTin !== 10\\\">\\n                Xem\\n            </button>\\n            <span fxFlex=\\\"5px\\\" ></span>\\n            <span fxFlex=\\\"50%\\\" *ngIf=\\\"dataItem.LoaiTapTin === 10\\\"></span>\\n            <button type=\\\"button\\\" fxFlex=\\\"50%\\\"  style=\\\"float: right;\\\" color=\\\"primary\\\" mat-raised-button mat-button (click)=\\\"downloadFile(dataItem)\\\">\\n                Tải\\n            </button>\\n        </div>\\n    </ng-template>\\n</mat-dialog-content>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>XEM TRƯỚC KHI IN</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"overflow:hidden\\\">\\n    <div class=\\\"container-iframe\\\">\\n        <iframe width=\\\"100%\\\" style=\\\"height: 500px;\\\" [src]=\\\"src| safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <app-print-form textPrint=\\\"In\\\" type=\\\"PDF\\\" [event]=\\\"modelPrint\\\" [bodyComponent]=\\\"this\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>{{Title}}</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"overflow:unset !important\\\">\\n    <div [innerHtml]=\\\"Message\\\"></div>\\n    <app-grid [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\"\\n        [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\" [lazyLoadPage]=\\\"true\\\"\\n        [gridDataSource]=\\\"goiLaiYeuCauXetNghiem.DanhSachGoiXetNghiemLais\\\" [pageable]=\\\"false\\\">\\n    </app-grid>\\n    <div style=\\\"margin-top: 10px;\\\"></div>\\n    <app-textarea class=\\\"mt-3\\\" id=\\\"lyDo\\\" label=\\\"Lý do\\\" [(model)]=\\\"goiLaiYeuCauXetNghiem.LyDo\\\" maxlength=\\\"1000\\\"\\n        [required]=\\\"true\\\" minHeight=\\\"60\\\" [validationerror]=\\\"'LyDo' | validationerror:validationErrors\\\">\\n    </app-textarea>\\n    <ng-template #actionTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n        <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"2px\\\">\\n            <app-checkbox [(model)]=\\\"dataItem.GoiLai\\\" label=\\\"\\\" (modelChange)=\\\"trangThaiCheckBox($event)\\\">\\n            </app-checkbox>\\n        </div>\\n    </ng-template>\\n    <ng-template #actionTooltipTemplate let-dataItem>\\n        <ng-template #templateInfo let-dataItem>\\n            <table class=\\\"table table-border\\\" width=\\\"100%\\\">\\n                <tr>\\n                    <td>Người thực hiện : {{dataThongTin[0].NguoiThucHien}}</td>\\n                </tr>\\n                <tr>\\n                    <td>Ngày thực hiện : {{dataThongTin[0].NgayThucHien}}</td>\\n                </tr>\\n                <tr>\\n                    <td>Người kết luận : {{dataThongTin[0].BacSiKetLuan}}</td>\\n                </tr>\\n                <tr>\\n                    <td>Ngày kết luận : {{dataThongTin[0].NgayKetLuan}}</td>\\n                </tr>\\n                <tr>\\n                    <td>Chuẩn đoán : {{dataThongTin[0].ChuanDoan}}</td>\\n                </tr>\\n            </table>\\n        </ng-template>\\n        <div class=\\\"kho-tong-ton-ng-template\\\" kendoTooltip>\\n            <span class=\\\"kho-tong-ton-ng-template\\\" kendoTooltip #tooltip=\\\"kendoTooltip\\\" tooltipClass=\\\"tooltip-block\\\"\\n                position=\\\"left\\\" [tooltipTemplate]=\\\"templateInfo\\\" filter=\\\"*\\\">\\n                <span (mouseover)=\\\"TooltipCustom(dataItem)\\\" class=\\\"info\\\">{{dataItem.NhomDichVu}}</span>\\n            </span>\\n        </div>\\n    </ng-template>\\n</mat-dialog-content>\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <button mat-button (click)=\\\"close('No')\\\">{{ButtonNo}}</button>\\n    <button *ngIf=\\\"kiemTraNhomXetNghiem\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"close('Yes')\\\">{{ButtonYes}}</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>XEM TRƯỚC KHI IN</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"overflow:hidden\\\">\\n    <div class=\\\"container-iframe\\\">\\n        <iframe width=\\\"100%\\\" style=\\\"height: 500px;\\\" [src]=\\\"src| safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <app-print-form textPrint=\\\"In\\\" type=\\\"PDF\\\" [event]=\\\"modelPrint\\\" [bodyComponent]=\\\"this\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>Ngày nghỉ dưỡng thai</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n\\n</div>\\n<mat-dialog-content style=\\\"overflow:hidden\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <app-datepicker id=\\\"TuNgay\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\" [(model)]=\\\"capNhatPhieuDuongThai.TuNgay\\\"\\n             label=\\\"Từ ngày\\\"  required=\\\"true\\\"\\n             [validationerror]=\\\"'TuNgay' | validationerror:validationErrors\\\">\\n        </app-datepicker>\\n        <app-datepicker id=\\\"DenNgay\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\" [(model)]=\\\"capNhatPhieuDuongThai.DenNgay\\\"\\n            required=\\\"true\\\" label=\\\"Đến ngày\\\"\\n            [validationerror]=\\\"'DenNgay' | validationerror:validationErrors\\\">\\n        </app-datepicker>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-raised-button mat-button (click)=\\\"close()\\\">Hủy</button>\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button (click)=\\\"xacNhan()\\\">Xác nhận</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div></div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"overflow:hidden\\\">\\n    <div class=\\\"container-iframe\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                <span fxFlex=\\\"30%\\\">\\n                     Biểu hiện lâm sàng:\\n                </span>\\n                <app-textarea fxFlex=\\\"70%\\\" id=\\\"BieuHienLamSang\\\" [(model)]=\\\"xetNghiemCovid.BieuHienLamSang\\\" \\n                 minHeight=\\\"20\\\">\\n                </app-textarea>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                <span fxFlex=\\\"30%\\\">\\n                     Dịch tễ SARS-CoV 2:\\n                </span>\\n                <app-textarea id=\\\"DichTeSarsCoV2\\\" [(model)]=\\\"xetNghiemCovid.DichTeSarsCoV2\\\" fxFlex=\\\"70%\\\"\\n                 minHeight=\\\"20\\\">\\n            </app-textarea>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                <span >\\n                     Loại bệnh án: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>{{xetNghiemCovid.LoaiBenhPham}}</b>\\n                </span>\\n            </div>\\n        </div>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" (click)=\\\"save()\\\" mat-raised-button mat-button color=\\\"primary\\\"\\n        class=\\\"md-primary\\\">Lưu</button>\\n</mat-dialog-actions> \"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div style=\\\"text-transform: uppercase\\\">Xác nhận</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"min-height: 150px;\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <div fxFlex=\\\"100\\\" fxFlex.sm=\\\"100\\\">Bạn có chắc chắn muốn chuyển bệnh nhân đang chọn qua phòng khác không?</div>\\n        <div fxFlex=\\\"100\\\" fxFlex.sm=\\\"100\\\">Nếu có hãy chọn phòng chuyển đến: </div>\\n        <app-combobox id=\\\"phongThucHien\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Phòng chuyển đến\\\" bind=\\\"true\\\"\\n            [(model)]=\\\"phongThucHienId\\\" [required]=\\\"true\\\" [reloadForGrid]=\\\"true\\\" url=\\\"KhamBenh/GetListPhongThucHienDichVuTrongKhoaHienTai\\\"\\n            [queryInfo]=\\\"{ParameterDependencies: hangDoiIdStr, Take: 50}\\\" [templateHeader]=\\\"phongTemplateHeader\\\" [template]=\\\"phongTemplate\\\"\\n            [autoSelectFirstItem]=\\\"true\\\"\\n            popupSettings=\\\"null\\\" [validationerror]=\\\"'PhongThucHienId' | validationerror:validationErrors\\\">\\n            <ng-template #phongTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"20%\\\">Mã</th>\\n                        <th>Tên</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #phongTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                        <td>{{dataItem.Ten}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"null\\\">Hủy</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"xuLyChuyenPhongThucHienDichVuKham()\\\">Chuyển phòng</button>\\n</mat-dialog-actions>\"","export default \"<app-kham-benh-lich-su-kham-list [BenhNhan]=\\\"benhNhanId\\\" \\n    [YeuCauTiepNhanId]=\\\"yeuCauTiepNhanId\\\">\\n</app-kham-benh-lich-su-kham-list>\"","export default \"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-16\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <vex-breadcrumbs [crumbs]=\\\"[\\n                    {Title:'Khám Bệnh',Path:''},\\n                    {Title:'Lịch Sử Khám Bệnh',Path:'/lich-su-kham-benh', queryParams: {holdQuery : true}},\\n                    {Title:'Lịch Sử Khám Bệnh Chi Tiết',Path:'', Active:true} \\n\\n                    ]\\\">\\n            </vex-breadcrumbs>\\n\\n        </div>\\n    </vex-page-layout-header>\\n\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div class=\\\"-mt-16\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n                <div class=\\\"card\\\" fxFlex=\\\"100%\\\">\\n                    <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\" style=\\\"position: relative;\\\">\\n                        <div class=\\\"row mb-3\\\">\\n                            <fieldset fxFlex=\\\"100%\\\" class=\\\"{{(thongTinBenhNhan != undefined && thongTinBenhNhan != null && thongTinBenhNhan.LaCapCuu == true) ? 'bg-tthc-lightpink' : 'bg-tthc-lightblue'}}\\\">\\n                                <legend class=\\\"sub-title\\\">Thông tin hành chính</legend>\\n                                <div fxFlex=\\\"100%\\\">\\n                                    <ul class=\\\"inline\\\">\\n                                        <li>Mã TN:\\n                                            <strong>{{thongTinBenhNhan.MaYeuCauTiepNhan}}</strong>\\n                                        </li>\\n                                        <li>Mã NB:\\n                                            <strong>{{thongTinBenhNhan.MaBN}}</strong>\\n                                        </li>\\n                                        <li>Họ tên:\\n                                            <strong>{{thongTinBenhNhan.HoTen}}</strong>\\n                                        </li>\\n                                        <li>Giới tính:\\n                                            <strong>{{thongTinBenhNhan.TenGioiTinh}}</strong>\\n                                        </li>\\n                                        <ng-container *ngIf=\\\"thongTinBenhNhan.LoaiYeuCauTiepNhan != 6\\\">\\n                                            <li>Tuổi:\\n                                                <strong>{{thongTinBenhNhan.TuoiThoiDiemHienTai}}</strong>\\n                                            </li>\\n                                        </ng-container>\\n                                        <ng-container *ngIf=\\\"thongTinBenhNhan.LoaiYeuCauTiepNhan == 6\\\">\\n                                            <li>Năm sinh:\\n                                                <strong>{{thongTinBenhNhan.NamSinh}}</strong>\\n                                            </li>\\n                                        </ng-container>\\n                                        <li>SĐT:\\n                                            <strong>{{thongTinBenhNhan.SoDienThoai}}</strong>\\n                                        </li>\\n                                        <li>Dân tộc:\\n                                            <strong>{{thongTinBenhNhan.DanToc}}</strong>\\n                                        </li>\\n                                        <li>Địa chỉ:\\n                                            <strong>{{thongTinBenhNhan.DiaChi}}</strong>\\n                                        </li>\\n                                    </ul><br>\\n                                    <ul class=\\\"inline\\\">\\n                                        <li>Nghề nghiệp:\\n                                            <strong>{{thongTinBenhNhan.NgheNghiep}}</strong>\\n                                        </li>\\n                                        <ng-container *ngIf=\\\"thongTinBenhNhan.LoaiYeuCauTiepNhan != 6\\\">\\n                                            <li>Tuyến khám:\\n                                                <strong style=\\\"color: green;\\\">{{thongTinBenhNhan.TuyenKham}}</strong>\\n                                            </li>\\n                                            <li>Số BHYT:\\n                                                <strong>{{thongTinBenhNhan.SoBHYT}}</strong>\\n                                            </li>\\n                                            <li>Mức hưởng:\\n                                                <strong *ngIf=\\\"thongTinBenhNhan.BHYTMucHuong != null\\\"\\n                                                    style=\\\"color: blue;\\\">{{thongTinBenhNhan.BHYTMucHuong}}%</strong>\\n                                            </li>\\n                                            <li>Ngày hiệu lực:\\n                                                <strong [style.color]=\\\"thongTinBenhNhan.IsBHYTHetHan ? 'red' : ''\\\">\\n                                                    {{thongTinBenhNhan.BHYTThoiGianHieuLucDisplay}}</strong>\\n                                            </li>\\n                                            <li>Lý do TN:\\n                                                <strong>{{thongTinBenhNhan.TenLyDoTiepNhan}}</strong>\\n                                            </li>\\n                                            <li>Lý do khám bệnh:\\n                                                <strong>{{thongTinBenhNhan.TenLyDoKhamBenh}}</strong>\\n                                            </li>\\n                                            <li>Ngày TN:\\n                                                <strong>{{thongTinBenhNhan.ThoiDiemTiepNhanDisplay}}</strong>\\n                                            </li>\\n                                        </ng-container>\\n                                        <ng-container *ngIf=\\\"thongTinBenhNhan.LoaiYeuCauTiepNhan == 6\\\">\\n                                            <li>Công ty:\\n                                                <strong style=\\\"color: red;\\\">{{thongTinBenhNhan.TenCongTy}}</strong>\\n                                            </li>\\n                                        </ng-container>\\n                                    </ul>\\n                                </div>\\n                                <!-- <div>\\n                                    <ul class=\\\"inline\\\">\\n                                        <li>Nghề nghiệp:\\n                                            <strong>{{thongTinBenhNhan.NgheNghiep}}</strong>\\n                                        </li>\\n                                        <li>Tuyến khám:\\n                                            <strong style=\\\"color: green;\\\">{{thongTinBenhNhan.TuyenKham}}</strong>\\n                                        </li>\\n                                        <li>Mức hưởng:\\n                                            <strong style=\\\"color: blue;\\\">{{thongTinBenhNhan.BHYTMucHuong}}%</strong>\\n                                        </li>\\n                                    </ul>\\n                                </div> -->\\n                            </fieldset>\\n                        </div>\\n                        <div class=\\\"row\\\">\\n                            <div fxFlex=\\\"100%\\\">\\n                                <kendo-tabstrip fxFlex=\\\"100%\\\"\\n                                    class=\\\"content-has-border tabstrip-pad sticky-kendotab-item tabstrip-on-popup\\\">\\n                                    <kendo-tabstrip-tab [title]=\\\"'KHÁM BỆNH'\\\" [selected]=\\\"true\\\">\\n                                        <ng-template kendoTabContent>\\n                                            <app-lich-su-kham-benh [BenhNhan]=\\\"BenhNhan\\\" *ngIf=\\\"isShowKhamBenh\\\"\\n                                                [yeuCauKhamBenhId]=\\\"yeuCauKhamBenhId\\\"\\n                                                [YeuCauTiepNhanId]=\\\"yeuCauTiepNhanId\\\">\\n                                            </app-lich-su-kham-benh>\\n                                        </ng-template>\\n                                    </kendo-tabstrip-tab>\\n\\n                                    <kendo-tabstrip-tab [title]=\\\"'CHỈ ĐỊNH'\\\">\\n                                        <ng-template kendoTabContent>\\n                                            <app-lich-su-kham-benh-chi-dinh [yeuCauKhamBenhId]=\\\"yeuCauKhamBenhId\\\"\\n                                                [yeuCauTiepNhanId]=\\\"yeuCauTiepNhanId\\\">\\n                                            </app-lich-su-kham-benh-chi-dinh>\\n                                        </ng-template>\\n                                    </kendo-tabstrip-tab>\\n\\n                                    <kendo-tabstrip-tab [title]=\\\"'KQ CLS'\\\">\\n                                        <ng-template kendoTabContent>\\n                                            <app-lich-su-kham-benh-ket-qua-cls [YeuCauTiepNhanId]=\\\"yeuCauTiepNhanId\\\"> \\n                                                <!-- to do  -->\\n                                           </app-lich-su-kham-benh-ket-qua-cls>\\n                                        </ng-template>\\n                                    </kendo-tabstrip-tab>\\n\\n                                    <kendo-tabstrip-tab [title]=\\\"'CHẨN ĐOÁN'\\\">\\n                                        <ng-template kendoTabContent>\\n                                            <app-lich-su-kham-benh-ket-luan [BenhNhan]=\\\"BenhNhan\\\"\\n                                                [yeuCauKhamBenhId]=\\\"yeuCauKhamBenhId\\\">\\n                                            </app-lich-su-kham-benh-ket-luan>\\n                                        </ng-template>\\n                                    </kendo-tabstrip-tab>\\n\\n                                    <!-- <kendo-tabstrip-tab [title]=\\\"'TƯỜNG TRÌNH PT/TT'\\\"\\n                                        *ngIf=\\\"coPhauThuatThuThuat == true\\\">\\n                                        <ng-template kendoTabContent>\\n                                            <app-lich-su-kham-benh-phau-thuat-thu-thuat\\n                                                [yeuCauKhamBenhId]=\\\"yeuCauKhamBenhId\\\">\\n                                            </app-lich-su-kham-benh-phau-thuat-thu-thuat>\\n                                        </ng-template>\\n                                    </kendo-tabstrip-tab> -->\\n\\n                                </kendo-tabstrip>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"row pt-4\\\">\\n                            <button type=\\\"button\\\" color=\\\"default\\\" title=\\\"Phím tắt: Esc\\\" (click)=\\\"quayLai()\\\"\\n                                mat-raised-button mat-button class=\\\"float-right\\\">\\n                                Quay lại</button>\\n                        </div>\\n\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </vex-page-layout-content>\\n\\n</vex-page-layout>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n\\t<div></div>\\n\\t<button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n\\t\\t<mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n\\t</button>\\n</div>\\n<mat-dialog-content>\\n\\t<div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n\\t\\t<fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\" *ngIf=\\\"dataKhiRemove.length != 0\\\">\\n\\t\\t\\t<table class=\\\"table table-border\\\" width=\\\"100%\\\" *ngFor=\\\"let item of dataKhiRemove\\\">\\n\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t<td width=\\\"100%\\\">\\n\\t\\t\\t\\t\\t\\t<app-checkbox fxFlex=\\\"100%\\\" label=\\\"{{item.KetQuaCLS}}\\\" [(model)]=\\\"item.IsCheck\\\"> </app-checkbox>\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t</table>\\n\\t\\t</fieldset>\\n\\t\\t<div *ngIf=\\\"dataKhiRemove.length == 0\\\">\\n\\t\\t\\tHiện không có kết quả mẫu nào.\\n\\t\\t</div>\\n\\t</div>\\n\\t<hr style=\\\" border: 1px solid black; margin-top: 15px;\\\">\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n\\t<!-- <button mat-button mat-dialog-close color=\\\"primary\\\" (click)=\\\"Ok()\\\">Ok</button> -->\\n\\t<button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button (click)=\\\"Ok()\\\">Ok</button>\\n</mat-dialog-actions>\"","export default \"<ng-container>\\n    <div *ngIf=\\\"khamDoanKetQuaMaus.length == 0\\\">\\n        Hiện không có kết quả mẫu nào.\\n    </div>\\n    <div *ngIf=\\\"khamDoanKetQuaMaus.length > 0\\\">\\n        <div *ngFor=\\\"let item of khamDoanKetQuaMaus\\\">\\n            <app-checkbox [(model)]=\\\"item.IsCheck\\\" label=\\\"{{item.Value}}\\\" class=\\\"pb-0\\\">\\n            </app-checkbox>\\n        </div>\\n    </div>\\n\\n\\n</ng-container>\\n<hr style=\\\" border: 1px solid black; margin-top: 15px;\\\">\\n<div style=\\\"float: right;\\\">\\n    <button type=\\\"button\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" color=\\\"primary\\\" (click)=\\\"ok()\\\">OK</button>\\n</div>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div  fxFlex=\\\"100%\\\">\\n        <span fxFlex=\\\"20%\\\" style=\\\"padding-top: 20px;\\\">XEM TRƯỚC KHI IN</span> \\n        <app-radio fxFlex=\\\"40%\\\" id=\\\"IsDisabled\\\" name=\\\"IsOfficial\\\"\\n            [items]=\\\"[{ Value: true, Text: 'In theo nhóm' }, { Value: false, Text: 'In theo số thứ tự' }]\\\"\\n            [(model)]=\\\"ChonKieuInChung\\\" label=\\\"Chọn Kiểu In\\\"\\n            (modelChange)=\\\"changeKieuIn($event)\\\"\\n            [hidden]=\\\"!showLoaiPhieuIn\\\">\\n        </app-radio>\\n    </div>\\n   \\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div class=\\\"container-iframe\\\">\\n        <iframe width=\\\"100%\\\" height=\\\"100%\\\" [src]=\\\"src | safe\\\" allowTransparency=\\\"true\\\" background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <app-print-form textPrint=\\\"In Phiếu Chỉ Định\\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"{{printSize}}\\\"\\n        [typeLayout]=\\\"printLayout\\\" [bodyComponent]=\\\"this\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>IN DỊCH VỤ</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close('No')\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content [ngStyle]=\\\"{'height':luaChon == 1 || luaChon == 2 ? '150px': '500px'}\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <app-radio id=\\\"chon-loai-dv\\\" name=\\\"select\\\" class=\\\"no-format-css pl-4 temp\\\" [(model)]=\\\"luaChon\\\"\\n            (modelChange)=\\\"changeLuaChon($event)\\\"\\n            [items]=\\\"[{Value:1,Text:'Tất cả'},{Value:2,Text:'Theo nhóm'},{Value:3,Text:'Theo dịch vụ'}]\\\">\\n        </app-radio>\\n        <span [style.display]=\\\"luaChon== 2 &&  data.Model.EnumInChiDinhKhamBenhNgoaiTru == 1 ? 'block':'none'\\\"\\n            fxFlex=\\\"100%\\\">\\n            <app-grid #gridTheoNhom [gridColumns]=\\\"gridColumnsNhomNgoaiTru\\\" [gridDataSource]=\\\"gridDataSource\\\"\\n                [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" (extCheckboxSelection)=\\\"extCheckboxSelection($event)\\\"\\n                [triggerSelectAll]=\\\"true\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\"\\n                [pageable]=\\\"false\\\">\\n            </app-grid>\\n        </span>\\n        <span [style.display]=\\\"luaChon == 3 &&  data.Model.EnumInChiDinhKhamBenhNgoaiTru == 1? 'block':'none'\\\"\\n            fxFlex=\\\"100%\\\">\\n            <app-grid #gridTheoDichVu [gridColumns]=\\\"gridColumnsDichVuNgoaiTru\\\" [gridDataSource]=\\\"gridDataSource\\\" [autoRefreshDataSource]=\\\"true\\\"\\n                [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" (extCheckboxSelection)=\\\"extCheckboxSelection($event)\\\"\\n                [triggerSelectAll]=\\\"true\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\" [headerTemplate]=\\\"headerTemplate\\\"\\n                [pageable]=\\\"true\\\" [groups]=\\\"groups\\\">\\n            </app-grid>\\n        </span>\\n        <ng-template #headerTemplate>\\n            <div class=\\\"bg-app-bar p-0 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\" *ngIf=\\\"luaChon == 3\\\">\\n                <div style=\\\"margin-top: 5px;\\\" class=\\\"bg-card rounded-full border mb-1 ml-2\\\" fxFlex=\\\"400px\\\"\\n                    fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n                    <ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n                    <input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n                        type=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"searchString\\\" (keyup)=\\\"onKey($event)\\\"\\n                        (ngModelChange)=\\\"searchChanges()\\\"\\n                        placeholder=\\\"Nhập từ khóa...\\\" />\\n                </div>\\n            </div>\\n        </ng-template>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\" style=\\\"padding-bottom: 15px;\\\">\\n    <ng-container *ngIf=\\\"data.Model.EnumInChiDinhKhamBenhNgoaiTru == 1 && data.Model.Loai == 1\\\">\\n        <button type=\\\"button\\\" color=\\\"primary\\\" class=\\\"mr-1\\\" mat-raised-button (click)=\\\"InDichVuChiDinh(1)\\\"\\n            >\\n            In Chung</button>\\n        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"InDichVuChiDinh(0)\\\" >\\n            In Chỉ Định</button>\\n    </ng-container>\\n    <ng-container *ngIf=\\\"data.Model.EnumInChiDinhKhamBenhNgoaiTru == 1  && data.Model.Loai == 2\\\">\\n        <button type=\\\"button\\\" color=\\\"primary\\\" class=\\\"mr-1\\\" mat-raised-button (click)=\\\"InChiDinhNoiTru(1)\\\"\\n            >\\n            In Chung</button>\\n        <button (click)=\\\"InChiDinhNoiTru(0)\\\" type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button>In\\n            Chỉ Định</button>\\n    </ng-container>\\n    <ng-container *ngIf=\\\"data.Model.EnumInChiDinhKhamBenhNgoaiTru == 1 && data.Model.Loai == 3\\\">\\n        <button type=\\\"button\\\" color=\\\"primary\\\" class=\\\"mr-1\\\" mat-raised-button (click)=\\\"InChiDinhPTTT(1)\\\"\\n            >\\n            In Chung</button>\\n        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"InChiDinhPTTT(0)\\\" >\\n            In Chỉ Định</button>\\n    </ng-container>\\n</mat-dialog-actions>\\n<ng-template #nhomTemplate let-value=\\\"value\\\" let-dataItem>\\n    {{value}}\\n</ng-template>\\n\\n<ng-template #checkBoxHeaderTemplate let-dataItem>\\n    <input type=\\\"checkbox\\\" id=\\\"vehicle1\\\" name=\\\"vehicle1\\\" [(ngModel)]=\\\"checkAll\\\"\\n        (ngModelChange)=\\\"SelectcheckAllboxIn($event)\\\">\\n</ng-template>\\n<ng-template #checkBoxTemplate let-dataItem>\\n    <input type=\\\"checkbox\\\" id=\\\"vehicle1\\\" [(ngModel)]=\\\"dataItem.isCheckRowItem\\\" name=\\\"vehicle1\\\"\\n        (ngModelChange)=\\\"checkboxIn($event,dataItem)\\\">\\n</ng-template>\\n\\n<ng-template #checkBoxHeaderGroupTemplate let-dataItem>\\n    <input type=\\\"checkbox\\\" id=\\\"vehicle1\\\" name=\\\"vehicle1\\\" [(ngModel)]=\\\"checkAll\\\"\\n        (ngModelChange)=\\\"SelectcheckAllboxInGroup($event)\\\">\\n</ng-template>\\n<ng-template #checkBoxGroupTemplate let-dataItem>\\n    <input type=\\\"checkbox\\\" id=\\\"vehicle1\\\" [(ngModel)]=\\\"dataItem.isCheckRowItem\\\" name=\\\"vehicle1\\\"\\n        (ngModelChange)=\\\"checkboxInGroup($event,dataItem)\\\">\\n</ng-template>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LayoutComponent } from './layout.component';\nimport { RouterModule } from '@angular/router';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatIconModule } from '@angular/material/icon';\nimport { SidenavModule } from './sidenav/sidenav.module';\nimport { ToolbarModule } from './toolbar/toolbar.module';\nimport { QuickpanelModule } from '../components/quickpanel/quickpanel.module';\nimport { ConfigPanelModule } from '../components/config-panel/config-panel.module';\nimport { SidebarModule } from '../components/sidebar/sidebar.module';\nimport { ProgressBarModule } from '../components/progress-bar/progress-bar.module';\nimport { FooterModule } from '../components/footer/footer.module';\nimport { SearchModule } from '../components/search/search.module';\nimport { ToasterModule } from 'angular2-toaster';\n\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    RouterModule,\n    MatSidenavModule,\n    MatButtonModule,\n    MatToolbarModule,\n    MatIconModule,\n    SidenavModule,\n    ToolbarModule,\n    QuickpanelModule,\n    ConfigPanelModule,\n    SidebarModule,\n    ProgressBarModule,\n    FooterModule,\n    SearchModule,\n    ToasterModule\n  ]\n})\nexport class LayoutModule {\n}\n","export default \"ul {\\n  margin: 0;\\n}\\n\\nul.dashed {\\n  list-style-type: none;\\n}\\n\\nul.dashed > li {\\n  text-indent: -5px;\\n  padding: 1px 0px 1px 0px;\\n}\\n\\nul.dashed > li:before {\\n  content: \\\"- \\\";\\n  text-indent: -5px;\\n}\\n\\n.title-grid-parent {\\n  text-transform: uppercase;\\n  font-weight: bold;\\n}\\n\\ninput[type=checkbox] {\\n  transform: scale(1.5);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2RpY2gtdnUta2h1eWVuLW1haS9kaWNoLXZ1LWtodXllbi1tYWktcG9wdXAvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxkaWNoLXZ1LWtodXllbi1tYWlcXGRpY2gtdnUta2h1eWVuLW1haS1wb3B1cFxcZGljaC12dS1raHV5ZW4tbWFpLXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL21haW4vZGljaC12dS1raHV5ZW4tbWFpL2RpY2gtdnUta2h1eWVuLW1haS1wb3B1cC9kaWNoLXZ1LWtodXllbi1tYWktcG9wdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxTQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSx3QkFBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSx5QkFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2RpY2gtdnUta2h1eWVuLW1haS9kaWNoLXZ1LWtodXllbi1tYWktcG9wdXAvZGljaC12dS1raHV5ZW4tbWFpLXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidWwge1xuICBtYXJnaW46IDA7XG59XG5cbnVsLmRhc2hlZCB7XG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbn1cblxudWwuZGFzaGVkID4gbGkge1xuICB0ZXh0LWluZGVudDogLTVweDtcbiAgcGFkZGluZzogMXB4IDBweCAxcHggMHB4O1xufVxuXG51bC5kYXNoZWQgPiBsaTpiZWZvcmUge1xuICBjb250ZW50OiBcIi0gXCI7XG4gIHRleHQtaW5kZW50OiAtNXB4O1xufVxuXG4udGl0bGUtZ3JpZC1wYXJlbnQge1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuaW5wdXRbdHlwZT1jaGVja2JveF0ge1xuICB0cmFuc2Zvcm06IHNjYWxlKDEuNSk7XG59IiwidWwge1xuICBtYXJnaW46IDA7XG59XG5cbnVsLmRhc2hlZCB7XG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbn1cblxudWwuZGFzaGVkID4gbGkge1xuICB0ZXh0LWluZGVudDogLTVweDtcbiAgcGFkZGluZzogMXB4IDBweCAxcHggMHB4O1xufVxuXG51bC5kYXNoZWQgPiBsaTpiZWZvcmUge1xuICBjb250ZW50OiBcIi0gXCI7XG4gIHRleHQtaW5kZW50OiAtNXB4O1xufVxuXG4udGl0bGUtZ3JpZC1wYXJlbnQge1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuaW5wdXRbdHlwZT1jaGVja2JveF0ge1xuICB0cmFuc2Zvcm06IHNjYWxlKDEuNSk7XG59Il19 */\"","import { Component, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { MAT_DIALOG_DATA, MatDialogRef, MatDialog } from '@angular/material';\nimport { GroupDescriptor, SortDescriptor } from '@progress/kendo-data-query';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { EnumNhomGoiDichVu, EnumTypeLoadingData } from 'src/app/shared/enum/kham-benh.enum';\nimport { ChiDinhGoiDichVuKhuyenMaiTheoBenhNhan, ChiTietGoiDichVuKhuyenMaiChiDinhTheoBenhNhan, GoiDichVuKhuyenMaiMarketingDangChon } from '../dich-vu-khuyen-mai.model';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\n\n@Component({\n  selector: 'app-dich-vu-khuyen-mai-popup',\n  templateUrl: './dich-vu-khuyen-mai-popup.component.html',\n  styleUrls: ['./dich-vu-khuyen-mai-popup.component.scss']\n})\nexport class DichVuKhuyenMaiPopupComponent implements OnInit {\n  gridColumns: any[] = [];\n  gridColumnsDetail: any[] = [];\n  additionalSearchString: string = null;\n  icClose = icClose;\n  documentType: DocumentType;\n  sort: SortDescriptor[] = [\n    {\n      field: \"Ten\",\n      dir: \"asc\",\n    },\n  ];\n  urlGetData: string = 'TiepNhanBenhNhan/GetDataForGridAsyncDichVuKhuyenMai';\n  urlGetTotalData: string = 'TiepNhanBenhNhan/GetTotalPageForGridAsyncDichVuKhuyenMai';\n  urlGetDataChild: string = 'TiepNhanBenhNhan/GetDataForGridAsyncDichVuKhuyenMaiChild';\n  urlGetTotalDataChild: string = 'TiepNhanBenhNhan/GetTotalPageForGridAsyncDichVuKhuyenMaiChild';\n\n  @ViewChild('tenGoiTemplate', { static: true }) tenGoiTemplate: TemplateRef<any>;\n  @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n  @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n  @ViewChild('donGiaKhuyenMaiTemplate', { static: true }) donGiaKhuyenMaiTemplate: TemplateRef<any>;\n  @ViewChild('donGiaCKTemplate', { static: true }) donGiaCKTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n\n  // groups: GroupDescriptor[] = [{ field: 'Nhom' }];\n  groups: GroupDescriptor[] = [{ field: 'TenNhomGoiDichVu' }];\n  // sortChild: SortDescriptor[] = [{\n  //   field: 'NhomId',\n  //   dir: 'asc'\n  // }];\n\n  isFirstLoadGridGoiDv: boolean = true;\n  benhNhanId: number = 0;\n  isPTTT: boolean = false;\n  isNoiTru: boolean = false;\n  isCapGiuong: boolean = false;\n  IsKhamBenhDangKham: boolean = false;\n  isVacxin: boolean = false;\n  strDichVuDaChon: string = null;\n  arrChiTietDichVuDaXem: Array<ChiTietGoiDichVuKhuyenMaiChiDinhTheoBenhNhan> = new Array<ChiTietGoiDichVuKhuyenMaiChiDinhTheoBenhNhan>();\n  arrChiTietDichVuDaChon: Array<ChiTietGoiDichVuKhuyenMaiChiDinhTheoBenhNhan> = new Array<ChiTietGoiDichVuKhuyenMaiChiDinhTheoBenhNhan>();\n  arrGoiDangChon: Array<GoiDichVuKhuyenMaiMarketingDangChon> = new Array<GoiDichVuKhuyenMaiMarketingDangChon>();\n  nhomDichVuGiuong: EnumNhomGoiDichVu = EnumNhomGoiDichVu.DichVuGiuongBenh;\n  arrDichVuDangChon: Array<any> = [];\n\n  popupLoadingData: any;\n\n  @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n  @ViewChild('nhomDichVuTemplate', { static: true }) nhomDichVuTemplate: TemplateRef<any>;\n  @ViewChild('soLuongTemplate', { static: true }) soLuongTemplate: TemplateRef<any>;\n  @ViewChild('hanSuDungTemplate', { static: true }) hanSuDungTemplate: TemplateRef<any>;\n\n  @ViewChild('tongTienFooterTemplate', { static: true }) tongTienFooterTemplate: TemplateRef<any>;\n  @ViewChild('tongCongFooterTemplate', {read: TemplateRef, static: true}) tongCongFooterTemplate: TemplateRef<any>;\n  @ViewChild('chietKhauFooterTemplate', {read: TemplateRef, static: true}) chietKhauFooterTemplate: TemplateRef<any>;\n  @ViewChild('giaGoiFooterTemplate', {read: TemplateRef, static: true}) giaGoiFooterTemplate: TemplateRef<any>;\n  @ViewChild('checkBoxHeaderTemplate', {read: TemplateRef, static: true}) checkBoxHeaderTemplate: TemplateRef<any>;\n  @ViewChild('checkBoxTemplate', {read: TemplateRef, static: true}) checkBoxTemplate: TemplateRef<any>;\n  @ViewChild('actionChonGiuongTemplate', { static: true }) actionChonGiuongTemplate: TemplateRef<any>;\n  @ViewChild('viTriTiemTemplate', { static: true }) viTriTiemTemplate: TemplateRef<any>;\n  @ViewChild('muiSoTemplate', { static: true }) muiSoTemplate: TemplateRef<any>;\n  @ViewChild('noiThucHienTemplate', { static: true }) noiThucHienTemplate: TemplateRef<any>;\n  @ViewChild('lieuLuongTemplate', { static: true }) lieuLuongTemplate: TemplateRef<any>;\n  \n  @ViewChild('gridNhomGoiDichVu', { read: GridComponent, static: false }) gridNhomGoiDichVu: GridComponent;\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    public dialogRef: MatDialogRef<DichVuKhuyenMaiPopupComponent>,\n\n    private dialog: MatDialog,\n    private apiService: ApiService,\n    private notificationService: NotificationService\n  ) { }\n\n  ngOnInit() {\n    this.additionalSearchString = this.data.BenhNhanId;\n    this.documentType = this.data.DocumentType;\n\n    //BVHD-3825\n    this.benhNhanId = this.data.BenhNhanId;\n    this.isPTTT = this.data.IsPTTT != undefined && this.data.IsPTTT;\n    this.isNoiTru = this.data.IsNoiTru != undefined && this.data.IsNoiTru;\n    this.IsKhamBenhDangKham = this.data.IsKhamBenhDangKham != undefined && this.data.IsKhamBenhDangKham;\n    this.isVacxin = this.data.IsVacxin != undefined && this.data.IsVacxin;\n    this.arrDichVuDangChon = this.data.DichVuDangChons;\n\n    // dùng để ẩn checkbox chọn dịch vụ và show chức năng chọn giường\n    // nếu là cấp giường thì chỉ cho phép chọn giường và đóng popup\n    this.isCapGiuong = this.data.IsCapGiuong == true; \n    //===============================================================\n\n    this.gridColumns = [\n      { Field: \"Ten\", Title: \"Tên Gói\", Width: 600, Sortable: false, Template: this.tenGoiTemplate }\n    ];\n\n    // this.gridColumnsDetail = [\n    //   { Field: \"Ma\", Title: \"Mã\", Width: 50, Sortable: false, ShowTooltip: true },\n    //   { Field: \"Ten\", Title: \"Tên dịch vụ\", Width: 70, Sortable: false, ShowTooltip: true },\n    //   { Field: \"NhomId\", Title: \"Nhóm Id\", Width: 50, Sortable: true, Hidden: true },\n    //   { Field: \"Nhom\", Title: \"Nhóm\", Width: 50, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n    //   { Field: \"LoaiGia\", Title: \"Loại giá\", Width: 50, Sortable: false },\n    //   { Field: \"SoLan\", Title: \"SL\", Width: 30, Sortable: false },\n    //   { Field: \"DonGia\", Title: \"Đơn giá\", Width: 80, Sortable: false, Template: this.donGiaTemplate },\n    //   { Field: \"DonGiaKhuyenMai\", Title: \"Đơn giá KM\", Width: 80, Sortable: false, Template: this.donGiaCKTemplate },\n    //   { Field: \"ThanhTien\", Title: \"Thành tiền\", Width: 100, Sortable: false, Template: this.thanhTienTemplate },\n    //   { Field: \"GhiChu\", Title: \"Ghi chú\", Width: 100, Sortable: false, ShowTooltip: true },\n    //   { Field: \"HanSuDung\", Title: \"Hạn Sử Dụng\", Width: 100, Sortable: false, ShowTooltip: true },\n    //   { Field: \"SoLanDaDung\", Title: \"SL Đã Sử Dụng\", Width: 70, Sortable: false },\n\n    // ]\n\n    this.gridColumnsDetail = [\n      { Field: \"CheckBox\", Title: \"\", Width: 30 , Sortable: false, Template: this.checkBoxTemplate, TemplateHeader: this.checkBoxHeaderTemplate, Hidden: this.isCapGiuong },\n      { Field: \"STT\", Title: \"#\", Width: 20 , Sortable: false, Template: this.sttTemplate },\n      { Field: \"TenNhomGoiDichVu\", Title: \"\" , Width: 20, TemplateGroupHeader: this.nhomDichVuTemplate , Hidden: true},\n      { Field: \"MaDichVu\", Title: \"Mã\", Width: 80 , Sortable: true },\n      { Field: \"TenDichVu\", Title: \"Tên dịch vụ\", Width: 180 , Sortable: true },\n      { Field: \"TenLoaiGia\", Title: \"Loại giá\", Width: 100 , Sortable: true },\n      { Field: \"SoLuong\", Title: \"SL\", Width: 60 , Sortable: true},\n      { Field: \"DonGia\", Title: \"Đơn giá\", Width: 120 , Sortable: true, Template: this.donGiaTemplate, TemplateFooter: this.tongTienFooterTemplate },\n      { Field: \"DonGiaKhuyenMai\", Title: \"Đơn giá khuyến mại\", Width: 120 , Sortable: true, Template: this.donGiaKhuyenMaiTemplate },\n      { Field: \"ThanhTien\", Title: \"Thành tiền\", Width: 120 , Sortable: true, Template: this.thanhTienTemplate, TemplateFooter: this.tongCongFooterTemplate },\n      { Field: \"HanSuDung\", Title: \"Hạn sử dụng\", Width: 120 , Sortable: true, Template: this.hanSuDungTemplate },\n      { Field: \"SoLuongDaDung\", Title: \"SL đã dùng\", Width: 120 , Sortable: true}, //,  TemplateFooter: this.chietKhauFooterTemplate\n      { Field: \"SoLuongDungLanNay\", Title: \"SL dùng lần này\", Width: 120 , Sortable: false, Template: this.soLuongTemplate, Hidden: this.isCapGiuong} ,//, TemplateFooter: this.giaGoiFooterTemplate  \n      // { Field: \"Action\", Title: \"\", Width: 80, Template: this.actionChonGiuongTemplate ,Hidden: !this.isCapGiuong }\n\n      { Field: \"ViTriTiem\", Title: \"Vị trí tiêm\", Width: 100 , Sortable: false, Template: this.viTriTiemTemplate, Hidden: !this.isVacxin } ,\n      { Field: \"MuiSo\", Title: \"Mũi số\", Width: 80 , Sortable: false, Template: this.muiSoTemplate, Hidden: !this.isVacxin } ,\n      { Field: \"NoiThucHien\", Title: \"Nơi thực hiện\", Width: 140 , Sortable: false, Template: this.noiThucHienTemplate, Hidden: !this.isVacxin } ,\n      { Field: \"LieuLuong\", Title: \"Liều lượng\", Width: 100 , Sortable: false, Template: this.lieuLuongTemplate, Hidden: !this.isVacxin } ,\n    ]\n  }\n\n\n  // BVHD-3825\n  onDataBoundGridParent(event)\n  {\n    var self = this;\n    if (event.Data.length > 0) {\n      if (event.Data.length == 1 && self.isFirstLoadGridGoiDv) {\n        self.isFirstLoadGridGoiDv = false;\n        self.gridNhomGoiDichVu.onExpandRowDetail(0);\n      }\n    }\n  }\n\n  onDataBoundGridChild(event)\n  {\n    var self = this;\n    if (event.Data.length > 0 && this.arrDichVuDangChon != undefined && this.arrDichVuDangChon.length > 0) {\n      event.Data.forEach(element => {\n        var indexDichVuBenhVien = this.arrDichVuDangChon.findIndex(p => p.YeuCauGoiDichVuId == element.YeuCauGoiDichVuId &&\n                                                                        p.DichVuBenhVienId == element.DichVuBenhVienId &&\n                                                                        p.NhomId == element.NhomId &&\n                                                                        p.NhomGiaId == element.NhomGiaId);\n        if (indexDichVuBenhVien != - 1) {\n          let soLuongFEDaLuu = this.getSoLuongDaDungDichVuDangChon(element, true);\n          let soLuongFeChuaLuu = this.getSoLuongDaDungDichVuDangChon(element);\n          let coChenhLechSoLuongDaLuu = soLuongFEDaLuu !== element.SoLuongDaDung;\n          if (coChenhLechSoLuongDaLuu) {\n            // element.SoLuongDaDung = soLuongFEDaLuu + soLuongFeChuaLuu;\n            element.SoLuongDaDung = element.SoLuongDaDung + soLuongFeChuaLuu;\n            element.SoLuongConLai = element.SoLuong - element.SoLuongDaDung;\n          }\n          else {\n            element.SoLuongDaDung += soLuongFeChuaLuu;\n            element.SoLuongConLai -= soLuongFeChuaLuu;\n          }\n          if (element.SoLuongConLai <= 0) {\n            element.IsActive = false;\n          }\n        }\n      });\n    }\n  }\n\n  getSoLuongDaDungDichVuDangChon(dataItem, laDataDaLuu: boolean = false) {\n    let soLuongDichVuDaChon = this.arrDichVuDangChon.filter(p => ((laDataDaLuu && p.Id != null && p.Id != 0) || (!laDataDaLuu && (p.Id == null || p.Id == 0))) &&\n                                                              p.YeuCauGoiDichVuId == dataItem.YeuCauGoiDichVuId &&\n                                                              p.DichVuBenhVienId == dataItem.DichVuBenhVienId &&\n                                                              p.NhomId == dataItem.NhomId &&\n                                                              p.NhomGiaId == dataItem.NhomGiaId)\n                                                 .reduce((sum: any, item: { SoLuong: any; }) => sum + item.SoLuong, 0);\n\n    return soLuongDichVuDaChon;\n  }\n\n  chonDichVu(event, dataItem)\n  {\n    if(event)\n    {\n      dataItem.SoLuongDungLanNay = 1;\n      if(this.arrChiTietDichVuDaChon.findIndex(x => x.Id == dataItem.Id) == -1)\n      {\n        var newElement = new ChiTietGoiDichVuKhuyenMaiChiDinhTheoBenhNhan(\n          dataItem.Id,\n          dataItem.YeuCauGoiDichVuId,\n          dataItem.TenGoiDichVu,\n          dataItem.ChuongTrinhGoiDichVuId,\n          dataItem.ChuongTrinhGoiDichVuChiTietId,\n          dataItem.DichVuBenhVienId,\n          dataItem.TenDichVu,\n          dataItem.NhomGoiDichVu,\n          dataItem.SoLuongDungLanNay,\n          true,\n          dataItem.DonGia\n        );\n        this.arrChiTietDichVuDaChon.push(newElement);\n      }\n\n      let slDichVuDaChon = this.arrChiTietDichVuDaChon.filter(x => x.YeuCauGoiDichVuId == dataItem.YeuCauGoiDichVuId).length;\n      let slDichVuTheoGoi = this.arrChiTietDichVuDaXem.filter(x => x.YeuCauGoiDichVuId == dataItem.YeuCauGoiDichVuId && x.IsActive).length;\n      if(slDichVuDaChon == slDichVuTheoGoi)\n      {\n        var element = document.getElementById(\"ckbHeader-\"+ dataItem.YeuCauGoiDichVuId);\n        element['checked']=true;\n      }\n    }\n    else\n    {\n      dataItem.SoLuongDungLanNay = 0;\n      var index = this.arrChiTietDichVuDaChon.findIndex(x => x.Id == dataItem.Id);\n      if(index != -1)\n      {\n        this.arrChiTietDichVuDaChon.splice(index, 1);\n        var element = document.getElementById(\"ckbHeader-\"+ dataItem.YeuCauGoiDichVuId);\n        element['checked']=false;\n      }\n    }\n    this.strDichVuDaChon = JSON.stringify(this.arrChiTietDichVuDaChon);\n  }\n\n  chonTatCaDichVuTrongGoi(event, yeuCauGoiDichVuId: number) {\n    if (event) {\n      let lstDichVuTrongGoi = this.arrChiTietDichVuDaXem.filter(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId && x.IsActive);\n      lstDichVuTrongGoi.forEach(element => {\n        var indexDichVuDaChon = this.arrChiTietDichVuDaChon.findIndex(x => x.Id == element.Id);\n\n        if (indexDichVuDaChon == -1) {\n          var newElement = new ChiTietGoiDichVuKhuyenMaiChiDinhTheoBenhNhan(\n            element.Id,\n            element.YeuCauGoiDichVuId,\n            element.TenGoiDichVu,\n            element.ChuongTrinhGoiDichVuId,\n            element.ChuongTrinhGoiDichVuChiTietId,\n            element.DichVuBenhVienId,\n            element.TenDichVu,\n            element.NhomGoiDichVu,\n            1,\n            true,\n            element.DonGia\n          );\n          this.arrChiTietDichVuDaChon.push(newElement);\n        }\n      });\n\n      let name = 'ckbItem-' + yeuCauGoiDichVuId;\n      let checkboxes = document.getElementsByName(name);\n      checkboxes.forEach(element => {\n        // element['value'] = true;\n        // element['checked'] = true;\n        // console.log('element - true',element['id']);\n\n        // document.getElementById(element['id']).setAttribute(\"ng-reflect-model\", \"true\");\n        if(!element['checked']){\n          document.getElementById(element['id']).click();\n        }\n      });\n    }\n    else {\n      let arrDichVuDaChonTemp = this.arrChiTietDichVuDaChon.filter(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId);\n      if(arrDichVuDaChonTemp.length > 0)\n      {\n        arrDichVuDaChonTemp.forEach(element => {\n          let index = this.arrChiTietDichVuDaChon.findIndex(x => x.Id == element.Id);\n          this.arrChiTietDichVuDaChon.splice(index, 1);\n        });\n\n        let name = 'ckbItem-' + yeuCauGoiDichVuId;\n        let checkboxes = document.getElementsByName(name);\n        checkboxes.forEach(element => {\n          if(element['checked']){\n            document.getElementById(element['id']).click();\n          }\n        });\n      }\n    }\n    this.strDichVuDaChon = JSON.stringify(this.arrChiTietDichVuDaChon);\n  }\n\n  xemChiTietDichVuTheoGoi(event)\n  {\n    if(event.Data.length > 0)\n    {\n      var dichVuChiTiet = event.Data[0];\n      if(this.arrChiTietDichVuDaXem.length == 0 \n        || this.arrChiTietDichVuDaXem.findIndex(x => x.YeuCauGoiDichVuId == dichVuChiTiet.YeuCauGoiDichVuId \n                                                && x.ChuongTrinhGoiDichVuId == dichVuChiTiet.ChuongTrinhGoiDichVuId) == -1)\n      {\n        event.Data.forEach(element => {\n          var newElement = new ChiTietGoiDichVuKhuyenMaiChiDinhTheoBenhNhan(\n            element.Id,\n            element.YeuCauGoiDichVuId,\n            element.TenGoiDichVu,\n            element.ChuongTrinhGoiDichVuId,\n            element.ChuongTrinhGoiDichVuChiTietId,\n            element.DichVuBenhVienId,\n            element.TenDichVu,\n            element.NhomGoiDichVu,\n            0,\n            element.IsActive,\n            element.DonGia\n          );\n          this.arrChiTietDichVuDaXem.push(newElement);\n        });\n      }\n    }\n  }\n\n  changeSoLuongDichVu(event, dataItem){\n    var dichVuDaChon = this.arrChiTietDichVuDaChon.find(x => x.YeuCauGoiDichVuId == dataItem.YeuCauGoiDichVuId \n                                                          && x.ChuongTrinhGoiDichVuId == dataItem.ChuongTrinhGoiDichVuId\n                                                          && x.ChuongTrinhGoiDichVuChiTietId == dataItem.ChuongTrinhGoiDichVuChiTietId\n                                                          && x.NhomGoiDichVu == dataItem.NhomGoiDichVu);\n    if(event == undefined || event == null)\n    {\n      dichVuDaChon.SoLuongSuDung = 0;\n    }\n    else\n    {\n      dichVuDaChon.SoLuongSuDung = event;\n    }\n    this.strDichVuDaChon = JSON.stringify(this.arrChiTietDichVuDaChon);\n  }\n\n  chonDichVuTrongGoi(arrSelected){\n    if(arrSelected.length > 0)\n    {\n      // xử lý thêm\n      var arrAdd = arrSelected.filter(x => this.arrChiTietDichVuDaChon.findIndex(a => a.Id == x) == -1);\n      arrAdd.forEach(element => {\n        console.log('element', element);\n        var elementObj = JSON.parse(element);\n        var indexDichVuDaChon = this.arrChiTietDichVuDaChon.findIndex(x => x.Id == element);\n        if(indexDichVuDaChon == -1)\n        {\n          var newElement = new ChiTietGoiDichVuKhuyenMaiChiDinhTheoBenhNhan(\n            element,\n            elementObj.YeuCauGoiDichVuId,\n            elementObj.TenGoiDichVu,\n            elementObj.ChuongTrinhGoiDichVuId,\n            elementObj.ChuongTrinhGoiDichVuChiTietId,\n            elementObj.DichVuBenhVienId,\n            elementObj.TenDichVu,\n            elementObj.NhomGoiDichVu,\n            1,\n            element.DonGia\n          );\n          this.arrChiTietDichVuDaChon.push(newElement);\n        }\n      });\n\n      // xử lý xóa\n      arrSelected.forEach(element => {\n        var index = this.arrChiTietDichVuDaChon.findIndex(x => x.Id == element);\n        this.arrChiTietDichVuDaChon.splice(index, 0);\n      });\n    }\n    else\n    {\n      this.arrChiTietDichVuDaChon = [];\n    }\n  }\n\n  showPopupLoadingData(typeLoading: EnumTypeLoadingData = EnumTypeLoadingData.View) {\n    let mess = \"\";\n    switch (typeLoading) {\n      case EnumTypeLoadingData.View:\n        mess = \"Đang tải dữ liệu...\"; break;\n      case EnumTypeLoadingData.Update:\n        mess = \"Đang lưu dữ liệu...\"; break;\n      case EnumTypeLoadingData.Delete:\n        mess = \"Đang xóa dữ liệu...\"; break;\n      case EnumTypeLoadingData.Cancel:\n        mess = \"Đang hủy dữ liệu...\"; break;\n      default: mess = \"Đang tải dữ liệu...\";\n    }\n    this.popupLoadingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: mess }\n    });\n  }\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n\n  luuDichVuChiDinh() {\n    this.showPopupLoadingData(EnumTypeLoadingData.Add);\n    let yeuCauGoiMarketing: ChiDinhGoiDichVuKhuyenMaiTheoBenhNhan = new ChiDinhGoiDichVuKhuyenMaiTheoBenhNhan();\n    yeuCauGoiMarketing.YeuCauTiepNhanId = 0;\n    yeuCauGoiMarketing.DichVus = this.arrChiTietDichVuDaChon;\n    yeuCauGoiMarketing.IsKhamBenhDangKham = this.documentType == DocumentType.KhamBenhDangKham || this.IsKhamBenhDangKham;\n    yeuCauGoiMarketing.IsVacxin = this.isVacxin;\n    \n    let url = \"TiepNhanBenhNhan/KiemTraValidationChiDinhDichVuKhuyenMaiTrongGoiMarketing\";\n    // if (this.documentType == DocumentType.PhauThuatThuThuatTheoNgay) {\n    //   url = \"PhauThuatThuThuat/KiemTraValidationChiDinhDichVuTrongGoiMarketing\";\n    // }\n    // else if(this.documentType == DocumentType.DanhSachDieuTriNoiTru || this.isNoiTru)\n    // {\n    //   url = \"DieuTriNoiTru/KiemTraValidationChiDinhDichVuTrongGoiMarketing\";\n    // }\n    this.apiService.post<boolean>(url, yeuCauGoiMarketing)\n      .subscribe(resultData => {\n        this.closePopupLoadingData();\n        this.dialogRef.close(yeuCauGoiMarketing);\n      },\n        (err: ApiError) => {\n          this.notificationService.showError(err.Message);\n          this.closePopupLoadingData();\n        });\n  }\n\n  close() {\n    this.dialog.closeAll();\n  }\n\n  getHtmlDichVuTheoGoiDangChon(yeuCauGoiDichVuId: number){\n    let arraysDichVus = this.arrChiTietDichVuDaChon.filter(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId);\n    if(arraysDichVus == undefined || arraysDichVus == null || arraysDichVus.length == 0)\n    {\n      return \"\";\n    }\n\n    let style=\"<style>.text-right-td{text-align: right;}.text-left-td{text-align: left;}.text-red{color: red;}</style>\"\n\n    let html=\"<table fxFlex='100%'>\";\n    let tongTien = 0;\n    let goiDangChon = this.arrGoiDangChon.find(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId);\n    html += \"<tr><th colspan='4' class='text-left-td'>\" + goiDangChon.TenGoiDichVu + \"</th></tr>\";\n\n    arraysDichVus.forEach(element => {\n      html += \"<tr>\"\n      html += \"<td width='35%' class='reverse-ellipsis r'>- \" + element.TenDichVu + \"</td>\"\n      html += \"<td width='5%' class='text-right-td'>\" + element.SoLuongSuDung + \"</td>\"\n      html += \"<td width='20%' class='text-right-td'>\" + element.DonGia + \"</td>\"\n      html += \"<td width='20%' class='text-right-td'>\" + element.SoLuongSuDung * element.DonGia + \"</td>\"\n      html += \"</tr>\"\n\n      tongTien += element.SoLuongSuDung * element.DonGia;\n    });\n\n    // phần tổng tiền dịch vụ đang chọn\n    html += \"<tr>\"\n    html += \"<td></td>\"\n    html += \"<td></td>\"\n    html += \"<td>Tổng: </td>\"\n    html += \"<td class='text-right-td'><b>\" + tongTien + \"</b></td>\"\n    html += \"</tr>\"\n\n    // kiểm tra số tiền còn có thể bảo lãnh theo gói\n    if(goiDangChon.TongTienConBaoLanhDuoc < tongTien)\n    {\n      html += \"<tr>\"\n      html += \"<td colspan='4' class='text-right-td text-red'>Không đủ bảo lãnh</td>\"\n      html += \"</tr>\"\n    }\n\n    html += \"</tr></table>\";\n    console.log('//============================== html', html);\n    return html + style;\n  }\n\n  kiemTraGoiDichVuCoChonDichVu(yeuCauGoiDichVuId){\n    let index = this.arrChiTietDichVuDaChon.findIndex(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId)\n    return index != -1;\n  }\n\n  getArrayDichVuDaChonTheoGoi(yeuCauGoiDichVuId)\n  {\n    return this.arrChiTietDichVuDaChon.filter(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId);\n  }\n\n  tinhTongTienDichVuDangChon(yeuCauGoiDichVuId: number){\n    let tongTien = 0;\n    this.arrChiTietDichVuDaChon.forEach(element => {\n      if(element.YeuCauGoiDichVuId == yeuCauGoiDichVuId)\n      {\n        tongTien += element.SoLuongSuDung * element.DonGia;\n      }\n    });\n    return tongTien;\n  }\n\n  chonDichVuGiuong(dataItem)\n  {\n    this.dialogRef.close(dataItem);\n  }\n\n  evtViTriTiemChange(evt, dataItem) {\n    var dichVuDaChon = this.arrChiTietDichVuDaChon.find(x => x.YeuCauGoiDichVuId == dataItem.YeuCauGoiDichVuId \n                                                             && x.ChuongTrinhGoiDichVuId == dataItem.ChuongTrinhGoiDichVuId\n                                                             && x.ChuongTrinhGoiDichVuChiTietId == dataItem.ChuongTrinhGoiDichVuChiTietId\n                                                             && x.NhomGoiDichVu == dataItem.NhomGoiDichVu);\n\n    if(!evt)\n    {\n      dichVuDaChon.ViTriTiem = null;\n    }\n    else\n    {\n      dichVuDaChon.ViTriTiem = evt.KeyId;\n    }\n    this.strDichVuDaChon = JSON.stringify(this.arrChiTietDichVuDaChon);\n  }\n\n  evtNoiThucHienChange(evt, dataItem) {\n    var dichVuDaChon = this.arrChiTietDichVuDaChon.find(x => x.YeuCauGoiDichVuId == dataItem.YeuCauGoiDichVuId \n                                                             && x.ChuongTrinhGoiDichVuId == dataItem.ChuongTrinhGoiDichVuId\n                                                             && x.ChuongTrinhGoiDichVuChiTietId == dataItem.ChuongTrinhGoiDichVuChiTietId\n                                                             && x.NhomGoiDichVu == dataItem.NhomGoiDichVu);\n\n    if(!evt)\n    {\n      dichVuDaChon.NoiThucHienId = null;\n    }\n    else\n    {\n      dichVuDaChon.NoiThucHienId = evt.KeyId;\n    }\n\n    this.strDichVuDaChon = JSON.stringify(this.arrChiTietDichVuDaChon);\n  }\n\n  evtMuiSoChange(evt, dataItem) {\n    var dichVuDaChon = this.arrChiTietDichVuDaChon.find(x => x.YeuCauGoiDichVuId == dataItem.YeuCauGoiDichVuId \n                                                             && x.ChuongTrinhGoiDichVuId == dataItem.ChuongTrinhGoiDichVuId\n                                                             && x.ChuongTrinhGoiDichVuChiTietId == dataItem.ChuongTrinhGoiDichVuChiTietId\n                                                             && x.NhomGoiDichVu == dataItem.NhomGoiDichVu);\n\n    if(!evt)\n    {\n      dichVuDaChon.MuiSo = 0;\n    }\n    else\n    {\n      dichVuDaChon.MuiSo = evt;\n    }\n\n    this.strDichVuDaChon = JSON.stringify(this.arrChiTietDichVuDaChon);\n  }\n\n  evtLieuLuongChange(evt, dataItem) {\n    var dichVuDaChon = this.arrChiTietDichVuDaChon.find(x => x.YeuCauGoiDichVuId == dataItem.YeuCauGoiDichVuId \n                                                              && x.ChuongTrinhGoiDichVuId == dataItem.ChuongTrinhGoiDichVuId\n                                                              && x.ChuongTrinhGoiDichVuChiTietId == dataItem.ChuongTrinhGoiDichVuChiTietId\n                                                              && x.NhomGoiDichVu == dataItem.NhomGoiDichVu);\n\n    dichVuDaChon.LieuLuong = evt;\n    this.strDichVuDaChon = JSON.stringify(this.arrChiTietDichVuDaChon);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DichVuKhuyenMaiRoutingModule { }\n","export class GoiDichVuKhuyenMaiMarketingDangChon {\n    constructor(\n        public YeuCauGoiDichVuId: number = null,\n        public TenGoiDichVu: string = null,\n        public TongTienConBaoLanhDuoc: number = 0,\n        public DichVus: Array<ChiTietGoiDichVuKhuyenMaiChiDinhTheoBenhNhan> = []\n    ) { }\n}\nexport class ChiTietGoiDichVuKhuyenMaiChiDinhTheoBenhNhan {\n    constructor(\n        public Id: string = null,\n        public YeuCauGoiDichVuId: number = null,\n        public TenGoiDichVu: string = null,\n        public ChuongTrinhGoiDichVuId: number = null,\n        public ChuongTrinhGoiDichVuChiTietId: number = null,\n        public DichVuBenhVienId: number = null,\n        public TenDichVu: string = null,\n        public NhomGoiDichVu: number = null,\n        public SoLuongSuDung: number = null,\n        public IsActive: boolean = false,\n        public DonGia: number = 0,\n\n        public ViTriTiem: number = null,\n        public MuiSo: number = null,\n        public NoiThucHienId: number = null,\n        public LieuLuong: string = null,\n        public SoLuongConLai: number = null\n    ) { }\n}\n\nexport class ChiDinhGoiDichVuKhuyenMaiTheoBenhNhan {\n    constructor(\n        public YeuCauTiepNhanId: number = null,\n        public YeuCauKhamBenhId: number = null,\n        public NoiTruPhieuDieuTriId: number = null,\n        public DichVus: Array<ChiTietGoiDichVuKhuyenMaiChiDinhTheoBenhNhan> = [],\n        public DichVuKhongThems: Array<ChiDinhGoiDichVuKhuyenMaiTheoBenhNhanDichVuLoi> = [],\n        public IsKhamBenhDangKham: boolean = false,\n        public IsPTTT: boolean = false,\n        public IsVacxin: boolean = false\n    ) { }\n}\n\nexport class ChiDinhGoiDichVuKhuyenMaiTheoBenhNhanDichVuLoi {\n    constructor(\n        public YeuCauGoiDichVuId: number = null,\n        public ChuongTrinhGoiDichVuId: number = null,\n        public ChuongTrinhGoiDichVuChiTietId: number = null,\n        public NhomGoiDichVuValue: number = null,\n        public DichVuId: number = null,\n        public LoaiLoi: number = null,\n        public TenLoi: string = null,\n        public KhongThem: boolean = false\n    ) { }\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DichVuKhuyenMaiRoutingModule } from './dich-vu-khuyen-mai-routing.module';\nimport { DichVuKhuyenMaiPopupComponent } from './dich-vu-khuyen-mai-popup/dich-vu-khuyen-mai-popup.component';\n\n\nimport { MatIconModule } from '@angular/material/icon';\nimport { IconModule } from '@visurel/iconify-angular';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatButtonModule } from '@angular/material/button';\n\nimport { PageLayoutModule } from 'src/@vex/components/page-layout/page-layout.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { BreadcrumbsModule } from 'src/@vex/components/breadcrumbs/breadcrumbs.module';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatInputModule, MatOptionModule, MatSelectModule, MatTabsModule, MatDialogModule } from '@angular/material';\nimport { TooltipModule } from '@progress/kendo-angular-tooltip';\nimport { LayoutModule } from 'src/@vex/layout/layout.module';\n@NgModule({\n  declarations: [DichVuKhuyenMaiPopupComponent],\n  imports: [\n    CommonModule,\n    DichVuKhuyenMaiRoutingModule,\n    CommonModule,\n    PageLayoutModule,\n    FlexLayoutModule,\n    BreadcrumbsModule,\n    TooltipModule,\n    SharedModule,\n    MatIconModule,\n    IconModule,\n    MatMenuModule,\n    MatButtonToggleModule,\n    MatTooltipModule,\n    MatButtonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatInputModule, MatOptionModule, MatSelectModule,\n    MatTabsModule,\n    MatDialogModule,\n    LayoutModule,\n  ],\n  entryComponents: [\n    DichVuKhuyenMaiPopupComponent\n  ]\n})\nexport class DichVuKhuyenMaiModule { }\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2RpZXUtdHJpLW5vaS10cnUvZGFuaC1zYWNoLWRpZXUtdHJpLW5vaS10cnUvcGhpZXUtZGlldS10cmkvcGhpZXUtZGlldS10cmktcG9wdXAtaW4tcGhpZXUtY2xzL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcZGlldS10cmktbm9pLXRydVxcZGFuaC1zYWNoLWRpZXUtdHJpLW5vaS10cnVcXHBoaWV1LWRpZXUtdHJpXFxwaGlldS1kaWV1LXRyaS1wb3B1cC1pbi1waGlldS1jbHNcXHBoaWV1LWRpZXUtdHJpLXBvcHVwLWluLXBoaWV1LWNscy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2RpZXUtdHJpLW5vaS10cnUvZGFuaC1zYWNoLWRpZXUtdHJpLW5vaS10cnUvcGhpZXUtZGlldS10cmkvcGhpZXUtZGlldS10cmktcG9wdXAtaW4tcGhpZXUtY2xzL3BoaWV1LWRpZXUtdHJpLXBvcHVwLWluLXBoaWV1LWNscy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vZGlldS10cmktbm9pLXRydS9kYW5oLXNhY2gtZGlldS10cmktbm9pLXRydS9waGlldS1kaWV1LXRyaS9waGlldS1kaWV1LXRyaS1wb3B1cC1pbi1waGlldS1jbHMvcGhpZXUtZGlldS10cmktcG9wdXAtaW4tcGhpZXUtY2xzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwMHB4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn0iLCIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTAwcHg7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSJdfQ== */\"","import { Component, Inject, OnInit,ViewChild } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\n\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { PopupChonPhieuInChiDinhComponent } from '../popup-chon-phieu-in-chi-dinh/popup-chon-phieu-in-chi-dinh.component';\nimport { PrintFormComponent } from 'src/app/shared/component/print-form/print-form.component';\n\n@Component({\n  selector: 'app-phieu-dieu-tri-popup-in-phieu-cls',\n  templateUrl: './phieu-dieu-tri-popup-in-phieu-cls.component.html',\n  styleUrls: ['./phieu-dieu-tri-popup-in-phieu-cls.component.scss']\n})\nexport class PhieuDieuTriPopupInPhieuClsComponent implements OnInit {\n\n  hostingName: string = '';\n    src: string = '';\n    modelPrint: any;\n    ChonKieuInChung: boolean = true;\n    showLoaiPhieuIn : boolean = false ; // kieu in\n    printLayout: string = 'Portrait';\n    printSize: string = 'A4';\n\n    icClose = icClose;\n\n    @ViewChild(PrintFormComponent, {static: true}) shared;\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, private dialog: MatDialog\n  , private apiService: ApiService, public sanitizer: DomSanitizer) { }\n\n  ngOnInit() {\n    let dialogRef = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: \"Đang tải dữ liệu...\" }\n  });\n  this.showLoaiPhieuIn = this.data.Model.InChungChiDinh == 0 ? false : true;\n\n  this.data.Model.IsFromPhieuDieuTri = true;\n  this.apiService.post<any>(\"PhauThuatThuThuat/InPhieuChiDinh\", this.data.Model).subscribe(res => {\n      this.src= \"data:text/html;charset=utf-8,\" + encodeURIComponent(res);\n      this.modelPrint = res;\n      dialogRef.close();\n  });\n  }\n\nclose() {\n    this.dialog.closeAll();\n}\n\ngetSharedPrintForm(dataPrint: any) {\n  let tmpPhieuChiDinh = \"<table id='showHeader' style='width: 100%; height: 40px; background: #005dab;color:#fff;'> <tr><th rowspan = '3' style = 'font-size: 20px;'>PHIẾU CHỈ ĐỊNH CẬN LÂM SÀNG</th></tr></table>\";\n    let data : string = '';\n    data = this.modelPrint.split(tmpPhieuChiDinh).join(\"\");\n    return new Promise(resolve => { \n      resolve(data);\n    });\n     \n}\n\n}\n","export default \".icon-bhyt {\\n  height: 20px;\\n  top: 2px;\\n  position: absolute;\\n  right: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9kYW5oLXNhY2gtZGEta2hhbS1saXN0L0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxkYW5oLXNhY2gtZGEta2hhbS1saXN0XFxkYW5oLXNhY2gtZGEta2hhbS1saXN0LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2Rhbmgtc2FjaC1kYS1raGFtLWxpc3QvZGFuaC1zYWNoLWRhLWtoYW0tbGlzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQUE7RUFDQSxRQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2Rhbmgtc2FjaC1kYS1raGFtLWxpc3QvZGFuaC1zYWNoLWRhLWtoYW0tbGlzdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pY29uLWJoeXQge1xuICBoZWlnaHQ6IDIwcHg7XG4gIHRvcDogMnB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xufSIsIi5pY29uLWJoeXQge1xuICBoZWlnaHQ6IDIwcHg7XG4gIHRvcDogMnB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild, TemplateRef, Input, SimpleChanges } from '@angular/core';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport icicclose from '@iconify/icons-ic/twotone-close';\nimport { MatMenuTrigger } from '@angular/material';\nimport { TagItem } from '../../tiep-nhan-benh-nhan/danh-sach-cho-kham/danh-sach-cho-kham.model';\nimport { DanhSachDaKhamSearch } from '../kham-benh.model';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { MatDialog } from '@angular/material';\nimport { LichSuKhamBenhPopupComponent } from '../lich-su-kham-benh-popup/lich-su-kham-benh-popup.component';\nimport icPlay from \"@iconify/icons-ic/play-circle-filled\";\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { SortDescriptor } from '@progress/kendo-data-query';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport icMoreHoriz from '@iconify/icons-ic/twotone-more-horiz';\nimport icPrint from '@iconify/icons-ic/twotone-print';\nimport { LoaiPhieuIn } from 'src/app/shared/enum/kham-benh.enum';\nimport { ToaThuocKhamBenhConfirmComponent } from '../lich-su-kham-benh/toa-thuoc-kham-benh-confirm/toa-thuoc-kham-benh-confirm.component';\nimport { PopupChonLoaiInViewComponent } from '../../popup-chon-loai-In/popup-chon-loai-in-view/popup-chon-loai-in-view.component';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { PhieuKhamBenhVaoVienPopupComponent } from '../kham-benh/lan-kham-hien-tai/phieu-kham-benh-vao-vien-popup/phieu-kham-benh-vao-vien-popup.component';\nimport { ToaThuocKhamBenhComfirmDkComponent } from './toa-thuoc-kham-benh-comfirm-dk/toa-thuoc-kham-benh-comfirm-dk.component';\nimport { PopupMessageKhongCoDvInDkComponent } from './popup-message-khong-co-dv-in-dk/popup-message-khong-co-dv-in-dk.component';\nimport { ToaThuocKhamBenhDkPopupComponent } from './toa-thuoc-kham-benh-dk-popup/toa-thuoc-kham-benh-dk-popup.component';\n\n@Component({\n  selector: 'app-danh-sach-da-kham-list',\n  templateUrl: './danh-sach-da-kham-list.component.html',\n  styleUrls: ['./danh-sach-da-kham-list.component.scss']\n})\nexport class DanhSachDaKhamListComponent implements OnInit {\n\n  //documentType: DocumentType;\n  gridColumns: any[] = [];\n  searchString: string;\n  icSearch = icSearch;\n  icicclose = icicclose;\n  icPlay = icPlay;\n  isFirst: boolean = true;\n  danhSachDaKhamSearch: DanhSachDaKhamSearch;\n  danhSachDaKhamSearchDefault: DanhSachDaKhamSearch;\n  showCancelSearch: boolean = false;\n  loadPageStart: boolean = false;\n  listTagShowOnHeader: Array<TagItem>;\n  listTagSearch: Array<TagItem>;\n  icPrint =icPrint;\n  icMoreHoriz =icMoreHoriz;\n\n  sort: SortDescriptor[] = [{\n    field: \"BacSiThucHien\",\n    dir: 'desc'\n  }, {\n    field: \"ThoiDiemHoanThanhKhamDisplay\",\n    dir: 'desc'\n  }];\n\n  urlGetData: string = \"KhamBenh/GetDataForGridAsyncDanhSachDaKham\"; // cần gán url\n  urlGetTotalPage: string = \"KhamBenh/GetTotalPageForGridAsyncDanhSachDaKham\"; // cần gán url\n  @ViewChild(\"gridDaKham\", { static: true }) gridChild: GridComponent;\n  @ViewChild(MatMenuTrigger, { static: false }) trigger: MatMenuTrigger;\n  @ViewChild('MaTNTemplate', { static: true }) MaTNTemplate: TemplateRef<any>;\n  @ViewChild('TrangThaiTemplate', { static: true }) TrangThaiTemplate: TemplateRef<any>;\n  @ViewChild('hoTenTemplate', { static: true }) hoTenTemplate: TemplateRef<any>;\n  @ViewChild('tinhTrangTemplate', { static: true }) tinhTrangTemplate: TemplateRef<any>;\n  @ViewChild('acTionTemplate', { static: true }) acTionTemplate: TemplateRef<any>;\n\n  @Input() phongKham: number;\n  @Input() documentType: DocumentType = DocumentType.KhamBenh;\n  @Input() isKhamDoan: boolean = false;\n  @Input() isKhamDoanTatCa: boolean = false;\n  @Input() isReadOnly: boolean = false;\n\n  phongKhamTemp: number = 0;\n  constructor(private dialog: MatDialog, private apiService: ApiService, private notificationService: NotificationService,\n    private route: ActivatedRoute, private authService: AuthService) {\n\n  }\n\n  ngOnInit() {\n    this.danhSachDaKhamSearch = new DanhSachDaKhamSearch();\n    this.danhSachDaKhamSearchDefault = new DanhSachDaKhamSearch();\n    this.listTagSearch = new Array<TagItem>();\n    //this.documentType = DocumentType.KhamBenh; // giá trị tạm để test\n\n    // cập nhật dùng chung khám sức khỏe: ẩn chức năng khám lại\n    this.route.queryParams.subscribe(param => {\n      console.log('param[IsKhamDoan]', param['IsKhamDoan']);\n      if (param['IsKhamDoan'] != undefined) {\n        this.isKhamDoan = param['IsKhamDoan'] == 'true';\n      }\n    });\n    this.danhSachDaKhamSearch.LaKhamDoan = this.isKhamDoan;\n    this.danhSachDaKhamSearch.IsKhamDoanTatCa = this.isKhamDoanTatCa;\n\n    this.gridColumns = [\n      { Field: \"Action\", Title: \"\", Width: 100, Template: this.TrangThaiTemplate, Hidden: this.isReadOnly },//, Hidden: this.isKhamDoan\n      { Field: \"MaYeuCauTiepNhan\", Title: \"Mã TN\", Width: 100, Sortable: true, Template: this.MaTNTemplate },\n      { Field: \"HoTen\", Title: \"Tên Người Bệnh\", Width: 150, Sortable: true, Template: this.hoTenTemplate },\n      { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 80, Sortable: true },\n      { Field: \"DiaChi\", Title: \"Địa chỉ\", MinWidth: 150, Sortable: true },\n      { Field: \"BacSiThucHien\", Title: \"Bác sĩ khám\", Width: 150, Sortable: true },\n      { Field: \"BacSiKetLuan\", Title: \"Bác sĩ kết luận\", Width: 150, Sortable: true, Hidden: this.isKhamDoanTatCa },\n      { Field: \"CachGiaiQuyet\", Title: \"Cách giải quyết\", Width: 150, Sortable: true },\n      // { Field: \"TrangThaiYeuCauTiepNhanDisplay\", Title: \"Tình trạng\", Width: 100, Sortable: true, Template: this.tinhTrangTemplate },\n      { Field: \"ThoiDiemTiepNhanDisplay\", Title: \"Thời gian TN\", Width: 120, Sortable: true },\n      { Field: \"ThoiDiemHoanThanhKhamDisplay\", Title: \"Thời gian hoàn thành khám\", Width: 150, Sortable: true },\n      // { Field: \"TrieuChungTiepNhan\", Title: \"Lý do khám\", Width: 150, Sortable: true },\n      { Field: \"DoiTuong\", Title: \"Đối tượng\", Width: 100, Sortable: true },\n      { Field: \"KhoaNhapVien\", Title: \"Nhập viện\", Width: 100, Sortable: true },\n      // { Field: \"NgayGioBenhNhanVaoPhongKham\", Title: \"Ngày giờ vào phòng khám\", Width: 150, Sortable: true },  \n      { Field: \"Action\", Title: \"\", Width: 50, Template: this.acTionTemplate },\n    ];\n    this.listTagSearch = new Array<TagItem>();\n    this.loadPageStart == false;\n\n    //this.TimkiemNangCao();\n    this.danhSachDaKhamSearch.NoiTiepNhanId = this.phongKham;\n    var queryString = JSON.stringify(this.danhSachDaKhamSearch);\n    let dateNow = new Date();\n    this.danhSachDaKhamSearch.ThoiDiemTiepNhanTuFormat = new Date(dateNow.getFullYear(), dateNow.getMonth(), dateNow.getDate());\n    this.danhSachDaKhamSearch.ThoiDiemTiepNhanDenFormat = new Date(dateNow.getFullYear(), dateNow.getMonth(), dateNow.getDate(), 23, 59, 59, 59);\n    if (this.danhSachDaKhamSearch.ThoiDiemTiepNhanTuFormat != null) {\n      this.danhSachDaKhamSearch.FromDate = CommonService.formatDateTime(\n        this.danhSachDaKhamSearch.ThoiDiemTiepNhanTuFormat,\n        \"dd/mm/yyyy\"\n      );\n    } else {\n      this.danhSachDaKhamSearch.FromDate = null;\n    }\n\n    if (this.danhSachDaKhamSearch.ThoiDiemTiepNhanDenFormat != null) {\n      this.danhSachDaKhamSearch.ToDate = CommonService.formatDateTime(\n        this.danhSachDaKhamSearch.ThoiDiemTiepNhanDenFormat,\n        \"dd/mm/yyyy\"\n      );\n    } else {\n      this.danhSachDaKhamSearch.ToDate = null;\n    }\n\n    var queryString = JSON.stringify(this.danhSachDaKhamSearch);\n    this.gridChild.additionalSearchString = queryString;\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['phongKham'] && changes['phongKham'].previousValue != null && changes['phongKham'].previousValue != changes['phongKham'].currentValue) {\n      // this.TimkiemNangCao();\n    }\n  }\n  clear() {\n    if (this.searchString == null || this.searchString == \"\") {\n      this.gridChild.searchString = \"\";\n      this.TimkiemNangCao();\n    }\n  }\n  onKey(event: any) {\n    if (event.key == \"Enter\") {\n      if (this.phongKham != 0) {\n        this.TimkiemNangCao();\n      }\n    }\n    if (event.key == \"Backspace\") {\n      if (this.searchString == null || this.searchString == undefined || this.searchString == \"\") {\n        this.gridChild.searchString = null;\n        if (this.phongKham != 0) {\n          this.TimkiemNangCao();\n        }\n      }\n    }\n  }\n\n  clearSearch() {\n    this.searchString = \"\";\n    this.gridChild.search();\n  }\n  Timkiem() {\n    let QueryString = null;\n    this.gridChild._additionalSearchString = null;\n    if (this.searchString != null) {\n      QueryString = this.searchString;\n    }\n    //this.gridChild.queryId = this.phongKham;\n    this.gridChild.searchString = QueryString;\n    this.gridChild.search();\n  }\n\n  closeMenu() {\n    this.trigger.closeMenu();\n  }\n\n  cancelSearch() { // cần kiểm tra lại\n    this.danhSachDaKhamSearch = new DanhSachDaKhamSearch();\n    this.danhSachDaKhamSearch.LaKhamDoan = this.isKhamDoan;\n    this.listTagSearch = new Array<TagItem>();\n    this.listTagShowOnHeader = new Array<TagItem>();\n    var queryString = JSON.stringify(this.danhSachDaKhamSearch);\n    this.gridChild._additionalSearchString = queryString;\n    this.gridChild.search();\n  }\n\n  TimkiemNangCao() {\n    this.danhSachDaKhamSearch.IsKhamDoanTatCa = this.isKhamDoanTatCa;\n    this.listTagShowOnHeader = JSON.parse(JSON.stringify(this.listTagSearch));\n\n    if (this.danhSachDaKhamSearch.ThoiDiemTiepNhanTuFormat != null) {\n      this.danhSachDaKhamSearch.FromDate = CommonService.formatDateTime(this.danhSachDaKhamSearch.ThoiDiemTiepNhanTuFormat, \"dd/mm/yyyy\");\n    }\n    else {\n      this.danhSachDaKhamSearch.FromDate = null;\n    }\n\n    if (this.danhSachDaKhamSearch.ThoiDiemTiepNhanDenFormat != null) {\n      this.danhSachDaKhamSearch.ToDate = CommonService.formatDateTime(this.danhSachDaKhamSearch.ThoiDiemTiepNhanDenFormat, \"dd/mm/yyyy\");\n    }\n    else {\n      this.danhSachDaKhamSearch.ToDate = null;\n    }\n\n\n    this.danhSachDaKhamSearch.NoiTiepNhanId = this.phongKham; // phong khám\n\n    var queryString = JSON.stringify(this.danhSachDaKhamSearch);\n    this.gridChild.searchString = this.searchString;\n    if (this.isFirst) {\n      this.isFirst = false;\n      this.gridChild._additionalSearchString = queryString;\n    } else {\n      this.gridChild._additionalSearchString = queryString;\n    }\n    this.gridChild.search();\n  }\n\n  searchChanges() {\n    if (this.searchString == null || this.searchString == \"\") {\n      this.gridChild.searchString = \"\";\n      this.gridChild.search();\n    }\n    else if (this.searchString == null || this.searchString == \"\" && this.danhSachDaKhamSearch.ThoiDiemTiepNhanTuFormat != null && this.danhSachDaKhamSearch.ThoiDiemTiepNhanDenFormat != null) {\n      this.TimkiemNangCao();\n    }\n    else if (this.searchString == null || this.searchString == \"\" && this.danhSachDaKhamSearch.ThoiDiemTiepNhanTuFormat == null && this.danhSachDaKhamSearch.ThoiDiemTiepNhanDenFormat != null) {\n      this.TimkiemNangCao();\n    }\n    else if (this.searchString == null || this.searchString == \"\" && this.danhSachDaKhamSearch.ThoiDiemTiepNhanTuFormat != null && this.danhSachDaKhamSearch.ThoiDiemTiepNhanDenFormat == null) {\n      this.TimkiemNangCao();\n    }\n    else if (this.searchString == null || this.searchString == \"\" && this.danhSachDaKhamSearch.ThoiDiemTiepNhanTuFormat != null && this.danhSachDaKhamSearch.ThoiDiemTiepNhanDenFormat == null) {\n      this.TimkiemNangCao();\n    }\n  }\n  thoiDiemTNChange() {\n    if (this.danhSachDaKhamSearch.ThoiDiemTiepNhanTuFormat == null && this.danhSachDaKhamSearch.ThoiDiemTiepNhanDenFormat == null) {\n      this.TimkiemNangCao();\n    }\n    else if (this.danhSachDaKhamSearch.ThoiDiemTiepNhanTuFormat != null && this.danhSachDaKhamSearch.ThoiDiemTiepNhanDenFormat != null) {\n      this.TimkiemNangCao();\n    }\n    else if (this.danhSachDaKhamSearch.ThoiDiemTiepNhanTuFormat == null && this.danhSachDaKhamSearch.ThoiDiemTiepNhanDenFormat != null) {\n      this.TimkiemNangCao();\n    }\n    else if (this.danhSachDaKhamSearch.ThoiDiemTiepNhanTuFormat != null && this.danhSachDaKhamSearch.ThoiDiemTiepNhanDenFormat == null) {\n      this.TimkiemNangCao();\n    }\n  }\n  DetailLSKBPopup(dataItem: any) {\n    let dialogRef = this.dialog.open(LichSuKhamBenhPopupComponent, {\n      disableClose: false,\n      width: '1500px',\n      height: 'auto',\n      data: dataItem,\n    });\n    dialogRef.afterClosed().subscribe(result => {\n    });\n  }\n  // update khám lại 27/7/2020\n  KhamLai(event: any) {\n    this.dialog.open(ConfirmComponent, {\n      disableClose: false,\n      width: '400px',\n      data: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn khám lại bênh nhân này?\" }\n    }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n      if (result == \"Yes\") {\n        this.apiService.post<any>(\"KhamBenh/CapNhatKhamLai?yckbId=\" + event + \"&phongkham=\" + this.phongKham).subscribe(\n          resultData => {\n            if (resultData == \"Người bệnh này không còn khám\") {\n              this.notificationService.showError(' Bệnh nhân này không được khám lại vì tiếp nhận này đã hoàn tất');\n            }\n            this.TimkiemNangCao();\n          },\n          (err: any) => {\n            if (err.Message != \"Validation Failed\") {\n              this.notificationService.showError(err.Message);\n            }\n          });\n      }\n    });\n  }\n\n  // [BVHD-3368]\n  CapNhatKhamLaiKhamSucKhoe(dataItem: any) {\n    this.dialog.open(ConfirmComponent, {\n      disableClose: false,\n      width: '400px',\n      data: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn khám lại bênh nhân này?\" }\n    }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n      if (result == \"Yes\") {\n        var obj = {\n          YeuCauTiepNhanId: dataItem.YeuCauTiepNhanId,\n          YeuCauKhamBenhId: dataItem.KhamTheoPhongYeuCauKhamBenhId\n        }\n        this.apiService.post<any>(\"KhamBenh/CapNhatKhamLaiKhamSucKhoe\", obj).subscribe(\n          resultData => {\n            this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Khám lại\"]));\n            this.TimkiemNangCao();\n          },\n          (err: any) => {\n            if (err.Message != \"Validation Failed\") {\n              this.notificationService.showError(err.Message);\n            }\n          });\n      }\n    });\n  }\n  InToaThuoc(dataItem: any) {\n    this.apiService.post<any>(\"KhamBenh/GetYeuCauKhamBenh?yeuCauTiepNhanId=\" + dataItem.YeuCauTiepNhanId + \"&yeuCauKhamBenhId=\" + dataItem.Id ).subscribe(resultData => {\n      if (resultData != null) {\n        this.dialog\n          .open(ToaThuocKhamBenhComfirmDkComponent, {\n            disableClose: false,\n            width: \"400px\",\n            data: resultData,\n          });\n      }\n      else{\n        let dialogRef = this.dialog.open(PopupMessageKhongCoDvInDkComponent, {\n          width: '400px',\n          data: { Model: LoaiPhieuIn.InPhieuChiDinh }\n      });\n      }\n  },\n      (err: ApiError) => {\n          if (err.Message != \"Validation Failed\") {\n              this.notificationService.showError(err.Message);\n          }\n      });\n \n\n  }\n  In(dataItem :any , loaiPhieuIn :number){\n    console.log(dataItem);\n    switch (loaiPhieuIn) {\n      case LoaiPhieuIn.InPhieuChiDinh :\n\n       this.apiService.post<any>(\"KhamBenh/GetDanhSachDichVuChiDinhCuaBenhNhan?yeuCauTiepNhanId=\" + dataItem.YeuCauTiepNhanId + \"&yeuCauKhamBenhId=\" + dataItem.Id ).subscribe(resultData => {\n            if (resultData.Data.length != 0) {\n              let gridChiDinh :any[] = [];\n              resultData.Data.forEach(elements => {\n                if(elements.NhomId == 1 || elements.NhomId == 2)\n                {\n                  let obj = {\n                    dichVuChiDinhId : elements.Id,\n                    nhomChiDinhId : elements.NhomId\n                  };\n                  gridChiDinh.push(obj);\n                }\n                });\n              let dataIn = {\n                YeuCauTiepNhanId: dataItem.YeuCauTiepNhanId,\n                YeuCauKhamBenhid: dataItem.Id,\n                ListDichVuChiDinh: gridChiDinh, // grid\n                InChungChiDinh: 0,\n                hosting: window.location.protocol + \"//\" + window.location.host,\n                KieuInChung: true,\n                GhiChuCanLamSang: \"\",\n                IsKhamDoanTatCa : false, // khám đoàn k có\n                EnumInChiDinhKhamBenhNgoaiTru: 1 , // để tạm,\n                listGridSelect: resultData.Data,\n                Loai: 1,\n                InDichVuBacSiChiDinh : true\n            };\n            let dialogRef = this.dialog.open(PopupChonLoaiInViewComponent, {\n              width: '1000px',\n              data: { Model: dataIn }\n          });\n            }\n            else{\n              let dialogRef = this.dialog.open(PopupMessageKhongCoDvInDkComponent, {\n                width: '400px',\n                data: { Model: LoaiPhieuIn.InPhieuChiDinh }\n            });\n            }\n        },\n            (err: ApiError) => {\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n            });\n          \n          break;\n      case  LoaiPhieuIn.InDonThuocBHYT:\n     \n        let data={\n          YeuCauTiepNhanId :dataItem.YeuCauTiepNhanId,\n          YeuCauKhamBenhId :dataItem.Id,\n          ThuocBHYT:true,\n          HostingName :window.location.protocol + \"//\" + window.location.host\n        };\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Process)) {\n          this.apiService.post<any>(\"KhamBenh/InToaThuocBHYTVaKhongBHYTDanhSachKhamBenh\", data).subscribe(\n            result => {\n              if (result != undefined && result != null && result !=\"\") {\n                this.dialog\n                  .open(ToaThuocKhamBenhDkPopupComponent, {\n                    disableClose: true,\n                    width: \"1200px\",\n                    data: result,\n                  });\n              }\n              else{\n                let dialogRef = this.dialog.open(PopupMessageKhongCoDvInDkComponent, {\n                  width: '400px',\n                  data: { Model: LoaiPhieuIn.InDonThuocBHYT }\n              });\n              }\n            },\n            (err: ApiError) => {\n              if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n              };\n            });\n        } else {\n          this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n           break;\n      case LoaiPhieuIn.InDonThuocNhaThuoc:\n        // public ThuocBHYT: boolean = true,\n        // public ThuocKhongBHYT: boolean = true,\n        // public VatTu: boolean = true,\n        let dataCanInDonThuocKhongBHYT={\n          YeuCauTiepNhanId :dataItem.YeuCauTiepNhanId,\n          YeuCauKhamBenhId :dataItem.Id,\n          ThuocKhongBHYT:true,\n          HostingName :window.location.protocol + \"//\" + window.location.host\n        };\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Process)) {\n          this.apiService.post<any>(\"KhamBenh/InToaThuocBHYTVaKhongBHYTDanhSachKhamBenh\", dataCanInDonThuocKhongBHYT).subscribe(\n            result => {\n              if (result != undefined && result != null && result !=\"\") {\n                this.dialog\n                  .open(ToaThuocKhamBenhDkPopupComponent, {\n                    disableClose: true,\n                    width: \"1200px\",\n                    data: result,\n                  });\n              }\n              else{\n                let dialogRef = this.dialog.open(PopupMessageKhongCoDvInDkComponent, {\n                  width: '400px',\n                  data: { Model:  LoaiPhieuIn.InDonThuocNhaThuoc}\n              });\n              }\n            },\n            (err: ApiError) => {\n              if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n              };\n            });\n        } else {\n          this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n           break;\n      case LoaiPhieuIn.InPhieuKhamBenh:\n        // public long YeuCauKhamBenhId { get; set; }\n        // public bool CoKhamBenh { get; set; }\n        // public bool CoHeader { get; set; }\n        // public bool CoKhamBenhVaoVien { get; set; }\n        let dataPhieuKhamBenh={\n          YeuCauKhamBenhId:dataItem.Id,\n          CoKhamBenh : true\n        };\n        this.apiService.post<any>(\"KhamBenh/InPhieuKhamBenh\", dataPhieuKhamBenh).subscribe(\n          resultData => {\n              if (resultData !=undefined && resultData != null && resultData != \"\") {\n                  this.dialog\n                      .open(PhieuKhamBenhVaoVienPopupComponent, {\n                          disableClose: true,\n                          width: \"1000px\",\n                          data: { html: resultData, Title: \"PHIẾU KHÁM BỆNH\" },\n                      })\n                      .afterClosed()\n                      .subscribe(() => {\n                      });\n              }\n              else{\n                let dialogRef = this.dialog.open(PopupMessageKhongCoDvInDkComponent, {\n                  width: '400px',\n                  data: { Model:  LoaiPhieuIn.InPhieuKhamBenh}\n              });\n              }\n          },\n          (err: ApiError) => {\n              if (err.Message != \"Validation Failed\") {\n                  this.notificationService.showError(err.Message);\n              };\n          });\n           break;\n      case LoaiPhieuIn.InPhieuKhamBenhVaoVien:\n        let dataPhieuKhamBenhVaoVien={\n          YeuCauKhamBenhId:dataItem.Id,\n          CoKhamBenhVaoVien : true\n        };\n        if(dataItem.CoNhapVien == true)\n        {\n          this.apiService.post<any>(\"KhamBenh/InPhieuKhamBenh\", dataPhieuKhamBenhVaoVien).subscribe(\n            resultData => {\n                if (resultData !=undefined && resultData != null && resultData != \"\") {\n                    this.dialog\n                        .open(PhieuKhamBenhVaoVienPopupComponent, {\n                            disableClose: true,\n                            width: \"1000px\",\n                            data: { html: resultData, Title: \"PHIẾU KHÁM BỆNH\" },\n                        })\n                        .afterClosed()\n                        .subscribe(() => {\n                        });\n                }\n                else{\n                  let dialogRef = this.dialog.open(PopupMessageKhongCoDvInDkComponent, {\n                    width: '400px',\n                    data: { Model:  LoaiPhieuIn.InPhieuKhamBenhVaoVien}\n                });\n                }\n            },\n            (err: ApiError) => {\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                };\n            });\n        }\n        else{\n          let dialogRef = this.dialog.open(PopupMessageKhongCoDvInDkComponent, {\n            width: '400px',\n            data: { Model:  LoaiPhieuIn.InPhieuKhamBenhVaoVien}\n        });\n        }\n       \n           break;\n      default: \n      break;\n  }\n  }\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgvZGFuaC1zYWNoLWRhLWtoYW0tbGlzdC9wb3B1cC1tZXNzYWdlLWtob25nLWNvLWR2LWluLWRrL3BvcHVwLW1lc3NhZ2Uta2hvbmctY28tZHYtaW4tZGsuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit,Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-popup-message-khong-co-dv-in-dk',\n  templateUrl: './popup-message-khong-co-dv-in-dk.component.html',\n  styleUrls: ['./popup-message-khong-co-dv-in-dk.component.scss']\n})\nexport class PopupMessageKhongCoDvInDkComponent implements OnInit {\n  showMessage:number = 1;\n  constructor( @Inject(MAT_DIALOG_DATA) public data: any, private dialog: MatDialog) { }\n\n  ngOnInit() {\n   this.showMessage = this.data.Model;\n  }\n close(){\n   this.dialog.closeAll();\n }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgvZGFuaC1zYWNoLWRhLWtoYW0tbGlzdC90b2EtdGh1b2Mta2hhbS1iZW5oLWNvbWZpcm0tZGsvdG9hLXRodW9jLWtoYW0tYmVuaC1jb21maXJtLWRrLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Optional, Inject } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { MAT_DIALOG_DATA, MatDialogRef, MatDialog } from '@angular/material/dialog';\nimport { InToaThuocLichSuKhamBenhDanhSach } from '../../kham-benh.model';\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { ToaThuocKhamBenhDkPopupComponent } from '../toa-thuoc-kham-benh-dk-popup/toa-thuoc-kham-benh-dk-popup.component';\n\n@Component({\n  selector: 'app-toa-thuoc-kham-benh-comfirm-dk',\n  templateUrl: './toa-thuoc-kham-benh-comfirm-dk.component.html',\n  styleUrls: ['./toa-thuoc-kham-benh-comfirm-dk.component.scss']\n})\nexport class ToaThuocKhamBenhComfirmDkComponent implements OnInit {\n  thongTin: InToaThuocLichSuKhamBenhDanhSach = new InToaThuocLichSuKhamBenhDanhSach();\n  documentType: DocumentType;\n  popupLoadingData: any = null;\n  validationErrors: any = null;\n  constructor(\n    private dialog: MatDialog,\n    private apiService: ApiService,\n    private notificationService: NotificationService,\n    private authService: AuthService,\n    private dialogRef: MatDialogRef<ToaThuocKhamBenhComfirmDkComponent>,\n    @Optional() @Inject(MAT_DIALOG_DATA) public dataItem: any) { }\n\n  ngOnInit() {\n    this.documentType = DocumentType.LichSuKhamBenh;\n    this.thongTin.HostingName = window.location.protocol + \"//\" + window.location.host;\n    this.thongTin.YeuCauKhamBenhId = this.dataItem.Id;\n    this.thongTin.YeuCauTiepNhanId = this.dataItem.YeuCauTiepNhanId;\n\n    console.log(\"data: \", this.dataItem)\n  }\n\n  loadingPage() {\n    this.popupLoadingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang tải dữ liệu...\" },\n    });\n  }\n\n\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n\n  InToaThuoc() {\n    var self = this;\n    self.loadingPage();\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Process)) {\n      self.apiService.post<any>(\"KhamBenh/InToaThuocBHYTVaKhongBHYTDanhSachKhamBenh\", self.thongTin).subscribe(\n        result => {\n          if (result != undefined && result != null) {\n            self.closePopupLoadingData();\n            self.dialog\n              .open(ToaThuocKhamBenhDkPopupComponent, {\n                disableClose: true,\n                width: \"1200px\",\n                data: result,\n              });\n          }\n        },\n        (err: ApiError) => {\n          this.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n          };\n          self.closePopupLoadingData();\n        });\n    } else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  close() {\n    this.dialog.closeAll();\n  }\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9kYW5oLXNhY2gtZGEta2hhbS1saXN0L3RvYS10aHVvYy1raGFtLWJlbmgtZGstcG9wdXAvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxraGFtLWJlbmhcXGRhbmgtc2FjaC1kYS1raGFtLWxpc3RcXHRvYS10aHVvYy1raGFtLWJlbmgtZGstcG9wdXBcXHRvYS10aHVvYy1raGFtLWJlbmgtZGstcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgvZGFuaC1zYWNoLWRhLWtoYW0tbGlzdC90b2EtdGh1b2Mta2hhbS1iZW5oLWRrLXBvcHVwL3RvYS10aHVvYy1raGFtLWJlbmgtZGstcG9wdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9kYW5oLXNhY2gtZGEta2hhbS1saXN0L3RvYS10aHVvYy1raGFtLWJlbmgtZGstcG9wdXAvdG9hLXRodW9jLWtoYW0tYmVuaC1kay1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59IiwiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwMHB4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn0iXX0= */\"","import { Component, OnInit, Optional, Inject, Renderer2 } from '@angular/core';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { MAT_DIALOG_DATA, MatDialog } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-toa-thuoc-kham-benh-dk-popup',\n  templateUrl: './toa-thuoc-kham-benh-dk-popup.component.html',\n  styleUrls: ['./toa-thuoc-kham-benh-dk-popup.component.scss']\n})\nexport class ToaThuocKhamBenhDkPopupComponent implements OnInit {\n  icClose = icClose;\n  src: string = \"\";\n  constructor(\n    private dialog: MatDialog, public sanitizer: DomSanitizer,\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any,private renderer: Renderer2\n  ) { }\n\n  ngOnInit() {\n    this.src = \"data:text/html;charset=utf-8,\" + encodeURIComponent(this.data);\n  }\n\n  close() {\n    this.dialog.closeAll();\n  }\n\n  getSharedPrintForm() {\n\n    var source = this.data;\n    source = source.replace(\"<p style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'><th>TOA THUỐC BẢO HIỂM Y TẾ</th></p>\", \"\");\n    source = source.replace(\"<p style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'>\" +\n      \"<th>TOA THUỐC KHÔNG BẢO HIỂM Y TẾ</th>\" + \"</p>\", \"\");\n    source = source.replace(\"<p style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'>\" +\n      \"<th>TOA THUỐC NGOÀI BỆNH VIỆN</th>\" + \"</p>\", \"\");\n      source = source.replace(\"<p  style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'>\" +\n      \"<th>TOA THUỐC THỰC PHẨM CHỨC NĂNG</ th>\" + \"</p>\", \"\");\n    source = source.replace(\"<p style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'>\" +\n      \"<th>VẬT TƯ Y TẾ</th>\" + \"</p>\", \"\");\n      \n    return new Promise(resolve => {\n      resolve(source);\n      this.close();\n    });\n\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oLWNoby1raGFtLWxpc3Qva2hhbS1iZW5oLWNoby1raGFtLWxpc3QuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, ViewChild, TemplateRef, Input, OnChanges } from '@angular/core';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport icicclose from '@iconify/icons-ic/twotone-close';\nimport { MatMenuTrigger, MatDialog } from '@angular/material';\nimport { TagItem } from '../../tiep-nhan-benh-nhan/danh-sach-cho-kham/danh-sach-cho-kham.model';\nimport { DanhSachChoKhamSearch } from '../kham-benh.model';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { GroupDescriptor, SortDescriptor } from '@progress/kendo-data-query';\nimport { FormControl } from '@angular/forms';\nimport icBlock from '@iconify/icons-ic/twotone-block';\nimport icMoreHoriz from '@iconify/icons-ic/twotone-more-horiz';\nimport icEdit from '@iconify/icons-ic/twotone-edit';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icPlay from '@iconify/icons-ic/play-circle-filled';\nimport icAssignment from '@iconify/icons-ic/assignment';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { LoaiHangDoi } from 'src/app/shared/enum/kham-benh.enum';\nimport { NotificationService } from 'src/app/core/services/notification.service';\n\n@Component({\n  selector: 'app-kham-benh-cho-kham-list',\n  templateUrl: './kham-benh-cho-kham-list.component.html',\n  styleUrls: ['./kham-benh-cho-kham-list.component.scss']\n})\nexport class KhamBenhChoKhamListComponent implements OnInit, OnChanges {\n\n  documentType: DocumentType;\n  gridColumns: any[] = [];\n  searchString: string;\n  icSearch = icSearch;\n  icicclose = icicclose;\n  icBlock = icBlock;\n  icMoreHoriz = icMoreHoriz;\n  icDelete = icDelete;\n  icEdit = icEdit;\n  icPlay = icPlay;\n  icAssignment = icAssignment;\n  phongKhamTemp: number = 0;\n  danhSachChoKhamSearch: DanhSachChoKhamSearch;\n  danhSachChoKhamSearchDefault: DanhSachChoKhamSearch;\n  showCancelSearch: boolean = false;\n  listTagShowOnHeader: Array<TagItem>;\n  listTagSearch: Array<TagItem>;\n  urlGetData: string = \"KhamBenh/GetDataForGridAsyncDanhSachChoKhams\";\n  urlGetTotalPage: string = \"KhamBenh/GetTotalPageForGridAsyncDanhSachChoKhams\";\n  groups: GroupDescriptor[] = [{ field: 'Khoa' }];\n  flagOnceSearch: boolean = false;\n\n  @ViewChild(GridComponent, { static: true }) gridChild: GridComponent;\n  @ViewChild(MatMenuTrigger, { static: false }) trigger: MatMenuTrigger;\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n  @ViewChild('trangThaiTemplate', { static: true }) trangThaiTemplate: TemplateRef<any>;\n  @ViewChild('tinhtrangTemplate', { static: true }) tinhtrangTemplate: TemplateRef<any>;\n  @ViewChild('thoiDiemTiepNhanTemplate', { static: true }) thoiDiemTiepNhanTemplate: TemplateRef<any>;\n\n  @Input() phongKham: number = 0;\n  phongKhamIdWhere: number = 0;\n  searchCtrl = new FormControl;\n  @Input() sort: SortDescriptor[] = [{\n    field: \"ThoiDiemTiepNhan\",\n    dir: 'desc'\n  }\n  ];\n  constructor(\n    private dialog: MatDialog\n    , private apiService: ApiService,\n    private notificationService: NotificationService,\n\n  ) { }\n\n\n  ngOnInit() {\n    this.danhSachChoKhamSearch = new DanhSachChoKhamSearch();\n    this.danhSachChoKhamSearchDefault = new DanhSachChoKhamSearch();\n    this.documentType = DocumentType.KhamBenh;\n    this.gridColumns = [\n      { Field: \"MaYeuCauTiepNhan\", Title: \"Mã TN\", Width: 100, Sortable: true },\n      { Field: \"HoTen\", Title: \"Tên Người Bệnh\", Width: 200, Sortable: true },\n      { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 80, Sortable: true },\n      { Field: \"DiaChi\", Title: \"Địa chỉ\", Width: 220, Sortable: true },\n      { Field: \"TrangThaiDisplay\", Title: \"Tình Trạng\", Width: 100, Sortable: true, Template: this.tinhtrangTemplate },\n      { Field: \"ThoiDiemTiepNhan\", Title: \"Tiếp Nhận Lúc\", Width: 150, Sortable: true, Template: this.thoiDiemTiepNhanTemplate },\n      { Field: \"TenBenh\", Title: \"Lý Do Khám Bệnh\", Width: 130, Sortable: true },\n      { Field: \"DoiTuong\", Title: \"Đối Tượng\", Width: 140, Sortable: true },\n      { Field: \"Action\", Title: \"\", Width: 50, Template: this.trangThaiTemplate }\n    ];\n    this.listTagSearch = new Array<TagItem>();\n    this.TimkiemById();\n  }\n\n  ngOnChanges() {\n    this.phongKhamIdWhere = this.phongKham;\n    this.TimkiemById();\n  }\n\n  TimkiemNangCao() {\n    this.listTagShowOnHeader = JSON.parse(JSON.stringify(this.listTagSearch));\n\n        if (this.danhSachChoKhamSearch.ThoiDiemTiepNhanTuFormat != null) {\n            this.danhSachChoKhamSearch.FromDate = CommonService.formatDateTime(this.danhSachChoKhamSearch.ThoiDiemTiepNhanTuFormat, \"dd/mm/yyyy\");\n        }\n\n        if (this.danhSachChoKhamSearch.ThoiDiemTiepNhanDenFormat != null) {\n            this.danhSachChoKhamSearch.ToDate = CommonService.formatDateTime(this.danhSachChoKhamSearch.ThoiDiemTiepNhanDenFormat, \"dd/mm/yyyy\");\n        }\n        this.danhSachChoKhamSearch.PhongBenhVienId = this.phongKham; // phong khám\n        var queryString = JSON.stringify(this.danhSachChoKhamSearch);\n        this.gridChild.searchString = this.searchString;\n        this.gridChild._additionalSearchString = queryString;\n     \n        this.gridChild.search();\n        this.showCancelSearch = this.listTagShowOnHeader != undefined && this.listTagShowOnHeader.length > 0\n  }\n\n  onKey(event: any) {\n    if (event.key == \"Enter\") {\n      if (this.phongKham != 0) {\n        this.TimkiemById();\n        this.closeMenu();\n      }\n    }\n  }\n\n  clearSearch() {\n    this.searchString = \"\";\n    this.gridChild.search();\n  }\n\n  TimkiemById() {\n    this.gridChild.urlGetData = this.urlGetData;\n    this.gridChild.urlGetTotalPage = this.urlGetTotalPage;\n    let phongKhamId = null;\n    this.gridChild._additionalSearchString = null;\n    if (this.searchString != null || this.searchString != \"\") {\n    }\n    this.gridChild.searchString = null;\n    let SearchQueryString = null;\n    if (this.phongKhamIdWhere != 0) {\n      phongKhamId = this.phongKhamIdWhere;\n    } else {\n      this.phongKhamTemp = phongKhamId;\n      phongKhamId = this.phongKhamIdWhere;\n    }\n    if (this.searchString != null) {\n      SearchQueryString = \"\\\"\" + this.searchString + \"\\\"\";\n    }\n    if (this.phongKhamIdWhere != 0) {\n      this.danhSachChoKhamSearch = new DanhSachChoKhamSearch();\n      this.listTagSearch = new Array<TagItem>();\n      this.listTagShowOnHeader = new Array<TagItem>();\n      let queryString = \"{\\\"PhongBenhVienId\\\":\" + phongKhamId + \",\\\"searchString\\\":\" + SearchQueryString + \"}\";\n      this.gridChild.searchString = queryString;\n      this.gridChild.search();\n      this.showCancelSearch = false;\n    }\n  }\n\n  closeMenu() {\n    this.trigger.closeMenu();\n  }\n \n\n\n  searchChanges() {\n    if (this.searchString == null || this.searchString == \"\") {\n      this.TimkiemById();\n    }\n  }\n\n\n  getInputSearchValue(obj: any, keyValue: any, titleValue: any) {\n    let index = this.listTagSearch.findIndex(x => x.Key == keyValue);\n    if (obj !== null && obj !== undefined && obj !== '') {\n\n      // let valueFormat = typeof obj == \"string\" ? obj : CommonService.formatDateTime(obj, \"dd/mm/yyyy\");\n      let valueFormat = undefined;\n      if (typeof obj == \"string\" || typeof obj == \"number\") {\n        valueFormat = obj;\n      } else {\n        valueFormat = CommonService.formatDateTimeSACH(obj, \"dd/mm/yyyy\");\n      }\n\n      if (index < 0) {\n        let item = new TagItem();\n        item.Key = keyValue;\n        item.Value = valueFormat;\n        item.Title = titleValue;\n        this.listTagSearch.push(item);\n      }\n      else {\n        this.listTagSearch[index].Value = valueFormat;\n      }\n    }\n    else {\n      if (index != -1) {\n        this.listTagSearch.splice(index, 1);\n      }\n    }\n  }\n\n  getDropdownItem(obj: any, keyValue: any, titleValue: any) {\n    let index = this.listTagSearch.findIndex(x => x.Key == keyValue && x.Title == titleValue);\n    if (obj == undefined && this.listTagSearch.findIndex(x => x.Title == titleValue) != -1) {\n      let indexTitle = this.listTagSearch.findIndex(x => x.Title == titleValue);\n      this.listTagSearch.splice(indexTitle, 1);\n    }\n    if (obj != undefined && obj.KeyId != null) {\n      if (obj.KeyId == null) {\n        if (index != -1) {\n          this.listTagSearch.splice(index, 1);\n        }\n      }\n      else {\n        if (index < 0) {\n          let item = new TagItem();\n          item.Key = keyValue;\n          item.Value = obj.DisplayName;\n          item.Title = titleValue;\n          let indexTitle = this.listTagSearch.findIndex(x => x.Title == titleValue);\n          if (indexTitle >= 0) {\n            this.listTagSearch.splice(indexTitle, 1);\n          }\n          this.listTagSearch.push(item);\n        }\n        else {\n          this.listTagSearch.pop();\n          this.listTagSearch[index].Value = obj.DisplayName;\n        }\n      }\n    }\n    else {\n      if (index != -1) {\n        this.listTagSearch.splice(index, 1);\n\n      }\n    }\n  }\n\n  vaoHangDoi(event: any) {\n    console.log(event)\n    if (event != undefined && event != null) {\n      if (event.LoaiHangDoi == LoaiHangDoi.ChuanBiKham) {\n        this.apiService.post(\"KhamBenh/XuLyThemBenhNhanVaoChoKhamHienTai?hangDoiId=\" + event.Id)\n          .subscribe(() => {\n            this.notificationService.showSuccess(\"Thêm người bệnh vào hàng đợi thành công.\");\n            this.TimkiemById();\n          })\n      }\n    }\n\n  }\n}","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { KhamBenhComponent } from './kham-benh/kham-benh.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: KhamBenhComponent,\n    data: {\n      title: \"Khám bệnh\",\n      DocumentType: DocumentType.KhamBenh,\n      SecurityOperation: SecurityOperation.View\n    }\n  },\n  \n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class KhamBenhRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { GridModule } from '@progress/kendo-angular-grid';\nimport { IntlModule } from '@progress/kendo-angular-intl';\n\n\nimport { registerLocaleData } from '@angular/common';\nimport localeVi from '@angular/common/locales/vi';\nregisterLocaleData(localeVi, 'vi');\n\nimport { KhamBenhRoutingModule } from './kham-benh-routing.module';\nimport { KhamBenhComponent } from './kham-benh/kham-benh.component';\nimport { PageLayoutModule } from 'src/@vex/components/page-layout/page-layout.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { BreadcrumbsModule } from 'src/@vex/components/breadcrumbs/breadcrumbs.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TooltipModule } from '@progress/kendo-angular-tooltip';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { MatIconModule, MatMenuModule, MatButtonToggleModule, MatTooltipModule, MatButtonModule, MatDialogModule, MatCheckboxModule, MatRadioModule } from '@angular/material';\nimport { IconModule } from '@visurel/iconify-angular';\nimport { LayoutModule } from '@progress/kendo-angular-layout';\nimport { KhamBenhChoKhamListComponent } from './kham-benh-cho-kham-list/kham-benh-cho-kham-list.component';\nimport { KhamBenhTimBenhNhanPopupComponent } from './kham-benh/kham-benh-tim-benh-nhan-popup/kham-benh-tim-benh-nhan-popup.component';\nimport { KhamBenhLichSuKhamListComponent } from './kham-benh/kham-benh-lich-su-kham-list/kham-benh-lich-su-kham-list.component';\nimport { ScrollToModule } from 'ng2-scroll-to-el';\nimport { LanKhamHienTaiLsClsComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ls-cls/lan-kham-hien-tai-ls-cls.component';\nimport { LanKhamHienTaiKetLuanComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ket-luan/lan-kham-hien-tai-ket-luan.component';\nimport { LanKhamHienTaiPhauThuatThuThuatComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-phau-thuat-thu-thuat/lan-kham-hien-tai-phau-thuat-thu-thuat.component';\nimport { LanKhamHienTaiVatTuTieuHaoComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-vat-tu-tieu-hao/lan-kham-hien-tai-vat-tu-tieu-hao.component';\nimport { LanKhamHienTaiBenhNhanTiepTheoPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-benh-nhan-tiep-theo-popup/lan-kham-hien-tai-benh-nhan-tiep-theo-popup.component';\n\nimport { DanhSachDaKhamListComponent } from './danh-sach-da-kham-list/danh-sach-da-kham-list.component';\nimport { MatInputModule, MatOptionModule, MatSelectModule, MatTabsModule } from '@angular/material';\nimport { LanKhamHienTaiKhamBenhComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh/lan-kham-hien-tai-kham-benh.component';\nimport { LanKhamHienTaiKhamBenhChiDinhComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-chi-dinh/lan-kham-hien-tai-kham-benh-chi-dinh.component';\nimport { LanKhamHienTaiKhamBenhDiUngThuocComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-di-ung-thuoc/lan-kham-hien-tai-kham-benh-di-ung-thuoc.component';\nimport { LanKhamHienTaiKhamBenhKhamBenhComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-kham-benh/lan-kham-hien-tai-kham-benh-kham-benh.component';\nimport { LanKhamHienTaiKhamBenhTienSuBenhComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-tien-su-benh/lan-kham-hien-tai-kham-benh-tien-su-benh.component';\nimport { LanKhamHienTaiKhamBenhChiSoSinhTonComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-chi-so-sinh-ton/lan-kham-hien-tai-kham-benh-chi-so-sinh-ton.component';\nimport { LanKhamHienTaiBenhNhanDangLamChiDinhPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-benh-nhan-dang-lam-chi-dinh-popup/lan-kham-hien-tai-benh-nhan-dang-lam-chi-dinh-popup.component';\nimport { LichSuKhamBenhComponent } from './kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh/lich-su-kham-benh.component';\nimport { LichSuKhamBenhChiSoSinhTonComponent } from './kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-chi-so-sinh-ton/lich-su-kham-benh-chi-so-sinh-ton.component';\nimport { LichSuKhamBenhTienSuBenhComponent } from './kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-tien-su-benh/lich-su-kham-benh-tien-su-benh.component';\nimport { LichSuKhamBenhDiUngThuocComponent } from './kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-di-ung-thuoc/lich-su-kham-benh-di-ung-thuoc.component';\nimport { LichSuKhamBenhKhamBenhComponent } from './kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-kham-benh/lich-su-kham-benh-kham-benh.component';\nimport { LichSuKhamBenhChiDinhComponent } from './kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-chi-dinh/lich-su-kham-benh-chi-dinh.component';\n\n\nimport { LanKhamHienTaiKeToaComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-ke-toa.component';\nimport { LanKhamHienTaiHoanThanhKhamPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-hoan-thanh-kham-popup/lan-kham-hien-tai-hoan-thanh-kham-popup.component';\nimport { LichSuKhamBenhKetLuanComponent } from './kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-ket-luan/lich-su-kham-benh-ket-luan.component';\nimport { LichSuKhamBenhKeToaComponent } from './kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-ke-toa/lich-su-kham-benh-ke-toa.component';\nimport { LanKhamHienTaiInToaThuocPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-in-toa-thuoc-popup/lan-kham-hien-tai-in-toa-thuoc-popup.component';\nimport { InBangKhamBenhChiDinhComponent } from './kham-benh/lan-kham-hien-tai/in-bang-kham-benh-chi-dinh/in-bang-kham-benh-chi-dinh.component';\n\nimport { LanKhamHienTaiApDungToaThuocPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-ap-dung-toa-thuoc-popup/lan-kham-hien-tai-ap-dung-toa-thuoc-popup.component';\nimport { ApDungLichSuKeToaConfirmPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/ap-dung-lich-su-ke-toa-confirm-popup/ap-dung-lich-su-ke-toa-confirm-popup.component';\nimport { LanKhamHienTaiKhamBenhGoiDichVuPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-benh-goi-dich-vu-popup/lan-kham-hien-tai-kham-benh-goi-dich-vu-popup.component';\nimport { LanKhamHienTaiKetQuaClsComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ket-qua-cls/lan-kham-hien-tai-ket-qua-cls.component';\nimport { LanKhamHienTaiKhamKhacComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-kham-khac/lan-kham-hien-tai-kham-khac.component';\nimport { LanKhamHienTaiChanDoanPhanBietComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-chan-doan-phan-biet/lan-kham-hien-tai-chan-doan-phan-biet.component';\nimport { LichSuKhamBenhPopupDetailComponent } from './kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-popup-detail/lich-su-kham-benh-popup-detail.component';\nimport { LichSuKhamBenhKhamKhacComponent } from './kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-kham-khac/lich-su-kham-benh-kham-khac.component';\nimport { LichSuKhamBenhChanDoanPhanBietComponent } from './kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-chan-doan-phan-biet/lich-su-kham-benh-chan-doan-phan-biet.component';\nimport { LichSuKhamBenhKetQuaClsComponent } from './kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-ket-qua-cls/lich-su-kham-benh-ket-qua-cls.component';\n\nimport { ChanDoanCuaBacSiKhacPopupComponent } from './kham-benh/lan-kham-hien-tai/chan-doan-cua-bac-si-khac-popup/chan-doan-cua-bac-si-khac-popup.component';\nimport { DonThuocBacSiKhacKePopupComponent } from './kham-benh/lan-kham-hien-tai/don-thuoc-bac-si-khac-ke-popup/don-thuoc-bac-si-khac-ke-popup.component';\nimport { PdfViewerModule } from 'ng2-pdf-viewer';\nimport { PhauThuatThuThuatTuongTrinhComponent } from './kham-benh/lan-kham-hien-tai/phau-thuat-thu-thuat-tuong-trinh/phau-thuat-thu-thuat-tuong-trinh.component';\nimport { PhauThuatThuThuatPopUpChonAnhComponent } from './kham-benh/lan-kham-hien-tai/phau-thuat-thu-thuat-popup-chon-anh/phau-thuat-thu-thuat-popup-chon-anh.component';\nimport { ImageDrawingModule } from 'ngx-image-drawing';\nimport { PhieuKhamBenhVaoVienPopupComponent } from './kham-benh/lan-kham-hien-tai/phieu-kham-benh-vao-vien-popup/phieu-kham-benh-vao-vien-popup.component';\nimport { LichSuKhamBenhPopupComponent } from './lich-su-kham-benh-popup/lich-su-kham-benh-popup.component';\nimport { LanKhamHienTaiBoPhanTonThuongComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-bo-phan-ton-thuong/lan-kham-hien-tai-bo-phan-ton-thuong.component';\nimport { LanKhamHienTaiBoPhanTonThuongPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-bo-phan-ton-thuong-popup/lan-kham-hien-tai-bo-phan-ton-thuong-popup.component';\nimport { LanKhamHienTaiSoDoGiuongPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-so-do-giuong-popup/lan-kham-hien-tai-so-do-giuong-popup.component';\nimport { LichSuKhamBenhPhauThuatThuThuatComponent } from './kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-phau-thuat-thu-thuat/lich-su-kham-benh-phau-thuat-thu-thuat.component';\nimport { LichSuKhamBenhBoPhanTonThuongComponent } from './kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-benh-bo-phan-ton-thuong/lich-su-kham-benh-bo-phan-ton-thuong.component';\nimport { GiayChuyenVienPopupComponent } from './kham-benh/lan-kham-hien-tai/giay-chuyen-vien-popup/giay-chuyen-vien-popup.component'; \nimport { LichSuKhamBenhChiTietComponent } from './lich-su-kham-benh/lich-su-kham-benh-chi-tiet/lich-su-kham-benh-chi-tiet.component';\nimport { LanKhamHienTaiChiDinhCuaBacSiKhacPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-chi-dinh-cua-bac-si-khac-popup/lan-kham-hien-tai-chi-dinh-cua-bac-si-khac-popup.component';\nimport { ChinhSuaDonThuocChiTietPopupComponent } from './kham-benh/lan-kham-hien-tai/chinh-sua-don-thuoc-chi-tiet-popup/chinh-sua-don-thuoc-chi-tiet-popup.component';\nimport { NghiHuongBhytConfirmPopupComponent } from './kham-benh/lan-kham-hien-tai/nghi-huong-bhyt-confirm-popup/nghi-huong-bhyt-confirm-popup.component';\nimport { NghiHuongBhytDetailPopupComponent } from './kham-benh/lan-kham-hien-tai/nghi-huong-bhyt-detail-popup/nghi-huong-bhyt-detail-popup.component';\nimport { LanKhamHienTaiChuyenKhamComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-chuyen-kham/lan-kham-hien-tai-chuyen-kham.component';\nimport { ChinhSuaVatTuChiTietPopupComponent } from './kham-benh/lan-kham-hien-tai/chinh-sua-vat-tu-chi-tiet-popup/chinh-sua-vat-tu-chi-tiet-popup.component';\nimport { LanKhamHienTaiInVatTuPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/lan-kham-hien-tai-in-vat-tu-popup/lan-kham-hien-tai-in-vat-tu-popup.component';\nimport { ThemThuocKhongBhytComponent } from './kham-benh/lan-kham-hien-tai/them-thuoc-khong-bhyt/them-thuoc-khong-bhyt.component';\nimport { ViewImagePdfListComponent } from './kham-benh/lan-kham-hien-tai/view-image-pdf-list/view-image-pdf-list.component';\nimport { LanKhamHienTaiNhomDichVuThuongDungPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup.component';\nimport { LanKhamHienTaiSuDungGoiDichVuPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-su-dung-goi-dich-vu-popup/lan-kham-hien-tai-su-dung-goi-dich-vu-popup.component';\nimport { LanKhamHienTaiNhomDichVuLoiPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-loi-popup/lan-kham-hien-tai-nhom-dich-vu-loi-popup.component';\nimport { YeuCauXetNghiemLaiComponent } from './kham-benh/lan-kham-hien-tai/yeu-cau-xet-nghiem-lai-popup/yeu-cau-xet-nghiem-lai-popup.component';\nimport { PhieuInXetNghiemComponent } from './kham-benh/lan-kham-hien-tai/phieu-in-xet-nghiem-popup/phieu-in-xet-nghiem-popup.component';\nimport { LayMauXetNghiemKetQuaPopupComponent } from './kham-benh/lan-kham-hien-tai/lay-mau-xet-nghiem-ket-qua-popup/lay-mau-xet-nghiem-ket-qua-popup.component';\nimport { CanLamSangModule } from '../can-lam-sang/danh-sach-ket-qua-can-lam-sang/can-lam-sang.module';\nimport { LichSuCanLamSangModule } from '../can-lam-sang/lich-su-can-lam-sang/lich-su-can-lam-sang.module';\nimport { LanKhamHienTaiKetLuanKhamDoanComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ket-luan-kham-doan/lan-kham-hien-tai-ket-luan-kham-doan.component';\nimport { LanKhamHienTaiTuVanThuocKhamDoanComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-tu-van-thuoc-kham-doan/lan-kham-hien-tai-tu-van-thuoc-kham-doan.component';\nimport { SuaThuocTuVanKhamDoanPopupComponent } from './kham-benh/lan-kham-hien-tai/sua-thuoc-tu-van-kham-doan-popup/sua-thuoc-tu-van-kham-doan-popup.component';\nimport { InThuocTuVanKhamDoanPopupComponent } from './kham-benh/lan-kham-hien-tai/in-thuoc-tu-van-kham-doan-popup/in-thuoc-tu-van-kham-doan-popup.component';\nimport { LichSuKhamDoanTuVanThuocComponent } from './kham-benh/kham-benh-lich-su-kham-list/lich-su-kham-doan-tu-van-thuoc/lich-su-kham-doan-tu-van-thuoc.component';\nimport { HuyDichVuHuyThanhToanPopupComponent } from './kham-benh/lan-kham-hien-tai/huy-dich-vu-huy-thanh-toan-popup/huy-dich-vu-huy-thanh-toan-popup.component';\nimport { XemKetQuaCdhaTdcnPopupComponent } from '../can-lam-sang/lich-su-can-lam-sang/xem-ket-qua-cdha-tdcn-popup/xem-ket-qua-cdha-tdcn-popup.component';\nimport { TiepNhanBenhNhanModule } from '../tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.module';\nimport { DichVuKhuyenMaiModule } from '../dich-vu-khuyen-mai/dich-vu-khuyen-mai.module';\nimport { ChonLoaiKetQuaXetNghiemPopupComponent } from '../xet-nghiem/duyet-ket-qua/chon-loai-ket-qua-xet-nghiem-popup/chon-loai-ket-qua-xet-nghiem-popup.component';\nimport { LanKhamHienTaiCapNhatGhiNhanVtthThuocPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-cap-nhat-ghi-nhan-vtth-thuoc-popup/lan-kham-hien-tai-cap-nhat-ghi-nhan-vtth-thuoc-popup.component';\nimport { LanKhamHienTaiHoanTraThuocVtthPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-hoan-tra-thuoc-vtth-popup/lan-kham-hien-tai-hoan-tra-thuoc-vtth-popup.component';\nimport { PtttGhiNhanHoanTraPopupComponent } from '../phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ghi-nhan-hoan-tra-popup/pttt-ghi-nhan-hoan-tra-popup.component';\nimport { PopupChonLoaiInViewComponent } from '../popup-chon-loai-In/popup-chon-loai-in-view/popup-chon-loai-in-view.component';\nimport { CapNhatThongTinThucHienDvktPopupComponent } from './kham-benh/lan-kham-hien-tai/cap-nhat-thong-tin-thuc-hien-dvkt-popup/cap-nhat-thong-tin-thuc-hien-dvkt-popup.component';\nimport { PhieuKhamBenhPopupComponent } from './kham-benh/lan-kham-hien-tai/phieu-kham-benh-popup/phieu-kham-benh-popup.component';\nimport { LanKhamHienTaiChuyenPhongKhamPopupComponent } from './lan-kham-hien-tai/lan-kham-hien-tai-chuyen-phong-kham-popup/lan-kham-hien-tai-chuyen-phong-kham-popup.component';\nimport { LayMauXetNghiemKetQuaMotFilePopupComponent } from './kham-benh/lan-kham-hien-tai/lay-mau-xet-nghiem-ket-qua-mot-file-popup/lay-mau-xet-nghiem-ket-qua-mot-file-popup.component';\nimport { TrungThuocPopupComponent } from './kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-ke-toa/trung-thuoc-popup/trung-thuoc-popup.component';\nimport { ToaThuocKhamBenhComfirmDkComponent } from './danh-sach-da-kham-list/toa-thuoc-kham-benh-comfirm-dk/toa-thuoc-kham-benh-comfirm-dk.component';\nimport { ToaThuocKhamBenhDkPopupComponent } from './danh-sach-da-kham-list/toa-thuoc-kham-benh-dk-popup/toa-thuoc-kham-benh-dk-popup.component';\nimport { PopupMessageKhongCoDvInDkComponent } from './danh-sach-da-kham-list/popup-message-khong-co-dv-in-dk/popup-message-khong-co-dv-in-dk.component';\nimport { NgayDuongThaiXacNhanPopupComponent } from './kham-benh/ngay-duong-thai-xac-nhan-popup/ngay-duong-thai-xac-nhan-popup.component';\nimport { NgayDuongThaiPopupComponent } from './kham-benh/ngay-duong-thai-popup/ngay-duong-thai-popup.component';\nimport { NoiDungMauKhamBenhPopupComponent } from './kham-benh/lan-kham-hien-tai/noi-dung-mau-kham-benh-popup/noi-dung-mau-kham-benh-popup.component';\nimport { XnCovidSarscov2PopupComponent } from './kham-benh/lan-kham-hien-tai/xn-covid-sarscov2-popup/xn-covid-sarscov2-popup.component';\nimport { KetLuanNguoiBenhHangDoiChungPopupComponent } from './kham-benh/ket-luan-nguoi-benh-hang-doi-chung-popup/ket-luan-nguoi-benh-hang-doi-chung-popup.component';\nimport { XnSarsCov2PopupComponent } from './kham-benh/xn-sars-cov2-popup/xn-sars-cov2-popup.component';\nimport { KhamBenhThongTinDoiTuongPopupComponent } from './kham-benh/kham-benh-thong-tin-doi-tuong-popup/kham-benh-thong-tin-doi-tuong-popup.component';\nimport { NhomDichVuThuongDungModule } from '../danh-muc/nhom-he-thong/benh-vien/nhom-dich-vu-thuong-dung/nhom-dich-vu-thuong-dung.module';\nimport { XacNhanChuyenTrangThaiComponent } from './kham-benh/kham-benh-lich-su-kham-list/xac-nhan-chuyen-trang-thai-dich-vu/xac-nhan-chuyen-trang-thai-dich-vu.component';\nimport { KhamBenhDichVuChuaThucHienPopupComponent } from './kham-benh/kham-benh-dich-vu-chua-thuc-hien-popup/kham-benh-dich-vu-chua-thuc-hien-popup.component';\n//import { DuyetKetQuaXetNghiemModule } from '../xet-nghiem/duyet-ket-qua/duyet-ket-qua.module';\n\n\n@NgModule({\n  exports: [\n    KhamBenhLichSuKhamListComponent,\n    LanKhamHienTaiKhamBenhComponent,\n    LanKhamHienTaiKetQuaClsComponent,\n    LanKhamHienTaiKhamBenhChiDinhComponent,\n    LanKhamHienTaiKetLuanComponent,\n    LanKhamHienTaiSuDungGoiDichVuPopupComponent,\n    LayMauXetNghiemKetQuaPopupComponent,\n    LayMauXetNghiemKetQuaMotFilePopupComponent,\n    XemKetQuaCdhaTdcnPopupComponent,\n    LanKhamHienTaiTuVanThuocKhamDoanComponent,\n    DanhSachDaKhamListComponent,\n   \n  ],\n  declarations: [\n    KhamBenhComponent,\n    KhamBenhChoKhamListComponent,\n    KhamBenhTimBenhNhanPopupComponent,\n    KhamBenhLichSuKhamListComponent,\n    LanKhamHienTaiLsClsComponent,\n    LanKhamHienTaiKetLuanComponent,\n    LanKhamHienTaiPhauThuatThuThuatComponent,\n    LanKhamHienTaiKeToaComponent,\n    LanKhamHienTaiVatTuTieuHaoComponent, LanKhamHienTaiBenhNhanTiepTheoPopupComponent, LanKhamHienTaiApDungToaThuocPopupComponent, DanhSachDaKhamListComponent,\n    LanKhamHienTaiKhamBenhComponent, LanKhamHienTaiKhamBenhChiDinhComponent, LanKhamHienTaiKhamBenhDiUngThuocComponent,\n    LanKhamHienTaiKhamBenhKhamBenhComponent,\n    LanKhamHienTaiKhamBenhTienSuBenhComponent,\n    LanKhamHienTaiKhamBenhChiSoSinhTonComponent,\n    LanKhamHienTaiBenhNhanDangLamChiDinhPopupComponent,\n    LichSuKhamBenhComponent, LichSuKhamBenhChiSoSinhTonComponent,\n    LichSuKhamBenhTienSuBenhComponent,\n    LichSuKhamBenhDiUngThuocComponent,\n    LichSuKhamBenhKhamBenhComponent,\n    LichSuKhamBenhChiDinhComponent,\n    LanKhamHienTaiHoanThanhKhamPopupComponent,\n    LichSuKhamBenhKetLuanComponent, LichSuKhamBenhKeToaComponent,\n    LanKhamHienTaiInToaThuocPopupComponent,\n    InBangKhamBenhChiDinhComponent,\n    ApDungLichSuKeToaConfirmPopupComponent,\n    LanKhamHienTaiKhamBenhGoiDichVuPopupComponent,\n    LanKhamHienTaiKetQuaClsComponent,\n    LanKhamHienTaiKhamKhacComponent,\n    LanKhamHienTaiChanDoanPhanBietComponent,\n    LichSuKhamBenhPopupDetailComponent,\n    LichSuKhamBenhKhamKhacComponent,\n    LichSuKhamBenhChanDoanPhanBietComponent,\n    LichSuKhamBenhKetQuaClsComponent,\n    ChanDoanCuaBacSiKhacPopupComponent,\n    DonThuocBacSiKhacKePopupComponent,\n    PhieuKhamBenhVaoVienPopupComponent,\n    LichSuKhamBenhPopupComponent,\n    PhauThuatThuThuatTuongTrinhComponent,\n    PhauThuatThuThuatPopUpChonAnhComponent,\n    LanKhamHienTaiBoPhanTonThuongComponent,\n    LanKhamHienTaiSoDoGiuongPopupComponent,\n    LanKhamHienTaiBoPhanTonThuongPopupComponent,\n    LichSuKhamBenhPhauThuatThuThuatComponent,\n    LichSuKhamBenhBoPhanTonThuongComponent,\n    GiayChuyenVienPopupComponent,\n    LichSuKhamBenhChiTietComponent,\n    LanKhamHienTaiChiDinhCuaBacSiKhacPopupComponent,\n    ChinhSuaDonThuocChiTietPopupComponent,\n    NghiHuongBhytConfirmPopupComponent,\n    NghiHuongBhytDetailPopupComponent,\n    LanKhamHienTaiChuyenKhamComponent,\n    ChinhSuaVatTuChiTietPopupComponent,\n    LanKhamHienTaiInVatTuPopupComponent,\n    ThemThuocKhongBhytComponent,\n    ViewImagePdfListComponent,\n    LanKhamHienTaiNhomDichVuThuongDungPopupComponent,\n    LanKhamHienTaiSuDungGoiDichVuPopupComponent,\n    LanKhamHienTaiNhomDichVuLoiPopupComponent,\n    YeuCauXetNghiemLaiComponent,\n    LayMauXetNghiemKetQuaPopupComponent,\n    LayMauXetNghiemKetQuaMotFilePopupComponent,\n    PhieuInXetNghiemComponent,\n    LanKhamHienTaiKetLuanKhamDoanComponent,\n    LanKhamHienTaiTuVanThuocKhamDoanComponent,\n    SuaThuocTuVanKhamDoanPopupComponent,\n    InThuocTuVanKhamDoanPopupComponent,\n    LichSuKhamDoanTuVanThuocComponent,\n    HuyDichVuHuyThanhToanPopupComponent,\n    LanKhamHienTaiCapNhatGhiNhanVtthThuocPopupComponent,\n    LanKhamHienTaiHoanTraThuocVtthPopupComponent,\n    //ChonLoaiKetQuaXetNghiemPopupComponent\n    PopupChonLoaiInViewComponent,\n    CapNhatThongTinThucHienDvktPopupComponent,\n    PhieuKhamBenhPopupComponent,\n    LanKhamHienTaiChuyenPhongKhamPopupComponent,\n    TrungThuocPopupComponent,\n    NoiDungMauKhamBenhPopupComponent,\n    KhamBenhThongTinDoiTuongPopupComponent,\n    TrungThuocPopupComponent,\n    ToaThuocKhamBenhComfirmDkComponent,\n    ToaThuocKhamBenhDkPopupComponent,\n    PopupMessageKhongCoDvInDkComponent,   \n    NgayDuongThaiXacNhanPopupComponent,\n    NgayDuongThaiPopupComponent,\n    KetLuanNguoiBenhHangDoiChungPopupComponent,\n    XnCovidSarscov2PopupComponent,\n    XnSarsCov2PopupComponent,\n    XacNhanChuyenTrangThaiComponent,\n    KhamBenhDichVuChuaThucHienPopupComponent\n  ],\n  imports: [\n    ReactiveFormsModule,\n    MatInputModule, MatOptionModule, MatSelectModule,\n    MatTabsModule,\n\n    CommonModule,\n    PageLayoutModule,\n    FlexLayoutModule,\n    BreadcrumbsModule,\n    FormsModule,\n    TooltipModule,\n    SharedModule,\n    MatIconModule,\n    IconModule,\n    MatMenuModule,\n    MatButtonToggleModule,\n    MatTooltipModule,\n    MatButtonModule,\n    LayoutModule,\n    MatDialogModule,\n    MatCheckboxModule,\n    KhamBenhRoutingModule,\n    ScrollToModule.forRoot(),\n    //HttpClientModule,\n    GridModule,\n    IntlModule,\n    PdfViewerModule,\n    MatRadioModule,\n    ImageDrawingModule,\n    CanLamSangModule,\n    LichSuCanLamSangModule,\n    DichVuKhuyenMaiModule,\n    //DuyetKetQuaXetNghiemModule,\n    NhomDichVuThuongDungModule\n  ],\n  // providers: [\n  //   KhamBenhService,\n  //   {\n  //     provide: BaseService, useClass: KhamBenhService\n  //   }\n  // ],\n  entryComponents: [\n    KhamBenhTimBenhNhanPopupComponent,\n    LanKhamHienTaiBenhNhanTiepTheoPopupComponent,\n    LanKhamHienTaiApDungToaThuocPopupComponent,\n    LanKhamHienTaiBenhNhanDangLamChiDinhPopupComponent,\n    LanKhamHienTaiHoanThanhKhamPopupComponent,\n    LanKhamHienTaiInToaThuocPopupComponent,\n    LanKhamHienTaiInVatTuPopupComponent,\n    ApDungLichSuKeToaConfirmPopupComponent,\n    InBangKhamBenhChiDinhComponent,\n    LanKhamHienTaiKhamBenhGoiDichVuPopupComponent,\n    LichSuKhamBenhPopupDetailComponent,\n    ChanDoanCuaBacSiKhacPopupComponent,\n    DonThuocBacSiKhacKePopupComponent,\n    PhieuKhamBenhVaoVienPopupComponent,LichSuKhamBenhPopupComponent,\n    PhauThuatThuThuatPopUpChonAnhComponent,\n    LanKhamHienTaiBoPhanTonThuongPopupComponent,\n    LanKhamHienTaiSoDoGiuongPopupComponent,\n    GiayChuyenVienPopupComponent,\n    LanKhamHienTaiChiDinhCuaBacSiKhacPopupComponent,\n    ChinhSuaDonThuocChiTietPopupComponent,\n    NghiHuongBhytConfirmPopupComponent,\n    NghiHuongBhytDetailPopupComponent,\n    LanKhamHienTaiChuyenKhamComponent,\n    ChinhSuaVatTuChiTietPopupComponent,\n    ThemThuocKhongBhytComponent,ViewImagePdfListComponent,\n    LanKhamHienTaiNhomDichVuThuongDungPopupComponent,\n    LanKhamHienTaiSuDungGoiDichVuPopupComponent,\n    LanKhamHienTaiNhomDichVuLoiPopupComponent,\n    YeuCauXetNghiemLaiComponent,\n    PhieuInXetNghiemComponent,\n    LayMauXetNghiemKetQuaPopupComponent,\n    LayMauXetNghiemKetQuaMotFilePopupComponent,\n    SuaThuocTuVanKhamDoanPopupComponent,\n    InThuocTuVanKhamDoanPopupComponent,\n    HuyDichVuHuyThanhToanPopupComponent,\n    //ChonLoaiKetQuaXetNghiemPopupComponent\n    LanKhamHienTaiCapNhatGhiNhanVtthThuocPopupComponent,\n    LanKhamHienTaiHoanTraThuocVtthPopupComponent,\n    //ChonLoaiKetQuaXetNghiemPopupComponent,\n    PopupChonLoaiInViewComponent,\n    CapNhatThongTinThucHienDvktPopupComponent,\n    PhieuKhamBenhPopupComponent,\n    LanKhamHienTaiChuyenPhongKhamPopupComponent,\n    TrungThuocPopupComponent,\n    NoiDungMauKhamBenhPopupComponent,\n    KhamBenhThongTinDoiTuongPopupComponent,\n    TrungThuocPopupComponent,\n    PopupMessageKhongCoDvInDkComponent,\n    ToaThuocKhamBenhComfirmDkComponent,\n    ToaThuocKhamBenhDkPopupComponent,    \n    NgayDuongThaiXacNhanPopupComponent,\n    NgayDuongThaiPopupComponent,\n    KetLuanNguoiBenhHangDoiChungPopupComponent,\n    XnCovidSarscov2PopupComponent,\n    XnSarsCov2PopupComponent,\n    XacNhanChuyenTrangThaiComponent,\n    KhamBenhDichVuChuaThucHienPopupComponent\n  ]\n})\nexport class KhamBenhModule { }\n","export default \".menu-form-wrapper .mat-menu-content {\\n  padding: 8px;\\n}\\n\\n.po-right {\\n  text-align: right;\\n  flex-grow: 1;\\n}\\n\\n.d-unset {\\n  display: unset !important;\\n}\\n\\nkendo-splitter {\\n  border-width: 0px !important;\\n  min-height: 100px;\\n}\\n\\nkendo-splitter ul > li.right-0 {\\n  margin-right: 0px;\\n  padding-right: 15px;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline !important;\\n}\\n\\nkendo-panelbar-item ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item .inline_b {\\n  display: inline-block !important;\\n  margin-right: 10px;\\n  padding-right: 15px;\\n}\\n\\nkendo-panelbar-item .panelbar-row {\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\\n}\\n\\nkendo-panelbar-item .panelbar-row:hover {\\n  background: rgba(227, 242, 253, 0.5);\\n}\\n\\nkendo-panelbar-item .panelbar-group-b {\\n  border-top: 1px rgba(0, 0, 0, 0.08) outset;\\n}\\n\\n.sticky-list {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n}\\n\\n.sticky-tab {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n  background: #f5f7fa;\\n  overflow-x: auto;\\n  margin-left: 5px;\\n  margin-right: 5px;\\n}\\n\\n.sticky-tab ul {\\n  margin: 0;\\n  padding-top: 10px;\\n  padding-bottom: 0;\\n  border-bottom: 1px solid #ccc;\\n}\\n\\n.sticky-tab ul li {\\n  display: inline-block;\\n  list-style-type: none;\\n  margin-right: 25px;\\n  font-size: 15px;\\n  font-weight: bold;\\n  font-style: normal;\\n  font-stretch: normal;\\n  letter-spacing: normal;\\n  color: #2e384d;\\n  cursor: pointer;\\n  transition: all 300ms linear;\\n  border-bottom: 3px solid #f5f7fa;\\n}\\n\\n.sticky-tab ul li.active {\\n  font-size: 15px;\\n  font-weight: bold;\\n  color: #005dab;\\n  border-bottom: 4px solid #005dab;\\n}\\n\\n.sticky-tab ul li:hover {\\n  border-bottom: 3px solid #005dab;\\n}\\n\\n.sticky-tab ul li.resolved {\\n  color: #005dab;\\n}\\n\\n.sticky-tab ul li.processing {\\n  color: #ff9800;\\n}\\n\\n.sticky-tab ul li.unfulfilled {\\n  color: #9e9e9e;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail {\\n  bottom: 0 !important;\\n  height: 5px !important;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail .ps-scrollbar-x {\\n  height: 5px !important;\\n}\\n\\nlegend {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\n.sticky-panelbar {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  top: 64px;\\n}\\n\\n.sticky-button-action {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  bottom: 0px;\\n  background-color: white;\\n  border-top: 1px solid #ccc;\\n  overflow: hidden;\\n  z-index: 10;\\n}\\n\\n.icon-bhyt {\\n  height: 15px;\\n  top: 2px;\\n  position: absolute;\\n  right: 0;\\n}\\n\\n.sticky-div {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  top: 50px;\\n  border-bottom: 1px solid #ccc;\\n  z-index: 999;\\n  background-color: white !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgva2V0LWx1YW4tbmd1b2ktYmVuaC1oYW5nLWRvaS1jaHVuZy1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxrZXQtbHVhbi1uZ3VvaS1iZW5oLWhhbmctZG9pLWNodW5nLXBvcHVwXFxrZXQtbHVhbi1uZ3VvaS1iZW5oLWhhbmctZG9pLWNodW5nLXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9rZXQtbHVhbi1uZ3VvaS1iZW5oLWhhbmctZG9pLWNodW5nLXBvcHVwL2tldC1sdWFuLW5ndW9pLWJlbmgtaGFuZy1kb2ktY2h1bmctcG9wdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxvQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsMEJBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSw0Q0FBQTtBQ0NGOztBREVBO0VBQ0Usb0NBQUE7QUNDRjs7QURFQTtFQUNFLDBDQUFBO0FDQ0Y7O0FERUE7RUFDRSxTQUFBO0VBQ0EsMkJBQUE7RUFDQSxtQ0FBQTtFQUNBLGFBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7RUFDQSwyQkFBQTtFQUNBLG1DQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxTQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLDZCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtFQUNBLHFCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0Esc0JBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtFQUtBLDRCQUFBO0VBQ0EsZ0NBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLG9CQUFBO0VBQ0Esc0JBQUE7QUNDRjs7QURFQTtFQUNFLHNCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtFQUNBLHdCQUFBO0VBQ0EsU0FBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSx3QkFBQTtFQUNBLFdBQUE7RUFDQSx1QkFBQTtFQUNBLDBCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0VBQ0EsUUFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSx3QkFBQTtFQUNBLFNBQUE7RUFDQSw2QkFBQTtFQUNBLFlBQUE7RUFDQSxrQ0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgva2V0LWx1YW4tbmd1b2ktYmVuaC1oYW5nLWRvaS1jaHVuZy1wb3B1cC9rZXQtbHVhbi1uZ3VvaS1iZW5oLWhhbmctZG9pLWNodW5nLXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1lbnUtZm9ybS13cmFwcGVyIC5tYXQtbWVudS1jb250ZW50IHtcbiAgcGFkZGluZzogOHB4O1xufVxuXG4ucG8tcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZmxleC1ncm93OiAxO1xufVxuXG4uZC11bnNldCB7XG4gIGRpc3BsYXk6IHVuc2V0ICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXNwbGl0dGVyIHtcbiAgYm9yZGVyLXdpZHRoOiAwcHggIWltcG9ydGFudDtcbiAgbWluLWhlaWdodDogMTAwcHg7XG59XG5cbmtlbmRvLXNwbGl0dGVyIHVsID4gbGkucmlnaHQtMCB7XG4gIG1hcmdpbi1yaWdodDogMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xufVxuXG5maWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbTtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIHBhZGRpbmctbGVmdDogMC43NWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW07XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gdWwuaW5saW5lID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAuaW5saW5lX2Ige1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5wYW5lbGJhci1yb3cge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyKTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93OmhvdmVyIHtcbiAgYmFja2dyb3VuZDogcmdiYSgyMjcsIDI0MiwgMjUzLCAwLjUpO1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5wYW5lbGJhci1ncm91cC1iIHtcbiAgYm9yZGVyLXRvcDogMXB4IHJnYmEoMCwgMCwgMCwgMC4wOCkgb3V0c2V0O1xufVxuXG4uc3RpY2t5LWxpc3Qge1xuICB0b3A6IDY0cHg7XG4gIHBvc2l0aW9uOiBzdGlja3kgIWltcG9ydGFudDtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHotaW5kZXg6IDk5OTk7XG59XG5cbi5zdGlja3ktdGFiIHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiA5OTk5O1xuICBiYWNrZ3JvdW5kOiAjZjVmN2ZhO1xuICBvdmVyZmxvdy14OiBhdXRvO1xuICBtYXJnaW4tbGVmdDogNXB4O1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbn1cblxuLnN0aWNreS10YWIgdWwge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG4gIG1hcmdpbi1yaWdodDogMjVweDtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xuICBmb250LXN0cmV0Y2g6IG5vcm1hbDtcbiAgbGV0dGVyLXNwYWNpbmc6IG5vcm1hbDtcbiAgY29sb3I6ICMyZTM4NGQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtbW96LXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIC1vLXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIC1tcy10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICB0cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgI2Y1ZjdmYTtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkuYWN0aXZlIHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIGJvcmRlci1ib3R0b206IDRweCBzb2xpZCAjMDA1ZGFiO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaTpob3ZlciB7XG4gIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjMDA1ZGFiO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS5yZXNvbHZlZCB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS5wcm9jZXNzaW5nIHtcbiAgY29sb3I6ICNmZjk4MDA7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLnVuZnVsZmlsbGVkIHtcbiAgY29sb3I6ICM5ZTllOWU7XG59XG5cbi5zdGlja3ktdGFiIC5wcy1zY3JvbGxiYXIteC1yYWlsIHtcbiAgYm90dG9tOiAwICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogNXB4ICFpbXBvcnRhbnQ7XG59XG5cbi5zdGlja3ktdGFiIC5wcy1zY3JvbGxiYXIteC1yYWlsIC5wcy1zY3JvbGxiYXIteCB7XG4gIGhlaWdodDogNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmxlZ2VuZCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG4uc3RpY2t5LXBhbmVsYmFyIHtcbiAgcG9zaXRpb246IHN0aWNreTtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5O1xuICB0b3A6IDY0cHg7XG59XG5cbi5zdGlja3ktYnV0dG9uLWFjdGlvbiB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgYm90dG9tOiAwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBib3JkZXItdG9wOiAxcHggc29saWQgI2NjYztcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgei1pbmRleDogMTA7XG59XG5cbi5pY29uLWJoeXQge1xuICBoZWlnaHQ6IDE1cHg7XG4gIHRvcDogMnB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xufVxuXG4uc3RpY2t5LWRpdiB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgdG9wOiA1MHB4O1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcbiAgei1pbmRleDogOTk5O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufSIsIi5tZW51LWZvcm0td3JhcHBlciAubWF0LW1lbnUtY29udGVudCB7XG4gIHBhZGRpbmc6IDhweDtcbn1cblxuLnBvLXJpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZsZXgtZ3JvdzogMTtcbn1cblxuLmQtdW5zZXQge1xuICBkaXNwbGF5OiB1bnNldCAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1zcGxpdHRlciB7XG4gIGJvcmRlci13aWR0aDogMHB4ICFpbXBvcnRhbnQ7XG4gIG1pbi1oZWlnaHQ6IDEwMHB4O1xufVxuXG5rZW5kby1zcGxpdHRlciB1bCA+IGxpLnJpZ2h0LTAge1xuICBtYXJnaW4tcmlnaHQ6IDBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIHVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLmlubGluZV9iIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93IHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMik7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLXJvdzpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjI3LCAyNDIsIDI1MywgMC41KTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItZ3JvdXAtYiB7XG4gIGJvcmRlci10b3A6IDFweCByZ2JhKDAsIDAsIDAsIDAuMDgpIG91dHNldDtcbn1cblxuLnN0aWNreS1saXN0IHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiA5OTk5O1xufVxuXG4uc3RpY2t5LXRhYiB7XG4gIHRvcDogNjRweDtcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3kgIWltcG9ydGFudDtcbiAgei1pbmRleDogOTk5OTtcbiAgYmFja2dyb3VuZDogI2Y1ZjdmYTtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5zdGlja3ktdGFiIHVsIHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDA7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBtYXJnaW4tcmlnaHQ6IDI1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC1zdHJldGNoOiBub3JtYWw7XG4gIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gIGNvbG9yOiAjMmUzODRkO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtby10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtbXMtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICNmNWY3ZmE7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLmFjdGl2ZSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBib3JkZXItYm90dG9tOiA0cHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGk6aG92ZXIge1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucmVzb2x2ZWQge1xuICBjb2xvcjogIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucHJvY2Vzc2luZyB7XG4gIGNvbG9yOiAjZmY5ODAwO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS51bmZ1bGZpbGxlZCB7XG4gIGNvbG9yOiAjOWU5ZTllO1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCB7XG4gIGJvdHRvbTogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCAucHMtc2Nyb2xsYmFyLXgge1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG5sZWdlbmQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLnN0aWNreS1wYW5lbGJhciB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgdG9wOiA2NHB4O1xufVxuXG4uc3RpY2t5LWJ1dHRvbi1hY3Rpb24ge1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3k7XG4gIGJvdHRvbTogMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjY2M7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHotaW5kZXg6IDEwO1xufVxuXG4uaWNvbi1iaHl0IHtcbiAgaGVpZ2h0OiAxNXB4O1xuICB0b3A6IDJweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbn1cblxuLnN0aWNreS1kaXYge1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3k7XG4gIHRvcDogNTBweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7XG4gIHotaW5kZXg6IDk5OTtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGUgIWltcG9ydGFudDtcbn0iXX0= */\"","import { ChangeDetectorRef, Component, HostListener, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { EnumTrangThaiYeuCauTiepNhan } from 'src/app/shared/enum/kham-benh.enum';\nimport { HinhThucKhamBenh } from 'src/app/shared/enum/kham-doan.enum';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { BenhVienHangDoi, KhamBenhTemplateDichVuKhamSucKhoe, ListStatusSelectTabKhamBenh, PhieuKhamBenhVo, ThongTinKhamPrevious, YeuCauKhamBenhPrevious } from '../../kham-benh.model';\nimport { KhamBenhThongTinDoiTuongPopupComponent } from '../kham-benh-thong-tin-doi-tuong-popup/kham-benh-thong-tin-doi-tuong-popup.component';\nimport { LanKhamHienTaiBenhNhanTiepTheoPopupComponent } from '../lan-kham-hien-tai/lan-kham-hien-tai-benh-nhan-tiep-theo-popup/lan-kham-hien-tai-benh-nhan-tiep-theo-popup.component';\nimport { NghiHuongBhytConfirmPopupComponent } from '../lan-kham-hien-tai/nghi-huong-bhyt-confirm-popup/nghi-huong-bhyt-confirm-popup.component';\nimport { PhieuKhamBenhVaoVienPopupComponent } from '../lan-kham-hien-tai/phieu-kham-benh-vao-vien-popup/phieu-kham-benh-vao-vien-popup.component';\nimport { NgayDuongThaiXacNhanPopupComponent } from '../ngay-duong-thai-xac-nhan-popup/ngay-duong-thai-xac-nhan-popup.component';\ndeclare var jQuery: any;\n@Component({\n  selector: 'app-ket-luan-nguoi-benh-hang-doi-chung-popup',\n  templateUrl: './ket-luan-nguoi-benh-hang-doi-chung-popup.component.html',\n  styleUrls: ['./ket-luan-nguoi-benh-hang-doi-chung-popup.component.scss']\n})\nexport class KetLuanNguoiBenhHangDoiChungPopupComponent implements OnInit {\n\n  icClose = icClose;\n\n  documentType: DocumentType;\n  validationErrors: any;\n  popupLoadingData: any;\n\n  phongKhamId: number = 0;\n  hangDoiKhamId: number = 0;\n\n  benhNhanHienTai: BenhVienHangDoi = new BenhVienHangDoi();\n  maTiepNhan: number = 0;\n  isKhamDoan: boolean = false;\n  isKhamDoanTatCa: boolean = false;\n  loginNoiVien: HinhThucKhamBenh = HinhThucKhamBenh.NoiVien;\n  hinhThucKham: HinhThucKhamBenh = HinhThucKhamBenh.NoiVien;\n  lstStatusSelectTabKhambenh: ListStatusSelectTabKhamBenh = new ListStatusSelectTabKhamBenh();\n  isDuoi6Tuoi: boolean = false;\n  Duoi6TuoiDisplay: string = \"\";\n  validationKetLuanErrors: any;\n  thongTinKhamTemp: ThongTinKhamPrevious;\n  yeuCauKhamBenhPrevious: YeuCauKhamBenhPrevious;\n\n  LaChuyenKhoaKhamNhieu: boolean = false;\n  showChiTietHanhChinh: boolean = false;\n  cauHinhDichVuKhamThai = 14;\n  yeuCauTiepNhanDangThucHien: EnumTrangThaiYeuCauTiepNhan = EnumTrangThaiYeuCauTiepNhan.DangThucHien;\n  templateKhoaPhong: string = null;\n  tenKhoaPhong: string = null;\n  tabActive: string = \"card-popup0\";\n  phieuKhamBenhVo: PhieuKhamBenhVo = new PhieuKhamBenhVo();\n\n  isFullscreen:boolean=false;\n  Width:number=800;\n  Height:number=600;\n\n  constructor(\n    private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n    public dialogRef: MatDialogRef<KetLuanNguoiBenhHangDoiChungPopupComponent>,\n    private apiService: ApiService,\n    private authService: AuthService,\n    private notificationService: NotificationService,\n    private ref: ChangeDetectorRef\n  ) { }\n\n  ngOnInit() {\n    this.documentType = this.data.DocumentType;\n    this.phongKhamId = this.data.PhongThucHienId;\n    this.hangDoiKhamId = this.data.HangDoiId;\n\n    let menuInfo = this.authService.getAccessUser();\n    this.hinhThucKham = menuInfo.HinhThucKhamBenh;\n\n    this.getBenhNhanDangKham(this.phongKhamId, this.hangDoiKhamId);\n  }\n\n  ngAfterContentInit() {\n    this.fullscreen();\n  }\n\n  close(laHoanThanhKham: boolean = false){\n    this.dialogRef.close(laHoanThanhKham);\n  }\n\n  showPopupLoadingData() {\n    if (this.popupLoadingData == undefined\n      || this.popupLoadingData == null\n      || this.popupLoadingData.openDialogs == undefined\n      || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n      this.popupLoadingData = this.dialog.open(LoadingComponent, {\n        disableClose: true,\n        width: \"200px\",\n        height: \"90px\",\n        data: { Title: \"Đang tải dữ liệu...\" },\n      });\n    }\n\n  }\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n\n  processDynamicComponent(thongTinTempLateObj: any = null) {\n    let dataKhamTheoTemplate: any;\n    let lstDataKhamTheoTemplate: any[] = [];\n    if (this.isKhamDoan) {\n      let tempplate = this.benhNhanHienTai.YeuCauKhamBenh.TemplateDichVuKhamSucKhoes.find(x => x.IsDungChuyenKhoaLogin);\n      if (tempplate != null) {\n        this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj\n          = tempplate.TemplateKhamCacCoQuanObj != null && tempplate.TemplateKhamCacCoQuanObj != \"\" ? Object.assign({}, tempplate.TemplateKhamCacCoQuanObj) : null;\n      }\n    }\n    let thongTinKhamTheoDichVuTemplateObj = thongTinTempLateObj == null ? this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj : thongTinTempLateObj;\n    // console.log('processDynamicComponent', thongTinKhamTheoDichVuTemplateObj);\n\n    if (\n      thongTinKhamTheoDichVuTemplateObj !== null\n    ) {\n      thongTinKhamTheoDichVuTemplateObj.ComponentDynamics.forEach(\n        (item) => {\n          if (\n            item.groupItems != undefined &&\n            item.groupItems != null &&\n            item.groupItems.length > 0\n          ) {\n            item.groupItems.forEach((element) => {\n              if (element.Value != undefined && element.Value !== null) {\n                dataKhamTheoTemplate = {\n                  Id: element.Id,\n                  Value: element.Value,\n                };\n                lstDataKhamTheoTemplate.push(dataKhamTheoTemplate);\n              }\n            });\n          } else if (item.Value != undefined && item.Value !== null) {\n            dataKhamTheoTemplate = {\n              Id: item.Id,\n              Value: item.Value,\n            };\n            lstDataKhamTheoTemplate.push(dataKhamTheoTemplate);\n          }\n        }\n      );\n\n      let strLstDataKhamTheoTemplate = JSON.stringify(lstDataKhamTheoTemplate);\n      let saveTemplate =\n        '{\"DataKhamTheoTemplate\": ' + strLstDataKhamTheoTemplate + \"}\";\n      return saveTemplate;\n    }\n    return null;\n  }\n\n  bindDataDynamicComponent(thongTinTempLateObj: any = null, thongTinDataObj: any = null) {\n    if (this.isKhamDoan) {\n      let tempplate = this.benhNhanHienTai.YeuCauKhamBenh.TemplateDichVuKhamSucKhoes.find(x => x.IsDungChuyenKhoaLogin);\n      if (tempplate != null) {\n        this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj\n          = tempplate.TemplateKhamCacCoQuanObj != null && tempplate.TemplateKhamCacCoQuanObj != \"\" ? Object.assign({}, tempplate.TemplateKhamCacCoQuanObj) : null;\n        this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuData = tempplate.ThongTinKhamTheoDichVuData;\n      }\n    }\n    let strData = thongTinDataObj == null ? this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuData : thongTinDataObj;\n    let thongTinKhamTheoDichVuTemplateObj = thongTinTempLateObj == null ? this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj : thongTinTempLateObj;\n    if (strData != undefined && strData != null) {\n      let dataObj = JSON.parse(strData);\n      let itemTemp = null;\n      if (thongTinKhamTheoDichVuTemplateObj !== null) {\n        thongTinKhamTheoDichVuTemplateObj.ComponentDynamics.forEach(\n          (item) => {\n            if (\n              item.groupItems != undefined &&\n              item.groupItems != null &&\n              item.groupItems.length > 0\n            ) {\n              item.groupItems.forEach((element) => {\n                itemTemp = dataObj.DataKhamTheoTemplate.find(\n                  (x) => x.Id == element.Id\n                );\n                if (itemTemp != null) {\n                  element.Value = itemTemp.Value;\n                }\n              });\n            } else {\n              itemTemp = dataObj.DataKhamTheoTemplate.find(\n                (x) => x.Id == item.Id\n              );\n              if (itemTemp != null) {\n                item.Value = itemTemp.Value;\n              }\n            }\n          }\n        );\n      }\n    }\n  }\n\n  unSelectedTab() {\n    this.lstStatusSelectTabKhambenh.selectedTabKhamBenh = false;\n    this.lstStatusSelectTabKhambenh.selectedTabLichSuKham = false;\n    this.lstStatusSelectTabKhambenh.selectedTabChiDinh = false;\n    this.lstStatusSelectTabKhambenh.selectedTabKetQuaCLS = false;\n    this.lstStatusSelectTabKhambenh.selectedTabChanDoan = false;\n    this.lstStatusSelectTabKhambenh.selectedTabTuongTrinhPttt = false;\n    this.lstStatusSelectTabKhambenh.selectedTabTuVanThuocKhamDoan = false;\n  }\n\n  chuyenDen(element: any, event: any, isKhamDoan: boolean = false) {\n    var self = this;\n    // if (!(self.isKhamDoan && event.index == 0)) {\n    //   setTimeout(function () {\n    //     self.scrollTo(element);\n    //   }, 100);\n    // }\n    if (event.index == 0 || event.title == \"KHÁM BỆNH\") {\n      self.unSelectedTab();\n      self.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n    }\n    if (event.index == 1 || event.title == \"LỊCH SỬ KHÁM\") {\n      self.unSelectedTab();\n      self.lstStatusSelectTabKhambenh.selectedTabLichSuKham = true;\n    }\n    if (event.index == 2 || event.title == \"CHỈ ĐỊNH\") {\n      self.unSelectedTab();\n      self.lstStatusSelectTabKhambenh.selectedTabChiDinh = true;\n    }\n    if (event.index == 3 || event.title == \"KQ CLS\") {\n      self.unSelectedTab();\n      self.lstStatusSelectTabKhambenh.selectedTabKetQuaCLS = true;\n    }\n\n    if (event.index == 5 || event.title == \"TƯỜNG TRÌNH PT/TT\") {\n      self.unSelectedTab();\n      self.lstStatusSelectTabKhambenh.selectedTabTuongTrinhPttt = true;\n      self.validationKetLuanErrors = [];\n    }\n    if (!isKhamDoan) {\n      if (event.index == 4 || event.title == \"CHẨN ĐOÁN\") {\n        self.unSelectedTab();\n        self.lstStatusSelectTabKhambenh.selectedTabChanDoan = true;\n        self.validationKetLuanErrors = [];\n      }\n    } else {\n      if (event.index == 4 || event.title == \"TƯ VẤN THUỐC\") {\n        self.unSelectedTab();\n        self.lstStatusSelectTabKhambenh.selectedTabTuVanThuocKhamDoan = true;\n        self.validationKetLuanErrors = [];\n      }\n    }\n\n  }\n\n  scrollTo(element) {\n    jQuery(\".mat-dialog-content\").animate({\n        scrollTop: jQuery(\"#\" + element).position().top + (this.isKhamDoan ? 60 : 85),\n    });\n    this.tabActive = element;\n}\n\n  ganThongTinKhamTamThoi() {\n    let yeuCauKhamBenhKhamBoPhanKhacs = this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs.slice();\n    let yeuCauKhamBenhChanDoanPhanBiets = this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets.slice();\n    //let ketQuaSinhHieus = Object.assign([], this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus); //this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus.slice();\n\n    //trường hợp sửa data đã lưu trực tiếp trên grid\n    const ketQuaSinhHieus = [];\n    this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus.forEach(val => ketQuaSinhHieus.push(Object.assign({}, val)));\n\n\n    let khamBenhBenhNhanDiUngThuocs = this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs.slice();\n    let khamBenhBenhNhanTienSuBenhs = this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs.slice();\n    let yeuCauKhamBenhBoPhanTonThuongs = this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhBoPhanTonThuongs.slice();\n    let ThongTinKhamTheoDichVuTemplateObj = JSON.stringify(\n      this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj\n    );\n\n    ketQuaSinhHieus.forEach(element => {\n      if (element.IsUpdate) {\n        element.IsUpdate = false;\n      }\n    });\n\n    // khám đoàn\n    const templateDichVuKhamSucKhoes = [];\n    if (this.isKhamDoan) {\n      this.benhNhanHienTai.YeuCauKhamBenh.TemplateDichVuKhamSucKhoes.forEach(val => {\n        var newObj = new KhamBenhTemplateDichVuKhamSucKhoe(\n          val.YeuCauKhamBenhId,\n          val.ChuyenKhoaKhamSucKhoe,\n          val.TenChuyenKhoa,\n          val.ThongTinKhamTheoDichVuTemplate,\n          { \"ComponentDynamics\": [] },\n          val.ThongTinKhamTheoDichVuData,\n          val.IsDaKham,\n          val.IsDungChuyenKhoaLogin);\n        val.TemplateKhamCacCoQuanObj.ComponentDynamics.forEach(element => {\n          newObj.TemplateKhamCacCoQuanObj.ComponentDynamics.push(Object.assign({}, element));\n        });\n        templateDichVuKhamSucKhoes.push(newObj);\n      });\n    }\n\n    this.thongTinKhamTemp = new ThongTinKhamPrevious(\n      //BVHD-3706\n      // this.benhNhanHienTai.YeuCauTiepNhan.TrieuChungTiepNhan,\n      this.benhNhanHienTai.YeuCauKhamBenh.TrieuChungTiepNhan,\n\n      this.benhNhanHienTai.YeuCauKhamBenh.BenhSu,\n      this.benhNhanHienTai.YeuCauKhamBenh.ChanDoanCuaNoiGioiThieu,\n      this.benhNhanHienTai.YeuCauKhamBenh.KhamToanThan,\n      this.benhNhanHienTai.YeuCauKhamBenh.TuanHoan,\n      this.benhNhanHienTai.YeuCauKhamBenh.HoHap,\n      this.benhNhanHienTai.YeuCauKhamBenh.TieuHoa,\n      this.benhNhanHienTai.YeuCauKhamBenh.ThanTietNieuSinhDuc,\n      this.benhNhanHienTai.YeuCauKhamBenh.ThanKinh,\n      this.benhNhanHienTai.YeuCauKhamBenh.CoXuongKhop,\n      this.benhNhanHienTai.YeuCauKhamBenh.TaiMuiHong,\n      this.benhNhanHienTai.YeuCauKhamBenh.RangHamMat,\n      this.benhNhanHienTai.YeuCauKhamBenh.NoiTietDinhDuong,\n      this.benhNhanHienTai.YeuCauKhamBenh.SanPhuKhoa,\n      this.benhNhanHienTai.YeuCauKhamBenh.DaLieu,\n      this.benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoICDId,\n      this.benhNhanHienTai.YeuCauKhamBenh.TenChanDoanSoBoICD,\n      this.benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoGhiChu,\n      ThongTinKhamTheoDichVuTemplateObj,\n      yeuCauKhamBenhKhamBoPhanKhacs,\n      yeuCauKhamBenhChanDoanPhanBiets,\n      ketQuaSinhHieus,\n      khamBenhBenhNhanDiUngThuocs,\n      khamBenhBenhNhanTienSuBenhs,\n      yeuCauKhamBenhBoPhanTonThuongs,\n      templateDichVuKhamSucKhoes,\n      null,\n      this.benhNhanHienTai.YeuCauKhamBenh.NoiDungKhamBenh\n    );\n  }\n\n  cancelChangeData() {\n    this.benhNhanHienTai.validationErrors = null;\n    this.ref.detectChanges();\n\n    //BVHD-3706\n    // this.benhNhanHienTai.YeuCauTiepNhan.TrieuChungTiepNhan = this.thongTinKhamTemp.TrieuChungTiepNhan;\n    this.benhNhanHienTai.YeuCauKhamBenh.TrieuChungTiepNhan = this.thongTinKhamTemp.TrieuChungTiepNhan;\n\n    this.benhNhanHienTai.YeuCauKhamBenh.BenhSu = this.thongTinKhamTemp.BenhSu;\n    this.benhNhanHienTai.YeuCauKhamBenh.ChanDoanCuaNoiGioiThieu = this.thongTinKhamTemp.ChanDoanCuaNoiGioiThieu;\n\n    this.benhNhanHienTai.YeuCauKhamBenh.KhamToanThan = this.thongTinKhamTemp.KhamToanThan;\n    this.benhNhanHienTai.YeuCauKhamBenh.TuanHoan = this.thongTinKhamTemp.TuanHoan;\n    this.benhNhanHienTai.YeuCauKhamBenh.HoHap = this.thongTinKhamTemp.HoHap;\n    this.benhNhanHienTai.YeuCauKhamBenh.TieuHoa = this.thongTinKhamTemp.TieuHoa;\n    this.benhNhanHienTai.YeuCauKhamBenh.ThanTietNieuSinhDuc = this.thongTinKhamTemp.ThanTietNieuSinhDuc;\n\n    this.benhNhanHienTai.YeuCauKhamBenh.ThanKinh = this.thongTinKhamTemp.ThanKinh;\n    this.benhNhanHienTai.YeuCauKhamBenh.CoXuongKhop = this.thongTinKhamTemp.CoXuongKhop;\n    this.benhNhanHienTai.YeuCauKhamBenh.TaiMuiHong = this.thongTinKhamTemp.TaiMuiHong;\n    this.benhNhanHienTai.YeuCauKhamBenh.RangHamMat = this.thongTinKhamTemp.RangHamMat;\n    this.benhNhanHienTai.YeuCauKhamBenh.NoiTietDinhDuong = this.thongTinKhamTemp.NoiTietDinhDuong;\n    this.benhNhanHienTai.YeuCauKhamBenh.SanPhuKhoa = this.thongTinKhamTemp.SanPhuKhoa;\n    this.benhNhanHienTai.YeuCauKhamBenh.DaLieu = this.thongTinKhamTemp.DaLieu;\n    this.benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoICDId = this.thongTinKhamTemp.ChanDoanSoBoICDId;\n    this.benhNhanHienTai.YeuCauKhamBenh.TenChanDoanSoBoICD = this.thongTinKhamTemp.TenChanDoanSoBoICD;\n    this.benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoGhiChu = this.thongTinKhamTemp.ChanDoanSoBoGhiChu;\n    this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj = JSON.parse(\n      this.thongTinKhamTemp.ThongTinKhamTheoDichVuTemplateObj\n    );\n\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs = this.thongTinKhamTemp.YeuCauKhamBenhKhamBoPhanKhacs.slice();\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets = this.thongTinKhamTemp.YeuCauKhamBenhChanDoanPhanBiets.slice();\n    //this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus = this.thongTinKhamTemp.KetQuaSinhHieus.slice();\n    // trường hợp sửa data đã lưu trực tiếp trên grid\n    const ketQuaSinhHieus = [];\n    this.thongTinKhamTemp.KetQuaSinhHieus.forEach(val => ketQuaSinhHieus.push(Object.assign({}, val)));\n    this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus = ketQuaSinhHieus;\n\n\n    this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs = this.thongTinKhamTemp.KhamBenhBenhNhanDiUngThuocs.slice();\n    this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs = this.thongTinKhamTemp.KhamBenhBenhNhanTienSuBenhs.slice();\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhBoPhanTonThuongs = this.thongTinKhamTemp.YeuCauKhamBenhBoPhanTonThuongs.slice();\n\n    //khám đoàn\n    // const templateDichVuKhamSucKhoes = [];\n    // this.thongTinKhamTemp.TemplateDichVuKhamSucKhoes.forEach(val => templateDichVuKhamSucKhoes.push(Object.assign({}, val)));\n    // this.benhNhanHienTai.YeuCauKhamBenh.TemplateDichVuKhamSucKhoes = templateDichVuKhamSucKhoes.slice();\n    const templateDichVuKhamSucKhoes = [];\n    if (this.isKhamDoan) {\n      this.thongTinKhamTemp.TemplateDichVuKhamSucKhoes.forEach(val => {\n        var newObj = new KhamBenhTemplateDichVuKhamSucKhoe(\n          val.YeuCauKhamBenhId,\n          val.ChuyenKhoaKhamSucKhoe,\n          val.TenChuyenKhoa,\n          val.ThongTinKhamTheoDichVuTemplate,\n          { \"ComponentDynamics\": [] },\n          val.ThongTinKhamTheoDichVuData,\n          val.IsDaKham,\n          val.IsDungChuyenKhoaLogin);\n        val.TemplateKhamCacCoQuanObj.ComponentDynamics.forEach(element => {\n          newObj.TemplateKhamCacCoQuanObj.ComponentDynamics.push(Object.assign({}, element));\n        });\n        templateDichVuKhamSucKhoes.push(newObj);\n      });\n    }\n    this.benhNhanHienTai.YeuCauKhamBenh.TemplateDichVuKhamSucKhoes = templateDichVuKhamSucKhoes.slice();\n\n    //BVHD-3574\n    this.benhNhanHienTai.YeuCauKhamBenh.NoiDungKhamBenh = this.thongTinKhamTemp.NoiDungKhamBenh;\n\n    this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = false;\n  }\n\n  saveChangeData(hangDoiId: number = null, ignoreCheckValidPhanLoaiSucKhoeId: boolean = false) {\n    if (\n        this.authService.hasPermission(\n            this.documentType,\n            SecurityOperation.Update\n        )\n    ) {\n        this.benhNhanHienTai.validationErrors = null;\n        this.ref.detectChanges();\n\n        this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuData = this.processDynamicComponent();\n        if(ignoreCheckValidPhanLoaiSucKhoeId)\n        {\n            // biến IsDuChuyenKhoaKhamSucKhoeChinh chỉ dùng để lưu, hoàn thành khám ở khám đoàn tất cả => vì có kết hợp chức năng kết luận\n            // còn lưu, hoàn thành khám từng dv khám KSK thì ko cần check phân loại\n            this.benhNhanHienTai.YeuCauTiepNhan.IsDuChuyenKhoaKhamSucKhoeChinh = false;\n        }\n        this.showPopupLoadingData();\n        this.apiService\n            .post<any>(\"KhamBenh/LuuThongTinKhamBenh\", this.benhNhanHienTai)\n            .subscribe(\n                (resultData) => {\n                    this.notificationService.showSuccess(\n                        CommonService.format(SystemMessage.ActionSuccessfully, [\"Lưu\"])\n                    );\n\n                    this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = false;\n\n                    this.benhNhanHienTai.isShowPanelItemKhamBenh = false;\n                    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs =\n                        resultData.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs;\n                    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets =\n                        resultData.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets;\n                    this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs =\n                        resultData.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs;\n                    this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs =\n                        resultData.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs;\n                    this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus =\n                        resultData.YeuCauTiepNhan.KetQuaSinhHieus;\n\n                    if (resultData.YeuCauKhamBenh.IcdchinhId != 0 && resultData.YeuCauKhamBenh.IcdchinhId != null) {\n                        this.benhNhanHienTai.YeuCauKhamBenh.IcdchinhId =\n                            resultData.YeuCauKhamBenh.IcdchinhId;\n                    }\n                    if (resultData.YeuCauKhamBenh.TenICDChinh != null && resultData.YeuCauKhamBenh.TenICDChinh != \"\") {\n                        this.benhNhanHienTai.YeuCauKhamBenh.TenICDChinh =\n                            resultData.YeuCauKhamBenh.TenICDChinh;\n                    }\n                    if (resultData.YeuCauKhamBenh.GhiChuICDChinh != null && resultData.YeuCauKhamBenh.GhiChuICDChinh != \"\") {\n                        this.benhNhanHienTai.YeuCauKhamBenh.GhiChuICDChinh =\n                            resultData.YeuCauKhamBenh.GhiChuICDChinh;\n                    }\n\n                    this.ganThongTinKhamTamThoi();\n                    // if(hangDoiId != null)\n                    // {\n                    //     this.XuLyBatDauKhamBenhNhan(hangDoiId);\n                    // }\n                    // else\n                    // {\n                    //     this.closePopupLoadingData();\n                    // }\n                    this.closePopupLoadingData();\n                },\n                (err: ApiError) => {\n                    if (!this.lstStatusSelectTabKhambenh.selectedTabKhamBenh) {\n                        this.unSelectedTab();\n                        this.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n                        this.notificationService.showError(\n                            \"Yêu cầu nhập đầy đủ các trường bắt buộc trong tab khám bệnh\"\n                        );\n                    }\n                    this.benhNhanHienTai.validationErrors = err.ValidationErrors;\n                    if (err.Message != \"Validation Failed\") {\n                        this.notificationService.showError(err.Message);\n                    }\n                    this.closePopupLoadingData();\n                }\n            );\n    } else {\n        this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n}\n\n  ganThongTinYeuCauKhamBenhPerevious() {\n\n    //let yeuCauKhamBenhICDKhacs = this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs.slice();\n\n    const yeuCauKhamBenhICDKhacs = [];\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs.forEach(val => yeuCauKhamBenhICDKhacs.push(Object.assign({}, val)));\n\n    this.yeuCauKhamBenhPrevious = new YeuCauKhamBenhPrevious(this.benhNhanHienTai.YeuCauKhamBenh.IcdchinhId, this.benhNhanHienTai.YeuCauKhamBenh.TenICDChinh,\n      this.benhNhanHienTai.YeuCauKhamBenh.GhiChuICDChinh, this.benhNhanHienTai.YeuCauKhamBenh.CoTaiKham,\n      this.benhNhanHienTai.YeuCauKhamBenh.NgayTaiKham, this.benhNhanHienTai.YeuCauKhamBenh.GhiChuTaiKham,\n      this.benhNhanHienTai.YeuCauKhamBenh.CoNhapVien,\n      this.benhNhanHienTai.YeuCauKhamBenh.CoChuyenVien, this.benhNhanHienTai.YeuCauKhamBenh.KhoaPhongNhapVienId,\n      this.benhNhanHienTai.YeuCauKhamBenh.TenKhoaPhongNhapVien, this.benhNhanHienTai.YeuCauKhamBenh.TinhTrangBenhNhanChuyenVien,\n      this.benhNhanHienTai.YeuCauKhamBenh.LoaiLyDoChuyenVien, this.benhNhanHienTai.YeuCauKhamBenh.ThoiDiemChuyenVien,\n      this.benhNhanHienTai.YeuCauKhamBenh.PhuongTienChuyenVien, this.benhNhanHienTai.YeuCauKhamBenh.NhanVienHoTongChuyenVienId,\n      this.benhNhanHienTai.YeuCauKhamBenh.HoTenNhanVienHoTong, this.benhNhanHienTai.YeuCauKhamBenh.LyDoNhapVien,\n      this.benhNhanHienTai.YeuCauKhamBenh.BenhVienChuyenVienId, this.benhNhanHienTai.YeuCauKhamBenh.TenBenhVienChuyenVien,\n      this.benhNhanHienTai.YeuCauKhamBenh.LyDoChuyenVien, this.benhNhanHienTai.YeuCauKhamBenh.CoTuVong,\n      this.benhNhanHienTai.YeuCauKhamBenh.TomTatKetQuaCLS, this.benhNhanHienTai.YeuCauKhamBenh.CachGiaiQuyet, this.benhNhanHienTai.YeuCauKhamBenh.GhiChu,\n      this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.YeuCauKhamBenhId, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.LoaiDichVuKyThuat,\n      this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.DichVuKyThuatBenhVienId, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.NhomGiaDichVuKyThuatBenhVienId,\n      this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.MaDichVu, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.MaGiaDichVu,\n      this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TenDichVu, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TenDichVuHienThi,\n      this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.NhomChiPhi, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.Gia,\n      this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.SoLan, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.DuocHuongBaoHiem,\n      this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TrangThai, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TrangThaiThanhToan,\n      this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.NhanVienChiDinhId, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.ThoiDiemChiDinh,\n      this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.ThoiDiemDangKy, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TenNhomDichVu,\n      this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.NhomDichVuBenhVienId, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.DieuTriNgoaiTru,\n      this.benhNhanHienTai.YeuCauKhamBenh.CoDieuTriNgoaiTru, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.ThoiDiemBatDauDieuTri,\n      this.benhNhanHienTai.YeuCauKhamBenh.CoKeToa, this.benhNhanHienTai.YeuCauKhamBenh.KhongKeToa,\n      this.benhNhanHienTai.YeuCauKhamBenh.KetQuaXetNghiemCLS, this.benhNhanHienTai.YeuCauKhamBenh.PhuongPhapTrongDieuTri,\n      yeuCauKhamBenhICDKhacs);\n  }\n\n  getAge(date_1, date_2) {\n    let yAppendix, mAppendix, dAppendix;\n\n    // let days = date_2.getDate() - date_1.getDate() + 1;\n    let days = date_2.getDate() - date_1.getDate();//Thach edit\n\n    if (days < 0) {\n      date_2.setMonth(date_2.getMonth() - 1);\n      days += this.DaysInMonth(date_2);\n    }\n\n    let months = date_2.getMonth() - date_1.getMonth();\n    if (months < 0) {\n      date_2.setFullYear(date_2.getFullYear() - 1);\n      months += 12;\n    }\n    let years = date_2.getFullYear() - date_1.getFullYear();\n\n    if (years > 1) yAppendix = \" years\";\n    else yAppendix = \" year\";\n    if (months > 1) mAppendix = \" months\";\n    else mAppendix = \" month\";\n    if (days > 1) dAppendix = \" days\";\n    else dAppendix = \" day\";\n\n    if ((years < 6 && years >= 0) || (years == 6 && months == 0 && days == 0)) {\n      this.isDuoi6Tuoi = true;\n    } else {\n      this.isDuoi6Tuoi = false;\n    }\n\n    this.Duoi6TuoiDisplay =\n      years + \" Tuổi \" + months + \" Tháng \" + days + \" Ngày \";\n  }\n\n  DaysInMonth(date2_UTC) {\n    let monthStart: any = new Date(\n      date2_UTC.getFullYear(),\n      date2_UTC.getMonth(),\n      1\n    );\n    let monthEnd: any = new Date(\n      date2_UTC.getFullYear(),\n      date2_UTC.getMonth() + 1,\n      1\n    );\n    let monthLength: any = (monthEnd - monthStart) / (1000 * 60 * 60 * 24);\n    return monthLength;\n  }\n\n  getBenhNhanDangKham(phongKhamId: number, hangDoiId: number) {\n    this.closePopupLoadingData();\n    this.benhNhanHienTai = new BenhVienHangDoi();\n    this.benhNhanHienTai.isShowPanelItemKhamBenh = false;\n    this.benhNhanHienTai.isShowPanelItemKetLuan = false;\n\n    this.showPopupLoadingData();\n    this.apiService\n      .get<BenhVienHangDoi>(\n        \"KhamBenh/GetYeuCauKhamBenhDangKhamTheoPhongKham?phongKhamId=\" +\n        phongKhamId +\n        \"&hangDoiId=\" +\n        hangDoiId + \n        \"&laKhamDoan=\" +\n        this.isKhamDoan +\n        \"&laKetLuanHangDoiChung=\" +\n        true\n      )\n      .subscribe(\n        (resultData) => {\n          if (resultData !== undefined && resultData != null) {\n            //BVHD-3574\n            this.LaChuyenKhoaKhamNhieu = resultData.LaDichVuKhamNhieu;\n\n            // dùng cờ này để check trạng thái YCKB chưa hoàn thành \n            resultData.YeuCauKhamBenh.IsKhamBenhDangKham = true;\n            //=============================================================\n\n            this.benhNhanHienTai = resultData;\n\n            this.maTiepNhan = this.benhNhanHienTai.YeuCauTiepNhanId;\n            // console.log(resultData)\n            //this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplate = '{\"ComponentDynamics\":[{\"Type\":4,\"Id\":\"group\",\"Label\":\"Mắt\",\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\",\"groupItems\":[{\"Type\":1,\"Id\":\"ThiLucKhongKinh\",\"Label\":\"Thị lực không kính\",\"Value\":null,\"fxFlex\":\"20%\",\"fxFlexSm\":\"20%\"},{\"Type\":2,\"Id\":\"ThiLucKhongKinhMatTrai\",\"Label\":\"Mắt trái\",\"Value\":null,\"fxFlex\":\"40%\",\"fxFlexSm\":\"40%\", \"placeholder\":null},{\"Type\":2,\"Id\":\"ThiLucKhongKinhMatPhai\",\"Label\":\"Mắt phải\",\"Value\":null,\"fxFlex\":\"40%\",\"fxFlexSm\":\"40%\", \"placeholder\":null},{\"Type\":1,\"Id\":\"NhanAp\",\"Label\":\"Nhãn áp\",\"Value\":null,\"fxFlex\":\"20%\",\"fxFlexSm\":\"20%\"},{\"Type\":2,\"Id\":\"NhanApMatTrai\",\"Label\":\"Mắt trái\",\"Value\":null,\"fxFlex\":\"40%\",\"fxFlexSm\":\"40%\", \"placeholder\":\"mmhg\"},{\"Type\":2,\"Id\":\"NhanApMatPhai\",\"Label\":\"Mắt phải\",\"Value\":null,\"fxFlex\":\"40%\",\"fxFlexSm\":\"40%\", \"placeholder\":\"mmhg\"},{\"Type\":1,\"Id\":\"ThiLucCoKinh\",\"Label\":\"Thị lực có kính\",\"Value\":null,\"fxFlex\":\"20%\",\"fxFlexSm\":\"20%\"},{\"Type\":2,\"Id\":\"ThiLucCoKinhTrai\",\"Label\":\"Mắt trái\",\"Value\":null,\"fxFlex\":\"40%\",\"fxFlexSm\":\"40%\", \"placeholder\":null},{\"Type\":2,\"Id\":\"ThiLucCoKinhPhai\",\"Label\":\"Mắt phải\",\"Value\":null,\"fxFlex\":\"40%\",\"fxFlexSm\":\"40%\", \"placeholder\":null}]},{\"Type\":3,\"Id\":\"TuanHoan\",\"Label\":\"Tuần hoàn\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"HoHap\",\"Label\":\"Hô hấp\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"TieuHoa\",\"Label\":\"Tiêu hóa\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"ThanTietNieuSinhDuc\",\"Label\":\"Thận - Tiết niệu - Sinh dục\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"ThanKinh\",\"Label\":\"Thần kinh\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"CoXuongKhop\",\"Label\":\"Cơ - Xương - Khớp\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"RangHamMat\",\"Label\":\"Răng - Hàm - Mặt\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"NoiTietDinhDuong\",\"Label\":\"Nội tiết - Dinh dưỡng\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"SanPhuKhoa\",\"Label\":\"Sản phụ khoa\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"DaLieu\",\"Label\":\"Da liễu\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true}]}';\n            this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj = JSON.parse(\n              this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplate\n            );\n\n            this.bindDataDynamicComponent();\n\n            // if (this.isKhamDoan) {\n            //   this.benhNhanHienTai.YeuCauKhamBenh.IsKhamDoan = true;\n            //   this.benhNhanHienTai.YeuCauKhamBenh.TemplateDichVuKhamSucKhoes.forEach(element => {\n            //     element.TemplateKhamCacCoQuanObj = JSON.parse(element.ThongTinKhamTheoDichVuTemplate);\n            //     this.bindDataDynamicComponent(element.TemplateKhamCacCoQuanObj, element.ThongTinKhamTheoDichVuData);\n            //   });\n            // }\n\n            this.ganThongTinKhamTamThoi();\n            this.ganThongTinYeuCauKhamBenhPerevious();\n\n            // this.unSelectedTab();\n            // let phongBenhVienId = this.authService.getPhongLamViecId();\n            // let nhanVienId = this.authService.getAccessUser().Id;\n            // let yeuCauKhamBenhId = this.benhNhanHienTai.YeuCauKhamBenhId;\n            this.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n            //this.isSelectedParentTabKhamBenh = true;\n\n            if (\n              this.benhNhanHienTai.YeuCauTiepNhan.NamSinh != null &&\n              this.benhNhanHienTai.YeuCauTiepNhan.ThangSinh != null &&\n              this.benhNhanHienTai.YeuCauTiepNhan.NgaySinh != null\n            ) {\n              var ngaySinh = new Date(\n                this.benhNhanHienTai.YeuCauTiepNhan.ThangSinh +\n                \"/\" +\n                this.benhNhanHienTai.YeuCauTiepNhan.NgaySinh +\n                \"/\" +\n                this.benhNhanHienTai.YeuCauTiepNhan.NamSinh +\n                \"/\"\n              );\n              this.getAge(ngaySinh, new Date());\n            }\n\n            this.closePopupLoadingData();\n          } else {\n            this.benhNhanHienTai = new BenhVienHangDoi();\n            this.closePopupLoadingData();\n          }\n        },\n        (err: ApiError) => {\n          if (err.Message != \"Validation Failed\") {\n            this.notificationService.showError(err.Message);\n          }\n          this.closePopupLoadingData();\n        }\n      );\n  }\n\n  capNhatDoiTuong() {\n    if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n      this.dialog.open(KhamBenhThongTinDoiTuongPopupComponent, {\n        disableClose: false,\n        width: '1600px',\n        data: {\n          \"YeuCauTiepNhanId\": this.benhNhanHienTai.YeuCauTiepNhanId\n        }\n      }).afterClosed().subscribe(result => {\n        if(result)\n        {\n          this.benhNhanHienTai = new BenhVienHangDoi();\n          this.getBenhNhanDangKham(this.phongKhamId, this.hangDoiKhamId);\n        }\n      });\n    }\n    else {\n      this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  luuKetLuan() {\n    var self = this;\n    self.validationKetLuanErrors = [];\n    self.ref.detectChanges();\n    self.benhNhanHienTai.YeuCauKhamBenh.CheckValidator = false;\n    if (self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa != true && this.benhNhanHienTai.YeuCauKhamBenh.KhongKeToa != true) {\n      self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa = null;\n    }\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n      self.showPopupLoadingData();\n      self.benhNhanHienTai.YeuCauKhamBenh.CoInKeToa = false;\n      self.apiService.post<any>(\"KhamBenh/LuuKetLuan\", self.benhNhanHienTai.YeuCauKhamBenh).subscribe(\n        (res) => {\n          self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs = res.YeuCauKhamBenhICDKhacs;\n          self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Lưu\"]));\n          self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n          self.ganThongTinYeuCauKhamBenhPerevious();\n          self.closePopupLoadingData();\n        },\n        (err: ApiError) => {\n          self.validationKetLuanErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n          }\n          self.closePopupLoadingData();\n        });\n    } else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n\n  }\n\n  cancelChangeDataKetLuan() {\n    this.validationKetLuanErrors = [];\n    this.ref.detectChanges();\n\n    this.benhNhanHienTai.YeuCauKhamBenh.IcdchinhId = this.yeuCauKhamBenhPrevious.IcdchinhId;\n    this.benhNhanHienTai.YeuCauKhamBenh.TenICDChinh = this.yeuCauKhamBenhPrevious.TenICDChinh;\n    this.benhNhanHienTai.YeuCauKhamBenh.CoTaiKham = this.yeuCauKhamBenhPrevious.CoTaiKham;\n    this.benhNhanHienTai.YeuCauKhamBenh.NgayTaiKham = this.yeuCauKhamBenhPrevious.NgayTaiKham;\n    this.benhNhanHienTai.YeuCauKhamBenh.GhiChuTaiKham = this.yeuCauKhamBenhPrevious.GhiChuTaiKham;\n    this.benhNhanHienTai.YeuCauKhamBenh.CoNhapVien = this.yeuCauKhamBenhPrevious.CoNhapVien;\n    this.benhNhanHienTai.YeuCauKhamBenh.CoChuyenVien = this.yeuCauKhamBenhPrevious.CoChuyenVien;\n    this.benhNhanHienTai.YeuCauKhamBenh.KhoaPhongNhapVienId = this.yeuCauKhamBenhPrevious.KhoaPhongNhapVienId;\n    this.benhNhanHienTai.YeuCauKhamBenh.TenKhoaPhongNhapVien = this.yeuCauKhamBenhPrevious.TenKhoaPhongNhapVien;\n    this.benhNhanHienTai.YeuCauKhamBenh.TinhTrangBenhNhanChuyenVien = this.yeuCauKhamBenhPrevious.TinhTrangBenhNhanChuyenVien;\n    this.benhNhanHienTai.YeuCauKhamBenh.LoaiLyDoChuyenVien = this.yeuCauKhamBenhPrevious.LoaiLyDoChuyenVien;\n    this.benhNhanHienTai.YeuCauKhamBenh.ThoiDiemChuyenVien = this.yeuCauKhamBenhPrevious.ThoiDiemChuyenVien;\n    this.benhNhanHienTai.YeuCauKhamBenh.PhuongTienChuyenVien = this.yeuCauKhamBenhPrevious.PhuongTienChuyenVien;\n    this.benhNhanHienTai.YeuCauKhamBenh.NhanVienHoTongChuyenVienId = this.yeuCauKhamBenhPrevious.NhanVienHoTongChuyenVienId;\n    this.benhNhanHienTai.YeuCauKhamBenh.HoTenNhanVienHoTong = this.yeuCauKhamBenhPrevious.HoTenNhanVienHoTong;\n    this.benhNhanHienTai.YeuCauKhamBenh.LyDoNhapVien = this.yeuCauKhamBenhPrevious.LyDoNhapVien;\n    this.benhNhanHienTai.YeuCauKhamBenh.BenhVienChuyenVienId = this.yeuCauKhamBenhPrevious.BenhVienChuyenVienId;\n    this.benhNhanHienTai.YeuCauKhamBenh.TenBenhVienChuyenVien = this.yeuCauKhamBenhPrevious.TenBenhVienChuyenVien;\n    this.benhNhanHienTai.YeuCauKhamBenh.LyDoChuyenVien = this.yeuCauKhamBenhPrevious.LyDoChuyenVien;\n    this.benhNhanHienTai.YeuCauKhamBenh.CoTuVong = this.yeuCauKhamBenhPrevious.CoTuVong;\n    this.benhNhanHienTai.YeuCauKhamBenh.TomTatKetQuaCLS = this.yeuCauKhamBenhPrevious.TomTatKetQuaCLS;\n    this.benhNhanHienTai.YeuCauKhamBenh.GhiChuICDChinh = this.yeuCauKhamBenhPrevious.GhiChuICDChinh;\n    this.benhNhanHienTai.YeuCauKhamBenh.CachGiaiQuyet = this.yeuCauKhamBenhPrevious.CachGiaiQuyet;\n    this.benhNhanHienTai.YeuCauKhamBenh.GhiChu = this.yeuCauKhamBenhPrevious.GhiChu;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.NhomChiPhi = this.yeuCauKhamBenhPrevious.NhomChiPhi;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.Gia = this.yeuCauKhamBenhPrevious.Gia;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.SoLan = this.yeuCauKhamBenhPrevious.SoLan;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.DuocHuongBaoHiem = this.yeuCauKhamBenhPrevious.DuocHuongBaoHiem;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TrangThai = this.yeuCauKhamBenhPrevious.TrangThai;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TrangThaiThanhToan = this.yeuCauKhamBenhPrevious.TrangThaiThanhToan;\n    this.benhNhanHienTai.YeuCauKhamBenh.NhanVienChiDinhId = this.yeuCauKhamBenhPrevious.NhanVienChiDinhId;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.ThoiDiemChiDinh = this.yeuCauKhamBenhPrevious.ThoiDiemChiDinh;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.ThoiDiemDangKy = this.yeuCauKhamBenhPrevious.ThoiDiemDangKy;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TenNhomDichVu = this.yeuCauKhamBenhPrevious.TenNhomDichVu;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.NhomDichVuBenhVienId = this.yeuCauKhamBenhPrevious.NhomDichVuBenhVienId;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.DieuTriNgoaiTru = this.yeuCauKhamBenhPrevious.DieuTriNgoaiTru;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.ThoiDiemBatDauDieuTri = this.yeuCauKhamBenhPrevious.ThoiDiemBatDauDieuTri;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TenDichVuHienThi = this.yeuCauKhamBenhPrevious.TenDichVuHienThi;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.DichVuKyThuatBenhVienId = this.yeuCauKhamBenhPrevious.DichVuKyThuatBenhVienId;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.LoaiDichVuKyThuat = this.yeuCauKhamBenhPrevious.LoaiDichVuKyThuat;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.YeuCauKhamBenhId = this.yeuCauKhamBenhPrevious.YeuCauKhamBenhId;\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.YeuCauTiepNhanId = this.yeuCauKhamBenhPrevious.YeuCauTiepNhanId;\n    this.benhNhanHienTai.YeuCauKhamBenh.CoDieuTriNgoaiTru = this.yeuCauKhamBenhPrevious.CoDieuTriNgoaiTru;\n\n    //this.benhNhanHienTai.YeuCauKhamBenh.CoKeToa = this.yeuCauKhamBenhPrevious.CoKeToa;\n    this.benhNhanHienTai.YeuCauKhamBenh.KhongKeToa = this.yeuCauKhamBenhPrevious.KhongKeToa;\n\n\n    const yeuCauKhamBenhICDKhacs = [];\n    this.yeuCauKhamBenhPrevious.YeuCauKhamBenhICDKhacs.forEach(val => yeuCauKhamBenhICDKhacs.push(Object.assign({}, val)));\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs = yeuCauKhamBenhICDKhacs;\n\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs = this.yeuCauKhamBenhPrevious.YeuCauKhamBenhICDKhacs.slice();\n\n    this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n  }\n\n  huy() {\n    this.cancelChangeDataKetLuan();\n  }\n\n  inPhieuKham() {\n    var self = this;\n    self.validationKetLuanErrors = [];\n    self.ref.detectChanges();\n    this.phieuKhamBenhVo.YeuCauKhamBenhId = this.benhNhanHienTai.YeuCauKhamBenhId;\n    this.phieuKhamBenhVo.CoKhamBenh = true;\n    this.phieuKhamBenhVo.CoKhamBenhVaoVien = false;\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n      self.showPopupLoadingData();\n      self.apiService.post<any>(\"KhamBenh/InPhieuKhamBenh\", this.phieuKhamBenhVo).subscribe(\n        resultData => {\n          if (resultData != null) {\n            self.closePopupLoadingData();\n            self.dialog.open(PhieuKhamBenhVaoVienPopupComponent, {\n              disableClose: true,\n              width: \"1000px\",\n              data: { html: resultData, Title: \"PHIẾU KHÁM BỆNH\" },\n            });\n          }\n        },\n        (err: ApiError) => {\n          self.validationKetLuanErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n          };\n          self.closePopupLoadingData();\n        });\n    } else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  inPhieuKhamVaoVien() {\n    var self = this;\n    self.validationKetLuanErrors = [];\n    self.benhNhanHienTai.YeuCauKhamBenh.CheckValidator = false;\n    if (self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa != true && this.benhNhanHienTai.YeuCauKhamBenh.KhongKeToa != true) {\n      self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa = null;\n    }\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n      self.benhNhanHienTai.YeuCauKhamBenh.CoInKeToa = false;\n      self.apiService.post<any>(\"KhamBenh/LuuKetLuan\", self.benhNhanHienTai.YeuCauKhamBenh).subscribe(\n        (res) => {\n          self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs = res.YeuCauKhamBenhICDKhacs;\n          self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n          self.ganThongTinYeuCauKhamBenhPerevious();\n          this.phieuKhamBenhVo.YeuCauKhamBenhId = this.benhNhanHienTai.YeuCauKhamBenhId;\n          this.phieuKhamBenhVo.CoKhamBenhVaoVien = true;\n          this.phieuKhamBenhVo.CoKhamBenh = false;\n          if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n            self.showPopupLoadingData();\n            self.apiService.post<any>(\"KhamBenh/InPhieuKhamBenh\", this.phieuKhamBenhVo).subscribe(\n              resultData => {\n                if (resultData != null) {\n                  self.closePopupLoadingData();\n                  self.dialog.open(PhieuKhamBenhVaoVienPopupComponent, {\n                    disableClose: true,\n                    width: \"1000px\",\n                    data: { html: resultData, Title: \"PHIẾU KHÁM BỆNH\" },\n                  });\n                }\n              },\n              (err: ApiError) => {\n                self.validationKetLuanErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                  self.notificationService.showError(err.Message);\n                };\n                self.closePopupLoadingData();\n              });\n          } else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n          }\n        },\n        (err: ApiError) => {\n          self.validationKetLuanErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n          }\n          //console.log(this.validationKetLuanErrors)\n          self.closePopupLoadingData();\n        });\n    } else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  inGiayNghiHuongBHXH() {\n    this.apiService.post<any>(\"KhamBenh/KiemTraYeuCauKhamBenh?yeuCauKhamBenhId=\" + this.benhNhanHienTai.YeuCauKhamBenhId).subscribe(\n      resultData1 => {\n        this.dialog.open(NghiHuongBhytConfirmPopupComponent, {\n          disableClose: true,\n          width: \"400px\",\n          data: { BenhNhanHienTai: this.benhNhanHienTai, DocumentType: this.documentType }\n        });\n      }, (err: ApiError) => {\n        this.validationKetLuanErrors = err.ValidationErrors;\n        if (err.Message != \"Validation Failed\") {\n          this.notificationService.showError(err.Message);\n        }\n      }\n    )\n  }\n\n  //----------------------------BVHD-3698--------------------------------------------------------\n  inGiayNghiDuongThai() {\n    let dataYCKB = {\n      YeuCauKhamBenhId: this.benhNhanHienTai.YeuCauKhamBenhId,\n      TuNgay: null,\n      DenNgay: null,\n    };\n    this.dialog.open(NgayDuongThaiXacNhanPopupComponent, {\n      disableClose: false,\n      width: '400px',\n      data: dataYCKB\n    });\n  }\n  //----------------------------end BVHD-3698----------------------------------------------------\n\n  hoanThanhKham(isNhapVien: boolean = false) {\n    if (\n      this.authService.hasPermission(\n        this.documentType,\n        SecurityOperation.Update\n      )\n    ) {\n      var self = this;\n      self.validationKetLuanErrors = null;\n      self.benhNhanHienTai.validationErrors = null;\n      self.ref.detectChanges();\n      if (\n        self.benhNhanHienTai.YeuCauKhamBenh.CheckValidator == true ||\n        self.benhNhanHienTai.YeuCauKhamBenh.CheckValidator == false\n      ) {\n        self.benhNhanHienTai.YeuCauKhamBenh.CheckValidator = null;\n      }\n      if (self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa != true && self.benhNhanHienTai.YeuCauKhamBenh.KhongKeToa != true) {\n        self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa = null;\n      }\n\n      if (!self.benhNhanHienTai.YeuCauKhamBenh.IsHoanThanhKham) {\n        self.benhNhanHienTai.YeuCauKhamBenh.IsHoanThanhKham = true;\n      }\n      ///------------- xử lý lưu thông tin tab khám bệnh\n      self.showPopupLoadingData();\n      self.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuData = self.processDynamicComponent();\n\n      self.apiService\n        .post<any>(\"KhamBenh/LuuThongTinKhamBenh\", self.benhNhanHienTai)\n        .subscribe(\n          (resultData) => {\n            self.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = false;\n            self.benhNhanHienTai.YeuCauKhamBenh.IsHoanThanhKham = false;\n\n            self.benhNhanHienTai.isShowPanelItemKhamBenh = false;\n            self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs =\n              resultData.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs;\n            self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets =\n              resultData.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets;\n            self.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs =\n              resultData.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs;\n            self.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs =\n              resultData.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs;\n            self.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus =\n              resultData.YeuCauTiepNhan.KetQuaSinhHieus;\n\n            self.ganThongTinKhamTamThoi();\n\n            ///------------- xử lý lưu thông tin tab chẩn đoán ---> cần update lại api\n            self.apiService\n              .post<any>(\"KhamBenh/CapNhatThongTinQuayLaiYeuCauKhamTruoc\", self.benhNhanHienTai.YeuCauKhamBenh)\n              .subscribe(\n                (resultData) => {\n                  if (isNhapVien) {\n                    self.inPhieuKhamHoanThanhKham(\"tuChon\");\n                  }\n                  else {\n                    // cập nhật người bệnh hiện tại thành chờ làm chỉ định/ hoàn thành khám\n                    self.ganThongTinYeuCauKhamBenhPerevious();\n                    this.dialog\n                      .open(ConfirmComponent, {\n                        disableClose: false,\n                        width: \"500px\",\n                        data: {\n                          Title: \"Xác nhận\",\n                          Message:\n                            \"Bạn có muốn in phiếu khám cho người bệnh này không ?\",\n                        },\n                      })\n                      .afterClosed()\n                      .subscribe((res) => {\n                        if (res == \"Yes\") {\n                          self.inPhieuKhamHoanThanhKham(\"tuChon\");\n                        } else {\n                          self.apiService\n                            .post(\n                              \"KhamBenh/XuLyHoanThanhCongDoanKhamHienTaiCuaBenhNhan?hangDoiHienTaiId=\" +\n                              self.benhNhanHienTai.Id +\n                              \"&hoanThanhKham=true\" +\n                              \"&isKhamBenhDangKham=true\"\n                            )\n                            .subscribe(\n                              (resultData) => {\n\n                                self.closePopupLoadingData();\n                                self.close(true);\n                              },\n                              (err: ApiError) => {\n                                self.benhNhanHienTai.validationErrors =\n                                  err.ValidationErrors;\n                                if (err.Message != \"Validation Failed\") {\n                                  self.notificationService.showError(\n                                    err.Message\n                                  );\n                                }\n                                self.closePopupLoadingData();\n                              }\n                            );\n                        }\n                      });\n                  }\n                  // else {\n                  //   let dialogRefTiepTheo = self.dialog\n                  //     .open(LanKhamHienTaiBenhNhanTiepTheoPopupComponent, {\n                  //       disableClose: false,\n                  //       width: \"600px\",\n                  //       data: {\n                  //         phongKhamHienTaiId: self.phongKhamHienTai.KeyId,\n                  //         hangDoiHienTaiId: self.benhNhanHienTai.Id,\n                  //         laKhamDoan: self.isKhamDoan,\n                  //         searchBenhNhan: self.searchStringHangDoiHienTai\n                  //       },\n                  //     })\n                  //     .afterClosed()\n                  //     .subscribe((result) => {\n                  //       self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n                  //       if (result == \"tuChon\") {\n                  //         // cập nhật người bệnh hiện tại thành chờ làm chỉ định/ hoàn thành khám\n                  //         self.ganThongTinYeuCauKhamBenhPerevious();\n                  //         this.dialog\n                  //           .open(ConfirmComponent, {\n                  //             disableClose: false,\n                  //             width: \"500px\",\n                  //             data: {\n                  //               Title: \"Xác nhận\",\n                  //               Message:\n                  //                 \"Bạn có muốn in phiếu khám cho người bệnh này không ?\",\n                  //             },\n                  //           })\n                  //           .afterClosed()\n                  //           .subscribe((res) => {\n                  //             if (res == \"Yes\") {\n                  //               self.inPhieuKhamHoanThanhKham(result);\n                  //             } else {\n                  //               self.apiService\n                  //                 .post(\n                  //                   \"KhamBenh/XuLyHoanThanhCongDoanKhamHienTaiCuaBenhNhan?hangDoiHienTaiId=\" +\n                  //                   self.benhNhanHienTai.Id +\n                  //                   \"&hoanThanhKham=true\"\n                  //                 )\n                  //                 .subscribe(\n                  //                   (resultData) => {\n                  //                     // clear data người bệnh hiện tại\n                  //                     self.benhNhanHienTai = new BenhVienHangDoi();\n                  //                     self.refreshHangDoi(\n                  //                       self.phongKhamHienTai.KeyId\n                  //                     );\n                  //                     self.closePopupLoadingData();\n                  //                   },\n                  //                   (err: ApiError) => {\n                  //                     self.benhNhanHienTai.validationErrors =\n                  //                       err.ValidationErrors;\n                  //                     if (err.Message != \"Validation Failed\") {\n                  //                       self.notificationService.showError(\n                  //                         err.Message\n                  //                       );\n                  //                     }\n                  //                     self.closePopupLoadingData();\n                  //                   }\n                  //                 );\n                  //             }\n                  //           });\n                  //       } else if (\n                  //         result == \"boQua\" ||\n                  //         result == null ||\n                  //         result == 0\n                  //       ) {\n                  //         // giữ nguyên màn hình hiện tại\n                  //         this.dialog\n                  //           .open(ConfirmComponent, {\n                  //             disableClose: false,\n                  //             width: \"500px\",\n                  //             data: {\n                  //               Title: \"Xác nhận\",\n                  //               Message:\n                  //                 \"Bạn có muốn in phiếu khám cho người bệnh này không ?\",\n                  //             },\n                  //           })\n                  //           .afterClosed()\n                  //           .subscribe((res) => {\n                  //             if (res == \"Yes\") {\n                  //               self.inPhieuKhamHoanThanhKham(result);\n                  //             } else {\n                  //               self.closePopupLoadingData();\n                  //             }\n                  //           });\n                  //       } else if (result > 0) {\n                  //         // result là id hàng đợi tiếp theo\n                  //         self.ganThongTinYeuCauKhamBenhPerevious();\n                  //         this.dialog\n                  //           .open(ConfirmComponent, {\n                  //             disableClose: false,\n                  //             width: \"500px\",\n                  //             data: {\n                  //               Title: \"Xác nhận\",\n                  //               Message:\n                  //                 \"Bạn có muốn in phiếu khám cho người bệnh này không ?\",\n                  //             },\n                  //           })\n                  //           .afterClosed()\n                  //           .subscribe((res) => {\n                  //             if (res == \"Yes\") {\n                  //               self.inPhieuKhamHoanThanhKham(result);\n                  //             } else {\n                  //               self.XuLyBatDauKhamBenhNhan(result, true);\n                  //             }\n                  //           });\n                  //       }\n                  //     });\n                  // }\n                },\n                (err: ApiError) => {\n                  self.validationKetLuanErrors = err.ValidationErrors;\n                  if (err.Message != \"Validation Failed\") {\n                    self.notificationService.showError(err.Message);\n                  }\n                  self.closePopupLoadingData();\n                }\n              );\n          },\n          (err: ApiError) => {\n            self.benhNhanHienTai.YeuCauKhamBenh.IsHoanThanhKham = false;\n            if (!self.lstStatusSelectTabKhambenh.selectedTabKhamBenh) {\n              self.unSelectedTab();\n              self.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n              self.notificationService.showError(\n                \"Yêu cầu nhập đầy đủ các trường bắt buộc trong tab khám bệnh\"\n              );\n            }\n            self.benhNhanHienTai.validationErrors = err.ValidationErrors;\n            if (err.Message != \"Validation Failed\") {\n              self.notificationService.showError(err.Message);\n            }\n            self.closePopupLoadingData();\n          }\n        );\n    } else {\n      this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  inPhieuKhamHoanThanhKham(result: any) {\n    this.phieuKhamBenhVo.YeuCauKhamBenhId = this.benhNhanHienTai.YeuCauKhamBenhId;\n    if (this.benhNhanHienTai.YeuCauKhamBenh.CoNhapVien == true) {\n      this.phieuKhamBenhVo.CoKhamBenhVaoVien = true;\n    }\n    this.phieuKhamBenhVo.CoKhamBenh = true;\n    if (this.phieuKhamBenhVo.CoKhamBenh && this.phieuKhamBenhVo.CoKhamBenhVaoVien) {\n      this.phieuKhamBenhVo.CoHeader = true;\n    }\n    this.apiService.post<any>(\"KhamBenh/InPhieuKhamBenh\", this.phieuKhamBenhVo).subscribe(\n      resultData => {\n        if (resultData != null) {\n          this.dialog\n            .open(PhieuKhamBenhVaoVienPopupComponent, {\n              disableClose: true,\n              width: \"1000px\",\n              data: { html: resultData, Title: \"PHIẾU KHÁM BỆNH\" },\n            })\n            .afterClosed()\n            .subscribe(() => {\n              this.chonBenhNhanTiepTheoKhiIn(result);\n            });\n        }\n      },\n      (err: ApiError) => {\n        if (err.Message != \"Validation Failed\") {\n          this.notificationService.showError(err.Message);\n        };\n        this.closePopupLoadingData();\n      });\n  }\n\n  chonBenhNhanTiepTheoKhiIn(results: any) {\n    let self = this;\n    //if (results == \"tuChon\") {\n    self.apiService\n      .post(\n        \"KhamBenh/XuLyHoanThanhCongDoanKhamHienTaiCuaBenhNhan?hangDoiHienTaiId=\" +\n        self.benhNhanHienTai.Id +\n        \"&hoanThanhKham=true\" +\n        \"&isKhamBenhDangKham=true\"\n      )\n      .subscribe(\n        () => {\n          self.closePopupLoadingData();\n          self.close(true);\n        },\n        (err: ApiError) => {\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n          }\n          self.closePopupLoadingData();\n        }\n      );\n    // } else if (results == \"boQua\" || results == null || results == 0) {\n    //     self.closePopupLoadingData();\n    // } else if (results > 0) {\n    //     self.XuLyBatDauKhamBenhNhan(results, true);\n    // }\n  }\n\n  @HostListener(\"document:keydown\", [\"$event\"])\n    keyEvent(event: KeyboardEvent) {\n        var self = this;\n\n        if (self.benhNhanHienTai.Id != 0) {\n            // kiểm tra lưu // ctr + s\n            if (event.ctrlKey && event.keyCode == 83) {\n                if (self.lstStatusSelectTabKhambenh.selectedTabKhamBenh) {\n                    if (this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh) {\n                        event.preventDefault();\n                        if (this.dialog.openDialogs.length > 0) {\n                            return;\n                        }\n                        this.saveChangeData();\n                    } else if (!this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh) {\n                        event.preventDefault();\n                    }\n                }\n                //KẾT LUẬN\n                else if (self.lstStatusSelectTabKhambenh.selectedTabChanDoan) {\n                    if (this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan) {\n                        event.preventDefault();\n                        if (this.dialog.openDialogs.length > 0) {\n                            return;\n                        }\n                        //this.luuKetLuan();\n                    } else if (!this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan) {\n                        event.preventDefault();\n                    }\n                }\n\n                // // tường trình pt/tt\n                // else if (self.lstStatusSelectTabKhambenh.selectedTabTuongTrinhPttt) {\n                //     event.preventDefault();\n                //     if (this.dialog.openDialogs.length > 0) {\n                //         return;\n                //     }\n                //     if (this.benhNhanHienTai.YeuCauKhamBenh.IsChangePhauThuat) {\n                //         self.onSaveTuongTrinh();\n                //     }\n                // }\n            }\n\n            // esc\n            if (self.lstStatusSelectTabKhambenh.selectedTabKhamBenh) {\n                // kiểm tra hủy\n                if (\n                    event.keyCode == 27 &&\n                    this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh\n                ) {\n                    event.preventDefault();\n                    this.cancelChangeData();\n                } else if (\n                    event.keyCode == 27 &&\n                    !this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh\n                ) {\n                    event.preventDefault();\n                }\n            } else if (self.lstStatusSelectTabKhambenh.selectedTabChanDoan) {\n                if (\n                    event.keyCode == 27 &&\n                    this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan\n                ) {\n                    event.preventDefault();\n                    this.cancelChangeDataKetLuan();\n                } else if (\n                    event.keyCode == 27 &&\n                    !this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan\n                ) {\n                    event.preventDefault();\n                }\n            } \n            // else if (self.lstStatusSelectTabKhambenh.selectedTabTuongTrinhPttt) {\n            //     // tường trình pt/tt\n\n            //     // tslint:disable-next-line: deprecation\n            //     if (\n            //         event.keyCode === 27 &&\n            //         this.benhNhanHienTai.YeuCauKhamBenh.IsChangePhauThuat\n            //     ) {\n            //         event.preventDefault();\n            //         self.onResetTuongTrinh();\n            //     } else if (\n            //         event.keyCode === 27 &&\n            //         !this.benhNhanHienTai.YeuCauKhamBenh.IsChangePhauThuat\n            //     ) {\n            //         event.preventDefault();\n            //     }\n            // }\n\n            // ctrl + f1\n            let kendoTab = \"card\";\n            if (event.ctrlKey && event.keyCode == 112) {\n                event.preventDefault();\n                setTimeout(function () {\n                    self.unSelectedTab();\n                    self.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n                    if(!self.isKhamDoan)\n                    {\n                        self.scrollTo(kendoTab);\n                    }\n                }, 100);\n            }\n\n            // ctrl + f2\n            if (event.ctrlKey && event.keyCode == 113) {\n                event.preventDefault();\n                setTimeout(function () {\n                    self.unSelectedTab();\n                    self.lstStatusSelectTabKhambenh.selectedTabLichSuKham = true;\n                    self.scrollTo(kendoTab);\n                }, 100);\n            }\n\n            // ctrl + f3\n            if (event.ctrlKey && event.keyCode == 114) {\n                event.preventDefault();\n                setTimeout(function () {\n                    self.unSelectedTab();\n                    self.lstStatusSelectTabKhambenh.selectedTabChiDinh = true;\n                    self.scrollTo(kendoTab);\n                }, 100);\n            }\n\n            // ctrl + f5\n            if (event.ctrlKey && event.keyCode == 116) {\n                event.preventDefault();\n                setTimeout(function () {\n                    self.unSelectedTab();\n                    self.lstStatusSelectTabKhambenh.selectedTabKetQuaCLS = true;\n                    self.scrollTo(kendoTab);\n                }, 100);\n            }\n\n            // ctrl + f6\n            if (event.ctrlKey && event.keyCode == 117) {\n                event.preventDefault();\n                setTimeout(function () {\n                    self.unSelectedTab();\n                    if(!self.isKhamDoan)\n                    {\n                        self.lstStatusSelectTabKhambenh.selectedTabChanDoan = true;\n                    }\n                    else\n                    {\n                        self.lstStatusSelectTabKhambenh.selectedTabTuVanThuocKhamDoan = true;\n                    }\n                    self.scrollTo(kendoTab);\n                }, 100);\n            }\n\n            // ctrl + p\n            if (event.ctrlKey && event.keyCode == 80) {\n                event.preventDefault();\n            }\n\n            // ctrl + H\n\n            if (event.ctrlKey && event.keyCode == 72) {\n                if (self.lstStatusSelectTabKhambenh.selectedTabChanDoan && self.benhNhanHienTai.YeuCauKhamBenh.CoDieuTriNgoaiTru != true){\n                    event.preventDefault();\n                    if (this.dialog.openDialogs.length > 0) {\n                        return;\n                    }\n                    self.hoanThanhKham();\n                }\n                // else if(self.isKhamDoan && self.lstStatusSelectTabKhambenh.selectedTabKhamBenh){\n                //     event.preventDefault();\n                //     if (this.dialog.openDialogs.length > 0) {\n                //         return;\n                //     }\n                //     this.luuVaHoanThanhKhamDoan();\n                // }\n                else {\n                    event.preventDefault();\n                }\n            }\n        } else {\n            if (\n                event.ctrlKey &&\n                (event.keyCode == 83 ||\n                    event.keyCode == 27 ||\n                    event.keyCode == 112 ||\n                    event.keyCode == 113 ||\n                    event.keyCode == 114 ||\n                    event.keyCode == 115 ||\n                    event.keyCode == 116 ||\n                    event.keyCode == 117 ||\n                    event.keyCode == 39 ||\n                    event.keyCode == 80 ||\n                    event.keyCode == 72)\n            ) {\n                event.preventDefault();\n            }\n        }\n    } \n\n  fullscreen() {\n    CommonService.fullScreenDialog(this.isFullscreen, this.Height, this.Width, 137);\n    this.isFullscreen = !this.isFullscreen;\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2toYW0tYmVuaC1kaWNoLXZ1LWNodWEtdGh1Yy1oaWVuLXBvcHVwL2toYW0tYmVuaC1kaWNoLXZ1LWNodWEtdGh1Yy1oaWVuLXBvcHVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, Inject, OnInit, Optional } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n@Component({\n  selector: 'app-kham-benh-dich-vu-chua-thuc-hien-popup',\n  templateUrl: './kham-benh-dich-vu-chua-thuc-hien-popup.component.html',\n  styleUrls: ['./kham-benh-dich-vu-chua-thuc-hien-popup.component.scss']\n})\nexport class KhamBenhDichVuChuaThucHienPopupComponent implements OnInit {\n\n  icClose = icClose;\n  \n  dichVus: Array<any> = [];\n  constructor(\n    private dialogRef: MatDialogRef<KhamBenhDichVuChuaThucHienPopupComponent>,\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\n  ) { }\n\n  ngOnInit() {\n    this.dichVus = this.data.DichVus;\n  }\n\n  close(answer: string) {\n    this.dialogRef.close(answer);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2toYW0tYmVuaC1saWNoLXN1LWtoYW0tbGlzdC9raGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3QuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, ViewChild, TemplateRef, Input, ChangeDetectorRef } from '@angular/core';\nimport { MatDialog } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { LookupItemVo } from 'src/app/shared/models/common.model';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { WindowComponent } from '@progress/kendo-angular-dialog';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { BenhVienHangDoi, YeuCauKhamBenh, SoLuongYeuCauHienTai, KetQuaSinhHieu, KhamBenh, GridLichSuKCB } from '../../kham-benh.model';\nimport { ScrollToService } from 'ng2-scroll-to-el';\nimport { LichSuKhamBenhPopupDetailComponent } from './lich-su-kham-benh-popup-detail/lich-su-kham-benh-popup-detail.component';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\n\ndeclare const Waypoint: any;\ndeclare var jQuery: any;\n\n@Component({\n  selector: 'app-kham-benh-lich-su-kham-list',\n  templateUrl: './kham-benh-lich-su-kham-list.component.html',\n  styleUrls: ['./kham-benh-lich-su-kham-list.component.scss'],\n \n})\nexport class KhamBenhLichSuKhamListComponent implements OnInit {\n\n  //documentType: DocumentType;\n  gridColumns: any[] = [];\n  gridChildColumns: any[] = [];\n  @Input() BenhNhan: number = null; // giá trị dùng để lấy thông tin lịch sử khám bệnh theo người bệnh\n  @Input() tenKP: string = null;\n  @Input() YeuCauTiepNhanId: number = 0;\n  @Input() documentType: DocumentType = DocumentType.KhamBenh;\n  urlGetDataGrid: string = \"KhamBenh/GetDataForGridAsyncLichSuKhamBenh\";\n  urlGetTotalPageGrid: string = \"KhamBenh/GetTotalPageForGridAsyncLichSuKhamBenh\";\n  urlGetDataGridChild: string = \"KhamBenh/GetDataForGridAsyncLichSuKhamBenhChild\";\n  urlGetTotalPageGridChild: string = \"KhamBenh/GetTotalPageForGridAsyncLichSuKhamBenhChild\";\n  \n  urlGetDataGridBHYT: string = \"KhamBenh/GetDataForGridAsyncLichSuKhamBenhBHYT\";\n  urlGetTotalPageGridBHYT: string = \"KhamBenh/GetTotalPageForGridAsyncLichSuKhamBenhBHYT\";\n  @ViewChild(\"gridA\", { static: true }) gridChildA: GridComponent; // == true goij onnit\n  @ViewChild('gridA', { static: true }) grid: any;\n  @ViewChild(WindowComponent, { static: false }) windowChild: WindowComponent;\n  // @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n  @ViewChild('trangThaTemplate', { static: true }) trangThaTemplate: TemplateRef<any>;\n  @ViewChild(ConfirmComponent, { static: false }) confirm: ConfirmComponent;\n\n  ////////////////\n  searchBenhNhan: string = null;\n\n  tabActive: string = \"card0\";\n  templateKhoaPhong: string = null;\n  tenKhoaPhong: string = null;\n\n  // biến tạm gán value\n  bacSi: string = \"Nguyễn Văn Tèo\";\n\n  benhNhanHienTai = new BenhVienHangDoi();\n  arrBenhNhanChuanBiKham: Array<YeuCauKhamBenh> = []\n  arrDoChiSoSinhTon: any[] = [];\n  _show: boolean = false;\n  // documentType: DocumentType = DocumentType.KhamBenh;\n  @ViewChild('chuanBiKhamActionTemplate', { static: true }) chuanBiKhamActionTemplate: TemplateRef<any>;\n  @ViewChild('doiKetLuanActionTemplate', { static: true }) doiKetLuanActionTemplate: TemplateRef<any>;\n  @ViewChild('detailTemplate', { static: true }) detailTemplate: TemplateRef<any>;\n  @ViewChild('ChuanBiKham', { static: true }) gridChuanBiKham: GridComponent;\n  @ViewChild('DangDoiKetLuan', { static: true }) gridDoiKetLuan: GridComponent;\n  //========================================\n\n  phongKhamHienTai: LookupItemVo = {\n    \"DisplayName\": null,\n    \"KeyId\": 0\n  };\n\n  slYeuCauHienTai: SoLuongYeuCauHienTai = new SoLuongYeuCauHienTai();\n\n  constructor(private dialog: MatDialog) { }\n  currentUser: any;\n  gridColumnsBHYT: any[] = [];\n  dataSourceBHYT: any = {\n    data: [],\n    total: 0\n  }\n  total: number = 0;\n  ngOnInit() {\n    //this.documentType = DocumentType.KhamBenh; // giá trị tạm để test\n    this.benhNhanHienTai.YeuCauKhamBenh = new YeuCauKhamBenh();\n    this.tenKhoaPhong = this.tenKP;\n    this.benhNhanHienTai.YeuCauKhamBenh.KhamBenh = new KhamBenh();\n    this.benhNhanHienTai.isShowPanelItemKhamBenh = true;\n    this.benhNhanHienTai.isShowPanelItemKetLuan = true;\n\n    this.gridColumns = [\n      { Field: \"ThoiDiemDangKyDisplay\", Title: \"Ngày khám\", Width: 150, Sortable: false , Template: this.detailTemplate },\n      { Field: \"BaSiKham\", Title: \"Bác sĩ khám\", Width: 150, Sortable: false },\n      { Field: \"BacSiKetLuan\", Title: \"Bác sĩ kết luận\", Width: 150, Sortable: false },\n      { Field: \"TenDichVuKham\", Title: \"Tên dịch vụ khám\", Width: 150, Sortable: false },\n      { Field: \"Phong\", Title: \"Phòng khám\", Width: 150, Sortable: false },\n      { Field: \"LyDoKham\", Title: \"Lý do khám\", Width: 150, Sortable: false },\n      // { Field: \"HoTen\", Title: \"Họ tên người bệnh\", Width: 200, Sortable: false },\n      { Field: \"TrieuChungLamSang\", Title: \"Triệu chứng LS\", Width: 200, Sortable: false },\n      { Field: \"ChuanDoanICD\", Title: \"Chẩn đoán ICD\", Width: 250, Sortable: false },\n      { Field: \"CachGiaiQuyet\", Title: \"Cách giải quyết\", Width: 250, Sortable: false }\n    ];\n    this.gridColumnsBHYT = [\n      // { Field: \"STT\", Title: \"STT\", Width: 45, Sortable: false },\n      { Field: \"MaTheBHYT\", Title: \"Mã thẻ BHYT\", Width: 150, Sortable: false },\n      // { Field: \"HoVaTen\", Title: \"Họ và tên\", Width: 150, Sortable: false },\n      { Field: \"NgayVaoVien\", Title: \"Ngày vào viện\", Width: 156, Sortable: false },\n      { Field: \"NgayRaVien\", Title: \"Ngày ra viện\", Width: 156, Sortable: false },\n      { Field: \"CoSoKCB\", Title: \"Cơ sở KCB\", Width: 180, Sortable: false },\n      { Field: \"KetQuaDieuTri\", Title: \"Kết quả điều trị\", Width: 150, Sortable: false },\n      { Field: \"LyDoVaoVien\", Title: \"Lý do vào viện\", Width: 130, Sortable: false },\n      { Field: \"TinhTrangRaVien\", Title: \"Tình trạng ra viện\", Width: 200, Sortable: false },\n    ];\n  }\n  detailExpand(event: any) {\n    let dialogRef = this.dialog.open(LichSuKhamBenhPopupDetailComponent, {\n      disableClose: false,\n      width: '1500px',\n      height: 'auto',\n      data: event,\n    });\n    dialogRef.afterClosed().subscribe(result => {\n    });\n\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2toYW0tYmVuaC1saWNoLXN1LWtoYW0tbGlzdC9saWNoLXN1LWtoYW0tYmVuaC1iby1waGFuLXRvbi10aHVvbmcvbGljaC1zdS1raGFtLWJlbmgtYm8tcGhhbi10b24tdGh1b25nLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit,Input } from '@angular/core';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { ViewImagePdfComponent } from 'src/app/shared/component/dialogs/view-image-pdf/view-image-pdf.component';\nimport { MatDialog } from '@angular/material';\ndeclare var $: any;\n\n@Component({\n  selector: 'app-lich-su-kham-benh-bo-phan-ton-thuong',\n  templateUrl: './lich-su-kham-benh-bo-phan-ton-thuong.component.html',\n  styleUrls: ['./lich-su-kham-benh-bo-phan-ton-thuong.component.scss']\n})\nexport class LichSuKhamBenhBoPhanTonThuongComponent implements OnInit {\n  dataSourceBoPhanTonThuong: any = {\n    data: [],\n    total: 0\n}\n  @Input() yeuCauKhamBenhId : number;\n  constructor(private apiService: ApiService,private dialog: MatDialog) { }\n\n  ngOnInit() {\n  this.apiService.post<any>(\"KhamBenh/GetDataGridBoPhanTonThuong?idYCKB=\" + this.yeuCauKhamBenhId).subscribe(resultData => {\n    if (resultData !== undefined && resultData != null) {\n      this.dataSourceBoPhanTonThuong.data = resultData.Value.Data;\n    }\n  });\n  }\n  xemHinhAnhBoPhanTonThuong(dataItem){\n    this.dialog.open(ViewImagePdfComponent, {\n      disableClose: false,\n      width: '1000px',\n      height:'600px',        \n      data: { Type:\"Image\",Title: \"Xem ảnh\", Description: (dataItem.MoTa != undefined ? dataItem.MoTa : \"\"),Src: dataItem.HinhAnh}\n  });\n    \n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2toYW0tYmVuaC1saWNoLXN1LWtoYW0tbGlzdC9saWNoLXN1LWtoYW0tYmVuaC1jaGFuLWRvYW4tcGhhbi1iaWV0L2xpY2gtc3Uta2hhbS1iZW5oLWNoYW4tZG9hbi1waGFuLWJpZXQuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit,ViewChild, TemplateRef,Input } from '@angular/core';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\n\n@Component({\n  selector: 'app-lich-su-kham-benh-chan-doan-phan-biet',\n  templateUrl: './lich-su-kham-benh-chan-doan-phan-biet.component.html',\n  styleUrls: ['./lich-su-kham-benh-chan-doan-phan-biet.component.scss']\n})\nexport class LichSuKhamBenhChanDoanPhanBietComponent implements OnInit {\n  documentType: DocumentType;\n  gridChanDoanPhanBietColumns: any[] = [];\n\n  dataSourceChanDoanPhamBiet: any = {\n    data: [],\n    total: 0\n  }\n  @Input() yeuCauKhamBenhId : number;\n  @ViewChild('icdTemplate', { static: true }) icdTemplate: TemplateRef<any>;\n  @ViewChild('ghiChuTemplate', { static: true }) ghiChuTemplate: TemplateRef<any>;\n  constructor(private apiService: ApiService) { }\n\n  ngOnInit() {\n    // this.documentType = DocumentType.KhamBenh;\n    this.gridChanDoanPhanBietColumns = [\n      { Field: \"ICD\", Title: \"ICD\", Width: 150, Sortable: false ,Template: this.icdTemplate },\n      { Field: \"GhiChu\", Title: \"Chẩn đoán\", Sortable: false,Width: 150, Template: this.ghiChuTemplate },\n      { Field: \"Action\", Title: \"\", Width: 20, Sortable: false }\n    ]\n    this.apiService.post<any>(\"KhamBenh/GetDataGridChanDoanPhanBiet?idYCKB=\" + this.yeuCauKhamBenhId).subscribe(resultData => {\n      if (resultData !== undefined && resultData != null) {\n        this.dataSourceChanDoanPhamBiet.data = resultData.Value.Data;\n      }\n    });\n  }\n\n}\n","export default \".size-icon {\\n  display: inline-block;\\n  height: 20px;\\n  width: 20px;\\n  line-height: 20px;\\n  border-radius: 10px;\\n  background-color: green;\\n  color: #FFF;\\n  text-align: center;\\n}\\n\\n.yellowText {\\n  color: yellowgreen;\\n}\\n\\n.redText {\\n  color: red;\\n}\\n\\n.greenText {\\n  color: green;\\n}\\n\\n.orangeText {\\n  color: orange;\\n}\\n\\n.blueText {\\n  color: blue;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgva2hhbS1iZW5oLWxpY2gtc3Uta2hhbS1saXN0L2xpY2gtc3Uta2hhbS1iZW5oLWNoaS1kaW5oL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXGtoYW0tYmVuaC1saWNoLXN1LWtoYW0tbGlzdFxcbGljaC1zdS1raGFtLWJlbmgtY2hpLWRpbmhcXGxpY2gtc3Uta2hhbS1iZW5oLWNoaS1kaW5oLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3QvbGljaC1zdS1raGFtLWJlbmgtY2hpLWRpbmgvbGljaC1zdS1raGFtLWJlbmgtY2hpLWRpbmguY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxxQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFFQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsVUFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgva2hhbS1iZW5oLWxpY2gtc3Uta2hhbS1saXN0L2xpY2gtc3Uta2hhbS1iZW5oLWNoaS1kaW5oL2xpY2gtc3Uta2hhbS1iZW5oLWNoaS1kaW5oLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNpemUtaWNvbiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgaGVpZ2h0OiAyMHB4O1xuICB3aWR0aDogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIC1tb3otYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiAjRkZGO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi55ZWxsb3dUZXh0IHtcbiAgY29sb3I6IHllbGxvd2dyZWVuO1xufVxuXG4ucmVkVGV4dCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5ncmVlblRleHQge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5vcmFuZ2VUZXh0IHtcbiAgY29sb3I6IG9yYW5nZTtcbn1cblxuLmJsdWVUZXh0IHtcbiAgY29sb3I6IGJsdWU7XG59IiwiLnNpemUtaWNvbiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgaGVpZ2h0OiAyMHB4O1xuICB3aWR0aDogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIC1tb3otYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiAjRkZGO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi55ZWxsb3dUZXh0IHtcbiAgY29sb3I6IHllbGxvd2dyZWVuO1xufVxuXG4ucmVkVGV4dCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5ncmVlblRleHQge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5vcmFuZ2VUZXh0IHtcbiAgY29sb3I6IG9yYW5nZTtcbn1cblxuLmJsdWVUZXh0IHtcbiAgY29sb3I6IGJsdWU7XG59Il19 */\"","import { Component, OnInit, Input, ViewChild, TemplateRef } from '@angular/core';\n\nimport { ApiService } from 'src/app/core/services/api.service';\nimport {\n  GoiCoChietKhau,\n  GoiKhongChietKhau,\n  YeuCauDichVuKyThuat,\n  YeuCauKhamBenh,\n  YeuCauDichVuGiuongBenh,\n  YeuCauVatTuBenhVien,\n  YeuCauGoiDichVu,\n  YeuCauDuocPham,\n  TrangThaiYeuCauKhamBenhObjEnum,\n  TrangThaiYeuCauDichVuKyThuatObjEnum\n} from '../../../kham-benh.model';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\n\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\n\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { WindowComponent } from '@progress/kendo-angular-dialog';\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport icCheck from '@iconify/icons-ic/twotone-check';\nimport icInfo from '@iconify/icons-ic/twotone-info';\nimport { MatDialog } from '@angular/material';\nimport { LanKhamHienTaiChiDinhCuaBacSiKhacPopupComponent } from '../../lan-kham-hien-tai/lan-kham-hien-tai-chi-dinh-cua-bac-si-khac-popup/lan-kham-hien-tai-chi-dinh-cua-bac-si-khac-popup.component';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport icCheckBox from \"@iconify/icons-ic/check\";\nimport { XacNhanChuyenTrangThaiComponent } from '../xac-nhan-chuyen-trang-thai-dich-vu/xac-nhan-chuyen-trang-thai-dich-vu.component';\nimport { CapNhatThongTinThucHienDvktPopupComponent } from '../../lan-kham-hien-tai/cap-nhat-thong-tin-thuc-hien-dvkt-popup/cap-nhat-thong-tin-thuc-hien-dvkt-popup.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport icHistory from '@iconify/icons-ic/twotone-history';\nimport icDone from '@iconify/icons-ic/twotone-done';\n@Component({\n  selector: 'app-lich-su-kham-benh-chi-dinh',\n  templateUrl: './lich-su-kham-benh-chi-dinh.component.html',\n  styleUrls: ['./lich-su-kham-benh-chi-dinh.component.scss']\n})\nexport class LichSuKhamBenhChiDinhComponent implements OnInit {\n  documentType: DocumentType;\n  icCheckBox = icCheckBox;\n  icHistory = icHistory;\n  icDone = icDone;\n  \n  gridColumns: any[] = [];\n  gridGCKColumns: any[] = [];\n  phongBenhVienId: number;\n  yeuCauDichVuKyThuat: YeuCauDichVuKyThuat = new YeuCauDichVuKyThuat();\n  yeuCauKhamBenh: YeuCauKhamBenh = new YeuCauKhamBenh();\n  yeuCauDichVuGiuong: YeuCauDichVuGiuongBenh = new YeuCauDichVuGiuongBenh();\n  yeuCauVatTuBenhVien: YeuCauVatTuBenhVien = new YeuCauVatTuBenhVien();\n  yeuCauGoiDichVu: YeuCauGoiDichVu = new YeuCauGoiDichVu();\n  yeuCauDuocPham: YeuCauDuocPham = new YeuCauDuocPham();\n\n  goiCoChietKhau: GoiCoChietKhau[] = [];\n  goiKhongChietKhau: GoiKhongChietKhau[] = [];\n  benhNhanHienTai = new YeuCauKhamBenh();\n  validationErrors: any;\n  tongthanhtien: number = 0;\n  tongtienBNThanhToan: number = 0;\n  tenGoiChietKhau: string = \"\";\n  tongThanhTienTrongGoi: number = 0;\n  thanhTienTrongGoi: number = 0;\n  tongThanhTienGoiChietKhau: number = 0;\n  tLchietKhau: string = \"\";\n  icCheck = icCheck;\n  icInfo = icInfo;\n  // thành tiền page\n  totalThanhTienPage: number = 0;\n  totalDVKTTPage: number = 0;\n  totalGCKTTPage: number = 0;\n  // NB Thanh toán\n  totalBNTTPage: number = 0;\n  totalDVKBNTTPage: number = 0;\n  totalGCKBNTTPage: number = 0;\n  @Input() yeuCauKhamBenhId: number;\n  @Input() yeuCauTiepNhanId: number;\n  @Input() BenhNhan: number;\n  @Input() isKhamDoan: boolean;\n  @ViewChild(GridComponent, { static: false }) gridChild: GridComponent;\n  @ViewChild(WindowComponent, { static: false }) windowChild: WindowComponent;\n  @ViewChild('thanhTienFooter', { static: true }) thanhTienFooterTemplate: TemplateRef<any>;\n\n  @ViewChild('donGiaFooter', { static: true }) donGiafooterTemplate: TemplateRef<any>;\n  @ViewChild('tkChietKhauFooter', { static: true }) tkChietKhauFooter: TemplateRef<any>\n\n  // GOI CÓ CHIET KHAU\n  groupss: GroupDescriptor[] = [{ field: 'Nhom', aggregates: [{ field: 'ThanhTien', aggregate: 'sum' }, { field: 'ThanhTienTrongGoi', aggregate: 'sum' }] }];\n  gridData: any = {\n    data: [],\n    total: 0\n  }\n  gridDataSourceVTTHThuoc: any = {};\n  listChietKhau: any[] = [];\n  gridVTTHThuocColumns: any[] = [];\n  // GOI KHONG CÓ CHIET KHAU\n  @ViewChild('noiThucHienTemplate', { static: true }) noiThucHienTemplate: TemplateRef<any>;//\n\n  @ViewChild('TongCongThanhTienKCKGroupFooter', { static: true }) TongCongThanhTienKCKGroupFooter: TemplateRef<any>//\n  @ViewChild('TongCongBHTTThanhToanGroupFooter', { static: true }) TongCongBHTTThanhToanGroupFooter: TemplateRef<any>//\n  @ViewChild('TongCongBNTTGroupFooter', { static: true }) TongCongBNTTGroupFooter: TemplateRef<any>//\n  // template gói kck\n  @ViewChild('DonGiaTemplateKCK', { static: true }) DonGiaTemplateKCK: TemplateRef<any>//\n  @ViewChild('BNThanhToanTemplateKCK', { static: true }) BNThanhToanTemplateKCK: TemplateRef<any>//\n  ///footer\n  @ViewChild('TongCongKCKFooter', { static: true }) TongCongKCKFooter: TemplateRef<any>//\n  @ViewChild('TongCongThanhTienKCKFooter', { static: true }) TongCongThanhTienKCKFooter: TemplateRef<any>//\n  @ViewChild('TongCongBHTTThanhToanFooter', { static: true }) TongCongBHTTThanhToanFooter: TemplateRef<any>//\n  @ViewChild('TongCongBNTTFooter', { static: true }) TongCongBNTTFooter: TemplateRef<any>//\n  @ViewChild('congTienGroupFooterTemplate', { static: true }) congTienGroupFooterTemplate: TemplateRef<any>;//\n  @ViewChild('bhytThanhToanTemplate', { static: true }) bhytThanhToanTemplate: TemplateRef<any>;//\n  //\n  @ViewChild('ThanhTienTemplateKCK', { static: true }) ThanhTienTemplateKCK: TemplateRef<any>//\n  @ViewChild('trangThaiTemplate', { static: true }) trangThaiTemplate: TemplateRef<any>;\n  @ViewChild('donGiaBaoHiemGrid1Template', { static: true }) donGiaBaoHiemGrid1Template: TemplateRef<any>;\n  @ViewChild('donGiaBaoHiemGrid2Template', { static: true }) donGiaBaoHiemGrid2Template: TemplateRef<any>;\n  // vtth\n  @ViewChild('duocHuongBaoHiemTemplate', { static: true }) duocHuongBaoHiemTemplate: TemplateRef<any>;\n  @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n  @ViewChild('duocHuongBaoHiemGhiNhanVHTTTemplate', { static: true }) duocHuongBaoHiemGhiNhanVHTTTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienGhiNhanVTTHThuocGroupFooterTemplate', { static: true }) thanhTienGhiNhanVTTHThuocGroupFooterTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienGhiNhanVTTHThuocFooterTemplate', { static: true }) thanhTienGhiNhanVTTHThuocFooterTemplate: TemplateRef<any>;\n  @ViewChild('soLuongGhiNhanVTTHThuocTemplate', { static: true }) soLuongGhiNhanVTTHThuocTemplate: TemplateRef<any>;\n  @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n  @ViewChild('donGiaFooterTemplate', { static: true }) donGiaFooterTemplate: TemplateRef<any>;\n  @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n  @ViewChild('gridVTTHThuoc', { static: true }) gridChildVTTHThuoc: GridComponent;\n  @ViewChild('nhomDichVuTemplate', { static: true }) nhomDichVuTemplate: TemplateRef<any>;\n  @ViewChild('tenDichVuTemplate', { static: true }) tenDichVuTemplate: TemplateRef<any>;\n\n  groupsGhiNhanVTHHThuoc: GroupDescriptor[] = [{ field: 'TenDichVu', dir: null, aggregates: [{ field: 'ThanhTien', aggregate: 'sum' }] }];\n  public totalGhiNhanVTTHThuoc(field: any) {\n    if (this.gridDataSourceVTTHThuoc.data != undefined) {\n      switch (field) {\n        case 'ThanhTien':\n          return this.gridDataSourceVTTHThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n      }\n    }\n  };\n  //\n  trangThaiYCKB: TrangThaiYeuCauKhamBenhObjEnum = new TrangThaiYeuCauKhamBenhObjEnum();\n  trangThaiYCDVKT: TrangThaiYeuCauDichVuKyThuatObjEnum = new TrangThaiYeuCauDichVuKyThuatObjEnum();\n  public totalNotChietKhau(field: any) {\n    switch (field) {\n      case 'ThanhTien':\n        return this.goiKhongChietKhau.reduce((sum, item) => sum + item.ThanhTien, 0);\n      case 'BHYTThanhToan':\n        return this.goiKhongChietKhau.reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n      case 'SoTienMG':\n        return this.goiKhongChietKhau.reduce((sum, item) => sum + item.SoTienMG, 0);\n      case 'BNThanhToan':\n        return this.goiKhongChietKhau.reduce((sum, item) => sum + item.BNThanhToan, 0);\n    }\n  };\n  // total Page\n  gridDataNotChietKhau: any = {\n    data: [],\n    total: 0\n  };\n  groups: GroupDescriptor[] = [{\n    field: 'Nhom', aggregates: [{ field: 'ThanhTien', aggregate: 'sum' }, { field: 'BHYTThanhToan', aggregate: 'sum' },\n    { field: 'SoTienMG', aggregate: 'sum' }, { field: 'BNThanhToan', aggregate: 'sum' }]\n  }];\n  constructor(private apiService: ApiService, private dialog: MatDialog, private notificationService: NotificationService, private authService: AuthService,) { }\n\n  ngOnInit() {\n    this.documentType = DocumentType.KhamBenh;\n    this.gridColumns = [\n      { Field: \"STT\", Title: \"#\", Width: 50, Template: this.sttTemplate },\n      { Field: \"Ma\", Title: \"Mã\", Width: 120 },\n      { Field: \"Nhom\", Title: \"Nhóm\", Width: 200, Hidden: true, TemplateGroupHeader: this.nhomDichVuTemplate }, //TemplateGroupHeader: this.nhomGroupHeaderTemplate\n      { Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", MinWidth: 200, Sortable: true, Template: this.tenDichVuTemplate },\n      { Field: \"LoaiGia\", Title: \"Loại Giá\", Width: 120, TemplateGroupFooter: this.congTienGroupFooterTemplate, TemplateFooter: this.TongCongKCKFooter },\n      { Field: \"DonGia\", Title: \"Đơn Giá\", Width: 120, Template: this.DonGiaTemplateKCK, Hidden: this.isKhamDoan }, //,TemplateGroupFooter: this.TongCongKCKGroupFooter\n      { Field: \"SoLuong\", Title: \"SL\", Width: 50, Hidden: this.isKhamDoan },\n      { Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 120, TemplateGroupFooter: this.TongCongThanhTienKCKGroupFooter, TemplateFooter: this.TongCongThanhTienKCKFooter, Template: this.ThanhTienTemplateKCK }, //Template: this.ThanhTienTemplateKCK\n      { Field: \"DonGiaBaoHiem\", Title: \"DG BHYT\", Width: 140, Template: this.donGiaBaoHiemGrid1Template, Hidden: this.isKhamDoan },//, TemplateGroupFooter: this.TongCongBHTTThanhToanGroupFooter, TemplateFooter: this.TongCongBHTTThanhToanFooter },\n      { Field: \"DuocHuongBaoHiem\", Title: \"ĐH BHYT\", Width: 120, Template: this.duocHuongBaoHiemTemplate, Hidden: this.isKhamDoan },// TemplateGroupFooter: this.TongCongBNTTGroupFooter, TemplateFooter: this.TongCongBNTTFooter },\n      { Field: \"NoiThucHien\", Title: \"Nơi thực hiện\", Width: 300, Template: this.noiThucHienTemplate },\n      { Field: \"TrangThaiDichVu\", Title: \"Tình trạng\", Width: 150, Template: this.trangThaiTemplate },\n      { Field: \"TenNguoiThucHien\", Title: \"Người thực hiện\", Width: 250 },\n      //{ Field: \"TenGiuongBenh\", Title: \"Số giường\", Width: 90 },\n      { Field: \"BenhPhamXetNghiem\", Title: \"Bệnh phẩm\", Width: 150 },\n      { Field: \"NguoiChiDinhDisplay\", Title: \"Người chỉ định\", Width: 110 },\n      { Field: \"ThoiGianChiDinhDisplay\", Title: \"Thời gian chỉ định\", Width: 110 },\n    ];\n    this.gridVTTHThuocColumns = [\n      { Field: \"STT\", Title: \"#\", Width: 20, Template: this.sttTemplate },\n      { Field: \"MaDichVuYeuCau\", Title: \"Mã\", Width: 60 },\n      { Field: \"TenDichVu\", Title: \"TenDichVu\", Width: 150, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n      { Field: \"TenDichVuYeuCau\", Title: \"Tên vật tư/thuốc\", MinWidth: 150, ShowTooltip: true },\n      { Field: \"TenKho\", Title: \"Tên kho\", Width: 150 },\n      { Field: \"TenDuongDung\", Title: \"Đường dùng\", Width: 100 },\n      { Field: \"DonGia\", Title: \"Đơn Giá\", Width: 80, Template: this.donGiaTemplate, TemplateFooter: this.donGiaFooterTemplate },\n      { Field: \"SoLuong\", Title: \"SL\", Width: 59, Template: this.soLuongGhiNhanVTTHThuocTemplate },\n      { Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Template: this.thanhTienTemplate, TemplateFooter: this.thanhTienGhiNhanVTTHThuocFooterTemplate, TemplateGroupFooter: this.thanhTienGhiNhanVTTHThuocGroupFooterTemplate },\n      { Field: \"DonGiaBaoHiem\", Title: \"DG BHYT\", Width: 100, Template: this.donGiaBaoHiemGrid2Template },\n      { Field: \"DuocHuongBaoHiem\", Title: \"ĐH BHYT\", Width: 60, Template: this.duocHuongBaoHiemGhiNhanVHTTTemplate },\n      { Field: \"PhieuLinh\", Title: \"Phiếu lĩnh\", Width: 100 },\n      { Field: \"PhieuXuat\", Title: \"Phiếu xuất\", Width: 100 },\n      { Field: \"ThoiGianChiDinhDisplay\", Title: \"Thời gian chỉ định\", Width: 110 },\n    ];\n    this.getDataGoiDichVuDefault(this.yeuCauKhamBenhId);\n    this.getGridDataGhiNhanVTHHThuoc();\n\n  }\n  tinhthanhtien(modelGoiKoChietKhau: any) {\n    modelGoiKoChietKhau.forEach(element => {\n      if (element.TTTienTrongGoi !== null)\n        this.tongthanhtien = element.TTTienTrongGoi;\n      if (element.ThanhTienTrongGoi !== null)\n        this.thanhTienTrongGoi = element.ThanhTienTrongGoi;\n    });\n  }\n  tinhthanhtienDVK(modelGoiKoChietKhau: any) {\n    modelGoiKoChietKhau.forEach(element => {\n      if (element.TTTienTrongGoi !== null)\n        this.tongthanhtien = element.TTTienTrongGoi;\n      if (element.ThanhTienTrongGoi !== null)\n        this.thanhTienTrongGoi = element.ThanhTienTrongGoi;\n    });\n  }\n  getDataGoiDichVuDefault(yeuCauKhamBenhId: number) {\n    var self = this;\n    var dialogRef = self.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: \"Đang tải dữ liệu...\" }\n    });\n    this.tongthanhtien = 0;\n    this.tongtienBNThanhToan = 0;\n    this.tongThanhTienGoiChietKhau = 0;\n    this.totalGCKTTPage = 0;\n    this.totalDVKTTPage = 0;\n    this.goiKhongChietKhau = [];\n\n    //yeu cau khac\n    this.apiService.get<any>(\"KhamBenh/GetDataForGridAsyncChiDinDichVuKhac?yeuCauKhamBenhId=\" + this.yeuCauKhamBenhId + \"&yeuCauTiepNhanId=\" + this.yeuCauTiepNhanId).subscribe(resultData => {\n      if (resultData !== undefined && resultData != null) {\n        resultData.forEach(element => {\n          this.goiKhongChietKhau.push(element);\n          this.totalDVKTTPage += element.ThanhTien;\n          this.totalDVKBNTTPage += element.BNThanhToan;\n        });\n        this.gridDataNotChietKhau = {\n          data: [...resultData],\n          total: [...resultData].length\n        };\n\n        // page total grid\n        this.totalThanhTienPage = this.totalDVKTTPage;\n        this.totalBNTTPage = this.totalDVKBNTTPage;\n        dialogRef.close();\n      }\n    });\n\n  }\n  getGridDataGhiNhanVTHHThuoc() {\n    var url = \"KhamBenh/GetGridDataGhiNhanVTTHThuoc?yeuCauKhamBenhId=\" + this.yeuCauKhamBenhId;\n    this.apiService.get<any>(url).subscribe(resultData => {\n      if (resultData !== undefined && resultData != null) {\n        this.gridDataSourceVTTHThuoc = {\n          data: resultData,\n          total: resultData.length\n        }\n        this.gridChildVTTHThuoc.gridDataSource = this.gridDataSourceVTTHThuoc\n        this.gridChildVTTHThuoc.setDataSource();\n      }\n    },\n      (err: ApiError) => {\n        if (err.Message != \"Validation Failed\") {\n          this.notificationService.showError(err.Message);\n        }\n      });\n  }\n  xemChiDinhCuaBacSiKhac() {\n    this.dialog.open(LanKhamHienTaiChiDinhCuaBacSiKhacPopupComponent, {\n      disableClose: false,\n      width: '1000px',\n      data: { YeuCauTiepNhanId: this.yeuCauTiepNhanId, YeuCauKhamBenhId: this.yeuCauKhamBenhId }\n    }).afterClosed().subscribe(() => {\n    });\n  }\n\n  // cập nhật kiểm tra dịch vụ khác 4 nhóm: PTTT, CDHA, TDCN, XN thì cho phép hoàn thành, hủy hoàn thành\n  capNhatThongTinThucHienDichVu(dataItem: any, isThucHien: boolean = true) {\n    if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n      var newObj = {\n        YeuCauDichVuKyThuatId: dataItem.Id,\n        LaThucHienDichVu: isThucHien,\n        DocumentType: this.documentType,\n        YeuCauKhamBenhId: this.yeuCauKhamBenhId\n      }\n      this.dialog.open(XacNhanChuyenTrangThaiComponent, {\n        disableClose: false,\n        width: '600px',\n        data: newObj,\n      }).afterClosed().subscribe((res) => {\n        if (res) {\n          var mess = isThucHien ? \"Cập nhật thông tin thực hiện dịch vụ\" : \"Hủy thông tin thực hiện dịch vụ\"\n          this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [mess]));\n\n          this.getDataGoiDichVuDefault(this.yeuCauKhamBenhId);\n          this.getGridDataGhiNhanVTHHThuoc();\n        }\n      });\n\n    } else {\n      this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n}\n","export default \".menu-form-wrapper .mat-menu-content {\\n  padding: 8px;\\n}\\n\\n.po-right {\\n  text-align: right;\\n  flex-grow: 1;\\n}\\n\\n.d-unset {\\n  display: unset !important;\\n}\\n\\nkendo-splitter {\\n  border-width: 0px !important;\\n  min-height: 100px;\\n}\\n\\nkendo-splitter ul > li.right-0 {\\n  margin-right: 0px;\\n  padding-right: 15px;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item .inline_b {\\n  display: inline-block !important;\\n  margin-right: 10px;\\n  padding-right: 15px;\\n}\\n\\nkendo-panelbar-item .panelbar-row {\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\\n}\\n\\nkendo-panelbar-item .panelbar-row:hover {\\n  background: rgba(227, 242, 253, 0.5);\\n}\\n\\nkendo-panelbar-item .panelbar-group-b {\\n  border-top: 1px rgba(0, 0, 0, 0.08) outset;\\n}\\n\\n.sticky-list {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n}\\n\\n.sticky-tab {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n  background: #f5f7fa;\\n  overflow-x: auto;\\n  margin-left: 5px;\\n  margin-right: 5px;\\n}\\n\\n.sticky-tab ul {\\n  margin: 0;\\n  padding-top: 10px;\\n  padding-bottom: 0;\\n  border-bottom: 1px solid #ccc;\\n}\\n\\n.sticky-tab ul li {\\n  display: inline-block;\\n  list-style-type: none;\\n  margin-right: 25px;\\n  font-size: 15px;\\n  font-weight: bold;\\n  font-style: normal;\\n  font-stretch: normal;\\n  letter-spacing: normal;\\n  color: #2e384d;\\n  cursor: pointer;\\n  transition: all 300ms linear;\\n  border-bottom: 3px solid #f5f7fa;\\n}\\n\\n.sticky-tab ul li.active {\\n  font-size: 15px;\\n  font-weight: bold;\\n  color: #005dab;\\n  border-bottom: 4px solid #005dab;\\n}\\n\\n.sticky-tab ul li:hover {\\n  border-bottom: 3px solid #005dab;\\n}\\n\\n.sticky-tab ul li.resolved {\\n  color: #005dab;\\n}\\n\\n.sticky-tab ul li.processing {\\n  color: #ff9800;\\n}\\n\\n.sticky-tab ul li.unfulfilled {\\n  color: #9e9e9e;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail {\\n  bottom: 0 !important;\\n  height: 5px !important;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail .ps-scrollbar-x {\\n  height: 5px !important;\\n}\\n\\nlegend {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\n.sticky-panelbar {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  top: 64px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgva2hhbS1iZW5oLWxpY2gtc3Uta2hhbS1saXN0L2xpY2gtc3Uta2hhbS1iZW5oLWNoaS1zby1zaW5oLXRvbi9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxraGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3RcXGxpY2gtc3Uta2hhbS1iZW5oLWNoaS1zby1zaW5oLXRvblxcbGljaC1zdS1raGFtLWJlbmgtY2hpLXNvLXNpbmgtdG9uLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3QvbGljaC1zdS1raGFtLWJlbmgtY2hpLXNvLXNpbmgtdG9uL2xpY2gtc3Uta2hhbS1iZW5oLWNoaS1zby1zaW5oLXRvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7QUNDRjs7QURFQTtFQUNFLDRCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsOEJBQUE7RUFDQSx1QkFBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLDRDQUFBO0FDQ0Y7O0FERUE7RUFDRSxvQ0FBQTtBQ0NGOztBREVBO0VBQ0UsMENBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7RUFDQSwyQkFBQTtFQUNBLG1DQUFBO0VBQ0EsYUFBQTtBQ0NGOztBREVBO0VBQ0UsU0FBQTtFQUNBLDJCQUFBO0VBQ0EsbUNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsNkJBQUE7QUNDRjs7QURFQTtFQUNFLHFCQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7RUFDQSxzQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0VBS0EsNEJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0Usb0JBQUE7RUFDQSxzQkFBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EseUJBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0VBQ0Esd0JBQUE7RUFDQSxTQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3QvbGljaC1zdS1raGFtLWJlbmgtY2hpLXNvLXNpbmgtdG9uL2xpY2gtc3Uta2hhbS1iZW5oLWNoaS1zby1zaW5oLXRvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tZW51LWZvcm0td3JhcHBlciAubWF0LW1lbnUtY29udGVudCB7XG4gIHBhZGRpbmc6IDhweDtcbn1cblxuLnBvLXJpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZsZXgtZ3JvdzogMTtcbn1cblxuLmQtdW5zZXQge1xuICBkaXNwbGF5OiB1bnNldCAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1zcGxpdHRlciB7XG4gIGJvcmRlci13aWR0aDogMHB4ICFpbXBvcnRhbnQ7XG4gIG1pbi1oZWlnaHQ6IDEwMHB4O1xufVxuXG5rZW5kby1zcGxpdHRlciB1bCA+IGxpLnJpZ2h0LTAge1xuICBtYXJnaW4tcmlnaHQ6IDBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIHVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLmlubGluZV9iIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93IHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMik7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLXJvdzpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjI3LCAyNDIsIDI1MywgMC41KTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItZ3JvdXAtYiB7XG4gIGJvcmRlci10b3A6IDFweCByZ2JhKDAsIDAsIDAsIDAuMDgpIG91dHNldDtcbn1cblxuLnN0aWNreS1saXN0IHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiA5OTk5O1xufVxuXG4uc3RpY2t5LXRhYiB7XG4gIHRvcDogNjRweDtcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3kgIWltcG9ydGFudDtcbiAgei1pbmRleDogOTk5OTtcbiAgYmFja2dyb3VuZDogI2Y1ZjdmYTtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5zdGlja3ktdGFiIHVsIHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDA7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBtYXJnaW4tcmlnaHQ6IDI1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC1zdHJldGNoOiBub3JtYWw7XG4gIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gIGNvbG9yOiAjMmUzODRkO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtby10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtbXMtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICNmNWY3ZmE7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLmFjdGl2ZSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBib3JkZXItYm90dG9tOiA0cHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGk6aG92ZXIge1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucmVzb2x2ZWQge1xuICBjb2xvcjogIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucHJvY2Vzc2luZyB7XG4gIGNvbG9yOiAjZmY5ODAwO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS51bmZ1bGZpbGxlZCB7XG4gIGNvbG9yOiAjOWU5ZTllO1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCB7XG4gIGJvdHRvbTogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCAucHMtc2Nyb2xsYmFyLXgge1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG5sZWdlbmQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLnN0aWNreS1wYW5lbGJhciB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgdG9wOiA2NHB4O1xufSIsIi5tZW51LWZvcm0td3JhcHBlciAubWF0LW1lbnUtY29udGVudCB7XG4gIHBhZGRpbmc6IDhweDtcbn1cblxuLnBvLXJpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZsZXgtZ3JvdzogMTtcbn1cblxuLmQtdW5zZXQge1xuICBkaXNwbGF5OiB1bnNldCAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1zcGxpdHRlciB7XG4gIGJvcmRlci13aWR0aDogMHB4ICFpbXBvcnRhbnQ7XG4gIG1pbi1oZWlnaHQ6IDEwMHB4O1xufVxuXG5rZW5kby1zcGxpdHRlciB1bCA+IGxpLnJpZ2h0LTAge1xuICBtYXJnaW4tcmlnaHQ6IDBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIHVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLmlubGluZV9iIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93IHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMik7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLXJvdzpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjI3LCAyNDIsIDI1MywgMC41KTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItZ3JvdXAtYiB7XG4gIGJvcmRlci10b3A6IDFweCByZ2JhKDAsIDAsIDAsIDAuMDgpIG91dHNldDtcbn1cblxuLnN0aWNreS1saXN0IHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiA5OTk5O1xufVxuXG4uc3RpY2t5LXRhYiB7XG4gIHRvcDogNjRweDtcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3kgIWltcG9ydGFudDtcbiAgei1pbmRleDogOTk5OTtcbiAgYmFja2dyb3VuZDogI2Y1ZjdmYTtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5zdGlja3ktdGFiIHVsIHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDA7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBtYXJnaW4tcmlnaHQ6IDI1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC1zdHJldGNoOiBub3JtYWw7XG4gIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gIGNvbG9yOiAjMmUzODRkO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtby10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtbXMtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICNmNWY3ZmE7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLmFjdGl2ZSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBib3JkZXItYm90dG9tOiA0cHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGk6aG92ZXIge1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucmVzb2x2ZWQge1xuICBjb2xvcjogIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucHJvY2Vzc2luZyB7XG4gIGNvbG9yOiAjZmY5ODAwO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS51bmZ1bGZpbGxlZCB7XG4gIGNvbG9yOiAjOWU5ZTllO1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCB7XG4gIGJvdHRvbTogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCAucHMtc2Nyb2xsYmFyLXgge1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG5sZWdlbmQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLnN0aWNreS1wYW5lbGJhciB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgdG9wOiA2NHB4O1xufSJdfQ== */\"","import { Component, OnInit, TemplateRef, Input, ViewChild } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icAdd from '@iconify/icons-ic/twotone-add';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icSave from '@iconify/icons-ic/outline-save';\nimport { YeuCauKhamBenh } from '../../../kham-benh.model';\n\n@Component({\n  selector: 'app-lich-su-kham-benh-chi-so-sinh-ton',\n  templateUrl: './lich-su-kham-benh-chi-so-sinh-ton.component.html',\n  styleUrls: ['./lich-su-kham-benh-chi-so-sinh-ton.component.scss']\n})\nexport class LichSuKhamBenhChiSoSinhTonComponent implements OnInit {\n\n\n  icAdd = icAdd;\n  icDelete = icDelete;\n  icAddCircle = icAddCircle;\n  icEdit = icEdit;\n  icSave = icSave;\n  documentType: DocumentType;\n  format: string = 'n2';\n  dataSourceSinhHieu: any = {\n    data: [],\n    total: 0\n  };\n  validationErrors: any;\n  huyetApTamTruong: number;\n  huyetApTamThu: number;\n\n  gridSinhHieuColumns: any[] = [];\n  benhNhanHienTai = new YeuCauKhamBenh();\n  @Input() data: any = null;\n  @Input() maTiepNhanBNId: number;;\n  urlGetData: string = \"KhamBenh/GetDataForGridAsyncChiSoSinhHieu\";\n  @ViewChild('huyetApTemplate', { static: true }) huyetApTemplate: TemplateRef<any>;\n  @ViewChild('thanNhietTemplate', { static: true }) thanNhietTemplate: TemplateRef<any>;\n  @ViewChild('nhipTimTemplate', { static: true }) nhipTimTemplate: TemplateRef<any>;\n  @ViewChild('nhipThoTemplate', { static: true }) nhipThoTemplate: TemplateRef<any>;\n  @ViewChild('canNangTemplate', { static: true }) canNangTemplate: TemplateRef<any>;\n  @ViewChild('chieuCaoTemplate', { static: true }) chieuCaoTemplate: TemplateRef<any>;\n  @ViewChild('BMITemplate', { static: true }) BMITemplate: TemplateRef<any>;\n  @ViewChild('glassgowTemplate', { static: true }) glassgowTemplate: TemplateRef<any>;\n  @ViewChild('spO2Template', { static: true }) spO2Template: TemplateRef<any>;\n  constructor() { }\n  @Input() yeuCauKhamBenhId: number;\n  @Input() BenhNhan: number;\n  ngOnInit() {\n    this.benhNhanHienTai = this.data;\n    // this.documentType = DocumentType.KhamBenh; // cần gán lại giá trị\n\n    this.gridSinhHieuColumns = [\n      { Field: \"NhipTim\", Title: \"Mạch (nhịp/phút)\", Width: 137, Template: this.nhipTimTemplate },\n      { Field: \"ThanNhiet\", Title: \"Nhiệt độ (°C)\", Width: 104, Template: this.thanNhietTemplate },\n      { Field: \"HuyetAp\", Title: \"Huyết áp (mmHg)\", Width: 137, Template: this.huyetApTemplate },\n      { Field: \"NhipTho\", Title: \"Nhịp thở (lần/phút)\", Width: 155, Template: this.nhipThoTemplate },\n      { Field: \"CanNang\", Title: \"Cân nặng (kg)\", Width: 113, Template: this.canNangTemplate },\n      { Field: \"ChieuCao\", Title: \"Chiều cao (cm)\", Width: 117, Template: this.chieuCaoTemplate },\n      { Field: \"BmI\", Title: \"BMI (kg/m²)\", Width: 91, Template: this.BMITemplate },\n      { Field: \"Glassgow\", Title: \"Glassgow\", Width: 120, Template: this.glassgowTemplate },\n      { Field: \"SpO2\", Title: \"SpO2(%)\", Width: 120, Template: this.spO2Template },\n      { Field: \"NhanVienThucHien\", Title: \"Nhân viên thực hiện\", Width: 156 },\n      { Field: \"NgayThucHien\", Title: \"Ngày thực hiện\", Width: 160 },\n    ];\n  }\n}","export default \"ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\n.po-h {\\n  color: #005dab;\\n  position: relative;\\n  top: 5px;\\n  left: 5px;\\n}\\n\\n.po-h mat-icon {\\n  display: contents;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgva2hhbS1iZW5oLWxpY2gtc3Uta2hhbS1saXN0L2xpY2gtc3Uta2hhbS1iZW5oLWRpLXVuZy10aHVvYy9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxraGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3RcXGxpY2gtc3Uta2hhbS1iZW5oLWRpLXVuZy10aHVvY1xcbGljaC1zdS1raGFtLWJlbmgtZGktdW5nLXRodW9jLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3QvbGljaC1zdS1raGFtLWJlbmgtZGktdW5nLXRodW9jL2xpY2gtc3Uta2hhbS1iZW5oLWRpLXVuZy10aHVvYy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDhCQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3QvbGljaC1zdS1raGFtLWJlbmgtZGktdW5nLXRodW9jL2xpY2gtc3Uta2hhbS1iZW5oLWRpLXVuZy10aHVvYy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbi5wby1oIHtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA1cHg7XG4gIGxlZnQ6IDVweDtcbn1cblxuLnBvLWggbWF0LWljb24ge1xuICBkaXNwbGF5OiBjb250ZW50cztcbn0iLCJ1bC5pbmxpbmUgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG4ucG8taCB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogNXB4O1xuICBsZWZ0OiA1cHg7XG59XG5cbi5wby1oIG1hdC1pY29uIHtcbiAgZGlzcGxheTogY29udGVudHM7XG59Il19 */\"","import { Component, OnInit, Input} from '@angular/core';\nimport icAdd from '@iconify/icons-ic/twotone-add';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icSave from '@iconify/icons-ic/outline-save';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { YeuCauKhamBenh } from 'src/app/modules/main/kham-benh/kham-benh.model';\n\n@Component({\n  selector: 'app-lich-su-kham-benh-di-ung-thuoc',\n  templateUrl: './lich-su-kham-benh-di-ung-thuoc.component.html',\n  styleUrls: ['./lich-su-kham-benh-di-ung-thuoc.component.scss']\n})\nexport class LichSuKhamBenhDiUngThuocComponent implements OnInit {\n  icAdd = icAdd;\n  icDelete = icDelete;\n  icAddCircle = icAddCircle;\n  icEdit = icEdit;\n  icSave = icSave;\n\n\n  validationErrors: any;\n  gridDiUngThuocColumns: any[] = [];\n  documentType: DocumentType;\n  count: number = 1; // biến này chỉ dùng để gán tạm giá trị\n  dataSourceDiUng: any = {\n    data: [],\n    total: 0\n  }\n  benhNhanHienTai = new YeuCauKhamBenh();\n  @Input() data: any = null;\n  @Input() yeuCauKhamBenhId: number;\n  @Input() BenhNhan: number;\n  urlGetData: string = \"KhamBenh/GetDataForGridAsyncDiUngThuoc\";\n  urlGetTotalPage: string = \"KhamBenh/GetTotalPageForGridAsyncDiUngThuoc\"\n  constructor() { }\n\n  ngOnInit() {\n    this.benhNhanHienTai = this.data;\n    // this.documentType = DocumentType.KhamBenh;\n    this.gridDiUngThuocColumns = [\n      { Field: \"TenLoaiDiUng\", Title: \"Loại dị ứng\", Width: 100 },\n      { Field: \"TenDiUng\", Title: \"Tên dị ứng \", Width: 280 },\n      { Field: \"BieuHienDiUng\", Title: \"Biểu hiện dị ứng\", Width: 250 },\n      { Field: \"TenMucDo\", Title: \"Mức độ\", Width: 120, },\n    ];\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2toYW0tYmVuaC1saWNoLXN1LWtoYW0tbGlzdC9saWNoLXN1LWtoYW0tYmVuaC1rZS10b2EvbGljaC1zdS1raGFtLWJlbmgta2UtdG9hLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input, ViewChild, TemplateRef } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { KeToaItem } from '../../../kham-benh.model';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\n\n@Component({\n  selector: 'app-lich-su-kham-benh-ke-toa',\n  templateUrl: './lich-su-kham-benh-ke-toa.component.html',\n  styleUrls: ['./lich-su-kham-benh-ke-toa.component.scss']\n})\nexport class LichSuKhamBenhKeToaComponent implements OnInit {\n  gridToaMauColumns: any[] = [];\n  gridVatTuYTColumns: any[] = [];\n  gridToaMauChildColumns: any[] = [];\n  gridToaThuocChildColumns: any[] = [];\n  dataToSumThanhTienVatTu: any[] = [];\n  documentType: DocumentType;\n  urlGetDataGridToaMau: string = \"KhamBenh/GetDataForGridAsyncToaMau\";\n  urlGetDataGridChildToaMau: string = \"KhamBenh/GetDataForGridAsyncChildToaMau\";\n  urlGetDataGridChildToaThuoc: string = \"KhamBenh/GetDataForGridAsyncChildToaThuoc\";\n  @Input() yeuCauKhamBenhId: number;\n  @Input() BenhNhan: number;\n  ToaThuoc: KeToaItem[] = [];\n  public total(field: any) {\n    switch (field) {\n      case 'ThanhTien':\n        return this.ToaThuoc.reduce((sum, item) => sum + item.ThanhTien, 0);\n      // case 'BHChiTra':\n      //   return this.ToaThuoc.reduce((sum, item) => sum + item.BHChiTra, 0);\n      case 'BNChiTra':\n        return this.ToaThuoc.reduce((sum, item) => sum + item.BNChiTra, 0);\n    }\n  };\n  @ViewChild('donGiaFooter', { static: true }) donGiaFooterTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienFooter', { static: true }) thanhTienFooterTemplate: TemplateRef<any>;\n  @ViewChild('BHTraFooter', { static: true }) BHTraFooterTemplate: TemplateRef<any>;\n  @ViewChild('BNTraFooter', { static: true }) BNTraFooterTemplate: TemplateRef<any>;\n  // template\n  @ViewChild('donGiatemplate', { static: true }) donGiatemplate: TemplateRef<any>;\n  @ViewChild('thanhTientemplate', { static: true }) thanhTientemplate: TemplateRef<any>;\n  @ViewChild('BNTratemplate', { static: true }) BNTratemplate: TemplateRef<any>;\n  // group\n  groups: GroupDescriptor[] = [{ field: 'TenLoaiThuoc' }];\n  @ViewChild('loaiGroupHeaderTemplate', { static: true }) loaiGroupHeaderTemplate: TemplateRef<any>;\n  //\n  @ViewChild('sangTemplate', { static: true }) sangTemplate: TemplateRef<any>;\n  @ViewChild('truaTemplate', { static: true }) truaTemplate: TemplateRef<any>;\n  @ViewChild('chieuTemplate', { static: true }) chieuTemplate: TemplateRef<any>;\n  @ViewChild('toiTemplate', { static: true }) toiTemplate: TemplateRef<any>;\n\n  @ViewChild('donGiaVatTuTemplate', { static: true }) donGiaVatTuTemplate: TemplateRef<any>;\n  @ViewChild('donGiaVatTuFooterTemplate', { static: true }) donGiaVatTuFooterTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienVatTuTemplate', { static: true }) thanhTienVatTuTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienVatTuFooterTemplate', { static: true }) thanhTienVatTuFooterTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienVatTuGroupFooterTemplate', { static: true }) thanhTienVatTuGroupFooterTemplate: TemplateRef<any>;\n  @ViewChild('actionVatTuTemplate', { static: true }) actionVatTuTemplate: TemplateRef<any>;\n  \n  @ViewChild('STTVatTuTemplate', { static: true }) STTVatTuTemplate: TemplateRef<any>;\n  @ViewChild('gridVatTu', { read: GridComponent, static: false }) gridVatTu: GridComponent;\n  constructor(private apiService: ApiService) { }\n  groupsVatTu: GroupDescriptor[] = [{ field: '', aggregates: [{ field: 'ThanhTienVatTu', aggregate: 'sum' }] }];\n  public totalThanhTienVatTu(field: any) {\n    switch (field) {\n      case 'ThanhTienVatTu':\n        return this.dataToSumThanhTienVatTu.reduce((sum: any, item: { ThanhTienVatTu: any; }) => sum + item.ThanhTienVatTu, 0);\n    }\n  };\n  ngOnInit() {\n    // this.documentType = DocumentType.KhamBenh;\n    console.log(this.dataToSumThanhTienVatTu)\n    this.gridToaThuocChildColumns = [\n      { Field: \"TenLoaiThuoc\", Title: \"#\", Width: 120, Sortable: true,  Hidden: true, TemplateGroupHeader: this.loaiGroupHeaderTemplate },\n      { Field: \"Duoc\", Title: \"Dược Phẩm\", Width: 120, Sortable: true },\n      { Field: \"HoatChat\", Title: \"Hoạt chất\", Width: 100, Sortable: true },\n      { Field: \"DonViTinh\", Title: \"ĐVT\", Width: 80, Sortable: true },\n      { Field: \"SangDisplay\", Title: \"Sáng\", Width: 60, Sortable: true,Template:this.sangTemplate,ShowTooltip: true },\n      { Field: \"TruaDisplay\", Title: \"Trưa\", Width: 60, Sortable: true,Template:this.truaTemplate,ShowTooltip: true},\n      { Field: \"ChieuDisplay\", Title: \"Chiều\", Width: 60, Sortable: true ,Template:this.chieuTemplate,ShowTooltip: true},\n      { Field: \"ToiDisplay\", Title: \"Tối\", Width: 60, Sortable: true ,Template:this.toiTemplate,ShowTooltip: true},\n      { Field: \"SoNgay\", Title: \"Số ngày\", Width: 80, Sortable: true },\n      { Field: \"SoLuong\", Title: \"SL\", Width: 50, Sortable: true },\n      { Field: \"DuongDung\", Title: \"Đường dùng\", Width: 110, Sortable: true },\n      { Field: \"DonGia\", Title: \"Đơn giá\", Width: 110, Sortable: true, Template: this.donGiatemplate, TemplateFooter: this.donGiaFooterTemplate },\n      { Field: \"ThanhTien\", Title: \"Thành tiền\", Width: 110, Sortable: true, Template: this.thanhTientemplate, TemplateFooter: this.thanhTienFooterTemplate },\n      { Field: \"TuongTacThuoc\", Title: \"tương tác thuốc\", Width: 110, Sortable: true },\n      { Field: \"DiUngThuocDisplay\", Title: \"Dị ứng thuốc\", Width: 200, Sortable: true },\n      { Field: \"GhiChu\", Title: \"Cách dùng\", Width: 200, Sortable: true }\n    ];\n    this.gridVatTuYTColumns = [\n      { Field: \"STT\", Title: \"#\", Width: 60, Sortable: true, Template: this.STTVatTuTemplate },\n      { Field: \"Ten\", Title: \"Tên\", Width: 170, Sortable: true, ShowTooltip: true },\n      { Field: \"DonViTinh\", Title: \"ĐVT\", Width: 120, Sortable: true },\n      { Field: \"SoLuong\", Title: \"Số lượng\", Width: 100, Sortable: true },\n      { Field: \"DonGia\", Title: \"Đơn giá\", Width: 80, Sortable: true, TemplateFooter: this.donGiaVatTuFooterTemplate, Template: this.donGiaVatTuTemplate, },\n      { Field: \"ThanhTienVatTu\", Title: \"Thành tiền\", Width: 200, Sortable: true, Template: this.thanhTienVatTuTemplate, TemplateFooter: this.thanhTienVatTuFooterTemplate, TemplateGroupFooter: this.thanhTienVatTuGroupFooterTemplate },\n      { Field: \"GhiChu\", Title: \"Cách dùng\", Width: 200, Sortable: true, ShowTooltip: true },\n    ];\n    this.getById(this.yeuCauKhamBenhId);\n  }\n  onDataBoundVatTuGrid(event){\n    this.dataToSumThanhTienVatTu = event.Data;\n  }\n  getById(yeuCauKhamBenhId: number) {\n\n    this.apiService.post<any>(\"KhamBenh/GetDataForGridAsyncChildToaThuocList?yeuCauKhamBenhId=\" + this.yeuCauKhamBenhId).subscribe((resultData) => {\n      if (resultData !== undefined && resultData != null) {\n        for (var item = 0; item < resultData.length; item++) {\n          this.ToaThuoc.push(resultData[item]);\n          console.log(\"goiDichVuCoChietKhau\", this.ToaThuoc)\n        }\n      }\n    });\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2toYW0tYmVuaC1saWNoLXN1LWtoYW0tbGlzdC9saWNoLXN1LWtoYW0tYmVuaC1rZXQtbHVhbi9saWNoLXN1LWtoYW0tYmVuaC1rZXQtbHVhbi5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, TemplateRef, Input, ViewChild} from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { ICDPhuId,YeuCauKhamBenhId} from '../../../kham-benh.model';\nimport { ChanDoanCuaBacSiKhacPopupComponent } from '../../lan-kham-hien-tai/chan-doan-cua-bac-si-khac-popup/chan-doan-cua-bac-si-khac-popup.component';\nimport { MatDialog,  } from '@angular/material';\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { DonThuocBacSiKhacKePopupComponent } from '../../lan-kham-hien-tai/don-thuoc-bac-si-khac-ke-popup/don-thuoc-bac-si-khac-ke-popup.component';\n@Component({\n  selector: 'app-lich-su-kham-benh-ket-luan',\n  templateUrl: './lich-su-kham-benh-ket-luan.component.html',\n  styleUrls: ['./lich-su-kham-benh-ket-luan.component.scss']\n})\nexport class LichSuKhamBenhKetLuanComponent implements OnInit {\n  documentType: DocumentType;\n  format: string = 'n2';\n  dataSourceKetLuan: any = {\n      data: [],\n      total: 0\n  };\n  nhaSanXuat = {} as YeuCauKhamBenhId;\n  validationErrors: any;\n  huyetApTamTruong: number;\n  huyetApTamThu: number;\n  iCDPhuObjs: any = null;\n  iCDPhuString : string=\"\";\n  gridKetLuanICDPhus: any[] = [];\n  iCDPhuIdS: ICDPhuId = new ICDPhuId();\n@Input() yeuCauKhamBenhId : number;\n@Input() yeuCauTiepNhanId : number;\n@Input() BenhNhan : number;\n  gridKetLuanColumns: any[] = [];\n  constructor(private apiService: ApiService,private dialog: MatDialog,) { }\n\n  ngOnInit() {\n    var self = this;\n    var dialogRef = self.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: \"Đang tải dữ liệu...\" }\n    });\n    this.documentType = DocumentType.KhamBenh; // cần gán lại giá trị\n      this.apiService.get(\"KhamBenh/GetDataForGridAsyncKetLuan?yeuCauKhamBenhId=\" + this.yeuCauKhamBenhId).subscribe(\n        (resultData: any) => {\n            this.gridKetLuanColumns = resultData;\n            this.dataSourceKetLuan.data = resultData;\n            resultData.forEach(element => {\n              this.iCDPhuObjs = element.ChuanDoanICDPhu;\n            });\n             // Lisst ICD phu\n             this.iCDPhuObjs.forEach(element1 => {\n              this.iCDPhuIdS.Ids.push(element1.ICDId);\n            });\n            this.apiService.post(\"KhamBenh/GetChuanDoanICDPhu?yeuCauKhamBenhId=\" +this.yeuCauKhamBenhId).subscribe(\n              (resultData1: any) => {\n                this.gridKetLuanICDPhus = resultData1.Result;\n              });\n              dialogRef.close();\n        });\n      }\n      xemChanDoan() {\n        let yeuCauKhamBenh = new YeuCauKhamBenhId();\n        yeuCauKhamBenh.Id = this.yeuCauKhamBenhId;;\n        this.dialog.open(ChanDoanCuaBacSiKhacPopupComponent, {\n            disableClose: false,\n            width: '1000px',\n            data: { Model: yeuCauKhamBenh, Title: \"\" }\n        }).afterClosed().subscribe(() => {\n        });\n      }\n      xemDonThuocBacSiKhac() {\n        this.dialog.open(DonThuocBacSiKhacKePopupComponent, {\n          disableClose: false,\n          width: '1000px',\n          data: { Model: this.yeuCauKhamBenhId, Title: \"\" }\n        }).afterClosed().subscribe(() => {\n        });\n      }\n}\n","export default \".span-result-information {\\n  font-weight: bold;\\n}\\n\\n.content-2 {\\n  margin-top: 30px !important;\\n}\\n\\n.content-1 {\\n  border-bottom: 1px solid var(--foreground-divider);\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline !important;\\n}\\n\\ntable {\\n  width: 100%;\\n  background-color: white;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\ntable th {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\ntable th.w-250 {\\n  width: 250px;\\n}\\n\\ntable tr.bg-light-red {\\n  background-color: #eaa3a3;\\n}\\n\\n.order-color {\\n  display: flex;\\n  flex-direction: row;\\n  gap: 15px;\\n  justify-content: flex-end;\\n  align-items: center;\\n}\\n\\n.order-color .set-color {\\n  padding: 10px 40px;\\n}\\n\\n.order-color .set-color.black {\\n  background-color: black;\\n}\\n\\n.order-color .set-color.red {\\n  background-color: red;\\n}\\n\\n.order-color .set-color.blue {\\n  background-color: blue;\\n}\\n\\n.div-header {\\n  justify-content: space-between !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgva2hhbS1iZW5oLWxpY2gtc3Uta2hhbS1saXN0L2xpY2gtc3Uta2hhbS1iZW5oLWtldC1xdWEtY2xzL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXGtoYW0tYmVuaC1saWNoLXN1LWtoYW0tbGlzdFxcbGljaC1zdS1raGFtLWJlbmgta2V0LXF1YS1jbHNcXGxpY2gtc3Uta2hhbS1iZW5oLWtldC1xdWEtY2xzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3QvbGljaC1zdS1raGFtLWJlbmgta2V0LXF1YS1jbHMvbGljaC1zdS1raGFtLWJlbmgta2V0LXF1YS1jbHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UsMkJBQUE7QUNDRjs7QURFQTtFQUNFLGtEQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLDhCQUFBO0VBQ0Esa0NBQUE7RUFDQSwrQkFBQTtFQUNBLGdDQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsMEJBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7RUFDQSx5QkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsdUJBQUE7QUNDRjs7QURFQTtFQUNFLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSxzQkFBQTtBQ0NGOztBREVBO0VBQ0UseUNBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2toYW0tYmVuaC1saWNoLXN1LWtoYW0tbGlzdC9saWNoLXN1LWtoYW0tYmVuaC1rZXQtcXVhLWNscy9saWNoLXN1LWtoYW0tYmVuaC1rZXQtcXVhLWNscy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zcGFuLXJlc3VsdC1pbmZvcm1hdGlvbiB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uY29udGVudC0yIHtcbiAgbWFyZ2luLXRvcDogMzBweCAhaW1wb3J0YW50O1xufVxuXG4uY29udGVudC0xIHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWZvcmVncm91bmQtZGl2aWRlcik7XG59XG5cbmZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctbGVmdDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50O1xufVxuXG50YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG59XG5cbnRhYmxlIHRoIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbnRhYmxlIHRoLnctMjUwIHtcbiAgd2lkdGg6IDI1MHB4O1xufVxuXG50YWJsZSB0ci5iZy1saWdodC1yZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWFhM2EzO1xufVxuXG4ub3JkZXItY29sb3Ige1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBnYXA6IDE1cHg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5vcmRlci1jb2xvciAuc2V0LWNvbG9yIHtcbiAgcGFkZGluZzogMTBweCA0MHB4O1xufVxuXG4ub3JkZXItY29sb3IgLnNldC1jb2xvci5ibGFjayB7XG4gIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xufVxuXG4ub3JkZXItY29sb3IgLnNldC1jb2xvci5yZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG59XG5cbi5vcmRlci1jb2xvciAuc2V0LWNvbG9yLmJsdWUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlO1xufVxuXG4uZGl2LWhlYWRlciB7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbiAhaW1wb3J0YW50O1xufSIsIi5zcGFuLXJlc3VsdC1pbmZvcm1hdGlvbiB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uY29udGVudC0yIHtcbiAgbWFyZ2luLXRvcDogMzBweCAhaW1wb3J0YW50O1xufVxuXG4uY29udGVudC0xIHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWZvcmVncm91bmQtZGl2aWRlcik7XG59XG5cbmZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctbGVmdDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50O1xufVxuXG50YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG59XG5cbnRhYmxlIHRoIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbnRhYmxlIHRoLnctMjUwIHtcbiAgd2lkdGg6IDI1MHB4O1xufVxuXG50YWJsZSB0ci5iZy1saWdodC1yZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWFhM2EzO1xufVxuXG4ub3JkZXItY29sb3Ige1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBnYXA6IDE1cHg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5vcmRlci1jb2xvciAuc2V0LWNvbG9yIHtcbiAgcGFkZGluZzogMTBweCA0MHB4O1xufVxuXG4ub3JkZXItY29sb3IgLnNldC1jb2xvci5ibGFjayB7XG4gIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xufVxuXG4ub3JkZXItY29sb3IgLnNldC1jb2xvci5yZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG59XG5cbi5vcmRlci1jb2xvciAuc2V0LWNvbG9yLmJsdWUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlO1xufVxuXG4uZGl2LWhlYWRlciB7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbiAhaW1wb3J0YW50O1xufSJdfQ== */\"","import { Component, OnInit, ViewChild, TemplateRef, Input, ChangeDetectorRef, ViewRef } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icAttachFile from '@iconify/icons-ic/attach-file';\nimport icVisibility from '@iconify/icons-ic/visibility';\nimport { MatDialog } from '@angular/material';\nimport { GroupDescriptor, SortDescriptor } from '@progress/kendo-data-query';\nimport { HttpParams } from '@angular/common/http';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { saveFile } from 'src/app/core/utilities/file-download.helper';\nimport { RequestOptions, ResponseContentType, Http } from '@angular/http';\nimport download from '@iconify/icons-ic/twotone-cloud-download';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\ndeclare var jQuery: any;\ndeclare var $: any;\n\nimport { InPhieuXetNghiem, ListKetQuaXetNghiem, PhieuInXetNghiemVo } from '../../../kham-benh.model';\nimport { PhieuInXetNghiemComponent } from '../../lan-kham-hien-tai/phieu-in-xet-nghiem-popup/phieu-in-xet-nghiem-popup.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { LayMauXetNghiemKetQuaPopupComponent } from '../../lan-kham-hien-tai/lay-mau-xet-nghiem-ket-qua-popup/lay-mau-xet-nghiem-ket-qua-popup.component';\nimport { XemKetQuaCdhaTdcnPopupComponent } from 'src/app/modules/main/can-lam-sang/lich-su-can-lam-sang/xem-ket-qua-cdha-tdcn-popup/xem-ket-qua-cdha-tdcn-popup.component';\nimport { InPhieuKetQuaLayMau } from 'src/app/modules/main/xet-nghiem/lay-mau-xet-nghiem/lay-mau-xet-nghiem.model';\nimport { ChonLoaiKetQuaXetNghiemPopupComponent } from 'src/app/modules/main/xet-nghiem/duyet-ket-qua/chon-loai-ket-qua-xet-nghiem-popup/chon-loai-ket-qua-xet-nghiem-popup.component';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { FormControl } from '@angular/forms';\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport { LayMauXetNghiemKetQuaMotFilePopupComponent } from '../../lan-kham-hien-tai/lay-mau-xet-nghiem-ket-qua-mot-file-popup/lay-mau-xet-nghiem-ket-qua-mot-file-popup.component';\n@Component({\n  selector: 'app-lich-su-kham-benh-ket-qua-cls',\n  templateUrl: './lich-su-kham-benh-ket-qua-cls.component.html',\n  styleUrls: ['./lich-su-kham-benh-ket-qua-cls.component.scss']\n})\nexport class LichSuKhamBenhKetQuaClsComponent implements OnInit {\n  @Input() YeuCauTiepNhanId: number;\n  dataPopup: any;\n  icAttachFile = icAttachFile;\n  icVisibility = icVisibility;\n  icSearch = icSearch;\n  searchCtrl = new FormControl;\n\n  @ViewChild(GridComponent, { static: true }) gridChild: GridComponent;\n  //documentType: DocumentType;\n  gridColumns: any[] = [];\n  gridXetNghiemColumns: any[] = [];\n\n  dataSourceXetNghiem: any = { data: [], total: 0 }\n\n  gridChildColumns: any[] = [];\n  validationErrors: any = null;\n  phieuInXetNghiemVo = new PhieuInXetNghiemVo;\n\n  srcDatahtml: string[] = [];\n  popupLoadingData: any;\n  arrFilePdf: Array<any> = [];\n  arrFileUrl: Array<any> = [];\n\n  urlGetDataGrid: string = \"KhamBenh/GetDataForGridKetQuaCLS\";\n  urlGetTotalPageGrid: string = \"KhamBenh/GetTotalPageForGridKetQuaCLS\";\n\n  download = download;\n  @ViewChild('trangThaiTemplate', { static: true }) trangThaiTemplate: TemplateRef<any>;\n  @ViewChild('xemKetQuaActionTemplate', { static: true }) xemKetQuaActionTemplate: TemplateRef<any>;\n\n  @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n  @ViewChild('gridCLS', { read: GridComponent, static: false }) gridCLS: GridComponent;\n\n  @ViewChild('tenTemplate', { static: true }) tenTemplate: TemplateRef<any>;\n  @ViewChild('kqCuTemplate', { static: true }) kqCuTemplate: TemplateRef<any>;\n  @ViewChild('kqTuMayTemplate', { static: true }) kqTuMayTemplate: TemplateRef<any>;\n  @ViewChild('kqNhapTayTemplate', { static: true }) kqNhapTayTemplate: TemplateRef<any>;\n  @ViewChild('kqDuyetTemplate', { static: true }) kqDuyetTemplate: TemplateRef<any>;\n  @ViewChild('damKQTemplate', { static: true }) damKQTemplate: TemplateRef<any>;\n  @ViewChild('chiSoBinhThuongTemplate', { static: true }) chiSoBinhThuongTemplate: TemplateRef<any>;\n  @ViewChild('donViTinhTemplate', { static: true }) donViTinhTemplate: TemplateRef<any>;\n  @ViewChild('gioTiepNhanTemplate', { static: true }) gioTiepNhanTemplate: TemplateRef<any>;\n  @ViewChild('gioNhanMauTemplate', { static: true }) gioNhanMauTemplate: TemplateRef<any>;\n  @ViewChild('mayXNTemplate', { static: true }) mayXNTemplate: TemplateRef<any>;\n  @ViewChild('nguoiDuyetTemplate', { static: true }) nguoiDuyetTemplate: TemplateRef<any>;\n  @ViewChild('ngayDuyetTemplate', { static: true }) ngayDuyetTemplate: TemplateRef<any>;\n  @ViewChild('gridDuyetYeuCauChayLaiXN', { static: false }) gridDuyetYeuCauChayLaiXN: GridComponent;\n  @ViewChild('nhomTemplate', { static: true }) nhomTemplate: TemplateRef<any>;\n  @ViewChild('kqMoiTemplate', { static: true }) kqMoiTemplate: TemplateRef<any>;\n\n  searchString: any;\n\n  dataChildDisplay: ListKetQuaXetNghiem[] = new Array<ListKetQuaXetNghiem>();\n  dataChildTamDisplay: ListKetQuaXetNghiem[] = new Array<ListKetQuaXetNghiem>();\n\n  gridNhomXetNghiemColumns: any[] = [];\n  constructor(private ref: ChangeDetectorRef, private notificationService: NotificationService,\n    private authService: AuthService, private dialog: MatDialog,\n    private apiService: ApiService, private http: Http) { }\n\n  @Input() documentType: DocumentType = DocumentType.DanhSachDieuTriNoiTru;\n  public trangThaiXetNghiemLaiDaGoi: boolean;\n\n  sort: SortDescriptor[] = [{ field: \"Id\", dir: \"asc\" }];\n  groups: GroupDescriptor[] = [{ field: 'LoaiKetQuaCLS' }];\n  groupXNs: GroupDescriptor[] = [{ field: 'Nhom' }];\n\n  ngOnInit() {\n    //=============================================================Chuẩn đoán hình ảnh và thăm dò chức năng============================\n    this.gridColumns = [\n      { Field: \"LoaiKetQuaCLS\", Title: \"\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n      { Field: \"NoiDung\", Title: \"Nội dung\", MinWidth: 250, Sortable: true },\n      { Field: \"NguoiThucHien\", Title: \"Người Thực hiện\", Width: 120, Sortable: true },\n      { Field: \"NgayThucHien\", Title: \"Ngày thực hiện\", Width: 120, Sortable: true },\n      { Field: \"BacSiKetLuan\", Title: \"Người kết luận\", Width: 120, Sortable: true },\n      { Field: \"NgayKetLuan\", Title: \"Ngày kết luận\", Width: 120, Sortable: true },\n      { Field: \"ChuanDoan\", Title: \"Ghi chú\", Width: 120, Sortable: true },\n      { Field: \"XemKetQua\", Title: \"Xem KQ\", Width: 100, Template: this.xemKetQuaActionTemplate } \n    ];\n\n    //=============================================================Chuẩn đoán hình ảnh và thăm dò chức năng============================    \n    this.gridXetNghiemColumns = [\n      { Field: \"Nhom\", Title: \"\", Sortable: false, Hidden: true, HideFilter: true, TemplateGroupHeader: this.nhomTemplate },\n      // { Field: \"CheckBox\", Title: \"\", Width: 35, Template: this.checkBoxTemplate, TemplateHeader: this.checkBoxHeaderTemplate },//, Hidden: this.type == 4 \n      { Field: \"Ten\", Title: \"Tên\", Width: 150, Sortable: false, Template: this.tenTemplate, ShowTooltip: true },\n      { Field: \"KetQuaCu\", Title: \"KQ Cũ\", Width: 80, Sortable: false, Template: this.kqCuTemplate },\n      { Field: \"KetQuaMoi\", Title: \"KQ Mới\", Width: 80, Sortable: false, Template: this.kqMoiTemplate },\n      { Field: \"Csbt\", Title: \"CSBT\", Width: 80, Sortable: false, Template: this.kqNhapTayTemplate },\n      { Field: \"DonVi\", Title: \"Đơn vị\", Width: 80, Sortable: true },\n      // { Field: \"TenMayXetNghiem\", Title: \"Máy XN\", Width: 90, Sortable: true },\n      { Field: \"NguoiDuyet\", Title: \"Người duyệt\", Width: 100, Sortable: true },\n      { Field: \"ThoiDiemDuyetKetQuaDisplay\", Title: \"Ngày duyệt\", Width: 100, Sortable: true },\n    ];\n\n    this.getThongTinXetNghiem();\n  }\n\n  getThongTinXetNghiem() {\n    this.apiService.get(`KhamBenh/GetDataForGridXetNghiemKetQuaCLS?yeuCauTiepNhanId=` + this.YeuCauTiepNhanId).subscribe((response: any) => {\n      if (response != undefined && response != null) {\n        this.dataSourceXetNghiem.data = response.Data;\n        this.dataSourceXetNghiem.total = response.Data.length;\n        this.dataChildTamDisplay = response.Data;\n        this.setDataSourceForGrid();\n      }\n    }, (err: ApiError) => {\n      err.ValidationErrors == null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) :\n        this.validationErrors = err.ValidationErrors;\n    });\n  }\n\n  ngAfterViewInit() {\n\t\tthis.ref.detectChanges();\n\t}\n\n  showPopupLoadingData() {\n    if (this.popupLoadingData == undefined\n      || this.popupLoadingData == null\n      || this.popupLoadingData.openDialogs == undefined\n      || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n      this.popupLoadingData = this.dialog.open(LoadingComponent, {\n        disableClose: true,\n        width: \"200px\",\n        height: \"90px\",\n        data: { Title: \"Đang tải dữ liệu...\" },\n      });\n    }\n  }\n\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n\n  OpenClickPopupXemKetQuaCLS(dataItem) {\n    this.dialog.open(XemKetQuaCdhaTdcnPopupComponent, {\n      disableClose: false,\n      width: '1000px',\n      data: dataItem.Id\n    }).afterClosed().subscribe(result => {\n    });\n  }\n\n  downloadFile(dataItem) {\n    this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: 'Đang tải file...' }\n    });\n\n    dataItem.TenGuidList.forEach(element => {\n      const params = new HttpParams({\n        fromObject: {\n          tenGuid: element.TenGuid,\n          duongDan: dataItem.XemKetQua,\n        },\n      });\n      this.apiService\n        .get<any>(\"TaiLieuDinhKem/GetTaiLieuUrl\", params)\n        .subscribe((result) => {\n          console.log(result);\n          this.dataPopup = result;\n          const options = new RequestOptions({ responseType: ResponseContentType.Blob });\n          this.http.get(this.dataPopup, options).subscribe(res => {\n            saveFile(res.blob(), element.TenFile);\n            this.dialog.closeAll();\n          }\n          )\n        });\n    });\n  }\n\n  inPhieuDuyetKetQua: InPhieuKetQuaLayMau = new InPhieuKetQuaLayMau();\n  InPhieuXn() {\n    let dialogRef: any;\n    let dataChiTietXetNghiem: any[] = [];\n    this.apiService.post<any>(\"DuyetKetQuaXetNghiem/GetDataXetNghiemKetQuaIn?yeuCauTiepNhanId=\" + this.YeuCauTiepNhanId).subscribe(\n      (result) => {\n        if (result != null) {\n          result.forEach(element => {\n            if (element.ChiTietKetQuaXetNghiems != null) {\n              element.ChiTietKetQuaXetNghiems.forEach(elements => {\n                dataChiTietXetNghiem.push(elements);\n              });\n            }\n\n          });\n          dialogRef = this.dialog.open(ChonLoaiKetQuaXetNghiemPopupComponent, {\n            disableClose: true,\n            width: '1000px',\n            // height: '300px',\n            data: dataChiTietXetNghiem,\n          }).afterClosed().subscribe((result) => {\n            if (result != undefined && result != null && result != \"\") {\n              if (result == 'No') {\n                this.closePopupLoadingData();\n              }\n              else {\n                this.inPhieuDuyetKetQua.HostingName = window.location.protocol + '//' + window.location.host;\n                this.inPhieuDuyetKetQua.Header = true;\n                this.inPhieuDuyetKetQua.YeuCauTiepNhanId = this.YeuCauTiepNhanId;\n                this.inPhieuDuyetKetQua.LoaiIn = result.LoaiIn;\n                this.inPhieuDuyetKetQua.ListIn = result.ListIn;\n                //this.apiService.postExportPdf<any>('XetNghiem/ExportPdfKetQuaXetNghiem', this.inPhieuDuyetKetQua).subscribe(\n                this.apiService.post<Array<string>>('XetNghiem/GetAllHtmlPdfKetQuaXetNghiem', this.inPhieuDuyetKetQua).subscribe(\n                  arrHtml => {\n                    // const dateTimeNow = new Date();\n                    // CommonService.downLoadFile(resData, 'application/pdf', 'KetQuaXetNghiem' + dateTimeNow.getDate() + dateTimeNow.getMonth() + dateTimeNow.getFullYear() + '.pdf');\n                    //   this.closePopupLoadingData();\n                    this.dialog.open(LayMauXetNghiemKetQuaPopupComponent, {\n                      disableClose: false,\n                      width: '1000px',\n                      data: arrHtml\n                    }).afterClosed().subscribe(result => {\n                    });\n                    this.closePopupLoadingData();\n                  },\n                  (err: ApiError) => {\n                    if (err.Message !== 'Validation Failed') {\n                      this.notificationService.showError(err.Message);\n                    }\n                    this.closePopupLoadingData();\n                  });\n              }\n            }\n          });\n        };\n      },\n      (err: ApiError) => {\n        this.validationErrors = err.ValidationErrors;\n        if (err.Message != \"Validation Failed\") {\n          this.notificationService.showError(err.Message);\n        }\n      });\n  }\n\n  xemKetQua(dataItem) {\n    // if (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n    this.dialog.open(XemKetQuaCdhaTdcnPopupComponent, {\n      disableClose: false,\n      width: '1000px',\n      data: dataItem.Id\n    }).afterClosed().subscribe(result => {\n    });\n  }\n\n  //================================= Yêu cầu chạy lại xét nghiệm =======================================\n  OpenClickPopupXemKetQuaXNCLS(dataItem) {\n    let phienXetNghiemId = dataItem.PhienXetNghiemId;\n    let nhomDichVuBenhVienId = dataItem.NhomDichVuBenhVienId;\n    this.dialog.open(PhieuInXetNghiemComponent, {\n      disableClose: false,\n      width: '1000px',\n      data: { phienXetNghiemId, nhomDichVuBenhVienId }\n    }).afterClosed().subscribe(res => {\n      if (res == \"Yes\") {\n\n      }\n    });\n  }\n\n  downloadXNCLS(dataItem) {\n    this.phieuInXetNghiemVo.PhienXetNghiemId = dataItem.PhienXetNghiemId;\n    this.phieuInXetNghiemVo.NhomDichVuBenhVienId = dataItem.NhomDichVuBenhVienId;\n    if (window.location.protocol == \"http:\") {\n      this.phieuInXetNghiemVo.HostingName = \"http://\" + window.location.host;\n    } else {\n      this.phieuInXetNghiemVo.HostingName = \"http://\" + window.location.host;\n    }\n    this.apiService.post<Array<string>>('KhamBenh/ExportPdfKetQuaXetNghiem', this.phieuInXetNghiemVo).subscribe(\n      arrHtml => {\n        this.dialog.open(LayMauXetNghiemKetQuaPopupComponent, {\n          disableClose: false,\n          width: '1000px',\n          data: arrHtml\n        }).afterClosed().subscribe(result => {\n        });\n        this.closePopupLoadingData();\n      },\n      (err: ApiError) => {\n        if (err.Message !== 'Validation Failed') {\n          this.notificationService.showError(err.Message);\n        }\n        this.closePopupLoadingData();\n      });\n  }\n\n  searchChanges($event) {\n    this.searchString = $event;\n    if ($event == \"\" || $event == undefined) {\n      this.setDataSourceForGrid();\n    }\n  }\n\n  onKeySearchChanges($event) {\n    if ($event.keyCode == 13) {\n      this.setDataSourceForGrid();\n    }\n  }\n\n  setDataSourceForGrid() {\n    if (this.searchString == undefined || this.searchString == null || this.searchString == \"\") {\n      this.dataChildDisplay = [...this.dataChildTamDisplay];\n    }\n    else {\n      let search = CommonService.removeVietnamese(this.searchString).toLowerCase().trim().replace(/đ/g, 'd');\n      this.dataChildDisplay = [...this.dataChildTamDisplay].filter(o =>\n        (o.Ten != null && CommonService.removeVietnamese(o.Ten).toLocaleLowerCase().trim().indexOf(search) != -1)\n        || (o.DonVi != null && CommonService.removeVietnamese(o.DonVi).toLocaleLowerCase().trim().indexOf(search) != -1)\n        || (o.NguoiDuyet != null && CommonService.removeVietnamese(o.NguoiDuyet).toLocaleLowerCase().trim().indexOf(search) != -1)\n        || (o.NgayDuyetDisplay != null && CommonService.removeVietnamese(o.NgayDuyetDisplay).toLocaleLowerCase().trim().indexOf(search) != -1)\n      );\n    }\n    this.dataSourceXetNghiem = [];\n    this.dataSourceXetNghiem = { data: this.dataChildDisplay, total: this.dataChildDisplay.length };\n\n    if (!(this.ref as ViewRef).destroyed) {\n      this.ref.detectChanges();\n    }\n\n    if (this.gridDuyetYeuCauChayLaiXN != undefined) {\n      this.gridDuyetYeuCauChayLaiXN._gridDataSource = { ...this.dataSourceXetNghiem }\n      this.gridDuyetYeuCauChayLaiXN.setDataSource();\n    }\n  }\n\n\n  xemXetNghiemTheoNhom(value : any) {\n    this.showPopupLoadingData();\n    this.apiService.post<any>(\"DuyetKetQuaXetNghiem/GetDataXetNghiemKetQuaIn?yeuCauTiepNhanId=\" + this.YeuCauTiepNhanId).subscribe(\n      (result) => {\n        if (result != null) {\n          let inPhieuXetNghiem = new InPhieuXetNghiem();\n          let dataNhom = this.dataSourceXetNghiem.data.filter(p => p.Nhom == value); \n\n          inPhieuXetNghiem.HostingName = window.location.protocol + '//' + window.location.host;\n          inPhieuXetNghiem.Header = true; \n          inPhieuXetNghiem.YeuCauTiepNhanId = this.YeuCauTiepNhanId;\n          inPhieuXetNghiem.YeuCauDichVuKyThuatId = dataNhom[0].YeuCauDichVuKyThuatId;          \n          inPhieuXetNghiem.NhomDichVuBenhVienId = dataNhom[0].NhomDichVuBenhVienId;\n\n          let arrFileUrl: Array<any> = [];\n          let arrFilePdf: Array<any> = [];\n\n          const promiseKetQuaXetNghiem = this.apiService.postExportPdf<any>('XetNghiem/LayPhieuXNTheoYeuCauKyThuatVaNhomAsync', inPhieuXetNghiem).toPromise();\n          promiseKetQuaXetNghiem.then((file) => {           \n            let newBlob = new Blob([file], { type: \"application/pdf\" });\n            let datalocalURL = window.URL.createObjectURL(newBlob);\n            arrFileUrl.push(datalocalURL);\n            arrFilePdf.push(file);\n            if (arrFilePdf.length > 0) {\n              this.dialog\n                .open(LayMauXetNghiemKetQuaMotFilePopupComponent, {\n                  disableClose: false,\n                  width: \"1000px\",\n                  data: { arrFileUrl, arrFilePdf },\n                })\n                .afterClosed()\n                .subscribe(() => {\n                });\n            }\n            else {\n              this.notificationService.showError(\"Chưa có thông tin dịch vụ.\");\n            };\n            // this.dialog.open(LayMauXetNghiemKetQuaPopupComponent, {\n            //   disableClose: false,\n            //   width: '1000px',\n            //   data: arrHtml\n            // }).afterClosed().subscribe(result => {\n            // });\n            this.closePopupLoadingData();\n          }).catch((error) => {\n            if (error.Message !== 'Validation Failed') {\n              this.notificationService.showError(error.Message);\n            }\n            this.closePopupLoadingData();\n          });\n        };\n      },\n      (err: ApiError) => {\n        this.validationErrors = err.ValidationErrors;\n        if (err.Message != \"Validation Failed\") {\n          this.notificationService.showError(err.Message);\n          this.closePopupLoadingData();\n        }\n      });\n  }\n  \n}\n","export default \".label1 {\\n  size: 24px;\\n  font-weight: bold;\\n}\\n\\n.label2 {\\n  size: 24px;\\n  font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgva2hhbS1iZW5oLWxpY2gtc3Uta2hhbS1saXN0L2xpY2gtc3Uta2hhbS1iZW5oLWtoYW0tYmVuaC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxraGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3RcXGxpY2gtc3Uta2hhbS1iZW5oLWtoYW0tYmVuaFxcbGljaC1zdS1raGFtLWJlbmgta2hhbS1iZW5oLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3QvbGljaC1zdS1raGFtLWJlbmgta2hhbS1iZW5oL2xpY2gtc3Uta2hhbS1iZW5oLWtoYW0tYmVuaC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UsVUFBQTtFQUNBLGlCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3QvbGljaC1zdS1raGFtLWJlbmgta2hhbS1iZW5oL2xpY2gtc3Uta2hhbS1iZW5oLWtoYW0tYmVuaC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sYWJlbDEge1xuICBzaXplOiAyNHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLmxhYmVsMiB7XG4gIHNpemU6IDI0cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufSIsIi5sYWJlbDEge1xuICBzaXplOiAyNHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLmxhYmVsMiB7XG4gIHNpemU6IDI0cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufSJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { KhamBenhs, ThongTinKham,ChuanDoanBanDau} from '../../../kham-benh.model';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\n\n@Component({\n  selector: 'app-lich-su-kham-benh-kham-benh',\n  templateUrl: './lich-su-kham-benh-kham-benh.component.html',\n  styleUrls: ['./lich-su-kham-benh-kham-benh.component.scss']\n})\nexport class LichSuKhamBenhKhamBenhComponent implements OnInit {\n  documentType: DocumentType;\n  templateKhoaPhong: string = null;\n  TTtemplateKhoaPhong: ThongTinKham[];\n  thongTinKhamTheoKhoas: string = null;\n  originTemplateKhoaPhong: any = null;\n  gridKhamBenhColumns: KhamBenhs[] = [];\n  tenKhoaPhong: string = null;\n  //\n  templateKhoaPhongObj: any = null;\n  thongTinKhamTheoKhoaObj: any = null;\n  trieuChungLamSangObjs: any = null;\n  chuanDoanBanDauObjs: any = null;\n  trieuChungLamSangs: any[] =[];\n  chuanDoanBanDaus: ChuanDoanBanDau[] =[];\n  @Input() data: any = null;\n  @Input() templateKp: string = null;\n  @Input() tenKp: string = null;\n  @Input() yeuCauKhamBenhId: number;\n  @Input() BenhNhan: number;\n  @Input() maTiepNhanBNId: number;\n  urlGetData: string = \"KhamBenh/GetDataForGridAsyncKhamBenh\";\n\n\n  constructor(private apiService: ApiService) { }\n\n  ngOnInit() {\n    // this.documentType = DocumentType.KhamBenh;\n    this.tenKhoaPhong = this.tenKp;\n    this.apiService.get(\"KhamBenh/GetDataForGridAsyncKhamBenh?yeuCauKhamBenhId=\" + this.yeuCauKhamBenhId).subscribe(\n      (resultData: any) => {\n        this.gridKhamBenhColumns = resultData;\n        resultData.forEach(element => {\n          this.trieuChungLamSangObjs = element.TrieuChungLamSang;\n          this.chuanDoanBanDauObjs = element.ChuanDoanBanDau;\n          // trieu chung\n          this.trieuChungLamSangObjs.forEach(element1 => {\n            this.apiService.get(\"KhamBenh/GetTrieuChungLamSang?TrieuChungId=\" + element1.TrieuChungId).subscribe(\n              (resultData1: any) => {\n                this.trieuChungLamSangs.push(resultData1);\n              });\n          });\n           // Chuan doan ban dau\n           this.chuanDoanBanDauObjs.forEach(element2 => {\n            this.apiService.get(\"KhamBenh/GetChuanDoanBanDau?ChuanDoanId=\" + element2.ChuanDoanId).subscribe(\n              (resultData2: any) => {\n                this.chuanDoanBanDaus.push(resultData2);\n              });\n          });\n        });\n\n        resultData.forEach(element => {\n          this.thongTinKhamTheoKhoaObj = JSON.parse(element.ThongTinKhamTheoKhoa);\n        });\n      });\n  }\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2toYW0tYmVuaC1saWNoLXN1LWtoYW0tbGlzdC9saWNoLXN1LWtoYW0tYmVuaC1raGFtLWtoYWMvbGljaC1zdS1raGFtLWJlbmgta2hhbS1raGFjLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit,ViewChild,TemplateRef,Input } from '@angular/core';\nimport { ApiService } from 'src/app/core/services/api.service';\n\n@Component({\n  selector: 'app-lich-su-kham-benh-kham-khac',\n  templateUrl: './lich-su-kham-benh-kham-khac.component.html',\n  styleUrls: ['./lich-su-kham-benh-kham-khac.component.scss']\n})\nexport class LichSuKhamBenhKhamKhacComponent implements OnInit {\n  gridKhamKhacColumns: any[] = [];\n  documentType: DocumentType;\n  dataSourceKhamKhac: any = {\n      data: [],\n      total: 0\n  }\n  @Input() yeuCauKhamBenhId : number;\n  constructor(private apiService: ApiService) { }\n  @ViewChild('boPhanTemplate', { static: true }) boPhanTemplate: TemplateRef<any>;\n  @ViewChild('moTaTemplate', { static: true }) moTaTemplate: TemplateRef<any>;\n  ngOnInit() {\n    this.gridKhamKhacColumns = [\n      { Field: \"BoPhan\", Title: \"Bộ phận\", Width: 100,Sortable: false, Template: this.boPhanTemplate },\n      { Field: \"MoTa\", Title: \"Mô tả\", Width: 220, Sortable: false,Template: this.moTaTemplate },\n      { Field: \"Action\", Title: \"\", Width: 20, Sortable: false}\n  ];\n  this.apiService.post<any>(\"KhamBenh/GetDataGridBoPhanKhac?idYCKB=\" + this.yeuCauKhamBenhId).subscribe(resultData => {\n    if (resultData !== undefined && resultData != null) {\n      this.dataSourceKhamKhac.data = resultData.Value.Data;\n    }\n  });\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2toYW0tYmVuaC1saWNoLXN1LWtoYW0tbGlzdC9saWNoLXN1LWtoYW0tYmVuaC1waGF1LXRodWF0LXRodS10aHVhdC9saWNoLXN1LWtoYW0tYmVuaC1waGF1LXRodWF0LXRodS10aHVhdC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport {\n  PhauThuatThuThuatTuongTrinh,\n} from \"../../../kham-benh.model\";\nimport { ViewImagePdfComponent } from 'src/app/shared/component/dialogs/view-image-pdf/view-image-pdf.component';\nimport { MatDialog } from '@angular/material';\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\ndeclare var $: any;\n@Component({\n  selector: 'app-lich-su-kham-benh-phau-thuat-thu-thuat',\n  templateUrl: './lich-su-kham-benh-phau-thuat-thu-thuat.component.html',\n  styleUrls: ['./lich-su-kham-benh-phau-thuat-thu-thuat.component.scss']\n})\nexport class LichSuKhamBenhPhauThuatThuThuatComponent implements OnInit {\n  thongTinTuongTrinhKhoaPhong: any;\n  thongTinTuongTrinhChanDoanVaoKhoa: any;\n  thongTinTuongTrinhMoTa: any;\n  pTTT: PhauThuatThuThuatTuongTrinh[] = [];\n  constructor(private apiService: ApiService, private dialog: MatDialog) { }\n  @Input() yeuCauKhamBenhId: number;\n  ngOnInit() {\n    var self = this;\n    var dialogRef = self.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: \"Đang tải dữ liệu...\" }\n    });\n    this.apiService\n      .get<any>(\n        \"KhamBenh/GetLichSuThongTinTuongTrinh?yeuCauKhamBenhId=\" + this.yeuCauKhamBenhId).subscribe(resultData => {\n          this.thongTinTuongTrinhKhoaPhong = resultData.TenKhoaPhong;\n          this.thongTinTuongTrinhChanDoanVaoKhoa = resultData.ChanDoanVaoKhoa;\n          this.thongTinTuongTrinhMoTa = resultData.MoTa;\n        });\n    this.apiService\n      .get<any>(\n        \"KhamBenh/GetLichSuListPhauThuatThuThuat?yeuCauKhamBenhId=\" + this.yeuCauKhamBenhId\n      )\n      .subscribe((resultData) => {\n        this.pTTT = resultData;\n      });\n      dialogRef.close();\n  }\n  ViewImage(thongTinAnh) {\n    this.dialog.open(ViewImagePdfComponent, {\n      disableClose: false,\n      width: '1000px',\n      height: '600px',\n      data: {\n          Type: 'Image', Title: 'Xem ảnh', Description: (thongTinAnh.MoTa !== null ? thongTinAnh.MoTa : ''),\n          Src: thongTinAnh.LuocDo\n      }\n  });\n  }\n}\n","export default \".content-tab-popup {\\n  margin-top: 49px;\\n  max-height: 470px;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgva2hhbS1iZW5oLWxpY2gtc3Uta2hhbS1saXN0L2xpY2gtc3Uta2hhbS1iZW5oLXBvcHVwLWRldGFpbC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxraGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3RcXGxpY2gtc3Uta2hhbS1iZW5oLXBvcHVwLWRldGFpbFxcbGljaC1zdS1raGFtLWJlbmgtcG9wdXAtZGV0YWlsLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3QvbGljaC1zdS1raGFtLWJlbmgtcG9wdXAtZGV0YWlsL2xpY2gtc3Uta2hhbS1iZW5oLXBvcHVwLWRldGFpbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3QvbGljaC1zdS1raGFtLWJlbmgtcG9wdXAtZGV0YWlsL2xpY2gtc3Uta2hhbS1iZW5oLXBvcHVwLWRldGFpbC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250ZW50LXRhYi1wb3B1cCB7XG4gIG1hcmdpbi10b3A6IDQ5cHg7XG4gIG1heC1oZWlnaHQ6IDQ3MHB4O1xuICBvdmVyZmxvdy15OiBhdXRvO1xuICBvdmVyZmxvdy14OiBoaWRkZW47XG59IiwiLmNvbnRlbnQtdGFiLXBvcHVwIHtcbiAgbWFyZ2luLXRvcDogNDlweDtcbiAgbWF4LWhlaWdodDogNDcwcHg7XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcbn0iXX0= */\"","import { Component, OnInit, Inject, Output,EventEmitter} from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport icDone from '@iconify/icons-ic/done';\nimport { ActivatedRoute } from '@angular/router';\n\ndeclare var jQuery: any;\n\n@Component({\n  selector: 'app-lich-su-kham-benh-popup-detail',\n  templateUrl: './lich-su-kham-benh-popup-detail.component.html',\n  styleUrls: ['./lich-su-kham-benh-popup-detail.component.scss'],\n  // host: {\n  //   '(document:click)': 'onClickOutSide($event)',\n  // },\n})\nexport class LichSuKhamBenhPopupDetailComponent implements OnInit {\n  selectedKeys: any[] = [];\n  icClose = icClose;\n  icDone = icDone;\n  benhNhan: number = 0;\n  yeuCauKhamBenhId: number = 0;\n  yeuCauTiepNhanId: number = 0;\n  isFistTime: boolean = true;\n  tabActive: string = \"card0\";\n  showPTTT : boolean = true;  // to do\n  isKhamDoan : boolean;\n  //constructor(private dialogRef: MatDialogRef<LichSuKhamBenhPopupDetailComponent>,@Optional() @Inject(MAT_DIALOG_DATA) public dataItem: any)\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, private dialogRef: MatDialogRef<any>,private apiService: ApiService,private route: ActivatedRoute) { }\n  ngOnInit() {\n    this.isKhamDoan =this.route.snapshot.queryParams.IsKhamDoan;\n    this.benhNhan = this.data.MaBN;\n    this.yeuCauKhamBenhId = this.data.Id;\n    this.yeuCauTiepNhanId = this.data.YeuCauTiepNhanId;\n    this.IsExitsDVKTPTTT();\n\n  }\n  IsExitsDVKTPTTT()\n  {\n    this.apiService.get<any>(\"KhamBenh/IsExitsDVKTPTTT?idYCKB=\" + this.yeuCauKhamBenhId).subscribe(resultData => {\n      this.showPTTT = resultData;;\n    });\n  }\n  close(answer: any, type: any) {\n    \n    if (type == 1) {\n      this.dialogRef.close(answer);\n    } else {\n      this.dialogRef.close(answer);\n    }\n\n  }\n  getIsKhamDoan(event){\n    this.isKhamDoan = event;\n  }\n\n}\n\n","export default \"ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\n.po-h {\\n  color: #005dab;\\n  position: relative;\\n  top: 5px;\\n  left: 5px;\\n}\\n\\n.po-h mat-icon {\\n  display: contents;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgva2hhbS1iZW5oLWxpY2gtc3Uta2hhbS1saXN0L2xpY2gtc3Uta2hhbS1iZW5oLXRpZW4tc3UtYmVuaC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxraGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3RcXGxpY2gtc3Uta2hhbS1iZW5oLXRpZW4tc3UtYmVuaFxcbGljaC1zdS1raGFtLWJlbmgtdGllbi1zdS1iZW5oLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3QvbGljaC1zdS1raGFtLWJlbmgtdGllbi1zdS1iZW5oL2xpY2gtc3Uta2hhbS1iZW5oLXRpZW4tc3UtYmVuaC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDhCQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3QvbGljaC1zdS1raGFtLWJlbmgtdGllbi1zdS1iZW5oL2xpY2gtc3Uta2hhbS1iZW5oLXRpZW4tc3UtYmVuaC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbi5wby1oIHtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA1cHg7XG4gIGxlZnQ6IDVweDtcbn1cblxuLnBvLWggbWF0LWljb24ge1xuICBkaXNwbGF5OiBjb250ZW50cztcbn0iLCJ1bC5pbmxpbmUgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG4ucG8taCB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogNXB4O1xuICBsZWZ0OiA1cHg7XG59XG5cbi5wby1oIG1hdC1pY29uIHtcbiAgZGlzcGxheTogY29udGVudHM7XG59Il19 */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icAdd from '@iconify/icons-ic/twotone-add';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icSave from '@iconify/icons-ic/outline-save';\nimport { YeuCauKhamBenh } from '../../../kham-benh.model';\n\n\n@Component({\n    selector: 'app-lich-su-kham-benh-tien-su-benh',\n    templateUrl: './lich-su-kham-benh-tien-su-benh.component.html',\n    styleUrls: ['./lich-su-kham-benh-tien-su-benh.component.scss']\n})\nexport class LichSuKhamBenhTienSuBenhComponent implements OnInit {\n\n    urlGetDataGridTienSuBenh: string = \"KhamBenh/GetDataForGridAsyncTienSuBenh\";\n    urlGetTotalPageGridTienSuBenh: string = \"\";\n\n    icAdd = icAdd;\n    icDelete = icDelete;\n    icAddCircle = icAddCircle;\n    icEdit = icEdit;\n    icSave = icSave;\n    gridTienSuBenhColumns: any[] = [];\n    documentType: DocumentType;\n    dataSourceTienSu: any = {\n        data: [],\n        total: 0\n    }\n    validationErrors: any;\n    count: number = 1; // biến này chỉ dùng để gán tạm giá trị\n    benhNhanHienTai = new YeuCauKhamBenh();\n    @Input() data: any = null;\n    @Input() yeuCauKhamBenhId: number;\n    @Input() BenhNhan: number;\n    constructor() { }\n\n    ngOnInit() {\n        this.benhNhanHienTai = this.data;\n        // this.documentType = DocumentType.KhamBenh; \n        this.gridTienSuBenhColumns = [\n            { Field: \"LoaiTienSuBenh\", Title: \"Loại tiền sử bệnh\", Sortable: false, Width: 120 },\n            { Field: \"TenBenh\", Title: \"Tên Bệnh\", Sortable: false, Width: 120 },\n        ];\n        \n    }\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n  padding-bottom: 10px;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgva2hhbS1iZW5oLWxpY2gtc3Uta2hhbS1saXN0L2xpY2gtc3Uta2hhbS1iZW5oL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXGtoYW0tYmVuaC1saWNoLXN1LWtoYW0tbGlzdFxcbGljaC1zdS1raGFtLWJlbmhcXGxpY2gtc3Uta2hhbS1iZW5oLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmgtbGljaC1zdS1raGFtLWxpc3QvbGljaC1zdS1raGFtLWJlbmgvbGljaC1zdS1raGFtLWJlbmguY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxvQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtFQUNBLG9CQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgva2hhbS1iZW5oLWxpY2gtc3Uta2hhbS1saXN0L2xpY2gtc3Uta2hhbS1iZW5oL2xpY2gtc3Uta2hhbS1iZW5oLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn0iLCJmaWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbTtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIHBhZGRpbmctbGVmdDogMC43NWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW07XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufSJdfQ== */\"","import { YeuCauKhamBenh } from '../../../kham-benh.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { IntlService } from '@progress/kendo-angular-intl';\nimport { MatDialog } from '@angular/material';\nimport { Component, OnInit, Input ,Output,EventEmitter} from '@angular/core';\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\n@Component({\n  selector: 'app-lich-su-kham-benh',\n  templateUrl: './lich-su-kham-benh.component.html',\n  styleUrls: ['./lich-su-kham-benh.component.scss']\n})\nexport class LichSuKhamBenhComponent implements OnInit {\n\n\n  benhNhanHienTai = new YeuCauKhamBenh();\n  templateKhoaPhong: string = null;\n  maTiepNhanBNId: number = 0;\n  yeuCauKhamBenh: YeuCauKhamBenh;\n  tenKhoaPhong: string = null;\n  trieuChungTiepNhan: string = null;\n  benhSu: string = null;\n  thongTinKhamTheoDichVuData: string = null;\n  thongTinKhamToanThan: string = \"\";\n  isKhamDoan : boolean = null;\n  templateDichVuKhamSucKhoes: any ;\n  dataKhamDoanChuyenKhoa :any;\n  @Input() data: any = null;\n  @Input() templateKP: string = null;\n  @Input() tenKP: string = null;\n  @Input() yeuCauKhamBenhId: number;\n  @Input() BenhNhan: number;\n  @Input() YeuCauTiepNhanId: number;\n  @Output() outputIsKhamDoan = new EventEmitter();\n  constructor(\n    private apiService: ApiService,\n    public intl: IntlService, private dialog: MatDialog) { }\n\n  ngOnInit() {\n    var self = this;\n    var dialogRef = self.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: \"Đang tải dữ liệu...\" }\n    });\n      this.apiService.post<any>(\"KhamBenh/GetDataForGridAsyncTrieuChungBenhSu?ycKhamBenhId=\" + this.yeuCauKhamBenhId).subscribe(resultData => {\n        if (resultData !== undefined && resultData != null && resultData.length > 0) {\n          this.yeuCauKhamBenh = resultData;\n         \n          this.isKhamDoan = resultData[0].IsKhamDoan;\n          this.outputIsKhamDoan.emit(this.isKhamDoan)\n\n          if(this.isKhamDoan == false)\n          {\n            this.thongTinKhamToanThan = resultData[0].KhamToanThan\n            this.yeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj = JSON.parse(resultData[0].ThongTinKhamTheoDichVuTemplate);\n            this.thongTinKhamTheoDichVuData = resultData[0].ThongTinKhamTheoDichVuData;\n            if (this.thongTinKhamTheoDichVuData == null) {\n              this.yeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj = undefined;\n            }\n            this.bindDataDynamicComponent(); \n          }\n          else{\n            // khám đoàn => lấy 1 list  griddata enum tất cả chuyên khoa của người bệnh\n            this.apiService.post<any>(\"KhamBenh/GetDataAllKhamChuyenKhoaTheoBenhNhan?yeuCauTiepNhanId=\" + this.YeuCauTiepNhanId).subscribe(resultDataKhamDoan => {\n              if (resultDataKhamDoan !== undefined && resultDataKhamDoan != null ) {\n                this.dataKhamDoanChuyenKhoa = resultDataKhamDoan;\n              }\n            });\n          }\n        }\n        dialogRef.close();\n      });\n  }\n  bindDataDynamicComponent() {\n    let strData = this.thongTinKhamTheoDichVuData;\n    if (strData != undefined && strData != null) {\n      let dataObj = JSON.parse(strData);\n      let itemTemp = null;\n      if (this.yeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj !== null) {\n        this.yeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj.ComponentDynamics.forEach(item => {\n          if (item.groupItems != undefined && item.groupItems != null && item.groupItems.length > 0) {\n            item.groupItems.forEach(element => {\n              itemTemp = dataObj.DataKhamTheoTemplate.find(x => x.Id == element.Id);\n              if (itemTemp != null) {\n                element.Value = itemTemp.Value;\n              }\n            });\n          }\n          else {\n            itemTemp = dataObj.DataKhamTheoTemplate.find(x => x.Id == item.Id);\n            if (itemTemp != null) {\n              item.Value = itemTemp.Value;\n            }\n          }\n        });\n      }\n    }\n  }\n  \n  ngOnChanges() {\n    this.tenKhoaPhong = this.tenKP;\n    this.maTiepNhanBNId = this.YeuCauTiepNhanId;\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2toYW0tYmVuaC1saWNoLXN1LWtoYW0tbGlzdC9saWNoLXN1LWtoYW0tZG9hbi10dS12YW4tdGh1b2MvbGljaC1zdS1raGFtLWRvYW4tdHUtdmFuLXRodW9jLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, ViewChild, TemplateRef, Input, ChangeDetectorRef } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { MatDialog } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { InThuocTuVanKhamDoanPopupComponent } from '../../lan-kham-hien-tai/in-thuoc-tu-van-kham-doan-popup/in-thuoc-tu-van-kham-doan-popup.component';\n\n@Component({\n  selector: 'app-lich-su-kham-doan-tu-van-thuoc',\n  templateUrl: './lich-su-kham-doan-tu-van-thuoc.component.html',\n  styleUrls: ['./lich-su-kham-doan-tu-van-thuoc.component.scss']\n})\nexport class LichSuKhamDoanTuVanThuocComponent implements OnInit {\n  gridToaThuocColumns: any[] = [];\n  validationErrors :any;\n  popupLoadingData: any = null;\n  popupAddingData: any = null;\n  popupDeletingData: any = null;\n  isDisabled :boolean;\n  documentType: DocumentType = DocumentType.KhamBenh;\n  @ViewChild('sangTemplate', { static: true }) sangTemplate: TemplateRef<any>;\n  @ViewChild('truaTemplate', { static: true }) truaTemplate: TemplateRef<any>;\n  @ViewChild('chieuTemplate', { static: true }) chieuTemplate: TemplateRef<any>;\n  @ViewChild('chieuTemplate', { static: true }) toiTemplate: TemplateRef<any>;\n  @ViewChild('soLuongTemplate', { static: true }) soLuongTemplate: TemplateRef<any>;\n  @ViewChild('actionToaThuocTemplate', { static: true }) actionToaThuocTemplate: TemplateRef<any>;\n  \n  @ViewChild('gridThuoc', { static: false }) gridThuoc: GridComponent;\n  @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n\n\n  @Input() YeuCauTiepNhanId: number;\n  @Input() YeuCauKhamBenhId: number;\n\n  constructor(\n    private dialog: MatDialog,\n    private apiService: ApiService,\n    private notificationService: NotificationService,\n    private ref: ChangeDetectorRef,\n    private authService: AuthService,\n  ) { }\n\n  ngOnInit() {\n\n    this.gridToaThuocColumns = [\n      { Field: \"Action\", Title: \"\", Width: 70, Template: this.actionToaThuocTemplate, },\n      { Field: \"STT\", Title: \"#\", Width: 45, Sortable: true, Template: this.sttTemplate },\n      { Field: \"Ma\", Title: \"Mã\", Width: 45, Sortable: true, ShowTooltip: true },\n      { Field: \"Ten\", Title: \"TÊN\", Width: 95, Sortable: true, ShowTooltip: true },\n      { Field: \"HoatChat\", Title: \"Hoạt chất\", Width: 80, Sortable: true, ShowTooltip: true },\n      { Field: \"DVT\", Title: \"ĐVT\", Width: 60, Sortable: true },\n      { Field: \"SangDisplay\", Title: \"Sáng\", Width: 55, Sortable: true, Template: this.sangTemplate },\n      { Field: \"TruaDisplay\", Title: \"Trưa\", Width: 55, Sortable: true, Template: this.truaTemplate },\n      { Field: \"ChieuDisplay\", Title: \"Chiều\", Width: 55, Sortable: true, Template: this.chieuTemplate },\n      { Field: \"ToiDisplay\", Title: \"Tối\", Width: 55, Sortable: true, Template: this.toiTemplate },\n      { Field: \"SoNgayDung\", Title: \"Số ngày\", Width: 80, Sortable: true },\n      { Field: \"SoLuong\", Title: \"SL\", Width: 40, Sortable: true, Template: this.soLuongTemplate },\n      { Field: \"TenDuongDung\", Title: \"Đ.Dùng\", Width: 70, Sortable: true },\n      { Field: \"TuongTacThuoc\", Title: \"Tương tác thuốc\", Width: 65, Sortable: true },\n      { Field: \"DiUngThuocDisplay\", Title: \"Dị ứng\", Width: 65, Sortable: true },\n      { Field: \"GhiChu\", Title: \"Cách dùng\", Width: 90, Sortable: true, ShowTooltip: true },\n    ];\n    \n  }\n  loadingPage() {\n    this.popupLoadingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang tải dữ liệu...\" },\n    });\n  }\n\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n  \n  inPhieuTuVanThuoc() {\n    var self = this;\n    self.loadingPage();\n    var inTuVan =  {\n      YeuCauKhamBenhId : self.YeuCauKhamBenhId,\n      YeuCauTiepNhanId : self.YeuCauTiepNhanId,\n      HostingName : window.location.protocol + \"//\" + window.location.host\n    };\n    \n    self.apiService.post<any>(\"KhamBenh/InTuVanThuoc\", inTuVan).subscribe(\n      resData => {\n        if (resData != undefined && resData != null) {\n          self.closePopupLoadingData();\n          self.dialog.open(InThuocTuVanKhamDoanPopupComponent, {\n            disableClose: false,\n            width: '1200px',\n            data: resData,\n          }\n          ).afterClosed().subscribe(() => {\n          });\n        }\n      },\n      (err: ApiError) => {\n        self.validationErrors = err.ValidationErrors;\n        if (err.Message != \"Validation Failed\") {\n          self.notificationService.showError(err.Message);\n        }\n        self.closePopupLoadingData();\n      }\n    );\n  }\n  onDataBound(event: any) {\n    if (event != undefined && event != null) {\n      if (event.Data.length > 0) {\n        this.isDisabled = true;\n      } else {\n        this.isDisabled = false;\n      }\n    }\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2toYW0tYmVuaC1saWNoLXN1LWtoYW0tbGlzdC94YWMtbmhhbi1jaHV5ZW4tdHJhbmctdGhhaS1kaWNoLXZ1L3hhYy1uaGFuLWNodXllbi10cmFuZy10aGFpLWRpY2gtdnUuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Inject } from \"@angular/core\";\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport { ApiError } from \"src/app/shared/models/api-error.model\";\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { AuthService } from \"src/app/core/services/auth.service\";\nimport { NguoiThucHienChuyenTTDichVu, TrangThaiThucHienYeuCauDichVuKyThuat } from \"../../../kham-benh.model\";\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport { SecurityOperation } from \"src/app/shared/enum/security-operation.enum\";\nimport { SystemMessage } from \"src/app/shared/configdata/system-message\";\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\n\n@Component({\n\tselector: \"app-xac-nhan-chuyen-trang-thai-dich-vu\",\n\ttemplateUrl: \"./xac-nhan-chuyen-trang-thai-dich-vu.component.html\",\n\tstyleUrls: [\"./xac-nhan-chuyen-trang-thai-dich-vu.component.scss\"],\n})\nexport class XacNhanChuyenTrangThaiComponent implements OnInit {\t\t\n\n\ticClose = icClose;\n\ticSearch = icSearch;\n  \n\tdocumentType: DocumentType;\n\tvalidationErrors: any;\n\tyeuCauDichVuKyThuatId: number;\n\tlaThucHienDichVu: boolean;\n\tlaKhamDoanTatCa: boolean = false;\n\tIsKhamBenhDangKham: boolean = false;\n\ttitle: string = 'Xác nhận';\n  \n\tapiGetDataName: string = \"GetYeuCauDichVuKyThuatById?yeuCauDichVuKyThuatId=\";\n\tapiPutDataName: string = \"XuLyCapNhatDichVuKhac\";\n\tcontrollerName: string = \"KhamBenh\";\n  \n\tyeuCauDichVuKyThuat: TrangThaiThucHienYeuCauDichVuKyThuat = new TrangThaiThucHienYeuCauDichVuKyThuat(); \n  \n\tconstructor(\n\t  private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n\t  public dialogRef: MatDialogRef<XacNhanChuyenTrangThaiComponent>,\n\t  private apiService: ApiService,\n\t  private authService: AuthService,\n\t  private notificationService: NotificationService\n\t) { }\n  \n\tngOnInit() {\n\t  this.documentType = this.data.DocumentType;\n\t  this.yeuCauDichVuKyThuatId = this.data.YeuCauDichVuKyThuatId;\n\t  this.laThucHienDichVu = this.data.LaThucHienDichVu;\n\t  this.laKhamDoanTatCa = this.data.LaKhamDoanTatCa;\n\t  this.IsKhamBenhDangKham = this.data.IsKhamBenhDangKham != undefined && this.data.IsKhamBenhDangKham;\n\t  // if(this.laThucHienDichVu)\n\t  // {\n\t  //   this.title = \"Cập nhật thực hiện dịch vụ\";\n\t  // }\n\t  // else\n\t  // {\n\t  //   this.title = \"Hủy thực hiện dịch vụ\";\n\t  // }\n  \n\t  switch(this.data.DocumentType)\n\t  {\n\t\tcase DocumentType.KhamBenh:\n\t\t  this.controllerName = \"KhamBenh\"; break;\n\t\tcase DocumentType.DanhSachDieuTriNoiTru:\n\t\t  this.controllerName = \"DieuTriNoiTru\"; break;\n\t\tcase DocumentType.YeuCauTiepNhan:\n\t\t  this.controllerName = \"TiepNhanBenhNhan\"; break;\n\t\tcase DocumentType.TiemChungKhamSangLoc:\n\t\t  this.controllerName = \"TiemChung\"; break;\n\t\tcase DocumentType.TiemChungThucHienTiem:\n\t\t  this.controllerName = \"TiemChung\"; break;\n\t\t\n\t\t// cập nhật theo chức năng gọi lại dùng chung\n\t\t//..............\n  \n\t\tdefault:\n\t\t  this.controllerName = \"KhamBenh\"; break;\n\t  }\n  \n\t  this.getThongTinYeuCauDichVuKyThuat(this.yeuCauDichVuKyThuatId);\n\t}\n  \n\tgetThongTinYeuCauDichVuKyThuat(yeuCauDichVuKyThuatId: number) {\n\t  this.apiService.get<any>(this.controllerName + \"/\" + this.apiGetDataName + yeuCauDichVuKyThuatId).subscribe(resultData => {\n\t\tif (resultData) {\n\t\t  this.yeuCauDichVuKyThuat = resultData;\n\t\t  this.yeuCauDichVuKyThuat.YeuCauKhamBenhId = this.data.YeuCauKhamBenhId;\n\t\t  this.yeuCauDichVuKyThuat.IsKhamBenhDangKham = this.documentType == DocumentType.KhamBenhDangKham || this.IsKhamBenhDangKham;\n\t\t  this.yeuCauDichVuKyThuat.LaThucHienDichVu = this.laThucHienDichVu;\n\t\t  this.yeuCauDichVuKyThuat.LaKhamDoanTatCa = this.laKhamDoanTatCa;\n\t\t}\n\t  },\n\t\t(err: ApiError) => {\n\t\t  if (err.Message != \"Validation Failed\") {\n\t\t\tthis.notificationService.showError(err.Message);\n\t\t  }\n\t\t});\n\t}\n  \n\txuLyCapNhatThongTinThucHienDichVu() {\n\t  if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n\t\tthis.apiService.put<any>(this.controllerName + \"/\" + this.apiPutDataName, this.yeuCauDichVuKyThuat).subscribe(\n\t\t  resultData => {\n\t\t\tthis.dialogRef.close(true);\n\t\t  },\n\t\t  (err: ApiError) => {\n\t\t\tthis.validationErrors = err.ValidationErrors;\n\t\t\tif (err.Message != \"Validation Failed\") {\n\t\t\t  this.notificationService.showError(err.Message);\n\t\t\t}\n\t\t  });\n\t  }\n\t  else {\n\t\tthis.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n\t  }\n\t}\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2toYW0tYmVuaC10aG9uZy10aW4tZG9pLXR1b25nLXBvcHVwL2toYW0tYmVuaC10aG9uZy10aW4tZG9pLXR1b25nLXBvcHVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { ChangeDetectorRef, Component, ElementRef, HostListener, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { KhamBenhDiaChiBHYT, KhamBenhThongTinBaoHiemTuNhan, KhamBenhThongTinBenhNhanTimKiemBHYT, KhamBenhThongTinDoiTuongTiepNhan, KhamBenhGiayMienCungChiTra } from '../../kham-benh.model';\nimport { BaoHiemYTe } from '../../../danh-muc/bao-hiem-y-te/bao-hiem-y-te.model';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport icClear from '@iconify/icons-ic/twotone-clear';\nimport icMoreHoriz from '@iconify/icons-ic/twotone-more-horiz';\nimport icEdit from '@iconify/icons-ic/twotone-edit';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { Router } from '@angular/router';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { EnumTypeComponent } from 'src/app/shared/enum/kham-benh.enum';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { SystemMessage, TiepNhanBenhNhanMessage } from 'src/app/shared/configdata/system-message';\nimport { TextboxComponent } from 'src/app/shared/component/inputs/textbox/textbox.component';\nimport { ComboboxComponent } from 'src/app/shared/component/dropdowns/combobox/combobox.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { TinhTrangThe } from 'src/app/shared/enum/tinh-trang-the.enum';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\ndeclare var jQuery: any;\n\n@Component({\n  selector: 'app-kham-benh-thong-tin-doi-tuong-popup',\n  templateUrl: './kham-benh-thong-tin-doi-tuong-popup.component.html',\n  styleUrls: ['./kham-benh-thong-tin-doi-tuong-popup.component.scss']\n})\nexport class KhamBenhThongTinDoiTuongPopupComponent implements OnInit {\n\n  icClose = icClose;\n  icClear = icClear;\n  icMoreHoriz = icMoreHoriz;\n  icEdit = icEdit;\n  icDelete = icDelete;\n\n  documentType: DocumentType = DocumentType.KhamBenh;\n  tiepNhanBenhNhan: KhamBenhThongTinDoiTuongTiepNhan = new KhamBenhThongTinDoiTuongTiepNhan();\n  themBaoHiemTuNhanModel: KhamBenhThongTinBaoHiemTuNhan = new KhamBenhThongTinBaoHiemTuNhan();\n  isUpdateGrid: boolean = false;\n  gridDataSourceBHTN: any = {\n    data: [],\n    total: 0,\n  };\n  gridCongTyBHTNColumns: any[] = [];\n  indexItemBHTNUpdate: number = null;\n\n  //message kiem tra tren BHYT\n  messageThanhCong: string = \"Kiểm tra thành công\";\n  messageKhongThanhCong: string = \"Kiểm tra không thành công\";\n\n  //ngay thang nam sinh\n  under6yearsold: boolean = false;\n  soTuoiDisplay: string;\n  popupLoadingData: any;\n  isScanF1 = false;\n  modelQRCode: BaoHiemYTe;\n  IsCheckBHYT: boolean = null;\n  isLoadingDataBHYT: boolean = false;\n\n  validationErrors: any;\n  validationCongTyBHTNErrors: any;\n\n  file: any = null;\n  allowedExtensions: string[] = ['.jpg', '.jpeg', '.png', '.JPG', '.JPEG', '.PNG', '.pdf', '.PDF'];\n  \n  @ViewChild('HoVaTenTextbox', { static: false }) HoVaTenTextbox: TextboxComponent;\n  @ViewChild('comboboxQuanHuyen', { static: true }) comboboxQuanHuyen: ComboboxComponent;\n  @ViewChild('comboboxPhuongXa', { static: true }) comboboxPhuongXa: ComboboxComponent;\n  @ViewChild('cboQuanHuyenNguoiLienHe', { static: true }) cboQuanHuyenNguoiLienHe: ComboboxComponent;\n\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n  @ViewChild('ngayHieuLucTemplate', { static: true }) ngayHieuLucTemplate: TemplateRef<any>;\n  @ViewChild('ngayDenHanTemplate', { static: true }) ngayDenHanTemplate: TemplateRef<any>;\n  constructor(private authService: AuthService,\n    private dialog: MatDialog,\n    private notificationService: NotificationService,\n    private apiService: ApiService,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private dialogRef: MatDialogRef<KhamBenhThongTinDoiTuongPopupComponent>,\n    private router: Router,\n    private cdRef: ChangeDetectorRef,\n    private el: ElementRef) { }\n\n  ngOnInit() {\n\n    this.tiepNhanBenhNhan.Id = this.data.YeuCauTiepNhanId;\n    this.getThongTinTiepNhan(this.data.YeuCauTiepNhanId);\n\n    this.gridCongTyBHTNColumns = [\n      { Field: \"TenCongTyBaoHiemTuNhan\", Title: \"Công ty\", Width: 180, Sortable: true },\n      { Field: \"MaSoThe\", Title: \"Số thẻ\", Width: 100, Sortable: true },\n      { Field: \"NgayHieuLuc\", Title: \"Từ ngày\", Width: 90, Sortable: true, Template: this.ngayHieuLucTemplate },\n      { Field: \"NgayHetHan\", Title: \"Đến ngày\", Width: 90, Sortable: true, Template: this.ngayDenHanTemplate },\n      { Field: \"SoDienThoai\", Title: \"Điện thoại\", Width: 100, Sortable: true },\n      { Field: \"DiaChi\", Title: \"Địa chỉ\", Width: 200, Sortable: true },\n      { Field: \"Action\", Title: \"\", Width: 40, Template: this.actionTemplate },\n    ];\n  }\n\n  showPopupLoadingData() {\n    if (this.popupLoadingData == undefined\n      || this.popupLoadingData == null\n      || this.popupLoadingData.openDialogs == undefined\n      || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n      this.popupLoadingData = this.dialog.open(LoadingComponent, {\n        disableClose: true,\n        width: \"200px\",\n        height: \"90px\",\n        data: { Title: \"Đang tải dữ liệu...\" },\n      });\n    }\n\n  }\n\n  closePopupLoadingData(elementType: EnumTypeComponent = null, strId: string = null) {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n    if (elementType != null) {\n      this.popupLoadingData.afterClosed().subscribe(result => {\n        const invalidControl = this.el.nativeElement.querySelector('#'+strId);\n        if (invalidControl) {\n          invalidControl.focus();\n        }\n      });\n    }\n\n  }\n\n  resetFocus() {\n    var $focused = jQuery(':focus');\n    jQuery(\".k-input\").blur();\n    setTimeout(function () {\n      if ($focused.length > 0) {\n        $focused.focus();\n      }\n    }, 100);\n  }\n\n  getThongTinTiepNhan(yeuCauTiepNhanId: number){\n    this.showPopupLoadingData();\n    this.apiService\n      .get<any>(\"KhamBenh/GetThongTinDoiTuongTiepNhan?yeuCauTiepNhanId=\" + yeuCauTiepNhanId)\n      .subscribe(\n        (resultData) => {\n          this.tiepNhanBenhNhan = resultData;\n          this.gridDataSourceBHTN.data = this.tiepNhanBenhNhan.YeuCauTiepNhanCongTyBaoHiemTuNhans;\n          if (\n            this.tiepNhanBenhNhan.NamSinh != null &&\n            this.tiepNhanBenhNhan.ThangSinh != null &&\n            this.tiepNhanBenhNhan.NgaySinh != null\n          ) {\n            var ngaySinh = new Date(\n              this.tiepNhanBenhNhan.ThangSinh +\n              \"/\" +\n              this.tiepNhanBenhNhan.NgaySinh +\n              \"/\" +\n              this.tiepNhanBenhNhan.NamSinh +\n              \"/\"\n            );\n            this.getAge(ngaySinh, new Date());\n          }\n\n          this.file = null;\n          this.file = this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra;\n          this.changeNgayHetHan(this.tiepNhanBenhNhan.BHYTNgayHetHan, this.tiepNhanBenhNhan, true);\n          this.closePopupLoadingData();\n        },\n        (err: ApiError) => {\n          if (err.Message != \"Validation Failed\") {\n            this.notificationService.showError(err.Message);\n          }\n          this.closePopupLoadingData();\n        }\n      );\n  }\n\n  xuLyCapNhatThongTin() {\n    if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n      this.dialog.open(ConfirmComponent, {\n        disableClose: false,\n        width: \"400px\",\n        data: {\n          Title: \"Xác nhận\",\n          Message: CommonService.format(SystemMessage.MessConfirm, [\"lưu\"])\n        },\n      }).afterClosed().subscribe((result) => {\n        if (result == \"Yes\") {\n          this.showPopupLoadingData();\n          this.validationErrors = [];\n          if (this.tiepNhanBenhNhan.CoBHYT == true\n            && this.tiepNhanBenhNhan.TuNhap != true\n            && this.tiepNhanBenhNhan.BHYTMaSoThe\n            && this.tiepNhanBenhNhan.HoTen\n            && (this.tiepNhanBenhNhan.NamSinh != null || this.tiepNhanBenhNhan.NgayThangNamSinh != null)\n            && !this.tiepNhanBenhNhan.TuNhap) {\n            let thongTinBenhNhan: KhamBenhThongTinBenhNhanTimKiemBHYT = new KhamBenhThongTinBenhNhanTimKiemBHYT(\n              this.tiepNhanBenhNhan.BHYTMaSoThe,\n              this.tiepNhanBenhNhan.HoTen,\n              this.tiepNhanBenhNhan.NgayThangNamSinh,\n              null,\n              this.tiepNhanBenhNhan.NamSinh\n            );\n            this.apiService\n              .post<any>(\"BHYT/GetLichSuKhamChuaBenh\", thongTinBenhNhan)\n              .subscribe(\n                (resultData) => {\n                  this.xuLyCapNhatDoiTuong();\n                },\n                (err: ApiError) => {\n                  if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                  }\n                  this.closePopupLoadingData();\n                }\n              );\n          }\n          else {\n            this.xuLyCapNhatDoiTuong();\n          }\n        }\n      });\n    }\n    else {\n      this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  xuLyCapNhatDoiTuong() {\n    if (this.tiepNhanBenhNhan.TuNhap) {\n      this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n    }\n\n    this.apiService.put<any>(\"KhamBenh/XuLyCapNhatThongTinDoiTuong\", this.tiepNhanBenhNhan)\n      .subscribe(\n        (resultMess) => {\n          if(resultMess != undefined && resultMess != null && resultMess != ''){\n            this.notificationService.showWarning(CommonService.format(SystemMessage.ActionSuccessfully, [\"Lưu\"]) + \" \" + resultMess);\n          }\n          else{\n            this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Lưu\"]));\n          }\n          this.closePopupLoadingData();\n          this.close(true);\n        },\n        (err: ApiError) => {\n          this.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            this.notificationService.showError(err.Message);\n          }\n          this.closePopupLoadingData();\n        }\n      );\n  }\n\n  TinhThanhPhoNguoiLienHeChange(event) {\n    if(event == undefined || event == null)\n    {\n      this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId = null;\n      this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = null;\n    }\n  }\n\n  QuanHuyenNguoiLienHeChange(event) {\n    if(event == undefined || event == null)\n    {\n      this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = null;\n    }\n  }\n\n  PhuongXaNguoiLienHeChange(event) {\n    if (event != null && event != undefined) {\n      this.apiService.post<any>(\"TiepNhanBenhNhan/SetTinhThanhQuanHuyen?phuongXaId=\" + event).subscribe(\n        resultData => {\n          this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId = resultData.TinhThanhId;\n          this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId = resultData.QuanHuyenId;\n          this.cboQuanHuyenNguoiLienHe.getDataForLookup();\n        },\n        (err: any) => {\n        });\n    }\n  }\n\n  cloneDiaChiNguoiGiamHo(important: boolean = false) {\n    if (important || !this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId) {\n      this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId = this.tiepNhanBenhNhan.TinhThanhId;\n    }\n    if (important || !this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId) {\n      this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId = this.tiepNhanBenhNhan.QuanHuyenId;\n    }\n    if (important || !this.tiepNhanBenhNhan.NguoiLienHePhuongXaId) {\n      this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = this.tiepNhanBenhNhan.PhuongXaId;\n    }\n    if (important || !this.tiepNhanBenhNhan.NguoiLienHeDiaChi) {\n      this.tiepNhanBenhNhan.NguoiLienHeDiaChi = this.tiepNhanBenhNhan.DiaChi;\n    }\n  }\n\n  coBHYTChange(event) {\n    if (event != true) {\n      this.tiepNhanBenhNhan.TuNhap = false;\n      this.HoVaTenTextbox.focus();\n    }\n  }\n\n  tuNhapChange(event) {\n    if (event == true) {\n      this.tiepNhanBenhNhan.CoBHYT = true;\n      this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n    }\n    if (event == false) {\n      this.tiepNhanBenhNhan.CoBHYT = false;\n      this.coBHYTChange(false);\n    }\n  }\n\n  getAge(date_1, date_2) {\n    if((date_1 == undefined || date_1 == null) && this.tiepNhanBenhNhan.NamSinh != undefined && this.tiepNhanBenhNhan.NamSinh != null && this.tiepNhanBenhNhan.NamSinh != 0)\n    {\n        date_1 = new Date(this.tiepNhanBenhNhan.NamSinh, 1, 1);\n    }\n    date_1 = new Date(date_1);\n    date_2 = new Date(date_2);\n\n    //convert to UTC\n    let date2_UTC = new Date(Date.UTC(date_2.getFullYear(), date_2.getMonth(), date_2.getDate()));\n    let date1_UTC = new Date(Date.UTC(date_1.getFullYear(), date_1.getMonth(), date_1.getDate()));\n\n\n    //console.log(date1_UTC, date2_UTC, date_1, date_2);\n    let yAppendix, mAppendix, dAppendix;\n\n\n    //--------------------------------------------------------------\n    let days = date2_UTC.getDate() - date1_UTC.getDate();\n    if (days < 0) {\n\n      date2_UTC.setMonth(date2_UTC.getMonth() - 1);\n      days += this.DaysInMonth(date2_UTC);\n    }\n    //--------------------------------------------------------------\n    let months = date2_UTC.getMonth() - date1_UTC.getMonth();\n    if (months < 0) {\n      date2_UTC.setFullYear(date2_UTC.getFullYear() - 1);\n      months += 12;\n    }\n    //--------------------------------------------------------------\n    let years = date2_UTC.getFullYear() - date1_UTC.getFullYear();\n\n\n\n\n    if (years > 1) yAppendix = \" years\";\n    else yAppendix = \" year\";\n    if (months > 1) mAppendix = \" months\";\n    else mAppendix = \" month\";\n    if (days > 1) dAppendix = \" days\";\n    else dAppendix = \" day\";\n\n    if ((years < 6 && years >= 0) || (years == 6 && months == 0 && days == 0)) {\n      this.under6yearsold = true;\n      this.cloneDiaChiNguoiGiamHo();\n    }\n    else {\n      this.under6yearsold = false;\n    }\n\n    this.soTuoiDisplay = years + \" Tuổi \" + months + \" Tháng \" + days + \" Ngày \";\n  }\n\n  DaysInMonth(date2_UTC) {\n    let monthStart: any = new Date(date2_UTC.getFullYear(), date2_UTC.getMonth(), 1);\n    let monthEnd: any = new Date(date2_UTC.getFullYear(), date2_UTC.getMonth() + 1, 1);\n    let monthLength: any = (monthEnd - monthStart) / (1000 * 60 * 60 * 24);\n    return monthLength;\n  }\n\n  bindMucHuongFromSoTheBHYT(soTheBHYT: string, theBHYT) {\n    if (soTheBHYT != undefined && soTheBHYT != null && soTheBHYT.length >= 3) {\n        let maTheArray = soTheBHYT.split(\"\");\n        if (maTheArray[2] == '1') {\n          theBHYT.BHYTMucHuong = 100;\n        }\n        else if (maTheArray[2] == '2') {\n          theBHYT.BHYTMucHuong = 100;\n        }\n        else if (maTheArray[2] == '3') {\n          theBHYT.BHYTMucHuong = 95;\n        }\n        else if (maTheArray[2] == '4') {\n          theBHYT.BHYTMucHuong = 80;\n        }\n        else {\n          theBHYT.BHYTMucHuong = 100;\n        }\n    }\n  }\n\n  QuetMaQRCodeClick() {\n    let elementBarcode: HTMLElement = document.getElementById('barcodeActive') as HTMLElement;\n    if (elementBarcode != undefined) {\n      elementBarcode.click();\n      this.isScanF1 = true;\n    }\n  }\n\n  onKeyScanner(event) {\n    if (event.keyCode === 9) {\n      this.HoVaTenTextbox.focus();\n    }\n  }\n\n  blurMaNoiDKBD(theBHYT) {\n    this.setNoiDKBD(theBHYT);\n  }\n\n  onKeyMaNoiDKBD(event, theBHYT) {\n    if (event.keyCode === 13) {\n      this.setNoiDKBD(theBHYT);\n    }\n  }\n\n  timeoutNoiDKBD = null;\n  onChangeMaNoiDKBD(event, theBHYT){\n    var self = this;\n    clearTimeout(self.timeoutNoiDKBD);\n    self.timeoutNoiDKBD = setTimeout(function () {\n      self.setNoiDKBD(theBHYT);\n    }, 1000);\n  }\n\n  setNoiDKBD(theBHYT) {\n    this.apiService.post<string>(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + theBHYT.BHYTMaDKBD).subscribe(\n      resultData => {\n        theBHYT.NoiDangKyBHYT = resultData;\n      },\n      () => {\n        //return null;\n        //console.log(\"error\")\n      });\n  }\n\n  blurDiaChi(diaChi) {\n    this.setDiaChiBHYTForModel(diaChi);\n  }\n\n  onKeyDiaChi($event, diaChi) {\n    if ($event.keyCode === 13) {\n      this.setDiaChiBHYTForModel(diaChi);\n    }\n  }\n\n  setDiaChiBHYTForModel(diaChi: string) {\n    let self = this;\n    if (diaChi == null || diaChi == undefined) {\n      this.tiepNhanBenhNhan.TinhThanhId = null;\n      this.tiepNhanBenhNhan.QuanHuyenId = null;\n      this.tiepNhanBenhNhan.PhuongXaId = null;\n      this.tiepNhanBenhNhan.DiaChi = null;\n      return;\n    }\n    let lstDiaChi = diaChi.split(\",\");\n    if (lstDiaChi.length < 3) return;\n    let tinhThanhPho = lstDiaChi[lstDiaChi.length - 1].trim();\n    let quanHuyen = lstDiaChi[lstDiaChi.length - 2].trim();\n    let phuongXa = lstDiaChi[lstDiaChi.length - 3].trim();\n    let soNha = null;\n    if (lstDiaChi.length >= 4) {\n      let index = diaChi.indexOf(lstDiaChi[lstDiaChi.length - 3]);\n      soNha = diaChi.slice(0, index - 1);\n    }\n    let model = new KhamBenhDiaChiBHYT();\n    model.TinhThanh = tinhThanhPho;\n    model.QuanHuyen = quanHuyen;\n    model.PhuongXa = phuongXa;\n\n    this.apiService.post<KhamBenhDiaChiBHYT>(\"TiepNhanBenhNhan/GetDiaChiBHYT\", model).subscribe(\n      resultData => {\n        //cheat cho combobox hoat dong\n        this.tiepNhanBenhNhan.PhuongXaId = null;\n        this.tiepNhanBenhNhan.QuanHuyenId = null;\n        this.tiepNhanBenhNhan.TinhThanhId = null;\n\n        setTimeout(function () {\n          self.tiepNhanBenhNhan.PhuongXaId = resultData.PhuongXaId;\n          self.tiepNhanBenhNhan.QuanHuyenId = resultData.QuanHuyenId;\n          self.tiepNhanBenhNhan.TinhThanhId = resultData.TinhThanhId;\n          self.tiepNhanBenhNhan.DiaChi = soNha;\n\n          if (self.under6yearsold) {\n            self.cloneDiaChiNguoiGiamHo();\n          }\n        }, 500);\n\n        this.tiepNhanBenhNhan.DiaChi = soNha;\n      },\n      () => {\n        //return null;\n        //console.log(\"error\")\n      });\n  }\n\n  close(result = null){\n    this.dialogRef.close(result);\n  }\n\n  focusElementById(tagId: string) {\n    var $focused = jQuery('#' + tagId).find(\".k-input\");\n    jQuery(\".k-input\").blur();\n    setTimeout(function () {\n      if ($focused.length > 0) {\n        $focused.focus();\n      }\n    }, 100);\n  }\n\n  getThongTinTheBHYT(theBHYT) {\n    if (theBHYT.BHYTMaSoThe \n      && this.tiepNhanBenhNhan.HoTen \n      && (this.tiepNhanBenhNhan.NamSinh != null || this.tiepNhanBenhNhan.NgayThangNamSinh != null)\n      && !this.tiepNhanBenhNhan.TuNhap) {\n      this.showPopupLoadingData();\n      let thongTinBenhNhan: KhamBenhThongTinBenhNhanTimKiemBHYT = new KhamBenhThongTinBenhNhanTimKiemBHYT(\n        theBHYT.BHYTMaSoThe,\n        this.tiepNhanBenhNhan.HoTen,\n        this.tiepNhanBenhNhan.NgayThangNamSinh,\n        null,\n        this.tiepNhanBenhNhan.NamSinh\n      );\n      this.apiService\n        .post<any>(\"BHYT/GetLichSuKhamChuaBenh\", thongTinBenhNhan)\n        .subscribe(\n          (resultData) => {\n            if (resultData == null || (resultData != null && resultData.maKetQua == \"050\")) {\n              this.notificationService.showError('Thẻ BHYT này không tồn tại');\n              this.clearThongTinTheBHYT(theBHYT);\n              \n              //theBHYT.IsChange = false;\n              this.isLoadingDataBHYT = false;\n              this.closePopupLoadingData(EnumTypeComponent.KTextBox, 'SoTheBHYT');\n            }\n            else {\n              theBHYT.IsCheckedBHYT = this.IsCheckBHYT = true;\n              theBHYT.BHYTMaDKBD = resultData.maDKBD;\n              theBHYT.BHYTDiaChi = resultData.diaChi;\n              theBHYT.CoQuanBHXH = resultData.cqBHXH;\n              theBHYT.MaKhuVuc = resultData.maKV;\n              theBHYT.BHYTNgayHieuLuc = CommonService.FormatDateStringToDate(resultData.gtTheTu);\n              theBHYT.BHYTNgayHetHan = CommonService.FormatDateStringToDate(resultData.gtTheDen);\n              this.changeNgayHetHan(theBHYT.NgayHetHan, theBHYT);\n              \n              theBHYT.BHYTNgayDu5Nam = CommonService.FormatDateStringToDate(resultData.ngayDu5Nam);\n              if (theBHYT.BHYTMaDKBD != null && theBHYT.BHYTMaDKBD != \"\") {\n                this.setNoiDKBD(theBHYT);\n              }\n\n              this.setDiaChiBHYTForModel(theBHYT.BHYTDiaChi);\n\n              //theBHYT.IsChange = false;\n              this.isLoadingDataBHYT = false;\n              this.closePopupLoadingData();\n            }\n          },\n          (err: ApiError) => {\n            if (err.Message != \"Validation Failed\") {\n              this.notificationService.showError(err.Message);\n            }\n            //this.clearThongTinTheBHYT(theBHYT);\n            //theBHYT.IsChange = false;\n            this.isLoadingDataBHYT = false;\n            this.closePopupLoadingData(EnumTypeComponent.KTextBox, 'SoTheBHYT');\n          }\n        );\n    }\n    else\n    {\n      this.isLoadingDataBHYT = false;\n    }\n  }\n\n  clearThongTinTheBHYT(theBHYT){\n    theBHYT.BHYTMaSoThe = null;\n    theBHYT.IsCheckedBHYT = false;\n    theBHYT.BHYTMaDKBD = null;\n    theBHYT.BHYTDiaChi = null;\n    theBHYT.CoQuanBHXH = null;\n    theBHYT.MaKhuVuc = null;\n    theBHYT.BHYTNgayHieuLuc = null;\n    theBHYT.BHYTNgayHetHan = null;\n    theBHYT.TinhTrangThe = null;\n    theBHYT.BHYTNgayDu5Nam = null;\n    theBHYT.NoiDangKyBHYT = null;\n    theBHYT.BHYTMucHuong = null;\n    theBHYT.BHYTDuocMienCungChiTra = false;\n    theBHYT.BHYTGiayMienCungChiTraId = null;\n    theBHYT.BHYTGiayMienCungChiTra = null;\n    theBHYT.BHYTNgayDuocMienCungChiTra = null;\n  }\n\n  timeout = null;\n  changeThongTinGetBHYT(event, theBHYT, isLoadingDataBHYT) {\n    var self = this;\n    self.bindMucHuongFromSoTheBHYT(theBHYT.BHYTMaSoThe, theBHYT);\n    if (!isLoadingDataBHYT && theBHYT.IsChange) {\n      self.isLoadingDataBHYT = true;\n      theBHYT.IsCheckedBHYT = null;\n      clearTimeout(self.timeout);\n      self.timeout = setTimeout(function () {\n      self.tiepNhanBenhNhan.IsChange = false;\n        self.getThongTinTheBHYT(theBHYT);\n      }, 1000);\n    }\n  }\n\n  onKeySoTheBHYT(event, theBHYT, isLoadingDataBHYT)\n  {\n    if(event.keyCode == 13)\n    {\n      this.changeThongTinGetBHYT(event, theBHYT, isLoadingDataBHYT);\n      this.HoVaTenTextbox.focus();\n    }\n  }\n\n  changeSoTheBHYT($event, theBHYT)\n  {\n    if(!this.tiepNhanBenhNhan.TuNhap)\n    {\n      theBHYT.IsChange = true;\n    }\n  }\n\n  TinhThanhPhoChange(event) {\n    if (event == undefined || event == null) {\n      this.tiepNhanBenhNhan.QuanHuyenId = null;\n      this.tiepNhanBenhNhan.PhuongXaId = null;\n    }\n    if (this.under6yearsold) {\n      this.cloneDiaChiNguoiGiamHo();\n    }\n  }\n\n  QuanHuyenChange(event) {\n    if (event == undefined || event == null) {\n      // this.tiepNhanBenhNhan.QuanHuyenId = event;\n      this.tiepNhanBenhNhan.PhuongXaId = null;\n    }\n\n    if (this.under6yearsold) {\n      this.cloneDiaChiNguoiGiamHo();\n    }\n  }\n\n  PhuongXaChange($event) {\n    this.tiepNhanBenhNhan.PhuongXaId = $event;\n    if ($event != null && $event != undefined) {\n      this.apiService.post<any>(\"TiepNhanBenhNhan/SetTinhThanhQuanHuyen?phuongXaId=\" + $event).subscribe(\n        resultData => {\n          this.tiepNhanBenhNhan.TinhThanhId = resultData.TinhThanhId;\n          this.tiepNhanBenhNhan.QuanHuyenId = resultData.QuanHuyenId;\n          this.comboboxQuanHuyen.getDataForLookup();\n        },\n        (err: any) => {\n        });\n    }\n    else {\n      this.tiepNhanBenhNhan.TinhThanhId = null;\n      this.tiepNhanBenhNhan.QuanHuyenId = null;\n    }\n    if (this.under6yearsold) {\n      this.cloneDiaChiNguoiGiamHo();\n    }\n  }\n\n  @HostListener('document:keydown', ['$event'])\n  keyEvent(event: KeyboardEvent) {\n    if (event.keyCode == 81 && event.ctrlKey && this.isScanF1 != true) {\n      event.preventDefault();\n      this.QuetMaQRCodeClick();\n    }\n    else if (event.keyCode == 81 && event.ctrlKey && this.isScanF1 == true) {\n      event.preventDefault();\n    }\n  }\n\n  changeBoxCoTheBHYT(event){\n    this.clearValidationBHYT();\n    if (!event) {\n      this.dialog.open(ConfirmComponent, {\n        disableClose: false,\n        width: \"400px\",\n        data: {\n          Title: \"Xác nhận\",\n          Message: \"Bạn có chắc chắn muốn xóa thẻ BHYT của người bệnh?\"\n        },\n      }).afterClosed().subscribe((result) => {\n        if (result == \"Yes\") {\n          this.clearThongTinTheBHYT(this.tiepNhanBenhNhan);\n          this.file = null;\n        }\n        else\n        {\n          this.tiepNhanBenhNhan.CoBHYT = true;\n        }\n      });\n    }\n    else {\n\n    }\n  }\n\n  clearValidationBHYT() {\n    if (this.validationErrors != undefined && this.validationErrors.length != 0) {\n      this.validationErrors = this.validationErrors.filter(x => x.Field != \"BHYTMaSoThe\" && x.Field != \"BHYTMaDKBD\"\n        && x.Field != \"NoiDangKyBHYT\" && x.Field != \"BHYTMucHuong\"\n        && x.Field != \"BHYTDiaChi\" && x.Field != \"BHYTNgayHieuLuc\"\n        && x.Field != \"BHYTNgayHetHan\");\n    }\n  }\n\n  ThongTinBenhNhanNgaySinhChange(event) {\n    if (this.tiepNhanBenhNhan.NgayThangNamSinh != null) {\n      this.tiepNhanBenhNhan.NamSinh = this.tiepNhanBenhNhan.NgayThangNamSinh.getFullYear();\n    }\n    if (event == null || event == undefined) {\n      this.under6yearsold = false;\n      this.tiepNhanBenhNhan.NamSinh = null;\n    }\n    this.changeThongTinKiemTraTheBHYT();\n    this.changeNgaySinh();\n  }\n\n  changeNamSinh(event)\n  {\n    this.changeThongTinKiemTraTheBHYT();\n    this.changeNgaySinh();\n  }\n\n  changeNgaySinh(){\n    var ngaySinh = new Date(\n      this.tiepNhanBenhNhan.ThangSinh +\n      \"/\" +\n      this.tiepNhanBenhNhan.NgaySinh +\n      \"/\" +\n      this.tiepNhanBenhNhan.NamSinh +\n      \"/\"\n    );\n    this.getAge(ngaySinh, new Date());\n  }\n\n  changeHoTen(event){\n    this.changeThongTinKiemTraTheBHYT();\n  }\n\n  changeThongTinKiemTraTheBHYT()\n  {\n    this.tiepNhanBenhNhan.IsChange = true;\n  }\n\n  ngayCoHieuLucChange(event, theBHYT) {\n    if (event != null && event != undefined) {\n      // let dateFormat = new Date(event);\n      // theBHYT.BHYTNgayHetHan = new Date(dateFormat.getFullYear() + 1, dateFormat.getMonth(), dateFormat.getDate());\n\n      //BVHD-3518: mặc định là ngà 31/12 của năm hiện tại\n      let currentDate = new Date();\n      this.tiepNhanBenhNhan.BHYTNgayHetHan = new Date(currentDate.getFullYear(), 11, 31);\n      this.changeNgayHetHan(theBHYT.BHYTNgayHetHan, theBHYT);\n    }\n    else\n    {\n      theBHYT.BHYTNgayHetHan = null;\n    }\n  }\n\n  uploadFileDone(event: any)\n  {\n    // this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra = event;\n    if(event)\n    {\n      this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra.Ma = event.Ma;\n      this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra.Ten = event.Ten;\n      this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra.TenGuid = event.TenGuid;\n      this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra.KichThuoc = event.KichThuoc;\n      this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra.DuongDan = event.DuongDan;\n      this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra.LoaiTapTin = event.LoaiTapTin;\n      this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra.MoTa = event.MoTa;\n    }\n    else{\n      let id = this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra != null ? this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra.Id : 0;\n      this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra = new KhamBenhGiayMienCungChiTra();\n      this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra.Id = id;\n    }\n    this.cdRef.detectChanges();\n  }\n\n  changeNgayHetHan(event, theBHYT, isFirstLoad = false)\n  {\n    let dateFormat = new Date();\n    let currentDate = new Date(dateFormat.getFullYear(), dateFormat.getMonth(), dateFormat.getDate());\n    let ngayHetHan = new Date(event);\n    let ngayHetHanDate = new Date(ngayHetHan.getFullYear(), ngayHetHan.getMonth(), ngayHetHan.getDate());\n    if(currentDate > ngayHetHanDate)\n    {\n      theBHYT.IsQuaHanTheBHYT = true;\n    }\n    else\n    {\n      theBHYT.IsQuaHanTheBHYT = false;\n    }\n\n    if(ngayHetHanDate >= currentDate)\n    {\n      theBHYT.TinhTrangThe = TinhTrangThe.ConHieuLuc;\n    }\n    else\n    {\n      theBHYT.TinhTrangThe = TinhTrangThe.HetHieuLuc;\n    }\n  }\n\n  // công ty BHTN\n  congTyBaoHiemChange(event) {\n    if(event != undefined && event != null)\n    {\n      this.themBaoHiemTuNhanModel.DiaChi = event.DiaChi;\n      this.themBaoHiemTuNhanModel.SoDienThoai = event.SoDienThoai;\n      this.themBaoHiemTuNhanModel.TenCongTyBaoHiemTuNhan = event.DisplayName;\n    }\n    else\n    {\n      this.themBaoHiemTuNhanModel.DiaChi = null;\n      this.themBaoHiemTuNhanModel.SoDienThoai = null;\n      this.themBaoHiemTuNhanModel.TenCongTyBaoHiemTuNhan = null;\n    }\n  }\n\n  clearThemBHTN() {\n    this.themBaoHiemTuNhanModel = new KhamBenhThongTinBaoHiemTuNhan();\n    this.indexItemBHTNUpdate = null;\n  }\n\n  huyBHTN() {\n    this.isUpdateGrid = false;\n    this.clearThemBHTN();\n  }\n\n  checkValidAddBHTN(id: number) {\n    let itemByIndex = this.tiepNhanBenhNhan.YeuCauTiepNhanCongTyBaoHiemTuNhans[this.indexItemBHTNUpdate];\n    let model = this.tiepNhanBenhNhan.YeuCauTiepNhanCongTyBaoHiemTuNhans\n                        .find(obj => (itemByIndex == undefined || obj != itemByIndex) \n                                      && obj.CongTyBaoHiemTuNhanId == id);\n    return model == undefined;\n  }\n\n  ThemBHTN() {\n    //KiemTraThemCongTyBHTN\n    this.validationCongTyBHTNErrors = [];\n    this.apiService.post<any>(\"KhamBenh/KiemTraThemCongTyBHTN\", this.themBaoHiemTuNhanModel).subscribe(\n      resultData => {\n        let isValid = this.checkValidAddBHTN(this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId);\n        if (isValid == false) {\n          this.notificationService.showError(TiepNhanBenhNhanMessage.MessageThemBHTN);\n        }\n        else {\n          this.tiepNhanBenhNhan.YeuCauTiepNhanCongTyBaoHiemTuNhans.push(this.themBaoHiemTuNhanModel);\n          this.clearThemBHTN();\n        }\n\n      },\n      (err: any) => {\n        if (err != undefined && err.ValidationErrors != null) {\n          this.validationCongTyBHTNErrors = err.ValidationErrors;\n        }\n        else {\n          this.notificationService.showError(err.Message);\n        }\n\n      });\n  }\n\n  SuaBHTN(dataItem, index) {\n    this.isUpdateGrid = true;\n    this.themBaoHiemTuNhanModel = Object.assign({}, dataItem);\n    this.indexItemBHTNUpdate = index;\n  }\n\n  LuuBHTN() {\n    this.validationCongTyBHTNErrors = null;\n    this.apiService.post<any>(\"DieuTriNoiTru/KiemTraThemCongTyBHTN\", this.themBaoHiemTuNhanModel).subscribe(\n      resultData => {\n        let isValid = this.checkValidAddBHTN(this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId);\n        if (isValid == false) {\n          this.notificationService.showError(TiepNhanBenhNhanMessage.MessageThemBHTN);\n        }\n        else {\n          let item = this.tiepNhanBenhNhan.YeuCauTiepNhanCongTyBaoHiemTuNhans[this.indexItemBHTNUpdate];\n          if (item != undefined && item != null) {\n            this.tiepNhanBenhNhan.YeuCauTiepNhanCongTyBaoHiemTuNhans[this.indexItemBHTNUpdate] = Object.assign({}, this.themBaoHiemTuNhanModel);\n          }\n          this.clearThemBHTN();\n        }\n      },\n      (err: any) => {\n        if (err != undefined && err.ValidationErrors != null) {\n          this.validationCongTyBHTNErrors = err.ValidationErrors;\n        }\n        else {\n          this.notificationService.showError(err.Message);\n        }\n      });\n  }\n\n  xoaCongTyBHTN(dataItem) {\n    this.dialog.open(ConfirmComponent, {\n      disableClose: false,\n      width: \"400px\",\n      data: {\n        Title: \"Xác nhận\",\n        Message: \"Bạn có chắc chắn muốn xóa công ty bảo hiểm tư nhân này không?\"\n      },\n    }).afterClosed().subscribe((result) => {\n      if (result == \"Yes\") {\n        let index = this.tiepNhanBenhNhan.YeuCauTiepNhanCongTyBaoHiemTuNhans.findIndex(x => x == dataItem);\n        if(index != -1)\n        {\n          this.tiepNhanBenhNhan.YeuCauTiepNhanCongTyBaoHiemTuNhans.splice(index, 1);\n        }\n      }\n    });\n  }\n  \n  changeCoBaoHiemTuNhan(event)\n  {\n    if(!event)\n    {\n      this.dialog.open(ConfirmComponent, {\n        disableClose: false,\n        width: \"400px\",\n        data: {\n          Title: \"Xác nhận\",\n          Message: \"Bạn có chắc chắn muốn xóa công ty bảo hiểm tư nhân này không?\"\n        },\n      }).afterClosed().subscribe((result) => {\n        if (result == \"Yes\") {\n          this.tiepNhanBenhNhan.YeuCauTiepNhanCongTyBaoHiemTuNhans = [];\n        }\n        else\n        {\n          this.tiepNhanBenhNhan.CoBHTN = true;\n        }\n      });\n    }\n  }\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n  padding-bottom: 0.625em;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\nfieldset .inline_b {\\n  display: inline-block !important;\\n  margin-right: 10px;\\n  padding-right: 15px;\\n}\\n\\nfieldset legend {\\n  text-transform: uppercase;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgva2hhbS1iZW5oLXRpbS1iZW5oLW5oYW4tcG9wdXAvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxraGFtLWJlbmhcXGtoYW0tYmVuaFxca2hhbS1iZW5oLXRpbS1iZW5oLW5oYW4tcG9wdXBcXGtoYW0tYmVuaC10aW0tYmVuaC1uaGFuLXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmgtdGltLWJlbmgtbmhhbi1wb3B1cC9raGFtLWJlbmgtdGltLWJlbmgtbmhhbi1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0VBQ0EsdUJBQUE7QUNDRjs7QURFQTtFQUNFLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLHlCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmgtdGltLWJlbmgtbmhhbi1wb3B1cC9raGFtLWJlbmgtdGltLWJlbmgtbmhhbi1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtO1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW07XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbTtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IC5pbmxpbmVfYiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG59XG5cbmZpZWxkc2V0IGxlZ2VuZCB7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59IiwiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgLmlubGluZV9iIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxuZmllbGRzZXQgbGVnZW5kIHtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn0iXX0= */\"","import { Component, OnInit, Inject, ViewChild, TemplateRef } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material';\nimport { BenhVienHangDoi, YeuCauTiepNhan, YeuCauKhamBenh, NgheNghiep, DanToc } from '../../kham-benh.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { LoaiHangDoi, TrangThaiYeuCauDichVuKyThuat } from 'src/app/shared/enum/kham-benh.enum';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport { FormControl } from '@angular/forms';\nimport icPlay from '@iconify/icons-ic/play-circle-filled';\nimport icAssignment from '@iconify/icons-ic/assignment';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\n\n@Component({\n  selector: 'app-kham-benh-tim-benh-nhan-popup',\n  templateUrl: './kham-benh-tim-benh-nhan-popup.component.html',\n  styleUrls: ['./kham-benh-tim-benh-nhan-popup.component.scss']\n})\nexport class KhamBenhTimBenhNhanPopupComponent implements OnInit {\n  @ViewChild(GridComponent, { static: true }) gridChild: GridComponent;\n  @ViewChild('chuanBiKhamActionTemplate', { static: true }) chuanBiKhamActionTemplate: TemplateRef<any>;\n\n\n  urlGetData: string = \"KhamBenh/GetBenhNhanTrongHangDoiDataForGridAsync\";\n  urlGetTotalPage: string = \"KhamBenh/GetBenhNhanTrongHangDoiTotalPageForGridAsync\";\n\n  urlGetDataGridChild: string = \"\"; \n  urlGetTotalPageGridChild: string = \"\";\n  documentType: DocumentType;\n\n  icClose = icClose;\n  icSearch = icSearch;\n  icPlay = icPlay;\n  icAssignment = icAssignment;\n  searchCtrl = new FormControl;\n\n  searchString: string = null;\n  phongKhamId: number = null;\n  benhNhanHienTai: BenhVienHangDoi;\n  gridColumns: any[] = [];\n\n  dataResult: any = null;\n  hangDoiChuanBiKham: LoaiHangDoi = LoaiHangDoi.ChuanBiKham;\n  hangDoiLamChiDinh: LoaiHangDoi = LoaiHangDoi.LamChiDinh;\n  yeuCauDichVuKyThuatDaHoanThanh: TrangThaiYeuCauDichVuKyThuat = TrangThaiYeuCauDichVuKyThuat.DaThucHien;\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, private authService: AuthService\n    , private dialog: MatDialog, private apiService: ApiService,\n     public dialogRef: MatDialogRef<KhamBenhTimBenhNhanPopupComponent>) { }\n\n  ngOnInit() {\n    this.searchString = this.data.searchString;\n    this.phongKhamId = this.data.phongKhamId;\n    this.gridChild.urlGetData = this.urlGetData;\n    this.gridChild.urlGetTotalPage = this.urlGetTotalPage;\n    this.documentType = DocumentType.KhamBenh;\n\n    this.gridColumns = [\n      { Field: \"MaTN\", Title: \"Mã TN\", Width: 100, Sortable: true },\n      { Field: \"MaBN\", Title: \"Mã NB\", Width: 50, Sortable: true },\n      { Field: \"HoTen\", Title: \"Họ tên\", Width: 150, Sortable: true },\n      { Field: \"GioiTinhDisplay\", Title: \"Giới tính\", Width: 50, Sortable: true },\n      { Field: \"LoaiHangDoiDisplay\", Title: \"Tình trạng\", Width: 150, Sortable: true },\n      { Field: \"MucHuongDisplay\", Title: \"Mức hưởng\", Width: 100, Sortable: true },\n      { Field: \"Action\", Title: \"\", Width: 65, Template: this.chuanBiKhamActionTemplate }\n    ];\n    \n    if (this.searchString != undefined && this.searchString != null) {\n      this.Timkiem();\n    }\n  }\n\n  keyUp(event: any) {\n    if (event.key == \"Enter\") {\n      this.timKemBenhNhan();\n    }\n  }\n\n  timKemBenhNhan() {\n    this.apiService.get<BenhVienHangDoi>(\"KhamBenh/BenhNhanTrongHangDoi?searchString=\" + this.searchString + \"&phongKhamId=\" + this.phongKhamId).subscribe(resultData => {\n      if (resultData != null) {\n        this.benhNhanHienTai = resultData;\n      }\n      else {\n        this.benhNhanHienTai = null;\n      }\n    });\n  }\n\n  onKey(event: any) {\n    if (event.key == \"Enter\") {\n      this.Timkiem();\n    }\n  }\n\n  Timkiem() {\n    this.gridChild.urlGetData = this.urlGetData;\n    this.gridChild.urlGetTotalPage = this.urlGetTotalPage;\n    let QueryString = null;\n    this.gridChild._additionalSearchString = this.phongKhamId.toString();\n    if (this.searchString != null) {\n      QueryString = this.searchString;\n    }\n    this.gridChild.searchString = QueryString;\n    this.gridChild.search();\n  }\n\n  searchChanges() {\n    if (this.searchString == null || this.searchString == \"\") {\n      this.gridChild.searchString = \"\";\n      this.gridChild.search();\n    }\n  }\n\n  batDauKham(dataItem: any) {\n    let result = {\n      LoaiHangDoi: dataItem.LoaiHangDoi,\n      HangDoiId: dataItem.Id\n    }\n    this.close(result);\n    \n  }\n\n  duaVaoHangDoi(dataItem: any) {\n    let result = {\n      LoaiHangDoi: dataItem.LoaiHangDoi,\n      HangDoiId: dataItem.Id\n    }\n    this.close(result);\n  }\n\n  close(result: any) {\n    this.dialogRef.close(result);\n  }\n  closes(){\n    this.dialog.closeAll();\n  }\n}\n","export default \".menu-form-wrapper .mat-menu-content {\\n  padding: 8px;\\n}\\n\\n.po-right {\\n  text-align: right;\\n  flex-grow: 1;\\n}\\n\\n.d-unset {\\n  display: unset !important;\\n}\\n\\nkendo-splitter {\\n  border-width: 0px !important;\\n  min-height: 100px;\\n}\\n\\nkendo-splitter ul > li.right-0 {\\n  margin-right: 0px;\\n  padding-right: 15px;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline !important;\\n}\\n\\nkendo-panelbar-item ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item .inline_b {\\n  display: inline-block !important;\\n  margin-right: 10px;\\n  padding-right: 15px;\\n}\\n\\nkendo-panelbar-item .panelbar-row {\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\\n}\\n\\nkendo-panelbar-item .panelbar-row:hover {\\n  background: rgba(227, 242, 253, 0.5);\\n}\\n\\nkendo-panelbar-item .panelbar-group-b {\\n  border-top: 1px rgba(0, 0, 0, 0.08) outset;\\n}\\n\\n.sticky-list {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n}\\n\\n.sticky-tab {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n  background: #f5f7fa;\\n  overflow-x: auto;\\n  margin-left: 5px;\\n  margin-right: 5px;\\n}\\n\\n.sticky-tab ul {\\n  margin: 0;\\n  padding-top: 10px;\\n  padding-bottom: 0;\\n  border-bottom: 1px solid #ccc;\\n}\\n\\n.sticky-tab ul li {\\n  display: inline-block;\\n  list-style-type: none;\\n  margin-right: 25px;\\n  font-size: 15px;\\n  font-weight: bold;\\n  font-style: normal;\\n  font-stretch: normal;\\n  letter-spacing: normal;\\n  color: #2e384d;\\n  cursor: pointer;\\n  transition: all 300ms linear;\\n  border-bottom: 3px solid #f5f7fa;\\n}\\n\\n.sticky-tab ul li.active {\\n  font-size: 15px;\\n  font-weight: bold;\\n  color: #005dab;\\n  border-bottom: 4px solid #005dab;\\n}\\n\\n.sticky-tab ul li:hover {\\n  border-bottom: 3px solid #005dab;\\n}\\n\\n.sticky-tab ul li.resolved {\\n  color: #005dab;\\n}\\n\\n.sticky-tab ul li.processing {\\n  color: #ff9800;\\n}\\n\\n.sticky-tab ul li.unfulfilled {\\n  color: #9e9e9e;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail {\\n  bottom: 0 !important;\\n  height: 5px !important;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail .ps-scrollbar-x {\\n  height: 5px !important;\\n}\\n\\nlegend {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\n.sticky-panelbar {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  top: 64px;\\n}\\n\\n.sticky-button-action {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  bottom: 0px;\\n  background-color: white;\\n  border-top: 1px solid #ccc;\\n  overflow: hidden;\\n  z-index: 10;\\n}\\n\\n.icon-bhyt {\\n  height: 15px;\\n  top: 2px;\\n  position: absolute;\\n  right: 0;\\n}\\n\\n.sticky-div {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  top: 50px;\\n  border-bottom: 1px solid #ccc;\\n  z-index: 999;\\n  background-color: white !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxraGFtLWJlbmhcXGtoYW0tYmVuaFxca2hhbS1iZW5oLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9raGFtLWJlbmguY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxvQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsMEJBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSw0Q0FBQTtBQ0NGOztBREVBO0VBQ0Usb0NBQUE7QUNDRjs7QURFQTtFQUNFLDBDQUFBO0FDQ0Y7O0FERUE7RUFDRSxTQUFBO0VBQ0EsMkJBQUE7RUFDQSxtQ0FBQTtFQUNBLGFBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7RUFDQSwyQkFBQTtFQUNBLG1DQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxTQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLDZCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtFQUNBLHFCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0Esc0JBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtFQUtBLDRCQUFBO0VBQ0EsZ0NBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLG9CQUFBO0VBQ0Esc0JBQUE7QUNDRjs7QURFQTtFQUNFLHNCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtFQUNBLHdCQUFBO0VBQ0EsU0FBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSx3QkFBQTtFQUNBLFdBQUE7RUFDQSx1QkFBQTtFQUNBLDBCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0VBQ0EsUUFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSx3QkFBQTtFQUNBLFNBQUE7RUFDQSw2QkFBQTtFQUNBLFlBQUE7RUFDQSxrQ0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgva2hhbS1iZW5oLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1lbnUtZm9ybS13cmFwcGVyIC5tYXQtbWVudS1jb250ZW50IHtcbiAgcGFkZGluZzogOHB4O1xufVxuXG4ucG8tcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZmxleC1ncm93OiAxO1xufVxuXG4uZC11bnNldCB7XG4gIGRpc3BsYXk6IHVuc2V0ICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXNwbGl0dGVyIHtcbiAgYm9yZGVyLXdpZHRoOiAwcHggIWltcG9ydGFudDtcbiAgbWluLWhlaWdodDogMTAwcHg7XG59XG5cbmtlbmRvLXNwbGl0dGVyIHVsID4gbGkucmlnaHQtMCB7XG4gIG1hcmdpbi1yaWdodDogMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xufVxuXG5maWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbTtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIHBhZGRpbmctbGVmdDogMC43NWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW07XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gdWwuaW5saW5lID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAuaW5saW5lX2Ige1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5wYW5lbGJhci1yb3cge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyKTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93OmhvdmVyIHtcbiAgYmFja2dyb3VuZDogcmdiYSgyMjcsIDI0MiwgMjUzLCAwLjUpO1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5wYW5lbGJhci1ncm91cC1iIHtcbiAgYm9yZGVyLXRvcDogMXB4IHJnYmEoMCwgMCwgMCwgMC4wOCkgb3V0c2V0O1xufVxuXG4uc3RpY2t5LWxpc3Qge1xuICB0b3A6IDY0cHg7XG4gIHBvc2l0aW9uOiBzdGlja3kgIWltcG9ydGFudDtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHotaW5kZXg6IDk5OTk7XG59XG5cbi5zdGlja3ktdGFiIHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiA5OTk5O1xuICBiYWNrZ3JvdW5kOiAjZjVmN2ZhO1xuICBvdmVyZmxvdy14OiBhdXRvO1xuICBtYXJnaW4tbGVmdDogNXB4O1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbn1cblxuLnN0aWNreS10YWIgdWwge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG4gIG1hcmdpbi1yaWdodDogMjVweDtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xuICBmb250LXN0cmV0Y2g6IG5vcm1hbDtcbiAgbGV0dGVyLXNwYWNpbmc6IG5vcm1hbDtcbiAgY29sb3I6ICMyZTM4NGQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtbW96LXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIC1vLXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIC1tcy10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICB0cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgI2Y1ZjdmYTtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkuYWN0aXZlIHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIGJvcmRlci1ib3R0b206IDRweCBzb2xpZCAjMDA1ZGFiO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaTpob3ZlciB7XG4gIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjMDA1ZGFiO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS5yZXNvbHZlZCB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS5wcm9jZXNzaW5nIHtcbiAgY29sb3I6ICNmZjk4MDA7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLnVuZnVsZmlsbGVkIHtcbiAgY29sb3I6ICM5ZTllOWU7XG59XG5cbi5zdGlja3ktdGFiIC5wcy1zY3JvbGxiYXIteC1yYWlsIHtcbiAgYm90dG9tOiAwICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogNXB4ICFpbXBvcnRhbnQ7XG59XG5cbi5zdGlja3ktdGFiIC5wcy1zY3JvbGxiYXIteC1yYWlsIC5wcy1zY3JvbGxiYXIteCB7XG4gIGhlaWdodDogNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmxlZ2VuZCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG4uc3RpY2t5LXBhbmVsYmFyIHtcbiAgcG9zaXRpb246IHN0aWNreTtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5O1xuICB0b3A6IDY0cHg7XG59XG5cbi5zdGlja3ktYnV0dG9uLWFjdGlvbiB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgYm90dG9tOiAwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBib3JkZXItdG9wOiAxcHggc29saWQgI2NjYztcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgei1pbmRleDogMTA7XG59XG5cbi5pY29uLWJoeXQge1xuICBoZWlnaHQ6IDE1cHg7XG4gIHRvcDogMnB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xufVxuXG4uc3RpY2t5LWRpdiB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgdG9wOiA1MHB4O1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcbiAgei1pbmRleDogOTk5O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufSIsIi5tZW51LWZvcm0td3JhcHBlciAubWF0LW1lbnUtY29udGVudCB7XG4gIHBhZGRpbmc6IDhweDtcbn1cblxuLnBvLXJpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZsZXgtZ3JvdzogMTtcbn1cblxuLmQtdW5zZXQge1xuICBkaXNwbGF5OiB1bnNldCAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1zcGxpdHRlciB7XG4gIGJvcmRlci13aWR0aDogMHB4ICFpbXBvcnRhbnQ7XG4gIG1pbi1oZWlnaHQ6IDEwMHB4O1xufVxuXG5rZW5kby1zcGxpdHRlciB1bCA+IGxpLnJpZ2h0LTAge1xuICBtYXJnaW4tcmlnaHQ6IDBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIHVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLmlubGluZV9iIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93IHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMik7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLXJvdzpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjI3LCAyNDIsIDI1MywgMC41KTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItZ3JvdXAtYiB7XG4gIGJvcmRlci10b3A6IDFweCByZ2JhKDAsIDAsIDAsIDAuMDgpIG91dHNldDtcbn1cblxuLnN0aWNreS1saXN0IHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiA5OTk5O1xufVxuXG4uc3RpY2t5LXRhYiB7XG4gIHRvcDogNjRweDtcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3kgIWltcG9ydGFudDtcbiAgei1pbmRleDogOTk5OTtcbiAgYmFja2dyb3VuZDogI2Y1ZjdmYTtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5zdGlja3ktdGFiIHVsIHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDA7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBtYXJnaW4tcmlnaHQ6IDI1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC1zdHJldGNoOiBub3JtYWw7XG4gIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gIGNvbG9yOiAjMmUzODRkO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtby10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtbXMtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICNmNWY3ZmE7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLmFjdGl2ZSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBib3JkZXItYm90dG9tOiA0cHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGk6aG92ZXIge1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucmVzb2x2ZWQge1xuICBjb2xvcjogIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucHJvY2Vzc2luZyB7XG4gIGNvbG9yOiAjZmY5ODAwO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS51bmZ1bGZpbGxlZCB7XG4gIGNvbG9yOiAjOWU5ZTllO1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCB7XG4gIGJvdHRvbTogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCAucHMtc2Nyb2xsYmFyLXgge1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG5sZWdlbmQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLnN0aWNreS1wYW5lbGJhciB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgdG9wOiA2NHB4O1xufVxuXG4uc3RpY2t5LWJ1dHRvbi1hY3Rpb24ge1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3k7XG4gIGJvdHRvbTogMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjY2M7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHotaW5kZXg6IDEwO1xufVxuXG4uaWNvbi1iaHl0IHtcbiAgaGVpZ2h0OiAxNXB4O1xuICB0b3A6IDJweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbn1cblxuLnN0aWNreS1kaXYge1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3k7XG4gIHRvcDogNTBweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7XG4gIHotaW5kZXg6IDk5OTtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGUgIWltcG9ydGFudDtcbn0iXX0= */\"","import {\n    Component,\n    OnInit,\n    ViewChild,\n    TemplateRef,\n    ChangeDetectorRef,\n    HostListener,\n    Input,\n    OnDestroy\n} from \"@angular/core\";\nimport icSearch from \"@iconify/icons-ic/twotone-search\";\nimport icHourglass from \"@iconify/icons-ic/twotone-hourglass-full\";\nimport icDone from \"@iconify/icons-ic/done\";\nimport icEdit from \"@iconify/icons-ic/sharp-edit\";\nimport icCode from \"@iconify/icons-ic/code\";\nimport icPerson from \"@iconify/icons-ic/person\";\nimport icWc from \"@iconify/icons-ic/wc\";\nimport icDate from \"@iconify/icons-ic/date-range\";\nimport icComment from \"@iconify/icons-ic/comment\";\nimport icPermContactCalendar from \"@iconify/icons-ic/perm-contact-calendar\";\nimport icPhone from \"@iconify/icons-ic/phone\";\nimport icLocation from \"@iconify/icons-ic/location-on\";\nimport icWork from \"@iconify/icons-ic/work\";\nimport icGroup from \"@iconify/icons-ic/group\";\nimport icTimeLine from \"@iconify/icons-ic/timeline\";\nimport icOffer from \"@iconify/icons-ic/local-offer\";\nimport icPlay from \"@iconify/icons-ic/play-circle-filled\";\nimport icMoreHoriz from \"@iconify/icons-ic/more-horiz\";\nimport icEventNote from \"@iconify/icons-ic/event-note\";\nimport icCancel from \"@iconify/icons-ic/cancel\";\nimport icAssignment from \"@iconify/icons-ic/assignment\";\nimport icSwap from \"@iconify/icons-ic/swap-horiz\";\nimport { stagger60ms } from \"src/@vex/animations/stagger.animation\";\nimport { fadeInUp400ms } from \"src/@vex/animations/fade-in-up.animation\";\nimport { MatDialog } from \"@angular/material\";\nimport { LanKhamHienTaiBenhNhanTiepTheoPopupComponent } from \"./lan-kham-hien-tai/lan-kham-hien-tai-benh-nhan-tiep-theo-popup/lan-kham-hien-tai-benh-nhan-tiep-theo-popup.component\";\nimport {\n    YeuCauKhamBenh,\n    SoLuongYeuCauHienTai,\n    BenhVienHangDoi,\n    ThongTinKhamPrevious,\n    YeuCauKhamBenhPrevious,\n    ListStatusSelectTabKhamBenh,\n    HangDoiKhamBenhInputViewModel,\n    KhamBenhTemplateDichVuKhamSucKhoe,\n    PhieuKhamBenhVo,\n    CapNhatPhieuDuongThai,\n} from \"../kham-benh.model\";\nimport { PanelBarItemModel } from \"@progress/kendo-angular-layout\";\nimport { DocumentType } from \"src/app/shared/enum/document-type.enum\";\nimport { GridComponent } from \"src/app/shared/component/grid/grid.component\";\nimport { ConfirmComponent } from \"src/app/shared/component/dialogs/confirm/confirm.component\";\nimport { CommonService } from \"src/app/core/utilities/common.helper\";\nimport { SystemMessage } from \"src/app/shared/configdata/system-message\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport {\n    LookupItemVo,\n    HoatDongNhanVien,\n} from \"src/app/shared/models/common.model\";\nimport { SecurityOperation } from \"src/app/shared/enum/security-operation.enum\";\nimport { AuthService } from \"src/app/core/services/auth.service\";\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { LanKhamHienTaiBenhNhanDangLamChiDinhPopupComponent } from \"./lan-kham-hien-tai/lan-kham-hien-tai-benh-nhan-dang-lam-chi-dinh-popup/lan-kham-hien-tai-benh-nhan-dang-lam-chi-dinh-popup.component\";\nimport {\n    EnumTrangThaiYeuCauTiepNhan,\n    TrangThaiYeuCauDichVuKyThuat,\n    TrangThaiYeuCauKhamBenh,\n} from \"src/app/shared/enum/kham-benh.enum\";\nimport { ApiError } from \"src/app/shared/models/api-error.model\";\nimport { PhieuKhamBenhVaoVienPopupComponent } from \"./lan-kham-hien-tai/phieu-kham-benh-vao-vien-popup/phieu-kham-benh-vao-vien-popup.component\";\nimport { PhauThuatThuThuatTuongTrinhComponent } from \"./lan-kham-hien-tai/phau-thuat-thu-thuat-tuong-trinh/phau-thuat-thu-thuat-tuong-trinh.component\";\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { BroadcastService } from \"src/app/core/services/broadcast.service\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { NghiHuongBhytConfirmPopupComponent } from './lan-kham-hien-tai/nghi-huong-bhyt-confirm-popup/nghi-huong-bhyt-confirm-popup.component';\nimport { LanKhamHienTaiChuyenKhamComponent } from './lan-kham-hien-tai/lan-kham-hien-tai-chuyen-kham/lan-kham-hien-tai-chuyen-kham.component';\nimport { HinhThucKhamBenh } from \"src/app/shared/enum/kham-doan.enum\";\nimport { Location } from \"@angular/common\";\nimport { GroupDescriptor } from \"@progress/kendo-data-query\";\nimport { LanKhamHienTaiChuyenPhongKhamPopupComponent } from \"../lan-kham-hien-tai/lan-kham-hien-tai-chuyen-phong-kham-popup/lan-kham-hien-tai-chuyen-phong-kham-popup.component\";\nimport { KhamBenhThongTinDoiTuongPopupComponent } from \"./kham-benh-thong-tin-doi-tuong-popup/kham-benh-thong-tin-doi-tuong-popup.component\";\nimport { NgayDuongThaiXacNhanPopupComponent } from \"./ngay-duong-thai-xac-nhan-popup/ngay-duong-thai-xac-nhan-popup.component\";\nimport { KetLuanNguoiBenhHangDoiChungPopupComponent } from \"./ket-luan-nguoi-benh-hang-doi-chung-popup/ket-luan-nguoi-benh-hang-doi-chung-popup.component\";\nimport { KhamBenhDichVuChuaThucHienPopupComponent } from \"./kham-benh-dich-vu-chua-thuc-hien-popup/kham-benh-dich-vu-chua-thuc-hien-popup.component\";\n\ndeclare const Waypoint: any;\ndeclare var jQuery: any;\ndeclare var window: Window & typeof globalThis;\n@Component({\n    selector: \"app-kham-benh\",\n    templateUrl: \"./kham-benh.component.html\",\n    styleUrls: [\"./kham-benh.component.scss\"],\n    animations: [stagger60ms, fadeInUp400ms],\n})\nexport class KhamBenhComponent implements OnInit, OnDestroy {\n    icSearch = icSearch;\n    icHourglass = icHourglass;\n    icDone = icDone;\n    icEdit = icEdit;\n    icCode = icCode;\n    icPerson = icPerson;\n    icWc = icWc;\n    icDate = icDate;\n    icComment = icComment;\n    icPhone = icPhone;\n    icPermContactCalendar = icPermContactCalendar;\n    icLocation = icLocation;\n    icWork = icWork;\n    icGroup = icGroup;\n    icTimeLime = icTimeLine;\n    icOffer = icOffer;\n    icPlay = icPlay;\n    icMoreHoriz = icMoreHoriz;\n    icEventNote = icEventNote;\n    icCancel = icCancel;\n    icAssignment = icAssignment;\n    icSwap = icSwap;\n    searchBenhNhan: string = null;\n    currentId: number = null; // giá trị dùng để lấy dữ iệu liên quan người bệnh\n    tabActive: string = \"card0\";\n    templateKhoaPhong: string = null;\n    tenKhoaPhong: string = null;\n\n    phongKhamIdTruoc: number;\n    phongKhamIdSau: number;\n    checkPhongKhamDaChon: boolean = true;\n    arrPhongKham: any[] = [];\n\n    // biến tạm gán value\n    ChucVu: string = null;\n    HoTen: string = null;\n\n    benhNhanHienTai: BenhVienHangDoi;\n    phieuKhamBenhVo: PhieuKhamBenhVo = new PhieuKhamBenhVo();\n    arrBenhNhanChuanBiKham: Array<YeuCauKhamBenh> = [];\n    arrDoChiSoSinhTon: any[] = [];\n\n    documentType: DocumentType = DocumentType.KhamBenh;\n    @ViewChild(\"chuanBiKhamActionTemplate\", { static: true })\n    chuanBiKhamActionTemplate: TemplateRef<any>;\n    @ViewChild(\"maTNTemplate\", { static: true }) maTNTemplate: TemplateRef<any>;\n    @ViewChild(\"hoTenTemplate\", { static: true }) hoTenTemplate: TemplateRef<any>;\n    @ViewChild(\"tienTrinhTemplate\", { static: true }) tienTrinhTemplate: TemplateRef<any>;\n    @ViewChild(\"ChuanBiKham\", { static: true }) gridChuanBiKham: GridComponent;\n    @ViewChild(\"DangDoiKetLuan\", { static: true }) gridDoiKetLuan: GridComponent;\n    @ViewChild(PhauThuatThuThuatTuongTrinhComponent, { static: false })\n    phauThuatThuThuatComponent;\n    @ViewChild(\"ngayKhamBenhGroupHeaderTemplate\", { static: true }) ngayKhamBenhGroupHeaderTemplate: TemplateRef<any>;\n    @ViewChild(\"maTNHangDoiChungTemplate\", { static: true }) maTNHangDoiChungTemplate: TemplateRef<any>;\n    @ViewChild(\"hoTenHangDoiChungTemplate\", { static: true }) hoTenHangDoiChungTemplate: TemplateRef<any>;\n\n    @ViewChild(\"maTNHangDoiChungKetLuanTemplate\", { static: true }) maTNHangDoiChungKetLuanTemplate: TemplateRef<any>;\n    @ViewChild(\"hoTenHangDoiChungKetLuanTemplate\", { static: true }) hoTenHangDoiChungKetLuanTemplate: TemplateRef<any>;\n    gridChuanBiKhamColumns: any[] = [];\n    dataSourceChuanBiKham = {\n        data: [],\n        total: 0,\n    };\n\n    gridChuanBiKhamHangDoiChungColumns: any[] = [];\n    dataSourceChuanBiKhamHangDoiChung = {\n        data: [],\n        total: 0,\n    };\n\n    gridChoKetLuanHangDoiChungColumns: any[] = [];\n    dataSourceChoKetLuanHangDoiChung = {\n        data: [],\n        total: 0,\n    };\n\n    gridLamChiDinhColumns: any[] = [];\n    dataSourceLamChiDinh = {\n        data: [],\n        total: 0,\n    };\n\n    gridDoiKetLuanColumns: any[] = [];\n    dataSourceDoiKetLuan = {\n        data: [],\n        total: 0,\n    };\n\n    gridChuanBiKhamKhoaKhamNhieuColumns: any[] = [];\n    gridDoiKetLuanKhoaKhamNhieuColumns: any[] = [];\n    //========================================\n    phongKhamBenh: HoatDongNhanVien;\n    phongKhamHienTai: LookupItemVo = {\n        DisplayName: null,\n        KeyId: Number(this.authService.getPhongLamViecId()),\n    };\n\n    slYeuCauHienTai: SoLuongYeuCauHienTai = new SoLuongYeuCauHienTai();\n\n    yeuCauDichVuKyThuatDaHoanThanh: TrangThaiYeuCauDichVuKyThuat =\n        TrangThaiYeuCauDichVuKyThuat.DaThucHien;\n    yeuCauKhamBenhDangKetLuan: TrangThaiYeuCauKhamBenh =\n        TrangThaiYeuCauKhamBenh.DangDoiKetLuan;\n    maTiepNhan: number = 0;\n    validationKetLuanErrors: any;\n    thongTinKhamTemp: ThongTinKhamPrevious;\n    yeuCauKhamBenhPrevious: YeuCauKhamBenhPrevious;\n    keyPrev: number = null;\n\n    // cần update\n    lstStatusSelectTabKhambenh: ListStatusSelectTabKhamBenh = new ListStatusSelectTabKhamBenh();\n    isDuoi6Tuoi: boolean = false;\n    Duoi6TuoiDisplay: string = \"\";\n    subscription: Subscription;\n    isSelectedParentTabKhamBenh: boolean = true;\n    modelQRCode: any;\n    isScanF1: boolean = false;\n\n    isKhamDoan: boolean = false;\n    isKhamDoanTatCa: boolean = false;\n    loginNoiVien: HinhThucKhamBenh = HinhThucKhamBenh.NoiVien;\n    hinhThucKham: HinhThucKhamBenh = HinhThucKhamBenh.NoiVien;\n    baseRoute: string = \"/kham-benh\";\n    isLoadingKhamDoan: boolean = false;\n\n    arrNgayCoBenhNhanDuocChon: Date[] = [];\n    arrBenhNhanChuyenPhongId: number[] = [];\n\n    groupHangCho: GroupDescriptor[] = [{ field: 'NgayKhamBenh', dir: 'asc', aggregates: [] }];\n\n    searchStringHangDoiHienTai: string = \"\";\n\n    showHangDoiChung: boolean = false;\n\n    //BVHD-3574\n    LaChuyenKhoaKhamNhieu: boolean = false;\n    showChiTietHanhChinh: boolean = false;\n    //BVHD-3698- giấy nghỉ dưỡng thai\n    cauHinhDichVuKhamThai = 14;\n    yeuCauTiepNhanDangThucHien: EnumTrangThaiYeuCauTiepNhan = EnumTrangThaiYeuCauTiepNhan.DangThucHien;\n\n    constructor(\n        private router: Router,\n        private dialog: MatDialog,\n        private ref: ChangeDetectorRef,\n        private broadcastService: BroadcastService,\n        private apiService: ApiService,\n        private authService: AuthService,\n        private notificationService: NotificationService,\n        private route: ActivatedRoute,\n        private location:Location\n    ) { }\n\n    currentUser: any;\n    popupLoadingData: any;\n    ngOnInit() {\n        this.closePopupLoadingData();\n        this.benhNhanHienTai = new BenhVienHangDoi();\n\n        // cập nhật cho phần khám đoàn\n        // cập nhật lại: các hàm get thông tin yêu cầu khám bệnh, thông tin hành chính, hàng đợi, v\n                    //template khám các cơ quan, v\n                    //phím tắt phần mở tab kết luận của khám đoàn và title hot key\n                    // màn hình lịch sử v\n\n        // kiểm tra trường hợp login vào ngoại viện\n        let menuInfo = this.authService.getAccessUser();\n        this.hinhThucKham = menuInfo.HinhThucKhamBenh;\n        if (this.hinhThucKham == HinhThucKhamBenh.KhamDoanNgoaiVien) {\n            this.location.replaceState(this.baseRoute + '?IsKhamDoan=true');\n            this.isKhamDoan = true;\n        }\n        else {\n            this.route.queryParams.subscribe(param => {\n                this.isKhamDoan = param['IsKhamDoan'] == 'true';\n                this.isKhamDoanTatCa = param['IsKhamDoanTatCa'] == 'true';\n            });\n        }\n        if(this.isKhamDoan)\n        {\n            this.documentType = DocumentType.KhamDoanKhamBenh;\n        }\n        // BVHD-3574 cập nhật 22/11/2021: hiển thị thông tin bệnh nhân khám theo dịch vụ chứ ko phải theo khoa\n        // else\n        // {\n        //     this.kiemTraKhoaHienTaiCoNhieuNguoiBenh();\n        // }\n        //================================================================\n\n        this.gridChuanBiKhamColumns = [\n            {\n                Field: \"MaYeuCauTiepNhan\",\n                Title: \"Mã TN\",\n                Width: 60,\n                Sortable: false,\n                Template: this.maTNTemplate\n            },\n            {\n                Field: \"HoTen\",\n                Title: \"Họ tên\",\n                MinWidth: 100,\n                Sortable: false,\n                ShowTooltip: true,\n                Template: this.hoTenTemplate\n            },\n            { Field: \"TenGioiTinh\", Title: \"GT\", Width: 35, Sortable: false },\n            // { Field: \"Tuoi\", Title: \"Tuổi\", Width: 30, Sortable: true },\n            { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 35, Sortable: false },\n            //{ Field: \"TienTrinh\", Title: \"DV\", Width: 30, Sortable: false, Template: this.tienTrinhTemplate, Hidden: !this.isKhamDoan },\n            //{ Field: \"Action\", Title: \"\", Width: 65, Template: this.chuanBiKhamActionTemplate }\n            { Field: \"NgayKhamBenh\", Title: \"Ngày khám bệnh\", Width: 100, Sortable: false, Hidden: true, TemplateGroupHeader: this.ngayKhamBenhGroupHeaderTemplate }\n        ];\n\n        this.gridChuanBiKhamHangDoiChungColumns = [\n            {\n                Field: \"MaYeuCauTiepNhan\",\n                Title: \"Mã TN\",\n                Width: 60,\n                Sortable: false,\n                Template: this.maTNHangDoiChungTemplate\n            },\n            {\n                Field: \"HoTen\",\n                Title: \"Họ tên\",\n                MinWidth: 100,\n                Sortable: false,\n                ShowTooltip: true,\n                Template: this.hoTenHangDoiChungTemplate\n            },\n            { Field: \"TenGioiTinh\", Title: \"GT\", Width: 35, Sortable: false },\n            // { Field: \"Tuoi\", Title: \"Tuổi\", Width: 30, Sortable: true },\n            { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 35, Sortable: false },\n            //{ Field: \"TienTrinh\", Title: \"DV\", Width: 30, Sortable: false, Template: this.tienTrinhTemplate, Hidden: !this.isKhamDoan },\n            { Field: \"NgayKhamBenh\", Title: \"Ngày khám bệnh\", Width: 100, Sortable: false, Hidden: true, TemplateGroupHeader: this.ngayKhamBenhGroupHeaderTemplate }\n        ];\n\n        this.gridChoKetLuanHangDoiChungColumns = [\n            {\n                Field: \"MaYeuCauTiepNhan\",\n                Title: \"Mã TN\",\n                Width: 60,\n                Sortable: false,\n                Template: this.maTNHangDoiChungKetLuanTemplate\n            },\n            {\n                Field: \"HoTen\",\n                Title: \"Họ tên\",\n                MinWidth: 100,\n                Sortable: false,\n                ShowTooltip: true,\n                Template: this.hoTenHangDoiChungKetLuanTemplate\n            },\n            { Field: \"TenGioiTinh\", Title: \"GT\", Width: 35, Sortable: false },\n            // { Field: \"Tuoi\", Title: \"Tuổi\", Width: 30, Sortable: true },\n            { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 35, Sortable: false },\n            //{ Field: \"TienTrinh\", Title: \"DV\", Width: 30, Sortable: false, Template: this.tienTrinhTemplate, Hidden: !this.isKhamDoan },\n            { Field: \"NgayKhamBenh\", Title: \"Ngày khám bệnh\", Width: 100, Sortable: false, Hidden: true, TemplateGroupHeader: this.ngayKhamBenhGroupHeaderTemplate }\n        ];\n\n        this.gridLamChiDinhColumns = [\n            {\n                Field: \"MaYeuCauTiepNhan\",\n                Title: \"Mã TN\",\n                Width: 60,\n                Sortable: false,\n                Template: this.maTNTemplate\n            },\n            {\n                Field: \"HoTen\",\n                Title: \"Họ tên\",\n                MinWidth: 100,\n                Sortable: false,\n                ShowTooltip: true,\n                Template: this.hoTenTemplate\n            },\n            { Field: \"TenGioiTinh\", Title: \"GT\", Width: 35, Sortable: false },\n            // { Field: \"Tuoi\", Title: \"Tuổi\", Width: 30, Sortable: true },\n            { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 35, Sortable: false },\n            { Field: \"NgayKhamBenh\", Title: \"Ngày khám bệnh\", Width: 100, Sortable: false, Hidden: true, TemplateGroupHeader: this.ngayKhamBenhGroupHeaderTemplate }\n        ];\n\n        this.gridDoiKetLuanColumns = [\n            {\n                Field: \"MaYeuCauTiepNhan\",\n                Title: \"Mã TN\",\n                Width: 60,\n                Sortable: false,\n                Template: this.maTNTemplate\n            },\n            {\n                Field: \"HoTen\",\n                Title: \"Họ tên\",\n                MinWidth: 100,\n                Sortable: false,\n                ShowTooltip: true,\n                Template: this.hoTenTemplate\n            },\n            { Field: \"TenGioiTinh\", Title: \"GT\", Width: 35, Sortable: false },\n            // { Field: \"Tuoi\", Title: \"Tuổi\", Width: 30, Sortable: true },\n            { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 35, Sortable: false },\n            //{ Field: \"TienTrinh\", Title: \"DV\", Width: 30, Sortable: false, Template: this.tienTrinhTemplate, Hidden: !this.isKhamDoan },\n            { Field: \"NgayKhamBenh\", Title: \"Ngày khám bệnh\", Width: 100, Sortable: false, Hidden: true, TemplateGroupHeader: this.ngayKhamBenhGroupHeaderTemplate }\n        ];\n\n\n        //BVHD-3574\n        this.gridChuanBiKhamKhoaKhamNhieuColumns = [\n            { Field: \"HoTen\", Title: \"Họ tên\", MinWidth: 100, Sortable: false, ShowTooltip: true, Template: this.hoTenTemplate},\n            { Field: \"TenGioiTinh\", Title: \"GT\", Width: 36, Sortable: false },\n            { Field: \"NgayKhamBenh\", Title: \"Ngày khám bệnh\", Width: 100, Sortable: false, Hidden: true, TemplateGroupHeader: this.ngayKhamBenhGroupHeaderTemplate }\n        ];\n\n        this.gridDoiKetLuanKhoaKhamNhieuColumns = [\n            { Field: \"HoTen\", Title: \"Họ tên\", MinWidth: 100, Sortable: false, ShowTooltip: true, Template: this.hoTenTemplate},\n            { Field: \"TenGioiTinh\", Title: \"GT\", Width: 36, Sortable: false },\n            { Field: \"NgayKhamBenh\", Title: \"Ngày khám bệnh\", Width: 100, Sortable: false, Hidden: true, TemplateGroupHeader: this.ngayKhamBenhGroupHeaderTemplate }\n        ];\n\n        //this.getThongTinNhanVien();\n        //================================================================\n\n\n        //this.phongKhamHienTai.KeyId = Number(this.authService.getPhongLamViecId());\n        this.chonPhongKham(this.phongKhamHienTai.KeyId);\n    }\n\n    getSoLuongYeuCauHienTai(phongKhamHienTaiId: number) {\n        // this.apiService\n        //     .get<SoLuongYeuCauHienTai>(\n        //         \"KhamBenh/GetSoLuongYeuCauHienTai?phongKhamId=\" + phongKhamHienTaiId + \"&laKhamDoan=\" + this.isKhamDoan\n        //     )\n        //     .subscribe((resultData) => {\n        //         if (resultData !== undefined && resultData != null) {\n        //             this.slYeuCauHienTai = resultData;\n\n        //             this.refeshDataGridHangDoi(phongKhamHienTaiId);\n        //             // //get data ds chờ khám\n        //             // this.getDanhSachBenhNhanChoKhamHienTai(phongKhamHienTaiId);\n\n        //             // // get data ds làm chỉ định\n        //             // this.getDanhSachBenhNhanDangLamChiDinhHienTai(phongKhamHienTaiId);\n\n        //             // // get data ds đợi kết luận\n        //             // this.getDanhSachBenhNhanDoiKetLuanHienTai(phongKhamHienTaiId);\n        //         } else {\n        //             this.slYeuCauHienTai = new SoLuongYeuCauHienTai();\n        //         }\n        //     });\n\n        this.slYeuCauHienTai = new SoLuongYeuCauHienTai();\n        this.refeshDataGridHangDoi(phongKhamHienTaiId);\n    }\n\n    onResetTuongTrinh() {\n        const phongBenhVienId = this.authService.getPhongLamViecId();\n        const nhanVienId = this.authService.getAccessUser().Id;\n        const yeuCauKhamBenhId = this.benhNhanHienTai.YeuCauKhamBenhId;\n        this.phauThuatThuThuatComponent.getListPhauThuatThuThuatTemplate(\n            phongBenhVienId,\n            nhanVienId,\n            yeuCauKhamBenhId\n        );\n        this.benhNhanHienTai.YeuCauKhamBenh.IsChangePhauThuat = false;\n    }\n\n    onSaveTuongTrinh() {\n        this.phauThuatThuThuatComponent.SaveTuongTrinh();\n        this.benhNhanHienTai.YeuCauKhamBenh.IsChangePhauThuat = false;\n    }\n\n    // áp dụng hàng chờ mới cho màn hình khám bệnh: chỉ có hàng chờ khám và kết luận\n    refeshDataGridHangDoi(phongKhamHienTaiId: number, searchString: string = \"\") {\n        // get data ds chờ khám\n        this.getDanhSachBenhNhanChoKhamHienTai(phongKhamHienTaiId, searchString);\n\n        // get data ds làm chỉ định\n        // if(!this.LaChuyenKhoaKhamNhieu)\n        // {\n        // this.getDanhSachBenhNhanDangLamChiDinhHienTai(phongKhamHienTaiId, searchString);\n        // }\n\n        // get data ds đợi kết luận\n        this.getDanhSachBenhNhanDoiKetLuanHienTai(phongKhamHienTaiId, searchString);\n\n        // get data ds chờ khám của hàng chờ chung\\\n        if(this.showHangDoiChung)\n        {\n            this.getDanhSachBenhNhanChoKhamHangDoiChung(phongKhamHienTaiId, searchString);\n            if(!this.isKhamDoan)\n            {\n                this.getDanhSachBenhNhanChoKetLuanHangDoiChung(phongKhamHienTaiId, searchString);\n            }\n        }\n\n        this.searchStringHangDoiHienTai = searchString;\n    }\n    getDanhSachBenhNhanChoKhamHienTai(\n        phongKhamId: number,\n        searchString: string = \"\"\n    ) {\n        this.apiService\n            .get<Array<YeuCauKhamBenh>>(\n                \"KhamBenh/GetDanhSachChoKhamHienTaiAsync?phongKhamHienTaiId=\" +\n                phongKhamId +\n                \"&searchString=\" +\n                searchString +\n                \"&laKhamDoan=\" +\n                this.isKhamDoan\n            )\n            .subscribe((resultData) => {\n                if (resultData !== undefined && resultData != null) {\n                    // this.dataSourceChuanBiKham.data = resultData;\n\n                    this.dataSourceChuanBiKham = {\n                        data: resultData,\n                        total: resultData.length,\n                    };\n                    if (this.dataSourceChuanBiKham.data.length != this.slYeuCauHienTai.ChuanBiKham) {\n                        this.slYeuCauHienTai.ChuanBiKham = this.dataSourceChuanBiKham.data.length;\n                    }\n                } else {\n                    // this.dataSourceChuanBiKham.data = null;\n                    this.dataSourceChuanBiKham = {\n                        data: [],\n                        total: 0,\n                    };;\n                    this.slYeuCauHienTai.ChuanBiKham = 0;\n                }\n            });\n    }\n\n    getDanhSachBenhNhanDangLamChiDinhHienTai(\n        phongKhamId: number,\n        searchString: string = \"\"\n    ) {\n        if (!this.isKhamDoan) {\n            this.apiService\n                .get<Array<YeuCauKhamBenh>>(\n                    \"KhamBenh/GetDanhSachLamChiDinhHienTaiAsync?phongKhamHienTaiId=\" +\n                    phongKhamId +\n                    \"&searchString=\" +\n                    searchString\n                )\n                .subscribe((resultData) => {\n                    if (resultData !== undefined && resultData != null) {\n                        // this.dataSourceLamChiDinh.data = resultData;\n\n                        this.dataSourceLamChiDinh = {\n                            data: resultData,\n                            total: resultData.length,\n                        };\n                        if (this.dataSourceLamChiDinh.data.length != this.slYeuCauHienTai.DangLamChiDinh) {\n                            this.slYeuCauHienTai.DangLamChiDinh = this.dataSourceLamChiDinh.data.length;\n                        }\n                    } else {\n                        // this.dataSourceLamChiDinh.data = null;\n\n                        this.dataSourceLamChiDinh = {\n                            data: [],\n                            total: 0,\n                        };\n                        this.slYeuCauHienTai.DangLamChiDinh = 0;\n                    }\n                });\n        }\n    }\n\n    getDanhSachBenhNhanDoiKetLuanHienTai(\n        phongKhamId: number,\n        searchString: string = \"\"\n    ) {\n        //GetDanhSachDoiKetLuanHienTaiAsync\n        this.apiService\n            .get<Array<YeuCauKhamBenh>>(\n                \"KhamBenh/GetDanhSachDoiKetLuanHienTaiAsync?phongKhamHienTaiId=\" +\n                phongKhamId +\n                \"&searchString=\" +\n                searchString +\n                \"&laKhamDoan=\" +\n                this.isKhamDoan\n            )\n            .subscribe((resultData) => {\n                if (resultData !== undefined && resultData != null) {\n                    // this.dataSourceDoiKetLuan.data = resultData;\n\n                    this.dataSourceDoiKetLuan = {\n                        data: resultData,\n                        total: resultData.length,\n                    };\n                    if (this.dataSourceDoiKetLuan.data.length != this.slYeuCauHienTai.DangDoiKetLuan) {\n                        this.slYeuCauHienTai.DangDoiKetLuan = this.dataSourceDoiKetLuan.data.length;\n                    }\n                } else {\n                    // this.dataSourceDoiKetLuan.data = null;\n\n                    this.dataSourceDoiKetLuan = {\n                        data: [],\n                        total: 0,\n                    };;\n                    this.slYeuCauHienTai.DangDoiKetLuan = 0;\n                }\n            });\n    }\n\n    refreshHangDoi(phongKhamId: number) {\n        // get số lượng yêu cầu hiện tại theo phòng\n        this.getSoLuongYeuCauHienTai(phongKhamId);\n    }\n\n    chonPhongKham(item: any) {\n        if (this.checkPhongKhamDaChon) {\n            this.arrPhongKham.push(item);\n            //Load lần đầu tiên chạy chon mặc đinh phòng và người bệnh đang khám\n            if (item) {\n                this.refreshHangDoi(item);\n                // xử lý get người bệnh hiện tại\n                this.getBenhNhanDangKham(item, this.benhNhanHienTai.Id);\n            }\n            this.checkPhongKhamDaChon = false;\n        }\n    }\n\n    selectionChangePhongKham(item: any) {\n        this.ChuyenPhongKham(item);\n    }\n\n    ngAfterContentInit() {\n        this.subscription = this.broadcastService.on(\"ChuyenPhong\", (event) => {\n            if (event.message) {\n                this.ChuyenPhongNoiBo(event.message);\n            }\n        });\n    }\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n\n    ChuyenPhongNoiBo(item: any) {\n        //nếu nó cố tình chọn cùng phòng hiện tại ko cho\n        let phongBenhVienId = this.authService.getPhongLamViecId();\n        if (phongBenhVienId !== item.KeyId) {\n            if (this.benhNhanHienTai.Id != 0 && (this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan || this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh)) {\n                if(this.isKhamDoan)\n                {\n                    if (this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh) {\n                        this.saveChangeData(null);\n                    }\n                    else\n                    {\n                        this.xuLyChuyenPhongKham(item);\n                    }\n                }\n                else\n                {\n                this.benhNhanHienTai.validationErrors = null;\n                this.validationKetLuanErrors = [];\n                //this.ref.markForCheck();\n                this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuData = this.processDynamicComponent();\n                this.loadingPage();\n                this.apiService\n                    .post<any>(\"KhamBenh/LuuThongTinKhamBenh\", this.benhNhanHienTai)\n                    .subscribe(\n                        (resultData) => {\n                            this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = false;\n\n                            this.benhNhanHienTai.isShowPanelItemKhamBenh = false;\n                            this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs =\n                                resultData.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs;\n                            this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets =\n                                resultData.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets;\n                            this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs =\n                                resultData.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs;\n                            this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs =\n                                resultData.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs;\n                            this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus =\n                                resultData.YeuCauTiepNhan.KetQuaSinhHieus;\n\n                            if (resultData.YeuCauKhamBenh.IcdchinhId != 0 && resultData.YeuCauKhamBenh.IcdchinhId != null) {\n                                this.benhNhanHienTai.YeuCauKhamBenh.IcdchinhId =\n                                    resultData.YeuCauKhamBenh.IcdchinhId;\n                            }\n                            if (resultData.YeuCauKhamBenh.TenICDChinh != null && resultData.YeuCauKhamBenh.TenICDChinh != \"\") {\n                                this.benhNhanHienTai.YeuCauKhamBenh.TenICDChinh =\n                                    resultData.YeuCauKhamBenh.TenICDChinh;\n                            }\n                            if (resultData.YeuCauKhamBenh.GhiChuICDChinh != null && resultData.YeuCauKhamBenh.GhiChuICDChinh != \"\") {\n                                this.benhNhanHienTai.YeuCauKhamBenh.GhiChuICDChinh =\n                                    resultData.YeuCauKhamBenh.GhiChuICDChinh;\n                            }\n\n                            if (this.benhNhanHienTai.YeuCauKhamBenh.CoKeToa != true && this.benhNhanHienTai.YeuCauKhamBenh.KhongKeToa != true) {\n                                this.benhNhanHienTai.YeuCauKhamBenh.CoKeToa = null;\n                            }\n                            this.ganThongTinKhamTamThoi();\n\n                            // xử lý lưu tab chẩn đoán\n                            this.benhNhanHienTai.YeuCauKhamBenh.CheckValidator = false;\n                            this.benhNhanHienTai.YeuCauKhamBenh.CoInKeToa = false;\n                            this.apiService\n                                .post<any>(\"KhamBenh/LuuKetLuan\", this.benhNhanHienTai.YeuCauKhamBenh)\n                                .subscribe(\n                                    (res) => {\n                                        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs = res.YeuCauKhamBenhICDKhacs;\n                                        this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n                                        this.xuLyChuyenPhongKham(item);\n                                    },\n                                    (err: ApiError) => {\n                                        this.validationKetLuanErrors = err.ValidationErrors;\n                                        if (err.Message != \"Validation Failed\") {\n                                            this.notificationService.showError(err.Message);\n                                        } else if (\n                                            err.Message == \"Validation Failed\" &&\n                                            !this.lstStatusSelectTabKhambenh.selectedTabChanDoan\n                                        ) {\n                                            this.unSelectedTab();\n                                            this.lstStatusSelectTabKhambenh.selectedTabChanDoan = true;\n                                            this.notificationService.showError(\n                                                \"Yêu cầu nhập đầy đủ các trường bắt buộc trong tab chẩn đoán\"\n                                            );\n                                        }\n                                        this.phongKhamHienTai.KeyId = this.arrPhongKham[\n                                            this.arrPhongKham.length - 1\n                                        ];\n                                        this.closePopupLoadingData();\n                                    }\n                                );\n                        },\n                        (err: ApiError) => {\n                            this.benhNhanHienTai.validationErrors = err.ValidationErrors;\n                            if (err.Message != \"Validation Failed\") {\n                                this.notificationService.showError(err.Message);\n                            } else if (\n                                err.Message == \"Validation Failed\" &&\n                                !this.lstStatusSelectTabKhambenh.selectedTabKhamBenh\n                            ) {\n                                this.unSelectedTab();\n                                this.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n                                this.notificationService.showError(\n                                    \"Yêu cầu nhập đầy đủ các trường bắt buộc trong tab khám bệnh\"\n                                );\n                            }\n                            this.phongKhamHienTai.KeyId = this.arrPhongKham[\n                                this.arrPhongKham.length - 1\n                            ];\n                            this.closePopupLoadingData();\n                        }\n                    );\n                    \n                }\n            } else {\n                this.xuLyChuyenPhongKham(item);\n            }\n        } else {\n            this.closePopupLoadingData();\n            this.broadcastService.broadcast({\n                name: \"ChuyenPhongThanhCong\",\n                message: true,\n            });\n        }\n\n    }\n\n    ChuyenPhongKham(item: any) {\n        if (\n            this.authService.hasPermission(\n                this.documentType,\n                SecurityOperation.Update\n            )\n        ) {\n            var self = this;\n            this.dialog\n                .open(ConfirmComponent, {\n                    disableClose: false,\n                    width: \"400px\",\n                    data: {\n                        Title: \"Xác nhận\",\n                        Message: \"Bạn có muốn chuyển phòng khám bệnh không?\",\n                        ButtonYes: \"CÓ\",\n                        ButtonNo: \"KHÔNG\",\n                    },\n                })\n                .afterClosed()\n                .subscribe((result) => {\n                    // console.log('ChuyenPhongKham');\n                    /* result is a string:Yes,No,No answer*/\n                    var hasResult = false;\n                    if (result == \"Yes\") {\n                        hasResult = false;\n\n                        // xử lý lưu thông tin người bệnh đang khám vào chuyển phòng khám\n                        if (self.benhNhanHienTai.Id != 0) {\n                            self.benhNhanHienTai.validationErrors = null;\n                            self.validationKetLuanErrors = [];\n                            self.ref.detectChanges();\n\n                            self.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuData = self.processDynamicComponent();\n                            self.loadingPage();\n                            self.apiService\n                                .post<any>(\"KhamBenh/LuuThongTinKhamBenh\", self.benhNhanHienTai)\n                                .subscribe(\n                                    (resultData) => {\n                                        self.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = false;\n\n                                        self.benhNhanHienTai.isShowPanelItemKhamBenh = false;\n                                        self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs =\n                                            resultData.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs;\n                                        self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets =\n                                            resultData.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets;\n                                        self.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs =\n                                            resultData.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs;\n                                        self.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs =\n                                            resultData.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs;\n                                        self.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus =\n                                            resultData.YeuCauTiepNhan.KetQuaSinhHieus;\n\n                                        if (resultData.YeuCauKhamBenh.IcdchinhId != 0 && resultData.YeuCauKhamBenh.IcdchinhId != null) {\n                                            self.benhNhanHienTai.YeuCauKhamBenh.IcdchinhId =\n                                                resultData.YeuCauKhamBenh.IcdchinhId;\n                                        }\n                                        if (resultData.YeuCauKhamBenh.TenICDChinh != null && resultData.YeuCauKhamBenh.TenICDChinh != \"\") {\n                                            self.benhNhanHienTai.YeuCauKhamBenh.TenICDChinh =\n                                                resultData.YeuCauKhamBenh.TenICDChinh;\n                                        }\n                                        if (resultData.YeuCauKhamBenh.GhiChuICDChinh != null && resultData.YeuCauKhamBenh.GhiChuICDChinh != \"\") {\n                                            self.benhNhanHienTai.YeuCauKhamBenh.GhiChuICDChinh =\n                                                resultData.YeuCauKhamBenh.GhiChuICDChinh;\n                                        }\n\n                                        if (self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa != true && self.benhNhanHienTai.YeuCauKhamBenh.KhongKeToa != true) {\n                                            self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa = null;\n                                        }\n                                        self.ganThongTinKhamTamThoi();\n\n                                        // xử lý lưu tab chẩn đoán\n                                        self.benhNhanHienTai.YeuCauKhamBenh.CheckValidator = false;\n                                        self.benhNhanHienTai.YeuCauKhamBenh.CoInKeToa = false;\n                                        self.apiService\n                                            .post<any>(\"KhamBenh/LuuKetLuan\", self.benhNhanHienTai.YeuCauKhamBenh)\n                                            .subscribe(\n                                                (res) => {\n                                                    self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs = res.YeuCauKhamBenhICDKhacs;\n                                                    hasResult = true;\n                                                    self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n                                                    self.xuLyChuyenPhongKham(item);\n                                                },\n                                                (err: ApiError) => {\n                                                    self.validationKetLuanErrors = err.ValidationErrors;\n                                                    if (err.Message != \"Validation Failed\") {\n                                                        self.notificationService.showError(err.Message);\n                                                    } else if (\n                                                        err.Message == \"Validation Failed\" &&\n                                                        !self.lstStatusSelectTabKhambenh.selectedTabChanDoan\n                                                    ) {\n                                                        self.unSelectedTab();\n                                                        self.lstStatusSelectTabKhambenh.selectedTabChanDoan = true;\n                                                        self.notificationService.showError(\n                                                            \"Yêu cầu nhập đầy đủ các trường bắt buộc trong tab chẩn đoán\"\n                                                        );\n                                                    }\n                                                    self.phongKhamHienTai.KeyId =\n                                                        self.arrPhongKham[self.arrPhongKham.length - 1];\n                                                    self.closePopupLoadingData();\n                                                }\n                                            );\n                                    },\n                                    (err: ApiError) => {\n                                        self.benhNhanHienTai.validationErrors =\n                                            err.ValidationErrors;\n                                        if (err.Message != \"Validation Failed\") {\n                                            self.notificationService.showError(err.Message);\n                                        } else if (\n                                            err.Message == \"Validation Failed\" &&\n                                            !self.lstStatusSelectTabKhambenh.selectedTabKhamBenh\n                                        ) {\n                                            self.unSelectedTab();\n                                            self.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n                                            self.notificationService.showError(\n                                                \"Yêu cầu nhập đầy đủ các trường bắt buộc trong tab khám bệnh\"\n                                            );\n                                        }\n                                        self.phongKhamHienTai.KeyId =\n                                            self.arrPhongKham[self.arrPhongKham.length - 1];\n                                        self.closePopupLoadingData();\n                                    }\n                                );\n                        } else {\n                            self.xuLyChuyenPhongKham(item);\n                        }\n                    } else {\n                        if (result == \"No\") {\n                            hasResult = false;\n                        }\n                        self.phongKhamHienTai.KeyId =\n                            self.arrPhongKham[self.arrPhongKham.length - 1];\n                        //self.chonPhongKham(self.arrPhongKham[self.arrPhongKham.length - 1])\n                    }\n                    if (hasResult) {\n                        self.phongKhamBenh = {} as HoatDongNhanVien;\n                        self.LuuHoatDongNhanVien(self.phongKhamBenh);\n                    }\n                });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    xuLyChuyenPhongKham(item) {\n        this.phongKhamHienTai.KeyId = item.KeyId;\n        this.arrPhongKham.push(this.phongKhamHienTai.KeyId);\n        this.phongKhamBenh = {} as HoatDongNhanVien;\n        this.LuuHoatDongNhanVien(this.phongKhamBenh);\n\n        //chọn phòng khám nào load data phần đó\n        // if (item) {\n        //     this.refreshHangDoi(item.KeyId);\n        //     // xử lý get người bệnh hiện tại theo phòng khám\n        //     this.getBenhNhanDangKham(item.KeyId, 0);\n        // }\n        // this.broadcastService.broadcast({\n        //     name: \"ChuyenPhongThanhCong\",\n        //     message: true,\n        // });\n        // this.closePopupLoadingData();\n\n        // if (item) {\n        //     // window.location.reload();\n        //     // this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n        //     // this.router.onSameUrlNavigation = 'reload';\n        //     // console.log('this.router.url', this.router.url);\n        //     // let url = this.router.url;\n\n        //     // // trường hợp url có truyền thêm param\n        //     // let urlTree = this.router.parseUrl(url);\n        //     // let paramObj = Object.assign({}, urlTree.queryParams);\n        //     // urlTree.queryParams = {};\n        //     // var urlWithoutParam = urlTree.toString();\n        //     // this.router.navigate([urlWithoutParam], { queryParams: paramObj });\n        //     this.refreshPage();\n        // }\n    }\n\n    refreshPage() {\n        var currentUrl = this.router.url.lastIndexOf(\"?\") >= 0 ? this.router.url.substr(0, this.router.url.lastIndexOf(\"?\")) : this.router.url;\n        var queryParams = null;\n        this.route.queryParams\n            .subscribe(params => {\n                queryParams = params;\n            });\n        this.router.navigateByUrl('/', { skipLocationChange: true }).then(() =>\n            this.router.navigate([currentUrl], { queryParams: queryParams })\n        );\n    }\n\n    LuuHoatDongNhanVien(HoatDongNhanVien: HoatDongNhanVien) {\n        this.authService.setPhongLamViecId(this.phongKhamHienTai.KeyId);\n        this.phongKhamBenh.PhongKhamBenhId = this.phongKhamHienTai.KeyId;\n        this.apiService\n            .post(\"HoatDongNhanVien/LuuHoatDongNhanVien\", this.phongKhamBenh)\n            .subscribe((resultData) => {\n                this.closePopupLoadingData();\n                this.broadcastService.broadcast({\n                    name: \"ChuyenPhongThanhCong\",\n                    message: true,\n                });\n\n                this.refreshPage();\n            },\n                (err: ApiError) => {\n                    if (err.Message != \"Validation Failed\") {\n                        this.notificationService.showError(err.Message);\n                    }\n                    this.closePopupLoadingData();\n                });\n    }\n\n    scrollTo(element) {\n        jQuery(\".sidenav-content\").animate({\n            scrollTop: jQuery(\"#\" + element).position().top + (this.isKhamDoan ? 60 : 85),\n        });\n        this.tabActive = element;\n        //console.log(\"tabActive: \", this.tabActive)\n    }\n\n    getBenhNhanDangKham(phongKhamId: number, hangDoiId: number) {\n        this.closePopupLoadingData();\n        this.benhNhanHienTai = new BenhVienHangDoi();\n        this.benhNhanHienTai.isShowPanelItemKhamBenh = false;\n        this.benhNhanHienTai.isShowPanelItemKetLuan = false;\n\n        this.showPopupLoadingData();\n        this.apiService\n            .get<BenhVienHangDoi>(\n                \"KhamBenh/GetYeuCauKhamBenhDangKhamTheoPhongKham?phongKhamId=\" +\n                phongKhamId +\n                \"&hangDoiId=\" +\n                hangDoiId + \n                \"&laKhamDoan=\" +\n                this.isKhamDoan\n            )\n            .subscribe(\n                (resultData) => {\n                    if (resultData !== undefined && resultData != null) {\n                        //BVHD-3574\n                        this.LaChuyenKhoaKhamNhieu = resultData.LaDichVuKhamNhieu;\n\n                        this.benhNhanHienTai = resultData;\n                        this.maTiepNhan = this.benhNhanHienTai.YeuCauTiepNhanId;\n                        // console.log(resultData)\n                        //this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplate = '{\"ComponentDynamics\":[{\"Type\":4,\"Id\":\"group\",\"Label\":\"Mắt\",\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\",\"groupItems\":[{\"Type\":1,\"Id\":\"ThiLucKhongKinh\",\"Label\":\"Thị lực không kính\",\"Value\":null,\"fxFlex\":\"20%\",\"fxFlexSm\":\"20%\"},{\"Type\":2,\"Id\":\"ThiLucKhongKinhMatTrai\",\"Label\":\"Mắt trái\",\"Value\":null,\"fxFlex\":\"40%\",\"fxFlexSm\":\"40%\", \"placeholder\":null},{\"Type\":2,\"Id\":\"ThiLucKhongKinhMatPhai\",\"Label\":\"Mắt phải\",\"Value\":null,\"fxFlex\":\"40%\",\"fxFlexSm\":\"40%\", \"placeholder\":null},{\"Type\":1,\"Id\":\"NhanAp\",\"Label\":\"Nhãn áp\",\"Value\":null,\"fxFlex\":\"20%\",\"fxFlexSm\":\"20%\"},{\"Type\":2,\"Id\":\"NhanApMatTrai\",\"Label\":\"Mắt trái\",\"Value\":null,\"fxFlex\":\"40%\",\"fxFlexSm\":\"40%\", \"placeholder\":\"mmhg\"},{\"Type\":2,\"Id\":\"NhanApMatPhai\",\"Label\":\"Mắt phải\",\"Value\":null,\"fxFlex\":\"40%\",\"fxFlexSm\":\"40%\", \"placeholder\":\"mmhg\"},{\"Type\":1,\"Id\":\"ThiLucCoKinh\",\"Label\":\"Thị lực có kính\",\"Value\":null,\"fxFlex\":\"20%\",\"fxFlexSm\":\"20%\"},{\"Type\":2,\"Id\":\"ThiLucCoKinhTrai\",\"Label\":\"Mắt trái\",\"Value\":null,\"fxFlex\":\"40%\",\"fxFlexSm\":\"40%\", \"placeholder\":null},{\"Type\":2,\"Id\":\"ThiLucCoKinhPhai\",\"Label\":\"Mắt phải\",\"Value\":null,\"fxFlex\":\"40%\",\"fxFlexSm\":\"40%\", \"placeholder\":null}]},{\"Type\":3,\"Id\":\"TuanHoan\",\"Label\":\"Tuần hoàn\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"HoHap\",\"Label\":\"Hô hấp\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"TieuHoa\",\"Label\":\"Tiêu hóa\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"ThanTietNieuSinhDuc\",\"Label\":\"Thận - Tiết niệu - Sinh dục\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"ThanKinh\",\"Label\":\"Thần kinh\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"CoXuongKhop\",\"Label\":\"Cơ - Xương - Khớp\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"RangHamMat\",\"Label\":\"Răng - Hàm - Mặt\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"NoiTietDinhDuong\",\"Label\":\"Nội tiết - Dinh dưỡng\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"SanPhuKhoa\",\"Label\":\"Sản phụ khoa\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true},{\"Type\":3,\"Id\":\"DaLieu\",\"Label\":\"Da liễu\",\"Value\":null,\"fxFlex\":\"100%\",\"fxFlexSm\":\"100%\", \"maxlength\":4000, \"minHeight\": 22, \"useVoice\": true}]}';\n                        this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj = JSON.parse(\n                            this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplate\n                        );\n                        \n                        this.bindDataDynamicComponent();\n\n                        if(this.isKhamDoan)\n                        {\n                            this.benhNhanHienTai.YeuCauKhamBenh.IsKhamDoan = true;\n                            this.benhNhanHienTai.YeuCauKhamBenh.TemplateDichVuKhamSucKhoes.forEach(element => {\n                                element.TemplateKhamCacCoQuanObj = JSON.parse(element.ThongTinKhamTheoDichVuTemplate);\n                                this.bindDataDynamicComponent(element.TemplateKhamCacCoQuanObj, element.ThongTinKhamTheoDichVuData);\n                            });\n                        }\n\n                        this.ganThongTinKhamTamThoi();\n                        this.ganThongTinYeuCauKhamBenhPerevious();\n\n                        this.unSelectedTab();\n                        let phongBenhVienId = this.authService.getPhongLamViecId();\n                        let nhanVienId = this.authService.getAccessUser().Id;\n                        let yeuCauKhamBenhId = this.benhNhanHienTai.YeuCauKhamBenhId;\n                        this.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n                        this.isSelectedParentTabKhamBenh = true;\n\n                        if (\n                            this.benhNhanHienTai.YeuCauTiepNhan.NamSinh != null &&\n                            this.benhNhanHienTai.YeuCauTiepNhan.ThangSinh != null &&\n                            this.benhNhanHienTai.YeuCauTiepNhan.NgaySinh != null\n                        ) {\n                            var ngaySinh = new Date(\n                                this.benhNhanHienTai.YeuCauTiepNhan.ThangSinh +\n                                \"/\" +\n                                this.benhNhanHienTai.YeuCauTiepNhan.NgaySinh +\n                                \"/\" +\n                                this.benhNhanHienTai.YeuCauTiepNhan.NamSinh +\n                                \"/\"\n                            );\n                            this.getAge(ngaySinh, new Date());\n                        }\n\n                        this.closePopupLoadingData();\n                    } else {\n                        this.benhNhanHienTai = new BenhVienHangDoi();\n                        this.closePopupLoadingData();\n                    }\n                },\n                (err: ApiError) => {\n                    if (err.Message != \"Validation Failed\") {\n                        this.notificationService.showError(err.Message);\n                    }\n                    this.closePopupLoadingData();\n                }\n            );\n    }\n\n    timKiemBenhNhan(event: any) {\n        if (event.key == \"Enter\") {\n            this.refeshDataGridHangDoi(\n                this.phongKhamHienTai.KeyId,\n                this.searchBenhNhan == null ? \"\" : this.searchBenhNhan\n            );\n        }\n    }\n\n    hoanThanhKham(isNhapVien: boolean = false) {\n        if (\n            this.authService.hasPermission(\n                this.documentType,\n                SecurityOperation.Update\n            )\n        ) {\n            var self = this;\n            self.validationKetLuanErrors = null;\n            self.benhNhanHienTai.validationErrors = null;\n            self.ref.detectChanges();\n            if (\n                self.benhNhanHienTai.YeuCauKhamBenh.CheckValidator == true ||\n                self.benhNhanHienTai.YeuCauKhamBenh.CheckValidator == false\n            ) {\n                self.benhNhanHienTai.YeuCauKhamBenh.CheckValidator = null;\n            }\n            if (self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa != true && self.benhNhanHienTai.YeuCauKhamBenh.KhongKeToa != true) {\n                self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa = null;\n            }\n\n            if (!self.benhNhanHienTai.YeuCauKhamBenh.IsHoanThanhKham) {\n                self.benhNhanHienTai.YeuCauKhamBenh.IsHoanThanhKham = true;\n            }\n            ///------------- xử lý lưu thông tin tab khám bệnh\n            self.showPopupLoadingData();\n            self.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuData = self.processDynamicComponent();\n\n            self.apiService\n                .post<any>(\"KhamBenh/LuuThongTinKhamBenh\", self.benhNhanHienTai)\n                .subscribe(\n                    (resultData) => {\n                        self.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = false;\n                        self.benhNhanHienTai.YeuCauKhamBenh.IsHoanThanhKham = false;\n\n                        self.benhNhanHienTai.isShowPanelItemKhamBenh = false;\n                        self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs =\n                            resultData.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs;\n                        self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets =\n                            resultData.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets;\n                        self.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs =\n                            resultData.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs;\n                        self.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs =\n                            resultData.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs;\n                        self.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus =\n                            resultData.YeuCauTiepNhan.KetQuaSinhHieus;\n\n                        // if (resultData.YeuCauKhamBenh.IcdchinhId != 0 && resultData.YeuCauKhamBenh.IcdchinhId != null) {\n                        //     self.benhNhanHienTai.YeuCauKhamBenh.IcdchinhId =\n                        //         resultData.YeuCauKhamBenh.IcdchinhId;\n                        // }\n                        // if (resultData.YeuCauKhamBenh.TenICDChinh != null && resultData.YeuCauKhamBenh.TenICDChinh != \"\") {\n                        //     self.benhNhanHienTai.YeuCauKhamBenh.TenICDChinh =\n                        //         resultData.YeuCauKhamBenh.TenICDChinh;\n                        // }\n                        // if (resultData.YeuCauKhamBenh.GhiChuICDChinh != null && resultData.YeuCauKhamBenh.GhiChuICDChinh != \"\") {\n                        //     self.benhNhanHienTai.YeuCauKhamBenh.GhiChuICDChinh =\n                        //         resultData.YeuCauKhamBenh.GhiChuICDChinh;\n                        // }\n\n                        self.ganThongTinKhamTamThoi();\n\n                        ///------------- xử lý lưu thông tin tab chẩn đoán ---> cần update lại api\n                        self.apiService\n                            .post<any>(\"KhamBenh/CapNhatThongTinQuayLaiYeuCauKhamTruoc\", self.benhNhanHienTai.YeuCauKhamBenh)\n                            .subscribe(\n                                (resultData) => {\n                                    if (isNhapVien) {\n                                        self.inPhieuKhamHoanThanhKham(\"tuChon\");\n                                    } else {\n                                        let dialogRefTiepTheo = self.dialog\n                                            .open(LanKhamHienTaiBenhNhanTiepTheoPopupComponent, {\n                                                disableClose: false,\n                                                width: \"600px\",\n                                                data: {\n                                                    phongKhamHienTaiId: self.phongKhamHienTai.KeyId,\n                                                    hangDoiHienTaiId: self.benhNhanHienTai.Id,\n                                                    laKhamDoan: self.isKhamDoan,\n                                                    searchBenhNhan: self.searchStringHangDoiHienTai\n                                                },\n                                            })\n                                            .afterClosed()\n                                            .subscribe((result) => {\n                                                self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n                                                if (result == \"tuChon\") {\n                                                    // cập nhật người bệnh hiện tại thành chờ làm chỉ định/ hoàn thành khám\n                                                    self.ganThongTinYeuCauKhamBenhPerevious();\n                                                    this.dialog\n                                                        .open(ConfirmComponent, {\n                                                            disableClose: false,\n                                                            width: \"500px\",\n                                                            data: {\n                                                                Title: \"Xác nhận\",\n                                                                Message:\n                                                                    \"Bạn có muốn in phiếu khám cho người bệnh này không ?\",\n                                                            },\n                                                        })\n                                                        .afterClosed()\n                                                        .subscribe((res) => {\n                                                            if (res == \"Yes\") {\n                                                                self.inPhieuKhamHoanThanhKham(result);\n                                                            } else {\n                                                                self.apiService\n                                                                    .post(\n                                                                        \"KhamBenh/XuLyHoanThanhCongDoanKhamHienTaiCuaBenhNhan?hangDoiHienTaiId=\" +\n                                                                        self.benhNhanHienTai.Id +\n                                                                        \"&hoanThanhKham=true\"\n                                                                    )\n                                                                    .subscribe(\n                                                                        (resultData) => {\n                                                                            // clear data người bệnh hiện tại\n                                                                            self.benhNhanHienTai = new BenhVienHangDoi();\n                                                                            self.refreshHangDoi(\n                                                                                self.phongKhamHienTai.KeyId\n                                                                            );\n                                                                            self.closePopupLoadingData();\n                                                                        },\n                                                                        (err: ApiError) => {\n                                                                            self.benhNhanHienTai.validationErrors =\n                                                                                err.ValidationErrors;\n                                                                            if (err.Message != \"Validation Failed\") {\n                                                                                self.notificationService.showError(\n                                                                                    err.Message\n                                                                                );\n                                                                            }\n                                                                            self.closePopupLoadingData();\n                                                                        }\n                                                                    );\n                                                            }\n                                                        });\n                                                } else if (\n                                                    result == \"boQua\" ||\n                                                    result == null ||\n                                                    result == 0\n                                                ) {\n                                                    // giữ nguyên màn hình hiện tại\n                                                    this.dialog\n                                                        .open(ConfirmComponent, {\n                                                            disableClose: false,\n                                                            width: \"500px\",\n                                                            data: {\n                                                                Title: \"Xác nhận\",\n                                                                Message:\n                                                                    \"Bạn có muốn in phiếu khám cho người bệnh này không ?\",\n                                                            },\n                                                        })\n                                                        .afterClosed()\n                                                        .subscribe((res) => {\n                                                            if (res == \"Yes\") {\n                                                                self.inPhieuKhamHoanThanhKham(result);\n                                                            } else {\n                                                                self.closePopupLoadingData();\n                                                            }\n                                                        });\n                                                } else if (result > 0) {\n                                                    // result là id hàng đợi tiếp theo\n                                                    self.ganThongTinYeuCauKhamBenhPerevious();\n                                                    this.dialog\n                                                        .open(ConfirmComponent, {\n                                                            disableClose: false,\n                                                            width: \"500px\",\n                                                            data: {\n                                                                Title: \"Xác nhận\",\n                                                                Message:\n                                                                    \"Bạn có muốn in phiếu khám cho người bệnh này không ?\",\n                                                            },\n                                                        })\n                                                        .afterClosed()\n                                                        .subscribe((res) => {\n                                                            if (res == \"Yes\") {\n                                                                self.inPhieuKhamHoanThanhKham(result);\n                                                            } else {\n                                                                self.XuLyBatDauKhamBenhNhan(result, true);\n                                                            }\n                                                        });\n                                                }\n                                            });\n                                    }\n\n                                },\n                                (err: ApiError) => {\n                                    self.validationKetLuanErrors = err.ValidationErrors;\n                                    if (err.Message != \"Validation Failed\") {\n                                        self.notificationService.showError(err.Message);\n                                    }\n                                    self.closePopupLoadingData();\n                                }\n                            );\n                    },\n                    (err: ApiError) => {\n                        self.benhNhanHienTai.YeuCauKhamBenh.IsHoanThanhKham = false;\n                        if (!self.lstStatusSelectTabKhambenh.selectedTabKhamBenh) {\n                            self.unSelectedTab();\n                            self.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n                            self.notificationService.showError(\n                                \"Yêu cầu nhập đầy đủ các trường bắt buộc trong tab khám bệnh\"\n                            );\n                        }\n                        self.benhNhanHienTai.validationErrors = err.ValidationErrors;\n                        if (err.Message != \"Validation Failed\") {\n                            self.notificationService.showError(err.Message);\n                        }\n                        self.closePopupLoadingData();\n                    }\n                );\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n    chonBenhNhanTiepTheoKhiIn(results: any) {\n        let self = this;\n        if (results == \"tuChon\") {\n            self.apiService\n                .post(\n                    \"KhamBenh/XuLyHoanThanhCongDoanKhamHienTaiCuaBenhNhan?hangDoiHienTaiId=\" +\n                    self.benhNhanHienTai.Id +\n                    \"&hoanThanhKham=true\"\n                )\n                .subscribe(\n                    () => {\n                        // clear data người bệnh hiện tại\n                        self.benhNhanHienTai = new BenhVienHangDoi();\n                        self.refreshHangDoi(self.phongKhamHienTai.KeyId);\n                        self.closePopupLoadingData();\n                    },\n                    (err: ApiError) => {\n                        if (err.Message != \"Validation Failed\") {\n                            self.notificationService.showError(err.Message);\n                        }\n                        self.closePopupLoadingData();\n                    }\n                );\n        } else if (results == \"boQua\" || results == null || results == 0) {\n            self.closePopupLoadingData();\n        } else if (results > 0) {\n            self.XuLyBatDauKhamBenhNhan(results, true);\n            // self.apiService\n            //     .post(\n            //         \"KhamBenh/XuLyBatDauKhamBenhNhan?hangDoiDangKhamId=\" +\n            //         this.benhNhanHienTai.Id +\n            //         \"&hangDoiBatDauKhamId=\" +\n            //         results +\n            //         \"&hoanThanhKham=true\"\n            //     )\n            //     .subscribe(\n            //         () => {\n            //             //get người bệnh hiện tại và refresh hàng đợi\n            //             self.refreshHangDoi(self.phongKhamHienTai.KeyId);\n            //             self.getBenhNhanDangKham(self.phongKhamHienTai.KeyId, results);\n            //             self.isHoanThanKhamProcess = false;\n            //             self.closePopupLoadingData();\n            //         },\n            //         (err: ApiError) => {\n            //             if (err.Message != \"Validation Failed\") {\n            //                 self.notificationService.showError(err.Message);\n            //             }\n            //             self.isHoanThanKhamProcess = false;\n            //             self.closePopupLoadingData();\n            //         }\n            //     );\n        }\n    }\n\n    inPhieuKhamHoanThanhKham(result: any) {\n        this.phieuKhamBenhVo.YeuCauKhamBenhId = this.benhNhanHienTai.YeuCauKhamBenhId;\n        if(this.benhNhanHienTai.YeuCauKhamBenh.CoNhapVien == true){\n            this.phieuKhamBenhVo.CoKhamBenhVaoVien = true;\n        }\n        this.phieuKhamBenhVo.CoKhamBenh = true;\n        if(this.phieuKhamBenhVo.CoKhamBenh && this.phieuKhamBenhVo.CoKhamBenhVaoVien){\n            this.phieuKhamBenhVo.CoHeader = true;\n        }\n        this.apiService.post<any>(\"KhamBenh/InPhieuKhamBenh\", this.phieuKhamBenhVo).subscribe(\n            resultData => {\n                if (resultData != null) {\n                    this.dialog\n                        .open(PhieuKhamBenhVaoVienPopupComponent, {\n                            disableClose: true,\n                            width: \"1000px\",\n                            data: { html: resultData, Title: \"PHIẾU KHÁM BỆNH\" },\n                        })\n                        .afterClosed()\n                        .subscribe(() => {\n                            this.chonBenhNhanTiepTheoKhiIn(result);\n                        });\n                }\n            },\n            (err: ApiError) => {\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                };\n                this.closePopupLoadingData();\n            });\n    }\n\n    inPhieuKham() {\n        var self = this;\n        self.validationKetLuanErrors = [];\n        self.ref.detectChanges();\n        this.phieuKhamBenhVo.YeuCauKhamBenhId = this.benhNhanHienTai.YeuCauKhamBenhId;\n        this.phieuKhamBenhVo.CoKhamBenh = true;\n        this.phieuKhamBenhVo.CoKhamBenhVaoVien = false;\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n            self.showPopupLoadingData();\n            self.apiService.post<any>(\"KhamBenh/InPhieuKhamBenh\", this.phieuKhamBenhVo).subscribe(\n                resultData => {\n                    if (resultData != null) {\n                        self.closePopupLoadingData();\n                        self.dialog.open(PhieuKhamBenhVaoVienPopupComponent, {\n                            disableClose: true,\n                            width: \"1000px\",\n                            data: { html: resultData, Title: \"PHIẾU KHÁM BỆNH\" },\n                        });\n                    }\n                },\n                (err: ApiError) => {\n                    self.validationKetLuanErrors = err.ValidationErrors;\n                    if (err.Message != \"Validation Failed\") {\n                        self.notificationService.showError(err.Message);\n                    };\n                    self.closePopupLoadingData();\n                });\n        } else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    inPhieuKhamVaoVien() {\n        var self = this;\n        self.validationKetLuanErrors = [];\n        self.benhNhanHienTai.YeuCauKhamBenh.CheckValidator = false;\n        if (self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa != true && this.benhNhanHienTai.YeuCauKhamBenh.KhongKeToa != true) {\n            self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa = null;\n        }\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n            self.benhNhanHienTai.YeuCauKhamBenh.CoInKeToa = false;\n            self.apiService.post<any>(\"KhamBenh/LuuKetLuan\", self.benhNhanHienTai.YeuCauKhamBenh).subscribe(\n                (res) => {\n                    self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs = res.YeuCauKhamBenhICDKhacs;\n                    self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n                    self.ganThongTinYeuCauKhamBenhPerevious();\n                    this.phieuKhamBenhVo.YeuCauKhamBenhId = this.benhNhanHienTai.YeuCauKhamBenhId;\n                    this.phieuKhamBenhVo.CoKhamBenhVaoVien = true;\n                    this.phieuKhamBenhVo.CoKhamBenh = false;\n                    if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n                        self.showPopupLoadingData();\n                        self.apiService.post<any>(\"KhamBenh/InPhieuKhamBenh\", this.phieuKhamBenhVo).subscribe(\n                            resultData => {\n                                if (resultData != null) {\n                                    self.closePopupLoadingData();\n                                    self.dialog.open(PhieuKhamBenhVaoVienPopupComponent, {\n                                        disableClose: true,\n                                        width: \"1000px\",\n                                        data: { html: resultData, Title: \"PHIẾU KHÁM BỆNH\" },\n                                    });\n                                }\n                            },\n                            (err: ApiError) => {\n                                self.validationKetLuanErrors = err.ValidationErrors;\n                                if (err.Message != \"Validation Failed\") {\n                                    self.notificationService.showError(err.Message);\n                                };\n                                self.closePopupLoadingData();\n                            });\n                    } else {\n                        self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n                    }\n                },\n                (err: ApiError) => {\n                    self.validationKetLuanErrors = err.ValidationErrors;\n                    if (err.Message != \"Validation Failed\") {\n                        self.notificationService.showError(err.Message);\n                    }\n                    //console.log(this.validationKetLuanErrors)\n                    self.closePopupLoadingData();\n                });\n        } else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    batDauDoChiSoSinhTon(data: any) {\n        // this.arrBenhNhanChuanBiKham.find(x => x.Id == bnId).ProgessChiSoSinhTon = true;\n        this.gridChuanBiKham.gridDataSource.data.find(\n            (x) => x.Id == data.Id\n        ).ProgessChiSoSinhTon = true;\n        this.arrDoChiSoSinhTon.push(data);\n        // xử lý expand grid\n        //this.gridChild.onExpandRowDetail(rowIndex);\n    }\n\n    huyDoChiSoSinhTon(bnId: number) {\n        //if (!this.arrBenhNhanChuanBiKham.find(x => x.Id == bnId).IsCheckedChiSoSinhTon) {\n        //var temp = this.arrBenhNhanChuanBiKham.find(x => x.Id == bnId).ChiSoSinhTon = new ChiSoSinhTon();\n        //}\n        //this.arrBenhNhanChuanBiKham.find(x => x.Id == bnId).ProgessChiSoSinhTon = false;\n        this.gridChuanBiKham.gridDataSource.data.find(\n            (x) => x.Id == bnId\n        )[0] = this.arrDoChiSoSinhTon.find((x) => x.Id == bnId)[0];\n        this.gridChuanBiKham.gridDataSource.data.find(\n            (x) => x.Id == bnId\n        ).ProgessChiSoSinhTon = false;\n    }\n\n    luuDoChiSoSinhTon(data: any) {\n        //this.arrBenhNhanChuanBiKham.find(x => x.Id == data.Id).ProgessChiSoSinhTon = false;\n        // xử lý lưu vào DB\n    }\n\n    showPopupLoadingData() {\n        if (this.popupLoadingData == undefined\n            || this.popupLoadingData == null\n            || this.popupLoadingData.openDialogs == undefined\n            || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n            this.popupLoadingData = this.dialog.open(LoadingComponent, {\n                disableClose: true,\n                width: \"200px\",\n                height: \"90px\",\n                data: { Title: \"Đang tải dữ liệu...\" },\n            });\n        }\n\n    }\n    closePopupLoadingData() {\n        if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n            this.popupLoadingData.close();\n        }\n    }\n\n    batDauKham(hangDoi: any) {\n        if (\n            hangDoi == undefined ||\n            hangDoi == null ||\n            hangDoi.Id == this.benhNhanHienTai.Id\n        ) {\n            return;\n        }\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            this.showPopupLoadingData();\n            if (this.benhNhanHienTai.Id != 0 && (this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan || this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh)) {\n                if(this.isKhamDoan)\n                {\n                    if (this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh) {\n                        this.saveChangeData(hangDoi.Id);\n                    }\n                    else\n                    {\n                        this.XuLyBatDauKhamBenhNhan(hangDoi.Id);\n                    }\n                }\n                else\n                {\n                    var self = this;\n                    self.validationKetLuanErrors = [];\n                    self.ref.detectChanges();\n                    self.benhNhanHienTai.YeuCauKhamBenh.CheckValidator = false;\n                    self.benhNhanHienTai.YeuCauKhamBenh.CoInKeToa = false;\n                    if (self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa != true && self.benhNhanHienTai.YeuCauKhamBenh.KhongKeToa != true) {\n                        self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa = null;\n                    }\n\n                    self.apiService\n                        .post<any>(\"KhamBenh/LuuKetLuan\", self.benhNhanHienTai.YeuCauKhamBenh)\n                        .subscribe(\n                            (res) => {\n                                self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs = res.YeuCauKhamBenhICDKhacs;\n                                self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n                                self.ganThongTinYeuCauKhamBenhPerevious();\n\n                                if (self.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh) {\n                                    self.benhNhanHienTai.validationErrors = null;\n                                    self.ref.detectChanges();\n\n                                    self.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuData = self.processDynamicComponent();\n                                    self.apiService\n                                        .post<any>(\n                                            \"KhamBenh/LuuThongTinKhamBenh\",\n                                            self.benhNhanHienTai\n                                        )\n                                        .subscribe(\n                                            (resultData) => {\n                                                self.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = false;\n\n                                                self.benhNhanHienTai.isShowPanelItemKhamBenh = false;\n                                                self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs =\n                                                    resultData.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs;\n                                                self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets =\n                                                    resultData.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets;\n                                                self.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs =\n                                                    resultData.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs;\n                                                self.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs =\n                                                    resultData.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs;\n                                                self.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus =\n                                                    resultData.YeuCauTiepNhan.KetQuaSinhHieus;\n\n                                                if (resultData.YeuCauKhamBenh.IcdchinhId != 0 && resultData.YeuCauKhamBenh.IcdchinhId != null) {\n                                                    self.benhNhanHienTai.YeuCauKhamBenh.IcdchinhId =\n                                                        resultData.YeuCauKhamBenh.IcdchinhId;\n                                                }\n                                                if (resultData.YeuCauKhamBenh.TenICDChinh != null && resultData.YeuCauKhamBenh.TenICDChinh != \"\") {\n                                                    self.benhNhanHienTai.YeuCauKhamBenh.TenICDChinh =\n                                                        resultData.YeuCauKhamBenh.TenICDChinh;\n                                                }\n                                                if (resultData.YeuCauKhamBenh.GhiChuICDChinh != null && resultData.YeuCauKhamBenh.GhiChuICDChinh != \"\") {\n                                                    self.benhNhanHienTai.YeuCauKhamBenh.GhiChuICDChinh =\n                                                        resultData.YeuCauKhamBenh.GhiChuICDChinh;\n                                                }\n\n                                                self.ganThongTinKhamTamThoi();\n\n                                                self.XuLyBatDauKhamBenhNhan(hangDoi.Id);\n                                            },\n                                            (err: ApiError) => {\n                                                self.benhNhanHienTai.validationErrors =\n                                                    err.ValidationErrors;\n                                                if (err.Message != \"Validation Failed\") {\n                                                    self.notificationService.showError(err.Message);\n                                                } else if (\n                                                    err.Message == \"Validation Failed\" &&\n                                                    !self.lstStatusSelectTabKhambenh.selectedTabKhamBenh\n                                                ) {\n                                                    self.unSelectedTab();\n                                                    self.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n                                                    self.notificationService.showError(\n                                                        \"Yêu cầu nhập đầy đủ các trường bắt buộc trong tab khám bệnh\"\n                                                    );\n                                                }\n                                                this.closePopupLoadingData();\n                                            }\n                                        );\n                                } else {\n                                    self.XuLyBatDauKhamBenhNhan(hangDoi.Id);\n                                }\n                            },\n                            (err: ApiError) => {\n                                self.validationKetLuanErrors = err.ValidationErrors;\n                                if (err.Message != \"Validation Failed\") {\n                                    self.notificationService.showError(err.Message);\n                                } else if (\n                                    err.Message == \"Validation Failed\" &&\n                                    !self.lstStatusSelectTabKhambenh.selectedTabChanDoan\n                                ) {\n                                    self.unSelectedTab();\n                                    self.lstStatusSelectTabKhambenh.selectedTabChanDoan = true;\n                                    self.notificationService.showError(\n                                        \"Yêu cầu nhập đầy đủ các trường bắt buộc trong tab chẩn đoán\"\n                                    );\n                                }\n                                this.closePopupLoadingData();\n                            }\n                        );\n                }\n            } else {\n                this.XuLyBatDauKhamBenhNhan(hangDoi.Id);\n            }\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    XuLyBatDauKhamBenhNhan(hangDoiId, hoanThanhKham = false) {\n        let hangDoiInput = new HangDoiKhamBenhInputViewModel();\n        hangDoiInput.HangDoiDangKhamId = this.benhNhanHienTai.Id;\n        hangDoiInput.HangDoiBatDauKhamId = hangDoiId;\n        hangDoiInput.HoanThanhKham = hoanThanhKham;\n        hangDoiInput.LaKhamDoan = this.isKhamDoan;\n        this.apiService\n            .post(\"KhamBenh/XuLyBatDauKhamBenhNhan\", hangDoiInput)\n            // .post(\n            //     \"KhamBenh/XuLyBatDauKhamBenhNhan?hangDoiDangKhamId=\" +\n            //     this.benhNhanHienTai.Id +\n            //     \"&hangDoiBatDauKhamId=\" +\n            //     hangDoiId\n            // )\n            .subscribe(\n                (resultData) => {\n                    // this.refreshHangDoi(this.phongKhamHienTai.KeyId);\n                    this.refeshDataGridHangDoi(this.phongKhamHienTai.KeyId, this.searchStringHangDoiHienTai);\n\n                    // get người bệnh hiện tại\n                    this.getBenhNhanDangKham(this.phongKhamHienTai.KeyId, hangDoiId);\n                    this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Bắt đầu khám\",]));\n                    //this.closePopupLoadingData();\n                },\n                (err: ApiError) => {\n                    if (err.Message != \"Validation Failed\") {\n                        this.notificationService.showError(err.Message);\n                    }\n                    this.closePopupLoadingData();\n                }\n            );\n    }\n\n    bnVang(hangDoi: any) {\n        if (\n            this.authService.hasPermission(\n                this.documentType,\n                SecurityOperation.Update\n            )\n        ) {\n            var self = this;\n            self.dialog\n                .open(ConfirmComponent, {\n                    disableClose: false,\n                    width: \"400px\",\n                    data: {\n                        Title: \"Xác nhận\",\n                        Message:\n                            \"Bạn chắc chắn xác nhận người bệnh (Mã TN: \" +\n                            hangDoi.YeuCauTiepNhan.MaYeuCauTiepNhan +\n                            \" , Họ tên: \" +\n                            hangDoi.YeuCauTiepNhan.HoTen +\n                            \") không có mặt ở đây hay không?\",\n                    },\n                })\n                .afterClosed()\n                .subscribe((result) => {\n                    if (result == \"Yes\") {\n                        self.showPopupLoadingData();\n                        // xử lý đẩy vị trí hàng đợi người bệnh ra sau\n                        let hangDoiKhamBenhInputViewModel = new HangDoiKhamBenhInputViewModel();\n                        hangDoiKhamBenhInputViewModel.HangDoiDangKhamId = hangDoi.Id;\n                        hangDoiKhamBenhInputViewModel.PhongBenhVienId = self.phongKhamHienTai.KeyId;\n                        self.apiService\n                            .post(\"KhamBenh/XuLyBenhNhanVang\", hangDoiKhamBenhInputViewModel)\n                            // .post(\n                            //     \"KhamBenh/XuLyBenhNhanVang?hangDoiId=\" +\n                            //     hangDoi.Id +\n                            //     \"&phongBenhVienId=\" +\n                            //     self.phongKhamHienTai.KeyId\n                            // )\n                            .subscribe(\n                                (resultData) => {\n                                    self.benhNhanHienTai = new BenhVienHangDoi();\n                                    self.getSoLuongYeuCauHienTai(self.phongKhamHienTai.KeyId);\n                                    self.closePopupLoadingData();\n                                },\n                                (err: ApiError) => {\n                                    if (err.Message != \"Validation Failed\") {\n                                        this.notificationService.showError(err.Message);\n                                    }\n                                    self.closePopupLoadingData();\n                                }\n                            );\n                    }\n                });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    showPopupBenhNhanLamChiDinh() {\n        let dialogRef = this.dialog.open(\n            LanKhamHienTaiBenhNhanDangLamChiDinhPopupComponent,\n            {\n                disableClose: false,\n                width: \"1150px\",\n                data: this.phongKhamHienTai.KeyId,\n            }\n        );\n        var self = this;\n        dialogRef.afterClosed().subscribe((result) => {\n            if (result != undefined && result != null && result != \"\") {\n                self.apiService\n                    .post(\n                        \"KhamBenh/XuLyChuyenBenhNhanVaoHangDoiKetLuan?hangDoiId=\" + result\n                    )\n                    .subscribe((resultData) => {\n                        self.notificationService.showSuccess(\n                            CommonService.format(SystemMessage.ActionSuccessfully, [\n                                \"Chuyển người bệnh vào hàng đợi kết luận\",\n                            ])\n                        );\n                        self.refreshHangDoi(self.phongKhamHienTai.KeyId);\n                    });\n            }\n        });\n    }\n\n    collapseAll() {\n        this.benhNhanHienTai.isExpandPanelItemKhamBenh = false;\n        this.benhNhanHienTai.isExpandPanelItemKetLuan = false;\n    }\n    chuyenDen(element: any, event: any, isKhamDoan:boolean =false) {\n        var self = this;\n        if (!(self.isKhamDoan && event.index == 0)) {\n            setTimeout(function () {\n                self.scrollTo(element);\n            }, 100);\n        }\n        if (event.index == 0 || event.title == \"KHÁM BỆNH\") {\n            self.unSelectedTab();\n            self.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n        }\n        if (event.index == 1 || event.title == \"LỊCH SỬ KHÁM\") {\n            self.unSelectedTab();\n            self.lstStatusSelectTabKhambenh.selectedTabLichSuKham = true;\n        }\n        if (event.index == 2 || event.title == \"CHỈ ĐỊNH\") {\n            self.unSelectedTab();\n            self.lstStatusSelectTabKhambenh.selectedTabChiDinh = true;\n        }\n        if (event.index == 3 || event.title == \"KQ CLS\") {\n            self.unSelectedTab();\n            self.lstStatusSelectTabKhambenh.selectedTabKetQuaCLS = true;\n        }\n        \n        if (event.index == 5 || event.title == \"TƯỜNG TRÌNH PT/TT\") {\n            self.unSelectedTab();\n            self.lstStatusSelectTabKhambenh.selectedTabTuongTrinhPttt = true;\n            self.validationKetLuanErrors = [];\n        }\n        if(!isKhamDoan){\n            if (event.index == 4 || event.title == \"CHẨN ĐOÁN\") {\n                self.unSelectedTab();\n                self.lstStatusSelectTabKhambenh.selectedTabChanDoan = true;\n                self.validationKetLuanErrors = [];\n            }\n        }else{\n            if (event.index == 4 || event.title == \"TƯ VẤN THUỐC\") {\n                self.unSelectedTab();\n                self.lstStatusSelectTabKhambenh.selectedTabTuVanThuocKhamDoan = true;\n                self.validationKetLuanErrors = [];\n            }\n        }\n        \n    }\n\n    chonTab(element) {\n        if (element == \"card2\") {\n            this.benhNhanHienTai.isExpandPanelItemKetLuan = !this.benhNhanHienTai\n                .isExpandPanelItemKetLuan;\n        }\n    }\n    stateChange(data: Array<PanelBarItemModel>) {\n        const focusedEvent: PanelBarItemModel = data.filter(\n            (item) => item.focused === true\n        )[0];\n        if (focusedEvent.title == \"KHÁM BỆNH\") {\n            this.benhNhanHienTai.isExpandPanelItemKhamBenh = !this.benhNhanHienTai\n                .isExpandPanelItemKhamBenh;\n        }\n        if (focusedEvent.title == \"KẾT LUẬN\") {\n            this.benhNhanHienTai.isExpandPanelItemKetLuan = !this.benhNhanHienTai\n                .isExpandPanelItemKetLuan;\n        }\n    }\n\n    getshareDataChung() {\n        return this.benhNhanHienTai;\n    }\n\n    // getThongTinNhanVien() {\n    //     var currentId = this.authService.getAccessUser().Id;\n    //     this.apiService\n    //         .get<any>(\"NhanVien/GetNhanVien/\" + currentId)\n    //         .subscribe((resultData) => {\n    //             if (resultData !== undefined && resultData != null) {\n    //                 this.ChucVu = resultData.TextTenQuyenHan + \":\";\n    //                 this.HoTen = resultData.HoTen;\n    //             }\n    //         })\n    // }\n\n    ganThongTinYeuCauKhamBenhPerevious() {\n\n        //let yeuCauKhamBenhICDKhacs = this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs.slice();\n\n        const yeuCauKhamBenhICDKhacs = [];\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs.forEach(val => yeuCauKhamBenhICDKhacs.push(Object.assign({}, val)));\n\n        this.yeuCauKhamBenhPrevious = new YeuCauKhamBenhPrevious(this.benhNhanHienTai.YeuCauKhamBenh.IcdchinhId, this.benhNhanHienTai.YeuCauKhamBenh.TenICDChinh,\n            this.benhNhanHienTai.YeuCauKhamBenh.GhiChuICDChinh, this.benhNhanHienTai.YeuCauKhamBenh.CoTaiKham,\n            this.benhNhanHienTai.YeuCauKhamBenh.NgayTaiKham, this.benhNhanHienTai.YeuCauKhamBenh.GhiChuTaiKham,\n            this.benhNhanHienTai.YeuCauKhamBenh.CoNhapVien,\n            this.benhNhanHienTai.YeuCauKhamBenh.CoChuyenVien, this.benhNhanHienTai.YeuCauKhamBenh.KhoaPhongNhapVienId,\n            this.benhNhanHienTai.YeuCauKhamBenh.TenKhoaPhongNhapVien, this.benhNhanHienTai.YeuCauKhamBenh.TinhTrangBenhNhanChuyenVien,\n            this.benhNhanHienTai.YeuCauKhamBenh.LoaiLyDoChuyenVien, this.benhNhanHienTai.YeuCauKhamBenh.ThoiDiemChuyenVien,\n            this.benhNhanHienTai.YeuCauKhamBenh.PhuongTienChuyenVien, this.benhNhanHienTai.YeuCauKhamBenh.NhanVienHoTongChuyenVienId,\n            this.benhNhanHienTai.YeuCauKhamBenh.HoTenNhanVienHoTong, this.benhNhanHienTai.YeuCauKhamBenh.LyDoNhapVien,\n            this.benhNhanHienTai.YeuCauKhamBenh.BenhVienChuyenVienId, this.benhNhanHienTai.YeuCauKhamBenh.TenBenhVienChuyenVien,\n            this.benhNhanHienTai.YeuCauKhamBenh.LyDoChuyenVien, this.benhNhanHienTai.YeuCauKhamBenh.CoTuVong,\n            this.benhNhanHienTai.YeuCauKhamBenh.TomTatKetQuaCLS, this.benhNhanHienTai.YeuCauKhamBenh.CachGiaiQuyet, this.benhNhanHienTai.YeuCauKhamBenh.GhiChu,\n            this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.YeuCauKhamBenhId, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.LoaiDichVuKyThuat,\n            this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.DichVuKyThuatBenhVienId, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.NhomGiaDichVuKyThuatBenhVienId,\n            this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.MaDichVu, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.MaGiaDichVu,\n            this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TenDichVu, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TenDichVuHienThi,\n            this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.NhomChiPhi, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.Gia,\n            this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.SoLan, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.DuocHuongBaoHiem,\n            this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TrangThai, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TrangThaiThanhToan,\n            this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.NhanVienChiDinhId, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.ThoiDiemChiDinh,\n            this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.ThoiDiemDangKy, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TenNhomDichVu,\n            this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.NhomDichVuBenhVienId, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.DieuTriNgoaiTru,\n            this.benhNhanHienTai.YeuCauKhamBenh.CoDieuTriNgoaiTru, this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.ThoiDiemBatDauDieuTri,\n            this.benhNhanHienTai.YeuCauKhamBenh.CoKeToa, this.benhNhanHienTai.YeuCauKhamBenh.KhongKeToa,\n            this.benhNhanHienTai.YeuCauKhamBenh.KetQuaXetNghiemCLS, this.benhNhanHienTai.YeuCauKhamBenh.PhuongPhapTrongDieuTri,\n            yeuCauKhamBenhICDKhacs);\n    }\n\n\n    cancelChangeDataKetLuan() {\n        this.validationKetLuanErrors = [];\n        this.ref.detectChanges();\n\n        this.benhNhanHienTai.YeuCauKhamBenh.IcdchinhId = this.yeuCauKhamBenhPrevious.IcdchinhId;\n        this.benhNhanHienTai.YeuCauKhamBenh.TenICDChinh = this.yeuCauKhamBenhPrevious.TenICDChinh;\n        this.benhNhanHienTai.YeuCauKhamBenh.CoTaiKham = this.yeuCauKhamBenhPrevious.CoTaiKham;\n        this.benhNhanHienTai.YeuCauKhamBenh.NgayTaiKham = this.yeuCauKhamBenhPrevious.NgayTaiKham;\n        this.benhNhanHienTai.YeuCauKhamBenh.GhiChuTaiKham = this.yeuCauKhamBenhPrevious.GhiChuTaiKham;\n        this.benhNhanHienTai.YeuCauKhamBenh.CoNhapVien = this.yeuCauKhamBenhPrevious.CoNhapVien;\n        this.benhNhanHienTai.YeuCauKhamBenh.CoChuyenVien = this.yeuCauKhamBenhPrevious.CoChuyenVien;\n        this.benhNhanHienTai.YeuCauKhamBenh.KhoaPhongNhapVienId = this.yeuCauKhamBenhPrevious.KhoaPhongNhapVienId;\n        this.benhNhanHienTai.YeuCauKhamBenh.TenKhoaPhongNhapVien = this.yeuCauKhamBenhPrevious.TenKhoaPhongNhapVien;\n        this.benhNhanHienTai.YeuCauKhamBenh.TinhTrangBenhNhanChuyenVien = this.yeuCauKhamBenhPrevious.TinhTrangBenhNhanChuyenVien;\n        this.benhNhanHienTai.YeuCauKhamBenh.LoaiLyDoChuyenVien = this.yeuCauKhamBenhPrevious.LoaiLyDoChuyenVien;\n        this.benhNhanHienTai.YeuCauKhamBenh.ThoiDiemChuyenVien = this.yeuCauKhamBenhPrevious.ThoiDiemChuyenVien;\n        this.benhNhanHienTai.YeuCauKhamBenh.PhuongTienChuyenVien = this.yeuCauKhamBenhPrevious.PhuongTienChuyenVien;\n        this.benhNhanHienTai.YeuCauKhamBenh.NhanVienHoTongChuyenVienId = this.yeuCauKhamBenhPrevious.NhanVienHoTongChuyenVienId;\n        this.benhNhanHienTai.YeuCauKhamBenh.HoTenNhanVienHoTong = this.yeuCauKhamBenhPrevious.HoTenNhanVienHoTong;\n        this.benhNhanHienTai.YeuCauKhamBenh.LyDoNhapVien = this.yeuCauKhamBenhPrevious.LyDoNhapVien;\n        this.benhNhanHienTai.YeuCauKhamBenh.BenhVienChuyenVienId = this.yeuCauKhamBenhPrevious.BenhVienChuyenVienId;\n        this.benhNhanHienTai.YeuCauKhamBenh.TenBenhVienChuyenVien = this.yeuCauKhamBenhPrevious.TenBenhVienChuyenVien;\n        this.benhNhanHienTai.YeuCauKhamBenh.LyDoChuyenVien = this.yeuCauKhamBenhPrevious.LyDoChuyenVien;\n        this.benhNhanHienTai.YeuCauKhamBenh.KetQuaXetNghiemCLS = this.yeuCauKhamBenhPrevious.KetQuaXetNghiemCLS;\n        this.benhNhanHienTai.YeuCauKhamBenh.PhuongPhapTrongDieuTri = this.yeuCauKhamBenhPrevious.PhuongPhapTrongDieuTri;\n        this.benhNhanHienTai.YeuCauKhamBenh.CoTuVong = this.yeuCauKhamBenhPrevious.CoTuVong;\n        this.benhNhanHienTai.YeuCauKhamBenh.TomTatKetQuaCLS = this.yeuCauKhamBenhPrevious.TomTatKetQuaCLS;\n        this.benhNhanHienTai.YeuCauKhamBenh.GhiChuICDChinh = this.yeuCauKhamBenhPrevious.GhiChuICDChinh;\n        this.benhNhanHienTai.YeuCauKhamBenh.CachGiaiQuyet = this.yeuCauKhamBenhPrevious.CachGiaiQuyet;\n        this.benhNhanHienTai.YeuCauKhamBenh.GhiChu = this.yeuCauKhamBenhPrevious.GhiChu;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.NhomChiPhi = this.yeuCauKhamBenhPrevious.NhomChiPhi;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.Gia = this.yeuCauKhamBenhPrevious.Gia;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.SoLan = this.yeuCauKhamBenhPrevious.SoLan;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.DuocHuongBaoHiem = this.yeuCauKhamBenhPrevious.DuocHuongBaoHiem;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TrangThai = this.yeuCauKhamBenhPrevious.TrangThai;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TrangThaiThanhToan = this.yeuCauKhamBenhPrevious.TrangThaiThanhToan;\n        this.benhNhanHienTai.YeuCauKhamBenh.NhanVienChiDinhId = this.yeuCauKhamBenhPrevious.NhanVienChiDinhId;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.ThoiDiemChiDinh = this.yeuCauKhamBenhPrevious.ThoiDiemChiDinh;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.ThoiDiemDangKy = this.yeuCauKhamBenhPrevious.ThoiDiemDangKy;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TenNhomDichVu = this.yeuCauKhamBenhPrevious.TenNhomDichVu;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.NhomDichVuBenhVienId = this.yeuCauKhamBenhPrevious.NhomDichVuBenhVienId;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.DieuTriNgoaiTru = this.yeuCauKhamBenhPrevious.DieuTriNgoaiTru;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.ThoiDiemBatDauDieuTri = this.yeuCauKhamBenhPrevious.ThoiDiemBatDauDieuTri;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.TenDichVuHienThi = this.yeuCauKhamBenhPrevious.TenDichVuHienThi;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.DichVuKyThuatBenhVienId = this.yeuCauKhamBenhPrevious.DichVuKyThuatBenhVienId;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.LoaiDichVuKyThuat = this.yeuCauKhamBenhPrevious.LoaiDichVuKyThuat;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.YeuCauKhamBenhId = this.yeuCauKhamBenhPrevious.YeuCauKhamBenhId;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.YeuCauTiepNhanId = this.yeuCauKhamBenhPrevious.YeuCauTiepNhanId;\n        this.benhNhanHienTai.YeuCauKhamBenh.CoDieuTriNgoaiTru = this.yeuCauKhamBenhPrevious.CoDieuTriNgoaiTru;\n\n        //this.benhNhanHienTai.YeuCauKhamBenh.CoKeToa = this.yeuCauKhamBenhPrevious.CoKeToa;\n        this.benhNhanHienTai.YeuCauKhamBenh.KhongKeToa = this.yeuCauKhamBenhPrevious.KhongKeToa;\n\n\n        const yeuCauKhamBenhICDKhacs = [];\n        this.yeuCauKhamBenhPrevious.YeuCauKhamBenhICDKhacs.forEach(val => yeuCauKhamBenhICDKhacs.push(Object.assign({}, val)));\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs = yeuCauKhamBenhICDKhacs;\n\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs = this.yeuCauKhamBenhPrevious.YeuCauKhamBenhICDKhacs.slice();\n\n        this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n    }\n\n    luuKetLuan() {\n        var self = this;\n        self.validationKetLuanErrors = [];\n        self.ref.detectChanges();\n        // if (this.benhNhanHienTai.YeuCauKhamBenh.CoNhapVien == true) {\n        //     self.hoanThanhKham(true);\n        // } else {\n        self.benhNhanHienTai.YeuCauKhamBenh.CheckValidator = false;\n        if (self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa != true && this.benhNhanHienTai.YeuCauKhamBenh.KhongKeToa != true) {\n            self.benhNhanHienTai.YeuCauKhamBenh.CoKeToa = null;\n        }\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n            self.loadingPage();\n            self.benhNhanHienTai.YeuCauKhamBenh.CoInKeToa = false;\n            self.apiService.post<any>(\"KhamBenh/LuuKetLuan\", self.benhNhanHienTai.YeuCauKhamBenh).subscribe(\n                (res) => {\n                    //console.log(\"resultKetLuan: \", res)\n                    self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs = res.YeuCauKhamBenhICDKhacs;\n                    self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Lưu\"]));\n                    self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n                    self.ganThongTinYeuCauKhamBenhPerevious();\n                    self.closePopupLoadingData();\n                },\n                (err: ApiError) => {\n                    self.validationKetLuanErrors = err.ValidationErrors;\n                    if (err.Message != \"Validation Failed\") {\n                        self.notificationService.showError(err.Message);\n                    }\n                    //console.log(this.validationKetLuanErrors)\n                    self.closePopupLoadingData();\n                });\n        } else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n        // }\n\n    }\n\n    ganThongTinKhamTamThoi() {\n        // let yeuCauKhamBenhKhamBoPhanKhacs = this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs.slice();\n        // let yeuCauKhamBenhChanDoanPhanBiets = this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets.slice();\n        const yeuCauKhamBenhKhamBoPhanKhacs = [];\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs.forEach(val => yeuCauKhamBenhKhamBoPhanKhacs.push(Object.assign({}, val)));\n\n        const yeuCauKhamBenhChanDoanPhanBiets = [];\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets.forEach(val => yeuCauKhamBenhChanDoanPhanBiets.push(Object.assign({}, val)));\n\n        //let ketQuaSinhHieus = Object.assign([], this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus); //this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus.slice();\n\n        //trường hợp sửa data đã lưu trực tiếp trên grid\n        const ketQuaSinhHieus = [];\n        this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus.forEach(val => ketQuaSinhHieus.push(Object.assign({}, val)));\n\n\n        // let khamBenhBenhNhanDiUngThuocs = this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs.slice();\n        // let khamBenhBenhNhanTienSuBenhs = this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs.slice();\n        // let yeuCauKhamBenhBoPhanTonThuongs = this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhBoPhanTonThuongs.slice();\n        const khamBenhBenhNhanDiUngThuocs = [];\n        this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs.forEach(val => khamBenhBenhNhanDiUngThuocs.push(Object.assign({}, val)));\n\n        const khamBenhBenhNhanTienSuBenhs = [];\n        this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs.forEach(val => khamBenhBenhNhanTienSuBenhs.push(Object.assign({}, val)));\n\n        const yeuCauKhamBenhBoPhanTonThuongs = [];\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhBoPhanTonThuongs.forEach(val => yeuCauKhamBenhBoPhanTonThuongs.push(Object.assign({}, val)));\n\n\n        let ThongTinKhamTheoDichVuTemplateObj = JSON.stringify(\n            this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj\n        );\n\n        ketQuaSinhHieus.forEach(element => {\n            if (element.IsUpdate) {\n                element.IsUpdate = false;\n            }\n        });\n\n        // khám đoàn\n        const templateDichVuKhamSucKhoes = [];\n        if (this.isKhamDoan) {\n            this.benhNhanHienTai.YeuCauKhamBenh.TemplateDichVuKhamSucKhoes.forEach(val => {\n                var newObj = new KhamBenhTemplateDichVuKhamSucKhoe(\n                    val.YeuCauKhamBenhId,\n                    val.ChuyenKhoaKhamSucKhoe,\n                    val.TenChuyenKhoa,\n                    val.ThongTinKhamTheoDichVuTemplate,\n                    { \"ComponentDynamics\": [] },\n                    val.ThongTinKhamTheoDichVuData,\n                    val.IsDaKham,\n                    val.IsDungChuyenKhoaLogin);\n                val.TemplateKhamCacCoQuanObj.ComponentDynamics.forEach(element => {\n                    newObj.TemplateKhamCacCoQuanObj.ComponentDynamics.push(Object.assign({}, element));\n                });\n                templateDichVuKhamSucKhoes.push(newObj);\n            });\n        }\n\n        this.thongTinKhamTemp = new ThongTinKhamPrevious(\n            //BVHD-3706\n            // this.benhNhanHienTai.YeuCauTiepNhan.TrieuChungTiepNhan,\n            this.benhNhanHienTai.YeuCauKhamBenh.TrieuChungTiepNhan,\n            \n            this.benhNhanHienTai.YeuCauKhamBenh.BenhSu,\n            this.benhNhanHienTai.YeuCauKhamBenh.ChanDoanCuaNoiGioiThieu,\n            this.benhNhanHienTai.YeuCauKhamBenh.KhamToanThan,\n            this.benhNhanHienTai.YeuCauKhamBenh.TuanHoan,\n            this.benhNhanHienTai.YeuCauKhamBenh.HoHap,\n            this.benhNhanHienTai.YeuCauKhamBenh.TieuHoa,\n            this.benhNhanHienTai.YeuCauKhamBenh.ThanTietNieuSinhDuc,\n            this.benhNhanHienTai.YeuCauKhamBenh.ThanKinh,\n            this.benhNhanHienTai.YeuCauKhamBenh.CoXuongKhop,\n            this.benhNhanHienTai.YeuCauKhamBenh.TaiMuiHong,\n            this.benhNhanHienTai.YeuCauKhamBenh.RangHamMat,\n            this.benhNhanHienTai.YeuCauKhamBenh.NoiTietDinhDuong,\n            this.benhNhanHienTai.YeuCauKhamBenh.SanPhuKhoa,\n            this.benhNhanHienTai.YeuCauKhamBenh.DaLieu,\n            this.benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoICDId,\n            this.benhNhanHienTai.YeuCauKhamBenh.TenChanDoanSoBoICD,\n            this.benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoGhiChu,\n            ThongTinKhamTheoDichVuTemplateObj,\n            yeuCauKhamBenhKhamBoPhanKhacs,\n            yeuCauKhamBenhChanDoanPhanBiets,\n            ketQuaSinhHieus,\n            khamBenhBenhNhanDiUngThuocs,\n            khamBenhBenhNhanTienSuBenhs,\n            yeuCauKhamBenhBoPhanTonThuongs,\n            templateDichVuKhamSucKhoes,\n            null,\n            this.benhNhanHienTai.YeuCauKhamBenh.NoiDungKhamBenh\n        );\n    }\n\n    cancelChangeData() {\n        this.benhNhanHienTai.validationErrors = null;\n        this.ref.detectChanges();\n\n        //BVHD-3706\n        // this.benhNhanHienTai.YeuCauTiepNhan.TrieuChungTiepNhan = this.thongTinKhamTemp.TrieuChungTiepNhan;\n        this.benhNhanHienTai.YeuCauKhamBenh.TrieuChungTiepNhan = this.thongTinKhamTemp.TrieuChungTiepNhan;\n\n        this.benhNhanHienTai.YeuCauKhamBenh.BenhSu = this.thongTinKhamTemp.BenhSu;\n        this.benhNhanHienTai.YeuCauKhamBenh.ChanDoanCuaNoiGioiThieu = this.thongTinKhamTemp.ChanDoanCuaNoiGioiThieu;\n\n        this.benhNhanHienTai.YeuCauKhamBenh.KhamToanThan = this.thongTinKhamTemp.KhamToanThan;\n        this.benhNhanHienTai.YeuCauKhamBenh.TuanHoan = this.thongTinKhamTemp.TuanHoan;\n        this.benhNhanHienTai.YeuCauKhamBenh.HoHap = this.thongTinKhamTemp.HoHap;\n        this.benhNhanHienTai.YeuCauKhamBenh.TieuHoa = this.thongTinKhamTemp.TieuHoa;\n        this.benhNhanHienTai.YeuCauKhamBenh.ThanTietNieuSinhDuc = this.thongTinKhamTemp.ThanTietNieuSinhDuc;\n\n        this.benhNhanHienTai.YeuCauKhamBenh.ThanKinh = this.thongTinKhamTemp.ThanKinh;\n        this.benhNhanHienTai.YeuCauKhamBenh.CoXuongKhop = this.thongTinKhamTemp.CoXuongKhop;\n        this.benhNhanHienTai.YeuCauKhamBenh.TaiMuiHong = this.thongTinKhamTemp.TaiMuiHong;\n        this.benhNhanHienTai.YeuCauKhamBenh.RangHamMat = this.thongTinKhamTemp.RangHamMat;\n        this.benhNhanHienTai.YeuCauKhamBenh.NoiTietDinhDuong = this.thongTinKhamTemp.NoiTietDinhDuong;\n        this.benhNhanHienTai.YeuCauKhamBenh.SanPhuKhoa = this.thongTinKhamTemp.SanPhuKhoa;\n        this.benhNhanHienTai.YeuCauKhamBenh.DaLieu = this.thongTinKhamTemp.DaLieu;\n        this.benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoICDId = this.thongTinKhamTemp.ChanDoanSoBoICDId;\n        this.benhNhanHienTai.YeuCauKhamBenh.TenChanDoanSoBoICD = this.thongTinKhamTemp.TenChanDoanSoBoICD;\n        this.benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoGhiChu = this.thongTinKhamTemp.ChanDoanSoBoGhiChu;\n        this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj = JSON.parse(\n            this.thongTinKhamTemp.ThongTinKhamTheoDichVuTemplateObj\n        );\n\n        // this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs = this.thongTinKhamTemp.YeuCauKhamBenhKhamBoPhanKhacs.slice();\n        // this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets = this.thongTinKhamTemp.YeuCauKhamBenhChanDoanPhanBiets.slice();\n        const yeuCauKhamBenhKhamBoPhanKhacs = [];\n        this.thongTinKhamTemp.YeuCauKhamBenhKhamBoPhanKhacs.forEach(val => yeuCauKhamBenhKhamBoPhanKhacs.push(Object.assign({}, val)));\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs = yeuCauKhamBenhKhamBoPhanKhacs;\n\n        const yeuCauKhamBenhChanDoanPhanBiets = [];\n        this.thongTinKhamTemp.YeuCauKhamBenhChanDoanPhanBiets.forEach(val => yeuCauKhamBenhChanDoanPhanBiets.push(Object.assign({}, val)));\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets = yeuCauKhamBenhChanDoanPhanBiets;\n\n\n        //this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus = this.thongTinKhamTemp.KetQuaSinhHieus.slice();\n        // trường hợp sửa data đã lưu trực tiếp trên grid\n        const ketQuaSinhHieus = [];\n        this.thongTinKhamTemp.KetQuaSinhHieus.forEach(val => ketQuaSinhHieus.push(Object.assign({}, val)));\n        this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus = ketQuaSinhHieus;\n\n\n        // this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs = this.thongTinKhamTemp.KhamBenhBenhNhanDiUngThuocs.slice();\n        // this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs = this.thongTinKhamTemp.KhamBenhBenhNhanTienSuBenhs.slice();\n        // this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhBoPhanTonThuongs = this.thongTinKhamTemp.YeuCauKhamBenhBoPhanTonThuongs.slice();\n        const khamBenhBenhNhanDiUngThuocs = [];\n        this.thongTinKhamTemp.KhamBenhBenhNhanDiUngThuocs.forEach(val => khamBenhBenhNhanDiUngThuocs.push(Object.assign({}, val)));\n        this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs = khamBenhBenhNhanDiUngThuocs;\n\n        const khamBenhBenhNhanTienSuBenhs = [];\n        this.thongTinKhamTemp.KhamBenhBenhNhanTienSuBenhs.forEach(val => khamBenhBenhNhanTienSuBenhs.push(Object.assign({}, val)));\n        this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs = khamBenhBenhNhanTienSuBenhs;\n\n        const yeuCauKhamBenhBoPhanTonThuongs = [];\n        this.thongTinKhamTemp.YeuCauKhamBenhBoPhanTonThuongs.forEach(val => yeuCauKhamBenhBoPhanTonThuongs.push(Object.assign({}, val)));\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhBoPhanTonThuongs = yeuCauKhamBenhBoPhanTonThuongs;\n\n        //khám đoàn\n        // const templateDichVuKhamSucKhoes = [];\n        // this.thongTinKhamTemp.TemplateDichVuKhamSucKhoes.forEach(val => templateDichVuKhamSucKhoes.push(Object.assign({}, val)));\n        // this.benhNhanHienTai.YeuCauKhamBenh.TemplateDichVuKhamSucKhoes = templateDichVuKhamSucKhoes.slice();\n        const templateDichVuKhamSucKhoes = [];\n        if (this.isKhamDoan) {\n            this.thongTinKhamTemp.TemplateDichVuKhamSucKhoes.forEach(val => {\n                var newObj = new KhamBenhTemplateDichVuKhamSucKhoe(\n                    val.YeuCauKhamBenhId,\n                    val.ChuyenKhoaKhamSucKhoe,\n                    val.TenChuyenKhoa,\n                    val.ThongTinKhamTheoDichVuTemplate,\n                    { \"ComponentDynamics\": [] },\n                    val.ThongTinKhamTheoDichVuData,\n                    val.IsDaKham,\n                    val.IsDungChuyenKhoaLogin);\n                val.TemplateKhamCacCoQuanObj.ComponentDynamics.forEach(element => {\n                    newObj.TemplateKhamCacCoQuanObj.ComponentDynamics.push(Object.assign({}, element));\n                });\n                templateDichVuKhamSucKhoes.push(newObj);\n            });\n        }\n        this.benhNhanHienTai.YeuCauKhamBenh.TemplateDichVuKhamSucKhoes = templateDichVuKhamSucKhoes.slice();\n\n        //BVHD-3574\n        this.benhNhanHienTai.YeuCauKhamBenh.NoiDungKhamBenh = this.thongTinKhamTemp.NoiDungKhamBenh;\n\n        this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = false;\n    }\n\n    saveChangeData(hangDoiId: number = null, ignoreCheckValidPhanLoaiSucKhoeId: boolean = false) {\n        if (\n            this.authService.hasPermission(\n                this.documentType,\n                SecurityOperation.Update\n            )\n        ) {\n            this.benhNhanHienTai.validationErrors = null;\n            this.ref.detectChanges();\n\n            this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuData = this.processDynamicComponent();\n            if(ignoreCheckValidPhanLoaiSucKhoeId)\n            {\n                // biến IsDuChuyenKhoaKhamSucKhoeChinh chỉ dùng để lưu, hoàn thành khám ở khám đoàn tất cả => vì có kết hợp chức năng kết luận\n                // còn lưu, hoàn thành khám từng dv khám KSK thì ko cần check phân loại\n                this.benhNhanHienTai.YeuCauTiepNhan.IsDuChuyenKhoaKhamSucKhoeChinh = false;\n            }\n            this.loadingPage();\n            this.apiService\n                .post<any>(\"KhamBenh/LuuThongTinKhamBenh\", this.benhNhanHienTai)\n                .subscribe(\n                    (resultData) => {\n                        this.notificationService.showSuccess(\n                            CommonService.format(SystemMessage.ActionSuccessfully, [\"Lưu\"])\n                        );\n\n                        this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = false;\n\n                        this.benhNhanHienTai.isShowPanelItemKhamBenh = false;\n                        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs =\n                            resultData.YeuCauKhamBenh.YeuCauKhamBenhKhamBoPhanKhacs;\n                        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets =\n                            resultData.YeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets;\n                        this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs =\n                            resultData.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanDiUngThuocs;\n                        this.benhNhanHienTai.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs =\n                            resultData.YeuCauTiepNhan.BenhNhan.KhamBenhBenhNhanTienSuBenhs;\n                        this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus =\n                            resultData.YeuCauTiepNhan.KetQuaSinhHieus;\n\n                        if (resultData.YeuCauKhamBenh.IcdchinhId != 0 && resultData.YeuCauKhamBenh.IcdchinhId != null) {\n                            this.benhNhanHienTai.YeuCauKhamBenh.IcdchinhId =\n                                resultData.YeuCauKhamBenh.IcdchinhId;\n                        }\n                        if (resultData.YeuCauKhamBenh.TenICDChinh != null && resultData.YeuCauKhamBenh.TenICDChinh != \"\") {\n                            this.benhNhanHienTai.YeuCauKhamBenh.TenICDChinh =\n                                resultData.YeuCauKhamBenh.TenICDChinh;\n                        }\n                        if (resultData.YeuCauKhamBenh.GhiChuICDChinh != null && resultData.YeuCauKhamBenh.GhiChuICDChinh != \"\") {\n                            this.benhNhanHienTai.YeuCauKhamBenh.GhiChuICDChinh =\n                                resultData.YeuCauKhamBenh.GhiChuICDChinh;\n                        }\n\n                        this.ganThongTinKhamTamThoi();\n                        if(hangDoiId != null)\n                        {\n                            this.XuLyBatDauKhamBenhNhan(hangDoiId);\n                        }\n                        else\n                        {\n                            this.closePopupLoadingData();\n                        }\n                    },\n                    (err: ApiError) => {\n                        if (!this.lstStatusSelectTabKhambenh.selectedTabKhamBenh) {\n                            this.unSelectedTab();\n                            this.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n                            this.notificationService.showError(\n                                \"Yêu cầu nhập đầy đủ các trường bắt buộc trong tab khám bệnh\"\n                            );\n                        }\n                        this.benhNhanHienTai.validationErrors = err.ValidationErrors;\n                        if (err.Message != \"Validation Failed\") {\n                            this.notificationService.showError(err.Message);\n                        }\n                        this.closePopupLoadingData();\n                    }\n                );\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n\n    loadingPage() {\n        this.popupLoadingData = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: \"200px\",\n            height: \"90px\",\n            data: { Title: \"Đang lưu dữ liệu...\" },\n        });\n    }\n\n    @HostListener(\"document:keydown\", [\"$event\"])\n    keyEvent(event: KeyboardEvent) {\n        var self = this;\n\n        if (self.benhNhanHienTai.Id != 0 && self.isSelectedParentTabKhamBenh) {\n            // kiểm tra lưu // ctr + s\n            if (event.ctrlKey && event.keyCode == 83) {\n                if (self.lstStatusSelectTabKhambenh.selectedTabKhamBenh) {\n                    if (this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh) {\n                        event.preventDefault();\n                        if (this.dialog.openDialogs.length > 0) {\n                            return;\n                        }\n                        this.saveChangeData();\n                    } else if (!this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh) {\n                        event.preventDefault();\n                    }\n                }\n                //KẾT LUẬN\n                else if (self.lstStatusSelectTabKhambenh.selectedTabChanDoan) {\n                    if (this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan) {\n                        event.preventDefault();\n                        if (this.dialog.openDialogs.length > 0) {\n                            return;\n                        }\n                        this.luuKetLuan();\n                    } else if (!this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan) {\n                        event.preventDefault();\n                    }\n                }\n\n                // tường trình pt/tt\n                else if (self.lstStatusSelectTabKhambenh.selectedTabTuongTrinhPttt) {\n                    event.preventDefault();\n                    if (this.dialog.openDialogs.length > 0) {\n                        return;\n                    }\n                    if (this.benhNhanHienTai.YeuCauKhamBenh.IsChangePhauThuat) {\n                        self.onSaveTuongTrinh();\n                    }\n                }\n            }\n\n            // esc\n            if (self.lstStatusSelectTabKhambenh.selectedTabKhamBenh) {\n                // kiểm tra hủy\n                if (\n                    event.keyCode == 27 &&\n                    this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh\n                ) {\n                    event.preventDefault();\n                    this.cancelChangeData();\n                } else if (\n                    event.keyCode == 27 &&\n                    !this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh\n                ) {\n                    event.preventDefault();\n                }\n            } else if (self.lstStatusSelectTabKhambenh.selectedTabChanDoan) {\n                if (\n                    event.keyCode == 27 &&\n                    this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan\n                ) {\n                    event.preventDefault();\n                    this.cancelChangeDataKetLuan();\n                } else if (\n                    event.keyCode == 27 &&\n                    !this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan\n                ) {\n                    event.preventDefault();\n                }\n            } else if (self.lstStatusSelectTabKhambenh.selectedTabTuongTrinhPttt) {\n                // tường trình pt/tt\n\n                // tslint:disable-next-line: deprecation\n                if (\n                    event.keyCode === 27 &&\n                    this.benhNhanHienTai.YeuCauKhamBenh.IsChangePhauThuat\n                ) {\n                    event.preventDefault();\n                    self.onResetTuongTrinh();\n                } else if (\n                    event.keyCode === 27 &&\n                    !this.benhNhanHienTai.YeuCauKhamBenh.IsChangePhauThuat\n                ) {\n                    event.preventDefault();\n                }\n            }\n\n            // ctrl + f1\n            let kendoTab = \"card\";\n            if (event.ctrlKey && event.keyCode == 112) {\n                event.preventDefault();\n                setTimeout(function () {\n                    self.unSelectedTab();\n                    self.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n                    if(!self.isKhamDoan)\n                    {\n                        self.scrollTo(kendoTab);\n                    }\n                }, 100);\n            }\n\n            // ctrl + f2\n            if (event.ctrlKey && event.keyCode == 113) {\n                event.preventDefault();\n                setTimeout(function () {\n                    self.unSelectedTab();\n                    self.lstStatusSelectTabKhambenh.selectedTabLichSuKham = true;\n                    self.scrollTo(kendoTab);\n                }, 100);\n            }\n\n            // ctrl + f3\n            if (event.ctrlKey && event.keyCode == 114) {\n                event.preventDefault();\n                setTimeout(function () {\n                    self.unSelectedTab();\n                    self.lstStatusSelectTabKhambenh.selectedTabChiDinh = true;\n                    self.scrollTo(kendoTab);\n                }, 100);\n            }\n\n            // ctrl + f5\n            if (event.ctrlKey && event.keyCode == 116) {\n                event.preventDefault();\n                setTimeout(function () {\n                    self.unSelectedTab();\n                    self.lstStatusSelectTabKhambenh.selectedTabKetQuaCLS = true;\n                    self.scrollTo(kendoTab);\n                }, 100);\n            }\n\n            // ctrl + f6\n            if (event.ctrlKey && event.keyCode == 117) {\n                event.preventDefault();\n                setTimeout(function () {\n                    self.unSelectedTab();\n                    if(!self.isKhamDoan)\n                    {\n                        self.lstStatusSelectTabKhambenh.selectedTabChanDoan = true;\n                    }\n                    else\n                    {\n                        self.lstStatusSelectTabKhambenh.selectedTabTuVanThuocKhamDoan = true;\n                    }\n                    self.scrollTo(kendoTab);\n                }, 100);\n            }\n\n            // ctrl + f7\n            // if (event.ctrlKey && event.keyCode == 118) {\n            //     event.preventDefault();\n            //     setTimeout(function () {\n            //         self.unSelectedTab();\n            //         self.lstStatusSelectTabKhambenh.selectedTabTuongTrinhPttt = true;\n            //         self.scrollTo(kendoTab);\n            //     }, 100);\n            // }\n\n            // ctrl + T\n            // if (event.ctrlKey && event.keyCode == 39) {\n            //     if (self.lstStatusSelectTabKhambenh.selectedTabKhamBenh) {\n            //         event.preventDefault();\n            //         self.unSelectedTab();\n            //         self.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n            //         self.bnTiepTheo();\n            //     }\n            //     else {\n            //         event.preventDefault();\n            //     }\n            // }\n\n            // ctrl + p\n            if (event.ctrlKey && event.keyCode == 80) {\n                event.preventDefault();\n            }\n\n            // ctrl + H\n\n            if (event.ctrlKey && event.keyCode == 72) {\n                if (self.lstStatusSelectTabKhambenh.selectedTabChanDoan && self.benhNhanHienTai.YeuCauKhamBenh.CoDieuTriNgoaiTru != true){\n                    event.preventDefault();\n                    if (this.dialog.openDialogs.length > 0) {\n                        return;\n                    }\n                    //self.hoanThanhKham();\n                    self.kiemTraDichVuChuaThucHien();\n                }\n                else if(self.isKhamDoan && self.lstStatusSelectTabKhambenh.selectedTabKhamBenh){\n                    event.preventDefault();\n                    if (this.dialog.openDialogs.length > 0) {\n                        return;\n                    }\n                    //this.luuVaHoanThanhKhamDoan();\n                    self.kiemTraDichVuChuaThucHien(true);\n                }\n                else {\n                    event.preventDefault();\n                }\n            }\n        } else {\n            if (\n                event.ctrlKey &&\n                (event.keyCode == 83 ||\n                    event.keyCode == 27 ||\n                    event.keyCode == 112 ||\n                    event.keyCode == 113 ||\n                    event.keyCode == 114 ||\n                    event.keyCode == 115 ||\n                    event.keyCode == 116 ||\n                    event.keyCode == 117 ||\n                    event.keyCode == 39 ||\n                    event.keyCode == 80 ||\n                    event.keyCode == 72)\n            ) {\n                event.preventDefault();\n            }\n        }\n\n        if (self.isSelectedParentTabKhamBenh) {\n            // scan\n            if (event.keyCode == 81 && event.ctrlKey && this.isScanF1 != true) {\n                this.isScanF1 = true;\n                event.preventDefault();\n                this.QuetMaQRCodeClick();\n            }\n        }\n    }\n    huy() {\n        this.cancelChangeDataKetLuan();\n    }\n\n    processDynamicComponent(thongTinTempLateObj: any = null) {\n        let dataKhamTheoTemplate: any;\n        let lstDataKhamTheoTemplate: any[] = [];\n        if(this.isKhamDoan)\n        {\n            let tempplate = this.benhNhanHienTai.YeuCauKhamBenh.TemplateDichVuKhamSucKhoes.find(x => x.IsDungChuyenKhoaLogin);\n            if(tempplate != null)\n            {\n                this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj \n                    = tempplate.TemplateKhamCacCoQuanObj != null && tempplate.TemplateKhamCacCoQuanObj != \"\" ? Object.assign({}, tempplate.TemplateKhamCacCoQuanObj) : null;\n            }\n        }\n        let thongTinKhamTheoDichVuTemplateObj = thongTinTempLateObj == null ? this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj : thongTinTempLateObj;\n        // console.log('processDynamicComponent', thongTinKhamTheoDichVuTemplateObj);\n\n        if (\n            thongTinKhamTheoDichVuTemplateObj !== null\n        ) {\n            thongTinKhamTheoDichVuTemplateObj.ComponentDynamics.forEach(\n                (item) => {\n                    if (\n                        item.groupItems != undefined &&\n                        item.groupItems != null &&\n                        item.groupItems.length > 0\n                    ) {\n                        item.groupItems.forEach((element) => {\n                            if (element.Value != undefined && element.Value !== null) {\n                                dataKhamTheoTemplate = {\n                                    Id: element.Id,\n                                    Value: element.Value,\n                                };\n                                lstDataKhamTheoTemplate.push(dataKhamTheoTemplate);\n                            }\n                        });\n                    } else if (item.Value != undefined && item.Value !== null) {\n                        dataKhamTheoTemplate = {\n                            Id: item.Id,\n                            Value: item.Value,\n                        };\n                        lstDataKhamTheoTemplate.push(dataKhamTheoTemplate);\n                    }\n                }\n            );\n\n            let strLstDataKhamTheoTemplate = JSON.stringify(lstDataKhamTheoTemplate);\n            let saveTemplate =\n                '{\"DataKhamTheoTemplate\": ' + strLstDataKhamTheoTemplate + \"}\";\n            return saveTemplate;\n        }\n        return null;\n    }\n\n    bindDataDynamicComponent(thongTinTempLateObj: any = null, thongTinDataObj: any = null) {\n        if (this.isKhamDoan) {\n            let tempplate = this.benhNhanHienTai.YeuCauKhamBenh.TemplateDichVuKhamSucKhoes.find(x => x.IsDungChuyenKhoaLogin);\n            if(tempplate != null)\n            {\n                this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj \n                    = tempplate.TemplateKhamCacCoQuanObj != null && tempplate.TemplateKhamCacCoQuanObj != \"\" ? Object.assign({}, tempplate.TemplateKhamCacCoQuanObj) : null;\n                this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuData = tempplate.ThongTinKhamTheoDichVuData;\n            }\n        }\n        let strData = thongTinDataObj == null ? this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuData : thongTinDataObj;\n        let thongTinKhamTheoDichVuTemplateObj = thongTinTempLateObj == null ? this.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuTemplateObj : thongTinTempLateObj;\n        if (strData != undefined && strData != null) {\n            let dataObj = JSON.parse(strData);\n            let itemTemp = null;\n            if (thongTinKhamTheoDichVuTemplateObj !== null) {\n                thongTinKhamTheoDichVuTemplateObj.ComponentDynamics.forEach(\n                    (item) => {\n                        if (\n                            item.groupItems != undefined &&\n                            item.groupItems != null &&\n                            item.groupItems.length > 0\n                        ) {\n                            item.groupItems.forEach((element) => {\n                                itemTemp = dataObj.DataKhamTheoTemplate.find(\n                                    (x) => x.Id == element.Id\n                                );\n                                if (itemTemp != null) {\n                                    element.Value = itemTemp.Value;\n                                }\n                            });\n                        } else {\n                            itemTemp = dataObj.DataKhamTheoTemplate.find(\n                                (x) => x.Id == item.Id\n                            );\n                            if (itemTemp != null) {\n                                item.Value = itemTemp.Value;\n                            }\n                        }\n                    }\n                );\n            }\n        }\n    }\n\n    unSelectedTab() {\n        this.lstStatusSelectTabKhambenh.selectedTabKhamBenh = false;\n        this.lstStatusSelectTabKhambenh.selectedTabLichSuKham = false;\n        this.lstStatusSelectTabKhambenh.selectedTabChiDinh = false;\n        this.lstStatusSelectTabKhambenh.selectedTabKetQuaCLS = false;\n        this.lstStatusSelectTabKhambenh.selectedTabChanDoan = false;\n        this.lstStatusSelectTabKhambenh.selectedTabTuongTrinhPttt = false;\n        this.lstStatusSelectTabKhambenh.selectedTabTuVanThuocKhamDoan = false;\n    }\n\n    timeoutSearchChange: any;\n    searchChange(event) {\n        var self = this;\n        if (event != null && typeof event == \"string\" && event.endsWith(\"@\")) {\n            self.timeoutSearchChange = setTimeout(function () {\n                self.modelQRCode = event;\n                self.changeQR(self.modelQRCode);\n            }, 10);\n        }\n        else if (event == null || event == \"\") {\n            this.modelQRCode = null;\n            this.refeshDataGridHangDoi(this.phongKhamHienTai.KeyId);\n        }\n    }\n\n    getAge(date_1, date_2) {\n        // //convert to UTC\n        // let date2_UTC = new Date(\n        //     Date.UTC(\n        //         date_2.getUTCFullYear(),\n        //         date_2.getUTCMonth(),\n        //         date_2.getUTCDate()\n        //     )\n        // );\n        // let date1_UTC = new Date(\n        //     Date.UTC(\n        //         date_1.getUTCFullYear(),\n        //         date_1.getUTCMonth(),\n        //         date_1.getUTCDate()\n        //     )\n        // );\n\n        let yAppendix, mAppendix, dAppendix;\n\n        // let days = date_2.getDate() - date_1.getDate() + 1;\n        let days = date_2.getDate() - date_1.getDate();//Thach edit\n\n        if (days < 0) {\n            date_2.setMonth(date_2.getMonth() - 1);\n            days += this.DaysInMonth(date_2);\n        }\n\n        let months = date_2.getMonth() - date_1.getMonth();\n        if (months < 0) {\n            date_2.setFullYear(date_2.getFullYear() - 1);\n            months += 12;\n        }\n        let years = date_2.getFullYear() - date_1.getFullYear();\n\n        if (years > 1) yAppendix = \" years\";\n        else yAppendix = \" year\";\n        if (months > 1) mAppendix = \" months\";\n        else mAppendix = \" month\";\n        if (days > 1) dAppendix = \" days\";\n        else dAppendix = \" day\";\n\n        if ((years < 6 && years >= 0) || (years == 6 && months == 0 && days == 0)) {\n            this.isDuoi6Tuoi = true;\n        } else {\n            this.isDuoi6Tuoi = false;\n        }\n\n        this.Duoi6TuoiDisplay =\n            years + \" Tuổi \" + months + \" Tháng \" + days + \" Ngày \";\n    }\n\n    DaysInMonth(date2_UTC) {\n        let monthStart: any = new Date(\n            date2_UTC.getFullYear(),\n            date2_UTC.getMonth(),\n            1\n        );\n        let monthEnd: any = new Date(\n            date2_UTC.getFullYear(),\n            date2_UTC.getMonth() + 1,\n            1\n        );\n        let monthLength: any = (monthEnd - monthStart) / (1000 * 60 * 60 * 24);\n        return monthLength;\n    }\n\n    onParentTabSelect(event) {\n        if (event.index == 0 || event.title == 'Khám bệnh') {\n            // dùng để ràng buộc hot key\n            this.isSelectedParentTabKhamBenh = true;\n\n            // reload hàng chờ\n            this.refreshHangDoi(this.phongKhamHienTai.KeyId);\n        }\n        else {\n            this.isSelectedParentTabKhamBenh = false;\n        }\n    }\n\n    inGiayNghiHuongBHXH() {\n        this.apiService.post<any>(\"KhamBenh/KiemTraYeuCauKhamBenh?yeuCauKhamBenhId=\" + this.benhNhanHienTai.YeuCauKhamBenhId).subscribe(\n            resultData1 => {\n                this.dialog.open(NghiHuongBhytConfirmPopupComponent, {\n                    disableClose: true,\n                    width: \"800px\",\n                    data: { BenhNhanHienTai: this.benhNhanHienTai, DocumentType: this.documentType }\n                });\n            }, (err: ApiError) => {\n                this.validationKetLuanErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n            }\n        )\n    }\n\n\n    // tạm thời chưa sử dụng đến, vì feedback này đang pending\n    xuLyChuyenDichVuKham() {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            var self = this;\n            self.dialog\n                .open(LanKhamHienTaiChuyenKhamComponent, {\n                    disableClose: false,\n                    width: \"800px\",\n                    data: {\n                        \"YeuCauTiepNhanId\": self.benhNhanHienTai.YeuCauTiepNhanId,\n                        \"YeuCauKhamBenhId\": self.benhNhanHienTai.YeuCauKhamBenhId,\n                        \"IsKhamBenhDangKham\": false\n                    }\n                })\n                .afterClosed()\n                .subscribe((result) => {\n                    if (result !== undefined && result !== null) // xử lý chuyển dịch vụ khám\n                    {\n                        this.dialog.open(ConfirmComponent, {\n                            disableClose: false,\n                            width: \"500px\",\n                            data: {\n                                Title: \"Xác nhận\",\n                                Message: \"Để chuyển dịch vụ khám, bạn có đồng ý xóa tất cả các dịch vụ, thuốc, vật tư đã chỉ định không?\",\n                            },\n                        }).afterClosed().subscribe((res) => {\n                            if (res == \"Yes\") {\n                                self.loadingPage();\n                                result.PhongBenhVienHangDoiTruocId = self.benhNhanHienTai.Id;\n                                self.apiService.post(\"KhamBenh/XuLyChuyenDichVuKham\", result)\n                                    .subscribe(resultData => {\n                                        self.benhNhanHienTai = new BenhVienHangDoi();\n                                        self.refreshHangDoi(self.phongKhamHienTai.KeyId);\n                                        self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Chuyển khám \"]));\n\n                                        // xử lý người bệnh tiếp theo\n                                        let dialogRefTiepTheo = self.dialog\n                                            .open(LanKhamHienTaiBenhNhanTiepTheoPopupComponent, {\n                                                disableClose: false,\n                                                width: \"600px\",\n                                                data: {\n                                                    phongKhamHienTaiId: self.phongKhamHienTai.KeyId,\n                                                    hangDoiHienTaiId: self.benhNhanHienTai.Id,\n                                                    chuyenKham: true,\n                                                    searchBenhNhan: self.searchStringHangDoiHienTai\n                                                },\n                                            }).afterClosed()\n                                            .subscribe((result) => {\n                                                if (result != undefined && result != null && result > 0) {\n                                                    // result là id hàng đợi tiếp theo\n                                                    self.XuLyBatDauKhamBenhNhan(result, false);\n                                                }\n                                                else //if (result == \"tuChon\") {\n                                                {\n                                                    self.closePopupLoadingData();\n                                                }\n                                            });\n                                    },\n                                        (err: ApiError) => {\n                                            self.closePopupLoadingData();\n                                            if (err.Message != \"Validation Failed\") {\n                                                self.notificationService.showError(err.Message);\n                                            }\n                                        });\n                            }\n                        });\n\n                    }\n                });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    QuetMaQRCodeClick() {\n        let elementBarcode: HTMLElement = document.getElementById(\n            \"barcodeActive\"\n        ) as HTMLElement;\n        if (elementBarcode != undefined) {\n            elementBarcode.click();\n        }\n    }\n\n    changeQR(event) {\n        if (event != null && typeof event == \"string\" && event.endsWith(\"@\")) {\n            // this.modelQRCode = event;\n            var dataTimKiem = event.split(\"|\");\n            if (dataTimKiem.length > 1) {\n                this.searchBenhNhan = dataTimKiem[0];\n            } else {\n                this.searchBenhNhan = event.slice(0, -1);\n            }\n            this.refeshDataGridHangDoi(\n                this.phongKhamHienTai.KeyId,\n                this.searchBenhNhan == null ? \"\" : this.searchBenhNhan\n            );\n        } else {\n            this.notificationService.showError(\"Không tìm thấy thông tin cần tìm.\");\n        }\n        this.isScanF1 = false;\n    }\n\n    //========================================================\n    // phần xử lý khám đoàn\n    // luuVaHoanThanhKhamDoan() {\n    //     if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n    //         this.dialog.open(ConfirmComponent, {\n    //             disableClose: false,\n    //             width: '400px',\n    //             data: { Title: 'Xác nhận', Message: 'Bạn có chắc chắn muốn hoàn thành khám cho người bệnh này không?' }\n    //         }).afterClosed().subscribe(result => {\n    //             if (result == 'Yes') {\n\n    //             }\n    //         });\n    //     }\n    //     else {\n    //         this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    //     }\n    // }\n\n    luuVaHoanThanhKhamDoan() {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            this.dialog.open(ConfirmComponent, {\n                disableClose: false,\n                width: '400px',\n                data: { Title: 'Xác nhận', Message: 'Bạn có chắc chắn muốn hoàn thành khám cho người bệnh này không?' }\n            }).afterClosed().subscribe(res => {\n                if (res == \"Yes\") {\n                    var self = this;\n                    self.benhNhanHienTai.validationErrors = null;\n                    self.ref.detectChanges();\n\n                    self.benhNhanHienTai.YeuCauKhamBenh.ThongTinKhamTheoDichVuData = self.processDynamicComponent();\n\n                    // biến IsDuChuyenKhoaKhamSucKhoeChinh chỉ dùng để lưu, hoàn thành khám ở khám đoàn tất cả => vì có kết hợp chức năng kết luận\n                    // còn lưu, hoàn thành khám từng dv khám KSK thì ko cần check phân loại\n                    self.benhNhanHienTai.YeuCauTiepNhan.IsDuChuyenKhoaKhamSucKhoeChinh = false;\n                    self.loadingPage();\n                    self.apiService\n                        .post<any>(\"KhamBenh/LuuThongTinKhamBenh\", self.benhNhanHienTai)\n                        .subscribe(\n                            (resultData) => {\n                                // 22/11/2021: cập nhật KSK ko mặc định tự chọn người bệnh khi hoàn thành khám\n                                self.ganThongTinYeuCauKhamBenhPerevious();\n                                self.apiService\n                                    .post(\n                                        \"KhamBenh/XuLyHoanThanhCongDoanKhamHienTaiCuaBenhNhan?hangDoiHienTaiId=\" +\n                                        self.benhNhanHienTai.Id +\n                                        \"&hoanThanhKham=true\"\n                                    )\n                                    .subscribe(\n                                        (resultData) => {\n                                            self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Hoàn thành khám\"]));\n                                            // clear data người bệnh hiện tại\n                                            self.benhNhanHienTai = new BenhVienHangDoi();\n                                            self.refreshHangDoi(self.phongKhamHienTai.KeyId);\n                                            self.closePopupLoadingData();\n                                        },\n                                        (err: ApiError) => {\n                                            self.benhNhanHienTai.validationErrors = err.ValidationErrors;\n                                            if (err.Message != \"Validation Failed\") {\n                                                self.notificationService.showError(err.Message);\n                                            }\n                                            self.closePopupLoadingData();\n                                        }\n                                    );\n\n                                // let dialogRefTiepTheo = self.dialog\n                                //     .open(LanKhamHienTaiBenhNhanTiepTheoPopupComponent, {\n                                //         disableClose: false,\n                                //         width: \"600px\",\n                                //         data: {\n                                //             phongKhamHienTaiId: self.phongKhamHienTai.KeyId,\n                                //             hangDoiHienTaiId: self.benhNhanHienTai.Id,\n                                //             laKhamDoan: self.isKhamDoan,\n                                //             searchBenhNhan: self.searchStringHangDoiHienTai\n                                //         },\n                                //     })\n                                //     .afterClosed()\n                                //     .subscribe((result) => {\n                                //         self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n                                //         if (result == \"tuChon\") {\n                                //             // cập nhật người bệnh hiện tại thành chờ làm chỉ định/ hoàn thành khám\n                                //             self.ganThongTinYeuCauKhamBenhPerevious();\n                                //             self.apiService\n                                //                 .post(\n                                //                     \"KhamBenh/XuLyHoanThanhCongDoanKhamHienTaiCuaBenhNhan?hangDoiHienTaiId=\" +\n                                //                     self.benhNhanHienTai.Id +\n                                //                     \"&hoanThanhKham=true\"\n                                //                 )\n                                //                 .subscribe(\n                                //                     (resultData) => {\n                                //                         // clear data người bệnh hiện tại\n                                //                         self.benhNhanHienTai = new BenhVienHangDoi();\n                                //                         self.refreshHangDoi(self.phongKhamHienTai.KeyId);\n                                //                         self.closePopupLoadingData();\n                                //                     },\n                                //                     (err: ApiError) => {\n                                //                         self.benhNhanHienTai.validationErrors = err.ValidationErrors;\n                                //                         if (err.Message != \"Validation Failed\") {\n                                //                             self.notificationService.showError(err.Message);\n                                //                         }\n                                //                         self.closePopupLoadingData();\n                                //                     }\n                                //                 );\n                                //         } else if (result == \"boQua\" || result == null || result == 0) {\n                                //             // giữ nguyên màn hình hiện tại\n                                //             self.closePopupLoadingData();\n                                //         } else if (result > 0) {\n                                //             // result là id hàng đợi tiếp theo\n                                //             self.ganThongTinYeuCauKhamBenhPerevious();\n                                //             self.XuLyBatDauKhamBenhNhan(result, true);\n                                //         }\n                                //     });\n                            },\n                            (err: ApiError) => {\n                                if (!self.lstStatusSelectTabKhambenh.selectedTabKhamBenh) {\n                                    self.unSelectedTab();\n                                    self.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n                                    self.notificationService.showError(\"Yêu cầu nhập đầy đủ các trường bắt buộc trong tab khám bệnh\");\n                                }\n                                self.benhNhanHienTai.validationErrors = err.ValidationErrors;\n                                if (err.Message != \"Validation Failed\") {\n                                    self.notificationService.showError(err.Message);\n                                }\n                                self.closePopupLoadingData();\n                            }\n                        );\n                }\n            });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    chuyenLoaiKham() {\n        // cần xử lý lưu data trước khi chuyển\n        this.isLoadingKhamDoan = true;\n\n        var url = \"/kham-benh\"\n        if(!this.isKhamDoan)\n        {\n            if(this.isKhamDoanTatCa)\n            {\n                url = \"/kham-doan/kham-doan-tat-ca-phong\";\n            }\n            else\n            {\n                url = \"/kham-doan/tiep-nhan\" + url; \n            }\n        }\n        this.router.navigate([url], { queryParams: { IsKhamDoan: !this.isKhamDoan } });\n\n        // self.isLoadingKhamDoan = true;\n        // self.router.routeReuseStrategy.shouldReuseRoute = () => false;\n        // self.router.onSameUrlNavigation = 'reload';\n        // self.router.navigate([this.baseRoute], { queryParams: { IsKhamDoan: !this.isKhamDoan } });\n\n\n        // this.router.navigateByUrl('/', { skipLocationChange: true }).then(() =>\n        //     this.router.navigate(['/kham-benh'], { queryParams: { IsKhamDoan: !this.isKhamDoan } })\n        // );\n    }\n    //========================================================\n\n\n    //=================== Cập nhật thêm chức năng quay lại chưa khám ========================\n    xuLyQuayLaiChuaKham() {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            this.dialog.open(ConfirmComponent, {\n                disableClose: false,\n                width: '400px',\n                data: { Title: 'Xác nhận', Message: 'Bạn có chắc chắn muốn quay lại chưa khám cho người bệnh này không?' }\n            }).afterClosed().subscribe(result => {\n                if (result == 'Yes') {\n                    this.showPopupLoadingData();\n                    this.apiService.put(\"KhamBenh/XuLyQuayLaiChuaKham?hangDoiId=\" + this.benhNhanHienTai.Id)\n                        .subscribe(\n                            () => {\n                                this.closePopupLoadingData();\n                                this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Quay lại chưa khám\"]));\n                                this.benhNhanHienTai = new BenhVienHangDoi();\n                                this.refeshDataGridHangDoi(this.phongKhamHienTai.KeyId);\n                            },\n                            (err: ApiError) => {\n                                if (err.Message != \"Validation Failed\") {\n                                    this.notificationService.showError(err.Message);\n                                }\n                                this.closePopupLoadingData();\n                            }\n                        );\n                }\n            });\n        }\n        else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n    //=============================================================================================\n\n    //=================== Cập nhật thêm chức năng chuyển phòng khám của bệnh nhân =================\n    chonBenhNhanCanChuyenPhong(event) {\n        this.arrNgayCoBenhNhanDuocChon = [];\n        this.arrBenhNhanChuyenPhongId = event;\n        if (event) {\n            this.dataSourceChuanBiKham.data.forEach(benhNhan => {\n                let index = event.findIndex(x => x == benhNhan.Id);\n                if (index !== -1 && this.arrNgayCoBenhNhanDuocChon.findIndex(x => x == benhNhan.NgayKhamBenh) === -1) {\n                    this.arrNgayCoBenhNhanDuocChon.push(benhNhan.NgayKhamBenh);\n                }\n            });\n        }\n    }\n\n    kiemTraNgayCoBenhNhanChonChuyenPhong(ngay: Date): boolean {\n        console.log('kiemTraNgayCoBenhNhanChonChuyenPhong', ngay);\n        let index = this.arrNgayCoBenhNhanDuocChon.findIndex(x => x == ngay);\n        return index !== -1;\n    }\n\n    chuyenPhongKhamBenhNhanDangChon(hangDoiId: number = null)\n    {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            let hangDoiIds: number[] = [];\n            if(hangDoiId != null)\n            {\n                hangDoiIds.push(hangDoiId);\n            }\n            else\n            {\n                hangDoiIds = this.arrBenhNhanChuyenPhongId.slice();\n            }\n            this.dialog.open(LanKhamHienTaiChuyenPhongKhamPopupComponent, {\n                disableClose: false,\n                width: '600px',\n                data: {\n                    DocumentType: this.documentType,\n                    HangDoiIds: hangDoiIds,\n                    PhongHienTaiId: this.phongKhamHienTai.KeyId\n                }\n            }).afterClosed().subscribe((res) => {\n                if (res === true) {\n                    this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Chuyển phòng khám\"]));\n                    if(hangDoiId != null)\n                    {\n                        this.benhNhanHienTai = new BenhVienHangDoi();\n                    }\n                    // this.refreshHangDoi(this.phongKhamHienTai.KeyId);\n                    this.refeshDataGridHangDoi(this.phongKhamHienTai.KeyId, this.searchStringHangDoiHienTai);\n                    if(this.gridChuanBiKham != undefined)\n                    {\n                        this.gridChuanBiKham.checkedByList = [];\n                    }\n                }\n            });\n            \n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n    //=============================================================================================\n\n\n    //=========================================== BVHD-3392 =======================================\n    getDanhSachBenhNhanChoKhamHangDoiChung(\n        phongKhamId: number,\n        searchString: string = \"\"\n    ) {\n        this.apiService\n            .get<Array<YeuCauKhamBenh>>(\n                \"KhamBenh/GetDanhSachChoKhamHangDoiChungAsync?phongKhamHienTaiId=\" +\n                phongKhamId +\n                \"&searchString=\" +\n                searchString +\n                \"&laKhamDoan=\" +\n                this.isKhamDoan\n            )\n            .subscribe((resultData) => {\n                if (resultData !== undefined && resultData != null) {\n                    this.dataSourceChuanBiKhamHangDoiChung = {\n                        data: resultData,\n                        total: resultData.length,\n                    };\n                    if (this.dataSourceChuanBiKhamHangDoiChung.data.length != this.slYeuCauHienTai.ChuanBiKhamHangDoiChung) {\n                        this.slYeuCauHienTai.ChuanBiKhamHangDoiChung = this.dataSourceChuanBiKhamHangDoiChung.data.length;\n                    }\n                } else {\n                    this.dataSourceChuanBiKhamHangDoiChung = {\n                        data: [],\n                        total: 0,\n                    };\n                    this.slYeuCauHienTai.ChuanBiKhamHangDoiChung = 0;\n                }\n            });\n    }\n\n    xuLyShowHangDoiChung(){\n        this.showHangDoiChung = !this.showHangDoiChung;\n        if(this.showHangDoiChung)\n        {\n            this.getDanhSachBenhNhanChoKhamHangDoiChung(this.phongKhamHienTai.KeyId, this.searchStringHangDoiHienTai);\n            if(!this.isKhamDoan)\n            {\n                this.getDanhSachBenhNhanChoKetLuanHangDoiChung(this.phongKhamHienTai.KeyId, this.searchStringHangDoiHienTai);\n            }\n        }\n    }\n    \n    xuLyBatDauKhamNguoiBenhTuHangDoiChung(dataItem) {\n        if (dataItem) {\n            if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n                this.dialog\n                    .open(ConfirmComponent, {\n                        disableClose: false,\n                        width: \"500px\",\n                        data: {\n                            Title: \"Xác nhận\",\n                            Message:\n                                \"Bạn có muốn bắt đầu khám cho người bệnh \" + dataItem.HoTen + \" từ danh sách Người bệnh đợi khám không?\",\n                        },\n                    })\n                    .afterClosed()\n                    .subscribe((res) => {\n                        if (res == \"Yes\") {\n                            this.showPopupLoadingData();\n                            let obj = {\n                                HangDoiIds: [dataItem.Id],\n                                PhongHienTaiId: this.phongKhamHienTai.KeyId,\n                                PhongThucHienId: this.phongKhamHienTai.KeyId\n                            }\n                            this.apiService.put<any>(\"KhamBenh/XuLyChuyenPhongThucHienDichVuKham\", obj).subscribe(\n                                resultData => {\n                                    this.closePopupLoadingData();\n                                    this.batDauKham(dataItem);\n                                    this.showHangDoiChung = false;\n                                },\n                                (err: ApiError) => {\n                                    if (err.Message != \"Validation Failed\") {\n                                        this.notificationService.showError(err.Message);\n                                    }\n                                    this.closePopupLoadingData();\n                                }\n                            );\n                        }\n                    });\n            } else {\n                this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n            }\n        }\n    }\n    //=============================================================================================\n\n    //=================== Cập nhật thêm chức năng quay lại chưa khám khám đoàn theo phòng ========================\n    xuLyQuayLaiChuaKhamKhamDoanTheoPhong() {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            this.dialog.open(ConfirmComponent, {\n                disableClose: false,\n                width: '400px',\n                data: { Title: 'Xác nhận', Message: 'Bạn có chắc chắn muốn quay lại chưa khám cho người bệnh này không?' }\n            }).afterClosed().subscribe(result => {\n                if (result == 'Yes') {\n                    this.showPopupLoadingData();\n                    this.apiService.put(\"KhamBenh/XuLyQuayLaiChuaKhamKhamDoanTheoPhong?hangDoiId=\" + this.benhNhanHienTai.Id)\n                        .subscribe(\n                            () => {\n                                this.closePopupLoadingData();\n                                this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Quay lại chưa khám\"]));\n                                this.benhNhanHienTai = new BenhVienHangDoi();\n                                this.unSelectedTab();\n                                this.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n                                this.refeshDataGridHangDoi(this.phongKhamHienTai.KeyId);\n                            },\n                            (err: ApiError) => {\n                                if (err.Message != \"Validation Failed\") {\n                                    this.notificationService.showError(err.Message);\n                                }\n                                this.closePopupLoadingData();\n                            }\n                        );\n                }\n            });\n        }\n        else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n    //=============================================================================================\n\n    //============================================BVHD-3574========================================\n    kiemTraKhoaHienTaiCoNhieuNguoiBenh() {\n        if (!this.isKhamDoan && !this.isKhamDoanTatCa) {\n            this.apiService.get<boolean>(\"KhamBenh/KiemTraKhoaHienTaiCoNhieuNguoiBenh\")\n                .subscribe(result => {\n                    this.LaChuyenKhoaKhamNhieu = result;\n                },\n                    (err: ApiError) => {\n                        if (err.Message != \"Validation Failed\") {\n                            this.notificationService.showError(err.Message);\n                        }\n                    }\n                );\n        }\n    }\n\n\n    capNhatDoiTuong() {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n          this.dialog.open(KhamBenhThongTinDoiTuongPopupComponent, {\n            disableClose: false,\n            width: '1600px',\n            data: {\n              \"YeuCauTiepNhanId\": this.benhNhanHienTai.YeuCauTiepNhanId\n            }\n          }).afterClosed().subscribe(result => {\n            if(result)\n            {\n              // xử lý load lại thông tin đối tượng\n              this.refreshPage();\n            }\n          });\n        }\n        else {\n          this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n      }\n    //=============================================================================================\n    //----------------------------BVHD-3698--------------------------------------------------------\n    inGiayNghiDuongThai() {\n        let dataYCKB =  {\n            YeuCauKhamBenhId :this.benhNhanHienTai.YeuCauKhamBenhId,\n            TuNgay:null,\n            DenNgay:null,\n        };\n        this.dialog.open(NgayDuongThaiXacNhanPopupComponent, {\n            disableClose: false,\n            width: '400px',\n            data: dataYCKB\n          });\n    }\n    //----------------------------end BVHD-3698----------------------------------------------------\n\n\n    //=============================================================================================\n    //----------------------------BVHD-3751--------------------------------------------------------\n    getDanhSachBenhNhanChoKetLuanHangDoiChung(\n        phongKhamId: number,\n        searchString: string = \"\"\n    ) {\n        this.apiService\n            .get<Array<YeuCauKhamBenh>>(\n                \"KhamBenh/GetDanhSachChoKetLuanHangDoiChungAsync?phongKhamHienTaiId=\" +\n                phongKhamId +\n                \"&searchString=\" +\n                searchString\n            )\n            .subscribe((resultData) => {\n                if (resultData !== undefined && resultData != null) {\n                    this.dataSourceChoKetLuanHangDoiChung = {\n                        data: resultData,\n                        total: resultData.length,\n                    };\n                    if (this.dataSourceChoKetLuanHangDoiChung.data.length != this.slYeuCauHienTai.ChoKetLuanHangDoiChung) {\n                        this.slYeuCauHienTai.ChoKetLuanHangDoiChung = this.dataSourceChoKetLuanHangDoiChung.data.length;\n                    }\n                } else {\n                    this.dataSourceChoKetLuanHangDoiChung = {\n                        data: [],\n                        total: 0,\n                    };\n                    this.slYeuCauHienTai.ChoKetLuanHangDoiChung = 0;\n                }\n            });\n    }\n\n    xuLyKetLuanNguoiBenhTuHangDoiChung(dataItem) {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            this.dialog.open(KetLuanNguoiBenhHangDoiChungPopupComponent, {\n                disableClose: false,\n                width: '1600px',\n                data: {\n                    DocumentType: this.documentType,\n                    HangDoiId: dataItem.Id,\n                    PhongThucHienId: dataItem.NoiDangKyId\n                }\n            }).afterClosed().subscribe((res) => {\n                if (res === true) {\n                    // this.refeshDataGridHangDoi(this.phongKhamHienTai.KeyId, this.searchStringHangDoiHienTai);\n                    // if (this.gridChuanBiKham != undefined) {\n                    //     this.gridChuanBiKham.checkedByList = [];\n                    // }\n                    this.getDanhSachBenhNhanChoKetLuanHangDoiChung(this.phongKhamHienTai.KeyId, this.searchStringHangDoiHienTai);\n                }\n            });\n\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n    //----------------------------end BVHD-3751----------------------------------------------------\n\n    //=============================================================================================\n    //----------------------------BVHD-3797--------------------------------------------------------\n    kiemTraDichVuChuaThucHien(laKhamDoan: boolean = false) {\n        if (\n            this.authService.hasPermission(\n                this.documentType,\n                SecurityOperation.Update\n            )\n        ) {\n            this.apiService.get<Array<YeuCauKhamBenh>>(\"KhamBenh/KiemTraCoDichVuChuaThucHien?yeuCauKhamBenhId=\" + this.benhNhanHienTai.YeuCauKhamBenhId)\n                .subscribe((resultData) => {\n                    if (resultData !== undefined && resultData !== null && resultData.length > 0) {\n                        this.dialog.open(KhamBenhDichVuChuaThucHienPopupComponent, {\n                            disableClose: false,\n                            width: '600px',\n                            data: {\n                              \"DichVus\": resultData\n                            }\n                          }).afterClosed().subscribe(result => {\n                              if (result == \"Yes\") {\n                                  if (laKhamDoan) {\n                                      this.luuVaHoanThanhKhamDoan();\n                                  }\n                                  else {\n                                      this.hoanThanhKham();\n                                  }\n                              }\n                          });\n                    } else {\n                        if (laKhamDoan) {\n                            this.luuVaHoanThanhKhamDoan();\n                        }\n                        else {\n                            this.hoanThanhKham();\n                        }\n                    }\n                });\n        }\n        else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n    //----------------------------end BVHD-3797----------------------------------------------------\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2NhcC1uaGF0LXRob25nLXRpbi10aHVjLWhpZW4tZHZrdC1wb3B1cC9jYXAtbmhhdC10aG9uZy10aW4tdGh1Yy1oaWVuLWR2a3QtcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport { TrangThaiThucHienYeuCauDichVuKyThuat } from '../../../kham-benh.model';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { AuthService } from 'src/app/core/services/auth.service';\n\n@Component({\n  selector: 'app-cap-nhat-thong-tin-thuc-hien-dvkt-popup',\n  templateUrl: './cap-nhat-thong-tin-thuc-hien-dvkt-popup.component.html',\n  styleUrls: ['./cap-nhat-thong-tin-thuc-hien-dvkt-popup.component.scss']\n})\nexport class CapNhatThongTinThucHienDvktPopupComponent implements OnInit {\n\n  icClose = icClose;\n  icSearch = icSearch;\n\n  documentType: DocumentType;\n  validationErrors: any;\n  yeuCauDichVuKyThuatId: number;\n  laThucHienDichVu: boolean;\n  laKhamDoanTatCa: boolean = false;\n  IsKhamBenhDangKham: boolean = false;\n  title: string = 'Xác nhận';\n\n  apiGetDataName: string = \"GetYeuCauDichVuKyThuatById?yeuCauDichVuKyThuatId=\";\n  apiPutDataName: string = \"XuLyCapNhatThucHienYeuCauDichVuKyThuat\";\n  controllerName: string = \"KhamBenh\";\n\n  yeuCauDichVuKyThuat: TrangThaiThucHienYeuCauDichVuKyThuat = new TrangThaiThucHienYeuCauDichVuKyThuat(); \n\n  constructor(\n    private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n    public dialogRef: MatDialogRef<CapNhatThongTinThucHienDvktPopupComponent>,\n    private apiService: ApiService,\n    private authService: AuthService,\n    private notificationService: NotificationService\n  ) { }\n\n  ngOnInit() {\n    this.documentType = this.data.DocumentType;\n    this.yeuCauDichVuKyThuatId = this.data.YeuCauDichVuKyThuatId;\n    this.laThucHienDichVu = this.data.LaThucHienDichVu;\n    this.laKhamDoanTatCa = this.data.LaKhamDoanTatCa;\n    this.IsKhamBenhDangKham = this.data.IsKhamBenhDangKham != undefined && this.data.IsKhamBenhDangKham;\n    // if(this.laThucHienDichVu)\n    // {\n    //   this.title = \"Cập nhật thực hiện dịch vụ\";\n    // }\n    // else\n    // {\n    //   this.title = \"Hủy thực hiện dịch vụ\";\n    // }\n\n    switch(this.data.DocumentType)\n    {\n      case DocumentType.KhamBenh:\n        this.controllerName = \"KhamBenh\"; break;\n      case DocumentType.DanhSachDieuTriNoiTru:\n        this.controllerName = \"DieuTriNoiTru\"; break;\n      case DocumentType.YeuCauTiepNhan:\n        this.controllerName = \"TiepNhanBenhNhan\"; break;\n      case DocumentType.TiemChungKhamSangLoc:\n        this.controllerName = \"TiemChung\"; break;\n      case DocumentType.TiemChungThucHienTiem:\n        this.controllerName = \"TiemChung\"; break;\n      \n      // cập nhật theo chức năng gọi lại dùng chung\n      //..............\n\n      default:\n        this.controllerName = \"KhamBenh\"; break;\n    }\n\n    this.getThongTinYeuCauDichVuKyThuat(this.yeuCauDichVuKyThuatId);\n  }\n\n  getThongTinYeuCauDichVuKyThuat(yeuCauDichVuKyThuatId: number) {\n    this.apiService.get<any>(this.controllerName + \"/\" + this.apiGetDataName + yeuCauDichVuKyThuatId).subscribe(resultData => {\n      if (resultData) {\n        this.yeuCauDichVuKyThuat = resultData;\n        this.yeuCauDichVuKyThuat.YeuCauKhamBenhId = this.data.YeuCauKhamBenhId;\n        this.yeuCauDichVuKyThuat.IsKhamBenhDangKham = this.documentType == DocumentType.KhamBenhDangKham || this.IsKhamBenhDangKham;\n        this.yeuCauDichVuKyThuat.LaThucHienDichVu = this.laThucHienDichVu;\n        this.yeuCauDichVuKyThuat.LaKhamDoanTatCa = this.laKhamDoanTatCa;\n      }\n    },\n      (err: ApiError) => {\n        if (err.Message != \"Validation Failed\") {\n          this.notificationService.showError(err.Message);\n        }\n      });\n  }\n\n  xuLyCapNhatThongTinThucHienDichVu() {\n    if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n      this.apiService.put<any>(this.controllerName + \"/\" + this.apiPutDataName, this.yeuCauDichVuKyThuat).subscribe(\n        resultData => {\n          this.dialogRef.close(true);\n        },\n        (err: ApiError) => {\n          this.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            this.notificationService.showError(err.Message);\n          }\n        });\n    }\n    else {\n      this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2NoYW4tZG9hbi1jdWEtYmFjLXNpLWtoYWMtcG9wdXAvY2hhbi1kb2FuLWN1YS1iYWMtc2kta2hhYy1wb3B1cC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\n@Component({\n  selector: 'app-chan-doan-cua-bac-si-khac-popup',\n  templateUrl: './chan-doan-cua-bac-si-khac-popup.component.html',\n  styleUrls: ['./chan-doan-cua-bac-si-khac-popup.component.scss']\n})\nexport class ChanDoanCuaBacSiKhacPopupComponent implements OnInit {\n  icClose = icClose;\n  urlGetData: string = \"KhamBenh/GetChanDoanBacSiKhacDataForGridAsync\";\n  urlGetTotalPage: string = \"KhamBenh/GetChanDoanBacSiKhacTotalPageForGridAsync\";\n  urlGetDataDetail: string = \"KhamBenh/GetICDKhacDataForGridAsyncDetail\";\n  urlGetTotalPageDetail: string = \"KhamBenh/GetICDKhacTotalPageForGridAsyncDetail\";\n  yeuCauKhamBenhId: number = null;\n  validationErrors: any[] = [];\n  gridColumns: any[] = [];\n  gridColumnsChild: any[] = [];\n\n  dataChanDoan = {\n    data: [],\n    total: 0\n  }\n  constructor(\n    private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any\n  ) { \n  }\n\n  ngOnInit() {\n    this.yeuCauKhamBenhId = this.data.Model.Id;\n    this.gridColumns = [\n      { Field: \"TenDichVu\", Title: \"Dịch vụ khám\", Width: 150 , Sortable: true },\n      { Field: \"TenBacSiKham\", Title: \"Bác sĩ khám\", Width: 150 , Sortable: true },\n    ];\n\n    this.gridColumnsChild = [\n      { Field: \"TenICDKhac\", Title: \"Chẩn đoán ICD kèm theo\", Width: 150 , Sortable: true },\n      { Field: \"GhiChu\", Title: \"Chẩn đoán\", Width: 150 , Sortable: true },\n    ];\n\n  }\n\n  close() {\n    this.dialog.closeAll();\n  }\n\n\n\n}\n","export default \".md-primary {\\n  color: white;\\n  background-color: #005dab;\\n}\\n\\n.form-footer {\\n  margin-top: 1.34375em;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n  height: auto;\\n}\\n\\nfieldset legend {\\n  display: flex;\\n  align-items: flex-end;\\n  text-transform: uppercase;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvY2hpbmgtc3VhLWRvbi10aHVvYy1jaGktdGlldC1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcY2hpbmgtc3VhLWRvbi10aHVvYy1jaGktdGlldC1wb3B1cFxcY2hpbmgtc3VhLWRvbi10aHVvYy1jaGktdGlldC1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvY2hpbmgtc3VhLWRvbi10aHVvYy1jaGktdGlldC1wb3B1cC9jaGluaC1zdWEtZG9uLXRodW9jLWNoaS10aWV0LXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSw4QkFBQTtFQUNBLGtDQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQ0FBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0VBQ0EscUJBQUE7RUFDQSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2NoaW5oLXN1YS1kb24tdGh1b2MtY2hpLXRpZXQtcG9wdXAvY2hpbmgtc3VhLWRvbi10aHVvYy1jaGktdGlldC1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tZC1wcmltYXJ5IHtcbiAgY29sb3I6IHdoaXRlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1ZGFiO1xufVxuXG4uZm9ybS1mb290ZXIge1xuICBtYXJnaW4tdG9wOiAxLjM0Mzc1ZW07XG59XG5cbmZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctbGVmdDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG4gIGhlaWdodDogYXV0bztcbn1cblxuZmllbGRzZXQgbGVnZW5kIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn0iLCIubWQtcHJpbWFyeSB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNWRhYjtcbn1cblxuLmZvcm0tZm9vdGVyIHtcbiAgbWFyZ2luLXRvcDogMS4zNDM3NWVtO1xufVxuXG5maWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xuICBoZWlnaHQ6IGF1dG87XG59XG5cbmZpZWxkc2V0IGxlZ2VuZCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, Inject, ChangeDetectorRef } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { KeToaItem } from '../../../kham-benh.model';\nimport { parseNumber } from '@progress/kendo-angular-intl';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\n\n@Component({\n  selector: 'app-chinh-sua-don-thuoc-chi-tiet-popup',\n  templateUrl: './chinh-sua-don-thuoc-chi-tiet-popup.component.html',\n  styleUrls: ['./chinh-sua-don-thuoc-chi-tiet-popup.component.scss']\n})\nexport class ChinhSuaDonThuocChiTietPopupComponent implements OnInit {\n  icClose = icClose;\n  validationErrors: any[] = [];\n  thoiGianDonThuocDataSource: any;\n  ghiChuDonThuocChiTietDataSource: any;\n  tongDungThuocTrongNgay: number = null;\n  isSelectDuocPham: boolean = false;\n  loaiDuocPhamHoacVatTu: number = 1;\n  ghiChuKeToaDataSource: any = [\"Chú ý sử dụng thuốc theo toa\", \"Không lạm dụng kháng sinh hoặc từ chối kháng sinh\",\n    \"Tránh uống cùng lúc nhiều loại thuốc\", \"Uống trước khi ăn\", \"Uống sau khi ăn\", \"Để xa tầm tay trẻ em\",\n    \"Thuốc dùng cho thử lâm sàng. Cấm dùng cho mục đích khác\", \"Thuốc dùng ngoài\", \"Lắc kỹ trước khi dùng\"];\n  keToaEdit: KeToaItem = new KeToaItem();\n  IsKhamBenhDangKham: boolean = false;\n\n  validationErrorsUpdate: any = null;\n  dataChanDoan = {\n    data: [],\n    total: 0\n  }\n  documentType: DocumentType; //= DocumentType.KhamBenhDangKham;\n  constructor(\n    private ref: ChangeDetectorRef,\n    private notificationService: NotificationService,\n    private apiService: ApiService,\n    private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n    public dialogRef: MatDialogRef<ChinhSuaDonThuocChiTietPopupComponent>\n  ) {\n  }\n\n  ngOnInit() {\n    console.log(\"data \", this.data)\n    this.keToaEdit = this.data.Model;\n    this.documentType = this.data.documentType;\n    this.IsKhamBenhDangKham = this.data.IsKhamBenhDangKham != undefined && this.data.IsKhamBenhDangKham;\n    this.getThoiGianDonThuoc();\n    //this.getGhiChuDonThuocChiTiet();\n    // this.tinhTongDungThuocTrongNgay();\n    // this.hienThiLieuDung();\n  }\n\n  onKey(event: any) {\n    if (event.key == \"Enter\") {\n      if (this.isSelectDuocPham != true) {\n        this.luuKeToa();\n      }\n      else {\n        this.isSelectDuocPham = false;\n      }\n    }\n  }\n  close() {\n    this.dialog.closeAll();\n  }\n  closePopup(result: any) {\n    this.dialogRef.close(result);\n  }\n  dangXuLy:boolean=false;\n  luuKeToa() {\n    if(this.dangXuLy)\n        return;\n    this.dangXuLy=true;\n    this.validationErrorsUpdate = null;\n    this.ref.detectChanges();\n    if (this.documentType == DocumentType.KhamBenhDangKham || this.IsKhamBenhDangKham) {\n      this.keToaEdit.IsKhamBenhDangKham = true;\n    }\n    this.apiService.post(\"KhamBenh/UpdateDonThuocChiTiet\", this.keToaEdit).subscribe(\n      (res) => {\n        let obj = {\n          KeToaEdit: this.keToaEdit,\n          Status: \"CapNhat\",\n          MucTranChiPhi: res\n        }\n        this.closePopup(obj);\n        this.dangXuLy=false;\n      },\n      (err: ApiError) => {\n        this.validationErrorsUpdate = err.ValidationErrors;\n        if (err.Message != \"Validation Failed\") {\n          this.notificationService.showError(err.Message);\n        }\n        this.dangXuLy=false;\n      });\n  }\n  getThoiGianDonThuoc() {\n    this.apiService.get<Array<string>>(\"KhamBenh/ThoiGianDonThuoc\").subscribe(\n      resultData => {\n        this.thoiGianDonThuocDataSource = resultData;\n      }\n    )\n  }\n\n  getGhiChuDonThuocChiTiet() {\n    this.apiService.get<Array<string>>(\"KhamBenh/GetGhiChuDonThuocChiTiet\").subscribe(\n      resultData => {\n        this.ghiChuDonThuocChiTietDataSource = resultData;\n      }\n    )\n  }\n  nhapDungCacBuoiTrongNgayChinhSua(event: any, buoi: any) {\n    switch (buoi) {\n      case \"Sang\":\n        if ((event == undefined && this.keToaEdit.TruaDisplay == undefined && this.keToaEdit.ChieuDisplay == undefined && this.keToaEdit.ToiDisplay == undefined)\n          || (event == \"\" && this.keToaEdit.TruaDisplay == \"\" && this.keToaEdit.ChieuDisplay == \"\" && this.keToaEdit.ToiDisplay == \"\")\n          || (event == \"\" && this.keToaEdit.TruaDisplay == \"\" && this.keToaEdit.ChieuDisplay == \"\" && this.keToaEdit.ToiDisplay == null)\n          || (event == \"\" && this.keToaEdit.TruaDisplay == \"\" && this.keToaEdit.ChieuDisplay == null && this.keToaEdit.ToiDisplay == null)\n          || (event == \"\" && this.keToaEdit.TruaDisplay == null && this.keToaEdit.ChieuDisplay == null && this.keToaEdit.ToiDisplay == null)\n        ) {\n          this.keToaEdit.SoNgayDung = this.TongSoNgaySuDung(this.keToaEdit.SoLuong, event, this.keToaEdit.TruaDisplay, this.keToaEdit.ChieuDisplay, this.keToaEdit.ToiDisplay);\n          return null;\n        }\n        else {\n          this.keToaEdit.SoNgayDung = this.TongSoNgaySuDung(this.keToaEdit.SoLuong, event, this.keToaEdit.TruaDisplay, this.keToaEdit.ChieuDisplay, this.keToaEdit.ToiDisplay);\n          return null;\n\n        }\n      case \"Trua\":\n        if (\n          (event == undefined && this.keToaEdit.SangDisplay == undefined && this.keToaEdit.ChieuDisplay == undefined && this.keToaEdit.ToiDisplay == undefined)\n          || (event == \"\" && this.keToaEdit.SangDisplay == \"\" && this.keToaEdit.ChieuDisplay == \"\" && this.keToaEdit.ToiDisplay == \"\")\n          || (event == \"\" && this.keToaEdit.SangDisplay == \"\" && this.keToaEdit.ChieuDisplay == \"\" && this.keToaEdit.ToiDisplay == null)\n          || (event == \"\" && this.keToaEdit.SangDisplay == \"\" && this.keToaEdit.ChieuDisplay == null && this.keToaEdit.ToiDisplay == null)\n          || (event == \"\" && this.keToaEdit.SangDisplay == null && this.keToaEdit.ChieuDisplay == null && this.keToaEdit.ToiDisplay == null)\n        ) {\n          this.keToaEdit.SoNgayDung = this.TongSoNgaySuDung(this.keToaEdit.SoLuong, this.keToaEdit.SangDisplay, event, this.keToaEdit.ChieuDisplay, this.keToaEdit.ToiDisplay);\n          return null;\n\n        }\n        else {\n          this.keToaEdit.SoNgayDung = this.TongSoNgaySuDung(this.keToaEdit.SoLuong, this.keToaEdit.SangDisplay, event, this.keToaEdit.ChieuDisplay, this.keToaEdit.ToiDisplay);\n          return null;\n\n        }\n      case \"Chieu\":\n        if ((event == undefined && this.keToaEdit.TruaDisplay == undefined && this.keToaEdit.SangDisplay == undefined && this.keToaEdit.ToiDisplay == undefined)\n          || (event == \"\" && this.keToaEdit.TruaDisplay == \"\" && this.keToaEdit.SangDisplay == \"\" && this.keToaEdit.ToiDisplay == \"\")\n          || (event == \"\" && this.keToaEdit.TruaDisplay == \"\" && this.keToaEdit.SangDisplay == \"\" && this.keToaEdit.ToiDisplay == null)\n          || (event == \"\" && this.keToaEdit.TruaDisplay == \"\" && this.keToaEdit.SangDisplay == null && this.keToaEdit.ToiDisplay == null)\n          || (event == \"\" && this.keToaEdit.TruaDisplay == null && this.keToaEdit.SangDisplay == null && this.keToaEdit.ToiDisplay == null)\n        ) {\n          this.keToaEdit.SoNgayDung = this.TongSoNgaySuDung(this.keToaEdit.SoLuong, this.keToaEdit.SangDisplay, this.keToaEdit.TruaDisplay, event, this.keToaEdit.ToiDisplay);\n          return null;\n\n        }\n        else {\n          this.keToaEdit.SoNgayDung = this.TongSoNgaySuDung(this.keToaEdit.SoLuong, this.keToaEdit.SangDisplay, this.keToaEdit.TruaDisplay, event, this.keToaEdit.ToiDisplay);\n          return null;\n\n        }\n      case \"Toi\":\n        if ((event == undefined && this.keToaEdit.SangDisplay == undefined && this.keToaEdit.ChieuDisplay == undefined && this.keToaEdit.TruaDisplay == undefined)\n          || (event == \"\" && this.keToaEdit.SangDisplay == \"\" && this.keToaEdit.ChieuDisplay == \"\" && this.keToaEdit.TruaDisplay == \"\")\n          || (event == \"\" && this.keToaEdit.SangDisplay == \"\" && this.keToaEdit.ChieuDisplay == \"\" && this.keToaEdit.TruaDisplay == null)\n          || (event == \"\" && this.keToaEdit.SangDisplay == \"\" && this.keToaEdit.ChieuDisplay == null && this.keToaEdit.TruaDisplay == null)\n          || (event == \"\" && this.keToaEdit.SangDisplay == null && this.keToaEdit.ChieuDisplay == null && this.keToaEdit.TruaDisplay == null)\n        ) {\n          this.keToaEdit.SoNgayDung = this.TongSoNgaySuDung(this.keToaEdit.SoLuong, this.keToaEdit.SangDisplay, this.keToaEdit.TruaDisplay, this.keToaEdit.ChieuDisplay, event);\n          return null;\n\n        }\n        else {\n          this.keToaEdit.SoNgayDung = this.TongSoNgaySuDung(this.keToaEdit.SoLuong, this.keToaEdit.SangDisplay, this.keToaEdit.TruaDisplay, this.keToaEdit.ChieuDisplay, event);\n          return null;\n\n        }\n    }\n  }\n\n  TongSoNgaySuDung(soLuong: number, dungSang: string, dungTrua: string, dungChieu: string, dungToi: string) {\n    let sang: number, trua: number, chieu: number, toi: number, sum: number, result: number;\n    if (dungSang == \"\" || dungSang == null || dungSang == undefined) {\n      sang = 0;\n    }\n    else {\n      sang = CommonService.FormatStringFractionToFloat(dungSang);\n    }\n\n    if (dungTrua == \"\" || dungTrua == null || dungTrua == undefined) {\n      trua = 0;\n    }\n    else {\n      trua = CommonService.FormatStringFractionToFloat(dungTrua);\n    }\n\n    if (dungChieu == \"\" || dungChieu == null || dungChieu == undefined) {\n      chieu = 0;\n    }\n    else {\n      chieu = CommonService.FormatStringFractionToFloat(dungChieu);\n    }\n\n    if (dungToi == \"\" || dungToi == null || dungToi == undefined) {\n      toi = 0;\n    }\n    else {\n      toi = CommonService.FormatStringFractionToFloat(dungToi);\n    }\n    sum = sang + trua + chieu + toi;\n    if (sum > this.keToaEdit.SoLuong) {\n      this.keToaEdit.SoLuong = sum;\n      soLuong = this.keToaEdit.SoLuong;\n    }\n\n    this.apiService.post<any>(\"KhamBenh/FormatNumber?inputNumber=\" + sum).subscribe(\n      resultData => {\n        if (resultData != null) {\n          if (resultData == \"0\") {\n            this.keToaEdit.LieuDung = null;\n          }\n          else {\n            this.keToaEdit.LieuDung = resultData;\n            if (soLuong != null) {\n              let soNgayDung = (soLuong / parseNumber(CommonService.FormatStringFractionToFloat(this.keToaEdit.LieuDung)));\n              result = Math.ceil(soNgayDung);\n              this.keToaEdit.SoNgayDung = result;\n            }\n          }\n          return result;\n        }\n      }\n    );\n    return null;\n  }\n\n  convertInt() {\n    if (this.keToaEdit.SoNgayDung != null)\n      this.keToaEdit.SoNgayDung = parseInt(this.keToaEdit.SoNgayDung.toString());\n  }\n\n  // SoLuongChange() {\n  //   if (this.keToaEdit.SoLuong != null && this.keToaEdit.LieuDung != null && this.keToaEdit.LieuDung != \"\") {\n  //     let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.keToaEdit.LieuDung));\n  //     this.keToaEdit.SoNgayDung = Math.ceil(this.keToaEdit.SoLuong / lieuDung);\n  //     this.keToaEdit.SangDisplay = null;\n  //     this.keToaEdit.ThoiGianDungSang = null;\n  //     this.keToaEdit.TruaDisplay = null;\n  //     this.keToaEdit.ThoiGianDungTrua = null;\n  //     this.keToaEdit.ChieuDisplay = null;\n  //     this.keToaEdit.ThoiGianDungChieu = null;\n  //     this.keToaEdit.ToiDisplay = null;\n  //     this.keToaEdit.ThoiGianDungToi = null;\n  //   }\n  //   else if (this.keToaEdit.SoLuong == null) {\n  //     this.keToaEdit.LieuDung = null;\n  //     this.keToaEdit.SoNgayDung = null;\n  //     this.keToaEdit.SangDisplay = null;\n  //     this.keToaEdit.ThoiGianDungSang = null;\n  //     this.keToaEdit.TruaDisplay = null;\n  //     this.keToaEdit.ThoiGianDungTrua = null;\n  //     this.keToaEdit.ChieuDisplay = null;\n  //     this.keToaEdit.ThoiGianDungChieu = null;\n  //     this.keToaEdit.ToiDisplay = null;\n  //     this.keToaEdit.ThoiGianDungToi = null;\n  //   }\n  // }\n\n  SoLuongChange(event: any) {\n    // if (this.keToaEdit.SoLuong != null && this.keToaEdit.LieuDungTrenNgayDisplay != null && this.keToaEdit.LieuDungTrenNgayDisplay != \"\") {\n    //   let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.keToaEdit.LieuDungTrenNgayDisplay));\n    //   this.keToaEdit.SoNgayDung = Math.ceil(this.keToaEdit.SoLuong / lieuDung);\n    //   this.keToaEdit.SangDisplay = null;\n    //   this.keToaEdit.ThoiGianDungSang = null;\n    //   this.keToaEdit.TruaDisplay = null;\n    //   this.keToaEdit.ThoiGianDungTrua = null;\n    //   this.keToaEdit.ChieuDisplay = null;\n    //   this.keToaEdit.ThoiGianDungChieu = null;\n    //   this.keToaEdit.ToiDisplay = null;\n    //   this.keToaEdit.ThoiGianDungToi = null;\n    // }\n    // else \n    if (event == null) {\n      this.keToaEdit.LieuDungTrenNgayDisplay = null;\n      this.keToaEdit.LieuDungTrenNgay = null;\n      this.keToaEdit.SoLanTrenVienDisplay = null;\n      this.keToaEdit.SoLanTrenVien = null;\n      this.keToaEdit.SoNgayDung = null;\n      this.keToaEdit.SangDisplay = null;\n      this.keToaEdit.ThoiGianDungSang = null;\n      this.keToaEdit.TruaDisplay = null;\n      this.keToaEdit.ThoiGianDungTrua = null;\n      this.keToaEdit.ChieuDisplay = null;\n      this.keToaEdit.ThoiGianDungChieu = null;\n      this.keToaEdit.ToiDisplay = null;\n      this.keToaEdit.ThoiGianDungToi = null;\n    }\n  }\n\n  SoLanLieuDungDisplayChange(event: any, text: any) {\n    if (text == 'SoLanVien') {\n      if (event != null && event != \"\") {\n        this.keToaEdit.SoLanTrenVien = parseNumber(CommonService.FormatStringFractionToFloat(event));\n      }\n      else {\n        this.keToaEdit.SoNgayDung = null;\n      }\n    } else if (text == 'LieuDung') {\n      if (event != null && event != \"\") {\n        this.keToaEdit.LieuDungTrenNgay = parseNumber(CommonService.FormatStringFractionToFloat(event));\n      }\n      else {\n        this.keToaEdit.SoNgayDung = null;\n      }\n    }\n\n    if (this.keToaEdit.SoLuong != null && this.keToaEdit.SoLanTrenVien != null && this.keToaEdit.LieuDungTrenNgay != null) {\n      this.keToaEdit.SoNgayDung = Math.ceil(this.keToaEdit.SoLuong / (this.keToaEdit.SoLanTrenVien * this.keToaEdit.LieuDungTrenNgay));\n    }\n\n  }\n\n  // hienThiLieuDung() {\n  //   if (this.tongDungThuocTrongNgay != null && this.tongDungThuocTrongNgay != 0) {\n  //     this.apiService.post<any>(\"KhamBenh/FormatNumber?inputNumber=\" + this.tongDungThuocTrongNgay).subscribe(\n  //       resultData => {\n  //         if (resultData != null) {\n  //           this.keToaEdit.LieuDung = resultData;\n  //         }\n  //       })\n  //   }\n  //   else if (this.keToaEdit.SoNgayDung != null) {\n  //     let lieuDung = Math.ceil(this.keToaEdit.SoLuong / this.keToaEdit.SoNgayDung);\n  //     this.keToaEdit.LieuDung = lieuDung.toString();\n  //   }\n  //   else {\n  //     this.keToaEdit.LieuDung = null;\n  //   }\n  // }\n\n  openCombobox(event: any) {\n    if (event) {\n      this.isSelectDuocPham = true;\n    }\n    else {\n      this.isSelectDuocPham = false;\n    }\n  }\n}\n","export default \".md-primary {\\n  color: white;\\n  background-color: #005dab;\\n}\\n\\n.form-footer {\\n  margin-top: 1.34375em;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n  height: auto;\\n}\\n\\nfieldset legend {\\n  display: flex;\\n  align-items: flex-end;\\n  text-transform: uppercase;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvY2hpbmgtc3VhLXZhdC10dS1jaGktdGlldC1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcY2hpbmgtc3VhLXZhdC10dS1jaGktdGlldC1wb3B1cFxcY2hpbmgtc3VhLXZhdC10dS1jaGktdGlldC1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvY2hpbmgtc3VhLXZhdC10dS1jaGktdGlldC1wb3B1cC9jaGluaC1zdWEtdmF0LXR1LWNoaS10aWV0LXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSw4QkFBQTtFQUNBLGtDQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQ0FBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0VBQ0EscUJBQUE7RUFDQSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2NoaW5oLXN1YS12YXQtdHUtY2hpLXRpZXQtcG9wdXAvY2hpbmgtc3VhLXZhdC10dS1jaGktdGlldC1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tZC1wcmltYXJ5IHtcbiAgY29sb3I6IHdoaXRlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1ZGFiO1xufVxuXG4uZm9ybS1mb290ZXIge1xuICBtYXJnaW4tdG9wOiAxLjM0Mzc1ZW07XG59XG5cbmZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctbGVmdDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG4gIGhlaWdodDogYXV0bztcbn1cblxuZmllbGRzZXQgbGVnZW5kIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn0iLCIubWQtcHJpbWFyeSB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNWRhYjtcbn1cblxuLmZvcm0tZm9vdGVyIHtcbiAgbWFyZ2luLXRvcDogMS4zNDM3NWVtO1xufVxuXG5maWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xuICBoZWlnaHQ6IGF1dG87XG59XG5cbmZpZWxkc2V0IGxlZ2VuZCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, Inject, ChangeDetectorRef } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { KeVatTuItem } from '../../../kham-benh.model';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\n@Component({\n  selector: 'app-chinh-sua-vat-tu-chi-tiet-popup',\n  templateUrl: './chinh-sua-vat-tu-chi-tiet-popup.component.html',\n  styleUrls: ['./chinh-sua-vat-tu-chi-tiet-popup.component.scss']\n})\nexport class ChinhSuaVatTuChiTietPopupComponent implements OnInit {\n  icClose = icClose;\n  validationErrors: any[] = [];\n  validationErrorsUpdate: any = null;\n  vatTuEdit: KeVatTuItem = new KeVatTuItem();\n  loaiDuocPhamHoacVatTu: number = 2;\n  isSelectDuocPham: boolean = false;\n  IsKhamBenhDangKham: boolean = false;\n\n  documentType: DocumentType;\n  constructor(\n    private ref: ChangeDetectorRef,\n    private notificationService: NotificationService,\n    private apiService: ApiService,\n    private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n    public dialogRef: MatDialogRef<ChinhSuaVatTuChiTietPopupComponent>\n  ) { }\n\n  ngOnInit() {\n    this.vatTuEdit = this.data.Model;\n    this.vatTuEdit.DuocPhamId = this.vatTuEdit.VatTuBenhVienId;\n    this.documentType = this.data.documentType;\n    this.IsKhamBenhDangKham = this.data.IsKhamBenhDangKham != undefined && this.data.IsKhamBenhDangKham;\n  }\n\n  onKey(event: any) {\n    if (event.key == \"Enter\") {\n      if (this.isSelectDuocPham != true) {\n      }\n      else {\n        this.isSelectDuocPham = false;\n      }\n    }\n  }\n\n\n  openCombobox(event: any) {\n    if (event) {\n      this.isSelectDuocPham = true;\n    }\n    else {\n      this.isSelectDuocPham = false;\n    }\n  }\n\n  luuVatTu() {\n    var self = this;\n    self.validationErrorsUpdate = null;\n    self.ref.detectChanges();\n    if (self.documentType == DocumentType.KhamBenhDangKham || this.IsKhamBenhDangKham) {\n      self.vatTuEdit.IsKhamBenhDangKham = true;\n    }\n    self.apiService.post(\"KhamBenh/UpdateVatTuChiTiet\", self.vatTuEdit).subscribe(\n      (res) => {\n        let obj = {\n          VatTuEdit: self.vatTuEdit,\n          Status: \"CapNhat\",\n          MucTranChiPhi: res\n        }\n        self.closePopup(obj);\n      },\n      (err: ApiError) => {\n        self.validationErrorsUpdate = err.ValidationErrors;\n        if (err.Message != \"Validation Failed\") {\n          self.notificationService.showError(err.Message);\n        }\n      });\n  }\n  close() {\n    this.dialog.closeAll();\n  }\n  closePopup(result: any) {\n    this.dialogRef.close(result);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2Rvbi10aHVvYy1iYWMtc2kta2hhYy1rZS1wb3B1cC9kb24tdGh1b2MtYmFjLXNpLWtoYWMta2UtcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, TemplateRef, ViewChild, Inject, Input } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\n\n@Component({\n  selector: 'app-don-thuoc-bac-si-khac-ke-popup',\n  templateUrl: './don-thuoc-bac-si-khac-ke-popup.component.html',\n  styleUrls: ['./don-thuoc-bac-si-khac-ke-popup.component.scss']\n})\nexport class DonThuocBacSiKhacKePopupComponent implements OnInit {\n  @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n  @ViewChild('sangTemplate', { static: true }) sangTemplate: TemplateRef<any>;\n  @ViewChild('truaTemplate', { static: true }) truaTemplate: TemplateRef<any>;\n  @ViewChild('chieuTemplate', { static: true }) chieuTemplate: TemplateRef<any>;\n  @ViewChild('toiTemplate', { static: true }) toiTemplate: TemplateRef<any>;\n  @ViewChild('thoiDiemTiepNhanTemplate', { static: true }) thoiDiemTiepNhanTemplate: TemplateRef<any>;\n\n  icClose = icClose;\n  yeuCauKhamBenhId: number = null;\n  gridColumns: any[] = [];\n  urlGetDataGridDonThuocBacSiKhac: string = \"KhamBenh/GetDonThuocBacSiKhacDataForGridAsync\";\n  urlGetTotalPageGridDonThuocBacSiKhac: string = \"KhamBenh/GetDonThuocBacSiKhacTotalPageForGridAsync\";\n\n  gridColumnsDetail: any[] = [];\n  urlGetDataGridToaThuoc: string = \"KhamBenh/GetDonThuocBacSiKhacDataForGridAsyncDetail\";\n  urlGetTotalPageGridToaThuoc: string = \"KhamBenh/GetDonThuocBacSiKhacTotalPageForGridAsyncDetail\";\n\n  groupNhomThuoc: GroupDescriptor[] = [{ field: 'NhomThuocLSKT' }];\n\n  constructor(\n    private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any\n  ) { }\n\n  ngOnInit() {\n    this.yeuCauKhamBenhId = this.data.Model;\n    this.gridColumns = [\n      { Field: \"MaTN\", Title: \"Mã TN\", Width: 120, Sortable: true },\n      { Field: \"ChuanDoanICD\", Title: \"Chẩn đoán ICD\", minWidth: 400, Sortable: true },\n      { Field: \"BacSiKham\", Title: \"Bác sĩ khám\", Width: 200 },\n    ];\n\n    this.gridColumnsDetail = [\n      { Field: \"STT\", Title: \"#\", Width: 45, Sortable: true },\n      { Field: \"Ten\", Title: \"DƯỢC PHẨM\", Width: 100, Sortable: true, ShowTooltip: true },\n      { Field: \"HoatChat\", Title: \"Hoạt chất\", Width: 100, Sortable: true, ShowTooltip: true },\n      { Field: \"DVT\", Title: \"ĐVT\", Width: 60, Sortable: true },\n      { Field: \"NhomThuocLSKT\", Title: \"Nhóm\", Width: 100, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n      { Field: \"SangDisplay\", Title: \"Sáng\", Width: 60, Sortable: true, Template: this.sangTemplate, ShowTooltip: true },\n      { Field: \"TruaDisplay\", Title: \"Trưa\", Width: 60, Sortable: true, Template: this.truaTemplate, ShowTooltip: true },\n      { Field: \"ChieuDisplay\", Title: \"Chiều\", Width: 60, Sortable: true, Template: this.chieuTemplate, ShowTooltip: true },\n      { Field: \"ToiDisplay\", Title: \"Tối\", Width: 60, Sortable: true, Template: this.toiTemplate, ShowTooltip: true },\n      { Field: \"SoNgayDung\", Title: \"Số ngày\", Width: 80, Sortable: true },\n      { Field: \"SoLuong\", Title: \"SL\", Width: 50, Sortable: true },\n      { Field: \"TenDuongDung\", Title: \"Đường dùng\", Width: 110, Sortable: true, ShowTooltip: true },\n    ];\n  }\n\n\n  close() {\n    this.dialog.closeAll();\n  }\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.container-iframe iframe .pagebreak {\\n  border-bottom: 2px dashed #000;\\n  margin-bottom: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvZ2lheS1jaHV5ZW4tdmllbi1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcZ2lheS1jaHV5ZW4tdmllbi1wb3B1cFxcZ2lheS1jaHV5ZW4tdmllbi1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvZ2lheS1jaHV5ZW4tdmllbi1wb3B1cC9naWF5LWNodXllbi12aWVuLXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0VBQ0EsbUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2dpYXktY2h1eWVuLXZpZW4tcG9wdXAvZ2lheS1jaHV5ZW4tdmllbi1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSAucGFnZWJyZWFrIHtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IGRhc2hlZCAjMDAwO1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xufSIsIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSAucGFnZWJyZWFrIHtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IGRhc2hlZCAjMDAwO1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xufSJdfQ== */\"","import { Component, OnInit, Input, Optional, Inject } from '@angular/core';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { MatDialogRef, MAT_DIALOG_DATA, MatDialog } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { DomSanitizer } from '@angular/platform-browser';\n@Component({\n  selector: 'app-giay-chuyen-vien-popup',\n  templateUrl: './giay-chuyen-vien-popup.component.html',\n  styleUrls: ['./giay-chuyen-vien-popup.component.scss']\n})\nexport class GiayChuyenVienPopupComponent implements OnInit {\n  icClose = icClose;\n  loading: boolean = false;\n  src: string = \"\";\n  html: string = \"\";\n  constructor(private apiService: ApiService,\n    private dialogRef: MatDialogRef<GiayChuyenVienPopupComponent>,\n    private dialog: MatDialog, public sanitizer: DomSanitizer,\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\n  ) { }\n  ngOnInit() {\n    console.log(\"data:\", this.data)\n    this.xemGiayChuyenVien();\n  }\n  close() {\n    this.dialogRef.close();\n  }\n  xemGiayChuyenVien() {\n    this.loading = true;\n    let yeuCauKhamBenhId = this.data.Model.YeuCauKhamBenhId;\n    this.apiService.get<any>(\"KhamBenh/InGiayChuyenVien?yeuCauKhamBenhId=\" + yeuCauKhamBenhId).subscribe(\n      resultData => {\n        if (resultData != null) {\n          this.html = resultData;\n          this.src = \"data:text/html;charset=utf-8,\" + encodeURIComponent(this.html);\n        }\n        this.loading = false;\n      },\n      (err: ApiError) => {\n      });\n  }\n  getSharedPrintForm() {\n    return new Promise(resolve => {\n      resolve(this.html);\n      this.close();\n    });\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2h1eS1kaWNoLXZ1LWh1eS10aGFuaC10b2FuLXBvcHVwL2h1eS1kaWNoLXZ1LWh1eS10aGFuaC10b2FuLXBvcHVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { ChangeDetectorRef, Component, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport icClose from \"@iconify/icons-ic/twotone-close\";\n\n@Component({\n  selector: 'app-huy-dich-vu-huy-thanh-toan-popup',\n  templateUrl: './huy-dich-vu-huy-thanh-toan-popup.component.html',\n  styleUrls: ['./huy-dich-vu-huy-thanh-toan-popup.component.scss']\n})\nexport class HuyDichVuHuyThanhToanPopupComponent implements OnInit {\n\n  validationErrors: any;\n  icClose = icClose;\n  lyDoHuy: string = null;\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any,\n  private dialog: MatDialog,\n  private cdRef: ChangeDetectorRef,\n  private dialogRef: MatDialogRef<HuyDichVuHuyThanhToanPopupComponent>) { }\n\n  ngOnInit() {\n  }\n\n  Huy() {\n    this.validationErrors = [];\n    this.cdRef.detectChanges();\n    if (this.lyDoHuy == null || this.lyDoHuy == \"\") {\n      this.validationErrors.push({\n        Message: \"Lý do yêu cầu nhập.\",\n        Field: \"LyDoHuy\",\n      });\n      return true;\n    } else {\n      this.dialogRef.close(this.lyDoHuy);\n    }\n  }\n\n  close() {\n    this.dialog.closeAll();\n  }\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvaW4tYmFuZy1raGFtLWJlbmgtY2hpLWRpbmgvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxraGFtLWJlbmhcXGtoYW0tYmVuaFxcbGFuLWtoYW0taGllbi10YWlcXGluLWJhbmcta2hhbS1iZW5oLWNoaS1kaW5oXFxpbi1iYW5nLWtoYW0tYmVuaC1jaGktZGluaC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvaW4tYmFuZy1raGFtLWJlbmgtY2hpLWRpbmgvaW4tYmFuZy1raGFtLWJlbmgtY2hpLWRpbmguY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvaW4tYmFuZy1raGFtLWJlbmgtY2hpLWRpbmgvaW4tYmFuZy1raGFtLWJlbmgtY2hpLWRpbmguY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTAwcHg7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSIsIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59Il19 */\"","import { Component, OnInit, Optional, Inject, ViewChild, TemplateRef, Output } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { EventEmitter } from 'protractor';\n\n@Component({\n  selector: 'app-in-bang-kham-benh-chi-dinh',\n  templateUrl: './in-bang-kham-benh-chi-dinh.component.html',\n  styleUrls: ['./in-bang-kham-benh-chi-dinh.component.scss']\n})\nexport class InBangKhamBenhChiDinhComponent implements OnInit {\n\n  hostingName: string;\n  src: string = \"\";\n  icClose = icClose;\n  ChonKieuInChung: boolean = true;\n  showLoaiPhieuIn: boolean = false; // kieu in\n  loaiPhieu: any;\n  phieuInDichVuKham : any[]=[];\n  phieuInDichVuKyThuat : any[]=[];\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, public sanitizer: DomSanitizer, private apiService: ApiService, private dialog: MatDialog,\n  private dialogRef: MatDialogRef<InBangKhamBenhChiDinhComponent>) {\n    // this.src= \"data:text/html;charset=utf-8,\" + encodeURIComponent(this.data.Model);\n  }\n  modelPrint: any;\n  ngOnInit() {\n    var self = this;\n    var dialogRef = self.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: \"Đang tải dữ liệu...\" }\n    });\n\n    if (this.data.Model.InChungChiDinh == 0) {\n      this.showLoaiPhieuIn = true;\n    }\n    else {\n      this.showLoaiPhieuIn = false;\n    }\n    this.apiService.post<any>(\"KhamBenh/InPhieuChiDinhh\", this.data.Model).subscribe(\n      resultData => {\n        this.src = \"data:text/html;charset=utf-8,\" + encodeURIComponent(resultData);\n        this.modelPrint = resultData;\n        dialogRef.close();\n      });\n  }\n  InPhieu(loaiPhieu) {\n    this.loaiPhieu = loaiPhieu;\n    this.getSharedPrintForm();\n  }\n  getSharedPrintForm() {\n    let tmpPhieuChiDinh = \"<table id='showHeader' style='width: 100%; height: 40px; background: #005dab;color:#fff;'> <tr><th rowspan = '3' style = 'font-size: 20px;'>PHIẾU CHỈ ĐỊNH CẬN LÂM SÀNG</th></tr></table>\";\n    let data: string = \"\";\n    data = this.modelPrint.split(tmpPhieuChiDinh).join(\"\");\n    // // cat page break o cuoi chuoi\n    // data.lastIndexOf(\"<div class=\\\"pagebreak\\\"> </div>\")\n    // in tung phieu \n    let dataphieu = data.split('<div class=\\\"pagebreak\\\"> </div>');\n    let pageBreak = '<div class=\\\"pagebreak\\\"> </div>';\n    dataphieu.forEach(element => {\n      if(element.indexOf('DỊCH VỤ KHÁM BỆNH') > -1)\n      {\n        let PhieuInPageBreak = element + pageBreak;\n        this.phieuInDichVuKham.push(PhieuInPageBreak); \n       \n      }\n      else{\n        let PhieuInPageBreak = element + pageBreak;\n        this.phieuInDichVuKyThuat.push(PhieuInPageBreak); \n        \n      }\n    });\n   \n    if(this.loaiPhieu == 1) // dvkt\n    {\n      let chuoiIn = \"\";\n      this.phieuInDichVuKyThuat.forEach(element => {\n        chuoiIn = chuoiIn + element;\n      });\n      let viTricutPageBreak = chuoiIn.lastIndexOf(pageBreak);\n      chuoiIn = chuoiIn.substr(0,viTricutPageBreak);\n      return new Promise(resolve => {\n        resolve(chuoiIn);\n        chuoiIn=\"\";\n        this.phieuInDichVuKyThuat = [];\n      });\n      \n    }\n    if(this.loaiPhieu == 2) // dv kb\n    {\n      let chuoiIn = \"\";\n      this.phieuInDichVuKham.forEach(element => {\n        chuoiIn = chuoiIn + element;\n      });\n      let viTricutPageBreak = chuoiIn.lastIndexOf(pageBreak);\n      chuoiIn = chuoiIn.substr(0,viTricutPageBreak);\n      return new Promise(resolve => {\n        resolve(chuoiIn);\n        chuoiIn=\"\";\n        this.phieuInDichVuKham = [];\n      });\n    }\n    if(this.loaiPhieu == 3) // dv in chung\n    {\n      return new Promise(resolve => {\n        resolve(data);\n      });\n    }\n  }\n  changeKieuIn(event: any) {\n    this.ChonKieuInChung = event;\n    if (this.ChonKieuInChung == true) {\n      this.data.Model.KieuInChung = this.ChonKieuInChung;\n      console.log(\"data.Model:\", this.data.Model);\n      this.apiService.post<any>(\"KhamBenh/InPhieuChiDinhh\", this.data.Model).subscribe(\n        resultData => {\n          this.src = \"data:text/html;charset=utf-8,\" + encodeURIComponent(resultData);\n          this.modelPrint = resultData;\n        });\n    }\n    else {\n      this.data.Model.KieuInChung = this.ChonKieuInChung;\n      console.log(\"data.Model:\", this.data.Model);\n      this.apiService.post<any>(\"KhamBenh/InPhieuChiDinhh\", this.data.Model).subscribe(\n        resultData => {\n          this.src = \"data:text/html;charset=utf-8,\" + encodeURIComponent(resultData);\n          this.modelPrint = resultData;\n        });\n    }\n  }\n  close() {\n    // this.dialog.closeAll();\n    this.dialogRef.close();\n  }\n\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvaW4tdGh1b2MtdHUtdmFuLWtoYW0tZG9hbi1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcaW4tdGh1b2MtdHUtdmFuLWtoYW0tZG9hbi1wb3B1cFxcaW4tdGh1b2MtdHUtdmFuLWtoYW0tZG9hbi1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvaW4tdGh1b2MtdHUtdmFuLWtoYW0tZG9hbi1wb3B1cC9pbi10aHVvYy10dS12YW4ta2hhbS1kb2FuLXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2luLXRodW9jLXR1LXZhbi1raGFtLWRvYW4tcG9wdXAvaW4tdGh1b2MtdHUtdmFuLWtoYW0tZG9hbi1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59IiwiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwMHB4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn0iXX0= */\"","import { Component, OnInit, Optional, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { DomSanitizer } from '@angular/platform-browser';\n@Component({\n  selector: 'app-in-thuoc-tu-van-kham-doan-popup',\n  templateUrl: './in-thuoc-tu-van-kham-doan-popup.component.html',\n  styleUrls: ['./in-thuoc-tu-van-kham-doan-popup.component.scss']\n})\nexport class InThuocTuVanKhamDoanPopupComponent implements OnInit {\n\n  icClose = icClose;\n  src: string = \"\";\n  constructor(public sanitizer: DomSanitizer,\n    private dialogRef: MatDialogRef<InThuocTuVanKhamDoanPopupComponent>,\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\n  ) { }\n\n  ngOnInit() {\n    this.src = \"data:text/html;charset=utf-8,\" + encodeURIComponent(this.data);\n  }\n\n  close() {\n    this.dialogRef.close();\n  }\n\n  getSharedPrintForm() {\n    return new Promise(resolve => {\n      resolve(this.data);\n      this.close();\n    });\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLWJlbmgtbmhhbi1kYW5nLWxhbS1jaGktZGluaC1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1iZW5oLW5oYW4tZGFuZy1sYW0tY2hpLWRpbmgtcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Inject, ViewChild, TemplateRef } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icAssignment from '@iconify/icons-ic/assignment';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-benh-nhan-dang-lam-chi-dinh-popup',\n  templateUrl: './lan-kham-hien-tai-benh-nhan-dang-lam-chi-dinh-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-benh-nhan-dang-lam-chi-dinh-popup.component.scss']\n})\nexport class LanKhamHienTaiBenhNhanDangLamChiDinhPopupComponent implements OnInit {\n\n  icClose=icClose;\n  gridColumns: any[] = [];\n  documentType: DocumentType.KhamBenh;\n  icAssignment = icAssignment;\n\n  urlData: string = \"KhamBenh/GetDataForGridBenhNhanLamChiDinhAsync\";\n  urlTotalPage: string = \"KhamBenh/GetTotalPageForGriBenhNhanLamChiDinhdAsync\";\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n  constructor(private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any) { }\n\n  ngOnInit() {\n    this.gridColumns = [\n      { Field: \"MaYeuCauTiepNhan\", Title: \"Mã TN\", Width: 64, Sortable: true },\n      { Field: \"MaBN\", Title: \"Mã NB\", Width: 55, Sortable: true },\n      { Field: \"HoTen\", Title: \"Họ tên\", Width: 135, Sortable: true },\n      { Field: \"TenGioiTinh\", Title: \"GT\", Width: 55, Sortable: true },\n      { Field: \"Tuoi\", Title: \"Tuổi\", Width: 52, Sortable: true },\n      { Field: \"DiaChi\", Title: \"Địa chỉ\", Width: 120, Sortable: true },\n      { Field: \"TinhTrang\", Title: \"Tình trạng\", Width: 80, Sortable: true },\n      { Field: \"Action\", Title: \"\", Width: 80, Sortable: true, Template: this.actionTemplate }\n    ]\n  }\n\n  close(){\n    this.dialog.closeAll();\n  }\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n  padding-bottom: 0.625em;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\nfieldset .inline_b {\\n  display: inline-block !important;\\n  margin-right: 10px;\\n  padding-right: 15px;\\n}\\n\\nfieldset legend {\\n  text-transform: uppercase;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktYmVuaC1uaGFuLXRpZXAtdGhlby1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcbGFuLWtoYW0taGllbi10YWktYmVuaC1uaGFuLXRpZXAtdGhlby1wb3B1cFxcbGFuLWtoYW0taGllbi10YWktYmVuaC1uaGFuLXRpZXAtdGhlby1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktYmVuaC1uaGFuLXRpZXAtdGhlby1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1iZW5oLW5oYW4tdGllcC10aGVvLXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0Esb0JBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7QUNDRjs7QURFQTtFQUNFLDRCQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0UsOEJBQUE7RUFDQSx1QkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7QUNDRjs7QURFQTtFQUNFLGdDQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLWJlbmgtbmhhbi10aWVwLXRoZW8tcG9wdXAvbGFuLWtoYW0taGllbi10YWktYmVuaC1uaGFuLXRpZXAtdGhlby1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtO1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW07XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbTtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IC5pbmxpbmVfYiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG59XG5cbmZpZWxkc2V0IGxlZ2VuZCB7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59IiwiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgLmlubGluZV9iIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxuZmllbGRzZXQgbGVnZW5kIHtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn0iXX0= */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MAT_DIALOG_DATA, MatDialog } from '@angular/material';\nimport { BenhVienHangDoi } from '../../../kham-benh.model';\nimport { ApiService } from 'src/app/core/services/api.service';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-benh-nhan-tiep-theo-popup',\n  templateUrl: './lan-kham-hien-tai-benh-nhan-tiep-theo-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-benh-nhan-tiep-theo-popup.component.scss']\n})\nexport class LanKhamHienTaiBenhNhanTiepTheoPopupComponent implements OnInit {\n\n  icClose=icClose;\n  phongKhamId: number = null;\n  hangDoiHienTaiId: number = null;\n  benhNhanTiepTheo: BenhVienHangDoi;\n  benhNhanTiepTheoId: number = null;\n  conBenhNhanTrongHangDoi: boolean = null;\n  chuyenKham: boolean = false;\n  laKhamDoan: boolean = false;\n  IsKhamDoanTatCa: boolean = false;\n  searchStringHangDoiHienTai: string = \"\";\n  constructor(private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any, private apiService: ApiService) { }\n\n  ngOnInit() {\n    this.phongKhamId = this.data.phongKhamHienTaiId;\n    this.hangDoiHienTaiId = this.data.hangDoiHienTaiId;\n    if(this.data.chuyenKham != undefined && this.data.chuyenKham != null)\n    {\n      this.chuyenKham = this.data.chuyenKham;\n    }\n    if(this.data.laKhamDoan != undefined && this.data.laKhamDoan != null)\n    {\n      this.laKhamDoan = this.data.laKhamDoan;\n    }\n    if(this.data.IsKhamDoanTatCa != undefined && this.data.IsKhamDoanTatCa != null)\n    {\n      this.IsKhamDoanTatCa = this.data.IsKhamDoanTatCa;\n    }\n    if(this.data.searchBenhNhan != undefined && this.data.searchBenhNhan != null)\n    {\n      this.searchStringHangDoiHienTai = this.data.searchBenhNhan;\n    }\n\n    if(this.IsKhamDoanTatCa)\n    {\n      this.getThongTinBenhNhanTiepTheoKhamDoaTatCa(this.data.QueryInfo);\n    }\n    else\n    {\n      this.getThongTinBenhNhanTiepTheo(this.phongKhamId);\n    }\n  }\n\n  getThongTinBenhNhanTiepTheo(phongKhamId: number){\n    this.apiService.get<BenhVienHangDoi>(\"KhamBenh/GetThongTinBenhNhanTiepTheoTrongHangDoi?phongKhamId=\" + phongKhamId + \"&laKhamDoan=\"+this.laKhamDoan + \"&searchBenhNhan=\"+this.searchStringHangDoiHienTai)\n      .subscribe(resultData => {\n        // get người bệnh tiếp theo\n        this.benhNhanTiepTheo = resultData;\n        if(resultData != null)\n        {\n          this.benhNhanTiepTheoId = resultData.Id;\n          this.conBenhNhanTrongHangDoi = true;\n        }\n        else \n        {\n          this.benhNhanTiepTheoId = null;\n          this.conBenhNhanTrongHangDoi = false;\n        }\n      });\n  }\n\n  getThongTinBenhNhanTiepTheoKhamDoaTatCa(timKiemObj: any) {\n    this.apiService.post<BenhVienHangDoi>(\"KhamBenh/GetThongTinBenhNhanTiepTheoTrongHangDoiKhamDoanTatCa\", timKiemObj)\n      .subscribe((resultData) => {\n        this.benhNhanTiepTheo = resultData;\n        if (resultData != null) {\n          this.benhNhanTiepTheoId = resultData.Id;\n          this.conBenhNhanTrongHangDoi = true;\n        }\n        else {\n          this.benhNhanTiepTheoId = null;\n          this.conBenhNhanTrongHangDoi = false;\n        }\n      });\n  }\n\n  close(){\n    this.dialog.closeAll();\n  }\n}\n","export default \"image-drawing > div {\\n  width: 100%;\\n  height: 100%;\\n  border: 1px solid #ccc !important;\\n  overflow: auto;\\n}\\n\\nimage-drawing > div .canvas-container {\\n  width: 100% !important;\\n}\\n\\nimage-drawing .toolbar {\\n  position: relative !important;\\n  overflow: initial;\\n}\\n\\nimage-drawing .toolbar .tools {\\n  width: 100% !important;\\n  padding: 10px !important;\\n  margin: 0 !important;\\n  box-shadow: none !important;\\n  position: relative !important;\\n  display: block !important;\\n}\\n\\nimage-drawing .toolbar .tools .row {\\n  width: 50% !important;\\n  float: left !important;\\n}\\n\\nimage-drawing .toolbar .buttons {\\n  position: absolute !important;\\n  right: 0 !important;\\n  bottom: -50px !important;\\n  display: block !important;\\n  margin: 0 !important;\\n}\\n\\nimage-drawing .toolbar .buttons .button {\\n  color: #000 !important;\\n  float: right !important;\\n  margin: 0 !important;\\n}\\n\\nimage-drawing .toolbar .buttons .button.btn-primary {\\n  background: #005dab;\\n  color: #fff !important;\\n}\\n\\n.btn-loading {\\n  padding: 15px;\\n  background: #fff;\\n  position: absolute;\\n  right: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktYm8tcGhhbi10b24tdGh1b25nLXBvcHVwL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXGxhbi1raGFtLWhpZW4tdGFpXFxsYW4ta2hhbS1oaWVuLXRhaS1iby1waGFuLXRvbi10aHVvbmctcG9wdXBcXGxhbi1raGFtLWhpZW4tdGFpLWJvLXBoYW4tdG9uLXRodW9uZy1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktYm8tcGhhbi10b24tdGh1b25nLXBvcHVwL2xhbi1raGFtLWhpZW4tdGFpLWJvLXBoYW4tdG9uLXRodW9uZy1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsaUNBQUE7RUFDQSxjQUFBO0FDQ0Y7O0FERUE7RUFDRSxzQkFBQTtBQ0NGOztBREVBO0VBQ0UsNkJBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7RUFDQSx3QkFBQTtFQUNBLG9CQUFBO0VBQ0EsMkJBQUE7RUFDQSw2QkFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtFQUNBLHNCQUFBO0FDQ0Y7O0FERUE7RUFDRSw2QkFBQTtFQUNBLG1CQUFBO0VBQ0Esd0JBQUE7RUFDQSx5QkFBQTtFQUNBLG9CQUFBO0FDQ0Y7O0FERUE7RUFDRSxzQkFBQTtFQUNBLHVCQUFBO0VBQ0Esb0JBQUE7QUNDRjs7QURFQTtFQUNFLG1CQUFBO0VBQ0Esc0JBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktYm8tcGhhbi10b24tdGh1b25nLXBvcHVwL2xhbi1raGFtLWhpZW4tdGFpLWJvLXBoYW4tdG9uLXRodW9uZy1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImltYWdlLWRyYXdpbmcgPiBkaXYge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjICFpbXBvcnRhbnQ7XG4gIG92ZXJmbG93OiBhdXRvO1xufVxuXG5pbWFnZS1kcmF3aW5nID4gZGl2IC5jYW52YXMtY29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbn1cblxuaW1hZ2UtZHJhd2luZyAudG9vbGJhciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O1xuICBvdmVyZmxvdzogaW5pdGlhbDtcbn1cblxuaW1hZ2UtZHJhd2luZyAudG9vbGJhciAudG9vbHMge1xuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAxMHB4ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O1xuICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xufVxuXG5pbWFnZS1kcmF3aW5nIC50b29sYmFyIC50b29scyAucm93IHtcbiAgd2lkdGg6IDUwJSAhaW1wb3J0YW50O1xuICBmbG9hdDogbGVmdCAhaW1wb3J0YW50O1xufVxuXG5pbWFnZS1kcmF3aW5nIC50b29sYmFyIC5idXR0b25zIHtcbiAgcG9zaXRpb246IGFic29sdXRlICFpbXBvcnRhbnQ7XG4gIHJpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIGJvdHRvbTogLTUwcHggIWltcG9ydGFudDtcbiAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbiAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG59XG5cbmltYWdlLWRyYXdpbmcgLnRvb2xiYXIgLmJ1dHRvbnMgLmJ1dHRvbiB7XG4gIGNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodCAhaW1wb3J0YW50O1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbn1cblxuaW1hZ2UtZHJhd2luZyAudG9vbGJhciAuYnV0dG9ucyAuYnV0dG9uLmJ0bi1wcmltYXJ5IHtcbiAgYmFja2dyb3VuZDogIzAwNWRhYjtcbiAgY29sb3I6ICNmZmYgIWltcG9ydGFudDtcbn1cblxuLmJ0bi1sb2FkaW5nIHtcbiAgcGFkZGluZzogMTVweDtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbn0iLCJpbWFnZS1kcmF3aW5nID4gZGl2IHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYyAhaW1wb3J0YW50O1xuICBvdmVyZmxvdzogYXV0bztcbn1cblxuaW1hZ2UtZHJhd2luZyA+IGRpdiAuY2FudmFzLWNvbnRhaW5lciB7XG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG59XG5cbmltYWdlLWRyYXdpbmcgLnRvb2xiYXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmUgIWltcG9ydGFudDtcbiAgb3ZlcmZsb3c6IGluaXRpYWw7XG59XG5cbmltYWdlLWRyYXdpbmcgLnRvb2xiYXIgLnRvb2xzIHtcbiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbiAgcGFkZGluZzogMTBweCAhaW1wb3J0YW50O1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbiAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogcmVsYXRpdmUgIWltcG9ydGFudDtcbiAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbn1cblxuaW1hZ2UtZHJhd2luZyAudG9vbGJhciAudG9vbHMgLnJvdyB7XG4gIHdpZHRoOiA1MCUgIWltcG9ydGFudDtcbiAgZmxvYXQ6IGxlZnQgIWltcG9ydGFudDtcbn1cblxuaW1hZ2UtZHJhd2luZyAudG9vbGJhciAuYnV0dG9ucyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50O1xuICByaWdodDogMCAhaW1wb3J0YW50O1xuICBib3R0b206IC01MHB4ICFpbXBvcnRhbnQ7XG4gIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xufVxuXG5pbWFnZS1kcmF3aW5nIC50b29sYmFyIC5idXR0b25zIC5idXR0b24ge1xuICBjb2xvcjogIzAwMCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQgIWltcG9ydGFudDtcbiAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG59XG5cbmltYWdlLWRyYXdpbmcgLnRvb2xiYXIgLmJ1dHRvbnMgLmJ1dHRvbi5idG4tcHJpbWFyeSB7XG4gIGJhY2tncm91bmQ6ICMwMDVkYWI7XG4gIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7XG59XG5cbi5idG4tbG9hZGluZyB7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDA7XG59Il19 */\"","import { Component, OnInit, Inject, ViewChild, ViewEncapsulation, ChangeDetectorRef, TemplateRef, SimpleChanges, NgZone } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material';\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { YeuCauKhamBenhBoPhanTonThuong } from '../../../kham-benh.model';\nimport { ImageDrawingComponent } from 'ngx-image-drawing';\nimport { HttpParams } from '@angular/common/http';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { stagger60ms } from 'src/@vex/animations/stagger.animation';\nimport { fadeInUp400ms } from 'src/@vex/animations/fade-in-up.animation';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-bo-phan-ton-thuong-popup',\n  templateUrl: './lan-kham-hien-tai-bo-phan-ton-thuong-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-bo-phan-ton-thuong-popup.component.scss'],\n  animations: [stagger60ms, fadeInUp400ms],\n  encapsulation: ViewEncapsulation.None\n})\nexport class LanKhamHienTaiBoPhanTonThuongPopupComponent implements OnInit {\n\n  icClose = icClose;\n  documentType: DocumentType = DocumentType.KhamBenh;\n  validationErrors: any;\n  loading:boolean=false;\n  boPhanTonThuong : YeuCauKhamBenhBoPhanTonThuong = new YeuCauKhamBenhBoPhanTonThuong();\n  isDone: boolean = false;\n\n  @ViewChild('loadingTemplate', { static: true }) loadingTemplate: TemplateRef<any>;\n  // @ViewChild(\"imageDrawing\", { static: true }) imageDrawing: ImageDrawingComponent;\n\n  private imageDrawing: ImageDrawingComponent;\n  @ViewChild('imageDrawing', { static: false }) set content(content: ImageDrawingComponent) {\n    if (content) {\n      this.imageDrawing = content;\n    }\n  }\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private dialog: MatDialog,\n    private dialogRef: MatDialogRef<any>,\n    private apiService: ApiService,\n    private authService: AuthService,\n    private ref: ChangeDetectorRef,\n    private notificationService: NotificationService,\n    private ngZone: NgZone\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    console.log('ngOnChanges - 1', this.boPhanTonThuong);\n    if (changes['isDone'] && changes['isDone'].previousValue != null && changes['isDone'].previousValue != changes['isDone'].currentValue) {\n      this.isDone = changes['isDone'].currentValue;\n      if(this.isDone)\n      {\n        console.log('ngOnChanges', this.boPhanTonThuong);\n        this.dialogRef.close(this.boPhanTonThuong);\n      }\n    }\n  }\n\n  close() {\n    this.dialog.closeAll();\n  }\n\n  uploadFileDone(file: any) {\n    console.log(file);\n    if (file == null) {\n      this.boPhanTonThuong.HinhAnh = null;\n      return;\n    }\n\n    let duongDan = file.DuongDan;\n    if (file.IsExistingFile !== true) {\n      duongDan = file.DuongDanTmp;\n    }\n    const params = new HttpParams({\n      fromObject: {\n        tenGuid: file.TenGuid,\n        duongDan: duongDan,\n      },\n    });\n    this.apiService\n      .get<any>(\"TaiLieuDinhKem/GetTaiLieuUrl\", params)\n      .subscribe((resp) => {\n        if (resp) {\n          this.boPhanTonThuong.HinhAnh = resp;\n        }\n      });\n  }\n\n  cancel() {\n    this.boPhanTonThuong.HinhAnh = null;\n    if(this.imageDrawing!=undefined)\n        {\n            this.imageDrawing.removeImage();\n            this.imageDrawing.clearCanvas();\n        }\n    this.close();\n  }\n\n  showErrorIfNoImage(data: any) {\n    // if (this.imageDrawing.hasImage === false && data.path !== undefined && data.path[0].innerHTML === 'Lưu') {\n    //   this.notificationService.showError('Hình ảnh yêu cầu chọn');\n    // }\n\n    if (this.imageDrawing!=undefined && data.path !== undefined && data.path[0].innerHTML === 'Lưu') {\n      if (this.authService.hasPermission(this.documentType, SecurityOperation.Add)) {\n        var self = this;\n        self.validationErrors = null;\n        self.ref.detectChanges();\n\n        self.apiService.post(\"KhamBenh/KiemTraValidationBoPhanTonThuong\", self.boPhanTonThuong)\n          .subscribe(resultData => {\n          },\n            (err: ApiError) => {\n\n              self.validationErrors = err.ValidationErrors;\n              if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n              }\n            });\n      }\n      else {\n        this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n      }\n    }\n  }\n\n  save(blob: any) {\n    if (this.imageDrawing != undefined && this.boPhanTonThuong.MoTa != null && this.boPhanTonThuong.MoTa != \"\") {\n      if (this.authService.hasPermission(this.documentType, SecurityOperation.Add)) {\n        var self = this;\n        self.validationErrors = null;\n        self.loading=true;\n        self.ref.detectChanges();\n\n        // self.apiService.post(\"KhamBenh/KiemTraValidationBoPhanTonThuong\", self.boPhanTonThuong)\n        //   .subscribe(resultData => {\n        //     if (blob != \"\" && blob != undefined) {\n        //       console.log('blob has value', self.boPhanTonThuong);\n        //       //self.boPhanTonThuong.HinhAnh = blob;\n        //       let reader = new FileReader();\n        //       reader.readAsDataURL(blob); // converts the blob to base64 and calls onload\n\n        //       //self.boPhanTonThuong.HinhAnh = reader.onloadend;\n        //       reader.onload = (e: any) => {\n        //         self.boPhanTonThuong.HinhAnh = e.target.result;\n        //         const image = new Image();\n        //         image.src = e.target.result;\n        //         image.onload = (rs) => {\n        //           const imgBase64Path = e.target.result;\n        //           self.boPhanTonThuong.HinhAnh = imgBase64Path;\n        //         };\n        //       }\n\n        //       reader.onloadend = function(e){\n        //         if (self.boPhanTonThuong.HinhAnh != null) {\n        //           self.loading = false;\n        //           self.isDone = true;\n        //           console.log('save', self.boPhanTonThuong);\n        //           self.dialogRef.close(self.boPhanTonThuong);\n        //         }\n        //       }\n              \n        //     }\n        //     else\n        //     {\n        //       self.loading=false;\n        //     }\n        //   },\n        //     (err: ApiError) => {\n\n        //       self.loading=false;\n        //       self.validationErrors = err.ValidationErrors;\n        //       if (err.Message != \"Validation Failed\") {\n        //         self.notificationService.showError(err.Message);\n        //       }\n        //     });\n\n\n        if (blob != undefined && blob != \"\") {\n          //self.boPhanTonThuong.HinhAnh = blob;\n          let reader = new FileReader();\n          reader.readAsDataURL(blob); // converts the blob to base64 and calls onload\n\n          //self.boPhanTonThuong.HinhAnh = reader.onloadend;\n          reader.onload = (e: any) => {\n            self.boPhanTonThuong.HinhAnh = e.target.result;\n            const image = new Image();\n            image.src = e.target.result;\n            image.onload = (rs) => {\n              const imgBase64Path = e.target.result;\n              self.boPhanTonThuong.HinhAnh = imgBase64Path;\n            };\n          }\n\n          reader.onloadend = function(e){\n            if (self.boPhanTonThuong.HinhAnh != null) {\n              //self.isDone = true;\n              self.ngZone.run(() => {\n                self.loading = false;\n                self.dialogRef.close(self.boPhanTonThuong);\n              });\n            }\n            else\n            {\n              self.loading = false;\n            }\n          }\n          \n        }\n        else\n        {\n          self.loading=false;\n        }\n      }\n      else {\n        this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n      }\n    }\n  }\n}\n","export default \"ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\n.po-h {\\n  color: #005dab;\\n  position: relative;\\n  top: 5px;\\n  left: 5px;\\n}\\n\\n.po-h mat-icon {\\n  display: contents;\\n}\\n\\n.icon-close {\\n  position: absolute;\\n  z-index: 9;\\n  right: 0;\\n  cursor: pointer;\\n}\\n\\n.icon-close:hover {\\n  color: #005dab;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktYm8tcGhhbi10b24tdGh1b25nL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXGxhbi1raGFtLWhpZW4tdGFpXFxsYW4ta2hhbS1oaWVuLXRhaS1iby1waGFuLXRvbi10aHVvbmdcXGxhbi1raGFtLWhpZW4tdGFpLWJvLXBoYW4tdG9uLXRodW9uZy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktYm8tcGhhbi10b24tdGh1b25nL2xhbi1raGFtLWhpZW4tdGFpLWJvLXBoYW4tdG9uLXRodW9uZy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDhCQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxRQUFBO0VBQ0EsZUFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktYm8tcGhhbi10b24tdGh1b25nL2xhbi1raGFtLWhpZW4tdGFpLWJvLXBoYW4tdG9uLXRodW9uZy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbi5wby1oIHtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA1cHg7XG4gIGxlZnQ6IDVweDtcbn1cblxuLnBvLWggbWF0LWljb24ge1xuICBkaXNwbGF5OiBjb250ZW50cztcbn1cblxuLmljb24tY2xvc2Uge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDk7XG4gIHJpZ2h0OiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5pY29uLWNsb3NlOmhvdmVyIHtcbiAgY29sb3I6ICMwMDVkYWI7XG59IiwidWwuaW5saW5lID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxuLnBvLWgge1xuICBjb2xvcjogIzAwNWRhYjtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDVweDtcbiAgbGVmdDogNXB4O1xufVxuXG4ucG8taCBtYXQtaWNvbiB7XG4gIGRpc3BsYXk6IGNvbnRlbnRzO1xufVxuXG4uaWNvbi1jbG9zZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogOTtcbiAgcmlnaHQ6IDA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmljb24tY2xvc2U6aG92ZXIge1xuICBjb2xvcjogIzAwNWRhYjtcbn0iXX0= */\"","import { Component, OnInit, Input, SimpleChanges } from '@angular/core';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icSave from '@iconify/icons-ic/outline-save';\nimport icClose from '@iconify/icons-ic/close';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { BenhVienHangDoi, YeuCauKhamBenhBoPhanTonThuong } from '../../../kham-benh.model';\nimport { MatDialog } from '@angular/material';\nimport { LanKhamHienTaiBoPhanTonThuongPopupComponent } from '../lan-kham-hien-tai-bo-phan-ton-thuong-popup/lan-kham-hien-tai-bo-phan-ton-thuong-popup.component';\nimport { ViewImagePdfComponent } from 'src/app/shared/component/dialogs/view-image-pdf/view-image-pdf.component';\ndeclare var $: any;\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-bo-phan-ton-thuong',\n  templateUrl: './lan-kham-hien-tai-bo-phan-ton-thuong.component.html',\n  styleUrls: ['./lan-kham-hien-tai-bo-phan-ton-thuong.component.scss']\n})\nexport class LanKhamHienTaiBoPhanTonThuongComponent implements OnInit {\n\n  icAddCircle= icAddCircle;\n  icDelete = icDelete;\n  icEdit = icEdit;\n  icSave = icSave;\n  icClose = icClose;\n\n  documentType: DocumentType;\n  isShowView: boolean = false;\n\n  benhNhanHienTai = new BenhVienHangDoi();\n  @Input() data: any = null;\n  @Input() dataBoPhanTonThuong: any = null;\n  constructor(private dialog: MatDialog) { \n    }\n\n  ngOnInit() {\n    this.documentType = DocumentType.KhamBenh;\n    this.benhNhanHienTai = this.data;\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['dataBoPhanTonThuong'] && changes['dataBoPhanTonThuong'].previousValue != null && changes['dataBoPhanTonThuong'].previousValue != changes['dataBoPhanTonThuong'].currentValue) {\n      this.dataBoPhanTonThuong = changes['dataBoPhanTonThuong'].currentValue;\n    }\n  }\n\n  changeData() {\n    this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = true;\n  }\n\n  themBoPhanTonThuong() {\n    this.dialog\n      .open(LanKhamHienTaiBoPhanTonThuongPopupComponent, {\n        disableClose: true,\n        width: \"1000px\",\n      })\n      .afterClosed()\n      .subscribe(result => {\n\n        // trường hợp nhấn hủy\n        if (result == undefined || result == null) {\n          return;\n        }\n\n        // trường hợp nhấn thêm\n        let boPhanTonThuong = new YeuCauKhamBenhBoPhanTonThuong();\n        boPhanTonThuong = {\n          Id: 0,\n          YeuCauKhamBenhId: this.benhNhanHienTai.YeuCauKhamBenhId,\n          HinhAnh: result.HinhAnh,\n          MoTa: result.MoTa\n        };\n\n        if (this.dataBoPhanTonThuong == undefined) {\n          this.dataBoPhanTonThuong = [];\n        }\n        this.dataBoPhanTonThuong.push(boPhanTonThuong);\n        this.changeData();\n      });\n  }\n\n  xoaBoPhanTonThuong(dataItem){\n    var index = this.dataBoPhanTonThuong.findIndex(x => x == dataItem);\n    if(index != -1)\n    {\n      this.dataBoPhanTonThuong.splice(index, 1);\n      this.changeData();\n    }\n  }\n\n  xemHinhAnhBoPhanTonThuong(dataItem){\n    this.dialog.open(ViewImagePdfComponent, {\n        disableClose: false,\n        width: '1000px',\n        height:'600px',        \n        data: { Type:\"Image\",Title: \"Xem ảnh\", Description: (dataItem.MoTa != undefined ? dataItem.MoTa : \"\"),Src: dataItem.HinhAnh}\n    });\n  }\n}\n","export default \".md-primary {\\n  color: white;\\n  background-color: #005dab;\\n}\\n\\n.form-footer {\\n  margin-top: 1.34375em;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n  height: auto;\\n}\\n\\nfieldset legend {\\n  display: flex;\\n  align-items: flex-end;\\n  text-transform: uppercase;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktY2FwLW5oYXQtZ2hpLW5oYW4tdnR0aC10aHVvYy1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcbGFuLWtoYW0taGllbi10YWktY2FwLW5oYXQtZ2hpLW5oYW4tdnR0aC10aHVvYy1wb3B1cFxcbGFuLWtoYW0taGllbi10YWktY2FwLW5oYXQtZ2hpLW5oYW4tdnR0aC10aHVvYy1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktY2FwLW5oYXQtZ2hpLW5oYW4tdnR0aC10aHVvYy1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1jYXAtbmhhdC1naGktbmhhbi12dHRoLXRodW9jLXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSw4QkFBQTtFQUNBLGtDQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQ0FBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0VBQ0EscUJBQUE7RUFDQSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLWNhcC1uaGF0LWdoaS1uaGFuLXZ0dGgtdGh1b2MtcG9wdXAvbGFuLWtoYW0taGllbi10YWktY2FwLW5oYXQtZ2hpLW5oYW4tdnR0aC10aHVvYy1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tZC1wcmltYXJ5IHtcbiAgY29sb3I6IHdoaXRlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1ZGFiO1xufVxuXG4uZm9ybS1mb290ZXIge1xuICBtYXJnaW4tdG9wOiAxLjM0Mzc1ZW07XG59XG5cbmZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctbGVmdDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG4gIGhlaWdodDogYXV0bztcbn1cblxuZmllbGRzZXQgbGVnZW5kIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn0iLCIubWQtcHJpbWFyeSB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNWRhYjtcbn1cblxuLmZvcm0tZm9vdGVyIHtcbiAgbWFyZ2luLXRvcDogMS4zNDM3NWVtO1xufVxuXG5maWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xuICBoZWlnaHQ6IGF1dG87XG59XG5cbmZpZWxkc2V0IGxlZ2VuZCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59Il19 */\"","import { ChangeDetectorRef, Component, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-cap-nhat-ghi-nhan-vtth-thuoc-popup',\n  templateUrl: './lan-kham-hien-tai-cap-nhat-ghi-nhan-vtth-thuoc-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-cap-nhat-ghi-nhan-vtth-thuoc-popup.component.scss']\n})\nexport class LanKhamHienTaiCapNhatGhiNhanVtthThuocPopupComponent implements OnInit {\n\n  validationErrors: any[] = [];\n  isSelectingVatTuThuoc: boolean = false;\n  popupSavingData: any = null;\n  format = \"n2\";\n  thongTinVatTuThuoc: any;\n  tenLoai: string = \"\";\n  soLuongBanDau: number = null;\n\n  icClose = icClose;\n  \n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, \n    public dialogRef: MatDialogRef<LanKhamHienTaiCapNhatGhiNhanVtthThuocPopupComponent>, \n    private dialog: MatDialog,\n    private notificationService: NotificationService, \n    private apiService: ApiService, \n    private ref: ChangeDetectorRef) { }\n\n  ngOnInit() {\n    this.thongTinVatTuThuoc = this.data;\n    this.tenLoai = this.thongTinVatTuThuoc.LaDuocPham ? \"Thuốc\" : \"Vật tư\";\n    this.soLuongBanDau = this.thongTinVatTuThuoc.SoLuong;\n  }\n\n  onKey(event: any) {\n    if (event.key == \"Enter\") {\n      if (this.isSelectingVatTuThuoc != true) {\n        this.luuVatTu();\n      }\n      else {\n        this.isSelectingVatTuThuoc = false;\n      }\n    }\n  }\n\n  savingPage() {\n    this.popupSavingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang lưu dữ liệu...\" },\n    });\n  }\n\n  closepopupSavingData() {\n    if (this.popupSavingData) {\n      this.popupSavingData.close();\n    }\n  }\n\n  dangXuLy:boolean=false;\n  luuVatTu() {\n    if(this.dangXuLy)\n        return;\n    this.dangXuLy=true;\n    var newObj = {\n      SoLuong: this.thongTinVatTuThuoc.SoLuong,\n      SoLuongBanDau: this.soLuongBanDau,\n      LaDuocPham: this.thongTinVatTuThuoc.LaDuocPham,\n      VatTuThuocBenhVienId: this.thongTinVatTuThuoc.VatTuThuocBenhVienId,\n      LaBHYT: this.thongTinVatTuThuoc.LaBHYT,\n      KhoId: this.thongTinVatTuThuoc.KhoId\n    }\n    this.apiService.post<any>(\"KhamBenh/KiemTraValidtionSoLuongGhiNhanThuocVTTH\", newObj).subscribe(\n      resultData => {\n        var result = {\n          \"SoLuong\": this.thongTinVatTuThuoc.SoLuong,\n          \"TinhPhi\": this.thongTinVatTuThuoc.TinhPhi\n        }\n        this.dialogRef.close(result);\n        this.dangXuLy=false;\n      },\n      (err: ApiError) => {\n          this.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n              this.notificationService.showError(err.Message);\n          }\n          this.dangXuLy=false;\n      });\n  }\n}\n","export default \"ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\n.po-h {\\n  color: #005dab;\\n  position: relative;\\n  top: 5px;\\n  left: 5px;\\n}\\n\\n.po-h mat-icon {\\n  display: contents;\\n}\\n\\ntable#tbl-chan-doan-pb th, table#tbl-chan-doan-pb td {\\n  border: 1px solid #ccc;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktY2hhbi1kb2FuLXBoYW4tYmlldC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcbGFuLWtoYW0taGllbi10YWktY2hhbi1kb2FuLXBoYW4tYmlldFxcbGFuLWtoYW0taGllbi10YWktY2hhbi1kb2FuLXBoYW4tYmlldC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktY2hhbi1kb2FuLXBoYW4tYmlldC9sYW4ta2hhbS1oaWVuLXRhaS1jaGFuLWRvYW4tcGhhbi1iaWV0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsOEJBQUE7RUFDQSx1QkFBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7QUNDRjs7QURFQTtFQUNFLHNCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9sYW4ta2hhbS1oaWVuLXRhaS9sYW4ta2hhbS1oaWVuLXRhaS1jaGFuLWRvYW4tcGhhbi1iaWV0L2xhbi1raGFtLWhpZW4tdGFpLWNoYW4tZG9hbi1waGFuLWJpZXQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ1bC5pbmxpbmUgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG4ucG8taCB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogNXB4O1xuICBsZWZ0OiA1cHg7XG59XG5cbi5wby1oIG1hdC1pY29uIHtcbiAgZGlzcGxheTogY29udGVudHM7XG59XG5cbnRhYmxlI3RibC1jaGFuLWRvYW4tcGIgdGgsIHRhYmxlI3RibC1jaGFuLWRvYW4tcGIgdGQge1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xufSIsInVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbi5wby1oIHtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA1cHg7XG4gIGxlZnQ6IDVweDtcbn1cblxuLnBvLWggbWF0LWljb24ge1xuICBkaXNwbGF5OiBjb250ZW50cztcbn1cblxudGFibGUjdGJsLWNoYW4tZG9hbi1wYiB0aCwgdGFibGUjdGJsLWNoYW4tZG9hbi1wYiB0ZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG59Il19 */\"","import { ChangeDetectorRef,Component, OnInit, ViewChild, TemplateRef,Input, SimpleChanges } from '@angular/core';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icSave from '@iconify/icons-ic/outline-save';\nimport { ChanDoanPhanBiet,BenhVienHangDoi, YeuCauKhamBenhChanDoanPhanBiet } from '../../../kham-benh.model';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { MatDialog } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\n\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-chan-doan-phan-biet',\n  templateUrl: './lan-kham-hien-tai-chan-doan-phan-biet.component.html',\n  styleUrls: ['./lan-kham-hien-tai-chan-doan-phan-biet.component.scss']\n})\nexport class LanKhamHienTaiChanDoanPhanBietComponent implements OnInit {\n  documentType: DocumentType;\n  icAddCircle = icAddCircle;\n  icDelete = icDelete;\n  icEdit = icEdit;\n  icSave = icSave;\n\n  validationErrors: any;\n  gridChanDoanPhanBietColumns: any[] = [];\n\n  dataSourceChanDoanPhamBiet: any = {\n    data: [],\n    total: 0\n  }\n  isShowView: boolean = false;\n  @ViewChild('icdTemplate', { static: true }) icdTemplate: TemplateRef<any>;\n  @ViewChild('ghiChuTemplate', { static: true }) ghiChuTemplate: TemplateRef<any>;\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n  constructor(private cdRef: ChangeDetectorRef,private notificationService: NotificationService, private apiService: ApiService,private dialog: MatDialog) { }\n  benhNhanHienTai = new BenhVienHangDoi();\n  @Input() data: any = null;\n  @Input() dataChanDoanPhanBiet: any = null;\n  @Input() laChuyenKhoaKhamNhieu: boolean = false;\n\n  ngOnInit() {\n    this.documentType = DocumentType.KhamBenh;\n    this.benhNhanHienTai = this.data;\n    this.gridChanDoanPhanBietColumns = [\n      { Field: \"ICD\", Title: \"ICD\", Width: 150, Sortable: false ,Template: this.icdTemplate },\n      { Field: \"GhiChu\", Title: \"Chẩn đoán\", Sortable: false,Width: 150, Template: this.ghiChuTemplate },\n      { Field: \"Action\", Title: \"\", Width: 20, Sortable: false, Template: this.actionTemplate }\n    ]\n\n    this.dataSourceChanDoanPhamBiet.data = this.dataChanDoanPhanBiet;\n    //this.getTableBenhNhanDiUngThuoc(this.benhNhanHienTai.YeuCauKhamBenhId); // yeu cau kham benh\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['dataChanDoanPhanBiet'] && changes['dataChanDoanPhanBiet'].previousValue != null && changes['dataChanDoanPhanBiet'].previousValue != changes['dataChanDoanPhanBiet'].currentValue) {\n      this.dataSourceChanDoanPhamBiet.data = changes['dataChanDoanPhanBiet'].currentValue;\n    }\n  }\n\n  getTableBenhNhanDiUngThuoc(idYCKB: number) {\n    var queryObject: any = {\n      skip: 0,\n      take: 50,\n      pageSize: 50,\n      searchString: \"PEFkdmFuY2VkUXVlcnlQYXJhbWV0ZXJzPjxTZWFyY2hUZXJtcz4yPC9TZWFyY2hUZXJtcz48L0FkdmFuY2VkUXVlcnlQYXJhbWV0ZXJzPg==\",\n      additionalSearchString: idYCKB.toString(),\n      searchTerms: null,\n      sort: [{ field: \"TenThuoc\", dir: \"asc\" }],\n      lazyLoadPage: true,\n    };\n\n    this.apiService.post<any>(\"KhamBenh/GetDataGridChanDoanPhanBiet?idYCKB=\" + idYCKB).subscribe(resultData => {\n      if (resultData !== undefined && resultData != null) {\n        this.dataSourceChanDoanPhamBiet.data = resultData.Value.Data;\n      }\n    });\n  }\n  themChanDoanPhanBiet() {\n      let chanDoanPhanBiet = new YeuCauKhamBenhChanDoanPhanBiet();\n      chanDoanPhanBiet.YeuCauKhamBenhId = this.benhNhanHienTai.YeuCauKhamBenhId;\n      this.dataSourceChanDoanPhamBiet.data.push(chanDoanPhanBiet);\n      this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = true;\n\n  }\n  onSelectLoaiDiUng(event: any, dataItem: any) {\n    this.validationErrors = [];\n    // this.idLoaiDiUng = event.KeyId;\n    // if (this.idLoaiDiUng === 1) {\n    //     dataItem.ThuocId = 0;\n    // } else {\n    //     dataItem.TenDiUng = null;\n    // }\n  }\n\n  // luu(dataItem) {\n  //   this.validationErrors = [];\n  //   this.cdRef.detectChanges();\n  // dataItem.BenhNhanId = this.benhNhanHienTai.YeuCauTiepNhan.BenhNhanId;\n  // dataItem.YeuCauKhamBenhId = this.benhNhanHienTai.YeuCauKhamBenhId;\n  // this.apiService.post(\"KhamBenh/LuuKhamChanDoanPhanBiet\", dataItem).subscribe(\n  //     (resultData: any) => {\n  //       this.getTableBenhNhanDiUngThuoc(this.benhNhanHienTai.YeuCauKhamBenhId); // yeu cau kham benh\n  //       this.isShowView = false;\n  //     }, (err: ApiError) => {\n  //         this.validationErrors = err.ValidationErrors;\n  //     });\n      \n  // }\n\n  xoa(dataItem) {\n    this.isShowView = false;\n    this.dialog.open(ConfirmComponent, {\n        disableClose: false,\n        width: '400px',\n        data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessConfirm, [\"xóa\"]) }\n    }).afterClosed().subscribe(result => {\n        if (result === 'Yes') {\n            this.dataSourceChanDoanPhamBiet.data.splice(this.dataSourceChanDoanPhamBiet.data.findIndex(x => x == dataItem), 1);\n            this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xóa\"]));\n            this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = true;\n            // if (dataItem.Id !== 0) {\n            //     this.apiService.post(\"KhamBenh/XoaChanDoanPhanBiet?id=\" + dataItem.Id).subscribe(\n            //         () => { });\n            // }\n            \n        }\n    });\n  }\n//   resetDiUng() {\n  \n//  }\n\n  chonICD(event, dataItem){\n    if(event != undefined && event != null)\n    {\n      dataItem.GhiChu = event.Ten;\n      dataItem.TenICD = event.DisplayName;\n    }\n    else\n    {\n      dataItem.GhiChu = null;\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLWNoaS1kaW5oLWN1YS1iYWMtc2kta2hhYy1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1jaGktZGluaC1jdWEtYmFjLXNpLWtoYWMtcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Inject, ViewChild, TemplateRef } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\nimport { element } from 'protractor';\nimport { PopupChonLoaiInViewComponent } from 'src/app/modules/main/popup-chon-loai-In/popup-chon-loai-in-view/popup-chon-loai-in-view.component';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { ListInChiDinh } from '../../../kham-benh.model';\nimport { XnCovidSarscov2PopupComponent } from '../xn-covid-sarscov2-popup/xn-covid-sarscov2-popup.component';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-chi-dinh-cua-bac-si-khac-popup',\n  templateUrl: './lan-kham-hien-tai-chi-dinh-cua-bac-si-khac-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-chi-dinh-cua-bac-si-khac-popup.component.scss']\n})\nexport class LanKhamHienTaiChiDinhCuaBacSiKhacPopupComponent implements OnInit {\n\n  icClose = icClose;\n\n  urlGetData: string = \"KhamBenh/GetChiDinhCuaBacSiKhacDataForGridAsync\";\n  urlGetTotalPage: string = \"KhamBenh/GetChiDinhBacSiKhacTotalPageForGridAsync\";\n  // urlGetDataDetail: string = \"KhamBenh/GetICDKhacDataForGridAsyncDetail\";\n  // urlGetTotalPageDetail: string = \"KhamBenh/GetICDKhacTotalPageForGridAsyncDetail\";\n\n  yeuCauTiepNhanId: number;\n  yeuCauKhamBenhId: number;\n  ghiChuCanLamSang : string =\"\";\n  gridColumns: any[] = [];\n  gridColumnsChild: any[] = [];\n  listChonDichVuChiDinh: any[] = [];\n  listChonDichVuChiDinhReLoad: any[] = [];\n  dataIn : any;\n  checkAll: boolean = null;\n  isCheckXacNhanIn: boolean = false;\n  groups: GroupDescriptor[] = [{ field: 'TenNhom', dir: null}];\n  @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n  @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n  @ViewChild('checkBoxTemplate', { static: true }) checkBoxTemplate: TemplateRef<any>;\n  @ViewChild('checkBoxHeaderTemplate', { static: true }) checkBoxHeaderTemplate: TemplateRef<any>;\n  @ViewChild('GridChiDinhBSKhac', { read: GridComponent, static: false }) gridChild: GridComponent;\n\n  constructor(private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,private apiService: ApiService,\n  \n  private notificationService: NotificationService,) { }\n\n  ngOnInit() {\n    this.yeuCauTiepNhanId = this.data.YeuCauTiepNhanId;\n    this.yeuCauKhamBenhId = this.data.YeuCauKhamBenhId;\n    this.ghiChuCanLamSang = this.data.GhiChuCanLamSang;\n    this.gridColumns = [\n      { Field: \"CheckBox\", Title: \"\", Width: 35, Template: this.checkBoxTemplate, TemplateHeader: this.checkBoxHeaderTemplate },\n      { Field: \"Id\", Title: \"#\", Width: 45 , Sortable: false, Template: this.sttTemplate },\n      { Field: \"MaDichVu\", Title: \"Mã dịch vụ\", Width: 80 , Sortable: true },\n      { Field: \"TenNhom\", Title: \"\", Width: 80 , Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n      { Field: \"TenDichVu\", Title: \"Tên dịch vụ\", Width: 150 , Sortable: true },\n      { Field: \"TenLoaiGia\", Title: \"Loại giá\", Width: 80 , Sortable: true },\n      { Field: \"SoLuong\", Title: \"Số lượng\", Width: 80 , Sortable: true },\n      { Field: \"TenNguoiChiDinh\", Title: \"Bác sĩ chỉ định\", Width: 150 , Sortable: true }\n    ];\n  }\n  SelectcheckAllboxIn(event){\n    let gridDataIn: any[] = [];\n    if (this.dataIn.Data == undefined) {\n        this.listChonDichVuChiDinh = [];\n    }\n    else {\n\n        gridDataIn = this.gridChild.getAllDataFromDatasource();\n        this.listChonDichVuChiDinh = [];\n    }\n    if (event == true) {\n\n        gridDataIn.forEach(element => {\n            element.isCheckRowItem = true;\n            this.checkAll = true;\n            let index = this.listChonDichVuChiDinh.findIndex(x => x.dichVuChiDinhId == element.Id && x.nhomChiDinhId == element.NhomId);\n            if (index == -1) {\n                var chiDinh = new ListInChiDinh();\n                chiDinh.nhomChiDinhId = element.NhomId;\n                chiDinh.dichVuChiDinhId = element.Id;\n                this.listChonDichVuChiDinh.push(chiDinh);\n            }\n        })\n    }\n    else {\n\n        gridDataIn.forEach(element => {\n            element.isCheckRowItem = false;\n        });\n        this.listChonDichVuChiDinh = [];\n    }\n    this.isCheckXacNhanIn = this.listChonDichVuChiDinh.length > 0;\n  }\n  checkboxIn(event: any, dataItem: any) {\n    if (this.dataIn.Data == undefined) {\n        this.listChonDichVuChiDinh = [];\n    }\n    let index = this.listChonDichVuChiDinh.findIndex(x => x.dichVuChiDinhId == dataItem.Id && x.nhomChiDinhId == dataItem.NhomId);\n    if (event == true) {\n        if (index == -1) {\n            var chiDinh = new ListInChiDinh();\n            chiDinh.nhomChiDinhId = dataItem.NhomId;\n            chiDinh.dichVuChiDinhId = dataItem.Id;\n            this.listChonDichVuChiDinh.push(chiDinh);\n            if (this.listChonDichVuChiDinh.length == this.dataIn.length) {\n                this.checkAll = true;\n            }\n        }\n        else {\n            if (this.listChonDichVuChiDinh.length == this.dataIn.length) {\n                this.checkAll = true;\n            }\n            else {\n                this.checkAll = false;\n            }\n        }\n\n        dataItem.isCheckRowItem = true;\n    }\n    else {\n        this.checkAll = false;\n        if (index >= 0) {\n            this.listChonDichVuChiDinh.splice(index, 1)\n        }\n    }\n    if (this.listChonDichVuChiDinh.length == this.dataIn.Data.length) {\n        this.checkAll = true;\n    }\n    else {\n        this.checkAll = false;\n    }\n    this.isCheckXacNhanIn = this.listChonDichVuChiDinh.length > 0;\n}\n  extOnDataBound(event){\n    this.dataIn =event;\n    \n  }\n  InChiDinhNoiTru(kieuin) {\n    this.listChonDichVuChiDinhReLoad = [];\n    let gridData = this.gridChild.getAllDataFromDatasource();\n    gridData.forEach(elements => {\n        this.listChonDichVuChiDinh.forEach(lstChiDinh => {\n            if (lstChiDinh.dichVuChiDinhId == elements.Id && lstChiDinh.nhomChiDinhId == elements.NhomId) {\n                this.listChonDichVuChiDinhReLoad.push(lstChiDinh);\n            }\n        });\n    });\n    let listGridSelect :any[]= [];\n     gridData.forEach(elements => {\n        this.listChonDichVuChiDinh.forEach(lstChiDinh => {\n            if (lstChiDinh.dichVuChiDinhId == elements.Id && lstChiDinh.nhomChiDinhId == elements.NhomId) {\n                listGridSelect.push(elements);\n            }\n        });\n    });\n    let dataIn = {\n            YeuCauTiepNhanId: this.yeuCauTiepNhanId,\n            YeuCauKhamBenhid: this.yeuCauKhamBenhId,\n            ListDichVuChiDinh: this.listChonDichVuChiDinhReLoad, // grid\n            InChungChiDinh: kieuin,\n            hosting: window.location.protocol + \"//\" + window.location.host,\n            KieuInChung: true,\n            GhiChuCanLamSang: this.ghiChuCanLamSang,\n            IsKhamDoanTatCa : false, // khám đoàn k có\n            EnumInChiDinhKhamBenhNgoaiTru: 1 , // để tạm,\n            listGridSelect: listGridSelect,\n            Loai: 1,\n            InDichVuBacSiChiDinh : true\n        };\n    let dialogRef = this.dialog.open(PopupChonLoaiInViewComponent, {\n        width: '1000px',\n        data: { Model: dataIn }\n    });\n}\n//   InChiDinhNoiTru(kieuIn){\n//     let gridChiDinh :any[] = [];\n//     this.dataIn.Data.forEach(elements => {\n//       if(elements.NhomId == 1 || elements.NhomId == 2)\n//       {\n//         let obj = {\n//           dichVuChiDinhId : elements.Id,\n//           nhomChiDinhId : elements.NhomId\n//         };\n//         gridChiDinh.push(obj);\n//       }\n//       });\n//     let dataIn = {\n//       YeuCauTiepNhanId: this.yeuCauTiepNhanId,\n//       YeuCauKhamBenhid: this.yeuCauKhamBenhId,\n//       ListDichVuChiDinh: gridChiDinh, // grid\n//       InChungChiDinh: kieuIn,\n//       hosting: window.location.protocol + \"//\" + window.location.host,\n//       KieuInChung: true,\n//       GhiChuCanLamSang: this.ghiChuCanLamSang,\n//       IsKhamDoanTatCa : false, // khám đoàn k có\n//       EnumInChiDinhKhamBenhNgoaiTru: 1 , // để tạm,\n//       listGridSelect: this.dataIn.Data,\n//       Loai: 1,\n//       InDichVuBacSiChiDinh : true\n//   };\n//   let dialogRef = this.dialog.open(PopupChonLoaiInViewComponent, {\n//     width: '1000px',\n//     data: { Model: dataIn }\n// });\n//   }\n  \n  close() {\n    this.dialog.closeAll();\n  }\n  //BVHD-3761\n    //=======================================================================================================\n    InPhieuXN(){\n        let yeuCauDichVuKyThuatIds:any[] = [];\n        let gridData = this.gridChild.getAllDataFromDatasource();\n        gridData.forEach(elements => {\n            this.listChonDichVuChiDinh.forEach(lstChiDinh => {\n                if (lstChiDinh.dichVuChiDinhId == elements.Id && \n                    lstChiDinh.nhomChiDinhId == elements.NhomId && \n                    lstChiDinh.nhomChiDinhId == 2) {\n                        yeuCauDichVuKyThuatIds.push(lstChiDinh.dichVuChiDinhId);\n                }\n            });\n        });\n        \n        let hosting = window.location.protocol + \"//\" + window.location.host;\n        let model={\n            YeuCauDichVuKyThuatIds:yeuCauDichVuKyThuatIds,\n            Hosting:hosting,\n            YeuCauTiepNhanId:this.yeuCauTiepNhanId\n        };\n        if(yeuCauDichVuKyThuatIds.length == 0)\n        {\n            let mess = \"Chưa chọn dịch vụ xét nghiệm test nhanh Sars-Cov 2 cần in\";\n            this.notificationService.showError(mess);\n        }\n        else{\n            this.apiService\n            .post<any>(\n              \"TiepNhanBenhNhan/InPhieuXetNghiemCovidBacSiKhacChiDinh\",model\n            )\n            \n            .subscribe((resultData) => {\n                if(resultData != null && resultData !=\"\")\n                {\n                    let dialogRef = this.dialog.open(XnCovidSarscov2PopupComponent, {\n                        width: '1000px',\n                        height: 'auto',\n                        data: { Model: resultData }\n                      }).afterClosed().subscribe(result => {\n                      });\n                }\n                else{\n                    let mess = \"Không có dịch vụ xét nghiệm test nhanh Sars-Cov 2 cần in\";\n                    this.notificationService.showError(mess);\n                }\n            });\n        }\n        \n      }\n      //=======================================================================================================\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLWNodXllbi1raGFtL2xhbi1raGFtLWhpZW4tdGFpLWNodXllbi1raGFtLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Inject, ChangeDetectorRef } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { YeuCauKhamBenh } from '../../../kham-benh.model';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-chuyen-kham',\n  templateUrl: './lan-kham-hien-tai-chuyen-kham.component.html',\n  styleUrls: ['./lan-kham-hien-tai-chuyen-kham.component.scss']\n})\nexport class LanKhamHienTaiChuyenKhamComponent implements OnInit {\n\n  icClose = icClose;\n\n  yeuCauKhamBenh: YeuCauKhamBenh = new YeuCauKhamBenh();\n  validationErrors: any;\n  popupLoadingData: any;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, private dialog: MatDialog, private apiService: ApiService,\n  private ref: ChangeDetectorRef, private notificationService: NotificationService, private dialogRef: MatDialogRef<any>,) { }\n\n  ngOnInit() {\n    this.yeuCauKhamBenh.YeuCauTiepNhanId = this.data.YeuCauTiepNhanId;\n    this.yeuCauKhamBenh.YeuCauKhamBenhTruocId = this.data.YeuCauKhamBenhId;\n  }\n\n  luuChuyenKham() {\n    var self = this;\n    self.showPopupLoadingData();\n    self.validationErrors = [];\n    //self.ref.detectChanges();\n\n    self.apiService.post(\"KhamBenh/KiemTraValidationChuyenKham\", self.yeuCauKhamBenh)\n      .subscribe(resultData => {\n        self.closePopupLoadingData();\n        self.dialogRef.close(self.yeuCauKhamBenh);\n      },\n        (err: ApiError) => {\n          self.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n          }\n          self.closePopupLoadingData();\n        });\n  }\n\n  showPopupLoadingData() {\n    if (this.popupLoadingData == undefined\n      || this.popupLoadingData == null\n      || this.popupLoadingData.openDialogs == undefined\n      || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n      this.popupLoadingData = this.dialog.open(LoadingComponent, {\n        disableClose: true,\n        width: \"200px\",\n        height: \"90px\",\n        data: { Title: \"Đang kiểm tra dữ liệu...\" },\n      });\n    }\n\n  }\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n\n  closes(){\n    this.dialog.closeAll();\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLWhvYW4tdGhhbmgta2hhbS1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1ob2FuLXRoYW5oLWtoYW0tcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Inject, ViewEncapsulation } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-hoan-thanh-kham-popup',\n  templateUrl: './lan-kham-hien-tai-hoan-thanh-kham-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-hoan-thanh-kham-popup.component.scss']\n})\nexport class LanKhamHienTaiHoanThanhKhamPopupComponent implements OnInit {\n\n  icClose = icClose;\n  yeuCauKhamBenhId: number;\n  maTN: string;\n  hoTen: string;\n  quayLai: boolean = null;\n  constructor(private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any, \n    private apiService: ApiService) { }\n\n  ngOnInit() {\n     this.yeuCauKhamBenhId = this.data.YeuCauKhamBenhId;\n     this.maTN = this.data.MaTN;\n     this.hoTen = this.data.HoTen;\n  }\n\n  // xuLyQuayLaiYeuCauKhamBenhTruoc() {\n  //   this.apiService.post(\"KhamBenh/CapNhatThongTinQuayLaiYeuCauKhamTruoc\", this.data.YeuCauKhamBenh)\n  //     .subscribe(resultData => {\n  //       console.log('afasdfsdf', resultData);\n  //     });\n  // }\n\n  close(){\n    this.dialog.closeAll();\n  }\n}\n","export default \".md-primary {\\n  color: white;\\n  background-color: #005dab;\\n}\\n\\n.form-footer {\\n  margin-top: 1.34375em;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n  height: auto;\\n}\\n\\nfieldset legend {\\n  display: flex;\\n  align-items: flex-end;\\n  text-transform: uppercase;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\n.minHeight270 {\\n  min-height: 270px;\\n}\\n\\n.minHeight310 {\\n  min-height: 310px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktaG9hbi10cmEtdGh1b2MtdnR0aC1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcbGFuLWtoYW0taGllbi10YWktaG9hbi10cmEtdGh1b2MtdnR0aC1wb3B1cFxcbGFuLWtoYW0taGllbi10YWktaG9hbi10cmEtdGh1b2MtdnR0aC1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktaG9hbi10cmEtdGh1b2MtdnR0aC1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1ob2FuLXRyYS10aHVvYy12dHRoLXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSw4QkFBQTtFQUNBLGtDQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQ0FBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0VBQ0EscUJBQUE7RUFDQSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktaG9hbi10cmEtdGh1b2MtdnR0aC1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1ob2FuLXRyYS10aHVvYy12dHRoLXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1kLXByaW1hcnkge1xuICBjb2xvcjogd2hpdGU7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDVkYWI7XG59XG5cbi5mb3JtLWZvb3RlciB7XG4gIG1hcmdpbi10b3A6IDEuMzQzNzVlbTtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbiAgaGVpZ2h0OiBhdXRvO1xufVxuXG5maWVsZHNldCBsZWdlbmQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG4ubWluSGVpZ2h0MjcwIHtcbiAgbWluLWhlaWdodDogMjcwcHg7XG59XG5cbi5taW5IZWlnaHQzMTAge1xuICBtaW4taGVpZ2h0OiAzMTBweDtcbn0iLCIubWQtcHJpbWFyeSB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNWRhYjtcbn1cblxuLmZvcm0tZm9vdGVyIHtcbiAgbWFyZ2luLXRvcDogMS4zNDM3NWVtO1xufVxuXG5maWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xuICBoZWlnaHQ6IGF1dG87XG59XG5cbmZpZWxkc2V0IGxlZ2VuZCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbi5taW5IZWlnaHQyNzAge1xuICBtaW4taGVpZ2h0OiAyNzBweDtcbn1cblxuLm1pbkhlaWdodDMxMCB7XG4gIG1pbi1oZWlnaHQ6IDMxMHB4O1xufSJdfQ== */\"","import { ChangeDetectorRef, Component, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { ThongTinHoanTraVatTuThuocPTTTVo } from 'src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat.model';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-hoan-tra-thuoc-vtth-popup',\n  templateUrl: './lan-kham-hien-tai-hoan-tra-thuoc-vtth-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-hoan-tra-thuoc-vtth-popup.component.scss']\n})\nexport class LanKhamHienTaiHoanTraThuocVtthPopupComponent implements OnInit {\n    thongTinTraVT: any;\n    thongTinHoanTraVTVo: ThongTinHoanTraVatTuThuocPTTTVo = new ThongTinHoanTraVatTuThuocPTTTVo();\n    validationErrors: any[] = [];\n    popupLoadingData: any = null;\n    additionString: any = null;\n\n    gridColumns: any[] = [];\n\n    icClose = icClose;\n\n    @ViewChild(\"ngayTraTemplate\", { static: true }) ngayTraTemplate: TemplateRef<any>;\n    @ViewChild(\"ngayTaoTemplate\", { static: true }) ngayTaoTemplate: TemplateRef<any>;\n    @ViewChild(\"tinhTrangTemplate\", { static: true }) tinhTrangTemplate: TemplateRef<any>;\n\n    constructor(private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any, public dialogRef: MatDialogRef<LanKhamHienTaiHoanTraThuocVtthPopupComponent>,\n                private ref: ChangeDetectorRef, private notificationService: NotificationService,\n                private apiService: ApiService) { }\n\n    ngOnInit() {\n        this.additionString = JSON.stringify({\n            YeuCauDuocPhamVatTuBenhVienId: this.data.Id,\n            DuocHuongBaoHiem: this.data.DuocHuongBaoHiem,\n            NhomYeuCauId: this.data.NhomYeuCauId\n        });\n\n        this.thongTinTraVT = this.data;\n        this.getThongTinHoanTraVT();\n        this.gridColumns = [\n            { Field: \"NgayTra\", Title: \"Ngày trả\", Width: 70, Sortable: false, Template: this.ngayTraTemplate, },\n            { Field: \"SoLuongTra\", Title: \"SL Trả\", Width: 30, Sortable: false, },\n            { Field: \"NhanVienTra\", Title: \"Người trả\", Width: 70, Sortable: false, },\n            { Field: \"SoPhieu\", Title: \"Số phiếu trả\", Width: 50, Sortable: false, Hidden: this.thongTinTraVT.LaDuocPham },\n            { Field: \"TinhTrang\", Title: \"Tình trạng\", Width: 50, Sortable: false, Template: this.tinhTrangTemplate },\n            { Field: \"NgayTao\", Title: \"Ngày tạo\", Width: 70, Sortable: false, Template: this.ngayTaoTemplate, },\n        ];\n\n        // this.additionString = `${this.thongTinTraVT.YeuCauBenhVienId};${this.thongTinTraVT.DuocHuongBaoHiem};${this.thongTinTraVT.NhomYeuCauId};`;\n    }\n\n    getThongTinHoanTraVT() {\n        this.loadingPage();\n        this.apiService.post<any>(\"PhauThuatThuThuat/GetThongTinHoanTraVatTuThuocPTTT\", this.thongTinTraVT).subscribe((res) => {\n            this.closePopupLoadingData();\n\n            if (res) {\n                this.thongTinHoanTraVTVo = res;\n                //update BVHD-3411: Khi hoàn trả thuốc/vật tư từ người bệnh (chưa cần duyệt phiếu hoàn trả) thì phần mềm ghi nhận số lượng và thành tiền còn lại sau khi hoàn trả\n                if(this.thongTinHoanTraVTVo.YeuCauDuocPhamVatTuBenhViens != null){\n                  this.thongTinTraVT.SoLuong = this.thongTinHoanTraVTVo.YeuCauDuocPhamVatTuBenhViens.reduce((n,{SoLuong, SoLuongTra}) =>  n + SoLuong + SoLuongTra, 0)\n                }\n            }\n        }, (err: ApiError) => {\n            this.validationErrors = err.ValidationErrors;\n\n            if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n            }\n\n            this.closePopupLoadingData();\n        });\n    }\n\n    huy() {\n        this.dialogRef.close();\n    }\n\n    loadingPage() {\n        if(!this.popupLoadingData) {\n            this.popupLoadingData = this.dialog.open(LoadingComponent, {\n                disableClose: true,\n                width: \"200px\",\n                height: \"90px\",\n                data: { Title: \"Đang tải dữ liệu...\" },\n            });\n        }\n    }\n\n    savingPage() {\n        if(!this.popupLoadingData) {\n            this.popupLoadingData = this.dialog.open(LoadingComponent, {\n                disableClose: true,\n                width: \"200px\",\n                height: \"90px\",\n                data: { Title: \"Đang lưu dữ liệu...\" },\n            });\n        }\n    }\n\n    closePopupLoadingData() {\n        if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n            this.popupLoadingData.close();\n            this.popupLoadingData = null;\n        }\n    }\n\n    luu() {\n        this.validationErrors = null;\n        this.ref.detectChanges();\n        this.savingPage();\n\n        this.thongTinHoanTraVTVo.YeuCauTiepNhanId = this.thongTinTraVT.YeuCauTiepNhanId;\n        this.thongTinHoanTraVTVo.DuocHuongBaoHiem = this.thongTinTraVT.DuocHuongBaoHiem;\n        // this.thongTinHoanTraVTVo.NhomYeuCauId = this.thongTinTraVT.NhomYeuCauId;\n        this.apiService.post<any>(\"PhauThuatThuThuat/HoanTraVatTuThuocTuBenhNhanPTTT\", this.thongTinHoanTraVTVo).subscribe(() => {\n            this.closePopupLoadingData();\n            this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Lưu\"]));\n            this.dialogRef.close();\n        }, (err: ApiError) => {\n            this.validationErrors = err.ValidationErrors;\n\n            if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n            }\n\n            this.closePopupLoadingData();\n        });\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLWtlLXRvYS9hcC1kdW5nLWxpY2gtc3Uta2UtdG9hLWNvbmZpcm0tcG9wdXAvYXAtZHVuZy1saWNoLXN1LWtlLXRvYS1jb25maXJtLXBvcHVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Inject, ChangeDetectorRef, ViewChild, TemplateRef } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\n@Component({\n  selector: 'app-ap-dung-lich-su-ke-toa-confirm-popup',\n  templateUrl: './ap-dung-lich-su-ke-toa-confirm-popup.component.html',\n  styleUrls: ['./ap-dung-lich-su-ke-toa-confirm-popup.component.scss']\n})\nexport class ApDungLichSuKeToaConfirmPopupComponent implements OnInit {\n  icClose = icClose;\n  validationErrors: any[] = [];\n  gridColumns: any[] = [];\n  dataToaThuoc = {\n    data: [],\n    total: 0\n  }\n  isDisabled: boolean = false;\n\n  canhBao: string = \"Ghi chú: Những thuốc bị tô đỏ vì số lượng thuốc trong kho không đủ hoặc đã hết.\";\n  @ViewChild('nhomThuocGroupHeaderTemplate', { static: true }) nhomThuocGroupHeaderTemplate: TemplateRef<any>;\n  @ViewChild('sangTemplate', { static: true }) sangTemplate: TemplateRef<any>;\n  @ViewChild('truaTemplate', { static: true }) truaTemplate: TemplateRef<any>;\n  @ViewChild('chieuTemplate', { static: true }) chieuTemplate: TemplateRef<any>;\n  @ViewChild('toiTemplate', { static: true }) toiTemplate: TemplateRef<any>;\n\n  groupNhomThuocLichSuKeToa: GroupDescriptor[] = [{ field: 'NhomThuoc' }];\n  documentType: DocumentType;\n  constructor(\n    private apiService: ApiService,\n    private notificationService: NotificationService,\n    private ref: ChangeDetectorRef,\n    private dialogRef: MatDialogRef<ApDungLichSuKeToaConfirmPopupComponent>,\n    private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any\n  ) { }\n\n  ngOnInit() {\n    //console.log(\"data Popup: \", this.data)\n    this.gridColumns = [\n      // { Field: \"STT\", Title: \"#\", Width: 50 },\n      { Field: \"Ten\", Title: \"Dược Phẩm\", Width: 100, ShowTooltip: true },\n      { Field: \"NhomThuoc\", Title: \"Nhóm\", Width: 60, Hidden: true, TemplateGroupHeader: this.nhomThuocGroupHeaderTemplate },\n      { Field: \"HoatChat\", Title: \"Hoạt chất\", Width: 100, ShowTooltip: true },\n      { Field: \"DVT\", Title: \"ĐVT\", Width: 80 },\n      { Field: \"SangDisplay\", Title: \"Sáng\", Width: 100, Template: this.sangTemplate },\n      { Field: \"TruaDisplay\", Title: \"Trưa\", Width: 100, Template: this.truaTemplate },\n      { Field: \"ChieuDisplay\", Title: \"Chiều\", Width: 100, Template: this.chieuTemplate },\n      { Field: \"ToiDisplay\", Title: \"Tối\", Width: 100, Template: this.toiTemplate },\n      { Field: \"SoNgayDung\", Title: \"Số ngày\", Width: 80 },\n      { Field: \"SoLuongDisplay\", Title: \"SL\", Width: 50 },\n      { Field: \"DuongDung\", Title: \"Đường dùng\", Width: 70 },\n      { Field: \"GhiChu\", Title: \"Ghi Chú\", Width: 100, ShowTooltip: true },\n    ];\n    this.dataToaThuoc.data = this.data.ResultData.ApDungToaThuocChiTietVos;\n    this.isDisabled = this.data.ResultData.ThanhCong;\n\n    let index = 1;\n    let indexs = 1;\n    this.dataToaThuoc.data.forEach((x: { STT: number; NhomThuoc: string }) => {\n      if (x.NhomThuoc === \"Thuốc BHYT\") {\n        x.STT = index;\n        index++;\n      }\n      if (x.NhomThuoc === \"Thuốc Không BHYT\") {\n        x.STT = indexs;\n        indexs++;\n      }\n    });\n    this.dataToaThuoc.data = [...this.dataToaThuoc.data];\n\n    for (let i = 0; i < this.dataToaThuoc.data.length; i++) {\n      if (this.dataToaThuoc.data[i].SoLuong > this.dataToaThuoc.data[i].SoLuongTonKho) {\n        this.dataToaThuoc.data[i].HighLightClass = 'bg-row-lightpink';\n      }\n    }\n\n  }\n\n  close() {\n    this.dialogRef.close();\n  }\n\n  apDungLichSuKeToaConfirm() {\n    let lstData = this.dataToaThuoc.data;\n    let yeuCauKhamBenhHienTaiId = this.data.YeuCauKhamBenhId;\n    this.validationErrors = [];\n    this.ref.detectChanges();\n    let comfirm = \"áp dụng\";\n    var self = this;\n    self.dialog.open(ConfirmComponent, {\n      disableClose: false,\n      width: '400px',\n      data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessLockTemplate, [comfirm, \"toa thuốc\"]) }\n    }).afterClosed().subscribe(result => {\n      if (result == \"Yes\") {\n        let dataSend = {\n          YeuCauKhamBenhHienTaiId: yeuCauKhamBenhHienTaiId,\n          ApDungToaThuocChiTietVos: lstData\n        }\n        self.apiService.post<any>(\"KhamBenh/ApDungToaThuocConfirmAsync\", dataSend).subscribe(\n          () => {\n            self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Áp dụng toa thuốc\"]));\n            self.close();\n          },\n          (err: ApiError) => {\n            this.validationErrors = err.ValidationErrors;\n            if (err.Message != \"Validation Failed\") {\n              this.notificationService.showError(err.Message);\n            }\n          });\n      }\n    });\n  }\n\n}\n\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLWtlLXRvYS9sYW4ta2hhbS1oaWVuLXRhaS1hcC1kdW5nLXRvYS10aHVvYy1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1hcC1kdW5nLXRvYS10aHVvYy1wb3B1cC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Inject, ChangeDetectorRef, ViewChild, TemplateRef } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ToaMauSoNgayDung } from '../../../../kham-benh.model';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-ap-dung-toa-thuoc-popup',\n  templateUrl: './lan-kham-hien-tai-ap-dung-toa-thuoc-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-ap-dung-toa-thuoc-popup.component.scss']\n})\nexport class LanKhamHienTaiApDungToaThuocPopupComponent implements OnInit {\n  validationErrors: any[] = [];\n  icClose = icClose;\n  gridColumns: any[] = [];\n  dataToaThuoc = {\n    data: [],\n    total: 0\n  }\n  isDisabled: boolean = false;\n  canhBao: string = \"Ghi chú: Những thuốc bị tô đỏ vì số lượng thuốc trong kho không đủ hoặc đã hết.\";\n  @ViewChild('nhomThuocGroupHeaderTemplate', { static: true }) nhomThuocGroupHeaderTemplate: TemplateRef<any>;\n  @ViewChild('sangTemplate', { static: true }) sangTemplate: TemplateRef<any>;\n  @ViewChild('truaTemplate', { static: true }) truaTemplate: TemplateRef<any>;\n  @ViewChild('chieuTemplate', { static: true }) chieuTemplate: TemplateRef<any>;\n  @ViewChild('toiTemplate', { static: true }) toiTemplate: TemplateRef<any>;\n  groupNhomThuocLichSuKeToa: GroupDescriptor[] = [{ field: 'NhomThuoc' }];\n  toaMau: ToaMauSoNgayDung = new ToaMauSoNgayDung();\n  documentType: DocumentType;\n  constructor(\n    private apiService: ApiService,\n    private notificationService: NotificationService,\n    private ref: ChangeDetectorRef,\n    private dialogRef: MatDialogRef<LanKhamHienTaiApDungToaThuocPopupComponent>,\n    private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any) { }\n\n  ngOnInit() {\n    //console.log(\"data toa mẫu: \", this.data)\n    this.gridColumns = [\n      // { Field: \"STT\", Title: \"#\", Width: 50 },\n      { Field: \"Ten\", Title: \"Dược Phẩm\", Width: 100, ShowTooltip: true },\n      // { Field: \"NhomThuoc\", Title: \"Nhóm\", Width: 60, Hidden: true, TemplateGroupHeader: this.nhomThuocGroupHeaderTemplate },\n      { Field: \"HoatChat\", Title: \"Hoạt chất\", Width: 100, ShowTooltip: true },\n      { Field: \"DVT\", Title: \"ĐVT\", Width: 80 },\n      { Field: \"SangDisplay\", Title: \"Sáng\", Width: 100, Template: this.sangTemplate },\n      { Field: \"TruaDisplay\", Title: \"Trưa\", Width: 100, Template: this.truaTemplate },\n      { Field: \"ChieuDisplay\", Title: \"Chiều\", Width: 100, Template: this.chieuTemplate },\n      { Field: \"ToiDisplay\", Title: \"Tối\", Width: 100, Template: this.toiTemplate },\n      { Field: \"SoNgayDung\", Title: \"Số ngày\", Width: 80 },\n      { Field: \"SoLuongDisplay\", Title: \"SL\", Width: 50 },\n      { Field: \"DuongDung\", Title: \"Đường dùng\", Width: 70 },\n    ];\n    this.dataToaThuoc.data = this.data.ResultData.ApDungToaThuocChiTietVos;\n    this.isDisabled = this.data.ResultData.ThanhCong;\n    //console.log(\"this.isDisabled\", this.isDisabled)\n    let index = 1;\n    let indexs = 1;\n    this.dataToaThuoc.data.forEach((x: { STT: number; NhomThuoc: string }) => {\n      if (x.NhomThuoc === \"Thuốc BHYT\") {\n        x.STT = index;\n        index++;\n      }\n      if (x.NhomThuoc === \"Thuốc Không BHYT\") {\n        x.STT = indexs;\n        indexs++;\n      }\n    });\n    this.dataToaThuoc.data = [...this.dataToaThuoc.data];\n    for (let i = 0; i < this.dataToaThuoc.data.length; i++) {\n      if (this.dataToaThuoc.data[i].SoLuong > this.dataToaThuoc.data[i].SoLuongTonKho) {\n        this.dataToaThuoc.data[i].HighLightClass = 'bg-row-lightpink';\n      }\n    }\n  }\n\n  close() {\n    this.dialogRef.close();\n  }\n  apDung() {\n    let lstData = this.dataToaThuoc.data;\n    let yeuCauKhamBenhHienTaiId = this.data.YeuCauKhamBenhId;\n    this.validationErrors = [];\n    this.ref.detectChanges();\n    let comfirm = \"áp dụng\";\n    var self = this;\n    self.dialog.open(ConfirmComponent, {\n      disableClose: false,\n      width: '400px',\n      data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessLockTemplate, [comfirm, \"toa thuốc\"]) }\n    }).afterClosed().subscribe(result => {\n      if (result == \"Yes\") {\n        let dataSend = {\n          YeuCauKhamBenhHienTaiId: yeuCauKhamBenhHienTaiId,\n          ApDungToaThuocChiTietVos: lstData\n        }\n        self.apiService.post<any>(\"KhamBenh/ApDungToaThuocConfirmAsync\", dataSend).subscribe(\n          () => {\n            self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Áp dụng toa thuốc\"]));\n            self.close();\n          },\n          (err: ApiError) => {\n            this.validationErrors = err.ValidationErrors;\n            if (err.Message != \"Validation Failed\") {\n              this.notificationService.showError(err.Message);\n            }\n          });\n      }\n    });\n  }\n\n\n}\n\n\n\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2UtdG9hL2xhbi1raGFtLWhpZW4tdGFpLWluLXRvYS10aHVvYy1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcbGFuLWtoYW0taGllbi10YWkta2UtdG9hXFxsYW4ta2hhbS1oaWVuLXRhaS1pbi10b2EtdGh1b2MtcG9wdXBcXGxhbi1raGFtLWhpZW4tdGFpLWluLXRvYS10aHVvYy1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2UtdG9hL2xhbi1raGFtLWhpZW4tdGFpLWluLXRvYS10aHVvYy1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1pbi10b2EtdGh1b2MtcG9wdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2UtdG9hL2xhbi1raGFtLWhpZW4tdGFpLWluLXRvYS10aHVvYy1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1pbi10b2EtdGh1b2MtcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTAwcHg7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSIsIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59Il19 */\"","import { Component, OnInit, Optional, Inject } from '@angular/core';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ListThuocReOrder } from '../../../../kham-benh.model';\nimport { NotificationService } from 'src/app/core/services/notification.service';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-in-toa-thuoc-popup',\n  templateUrl: './lan-kham-hien-tai-in-toa-thuoc-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-in-toa-thuoc-popup.component.scss']\n})\nexport class LanKhamHienTaiInToaThuocPopupComponent implements OnInit {\n  listThuocReOrder: ListThuocReOrder;\n  hostingName: string;\n  icClose = icClose;\n  srcBHYT: string = \"\";\n  srcKhongBHYT: string = \"\";\n  src: string = \"\";\n  isBHYT: boolean = false;\n  iskhongBHYT: boolean = false;\n  constructor(private apiService: ApiService, private notificationService: NotificationService,\n    private dialog: MatDialog, public sanitizer: DomSanitizer,\n    private dialogRef: MatDialogRef<LanKhamHienTaiInToaThuocPopupComponent>,\n\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any,\n\n  ) { }\n\n  ngOnInit() {\n    this.listThuocReOrder = new ListThuocReOrder();\n    //console.log(\"data:\", this.data)\n    this.listThuocReOrder = this.data;\n    this.listThuocReOrder.TenICDChinh = this.data.TenICDChinh;\n    this.listThuocReOrder.GhiChuICDChinh = this.data.GhiChuICDChinh;\n    this.listThuocReOrder.YeuCauKhamBenhICDKhacs = this.data.YeuCauKhamBenhICDKhacs;\n    this.listThuocReOrder.IsChangeChanDoan = this.data.IsChangeChanDoan;\n    if (window.location.protocol == \"http:\") {\n      this.listThuocReOrder.HostingName = \"http://\" + window.location.host;\n    } else {\n      this.listThuocReOrder.HostingName = \"https://\" + window.location.host;\n    }\n    this.showToaThuoc();\n  }\n  close() {\n    this.dialogRef.close();\n  }\n\n  showToaThuoc() {\n    var loaded = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: \"Đang tải dữ liệu...\" }\n    });\n    this.listThuocReOrder.Header = true;\n    this.apiService.post<any>(\"KhamBenh/InDonThuoc\", this.listThuocReOrder).subscribe(\n      resultData => {\n        if (resultData != \"\" && resultData != null) {\n          this.src = \"data:text/html;charset=utf-8,\" + encodeURIComponent(resultData);\n          this.listThuocReOrder.Header = false;\n        }\n        loaded.close();\n      },\n      () => {\n        this.notificationService.showError(\"Có lỗi xảy ra khi tải đơn thuốc. Bạn hãy thử lại lần nữa.\");\n        this.dialogRef.close();\n      });\n  }\n\n  getSharedPrintForm() {\n    //hard code get => post\n    return new Promise(resolve => {\n      this.apiService.post<any>(\"KhamBenh/InDonThuoc\", this.listThuocReOrder).subscribe(resultData => {\n        resolve(resultData);\n      });\n      // this.dialogRef.close();\n    });\n  }\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2UtdG9hL2xhbi1raGFtLWhpZW4tdGFpLWluLXZhdC10dS1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcbGFuLWtoYW0taGllbi10YWkta2UtdG9hXFxsYW4ta2hhbS1oaWVuLXRhaS1pbi12YXQtdHUtcG9wdXBcXGxhbi1raGFtLWhpZW4tdGFpLWluLXZhdC10dS1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2UtdG9hL2xhbi1raGFtLWhpZW4tdGFpLWluLXZhdC10dS1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1pbi12YXQtdHUtcG9wdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2UtdG9hL2xhbi1raGFtLWhpZW4tdGFpLWluLXZhdC10dS1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1pbi12YXQtdHUtcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTAwcHg7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSIsIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59Il19 */\"","import { Component, OnInit, Optional, Inject } from '@angular/core';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ListVatTuReOrder } from '../../../../kham-benh.model';\nimport { NotificationService } from 'src/app/core/services/notification.service';\n@Component({\n  selector: 'app-lan-kham-hien-tai-in-vat-tu-popup',\n  templateUrl: './lan-kham-hien-tai-in-vat-tu-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-in-vat-tu-popup.component.scss']\n})\nexport class LanKhamHienTaiInVatTuPopupComponent implements OnInit {\n  listVatTuReOrder: ListVatTuReOrder;\n  hostingName: string;\n  icClose = icClose;\n  src: string = \"\";\n  constructor(private apiService: ApiService,private notificationService: NotificationService,\n    private dialog: MatDialog, public sanitizer: DomSanitizer,\n    private dialogRef: MatDialogRef<LanKhamHienTaiInVatTuPopupComponent>,\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\n  ) { }\n\n  ngOnInit() {\n    this.listVatTuReOrder = new ListVatTuReOrder();\n    this.listVatTuReOrder = this.data;\n    if (window.location.protocol == \"http:\") {\n      this.listVatTuReOrder.HostingName = \"http://\" + window.location.host;\n    } else {\n      this.listVatTuReOrder.HostingName = \"https://\" + window.location.host;\n    }\n    this.showVatTu();\n  }\n  close() {\n    this.dialogRef.close();\n  }\n\n  showVatTu() {\n    var loaded = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: \"Đang tải dữ liệu...\" }\n    });\n    this.listVatTuReOrder.Header = true;\n    this.apiService.post<any>(\"KhamBenh/InVatTu\", this.listVatTuReOrder).subscribe(\n      resultData => {\n        if (resultData != \"\" && resultData != null) {\n          this.src = \"data:text/html;charset=utf-8,\" + encodeURIComponent(resultData);\n          this.listVatTuReOrder.Header = false;\n        }\n        loaded.close();\n      },\n      () => {\n        this.notificationService.showError(\"Có lỗi xảy ra khi tải đơn VTYT. Bạn hãy thử lại lần nữa.\");\n        this.dialogRef.close();\n      });\n  }\n\n  getSharedPrintForm() {\n    //hard code get => post\n    return new Promise(resolve => {\n      this.apiService.post<any>(\"KhamBenh/InVatTu\", this.listVatTuReOrder).subscribe(resultData => {\n        resolve(resultData);\n      });\n      // this.close();\n    });\n  }\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\n.po-h-radio {\\n  margin-top: -2px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2UtdG9hL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXGxhbi1raGFtLWhpZW4tdGFpXFxsYW4ta2hhbS1oaWVuLXRhaS1rZS10b2FcXGxhbi1raGFtLWhpZW4tdGFpLWtlLXRvYS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2UtdG9hL2xhbi1raGFtLWhpZW4tdGFpLWtlLXRvYS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLWtlLXRvYS9sYW4ta2hhbS1oaWVuLXRhaS1rZS10b2EuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJmaWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbTtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIHBhZGRpbmctbGVmdDogMC43NWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW07XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbi5wby1oLXJhZGlvIHtcbiAgbWFyZ2luLXRvcDogLTJweDtcbn0iLCJmaWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbTtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIHBhZGRpbmctbGVmdDogMC43NWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW07XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbi5wby1oLXJhZGlvIHtcbiAgbWFyZ2luLXRvcDogLTJweDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild, TemplateRef, Input, ChangeDetectorRef, HostListener, Output, EventEmitter, SimpleChanges } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icArrowDownward from '@iconify/icons-ic/arrow-downward';\nimport icArrowUpward from '@iconify/icons-ic/arrow-upward';\nimport icAdd from '@iconify/icons-ic/twotone-add';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icEdit from '@iconify/icons-ic/border-color';\nimport icCheck from '@iconify/icons-ic/check';\nimport icSave from '@iconify/icons-ic/outline-save';\nimport icCancel from '@iconify/icons-ic/cancel';\nimport { GroupDescriptor, SortDescriptor } from '@progress/kendo-data-query';\nimport { KeToaItem, DuocPhamTonKhos, BenhVienHangDoi, YeuCauKhamBenhPrevious, VatTuTonKhos, KeVatTuItem } from '../../../kham-benh.model';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { MatDialog } from '@angular/material';\nimport { LanKhamHienTaiApDungToaThuocPopupComponent } from './lan-kham-hien-tai-ap-dung-toa-thuoc-popup/lan-kham-hien-tai-ap-dung-toa-thuoc-popup.component';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { ApDungLichSuKeToaConfirmPopupComponent } from './ap-dung-lich-su-ke-toa-confirm-popup/ap-dung-lich-su-ke-toa-confirm-popup.component';\nimport { DonThuocBacSiKhacKePopupComponent } from '../don-thuoc-bac-si-khac-ke-popup/don-thuoc-bac-si-khac-ke-popup.component';\nimport { parseNumber } from '@progress/kendo-angular-intl';\nimport { ComboboxComponent } from 'src/app/shared/component/dropdowns/combobox/combobox.component';\nimport { LanKhamHienTaiInToaThuocPopupComponent } from './lan-kham-hien-tai-in-toa-thuoc-popup/lan-kham-hien-tai-in-toa-thuoc-popup.component';\nimport { ChinhSuaDonThuocChiTietPopupComponent } from '../chinh-sua-don-thuoc-chi-tiet-popup/chinh-sua-don-thuoc-chi-tiet-popup.component';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { LookupQueryInfo } from 'src/app/shared/models/common.model';\nimport { ChinhSuaVatTuChiTietPopupComponent } from '../chinh-sua-vat-tu-chi-tiet-popup/chinh-sua-vat-tu-chi-tiet-popup.component';\nimport { LanKhamHienTaiInVatTuPopupComponent } from './lan-kham-hien-tai-in-vat-tu-popup/lan-kham-hien-tai-in-vat-tu-popup.component';\nimport { ThemThuocKhongBhytComponent } from '../them-thuoc-khong-bhyt/them-thuoc-khong-bhyt.component';\nimport { TrungThuocPopupComponent } from './trung-thuoc-popup/trung-thuoc-popup.component';\nimport { LoaiThuocTheoQuanLy } from 'src/app/shared/enum/thuoc.enum';\ndeclare var $: any;\n@Component({\n  selector: 'app-lan-kham-hien-tai-ke-toa',\n  templateUrl: './lan-kham-hien-tai-ke-toa.component.html',\n  styleUrls: ['./lan-kham-hien-tai-ke-toa.component.scss']\n})\nexport class LanKhamHienTaiKeToaComponent implements OnInit {\n  sort: SortDescriptor[] = [{\n    field: 'ThoiDiemHoanThanh',\n    dir: 'desc'\n  }];\n\n  sortToaThuoc: SortDescriptor[] = [{\n    field: 'STT',\n    dir: 'asc'\n  }];\n\n  dataToSumThanhTien: any[] = [];\n  dataToSumThanhTienVatTu: any[] = [];\n  dataToIsDisabledButtonPrint: any[] = [];\n  isDisableButtonPrint: boolean = false;\n  isShowTextBoxLoiDan: boolean = false;\n  loaiKhoThuoc: number = 0;\n  khoThuocDaChon: number = 0;\n  yckhambenhId: number = 0;\n  loaiDonThuoc: number = 0;\n\n  keToaNew: KeToaItem = new KeToaItem();\n  keToaEdit: KeToaItem = new KeToaItem();\n  keToaDelete: KeToaItem = new KeToaItem();\n  vatTuEdit: KeVatTuItem = new KeVatTuItem();\n  vatTuDelete: KeVatTuItem = new KeVatTuItem();\n  benhNhanHienTai: BenhVienHangDoi = new BenhVienHangDoi();\n  thongTinDuocPham: DuocPhamTonKhos = new DuocPhamTonKhos();\n  thongTinVatTu: VatTuTonKhos = new VatTuTonKhos();\n\n  yeuCauKhamBenhPrevious: YeuCauKhamBenhPrevious;\n\n  queryInfo: LookupQueryInfo = new LookupQueryInfo();\n\n  loiDanDonThuoc: string = null;\n  gridToaThuocColumns: any[] = [];\n  urlGetDataGridToaThuoc: string = \"\";\n  urlGetTotalPageGridToaThuoc: string = \"\";\n\n  gridToaMauColumns: any[] = [];\n  urlGetDataGridToaThuocMau: string = \"KhamBenh/GetDataForGridAsyncToaThuocMau\";\n  urlGetTotalPageGridToaThuocMau: string = \"KhamBenh/GetTotalPageForGridAsyncToaThuocMau\";\n\n  gridToaMauChildColumns: any[] = [];\n  urlGetDataGridToaMauChild: string = \"KhamBenh/GetDataForGridToaThuocMauChiTietChild\";\n  urlGetTotalPageGridToaMauChild: string = \"KhamBenh/GetTotalPageForToaThuocMauChiTietChild\";\n\n  gridLichSuKeToaColumns: any[] = [];\n  urlGetDataGridLichSuKeToa: string = \"KhamBenh/GetDataForGridAsyncLichSuKeToa\";\n  urlGetTotalPageGridLichSuKeToa: string = \"KhamBenh/GetTotalPageForGridAsyncLichSuKeToa\";\n\n  gridLichSuKeToaChildColumns: any[] = [];\n  urlGetDataGridLichSuKeToaChild: string = \"KhamBenh/GetDataForGridLichSuKeToaChild\";\n  urlGetTotalPageGridLichSuKeToaChild: string = \"KhamBenh/GetTotalPageForLichSuKeToaChild\";\n\n  gridVatTuYTColumns: any[] = [];\n  GetVatTuYTDataForGridAsync: string = \"KhamBenh/GetVatTuYTDataForGridAsync\";\n  GetVatTuYTTotalPageForGridAsync: string = \"KhamBenh/GetVatTuYTTotalPageForGridAsync\";\n\n  benhNhanId: number = 0;\n  coBHYTSearch: boolean = false;\n  toaMau: number = 1;\n  //=========================\n  format: string = 'n2';\n  flagShowButtonSave: boolean = false;\n  icArrowDownward = icArrowDownward;\n  icArrowUpward = icArrowUpward;\n  icDelete = icDelete;\n  icEdit = icEdit;\n  icCheck = icCheck;\n  icSave = icSave;\n  icCancel = icCancel;\n  icAdd = icAdd;\n  isSelectDuocPham: boolean = false;\n  isVatTu: boolean = false;\n  isDuocPham: boolean = false;\n  loaiDuocPhamHoacVatTu: number = 1;\n  thoiGianDonThuocDataSource: any;\n  ghiChuDonThuocChiTietDataSource: any;\n  groups: GroupDescriptor[] = [{ field: 'Nhom' }];\n  groupNhomLichSuKeToa: GroupDescriptor[] = [{ field: 'NhomLSKT' }];\n  groupNhom: GroupDescriptor[] = [{ field: 'NhomToaMau' }];\n  popupAddingData: any = null;\n  popupDeletingData: any = null;\n  popupSavingData: any = null;\n  groupsChild: GroupDescriptor[] = [{ field: ' ', aggregates: [{ field: 'ThanhTien', aggregate: 'sum' }] }];\n  groupsVatTu: GroupDescriptor[] = [{ field: 'Nhom', aggregates: [{ field: 'ThanhTienVatTu', aggregate: 'sum' }] }];\n\n  public totalThanhTien(field: any) {\n    switch (field) {\n      case 'ThanhTien':\n        return this.dataToSumThanhTien.reduce((sum: any, item: { ThanhTien: any; }) => sum + item.ThanhTien, 0);\n    }\n  };\n  public totalThanhTienVatTu(field: any) {\n    switch (field) {\n      case 'ThanhTienVatTu':\n        return this.dataToSumThanhTienVatTu.reduce((sum: any, item: { ThanhTienVatTu: any; }) => sum + item.ThanhTienVatTu, 0);\n    }\n  };\n  validationErrors: any;\n  validationErrorsUpdate: any;\n  @Input() data: any = null;\n  @Input() dataYeuCauKhamBenhPrevious: any;\n  @Input() documentType: DocumentType = DocumentType.KhamBenh;\n  @Output() hideTextBoxLoiDan: EventEmitter<any> = new EventEmitter<any>();\n  @Output() dataThuoc: EventEmitter<any> = new EventEmitter<any>();\n  @Output() dataVatTu: EventEmitter<any> = new EventEmitter<any>();\n  @Output() validationErrorsOut: EventEmitter<any> = new EventEmitter<any>();\n\n\n  @ViewChild('actionToaMauTemplate', { static: true }) actionToaMauTemplate: TemplateRef<any>;\n  @ViewChild('actionLichSuKeToaTemplate', { static: true }) actionLichSuKeToaTemplate: TemplateRef<any>;\n\n  @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n  @ViewChild('bHChiTraTemplate', { static: true }) bHChiTraTemplate: TemplateRef<any>;\n  @ViewChild('bNChiTraTemplate', { static: true }) bNChiTraTemplate: TemplateRef<any>;\n  @ViewChild('actionToaThuocTemplate', { static: true }) actionToaThuocTemplate: TemplateRef<any>;\n  @ViewChild('tongCongFooterTemplate', { static: true }) tongCongFooterTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienFooterTemplate', { static: true }) thanhTienFooterTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienGroupFooterTemplate', { static: true }) thanhTienGroupFooterTemplate: TemplateRef<any>;\n  @ViewChild('donGiaFooterTemplate', { static: true }) donGiaFooterTemplate: TemplateRef<any>;\n  @ViewChild('donGiaGroupFooterTemplate', { static: true }) donGiaGroupFooterTemplate: TemplateRef<any>;\n  @ViewChild('thuocBHYTTemplate', { static: true }) thuocBHYTTemplate: TemplateRef<any>;\n\n  @ViewChild('tuongTacTemplate', { static: true }) tuongTacTemplate: TemplateRef<any>;\n  @ViewChild('duongDungTemplate', { static: true }) duongDungTemplate: TemplateRef<any>;\n\n\n  @ViewChild('duocPhamTemplate', { static: true }) duocPhamTemplate: TemplateRef<any>;\n  @ViewChild('hoatChatTemplate', { static: true }) hoatChatTemplate: TemplateRef<any>;\n  @ViewChild('diUngTemplate', { static: true }) diUngTemplate: TemplateRef<any>;\n  @ViewChild('sangTemplate', { static: true }) sangTemplate: TemplateRef<any>;\n  @ViewChild('truaTemplate', { static: true }) truaTemplate: TemplateRef<any>;\n  @ViewChild('chieuTemplate', { static: true }) chieuTemplate: TemplateRef<any>;\n  @ViewChild('soLuongTemplate', { static: true }) soLuongTemplate: TemplateRef<any>;\n  @ViewChild('ghiChuChiTietTemplate', { static: true }) ghiChuChiTietTemplate: TemplateRef<any>;\n\n  @ViewChild('toiTemplate', { static: true }) toiTemplate: TemplateRef<any>;\n\n  @ViewChild('toaThuoc', { static: true }) gridToaThuoc: GridComponent;\n  @ViewChild('lichSuKeToa', { static: true }) gridLichSuKeToa: GridComponent;\n  @ViewChild('duocTemplateEdit', { static: true }) duocTemplateEdit: TemplateRef<any>;\n  @ViewChild('soNgayTemplateEdit', { static: true }) soNgayTemplateEdit: TemplateRef<any>;\n  @ViewChild('soLuongTemplateEdit', { static: true }) soLuongTemplateEdit: TemplateRef<any>;\n\n  @ViewChild('sangTemplateEdit', { static: true }) sangTemplateEdit: TemplateRef<any>;\n  @ViewChild('thoiGianDungSangEdit', { static: true }) thoiGianDungSangTemplateEdit: TemplateRef<any>;\n  @ViewChild('truaTemplateEdit', { static: true }) truaTemplateEdit: TemplateRef<any>;\n  @ViewChild('chieuTemplateEdit', { static: true }) chieuTemplateEdit: TemplateRef<any>;\n  @ViewChild('toiTemplateEdit', { static: true }) toiTemplateEdit: TemplateRef<any>;\n  @ViewChild('ghiChuTemplateEdit', { static: true }) ghiChuTemplateEdit: TemplateRef<any>;\n  @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n  @ViewChild('nhomVatTuGroupHeaderTemplate', { static: true }) nhomVatTuGroupHeaderTemplate: TemplateRef<any>;\n\n  @ViewChild('nhomThuocLSKTGroupHeaderTemplate', { static: true }) nhomThuocLSKTGroupHeaderTemplate: TemplateRef<any>;\n  @ViewChild('isFocus', { static: false }) isFocus: ComboboxComponent;\n\n  @ViewChild('donGiaVatTuTemplate', { static: true }) donGiaVatTuTemplate: TemplateRef<any>;\n  @ViewChild('donGiaVatTuFooterTemplate', { static: true }) donGiaVatTuFooterTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienVatTuTemplate', { static: true }) thanhTienVatTuTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienVatTuFooterTemplate', { static: true }) thanhTienVatTuFooterTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienVatTuGroupFooterTemplate', { static: true }) thanhTienVatTuGroupFooterTemplate: TemplateRef<any>;\n  @ViewChild('actionVatTuTemplate', { static: true }) actionVatTuTemplate: TemplateRef<any>;\n\n  @ViewChild('nhomThuocGroupHeaderTemplate', { static: true }) nhomThuocGroupHeaderTemplate: TemplateRef<any>;\n\n  @ViewChild('STTVatTuTemplate', { static: true }) STTVatTuTemplate: TemplateRef<any>;\n  @ViewChild('gridVatTu', { read: GridComponent, static: false }) gridVatTu: GridComponent;\n  // @ViewChild('gridVatTu', { static: true }) gridVatTu: GridComponent;\n\n\n  constructor(\n    private dialog: MatDialog,\n    private apiService: ApiService,\n    private notificationService: NotificationService,\n    private ref: ChangeDetectorRef,\n    private authService: AuthService,\n  ) { }\n\n\n  ngOnInit() {\n    this.benhNhanHienTai = this.data;\n    //this.documentType = DocumentType.KhamBenh;\n    this.isDuocPham = true;\n    this.benhNhanId = this.benhNhanHienTai.YeuCauTiepNhan.BenhNhanId;\n    this.coBHYTSearch = this.benhNhanHienTai.YeuCauTiepNhan.CoBHYT;\n    this.yckhambenhId = this.data.YeuCauKhamBenh.Id;\n    this.getThoiGianDonThuoc();\n    if (this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhDonVTYTs.length > 0) {\n      this.benhNhanHienTai.YeuCauKhamBenh.IsShowGridVatTu = true;\n    }\n    //this.getGhiChuDonThuocChiTiet();\n\n    //======================== TOA MAU\n    this.gridToaMauColumns = [\n      { Field: \"TenToaMau\", Title: \"Tên toa mẫu\", Width: 200, Sortable: true },\n      { Field: \"BacSiKeToa\", Title: \"Bác sĩ kê toa\", Width: 200, Sortable: true },\n      { Field: \"ChuanDoanICD\", Title: \"Chẩn đoán ICD\", minWidth: 400, Sortable: true },\n      { Field: \"GhiChu\", Title: \"Ghi Chú\", Width: 200, Sortable: true },\n      { Field: \"Action\", Title: \"\", Width: 80, Template: this.actionToaMauTemplate }\n    ];\n\n    this.gridToaMauChildColumns = [\n      { Field: \"STT\", Title: \"#\", Width: 35, Sortable: true },\n      { Field: \"Ma\", Title: \"Mã\", Width: 45, Sortable: true, ShowTooltip: true },\n      { Field: \"Ten\", Title: \"Tên\", Width: 120, Sortable: true, ShowTooltip: true },\n      { Field: \"HoatChat\", Title: \"Hoạt chất\", Width: 120, Sortable: true, ShowTooltip: true },\n      { Field: \"DVT\", Title: \"ĐVT\", Width: 60, Sortable: true },\n      //{ Field: \"NhomToaMau\", Title: \"Nhóm\", Width: 60, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomThuocGroupHeaderTemplate },\n      { Field: \"SangDisplay\", Title: \"Sáng\", Width: 80, Sortable: true, ShowTooltip: true },\n      { Field: \"TruaDisplay\", Title: \"Trưa\", Width: 80, Sortable: true, ShowTooltip: true },\n      { Field: \"ChieuDisplay\", Title: \"Chiều\", Width: 80, Sortable: true, ShowTooltip: true },\n      { Field: \"ToiDisplay\", Title: \"Tối\", Width: 80, Sortable: true, ShowTooltip: true },\n      { Field: \"SoNgayDung\", Title: \"Số ngày\", Width: 60, Sortable: true },\n      { Field: \"SoLuongDisplay\", Title: \"SL\", Width: 50, Sortable: true },\n      { Field: \"TenDuongDung\", Title: \"Đường dùng\", Width: 50, Sortable: true, ShowTooltip: true },\n      { Field: \"GhiChu\", Title: \"Cách dùng\", Width: 100, Sortable: true, ShowTooltip: true },\n    ];\n\n    //======================== LICH SU KE TOA\n    this.gridLichSuKeToaColumns = [\n      { Field: \"ThoiDiemHoanThanh\", Title: \"Thời điểm hoàn thành\", Width: 170, Sortable: true },\n      { Field: \"MaTN\", Title: \"Mã TN\", Width: 120, Sortable: true },\n      { Field: \"ChuanDoanICD\", Title: \"Chẩn đoán ICD\", minWidth: 400, Sortable: true },\n      { Field: \"BacSiKham\", Title: \"Bác sĩ khám\", Width: 200 },\n      { Field: \"Action\", Title: \"\", Width: 80, Template: this.actionLichSuKeToaTemplate }\n    ];\n\n    this.gridLichSuKeToaChildColumns = [\n      { Field: \"STT\", Title: \"#\", Width: 30, Sortable: true },\n      { Field: \"Ma\", Title: \"Mã\", Width: 45, Sortable: true, ShowTooltip: true },\n      { Field: \"Ten\", Title: \"Tên\", Width: 120, Sortable: true, ShowTooltip: true },\n      { Field: \"HoatChat\", Title: \"Hoạt chất\", Width: 120, Sortable: true, ShowTooltip: true },\n      { Field: \"DVT\", Title: \"ĐVT\", Width: 60, Sortable: true },\n      { Field: \"NhomLSKT\", Title: \"Nhóm\", Width: 60, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomThuocLSKTGroupHeaderTemplate },\n      { Field: \"SangDisplay\", Title: \"Sáng\", Width: 80, Sortable: true, ShowTooltip: true },\n      { Field: \"TruaDisplay\", Title: \"Trưa\", Width: 80, Sortable: true, ShowTooltip: true },\n      { Field: \"ChieuDisplay\", Title: \"Chiều\", Width: 80, Sortable: true, ShowTooltip: true },\n      { Field: \"ToiDisplay\", Title: \"Tối\", Width: 80, Sortable: true, ShowTooltip: true },\n      { Field: \"SoNgayDung\", Title: \"Số ngày\", Width: 60, Sortable: true },\n      { Field: \"SoLuongDisplay\", Title: \"SL\", Width: 50, Sortable: true },\n      { Field: \"TenDuongDung\", Title: \"Đường dùng\", Width: 120, Sortable: true, ShowTooltip: true },\n    ];\n\n    //===================== TOA THUOC\n    this.gridToaThuocColumns = [\n      { Field: \"Action\", Title: \"\", Width: 100, Template: this.actionToaThuocTemplate, },\n      // { Field: \"Nhom\", Title: \"Nhóm\", Width: 100, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n      { Field: \"STT\", Title: \"#\", Width: 40, Sortable: true },\n      // { Field: \"Ma\", Title: \"Mã\", Width: 45, Sortable: true, ShowTooltip: true },\n      { Field: \"Ten\", Title: \"TÊN\", Width: 95, Sortable: true, ShowTooltip: true },\n      { Field: \"HoatChat\", Title: \"Hoạt chất\", Width: 80, Sortable: true, ShowTooltip: true },\n      { Field: \"Nhom\", Title: \"Thuốc BHYT\", Width: 50, Sortable: false, ShowTooltip: true },\n      { Field: \"HamLuong\", Title: \"Hàm lượng\", Width: 75, Sortable: true, ShowTooltip: true },\n      { Field: \"DVT\", Title: \"ĐVT\", Width: 60, Sortable: true, ShowTooltip: true },\n      { Field: \"DuongDungNumber\", Title: \"Đ.Dùng\", Width: 70, Sortable: true, Template: this.duongDungTemplate },\n      { Field: \"SoLuong\", Title: \"SL\", Width: 40, Sortable: true, Template: this.soLuongTemplate },\n      { Field: \"GhiChu\", Title: \"Cách dùng\", Width: 90, Sortable: true, ShowTooltip: true },\n      { Field: \"SangDisplay\", Title: \"Sáng\", Width: 55, Sortable: true, Template: this.sangTemplate },\n      { Field: \"TruaDisplay\", Title: \"Trưa\", Width: 55, Sortable: true, Template: this.truaTemplate },\n      { Field: \"ChieuDisplay\", Title: \"Chiều\", Width: 55, Sortable: true, Template: this.chieuTemplate },\n      { Field: \"ToiDisplay\", Title: \"Tối\", Width: 55, Sortable: true, Template: this.toiTemplate },\n      // { Field: \"SoNgayDung\", Title: \"Số ngày\", Width: 80, Sortable: true, TemplateEdit: this.soNgayTemplateEdit },\n      // { Field: \"DonGia\", Title: \"Đơn giá\", Width: 90, Sortable: true, TemplateFooter: this.donGiaFooterTemplate, Template: this.donGiaTemplate, TemplateGroupFooter: this.donGiaGroupFooterTemplate },\n      // { Field: \"ThanhTien\", Title: \"T.Tiền\", Width: 80, Sortable: true, Template: this.thanhTienTemplate, TemplateFooter: this.thanhTienFooterTemplate, TemplateGroupFooter: this.thanhTienGroupFooterTemplate },\n      // { Field: \"TuongTacThuoc\", Title: \"Tương tác thuốc\", Width: 65, Sortable: true },\n      // { Field: \"DiUngThuocDisplay\", Title: \"Dị ứng\", Width: 65, Sortable: true },\n    ];\n\n    //===================== VAT TU\n\n    this.gridVatTuYTColumns = [\n      { Field: \"Action\", Title: \"\", Width: 70, Template: this.actionVatTuTemplate, },\n      { Field: \"STT\", Title: \"#\", Width: 60, Sortable: true, Template: this.STTVatTuTemplate },\n      { Field: \"Ten\", Title: \"Tên\", Width: 170, Sortable: true, ShowTooltip: true },\n      { Field: \"DonViTinh\", Title: \"ĐVT\", Width: 120, Sortable: true },\n      { Field: \"Nhom\", Title: \"Nhóm\", Width: 100, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomVatTuGroupHeaderTemplate },\n      { Field: \"SoLuong\", Title: \"Số lượng\", Width: 100, Sortable: true },\n      { Field: \"DonGia\", Title: \"Đơn giá\", Width: 80, Sortable: true, TemplateFooter: this.donGiaVatTuFooterTemplate, Template: this.donGiaVatTuTemplate, },\n      { Field: \"ThanhTienVatTu\", Title: \"Thành tiền\", Width: 200, Sortable: true, Template: this.thanhTienVatTuTemplate, TemplateFooter: this.thanhTienVatTuFooterTemplate, TemplateGroupFooter: this.thanhTienVatTuGroupFooterTemplate },\n      { Field: \"GhiChu\", Title: \"Cách dùng\", Width: 200, Sortable: true, ShowTooltip: true },\n    ];\n\n\n    if (this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhDonThuocs.length > 0) {\n      if (this.benhNhanHienTai.YeuCauKhamBenh.GhiChu == null) {\n        this.benhNhanHienTai.YeuCauKhamBenh.GhiChu = this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhDonThuocs[0].GhiChu;\n      }\n      this.loiDanDonThuoc = this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhDonThuocs[0].GhiChu;\n\n    }\n\n    this.chonKhoThuocBanDauTheoBHYT();\n    this.getCanNangGanNhat();\n  }\n\n  getCanNangGanNhat() {\n\n    if (this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus != [] && this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus.length > 0) {\n      for (let i = this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus.length; i > 0; i--) {\n        if (this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus[i - 1].CanNang != null) {\n          this.benhNhanHienTai.YeuCauKhamBenh.CanNang = this.benhNhanHienTai.YeuCauTiepNhan.KetQuaSinhHieus[i - 1].CanNang;\n          break;\n        }\n      }\n    } else {\n      this.benhNhanHienTai.YeuCauKhamBenh.CanNang = null;\n    }\n    this.benhNhanHienTai.YeuCauKhamBenh.TenMucDo = null;\n  }\n\n  chonKhoThuocBanDauTheoBHYT() {\n    this.queryInfo = new LookupQueryInfo();\n    let coBHYT = this.data.YeuCauTiepNhan.CoBHYT;\n    if (coBHYT == true) {\n      this.keToaNew.KhoThuoc = 1;\n      this.loaiKhoThuoc = 1;\n      let loaiKhoThuocBHYT = \"1\";\n      this.queryInfo.ParameterDependencies = loaiKhoThuocBHYT;\n\n    }\n    if (coBHYT == false || coBHYT == null) {\n      this.keToaNew.KhoThuoc = 2;\n      this.keToaNew.KhoThuocKhongBHYT = 3;\n      this.loaiKhoThuoc = 2;\n      let loaiKhoThuocKhongBHYT = \"2\";\n      this.queryInfo.ParameterDependencies = loaiKhoThuocKhongBHYT;\n\n    }\n  }\n\n  onDataBoundChild(event: any) {\n    this.dataToSumThanhTien = event.Data;\n    this.dataToIsDisabledButtonPrint = event.Data;\n    this.dataThuoc.emit(event.Data);\n    if (event.Data.length > 0) {\n      this.hideTextBoxLoiDan.emit(true);\n      //this.getGhiChuICD();\n    } else {\n      this.hideTextBoxLoiDan.emit(false);\n    }\n\n    if (this.dataToIsDisabledButtonPrint.length > 0) {\n      if (this.benhNhanHienTai.YeuCauKhamBenh.GhiChu == null) {\n        this.getGhiChuICD();\n      }\n      this.isDisableButtonPrint = false;\n      this.apiService.post<any>(\"KhamBenh/KiemTraCoDonThuoc?yeuCauKhamBenhId=\" + this.data.YeuCauKhamBenh.Id).subscribe(\n        resultData => {\n          if (resultData != undefined && resultData != null) {\n            this.benhNhanHienTai.YeuCauKhamBenh.IsShowTextBoxLoiDan = resultData;\n          }\n\n        });\n    } else {\n      this.isDisableButtonPrint = true;\n      this.benhNhanHienTai.YeuCauKhamBenh.GhiChu = null;\n      this.benhNhanHienTai.YeuCauKhamBenh.IsShowTextBoxLoiDan = false;\n    }\n\n  }\n\n  getGhiChuICD() {\n    if (this.benhNhanHienTai.YeuCauKhamBenh.IcdchinhId != undefined && this.benhNhanHienTai.YeuCauKhamBenh.IcdchinhId != null) {\n      this.apiService.get<any>(\"KhamBenh/GetLoiDanTheoICD?iCDId=\" + this.benhNhanHienTai.YeuCauKhamBenh.IcdchinhId).subscribe(\n        resultData => {\n          if (resultData != undefined && resultData != null) {\n            this.benhNhanHienTai.YeuCauKhamBenh.GhiChu = resultData;\n            if (this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhDonThuocs != [] && this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhDonThuocs.length > 0) {\n              this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhDonThuocs[0].GhiChu = resultData;\n            }\n          } else {\n            this.benhNhanHienTai.YeuCauKhamBenh.GhiChu = null;\n          }\n        });\n    }\n  }\n\n  chonDuoc(event: any) {\n    //console.log(\"chonDuoc: \", event)\n    if (event != undefined && event != null) {\n      this.keToaNew.Duoc = event.Ten;\n      this.keToaNew.LoaiThuocTheoQuanLy = event.LoaiThuocTheoQuanLy;\n      let duocPhamHoacVatTuId = event.KeyId;\n      let loaiDuocPham = 0;\n      if (this.keToaNew.KhoThuoc == 1) {\n        loaiDuocPham = this.keToaNew.KhoThuoc\n      }\n      if (this.keToaNew.KhoThuoc == 2) {\n        if (this.keToaNew.KhoThuocKhongBHYT == 3) {\n          loaiDuocPham = 2\n        }\n        if (this.keToaNew.KhoThuocKhongBHYT == 4) {\n          loaiDuocPham = 3\n        }\n      }\n      //console.log(this.benhNhanHienTai.YeuCauKhamBenh.GhiChu)\n      if (event.LoaiDuocPhamHoacVatTu == 1) {\n        this.loaiDuocPhamHoacVatTu = 1;\n        this.isDuocPham = true;\n        this.isVatTu = false;\n        let objThongTinThuoc = {\n          YeuCauKhamBenhId: this.data.YeuCauKhamBenh.Id,\n          DuocPhamId: duocPhamHoacVatTuId,\n          LoaiDuocPham: loaiDuocPham\n        };\n        this.thongTinDuocPham = new DuocPhamTonKhos();\n        this.thongTinVatTu = new VatTuTonKhos();\n        this.apiService.post<any>(\"KhamBenh/InfoTonKhoDuocPham\", objThongTinThuoc).subscribe(\n          resultData => {\n            if (resultData != null) {\n              this.thongTinDuocPham = resultData;\n              this.diUngThuocModelChange();\n            }\n          });\n      } else if (event.LoaiDuocPhamHoacVatTu == 2) {\n        this.loaiDuocPhamHoacVatTu = 2;\n        this.isDuocPham = false;\n        this.isVatTu = true;\n        this.clearKeToaNew();\n        this.thongTinDuocPham = new DuocPhamTonKhos();\n        this.thongTinVatTu = new VatTuTonKhos();\n        let objThongTinVatTu = {\n          YeuCauKhamBenhId: this.data.YeuCauKhamBenh.Id,\n          VatTuId: duocPhamHoacVatTuId,\n        };\n\n        this.apiService.post<any>(\"KhamBenh/ThongTinTonKhoVatTu\", objThongTinVatTu).subscribe(\n          resultData => {\n            if (resultData != null) {\n              this.thongTinVatTu = resultData;\n              console.log(this.thongTinVatTu);\n            }\n          });\n      }\n    }\n    else {\n      this.keToaNew.Duoc = null;\n      this.keToaNew.LoaiThuocTheoQuanLy = null;\n      this.loaiDuocPhamHoacVatTu = null;\n      this.isDuocPham = true;\n      this.isVatTu = false;\n      this.benhNhanHienTai.YeuCauKhamBenh.TenMucDo = null;\n      this.keToaNew.SoLuong = null;\n      this.clearKeToaNew();\n      this.thongTinDuocPham = new DuocPhamTonKhos();\n      this.thongTinVatTu = new VatTuTonKhos();\n    }\n  }\n\n  clearKeToaNew() {\n    this.keToaNew.SangDisplay = null;\n    this.keToaNew.TruaDisplay = null;\n    this.keToaNew.ChieuDisplay = null;\n    this.keToaNew.ToiDisplay = null;\n    this.keToaNew.ThoiGianDungSang = null;\n    this.keToaNew.ThoiGianDungTrua = null;\n    this.keToaNew.ThoiGianDungChieu = null;\n    this.keToaNew.ThoiGianDungToi = null;\n    this.keToaNew.SoNgayDung = null;\n    this.keToaNew.LieuDungTrenNgayDisplay = null;\n    this.keToaNew.SoLanTrenVienDisplay = null;\n    this.keToaNew.SoLanTrenVien = null;\n\n  }\n\n  chonKhoThuoc(event: any) {\n    if (event != undefined && event != null) {\n      if (event == 1) {\n        this.loaiKhoThuoc = 1;\n        this.queryInfo = new LookupQueryInfo();\n        let loaiKhoThuoc1 = \"1\";\n        this.queryInfo.ParameterDependencies = loaiKhoThuoc1;\n        this.keToaNew.DuocPhamId = null;\n        this.keToaNew.KhoThuocKhongBHYT = null;\n        this.thongTinDuocPham = new DuocPhamTonKhos();\n        this.thongTinVatTu = new VatTuTonKhos();\n\n        var ketoanew = this.keToaNew;\n        ketoanew.LieuDungTrenNgayDisplay = null;\n        ketoanew.SoLanTrenVienDisplay = null;\n        ketoanew.SoNgayDung = null;\n        ketoanew.SangDisplay = null;\n        ketoanew.TruaDisplay = null;\n        ketoanew.ChieuDisplay = null;\n        ketoanew.ToiDisplay = null;\n        ketoanew.SoLuong = null;\n        ketoanew.GhiChu = null;\n        ketoanew.ThoiGianDungSang = null;\n        ketoanew.ThoiGianDungTrua = null;\n        ketoanew.ThoiGianDungChieu = null;\n        ketoanew.ThoiGianDungToi = null;\n      }\n      else if (event == 3) {\n        this.queryInfo = new LookupQueryInfo();\n        let loaiKhoThuoc2 = \"2\";\n        this.queryInfo.ParameterDependencies = loaiKhoThuoc2;\n        this.loaiKhoThuoc = 2;\n        this.khoThuocDaChon = 2;\n        this.keToaNew.DuocPhamId = null;\n        this.thongTinDuocPham = new DuocPhamTonKhos();\n        this.thongTinVatTu = new VatTuTonKhos();\n\n        var ketoanew = this.keToaNew;\n        ketoanew.LieuDungTrenNgayDisplay = null;\n        ketoanew.SoLanTrenVienDisplay = null;\n        ketoanew.SoNgayDung = null;\n        ketoanew.SangDisplay = null;\n        ketoanew.TruaDisplay = null;\n        ketoanew.ChieuDisplay = null;\n        ketoanew.ToiDisplay = null;\n        ketoanew.SoLuong = null;\n        ketoanew.GhiChu = null;\n        ketoanew.ThoiGianDungSang = null;\n        ketoanew.ThoiGianDungTrua = null;\n        ketoanew.ThoiGianDungChieu = null;\n        ketoanew.ThoiGianDungToi = null;\n      }\n      else if (event == 4) {\n        this.loaiKhoThuoc = 3;\n        this.queryInfo = new LookupQueryInfo();\n        let loaiKhoThuoc3 = \"3\";\n        this.queryInfo.ParameterDependencies = loaiKhoThuoc3;\n        this.keToaNew.DuocPhamId = null;\n        this.khoThuocDaChon = 4;\n        this.thongTinDuocPham = new DuocPhamTonKhos();\n        this.thongTinVatTu = new VatTuTonKhos();\n\n        var ketoanew = this.keToaNew;\n        ketoanew.LieuDungTrenNgayDisplay = null;\n        ketoanew.SoLanTrenVienDisplay = null;\n        ketoanew.SoNgayDung = null;\n        ketoanew.SangDisplay = null;\n        ketoanew.TruaDisplay = null;\n        ketoanew.ChieuDisplay = null;\n        ketoanew.ToiDisplay = null;\n        ketoanew.SoLuong = null;\n        ketoanew.GhiChu = null;\n        ketoanew.ThoiGianDungSang = null;\n        ketoanew.ThoiGianDungTrua = null;\n        ketoanew.ThoiGianDungChieu = null;\n        ketoanew.ThoiGianDungToi = null;\n      }\n      else {\n        this.loaiKhoThuoc = 2;\n        this.queryInfo = new LookupQueryInfo();\n        let loaiKhoThuoc2 = \"2\";\n        this.queryInfo.ParameterDependencies = loaiKhoThuoc2;\n        this.keToaNew.KhoThuocKhongBHYT = 3;\n        this.khoThuocDaChon = 3;\n        this.keToaNew.DuocPhamId = null;\n        this.thongTinDuocPham = new DuocPhamTonKhos();\n        this.thongTinVatTu = new VatTuTonKhos();\n\n        var ketoanew = this.keToaNew;\n        ketoanew.LieuDungTrenNgayDisplay = null;\n        ketoanew.SoLanTrenVienDisplay = null;\n        ketoanew.SoNgayDung = null;\n        ketoanew.SangDisplay = null;\n        ketoanew.TruaDisplay = null;\n        ketoanew.ChieuDisplay = null;\n        ketoanew.ToiDisplay = null;\n        ketoanew.SoLuong = null;\n        ketoanew.GhiChu = null;\n        ketoanew.ThoiGianDungSang = null;\n        ketoanew.ThoiGianDungTrua = null;\n        ketoanew.ThoiGianDungChieu = null;\n        ketoanew.ThoiGianDungToi = null;\n      }\n    }\n  }\n\n  getThoiGianDonThuoc() {\n    this.apiService.get<Array<string>>(\"KhamBenh/ThoiGianDonThuoc\").subscribe(\n      resultData => {\n        this.thoiGianDonThuocDataSource = resultData;\n      }\n    )\n  }\n\n  getGhiChuDonThuocChiTiet() {\n    this.apiService.get<Array<string>>(\"KhamBenh/GetGhiChuDonThuocChiTiet\").subscribe(\n      resultData => {\n        this.ghiChuDonThuocChiTietDataSource = resultData;\n      }\n    )\n  }\n\n  onValueChangeAdd(buoi: any) {\n    if (buoi === \"Sang\" && this.validationErrors != undefined && this.validationErrors != null) {\n      let lenValidate = this.validationErrors.length;\n      if (lenValidate > 0 && lenValidate != undefined) {\n        for (let i = 0; i < lenValidate; i++) {\n          if (this.validationErrors[i].Field === \"SoLuong\") {\n            this.validationErrors.splice(i, 1);\n            break;\n          }\n        }\n      }\n      else {\n        return null;\n      }\n    }\n    else if (buoi === \"Trua\" && this.validationErrors != undefined && this.validationErrors != null) {\n      let lenValidate = this.validationErrors.length;\n      if (lenValidate > 0 && lenValidate != undefined) {\n        for (let i = 0; i < lenValidate; i++) {\n          if (this.validationErrors[i].Field === \"SoLuong\") {\n            this.validationErrors.splice(i, 1);\n            break;\n          }\n        }\n      }\n      else {\n        return null;\n      }\n    }\n    else if (buoi === \"Chieu\" && this.validationErrors != undefined && this.validationErrors != null) {\n      let lenValidate = this.validationErrors.length;\n      if (lenValidate > 0 && lenValidate != undefined) {\n        for (let i = 0; i < lenValidate; i++) {\n          if (this.validationErrors[i].Field === \"SoLuong\") {\n            this.validationErrors.splice(i, 1);\n            break;\n          }\n        }\n      }\n      else {\n        return null;\n      }\n    }\n    else if (buoi === \"Toi\" && this.validationErrors != undefined && this.validationErrors != null) {\n      let lenValidate = this.validationErrors.length;\n      if (lenValidate > 0 && lenValidate != undefined) {\n        for (let i = 0; i < lenValidate; i++) {\n          if (this.validationErrors[i].Field === \"SoLuong\") {\n            this.validationErrors.splice(i, 1);\n            break;\n          }\n        }\n      }\n      else {\n        return null;\n      }\n    } else {\n      return null;\n    }\n\n  }\n\n  changeData() {\n    this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = true;\n  }\n\n  onKey(event: any) {\n    if (event.key == \"Enter\") {\n      if (this.isSelectDuocPham != true) {\n        this.themKeToa();\n        // this.onkeyFocus();\n      }\n      else {\n        this.isSelectDuocPham = false;\n      }\n    }\n  }\n\n\n  themKeToa() {\n    var self = this;\n    self.keToaNew.LoaiKhoThuoc = self.loaiKhoThuoc;\n    self.keToaNew.YeuCauKhamBenhId = self.data.YeuCauKhamBenhId;\n    if (self.thongTinDuocPham.FlagDiUng == true) {\n      self.keToaNew.TuongTacThuoc = self.thongTinDuocPham.TuongTacThuoc;\n    }\n    if (self.documentType == DocumentType.KhamBenhDangKham || self.benhNhanHienTai.YeuCauKhamBenh.IsKhamBenhDangKham) {\n      self.keToaNew.IsKhamBenhDangKham = true;\n    }\n    self.isSelectDuocPham = true;\n    self.validationErrors = null;\n    self.ref.detectChanges();\n    if (self.loaiDuocPhamHoacVatTu == 1) { // Duoc Pham\n      if (self.thongTinDuocPham.FlagThuocDaKe == true) {\n        self.dialog.open(ConfirmComponent, {\n          disableClose: false,\n          width: '500px',\n          data: { Title: \"Cảnh báo\", Message: \"Thuốc này đã kê trong đơn thuốc, bạn có muốn thêm thuốc này không ?\" }\n        }).afterClosed().subscribe(result => {\n          if (result == \"Yes\") {\n            self.themKeToaDuocPham();\n            self.keToaNew.DiUngThuocDisplay = self.thongTinDuocPham.DiUngThuoc;\n            self.keToaNew.TuongTacThuoc = self.thongTinDuocPham.TuongTacThuoc;\n          }\n          else {\n            self.keToaNew.DuocPhamId = null;\n            self.keToaNew.SoLuong = null;\n            self.keToaNew.SoNgayDung = null;\n            self.clearKeToaNew();\n            self.thongTinDuocPham = new DuocPhamTonKhos();\n            self.thongTinVatTu = new VatTuTonKhos();\n\n\n          }\n        }\n        );\n      } else {\n        //this.thongTinDuocPham = resultData;\n        self.isSelectDuocPham = false;\n        self.themKeToaDuocPham();\n        // self.xoaCacFieldKeToaNew();\n        self.thongTinDuocPham = new DuocPhamTonKhos();\n        self.thongTinVatTu = new VatTuTonKhos();\n\n        self.keToaNew.DiUngThuocDisplay = self.thongTinDuocPham.DiUngThuoc;\n        self.keToaNew.TuongTacThuoc = self.thongTinDuocPham.TuongTacThuoc;\n      }\n\n    }\n    else { // Vat tu\n      if (self.thongTinVatTu.FlagVatTuDaKe == true) {\n        self.dialog.open(ConfirmComponent, {\n          disableClose: false,\n          width: '500px',\n          data: { Title: \"Cảnh báo\", Message: \"Vật tư này đã kê trong đơn vật tư, bạn có muốn thêm vật tư này không ?\" }\n        }).afterClosed().subscribe(result => {\n          if (result == \"Yes\") {\n            self.themKeToaVatTu();\n            self.keToaNew.DiUngThuocDisplay = self.thongTinDuocPham.DiUngThuoc;\n            self.keToaNew.TuongTacThuoc = self.thongTinDuocPham.TuongTacThuoc;\n          }\n          else {\n            self.keToaNew.DuocPhamId = null;\n            self.keToaNew.SoLuong = null;\n            self.keToaNew.SoNgayDung = null;\n            self.clearKeToaNew();\n            self.thongTinDuocPham = new DuocPhamTonKhos();\n            self.thongTinVatTu = new VatTuTonKhos();\n\n          }\n        }\n        );\n      } else {\n\n        //this.thongTinDuocPham = resultData;\n        self.isSelectDuocPham = false;\n        self.themKeToaVatTu();\n        // self.xoaCacFieldKeToaNew();\n        self.thongTinDuocPham = new DuocPhamTonKhos();\n        self.thongTinVatTu = new VatTuTonKhos();\n\n        self.keToaNew.DiUngThuocDisplay = self.thongTinDuocPham.DiUngThuoc;\n        self.keToaNew.TuongTacThuoc = self.thongTinDuocPham.TuongTacThuoc;\n      }\n    }\n\n    // self.onkeyFocus();\n  }\n\n  themKeToaDuocPham() {\n    var self = this;\n    self.validationErrors = null;\n    self.ref.detectChanges();\n    self.keToaNew.YeuCauTiepNhanId = self.benhNhanHienTai.YeuCauTiepNhanId;\n    self.apiService.post<any>(\"KhamBenh/KiemTraThuocTrungBSKe\", self.keToaNew).subscribe(\n      (res) => {\n        if (res) {\n          self.dialog.open(TrungThuocPopupComponent, {\n            disableClose: false,\n            width: '500px',\n            data: { Title: \"CẢNH BÁO TRÙNG THUỐC\", Message: CommonService.format(SystemMessage.MedicineExists, [this.keToaNew.Duoc]) }\n          }).afterClosed().subscribe(result => {\n            if (result == \"OK\") {\n              if (this.keToaNew.LoaiThuocTheoQuanLy == LoaiThuocTheoQuanLy.HuongThan || this.keToaNew.LoaiThuocTheoQuanLy == LoaiThuocTheoQuanLy.GayNghien) {\n                if (7 < this.keToaNew.SoNgayDung && this.keToaNew.SoNgayDung < 31) {\n                  self.themDuocPhamChiTietTrung7Hoac30Ngay(\"7\");\n                } else if (this.keToaNew.SoNgayDung > 30) {\n                  self.themDuocPhamChiTietTrung7Hoac30Ngay(\"30\");\n                }\n                else {\n                  self.themDuocPhamChiTiet();\n                }\n              } else {\n                self.themDuocPhamChiTiet();\n              }\n            }\n            else {\n              self.onkeyFocus();\n              self.xoaCacFieldKeToaNew();\n              self.thongTinDuocPham = new DuocPhamTonKhos();\n              self.thongTinVatTu = new VatTuTonKhos();\n            }\n          }\n          );\n        }\n        else {\n          if (this.keToaNew.LoaiThuocTheoQuanLy == LoaiThuocTheoQuanLy.HuongThan || this.keToaNew.LoaiThuocTheoQuanLy == LoaiThuocTheoQuanLy.GayNghien) {\n            if (7 < this.keToaNew.SoNgayDung && this.keToaNew.SoNgayDung < 31) {\n              self.themDuocPhamChiTietTrung7Hoac30Ngay(\"7\");\n            } else if (this.keToaNew.SoNgayDung > 30) {\n              self.themDuocPhamChiTietTrung7Hoac30Ngay(\"30\");\n            } else {\n              self.themDuocPhamChiTiet();\n\n            }\n          } else {\n            self.themDuocPhamChiTiet();\n          }\n        }\n      },\n      (err: ApiError) => {\n        self.validationErrors = err.ValidationErrors;\n        if (err.Message != \"Validation Failed\") {\n          self.notificationService.showError(err.Message);\n        }\n      }\n    );\n  }\n\n  themDuocPhamChiTietTrung7Hoac30Ngay(soNgay: string) {\n    var self = this;\n    self.dialog.open(TrungThuocPopupComponent, {\n      disableClose: false,\n      width: '500px',\n      data: { Title: \"THÔNG BÁO\", Message: CommonService.format(SystemMessage.MedicinThan7Or30Days, [this.keToaNew.Duoc, soNgay]), SoNgay: this.keToaNew.SoNgayDung }\n    }).afterClosed().subscribe(resultAnswer => {\n      if (resultAnswer == \"OK\") {\n        self.themDuocPhamChiTiet();\n      }\n      else if (resultAnswer == \"Cancel\") {\n        self.onkeyFocus();\n        self.xoaCacFieldKeToaNew();\n        self.thongTinDuocPham = new DuocPhamTonKhos();\n        self.thongTinVatTu = new VatTuTonKhos();\n\n      } else {\n        $(document).ready(function () {\n          $(\"#SoNgayDung\").focus().select();\n        })\n      }\n      self.ref.detectChanges();\n    }\n    );\n  }\n\n  dangXuLy:boolean=false;\n  themDuocPhamChiTiet() {\n    var self = this;\n    self.onkeyFocus();\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Add)) {\n      if(this.dangXuLy)\n          return;\n      this.dangXuLy=true;\n      self.addingPage();\n      self.apiService.post<any>(\"KhamBenh/AddDonThuocChiTiet\", self.keToaNew).subscribe(\n        (res) => {\n          self.closePopupAddingData();\n          self.ganThongTinYeuCauKhamBenhPerevious();\n          let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm\"]);\n          if (res == \"NotOK\") {\n            mess += \"Toa thuốc hiện tại đang vượt mức trần chi phí kê toa.\";\n            self.notificationService.showWarning(mess);\n          } else {\n            self.notificationService.showSuccess(mess);\n          }\n          self.keToaNew.GhiChuDonThuoc = self.loiDanDonThuoc;\n          self.gridToaThuoc.search();\n          self.gridToaThuoc.ngOnDestroy();\n          self.xoaCacFieldKeToaNew();\n          self.dangXuLy=false;\n        },\n        (err: ApiError) => {\n          self.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n          }\n          self.closePopupAddingData();\n          self.dangXuLy=false;\n        });\n    } else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  themKeToaVatTu() {\n    var self = this;\n    self.onkeyFocus();\n    self.validationErrors = null;\n    self.ref.detectChanges();\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Add)) {\n      if(this.dangXuLy)\n          return;\n      this.dangXuLy=true;\n      self.apiService.post<any>(\"KhamBenh/AddVatTuChiTiet\", self.keToaNew).subscribe(\n        (res) => {\n          self.benhNhanHienTai.YeuCauKhamBenh.IsShowGridVatTu = true;\n          self.ganThongTinYeuCauKhamBenhPerevious();\n          //self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n          let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm\"]);\n          if (res == \"NotOK\") {\n            mess += \"Toa thuốc hiện tại đang vượt mức trần chi phí kê toa.\";\n            self.notificationService.showWarning(mess);\n          } else {\n            self.notificationService.showSuccess(mess);\n          }\n          self.keToaNew.GhiChuDonThuoc = self.loiDanDonThuoc;\n          self.xoaCacFieldKeToaNew();\n          self.gridVatTu.search();\n          self.gridVatTu.ngOnDestroy();\n          self.dangXuLy=false;\n\n        },\n        (err: ApiError) => {\n          self.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n          }\n          self.dangXuLy=false;\n        });\n    } else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n\n  xoaCacFieldKeToaNew() {\n    this.keToaNew.DuocPhamId = null;\n    this.keToaNew.SoLuong = null;\n    this.keToaNew.LieuDungTrenNgayDisplay = null;\n    this.keToaNew.SangDisplay = null;\n    this.keToaNew.TruaDisplay = null;\n    this.keToaNew.ChieuDisplay = null;\n    this.keToaNew.ToiDisplay = null;\n    this.keToaNew.ThoiGianDungSang = null;\n    this.keToaNew.ThoiGianDungTrua = null;\n    this.keToaNew.ThoiGianDungChieu = null;\n    this.keToaNew.ThoiGianDungToi = null;\n    this.keToaNew.SoNgayDung = null;\n    this.benhNhanHienTai.YeuCauKhamBenh.TenMucDo = null;\n    this.keToaNew.GhiChu = null;\n  }\n\n\n  suaKeToa(item: KeToaItem) {\n    // console.log(\"this Edit: \", item);\n    var self = this;\n    self.keToaEdit = item;\n    let donThuocChiTietId = item.Id;\n    let yeuCauKhamBenhId = item.YeuCauKhamBenhId;\n    self.keToaEdit.DonThuocChiTietId = item.Id;\n    self.keToaEdit.LoaiDonThuoc = item.LoaiDonThuoc;\n    let donThuocThanhToanVo = {\n      YeuCauKhamBenhId: yeuCauKhamBenhId,\n      DonThuocChiTietId: donThuocChiTietId,\n      IsKhamBenhDangKham: false\n    }\n    let keToaEditobj = Object.assign({}, item);\n    self.validationErrors = null;\n    self.ref.detectChanges();\n\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n      if (self.documentType == DocumentType.KhamBenhDangKham || self.benhNhanHienTai.YeuCauKhamBenh.IsKhamBenhDangKham) {\n        donThuocThanhToanVo.IsKhamBenhDangKham = true;\n      }\n      self.apiService.post<any>(\"KhamBenh/KiemTraDonThuocChiTietThanhToan\", donThuocThanhToanVo).subscribe(\n        () => {\n          self.dialog.open(ChinhSuaDonThuocChiTietPopupComponent, {\n            disableClose: false,\n            width: '1500px',\n            data: { Model: keToaEditobj, benhNhanHienTai: self.benhNhanHienTai, documentType: self.documentType, IsKhamBenhDangKham: self.benhNhanHienTai.YeuCauKhamBenh.IsKhamBenhDangKham },\n          }).afterClosed().subscribe(result => {\n            if (result != undefined && result.Status == \"CapNhat\") {\n              // self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Chỉnh sửa\"]));\n              let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Chỉnh sửa\"]);\n              if (result.MucTranChiPhi == \"NotOK\") {\n                mess += \"Toa thuốc hiện tại đang vượt mức trần chi phí kê toa.\";\n                self.notificationService.showWarning(mess);\n              } else {\n                self.notificationService.showSuccess(mess);\n              }\n              self.gridToaThuoc.search();\n            }\n          });\n        },\n        (err: ApiError) => {\n          self.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n          }\n        }\n      );\n    } else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  xoaKeToa(item: KeToaItem) {\n    var self = this;\n    self.keToaDelete = item;\n    let comfirm = \"xóa\";\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Delete)) {\n      self.dialog.open(ConfirmComponent, {\n        disableClose: false,\n        width: '400px',\n        data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessLockTemplate, [comfirm, \"thuốc\"]) }\n      }).afterClosed().subscribe(result => {\n        if (result == \"Yes\") {\n          self.deletingPage();\n          if (self.documentType == DocumentType.KhamBenhDangKham || self.benhNhanHienTai.YeuCauKhamBenh.IsKhamBenhDangKham) {\n            self.keToaDelete.IsKhamBenhDangKham = true;\n          }\n          self.apiService.post(\"KhamBenh/DeleteDonThuocChiTiet\", self.keToaDelete).subscribe(\n            () => {\n              self.closePopupDeletingData();\n              self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xóa\"]));\n              self.keToaNew = new KeToaItem();\n              self.chonKhoThuocBanDauTheoBHYT();\n              self.gridToaThuoc.search();\n            },\n            (err: ApiError) => {\n              self.validationErrors = err.ValidationErrors;\n              if (err.Message != \"Validation Failed\") {\n                self.notificationService.showError(err.Message);\n              }\n              self.closePopupDeletingData();\n            });\n        }\n      });\n    }\n    else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n\n  }\n\n  isShowButtonThemGhiChuDonThuoc(loiDanDonThuocs: string) {\n    if (loiDanDonThuocs != \"\" && loiDanDonThuocs != null) {\n      var duplicate = this.soSanhLoiDanDonThuocs(this.loiDanDonThuoc, loiDanDonThuocs);\n      if (this.loiDanDonThuoc != \"\" && this.loiDanDonThuoc == null) {\n        this.loiDanDonThuoc = \"\";\n      }\n    }\n\n    if (duplicate == false || duplicate == undefined) {\n      this.flagShowButtonSave = true;\n    }\n    else {\n      this.flagShowButtonSave = false;\n    }\n    this.changeData();\n  }\n\n  soSanhLoiDanDonThuocs(loiDanDonThuocsBanDau: any, loiDanDonThuocsCurrent: any) {\n    if (loiDanDonThuocsCurrent !== loiDanDonThuocsBanDau) {\n      return false; // không trùng\n    }\n    return true; // trùng\n  }\n\n  apDungConfirm(dataItem: any) {\n    var self = this;\n    let yeuCauKhamBenhHienTaiId = self.benhNhanHienTai.YeuCauKhamBenhId;\n    let toaMauId = dataItem.Id;\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Add)) {\n      self.apiService.post<any>(\"KhamBenh/ApDungToaMau\", { ToaMauId: toaMauId, YeuCauKhamBenhHienTaiId: yeuCauKhamBenhHienTaiId }).subscribe(\n        resultData => {\n          if (resultData != null) {\n            let datas = {\n              YeuCauKhamBenhId: yeuCauKhamBenhHienTaiId,\n              ResultData: resultData\n            };\n            if (!resultData.ThanhCong) {\n              self.dialog.open(LanKhamHienTaiApDungToaThuocPopupComponent, {\n                disableClose: false,\n                width: '1000px',\n                data: datas,\n              }).afterClosed().subscribe(() => {\n                self.gridToaThuoc.search();\n              });\n            }\n            else {\n              let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Sử dụng toa thuốc\"]);\n              if (resultData.MucTranChiPhi == \"NotOK\") {\n                mess += \"Toa thuốc hiện tại đang vượt mức trần chi phí kê toa.\";\n                self.notificationService.showWarning(mess);\n              } else {\n                self.notificationService.showSuccess(mess);\n              }\n              self.gridToaThuoc.search();\n              // self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Sử dụng toa thuốc\"]));\n            }\n          }\n        },\n        (err: ApiError) => {\n          self.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n          }\n        });\n    } else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  apDungLichSuKeToaConfirm(dataItem: any) {\n    //console.log(\"apDungLichSuKeToa: \", dataItem)\n    var self = this;\n    self.validationErrors = [];\n    self.ref.detectChanges();\n    let yeuCauKhamBenhTruocId = dataItem.Id\n    let yeuCauKhamBenhHienTaiId = self.benhNhanHienTai.YeuCauKhamBenhId;\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Add)) {\n      self.apiService.post<any>(\"KhamBenh/ApDungToaMauLichSuKeToa?toaThuocVM\", { YeuCauKhamBenhTruocId: yeuCauKhamBenhTruocId, YeuCauKhamBenhHienTaiId: yeuCauKhamBenhHienTaiId }).subscribe(\n        resultData => {\n          if (resultData != null) {\n            let datas = {\n              YeuCauKhamBenhId: yeuCauKhamBenhHienTaiId,\n              ResultData: resultData\n            };\n            if (!resultData.ThanhCong) {\n              self.dialog.open(ApDungLichSuKeToaConfirmPopupComponent, {\n                disableClose: false,\n                width: '1000px',\n                data: datas,\n              }).afterClosed().subscribe(() => {\n                self.gridToaThuoc.search();\n              });\n            }\n            else {\n              let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Sử dụng toa thuốc\"]);\n              if (resultData.MucTranChiPhi == \"NotOK\") {\n                mess += \"Toa thuốc hiện tại đang vượt mức trần chi phí kê toa.\";\n                self.notificationService.showWarning(mess);\n              } else {\n                self.notificationService.showSuccess(mess);\n              }\n              self.gridToaThuoc.search();\n              // self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Sử dụng toa thuốc\"]));\n            }\n          }\n        },\n        (err: ApiError) => {\n          self.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n          }\n        });\n    } else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  showInToaThuocPopup() {\n    //console.log(\"this.gridToaThuoc.getAllDataFromDatasource(): \", this.gridToaThuoc.getAllDataFromDatasource())\n    let lstDataThuocCurrent = this.gridToaThuoc.getAllDataFromDatasource();\n    this.benhNhanHienTai.YeuCauKhamBenh.CheckValidator = false;\n    var self = this;\n    self.validationErrors = [];\n    self.ref.detectChanges();\n    // if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n    //   var showDialog = self.dialog.open(LoadingComponent, {\n    //     disableClose: true,\n    //     width: '200px',\n    //     height: '90px',\n    //     data: { Title: 'Đang tải dữ liệu...' }\n    //   });\n    //   if (self.documentType == DocumentType.KhamBenhDangKham) {\n    //     self.benhNhanHienTai.YeuCauKhamBenh.IsKhamBenhDangKham = true;\n    //   }\n    //   self.benhNhanHienTai.YeuCauKhamBenh.CoInKeToa = true;\n    //   self.apiService.post<any>(\"KhamBenh/LuuKetLuan\", self.benhNhanHienTai.YeuCauKhamBenh).subscribe(\n    //     (res) => {\n    //       self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs = res.YeuCauKhamBenhICDKhacs;\n    //       self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n    //       self.benhNhanHienTai.YeuCauKhamBenh.CoInKeToa = false;\n    //       this.ganThongTinYeuCauKhamBenhPerevious();\n    //       showDialog.close()\n    //       self.dialog\n    //         .open(LanKhamHienTaiInToaThuocPopupComponent, {\n    //           disableClose: true,\n    //           width: \"1200px\",\n    //           data: { YeuCauKhamBenhId: this.benhNhanHienTai.YeuCauKhamBenhId, ListGridThuoc: lstDataThuocCurrent, YeuCauTiepNhanId: this.benhNhanHienTai.YeuCauTiepNhanId },\n    //         });\n    //     },\n    //     (err: ApiError) => {\n    //       this.validationErrors = err.ValidationErrors;\n    //       if (err.Message != \"Validation Failed\") {\n    //         self.notificationService.showError(err.Message);\n    //         showDialog.close()\n    //       };\n    //       console.log(\"validators: \", this.validationErrors)\n    //       showDialog.close()\n    //     });\n    // } else {\n    //   showDialog.close();\n    //   self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    // }\n    //test\n    // console.log(\"icd:\", this.benhNhanHienTai.YeuCauKhamBenh.IcdchinhId)\n    // console.log(\"icd ten :\", this.benhNhanHienTai.YeuCauKhamBenh.TenICDChinh)\n    // console.log(\"icd ghichu :\", this.benhNhanHienTai.YeuCauKhamBenh.GhiChuICDChinh)\n    self.dialog\n      .open(LanKhamHienTaiInToaThuocPopupComponent, {\n        disableClose: true,\n        width: \"1200px\",\n        data: {\n          YeuCauKhamBenhId: self.benhNhanHienTai.YeuCauKhamBenhId,\n          ListGridThuoc: lstDataThuocCurrent,\n          YeuCauTiepNhanId: self.benhNhanHienTai.YeuCauTiepNhanId,\n          TenICDChinh: self.benhNhanHienTai.YeuCauKhamBenh.TenICDChinh,\n          GhiChuICDChinh: self.benhNhanHienTai.YeuCauKhamBenh.GhiChuICDChinh,\n          YeuCauKhamBenhICDKhacs: self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs,\n          IsChangeChanDoan: self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan\n        },\n      }).afterClosed().subscribe(() => {\n        if (self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan == true) {\n          if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n            if (self.documentType == DocumentType.KhamBenhDangKham || self.benhNhanHienTai.YeuCauKhamBenh.IsKhamBenhDangKham) {\n              self.benhNhanHienTai.YeuCauKhamBenh.IsKhamBenhDangKham = true;\n            }\n            self.benhNhanHienTai.YeuCauKhamBenh.CoInKeToa = true;\n            self.apiService.post<any>(\"KhamBenh/LuuKetLuan\", self.benhNhanHienTai.YeuCauKhamBenh).subscribe(\n              (res) => {\n                self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs = res.YeuCauKhamBenhICDKhacs;\n                self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n                self.benhNhanHienTai.YeuCauKhamBenh.CoInKeToa = false;\n                self.ganThongTinYeuCauKhamBenhPerevious();\n              },\n              (err: ApiError) => {\n                self.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                  self.notificationService.showError(err.Message);\n                };\n                self.validationErrorsOut.emit(self.validationErrors);\n                console.log(\"validators: \", this.validationErrors)\n              });\n          }\n        }\n\n      });\n  }\n\n  convertInt() {\n    if (this.keToaNew.SoNgayDung != null)\n      this.keToaNew.SoNgayDung = parseInt(this.keToaNew.SoNgayDung.toString());\n    if (this.keToaEdit.SoNgayDung != null)\n      this.keToaEdit.SoNgayDung = parseInt(this.keToaEdit.SoNgayDung.toString());\n  }\n\n  diUngThuocModelChange() {\n    let datas = {\n      YeuCauKhamBenhId: this.benhNhanHienTai.YeuCauKhamBenhId,\n      flagDiUngThuoc: this.thongTinDuocPham.FlagDiUng,\n      DuocPhamId: this.keToaNew.DuocPhamId\n    };\n    if (this.thongTinDuocPham.FlagDiUng == true) {\n      this.apiService.post<any>(\"KhamBenh/MucDoDiUng\", datas).subscribe(\n        resultData => {\n          if (resultData != null) {\n            this.benhNhanHienTai.YeuCauKhamBenh.TenMucDo = resultData\n          }\n        }\n      );\n    }\n    else {\n      this.benhNhanHienTai.YeuCauKhamBenh.TenMucDo = \"Không\";\n    }\n  }\n\n\n  xemDonThuocBacSiKhac() {\n    this.dialog.open(DonThuocBacSiKhacKePopupComponent, {\n      disableClose: false,\n      width: '1000px',\n      data: { Model: this.benhNhanHienTai.YeuCauKhamBenhId, Title: \"\" }\n    }).afterClosed().subscribe(() => {\n    });\n  }\n\n  SoLuongChange(event: any) {\n    // if (this.keToaNew.SoLuong != null && this.keToaNew.LieuDungTrenNgayDisplay != null && this.keToaNew.LieuDungTrenNgayDisplay != \"\") {\n    //   let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.keToaNew.LieuDungTrenNgayDisplay));\n    //   this.keToaNew.SoNgayDung = Math.ceil(this.keToaNew.SoLuong / lieuDung);\n    //   this.keToaNew.SangDisplay = null;\n    //   this.keToaNew.ThoiGianDungSang = null;\n    //   this.keToaNew.TruaDisplay = null;\n    //   this.keToaNew.ThoiGianDungTrua = null;\n    //   this.keToaNew.ChieuDisplay = null;\n    //   this.keToaNew.ThoiGianDungChieu = null;\n    //   this.keToaNew.ToiDisplay = null;\n    //   this.keToaNew.ThoiGianDungToi = null;\n    // }\n    // else \n    if (event == null) {\n      this.keToaNew.LieuDungTrenNgayDisplay = null;\n      this.keToaNew.LieuDungTrenNgay = null;\n      this.keToaNew.SoLanTrenVienDisplay = null;\n      this.keToaNew.SoLanTrenVien = null;\n      this.keToaNew.SoNgayDung = null;\n      this.keToaNew.SangDisplay = null;\n      this.keToaNew.ThoiGianDungSang = null;\n      this.keToaNew.TruaDisplay = null;\n      this.keToaNew.ThoiGianDungTrua = null;\n      this.keToaNew.ChieuDisplay = null;\n      this.keToaNew.ThoiGianDungChieu = null;\n      this.keToaNew.ToiDisplay = null;\n      this.keToaNew.ThoiGianDungToi = null;\n    }\n    if (event != null && this.keToaNew.SoLanTrenVien != null && this.keToaNew.LieuDungTrenNgay != null) {\n      this.keToaNew.SoNgayDung = Math.ceil(event / (this.keToaNew.SoLanTrenVien * this.keToaNew.LieuDungTrenNgay));\n    }\n\n  }\n\n\n  SoLanLieuDungDisplayChange(event: any, text: any) {\n    if (text == 'SoLanVien') {\n      if (event != null && event != \"\") {\n        this.keToaNew.SoLanTrenVien = parseNumber(CommonService.FormatStringFractionToFloat(event));\n      }\n      else {\n        this.keToaNew.SoNgayDung = null;\n      }\n    } else if (text == 'LieuDung') {\n      if (event != null && event != \"\") {\n        this.keToaNew.LieuDungTrenNgay = parseNumber(CommonService.FormatStringFractionToFloat(event));\n      }\n      else {\n        this.keToaNew.SoNgayDung = null;\n      }\n    }\n\n    if (this.keToaNew.SoLuong != null && this.keToaNew.SoLanTrenVien != null && this.keToaNew.LieuDungTrenNgay != null) {\n      this.keToaNew.SoNgayDung = Math.ceil(this.keToaNew.SoLuong / (this.keToaNew.SoLanTrenVien * this.keToaNew.LieuDungTrenNgay));\n    }\n\n  }\n\n\n\n  // LieuDungTrenNgayDisplayChange(event: any) {\n  //   if (this.keToaNew.SoLuong != null && this.keToaNew.LieuDungTrenNgayDisplay != null && this.keToaNew.LieuDungTrenNgayDisplay != \"\") {\n  //     let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.keToaNew.LieuDungTrenNgayDisplay));\n  //     if (lieuDung > this.keToaNew.SoLuong) {\n  //       this.keToaNew.SoLuong = lieuDung;\n  //     }\n  //     this.keToaNew.SoNgayDung = Math.ceil(this.keToaNew.SoLuong / lieuDung);\n  //     this.keToaNew.SangDisplay = null;\n  //     this.keToaNew.ThoiGianDungSang = null;\n  //     this.keToaNew.TruaDisplay = null;\n  //     this.keToaNew.ThoiGianDungTrua = null;\n  //     this.keToaNew.ChieuDisplay = null;\n  //     this.keToaNew.ThoiGianDungChieu = null;\n  //     this.keToaNew.ToiDisplay = null;\n  //     this.keToaNew.ThoiGianDungToi = null;\n  //   } else if (this.keToaNew.SoLuong == null && this.keToaNew.SoNgayDung != null && (this.keToaNew.LieuDungTrenNgayDisplay != null && this.keToaNew.LieuDungTrenNgayDisplay != \"\")) {\n  //     let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.keToaNew.LieuDungTrenNgayDisplay));\n  //     this.keToaNew.SoLuong = this.keToaNew.SoNgayDung * lieuDung;\n  //   } else if (this.keToaNew.SoLuong != null && (this.keToaNew.LieuDungTrenNgayDisplay == null || this.keToaNew.LieuDungTrenNgayDisplay == \"\")) {\n  //     this.keToaNew.SoNgayDung = null;\n  //   }\n  // }\n\n  // SoNgayDungChange() {\n  //   if (this.keToaNew.SoLuong != null && this.keToaNew.SoNgayDung != null && this.keToaNew.SoNgayDung > 0) {\n  //     let lieuDung = Math.ceil(this.keToaNew.SoLuong / this.keToaNew.SoNgayDung);\n\n  //     // this.apiService.post<any>(\"KhamBenh/FormatNumber?inputNumber=\" + lieuDung).subscribe(\n  //     //   resultData => {\n  //     //     if (resultData != null) {\n  //     //       this.keToaNew.LieuDungTrenNgayDisplay = resultData;\n  //     //     }\n  //     //   })\n  //     this.keToaNew.LieuDungTrenNgayDisplay = lieuDung.toString();\n  //     this.keToaNew.SangDisplay = null;\n  //     this.keToaNew.ThoiGianDungSang = null;\n  //     this.keToaNew.TruaDisplay = null;\n  //     this.keToaNew.ThoiGianDungTrua = null;\n  //     this.keToaNew.ChieuDisplay = null;\n  //     this.keToaNew.ThoiGianDungChieu = null;\n  //     this.keToaNew.ToiDisplay = null;\n  //     this.keToaNew.ThoiGianDungToi = null;\n  //   } else if (this.keToaNew.SoLuong == null && this.keToaNew.SoNgayDung != null && (this.keToaNew.LieuDungTrenNgayDisplay != null && this.keToaNew.LieuDungTrenNgayDisplay != \"\")) {\n  //     let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.keToaNew.LieuDungTrenNgayDisplay));\n  //     this.keToaNew.SoLuong = this.keToaNew.SoNgayDung * lieuDung;\n  //   } else if (this.keToaNew.SoLuong != null && this.keToaNew.SoNgayDung == null) {\n  //     this.keToaNew.LieuDungTrenNgayDisplay = null;\n  //   }\n  // }\n\n  //dùng sáng, trưa, chiều, tối\n  // nhapDungCacBuoiTrongNgayThem(event: any, buoi: any) {\n  //   switch (buoi) {\n  //     case \"Sang\":\n  //       if ((event == undefined && this.keToaNew.TruaDisplay == undefined && this.keToaNew.ChieuDisplay == undefined && this.keToaNew.ToiDisplay == undefined)\n  //         || (event == \"\" && this.keToaNew.TruaDisplay == \"\" && this.keToaNew.ChieuDisplay == \"\" && this.keToaNew.ToiDisplay == \"\")\n  //         || (event == \"\" && this.keToaNew.TruaDisplay == \"\" && this.keToaNew.ChieuDisplay == \"\" && this.keToaNew.ToiDisplay == null)\n  //         || (event == \"\" && this.keToaNew.TruaDisplay == \"\" && this.keToaNew.ChieuDisplay == null && this.keToaNew.ToiDisplay == null)\n  //         || (event == \"\" && this.keToaNew.TruaDisplay == null && this.keToaNew.ChieuDisplay == null && this.keToaNew.ToiDisplay == null)\n  //       ) {\n  //         this.keToaNew.SoNgayDung = this.TongSoNgaySuDung(this.keToaNew.SoLuong, event, this.keToaNew.TruaDisplay, this.keToaNew.ChieuDisplay, this.keToaNew.ToiDisplay);\n  //         return null;\n  //       }\n  //       else {\n  //         this.keToaNew.SoNgayDung = this.TongSoNgaySuDung(this.keToaNew.SoLuong, event, this.keToaNew.TruaDisplay, this.keToaNew.ChieuDisplay, this.keToaNew.ToiDisplay);\n  //         return null;\n\n  //       }\n  //     case \"Trua\":\n  //       if (\n  //         (event == undefined && this.keToaNew.SangDisplay == undefined && this.keToaNew.ChieuDisplay == undefined && this.keToaNew.ToiDisplay == undefined)\n  //         || (event == \"\" && this.keToaNew.SangDisplay == \"\" && this.keToaNew.ChieuDisplay == \"\" && this.keToaNew.ToiDisplay == \"\")\n  //         || (event == \"\" && this.keToaNew.SangDisplay == \"\" && this.keToaNew.ChieuDisplay == \"\" && this.keToaNew.ToiDisplay == null)\n  //         || (event == \"\" && this.keToaNew.SangDisplay == \"\" && this.keToaNew.ChieuDisplay == null && this.keToaNew.ToiDisplay == null)\n  //         || (event == \"\" && this.keToaNew.SangDisplay == null && this.keToaNew.ChieuDisplay == null && this.keToaNew.ToiDisplay == null)\n  //       ) {\n  //         this.keToaNew.SoNgayDung = this.TongSoNgaySuDung(this.keToaNew.SoLuong, this.keToaNew.SangDisplay, event, this.keToaNew.ChieuDisplay, this.keToaNew.ToiDisplay);\n  //         return null;\n\n  //       }\n  //       else {\n  //         this.keToaNew.SoNgayDung = this.TongSoNgaySuDung(this.keToaNew.SoLuong, this.keToaNew.SangDisplay, event, this.keToaNew.ChieuDisplay, this.keToaNew.ToiDisplay);\n  //         return null;\n\n  //       }\n  //     case \"Chieu\":\n  //       if ((event == undefined && this.keToaNew.TruaDisplay == undefined && this.keToaNew.SangDisplay == undefined && this.keToaNew.ToiDisplay == undefined)\n  //         || (event == \"\" && this.keToaNew.TruaDisplay == \"\" && this.keToaNew.SangDisplay == \"\" && this.keToaNew.ToiDisplay == \"\")\n  //         || (event == \"\" && this.keToaNew.TruaDisplay == \"\" && this.keToaNew.SangDisplay == \"\" && this.keToaNew.ToiDisplay == null)\n  //         || (event == \"\" && this.keToaNew.TruaDisplay == \"\" && this.keToaNew.SangDisplay == null && this.keToaNew.ToiDisplay == null)\n  //         || (event == \"\" && this.keToaNew.TruaDisplay == null && this.keToaNew.SangDisplay == null && this.keToaNew.ToiDisplay == null)\n  //       ) {\n  //         this.keToaNew.SoNgayDung = this.TongSoNgaySuDung(this.keToaNew.SoLuong, this.keToaNew.SangDisplay, this.keToaNew.TruaDisplay, event, this.keToaNew.ToiDisplay);\n  //         return null;\n\n  //       }\n  //       else {\n  //         this.keToaNew.SoNgayDung = this.TongSoNgaySuDung(this.keToaNew.SoLuong, this.keToaNew.SangDisplay, this.keToaNew.TruaDisplay, event, this.keToaNew.ToiDisplay);\n  //         return null;\n\n  //       }\n  //     case \"Toi\":\n  //       if ((event == undefined && this.keToaNew.SangDisplay == undefined && this.keToaNew.ChieuDisplay == undefined && this.keToaNew.TruaDisplay == undefined)\n  //         || (event == \"\" && this.keToaNew.SangDisplay == \"\" && this.keToaNew.ChieuDisplay == \"\" && this.keToaNew.TruaDisplay == \"\")\n  //         || (event == \"\" && this.keToaNew.SangDisplay == \"\" && this.keToaNew.ChieuDisplay == \"\" && this.keToaNew.TruaDisplay == null)\n  //         || (event == \"\" && this.keToaNew.SangDisplay == \"\" && this.keToaNew.ChieuDisplay == null && this.keToaNew.TruaDisplay == null)\n  //         || (event == \"\" && this.keToaNew.SangDisplay == null && this.keToaNew.ChieuDisplay == null && this.keToaNew.TruaDisplay == null)\n  //       ) {\n  //         this.keToaNew.SoNgayDung = this.TongSoNgaySuDung(this.keToaNew.SoLuong, this.keToaNew.SangDisplay, this.keToaNew.TruaDisplay, this.keToaNew.ChieuDisplay, event);\n  //         return null;\n\n  //       }\n  //       else {\n  //         this.keToaNew.SoNgayDung = this.TongSoNgaySuDung(this.keToaNew.SoLuong, this.keToaNew.SangDisplay, this.keToaNew.TruaDisplay, this.keToaNew.ChieuDisplay, event);\n  //         return null;\n\n  //       }\n  //   }\n  // }\n\n  // TongSoNgaySuDung(soLuong: number, dungSang: string, dungTrua: string, dungChieu: string, dungToi: string) {\n  //   let sang: number, trua: number, chieu: number, toi: number, sum: number, result: number;\n  //   if (dungSang == \"\" || dungSang == null || dungSang == undefined) {\n  //     sang = 0;\n  //   }\n  //   else {\n  //     sang = CommonService.FormatStringFractionToFloat(dungSang);\n  //   }\n\n  //   if (dungTrua == \"\" || dungTrua == null || dungTrua == undefined) {\n  //     trua = 0;\n  //   }\n  //   else {\n  //     trua = CommonService.FormatStringFractionToFloat(dungTrua);\n  //   }\n\n  //   if (dungChieu == \"\" || dungChieu == null || dungChieu == undefined) {\n  //     chieu = 0;\n  //   }\n  //   else {\n  //     chieu = CommonService.FormatStringFractionToFloat(dungChieu);\n  //   }\n\n  //   if (dungToi == \"\" || dungToi == null || dungToi == undefined) {\n  //     toi = 0;\n  //   }\n  //   else {\n  //     toi = CommonService.FormatStringFractionToFloat(dungToi);\n  //   }\n  //   sum = sang + trua + chieu + toi;\n  //   if (sum > this.keToaNew.SoLuong) {\n  //     this.keToaNew.SoLuong = sum;\n  //     soLuong = this.keToaNew.SoLuong;\n  //   }\n\n  //   this.apiService.post<any>(\"KhamBenh/FormatNumber?inputNumber=\" + sum).subscribe(\n  //     resultData => {\n  //       if (resultData != null) {\n  //         if (resultData == \"0\") {\n  //           this.keToaNew.LieuDungTrenNgayDisplay = null;\n  //           //this.keToaNew.SoLuong = null;\n  //         }\n  //         else {\n  //           this.keToaNew.LieuDungTrenNgayDisplay = resultData;\n  //           if (soLuong != null) {\n  //             let soNgayDung = (soLuong / parseNumber(CommonService.FormatStringFractionToFloat(this.keToaNew.LieuDungTrenNgayDisplay)));\n  //             result = Math.ceil(soNgayDung);\n  //             this.keToaNew.SoNgayDung = result;\n  //           }\n  //         }\n  //         return result;\n  //       }\n  //     }\n  //   );\n  //   return null;\n  // }\n\n\n\n  @HostListener('document:keydown', ['$event'])\n  keyEvent(event: KeyboardEvent) {\n    var self = this;\n\n    // ctrl + F7\n    if (event.ctrlKey && event.keyCode == 80) {\n      event.preventDefault();\n      if (this.dialog.openDialogs.length > 0) {\n        return;\n      }\n      if (!self.isDisableButtonPrint) {\n        self.showInToaThuocPopup();\n      }\n    }\n  }\n\n  changeRemoveValidator() {\n    if (this.validationErrors != undefined && this.validationErrors != null && this.validationErrors != []) {\n      let lenValidate = this.validationErrors.length;\n      if (lenValidate > 0 && lenValidate != undefined && lenValidate != null) {\n        for (let i = 0; i < lenValidate; i++) {\n          if (this.validationErrors[i].Field === \"SoLuong\") {\n            this.validationErrors.splice(i, 1);\n            break;\n          }\n        }\n      }\n      else {\n        return null;\n      }\n    }\n    if (this.validationErrors != undefined && this.validationErrors != null && this.validationErrors != []) {\n      let lenValidate = this.validationErrors.length;\n      if (lenValidate > 0 && lenValidate != undefined && lenValidate != null) {\n        for (let i = 0; i < lenValidate; i++) {\n          if (this.validationErrors[i].Field === \"DuocPhamId\") {\n            this.validationErrors.splice(i, 1);\n            break;\n          }\n        }\n      }\n      else {\n        return null;\n      }\n    }\n  }\n\n  onkeyFocus() {\n    this.isFocus.onKeytoFocus();\n  }\n\n  ganThongTinYeuCauKhamBenhPerevious() {\n\n    this.dataYeuCauKhamBenhPrevious.CoKeToa = true;\n    this.dataYeuCauKhamBenhPrevious.IcdchinhId = this.benhNhanHienTai.YeuCauKhamBenh.IcdchinhId;\n    this.dataYeuCauKhamBenhPrevious.GhiChuICDChinh = this.benhNhanHienTai.YeuCauKhamBenh.GhiChuICDChinh;\n    this.dataYeuCauKhamBenhPrevious.TomTatKetQuaCLS = this.benhNhanHienTai.YeuCauKhamBenh.TomTatKetQuaCLS;\n    this.dataYeuCauKhamBenhPrevious.GhiChu = this.benhNhanHienTai.YeuCauKhamBenh.GhiChu;\n    this.dataYeuCauKhamBenhPrevious.CoTaiKham = this.benhNhanHienTai.YeuCauKhamBenh.CoTaiKham;\n    this.dataYeuCauKhamBenhPrevious.NgayTaiKham = this.benhNhanHienTai.YeuCauKhamBenh.NgayTaiKham;\n    this.dataYeuCauKhamBenhPrevious.GhiChuTaiKham = this.benhNhanHienTai.YeuCauKhamBenh.GhiChuTaiKham;\n    this.dataYeuCauKhamBenhPrevious.CoDieuTriNgoaiTru = this.benhNhanHienTai.YeuCauKhamBenh.CoDieuTriNgoaiTru;\n    this.dataYeuCauKhamBenhPrevious.DichVuKyThuatBenhVienId = this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.DichVuKyThuatBenhVienId;\n    this.dataYeuCauKhamBenhPrevious.ThoiDiemBatDauDieuTri = this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.ThoiDiemBatDauDieuTri;\n    this.dataYeuCauKhamBenhPrevious.SoLan = this.benhNhanHienTai.YeuCauKhamBenh.YeuCauDichVuKyThuat.SoLan;\n\n    this.dataYeuCauKhamBenhPrevious.CoChuyenVien = this.benhNhanHienTai.YeuCauKhamBenh.CoChuyenVien;\n    this.dataYeuCauKhamBenhPrevious.KhoaPhongNhapVienId = this.benhNhanHienTai.YeuCauKhamBenh.KhoaPhongNhapVienId;\n    this.dataYeuCauKhamBenhPrevious.TenKhoaPhongNhapVien = this.benhNhanHienTai.YeuCauKhamBenh.TenKhoaPhongNhapVien;\n    this.dataYeuCauKhamBenhPrevious.TinhTrangBenhNhanChuyenVien = this.benhNhanHienTai.YeuCauKhamBenh.TinhTrangBenhNhanChuyenVien;\n    this.dataYeuCauKhamBenhPrevious.LoaiLyDoChuyenVien = this.benhNhanHienTai.YeuCauKhamBenh.LoaiLyDoChuyenVien;\n    this.dataYeuCauKhamBenhPrevious.ThoiDiemChuyenVien = this.benhNhanHienTai.YeuCauKhamBenh.ThoiDiemChuyenVien;\n    this.dataYeuCauKhamBenhPrevious.PhuongTienChuyenVien = this.benhNhanHienTai.YeuCauKhamBenh.PhuongTienChuyenVien\n    this.dataYeuCauKhamBenhPrevious.NhanVienHoTongChuyenVienId = this.benhNhanHienTai.YeuCauKhamBenh.NhanVienHoTongChuyenVienId;\n    this.dataYeuCauKhamBenhPrevious.CoNhapVien = this.benhNhanHienTai.YeuCauKhamBenh.CoNhapVien;\n    this.dataYeuCauKhamBenhPrevious.LyDoNhapVien = this.benhNhanHienTai.YeuCauKhamBenh.LyDoNhapVien;\n\n    const yeuCauKhamBenhICDKhacs = [];\n    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs.forEach(val => yeuCauKhamBenhICDKhacs.push(Object.assign({}, val)));\n    this.dataYeuCauKhamBenhPrevious.YeuCauKhamBenhICDKhacs = yeuCauKhamBenhICDKhacs;\n    this.dataYeuCauKhamBenhPrevious.CachGiaiQuyet = this.benhNhanHienTai.YeuCauKhamBenh.CachGiaiQuyet;\n\n  }\n\n  openCombobox(event: any) {\n    if (event) {\n      this.isSelectDuocPham = true;\n    }\n    else {\n      this.isSelectDuocPham = false;\n    }\n  }\n\n  InVatTuPopup() {\n    let lstDataVatTuCurrent = this.gridVatTu.getAllDataFromDatasource();\n    this.benhNhanHienTai.YeuCauKhamBenh.CheckValidator = false;\n    var self = this;\n    var showDialog = self.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: 'Đang tải dữ liệu...' }\n    });\n    self.validationErrors = [];\n    self.ref.detectChanges();\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n      if (self.documentType == DocumentType.KhamBenhDangKham || self.benhNhanHienTai.YeuCauKhamBenh.IsKhamBenhDangKham) {\n        self.benhNhanHienTai.YeuCauKhamBenh.IsKhamBenhDangKham = true;\n      }\n      self.apiService.post<any>(\"KhamBenh/LuuKetLuan\", self.benhNhanHienTai.YeuCauKhamBenh).subscribe(\n        (res) => {\n          self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs = res.YeuCauKhamBenhICDKhacs;\n          self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n          this.ganThongTinYeuCauKhamBenhPerevious();\n          showDialog.close()\n          self.dialog\n            .open(LanKhamHienTaiInVatTuPopupComponent, {\n              disableClose: true,\n              width: \"1200px\",\n              data: { YeuCauKhamBenhId: this.benhNhanHienTai.YeuCauKhamBenhId, ListGridVatTu: lstDataVatTuCurrent, YeuCauTiepNhanId: this.benhNhanHienTai.YeuCauTiepNhanId },\n            });\n        },\n        (err: ApiError) => {\n          this.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n            showDialog.close()\n          };\n          showDialog.close()\n        });\n    } else {\n      showDialog.close();\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  suaVatTu(dataItem: any) {\n    var self = this;\n    self.vatTuEdit = dataItem;\n    let vatTuThanhToanVo = {\n      YeuCauKhamBenhId: self.benhNhanHienTai.YeuCauKhamBenhId,\n      YeuCauKhamBenhDonVTYTChiTietId: dataItem.Id,\n      IsKhamBenhDangKham: false\n    }\n    let vatTuEditobj = Object.assign({}, dataItem);\n    self.validationErrors = null;\n    self.ref.detectChanges();\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n      if (self.documentType == DocumentType.KhamBenhDangKham || self.benhNhanHienTai.YeuCauKhamBenh.IsKhamBenhDangKham) {\n        vatTuThanhToanVo.IsKhamBenhDangKham = true;\n      }\n      self.apiService.post<any>(\"KhamBenh/KiemTraVatTuChiTietThanhToan\", vatTuThanhToanVo).subscribe(\n        () => {\n          self.dialog.open(ChinhSuaVatTuChiTietPopupComponent, {\n            disableClose: false,\n            width: '1500px',\n            data: { Model: vatTuEditobj, benhNhanHienTai: self.benhNhanHienTai, documentType: self.documentType, IsKhamBenhDangKham: self.benhNhanHienTai.YeuCauKhamBenh.IsKhamBenhDangKham },\n          }).afterClosed().subscribe(result => {\n            if (result != undefined && result.Status == \"CapNhat\") {\n              // self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Chỉnh sửa\"]));\n              let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Chỉnh sửa\"]);\n              if (result.MucTranChiPhi == \"NotOK\") {\n                mess += \"Toa thuốc hiện tại đang vượt mức trần chi phí kê toa.\";\n                self.notificationService.showWarning(mess);\n              } else {\n                self.notificationService.showSuccess(mess);\n              }\n              self.gridVatTu.search();\n            }\n          });\n        },\n        (err: ApiError) => {\n          self.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n          }\n        }\n      );\n    } else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  xoaVatTu(dataItem: any) {\n    var self = this;\n    self.vatTuDelete = dataItem;\n    self.vatTuDelete.DuocPhamId = dataItem.VatTuBenhVienId;\n    self.vatTuDelete.IsKhamBenhDangKham = self.documentType == DocumentType.KhamBenhDangKham || self.benhNhanHienTai.YeuCauKhamBenh.IsKhamBenhDangKham;\n    let comfirm = \"xóa\";\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Delete)) {\n      self.dialog.open(ConfirmComponent, {\n        disableClose: false,\n        width: '400px',\n        data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessLockTemplate, [comfirm, \"vật tư\"]) }\n      }).afterClosed().subscribe(result => {\n        if (result == \"Yes\") {\n          self.apiService.post(\"KhamBenh/DeleteVatTuChiTiet\", self.vatTuDelete).subscribe(\n            () => {\n              self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xóa\"]));\n              self.keToaNew = new KeToaItem();\n              self.chonKhoThuocBanDauTheoBHYT();\n              self.gridVatTu.search();\n            },\n            (err: ApiError) => {\n              self.validationErrors = err.ValidationErrors;\n              if (err.Message != \"Validation Failed\") {\n                self.notificationService.showError(err.Message);\n              }\n            });\n        }\n      });\n    }\n    else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n  onDataBoundVatTuGrid(event: any) {\n    if (event != undefined && event != null) {\n      if (event.Data.length == 0) {\n        this.benhNhanHienTai.YeuCauKhamBenh.IsShowGridVatTu = false;\n      }\n      this.dataToSumThanhTienVatTu = event.Data;\n      this.dataVatTu.emit(event.Data);\n\n    } else {\n      this.benhNhanHienTai.YeuCauKhamBenh.IsShowGridVatTu = false;\n    }\n  }\n\n  themThuocKhongBHYT() {\n    var self = this;\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Add)) {\n      self.dialog.open(ThemThuocKhongBhytComponent, {\n        disableClose: false,\n        width: '1100px',\n        data: { documentType: self.documentType, yeuCauKhamBenhId: self.benhNhanHienTai.YeuCauKhamBenhId },\n      }).afterClosed().subscribe(() => {\n        self.gridToaThuoc.search();\n        // if (result != undefined && result != null && result.Status == \"Them\") {\n        //   // self.keToaNew.DuocPhamId = result.DuocPhamId;\n        //   // self.keToaNew.Ten = result.Ten;\n        //   // let res = { KeyId: result.DuocPhamId, LoaiDuocPhamHoacVatTu: 1 };\n        //   // self.chonDuoc(res);\n        // }\n      });\n    } else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  deletingPage() {\n    this.popupDeletingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang xóa dữ liệu...\" },\n    });\n  }\n\n  closePopupDeletingData() {\n    if (this.popupDeletingData != undefined && this.popupDeletingData != null) {\n      this.popupDeletingData.close();\n    }\n  }\n\n  addingPage() {\n    this.popupAddingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang thêm dữ liệu...\" },\n    });\n  }\n\n  closePopupAddingData() {\n    if (this.popupAddingData != undefined && this.popupAddingData != null) {\n      this.popupAddingData.close();\n    }\n  }\n\n  savingPage() {\n    this.popupSavingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang lưu dữ liệu...\" },\n    });\n  }\n\n  closepopupSavingData() {\n    if (this.popupSavingData != undefined && this.popupSavingData != null) {\n      this.popupSavingData.close();\n    }\n  }\n\n  tangGiamSTT(dataItem: any, text: string) {\n    var self = this;\n    var messTang = \"Tăng STT\";\n    var messGiam = \"Giảm STT\";\n    var mess = \"\";\n    let thuocEditobj = Object.assign({}, dataItem);\n\n    //BVHD-3751\n    thuocEditobj.IsKhamBenhDangKham = self.documentType == DocumentType.KhamBenhDangKham || self.benhNhanHienTai.YeuCauKhamBenh.IsKhamBenhDangKham;\n\n    if (text == 'tang') {\n      thuocEditobj.LaTangSTT = true;\n      mess = CommonService.format(SystemMessage.ActionSuccessfully, [messTang]);\n    } else if (text == 'giam') {\n      thuocEditobj.LaTangSTT = false;\n      mess = CommonService.format(SystemMessage.ActionSuccessfully, [messGiam]);\n    }\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n      self.savingPage();\n      self.apiService.post<any>(\"KhamBenh/TangHoacGiamSTTDonThuocChiTiet\", thuocEditobj).subscribe(\n        () => {\n          self.gridToaThuoc.search();\n          self.closepopupSavingData();\n          self.notificationService.showSuccess(mess);\n        },\n        (err: ApiError) => {\n          self.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n          }\n          self.closepopupSavingData();\n        });\n    } else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n}\n","export default \".icon-war-status-grid {\\n  color: orange;\\n  margin-top: -10px;\\n  width: auto;\\n  height: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2UtdG9hL3RydW5nLXRodW9jLXBvcHVwL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXGxhbi1raGFtLWhpZW4tdGFpXFxsYW4ta2hhbS1oaWVuLXRhaS1rZS10b2FcXHRydW5nLXRodW9jLXBvcHVwXFx0cnVuZy10aHVvYy1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2UtdG9hL3RydW5nLXRodW9jLXBvcHVwL3RydW5nLXRodW9jLXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLWtlLXRvYS90cnVuZy10aHVvYy1wb3B1cC90cnVuZy10aHVvYy1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pY29uLXdhci1zdGF0dXMtZ3JpZCB7XG4gIGNvbG9yOiBvcmFuZ2U7XG4gIG1hcmdpbi10b3A6IC0xMHB4O1xuICB3aWR0aDogYXV0bztcbiAgaGVpZ2h0OiAxNXB4O1xufSIsIi5pY29uLXdhci1zdGF0dXMtZ3JpZCB7XG4gIGNvbG9yOiBvcmFuZ2U7XG4gIG1hcmdpbi10b3A6IC0xMHB4O1xuICB3aWR0aDogYXV0bztcbiAgaGVpZ2h0OiAxNXB4O1xufSJdfQ== */\"","import { Component, Optional, Inject, OnInit } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport icWarning from '@iconify/icons-ic/warning';\n@Component({\n  selector: 'app-trung-thuoc-popup',\n  templateUrl: './trung-thuoc-popup.component.html',\n  styleUrls: ['./trung-thuoc-popup.component.scss']\n})\nexport class TrungThuocPopupComponent implements OnInit {\n  icClose = icClose;\n  Title: any = null;\n  Message: any = null;\n  icWarning = icWarning;\n  ButtonOk: string = \"Tiếp tục\";\n  ButtonCancel: string = \"Quay lại\";\n  ButtonClose: string = \"Đóng\";\n  HideClose: boolean = false;\n  isOver30Days: boolean = false;\n  constructor(private dialogRef: MatDialogRef<TrungThuocPopupComponent>,\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any) {\n    this.Title = data.Title;\n    this.Message = data.Message;\n    console.log(\"data.SoNgay: \", data.SoNgay)\n    if (Number(data.SoNgay) > 30) {\n      this.isOver30Days = true;\n    } else {\n      this.isOver30Days = false;\n    }\n  }\n\n  ngOnInit() {\n\n  }\n  close(answer: string) {\n    this.dialogRef.close(answer);\n  }\n}\n","export default \".title-blue-text {\\n  font-weight: bold;\\n  color: blue !important;\\n  border-bottom: none !important;\\n}\\n\\n.title-red-text {\\n  font-weight: bold;\\n  color: red !important;\\n  border-bottom: none !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2V0LWx1YW4ta2hhbS1kb2FuL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXGxhbi1raGFtLWhpZW4tdGFpXFxsYW4ta2hhbS1oaWVuLXRhaS1rZXQtbHVhbi1raGFtLWRvYW5cXGxhbi1raGFtLWhpZW4tdGFpLWtldC1sdWFuLWtoYW0tZG9hbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2V0LWx1YW4ta2hhbS1kb2FuL2xhbi1raGFtLWhpZW4tdGFpLWtldC1sdWFuLWtoYW0tZG9hbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFBO0VBQ0Esc0JBQUE7RUFDQSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSxxQkFBQTtFQUNBLDhCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9sYW4ta2hhbS1oaWVuLXRhaS9sYW4ta2hhbS1oaWVuLXRhaS1rZXQtbHVhbi1raGFtLWRvYW4vbGFuLWtoYW0taGllbi10YWkta2V0LWx1YW4ta2hhbS1kb2FuLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRpdGxlLWJsdWUtdGV4dCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogYmx1ZSAhaW1wb3J0YW50O1xuICBib3JkZXItYm90dG9tOiBub25lICFpbXBvcnRhbnQ7XG59XG5cbi50aXRsZS1yZWQtdGV4dCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogcmVkICFpbXBvcnRhbnQ7XG4gIGJvcmRlci1ib3R0b206IG5vbmUgIWltcG9ydGFudDtcbn0iLCIudGl0bGUtYmx1ZS10ZXh0IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiBibHVlICFpbXBvcnRhbnQ7XG4gIGJvcmRlci1ib3R0b206IG5vbmUgIWltcG9ydGFudDtcbn1cblxuLnRpdGxlLXJlZC10ZXh0IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiByZWQgIWltcG9ydGFudDtcbiAgYm9yZGVyLWJvdHRvbTogbm9uZSAhaW1wb3J0YW50O1xufSJdfQ== */\"","import { Component, Input, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { DuocPhamTonKhos } from '../../../kham-benh.model';\nimport { KeToaItem } from '../../../kham-benh.model';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-ket-luan-kham-doan',\n  templateUrl: './lan-kham-hien-tai-ket-luan-kham-doan.component.html',\n  styleUrls: ['./lan-kham-hien-tai-ket-luan-kham-doan.component.scss']\n})\nexport class LanKhamHienTaiKetLuanKhamDoanComponent implements OnInit {\n\n  //data temp, chỉ dùng tạm ko dùng thật, lúc dev cần thiết kế lại class\n  arrDichVuKham: any = [\n    {\n      'Title': 'Nội khoa',\n      'TemplateObj': [\n        {\n          'Title': 'Tuần hoàn',\n          'Value': 'Bình thường',\n          'fxFlex': '50%'\n        },\n        {\n          'Title': 'Phân loại',\n          'Value': 'Bình thường',\n          'fxFlex': '50%'\n        },\n        {\n          'Title': 'Hô hấp',\n          'Value': 'Bình thường',\n          'fxFlex': '50%'\n        },\n        {\n          'Title': 'Phân loại',\n          'Value': 'Bình thường',\n          'fxFlex': '50%'\n        },\n        {\n          'Title': 'Tiêu hóa',\n          'Value': 'Bình thường',\n          'fxFlex': '50%'\n        },\n        {\n          'Title': 'Phân loại',\n          'Value': 'Bình thường',\n          'fxFlex': '50%'\n        }\n      ]\n    },\n    {\n      'Title': 'Da liễu',\n      'TemplateObj': [\n        {\n          'Title': 'Tuần hoàn',\n          'Value': 'Bình thường',\n          'fxFlex': '50%'\n        },\n        {\n          'Title': 'Phân loại',\n          'Value': 'Bình thường',\n          'fxFlex': '50%'\n        },\n        {\n          'Title': 'Hô hấp',\n          'Value': 'Bình thường',\n          'fxFlex': '50%'\n        },\n        {\n          'Title': 'Phân loại',\n          'Value': 'Bình thường',\n          'fxFlex': '50%'\n        },\n        {\n          'Title': 'Tiêu hóa',\n          'Value': 'Bình thường',\n          'fxFlex': '50%'\n        },\n        {\n          'Title': 'Phân loại',\n          'Value': 'Bình thường',\n          'fxFlex': '50%'\n        }\n      ]\n    }\n  ]\n\n  keToaNew: KeToaItem = new KeToaItem();\n  thongTinDuocPham: DuocPhamTonKhos = new DuocPhamTonKhos();\n  gridToaThuocColumns: any[] = [];\n  groupsChild: GroupDescriptor[] = [{ field: 'Nhom', aggregates: [{ field: 'ThanhTien', aggregate: 'sum' }] }];\n\n  @Input() documentType: DocumentType = DocumentType.KhamBenh;\n  @Input() validationErrors: any[];\n  @Input() data: any = null;\n\n  @ViewChild('sangTemplateEdit', { static: true }) sangTemplateEdit: TemplateRef<any>;\n  @ViewChild('truaTemplateEdit', { static: true }) truaTemplateEdit: TemplateRef<any>;\n  @ViewChild('chieuTemplateEdit', { static: true }) chieuTemplateEdit: TemplateRef<any>;\n  @ViewChild('toiTemplateEdit', { static: true }) toiTemplateEdit: TemplateRef<any>;\n  @ViewChild('ghiChuTemplateEdit', { static: true }) ghiChuTemplateEdit: TemplateRef<any>;\n  @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n  @ViewChild('sangTemplate', { static: true }) sangTemplate: TemplateRef<any>;\n  @ViewChild('truaTemplate', { static: true }) truaTemplate: TemplateRef<any>;\n  @ViewChild('chieuTemplate', { static: true }) chieuTemplate: TemplateRef<any>;\n  @ViewChild('soLuongTemplate', { static: true }) soLuongTemplate: TemplateRef<any>;\n  @ViewChild('toiTemplate', { static: true }) toiTemplate: TemplateRef<any>;\n  @ViewChild('soNgayTemplateEdit', { static: true }) soNgayTemplateEdit: TemplateRef<any>;\n  @ViewChild('soLuongTemplateEdit', { static: true }) soLuongTemplateEdit: TemplateRef<any>;\n  @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n  @ViewChild('actionToaThuocTemplate', { static: true }) actionToaThuocTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienFooterTemplate', { static: true }) thanhTienFooterTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienGroupFooterTemplate', { static: true }) thanhTienGroupFooterTemplate: TemplateRef<any>;\n  @ViewChild('donGiaFooterTemplate', { static: true }) donGiaFooterTemplate: TemplateRef<any>;\n  @ViewChild('donGiaGroupFooterTemplate', { static: true }) donGiaGroupFooterTemplate: TemplateRef<any>;\n  @ViewChild('thuocBHYTTemplate', { static: true }) thuocBHYTTemplate: TemplateRef<any>;\n  constructor() { }\n\n  ngOnInit() {\n\n    this.gridToaThuocColumns = [\n      { Field: \"Action\", Title: \"\", Width: 70, Template: this.actionToaThuocTemplate, },\n      { Field: \"STT\", Title: \"#\", Width: 45, Sortable: true },\n      { Field: \"Ma\", Title: \"Mã\", Width: 45, Sortable: true, ShowTooltip: true },\n      { Field: \"Ten\", Title: \"TÊN\", Width: 95, Sortable: true, ShowTooltip: true },\n      { Field: \"HoatChat\", Title: \"Hoạt chất\", Width: 80, Sortable: true, ShowTooltip: true },\n      { Field: \"DVT\", Title: \"ĐVT\", Width: 60, Sortable: true },\n      { Field: \"Nhom\", Title: \"Nhóm\", Width: 100, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n      { Field: \"SangDisplay\", Title: \"Sáng\", Width: 55, Sortable: true, TemplateEdit: this.sangTemplateEdit, Template: this.sangTemplate },\n      { Field: \"TruaDisplay\", Title: \"Trưa\", Width: 55, Sortable: true, TemplateEdit: this.truaTemplateEdit, Template: this.truaTemplate },\n      { Field: \"ChieuDisplay\", Title: \"Chiều\", Width: 55, Sortable: true, TemplateEdit: this.chieuTemplateEdit, Template: this.chieuTemplate },\n      { Field: \"ToiDisplay\", Title: \"Tối\", Width: 55, Sortable: true, TemplateEdit: this.toiTemplateEdit, Template: this.toiTemplate },\n      { Field: \"SoNgayDung\", Title: \"Số ngày\", Width: 80, Sortable: true, TemplateEdit: this.soNgayTemplateEdit },\n      { Field: \"SoLuong\", Title: \"SL\", Width: 40, Sortable: true, TemplateEdit: this.soLuongTemplateEdit, Template: this.soLuongTemplate },\n      { Field: \"TenDuongDung\", Title: \"Đ.Dùng\", Width: 70, Sortable: true },\n      { Field: \"DonGia\", Title: \"Đơn giá\", Width: 90, Sortable: true, TemplateFooter: this.donGiaFooterTemplate, Template: this.donGiaTemplate, TemplateGroupFooter: this.donGiaGroupFooterTemplate },\n      { Field: \"ThanhTien\", Title: \"T.Tiền\", Width: 80, Sortable: true, Template: this.thanhTienTemplate, TemplateFooter: this.thanhTienFooterTemplate, TemplateGroupFooter: this.thanhTienGroupFooterTemplate },\n      // { Field: \"TuongTacThuoc\", Title: \"Tương tác thuốc\", Width: 65, Sortable: true },\n      // { Field: \"DiUngThuocDisplay\", Title: \"Dị ứng\", Width: 65, Sortable: true },\n      { Field: \"GhiChu\", Title: \"Cách dùng\", Width: 90, Sortable: true, TemplateEdit: this.ghiChuTemplateEdit, ShowTooltip: true },\n    ];\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLWtldC1sdWFuL2xhbi1raGFtLWhpZW4tdGFpLWtldC1sdWFuLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input, ViewChild, TemplateRef, SimpleChanges, HostListener, Output, EventEmitter, ChangeDetectorRef } from '@angular/core';\nimport { BenhVienHangDoi, YeuCauKhamBenhICDKhac, ThongTinDichVuKhamTiepTheo, YeuCauKhamBenh, YeuCauDichVuKyThuatViewModel, XuLyCachGiaiQuyet } from '../../../kham-benh.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { MatDialog } from '@angular/material';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icMoreHoriz from '@iconify/icons-ic/twotone-more-horiz';\nimport icCancel from '@iconify/icons-ic/cancel';\nimport icSave from '@iconify/icons-ic/outline-save';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { ChanDoanCuaBacSiKhacPopupComponent } from '../chan-doan-cua-bac-si-khac-popup/chan-doan-cua-bac-si-khac-popup.component';\nimport { GiayChuyenVienPopupComponent } from '../giay-chuyen-vien-popup/giay-chuyen-vien-popup.component';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { LookupQueryInfo } from 'src/app/shared/models/common.model';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { NotificationComponent } from 'src/app/shared/component/dialogs/notification/notification.component';\n\ndeclare var jQuery: any;\n@Component({\n    selector: 'app-lan-kham-hien-tai-ket-luan',\n    templateUrl: './lan-kham-hien-tai-ket-luan.component.html',\n    styleUrls: ['./lan-kham-hien-tai-ket-luan.component.scss']\n})\nexport class LanKhamHienTaiKetLuanComponent implements OnInit {\n    queryInfoICD: LookupQueryInfo = new LookupQueryInfo();\n    queryInfoICDKhac: LookupQueryInfo = new LookupQueryInfo();\n    queryInfoDichVuKyThuatBenhVien: LookupQueryInfo = new LookupQueryInfo();\n    queryInfoBenhVienChuyenVien: LookupQueryInfo = new LookupQueryInfo();\n    icAddCircle = icAddCircle;\n    icDelete = icDelete;\n    icEdit = icEdit;\n    icSave = icSave;\n    icMoreHoriz = icMoreHoriz;\n    icCancel = icCancel;\n    iCDPhuYeuCauKhamBenhId: number = 0;\n    dateChuyenVienMin: Date = null;\n    coLyDoChuyenVien: boolean = false;\n    gridICDsPhuKhacColumns: any[] = [];\n    benhNhanHienTai: BenhVienHangDoi = new BenhVienHangDoi();\n    yeuCauKhamBenh: YeuCauKhamBenh = new YeuCauKhamBenh();\n    yeuCauKhamBenhICDKhac: YeuCauKhamBenhICDKhac = new YeuCauKhamBenhICDKhac();\n    chanDoanSoBoICDid: number = null;\n    xuLyCachGiaiQuyet: XuLyCachGiaiQuyet = new XuLyCachGiaiQuyet();\n    xuLyCachGiaiQuyetArray: any[] = [];\n    dataSourceICDsPhuKhac: any = {\n        data: [],\n        total: 0\n    }\n    popupDeletingData: any = null;\n    isSelectDuocPham: boolean = false;\n    datathuoc: any;\n    datavt: any;\n\n    @Input() documentType: DocumentType = DocumentType.KhamBenh;\n    @Input() validationErrors: any[];\n    @Input() data: any = null;\n    @Input() dataYeuCauKhamBenh: any = null;\n    @Input() dataICDKhacs: any;\n    @Input() dataYeuCauKhamBenhPrevious: any;\n\n    @ViewChild('teniCDsPhuKhacTemplate', { static: true }) teniCDsPhuKhacTemplate: TemplateRef<any>;\n    @ViewChild('ghiChuICDsPhuKhacTemplate', { static: true }) ghiChuICDsPhuKhacTemplate: TemplateRef<any>;\n    @ViewChild('actionICDsPhuKhacTemplate', { static: true }) actionICDsPhuKhacTemplate: TemplateRef<any>;\n    @ViewChild('iCDKhacs', { static: true }) gridICDsPhuKhac: GridComponent;\n\n    thongTinDichVuKhamTiepTheo: ThongTinDichVuKhamTiepTheo = new ThongTinDichVuKhamTiepTheo();\n    constructor(\n        private apiService: ApiService,\n        private dialog: MatDialog,\n        private notificationService: NotificationService,\n        private authService: AuthService,\n        private ref: ChangeDetectorRef,\n\n    ) { }\n\n    ngOnInit() {\n        //this.documentType = DocumentType.KhamBenh;\n        this.benhNhanHienTai = this.data;\n        this.yeuCauKhamBenh = this.dataYeuCauKhamBenh;\n        console.log(\"yeuCauKhamBenh Receive: \", this.benhNhanHienTai);\n        this.dateChuyenVienMin = new Date(this.benhNhanHienTai.YeuCauTiepNhan.ThoiDiemTiepNhan); //this.benhNhanHienTai.YeuCauTiepNhan.ThoiDiemTiepNhan;\n        if (this.yeuCauKhamBenh.YeuCauDichVuKyThuat == null) {\n            this.yeuCauKhamBenh.YeuCauDichVuKyThuat = new YeuCauDichVuKyThuatViewModel();\n        }\n        this.gridICDsPhuKhacColumns = [\n            { Field: \"ICDsPhu\", Title: \"Chẩn đoán ICD kèm theo\", Width: 250, Template: this.teniCDsPhuKhacTemplate },\n            { Field: \"GhiChu\", Title: \"Chẩn đoán\", MinWidth: 100, Template: this.ghiChuICDsPhuKhacTemplate },\n            { Field: \"Action\", Title: \"\", Width: 50, Template: this.actionICDsPhuKhacTemplate }\n        ];\n        this.iCDPhuYeuCauKhamBenhId = this.yeuCauKhamBenh.Id;\n\n        if (this.yeuCauKhamBenh.YeuCauKhamBenhICDKhacs != []) {\n            this.dataSourceICDsPhuKhac.data = this.yeuCauKhamBenh.YeuCauKhamBenhICDKhacs;\n        }\n        if (this.yeuCauKhamBenh.ChanDoanSoBoICDId != null) {\n            this.chanDoanSoBoICDid = this.yeuCauKhamBenh.ChanDoanSoBoICDId;\n        }\n        this.thongTinDichVuKhamTiepTheo.YeuCauKhamBenhId = this.yeuCauKhamBenh.Id;\n        this.thongTinDichVuKhamTiepTheo.YeuCauTiepNhanId = this.yeuCauKhamBenh.YeuCauTiepNhanId;\n        if (this.yeuCauKhamBenh.LoaiLyDoChuyenVien == 0) {\n            this.yeuCauKhamBenh.LoaiLyDoChuyenVien = 1;\n        }\n        //this.chonICDChinhtheoICDSoBo();\n        this.chonICDKhactheoICDPhanBiet();\n        this.getHuongDieuTriHangBenhVien();\n        if (this.yeuCauKhamBenh.IcdchinhId != null) {\n            this.queryInfoICD.ParameterDependencies = this.yeuCauKhamBenh.IcdchinhId.toString();\n        }\n        if (this.yeuCauKhamBenh.BenhVienChuyenVienId != null) {\n            this.queryInfoBenhVienChuyenVien.ParameterDependencies = this.yeuCauKhamBenh.BenhVienChuyenVienId.toString();\n        }\n        if (this.yeuCauKhamBenh.YeuCauDichVuKyThuat.DichVuKyThuatBenhVienId != null) {\n            this.queryInfoDichVuKyThuatBenhVien.ParameterDependencies = this.yeuCauKhamBenh.YeuCauDichVuKyThuat.DichVuKyThuatBenhVienId.toString();\n        }\n\n        if (this.yeuCauKhamBenh.CachGiaiQuyet == null) {\n            this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n        }\n\n    }\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes['dataICDKhacs'] && changes['dataICDKhacs'].previousValue != null && changes['dataICDKhacs'].previousValue != changes['dataICDKhacs'].currentValue) {\n            this.dataSourceICDsPhuKhac.data = changes['dataICDKhacs'].currentValue;\n        }\n    }\n\n    onChangeSetTenICDPhu(dataItem: any, rowIndex: number) {\n        if (dataItem != undefined && dataItem != null && rowIndex != undefined && rowIndex != null) {\n            this.dataSourceICDsPhuKhac.data[rowIndex].TenICD = dataItem.DisplayName;\n            this.dataSourceICDsPhuKhac.data[rowIndex].GhiChu = dataItem.Ten;\n        }\n        else {\n            this.dataSourceICDsPhuKhac.data[rowIndex].TenICD = null;\n            this.dataSourceICDsPhuKhac.data[rowIndex].GhiChu = null;\n        }\n        this.changeData();\n    }\n\n    iCDSelectionChange(dataItem: any) {\n        if (dataItem != undefined && dataItem != null) {\n            // if (this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhDonThuocs != [] && this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhDonThuocs.length > 0) {\n            //     this.benhNhanHienTai.YeuCauKhamBenh.IsShowTextBoxLoiDan = true;\n            // }\n            this.yeuCauKhamBenh.TenICDChinh = dataItem.DisplayName;\n            this.yeuCauKhamBenh.GhiChuICDChinh = dataItem.Ten;\n            this.apiService.get<any>(\"KhamBenh/GetLoiDanTheoICD?iCDId=\" + dataItem.KeyId).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        this.benhNhanHienTai.YeuCauKhamBenh.GhiChu = resultData;\n                        if (this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhDonThuocs != [] && this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhDonThuocs.length > 0) {\n                            this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhDonThuocs[0].GhiChu = resultData;\n                        }\n                    }\n                    else {\n                        this.benhNhanHienTai.YeuCauKhamBenh.GhiChu = null;\n                    }\n                });\n        }\n        else {\n            //this.benhNhanHienTai.YeuCauKhamBenh.IsShowTextBoxLoiDan = false;\n            this.yeuCauKhamBenh.TenICDChinh = null;\n            this.yeuCauKhamBenh.GhiChuICDChinh = null;\n            this.benhNhanHienTai.YeuCauKhamBenh.GhiChu = null;\n        }\n        this.changeData();\n    }\n    chonICDChinhtheoICDSoBo() {\n        if (this.yeuCauKhamBenh.ChanDoanSoBoICDId != null) {\n            if (this.yeuCauKhamBenh.IcdchinhId == null && this.yeuCauKhamBenh.GhiChuICDChinh == null\n                || this.yeuCauKhamBenh.IcdchinhId == null\n                || this.yeuCauKhamBenh.GhiChuICDChinh == null) {\n                let model = new LookupQueryInfo();\n                model.ParameterDependencies = this.yeuCauKhamBenh.ChanDoanSoBoICDId.toString();\n                model.Take = 50;\n                this.apiService.post<any>(\"KhamBenh/ICD\", model).subscribe(\n                    resultData => {\n                        if (resultData != undefined && resultData != null) {\n                            this.yeuCauKhamBenh.IcdchinhId = resultData[0].KeyId;\n                            this.yeuCauKhamBenh.TenICDChinh = resultData[0].DisplayName;\n                            this.yeuCauKhamBenh.GhiChuICDChinh = resultData[0].Ten;\n                        }\n\n                    });\n            }\n\n        }\n    }\n\n    chonICDKhactheoICDPhanBiet() {\n        if (this.yeuCauKhamBenh.YeuCauKhamBenhChanDoanPhanBiets.length > 0) {\n            if (this.yeuCauKhamBenh.YeuCauKhamBenhICDKhacs.length < 1) {\n                let model = new LookupQueryInfo();\n                model.ParameterDependencies = this.yeuCauKhamBenh.Id.toString();\n                model.Take = 50;\n                this.apiService.post<any>(\"KhamBenh/ICDKhacs\", model).subscribe(\n                    resultData => {\n                        if (resultData != undefined && resultData != null) {\n                            this.dataSourceICDsPhuKhac.data = resultData;\n                            this.yeuCauKhamBenh.YeuCauKhamBenhICDKhacs = resultData;\n                        }\n\n                    });\n            }\n\n        }\n    }\n\n    themICDsPhu() {\n        let yeuCauKhamBenhICDKhac = new YeuCauKhamBenhICDKhac()\n        yeuCauKhamBenhICDKhac.YeuCauKhamBenhId = this.yeuCauKhamBenh.Id;\n        this.dataSourceICDsPhuKhac.data.push(yeuCauKhamBenhICDKhac);\n        console.log(\"data return: \", this.dataSourceICDsPhuKhac)\n        this.changeData();\n\n    }\n\n    xoaICDsPhu(item: any) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessConfirm, [\"xóa\"]) }\n        }).afterClosed().subscribe(result => {\n            if (result === 'Yes') {\n                this.dataSourceICDsPhuKhac.data.splice(this.dataSourceICDsPhuKhac.data.findIndex((x: any) => x == item), 1);\n                this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xóa\"]));\n                this.changeData();\n            }\n        });\n    }\n\n    changeData() {\n        this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = true;\n    }\n\n    changeDataDichVuKyThuat(dichVuKyThuatBenhVienId: any) {\n        if (dichVuKyThuatBenhVienId != undefined && dichVuKyThuatBenhVienId != null) {\n            this.apiService.get<any>(\"KhamBenh/GetChiDinhThongTinDichVuKyThuat?dichVuKyThuatBenhVienId=\" + dichVuKyThuatBenhVienId).subscribe(result => {\n                this.yeuCauKhamBenh.YeuCauDichVuKyThuat.TenDichVu = result.DichVu;\n                this.yeuCauKhamBenh.YeuCauDichVuKyThuat.MaDichVu = result.Ma;\n                this.yeuCauKhamBenh.YeuCauDichVuKyThuat.MaGiaDichVu = result.MaGiaDichVu;\n                this.yeuCauKhamBenh.YeuCauDichVuKyThuat.NhomGiaDichVuKyThuatBenhVienId = result.NhomGiaDichVuKyThuatBenhVienId;\n                this.yeuCauKhamBenh.YeuCauDichVuKyThuat.Gia = result.Gia;\n                this.yeuCauKhamBenh.YeuCauDichVuKyThuat.NhomChiPhi = result.NhomChiPhi;\n                this.yeuCauKhamBenh.YeuCauDichVuKyThuat.LoaiDichVuKyThuat = result.LoaiDichVuKyThuat;\n                this.yeuCauKhamBenh.YeuCauDichVuKyThuat.NhomDichVuBenhVienId = result.NhomDichVuBenhVienId;\n                this.yeuCauKhamBenh.YeuCauDichVuKyThuat.TenNhomDichVu = result.TenNhomDichVuBenhVien;\n                this.yeuCauKhamBenh.YeuCauDichVuKyThuat.YeuCauKhamBenhId = this.benhNhanHienTai.YeuCauKhamBenhId;\n                this.yeuCauKhamBenh.YeuCauDichVuKyThuat.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n                this.yeuCauKhamBenh.YeuCauDichVuKyThuat.DuocHuongBaoHiem = this.benhNhanHienTai.YeuCauKhamBenh.DuocHuongBaoHiem;\n                this.yeuCauKhamBenh.YeuCauDichVuKyThuat.DieuTriNgoaiTru = this.benhNhanHienTai.YeuCauKhamBenh.DieuTriNgoaiTru;\n                this.yeuCauKhamBenh.YeuCauDichVuKyThuat.TenDichVuHienThi = result.DisplayName;\n            });\n        }\n        else {\n            this.yeuCauKhamBenh.YeuCauDichVuKyThuat = new YeuCauDichVuKyThuatViewModel();\n        }\n        this.changeData();\n    }\n\n    boCheckDeXoaDieuTriNgoaiChu(event: any) {\n        if (this.yeuCauKhamBenh.CachGiaiQuyet == null) {\n            this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n        }\n\n        if (event == false) {\n            this.yeuCauKhamBenh.YeuCauDichVuKyThuat = new YeuCauDichVuKyThuatViewModel();\n\n            // Xử lý cách giải quyết\n            if (this.yeuCauKhamBenh.CachGiaiQuyet.indexOf(\";\")) {\n                this.xuLyCachGiaiQuyetArray = this.yeuCauKhamBenh.CachGiaiQuyet.trim().split(\";\");\n                for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                    if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.DieuTriNgoaiTruStr1)) {\n                        this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                        break;\n                    }\n                }\n                this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n                //this.yeuCauKhamBenh.CachGiaiQuyet = this.xuLyCachGiaiQuyetArray.join(this.yeuCauKhamBenh.CachGiaiQuyet);\n                for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                    this.yeuCauKhamBenh.CachGiaiQuyet += this.xuLyCachGiaiQuyetArray[i] + \";\";\n                }\n                if (this.yeuCauKhamBenh.CachGiaiQuyet.lastIndexOf(\";\")) {\n                    this.yeuCauKhamBenh.CachGiaiQuyet = this.yeuCauKhamBenh.CachGiaiQuyet.substring(0, this.yeuCauKhamBenh.CachGiaiQuyet.lastIndexOf(\";\"));\n                }\n            }\n        } else {\n            // Xử lý cách giải quyết\n            this.xuLyCachGiaiQuyetArray = this.yeuCauKhamBenh.CachGiaiQuyet.trim().split(\";\");\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.NhapVienStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.ChuyenVienStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.TuVongStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n            this.xuLyCachGiaiQuyetArray.forEach(element => {\n                let format = this.yeuCauKhamBenh.CachGiaiQuyet != null && this.yeuCauKhamBenh.CachGiaiQuyet != \"\" ? \"; \" : this.yeuCauKhamBenh.CachGiaiQuyet;\n                this.yeuCauKhamBenh.CachGiaiQuyet += format + element;\n            });\n            if (this.yeuCauKhamBenh.CachGiaiQuyet.includes(this.xuLyCachGiaiQuyet.DieuTriNgoaiTruStr1) == false) {\n                let format = this.yeuCauKhamBenh.CachGiaiQuyet != null && this.yeuCauKhamBenh.CachGiaiQuyet != \"\" ? \"; \" : this.yeuCauKhamBenh.CachGiaiQuyet;\n                this.yeuCauKhamBenh.CachGiaiQuyet += format + this.xuLyCachGiaiQuyet.DieuTriNgoaiTruStr1;\n            }\n            this.yeuCauKhamBenh.CoNhapVien = null;\n            this.yeuCauKhamBenh.CoChuyenVien = null;\n            this.yeuCauKhamBenh.CoTuVong = null;\n            this.yeuCauKhamBenh.KhoaPhongNhapVienId = null;\n            this.yeuCauKhamBenh.LyDoNhapVien = null;\n            this.yeuCauKhamBenh.YeuCauDichVuKyThuat = new YeuCauDichVuKyThuatViewModel();\n        }\n        this.removeValidator();\n        this.changeData();\n    }\n\n    deletingPage() {\n        this.popupDeletingData = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: \"200px\",\n            height: \"90px\",\n            data: { Title: \"Đang xóa dữ liệu...\" },\n        });\n    }\n\n    closePopupDeletingData() {\n        if (this.popupDeletingData != undefined && this.popupDeletingData != null) {\n            this.popupDeletingData.close();\n        }\n    }\n\n    boCheckDeXoaToaThuoc(check: boolean) {\n        let yeuKhamBenhModel = {\n            YeuCauKhamBenhId: this.yeuCauKhamBenh.Id,\n            IsKhamBenhDangKham: false\n        }\n        if (this.documentType == DocumentType.KhamBenhDangKham || this.benhNhanHienTai.YeuCauKhamBenh.IsKhamBenhDangKham) {\n            yeuKhamBenhModel.IsKhamBenhDangKham = true;\n        }\n\n        if (this.yeuCauKhamBenh.CachGiaiQuyet == null) {\n            this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n        }\n\n        if (check == false) {\n            if (this.yeuCauKhamBenh.CachGiaiQuyet != null) {\n                // Xử lý cách giải quyết\n                if (this.yeuCauKhamBenh.CachGiaiQuyet.indexOf(\";\")) {\n                    this.xuLyCachGiaiQuyetArray = this.yeuCauKhamBenh.CachGiaiQuyet.trim().split(\";\");\n                    for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                        if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.ChoVeKeDonStr1)) {\n                            this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                            break;\n                        }\n                    }\n                    this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n                    //this.yeuCauKhamBenh.CachGiaiQuyet = this.xuLyCachGiaiQuyetArray.join(this.yeuCauKhamBenh.CachGiaiQuyet);\n                    for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                        if (this.xuLyCachGiaiQuyetArray[i] != \"\") {\n                            this.yeuCauKhamBenh.CachGiaiQuyet += this.xuLyCachGiaiQuyetArray[i] + \";\";\n                        }\n                    }\n                    if (this.yeuCauKhamBenh.CachGiaiQuyet.lastIndexOf(\";\")) {\n                        this.yeuCauKhamBenh.CachGiaiQuyet = this.yeuCauKhamBenh.CachGiaiQuyet.substring(0, this.yeuCauKhamBenh.CachGiaiQuyet.lastIndexOf(\";\"));\n                    }\n                }\n            }\n\n\n            this.apiService.post<any>(\"KhamBenh/KiemTraCoDonThuocs2?yeuCauKhamBenhId=\" + this.yeuCauKhamBenh.Id).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        if (resultData == true) {\n                            var self = this;\n                            self.dialog.open(ConfirmComponent, {\n                                disableClose: false,\n                                width: '400px',\n                                data: { Title: \"Xác nhận\", Message: \"Nếu bỏ chọn kê toa sẽ xóa đơn thuốc và vật tư(nếu có) hiện tại.\" }\n                            }).afterClosed().subscribe(result => {\n                                if (result == \"Yes\") {\n                                    if (self.authService.hasPermission(self.documentType, SecurityOperation.Delete)) {\n                                        self.deletingPage()\n                                        self.apiService.post<any>(\"KhamBenh/XoaDonThuoc\", yeuKhamBenhModel).subscribe(\n                                            () => {\n                                                if (self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhDonVTYTs.length < 0) {\n                                                    self.benhNhanHienTai.YeuCauKhamBenh.IsShowGridVatTu = false;\n                                                }\n                                                self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xóa\"]));\n                                                self.closePopupDeletingData();\n                                            },\n                                            (err: ApiError) => {\n                                                self.validationErrors = err.ValidationErrors;\n                                                if (err.Message != \"Validation Failed\") {\n                                                    self.notificationService.showError(err.Message);\n                                                }\n                                                self.yeuCauKhamBenh.CoKeToa = true;\n                                                self.closePopupDeletingData();\n                                            });\n                                    } else {\n                                        self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n                                    }\n                                }\n                                else {\n                                    this.yeuCauKhamBenh.CoKeToa = true;\n                                }\n                            });\n                        }\n                    }\n                });\n        }\n        else {\n            // Xử lý cách giải quyết\n            if (this.yeuCauKhamBenh.CachGiaiQuyet.includes(this.xuLyCachGiaiQuyet.ChoVeKeDonStr1) == false) {\n                let format = this.yeuCauKhamBenh.CachGiaiQuyet != null && this.yeuCauKhamBenh.CachGiaiQuyet != \"\" ? \"; \" : this.yeuCauKhamBenh.CachGiaiQuyet;\n                this.yeuCauKhamBenh.CachGiaiQuyet += format + this.xuLyCachGiaiQuyet.ChoVeKeDonStr1;\n            }\n            this.yeuCauKhamBenh.KhongKeToa = null;\n            this.yeuCauKhamBenh.CoNhapVien = null;\n            this.yeuCauKhamBenh.KhoaPhongNhapVienId = null;\n            this.yeuCauKhamBenh.LyDoNhapVien = null;\n            this.yeuCauKhamBenh.KetQuaXetNghiemCLS = null;\n            this.yeuCauKhamBenh.PhuongPhapTrongDieuTri = null;\n            this.yeuCauKhamBenh.CoChuyenVien = null;\n            this.yeuCauKhamBenh.BenhVienChuyenVienId = null;\n            this.yeuCauKhamBenh.TinhTrangBenhNhanChuyenVien = null;\n            this.yeuCauKhamBenh.LoaiLyDoChuyenVien = 1;\n            this.yeuCauKhamBenh.LyDoChuyenVien = null;\n            this.yeuCauKhamBenh.ThoiDiemChuyenVien = new Date();\n            this.yeuCauKhamBenh.NhanVienHoTongChuyenVienId = null;\n            this.yeuCauKhamBenh.PhuongTienChuyenVien = null;\n            this.yeuCauKhamBenh.CoTuVong = null;\n        }\n        //this.changeData();\n        this.removeValidator();\n    }\n\n    checkKhongKeToa(event: any) {\n        if (this.yeuCauKhamBenh.CachGiaiQuyet == null) {\n            this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n        }\n\n        if (event == true) {\n            this.yeuCauKhamBenh.CoKeToa = false;\n            this.yeuCauKhamBenh.CoNhapVien = null;\n            this.yeuCauKhamBenh.KhoaPhongNhapVienId = null;\n            this.yeuCauKhamBenh.LyDoNhapVien = null;\n\n            this.yeuCauKhamBenh.PhuongPhapTrongDieuTri = null;\n            this.yeuCauKhamBenh.CoChuyenVien = null;\n            this.yeuCauKhamBenh.BenhVienChuyenVienId = null;\n            this.yeuCauKhamBenh.TinhTrangBenhNhanChuyenVien = null;\n            this.yeuCauKhamBenh.LoaiLyDoChuyenVien = 1;\n            this.yeuCauKhamBenh.LyDoChuyenVien = null;\n            this.yeuCauKhamBenh.PhuongPhapTrongDieuTri = null;\n            this.yeuCauKhamBenh.KetQuaXetNghiemCLS = null;\n\n            this.yeuCauKhamBenh.ThoiDiemChuyenVien = new Date();\n            this.yeuCauKhamBenh.NhanVienHoTongChuyenVienId = null;\n            this.yeuCauKhamBenh.PhuongTienChuyenVien = null;\n\n            this.yeuCauKhamBenh.CoTuVong = null;\n\n            // Xử lý cách giải quyết\n            this.xuLyCachGiaiQuyetArray = this.yeuCauKhamBenh.CachGiaiQuyet.trim().split(\";\");\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.NhapVienStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.ChuyenVienStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.TuVongStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n            this.xuLyCachGiaiQuyetArray.forEach(element => {\n                let format = this.yeuCauKhamBenh.CachGiaiQuyet != null && this.yeuCauKhamBenh.CachGiaiQuyet != \"\" ? \"; \" : this.yeuCauKhamBenh.CachGiaiQuyet;\n                this.yeuCauKhamBenh.CachGiaiQuyet += format + element;\n            });\n\n            if (this.yeuCauKhamBenh.CachGiaiQuyet.includes(this.xuLyCachGiaiQuyet.ChoVeKhongToaStr1) == false) {\n                let format = this.yeuCauKhamBenh.CachGiaiQuyet != null && this.yeuCauKhamBenh.CachGiaiQuyet != \"\" ? \"; \" : this.yeuCauKhamBenh.CachGiaiQuyet;\n                this.yeuCauKhamBenh.CachGiaiQuyet += format + this.xuLyCachGiaiQuyet.ChoVeKhongToaStr1;\n            }\n\n        } else {\n            this.yeuCauKhamBenh.CoKeToa = null;\n\n            // Xử lý cách giải quyết\n            if (this.yeuCauKhamBenh.CachGiaiQuyet.indexOf(\";\")) {\n                this.xuLyCachGiaiQuyetArray = this.yeuCauKhamBenh.CachGiaiQuyet.trim().split(\";\");\n                for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                    if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.ChoVeKhongToaStr1)) {\n                        this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                        break;\n                    }\n                }\n                this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n                //this.yeuCauKhamBenh.CachGiaiQuyet = this.xuLyCachGiaiQuyetArray.join(this.yeuCauKhamBenh.CachGiaiQuyet);\n                for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                    this.yeuCauKhamBenh.CachGiaiQuyet += this.xuLyCachGiaiQuyetArray[i] + \";\";\n                }\n                if (this.yeuCauKhamBenh.CachGiaiQuyet.lastIndexOf(\";\")) {\n                    this.yeuCauKhamBenh.CachGiaiQuyet = this.yeuCauKhamBenh.CachGiaiQuyet.substring(0, this.yeuCauKhamBenh.CachGiaiQuyet.lastIndexOf(\";\"));\n                }\n            }\n        }\n        this.removeValidator();\n        this.changeData();\n    }\n\n    boCheckDeXoaTaiKham() {\n        if (this.yeuCauKhamBenh.CachGiaiQuyet == null) {\n            this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n        }\n        if (this.yeuCauKhamBenh.CoTaiKham == false) {\n            this.yeuCauKhamBenh.CoTaiKham = null;\n            this.yeuCauKhamBenh.NgayTaiKham = null;\n            this.yeuCauKhamBenh.GhiChuTaiKham = null;\n\n            // Xử lý cách giải quyết\n            if (this.yeuCauKhamBenh.CachGiaiQuyet.indexOf(\";\")) {\n                this.xuLyCachGiaiQuyetArray = this.yeuCauKhamBenh.CachGiaiQuyet.trim().split(\";\");\n                for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                    if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.HenTaiKhamStr1)) {\n                        this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                        break;\n                    }\n                }\n                this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n                for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                    this.yeuCauKhamBenh.CachGiaiQuyet += this.xuLyCachGiaiQuyetArray[i] + \";\";\n                }\n                if (this.yeuCauKhamBenh.CachGiaiQuyet.lastIndexOf(\";\")) {\n                    this.yeuCauKhamBenh.CachGiaiQuyet = this.yeuCauKhamBenh.CachGiaiQuyet.substring(0, this.yeuCauKhamBenh.CachGiaiQuyet.lastIndexOf(\";\"));\n                }\n            }\n        }\n        else {\n            // Xử lý cách giải quyết\n            this.xuLyCachGiaiQuyetArray = this.yeuCauKhamBenh.CachGiaiQuyet.trim().split(\";\");\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.NhapVienStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.ChuyenVienStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.TuVongStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n            this.xuLyCachGiaiQuyetArray.forEach(element => {\n                let format = this.yeuCauKhamBenh.CachGiaiQuyet != null && this.yeuCauKhamBenh.CachGiaiQuyet != \"\" ? \"; \" : this.yeuCauKhamBenh.CachGiaiQuyet;\n                this.yeuCauKhamBenh.CachGiaiQuyet += format + element;\n            });\n            if (this.yeuCauKhamBenh.CachGiaiQuyet.includes(this.xuLyCachGiaiQuyet.HenTaiKhamStr1) == false) {\n                let format = this.yeuCauKhamBenh.CachGiaiQuyet != null && this.yeuCauKhamBenh.CachGiaiQuyet != \"\" ? \"; \" : this.yeuCauKhamBenh.CachGiaiQuyet;\n                this.yeuCauKhamBenh.CachGiaiQuyet += format + this.xuLyCachGiaiQuyet.HenTaiKhamStr1;\n            }\n            this.yeuCauKhamBenh.CoNhapVien = null;\n            this.yeuCauKhamBenh.KhoaPhongNhapVienId = null;\n            this.yeuCauKhamBenh.LyDoNhapVien = null;\n\n            this.yeuCauKhamBenh.CoChuyenVien = null;\n            this.yeuCauKhamBenh.BenhVienChuyenVienId = null;\n            this.yeuCauKhamBenh.TinhTrangBenhNhanChuyenVien = null;\n            this.yeuCauKhamBenh.LoaiLyDoChuyenVien = 1;\n            this.yeuCauKhamBenh.LyDoChuyenVien = null;\n            this.yeuCauKhamBenh.KetQuaXetNghiemCLS = null;\n            this.yeuCauKhamBenh.PhuongPhapTrongDieuTri = null;\n            this.yeuCauKhamBenh.ThoiDiemChuyenVien = new Date();\n            this.yeuCauKhamBenh.NhanVienHoTongChuyenVienId = null;\n            this.yeuCauKhamBenh.PhuongTienChuyenVien = null;\n\n            this.yeuCauKhamBenh.CoTuVong = null;\n        }\n        this.removeValidator();\n        this.changeData();\n    }\n    popupLoadingData: any;\n    loadingPage() {\n        this.popupLoadingData = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: \"200px\",\n            height: \"90px\",\n            data: { Title: \"Đang tải dữ liệu...\" },\n        });\n    }\n\n    closePopupLoadingData() {\n        if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n            this.popupLoadingData.close();\n        }\n    }\n\n    InGiayChuyenVien() {\n        this.benhNhanHienTai.YeuCauKhamBenh.CheckValidator = false;\n        var self = this;\n        self.validationErrors = [];\n        self.ref.detectChanges();\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n            if (self.documentType == DocumentType.KhamBenhDangKham || self.benhNhanHienTai.YeuCauKhamBenh.IsKhamBenhDangKham) {\n                self.yeuCauKhamBenh.IsKhamBenhDangKham = true;\n            }\n            self.loadingPage();\n            self.apiService.post<any>(\"KhamBenh/LuuKetLuan\", self.yeuCauKhamBenh).subscribe(\n                (res) => {\n                    self.closePopupLoadingData();\n                    self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs = res.YeuCauKhamBenhICDKhacs;\n                    const yeuCauKhamBenhICDKhacs = [];\n                    self.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhICDKhacs.forEach(val => yeuCauKhamBenhICDKhacs.push(Object.assign({}, val)));\n                    self.dataYeuCauKhamBenhPrevious.YeuCauKhamBenhICDKhacs = yeuCauKhamBenhICDKhacs;\n                    self.dataYeuCauKhamBenhPrevious.CachGiaiQuyet = self.yeuCauKhamBenh.CachGiaiQuyet;\n\n                    self.dataYeuCauKhamBenhPrevious.CoChuyenVien = self.yeuCauKhamBenh.CoChuyenVien;\n                    self.dataYeuCauKhamBenhPrevious.BenhVienChuyenVienId = self.yeuCauKhamBenh.BenhVienChuyenVienId;\n                    self.dataYeuCauKhamBenhPrevious.TinhTrangBenhNhanChuyenVien = self.yeuCauKhamBenh.TinhTrangBenhNhanChuyenVien;\n                    self.dataYeuCauKhamBenhPrevious.LoaiLyDoChuyenVien = self.yeuCauKhamBenh.LoaiLyDoChuyenVien;\n                    self.dataYeuCauKhamBenhPrevious.LyDoChuyenVien = self.yeuCauKhamBenh.LyDoChuyenVien;\n                    self.dataYeuCauKhamBenhPrevious.KetQuaXetNghiemCLS = self.yeuCauKhamBenh.KetQuaXetNghiemCLS;\n                    self.dataYeuCauKhamBenhPrevious.PhuongPhapTrongDieuTri = self.yeuCauKhamBenh.PhuongPhapTrongDieuTri;\n                    self.dataYeuCauKhamBenhPrevious.ThoiDiemChuyenVien = self.yeuCauKhamBenh.ThoiDiemChuyenVien;\n                    self.dataYeuCauKhamBenhPrevious.NhanVienHoTongChuyenVienId = self.yeuCauKhamBenh.NhanVienHoTongChuyenVienId;\n                    self.dataYeuCauKhamBenhPrevious.PhuongTienChuyenVien = self.yeuCauKhamBenh.PhuongTienChuyenVien;\n                    self.dataYeuCauKhamBenhPrevious.IcdchinhId = self.yeuCauKhamBenh.IcdchinhId;\n                    self.dataYeuCauKhamBenhPrevious.GhiChuICDChinh = self.yeuCauKhamBenh.GhiChuICDChinh;\n                    self.dataYeuCauKhamBenhPrevious.TomTatKetQuaCLS = self.yeuCauKhamBenh.TomTatKetQuaCLS;\n                    self.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan = false;\n                    self.dialog.open(GiayChuyenVienPopupComponent, {\n                        disableClose: true,\n                        width: '1000px',\n                        data: { Model: self.benhNhanHienTai, Title: \"Giấy Chuyển Tuyến\" }\n                    });\n                },\n                (err: ApiError) => {\n                    self.validationErrors = err.ValidationErrors;\n                    if (err.Message != \"Validation Failed\") {\n                        self.notificationService.showError(err.Message)\n                    };\n                });\n        } else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n        // this.apiService.post(\"KhamBenh/LuuKetLuan\", this.yeuCauKhamBenh).subscribe(\n        //     () => {\n        //         this.dialog.open(GiayChuyenVienPopupComponent, {\n        //             disableClose: true,\n        //             width: '1000px',\n        //             data: { Model: this.benhNhanHienTai, Title: \"Giấy Chuyển Viện\" }\n        //         });\n        //     }, (err: ApiError) => {\n        //         this.validationErrors = err.ValidationErrors;\n        //     });\n    }\n\n\n\n    boCheckDeXoaNhapVien(event) {\n        if (this.yeuCauKhamBenh.CachGiaiQuyet == null) {\n            this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n        }\n        let yeuKhamBenhModel = {\n            YeuCauKhamBenhId: this.yeuCauKhamBenh.Id,\n            IsKhamBenhDangKham: false\n        }\n\n        if (event == false) {\n            this.yeuCauKhamBenh.CoNhapVien = null;\n            this.yeuCauKhamBenh.KhoaPhongNhapVienId = null;\n            this.yeuCauKhamBenh.LyDoNhapVien = null;\n\n            // Xử lý cách giải quyết\n            if (this.yeuCauKhamBenh.CachGiaiQuyet.indexOf(\";\")) {\n                this.xuLyCachGiaiQuyetArray = this.yeuCauKhamBenh.CachGiaiQuyet.trim().split(\";\");\n                for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                    if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.NhapVienStr1)) {\n                        this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                        break;\n                    }\n                }\n                this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n                for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                    this.yeuCauKhamBenh.CachGiaiQuyet += this.xuLyCachGiaiQuyetArray[i] + \";\";\n                }\n                if (this.yeuCauKhamBenh.CachGiaiQuyet.lastIndexOf(\";\")) {\n                    this.yeuCauKhamBenh.CachGiaiQuyet = this.yeuCauKhamBenh.CachGiaiQuyet.substring(0, this.yeuCauKhamBenh.CachGiaiQuyet.lastIndexOf(\";\"));\n                }\n            }\n        } else {\n            // Xử lý cách giải quyết\n            this.xuLyCachGiaiQuyetArray = this.yeuCauKhamBenh.CachGiaiQuyet.trim().split(\";\");\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.ChoVeKeDonStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.ChoVeKhongToaStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.HenTaiKhamStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.DieuTriNgoaiTruStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n            this.xuLyCachGiaiQuyetArray.forEach(element => {\n                let format = this.yeuCauKhamBenh.CachGiaiQuyet != null && this.yeuCauKhamBenh.CachGiaiQuyet != \"\" ? \"; \" : this.yeuCauKhamBenh.CachGiaiQuyet;\n                this.yeuCauKhamBenh.CachGiaiQuyet += format + element;\n            });\n\n            if (this.yeuCauKhamBenh.CachGiaiQuyet.includes(this.xuLyCachGiaiQuyet.NhapVienStr1) == false) {\n                let format = this.yeuCauKhamBenh.CachGiaiQuyet != null && this.yeuCauKhamBenh.CachGiaiQuyet != \"\" ? \"; \" : this.yeuCauKhamBenh.CachGiaiQuyet;\n                this.yeuCauKhamBenh.CachGiaiQuyet += format + this.xuLyCachGiaiQuyet.NhapVienStr1;\n            }\n            if (this.yeuCauKhamBenh.CoKeToa == true) {\n                if (this.datathuoc.length > 0 || this.datavt.length > 0) {\n                    this.xoaDonThuoc(yeuKhamBenhModel);\n                } else {\n                    this.yeuCauKhamBenh.CoKeToa = null;\n                }\n            }\n\n            this.yeuCauKhamBenh.KhongKeToa = null;\n            this.yeuCauKhamBenh.CoTaiKham = null;\n            this.yeuCauKhamBenh.NgayTaiKham = null;\n            this.yeuCauKhamBenh.GhiChuTaiKham = null;\n            this.yeuCauKhamBenh.CoDieuTriNgoaiTru = null;\n            this.yeuCauKhamBenh.YeuCauDichVuKyThuat = new YeuCauDichVuKyThuatViewModel();\n            this.yeuCauKhamBenh.CoTuVong = null;\n\n        }\n        this.changeData();\n        this.removeValidator();\n    }\n\n    boCheckDeXoaChuyenVien(event) {\n        if (this.yeuCauKhamBenh.CachGiaiQuyet == null) {\n            this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n        }\n        let yeuKhamBenhModel = {\n            YeuCauKhamBenhId: this.yeuCauKhamBenh.Id,\n            IsKhamBenhDangKham: false\n        }\n        if (event == false) {\n            this.coLyDoChuyenVien = false;\n            this.yeuCauKhamBenh.CoChuyenVien = null;\n            this.yeuCauKhamBenh.BenhVienChuyenVienId = null;\n            this.yeuCauKhamBenh.LyDoChuyenVien = null;\n            this.yeuCauKhamBenh.KetQuaXetNghiemCLS = null;\n            this.yeuCauKhamBenh.PhuongPhapTrongDieuTri = null;\n            this.yeuCauKhamBenh.LoaiLyDoChuyenVien = null;\n            this.yeuCauKhamBenh.TinhTrangBenhNhanChuyenVien = null;\n            this.yeuCauKhamBenh.ThoiDiemChuyenVien = null;\n            this.yeuCauKhamBenh.NhanVienHoTongChuyenVienId = null;\n            this.yeuCauKhamBenh.PhuongTienChuyenVien = null;\n\n            // Xử lý cách giải quyết\n            if (this.yeuCauKhamBenh.CachGiaiQuyet.indexOf(\";\")) {\n                this.xuLyCachGiaiQuyetArray = this.yeuCauKhamBenh.CachGiaiQuyet.trim().split(\";\");\n                for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                    if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.ChuyenVienStr1)) {\n                        this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                        break;\n                    }\n                }\n                this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n                for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                    this.yeuCauKhamBenh.CachGiaiQuyet += this.xuLyCachGiaiQuyetArray[i] + \";\";\n                }\n                if (this.yeuCauKhamBenh.CachGiaiQuyet.lastIndexOf(\";\")) {\n                    this.yeuCauKhamBenh.CachGiaiQuyet = this.yeuCauKhamBenh.CachGiaiQuyet.substring(0, this.yeuCauKhamBenh.CachGiaiQuyet.lastIndexOf(\";\"));\n                }\n            }\n        }\n        else {\n            this.yeuCauKhamBenh.LoaiLyDoChuyenVien = 1;\n            this.yeuCauKhamBenh.ThoiDiemChuyenVien = this.benhNhanHienTai.YeuCauTiepNhan.ThoiDiemTiepNhan;\n            this.apiService.post<any>(\"KhamBenh/GetPhuongPhapKyThuatDieuTri?yeuCauKhamBenhId=\" + this.yeuCauKhamBenh.Id).subscribe(\n                (res) => {\n                    if (res != undefined && res != null) {\n                        this.yeuCauKhamBenh.PhuongPhapTrongDieuTri = res;\n                    }\n                });\n            // Xử lý cách giải quyết\n            this.xuLyCachGiaiQuyetArray = this.yeuCauKhamBenh.CachGiaiQuyet.trim().split(\";\");\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.ChoVeKeDonStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.ChoVeKhongToaStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.HenTaiKhamStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.DieuTriNgoaiTruStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n            this.xuLyCachGiaiQuyetArray.forEach(element => {\n                let format = this.yeuCauKhamBenh.CachGiaiQuyet != null && this.yeuCauKhamBenh.CachGiaiQuyet != \"\" ? \"; \" : this.yeuCauKhamBenh.CachGiaiQuyet;\n                this.yeuCauKhamBenh.CachGiaiQuyet += format + element;\n            });\n\n            if (this.yeuCauKhamBenh.CachGiaiQuyet.includes(this.xuLyCachGiaiQuyet.ChuyenVienStr1) == false) {\n                let format = this.yeuCauKhamBenh.CachGiaiQuyet != null && this.yeuCauKhamBenh.CachGiaiQuyet != \"\" ? \"; \" : this.yeuCauKhamBenh.CachGiaiQuyet;\n                this.yeuCauKhamBenh.CachGiaiQuyet += format + this.xuLyCachGiaiQuyet.ChuyenVienStr1;\n            }\n\n            if (this.yeuCauKhamBenh.CoKeToa == true) {\n                if (this.datathuoc.length > 0 || this.datavt.length > 0) {\n                    this.xoaDonThuoc(yeuKhamBenhModel);\n                } else {\n                    this.yeuCauKhamBenh.CoKeToa = null;\n                }\n            }\n\n            this.yeuCauKhamBenh.KhongKeToa = null;\n            this.yeuCauKhamBenh.CoTaiKham = null;\n            this.yeuCauKhamBenh.NgayTaiKham = null;\n            this.yeuCauKhamBenh.GhiChuTaiKham = null;\n            this.yeuCauKhamBenh.CoDieuTriNgoaiTru = null;\n            this.yeuCauKhamBenh.YeuCauDichVuKyThuat = new YeuCauDichVuKyThuatViewModel();\n            this.yeuCauKhamBenh.CoTuVong = null;\n\n        }\n        this.removeValidator();\n        this.changeData();\n    }\n    coCheckTuVong(event) {\n\n        if (this.yeuCauKhamBenh.CachGiaiQuyet == null) {\n            this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n        }\n        let yeuKhamBenhModel = {\n            YeuCauKhamBenhId: this.yeuCauKhamBenh.Id,\n            IsKhamBenhDangKham: false\n        }\n        if (event == true) {\n\n\n            // Xử lý cách giải quyết\n            this.xuLyCachGiaiQuyetArray = this.yeuCauKhamBenh.CachGiaiQuyet.trim().split(\";\");\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.ChoVeKeDonStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.ChoVeKhongToaStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.HenTaiKhamStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.DieuTriNgoaiTruStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.NhapVienStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.ChuyenVienStr1)) {\n                    this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                    break;\n                }\n            }\n            this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n            this.xuLyCachGiaiQuyetArray.forEach(element => {\n                let format = this.yeuCauKhamBenh.CachGiaiQuyet != null && this.yeuCauKhamBenh.CachGiaiQuyet != \"\" ? \"; \" : this.yeuCauKhamBenh.CachGiaiQuyet;\n                this.yeuCauKhamBenh.CachGiaiQuyet += format + element;\n            });\n\n            if (this.yeuCauKhamBenh.CachGiaiQuyet.includes(this.xuLyCachGiaiQuyet.TuVongStr1) == false) {\n                this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n                let format = this.yeuCauKhamBenh.CachGiaiQuyet != null && this.yeuCauKhamBenh.CachGiaiQuyet != \"\" ? \"; \" : this.yeuCauKhamBenh.CachGiaiQuyet;\n                this.yeuCauKhamBenh.CachGiaiQuyet += format + this.xuLyCachGiaiQuyet.TuVongStr1;\n            }\n            if (this.yeuCauKhamBenh.CoKeToa == true) {\n                if (this.datathuoc.length > 0 || this.datavt.length > 0) {\n                    this.xoaDonThuoc(yeuKhamBenhModel);\n                } else {\n                    this.yeuCauKhamBenh.CoKeToa = null;\n                }\n            }\n            this.yeuCauKhamBenh.KhongKeToa = null;\n            this.yeuCauKhamBenh.CoTaiKham = null;\n            this.yeuCauKhamBenh.NgayTaiKham = null;\n            this.yeuCauKhamBenh.GhiChuTaiKham = null;\n            this.yeuCauKhamBenh.CoDieuTriNgoaiTru = null;\n            this.yeuCauKhamBenh.YeuCauDichVuKyThuat = new YeuCauDichVuKyThuatViewModel();\n            this.yeuCauKhamBenh.CoNhapVien = null;\n            this.yeuCauKhamBenh.KhoaPhongNhapVienId = null;\n            this.yeuCauKhamBenh.LyDoNhapVien = null;\n\n            this.yeuCauKhamBenh.CoChuyenVien = null;\n            this.yeuCauKhamBenh.BenhVienChuyenVienId = null;\n            this.yeuCauKhamBenh.TinhTrangBenhNhanChuyenVien = null;\n            this.yeuCauKhamBenh.LoaiLyDoChuyenVien = 1;\n            this.yeuCauKhamBenh.LyDoChuyenVien = null;\n            this.yeuCauKhamBenh.KetQuaXetNghiemCLS = null;\n            this.yeuCauKhamBenh.PhuongPhapTrongDieuTri = null;\n\n            this.yeuCauKhamBenh.ThoiDiemChuyenVien = new Date();\n            this.yeuCauKhamBenh.NhanVienHoTongChuyenVienId = null;\n            this.yeuCauKhamBenh.PhuongTienChuyenVien = null;\n\n\n        } else {\n            // Xử lý cách giải quyết\n            if (this.yeuCauKhamBenh.CachGiaiQuyet.indexOf(\";\")) {\n                this.xuLyCachGiaiQuyetArray = this.yeuCauKhamBenh.CachGiaiQuyet.trim().split(\";\");\n                for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                    if (this.xuLyCachGiaiQuyetArray[i].includes(this.xuLyCachGiaiQuyet.TuVongStr1)) {\n                        this.xuLyCachGiaiQuyetArray.splice(i, 1);\n                        break;\n                    }\n                }\n                this.yeuCauKhamBenh.CachGiaiQuyet = \"\";\n                for (let i = 0; i < this.xuLyCachGiaiQuyetArray.length; i++) {\n                    this.yeuCauKhamBenh.CachGiaiQuyet += this.xuLyCachGiaiQuyetArray[i] + \";\";\n                }\n                if (this.yeuCauKhamBenh.CachGiaiQuyet.lastIndexOf(\";\")) {\n                    this.yeuCauKhamBenh.CachGiaiQuyet = this.yeuCauKhamBenh.CachGiaiQuyet.substring(0, this.yeuCauKhamBenh.CachGiaiQuyet.lastIndexOf(\";\"));\n                }\n            }\n        }\n        this.removeValidator();\n        this.changeData();\n    }\n\n    xoaDonThuoc(model: any) {\n        this.apiService.post<any>(\"KhamBenh/KiemTraDonThuocDaXuatHayDaThanhToan\", model).subscribe(\n            (res) => {\n                if (!res) {\n                    this.dialog.open(NotificationComponent, {\n                        disableClose: false,\n                        width: '400px',\n                        data: { Title: \"THÔNG BÁO\", Message: \"Hiện tại có đơn thuốc/vật tư đã xuất/thanh toán. Vui lòng hủy phiếu xuất/thanh toán trước khi chuyển cách giải quyết.\" }\n                    }).afterClosed().subscribe(result => {\n                        if (this.yeuCauKhamBenh.CoNhapVien == true) {\n                            this.yeuCauKhamBenh.CoNhapVien = null;\n                        }\n                        if (this.yeuCauKhamBenh.CoChuyenVien == true) {\n                            this.yeuCauKhamBenh.CoChuyenVien = null;\n                        }\n                        if (this.yeuCauKhamBenh.CoTuVong == true) {\n                            this.yeuCauKhamBenh.CoTuVong = null;\n                        }\n                    });\n                } else {\n                    this.deletingPage()\n                    this.apiService.post<any>(\"KhamBenh/XoaDonThuoc\", model).subscribe(\n                        () => {\n                            this.yeuCauKhamBenh.CoKeToa = null;\n                            if (this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhDonVTYTs.length < 0) {\n                                this.benhNhanHienTai.YeuCauKhamBenh.IsShowGridVatTu = false;\n                            }\n                            this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xóa\"]));\n                            this.closePopupDeletingData();\n                        },\n                        (err: ApiError) => {\n                            this.validationErrors = err.ValidationErrors;\n                            if (err.Message != \"Validation Failed\") {\n                                this.notificationService.showError(err.Message);\n                            }\n                            this.yeuCauKhamBenh.CoKeToa = true;\n                            // if (this.yeuCauKhamBenh.CoNhapVien == true) {\n                            //     this.yeuCauKhamBenh.CoNhapVien = null;\n                            // }\n                            // if (this.yeuCauKhamBenh.CoChuyenVien == true) {\n                            //     this.yeuCauKhamBenh.CoChuyenVien = null;\n                            // }\n                            // if (this.yeuCauKhamBenh.CoTuVong == true) {\n                            //     this.yeuCauKhamBenh.CoTuVong = null;\n                            // }\n                            this.closePopupDeletingData();\n                        });\n                }\n            },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.yeuCauKhamBenh.CoKeToa = true;\n                this.closePopupDeletingData();\n            });\n    }\n    xemChanDoan() {\n        this.dialog.open(ChanDoanCuaBacSiKhacPopupComponent, {\n            disableClose: false,\n            width: '1000px',\n            data: { Model: this.yeuCauKhamBenh, Title: \"\" }\n        }).afterClosed().subscribe(() => {\n        });\n    }\n    selectChangeKhoa(event: any) {\n        //console.log(event);\n        if (event != undefined && event != null) {\n            this.yeuCauKhamBenh.TenKhoaPhongNhapVien = event.DisplayName;\n        }\n        this.changeData();\n    }\n\n    getHuongDieuTriHangBenhVien() {\n        if (this.yeuCauKhamBenh.BenhVienChuyenVienId != null) {\n            this.apiService.post<any>(\"KhamBenh/GetBenhViens?benhVienId=\" + this.yeuCauKhamBenh.BenhVienChuyenVienId).subscribe(\n                resultData => {\n                    if (this.benhNhanHienTai.YeuCauTiepNhan.BenhVienHienTai.HangBenhVien < resultData.HangBenhVien) {\n                        this.coLyDoChuyenVien = true;\n                    }\n                })\n        }\n    }\n\n    selectChangeBenhVien(event: any) {\n        if (event != undefined && event != null) {\n            this.yeuCauKhamBenh.TenBenhVienChuyenVien = event.DisplayName;\n            let benhVienId = event.KeyId;\n            this.apiService.post<any>(\"KhamBenh/GetBenhViens?benhVienId=\" + benhVienId).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        //console.log(resultData);\n                        if (this.benhNhanHienTai.YeuCauTiepNhan.BenhVienHienTai != null\n                            && this.benhNhanHienTai.YeuCauTiepNhan.BenhVienHienTai.HangBenhVien < resultData.HangBenhVien) {\n                            this.coLyDoChuyenVien = true;\n                        }\n                    }\n                })\n        } else {\n            this.coLyDoChuyenVien = false;\n            this.yeuCauKhamBenh.LoaiLyDoChuyenVien = 1;\n            this.yeuCauKhamBenh.TinhTrangBenhNhanChuyenVien = null;\n            //this.yeuCauKhamBenh.ThoiDiemChuyenVien = null;\n            this.yeuCauKhamBenh.LyDoChuyenVien = null;\n            this.yeuCauKhamBenh.KetQuaXetNghiemCLS = null;\n            this.yeuCauKhamBenh.PhuongPhapTrongDieuTri = null;\n            this.yeuCauKhamBenh.NhanVienHoTongChuyenVienId = null;\n            this.yeuCauKhamBenh.PhuongTienChuyenVien = null;\n\n        }\n        this.removeValidator();\n        this.changeData();\n    }\n    selectChangeNhanVienHoTong(event: any) {\n        if (event != undefined && event != null) {\n            this.yeuCauKhamBenh.NhanVienHoTongChuyenVienId = event.KeyId;\n            this.yeuCauKhamBenh.HoTenNhanVienHoTong = event.TenNhanVien;\n        } else {\n            this.yeuCauKhamBenh.NhanVienHoTongChuyenVienId = undefined;\n            this.yeuCauKhamBenh.HoTenNhanVienHoTong = null;\n        }\n        this.removeValidator();\n        this.changeData();\n    }\n\n    scrollTo(element) {\n        jQuery('.sidenav-content').animate({ scrollTop: jQuery('#' + element).position().top + 85 });\n    }\n\n    @HostListener('document:keydown', ['$event'])\n    keyEvent(event: KeyboardEvent) {\n        var self = this;\n\n        // ctrl + F7\n        if (event.ctrlKey && event.keyCode == 118) {\n            event.preventDefault();\n            // if (self.yeuCauKhamBenh.CoNhapVien != true && !self.yeuCauKhamBenh.CoChuyenVien && !self.yeuCauKhamBenh.CoTuVong) {\n            //     self.yeuCauKhamBenh.CoKeToa = true;\n            //     self.boCheckDeXoaToaThuoc(true);\n            // }\n\n            //BVHD-3575\n            if(self.yeuCauKhamBenh.LaChiDinhTuNoiTru != true)\n            {\n                self.yeuCauKhamBenh.CoKeToa = true;\n                self.boCheckDeXoaToaThuoc(true);\n                setTimeout(function () {\n                    self.scrollTo('ChoVeKeDonThuoc');\n                }, 100);\n            }\n        }\n\n        //ctrl + F8\n        if (event.ctrlKey && event.keyCode == 119) {\n            event.preventDefault();\n            // if (self.yeuCauKhamBenh.CoNhapVien != true && !self.yeuCauKhamBenh.CoChuyenVien && !self.yeuCauKhamBenh.CoTuVong) {\n            //     self.yeuCauKhamBenh.CoTaiKham = true;\n            // }\n            self.yeuCauKhamBenh.CoTaiKham = true;\n\n            setTimeout(function () {\n                self.scrollTo('HenTaiKham');\n                self.boCheckDeXoaTaiKham();\n            }, 100);\n        }\n\n        //ctrl + F9\n        if (event.ctrlKey && event.keyCode == 120) {\n            event.preventDefault();\n            // if (self.yeuCauKhamBenh.CoNhapVien != true && !self.yeuCauKhamBenh.CoChuyenVien && !self.yeuCauKhamBenh.CoTuVong) {\n            //     self.yeuCauKhamBenh.CoDieuTriNgoaiTru = true;\n            // }\n            self.yeuCauKhamBenh.CoDieuTriNgoaiTru = true;\n\n            setTimeout(function () {\n                self.scrollTo('CoDieuTriNgoaiTru');\n                self.boCheckDeXoaDieuTriNgoaiChu(true);\n            }, 100);\n        }\n\n        //ctrl + F10\n        if (event.ctrlKey && event.keyCode == 121) {\n            event.preventDefault();\n            // if (self.yeuCauKhamBenh.CoKeToa != true && !self.yeuCauKhamBenh.CoTaiKham && !self.yeuCauKhamBenh.CoTuVong) {\n            //     self.yeuCauKhamBenh.CoNhapVien = true;\n            //     self.boCheckDeXoaNhapVien(self.yeuCauKhamBenh.CoNhapVien);\n            // }\n\n            //BVHD-3575\n            if (self.yeuCauKhamBenh.LaChiDinhTuNoiTru != true) {\n                self.yeuCauKhamBenh.CoNhapVien = true;\n                self.boCheckDeXoaNhapVien(self.yeuCauKhamBenh.CoNhapVien);\n                setTimeout(function () {\n                    self.scrollTo('NhapVien');\n                }, 100);\n            }\n        }\n\n        //ctrl + F11\n        if (event.ctrlKey && event.keyCode == 122) {\n            event.preventDefault();\n            // if (self.yeuCauKhamBenh.CoKeToa != true && !self.yeuCauKhamBenh.CoTaiKham && !self.yeuCauKhamBenh.CoTuVong) {\n            //     self.yeuCauKhamBenh.CoChuyenVien = true;\n            //     self.boCheckDeXoaChuyenVien(self.yeuCauKhamBenh.CoChuyenVien);\n            // }\n            self.yeuCauKhamBenh.CoChuyenVien = true;\n            self.boCheckDeXoaChuyenVien(self.yeuCauKhamBenh.CoChuyenVien);\n            setTimeout(function () {\n                self.scrollTo('ChuyenVien');\n            }, 100);\n        }\n\n        //ctrl + F12\n        if (event.ctrlKey && event.keyCode == 123) {\n            event.preventDefault();\n            // if (self.yeuCauKhamBenh.CoKeToa != true && !self.yeuCauKhamBenh.CoTaiKham) {\n            //     self.yeuCauKhamBenh.CoTuVong = true;\n            //     self.coCheckTuVong(self.yeuCauKhamBenh.CoTuVong);\n            // }\n            self.yeuCauKhamBenh.CoTuVong = true;\n            self.coCheckTuVong(self.yeuCauKhamBenh.CoTuVong);\n            setTimeout(function () {\n                self.scrollTo('CoTuVong');\n            }, 100);\n        }\n    }\n    removeValidator() {\n        if (this.validationErrors != undefined && this.validationErrors != null && this.validationErrors != []) {\n            let lenValidate = this.validationErrors.length;\n            if (lenValidate > 0 && lenValidate != undefined && lenValidate != null) {\n                for (let i = 0; i < lenValidate; i++) {\n                    if (this.validationErrors[i].Field === \"NgayTaiKham\") {\n                        this.validationErrors.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n            else {\n                return null;\n            }\n        }\n        if (this.validationErrors != undefined && this.validationErrors != null && this.validationErrors != []) {\n            let lenValidate = this.validationErrors.length;\n            if (lenValidate > 0 && lenValidate != undefined && lenValidate != null) {\n                for (let i = 0; i < lenValidate; i++) {\n                    if (this.validationErrors[i].Field === \"YeuCauDichVuKyThuat.SoLan\") {\n                        this.validationErrors.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n            else {\n                return null;\n            }\n        }\n        if (this.validationErrors != undefined && this.validationErrors != null && this.validationErrors != []) {\n            let lenValidate = this.validationErrors.length;\n            if (lenValidate > 0 && lenValidate != undefined && lenValidate != null) {\n                for (let i = 0; i < lenValidate; i++) {\n                    if (this.validationErrors[i].Field === \"YeuCauDichVuKyThuat.ThoiDiemBatDauDieuTri\") {\n                        this.validationErrors.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n            else {\n                return null;\n            }\n        }\n        if (this.validationErrors != undefined && this.validationErrors != null && this.validationErrors != []) {\n            let lenValidate = this.validationErrors.length;\n            if (lenValidate > 0 && lenValidate != undefined && lenValidate != null) {\n                for (let i = 0; i < lenValidate; i++) {\n                    if (this.validationErrors[i].Field === \"YeuCauDichVuKyThuat.DichVuKyThuatBenhVienId\") {\n                        this.validationErrors.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n            else {\n                return null;\n            }\n        }\n        if (this.validationErrors != undefined && this.validationErrors != null && this.validationErrors != []) {\n            let lenValidate = this.validationErrors.length;\n            if (lenValidate > 0 && lenValidate != undefined && lenValidate != null) {\n                for (let i = 0; i < lenValidate; i++) {\n                    if (this.validationErrors[i].Field === \"KhoaPhongNhapVienId\") {\n                        this.validationErrors.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n            else {\n                return null;\n            }\n        }\n        if (this.validationErrors != undefined && this.validationErrors != null && this.validationErrors != []) {\n            let lenValidate = this.validationErrors.length;\n            if (lenValidate > 0 && lenValidate != undefined && lenValidate != null) {\n                for (let i = 0; i < lenValidate; i++) {\n                    if (this.validationErrors[i].Field === \"BenhVienChuyenVienId\") {\n                        this.validationErrors.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n            else {\n                return null;\n            }\n        }\n        if (this.validationErrors != undefined && this.validationErrors != null && this.validationErrors != []) {\n            let lenValidate = this.validationErrors.length;\n            if (lenValidate > 0 && lenValidate != undefined && lenValidate != null) {\n                for (let i = 0; i < lenValidate; i++) {\n                    if (this.validationErrors[i].Field === \"ThoiDiemChuyenVien\") {\n                        this.validationErrors.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n            else {\n                return null;\n            }\n        }\n\n        if (this.validationErrors != undefined && this.validationErrors != null && this.validationErrors != []) {\n            let lenValidate = this.validationErrors.length;\n            if (lenValidate > 0 && lenValidate != undefined && lenValidate != null) {\n                for (let i = 0; i < lenValidate; i++) {\n                    if (this.validationErrors[i].Field === \"NhanVienHoTongChuyenVienId\") {\n                        this.validationErrors.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n            else {\n                return null;\n            }\n        }\n\n        if (this.validationErrors != undefined && this.validationErrors != null && this.validationErrors != []) {\n            let lenValidate = this.validationErrors.length;\n            if (lenValidate > 0 && lenValidate != undefined && lenValidate != null) {\n                for (let i = 0; i < lenValidate; i++) {\n                    if (this.validationErrors[i].Field === \"CachGiaiQuyet\") {\n                        this.validationErrors.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n            else {\n                return null;\n            }\n        }\n    }\n\n    hideTextBoxLoiDan(event: any) {\n        // if (event) {\n        //     this.benhNhanHienTai.YeuCauKhamBenh.IsShowTextBoxLoiDan = true;\n        // }\n        // else {\n        //     this.benhNhanHienTai.YeuCauKhamBenh.IsShowTextBoxLoiDan = false;\n        // }\n\n    }\n\n    dataThuoc(event: any) {\n        this.datathuoc = event;\n    }\n\n    dataVatTu(event: any) {\n        this.datavt = event;\n    }\n    validationErrorsOut(event: any) {\n        this.validationErrors = event;\n    }\n    openCombobox(event: any) {\n        if (event) {\n            this.isSelectDuocPham = true;\n        }\n        else {\n            this.isSelectDuocPham = false;\n        }\n    }\n\n\n}\n","export default \".span-result-information {\\n  font-weight: bold;\\n}\\n\\n.content-2 {\\n  margin-top: 30px !important;\\n}\\n\\n.content-1 {\\n  border-bottom: 1px solid var(--foreground-divider);\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline !important;\\n}\\n\\ntable {\\n  width: 100%;\\n  background-color: white;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\ntable th {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\ntable th.w-250 {\\n  width: 250px;\\n}\\n\\ntable tr.bg-light-red {\\n  background-color: #eaa3a3;\\n}\\n\\n.order-color {\\n  display: flex;\\n  flex-direction: row;\\n  gap: 15px;\\n  justify-content: flex-end;\\n  align-items: center;\\n}\\n\\n.order-color .set-color {\\n  padding: 10px 40px;\\n}\\n\\n.order-color .set-color.black {\\n  background-color: black;\\n}\\n\\n.order-color .set-color.red {\\n  background-color: red;\\n}\\n\\n.order-color .set-color.blue {\\n  background-color: blue;\\n}\\n\\n.div-header {\\n  justify-content: space-between !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2V0LXF1YS1jbHMvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxraGFtLWJlbmhcXGtoYW0tYmVuaFxcbGFuLWtoYW0taGllbi10YWlcXGxhbi1raGFtLWhpZW4tdGFpLWtldC1xdWEtY2xzXFxsYW4ta2hhbS1oaWVuLXRhaS1rZXQtcXVhLWNscy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2V0LXF1YS1jbHMvbGFuLWtoYW0taGllbi10YWkta2V0LXF1YS1jbHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UsMkJBQUE7QUNDRjs7QURFQTtFQUNFLGtEQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLDhCQUFBO0VBQ0Esa0NBQUE7RUFDQSwrQkFBQTtFQUNBLGdDQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsMEJBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7RUFDQSx5QkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsdUJBQUE7QUNDRjs7QURFQTtFQUNFLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSxzQkFBQTtBQ0NGOztBREVBO0VBQ0UseUNBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLWtldC1xdWEtY2xzL2xhbi1raGFtLWhpZW4tdGFpLWtldC1xdWEtY2xzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNwYW4tcmVzdWx0LWluZm9ybWF0aW9uIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5jb250ZW50LTIge1xuICBtYXJnaW4tdG9wOiAzMHB4ICFpbXBvcnRhbnQ7XG59XG5cbi5jb250ZW50LTEge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tZm9yZWdyb3VuZC1kaXZpZGVyKTtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnQ7XG59XG5cbnRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbn1cblxudGFibGUgdGgge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxudGFibGUgdGgudy0yNTAge1xuICB3aWR0aDogMjUwcHg7XG59XG5cbnRhYmxlIHRyLmJnLWxpZ2h0LXJlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlYWEzYTM7XG59XG5cbi5vcmRlci1jb2xvciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGdhcDogMTVweDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLm9yZGVyLWNvbG9yIC5zZXQtY29sb3Ige1xuICBwYWRkaW5nOiAxMHB4IDQwcHg7XG59XG5cbi5vcmRlci1jb2xvciAuc2V0LWNvbG9yLmJsYWNrIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XG59XG5cbi5vcmRlci1jb2xvciAuc2V0LWNvbG9yLnJlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbn1cblxuLm9yZGVyLWNvbG9yIC5zZXQtY29sb3IuYmx1ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XG59XG5cbi5kaXYtaGVhZGVyIHtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuICFpbXBvcnRhbnQ7XG59IiwiLnNwYW4tcmVzdWx0LWluZm9ybWF0aW9uIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5jb250ZW50LTIge1xuICBtYXJnaW4tdG9wOiAzMHB4ICFpbXBvcnRhbnQ7XG59XG5cbi5jb250ZW50LTEge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tZm9yZWdyb3VuZC1kaXZpZGVyKTtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnQ7XG59XG5cbnRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbn1cblxudGFibGUgdGgge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxudGFibGUgdGgudy0yNTAge1xuICB3aWR0aDogMjUwcHg7XG59XG5cbnRhYmxlIHRyLmJnLWxpZ2h0LXJlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlYWEzYTM7XG59XG5cbi5vcmRlci1jb2xvciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGdhcDogMTVweDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLm9yZGVyLWNvbG9yIC5zZXQtY29sb3Ige1xuICBwYWRkaW5nOiAxMHB4IDQwcHg7XG59XG5cbi5vcmRlci1jb2xvciAuc2V0LWNvbG9yLmJsYWNrIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XG59XG5cbi5vcmRlci1jb2xvciAuc2V0LWNvbG9yLnJlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbn1cblxuLm9yZGVyLWNvbG9yIC5zZXQtY29sb3IuYmx1ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XG59XG5cbi5kaXYtaGVhZGVyIHtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, ViewChild, TemplateRef, Input, ChangeDetectorRef, ViewRef } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icAttachFile from '@iconify/icons-ic/attach-file';\nimport icVisibility from '@iconify/icons-ic/visibility';\nimport { MatDialog } from '@angular/material';\nimport { GroupDescriptor, SortDescriptor } from '@progress/kendo-data-query';\nimport { HttpParams } from '@angular/common/http';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { saveFile } from 'src/app/core/utilities/file-download.helper';\nimport { RequestOptions, ResponseContentType, Http } from '@angular/http';\nimport download from '@iconify/icons-ic/twotone-cloud-download';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { YeuCauXetNghiemLaiComponent } from '../yeu-cau-xet-nghiem-lai-popup/yeu-cau-xet-nghiem-lai-popup.component';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { DanhSachGoiXetNghiemLai, GoiLaiYeuCauXetNghiem, InPhieuXetNghiem, LichSuYeuCauChayLai, ListKetQuaXetNghiem, PhieuInXetNghiemVo, ThongTinXetNghiemChiTiet } from '../../../kham-benh.model';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { PhieuInXetNghiemComponent } from '../phieu-in-xet-nghiem-popup/phieu-in-xet-nghiem-popup.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { LayMauXetNghiemKetQuaPopupComponent } from '../lay-mau-xet-nghiem-ket-qua-popup/lay-mau-xet-nghiem-ket-qua-popup.component';\nimport { XemKetQuaCdhaTdcnPopupComponent } from 'src/app/modules/main/can-lam-sang/lich-su-can-lam-sang/xem-ket-qua-cdha-tdcn-popup/xem-ket-qua-cdha-tdcn-popup.component';\nimport { ChonLoaiKetQuaXetNghiemPopupComponent } from 'src/app/modules/main/xet-nghiem/duyet-ket-qua/chon-loai-ket-qua-xet-nghiem-popup/chon-loai-ket-qua-xet-nghiem-popup.component';\nimport { InPhieuKetQuaLayMau } from 'src/app/modules/main/xet-nghiem/lay-mau-xet-nghiem/lay-mau-xet-nghiem.model';\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport { FormControl } from '@angular/forms';\nimport { LayMauXetNghiemKetQuaMotFilePopupComponent } from '../lay-mau-xet-nghiem-ket-qua-mot-file-popup/lay-mau-xet-nghiem-ket-qua-mot-file-popup.component';\n\ndeclare var jQuery: any;\ndeclare var $: any;\n@Component({\n  selector: 'app-lan-kham-hien-tai-ket-qua-cls',\n  templateUrl: './lan-kham-hien-tai-ket-qua-cls.component.html',\n  styleUrls: ['./lan-kham-hien-tai-ket-qua-cls.component.scss']\n})\nexport class LanKhamHienTaiKetQuaClsComponent implements OnInit {\n  @Input() YeuCauTiepNhanId: number;\n  dataPopup: any;\n  icAttachFile = icAttachFile;\n  icVisibility = icVisibility;\n  icSearch = icSearch;\n  searchCtrl = new FormControl;\n  \n  @ViewChild(GridComponent, { static: true }) gridChild: GridComponent;\n  //documentType: DocumentType;\n  gridColumns: any[] = [];\n  gridXetNghiemColumns: any[] = [];\n\n  dataSourceXetNghiem: any = { data: [], total: 0 }\n\n  gridChildColumns: any[] = [];\n  danhSachGoiXetNghiemLai: DanhSachGoiXetNghiemLai[] = [];\n  thongTinXetNghiemChiTiet: ThongTinXetNghiemChiTiet[] = [];\n  validationErrors: any = null;\n  phieuInXetNghiemVo = new PhieuInXetNghiemVo;\n  lichSuYeuCauChayLais: LichSuYeuCauChayLai[] = [];\n\n  srcDatahtml: string[] = [];\n  popupLoadingData: any;\n  arrFilePdf: Array<any> = [];\n  arrFileUrl: Array<any> = [];\n\n  urlGetDataGrid: string = \"KhamBenh/GetDataForGridKetQuaCLS\";\n  urlGetTotalPageGrid: string = \"KhamBenh/GetTotalPageForGridKetQuaCLS\";\n  \n  download = download;\n  @ViewChild('trangThaiTemplate', { static: true }) trangThaiTemplate: TemplateRef<any>;\n  @ViewChild('xemKetQuaActionTemplate', { static: true }) xemKetQuaActionTemplate: TemplateRef<any>;\n\n  @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n  @ViewChild('gridCLS', { read: GridComponent, static: false }) gridCLS: GridComponent;\n\n  @ViewChild('tenTemplate', { static: true }) tenTemplate: TemplateRef<any>;\n  @ViewChild('kqCuTemplate', { static: true }) kqCuTemplate: TemplateRef<any>;\n  @ViewChild('kqTuMayTemplate', { static: true }) kqTuMayTemplate: TemplateRef<any>;\n  @ViewChild('kqNhapTayTemplate', { static: true }) kqNhapTayTemplate: TemplateRef<any>;\n  @ViewChild('kqDuyetTemplate', { static: true }) kqDuyetTemplate: TemplateRef<any>;\n  @ViewChild('damKQTemplate', { static: true }) damKQTemplate: TemplateRef<any>;\n  @ViewChild('chiSoBinhThuongTemplate', { static: true }) chiSoBinhThuongTemplate: TemplateRef<any>;\n  @ViewChild('donViTinhTemplate', { static: true }) donViTinhTemplate: TemplateRef<any>;\n  @ViewChild('gioTiepNhanTemplate', { static: true }) gioTiepNhanTemplate: TemplateRef<any>;\n  @ViewChild('gioNhanMauTemplate', { static: true }) gioNhanMauTemplate: TemplateRef<any>;\n  @ViewChild('mayXNTemplate', { static: true }) mayXNTemplate: TemplateRef<any>;\n  @ViewChild('nguoiDuyetTemplate', { static: true }) nguoiDuyetTemplate: TemplateRef<any>;\n  @ViewChild('ngayDuyetTemplate', { static: true }) ngayDuyetTemplate: TemplateRef<any>;\n  @ViewChild('gridDuyetYeuCauChayLaiXN', { static: false }) gridDuyetYeuCauChayLaiXN: GridComponent;\n\n  @ViewChild('checkBoxTemplate', { static: true }) checkBoxTemplate: TemplateRef<any>;\n  @ViewChild('checkBoxHeaderTemplate', { static: true }) checkBoxHeaderTemplate: TemplateRef<any>;\n  @ViewChild('nhomTemplate', { static: true }) nhomTemplate: TemplateRef<any>;\n  @ViewChild('kqMoiTemplate', { static: true }) kqMoiTemplate: TemplateRef<any>;\n  \n  searchString : any;\n  \n  dataChildDisplay: ListKetQuaXetNghiem[] = new Array<ListKetQuaXetNghiem>();\n  dataChildTamDisplay: ListKetQuaXetNghiem[] = new Array<ListKetQuaXetNghiem>();\n\n  gridNhomXetNghiemColumns: any[] = [];\n  constructor(private ref: ChangeDetectorRef, private notificationService: NotificationService, private authService: AuthService, private dialog: MatDialog, private apiService: ApiService, private http: Http) { }  \n\n  @Input() documentType: DocumentType = DocumentType.DanhSachDieuTriNoiTru;\n  @Input() isReadOnly: false; //<= sau này ai làm action nào thêm/xóa/sửa data đều phải check ẩn hịn bằng biesn này\n  public trangThaiXetNghiemLaiDaGoi: boolean;\n\n  sort: SortDescriptor[] = [{ field: \"Id\", dir: \"asc\" }];\n  groups: GroupDescriptor[] = [{ field: 'LoaiKetQuaCLS' }];\n  groupXNs: GroupDescriptor[] = [{ field: 'Nhom' }];\n  checkAll: boolean = null;\n\n  ngOnInit() { \n    //=============================================================Chuẩn đoán hình ảnh và thăm dò chức năng============================\n    this.gridColumns = [\n      { Field: \"LoaiKetQuaCLS\", Title: \"\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n      { Field: \"NoiDung\", Title: \"Nội dung\", MinWidth: 250, Sortable: true },\n      { Field: \"NguoiThucHien\", Title: \"Người Thực hiện\", Width: 120, Sortable: true },\n      { Field: \"NgayThucHien\", Title: \"Ngày thực hiện\", Width: 120, Sortable: true },\n      { Field: \"BacSiKetLuan\", Title: \"Người kết luận\", Width: 120, Sortable: true },\n      { Field: \"NgayKetLuan\", Title: \"Ngày kết luận\", Width: 120, Sortable: true },\n      { Field: \"ChuanDoan\", Title: \"Ghi chú\", Width: 120, Sortable: true },\n      { Field: \"XemKetQua\", Title: \"Xem KQ\", Width: 100, Template: this.xemKetQuaActionTemplate } \n    ];\n\n    //=============================================================Chuẩn đoán hình ảnh và thăm dò chức năng============================    \n    this.gridXetNghiemColumns = [\n      { Field: \"Nhom\", Title: \"\", Sortable: false, Hidden: true, HideFilter: true, TemplateGroupHeader: this.nhomTemplate },\n      // { Field: \"CheckBox\", Title: \"\", Width: 35, Template: this.checkBoxTemplate, TemplateHeader: this.checkBoxHeaderTemplate },//, Hidden: this.type == 4 \n      { Field: \"Ten\", Title: \"Tên\", Width: 150, Sortable: false, Template: this.tenTemplate, ShowTooltip: true },\n      { Field: \"KetQuaCu\", Title: \"KQ Cũ\", Width: 80, Sortable: false, Template: this.kqCuTemplate },\n      { Field: \"KetQuaMoi\", Title: \"KQ Mới\", Width: 80, Sortable: false, Template: this.kqMoiTemplate },\n      { Field: \"Csbt\", Title: \"CSBT\", Width: 80, Sortable: false, Template: this.kqNhapTayTemplate },    \n      { Field: \"DonVi\", Title: \"Đơn vị\", Width: 80, Sortable: true },\n      // { Field: \"TenMayXetNghiem\", Title: \"Máy XN\", Width: 90, Sortable: true },\n      { Field: \"NguoiDuyet\", Title: \"Người duyệt\", Width: 100, Sortable: true },\n      { Field: \"ThoiDiemDuyetKetQuaDisplay\", Title: \"Ngày duyệt\", Width: 100, Sortable: true },\n    ];\n\n    this.getThongTinXetNghiem();\n  }\n\n  getThongTinXetNghiem() {\t\t\n\t\tif (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {     \n\t\t\tthis.apiService.get(`KhamBenh/GetDataForGridXetNghiemKetQuaCLS?yeuCauTiepNhanId=` + this.YeuCauTiepNhanId).subscribe((response: any) => {\n\t\t\t\tif (response != undefined && response != null) {\t\n          this.dataSourceXetNghiem.data = response.Data;\n          this.dataSourceXetNghiem.total = response.Data.length;\n          this.dataChildTamDisplay = response.Data;\n          this.setDataSourceForGrid();\n\t\t\t\t}\t\t\t\n\t\t\t}, (err: ApiError) => {\n\t\t\t\terr.ValidationErrors == null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) :\n\t\t\t\t\tthis.validationErrors = err.ValidationErrors;\t\t\t\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.notificationService.showError(SystemMessage.UnAuthorizedMessage);\t\t\n\t\t}\n\t}\n\n  showPopupLoadingData() {\n    if (this.popupLoadingData == undefined\n      || this.popupLoadingData == null\n      || this.popupLoadingData.openDialogs == undefined\n      || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n      this.popupLoadingData = this.dialog.open(LoadingComponent, {\n        disableClose: true,\n        width: \"200px\",\n        height: \"90px\",\n        data: { Title: \"Đang tải dữ liệu...\" },\n      });\n    }\n  }\n\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n\n  checkBoxChange(event: any, dataItem: any) { }\n  checkBoxAllChange(event: any) { } \n\n  OpenClickPopupXemKetQuaCLS(dataItem) {  \n    this.dialog.open(XemKetQuaCdhaTdcnPopupComponent, {\n      disableClose: false,\n      width: '1000px',\n      data: dataItem.Id\n    }).afterClosed().subscribe(result => {\n    });   \n  }\n\n  downloadFile(dataItem) {\n    this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: 'Đang tải file...' }\n    });\n\n    dataItem.TenGuidList.forEach(element => {\n      const params = new HttpParams({\n        fromObject: {\n          tenGuid: element.TenGuid,\n          duongDan: dataItem.XemKetQua,\n        },\n      });\n      this.apiService\n        .get<any>(\"TaiLieuDinhKem/GetTaiLieuUrl\", params)\n        .subscribe((result) => {\n          console.log(result);\n          this.dataPopup = result;\n          const options = new RequestOptions({ responseType: ResponseContentType.Blob });\n          this.http.get(this.dataPopup, options).subscribe(res => {\n            saveFile(res.blob(), element.TenFile);\n            this.dialog.closeAll();\n          }\n          )\n        });\n    });\n  }\n\n  inPhieuDuyetKetQua: InPhieuKetQuaLayMau = new InPhieuKetQuaLayMau();\n  InPhieuXn() {\n    let dialogRef: any;\n    let dataChiTietXetNghiem: any[] = [];\n    this.apiService.post<any>(\"DuyetKetQuaXetNghiem/GetDataXetNghiemKetQuaIn?yeuCauTiepNhanId=\" + this.YeuCauTiepNhanId).subscribe(\n      (result) => {\n        if (result != null) {\n          result.forEach(element => {\n            if (element.ChiTietKetQuaXetNghiems != null) {\n              element.ChiTietKetQuaXetNghiems.forEach(elements => {\n                dataChiTietXetNghiem.push(elements);\n              });\n            }\n\n          });\n          dialogRef = this.dialog.open(ChonLoaiKetQuaXetNghiemPopupComponent, {\n            disableClose: true,\n            width: '1000px',\n            // height: '300px',\n            data: dataChiTietXetNghiem,\n          }).afterClosed().subscribe((result) => {\n            if (result != undefined && result != null && result != \"\") {\n              if (result == 'No') {\n                this.closePopupLoadingData();\n              }\n              else {\n                this.inPhieuDuyetKetQua.HostingName = window.location.protocol + '//' + window.location.host;\n                this.inPhieuDuyetKetQua.Header = true;\n                this.inPhieuDuyetKetQua.YeuCauTiepNhanId = this.YeuCauTiepNhanId;\n                this.inPhieuDuyetKetQua.LoaiIn = result.LoaiIn;\n                this.inPhieuDuyetKetQua.ListIn = result.ListIn;\n                //this.apiService.postExportPdf<any>('XetNghiem/ExportPdfKetQuaXetNghiem', this.inPhieuDuyetKetQua).subscribe(\n                this.apiService.post<Array<string>>('XetNghiem/GetAllHtmlPdfKetQuaXetNghiem', this.inPhieuDuyetKetQua).subscribe(\n                  arrHtml => {\n                    // const dateTimeNow = new Date();\n                    // CommonService.downLoadFile(resData, 'application/pdf', 'KetQuaXetNghiem' + dateTimeNow.getDate() + dateTimeNow.getMonth() + dateTimeNow.getFullYear() + '.pdf');\n                    //   this.closePopupLoadingData();\n                    this.dialog.open(LayMauXetNghiemKetQuaPopupComponent, {\n                      disableClose: false,\n                      width: '1000px',\n                      data: arrHtml\n                    }).afterClosed().subscribe(result => {\n                    });\n                    this.closePopupLoadingData();\n                  },\n                  (err: ApiError) => {\n                    if (err.Message !== 'Validation Failed') {\n                      this.notificationService.showError(err.Message);\n                    }\n                    this.closePopupLoadingData();\n                  });\n              }\n            }\n          });\n        };\n      },\n      (err: ApiError) => {\n        this.validationErrors = err.ValidationErrors;\n        if (err.Message != \"Validation Failed\") {\n          this.notificationService.showError(err.Message);\n        }\n      });\n  }\n\n  xemKetQua(dataItem) {\n    // if (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n    this.dialog.open(XemKetQuaCdhaTdcnPopupComponent, {\n      disableClose: false,\n      width: '1000px',\n      data: dataItem.Id\n    }).afterClosed().subscribe(result => {\n    });    \n  } \n\n  //================================= Yêu cầu chạy lại xét nghiệm =======================================\n  OpenClickPopupXemKetQuaXNCLS(dataItem) {\n    let phienXetNghiemId = dataItem.PhienXetNghiemId;\n    let nhomDichVuBenhVienId = dataItem.NhomDichVuBenhVienId;\n    this.dialog.open(PhieuInXetNghiemComponent, {\n      disableClose: false,\n      width: '1000px',\n      data: { phienXetNghiemId, nhomDichVuBenhVienId }\n    }).afterClosed().subscribe(res => {\n      if (res == \"Yes\") {\n\n      }\n    });\n  }\n\n  yeuCauChayLaiXN() {\n    let self = this;\n    self.validationErrors = [];\n    self.ref.detectChanges();\n    let goiLaiYeuCauXetNghiem = new GoiLaiYeuCauXetNghiem();\n    goiLaiYeuCauXetNghiem.DanhSachGoiXetNghiemLais = self.danhSachGoiXetNghiemLai;\n    goiLaiYeuCauXetNghiem.ThongTinXetNghiemChiTiets = self.thongTinXetNghiemChiTiet;\n    self.dialog.open(YeuCauXetNghiemLaiComponent, {\n      disableClose: false,\n      width: \"500px\",\n      data: {\n        Title: \"Xác nhận\",\n        Message: \"Bạn có chắc chắn muốn yêu cầu chạy lại xét nghiệm này không ?\",\n        danhSachGoiXetNghiemLai: goiLaiYeuCauXetNghiem\n      },\n    }).afterClosed().subscribe((res) => {\n      if (res !== undefined && res !== null && res !== \"\") {\n        res.DanhSachGoiXetNghiemLais = res.DanhSachGoiXetNghiemLais.filter(c => c.GoiLai == true);\n        self.apiService.post<any>(\"KhamBenh/GoiYeuCauChayLaiXetNghiem\", res)\n          .subscribe(\n            (resultData) => {\n              if (resultData) {\n                self.notificationService.showSuccess(\"Yêu cầu chạy lại xét nghiệm thành công.\");\n              } else {\n                self.notificationService.showError(\"Yêu cầu chạy lại xét nghiệm không thành công.\");\n              }\n              self.gridCLS.search();\n            },\n            (err: ApiError) => {\n              self.validationErrors = err.ValidationErrors;\n              if (err.Message != \"Validation Failed\") {\n                self.notificationService.showError(err.Message);\n              }\n            }\n          );\n      }\n    });\n  }\n\n  huyCauChayLaiXN(phienXetNghiem: any) {\n    let self = this\n    self.dialog.open(ConfirmComponent, {\n      disableClose: false,\n      width: \"500px\",\n      data: {\n        Title: \"Xác nhận\",\n        Message: \"Bạn có chắc chắn muốn hủy yêu cầu chạy lại xét nghiệm này không ?\",\n      },\n    }).afterClosed().subscribe((res) => {\n      if (res == \"Yes\") {\n        if (res !== undefined && res !== null) {\n          self.apiService.post<any>(\"KhamBenh/HuyYeuCauChayLaiXetNghiem/\" + phienXetNghiem)\n            .subscribe(\n              (resultData) => {\n                if (resultData) {\n                  self.notificationService.showSuccess(\"Yêu cầu hủy chạy lại xét nghiệm thành công.\");\n                } else {\n                  self.notificationService.showError(\"Yêu cầu hủy chạy lại xét nghiệmkhông thành công.\");\n                }\n                self.gridCLS.search();\n              },\n              (err: ApiError) => {\n                self.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                  self.notificationService.showError(err.Message);\n                }\n              }\n            );\n        }\n      }\n    });\n  }\n\n  downloadXNCLS(dataItem) {\n    this.phieuInXetNghiemVo.PhienXetNghiemId = dataItem.PhienXetNghiemId;\n    this.phieuInXetNghiemVo.NhomDichVuBenhVienId = dataItem.NhomDichVuBenhVienId;\n    if (window.location.protocol == \"http:\") {\n      this.phieuInXetNghiemVo.HostingName = \"http://\" + window.location.host;\n    } else {\n      this.phieuInXetNghiemVo.HostingName = \"http://\" + window.location.host;\n    }\n    this.apiService.post<Array<string>>('KhamBenh/ExportPdfKetQuaXetNghiem', this.phieuInXetNghiemVo).subscribe(\n      arrHtml => {\n        this.dialog.open(LayMauXetNghiemKetQuaPopupComponent, {\n          disableClose: false,\n          width: '1000px',\n          data: arrHtml\n        }).afterClosed().subscribe(result => {\n        });\n        this.closePopupLoadingData();\n      },\n      (err: ApiError) => {\n        if (err.Message !== 'Validation Failed') {\n          this.notificationService.showError(err.Message);\n        }\n        this.closePopupLoadingData();\n      });\n  }\n\n  lichSuYeuCauChayLai(YeuCauTiepNhanId: any) {\n    this.apiService.get<any>(\"KhamBenh/LichSuYeuCauChayLai/\" + YeuCauTiepNhanId)\n      .subscribe((resData) => {\n        if (resData != null) {\n          this.lichSuYeuCauChayLais = resData;\n        }\n      });\n  }\n\n  searchChanges($event) {\n    this.searchString = $event;\n    if ($event == \"\" || $event == undefined) {\n      this.setDataSourceForGrid();\n    }\n  }\n\n  onKeySearchChanges($event) {\n    if ($event.keyCode == 13) {\n      this.setDataSourceForGrid();\n    }\n  }\n\n  setDataSourceForGrid() {    \n    if (this.searchString == undefined || this.searchString == null || this.searchString == \"\") {\n      this.dataChildDisplay = [...this.dataChildTamDisplay];\n    }\n    else {\n      let search = CommonService.removeVietnamese(this.searchString).toLowerCase().trim().replace(/đ/g, 'd');\n      this.dataChildDisplay = [...this.dataChildTamDisplay].filter(o =>   \n        (o.Ten != null && CommonService.removeVietnamese(o.Ten).toLocaleLowerCase().trim().indexOf(search) != -1)       \n        || (o.DonVi != null && CommonService.removeVietnamese(o.DonVi).toLocaleLowerCase().trim().indexOf(search) != -1)\n        || (o.NguoiDuyet != null && CommonService.removeVietnamese(o.NguoiDuyet).toLocaleLowerCase().trim().indexOf(search) != -1)\n        || (o.NgayDuyetDisplay != null && CommonService.removeVietnamese(o.NgayDuyetDisplay).toLocaleLowerCase().trim().indexOf(search) != -1)\n      );\n    }   \n    this.dataSourceXetNghiem = [];\n    this.dataSourceXetNghiem = { data: this.dataChildDisplay,  total: this.dataChildDisplay.length };\n\n    if (!(this.ref as ViewRef).destroyed) {\n      this.ref.detectChanges();\n    }\n\n    if (this.gridDuyetYeuCauChayLaiXN != undefined) {     \n      this.gridDuyetYeuCauChayLaiXN._gridDataSource = { ...this.dataSourceXetNghiem }\n      this.gridDuyetYeuCauChayLaiXN.setDataSource();      \n    }\n  }\n\n  xemXetNghiemTheoNhom(value : any) {\n    this.showPopupLoadingData();\n    this.apiService.post<any>(\"DuyetKetQuaXetNghiem/GetDataXetNghiemKetQuaIn?yeuCauTiepNhanId=\" + this.YeuCauTiepNhanId).subscribe(\n      (result) => {\n        if (result != null) {\n          let inPhieuXetNghiem = new InPhieuXetNghiem();\n          let dataNhom = this.dataSourceXetNghiem.data.filter(p => p.Nhom == value); \n\n          inPhieuXetNghiem.HostingName = window.location.protocol + '//' + window.location.host;\n          inPhieuXetNghiem.Header = true; \n          inPhieuXetNghiem.YeuCauTiepNhanId = this.YeuCauTiepNhanId;\n          inPhieuXetNghiem.YeuCauDichVuKyThuatId = dataNhom[0].YeuCauDichVuKyThuatId;          \n          inPhieuXetNghiem.NhomDichVuBenhVienId = dataNhom[0].NhomDichVuBenhVienId;\n\n          let arrFileUrl: Array<any> = [];\n          let arrFilePdf: Array<any> = [];\n\n          const promiseKetQuaXetNghiem = this.apiService.postExportPdf<any>('XetNghiem/LayPhieuXNTheoYeuCauKyThuatVaNhomAsync', inPhieuXetNghiem).toPromise();\n          promiseKetQuaXetNghiem.then((file) => {    \n            let newBlob = new Blob([file], { type: \"application/pdf\" });\n            let datalocalURL = window.URL.createObjectURL(newBlob);\n            arrFileUrl.push(datalocalURL);\n            arrFilePdf.push(file);\n            if (arrFilePdf.length > 0) {\n              this.dialog\n                .open(LayMauXetNghiemKetQuaMotFilePopupComponent, {\n                  disableClose: false,\n                  width: \"1000px\",\n                  data: { arrFileUrl, arrFilePdf },\n                })\n                .afterClosed()\n                .subscribe(() => {\n                });\n            }\n            else {\n              this.notificationService.showError(\"Chưa có thông tin dịch vụ.\");\n            };       \n            // this.dialog.open(LayMauXetNghiemKetQuaPopupComponent, {\n            //   disableClose: false,\n            //   width: '1000px',\n            //   data: arrHtml\n            // }).afterClosed().subscribe(result => {\n            // });\n            this.closePopupLoadingData();\n          }).catch((error) => {\n            if (error.Message !== 'Validation Failed') {\n              this.notificationService.showError(error.Message);\n            }\n            this.closePopupLoadingData();\n          });\n        };\n      },\n      (err: ApiError) => {\n        this.validationErrors = err.ValidationErrors;\n        if (err.Message != \"Validation Failed\") {\n          this.notificationService.showError(err.Message);\n          this.closePopupLoadingData();\n        }\n      });\n  }\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n  padding-bottom: 10px;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\n.selectAddViTri {\\n  border: 0px solid #ccc;\\n  width: 120px;\\n  border-radius: 0px;\\n  overflow: hidden;\\n  background: #fafafa;\\n}\\n\\n.selectAddViTri:before {\\n  font-family: \\\"FontAwesome\\\";\\n  position: absolute;\\n  top: 3px;\\n  right: 12px;\\n  font-size: 18px;\\n}\\n\\n.selectAddViTri select {\\n  padding: 5px 8px;\\n  width: 130%;\\n  border: none;\\n  box-shadow: none;\\n  background: transparent;\\n  background-image: none;\\n  -webkit-appearance: none;\\n}\\n\\n.selectAddViTri select:focus {\\n  outline: none;\\n}\\n\\nselect option {\\n  color: black;\\n}\\n\\n.yellowText {\\n  color: yellowgreen;\\n}\\n\\n.redText {\\n  color: red;\\n}\\n\\n.greenText {\\n  color: green;\\n}\\n\\n.orangeText {\\n  color: orange;\\n}\\n\\n.blueText {\\n  color: blue;\\n}\\n\\n.blackText {\\n  color: black;\\n}\\n\\n.styleInChiDinh {\\n  text-align: right;\\n  float: right;\\n  margin-left: 10px;\\n}\\n\\n.styleTinhTong {\\n  border: 1px solid #ccc;\\n  border-radius: 5px;\\n  padding: 15px;\\n  background: #e3f2fd;\\n  text-align: right;\\n  margin: 10px -17px -17px -17px;\\n}\\n\\n.size-icon {\\n  display: inline-block;\\n  height: 20px;\\n  width: 20px;\\n  line-height: 20px;\\n  border-radius: 10px;\\n  background-color: green;\\n  color: #FFF;\\n  text-align: center;\\n}\\n\\n.container-so-do-giuong {\\n  position: relative;\\n  margin-bottom: 16px;\\n}\\n\\n.container-so-do-giuong .so-do-giuong {\\n  text-decoration: underline;\\n  color: blue;\\n  font-style: italic;\\n  position: absolute;\\n  bottom: 0px;\\n}\\n\\n.icon-war-status-grid {\\n  position: absolute;\\n  color: red;\\n  right: 0;\\n  background-color: white;\\n  height: 15px;\\n  top: 2px;\\n}\\n\\n.icon-info-status-grid {\\n  position: absolute;\\n  right: 0;\\n  background-color: white;\\n  height: 15px;\\n  top: 2px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWNoaS1kaW5oL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXGxhbi1raGFtLWhpZW4tdGFpXFxsYW4ta2hhbS1oaWVuLXRhaS1raGFtLWJlbmgtY2hpLWRpbmhcXGxhbi1raGFtLWhpZW4tdGFpLWtoYW0tYmVuaC1jaGktZGluaC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWNoaS1kaW5oL2xhbi1raGFtLWhpZW4tdGFpLWtoYW0tYmVuaC1jaGktZGluaC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0VBQ0Esb0JBQUE7QUNDRjs7QURFQTtFQUNFLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxzQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLDBCQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0Esc0JBQUE7RUFDQSx3QkFBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7QUNDRjs7QURFQTtFQUNFLFVBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7RUFDQSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UscUJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBRUEsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsMEJBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFFBQUE7RUFDQSx1QkFBQTtFQUNBLFlBQUE7RUFDQSxRQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSx1QkFBQTtFQUNBLFlBQUE7RUFDQSxRQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9sYW4ta2hhbS1oaWVuLXRhaS9sYW4ta2hhbS1oaWVuLXRhaS1raGFtLWJlbmgtY2hpLWRpbmgvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWNoaS1kaW5oLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxuLnNlbGVjdEFkZFZpVHJpIHtcbiAgYm9yZGVyOiAwcHggc29saWQgI2NjYztcbiAgd2lkdGg6IDEyMHB4O1xuICBib3JkZXItcmFkaXVzOiAwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGJhY2tncm91bmQ6ICNmYWZhZmE7XG59XG5cbi5zZWxlY3RBZGRWaVRyaTpiZWZvcmUge1xuICBmb250LWZhbWlseTogXCJGb250QXdlc29tZVwiO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogM3B4O1xuICByaWdodDogMTJweDtcbiAgZm9udC1zaXplOiAxOHB4O1xufVxuXG4uc2VsZWN0QWRkVmlUcmkgc2VsZWN0IHtcbiAgcGFkZGluZzogNXB4IDhweDtcbiAgd2lkdGg6IDEzMCU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm94LXNoYWRvdzogbm9uZTtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbn1cblxuLnNlbGVjdEFkZFZpVHJpIHNlbGVjdDpmb2N1cyB7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cbnNlbGVjdCBvcHRpb24ge1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi55ZWxsb3dUZXh0IHtcbiAgY29sb3I6IHllbGxvd2dyZWVuO1xufVxuXG4ucmVkVGV4dCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5ncmVlblRleHQge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5vcmFuZ2VUZXh0IHtcbiAgY29sb3I6IG9yYW5nZTtcbn1cblxuLmJsdWVUZXh0IHtcbiAgY29sb3I6IGJsdWU7XG59XG5cbi5ibGFja1RleHQge1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5zdHlsZUluQ2hpRGluaCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBmbG9hdDogcmlnaHQ7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuXG4uc3R5bGVUaW5oVG9uZyB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgcGFkZGluZzogMTVweDtcbiAgYmFja2dyb3VuZDogI2UzZjJmZDtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIG1hcmdpbjogMTBweCAtMTdweCAtMTdweCAtMTdweDtcbn1cblxuLnNpemUtaWNvbiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgaGVpZ2h0OiAyMHB4O1xuICB3aWR0aDogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIC1tb3otYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiAjRkZGO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5jb250YWluZXItc28tZG8tZ2l1b25nIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xufVxuXG4uY29udGFpbmVyLXNvLWRvLWdpdW9uZyAuc28tZG8tZ2l1b25nIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gIGNvbG9yOiBibHVlO1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiAwcHg7XG59XG5cbi5pY29uLXdhci1zdGF0dXMtZ3JpZCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgY29sb3I6IHJlZDtcbiAgcmlnaHQ6IDA7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBoZWlnaHQ6IDE1cHg7XG4gIHRvcDogMnB4O1xufVxuXG4uaWNvbi1pbmZvLXN0YXR1cy1ncmlkIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGhlaWdodDogMTVweDtcbiAgdG9wOiAycHg7XG59IiwiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxuLnNlbGVjdEFkZFZpVHJpIHtcbiAgYm9yZGVyOiAwcHggc29saWQgI2NjYztcbiAgd2lkdGg6IDEyMHB4O1xuICBib3JkZXItcmFkaXVzOiAwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGJhY2tncm91bmQ6ICNmYWZhZmE7XG59XG5cbi5zZWxlY3RBZGRWaVRyaTpiZWZvcmUge1xuICBmb250LWZhbWlseTogXCJGb250QXdlc29tZVwiO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogM3B4O1xuICByaWdodDogMTJweDtcbiAgZm9udC1zaXplOiAxOHB4O1xufVxuXG4uc2VsZWN0QWRkVmlUcmkgc2VsZWN0IHtcbiAgcGFkZGluZzogNXB4IDhweDtcbiAgd2lkdGg6IDEzMCU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm94LXNoYWRvdzogbm9uZTtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbn1cblxuLnNlbGVjdEFkZFZpVHJpIHNlbGVjdDpmb2N1cyB7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cbnNlbGVjdCBvcHRpb24ge1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi55ZWxsb3dUZXh0IHtcbiAgY29sb3I6IHllbGxvd2dyZWVuO1xufVxuXG4ucmVkVGV4dCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5ncmVlblRleHQge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5vcmFuZ2VUZXh0IHtcbiAgY29sb3I6IG9yYW5nZTtcbn1cblxuLmJsdWVUZXh0IHtcbiAgY29sb3I6IGJsdWU7XG59XG5cbi5ibGFja1RleHQge1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5zdHlsZUluQ2hpRGluaCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBmbG9hdDogcmlnaHQ7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuXG4uc3R5bGVUaW5oVG9uZyB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgcGFkZGluZzogMTVweDtcbiAgYmFja2dyb3VuZDogI2UzZjJmZDtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIG1hcmdpbjogMTBweCAtMTdweCAtMTdweCAtMTdweDtcbn1cblxuLnNpemUtaWNvbiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgaGVpZ2h0OiAyMHB4O1xuICB3aWR0aDogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIC1tb3otYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiAjRkZGO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5jb250YWluZXItc28tZG8tZ2l1b25nIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xufVxuXG4uY29udGFpbmVyLXNvLWRvLWdpdW9uZyAuc28tZG8tZ2l1b25nIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gIGNvbG9yOiBibHVlO1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiAwcHg7XG59XG5cbi5pY29uLXdhci1zdGF0dXMtZ3JpZCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgY29sb3I6IHJlZDtcbiAgcmlnaHQ6IDA7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBoZWlnaHQ6IDE1cHg7XG4gIHRvcDogMnB4O1xufVxuXG4uaWNvbi1pbmZvLXN0YXR1cy1ncmlkIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGhlaWdodDogMTVweDtcbiAgdG9wOiAycHg7XG59Il19 */\"","import { Component, OnInit, Input, TemplateRef, ViewChild, HostListener, Output, EventEmitter, ElementRef, SimpleChanges, NgZone } from '@angular/core';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { MatDialog } from '@angular/material';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { IntlService } from '@progress/kendo-angular-intl';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { State, GroupDescriptor } from '@progress/kendo-data-query';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { LookupItemVo } from 'src/app/shared/models/common.model';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icVisibility from '@iconify/icons-ic/visibility';\nimport icBlock from '@iconify/icons-ic/block';\nimport icMoreHoriz from '@iconify/icons-ic/twotone-more-horiz';\nimport icEdit from '@iconify/icons-ic/view-quilt';\nimport icInfo from '@iconify/icons-ic/twotone-info';\nimport icCheck from '@iconify/icons-ic/twotone-check';\nimport icHotel from '@iconify/icons-ic/baseline-hotel';\nimport icWarning from '@iconify/icons-ic/warning';\nimport icCancel from '@iconify/icons-ic/outline-cancel';\nimport icEditV2 from '@iconify/icons-ic/border-color';\nimport icReturn from '@iconify/icons-ic/arrow-upward';\nimport icDone from '@iconify/icons-ic/twotone-done';\nimport icHistory from '@iconify/icons-ic/twotone-history';\nimport { SelectAllCheckboxState, RowClassArgs } from '@progress/kendo-angular-grid';\nimport {\n    YeuCauKhamBenh,\n    YeuCauDichVuKyThuat,\n    GoiDichVu,\n    GoiCoChietKhau,\n    GoiKhongChietKhau,\n    YeuCauDichVuGiuongBenh,\n    YeuCauVatTuBenhVien,\n    YeuCauGoiDichVu,\n    YeuCauDuocPham,\n    ThongTinDichVuKhamTiepTheo,\n    GridItemYeuCauDichVuKyThuat,\n    ListInChiDinh,\n    LookupCheckItem,\n    TrangThaiYeuCauKhamBenhObjEnum,\n    TrangThaiYeuCauDichVuKyThuatObjEnum,\n    XoaChiDinhViewModel,\n    ChiDinhDichVuKyThuatMultiselectViewModel,\n    ChiDinhGhiNhanVatTuThuoc, GridItemGhiNhanVTTHThuoc, \n    ChiDinhGoiDichVuThuongDung,\n    ChiDinhGoiDichVuTheoBenhNhan,\n    ChiDinhGoiDichVuThuongDungDichVuLoi,\n    ChiDinhGoiDichVuTheoBenhNhanDichVuLoi,\n    GridChiDinhDichVuQueryInfoVo,\n    DataChiDinhTheoLoaiDichVuGroup,\n    XoaNhieuChiDinhViewModel,\n    DichVuKyThuatBenhVienIdsSarsCoVLoaiBenhPham,\n    XetNghiemCovid,\n    \n} from '../../../kham-benh.model';\nimport { InBangKhamBenhChiDinhComponent } from '../in-bang-kham-benh-chi-dinh/in-bang-kham-benh-chi-dinh.component';\nimport { EnumNhomGoiDichVu, EnumTypeLoadingData, EnumTypeComponent, TrangThaiYeuCauKhamBenh,LoaiDichVuKyThuat } from 'src/app/shared/enum/kham-benh.enum';\nimport { DropdownlistComponent } from 'src/app/shared/component/dropdowns/dropdownlist/dropdownlist.component';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { LanKhamHienTaiSoDoGiuongPopupComponent } from '../lan-kham-hien-tai-so-do-giuong-popup/lan-kham-hien-tai-so-do-giuong-popup.component';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ComboboxComponent } from 'src/app/shared/component/dropdowns/combobox/combobox.component';\nimport { LanKhamHienTaiChiDinhCuaBacSiKhacPopupComponent } from '../lan-kham-hien-tai-chi-dinh-cua-bac-si-khac-popup/lan-kham-hien-tai-chi-dinh-cua-bac-si-khac-popup.component';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { getDate } from 'date-fns';\nimport { LanKhamHienTaiNhomDichVuThuongDungPopupComponent } from '../lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup.component';\nimport { LanKhamHienTaiSuDungGoiDichVuPopupComponent } from '../lan-kham-hien-tai-su-dung-goi-dich-vu-popup/lan-kham-hien-tai-su-dung-goi-dich-vu-popup.component';\nimport { LanKhamHienTaiNhomDichVuLoiPopupComponent } from '../lan-kham-hien-tai-nhom-dich-vu-loi-popup/lan-kham-hien-tai-nhom-dich-vu-loi-popup.component';\nimport { HinhThucKhamBenh } from 'src/app/shared/enum/kham-doan.enum';\nimport { HuyDichVuHuyThanhToanPopupComponent } from '../huy-dich-vu-huy-thanh-toan-popup/huy-dich-vu-huy-thanh-toan-popup.component';\nimport { DichVuKhuyenMaiPopupComponent } from 'src/app/modules/main/dich-vu-khuyen-mai/dich-vu-khuyen-mai-popup/dich-vu-khuyen-mai-popup.component';\nimport { PtttGhiNhanCapNhatPopupComponent } from 'src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ghi-nhan-cap-nhat-popup/pttt-ghi-nhan-cap-nhat-popup.component';\nimport { LanKhamHienTaiCapNhatGhiNhanVtthThuocPopupComponent } from '../lan-kham-hien-tai-cap-nhat-ghi-nhan-vtth-thuoc-popup/lan-kham-hien-tai-cap-nhat-ghi-nhan-vtth-thuoc-popup.component';\nimport { PTTTHoanTraThuocVatTuVo } from 'src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat.model';\nimport { PtttGhiNhanHoanTraPopupComponent } from 'src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ghi-nhan-hoan-tra-popup/pttt-ghi-nhan-hoan-tra-popup.component';\nimport { LanKhamHienTaiHoanTraThuocVtthPopupComponent } from '../lan-kham-hien-tai-hoan-tra-thuoc-vtth-popup/lan-kham-hien-tai-hoan-tra-thuoc-vtth-popup.component';\nimport { PopupChonLoaiInViewComponent } from 'src/app/modules/main/popup-chon-loai-In/popup-chon-loai-in-view/popup-chon-loai-in-view.component';\nimport { CapNhatThongTinThucHienDvktPopupComponent } from '../cap-nhat-thong-tin-thuc-hien-dvkt-popup/cap-nhat-thong-tin-thuc-hien-dvkt-popup.component';\nimport { EnumLoaiNoiChiDinh } from 'src/app/shared/enum/phau-thuat-thu-thuat.enum';\nimport { XnCovidSarscov2PopupComponent } from '../xn-covid-sarscov2-popup/xn-covid-sarscov2-popup.component';\nimport { XnSarsCov2PopupComponent } from '../../xn-sars-cov2-popup/xn-sars-cov2-popup.component';\nimport { BoPhan } from 'src/app/shared/enum/bo-phan.enum';\ndeclare var jQuery: any;\n\n@Component({\n    selector: 'app-lan-kham-hien-tai-kham-benh-chi-dinh',\n    templateUrl: './lan-kham-hien-tai-kham-benh-chi-dinh.component.html',\n    styleUrls: ['./lan-kham-hien-tai-kham-benh-chi-dinh.component.scss'],\n})\nexport class LanKhamHienTaiKhamBenhChiDinhComponent implements OnInit {\n    //,AfterViewInit,OnDestroy\n    icEdit = icEdit;\n    icMoreHoriz = icMoreHoriz;\n    icDelete = icDelete;\n    icVisibility = icVisibility;\n    icBlock = icBlock;\n    icInfo = icInfo;\n    icCheck = icCheck;\n    icHotel = icHotel;\n    icWarning = icWarning;\n    icCancel = icCancel;\n    icEditV2 = icEditV2;\n    icReturn = icReturn;\n    icDone = icDone;\n    icHistory = icHistory;\n\n    loaiDataSource: any;\n    validationErrors: any;\n    isProcessAdd: boolean;\n    // documentType: DocumentType;\n    LuaChonChiDinh: number = 3; // gán mặc định chọn chỉ định dvkt\n    gridColumns: any[] = [];\n    phongBenhVienId: number;\n    yeuCauDichVuKyThuat: YeuCauDichVuKyThuat = new YeuCauDichVuKyThuat();\n    yeuCauKhamBenh: YeuCauKhamBenh = new YeuCauKhamBenh();\n    yeuCauDichVuGiuong: YeuCauDichVuGiuongBenh = new YeuCauDichVuGiuongBenh();\n    yeuCauVatTuBenhVien: YeuCauVatTuBenhVien = new YeuCauVatTuBenhVien();\n    yeuCauGoiDichVu: YeuCauGoiDichVu = new YeuCauGoiDichVu();\n    yeuCauDuocPham: YeuCauDuocPham = new YeuCauDuocPham();\n    format = \"n2\";\n    goiDichVu: GoiDichVu = new GoiDichVu();\n    goiCoChietKhau: GoiCoChietKhau[] = [];\n    goiKhongChietKhau: GoiKhongChietKhau[] = [];\n    benhNhanHienTai = new YeuCauKhamBenh();\n    coDichVuKhuyenMai: boolean = false;\n    tongthanhtien: number = 0;\n    tongtienBNThanhToan: number = 0;\n    tenGoiChietKhau: string = \"\";\n    tongThanhTienTrongGoi: number = 0;\n    thanhTienTrongGoi: number = 0;\n    tongThanhTienGoiChietKhau: number = 0;\n    tLchietKhau: string = \"\";\n    ListNoiThucHien: any;\n    goiDichVuLookup: LookupItemVo = { \"DisplayName\": null, \"KeyId\": null };\n\n    dichVuDonLeChecked: boolean = false;\n    goiDichVuChecked: boolean = false;\n    @Output() valueChangeShowTuongTrinh: EventEmitter<any> = new EventEmitter<any>();\n    thongTinDichVuKham: ThongTinDichVuKhamTiepTheo = new ThongTinDichVuKhamTiepTheo();\n    FlagDuocHuongBaoHiem: boolean = false;\n    nhomChiDinhId: number = 0;\n    dichVuChiDinhId: number = 0;\n    listChonDichVuChiDinh: any[] = [];\n    listChonDichVuChiDinhReLoad: any[] = [];\n    firstLoadData: boolean = true;\n    public checkAll: boolean = null;\n    public checkItem: boolean = null;\n\n    gridVTTHThuocColumns: any[] = [];\n    gridDataSourceVTTHThuoc: any = {};\n    hienThiNutInChiDinh : boolean = true ;\n    isKhamNgoaiVien: boolean = false;\n    thongTinHoanTraThuocVatTu: PTTTHoanTraThuocVatTuVo = new PTTTHoanTraThuocVatTuVo();\n\n    showbuttonLuuVaInPhieuXetNghiem:boolean = false;\n    dichVuSarsCoVs:number[]=[];\n    loaiBenhPhamText:string =null;\n    loaiBenhPham:number =null;\n    bieuHienLamSang:string =null;\n    dichTeSarsCoV2:string =null;\n\n    @Input() data: any = null;\n    @Input() templateKp: any = null;\n    @Input() tenKp: any = null;\n    @Input() coBHYT: boolean = null;\n    @Input() documentType: DocumentType = DocumentType.KhamBenh;\n    @Input() isKhamDoan: boolean = false;\n    @Input() hinhThucKhamBenh: HinhThucKhamBenh;\n    @Input() isKhamDoanTatCa: boolean = false;\n    @Input() isReadOnly: boolean = false;\n\n    //@ViewChild('GridChiDinh', { static: true }) gridChild: GridComponent;\n    @ViewChild('GridChiDinh', { read: GridComponent, static: false }) gridChild: GridComponent;\n    @ViewChild('gridVTTHThuoc', { read: GridComponent, static: false }) gridChildVTTHThuoc: GridComponent;\n\n    trangThaiYCKB: TrangThaiYeuCauKhamBenhObjEnum = new TrangThaiYeuCauKhamBenhObjEnum();\n    trangThaiYCDVKT: TrangThaiYeuCauDichVuKyThuatObjEnum = new TrangThaiYeuCauDichVuKyThuatObjEnum();\n\n    chiDinhDichVuKyThuatMultiselect: ChiDinhDichVuKyThuatMultiselectViewModel = new ChiDinhDichVuKyThuatMultiselectViewModel();\n    messVuotQuaTamUng: string = \"Chỉ định này đã vượt quá số tiền tạm ứng của người bệnh.\";\n    enumLoaiDichVuKyThuat = LoaiDichVuKyThuat;\n    constructor(\n        private apiService: ApiService,\n        private authService: AuthService,\n        public intl: IntlService,\n        private dialog: MatDialog,\n        private notificationService: NotificationService,\n        private el: ElementRef,\n        private ngZone: NgZone\n    ) { }\n\n    // GOI CÓ CHIET KHAU\n    public state: State = { skip: 0, take: 15, group: [{ field: 'Nhom', aggregates: [{ field: 'ThanhTien', aggregate: 'sum' }, { field: 'ThanhTienTrongGoi', aggregate: 'sum' }] }] };\n    public total(field: any) {\n        switch (field) {\n            case 'ThanhTien':\n                return this.goiCoChietKhau.reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'ThanhTienTrongGoi':\n                return this.goiCoChietKhau.reduce((sum, item) => sum + item.ThanhTienTrongGoi, 0);\n        }\n    };\n    gridData: any;\n    listChietKhau: any[] = [];\n    // GOI KHONG CÓ CHIET KHAU\n\n    //Goi Khacs\n\n    @ViewChild('trangThaiTemplate', { static: true }) trangThaiTemplate: TemplateRef<any>;\n    @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n    @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n    @ViewChild('donGiaFooterTemplate', { static: true }) donGiaFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n    @ViewChild('checkBoxTemplate', { static: true }) checkBoxTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienGroupFooterTemplate', { static: true }) thanhTienGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienFooterTemplate', { static: true }) thanhTienFooterTemplate: TemplateRef<any>;\n    @ViewChild('bhytThanhToanTemplate', { static: true }) bhytThanhToanTemplate: TemplateRef<any>;\n    @ViewChild('bhytThanhToanGroupFooterTemplate', { static: true }) bhytThanhToanGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('bhytThanhToanFooterTemplate', { static: true }) bhytThanhToanFooterTemplate: TemplateRef<any>;\n    @ViewChild('soTienMGTemplate', { static: true }) soTienMGTemplate: TemplateRef<any>;\n    @ViewChild('soTienMGFooterTemplate', { static: true }) soTienMGFooterTemplate: TemplateRef<any>;\n    @ViewChild('soTienMGGroupFooterTemplate', { static: true }) soTienMGGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanTemplate', { static: true }) bnThanhToanTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanFooterTemplate', { static: true }) bnThanhToanFooterTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanGroupFooterTemplate', { static: true }) bnThanhToanGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('noiThucHienTemplate', { static: true }) noiThucHienTemplate: TemplateRef<any>;\n    @ViewChild('tLMGTemplate', { static: true }) tLMGTemplate: TemplateRef<any>;\n    @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n    @ViewChild('tongTienFooterTemplate', { static: true }) tongTienFooterTemplate: TemplateRef<any>;\n    @ViewChild('congTienGroupFooterTemplate', { static: true }) congTienGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('nhomGiaTemplate', { static: true }) nhomGiaTemplate: TemplateRef<any>;\n    @ViewChild('soLuongTemplate', { static: true }) soLuongTemplate: TemplateRef<any>;\n    @ViewChild('nguoiThucHienTemplate', { static: true }) nguoiThucHienTemplate: TemplateRef<any>;\n    @ViewChild('checkBoxHeaderTemplate', { static: true }) checkBoxHeaderTemplate: TemplateRef<any>;\n    @ViewChild('nhomGroupHeaderVTTHThuocTemplate', { static: true }) nhomGroupHeaderVTTHThuocTemplate: TemplateRef<any>;\n\n    // private dropdownLoaiGiaDVKham: DropdownlistComponent;\n    // @ViewChild('dropdownLoaiGiaDVKham', { static: true }) set content(content: DropdownlistComponent) {\n    //     if (content) {\n    //         this.dropdownLoaiGiaDVKham = content\n    //     }\n    // }\n\n    @ViewChild('dropdownLoaiGiaDVKham', { read: DropdownlistComponent, static: false }) dropdownLoaiGiaDVKham: DropdownlistComponent;\n\n    @ViewChild('noiThucHienGB', { read: ComboboxComponent, static: false }) dropdownNoiThucHienGB: ComboboxComponent;\n    @ViewChild('giuongTrongPhong', { read: ComboboxComponent, static: false }) dropdownGiuongTrongPhong: ComboboxComponent;\n    @ViewChild('donGiaBaoHiemTemplate', { static: true }) donGiaBaoHiemTemplate: TemplateRef<any>;\n    @ViewChild('duocHuongBaoHiemTemplate', { static: true }) duocHuongBaoHiemTemplate: TemplateRef<any>;\n\n    @ViewChild('actionVTTHThuocTemplate', { static: true }) actionVTTHThuocTemplate: TemplateRef<any>;\n    @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n    @ViewChild('stttTemplate', { static: true }) stttTemplate: TemplateRef<any>;\n    @ViewChild('duocHuongBaoHiemGhiNhanVHTTTemplate', { static: true }) duocHuongBaoHiemGhiNhanVHTTTemplate: TemplateRef<any>;\n    @ViewChild('tinhPhiGhiNhanVHTTTemplate', { static: true }) tinhPhiGhiNhanVHTTTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienGhiNhanVTTHThuocGroupFooterTemplate', { static: true }) thanhTienGhiNhanVTTHThuocGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienGhiNhanVTTHThuocFooterTemplate', { static: true }) thanhTienGhiNhanVTTHThuocFooterTemplate: TemplateRef<any>;\n    @ViewChild('soLuongGhiNhanVTTHThuocTemplate', { static: true }) soLuongGhiNhanVTTHThuocTemplate: TemplateRef<any>;\n\n    @ViewChild('cboVTTHThuoc', { read: ComboboxComponent, static: false }) cboVTTHThuoc: ComboboxComponent;\n    @ViewChild('tenDichVuTemplate', { static: true }) tenDichVuTemplate: TemplateRef<any>;\n    @ViewChild('benhPhamTemplate', { static: true }) benhPhamTemplate: TemplateRef<any>;\n\n    @ViewChild('dichVuTrongGoiTemplate', { static: true }) dichVuTrongGoiTemplate: TemplateRef<any>;\n    @ViewChild('dichVuKhuyenMaiTemplate', { static: true }) dichVuKhuyenMaiTemplate: TemplateRef<any>;\n\n    @ViewChild('donGiaVTTHThuocTemplate', { static: true }) donGiaVTTHThuocTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienVTTHThuocTemplate', { static: true }) thanhTienVTTHThuocTemplate: TemplateRef<any>;\n    @ViewChild('donGiaBaoHiemVTTHThuocTemplate', { static: true }) donGiaBaoHiemVTTHThuocTemplate: TemplateRef<any>;\n\n    @ViewChild('actionHeaderTemplate', { static: true }) actionHeaderTemplate: TemplateRef<any>;\n    gridDataNotChietKhau: any;\n    gridDataSource: any = {};\n    public totalNotChietKhau(field: any) {\n        switch (field) {\n            case 'ThanhTien':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'BHYTThanhToan':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n            case 'SoTienMG':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'BNThanhToan':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.BNThanhToan, 0);\n        }\n    };\n    public stateNotChietKhau: State = { skip: 0, take: 15, group: [{ field: 'Nhom', aggregates: [{ field: 'ThanhTien', aggregate: 'sum' }, { field: 'BHYTThanhToan', aggregate: 'sum' }, { field: 'SoTienMG', aggregate: 'sum' }, { field: 'BNThanhToan', aggregate: 'sum' }] }] };\n    groups: GroupDescriptor[] = [{ field: 'Nhom', dir: null, aggregates: [{ field: 'ThanhTien', aggregate: 'sum' }, { field: 'BHYTThanhToan', aggregate: 'sum' }, { field: 'SoTienMG', aggregate: 'sum' }, { field: 'BNThanhToan', aggregate: 'sum' }] }];\n\n    groupsGhiNhanVTHHThuoc: GroupDescriptor[] = [{ field: 'TenDichVu', dir: null, aggregates: [{ field: 'ThanhTien', aggregate: 'sum' }] }];\n    public totalGhiNhanVTTHThuoc(field: any) {\n        if (this.gridDataSourceVTTHThuoc.data != undefined) {\n            switch (field) {\n                case 'ThanhTien':\n                    return this.gridDataSourceVTTHThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n            }\n        }\n    };\n    ///Goi Khacs\n    yeucautiepnhanId: number;\n    hostingName: string;\n    nhomDichVuDangChon: EnumNhomGoiDichVu = EnumNhomGoiDichVu.DichVuKyThuat;\n    lstDichVuTheoGoiDangChon: Array<LookupCheckItem> = [];\n    checkALlDichVuTrongGoi: boolean = false;\n\n    popupLoadingData: any;\n    //showComboboxNhomDichVuKyThuat: boolean = true;\n    //@ViewChild('GridChiDinh', { static: true }) gridChiDinhData: GridComponent;\n\n    isSelectingItem: boolean = false;\n    chiDinhGhiNhanVatTuThuoc: ChiDinhGhiNhanVatTuThuoc = new ChiDinhGhiNhanVatTuThuoc();\n    showGhiNhanCoBHYT: boolean = true;\n    coGoiDichVu: boolean = false;\n    changeGhiChu: boolean = false;\n\n    ngOnInit() {\n        // console.log(\"data chi dinh: \", this.data)\n        this.phongBenhVienId = this.data.PhongBenhVienId;\n        this.benhNhanHienTai = this.data.YeuCauKhamBenh;\n        this.yeucautiepnhanId = this.data.YeuCauKhamBenh.YeuCauTiepNhanId;\n        this.coDichVuKhuyenMai = this.data.CoDichVuKhuyenMai;\n        this.dichVuDonLeChecked = true;\n        this.isKhamNgoaiVien = this.hinhThucKhamBenh == HinhThucKhamBenh.KhamDoanNgoaiVien;\n\n        if (this.isKhamDoan) { // đối với khám đoàn, thì đều hiện tất cả dịch vụ -> update 28/04/2021\n            this.isKhamDoanTatCa = true;\n        }\n\n        this.checkAll = true;\n        if (window.location.protocol == \"http:\") {\n            this.hostingName = \"http://\" + window.location.host;\n        } else {\n            this.hostingName = \"https://\" + window.location.host;\n        }\n        this.gridColumns = [\n            { Field: \"Action\", Title: \"\", Width: 75, Template: this.actionTemplate, Hidden: this.isReadOnly, TemplateHeader: this.actionHeaderTemplate },\n            { Field: \"CheckBox\", Title: \"\", Width: 35, Template: this.checkBoxTemplate, TemplateHeader: this.checkBoxHeaderTemplate, Hidden: this.isReadOnly },\n            { Field: \"STT\", Title: \"#\", Width: 20 ,Template: this.stttTemplate},\n            { Field: \"Ma\", Title: \"Mã\", Width: 60 },\n            { Field: \"Nhom\", Title: \"Nhóm\", Width: 150, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            { Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", MinWidth: 150, ShowTooltip: true, Template: this.tenDichVuTemplate },\n            { Field: \"LaDichVuTrongGoi\", Title: \"DV Trong Gói\", Width: 60, Template: this.dichVuTrongGoiTemplate, Hidden: this.isKhamDoan },\n            { Field: \"LaDichVuKhuyenMai\", Title: \"DV Khuyến Mại\", Width: 60, Template: this.dichVuKhuyenMaiTemplate, Hidden: this.isKhamDoan },\n            //{ Field: \"TenTT43\", Title: \"Tên TT43\", Width: 150, ShowTooltip: true },\n            { Field: \"TenLoaiGia\", Title: \"Loại Giá\", Width: 80, TemplateGroupFooter: this.isKhamDoan ? null : this.congTienGroupFooterTemplate, TemplateFooter: this.isKhamDoan ? null : this.tongTienFooterTemplate, Template: this.nhomGiaTemplate },\n            { Field: \"DonGia\", Title: \"Đơn Giá\", Width: 80, Template: this.donGiaTemplate, TemplateFooter: this.isKhamDoan ? null : this.donGiaFooterTemplate, Hidden: this.isKhamDoan },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 59, Template: this.soLuongTemplate },\n            {\n                Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100,\n                Template: this.thanhTienTemplate,\n                TemplateFooter: this.isKhamDoan ? null : this.thanhTienFooterTemplate,\n                TemplateGroupFooter: this.isKhamDoan ? null : this.thanhTienGroupFooterTemplate, \n                Hidden: this.isKhamDoan\n            },\n\n\n            { Field: \"DonGiaBaoHiem\", Title: \"DG BHYT\", Width: 80, Template: this.donGiaBaoHiemTemplate, Hidden: this.isKhamDoan },\n            { Field: \"DuocHuongBaoHiem\", Title: \"ĐH BHYT\", Width: 60, Template: this.duocHuongBaoHiemTemplate, Hidden: this.isKhamDoan },\n\n            // {\n            //     Field: \"BHYTThanhToan\", Title: \"BHYT TT\", Width: 100,\n            //     Template: this.bhytThanhToanTemplate,\n            //     TemplateFooter: this.bhytThanhToanFooterTemplate,\n            //     TemplateGroupFooter: this.bhytThanhToanGroupFooterTemplate\n            // },\n\n            // { Field: \"SoTienMG\", Title: \"ST MG\", Width: 120, Sortable: true,\n            //                                                                 Template: this.soTienMGTemplate,\n            //                                                                 TemplateFooter: this.soTienMGFooterTemplate,\n            //                                                                 TemplateGroupFooter: this.soTienMGGroupFooterTemplate },\n\n            // {\n            //     Field: \"BNThanhToan\", Title: \"BN TT\", Width: 100,\n            //     Template: this.bnThanhToanTemplate,\n            //     TemplateFooter: this.bnThanhToanFooterTemplate,\n            //     TemplateGroupFooter: this.bnThanhToanGroupFooterTemplate\n            // },\n\n            { Field: \"NoiThucHien\", Title: \"Nơi thực hiện\", Width: 150, Template: this.noiThucHienTemplate },\n            { Field: \"TrangThaiDichVu\", Title: \"Tình trạng\", Width: 110, Template: this.trangThaiTemplate },\n            // { Field: \"NguoiThucHien\", Title: \"Người thực hiện\", Width: 150, Template: this.nguoiThucHienTemplate },\n            { Field: \"TenNguoiThucHien\", Title: \"Người thực hiện\", Width: 110 },\n            //{ Field: \"TenGiuongBenh\", Title: \"Số giường\", Width: 90 },\n            { Field: \"BenhPhamXetNghiem\", Title: \"Bệnh phẩm\", Width: 150, Template: this.benhPhamTemplate },\n            { Field: \"NguoiChiDinhDisplay\", Title: \"Người chỉ định\", Width: 110 },\n            { Field: \"ThoiGianChiDinhDisplay\", Title: \"Thời gian chỉ định\", Width: 110 },\n\n        ];\n\n        this.gridVTTHThuocColumns = [\n            { Field: \"Action\", Title: \"\", Width: 100, Template: this.actionVTTHThuocTemplate, Hidden: this.isReadOnly },\n            { Field: \"STT\", Title: \"#\", Width: 20, Template: this.sttTemplate },\n            { Field: \"MaDichVuYeuCau\", Title: \"Mã\", Width: 60 },\n            { Field: \"TenDichVu\", Title: \"TenDichVu\", Width: 150, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderVTTHThuocTemplate },\n            { Field: \"TenDichVuYeuCau\", Title: \"Tên vật tư/thuốc\", MinWidth: 150, ShowTooltip: true },\n            { Field: \"DonViTinh\", Title: \"ĐVT\", Width: 60 },\n            { Field: \"TenKho\", Title: \"Tên kho\", Width: 150},\n            { Field: \"TenDuongDung\", Title: \"Đường dùng\", Width: 100 },\n            { Field: \"DonGia\", Title: \"Đơn Giá\", Width: 80, Template: this.donGiaVTTHThuocTemplate, TemplateFooter: this.donGiaFooterTemplate },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 59, Template: this.soLuongGhiNhanVTTHThuocTemplate},\n            { Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Template: this.thanhTienVTTHThuocTemplate, TemplateFooter: this.thanhTienGhiNhanVTTHThuocFooterTemplate, TemplateGroupFooter: this.thanhTienGhiNhanVTTHThuocGroupFooterTemplate },\n            { Field: \"DonGiaBaoHiem\", Title: \"DG BHYT\", Width: 100, Template: this.donGiaBaoHiemVTTHThuocTemplate},\n            { Field: \"DuocHuongBaoHiem\", Title: \"ĐH BHYT\", Width: 60, Template: this.duocHuongBaoHiemGhiNhanVHTTTemplate },\n            { Field: \"TinhPhi\", Title: \"Tính phí\", Width: 60, Template: this.tinhPhiGhiNhanVHTTTemplate },\n            { Field: \"PhieuLinh\", Title: \"Phiếu lĩnh\", Width: 100},\n            { Field: \"PhieuXuat\", Title: \"Phiếu xuất\", Width: 100},\n            { Field: \"ThoiGianChiDinhDisplay\", Title: \"Thời gian chỉ định\", Width: 110 },\n        ];\n\n        //this.setDataGridView();\n        // this.GetDataNoiThucHienDichVu();\n        this.getDataGoiDichVuDefault(this.data.YeuCauKhamBenh, this.nhomDichVuDangChon);\n\n        // gán mặc định data\n        this.yeuCauKhamBenh.TinhPhi = true;\n        this.yeuCauDichVuGiuong.TinhPhi = true;\n\n        // kiểm tra đăng ký gói dịch vụ người bệnh\n        this.kiemTraGoiDichVuCuaBenhNhan();\n        this.getListDichVuSarsCoVs();\n        this.getInfoSarsCoVTheoYeuCauTiepNhans();\n    }\n\n    setDataGridView() {\n        this.gridDataSource = {\n            data: this.goiKhongChietKhau,\n            total: this.goiKhongChietKhau.length\n        };\n        this.gridChild.gridDataSource = this.gridDataSource;\n        if (this.gridChild !== undefined)\n            this.gridChild.setDataSource();\n\n        this.tinhthanhtien(this.goiKhongChietKhau);\n        this.closePopupLoadingData();\n    }\n\n    getDataGoiDichVuDefault(dataModel: any, nhomDichVuId: number = null) {\n        this.showPopupLoadingData(EnumTypeLoadingData.View);\n        this.tongthanhtien = 0;\n        this.tongtienBNThanhToan = 0;\n        this.tongThanhTienGoiChietKhau = 0;\n        //yeu cau khac\n\n        // let obj = {\n        //     \"YeuCauTiepNhanId\": dataModel.YeuCauTiepNhanId,\n        //     \"YeuCauKhamBenhId\": dataModel.Id,\n        //     \"NhomDichVuId\": nhomDichVuId,\n        //     \"IsKhamDoanTatCa\": this.isKhamDoanTatCa\n        // };\n\n        let obj = new GridChiDinhDichVuQueryInfoVo(\n            dataModel.YeuCauTiepNhanId,\n            dataModel.Id,\n            nhomDichVuId,\n            this.isKhamDoanTatCa\n        );\n        // let url = \"KhamBenh/GetDataDefaulDichVuKhac?yeuCauTiepNhanId=\" + dataModel.YeuCauTiepNhanId + \"&yeuCauKhamBenhId=\" + dataModel.Id + (nhomDichVuId != null ? \"&nhomDichVuId=\" + nhomDichVuId : '');\n        // this.apiService.get<any>(url).subscribe(resultData => {\n        this.apiService.post<any>(\"KhamBenh/GetDataDefaulDichVuKhac\", obj).subscribe(resultData => {\n            if (resultData !== undefined && resultData != null) {\n                this.goiKhongChietKhau = this.goiKhongChietKhau.concat(resultData);\n                //this.gridDataNotChietKhau = process(this.goiKhongChietKhau, this.stateNotChietKhau);\n                this.setDataGridView();\n                this.SelectcheckAllboxIn(true);\n\n            }\n            else {\n                this.closePopupLoadingData();\n            }\n        },\n            (err: ApiError) => {\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n\n    getDataUpdateGripViewDelete(IdDichVu: number) {\n        for (const chiTiet of this.goiKhongChietKhau) {\n            if (chiTiet.Id === IdDichVu) {\n                var position = this.goiKhongChietKhau.indexOf(chiTiet);\n                break;\n            }\n        }\n        this.goiKhongChietKhau.splice(position, 1);\n        this.setDataGridView();\n        this.gridChild.setDataSource();\n    }\n\n    getDataUpdateGripViewGoiKhac(yeuCauTiepNhanId: number, yeuCauKhamBenhId: number, nhomDichVuId: number = null,\n        typeLoadingData: EnumTypeLoadingData = EnumTypeLoadingData.Update, showLoadingPopup: boolean = true) {\n        if (showLoadingPopup) {\n            this.showPopupLoadingData(typeLoadingData);\n        }\n\n        // kiểm tra đăng ký gói dịch vụ người bệnh\n        this.kiemTraGoiDichVuCuaBenhNhan();\n        // let obj = {\n        //     \"YeuCauTiepNhanId\": yeuCauTiepNhanId,\n        //     \"YeuCauKhamBenhId\": yeuCauKhamBenhId,\n        //     \"NhomDichVuId\": nhomDichVuId,\n        //     \"IsKhamDoanTatCa\": this.isKhamDoanTatCa\n        // }\n\n        let obj = new GridChiDinhDichVuQueryInfoVo(\n            yeuCauTiepNhanId,\n            yeuCauKhamBenhId,\n            nhomDichVuId,\n            this.isKhamDoanTatCa\n        );\n        // var url = \"KhamBenh/GetDataDefaulDichVuKhac?yeuCauTiepNhanId=\" + yeuCauTiepNhanId + \"&yeuCauKhamBenhId=\" + yeuCauKhamBenhId + (nhomDichVuId != null ? \"&nhomDichVuId=\" + nhomDichVuId : \"\");\n        // this.apiService.get<any>(url).subscribe(resultData => {\n        this.apiService.post<any>(\"KhamBenh/GetDataDefaulDichVuKhac\", obj).subscribe(resultData => {\n            if (resultData !== undefined && resultData != null) {\n                let goiDichVuModel = new GoiDichVu();\n                this.listChonDichVuChiDinh = []; // mỗi lần f5 là listChonDichVuChiDinh = 0\n                goiDichVuModel.GoiKhacs = resultData;\n\n                this.goiKhongChietKhau.splice(0, this.goiKhongChietKhau.length);\n                if (this.gridDataSource != undefined && this.gridDataSource != null && this.gridDataSource.data != undefined && this.gridDataSource.data != null) {\n                    this.gridDataSource.data.splice(0, this.gridDataSource.data.length);\n                }\n                this.gridChild.setDataSource();\n                var self = this;\n                this.ngZone.run(() => {\n                    resultData.forEach(element => {\n                        self.goiKhongChietKhau.push(element);\n                        element.isCheckRowItem = true;\n                    });\n\n                    self.isCheckXacNhanIn = self.goiKhongChietKhau.length > 0;\n                    self.setDataGridView();\n                    self.SelectcheckAllboxIn(true);\n                });\n            }\n            else {\n                this.closePopupLoadingData();\n            }\n        },\n            (err: ApiError) => {\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n\n    // 1: loading, 2: update data\n    showPopupLoadingData(typeLoading: EnumTypeLoadingData = EnumTypeLoadingData.View) {\n        let mess = \"\"; //typeLoading == EnumTypeLoadingData.View ? \"Đang tải dữ liệu...\" : \"Đang lưu dữ liệu...\";\n        switch (typeLoading) {\n            case EnumTypeLoadingData.View:\n                mess = \"Đang tải dữ liệu...\"; break;\n            case EnumTypeLoadingData.Update:\n                mess = \"Đang lưu dữ liệu...\"; break;\n            case EnumTypeLoadingData.Delete:\n                mess = \"Đang xóa dữ liệu...\"; break;\n            case EnumTypeLoadingData.Cancel:\n                mess = \"Đang hủy dữ liệu...\"; break;\n            default: mess = \"Đang tải dữ liệu...\";\n        }\n        this.popupLoadingData = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: mess }\n        });\n    }\n    closePopupLoadingData() {\n        if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n            this.popupLoadingData.close();\n        }\n\n        this.dialog.afterAllClosed.subscribe(result => {\n            switch (this.nhomDichVuDangChon) {\n                case EnumNhomGoiDichVu.DichVuKhamBenh:\n                    this.autoFocusElementFirst(); break;\n                case EnumNhomGoiDichVu.DichVuKyThuat:\n                    if (this.dichVuDonLeChecked) {\n                        this.autoFocusElementFirst(); break;\n                    }\n                    else {\n                        this.autoFocusElementFirst(EnumTypeComponent.KDropdown); break;\n                    }\n                case EnumNhomGoiDichVu.DichVuGiuongBenh:\n                    this.autoFocusElementFirst(); break;\n                \n                case EnumNhomGoiDichVu.VatTuTieuHao: \n                    this.cboVTTHThuoc.onKeytoFocus(); break;\n\n                default:\n                    this.autoFocusElementFirst(); break;\n            }\n        });\n\n        // this.dialog.closeAll();\n\n        // this.dialog.afterAllClosed.subscribe(result => {\n        //     switch (this.nhomDichVuDangChon) {\n        //         case EnumNhomGoiDichVu.DichVuKhamBenh:\n        //             this.autoFocusElementFirst(); break;\n        //         case EnumNhomGoiDichVu.DichVuKyThuat:\n        //             if (this.dichVuDonLeChecked) {\n        //                 this.autoFocusElementFirst(); break;\n        //             }\n        //             else {\n        //                 this.autoFocusElementFirst(EnumTypeComponent.KDropdown); break;\n        //             }\n        //         case EnumNhomGoiDichVu.DichVuGiuongBenh:\n        //             this.autoFocusElementFirst(); break;\n\n        //         default:\n        //             this.autoFocusElementFirst(); break;\n        //     }\n        // });\n    }\n\n    tinhthanhtien(modelGoiKoChietKhau: any) {\n        this.tongthanhtien = 0;\n        this.tongtienBNThanhToan = 0;\n        modelGoiKoChietKhau.forEach(element => {\n            if (element.ThanhTien !== null)\n                this.tongthanhtien += element.ThanhTien;\n            if (element.BNThanhToan !== null)\n                this.tongtienBNThanhToan += element.BNThanhToan;\n        });\n    }\n\n    themGoiKhongChietKhau() {\n        var self = this;\n        this.validationErrors = [];\n\n        this.yeuCauGoiDichVu.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        this.yeuCauGoiDichVu.YeuCauKhamBenhId = this.benhNhanHienTai.Id;\n        self.apiService.post<boolean>(\"KhamBenh/KiemTraChiDinhGoiDichVuDaCoDichVuTheoYeuCauTiepNhan\", this.yeuCauGoiDichVu).subscribe(resultData => {\n            if (resultData) {\n                self.dialog.open(ConfirmComponent, {\n                    disableClose: false,\n                    width: '400px',\n                    data: { Title: \"Xác nhận\", Message: \"Có dịch vụ đã được thêm vào trước đó. Bạn có chắc chắn muốn thêm những dịch vụ này hay không?\" }\n                }).afterClosed().subscribe(result => {\n                    if (result == \"Yes\") {\n                        self.xuLyThemGoiKhongChietKhau();\n                    }\n                });\n            }\n            else {\n                self.xuLyThemGoiKhongChietKhau();\n            }\n        },\n            (err: ApiError) => {\n                self.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    self.notificationService.showError(err.Message);\n                }\n            });\n    }\n\n    xuLyThemGoiKhongChietKhau() {\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n\n        this.apiService.post<any>(\"KhamBenh/ThemGoiKhongChietKhau\", this.yeuCauGoiDichVu).subscribe(result => {\n            //this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm\"]));\n            let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm \"]);\n            if (result.IsVuotQuaSoDuTaiKhoan) {\n                mess += this.messVuotQuaTamUng;//\"Chỉ định này đã vượt quá số tiền trong tài khoản của người bệnh.\";\n                this.notificationService.showWarning(mess);\n            }\n            else {\n                this.notificationService.showSuccess(mess);\n            }\n            if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                this.benhNhanHienTai.SoDuTaiKhoan = result.SoDuTaiKhoan;\n                this.benhNhanHienTai.SoDuTaiKhoanDisplay = result.SoDuTaiKhoanDisplay;\n            }\n            if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                this.benhNhanHienTai.SoDuTaiKhoanConLai = result.SoDuTaiKhoanConLai;\n                this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = result.SoDuTaiKhoanConLaiDisplay;\n            }\n            this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, EnumNhomGoiDichVu.DichVuKyThuat, null, false);\n            this.huyGoiKhongChietKhau();\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    // this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionUnsuccessfully + err.Message, [\"Thêm\"]));\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n\n    chonGoiCoChietKhau(event: any) {\n        this.tenGoiChietKhau = event.DisplayName;\n    }\n\n    chonGoiKhongChietKhau(event: any) {\n        this.tenGoiChietKhau = event.DisplayName;\n    }\n\n    changeGoiDichVu(event) {\n        if (event == undefined || event == null) {\n            this.yeuCauGoiDichVu = new YeuCauGoiDichVu();\n        }\n        else {\n            this.apiService.get<Array<LookupCheckItem>>(\"KhamBenh/GetListIdDichVuTheoGoi?goiDichVuId=\" + event).subscribe(resultData => {\n                if (resultData !== undefined && resultData != null) {\n                    this.yeuCauGoiDichVu.DichVuChiDinhTheoGois = resultData.map(x => x['KeyId']);\n                    this.lstDichVuTheoGoiDangChon = resultData;\n                    this.checkALlDichVuTrongGoi = true;\n                }\n                else {\n                    this.yeuCauGoiDichVu.DichVuChiDinhTheoGois = null;\n                    this.lstDichVuTheoGoiDangChon = [];\n                }\n            });\n        }\n    }\n\n    GetDataNoiThucHienDichVu() {\n        this.apiService.get<any>(\"KhamBenh/GetDataNoiThucHienDichVu\").subscribe(resultData => {\n            if (resultData !== undefined && resultData != null) {\n                this.ListNoiThucHien = resultData;\n            }\n        });\n    }\n\n    getLoaiGiaData() {\n        this.apiService.get<any>(\"KhamBenh/GetDataLoaiGiaDichVu\").subscribe(resultData => {\n            if (resultData !== undefined && resultData != null) {\n                this.loaiDataSource = resultData\n            }\n        });\n    }\n\n    onChangeNTH(id: number, event: any, vitriDefault: number) {\n\n    }\n\n    chonDichVuKyThuat(event: any) {\n        if (event !== null && event !== undefined) {\n            if (event.KeyId !== null && event.KeyId !== undefined) {\n                this.yeuCauDichVuKyThuat.TenDichVu = event.DichVu;\n                this.yeuCauDichVuKyThuat.DichVuKyThuatBenhVienId = event.KeyId;\n                this.yeuCauDichVuKyThuat.MaDichVu = event.Ma;\n                this.yeuCauDichVuKyThuat.MaGiaDichVu = event.MaGiaDichVu;\n                this.yeuCauDichVuKyThuat.NhomGiaDichVuKyThuatBenhVienId = event.NhomGiaDichVuKyThuatBenhVienId;\n                this.yeuCauDichVuKyThuat.Gia = event.Gia;\n                this.yeuCauDichVuKyThuat.NhomChiPhi = event.NhomChiPhi;\n                this.yeuCauDichVuKyThuat.LoaiDichVuKyThuat = event.LoaiDichVuKyThuat;\n                this.yeuCauDichVuKyThuat.NhomDichVuBenhVienId = event.NhomDichVuBenhVienId;\n            }\n        }\n    }\n\n    changeDataDichVuKyThuat(event: any) {\n        if (event != undefined && event != null) {\n            this.apiService.get<any>(\"KhamBenh/GetChiDinhThongTinDichVuKyThuat?dichVuKyThuatBenhVienId=\" + event).subscribe(result => {\n                this.yeuCauDichVuKyThuat.TenDichVu = result.DichVu;\n                this.yeuCauDichVuKyThuat.DichVuKyThuatBenhVienId = result.KeyId;\n                this.yeuCauDichVuKyThuat.MaDichVu = result.Ma;\n                this.yeuCauDichVuKyThuat.MaGiaDichVu = result.MaGiaDichVu;\n                this.yeuCauDichVuKyThuat.NhomGiaDichVuKyThuatBenhVienId = result.NhomGiaDichVuKyThuatBenhVienId;\n                this.yeuCauDichVuKyThuat.Gia = result.Gia;\n                this.yeuCauDichVuKyThuat.NhomChiPhi = result.NhomChiPhi;\n                this.yeuCauDichVuKyThuat.LoaiDichVuKyThuat = result.LoaiDichVuKyThuat;\n                this.yeuCauDichVuKyThuat.NhomDichVuBenhVienId = result.NhomDichVuBenhVienId;\n                this.yeuCauDichVuKyThuat.TenNhomDichVu = result.TenNhomDichVuBenhVien;\n            });\n        }\n    }\n\n    chonDichVuKhamBenh(event: any) {\n        if (event !== null && event !== undefined) {\n            if (event.KeyId !== null && event.KeyId !== undefined) {\n                this.yeuCauKhamBenh.TenDichVu = event.DichVu;\n                this.yeuCauKhamBenh.DichVuKhamBenhBenhVienId = event.KeyId;\n                this.yeuCauKhamBenh.MaDichVu = event.Ma;\n                this.yeuCauKhamBenh.MaDichVuTT37 = event.MaDichVuTT37;\n                this.yeuCauKhamBenh.NhomGiaDichVuKhamBenhBenhVienId = event.NhomGiaDichVuKhamBenhBenhVienId;\n                this.yeuCauKhamBenh.Gia = event.Gia;\n            }\n        }\n    }\n\n    chonDichVuGiuong(event: any) {\n        if (event !== null && event !== undefined) {\n            if (event.KeyId !== null && event.KeyId !== undefined) {\n                this.yeuCauDichVuGiuong.Ten = event.DichVu;\n                this.yeuCauDichVuGiuong.DichVuGiuongBenhVienId = event.KeyId;\n                this.yeuCauDichVuGiuong.Ma = event.Ma;\n                this.yeuCauDichVuGiuong.MaTT37 = event.MaTT37;\n                this.yeuCauDichVuGiuong.NhomGiaDichVuGiuongBenhVienId = event.NhomGiaDichVuGiuongBenhVienId;\n                this.yeuCauDichVuGiuong.Gia = event.Gia;\n                this.yeuCauDichVuGiuong.ThanhTien = event.Gia * 1;\n                this.yeuCauDichVuGiuong.LoaiGiuong = event.LoaiGiuong;\n                this.FlagDuocHuongBaoHiem = this.data.YeuCauKhamBenh.DuocHuongBaoHiem && this.data.YeuCauTiepNhan.CoBHYT && event.CoGiaBaoHiem;\n                this.yeuCauDichVuGiuong.DuocHuongBaoHiem = this.FlagDuocHuongBaoHiem && this.yeuCauDichVuGiuong.TinhPhi;\n            }\n        }\n    }\n\n    chonDuocPham(event: any) {\n        if (event !== null && event !== undefined) {\n            if (event.KeyId !== null && event.KeyId !== undefined) {\n                this.yeuCauDuocPham.Ten = event.DichVu;\n                this.yeuCauDuocPham.DuocPhamBenhVienId = event.KeyId;\n                this.yeuCauDuocPham.MaHoatChat = event.Ma;\n                this.yeuCauDuocPham.HoatChat = event.HoatChat;\n                this.yeuCauDuocPham.SoDangKy = event.SoDangKy;\n                //this.yeuCauDuocPham.ma = event.MaTT37;\n                //this.yeuCauDuocPham.NhomChiPhi =  event.NhomGiaDichVuGiuongBenhVienId;\n                this.yeuCauDuocPham.Gia = event.Gia;\n            }\n        }\n    }\n\n    chonVatTu(event) {\n        if (event !== null && event !== undefined) {\n            if (event.KeyId !== null && event.KeyId !== undefined) {\n                this.yeuCauVatTuBenhVien.Ten = event.DichVu;\n                this.yeuCauVatTuBenhVien.VatTuBenhVienId = event.KeyId;\n                this.yeuCauVatTuBenhVien.Ma = event.Ma;\n                // this.yeuCauVatTuBenhVien.NhomGiaDichVuGiuongBenhVienId =  event.NhomGiaDichVuGiuongBenhVienId;\n                this.yeuCauVatTuBenhVien.Gia = event.Gia;\n            }\n        }\n    }\n\n    themDichVuKyThuat() {\n        var self = this;\n        this.validationErrors = [];\n\n        if (self.yeuCauDichVuKyThuat.DichVuKyThuatBenhVienId != undefined && self.yeuCauDichVuKyThuat.DichVuKyThuatBenhVienId != null && self.yeuCauDichVuKyThuat.DichVuKyThuatBenhVienId != 0) {\n            var param = \"?yeuCauTiepNhanId=\" + self.benhNhanHienTai.YeuCauTiepNhanId + \"&dichVuBenhVienId=\" + self.yeuCauDichVuKyThuat.DichVuKyThuatBenhVienId + \"&nhomDichVu=\" + EnumNhomGoiDichVu.DichVuKyThuat;\n            self.apiService.get<boolean>(\"KhamBenh/KiemTraChiDinhDichVuDaCoTheoYeuCauTiepNhan\" + param).subscribe(resultData => {\n                if (resultData) {\n                    self.dialog.open(ConfirmComponent, {\n                        disableClose: false,\n                        width: '400px',\n                        data: { Title: \"Xác nhận\", Message: \"Dịch vụ này đã được thêm vào trước đó. Bạn có chắc chắn muốn thêm dịch vụ này hay không?\" }\n                    }).afterClosed().subscribe(result => {\n                        if (result == \"Yes\") {\n                            self.xuLyThemDichVuKyThuat();\n                        }\n                    });\n                }\n                else {\n                    self.xuLyThemDichVuKyThuat();\n                }\n            },\n                (err: ApiError) => {\n                    self.validationErrors = err.ValidationErrors;\n                    if (err.Message != \"Validation Failed\") {\n                        self.notificationService.showError(err.Message);\n                    }\n                });\n        }\n        else {\n            self.xuLyThemDichVuKyThuat();\n        }\n    }\n\n    xuLyThemDichVuKyThuat() {\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        this.yeuCauDichVuKyThuat.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        this.yeuCauDichVuKyThuat.YeuCauKhamBenhId = this.benhNhanHienTai.Id;\n        this.apiService.post<any>(\"KhamBenh/ThemYeuCauDichVuKyThuat\", this.yeuCauDichVuKyThuat).subscribe(result => {\n            this.huyDichVuKyThuat();\n            if (result.ChuyenHangDoiSangLamChiDinh) {\n                this.benhNhanHienTai.TrangThai = TrangThaiYeuCauKhamBenh.DangLamChiDinh;\n            }\n            let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm \"]);\n            if (result.IsVuotQuaSoDuTaiKhoan) {\n                mess += this.messVuotQuaTamUng; //\"Chỉ định này đã vượt quá số tiền trong tài khoản của người bệnh.\";\n                this.notificationService.showWarning(mess);\n            }\n            else {\n                this.notificationService.showSuccess(mess);\n            }\n            if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                this.benhNhanHienTai.SoDuTaiKhoan = result.SoDuTaiKhoan;\n                this.benhNhanHienTai.SoDuTaiKhoanDisplay = result.SoDuTaiKhoanDisplay;\n            }\n            if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                this.benhNhanHienTai.SoDuTaiKhoanConLai = result.SoDuTaiKhoanConLai;\n                this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = result.SoDuTaiKhoanConLaiDisplay;\n            }\n            // let phongBenhVienId = this.authService.getPhongLamViecId();\n            // let nhanVienId = this.authService.getAccessUser().Id;\n            // let yeuCauKhamBenhId = this.benhNhanHienTai.Id;\n            // this.willShowTabPhauThuatThuThuat(phongBenhVienId, nhanVienId, yeuCauKhamBenhId);\n            this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, EnumNhomGoiDichVu.DichVuKyThuat, null, false);\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n\n    // willShowTabPhauThuatThuThuat(phongBenhVienId: any, nhanVienId: any, yeuCauKhamBenhId: any) {\n    //     if (\n    //         this.authService.hasPermission(this.documentType, SecurityOperation.View)\n    //     ) {\n    //         this.apiService\n    //             .get<any>(\n    //                 \"KhamBenh/WillShowTabPhauThuat?phongBenhVienId=\" +\n    //                 phongBenhVienId + \"&nhanVienId=\" + nhanVienId + \"&yeuCauKhamBenhId=\" + yeuCauKhamBenhId\n    //             )\n    //             .subscribe((resultData) => {\n    //                 if (resultData !== undefined && resultData != null) {\n    //                     this.valueChangeShowTuongTrinh.emit(resultData);\n    //                 }\n    //             });\n    //     }\n    // }\n\n    themDichVuKhamBenh() {\n        var self = this;\n        self.validationErrors = [];\n\n        if (self.yeuCauKhamBenh.DichVuKhamBenhBenhVienId != undefined && self.yeuCauKhamBenh.DichVuKhamBenhBenhVienId != null && self.yeuCauKhamBenh.DichVuKhamBenhBenhVienId != 0) {\n            var param = \"?yeuCauTiepNhanId=\" + self.benhNhanHienTai.YeuCauTiepNhanId + \"&dichVuBenhVienId=\" + self.yeuCauKhamBenh.DichVuKhamBenhBenhVienId + \"&nhomDichVu=\" + EnumNhomGoiDichVu.DichVuKhamBenh;\n            self.apiService.get<boolean>(\"KhamBenh/KiemTraChiDinhDichVuDaCoTheoYeuCauTiepNhan\" + param).subscribe(resultData => {\n                if (resultData) {\n                    self.dialog.open(ConfirmComponent, {\n                        disableClose: false,\n                        width: '400px',\n                        data: { Title: \"Xác nhận\", Message: \"Dịch vụ này đã được thêm vào trước đó. Bạn có chắc chắn muốn thêm dịch vụ này hay không?\" }\n                    }).afterClosed().subscribe(result => {\n                        if (result == \"Yes\") {\n                            self.xuLyKiemTraDichVuKhamBenhTrungTrongGoi();\n                        }\n                        else\n                        {\n                            self.resetFocus();\n                        }\n                    });\n                }\n                else {\n                    self.xuLyKiemTraDichVuKhamBenhTrungTrongGoi();\n                }\n            },\n                (err: ApiError) => {\n                    self.validationErrors = err.ValidationErrors;\n                    if (err.Message != \"Validation Failed\") {\n                        self.notificationService.showError(err.Message);\n                    }\n                });\n        }\n        else {\n            self.xuLyKiemTraDichVuKhamBenhTrungTrongGoi();\n        }\n    }\n\n    xuLyKiemTraDichVuKhamBenhTrungTrongGoi(){\n        this.yeuCauKhamBenh.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        this.yeuCauKhamBenh.YeuCauKhamBenhTruocId = this.benhNhanHienTai.Id;\n\n        if(this.documentType == DocumentType.KhamBenhDangKham || this.benhNhanHienTai.IsKhamBenhDangKham)\n        {\n            this.yeuCauKhamBenh.IsKhamBenhDangKham = true;\n        }\n        var self = this;\n        // cập nhật xử lý\n        //1: kiểm tra có dịch vụ nào trùng trong gói ko -> hiện popup thông báo\n        //2: xử lý thêm dịch vụ ko có trong gói và có trong gói(nếu có)\n        self.apiService.post<any>(\"KhamBenh/KiemTraDichVuKhamBenhChiDinhCoTrongGoiCuaBenhNhan\", self.yeuCauKhamBenh).subscribe(resultData => {\n            if (resultData.Message != null && resultData.Message != '' && resultData.DichVuChiDinhCoTrongGois.length > 0) {\n                self.dialog.open(ConfirmComponent, {\n                    disableClose: false,\n                    width: '800px',\n                    data: { Title: \"Xác nhận\", Message: resultData.Message }\n                }).afterClosed().subscribe(result => {\n                    if (result == \"Yes\") {\n                        self.yeuCauKhamBenh.DichVuKhamBenhTuGoi = resultData.DichVuChiDinhCoTrongGois[0];\n                        //self.xuLyThemDichVuKhamBenh();\n                    }\n                    self.xuLyThemDichVuKhamBenh();\n                });\n            }\n            else {\n                self.xuLyThemDichVuKhamBenh();\n            }\n        },\n        (err: ApiError) => {\n            self.validationErrors = err.ValidationErrors;\n            if (err.Message != \"Validation Failed\") {\n                self.notificationService.showError(err.Message);\n            }\n        });\n    }\n\n    dangXuLy:boolean=false;\n    xuLyThemDichVuKhamBenh() {\n        if(this.dangXuLy)\n            return;\n        this.dangXuLy=true;\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        this.apiService.post<any>(\"KhamBenh/ThemYeuCauKhamBenh\", this.yeuCauKhamBenh).subscribe(result => {\n            let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm \"]);\n            if (result.IsVuotQuaSoDuTaiKhoan) {\n                mess += this.messVuotQuaTamUng; //\"Chỉ định này đã vượt quá số tiền trong tài khoản của người bệnh.\";\n                this.notificationService.showWarning(mess);\n            }\n            else {\n                this.notificationService.showSuccess(mess);\n            }\n            if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                this.benhNhanHienTai.SoDuTaiKhoan = result.SoDuTaiKhoan;\n                this.benhNhanHienTai.SoDuTaiKhoanDisplay = result.SoDuTaiKhoanDisplay;\n            }\n            if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                this.benhNhanHienTai.SoDuTaiKhoanConLai = result.SoDuTaiKhoanConLai;\n                this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = result.SoDuTaiKhoanConLaiDisplay;\n            }\n            this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, EnumNhomGoiDichVu.DichVuKhamBenh, null, false);\n            this.huyDichVuKhamBenh();\n            this.dangXuLy=false;\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n                this.dangXuLy=false;\n            });\n    }\n\n    themDichVuGiuong() {\n        var self = this;\n        this.validationErrors = [];\n\n        if (self.yeuCauDichVuGiuong.DichVuGiuongBenhVienId != undefined && self.yeuCauDichVuGiuong.DichVuGiuongBenhVienId != null && self.yeuCauDichVuGiuong.DichVuGiuongBenhVienId != 0) {\n            var param = \"?yeuCauTiepNhanId=\" + self.benhNhanHienTai.YeuCauTiepNhanId + \"&dichVuBenhVienId=\" + self.yeuCauDichVuGiuong.DichVuGiuongBenhVienId + \"&nhomDichVu=\" + EnumNhomGoiDichVu.DichVuGiuongBenh;\n            self.apiService.get<boolean>(\"KhamBenh/KiemTraChiDinhDichVuDaCoTheoYeuCauTiepNhan\" + param).subscribe(resultData => {\n                if (resultData) {\n                    self.dialog.open(ConfirmComponent, {\n                        disableClose: false,\n                        width: '400px',\n                        data: { Title: \"Xác nhận\", Message: \"Dịch vụ này đã được thêm vào trước đó. Bạn có chắc chắn muốn thêm dịch vụ này hay không?\" }\n                    }).afterClosed().subscribe(result => {\n                        if (result == \"Yes\") {\n                            self.xulyThemDichVuGiuong();\n                        }\n                    });\n                }\n                else {\n                    self.xulyThemDichVuGiuong();\n                }\n            },\n                (err: ApiError) => {\n                    self.validationErrors = err.ValidationErrors;\n                    if (err.Message != \"Validation Failed\") {\n                        self.notificationService.showError(err.Message);\n                    }\n                });\n        }\n        else {\n            self.xulyThemDichVuGiuong();\n        }\n    }\n\n    xulyThemDichVuGiuong() {\n        if(this.dangXuLy)\n            return;\n        this.dangXuLy=true;\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        this.yeuCauDichVuGiuong.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId //when have data real\n        this.yeuCauDichVuGiuong.YeuCauKhamBenhId = this.benhNhanHienTai.Id;\n        this.apiService.post<any>(\"KhamBenh/ThemYeuCauGiuongBenh\", this.yeuCauDichVuGiuong).subscribe(result => {\n            let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm \"]);\n            if (result.IsVuotQuaSoDuTaiKhoan) {\n                mess += this.messVuotQuaTamUng; //\"Chỉ định này đã vượt quá số tiền trong tài khoản của người bệnh.\";\n                this.notificationService.showWarning(mess);\n            }\n            else {\n                this.notificationService.showSuccess(mess);\n            }\n            if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                this.benhNhanHienTai.SoDuTaiKhoan = result.SoDuTaiKhoan;\n                this.benhNhanHienTai.SoDuTaiKhoanDisplay = result.SoDuTaiKhoanDisplay;\n            }\n            if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                this.benhNhanHienTai.SoDuTaiKhoanConLai = result.SoDuTaiKhoanConLai;\n                this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = result.SoDuTaiKhoanConLaiDisplay;\n            }\n            this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, EnumNhomGoiDichVu.DichVuGiuongBenh, null, false);\n            this.huyDichVuGiuong();\n            this.dangXuLy=false;\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n                this.dangXuLy=false;\n            });\n    }\n\n    themGhiNhanVatTuBenhVien(ghiNhanNew: ChiDinhGhiNhanVatTuThuoc = null){\n        var self = this;\n        self.validationErrors = [];\n\n        if(ghiNhanNew == null)\n        {\n            self.showPopupLoadingData(EnumTypeLoadingData.Update);\n        }\n        self.chiDinhGhiNhanVatTuThuoc.YeuCauTiepNhanId = self.benhNhanHienTai.YeuCauTiepNhanId;\n        self.chiDinhGhiNhanVatTuThuoc.YeuCauKhamBenhId = self.benhNhanHienTai.Id;\n\n        if(self.documentType == DocumentType.KhamBenhDangKham || this.benhNhanHienTai.IsKhamBenhDangKham)\n        {\n            self.chiDinhGhiNhanVatTuThuoc.IsKhamBenhDangKham = true;\n        }\n\n        if(ghiNhanNew != null)\n        {\n            ghiNhanNew.YeuCauTiepNhanId = self.benhNhanHienTai.YeuCauTiepNhanId;\n            ghiNhanNew.YeuCauKhamBenhId = self.benhNhanHienTai.Id;\n            ghiNhanNew.IsKhamBenhDangKham = self.chiDinhGhiNhanVatTuThuoc.IsKhamBenhDangKham;\n\n            self.xuLyThemGhiNhanVatTuBenhVien(ghiNhanNew, true);\n        }\n        else {\n            var obj = {\n                \"YeuCauTiepNhanId\": self.benhNhanHienTai.YeuCauTiepNhanId,\n                \"YeuCauKhamBenhId\": self.benhNhanHienTai.Id,\n                \"DichVuChiDinhId\": self.chiDinhGhiNhanVatTuThuoc.DichVuChiDinhId,\n                \"DichVuGhiNhanId\": self.chiDinhGhiNhanVatTuThuoc.DichVuGhiNhanId\n            }\n            self.apiService.post<boolean>(\"KhamBenh/KiemTraTrungGhiNhanVTTHThuoc\", obj).subscribe(resultData => {\n                if (resultData) {\n                    self.dialog.open(ConfirmComponent, {\n                        disableClose: false,\n                        width: '400px',\n                        data: { Title: \"Xác nhận\", Message: \"VTTTH/Thuốc này đã được thêm vào trước đó. Bạn có chắc chắn muốn thêm hay không?\" }\n                    }).afterClosed().subscribe(result => {\n                        if (result == \"Yes\") {\n                            self.xuLyThemGhiNhanVatTuBenhVien(self.chiDinhGhiNhanVatTuThuoc);\n                        }\n                        else\n                        {\n                            self.huyGhiNhanVatTuBenhVien();\n                            self.closePopupLoadingData();\n                        }\n                    });\n                }\n                else {\n                    self.xuLyThemGhiNhanVatTuBenhVien(self.chiDinhGhiNhanVatTuThuoc);\n                }\n            },\n                (err: ApiError) => {\n                    self.validationErrors = err.ValidationErrors;\n                    if (err.Message != \"Validation Failed\") {\n                        self.notificationService.showError(err.Message);\n                    }\n                });\n        }\n    }\n\n    xuLyThemGhiNhanVatTuBenhVien(chiDinh: any, isUpdate: boolean = false) {\n        if(this.dangXuLy)\n            return;\n        this.dangXuLy=true;\n        var self = this;\n        chiDinh.LoaiNoiChiDinh = EnumLoaiNoiChiDinh.YeuCauKhamBenh\n        self.apiService.post<any>(\"KhamBenh/ThemGhiNhanVatTuBenhVien\", chiDinh).subscribe(result => {\n            if (result != undefined && result != null) {\n                if (result.SoDuTaiKhoan != self.benhNhanHienTai.SoDuTaiKhoan) {\n                    self.benhNhanHienTai.SoDuTaiKhoan = result.SoDuTaiKhoan;\n                    self.benhNhanHienTai.SoDuTaiKhoanDisplay = result.SoDuTaiKhoanDisplay;\n                }\n                if (result.SoDuTaiKhoanConLai != self.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                    self.benhNhanHienTai.SoDuTaiKhoanConLai = result.SoDuTaiKhoanConLai;\n                    self.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = result.SoDuTaiKhoanConLaiDisplay;\n                }\n            }\n            let mess = CommonService.format(SystemMessage.ActionSuccessfully, [isUpdate ? \"Cập nhật\" : \"Thêm\"]);\n            self.notificationService.showSuccess(mess);\n\n            if (self.chiDinhGhiNhanVatTuThuoc.LoaiKho == 5) {\n                self.xuatGhiNhanVatTuBenhVien(false);\n            }\n            else {\n                self.getGridDataGhiNhanVTHHThuoc(EnumTypeLoadingData.Update, false);\n            }\n            self.huyGhiNhanVatTuBenhVien();\n            self.dangXuLy=false;\n        },\n            (err: ApiError) => {\n                self.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    self.notificationService.showError(err.Message);\n                }\n                self.closePopupLoadingData();\n                self.dangXuLy=false;\n            });\n    }\n\n    themVatTuBenhVien() {\n        // this.validationErrors = [];\n        // this.yeuCauVatTuBenhVien.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId //when have data real\n        // this.yeuCauVatTuBenhVien.YeuCauKhamBenhId = this.benhNhanHienTai.Id;\n        // this.yeuCauVatTuBenhVien.BaoHiemChiTra = this.benhNhanHienTai.BaoHiemChiTra //when have data real\n        // this.yeuCauVatTuBenhVien.GiaBaoHiemThanhToan = this.benhNhanHienTai.GiaBaoHiemThanhToan  //when have data real\n        // this.apiService.post<any>(\"KhamBenh/ThemCauYeuVatTuBenhVien\", this.yeuCauVatTuBenhVien).subscribe(() => {\n        //     this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm \"]));\n        //     this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, EnumNhomGoiDichVu.VatTuTieuHao);\n        //     this.huyVatTuBenhVien();\n        // },\n        //     (err: ApiError) => {\n        //         this.validationErrors = err.ValidationErrors;\n        //         if (this.validationErrors === null)\n        //             this.notificationService.showSuccess(err.Message);\n        //     });\n    }\n\n    themDuocPhamBenhVien() {\n        // this.validationErrors = [];\n        // this.yeuCauDuocPham.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId //when have data real\n        // this.yeuCauDuocPham.YeuCauKhamBenhId = this.benhNhanHienTai.Id;\n        // this.yeuCauDuocPham.BaoHiemChiTra = this.benhNhanHienTai.BaoHiemChiTra //when have data real\n        // this.yeuCauDuocPham.GiaBaoHiemThanhToan = this.benhNhanHienTai.GiaBaoHiemThanhToan  //when have data real\n        // this.apiService.post<any>(\"KhamBenh/ThemYeuCauDuocPhamBenhVien\", this.yeuCauDuocPham).subscribe(() => {\n        //     this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm \"]));\n        //     this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, EnumNhomGoiDichVu.DuocPham);\n        //     this.huyDuocPhamBenhVien();\n        // },\n        //     (err: ApiError) => {\n        //         this.validationErrors = err.ValidationErrors;\n        //         if (this.validationErrors === null)\n        //             this.notificationService.showSuccess(err.Message);\n        //     });\n    }\n\n    xoaGoiDichVuKhac(dataItem: any) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {\n            if (result == \"Yes\") {\n                this.showPopupLoadingData(EnumTypeLoadingData.Delete);\n                let url = \"\";\n                switch (dataItem.NhomId) {\n                    case 1: url = \"KhamBenh/XoaDichVuKhamBenh\"; break;\n                    case 2: url = \"KhamBenh/XoaDichVuKyThuat\"; break;\n                    // case 3: url = \"KhamBenh/XoaDichVuVatTuTieuHao\"; break;\n                    // case 4: url = \"KhamBenh/XoaYeuCauDuocPham\"; break;\n                    case 5: url = \"KhamBenh/XoaDichVuGiuongBenh\"; break;\n                    default: break;\n                }\n\n                let xoaChiDinhViewModel = new XoaChiDinhViewModel();\n                xoaChiDinhViewModel.DichVuId = dataItem.Id;\n                xoaChiDinhViewModel.YeuCauKhamBenhId = this.benhNhanHienTai.Id;\n                if (this.documentType == DocumentType.KhamBenhDangKham || this.benhNhanHienTai.IsKhamBenhDangKham) {\n                    xoaChiDinhViewModel.IsKhamBenhDangKham = true;\n                }\n                xoaChiDinhViewModel.IsKhamDoanTatCa = this.isKhamDoanTatCa;\n\n                this.apiService.post<any>(url, xoaChiDinhViewModel).subscribe(result => {\n                    // if (dataItem.NhomId == 2) {\n                    //     let phongBenhVienId = this.authService.getPhongLamViecId();\n                    //     let nhanVienId = this.authService.getAccessUser().Id;\n                    //     let yeuCauKhamBenhId = this.benhNhanHienTai.Id;\n                    //     this.willShowTabPhauThuatThuThuat(phongBenhVienId, nhanVienId, yeuCauKhamBenhId);\n                    // }\n                    if (result != undefined && result != null) {\n                        if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                            this.benhNhanHienTai.SoDuTaiKhoan = result.SoDuTaiKhoan;\n                            this.benhNhanHienTai.SoDuTaiKhoanDisplay = result.SoDuTaiKhoanDisplay;\n                        }\n                        if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                            this.benhNhanHienTai.SoDuTaiKhoanConLai = result.SoDuTaiKhoanConLai;\n                            this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = result.SoDuTaiKhoanConLaiDisplay;\n                        }\n                    }\n                    this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xóa \"]));\n                    this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, this.nhomDichVuDangChon, null, false);\n                },\n                    (err: ApiError) => {\n                        this.notificationService.showError(err.Message);\n                        this.closePopupLoadingData();\n                    });\n            }\n        });\n    }\n\n    huyDichVuKyThuat() {\n        // this.autoFocusElementFirst();\n        if (this.dichVuDonLeChecked) {\n            this.autoFocusElementFirst();\n        }\n        else {\n            this.autoFocusElementFirst(EnumTypeComponent.KDropdown);\n        }\n\n        this.FlagDuocHuongBaoHiem = false;\n        this.validationErrors = [];\n        this.yeuCauDichVuKyThuat = new YeuCauDichVuKyThuat();\n        this.huyGoiKhongChietKhau();\n    }\n\n    huyGoiKhongChietKhau() {\n        this.autoFocusElementFirst(EnumTypeComponent.KDropdown);\n        this.yeuCauGoiDichVu = new YeuCauGoiDichVu();\n        this.lstDichVuTheoGoiDangChon = [];\n    }\n\n    huyDichVuKhamBenh() {\n        this.autoFocusElementFirst();\n        this.FlagDuocHuongBaoHiem = false;\n        this.validationErrors = [];\n        this.yeuCauKhamBenh = new YeuCauKhamBenh();\n        this.yeuCauKhamBenh.TinhPhi = true;\n        this.FlagDuocHuongBaoHiem = false;\n        if (this.dropdownLoaiGiaDVKham != undefined) {\n            this.dropdownLoaiGiaDVKham.getDataForLookup();\n        }\n    }\n\n    huyDichVuGiuong() {\n        this.autoFocusElementFirst();\n        this.FlagDuocHuongBaoHiem = false;\n        this.validationErrors = [];\n        this.yeuCauDichVuGiuong = new YeuCauDichVuGiuongBenh();\n        this.yeuCauDichVuGiuong.TinhPhi = true;\n        this.FlagDuocHuongBaoHiem = false;\n    }\n\n    huyGhiNhanVatTuBenhVien() {\n        this.FlagDuocHuongBaoHiem = false;\n        this.validationErrors = [];\n\n        // let dichVuChiDinhId = this.chiDinhGhiNhanVatTuThuoc.DichVuChiDinhId;\n        // let dichVuChiDinhDisplay = this.chiDinhGhiNhanVatTuThuoc.TenDichVuChiDinh;\n        // let khoId = this.chiDinhGhiNhanVatTuThuoc.KhoId;\n        // let tenKho = this.chiDinhGhiNhanVatTuThuoc.TenKho;\n\n        // this.chiDinhGhiNhanVatTuThuoc = new ChiDinhGhiNhanVatTuThuoc();\n\n        // this.chiDinhGhiNhanVatTuThuoc.DichVuChiDinhId = dichVuChiDinhId;\n        // this.chiDinhGhiNhanVatTuThuoc.TenDichVuChiDinh = dichVuChiDinhDisplay;\n        // this.chiDinhGhiNhanVatTuThuoc.KhoId = khoId;\n        // this.chiDinhGhiNhanVatTuThuoc.TenKho = tenKho;\n\n        this.chiDinhGhiNhanVatTuThuoc.DichVuGhiNhanId = null;\n        this.chiDinhGhiNhanVatTuThuoc.TenDichVuGhiNhan = null;\n        this.chiDinhGhiNhanVatTuThuoc.strDonViTinh = null;\n        this.chiDinhGhiNhanVatTuThuoc.SoLuong = null;\n\n        if(this.benhNhanHienTai.DuocHuongBaoHiem && this.data.YeuCauTiepNhan.CoBHYT)\n        {\n            this.showGhiNhanCoBHYT = true;\n            if(this.chiDinhGhiNhanVatTuThuoc.LaDuocPhamBHYT == null)\n            {\n                this.chiDinhGhiNhanVatTuThuoc.LaDuocPhamBHYT = true;\n            }\n        }\n        else\n        {\n            this.showGhiNhanCoBHYT = false;\n            this.chiDinhGhiNhanVatTuThuoc.LaDuocPhamBHYT = false;\n        }\n    }\n\n    huyDuocPhamBenhVien() {\n        this.FlagDuocHuongBaoHiem = false;\n        this.validationErrors = [];\n        this.yeuCauDuocPham = new YeuCauDuocPham();\n    }\n\n    chonLoaiDichVu(event) {\n        if (event !== null && event !== undefined)\n            if (event.KeyId !== null && event.KeyId !== undefined) {\n                this.yeuCauDichVuKyThuat.TenLoai = event.DisplayName;\n                this.yeuCauDichVuKyThuat.LoaiDichVuKyThuat = event.KeyId;\n            }\n    }\n\n    chonNoiThucHienDVKT(event) {\n        if (event !== null && event !== undefined)\n            if (event.KeyId !== null && event.KeyId !== undefined) {\n                this.yeuCauDichVuKyThuat.NoiThucHienId = event.PhongKhamId;\n                this.yeuCauDichVuKyThuat.NoiThucHien = event.DisplayName;\n            }\n    }\n\n    chonNoiThucHien(event) {\n        if (event !== null && event !== undefined)\n            if (event.KeyId !== null && event.KeyId !== undefined)\n                this.yeuCauDichVuKyThuat.NoiThucHien = event.DisplayName;\n    }\n\n    chonChiDinhVatTu(event) {\n        if (event !== null && event !== undefined)\n            if (event.KeyId !== null && event.KeyId !== undefined) {\n                this.yeuCauVatTuBenhVien.NoiCapVatTuId = event.PhongKhamId;\n                this.yeuCauVatTuBenhVien.NhanVienCapVatTuId = event.NhanVienId;\n                this.yeuCauVatTuBenhVien.NoiChiDinh = event.DisplayName;\n            }\n    }\n\n    chonNoiChiDinhGiuong(event) {\n        if (event !== null && event !== undefined)\n            if (event.KeyId !== null && event.KeyId !== undefined) {\n                //this.yeuCauDichVuGiuong.NhanVienChiDinhId = event.BacSiId;\n                this.yeuCauDichVuGiuong.NoiThucHienId = event.PhongKhamId;\n                this.yeuCauDichVuGiuong.NoiChiDinh = event.DisplayName;\n            }\n    }\n\n    chonNoiKhamBenh(event) {\n        if (event !== null && event !== undefined)\n            if (event.KeyId !== null && event.KeyId !== undefined) {\n                this.yeuCauKhamBenh.NoiChiDinhId = event.PhongKhamId;\n                this.yeuCauKhamBenh.NoiThucHien = event.DisplayName;\n                this.yeuCauKhamBenh.NhanVienChiDinhId = event.BacSiId;\n            }\n    }\n\n    chonDuocPhamChiDinh(event) {\n        if (event !== null && event !== undefined)\n            if (event.KeyId !== null && event.KeyId !== undefined) {\n                this.yeuCauDuocPham.NoiChiDinh = event.DisplayName;\n                this.yeuCauDuocPham.NoiCapThuocId = event.PhongKhamId;\n                this.yeuCauDuocPham.NhanVienCapThuocId = event.NhanVienId;\n            }\n    }\n\n    selectLuaChonChiDinh(event) {\n        if (event !== undefined && event != null) {\n            switch (event) {\n                case 1:\n                    this.nhomDichVuDangChon = EnumNhomGoiDichVu.DichVuKhamBenh;\n                    this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, this.nhomDichVuDangChon, EnumTypeLoadingData.View);\n                    this.huyDichVuKhamBenh(); \n                    this.hienThiNutInChiDinh = true ;\n                    break;\n                case 3:\n                    this.nhomDichVuDangChon = EnumNhomGoiDichVu.DichVuKyThuat\n                    this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, this.nhomDichVuDangChon, EnumTypeLoadingData.View);\n                    //this.huyDichVuKyThuat(); this.dichVuDonLeChecked = true; break;\n                    this.hienThiNutInChiDinh = true ;\n                    this.huyDichVuKyThuatMultiselect(); this.dichVuDonLeChecked = true; break;\n                   \n                case 4:\n                    this.nhomDichVuDangChon = EnumNhomGoiDichVu.DichVuGiuongBenh;\n                    this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, this.nhomDichVuDangChon, EnumTypeLoadingData.View);\n                    this.huyDichVuGiuong(); \n                    this.hienThiNutInChiDinh = true ;\n                    break;\n                case 5:\n                    this.nhomDichVuDangChon = EnumNhomGoiDichVu.VatTuTieuHao\n                    //this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, this.nhomDichVuDangChon, EnumTypeLoadingData.View);\n                    this.getGridDataGhiNhanVTHHThuoc(EnumTypeLoadingData.View);\n                    this.huyGhiNhanVatTuBenhVien(); \n                    this.hienThiNutInChiDinh = false ;\n                    break;\n            }\n        }\n        this.FlagDuocHuongBaoHiem = false;\n        this.validationErrors = [];\n    }\n\n    updateNoiThucHien(event: any, modeldata: any, dataItem: any) {\n        if (event !== null && event !== undefined) {\n            let url = \"\";\n            let modelUpdate = {\n                YeuCauId: modeldata.Id,\n                KhoaPhongId: event,\n                BacSiId: 0,\n            }\n            switch (modeldata.NhomId) {\n                case 1: url = \"UpdateNoiChiDinhKhamBenh\";\n                    break;\n                case 2: url = \"UpdateNoiChiDinhKyThuat\";\n                    break;\n                case 3: url = \"UpdateNoiChiDinhVatTuTieuHao\";\n                    break;\n                case 4: url = \"UpdateNoiChiDinhDuocPham\";\n                    break;\n                case 5: url = \"UpdateNoiChiDinhGiuongBenh\";\n                    break;\n                default:\n                    break;\n            }\n            this.apiService.post<any>(\"KhamBenh/\" + url, modelUpdate).subscribe(() => {\n                this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Cập nhật \"]));\n            },\n                (err: ApiError) => {\n                    this.notificationService.showError(CommonService.format(SystemMessage.ActionUnsuccessfully, [\"Cập nhật \"]));\n                });\n        }\n    }\n\n    XacNhanIn(kieuin) {\n        this.listChonDichVuChiDinhReLoad = [];\n        let gridData = this.gridChild.getAllDataFromDatasource();\n        gridData.forEach(elements => {\n            this.listChonDichVuChiDinh.forEach(lstChiDinh => {\n                if (lstChiDinh.dichVuChiDinhId == elements.Id && lstChiDinh.nhomChiDinhId == elements.NhomId) {\n                    this.listChonDichVuChiDinhReLoad.push(lstChiDinh);\n                }\n            });\n        });\n        let listGridSelect :any[]= [];\n         gridData.forEach(elements => {\n            this.listChonDichVuChiDinh.forEach(lstChiDinh => {\n                if (lstChiDinh.dichVuChiDinhId == elements.Id && lstChiDinh.nhomChiDinhId == elements.NhomId && elements.TrangThaiDichVuId !=4 && elements.TrangThaiDichVuId !=6) {\n                    listGridSelect.push(elements);\n                }\n            });\n        });\n        let dataIn = {\n            YeuCauTiepNhanId: this.benhNhanHienTai.YeuCauTiepNhanId,\n            YeuCauKhamBenhid: this.benhNhanHienTai.Id,\n            ListDichVuChiDinh: this.listChonDichVuChiDinhReLoad,\n            InChungChiDinh: kieuin,\n            hosting: window.location.protocol + \"//\" + window.location.host,\n            KieuInChung: true,\n            GhiChuCanLamSang: this.data.YeuCauKhamBenh.GhiChuCanLamSang,\n            IsKhamDoanTatCa : this.isKhamDoanTatCa,\n            EnumInChiDinhKhamBenhNgoaiTru: 1 , // để tạm,\n            listGridSelect: listGridSelect,\n            Loai: 1 // ngoại trú hay nội trú\n        }\n       \n        // let dialogRef = this.dialog.open(InBangKhamBenhChiDinhComponent, {\n        //     width: '1000px',\n        //     data: { Model: dataIn }\n        // }).afterClosed().subscribe(result => {\n\n        // });\n        let dialogRef = this.dialog.open(PopupChonLoaiInViewComponent, {\n            width: '1000px',\n            data: { Model: dataIn }\n        });\n    }\n\n    onChangeDonGiaKhamBenh(event) {\n        if (event != undefined && event != null) {\n            this.yeuCauKhamBenh.ThanhTien = event * 1;\n        }\n        else {\n            this.yeuCauKhamBenh.ThanhTien = null;\n        }\n    }\n\n    onChangeDonGiaDichVuGiuong(event) {\n        if (event == undefined && event == null) {\n            this.yeuCauDichVuGiuong.Gia = null;\n            this.yeuCauDichVuGiuong.ThanhTien = null;\n            this.FlagDuocHuongBaoHiem = false;\n        }\n    }\n\n    getThongTinThanhToan(event: any) {\n        if (event != undefined && event != null && this.yeuCauKhamBenh.DichVuKhamBenhBenhVienId != null && this.yeuCauKhamBenh.DichVuKhamBenhBenhVienId != 0\n            && this.yeuCauKhamBenh.NhomGiaDichVuKhamBenhBenhVienId != null) {\n\n            this.thongTinDichVuKham = new ThongTinDichVuKhamTiepTheo(this.benhNhanHienTai.YeuCauTiepNhanId,\n                this.benhNhanHienTai.Id, this.yeuCauKhamBenh.DichVuKhamBenhBenhVienId, this.yeuCauKhamBenh.NhomGiaDichVuKhamBenhBenhVienId);\n\n            this.apiService.post<any>(\"KhamBenh/GetDonGia\", this.thongTinDichVuKham).subscribe(\n                resultData => {\n                    this.yeuCauKhamBenh.Gia = resultData.GiaDichVuKham;\n                    // this.yeuCauKhamBenh.GiaBaoHiemThanhToan = resultData.GiaBHTT;\n                    this.yeuCauKhamBenh.ThanhTien = this.yeuCauKhamBenh.Gia;\n                    this.FlagDuocHuongBaoHiem = resultData.FlagDuocHuongBaoHiem;\n                    this.yeuCauKhamBenh.DuocHuongBaoHiem = resultData.DuocHuongBaoHiem;\n\n                    this.thongTinDichVuKham = new ThongTinDichVuKhamTiepTheo();\n                });\n        } else {\n            this.yeuCauKhamBenh.Gia = null;\n            this.yeuCauKhamBenh.GiaBaoHiemThanhToan = null;\n            this.yeuCauKhamBenh.ThanhTien = null;\n            this.yeuCauKhamBenh.DuocHuongBaoHiem = false;\n        }\n    }\n\n    chonDichVuKham(event) {\n        if (event != undefined && event != null) {\n            this.yeuCauKhamBenh.MaDichVu = event.Ma;\n            this.yeuCauKhamBenh.TenDichVu = event.Ten;\n        }\n        else {\n            this.yeuCauKhamBenh.MaDichVu = null;\n        }\n    }\n\n    timeout = null;\n    CapNhatGridItemDichVuKyThuat(dataItem, event, loaiCapNhat) {\n        let gridItem = new GridItemYeuCauDichVuKyThuat();\n        gridItem.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        gridItem.YeuCauDichVuKyThuatId = dataItem.Id;\n        gridItem.YeuCauKhamBenhId = this.benhNhanHienTai.Id;\n\n        var showLoading: boolean = true;\n        var reloadGrid: boolean = true;\n        switch (loaiCapNhat) {\n            case \"NhomGia\":\n                gridItem.NhomGiaDichVuKyThuatBenhVienId = event;\n                gridItem.IsUpdateLoaiGia = true; break;\n            case \"SoLan\":\n                gridItem.SoLan = event;\n                gridItem.IsUpdateSoLan = true; break;\n            case \"NoiThucHien\":\n                gridItem.NoiThucHienId = event;\n                gridItem.IsUpdateNoiThucHien = true;\n                if (event == undefined || event == null) {\n                    dataItem.NguoiThucHienId = null;\n                    dataItem.TenNguoiThucHien = null;\n                }\n                break;\n            case \"NguoiThucHien\":\n                if (event == undefined || event == null) {\n                    return;\n                }\n                gridItem.NguoiThucHienId = event;\n                gridItem.IsUpdateNguoiThucHien = true;\n                //showLoading = false;\n                //reloadGrid = false;\n                break;\n            case \"BenhPhamXetNghiem\":\n                gridItem.BenhPhamXetNghiem = event;\n                gridItem.IsUpdateBenhPhamXetNghiem = true;\n                break;\n\n            case \"SwapDichVuGoi\":\n                console.log('SwapDichVuGoi', event);\n                gridItem.LaDichVuTrongGoi = event;\n                gridItem.IsSwapDichVuGoi = true;\n                if(dataItem.NhomId == 1)\n                {\n                    gridItem.IsDichVuKham = true;\n                }\n                break;\n\n            case \"SwapDichVuKhuyenMai\":\n                gridItem.LaDichVuKhuyenMai = event;\n                gridItem.IsSwapDichVuKhuyenMai = true;\n                if(dataItem.NhomId == 1)\n                {\n                    gridItem.IsDichVuKham = true;\n                }\n                break;\n        }\n\n        if (loaiCapNhat == \"SoLan\" || loaiCapNhat == \"BenhPhamXetNghiem\") {\n            var self = this;\n            var timeDelay = loaiCapNhat == \"SoLan\" ? 1000 : 2000;\n            clearTimeout(self.timeout);\n            self.timeout = setTimeout(function () {\n                self.saveItemDichVuKyThuat(gridItem);\n            }, timeDelay);\n        }\n        else {\n            this.saveItemDichVuKyThuat(gridItem, showLoading, reloadGrid);\n        }\n    }\n\n    saveItemDichVuKyThuat(gridItem, showLoading: boolean = true, reloadGrid: boolean = true) {\n        if(this.documentType == DocumentType.KhamBenhDangKham || this.benhNhanHienTai.IsKhamBenhDangKham)\n        {\n            gridItem.IsKhamBenhDangKham = true;\n        }\n        gridItem.IsKhamDoanTatCa = this.isKhamDoanTatCa;\n        this.apiService.post<any>(\"KhamBenh/CapNhatGridItemDichVuKyThuat\", gridItem).subscribe(\n            resultData => {\n                this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Cập nhật \"]));\n\n                if (resultData != undefined && resultData != null) {\n                    if (resultData.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                        this.benhNhanHienTai.SoDuTaiKhoan = resultData.SoDuTaiKhoan;\n                        this.benhNhanHienTai.SoDuTaiKhoanDisplay = resultData.SoDuTaiKhoanDisplay;\n                    }\n                    if (resultData.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                        this.benhNhanHienTai.SoDuTaiKhoanConLai = resultData.SoDuTaiKhoanConLai;\n                        this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = resultData.SoDuTaiKhoanConLaiDisplay;\n                    }\n                }\n\n                // const phongBenhVienId = this.authService.getPhongLamViecId();\n                // const nhanVienId = this.authService.getAccessUser().Id;\n                // const yeuCauKhamBenhId = this.benhNhanHienTai.Id;\n                // this.willShowTabPhauThuatThuThuat(phongBenhVienId, nhanVienId, yeuCauKhamBenhId);\n\n                if (reloadGrid) {\n                    this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, this.nhomDichVuDangChon, null, showLoading); // false\n                }\n            },\n            (err: ApiError) => {\n                this.focusElementById('txtSoLuongDVKT' + gridItem.YeuCauDichVuKyThuatId);\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n            });\n    }\n\n    focusElementById(tagId: string){\n        var $focused = jQuery('#'+tagId).find(\".k-input\");\n        jQuery(\".k-input\").blur();\n        setTimeout(function () {\n            if ($focused.length > 0) {\n                $focused.focus();\n            }\n        }, 100);\n    }\n\n    changeSoLan(dataItem, loaiCapNhat) {\n        var self = this;\n        setTimeout(function () {\n            self.CapNhatGridItemDichVuKyThuat(dataItem.Id, dataItem.SoLuong, loaiCapNhat);\n        }, 500);\n    }\n    // nam ho\n    // nam ho\n    public checkboxOnly: boolean = true;\n\n    public selectAllState: SelectAllCheckboxState = 'unchecked';\n    public isCheckAll: boolean = false;\n\n    public isCheckXacNhanIn: boolean = false;\n    checkboxIn(event: any, dataItem: any) {\n        if (this.gridChild.gridDataSource.data == undefined) {\n            this.listChonDichVuChiDinh = [];\n        }\n        let index = this.listChonDichVuChiDinh.findIndex(x => x.dichVuChiDinhId == dataItem.Id && x.nhomChiDinhId == dataItem.NhomId);\n        if (event == true) {\n            if (index == -1) {\n                var chiDinh = new ListInChiDinh();\n                chiDinh.nhomChiDinhId = dataItem.NhomId;\n                chiDinh.dichVuChiDinhId = dataItem.Id;\n                this.listChonDichVuChiDinh.push(chiDinh);\n                if (this.listChonDichVuChiDinh.length == this.gridChild.gridDataSource.data.filter(sp=>sp.TrangThaiDichVuId != 4 && sp.TrangThaiDichVuId != 6).length) {\n                    this.checkAll = true;\n                }\n            }\n            else {\n                if (this.listChonDichVuChiDinh.length == this.gridChild.gridDataSource.data.filter(sp=>sp.TrangThaiDichVuId != 4 && sp.TrangThaiDichVuId != 6).length) {\n                    this.checkAll = true;\n                }\n                else {\n                    this.checkAll = false;\n                }\n            }\n\n            dataItem.isCheckRowItem = true;\n\n            // xử lý check nhóm dịch vụ\n            let nameGr = 'ckbGroup-' + dataItem.Nhom;\n            var ckbGroup = <HTMLInputElement>document.getElementById(nameGr);\n            if (!ckbGroup.checked) {\n                ckbGroup.checked = true;\n            }\n        }\n        else {\n            this.checkAll = false;\n            if (index >= 0) {\n                this.listChonDichVuChiDinh.splice(index, 1)\n            }\n\n            // xử lý uncheck nhóm dịch vụ\n            let indexItemCheckedTrongNhom = this.gridChild.gridDataSource.data.findIndex(x => x.Nhom == dataItem.Nhom && x.isCheckRowItem == true);\n            if (indexItemCheckedTrongNhom == -1) {\n                let nameGr = 'ckbGroup-' + dataItem.Nhom;\n                var ckbGroup = <HTMLInputElement>document.getElementById(nameGr);\n                if (ckbGroup.checked) {\n                    ckbGroup.checked = false;\n                }\n            }\n        }\n        if (this.listChonDichVuChiDinh.length == this.gridChild.gridDataSource.data.filter(sp=>sp.TrangThaiDichVuId != 4 && sp.TrangThaiDichVuId != 6).length) {\n            this.checkAll = true;\n        }\n        else {\n            this.checkAll = false;\n        }\n        this.isCheckXacNhanIn = this.listChonDichVuChiDinh.length > 0;\n    }\n\n    SelectcheckAllboxIn(event: any) {\n        let gridDataIn: any[] = [];\n        if (this.gridChild.gridDataSource.data == undefined) {\n            this.listChonDichVuChiDinh = [];\n        }\n        else {\n\n            gridDataIn = this.gridChild.getAllDataFromDatasource();\n            this.listChonDichVuChiDinh = [];\n        }\n        if (event == true) {\n\n            gridDataIn.forEach(element => {\n                element.isCheckRowItem = true;\n                this.checkAll = true;\n                let index = this.listChonDichVuChiDinh.findIndex(x => x.dichVuChiDinhId == element.Id && x.nhomChiDinhId == element.NhomId);\n                if (index == -1) {\n                    var chiDinh = new ListInChiDinh();\n                    chiDinh.nhomChiDinhId = element.NhomId;\n                    chiDinh.dichVuChiDinhId = element.Id;\n                    this.listChonDichVuChiDinh.push(chiDinh);\n                }\n\n                // xử lý check nhóm dịch vụ\n                let nameGr = 'ckbGroup-' + element.Nhom;\n                var ckbGroup = <HTMLInputElement>document.getElementById(nameGr);\n                if (!ckbGroup.checked) {\n                    ckbGroup.checked = true;\n                }\n            })\n        }\n        else {\n\n            gridDataIn.forEach(element => {\n                element.isCheckRowItem = false;\n\n                // xử lý uncheck nhóm dịch vụ\n                let nameGr = 'ckbGroup-' + element.Nhom;\n                var ckbGroup = <HTMLInputElement>document.getElementById(nameGr);\n                if (ckbGroup.checked) {\n                    ckbGroup.checked = false;\n                }\n            });\n            this.listChonDichVuChiDinh = [];\n        }\n        this.isCheckXacNhanIn = this.listChonDichVuChiDinh.length > 0;\n    }\n    @HostListener('document:keydown', ['$event'])\n    keyEvent(event: KeyboardEvent) {\n\n        if (this.isCheckXacNhanIn) {\n            // ctrl + p\n            if (event.ctrlKey && event.keyCode == 80) {\n                event.preventDefault();\n                if (this.dialog.openDialogs.length > 0) {\n                    return;\n                }\n                this.XacNhanIn(0); // in mặc đinh là 0\n            }\n        }\n\n\n        // ctr + s\n        if (event.ctrlKey && event.keyCode == 83) {\n            event.preventDefault();\n            if (this.dialog.openDialogs.length > 0) {\n                return;\n            }\n            if (this.nhomDichVuDangChon == EnumNhomGoiDichVu.DichVuKhamBenh) {\n                this.themDichVuKhamBenh();\n            }\n            else if (this.nhomDichVuDangChon == EnumNhomGoiDichVu.DichVuKyThuat) {\n                //this.themDichVuKyThuat();\n                this.themDichVuKyThuatMultiselect();\n            }\n            else if (this.nhomDichVuDangChon == EnumNhomGoiDichVu.DichVuGiuongBenh) {\n                this.themDichVuGiuong();\n            }\n        }\n\n        // esc\n        if (event.keyCode == 27) {\n            event.preventDefault();\n            if (this.dialog.openDialogs.length > 0) {\n                return;\n            }\n            if (this.nhomDichVuDangChon == EnumNhomGoiDichVu.DichVuKhamBenh) {\n                this.huyDichVuKhamBenh();\n            }\n            else if (this.nhomDichVuDangChon == EnumNhomGoiDichVu.DichVuKyThuat) {\n                //this.huyDichVuKyThuat();\n                this.huyDichVuKyThuatMultiselect();\n            }\n            else if (this.nhomDichVuDangChon == EnumNhomGoiDichVu.DichVuGiuongBenh) {\n                this.huyDichVuGiuong();\n            }\n        }\n\n        // enter\n        if (event.keyCode == 13) {\n            if (this.dialog.openDialogs.length > 0) {\n                return;\n            }\n            if (this.nhomDichVuDangChon == EnumNhomGoiDichVu.DichVuKyThuat) {\n                event.preventDefault();\n                this.closeChangeDichVuKyThuat(true, true);\n            }\n        }\n    }\n\n    autoCheckDuocHuongBaoHiem(value, item) {\n        item.DuocHuongBaoHiem = this.FlagDuocHuongBaoHiem && value;\n    }\n\n    autoHideShowTinhPhi(value, item) {\n        item.TinhPhi = !value;\n    }\n\n    changeCheckBoxGoiDichVu(event) {\n        this.huyGoiKhongChietKhau();\n    }\n\n    changeCheckAllDichVu(event) {\n        if (event) {\n            this.checkALlDichVuTrongGoi = true;\n            this.yeuCauGoiDichVu.DichVuChiDinhTheoGois = this.lstDichVuTheoGoiDangChon.map(x => x['KeyId']);\n            this.lstDichVuTheoGoiDangChon.forEach(item => {\n                item.IsCheck = true;\n            });\n        }\n        else {\n            this.checkALlDichVuTrongGoi = false;\n            this.yeuCauGoiDichVu.DichVuChiDinhTheoGois = [];\n            this.lstDichVuTheoGoiDangChon.forEach(item => {\n                item.IsCheck = false;\n            });\n        }\n    }\n\n    changeDichVuTrongGoi(event, keyId) {\n        let index = this.yeuCauGoiDichVu.DichVuChiDinhTheoGois.findIndex(x => x == keyId);\n        if (event) {\n            if (index == -1) {\n                this.yeuCauGoiDichVu.DichVuChiDinhTheoGois.push(keyId);\n                if (this.yeuCauGoiDichVu.DichVuChiDinhTheoGois.length > 0 && this.yeuCauGoiDichVu.DichVuChiDinhTheoGois.length == this.lstDichVuTheoGoiDangChon.length) {\n                    this.checkALlDichVuTrongGoi = true;\n                }\n            }\n        }\n        else {\n            if (index != -1) {\n                this.yeuCauGoiDichVu.DichVuChiDinhTheoGois.splice(index, 1);\n                this.checkALlDichVuTrongGoi = false;\n            }\n        }\n    }\n\n    xemSoDoGiuong() {\n        let data = new YeuCauDichVuGiuongBenh();\n        data.NoiThucHienId = this.yeuCauDichVuGiuong.NoiThucHienId;\n        data.TenNoiThucHien = this.yeuCauDichVuGiuong.TenNoiThucHien;\n        data.GiuongBenhId = this.yeuCauDichVuGiuong.GiuongBenhId;\n        data.TenGiuongBenh = this.yeuCauDichVuGiuong.TenGiuongBenh;\n        data.DichVuGiuongBenhVienId = this.yeuCauDichVuGiuong.DichVuGiuongBenhVienId;\n\n        this.dialog\n            .open(LanKhamHienTaiSoDoGiuongPopupComponent, {\n                disableClose: true,\n                width: \"900px\",\n                data: data\n            })\n            .afterClosed().subscribe(result => {\n                // xử lý gán lại giá trị phòng - giường nếu có chọn\n                if (result != undefined && result != null && result != \"\") {\n                    this.validationErrors = [];\n                    this.yeuCauDichVuGiuong.NoiThucHienId = result.NoiThucHienId;\n                    this.yeuCauDichVuGiuong.TenNoiThucHien = result.TenNoiThucHien;\n                    this.yeuCauDichVuGiuong.GiuongBenhId = result.GiuongBenhId;\n                    this.yeuCauDichVuGiuong.TenGiuongBenh = result.TenGiuongBenh;\n                    this.yeuCauDichVuGiuong.IdWhereNoiThucHienChiDinh = result.NoiThucHienId;\n                    this.dropdownNoiThucHienGB.filterChange(null);\n                    this.yeuCauDichVuGiuong.IdWhereGiuongBenh = result.GiuongBenhId;\n                    this.dropdownGiuongTrongPhong.filterChange(null);\n\n                }\n            });\n    }\n\n    xemChiDinhCuaBacSiKhac() {\n        this.dialog.open(LanKhamHienTaiChiDinhCuaBacSiKhacPopupComponent, {\n            disableClose: false,\n            width: '1000px',\n            data: {YeuCauTiepNhanId: this.benhNhanHienTai.YeuCauTiepNhanId, YeuCauKhamBenhId: this.benhNhanHienTai.Id,GhiChuCanLamSang:this.data.YeuCauKhamBenh.GhiChuCanLamSang}\n        }).afterClosed().subscribe(() => {\n        });\n    }\n\n    autoFocusElementFirst(elementType: EnumTypeComponent = EnumTypeComponent.KInput) {\n        let type = \"\";\n        switch (elementType) {\n            case EnumTypeComponent.KInput:\n                type = \".k-input\"; break;\n            case EnumTypeComponent.KDropdown:\n                type = \".k-dropdown-wrap\"; break;\n\n            default:\n                type = \".k-input\"; break;\n        }\n\n\n        const invalidControl = this.el.nativeElement.querySelector(type);\n        if (invalidControl) {\n            invalidControl.focus();\n            //invalidControl.blur();\n        }\n    }\n\n    autoUnFocusElementFirst(elementType: EnumTypeComponent = EnumTypeComponent.KInput) {\n        let type = \"\";\n        switch (elementType) {\n            case EnumTypeComponent.KInput:\n                type = \".k-input\"; break;\n            case EnumTypeComponent.KDropdown:\n                type = \".k-dropdown-wrap\"; break;\n\n            default:\n                type = \".k-input\"; break;\n        }\n\n\n        const invalidControl = this.el.nativeElement.querySelector(type);\n        if (invalidControl) {\n            invalidControl.blur();\n        }\n\n        // if (document.activeElement instanceof HTMLElement) {\n        //     console.log('blur');\n        //     document.activeElement.blur();\n        // }\n    }\n\n    changeNhomDichVuKyThuat(event) {\n        if (event == undefined || event == null) {\n            this.chiDinhDichVuKyThuatMultiselect.TenNhomDichVu = null;\n        }\n        else {\n            // cần kiểm tra lại kỹ hơn\n            //this.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs = [];\n            this.validationErrors = [];\n        }\n    }\n\n    selectChangeNhomDichVuKyThuat(event) {\n        if (event != undefined && event != null) {\n            this.chiDinhDichVuKyThuatMultiselect.TenNhomDichVu = event.DisplayName;\n        }\n        else {\n            this.chiDinhDichVuKyThuatMultiselect.TenNhomDichVu = null;\n        }\n    }\n\n    changeMultiDichVuKyThuat(event) {\n        if (event != undefined && event != null && event.length > 0) {\n            if (!this.chiDinhDichVuKyThuatMultiselect.ShowComboboxNhomDichVuKyThuat) {\n                this.closeChangeDichVuKyThuat(true);\n            }\n        }\n        else {\n            this.chiDinhDichVuKyThuatMultiselect.ShowComboboxNhomDichVuKyThuat = true;\n            this.validationErrors = [];\n            // this.chiDinhDichVuKyThuatMultiselect.NhomDichVuBenhVienId = null;\n            // this.chiDinhDichVuKyThuatMultiselect.TenNhomDichVu = null;\n        }\n    }\n\n    closeChangeDichVuKyThuat(event, xuLyThemDichVu: boolean = false) {\n        var self = this;\n        if (event && self.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs != null && self.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs.length > 0) {\n            let nhomIdTemp: number = 0;\n            let tenNhomTemp: string = \"\";\n\n            let arrDichVu = self.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs.slice();\n            // arrDichVu.forEach(element => {\n            for (let element of arrDichVu) {\n                let elementObj = JSON.parse(element);\n                if (nhomIdTemp != 0 && nhomIdTemp != elementObj.NhomId) {\n                    self.chiDinhDichVuKyThuatMultiselect.ShowComboboxNhomDichVuKyThuat = false;\n                    self.chiDinhDichVuKyThuatMultiselect.NhomDichVuBenhVienId = null;\n                    self.chiDinhDichVuKyThuatMultiselect.TenNhomDichVu = null;\n                    nhomIdTemp = 0;\n                    if (xuLyThemDichVu) {\n                        self.themDichVuKyThuatMultiselect();\n                    }\n                    return;\n                }\n                else {\n                    nhomIdTemp = elementObj.NhomId;\n                    tenNhomTemp = elementObj.TenNhom;\n                }\n            }\n\n            if (nhomIdTemp != 0) {\n                self.chiDinhDichVuKyThuatMultiselect.ShowComboboxNhomDichVuKyThuat = true;\n                self.validationErrors = [];\n                self.chiDinhDichVuKyThuatMultiselect.NhomDichVuBenhVienId = nhomIdTemp;\n                self.chiDinhDichVuKyThuatMultiselect.TenNhomDichVu = tenNhomTemp;\n\n                if (xuLyThemDichVu) {\n                    this.themDichVuKyThuatMultiselect();\n                }\n            }\n        }\n    }\n\n    themDichVuKyThuatMultiselect() {\n        var self = this;\n        this.validationErrors = [];\n\n        // xử lý kiểm tra thêm trùng dịch vụ\n\n\n        // xử lý thêm dịch vụ kỹ thuật\n\n\n        if (self.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs != undefined\n            && self.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs != null\n            && self.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs.length > 0) {\n\n            self.showPopupLoadingData(EnumTypeLoadingData.Update);\n            self.chiDinhDichVuKyThuatMultiselect.YeuCauTiepNhanId = self.benhNhanHienTai.YeuCauTiepNhanId;\n            self.chiDinhDichVuKyThuatMultiselect.YeuCauKhamBenhId = self.benhNhanHienTai.Id;\n            self.apiService.post<boolean>(\"KhamBenh/KiemTraChiDinhDichVuKyThuatDaCoTheoYeuCauTiepNhan\", self.chiDinhDichVuKyThuatMultiselect).subscribe(resultData => {\n                self.closePopupLoadingData();\n                if (resultData) {\n                    self.dialog.open(ConfirmComponent, {\n                        disableClose: false,\n                        width: '400px',\n                        data: { Title: \"Xác nhận\", Message: \"Dịch vụ này đã được thêm vào trước đó. Bạn có chắc chắn muốn thêm dịch vụ này hay không?\" }\n                    }).afterClosed().subscribe(result => {\n                        if (result == \"Yes\") {\n                            self.xuLyKiemTraDichVuKyThuatTrungTrongGoi();\n                        }\n                        else\n                        {\n                            self.resetFocus();\n                        }\n                    });\n                }\n                else {\n                    self.xuLyKiemTraDichVuKyThuatTrungTrongGoi();\n                }\n            },\n                (err: ApiError) => {\n                    self.closePopupLoadingData();\n                    self.validationErrors = err.ValidationErrors;\n                    if (err.Message != \"Validation Failed\") {\n                        self.notificationService.showError(err.Message);\n                    }\n                });\n        }\n        else {\n            self.xuLyKiemTraDichVuKyThuatTrungTrongGoi();\n        }\n    }\n\n    huyDichVuKyThuatMultiselect() {\n        if (this.dichVuDonLeChecked) {\n            this.autoFocusElementFirst();\n        }\n        else {\n            this.autoFocusElementFirst(EnumTypeComponent.KDropdown);\n        }\n\n        this.FlagDuocHuongBaoHiem = false;\n        this.validationErrors = [];\n        this.chiDinhDichVuKyThuatMultiselect = new ChiDinhDichVuKyThuatMultiselectViewModel();\n        // this.huyGoiKhongChietKhau();\n    }\n\n    xuLyKiemTraDichVuKyThuatTrungTrongGoi(){\n        this.chiDinhDichVuKyThuatMultiselect.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        this.chiDinhDichVuKyThuatMultiselect.YeuCauKhamBenhId = this.benhNhanHienTai.Id;\n        if(this.documentType == DocumentType.KhamBenhDangKham || this.benhNhanHienTai.IsKhamBenhDangKham)\n        {\n            this.chiDinhDichVuKyThuatMultiselect.IsKhamBenhDangKham = true;\n        }\n        var self = this;\n        // cập nhật xử lý\n        //1: kiểm tra có dịch vụ nào trùng trong gói ko -> hiện popup thông báo\n        //2: xử lý thêm dịch vụ ko có trong gói và có trong gói(nếu có)\n\n        // cập nhật ngày 02/06/2021: ko kiểm tra dịch vụ có trong gói nữa\n        self.xuLyThemDichVuKyThuatMultiselect();\n        // self.apiService.post<any>(\"KhamBenh/KiemTraDichVuKyThuatChiDinhCoTrongGoiCuaBenhNhan\", self.chiDinhDichVuKyThuatMultiselect).subscribe(resultData => {\n        //     if (resultData.Message != null && resultData.Message != '' && resultData.DichVuChiDinhCoTrongGois.length > 0) {\n        //         self.dialog.open(ConfirmComponent, {\n        //             disableClose: false,\n        //             width: '800px',\n        //             data: { Title: \"Xác nhận\", Message: resultData.Message }\n        //         }).afterClosed().subscribe(result => {\n        //             if (result == \"Yes\") {\n        //                 self.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatTuGois = resultData.DichVuChiDinhCoTrongGois;\n        //             }\n        //             self.xuLyThemDichVuKyThuatMultiselect();\n        //         });\n        //     }\n        //     else {\n        //         self.xuLyThemDichVuKyThuatMultiselect();\n        //     }\n        // },\n        // (err: ApiError) => {\n        //     self.validationErrors = err.ValidationErrors;\n        //     if (err.Message != \"Validation Failed\") {\n        //         self.notificationService.showError(err.Message);\n        //     }\n        // });\n    }\n\n    xuLyThemDichVuKyThuatMultiselect() {\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        this.chiDinhDichVuKyThuatMultiselect.LoaiDangNhap = this.hinhThucKhamBenh;\n        this.chiDinhDichVuKyThuatMultiselect.IsKhamDoanTatCa = this.isKhamDoanTatCa;\n\n        //BVHD-3761\n        //=======================================================================================================\n        let arrDichVu = this.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs.slice();\n        arrDichVu.forEach(element => {\n            let elementObj = JSON.parse(arrDichVu[0]);\n            this.showbuttonLuuVaInPhieuXetNghiem = this.dichVuSarsCoVs.includes(elementObj.DichVuId);\n            \n        });\n       \n        if(this.showbuttonLuuVaInPhieuXetNghiem == true)\n        {\n            \n            this.apiService.post\n            this.dialog\n            .open(XnSarsCov2PopupComponent, {\n                width: \"600px\",\n                data: { LoaiMauXetNghiem:this.loaiBenhPham,LoaiMauXetNghiemText:this.loaiBenhPhamText,BieuHienLamSang:this.bieuHienLamSang,DichTeSarsCoV2:this.dichTeSarsCoV2}\n            })\n            .afterClosed()\n            .subscribe((result) => {\n                if (result != undefined) {\n                     this.chiDinhDichVuKyThuatMultiselect.BieuHienLamSang = result.BieuHienLamSang;\n                     this.chiDinhDichVuKyThuatMultiselect.DichTeSarsCoV2 = result.DichTeSarsCoV2;\n                     this.ThemDichVuSarsCov2();\n                }\n                else{\n                    this.ThemDichVuSarsCov2();\n                }\n\n            });\n        //=======================================================================================================\n        }\n        else{\n            this.apiService.post<any>(\"KhamBenh/ThemYeuCauDichVuKyThuatMultiselect\", this.chiDinhDichVuKyThuatMultiselect).subscribe(result => {\n                this.huyDichVuKyThuatMultiselect();\n    \n                // if(result.ChuyenHangDoiSangLamChiDinh)\n                // {\n                //     this.benhNhanHienTai.TrangThai = TrangThaiYeuCauKhamBenh.DangLamChiDinh;\n                // }\n    \n                let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm \"]);\n                if (result.IsVuotQuaSoDuTaiKhoan) {\n                    mess += this.messVuotQuaTamUng; //\"Chỉ định này đã vượt quá số tiền trong tài khoản của người bệnh.\";\n                    this.notificationService.showWarning(mess);\n                }\n                else {\n                    this.notificationService.showSuccess(mess);\n                }\n    \n                if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                    this.benhNhanHienTai.SoDuTaiKhoan = result.SoDuTaiKhoan;\n                    this.benhNhanHienTai.SoDuTaiKhoanDisplay = result.SoDuTaiKhoanDisplay;\n                }\n                if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                    this.benhNhanHienTai.SoDuTaiKhoanConLai = result.SoDuTaiKhoanConLai;\n                    this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = result.SoDuTaiKhoanConLaiDisplay;\n                }\n    \n                // let phongBenhVienId = this.authService.getPhongLamViecId();\n                // let nhanVienId = this.authService.getAccessUser().Id;\n                // let yeuCauKhamBenhId = this.benhNhanHienTai.Id;\n                //this.willShowTabPhauThuatThuThuat(phongBenhVienId, nhanVienId, yeuCauKhamBenhId);\n    \n                this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, EnumNhomGoiDichVu.DichVuKyThuat, null, false);\n            },\n                (err: ApiError) => {\n                    this.validationErrors = err.ValidationErrors;\n                    if (err.Message != \"Validation Failed\") {\n                        this.notificationService.showError(err.Message);\n                    }\n                    this.closePopupLoadingData();\n                });\n        }\n\n      \n    }\n\n    changeDichVuDonLe(event) {\n        if (event && this.nhomDichVuDangChon == EnumNhomGoiDichVu.DichVuKyThuat) {\n            this.huyDichVuKyThuatMultiselect();\n        }\n    }\n    \n    chonDichVuTieuHao(event){\n        if(event != undefined && event != null)\n        {\n            this.chiDinhGhiNhanVatTuThuoc.strDonViTinh = event.DonViTinh;\n        }\n        else\n        {\n            this.chiDinhGhiNhanVatTuThuoc.strDonViTinh = null;\n        }\n    }\n\n    getGridDataGhiNhanVTHHThuoc(typeLoadingData: EnumTypeLoadingData = EnumTypeLoadingData.Update, showLoadingPopup: boolean = true) {\n        if (showLoadingPopup) {\n            this.showPopupLoadingData(typeLoadingData);\n        }\n\n        var url = \"KhamBenh/GetGridDataGhiNhanVTTHThuoc?yeuCauKhamBenhId=\" + this.benhNhanHienTai.Id;\n        this.apiService.get<any>(url).subscribe(resultData => {\n            if (resultData !== undefined && resultData != null) {\n                this.gridDataSourceVTTHThuoc = {\n                    data: resultData,\n                    total: resultData.length\n                }\n                this.gridChildVTTHThuoc.gridDataSource = this.gridDataSourceVTTHThuoc\n                this.gridChildVTTHThuoc.setDataSource();\n                this.closePopupLoadingData();\n            }\n            else {\n                this.closePopupLoadingData();\n            }\n        },\n            (err: ApiError) => {\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n\n    timeoutVTTHThuoc = null;\n    CapNhatGridItemGhiNhaVTTHThuoc(resultUpdate: any, dataItem) {\n        //this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        let gridItem = new GridItemGhiNhanVTTHThuoc();\n        gridItem.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        gridItem.YeuCauKhamBenhId = this.benhNhanHienTai.Id;\n        gridItem.YeuCauGhiNhanVTTHThuocId = dataItem.Id;\n        gridItem.IsCapNhatSoLuong = true;\n        gridItem.IsCapNhatTinhPhi = true;\n        gridItem.SoLuong = resultUpdate.SoLuong;\n        gridItem.TinhPhi = resultUpdate.TinhPhi;\n\n        var self = this;\n        clearTimeout(self.timeoutVTTHThuoc);\n        self.timeoutVTTHThuoc = setTimeout(function () {\n            self.saveItemGhiNhanVatTuTieuHao(gridItem, true);\n        }, 1000);\n    }\n\n    changeTinhPhiGhiNhanVTTH(tinhPhi: boolean, dataItem)\n    {\n        let gridItem = new GridItemGhiNhanVTTHThuoc();\n        gridItem.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        gridItem.YeuCauKhamBenhId = this.benhNhanHienTai.Id;\n        gridItem.YeuCauGhiNhanVTTHThuocId = dataItem.Id;\n        gridItem.IsCapNhatTinhPhi = true;\n        gridItem.TinhPhi = tinhPhi;\n        this.saveItemGhiNhanVatTuTieuHao(gridItem);\n    }\n\n    saveItemGhiNhanVatTuTieuHao(gridItem, showLoading: boolean = true) {\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        if(this.documentType == DocumentType.KhamBenhDangKham || this.benhNhanHienTai.IsKhamBenhDangKham)\n        {\n            gridItem.IsKhamBenhDangKham = true;\n        }\n        this.apiService.post<any>(\"KhamBenh/CapNhatGridItemGhiNhanVTTHThuoc\", gridItem).subscribe(\n            resultData => {\n                if (resultData != undefined && resultData != null) {\n                    if (resultData.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                        this.benhNhanHienTai.SoDuTaiKhoan = resultData.SoDuTaiKhoan;\n                        this.benhNhanHienTai.SoDuTaiKhoanDisplay = resultData.SoDuTaiKhoanDisplay;\n                    }\n                    if (resultData.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                        this.benhNhanHienTai.SoDuTaiKhoanConLai = resultData.SoDuTaiKhoanConLai;\n                        this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = resultData.SoDuTaiKhoanConLaiDisplay;\n                    }\n                }\n                this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Cập nhật \"]));\n                this.getGridDataGhiNhanVTHHThuoc(EnumTypeLoadingData.Update, false);\n            },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n\n    XoaGhiNhanVTTHThuoc(dataItem, updateDetail: any = null) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessConfirm, [updateDetail != null ? 'cập nhật' : 'xóa']) }\n        }).afterClosed().subscribe(result => {\n            if (result == \"Yes\") {\n                this.showPopupLoadingData(EnumTypeLoadingData.Delete);\n                let gridItem = new GridItemGhiNhanVTTHThuoc();\n                gridItem.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n                gridItem.YeuCauKhamBenhId = this.benhNhanHienTai.Id;\n                gridItem.YeuCauGhiNhanVTTHThuocId = dataItem.Id;\n                if (this.documentType == DocumentType.KhamBenhDangKham || this.benhNhanHienTai.IsKhamBenhDangKham) {\n                    gridItem.IsKhamBenhDangKham = true;\n                }\n\n                this.apiService.post<any>(\"KhamBenh/XuLyXoaYeuCauGhiNhanVTTHThuoc\", gridItem).subscribe(result => {\n                    if (result != undefined && result != null) {\n                        if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                            this.benhNhanHienTai.SoDuTaiKhoan = result.SoDuTaiKhoan;\n                            this.benhNhanHienTai.SoDuTaiKhoanDisplay = result.SoDuTaiKhoanDisplay;\n                        }\n                        if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                            this.benhNhanHienTai.SoDuTaiKhoanConLai = result.SoDuTaiKhoanConLai;\n                            this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = result.SoDuTaiKhoanConLaiDisplay;\n                        }\n                    }\n                    if(updateDetail == null) // trường hợp xóa trực tiếp\n                    {\n                        this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xóa\"]));\n                        this.getGridDataGhiNhanVTHHThuoc(EnumTypeLoadingData.Update, false);\n                    }\n                    else // trường hợp xóa cũ và thêm lại theo số lượng mới\n                    {\n                        let ghiNhanNew = new ChiDinhGhiNhanVatTuThuoc();\n                        ghiNhanNew.DichVuChiDinhId = dataItem.DichVuChiDinhId;\n                        ghiNhanNew.DichVuGhiNhanId = dataItem.DichVuGhiNhanId;\n                        ghiNhanNew.KhoId = dataItem.KhoId;\n                        ghiNhanNew.LoaiKho = dataItem.LoaiKho;\n                        ghiNhanNew.LaDuocPhamBHYT = dataItem.LaBHYT;\n                        ghiNhanNew.SoLuong = updateDetail.SoLuong;\n                        ghiNhanNew.TinhPhi = updateDetail.TinhPhi;\n                        ghiNhanNew.strDonViTinh = \"DVT\"; // cheat validation\n                        this.themGhiNhanVatTuBenhVien(ghiNhanNew);\n                    }\n                },\n                    (err: ApiError) => {\n                        this.validationErrors = err.ValidationErrors;\n                        if (err.Message != \"Validation Failed\") {\n                            this.notificationService.showError(err.Message);\n                        }\n                        this.closePopupLoadingData();\n                    });\n            }\n        });\n    }\n\n    xuatGhiNhanVatTuBenhVien(isShowPopupLoading: boolean = true){\n        if(isShowPopupLoading)\n        {\n            this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        }\n        let gridItem = new GridItemGhiNhanVTTHThuoc();\n        gridItem.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        gridItem.YeuCauKhamBenhId = this.benhNhanHienTai.Id;\n        if(this.documentType == DocumentType.KhamBenhDangKham || this.benhNhanHienTai.IsKhamBenhDangKham)\n        {\n            gridItem.IsKhamBenhDangKham = true;\n        }\n        this.apiService.post<any>(\"KhamBenh/XuLyXuatYeuCauGhiNhanVTTHThuoc\", gridItem).subscribe(\n            resultData => {\n                if(isShowPopupLoading)\n                {\n                    this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xuất\"]));\n                }\n                this.getGridDataGhiNhanVTHHThuoc(EnumTypeLoadingData.Update, false);\n            },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n\n    onKeyEnterAddItem(event: any) {\n        if (event.key == \"Enter\" && !this.isSelectingItem) {\n          if (this.isSelectingItem != true) {\n              if(this.nhomDichVuDangChon == EnumNhomGoiDichVu.DichVuKhamBenh)\n              {\n                  this.themDichVuKhamBenh();\n              }\n              else if(this.nhomDichVuDangChon == EnumNhomGoiDichVu.DichVuKyThuat)\n              {\n                this.themDichVuKyThuatMultiselect();\n              }\n              else if(this.nhomDichVuDangChon == EnumNhomGoiDichVu.VatTuTieuHao)\n              {\n                  this.themGhiNhanVatTuBenhVien();\n              }\n          }\n          else {\n            this.isSelectingItem = false;\n          }\n        }\n    }\n\n    openCombobox(event: any) {\n        if(event){\n            this.isSelectingItem = true;\n        }\n        else{\n            this.isSelectingItem = false;\n        }\n    }\n\n    // openMultiselect(event: any) {\n    //     if(event)\n    //         this.isSelectingItem = true;\n    // }\n\n    // closeMultiselect(event: any) {\n    //     if(event)\n    //         this.isSelectingItem = false;\n    // }\n\n    resetFocus() {\n        var $focused = jQuery(':focus');\n        jQuery(\".k-input\").blur();\n        setTimeout(function () {\n            if ($focused.length > 0) {\n                $focused.focus();\n            }\n        }, 100);\n\n    }\n\n    xemNhomDichVuThuongDung() {\n        var self = this;\n        let boPhan = BoPhan.KhamBenh;        \n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n            self.dialog.open(LanKhamHienTaiNhomDichVuThuongDungPopupComponent, {\n                disableClose: false,\n                width: '1500px',\n                data: { DocumentType: self.documentType , boPhan : boPhan }\n            }).afterClosed().subscribe(yeuCauGoiThuongDung => {\n                if(yeuCauGoiThuongDung)\n                {\n                    yeuCauGoiThuongDung.YeuCauKhamBenhId = self.benhNhanHienTai.Id;\n                    yeuCauGoiThuongDung.YeuCauTiepNhanId = self.benhNhanHienTai.YeuCauTiepNhanId;\n\n                    //BVHD-3575: trường hợp dv khám chỉ định từ nội trú, thì ko cho phép chỉ định dv khám nữa\n                    yeuCauGoiThuongDung.IsPTTT = self.benhNhanHienTai.LaChiDinhTuNoiTru;\n                    yeuCauGoiThuongDung.LaPhauThuatThuThuat = this.benhNhanHienTai.LaChiDinhTuNoiTru;\n                    if(self.documentType == DocumentType.KhamBenhDangKham || this.benhNhanHienTai.IsKhamBenhDangKham)\n                    {\n                        yeuCauGoiThuongDung.IsKhamBenhDangKham = true;\n                    }\n                    self.apiService.post<Array<ChiDinhGoiDichVuThuongDungDichVuLoi>>(\"KhamBenh/KiemTraDichVuTrongGoiDaCoTheoYeuCauTiepNhan\", yeuCauGoiThuongDung).subscribe(resultData => {\n                        if (resultData && resultData.length > 0) {\n                            self.dialog.open(LanKhamHienTaiNhomDichVuLoiPopupComponent, {\n                                disableClose: false,\n                                width: '1200px',\n                                data: {arrDichVuCanhBao: resultData, DocumentType: this.documentType}\n                            }).afterClosed().subscribe(dichVuKhongThems => {\n                                if (dichVuKhongThems) {\n                                    yeuCauGoiThuongDung.DichVuKhongThems = dichVuKhongThems;\n                                    self.xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung);\n                                }\n                                // else\n                                // {\n                                //     self.xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung);\n                                // }\n                            });\n                        }\n                        else {\n                            self.xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung);\n                        }\n                    },\n                        (err: ApiError) => {\n                            self.validationErrors = err.ValidationErrors;\n                            if (err.Message != \"Validation Failed\") {\n                                self.notificationService.showError(err.Message);\n                            }\n                        });\n                }\n            });\n        }\n        else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung: ChiDinhGoiDichVuThuongDung) {\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        this.apiService.post<any>(\"KhamBenh/ThemYeuGoiDichVuThuongDung\", yeuCauGoiThuongDung).subscribe(result => {\n            let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm \"]);\n            if (result.IsVuotQuaSoDuTaiKhoan) {\n                mess += this.messVuotQuaTamUng; //\"Chỉ định này đã vượt quá số tiền trong tài khoản của người bệnh.\";\n                this.notificationService.showWarning(mess);\n            }\n            else {\n                this.notificationService.showSuccess(mess);\n            }\n\n            if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                this.benhNhanHienTai.SoDuTaiKhoan = result.SoDuTaiKhoan;\n                this.benhNhanHienTai.SoDuTaiKhoanDisplay = result.SoDuTaiKhoanDisplay;\n            }\n            if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                this.benhNhanHienTai.SoDuTaiKhoanConLai = result.SoDuTaiKhoanConLai;\n                this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = result.SoDuTaiKhoanConLaiDisplay;\n            }\n            this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, EnumNhomGoiDichVu.DichVuKyThuat, null, false);\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n\n    async kiemTraGoiDichVuCuaBenhNhan() {\n        this.apiService.get<boolean>(\"KhamBenh/KiemTraDangKyGoiDichVuTheoBenhNhan?benhNhanId=\" + this.data.YeuCauTiepNhan.BenhNhanId).subscribe(result => {\n            this.coGoiDichVu = result;\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n            });\n    }\n\n    xemGoiDichVu() {\n        var self = this;\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n            self.dialog.open(LanKhamHienTaiSuDungGoiDichVuPopupComponent, {\n                disableClose: false,\n                width: '1800px',\n                //BVHD-3575: nếu dv khám đang khám là chỉ định từ nội trú thì ko cho phép chỉ định dv khám nữa\n                //IsPTTT: false\n                data: { DocumentType: self.documentType, BenhNhanId: self.data.YeuCauTiepNhan.BenhNhanId, IsPTTT: self.benhNhanHienTai.LaChiDinhTuNoiTru, IsKhamBenhDangKham: self.benhNhanHienTai.IsKhamBenhDangKham }\n            }).afterClosed().subscribe(yeuCauGoiMarketing => {\n                if(yeuCauGoiMarketing != undefined && yeuCauGoiMarketing != null && yeuCauGoiMarketing != \"\")\n                {\n                    yeuCauGoiMarketing.YeuCauKhamBenhId = self.benhNhanHienTai.Id;\n                    yeuCauGoiMarketing.YeuCauTiepNhanId = self.benhNhanHienTai.YeuCauTiepNhanId;\n                    self.apiService.post<Array<ChiDinhGoiDichVuTheoBenhNhanDichVuLoi>>(\"KhamBenh/KiemTraDichVuTrongGoiMarketingDaCoTheoYeuCauTiepNhan\", yeuCauGoiMarketing).subscribe(resultData => {\n                        if (resultData && resultData.length > 0) {\n                            self.dialog.open(LanKhamHienTaiNhomDichVuLoiPopupComponent, {\n                                disableClose: false,\n                                width: '1200px',\n                                data: {arrDichVuCanhBao: resultData, DocumentType: this.documentType}\n                            }).afterClosed().subscribe(dichVuKhongThems => {\n                                if (dichVuKhongThems) {\n                                    yeuCauGoiMarketing.DichVuKhongThems = dichVuKhongThems;\n                                    self.xuLyThemNhomDichVuMarketing(yeuCauGoiMarketing);\n                                }\n                            });\n                            // self.dialog.open(ConfirmComponent, {\n                            //     disableClose: false,\n                            //     width: '400px',\n                            //     data: { Title: \"Xác nhận\", Message: resultData }\n                            // }).afterClosed().subscribe(result => {\n                            //     if (result == \"Yes\") {\n                            //         self.xuLyThemNhomDichVuMarketing(yeuCauGoiMarketing);\n                            //     }\n                            //     else\n                            //     {\n                            //         self.resetFocus();\n                            //     }\n                            // });\n                        }\n                        else {\n                            self.xuLyThemNhomDichVuMarketing(yeuCauGoiMarketing);\n                        }\n                    },\n                    (err: ApiError) => {\n                        self.validationErrors = err.ValidationErrors;\n                        if (err.Message != \"Validation Failed\") {\n                            self.notificationService.showError(err.Message);\n                        }\n                    });\n                }\n            });\n        }\n        else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    xuLyThemNhomDichVuMarketing(yeuCauGoiMarketing: ChiDinhGoiDichVuTheoBenhNhan) {\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        this.apiService.post<any>(\"KhamBenh/ThemChiDinhGoiDichVuTheoBenhNhan\", yeuCauGoiMarketing).subscribe(result => {\n            let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm\"]);\n            if (result.IsVuotQuaSoDuTaiKhoan || result.IsVuotQuaBaoLanhGoi == true) {\n                mess += this.messVuotQuaTamUng; //\"Chỉ định này đã vượt quá số tiền trong tài khoản của người bệnh.\";\n                this.notificationService.showWarning(mess);\n            }\n            else {\n                this.notificationService.showSuccess(mess);\n            }\n\n            if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                this.benhNhanHienTai.SoDuTaiKhoan = result.SoDuTaiKhoan;\n                this.benhNhanHienTai.SoDuTaiKhoanDisplay = result.SoDuTaiKhoanDisplay;\n            }\n            if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                this.benhNhanHienTai.SoDuTaiKhoanConLai = result.SoDuTaiKhoanConLai;\n                this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = result.SoDuTaiKhoanConLaiDisplay;\n            }\n            this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, EnumNhomGoiDichVu.DichVuKyThuat, null, false);\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n\n    changeGhiChuCLS(event)\n    {\n        this.changeGhiChu = true;\n    }\n\n    changeGhiChuCanLamSang(event) {\n        if (this.changeGhiChu) {\n            this.changeGhiChu = false;\n            if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n                var obj = {\n                    YeuCauKhamBenhId: this.data.YeuCauKhamBenh.Id,\n                    GhiChuCanLamSang: this.data.YeuCauKhamBenh.GhiChuCanLamSang\n                }\n                this.apiService.put<any>(\"KhamBenh/CapNhatGhiChuCanLamSang\", obj).subscribe(result => {\n                    this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Lưu ghi chú\"]));\n                },\n                    (err: ApiError) => {\n                        this.validationErrors = err.ValidationErrors;\n                        if (err.Message != \"Validation Failed\") {\n                            this.notificationService.showError(err.Message);\n                        }\n                    });\n            }\n            else {\n                this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n            }\n        }\n    }\n\n    huyDichVuDaHuyThanhToan(dataItem)\n    {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            this.dialog.open(HuyDichVuHuyThanhToanPopupComponent, {\n                disableClose: false,\n                width: '600px',\n                data: { Title: \"Xác nhận\", Message: \"Bạn có chắc hủy dịch vụ này không?\" }\n              }).afterClosed().subscribe(result => {\n                if (result != undefined && result != null && result != \"\") {\n                    this.showPopupLoadingData(EnumTypeLoadingData.Cancel);\n                    let url = \"\";\n                    switch (dataItem.NhomId) {\n                        case 1: url = \"KhamBenh/XoaDichVuKhamBenh\"; break;\n                        case 2: url = \"KhamBenh/XoaDichVuKyThuat\"; break;\n                        default: break;\n                    }\n    \n                    let xoaChiDinhViewModel = new XoaChiDinhViewModel();\n                    xoaChiDinhViewModel.DichVuId = dataItem.Id;\n                    xoaChiDinhViewModel.YeuCauKhamBenhId = this.benhNhanHienTai.Id;\n                    xoaChiDinhViewModel.LyDoHuyDichVu = result;\n                    xoaChiDinhViewModel.IsKhamDoanTatCa = this.isKhamDoanTatCa;\n                    if (this.documentType == DocumentType.KhamBenhDangKham || this.benhNhanHienTai.IsKhamBenhDangKham) {\n                        xoaChiDinhViewModel.IsKhamBenhDangKham = true;\n                    }\n    \n                    this.apiService.post<any>(url, xoaChiDinhViewModel).subscribe(result => {\n                        if (result != undefined && result != null) {\n                            if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                                this.benhNhanHienTai.SoDuTaiKhoan = result.SoDuTaiKhoan;\n                                this.benhNhanHienTai.SoDuTaiKhoanDisplay = result.SoDuTaiKhoanDisplay;\n                            }\n                            if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                                this.benhNhanHienTai.SoDuTaiKhoanConLai = result.SoDuTaiKhoanConLai;\n                                this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = result.SoDuTaiKhoanConLaiDisplay;\n                            }\n                        }\n                        this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Hủy dịch vụ \"]));\n                        this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, this.nhomDichVuDangChon, null, false);\n                    },\n                        (err: ApiError) => {\n                            this.notificationService.showError(err.Message);\n                            this.closePopupLoadingData();\n                        });\n                }\n              });\n        }\n        else\n        {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    cacDichVuKM() {\n        let documentType = \"KhamBenh\";\n        if(this.documentType == DocumentType.KhamBenhDangKham)\n        {\n            documentType = \"KhamBenhDangKham\";\n        }\n        this.dialog.open(DichVuKhuyenMaiPopupComponent, {\n            disableClose: false,\n            width: '1500px',\n            data: { BenhNhanId: this.data.YeuCauTiepNhan.BenhNhanId , DocumentType: documentType }\n        }).afterClosed().subscribe(() => {\n        });\n    }\n\n    //===================================BVHD-3825==========================================\n    xemGoiDichVuKhuyenMai() {\n        var self = this;\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n            let documentType = \"KhamBenh\";\n            if (self.documentType == DocumentType.KhamBenhDangKham) {\n                documentType = \"KhamBenhDangKham\";\n            }\n            // self.dialog.open(LanKhamHienTaiSuDungGoiDichVuPopupComponent, {\n            self.dialog.open(DichVuKhuyenMaiPopupComponent, {\n                disableClose: false,\n                width: '1800px',\n                //BVHD-3575: nếu dv khám đang khám là chỉ định từ nội trú thì ko cho phép chỉ định dv khám nữa\n                //IsPTTT: false\n                data: { DocumentType: self.documentType, BenhNhanId: self.data.YeuCauTiepNhan.BenhNhanId, IsPTTT: self.benhNhanHienTai.LaChiDinhTuNoiTru == true, IsKhamBenhDangKham: self.benhNhanHienTai.IsKhamBenhDangKham }\n            }).afterClosed().subscribe(yeuCauGoiMarketing => {\n                if(yeuCauGoiMarketing != undefined && yeuCauGoiMarketing != null && yeuCauGoiMarketing != \"\")\n                {\n                    yeuCauGoiMarketing.YeuCauKhamBenhId = self.benhNhanHienTai.Id;\n                    yeuCauGoiMarketing.YeuCauTiepNhanId = self.benhNhanHienTai.YeuCauTiepNhanId;\n                    self.apiService.post<Array<ChiDinhGoiDichVuTheoBenhNhanDichVuLoi>>(\"TiepNhanBenhNhan/KiemTraDichVuKhuyenMaiTrongGoiMarketingDaCoTheoYeuCauTiepNhan\", yeuCauGoiMarketing).subscribe(resultData => {\n                        if (resultData && resultData.length > 0) {\n                            self.dialog.open(LanKhamHienTaiNhomDichVuLoiPopupComponent, {\n                                disableClose: false,\n                                width: '1200px',\n                                data: {arrDichVuCanhBao: resultData, DocumentType: this.documentType}\n                            }).afterClosed().subscribe(dichVuKhongThems => {\n                                if (dichVuKhongThems) {\n                                    yeuCauGoiMarketing.DichVuKhongThems = dichVuKhongThems;\n                                    self.xuLyThemNhomDichVuKhuyenMai(yeuCauGoiMarketing);\n                                }\n                            });\n                        }\n                        else {\n                            self.xuLyThemNhomDichVuKhuyenMai(yeuCauGoiMarketing);\n                        }\n                    },\n                    (err: ApiError) => {\n                        self.validationErrors = err.ValidationErrors;\n                        if (err.Message != \"Validation Failed\") {\n                            self.notificationService.showError(err.Message);\n                        }\n                    });\n                }\n            });\n        }\n        else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    xuLyThemNhomDichVuKhuyenMai(yeuCauGoiMarketing: ChiDinhGoiDichVuTheoBenhNhan) {\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        this.apiService.post<any>(\"TiepNhanBenhNhan/ThemChiDinhGoiDichVuKhuyenMaiTheoBenhNhan\", yeuCauGoiMarketing).subscribe(result => {\n            let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm\"]);\n            if (result.IsVuotQuaSoDuTaiKhoan || result.IsVuotQuaBaoLanhGoi == true) {\n                mess += this.messVuotQuaTamUng; //\"Chỉ định này đã vượt quá số tiền trong tài khoản của người bệnh.\";\n                this.notificationService.showWarning(mess);\n            }\n            else {\n                this.notificationService.showSuccess(mess);\n            }\n\n            if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                this.benhNhanHienTai.SoDuTaiKhoan = result.SoDuTaiKhoan;\n                this.benhNhanHienTai.SoDuTaiKhoanDisplay = result.SoDuTaiKhoanDisplay;\n            }\n            if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                this.benhNhanHienTai.SoDuTaiKhoanConLai = result.SoDuTaiKhoanConLai;\n                this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = result.SoDuTaiKhoanConLaiDisplay;\n            }\n            this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, EnumNhomGoiDichVu.DichVuKyThuat, null, false);\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n    //======================================================================================\n\n    chonKho(khoId: number) {\n        // this.chiDinhGhiNhanVatTuThuoc.SoLuong = null;\n        // this.chiDinhGhiNhanVatTuThuoc.DichVuGhiNhanId = null;\n        // this.chiDinhGhiNhanVatTuThuoc.strDonViTinh = null;\n        this.huyGhiNhanVatTuBenhVien();\n        \n        if (khoId != undefined && khoId != null) {\n            this.apiService.get<any>(\"KhamBenh/GetLoaiKhoAsync?khoId=\" + khoId).subscribe(resultData => {\n                if (resultData !== undefined && resultData != null) {\n                    this.chiDinhGhiNhanVatTuThuoc.LoaiKho = resultData;\n                }\n            })\n        } else {\n            this.chiDinhGhiNhanVatTuThuoc.LoaiKho = null;\n\n        }\n    }\n\n    // cập nhật ghi nhận VTTH/Thuốc\n    suaVatTuThuoc(dataItem: any) {\n        this.validationErrors = null;\n        let vatTuThuocEdit = Object.assign({}, dataItem);\n        vatTuThuocEdit.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            this.dialog.open(LanKhamHienTaiCapNhatGhiNhanVtthThuocPopupComponent, {\n                disableClose: false,\n                width: '600px',\n                data: vatTuThuocEdit,\n            }).afterClosed().subscribe((res) => {\n                if(res) {\n                    console.log('res', res);\n                    if(dataItem.LoaiKho == 5)\n                    {\n                        this.XoaGhiNhanVTTHThuoc(dataItem, res);\n                    }\n                    else{\n                        this.CapNhatGridItemGhiNhaVTTHThuoc(res, dataItem);\n                    }\n                }\n            });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    hoanTra(dataItem: any) {\n        this.validationErrors = null;\n\n        this.thongTinHoanTraThuocVatTu.Id = dataItem.Id;\n\n        this.thongTinHoanTraThuocVatTu.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        this.thongTinHoanTraThuocVatTu.KhoId = dataItem.KhoId;\n        this.thongTinHoanTraThuocVatTu.SoLuong = dataItem.SoLuong;\n\n        this.thongTinHoanTraThuocVatTu.CoYeuCauTraVTTuBenhNhanChiTiet = dataItem.CoYeuCauTraVTTuBenhNhanChiTiet;\n        this.thongTinHoanTraThuocVatTu.DuocHuongBaoHiem = dataItem.DuocHuongBaoHiem;\n        this.thongTinHoanTraThuocVatTu.YeuCauBenhVienId = dataItem.YeuCauId;\n        this.thongTinHoanTraThuocVatTu.NhomYeuCauId = dataItem.NhomYeuCauId;\n        // this.thongTinHoanTraThuocVatTu.LaTuTruc = dataItem.LaTuTruc;\n        // this.thongTinHoanTraThuocVatTu.LaDichTruyen = dataItem.LaTuTruc;\n\n        this.thongTinHoanTraThuocVatTu.LaDuocPham = dataItem.LaDuocPham;\n\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            this.dialog.open(LanKhamHienTaiHoanTraThuocVtthPopupComponent, {\n                disableClose: false,\n                width: '1000px',\n                data: this.thongTinHoanTraThuocVatTu,\n            }).afterClosed().subscribe(() => {\n                this.getGridDataGhiNhanVTHHThuoc(EnumTypeLoadingData.Update, false);\n            });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    // cập nhật kiểm tra dịch vụ khác 4 nhóm: PTTT, CDHA, TDCN, XN thì cho phép hoàn thành, hủy hoàn thành\n    capNhatThongTinThucHienDichVu(dataItem: any, isThucHien: boolean = true) {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            var newObj = {\n                YeuCauDichVuKyThuatId: dataItem.Id,\n                LaThucHienDichVu: isThucHien,\n                DocumentType: this.documentType,\n                YeuCauKhamBenhId: this.benhNhanHienTai.Id,\n                LaKhamDoanTatCa: this.isKhamDoanTatCa,\n                IsKhamBenhDangKham: this.benhNhanHienTai.IsKhamBenhDangKham\n            }\n            this.dialog.open(CapNhatThongTinThucHienDvktPopupComponent, {\n                disableClose: false,\n                width: '600px',\n                data: newObj,\n            }).afterClosed().subscribe((res) => {\n                if(res) {\n                    var mess = isThucHien ? \"Cập nhật thông tin thực hiện dịch vụ\" : \"Hủy thông tin thực hiện dịch vụ\"\n                    this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [mess]));\n                    this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, this.nhomDichVuDangChon, null, true);\n                }\n            });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n\n    //BVHD-3745\n    //======================================================================================\n    changeCheckNhomDichVu(event, tenNhom) {\n        let gridDataIn: any[] = [];\n        if (this.gridChild.gridDataSource.data == undefined) {\n            this.listChonDichVuChiDinh = [];\n        }\n        else {\n\n            gridDataIn = this.gridChild.getAllDataFromDatasource();\n            // this.listChonDichVuChiDinh = [];\n        }\n\n        if (event.target.checked) {\n            let coItemChuaCheck = false;\n            gridDataIn.forEach(element => {\n                if (element.Nhom == tenNhom) {\n                    element.isCheckRowItem = true;\n                    //this.checkAll = true;\n                    let index = this.listChonDichVuChiDinh.findIndex(x => x.dichVuChiDinhId == element.Id && x.nhomChiDinhId == element.NhomId);\n                    if (index == -1) {\n                        var chiDinh = new ListInChiDinh();\n                        chiDinh.nhomChiDinhId = element.NhomId;\n                        chiDinh.dichVuChiDinhId = element.Id;\n                        this.listChonDichVuChiDinh.push(chiDinh);\n                    }\n                }\n\n                if(element.isCheckRowItem != true)\n                {\n                    coItemChuaCheck = true;\n                }\n            });\n\n            if(!coItemChuaCheck){\n                this.checkAll = true;\n            }\n        }\n        else {\n            gridDataIn.forEach(element => {\n                if (element.Nhom == tenNhom) {\n                    element.isCheckRowItem = false;\n                    this.checkAll = false;\n\n                    let index = this.listChonDichVuChiDinh.findIndex(x => x.dichVuChiDinhId == element.Id && x.nhomChiDinhId == element.NhomId);\n                    if (index != -1) {\n                        this.listChonDichVuChiDinh.splice(index, 1);\n                    }\n                }\n            });\n        }\n        this.isCheckXacNhanIn = this.listChonDichVuChiDinh.length > 0;\n    }\n\n    xuLyXoaNhieuDichVu() {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Delete)) {\n            this.showPopupLoadingData(EnumTypeLoadingData.Delete);\n            let gridData = this.gridChild.getAllDataFromDatasource();\n            let listGridSelect: XoaNhieuChiDinhViewModel[] = [];\n            gridData.forEach(element => {\n                this.listChonDichVuChiDinh.forEach(lstChiDinh => {\n                    if (lstChiDinh.dichVuChiDinhId == element.Id && lstChiDinh.nhomChiDinhId == element.NhomId) {\n                        var newItemDelete = new XoaNhieuChiDinhViewModel();\n                        newItemDelete.DichVuId = element.Id;\n                        newItemDelete.YeuCauKhamBenhId = this.benhNhanHienTai.Id;\n                        newItemDelete.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n                        newItemDelete.LaDichVuKham = element.NhomId == EnumNhomGoiDichVu.DichVuKhamBenh;\n                        if (this.documentType == DocumentType.KhamBenhDangKham || this.benhNhanHienTai.IsKhamBenhDangKham) {\n                            newItemDelete.IsKhamBenhDangKham = true;\n                        }\n                        newItemDelete.IsKhamDoanTatCa = this.isKhamDoanTatCa;\n                        listGridSelect.push(newItemDelete);\n                    }\n                });\n            });\n\n            let xoaObj = {\n                XoaNhieuChiDinhDichVuChiTiets: listGridSelect\n            };\n            //KhamBenh/XoaDichVuKyThuat\n            this.apiService.post<any>(\"KhamBenh/XoaNhieuDichVu\", xoaObj).subscribe(result => {\n                if (result != undefined && result != null) {\n                    if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                        this.benhNhanHienTai.SoDuTaiKhoan = result.SoDuTaiKhoan;\n                        this.benhNhanHienTai.SoDuTaiKhoanDisplay = result.SoDuTaiKhoanDisplay;\n                    }\n                    if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                        this.benhNhanHienTai.SoDuTaiKhoanConLai = result.SoDuTaiKhoanConLai;\n                        this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = result.SoDuTaiKhoanConLaiDisplay;\n                    }\n                }\n                this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xóa\"]));\n                this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, this.nhomDichVuDangChon, null, false);\n            },\n                (err: ApiError) => {\n                    this.notificationService.showError(err.Message);\n                    this.closePopupLoadingData();\n                });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n    //BVHD-3761\n    //=======================================================================================================\n    InPhieuXN(){\n        \n        let yeuCauDichVuKyThuatIds:any[] = [];\n        let gridData = this.gridChild.getAllDataFromDatasource();\n        gridData.forEach(elements => {\n            this.listChonDichVuChiDinh.forEach(lstChiDinh => {\n                if (lstChiDinh.dichVuChiDinhId == elements.Id && \n                    lstChiDinh.nhomChiDinhId == elements.NhomId && \n                    lstChiDinh.nhomChiDinhId == 2) {\n                        yeuCauDichVuKyThuatIds.push(lstChiDinh.dichVuChiDinhId);\n                }\n            });\n        });\n        \n        let hosting = window.location.protocol + \"//\" + window.location.host;\n        let model={\n            YeuCauDichVuKyThuatIds:yeuCauDichVuKyThuatIds,\n            Hosting:hosting,\n            YeuCauTiepNhanId:this.benhNhanHienTai.YeuCauTiepNhanId\n        };\n        if(yeuCauDichVuKyThuatIds.length == 0)\n        {\n            let mess = \"Chưa chọn dịch vụ xét nghiệm test nhanh Sars-Cov 2 cần in\";\n            this.notificationService.showError(mess);\n        }\n        else{\n            this.apiService\n            .post<any>(\n              \"TiepNhanBenhNhan/InPhieuXetNghiemCovidBacSiKhacChiDinh\",model\n            )\n            \n            .subscribe((resultData) => {\n                if(resultData != null && resultData !=\"\")\n                {\n                    let dialogRef = this.dialog.open(XnCovidSarscov2PopupComponent, {\n                        width: '1000px',\n                        height: 'auto',\n                        data: { Model: resultData }\n                      }).afterClosed().subscribe(result => {\n                      });\n                }\n                else{\n                    let mess = \"Không có dịch vụ xét nghiệm test nhanh Sars-Cov 2 cần in\";\n                    this.notificationService.showError(mess);\n                }\n            });\n        }\n      \n      }\n      //=======================================================================================================\n      // BVHD-3761\n    //================================================================================================\n    getListDichVuSarsCoVs(){\n        this.apiService.get<DichVuKyThuatBenhVienIdsSarsCoVLoaiBenhPham>(\"TiepNhanBenhNhan/GetSarsCoVs\").subscribe(\n            resultData => {\n                this.dichVuSarsCoVs = [];\n                this.dichVuSarsCoVs =resultData.Ids;\n                this.loaiBenhPham = resultData.LoaiMauXetNghiem\n                this.loaiBenhPhamText = resultData.LoaiMauXetNghiemText\n            });\n    }\n    getInfoSarsCoVTheoYeuCauTiepNhans(){\n        this.apiService.get<XetNghiemCovid>(\"TiepNhanBenhNhan/GetInfoSarsCoVTheoYeuCauTiepNhan?id=\" + this.yeucautiepnhanId).subscribe(\n            resultData => {\n                this.bieuHienLamSang = resultData.BieuHienLamSang;\n                this.dichTeSarsCoV2 = resultData.DichTeSarsCoV2;\n            });\n    }\n    ThemDichVuSarsCov2(){\n        this.apiService.post<any>(\"KhamBenh/ThemYeuCauDichVuKyThuatMultiselect\", this.chiDinhDichVuKyThuatMultiselect).subscribe(result => {\n            this.huyDichVuKyThuatMultiselect();\n\n            // if(result.ChuyenHangDoiSangLamChiDinh)\n            // {\n            //     this.benhNhanHienTai.TrangThai = TrangThaiYeuCauKhamBenh.DangLamChiDinh;\n            // }\n\n            let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm \"]);\n\n            this.getInfoSarsCoVTheoYeuCauTiepNhans();\n\n            if (result.IsVuotQuaSoDuTaiKhoan) {\n                mess += this.messVuotQuaTamUng; //\"Chỉ định này đã vượt quá số tiền trong tài khoản của người bệnh.\";\n                this.notificationService.showWarning(mess);\n            }\n            else {\n                this.notificationService.showSuccess(mess);\n            }\n\n            if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                this.benhNhanHienTai.SoDuTaiKhoan = result.SoDuTaiKhoan;\n                this.benhNhanHienTai.SoDuTaiKhoanDisplay = result.SoDuTaiKhoanDisplay;\n            }\n            if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                this.benhNhanHienTai.SoDuTaiKhoanConLai = result.SoDuTaiKhoanConLai;\n                this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = result.SoDuTaiKhoanConLaiDisplay;\n            }\n\n            // let phongBenhVienId = this.authService.getPhongLamViecId();\n            // let nhanVienId = this.authService.getAccessUser().Id;\n            // let yeuCauKhamBenhId = this.benhNhanHienTai.Id;\n            //this.willShowTabPhauThuatThuThuat(phongBenhVienId, nhanVienId, yeuCauKhamBenhId);\n\n            this.getDataUpdateGripViewGoiKhac(this.benhNhanHienTai.YeuCauTiepNhanId, this.benhNhanHienTai.Id, EnumNhomGoiDichVu.DichVuKyThuat, null, false);\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n    //================================================================================================\n}\n\n","export default \"ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\n.po-h {\\n  color: #005dab;\\n  position: relative;\\n  top: 5px;\\n  left: 5px;\\n}\\n\\n.po-h mat-icon {\\n  display: contents;\\n}\\n\\ntable#tbl-sinh-ton {\\n  display: inline-block;\\n  overflow-x: auto;\\n  white-space: nowrap;\\n}\\n\\ntable#tbl-sinh-ton th, table#tbl-sinh-ton td {\\n  border: 1px solid #ccc;\\n}\\n\\n.btn-blue {\\n  color: #005dab;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWNoaS1zby1zaW5oLXRvbi9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWNoaS1zby1zaW5oLXRvblxcbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWNoaS1zby1zaW5oLXRvbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWNoaS1zby1zaW5oLXRvbi9sYW4ta2hhbS1oaWVuLXRhaS1raGFtLWJlbmgtY2hpLXNvLXNpbmgtdG9uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsOEJBQUE7RUFDQSx1QkFBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7QUNDRjs7QURFQTtFQUNFLHFCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLWtoYW0tYmVuaC1jaGktc28tc2luaC10b24vbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWNoaS1zby1zaW5oLXRvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbi5wby1oIHtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA1cHg7XG4gIGxlZnQ6IDVweDtcbn1cblxuLnBvLWggbWF0LWljb24ge1xuICBkaXNwbGF5OiBjb250ZW50cztcbn1cblxudGFibGUjdGJsLXNpbmgtdG9uIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBvdmVyZmxvdy14OiBhdXRvO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG50YWJsZSN0Ymwtc2luaC10b24gdGgsIHRhYmxlI3RibC1zaW5oLXRvbiB0ZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG59XG5cbi5idG4tYmx1ZSB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xufSIsInVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbi5wby1oIHtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA1cHg7XG4gIGxlZnQ6IDVweDtcbn1cblxuLnBvLWggbWF0LWljb24ge1xuICBkaXNwbGF5OiBjb250ZW50cztcbn1cblxudGFibGUjdGJsLXNpbmgtdG9uIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBvdmVyZmxvdy14OiBhdXRvO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG50YWJsZSN0Ymwtc2luaC10b24gdGgsIHRhYmxlI3RibC1zaW5oLXRvbiB0ZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG59XG5cbi5idG4tYmx1ZSB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xufSJdfQ== */\"","import { Component, OnInit, TemplateRef, Input, ViewChild, OnChanges, SimpleChanges } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { KetQuaSinhHieu, BenhVienHangDoi, YeuCauKhamBenh } from '../../../kham-benh.model';\nimport icAdd from '@iconify/icons-ic/twotone-add';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icSave from '@iconify/icons-ic/outline-save';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { MatDialog } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { NotificationService } from 'src/app/core/services/notification.service';\n\n@Component({\n    selector: 'app-lan-kham-hien-tai-kham-benh-chi-so-sinh-ton',\n    templateUrl: './lan-kham-hien-tai-kham-benh-chi-so-sinh-ton.component.html',\n    styleUrls: ['./lan-kham-hien-tai-kham-benh-chi-so-sinh-ton.component.scss']\n})\nexport class LanKhamHienTaiKhamBenhChiSoSinhTonComponent implements OnInit, OnChanges {\n\n\n    icAdd = icAdd;\n    icDelete = icDelete;\n    icAddCircle = icAddCircle;\n    icEdit = icEdit;\n    icSave = icSave;\n    documentType: DocumentType;\n    format: string = 'n1';\n    isAllowAdd: boolean = true;\n    dataSourceSinhHieu: any = {\n        data: [],\n        total: 0\n    };\n    huyetApTamTruong: number = 60;\n    huyetApTamThu: number = 90;\n    phongKhamHienTai: number = 0;\n    nhipTho: number = 10;\n    currentUserId: number = 0;\n    current: Date = new Date();\n\n    gridSinhHieuColumns: any[] = [];\n    yeuCauKhamBenh = new YeuCauKhamBenh();\n    @Input() data: any = null;\n    @Input() phongKhamId: number = 0;\n    @Input() dataChiSoSinhTon: any = null;\n    @Input() isReadOnly: boolean = false;\n    @Input() laChuyenKhoaKhamNhieu: boolean = false;\n    constructor(\n        private apiService: ApiService,\n        private authService: AuthService,\n        private dialog: MatDialog,\n        private notificationService: NotificationService) { }\n\n    @ViewChild('actionSinhHieuTemplate', { static: true }) actionSinhHieuTemplate: TemplateRef<any>;\n    @ViewChild('huyetApTemplate', { static: true }) huyetApTemplate: TemplateRef<any>;\n    @ViewChild('thanNhietTemplate', { static: true }) thanNhietTemplate: TemplateRef<any>;\n    @ViewChild('nhipTimTemplate', { static: true }) nhipTimTemplate: TemplateRef<any>;\n    @ViewChild('nhipThoTemplate', { static: true }) nhipThoTemplate: TemplateRef<any>;\n    @ViewChild('canNangTemplate', { static: true }) canNangTemplate: TemplateRef<any>;\n    @ViewChild('chieuCaoTemplate', { static: true }) chieuCaoTemplate: TemplateRef<any>;\n    @ViewChild('BMITemplate', { static: true }) BMITemplate: TemplateRef<any>;\n    @ViewChild('glassgowTemplate', { static: true }) glassgowTemplate: TemplateRef<any>;\n    @ViewChild('spO2Template', { static: true }) spO2Template: TemplateRef<any>;\n    ngOnInit() {\n        this.yeuCauKhamBenh = this.data;\n\n        this.documentType = DocumentType.KhamBenh; // cần gán lại giá trị\n\n        this.gridSinhHieuColumns = [\n            { Field: \"NhipTim\", Title: \"Mạch (nhịp/phút)\", Width: 137, Template: this.nhipTimTemplate },\n            { Field: \"ThanNhiet\", Title: \"Nhiệt độ (°C)\", Width: 100, Template: this.thanNhietTemplate },\n            { Field: \"HuyetAp\", Title: \"Huyết áp (mmHg)\", Width: 135, Template: this.huyetApTemplate },\n            { Field: \"NhipTho\", Title: \"Nhịp thở (lần/phút)\", Width: 150, Template: this.nhipThoTemplate },\n            { Field: \"CanNang\", Title: \"Cân nặng (kg)\", Width: 113, Template: this.canNangTemplate },\n            { Field: \"ChieuCao\", Title: \"Chiều cao (cm)\", Width: 117, Template: this.chieuCaoTemplate },\n            { Field: \"BMI\", Title: \"BMI (kg/m²)\", Width: 91, Template: this.BMITemplate },\n            { Field: \"Glassgow\", Title: \"Glassgow\", Width: 120, Template: this.glassgowTemplate },\n            { Field: \"SpO2\", Title: \"SpO2 (%)\", Width: 120, Template: this.spO2Template },\n            { Field: \"NhanVienThucHien\", Title: \"Nhân viên thực hiện\", Width: 156 , Hidden: true},\n            { Field: \"NgayThucHien\", Title: \"Ngày thực hiện\", Width: 145 },\n            { Field: \"Action\", Title: \"\", Width: 70, Template: this.actionSinhHieuTemplate, Hidden: this.isReadOnly }\n        ];\n        this.currentUserId = this.authService.getAccessUser().Id;\n\n        this.dataSourceSinhHieu.data = this.dataChiSoSinhTon;\n    }\n\n    changeData() {\n        this.yeuCauKhamBenh.IsChangeKhamBenh = true;\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes['dataChiSoSinhTon'] && changes['dataChiSoSinhTon'].previousValue != null && changes['dataChiSoSinhTon'].previousValue != changes['dataChiSoSinhTon'].currentValue) {\n            this.dataSourceSinhHieu.data = changes['dataChiSoSinhTon'].currentValue;\n        }\n        this.phongKhamHienTai = this.phongKhamId;\n    }\n\n    themChiSoSinhTon() {\n        if (this.dataSourceSinhHieu.data.findIndex(x => x.Id == 0) == -1) {\n            this.apiService.post(\"KhamBenh/GetTenNhanVien?userId=\" + this.currentUserId).subscribe(\n                (resultData: any) => {\n                    let newItem = new KetQuaSinhHieu();\n                    newItem.NoiThucHienId = this.phongKhamHienTai;\n                    newItem.NhanVienThucHienId = this.currentUserId;\n                    newItem.NgayThucHien = CommonService.formatDateTimeSACH(this.current, \"dd/mm/yyyy\").toString();\n                    this.dataSourceSinhHieu.data.push(newItem);\n\n                    this.changeData();\n                });\n        }\n        else {\n            this.notificationService.showError(\"Bạn chưa lưu chỉ số sinh tồn\");\n        }\n    }\n\n    luuChiSoSinhHieu(data: any) {\n        data.HuyetApTamThu = this.huyetApTamThu;\n        data.HuyetApTamTruong = this.huyetApTamTruong;\n        data.YeuCauTiepNhanId = this.yeuCauKhamBenh.YeuCauTiepNhanId;\n        if (data.HuyetApTamThu === null && data.HuyetApTamTruong === null) {\n            data.HuyetAp = null;\n        } else {\n            data.HuyetAp = data.HuyetApTamThu + \"/\" + data.HuyetApTamTruong;\n        }\n        data.NhipTho = this.nhipTho;\n        this.apiService.post(\"KhamBenh/LuuChiSoSinhHieu\", data).subscribe(\n            (resultData: any) => {\n                data.Id = resultData;\n                this.isAllowAdd = true;\n            }\n        );\n    }\n\n    xoaChiSoSinhHieu(item: any) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessConfirm, [\"xóa\"]) }\n        }).afterClosed().subscribe(result => {\n            if (result === 'Yes') {\n                this.dataSourceSinhHieu.data.splice(this.dataSourceSinhHieu.data.findIndex(x => x == item), 1);\n                this.changeData();\n            }\n        });\n\n    }\n\n    onChangeCanNang(data: any) {\n        var chieuCao = data.ChieuCao / 100;\n\n        if (chieuCao === 0) {\n            data.BMI = null;\n            return;\n        }\n\n        data.BMI = data.CanNang / (chieuCao * chieuCao);\n    }\n\n    onChangeChieuCao(data: any) {\n        var chieuCao = data.ChieuCao / 100;\n\n        if (chieuCao === 0) {\n            data.BMI = null;\n            return;\n        }\n\n        data.BMI = data.CanNang / (chieuCao * chieuCao);\n    }\n\n    onChangeNhipTho(input: any, dataItem) {\n        if (input % 1 != 0) {\n            dataItem.NhipTho = input.toFixed();\n\n            if (typeof dataItem.NhipTho === \"string\") {\n                dataItem.NhipTho = Number(dataItem.NhipTho);\n            }\n        }\n    }\n\n    onChangeHuyetApTamThu(input: any, dataItem) {\n        if (input % 1 != 0) {\n            dataItem.HuyetApTamThu = input.toFixed();\n\n            if (typeof dataItem.HuyetApTamThu === \"string\") {\n                dataItem.HuyetApTamThu = Number(dataItem.HuyetApTamThu);\n            }\n        }\n\n        if (dataItem.HuyetApTamThu === null && dataItem.HuyetApTamTruong === null) {\n            dataItem.HuyetAp = null;\n        } else {\n            dataItem.HuyetAp = dataItem.HuyetApTamThu + \"/\" + dataItem.HuyetApTamTruong;\n        }\n    }\n\n    onChangeHuyetApTamTruong(input: any, dataItem) {\n        if (input % 1 != 0) {\n            dataItem.HuyetApTamTruong = input.toFixed();\n\n            if (typeof dataItem.HuyetApTamTruong === \"string\") {\n                dataItem.HuyetApTamTruong = Number(dataItem.HuyetApTamTruong);\n            }\n        }\n\n        if (dataItem.HuyetApTamThu === null && dataItem.HuyetApTamTruong === null) {\n            dataItem.HuyetAp = null;\n        } else {\n            dataItem.HuyetAp = dataItem.HuyetApTamThu + \"/\" + dataItem.HuyetApTamTruong;\n        }\n    }\n\n    onChangeNhipTim(data: any, input: any) {\n        if (input % 1 != 0) {\n            data.NhipTim = input.toFixed();\n\n            if (typeof data.NhipTim === \"string\") {\n                data.NhipTim = Number(data.NhipTim);\n            }\n        }\n    }\n\n    suaChiSoSinhHieu(dataItem: any)\n    {\n        if(dataItem != undefined && dataItem != null)\n        {\n            dataItem.IsUpdate = true;\n            dataItem.NoiThucHienId = this.phongKhamHienTai;\n            dataItem.NhanVienThucHienId = this.currentUserId;\n            dataItem.NgayThucHien = CommonService.formatDateTimeSACH(new Date(), \"dd/mm/yyyy\").toString();\n            this.changeData();\n        }\n    }\n}\n","export default \"ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\n.po-h {\\n  color: #005dab;\\n  position: relative;\\n  top: 5px;\\n  left: 5px;\\n}\\n\\n.po-h mat-icon {\\n  display: contents;\\n}\\n\\ntable#tbl-di-ung {\\n  border: 1px solid #ccc;\\n}\\n\\ntable#tbl-di-ung th, table#tbl-di-ung td {\\n  border: 1px solid #ccc;\\n}\\n\\n.btn-blue {\\n  color: #005dab;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWRpLXVuZy10aHVvYy9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWRpLXVuZy10aHVvY1xcbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWRpLXVuZy10aHVvYy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWRpLXVuZy10aHVvYy9sYW4ta2hhbS1oaWVuLXRhaS1raGFtLWJlbmgtZGktdW5nLXRodW9jLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsOEJBQUE7RUFDQSx1QkFBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7QUNDRjs7QURFQTtFQUNFLHNCQUFBO0FDQ0Y7O0FERUE7RUFDRSxzQkFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWRpLXVuZy10aHVvYy9sYW4ta2hhbS1oaWVuLXRhaS1raGFtLWJlbmgtZGktdW5nLXRodW9jLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidWwuaW5saW5lID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxuLnBvLWgge1xuICBjb2xvcjogIzAwNWRhYjtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDVweDtcbiAgbGVmdDogNXB4O1xufVxuXG4ucG8taCBtYXQtaWNvbiB7XG4gIGRpc3BsYXk6IGNvbnRlbnRzO1xufVxuXG50YWJsZSN0YmwtZGktdW5nIHtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbn1cblxudGFibGUjdGJsLWRpLXVuZyB0aCwgdGFibGUjdGJsLWRpLXVuZyB0ZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG59XG5cbi5idG4tYmx1ZSB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xufSIsInVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbi5wby1oIHtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA1cHg7XG4gIGxlZnQ6IDVweDtcbn1cblxuLnBvLWggbWF0LWljb24ge1xuICBkaXNwbGF5OiBjb250ZW50cztcbn1cblxudGFibGUjdGJsLWRpLXVuZyB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG59XG5cbnRhYmxlI3RibC1kaS11bmcgdGgsIHRhYmxlI3RibC1kaS11bmcgdGQge1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xufVxuXG4uYnRuLWJsdWUge1xuICBjb2xvcjogIzAwNWRhYjtcbn0iXX0= */\"","import { Component, OnInit, Input, ViewChild, TemplateRef, SimpleChanges } from '@angular/core';\nimport { DiUng, BenhVienHangDoi } from '../../../kham-benh.model';\nimport icAdd from '@iconify/icons-ic/twotone-add';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icSave from '@iconify/icons-ic/outline-save';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { MatDialog } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { NotificationService } from 'src/app/core/services/notification.service';\n\n@Component({\n    selector: 'app-lan-kham-hien-tai-kham-benh-di-ung-thuoc',\n    templateUrl: './lan-kham-hien-tai-kham-benh-di-ung-thuoc.component.html',\n    styleUrls: ['./lan-kham-hien-tai-kham-benh-di-ung-thuoc.component.scss']\n})\nexport class LanKhamHienTaiKhamBenhDiUngThuocComponent implements OnInit {\n\n\n    icAdd = icAdd;\n    icDelete = icDelete;\n    icAddCircle = icAddCircle;\n    icEdit = icEdit;\n    icSave = icSave;\n    validationErrors: any;\n    gridDiUngThuocColumns: any[] = [];\n    documentType: DocumentType;\n    isShowView: boolean = false;\n    count: number = 1; // biến này chỉ dùng để gán tạm giá trị\n    dataSourceDiUng: any = {\n        data: [],\n        total: 0\n    }\n    tenThuocCurrent: string = null;\n    @ViewChild('loaiDiUngTemplate', { static: true }) loaiDiUngTemplate: TemplateRef<any>;\n    @ViewChild('tenThuocTemplate', { static: true }) tenThuocTemplate: TemplateRef<any>;\n    @ViewChild('bieuHienDiUngTemplate', { static: true }) bieuHienDiUngTemplate: TemplateRef<any>;\n    @ViewChild('mucDoTemplate', { static: true }) mucDoTemplate: TemplateRef<any>;\n    @ViewChild('actionDiUngThuocTemplate', { static: true }) actionDiUngThuocTemplate: TemplateRef<any>;\n    \n    benhNhanHienTai = new BenhVienHangDoi();\n    @Input() data: any = null;\n    @Input() dataDiUngThuoc: any = null;\n    @Input() isReadOnly: boolean = false;\n    @Input() laChuyenKhoaKhamNhieu: boolean = false;\n\n    constructor(private apiService: ApiService, private dialog: MatDialog, private notificationService: NotificationService) { }\n\n    ngOnInit() {\n        this.benhNhanHienTai = this.data;\n        this.documentType = DocumentType.KhamBenh;\n        this.gridDiUngThuocColumns = [\n            { Field: \"TenLoaiDiUng\", Title: \"Loại dị ứng\", Width: 150, Template: this.loaiDiUngTemplate },\n            { Field: \"TenDiUng\", Title: \"Tên dị ứng\", Width: 300, Template: this.tenThuocTemplate },\n            { Field: \"BieuHienDiUng\", Title: \"Biểu hiện dị ứng\", MinWidth: 200, Template: this.bieuHienDiUngTemplate },\n            { Field: \"MucDo\", Title: \"Mức độ\", MinWidth: 120, Template: this.mucDoTemplate },\n            { Field: \"Action\", Title: \"\", Width: 80, Template: this.actionDiUngThuocTemplate, Hidden: this.isReadOnly }\n        ];\n\n        //this.getTableBenhNhanDiUngThuoc(this.benhNhanHienTai.YeuCauTiepNhan.BenhNhanId);\n\n        this.dataSourceDiUng.data = this.dataDiUngThuoc;\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if(changes['dataDiUngThuoc'] && changes['dataDiUngThuoc'].previousValue != null && changes['dataDiUngThuoc'].previousValue != changes['dataDiUngThuoc'].currentValue)\n        {\n            this.dataSourceDiUng.data = changes['dataDiUngThuoc'].currentValue;\n        }\n    }\n\n    changeData() {\n        this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = true;\n    }\n\n    getTableBenhNhanDiUngThuoc(idBenhNhan: number) {\n        var queryObject: any = {\n            skip: 0,\n            take: 50,\n            pageSize: 50,\n            searchString: \"PEFkdmFuY2VkUXVlcnlQYXJhbWV0ZXJzPjxTZWFyY2hUZXJtcz4yPC9TZWFyY2hUZXJtcz48L0FkdmFuY2VkUXVlcnlQYXJhbWV0ZXJzPg==\",\n            additionalSearchString: idBenhNhan.toString(),\n            searchTerms: null,\n            sort: [{ field: \"TenThuoc\", dir: \"asc\" }],\n            lazyLoadPage: true,\n        };\n\n        this.apiService.post<any>(\"KhamBenh/GetDataGridBenhNhanDiUngThuoc\", queryObject).subscribe(resultData => {\n            if (resultData !== undefined && resultData != null) {\n                this.dataSourceDiUng.data = resultData.Value.Data;\n            }\n        });\n    }\n\n    themDiUngThuoc() {\n        let diUngThuoc = new DiUng();\n        this.dataSourceDiUng.data.push(diUngThuoc);\n        this.changeData();\n    }\n\n    chonThuoc(event, dataItem){\n        if(event != undefined)\n        {\n            dataItem.TenDiUng = event.DisplayName;\n        }\n        else\n        {\n            dataItem.TenDiUng = null;\n        }\n    }\n\n    // luuDiUngThuoc(item: any) {\n    //     if (item.LoaiDiUng === null) {\n    //         item.LoaiDiUng = 0;\n    //     }\n\n    //     if (item.ThuocId === null) {\n    //         item.ThuocId = 0;\n    //     }\n\n    //     if (item.ThuocId === 0 && item.LoaiDiUng !== 1) {\n    //         // đây là điều kiện ở mức độ lươn lẹo ở chỗ hardcode cho ThuocId sẽ ko bị null, vì khi loại dị ứng nó != 1\n    //         // thì không cần care ThuocId nó có empty hay ko, do đó sẽ ko bắt validation cho ThuocId trong trường\n    //         // hợp loại dị ứng != 1 \n    //         item.ThuocId = 1;\n    //     }\n\n    //     if (item.TenDiUng === null && item.LoaiDiUng === 1) {\n    //         item.TenDiUng = \"null\";\n    //     }\n    //     this.validationErrors = [];\n\n    //     item.BenhNhanId = this.benhNhanHienTai.YeuCauTiepNhan.BenhNhanId;\n    //     this.apiService.post(\"KhamBenh/LuuDiUngThuoc\", item).subscribe(\n    //         (resultData: any) => {\n    //             item.Id = resultData.Id;\n    //             item.TenLoaiDiUng = resultData.LoaiDiUng;\n    //             if (item.TenDiUng === \"null\") {\n    //                 item.TenDiUng = resultData.TenDiUng;\n    //             }\n    //             item.TenMucDo = resultData.TenMucDo;\n    //             this.isShowView = false;\n    //             this.resetDiUng();\n    //         }, (err: ApiError) => {\n    //             this.validationErrors = err.ValidationErrors;\n    //         });\n\n    // }\n\n    xoaDiUngThuoc(item) {\n        this.isShowView = false;\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessConfirm, [\"xóa\"]) }\n        }).afterClosed().subscribe(result => {\n            if (result === 'Yes') {\n                this.changeData();\n                this.dataSourceDiUng.data.splice(this.dataSourceDiUng.data.findIndex(x => x == item), 1);\n            }\n        });\n    }\n\n    onSelectLoaiDiUng(event: any, dataItem: any) {\n        dataItem.idLoaiDiUng = event.KeyId;\n        dataItem.TenLoaiDiUng = event.DisplayName;\n        if (dataItem.idLoaiDiUng === 1) {\n            dataItem.ThuocId = 0;\n        } else {\n            dataItem.TenDiUng = null;\n        }\n    }\n\n    chonMucDo(event: any, dataItem: any)\n    {\n        if(event != undefined && event != null)\n        {\n            dataItem.TenMucDo = event.DisplayName;\n        }\n        else\n        {\n            dataItem.TenMucDo = null;\n        }\n    }\n\n    //bvhd-3856\n    suaDiUngThuoc(item) {\n        item.IsUpdate = true;\n        this.changeData();\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLWtoYW0tYmVuaC1nb2ktZGljaC12dS1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1raGFtLWJlbmgtZ29pLWRpY2gtdnUtcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Inject, TemplateRef, ViewChild } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { GoiDichVuNoiThucHienValidation, GoiDichVuChiTietNoiThucHienValidation } from '../../../kham-benh.model';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { NotificationService } from 'src/app/core/services/notification.service';\n\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-kham-benh-goi-dich-vu-popup',\n  templateUrl: './lan-kham-hien-tai-kham-benh-goi-dich-vu-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-kham-benh-goi-dich-vu-popup.component.scss']\n})\nexport class LanKhamHienTaiKhamBenhGoiDichVuPopupComponent implements OnInit {\n\n  icClose = icClose;\n  gridDataSource: any = {\n    data: [],\n    total: 0\n  };\n  gridColumns: any[] = [];\n  validationErrors: any;\n  loadedGrid: boolean = false;\n  @ViewChild('noiThucHienTemplate', { static: true }) noiThucHienTemplate: TemplateRef<any>;\n  constructor(private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any, private apiService: ApiService,\n  private notificationService: NotificationService, public dialogRef: MatDialogRef<LanKhamHienTaiKhamBenhGoiDichVuPopupComponent>) { }\n\n  ngOnInit() {\n    this.gridColumns = [\n      { Field: \"Ma\", Title: \"Mã\", Width: 120},\n      { Field: \"Nhom\", Title: \"Nhóm\", Width: 200, Hidden: true, TemplateGroupHeader: this.data.nhomGroupHeaderTemplate },\n      { Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", Width: 300},\n      { Field: \"LoaiGia\", Title: \"Loại Giá\", Width: 120},\n      { Field: \"NoiThucHien\", Title: \"Nơi thực hiện\", Width: 400, Template: this.noiThucHienTemplate},\n    ];\n\n    this.getChiTietGoiDichVu(this.data.goiDichVuId);\n  }\n\n  getChiTietGoiDichVu(goiDichVuId: number) {\n    this.apiService.get<GoiDichVuNoiThucHienValidation>(\"KhamBenh/GetChiTietGoiDichVu?goiDichVuId=\" + goiDichVuId).subscribe(resultData => {\n      if (resultData !== undefined && resultData != null) {\n        this.gridDataSource.data = resultData.GoiDichVuChiTietNoiThucHiens;\n        this.gridDataSource.total = resultData.Total;\n        this.loadedGrid = true;\n      }\n    });\n  }\n\n  kiemTraValiDationNoiThucHien(){\n    this.validationErrors = [];\n    let dataChiTietDichVu = new GoiDichVuNoiThucHienValidation();\n    dataChiTietDichVu.GoiDichVuChiTietNoiThucHiens = this.gridDataSource.data;\n    this.apiService.post<any>(\"KhamBenh/KiemTraValiDationNoiThucHien\",  dataChiTietDichVu).subscribe(() =>{\n      console.log('asfdasf', this.gridDataSource.data);\n\n      this.dialogRef.close(this.gridDataSource.data);\n    },\n    (err: ApiError) => { \n          this.validationErrors = err.ValidationErrors;\n    });\n  }\n\n  close(){\n    this.dialog.closeAll();\n  }\n}\n","export default \"ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\n.po-h {\\n  color: #005dab;\\n  position: relative;\\n  top: 5px;\\n  left: 5px;\\n}\\n\\n.po-h mat-icon {\\n  display: contents;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWtoYW0tYmVuaC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWtoYW0tYmVuaFxcbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWtoYW0tYmVuaC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWtoYW0tYmVuaC9sYW4ta2hhbS1oaWVuLXRhaS1raGFtLWJlbmgta2hhbS1iZW5oLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsOEJBQUE7RUFDQSx1QkFBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLWtoYW0tYmVuaC1raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLWtoYW0tYmVuaC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbi5wby1oIHtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA1cHg7XG4gIGxlZnQ6IDVweDtcbn1cblxuLnBvLWggbWF0LWljb24ge1xuICBkaXNwbGF5OiBjb250ZW50cztcbn0iLCJ1bC5pbmxpbmUgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG4ucG8taCB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogNXB4O1xuICBsZWZ0OiA1cHg7XG59XG5cbi5wby1oIG1hdC1pY29uIHtcbiAgZGlzcGxheTogY29udGVudHM7XG59Il19 */\"","import { Component, OnInit, Input, OnChanges } from '@angular/core';\nimport { TemplateKhamBenhTheoKhoa } from '../../../kham-benh.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { MatDialog } from '@angular/material';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Component({\n    selector: 'app-lan-kham-hien-tai-kham-benh-kham-benh',\n    templateUrl: './lan-kham-hien-tai-kham-benh-kham-benh.component.html',\n    styleUrls: ['./lan-kham-hien-tai-kham-benh-kham-benh.component.scss']\n})\nexport class LanKhamHienTaiKhamBenhKhamBenhComponent implements OnInit, OnChanges {\n    validationErrors: any;\n    isProcessAdd: boolean = false;\n    documentType: DocumentType;\n    displayButton: boolean = false;\n    flagChangeTrieuChung: boolean = false;\n    flagChangeChuanDoan: boolean = false;\n    flagChangeTemplate: boolean = false;\n    flagChangeTrieuChungKhamText: boolean = false;\n    flagChangeGhiChuTrieuChungKhamText: boolean = false;\n    snackBarOpen: any;\n\n    templateKhamBenhTheoKhoa = new TemplateKhamBenhTheoKhoa();\n    benhNhanHienTai: any;\n    templateKhoaPhong: string = null;\n    tenKhoaPhong: string = null;\n    thongTinKhamTheoKhoas: string = null;\n    templateKhoaPhongObj: any = null;\n    thongTinKhamTheoKhoaObj: any = null;\n    originTemplateKhoaPhong: any = null;\n    trieuChungs: number[] = [];\n    chuanDoans: number[] = [];\n    trieuChungsBanDau: number[] = [];\n    chuanDoansBanDau: number[] = [];\n    trieuChungsBanDauObj: any[] = [];\n    chuanDoansBanDauObj: any[] = [];\n    templateSave: string = null;\n    idTrieuChungsInsert: number[] = [];\n    idTrieuChungsDelete: number[] = [];\n    idChuanDoansInsert: number[] = [];\n    idChuanDoansDelete: number[] = [];\n    ghiChuTrieuChungBanDau: string = null;\n    trieuChungKhamBanDau: string = null;\n    idYeuCauTiepNhan: number = 0;\n    idYeuCauKhamBenh: number = 0;\n    @Input() data: any = null;\n    @Input() templateKp: string = null;\n    @Input() tenKp: string = null;\n    constructor(private apiService: ApiService, private dialog: MatDialog, private snackBar: MatSnackBar) { }\n\n    ngOnInit() {\n        this.documentType = DocumentType.KhamBenh;\n        this.benhNhanHienTai = this.data;\n        this.trieuChungKhamBanDau = this.benhNhanHienTai.YeuCauTiepNhan.TrieuChungTiepNhan;\n        this.ghiChuTrieuChungBanDau = this.benhNhanHienTai.YeuCauKhamBenh.GhiChuTrieuChungLamSang;\n        this.idYeuCauTiepNhan = this.benhNhanHienTai.YeuCauTiepNhanId;\n        this.idYeuCauKhamBenh = this.benhNhanHienTai.YeuCauKhamBenhId;\n        this.loadTrieuChungVaChuanDoan();\n    }\n\n    loadTrieuChungVaChuanDoan() {\n        this.trieuChungsBanDauObj = this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhTrieuChungs;\n        this.chuanDoansBanDauObj = this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChuanDoans;\n\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhTrieuChungs.forEach(element => {\n            this.trieuChungs.push(element.TrieuChungId);\n        });\n        this.trieuChungsBanDau = this.trieuChungs;\n\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChuanDoans.forEach(element => {\n            this.chuanDoans.push(element.ChuanDoanId);\n        });\n        this.chuanDoansBanDau = this.chuanDoans;\n    }\n\n    ngOnChanges() {\n        if (this.templateKp !== null) {\n            this.templateKhoaPhong = this.templateKp;\n            this.templateKhoaPhongObj = JSON.parse(this.templateKhoaPhong);\n            this.originTemplateKhoaPhong = JSON.parse(this.templateKhoaPhong);\n        } else {\n            this.templateKhoaPhong = null;\n            this.templateKhoaPhongObj = null;\n            this.originTemplateKhoaPhong = null;\n        }\n\n        if (this.tenKp !== null) {\n            this.tenKhoaPhong = this.tenKp;\n        } else {\n            this.tenKhoaPhong = null;\n        }\n\n        this.getTemplateKhamBenhTheoKhoa();\n    }\n\n    soSanhTrieuChung(trieuChungCurrent: any, trieuChungBanDau: any) {\n        function sortNumber(a, b) {\n            return a - b;\n        }\n\n        trieuChungCurrent.sort(sortNumber);\n        trieuChungBanDau.sort(sortNumber);\n\n        for (var i = 0; i < trieuChungCurrent.length; i++) {\n            if (trieuChungCurrent[i] !== trieuChungBanDau[i]) {\n                return false; // không trùng\n            }\n        }\n\n        return true; // trùng\n    }\n\n    soSanhChuanDoan(chuanDoanCurrent: any, chuanDoanBanDau: any) {\n        function sortNumber(a, b) {\n            return a - b;\n        }\n\n        chuanDoanCurrent.sort(sortNumber);\n        chuanDoanBanDau.sort(sortNumber);\n\n        for (var i = 0; i < chuanDoanCurrent.length; i++) {\n            if (chuanDoanCurrent[i] !== chuanDoanBanDau[i]) {\n                return false; // không trùng\n            }\n        }\n\n        return true; // trùng\n    }\n\n    onSaveTrieuChungKham() {\n        if (this.trieuChungKhamBanDau == \"\" && this.benhNhanHienTai.YeuCauTiepNhan.TrieuChungTiepNhan == null) {\n            this.trieuChungKhamBanDau = null;\n        }\n\n        if (this.trieuChungKhamBanDau == null && this.benhNhanHienTai.YeuCauTiepNhan.TrieuChungTiepNhan == \"\") {\n            this.trieuChungKhamBanDau = \"\";\n        }\n\n        if (this.benhNhanHienTai.YeuCauTiepNhan.TrieuChungTiepNhan != this.trieuChungKhamBanDau) {\n            this.flagChangeTrieuChungKhamText = true;\n        }\n        else {\n            this.flagChangeTrieuChungKhamText = false;\n        }\n\n        if (this.flagChangeTemplate === true || this.flagChangeChuanDoan === true || this.flagChangeTrieuChung === true || this.flagChangeTrieuChungKhamText === true || this.flagChangeGhiChuTrieuChungKhamText === true) {\n            this.displayButton = true;\n            return;\n        } else {\n            this.displayButton = false;\n            return;\n        }\n    }\n\n    onSaveGhiChuTrieuChung() {\n        if (this.ghiChuTrieuChungBanDau == \"\" && this.benhNhanHienTai.YeuCauKhamBenh.GhiChuTrieuChungLamSang == null) {\n            this.ghiChuTrieuChungBanDau = null;\n        }\n\n        if (this.ghiChuTrieuChungBanDau == null && this.benhNhanHienTai.YeuCauKhamBenh.GhiChuTrieuChungLamSang == \"\") {\n            this.ghiChuTrieuChungBanDau = \"\";\n        }\n\n        if (this.ghiChuTrieuChungBanDau != this.benhNhanHienTai.YeuCauKhamBenh.GhiChuTrieuChungLamSang) {\n            this.flagChangeGhiChuTrieuChungKhamText = true;\n        }\n        else {\n            this.flagChangeGhiChuTrieuChungKhamText = false;\n        }\n\n        if (this.flagChangeTemplate === true || this.flagChangeChuanDoan === true || this.flagChangeTrieuChung === true || this.flagChangeTrieuChungKhamText === true || this.flagChangeGhiChuTrieuChungKhamText === true) {\n            this.displayButton = true;\n            return;\n        } else {\n            this.displayButton = false;\n            return;\n        }\n    }\n\n    saveChuanDoan(data: any) {\n        this.chuanDoans = data;\n        let lenTrieuChungCurrent = this.trieuChungs.length;\n        let lenTrieuChungBanDau = this.trieuChungsBanDau.length;\n        let lenChuanDoanCurrent = this.chuanDoans.length;\n        let lenChuanDoanBanDau = this.chuanDoansBanDau.length;\n\n        if (lenTrieuChungCurrent >= lenTrieuChungBanDau) {\n            var trungTrieuChung = this.soSanhTrieuChung(this.trieuChungs, this.trieuChungsBanDau);\n        } else {\n            var trungTrieuChung = this.soSanhTrieuChung(this.trieuChungsBanDau, this.trieuChungs);\n        }\n\n        if (lenChuanDoanCurrent >= lenChuanDoanBanDau) {\n            var trungChuanDoan = this.soSanhChuanDoan(this.chuanDoans, this.chuanDoansBanDau);\n        } else {\n            var trungChuanDoan = this.soSanhChuanDoan(this.chuanDoansBanDau, this.chuanDoans);\n        }\n\n        if (this.trieuChungs !== undefined && this.trieuChungs.length === 0) {\n            this.trieuChungs = [];\n        }\n\n        if (this.chuanDoans !== undefined && this.chuanDoans.length === 0) {\n            this.chuanDoans = [];\n        }\n\n        if (trungTrieuChung === false || trungChuanDoan === false || this.flagChangeTrieuChungKhamText === true || this.flagChangeGhiChuTrieuChungKhamText === true) {\n            this.displayButton = true;\n        }\n\n        if (trungTrieuChung === true && trungChuanDoan === true && this.flagChangeTrieuChungKhamText === false && this.flagChangeGhiChuTrieuChungKhamText === false) {\n            this.displayButton = false;\n        }\n\n        if (trungChuanDoan === false) {\n            this.flagChangeChuanDoan = true;\n        } else {\n            this.flagChangeChuanDoan = false;\n        }\n    }\n\n    saveTrieuChung(data: any) {\n        this.trieuChungs = data;\n        let lenTrieuChungCurrent = this.trieuChungs.length;\n        let lenTrieuChungBanDau = this.trieuChungsBanDau.length;\n        let lenChuanDoanCurrent = this.chuanDoans.length;\n        let lenChuanDoanBanDau = this.chuanDoansBanDau.length;\n\n        if (lenTrieuChungCurrent >= lenTrieuChungBanDau) {\n            var trungTrieuChung = this.soSanhTrieuChung(this.trieuChungs, this.trieuChungsBanDau);\n        } else {\n            var trungTrieuChung = this.soSanhTrieuChung(this.trieuChungsBanDau, this.trieuChungs);\n        }\n\n        if (lenChuanDoanCurrent >= lenChuanDoanBanDau) {\n            var trungChuanDoan = this.soSanhChuanDoan(this.chuanDoans, this.chuanDoansBanDau);\n        } else {\n            var trungChuanDoan = this.soSanhChuanDoan(this.chuanDoansBanDau, this.chuanDoans);\n        }\n\n        if (this.trieuChungs !== undefined && this.trieuChungs.length === 0) {\n            this.trieuChungs = [];\n        }\n\n        if (this.chuanDoans !== undefined && this.chuanDoans.length === 0) {\n            this.chuanDoans = [];\n        }\n\n        if (trungTrieuChung === false || trungChuanDoan === false || this.flagChangeTrieuChungKhamText === true || this.flagChangeGhiChuTrieuChungKhamText === true) {\n            this.displayButton = true;\n        }\n\n        if (trungTrieuChung === true && trungChuanDoan === true && this.flagChangeTrieuChungKhamText === false && this.flagChangeGhiChuTrieuChungKhamText === false) {\n            this.displayButton = false;\n        }\n\n        if (trungTrieuChung === false) {\n            this.flagChangeTrieuChung = true;\n        } else {\n            this.flagChangeTrieuChung = false;\n        }\n    }\n\n    getTemplateKhamBenhTheoKhoa() {\n        if (this.templateKhoaPhongObj !== null && this.data.YeuCauKhamBenh.ThongTinKhamTheoKhoa !== null) {\n            this.thongTinKhamTheoKhoas = this.data.YeuCauKhamBenh.ThongTinKhamTheoKhoa;\n            this.thongTinKhamTheoKhoaObj = JSON.parse(this.thongTinKhamTheoKhoas);\n            if (this.templateKhoaPhongObj.ComponentDynamics.length > 0) {\n                this.templateKhoaPhongObj.ComponentDynamics.forEach(component => {\n                    this.thongTinKhamTheoKhoaObj.ThongTinKhamTheoKhoas.forEach(item => {\n                        if (component.Id == item.Id) {\n                            component.Value = item.Value;\n                            return;\n                        }\n                    });\n                })\n            }\n        }\n    }\n\n    save() {\n        let lenTrieuChungBanDau = this.trieuChungsBanDau.length;\n        let lenTrieuChungHienTai = this.trieuChungs.length;\n        let lenChuanDoanBanDau = this.chuanDoansBanDau.length;\n        let lenChuanDoanHienTai = this.chuanDoans.length;\n        var trieuChungs: number[] = [];\n        var trieuChungBanDau: number[] = [];\n        var chuanDoans: number[] = [];\n        var chuanDoanBanDau: number[] = [];\n\n        this.trieuChungs.forEach(element => {\n            trieuChungs.push(element);\n        });\n\n        this.trieuChungsBanDau.forEach(element => {\n            trieuChungBanDau.push(element);\n        });\n\n        this.chuanDoans.forEach(element => {\n            chuanDoans.push(element);\n        });\n\n        this.chuanDoansBanDau.forEach(element => {\n            chuanDoanBanDau.push(element);\n        });\n\n        this.idTrieuChungsDelete = [];\n        this.idTrieuChungsInsert = [];\n        this.idChuanDoansDelete = [];\n        this.idChuanDoansInsert = [];\n        if (lenTrieuChungHienTai >= lenTrieuChungBanDau) {\n            this.tachLocTrieuChungs1(trieuChungs, trieuChungBanDau);\n        } else {\n            this.tachLocTrieuChungs2(trieuChungBanDau, trieuChungs);\n        }\n\n        if (lenChuanDoanHienTai >= lenChuanDoanBanDau) {\n            this.tachLocChuanDoans1(chuanDoans, chuanDoanBanDau);\n        } else {\n            this.tachLocChuanDoans2(chuanDoanBanDau, chuanDoans);\n        }\n\n        var trieuChungObj: any = {\n            idTrieuChungsInsert: this.idTrieuChungsInsert,\n            idTrieuChungsDelete: this.idTrieuChungsDelete,\n            idYeuCauKhamBenh: this.benhNhanHienTai.YeuCauKhamBenhId,\n            trieuChungChange: this.flagChangeTrieuChung\n        };\n\n        var chuanDoanObj: any = {\n            idChuanDoansInsert: this.idChuanDoansInsert,\n            idChuanDoansDelete: this.idChuanDoansDelete,\n            idYeuCauKhamBenh: this.benhNhanHienTai.YeuCauKhamBenhId,\n            chuanDoanChange: this.flagChangeChuanDoan\n        };\n\n        var saveTemplate = this.processDynamicComponent();\n\n        var templateObj: any = {\n            idKhamBenh: this.benhNhanHienTai.YeuCauKhamBenhId,\n            template: saveTemplate,\n            templateChange: this.flagChangeTemplate\n        };\n\n        var trieuChungTxtObj: any = {\n            TrieuChungKham: this.trieuChungKhamBanDau,\n            FlagChangeTrieuChungKhamText: this.flagChangeTrieuChungKhamText,\n            GhiChuTrieuChungKham: this.ghiChuTrieuChungBanDau,\n            FlagChangeGhiChuTrieuChungKhamText: this.flagChangeGhiChuTrieuChungKhamText,\n            YeuCauTiepNhanId: this.idYeuCauTiepNhan,\n            YeuCauKhamBenhId: this.idYeuCauKhamBenh\n        };\n\n        this.apiService.post(\"KhamBenh/SaveTrieuChungKhamText\", trieuChungTxtObj).subscribe(() => {\n            this.benhNhanHienTai.YeuCauTiepNhan.TrieuChungTiepNhan = this.trieuChungKhamBanDau;\n            this.benhNhanHienTai.YeuCauKhamBenh.GhiChuTrieuChungLamSang = this.ghiChuTrieuChungBanDau;\n            this.apiService.post(\"KhamBenh/SaveTrieuChung\", trieuChungObj).subscribe(\n                (result: any) => {\n                    this.trieuChungsBanDauObj = result.Value.Data;\n                    this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhTrieuChungs = result.Value.Data;\n                    this.apiService.post(\"KhamBenh/SaveChuanDoan\", chuanDoanObj).subscribe(\n                        (result: any) => {\n                            this.chuanDoansBanDauObj = result.Value.Data;\n                            this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChuanDoans = result.Value.Data;\n                            this.apiService.post(\"KhamBenh/SaveTemplate\", templateObj).subscribe(\n                                () => {\n                                    this.showError(\"Đã cập nhật khám bệnh thành công\");\n                                    this.chuanDoansBanDau = this.chuanDoans;\n                                    this.trieuChungsBanDau = this.trieuChungs;\n                                    this.thongTinKhamTheoKhoaObj = JSON.parse(templateObj.template);\n                                    this.flagChangeTemplate = false;\n                                    this.flagChangeChuanDoan = false;\n                                    this.flagChangeTrieuChung = false;\n                                    this.flagChangeTrieuChungKhamText = false;\n                                    this.flagChangeGhiChuTrieuChungKhamText = false;\n                                    this.displayButton = false;\n                                    this.data.YeuCauKhamBenh.ThongTinKhamTheoKhoa = saveTemplate;\n                                });\n                        }\n                    );\n                }\n            );\n        });\n    }\n\n    tachLocTrieuChungs1(trieuChungCurrent: any, trieuChungBanDau: any) {\n        // sắp xếp\n        function sortNumber(a, b) {\n            return a - b;\n        }\n\n        trieuChungCurrent.sort(sortNumber);\n        trieuChungBanDau.sort(sortNumber);\n\n        // xác định i start và j start\n        let lenTrieuChungHienTai = trieuChungCurrent.length;\n        let lenTrieuChungBanDau = trieuChungBanDau.length;\n        var flagBreakLoop1 = false;\n\n        for (var i = 0; i < lenTrieuChungHienTai; i++) {\n            if (flagBreakLoop1 === true) {\n                break;\n            }\n            for (var j = 0; j < lenTrieuChungBanDau; j++) {\n                if (trieuChungCurrent[i] === trieuChungBanDau[j]) {\n                    var startTrieuChungCurrent = i;\n                    var startTrieuChungBanDau = j;\n                    var jBanDau = j;\n                    flagBreakLoop1 = true;\n                    break;\n                }\n            }\n            if (i === lenTrieuChungHienTai - 1 && flagBreakLoop1 === false) {\n                this.idTrieuChungsDelete = trieuChungBanDau;\n                this.idTrieuChungsInsert = trieuChungCurrent;\n                return;\n            }\n        }\n\n        let count: number = 0;\n\n        // xác định i end và j end\n        for (var i = startTrieuChungCurrent; i < lenTrieuChungHienTai; i++) {\n            if (trieuChungCurrent[i] === trieuChungBanDau[jBanDau]) {\n                jBanDau++;\n                count++;\n            } else {\n                break;\n            }\n        }\n\n        trieuChungCurrent.splice(startTrieuChungCurrent, count);\n        trieuChungBanDau.splice(startTrieuChungBanDau, count);\n\n        this.idTrieuChungsDelete = trieuChungBanDau;\n        this.idTrieuChungsInsert = trieuChungCurrent;\n    }\n\n    tachLocTrieuChungs2(trieuChungBanDau: any, trieuChungCurrent: any) {\n        function sortNumber(a, b) {\n            return a - b;\n        }\n\n        trieuChungCurrent.sort(sortNumber);\n        trieuChungBanDau.sort(sortNumber);\n\n        let lenTrieuChungHienTai = trieuChungCurrent.length;\n        let lenTrieuChungBanDau = trieuChungBanDau.length;\n        var flagBreakLoop1 = false;\n\n        for (var i = 0; i < lenTrieuChungBanDau; i++) {\n            if (flagBreakLoop1 === true) {\n                break;\n            }\n            for (var j = 0; j < lenTrieuChungHienTai; j++) {\n                if (trieuChungBanDau[i] === trieuChungCurrent[i]) {\n                    var startTrieuChungBanDau = i;\n                    var startTrieuChungCurrent = j;\n                    var jBanDau = j;\n                    flagBreakLoop1 = true;\n                    break;\n                }\n            }\n\n            if (i === lenTrieuChungBanDau - 1 && flagBreakLoop1 === false) {\n                this.idTrieuChungsDelete = trieuChungBanDau;\n                this.idTrieuChungsInsert = trieuChungCurrent;\n                return;\n            }\n        }\n\n        let count: number = 0;\n\n        for (var i = startTrieuChungBanDau; i < lenTrieuChungBanDau; i++) {\n            if (trieuChungBanDau[i] === trieuChungCurrent[jBanDau]) {\n                jBanDau++;\n                count++;\n            } else { break; }\n        }\n\n        trieuChungCurrent.splice(startTrieuChungCurrent, count);\n        trieuChungBanDau.splice(startTrieuChungBanDau, count);\n\n        this.idTrieuChungsDelete = trieuChungBanDau;\n        this.idTrieuChungsInsert = trieuChungCurrent;\n    }\n\n    tachLocChuanDoans1(chuanDoanCurrent: any, chuanDoanBanDau: any) {\n        function sortNumber(a, b) {\n            return a - b;\n        }\n\n        chuanDoanCurrent.sort(sortNumber);\n        chuanDoanBanDau.sort(sortNumber);\n\n        let lenChuanDoanHienTai = chuanDoanCurrent.length;\n        let lenChuanDoanBanDau = chuanDoanBanDau.length;\n        var flagBreakLoop1 = false;\n\n        for (var i = 0; i < lenChuanDoanHienTai; i++) {\n            if (flagBreakLoop1 === true) {\n                break;\n            }\n            for (var j = 0; j < lenChuanDoanBanDau; j++) {\n                if (chuanDoanCurrent[i] === chuanDoanBanDau[j]) {\n                    var startChuanDoanCurrent = i;\n                    var startChuanDoanBanDau = j;\n                    var jBanDau = j;\n                    flagBreakLoop1 = true;\n                    break;\n                }\n            }\n            if (i === lenChuanDoanHienTai - 1 && flagBreakLoop1 === false) {\n                this.idChuanDoansDelete = chuanDoanBanDau;\n                this.idChuanDoansInsert = chuanDoanCurrent;\n                return;\n            }\n        }\n\n        let count: number = 0;\n\n        // xác định i end và j end\n        for (var i = startChuanDoanCurrent; i < lenChuanDoanHienTai; i++) {\n            if (chuanDoanCurrent[i] === chuanDoanBanDau[jBanDau]) {\n                jBanDau++;\n                count++;\n            } else {\n                break;\n            }\n        }\n\n        chuanDoanCurrent.splice(startChuanDoanCurrent, count);\n        chuanDoanBanDau.splice(startChuanDoanBanDau, count);\n\n        this.idChuanDoansDelete = chuanDoanBanDau;\n        this.idChuanDoansInsert = chuanDoanCurrent;\n    }\n\n    tachLocChuanDoans2(chuanDoanBanDau: any, chuanDoanCurrent: any) {\n        function sortNumber(a, b) {\n            return a - b;\n        }\n\n        chuanDoanCurrent.sort(sortNumber);\n        chuanDoanBanDau.sort(sortNumber);\n\n        let lenChuanDoanHienTai = chuanDoanCurrent.length;\n        let lenChuanDoanBanDau = chuanDoanBanDau.length;\n        var flagBreakLoop1 = false;\n\n        for (var i = 0; i < lenChuanDoanBanDau; i++) {\n            if (flagBreakLoop1 === true) {\n                break;\n            }\n            for (var j = 0; j < lenChuanDoanHienTai; j++) {\n                if (chuanDoanCurrent[i] === chuanDoanBanDau[j]) {\n                    var startChuanDoanCurrent = j;\n                    var startChuanDoanBanDau = i;\n                    var jBanDau = j;\n                    flagBreakLoop1 = true;\n                    break;\n                }\n            }\n            if (i === lenChuanDoanBanDau - 1 && flagBreakLoop1 === false) {\n                this.idChuanDoansDelete = chuanDoanBanDau;\n                this.idChuanDoansInsert = chuanDoanCurrent;\n                return;\n            }\n        }\n\n        let count: number = 0;\n\n        // xác định i end và j end\n        for (var i = startChuanDoanBanDau; i < lenChuanDoanBanDau; i++) {\n            if (chuanDoanBanDau[i] === chuanDoanCurrent[jBanDau]) {\n                jBanDau++;\n                count++;\n            } else {\n                break;\n            }\n        }\n\n        chuanDoanCurrent.splice(startChuanDoanCurrent, count);\n        chuanDoanBanDau.splice(startChuanDoanBanDau, count);\n\n        this.idChuanDoansDelete = chuanDoanBanDau;\n        this.idChuanDoansInsert = chuanDoanCurrent;\n    }\n\n    showError(message: string) {\n        this.showIt(message, \"error\");\n    }\n\n    private showIt(message: string, toastType: string) {\n        if (this.snackBarOpen != null) {\n            this.snackBarOpen.dismiss();\n        }\n        this.snackBarOpen = this.snackBar.open(message, 'Đóng', {\n            duration: 7000,\n            horizontalPosition: 'right'\n        });\n    }\n\n    processDynamicComponent() {\n        var templateKhamTheoKhoa: any;\n        var listTemplateKhamTheoKhoa: any[] = [];\n\n        if (this.templateKhoaPhongObj !== null) {\n            var lengthComponentDynamics = this.templateKhoaPhongObj.ComponentDynamics.length;\n\n            for (var i = 0; i < lengthComponentDynamics; i++) {\n                if (this.templateKhoaPhongObj.ComponentDynamics[i].Value !== null) {\n                    templateKhamTheoKhoa = {\n                        Id: this.templateKhoaPhongObj.ComponentDynamics[i].Id,\n                        Value: this.templateKhoaPhongObj.ComponentDynamics[i].Value\n                    };\n                    listTemplateKhamTheoKhoa.push(templateKhamTheoKhoa);\n                }\n            }\n\n            var templateKhamTheoKhoaString = JSON.stringify(listTemplateKhamTheoKhoa);\n\n            var saveTemplate = \"{\\\"ThongTinKhamTheoKhoas\\\": \" + templateKhamTheoKhoaString + \"}\";\n\n            return saveTemplate;\n        }\n        return null;\n    }\n\n    reset() {\n        this.trieuChungs = this.trieuChungsBanDau;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhTrieuChungs = this.trieuChungsBanDauObj;\n        this.chuanDoans = this.chuanDoansBanDau;\n        this.benhNhanHienTai.YeuCauKhamBenh.YeuCauKhamBenhChuanDoans = this.chuanDoansBanDauObj;\n        this.trieuChungKhamBanDau = this.benhNhanHienTai.YeuCauTiepNhan.TrieuChungTiepNhan;\n        this.ghiChuTrieuChungBanDau = this.benhNhanHienTai.YeuCauKhamBenh.GhiChuTrieuChungLamSang;\n        if (this.thongTinKhamTheoKhoaObj != null) {\n            this.getOriginTemplate();\n        } else {\n            this.getOriginTemplateWhenNullThongTin();\n        }\n        this.flagChangeTemplate = false;\n        this.flagChangeChuanDoan = false;\n        this.flagChangeTrieuChung = false;\n        this.flagChangeTrieuChungKhamText = false;\n        this.flagChangeGhiChuTrieuChungKhamText = false;\n        this.displayButton = false;\n    }\n\n    getOriginTemplateWhenNullThongTin() {\n        this.templateKhoaPhongObj = this.originTemplateKhoaPhong;\n        if (this.templateKhoaPhongObj !== null) {\n            if (this.templateKhoaPhongObj.ComponentDynamics.length > 0) {\n                this.templateKhoaPhongObj.ComponentDynamics.forEach(component => {\n                    component.Value = null;\n                    return;\n                });\n            }\n        }\n    }\n\n    getOriginTemplate() {\n        this.templateKhoaPhongObj = this.originTemplateKhoaPhong;\n        if (this.templateKhoaPhongObj !== null) {\n            if (this.templateKhoaPhongObj.ComponentDynamics.length > 0) {\n                this.templateKhoaPhongObj.ComponentDynamics.forEach(component => {\n                    this.thongTinKhamTheoKhoaObj.ThongTinKhamTheoKhoas.forEach(item => {\n                        if (component.Id == item.Id) {\n                            component.Value = item.Value;\n                            return;\n                        }\n                    });\n                })\n            }\n        }\n    }\n\n    changeText() {\n        // hàm này dùng để kiểm tra sự thay đổi từ đó quyết định có show nút lưu ra hay không?\n        // có đến 3 trường hợp xảy ra để dẫn đến sự thay đổi\n        // 1 là templateKhoaPhongObj và thongTinKhamTheoKhoaObj cùng key nhưng khác value\n        // 2 là templateKhoaPhongObj và thongTinKhamTheoKhoaObj tìm mãi không cùng key nhưng value của templateKhoaPhongObj khác null\n        // 3 là nếu như không có thongTinKhamTheoKhoaObj thì chỉ cần bất cứ 1 key nào của templateKhoaPhongObj có value là được\n        // Ngoài ra còn phải dẫn dắt s\n        this.flagChangeTemplate = false;\n\n        var lengthTemplate = this.templateKhoaPhongObj.ComponentDynamics.length;\n\n\n        if (this.thongTinKhamTheoKhoaObj !== null) {\n            var lengthThongTinKhoa = this.thongTinKhamTheoKhoaObj.ThongTinKhamTheoKhoas.length;\n            for (var i = 0; i < lengthTemplate; i++) {\n                var khoaAvailable = false;\n                for (var j = 0; j < lengthThongTinKhoa; j++) {\n                    if (this.templateKhoaPhongObj.ComponentDynamics[i].Id === this.thongTinKhamTheoKhoaObj.ThongTinKhamTheoKhoas[j].Id) {\n                        khoaAvailable = true;\n                        if (this.templateKhoaPhongObj.ComponentDynamics[i].Value !== this.thongTinKhamTheoKhoaObj.ThongTinKhamTheoKhoas[j].Value) {\n                            // đây là trường hợp mà templateKhoaPhongObj tìm được key của thongTinKhamTheoKhoaObj và value của chúng khác nhau\n                            // . Rõ ràng, khác giá trị nhau là có sự thay đổi => vào đây báo hiệu bằng cách đổi cờ hiệu\n                            this.flagChangeTemplate = true;\n\n                            if (this.flagChangeTemplate === true || this.flagChangeChuanDoan === true || this.flagChangeTrieuChung === true\n                                || this.flagChangeTrieuChungKhamText === true || this.flagChangeGhiChuTrieuChungKhamText === true) {\n                                this.displayButton = true;\n                            }\n\n                            return;\n                        }\n                        // vì đã templateKhoaPhongObj đã tìm thấy key của thongTinKhamTheoKhoaObj rồi\n                        // nên không cần duyệt để tìm key nữa => dùng break để templateKhoaPhongObj đổi key rồi tìm tiếp\n                        break;\n                    }\n                }\n\n                if (this.templateKhoaPhongObj.ComponentDynamics[i].Value === \"\") {\n                    this.templateKhoaPhongObj.ComponentDynamics[i].Value = null;\n                }\n\n                if (khoaAvailable === false && this.templateKhoaPhongObj.ComponentDynamics[i].Value !== null) {\n                    // đây là trường hợp mà templateKhoaPhongObj tìm key của thongTinKhamTheoKhoaObj nhưng không có thấy. Tuy nhiên\n                    // value của nó có tồn tại giá trị => nghĩa là có thay đổi rồi\n                    this.flagChangeTemplate = true;\n\n                    if (this.flagChangeTemplate === true || this.flagChangeChuanDoan === true || this.flagChangeTrieuChung === true\n                        || this.flagChangeTrieuChungKhamText === true || this.flagChangeGhiChuTrieuChungKhamText === true) {\n                        this.displayButton = true;\n                    }\n\n                    return;\n                }\n            }\n\n            // đây là trường hợp mà templateKhoaPhongObj không tìm thấy key của thongTinKhamTheoKhoaObj và value cũng null\n            // cũng là trường hợp mà templateKhoaPhongObj tìm thấy key của thongTinKhamTheoKhoaObj nhưng value thì y chang nhau\n            // => đây là trường hợp báo hiệu rằng không hề có sự thay đổi nào\n            this.flagChangeTemplate = false;\n            this.displayButton = false;\n        }\n        else {\n            for (var i = 0; i < lengthTemplate; i++) {\n                if (this.templateKhoaPhongObj.ComponentDynamics[i].Value !== null && this.templateKhoaPhongObj.ComponentDynamics[i].Value !== \"\") {\n                    // đây là trường hợp mà thongTinKhamTheoKhoaObj không có data\n                    // nghĩa là đây là yêu cầu tiếp nhận mới\n                    // => chỉ thay đổi khi value của templateKhoaPhongObj có value thôi\n                    this.flagChangeTemplate = true;\n\n                    if (this.flagChangeTemplate === true || this.flagChangeChuanDoan === true || this.flagChangeTrieuChung === true\n                        || this.flagChangeTrieuChungKhamText === true || this.flagChangeGhiChuTrieuChungKhamText === true) {\n                        this.displayButton = true;\n                    }\n\n                    return;\n                }\n            }\n\n            // trường hợp này value của toàn bộ templateKhoaPhongObj không có\n            this.flagChangeTemplate = false;\n            this.displayButton = false;\n        }\n    }\n\n    changeTextArea() {\n        this.flagChangeTemplate = false;\n\n        var lengthTemplate = this.templateKhoaPhongObj.ComponentDynamics.length;\n        var lengthThongTinKhoa = this.thongTinKhamTheoKhoaObj.ThongTinKhamTheoKhoas.length;\n\n        if (this.thongTinKhamTheoKhoaObj !== null) {\n            for (var i = 0; i < lengthTemplate; i++) {\n                var khoaAvailable = false;\n                for (var j = 0; j < lengthThongTinKhoa; j++) {\n                    if (this.templateKhoaPhongObj.ComponentDynamics[i].Id === this.thongTinKhamTheoKhoaObj.ThongTinKhamTheoKhoas[j].Id) {\n                        khoaAvailable = true;\n                        if (this.templateKhoaPhongObj.ComponentDynamics[i].Value !== this.thongTinKhamTheoKhoaObj.ThongTinKhamTheoKhoas[j].Value) {\n                            // đây là trường hợp mà templateKhoaPhongObj tìm được key của thongTinKhamTheoKhoaObj và value của chúng khác nhau\n                            // . Rõ ràng, khác giá trị nhau là có sự thay đổi => vào đây báo hiệu bằng cách đổi cờ hiệu\n                            this.flagChangeTemplate = true;\n\n                            if (this.flagChangeTemplate === true || this.flagChangeChuanDoan === true || this.flagChangeTrieuChung === true\n                                || this.flagChangeTrieuChungKhamText === true || this.flagChangeGhiChuTrieuChungKhamText === true) {\n                                this.displayButton = true;\n                            }\n\n                            return;\n                        }\n                        // vì đã templateKhoaPhongObj đã tìm thấy key của thongTinKhamTheoKhoaObj rồi\n                        // nên không cần duyệt để tìm key nữa => dùng break để templateKhoaPhongObj đổi key rồi tìm tiếp\n                        break;\n                    }\n                }\n\n                if (this.templateKhoaPhongObj.ComponentDynamics[i].Value === \"\") {\n                    this.templateKhoaPhongObj.ComponentDynamics[i].Value = null;\n                }\n\n                if (khoaAvailable === false && this.templateKhoaPhongObj.ComponentDynamics[i].Value !== null) {\n                    // đây là trường hợp mà templateKhoaPhongObj tìm key của thongTinKhamTheoKhoaObj nhưng không có thấy. Tuy nhiên\n                    // value của nó có tồn tại giá trị => nghĩa là có thay đổi rồi\n                    this.flagChangeTemplate = true;\n\n                    if (this.flagChangeTemplate === true || this.flagChangeChuanDoan === true || this.flagChangeTrieuChung === true\n                        || this.flagChangeTrieuChungKhamText === true || this.flagChangeGhiChuTrieuChungKhamText === true) {\n                        this.displayButton = true;\n                    }\n\n                    return;\n                }\n            }\n\n            // đây là trường hợp mà templateKhoaPhongObj không tìm thấy key của thongTinKhamTheoKhoaObj và value cũng null\n            // cũng là trường hợp mà templateKhoaPhongObj tìm thấy key của thongTinKhamTheoKhoaObj nhưng value thì y chang nhau\n            // => đây là trường hợp báo hiệu rằng không hề có sự thay đổi nào\n            this.flagChangeTemplate = false;\n            this.displayButton = false;\n            return;\n        }\n        else {\n            for (var i = 0; i < lengthTemplate; i++) {\n                if (this.templateKhoaPhongObj.ComponentDynamics[i].Value !== null) {\n                    // đây là trường hợp mà thongTinKhamTheoKhoaObj không có data\n                    // nghĩa là đây là yêu cầu tiếp nhận mới\n                    // => chỉ thay đổi khi value của templateKhoaPhongObj có value thôi\n                    this.flagChangeTemplate = true;\n\n                    if (this.flagChangeTemplate === true || this.flagChangeChuanDoan === true || this.flagChangeTrieuChung === true\n                        || this.flagChangeTrieuChungKhamText === true || this.flagChangeGhiChuTrieuChungKhamText === true) {\n                        this.displayButton = true;\n                    }\n\n                    return;\n                }\n            }\n\n            // trường hợp này value của toàn bộ templateKhoaPhongObj không có\n            this.flagChangeTemplate = false;\n            this.displayButton = false;\n            return;\n        }\n    }\n}\n","export default \"ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\n.po-h {\\n  color: #005dab;\\n  position: relative;\\n  top: 5px;\\n  left: 5px;\\n}\\n\\n.po-h mat-icon {\\n  display: contents;\\n}\\n\\n.btn-blue {\\n  color: #005dab;\\n}\\n\\ntable, th, td {\\n  border: 1px solid #ccc;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLXRpZW4tc3UtYmVuaC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLXRpZW4tc3UtYmVuaFxcbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLXRpZW4tc3UtYmVuaC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLXRpZW4tc3UtYmVuaC9sYW4ta2hhbS1oaWVuLXRhaS1raGFtLWJlbmgtdGllbi1zdS1iZW5oLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsOEJBQUE7RUFDQSx1QkFBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLHNCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9sYW4ta2hhbS1oaWVuLXRhaS9sYW4ta2hhbS1oaWVuLXRhaS1raGFtLWJlbmgtdGllbi1zdS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpLWtoYW0tYmVuaC10aWVuLXN1LWJlbmguY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ1bC5pbmxpbmUgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG4ucG8taCB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogNXB4O1xuICBsZWZ0OiA1cHg7XG59XG5cbi5wby1oIG1hdC1pY29uIHtcbiAgZGlzcGxheTogY29udGVudHM7XG59XG5cbi5idG4tYmx1ZSB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xufVxuXG50YWJsZSwgdGgsIHRkIHtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbn0iLCJ1bC5pbmxpbmUgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG4ucG8taCB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogNXB4O1xuICBsZWZ0OiA1cHg7XG59XG5cbi5wby1oIG1hdC1pY29uIHtcbiAgZGlzcGxheTogY29udGVudHM7XG59XG5cbi5idG4tYmx1ZSB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xufVxuXG50YWJsZSwgdGgsIHRkIHtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbn0iXX0= */\"","import { Component, OnInit, TemplateRef, ViewChild, Input, SimpleChanges } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icAdd from '@iconify/icons-ic/twotone-add';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icSave from '@iconify/icons-ic/outline-save';\nimport { TienSuBenh, BenhVienHangDoi, } from '../../../kham-benh.model';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { MatDialog } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { NotificationService } from 'src/app/core/services/notification.service';\n\n@Component({\n    selector: 'app-lan-kham-hien-tai-kham-benh-tien-su-benh',\n    templateUrl: './lan-kham-hien-tai-kham-benh-tien-su-benh.component.html',\n    styleUrls: ['./lan-kham-hien-tai-kham-benh-tien-su-benh.component.scss']\n})\n\nexport class LanKhamHienTaiKhamBenhTienSuBenhComponent implements OnInit {\n\n    icAdd = icAdd;\n    icDelete = icDelete;\n    icAddCircle = icAddCircle;\n    icEdit = icEdit;\n    icSave = icSave;\n    isAllowAdd: boolean = true;\n\n    gridTienSuBenhColumns: any[] = [];\n    documentType: DocumentType;\n    dataSourceTienSu: any = {\n        data: [],\n        total: 0\n    }\n    tenBenhCurrent: string = null;\n    validationErrors: any;\n    count: number = 1; // biến này chỉ dùng để gán tạm giá trị\n\n    @ViewChild('actionTienSuBenhTemplate', { static: true }) actionTienSuBenhTemplate: TemplateRef<any>;\n    @ViewChild('loaiTienSuBenhTemplate', { static: true }) loaiTienSuBenhTemplate: TemplateRef<any>;\n    @ViewChild('tienSuBenhTemplate', { static: true }) tienSuBenhTemplate: TemplateRef<any>;\n    benhNhanHienTai = new BenhVienHangDoi();\n    @Input() data: any = null;\n    @Input() dataTienSuBenh: any = null;\n    @Input() isReadOnly: boolean = false;\n    @Input() laChuyenKhoaKhamNhieu: boolean = false;\n\n    constructor(private apiService: ApiService, private dialog: MatDialog, private notificationService: NotificationService) { }\n\n    ngOnInit() {\n        this.benhNhanHienTai = this.data;\n        this.documentType = DocumentType.KhamBenh;\n\n        this.gridTienSuBenhColumns = [\n            { Field: \"TenLoaiTienSuBenh\", Title: \"Loại tiền sử bệnh\", Width: 150, Template: this.loaiTienSuBenhTemplate },\n            { Field: \"TenBenh\", Title: \"Tên bệnh\", Width: 450, Template: this.tienSuBenhTemplate },\n            { Field: \"Action\", Title: \"\", Width: 50, Template: this.actionTienSuBenhTemplate, Hidden: this.isReadOnly }\n        ];\n\n        //this.getTableTienSuBenh(this.benhNhanHienTai.YeuCauTiepNhan.BenhNhanId);\n        this.dataSourceTienSu.data = this.dataTienSuBenh;\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if(changes['dataTienSuBenh'] && changes['dataTienSuBenh'].previousValue != null && changes['dataTienSuBenh'].previousValue != changes['dataTienSuBenh'].currentValue)\n        {\n            this.dataSourceTienSu.data = changes['dataTienSuBenh'].currentValue;\n        }\n    }\n\n    getTableTienSuBenh(idBenhNhan: number) {\n        var queryObject: any = {\n            skip: 0,\n            take: 50,\n            pageSize: 50,\n            searchString: \"PEFkdmFuY2VkUXVlcnlQYXJhbWV0ZXJzPjxTZWFyY2hUZXJtcz4yPC9TZWFyY2hUZXJtcz48L0FkdmFuY2VkUXVlcnlQYXJhbWV0ZXJzPg==\",\n            additionalSearchString: idBenhNhan.toString(),\n            searchTerms: null,\n            sort: [{ field: \"TenBenh\", dir: \"asc\" }],\n            lazyLoadPage: true,\n        };\n\n        this.apiService.post<any>(\"KhamBenh/GetDataGridTienSuBenh\", queryObject).subscribe(resultData => {\n            if (resultData !== undefined && resultData != null) {\n                this.dataSourceTienSu.data = resultData.Value.Data;\n            }\n        });\n    }\n\n    themTienSuBenh() {\n        this.dataSourceTienSu.data.push(new TienSuBenh());\n        this.changeData();\n    }\n\n    changeData() {\n        this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = true;\n    }\n\n    // luuTienSuBenh(item: any) {\n    //     // this.validationErrors = [];\n\n    //     item.BenhNhanId = this.benhNhanHienTai.YeuCauTiepNhan.BenhNhanId;\n    //     this.apiService.post(\"KhamBenh/LuuTienSuBenh\", item).subscribe(\n    //         (resultData: any) => {\n    //             item.Id = resultData.Id;\n    //             item.NgayPhatHien = resultData.NgayPhatHien;\n    //             this.isAllowAdd = true;\n    //         }, (err: ApiError) => {\n    //             // this.validationErrors = err.ValidationErrors;\n    //             if (err.Message != \"Validation Failed\") {\n    //                 this.notificationService.showError(err.Message);\n    //               }\n    //         });\n    // }\n\n    checkExist(tenBenh: string) {\n        let len = this.dataSourceTienSu.data.length;\n\n        for (let i = 0; i < len; i++) {\n            if (len - 1 === i) {\n                continue;\n            }\n\n            if (this.dataSourceTienSu.data[i].TenBenh === tenBenh) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    xoaTienSuBenh(item) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessConfirm, [\"xóa\"]) }\n        }).afterClosed().subscribe(result => {\n            if (result === 'Yes') {\n                this.dataSourceTienSu.data.splice(this.dataSourceTienSu.data.findIndex(x => x == item), 1);\n                this.changeData();\n            }\n        });\n    }\n\n    chonLoaiTienSuBenh(event, item)\n    {\n        if(event != undefined && event != null)\n        {\n            item.TenLoaiTienSuBenh = event.DisplayName;\n        }\n        else\n        {\n            item.TenLoaiTienSuBenh = null;\n        }\n    }\n\n    //BVHD-3856\n    suaTienSuBenh(item) {\n        item.IsUpdate = true;\n        this.changeData();\n    }\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n  padding-bottom: 10px;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXGxhbi1raGFtLWhpZW4tdGFpXFxsYW4ta2hhbS1oaWVuLXRhaS1raGFtLWJlbmhcXGxhbi1raGFtLWhpZW4tdGFpLWtoYW0tYmVuaC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpLWtoYW0tYmVuaC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0VBQ0Esb0JBQUE7QUNDRjs7QURFQTtFQUNFLGdDQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9sYW4ta2hhbS1oaWVuLXRhaS9sYW4ta2hhbS1oaWVuLXRhaS1raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkta2hhbS1iZW5oLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn0iLCJmaWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbTtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIHBhZGRpbmctbGVmdDogMC43NWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW07XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufSJdfQ== */\"","import { Component, OnInit, Input, OnChanges, SimpleChanges, ViewChild, ElementRef, Output, EventEmitter } from '@angular/core';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { MatDialog } from '@angular/material';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { IntlService } from '@progress/kendo-angular-intl';\nimport { YeuCauKhamBenh, BenhVienHangDoi, YeuCauTiepNhan, ThongTinKhamPrevious } from '../../../kham-benh.model';\nimport { BaseService } from 'src/app/core/services/base.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { KetLuanKhamSucKhoeDoanKetQuaMauPopupComponent } from 'src/app/modules/main/kham-doan/kham-doan-ket-luan/ket-luan-kham-suc-khoe-doan-ket-qua-mau-popup/ket-luan-kham-suc-khoe-doan-ket-qua-mau-popup.component';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { KetQuaMauPopupComponent } from 'src/app/modules/main/kham-doan/kham-doan-ket-luan-cls-ksk/ket-qua-mau-popup/ket-qua-mau-popup.component';\nimport { LookupQueryInfo } from 'src/app/shared/models/common.model';\ndeclare var jQuery: any;\nimport addIcon from \"@iconify/icons-ic/add-circle\";\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { NoiDungMauKhamBenhPopupComponent } from '../noi-dung-mau-kham-benh-popup/noi-dung-mau-kham-benh-popup.component';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\n\n@Component({\n    selector: 'app-lan-kham-hien-tai-kham-benh',\n    templateUrl: './lan-kham-hien-tai-kham-benh.component.html',\n    styleUrls: ['./lan-kham-hien-tai-kham-benh.component.scss']\n})\nexport class LanKhamHienTaiKhamBenhComponent implements OnInit, OnChanges {\n\n    addIcon = addIcon;\n\n    //documentType: DocumentType;\n    benhNhanHienTai = new BenhVienHangDoi();\n    thongTinKhamTemp: ThongTinKhamPrevious;\n    tenKhoaPhong: string = null;\n    phongKhamHienTai: number = 0;\n    popupLoadingData: any;\n    showNoiDungKhamKhac: boolean = false;\n    dataPhanLoaiSucKhoes: Array<any> = [];\n\n    @Input() templateKhamCacCoQuanObj: any;\n\n    @Input() data: any = null;\n    @Input() templateKP: string = null;\n    @Input() tenKP: string = null;\n    @Input() phongKhamId: number = 0;\n    @Input() isKhamDoan: boolean = false;\n    @Input() documentType: DocumentType = DocumentType.KhamBenh;\n    // @Input() changeData: boolean = false;\n\n    @Input() templateDichVuKhamSucKhoes: any;\n    @Input() isKhamDoanTatCa: boolean = false;\n    @Input() timeSaveChangeDataChuyenKhoaKSK: Date = null;\n    @Input() isReadOnly: boolean = false;\n    @Input() laChuyenKhoaKhamNhieu: boolean = false;\n    showAction: boolean = false;\n\n    @Output() chonShowKetQuaMauKhamBenh: EventEmitter<any> = new EventEmitter<any>();\n    constructor(\n        private apiService: ApiService,\n        public intl: IntlService, private dialog: MatDialog,\n        private notificationService: NotificationService,\n        private authService: AuthService) { }\n\n    ngOnInit() {\n        //this.documentType = DocumentType.KhamBenh;\n        this.benhNhanHienTai = this.data;\n        if(this.isKhamDoan)\n        {\n            this.getDataPhanLoaiKSK();\n        }\n        \n    }\n\n    ngAfterViewInit() {\n        if(this.isKhamDoan)\n        {\n            jQuery(\".kham-doan-cac-co-quan\").css({\"min-height\":jQuery(window).height()-270});\n            this.scrollTo();\n        }\n    }\n\n    scrollTo():void {\n        if (jQuery('#contentbpk').position() != undefined) {\n            jQuery('.sidenav-content').animate({ scrollTop: jQuery('#contentbpk').position().top+20 });\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        console.log('ngOnChanges', changes);\n        this.tenKhoaPhong = this.tenKP;\n        this.phongKhamHienTai = this.phongKhamId;\n        if(changes['templateKhamCacCoQuanObj'] && changes['templateKhamCacCoQuanObj'].previousValue != null && changes['templateKhamCacCoQuanObj'].previousValue != changes['templateKhamCacCoQuanObj'].currentValue)\n        {\n            this.templateKhamCacCoQuanObj = changes['templateKhamCacCoQuanObj'].currentValue;\n            this.kiemTraKetLuanKhamSucKhoe();\n        }\n\n        if (changes['templateDichVuKhamSucKhoes'] && changes['templateDichVuKhamSucKhoes'].previousValue != null && changes['templateDichVuKhamSucKhoes'].previousValue != changes['templateDichVuKhamSucKhoes'].currentValue) {\n            this.templateDichVuKhamSucKhoes = changes['templateDichVuKhamSucKhoes'].currentValue;\n        }\n\n        if (changes['timeSaveChangeDataChuyenKhoaKSK'] && changes['timeSaveChangeDataChuyenKhoaKSK'].previousValue != changes['timeSaveChangeDataChuyenKhoaKSK'].currentValue) {\n            this.timeSaveChangeDataChuyenKhoaKSK = changes['timeSaveChangeDataChuyenKhoaKSK'].currentValue;\n            this.ketQuaMauKhamBenh();\n        }\n    }\n\n    dataChange(){\n        this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = true;\n    }\n\n    chonChanDoanSoBoICD(event)\n    {\n        if(event != undefined && event != null)\n        {\n            this.benhNhanHienTai.YeuCauKhamBenh.TenChanDoanSoBoICD = event.DisplayName;\n            this.benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoGhiChu = event.Ten\n        }\n        else{\n            this.benhNhanHienTai.YeuCauKhamBenh.TenChanDoanSoBoICD = null;\n            this.benhNhanHienTai.YeuCauKhamBenh.ChanDoanSoBoGhiChu = null;\n        }\n    }\n\n    showPopupLoadingData() {\n        console.log('this.popupLoadingData.openDialogs', this.popupLoadingData);\n        if (this.popupLoadingData == undefined\n            || this.popupLoadingData == null\n            || this.popupLoadingData.openDialogs == undefined\n            || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n            this.popupLoadingData = this.dialog.open(LoadingComponent, {\n                disableClose: true,\n                width: \"200px\",\n                height: \"90px\",\n                data: { Title: \"Đang tải dữ liệu...\" },\n            });\n        }\n    }\n\n    closePopupLoadingData() {\n        if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n            this.popupLoadingData.close();\n        }\n    }\n    \n\n    ketQuaMauKhamBenh() {\n        var self = this;\n        self.showPopupLoadingData();\n        var obj = {\n            \"YeuCauTiepNhanId\": self.benhNhanHienTai.YeuCauTiepNhanId,\n            \"HopDongKhamSucKhoeNhanVienId\": self.benhNhanHienTai.YeuCauTiepNhan.HopDongKhamSucKhoeNhanVienId\n        }\n        self.apiService.post<any>(\"KhamBenh/GetKetQuaMauDichVuKhamBenh\", obj).subscribe((resultData) => {\n            self.closePopupLoadingData();\n            if (resultData != undefined && resultData != null) {\n                self.dialog.open(KetLuanKhamSucKhoeDoanKetQuaMauPopupComponent, {\n                    disableClose: false,\n                    width: \"400px\",\n                    data: resultData,\n                }).afterClosed().subscribe(datas => {\n                    if (datas != undefined && datas != null && datas.length > 0) {\n                        self.dataChange();\n                        datas.forEach(element => {\n                            if (element.IsCheck) {\n                                if (self.benhNhanHienTai.YeuCauTiepNhan.KSKKetLuanCacBenhTat == null) {\n                                    self.benhNhanHienTai.YeuCauTiepNhan.KSKKetLuanCacBenhTat = \"\";\n                                }\n                                self.benhNhanHienTai.YeuCauTiepNhan.KSKKetLuanCacBenhTat += element.Value + \"; \";\n                            }\n                        });\n                    }\n                });\n            }\n        }, (err: ApiError) => {\n            self.benhNhanHienTai.validationErrors = err.ValidationErrors;\n            if (err.Message != \"Validation Failed\") {\n                self.notificationService.showError(err.Message);\n            }\n            self.closePopupLoadingData();\n        });\n    }\n\n    showKetQuaMauKhamBenh(){\n        console.log('this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh', this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh);\n        if(this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh)\n        {\n            this.chonShowKetQuaMauKhamBenh.emit(true);\n        }\n        else\n        {\n            this.ketQuaMauKhamBenh();\n        }\n    }\n\n    ketQuaMauDichVuKyThuat() {\n        var self = this;\n        self.showPopupLoadingData();\n        var obj = {\n            \"YeuCauTiepNhanId\": self.benhNhanHienTai.YeuCauTiepNhanId,\n            \"HopDongKhamSucKhoeNhanVienId\": self.benhNhanHienTai.YeuCauTiepNhan.HopDongKhamSucKhoeNhanVienId\n        }\n        self.apiService.post<any>(\"KhamBenh/GetKetQuaMauDichVuKyThuat\", obj).subscribe((resultData) => {\n            self.closePopupLoadingData();\n            if (resultData != undefined && resultData != null) {\n                self.dialog.open(KetQuaMauPopupComponent, {\n                    disableClose: false,\n                    width: \"400px\",\n                    data: { Model: {Data: resultData} }\n                }).afterClosed().subscribe(datas => {\n                    if (datas != undefined && datas != null) {\n                        self.dataChange();\n                        datas.Model.Data.forEach(element => {\n                            if (element.isCheck == true) {\n                                self.benhNhanHienTai.YeuCauTiepNhan.KSKKetQuaCanLamSang += element.NoiDung + ',';\n                            }\n                        });\n                    }\n                });\n            }\n        }, (err: ApiError) => {\n            self.benhNhanHienTai.validationErrors = err.ValidationErrors;\n            if (err.Message != \"Validation Failed\") {\n                self.notificationService.showError(err.Message);\n            }\n            self.closePopupLoadingData();\n        });\n    }\n\n    ketQuaMauDichVuKyThuatVer2() {\n        this.apiService.post<any>(\"KhamDoan/GetListKetQuaTheoYeuCauTiepNhan?yeuCauTiepNhanId=\" + this.benhNhanHienTai.YeuCauTiepNhanId)\n            .subscribe((resultData) => {\n                this.dialog\n                    .open(KetQuaMauPopupComponent, {\n                        width: \"400px\",\n                        data: { Model: resultData }\n                    })\n                    .afterClosed()\n                    .subscribe((result) => {\n                        if (result != undefined) {\n                            this.benhNhanHienTai.YeuCauTiepNhan.KSKKetQuaCanLamSang = \"\";\n                            let number = 1;\n                            let resultLenght = result.length;\n                            result.forEach(element => {\n                                if (element.IsCheck == true) {\n                                    this.benhNhanHienTai.YeuCauTiepNhan.KSKKetQuaCanLamSang += element.KetQuaCLS;\n                                    if (resultLenght > number) {\n                                        this.benhNhanHienTai.YeuCauTiepNhan.KSKKetQuaCanLamSang += \"; \";\n                                    }\n                                    number++;\n                                }\n                                // if (element.IsCheck == true) {\n                                //     this.benhNhanHienTai.YeuCauTiepNhan.KSKKetQuaCanLamSang += element.KetQuaCLS;\n                                // }\n                            });\n                        }\n\n                    });\n            },\n                (err: ApiError) => {\n                    if (err.Message != \"Validation Failed\") {\n                        this.notificationService.showError(err.Message);\n                    }\n                    this.closePopupLoadingData();\n                });\n    }\n\n    xuLyChonKhamDichVu(event, item)\n    {\n        this.dataTemplateDichVuKhamChange(item);\n        if(event)\n        {\n            if (\n                // item.TemplateKhamCacCoQuanObj != null\n                // && item.TemplateKhamCacCoQuanObj.ComponentDynamics != null\n                // && item.TemplateKhamCacCoQuanObj.ComponentDynamics.length > 0\n                item.ThongTinKhamTheoDichVuDataDefault != null\n                && item.ThongTinKhamTheoDichVuDataDefault != \"\") {\n                let dataDefaultObj = JSON.parse(item.ThongTinKhamTheoDichVuDataDefault);\n                let itemTemp = null;\n                item.TemplateKhamCacCoQuanObj.ComponentDynamics.forEach(\n                    (item) => {\n                        if (\n                            item.groupItems != undefined &&\n                            item.groupItems != null &&\n                            item.groupItems.length > 0\n                        ) {\n                            item.groupItems.forEach((element) => {\n                                itemTemp = dataDefaultObj.DataKhamTheoTemplate.find(\n                                    (x) => x.Id == element.Id\n                                );\n                                if (itemTemp != null) {\n                                    element.Value = itemTemp.Value;\n                                }\n                            });\n                        } else {\n                            itemTemp = dataDefaultObj.DataKhamTheoTemplate.find(\n                                (x) => x.Id == item.Id\n                            );\n                            if (itemTemp != null) {\n                                item.Value = itemTemp.Value;\n                            }\n                        }\n                    }\n                );\n            }\n        }\n        else\n        {\n            item.TemplateKhamCacCoQuanObj.ComponentDynamics.forEach(\n                (item) => {\n                    if (\n                        item.groupItems != undefined &&\n                        item.groupItems != null &&\n                        item.groupItems.length > 0\n                    ) {\n                        item.groupItems.forEach((element) => {\n                            element.Value = null;\n                        });\n                    } else {\n                        item.Value = null;\n                    }\n                }\n            );\n        }\n    }\n\n    dataTemplateDichVuKhamChange(item){\n        this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = true;\n        item.IsChangeData = true;\n\n        this.kiemTraKetLuanKhamSucKhoe();\n    }\n\n    kiemTraKetLuanKhamSucKhoe(){\n        // kiểm tra số chuyên khoa đang chọn\n        var lstDichVuKhamDangChon = this.benhNhanHienTai.YeuCauKhamBenh.TemplateDichVuKhamSucKhoes.filter(x => x.ChuyenKhoaKhamSucKhoe != null && x.IsCheckedDichVu == true);\n\n        var countDichVuThuocNhomChinh = 0;\n        lstDichVuKhamDangChon.forEach(element => {\n            var index = this.benhNhanHienTai.YeuCauTiepNhan.ChuyenKhoaKhamSucKhoeChinhs.findIndex(x => x == element.ChuyenKhoaKhamSucKhoe);\n            if(index != -1)\n            {\n                countDichVuThuocNhomChinh++;\n            }\n        });\n        this.benhNhanHienTai.YeuCauTiepNhan.IsDuChuyenKhoaKhamSucKhoeChinh = \n            this.benhNhanHienTai.YeuCauTiepNhan.ChuyenKhoaKhamSucKhoeChinhs.length == countDichVuThuocNhomChinh;\n            // this.benhNhanHienTai.YeuCauTiepNhan.ChuyenKhoaKhamSucKhoeChinhs.findIndex(x => lstDichVuKhamDangChon.findIndex(y => y.ChuyenKhoaKhamSucKhoe == x) != -1) != -1\n            // && this.benhNhanHienTai.YeuCauTiepNhan.ChuyenKhoaKhamSucKhoeChinhs.length <= lstDichVuKhamDangChon.length;\n    }\n\n    getDataPhanLoaiKSK() {\n        var self = this;\n        self.apiService\n            .post<Array<any>>(\"KhamDoan/GetPhanLoaiSucKhoes\", new LookupQueryInfo())\n            .subscribe((resultData) => {\n                if (resultData !== undefined && resultData != null) {\n                    self.dataPhanLoaiSucKhoes = resultData;\n                }\n            });\n    }\n\n    //===========================BVHD-3574=================================\n    scrollToKhamKhac(id: string):void {\n        if (jQuery('#contentkhamkhac').position() != undefined) {\n            jQuery('.sidenav-content').animate({ scrollTop: jQuery('#' + id).position().top });\n        }\n    }\n\n    xuLyAnHienKhamKhac(hienKhamKhac: boolean = true, id: string)\n    {\n        var self = this;\n        self.showNoiDungKhamKhac = hienKhamKhac;\n        setTimeout(function () {\n            self.scrollToKhamKhac(id);\n        }, 100);\n    }\n\n    showPopupNoiDungMauKhamBenh(){\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n            this.dialog.open(NoiDungMauKhamBenhPopupComponent, {\n              disableClose: false,\n              width: '1400px',\n              data: {\n                  documentType: this.documentType\n              }\n            }).afterClosed().subscribe(result => {\n      \n            });\n          }\n          else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n          }\n    }\n\n    chonNoiDungMauKhamBenh(dataItem)\n    {\n        if(dataItem)\n        {\n            this.dataChange();\n            this.benhNhanHienTai.YeuCauKhamBenh.NoiDungKhamBenh = dataItem.NoiDung;\n        }\n    }\n    //=====================================================================\n}\n","export default \"ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\n.po-h {\\n  color: #005dab;\\n  position: relative;\\n  top: 5px;\\n  left: 5px;\\n}\\n\\n.po-h mat-icon {\\n  display: contents;\\n}\\n\\n.btn-blue {\\n  color: #005dab;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2hhbS1raGFjL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXGxhbi1raGFtLWhpZW4tdGFpXFxsYW4ta2hhbS1oaWVuLXRhaS1raGFtLWtoYWNcXGxhbi1raGFtLWhpZW4tdGFpLWtoYW0ta2hhYy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWkta2hhbS1raGFjL2xhbi1raGFtLWhpZW4tdGFpLWtoYW0ta2hhYy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDhCQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9sYW4ta2hhbS1oaWVuLXRhaS9sYW4ta2hhbS1oaWVuLXRhaS1raGFtLWtoYWMvbGFuLWtoYW0taGllbi10YWkta2hhbS1raGFjLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidWwuaW5saW5lID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxuLnBvLWgge1xuICBjb2xvcjogIzAwNWRhYjtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDVweDtcbiAgbGVmdDogNXB4O1xufVxuXG4ucG8taCBtYXQtaWNvbiB7XG4gIGRpc3BsYXk6IGNvbnRlbnRzO1xufVxuXG4uYnRuLWJsdWUge1xuICBjb2xvcjogIzAwNWRhYjtcbn0iLCJ1bC5pbmxpbmUgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG4ucG8taCB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogNXB4O1xuICBsZWZ0OiA1cHg7XG59XG5cbi5wby1oIG1hdC1pY29uIHtcbiAgZGlzcGxheTogY29udGVudHM7XG59XG5cbi5idG4tYmx1ZSB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xufSJdfQ== */\"","import { ChangeDetectorRef,Component, OnInit, ViewChild, TemplateRef,Input, SimpleChanges } from '@angular/core';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icSave from '@iconify/icons-ic/outline-save';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { KhamKhac,BenhVienHangDoi } from '../../../kham-benh.model';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { MatDialog } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-kham-khac',\n  templateUrl: './lan-kham-hien-tai-kham-khac.component.html',\n  styleUrls: ['./lan-kham-hien-tai-kham-khac.component.scss']\n})\nexport class LanKhamHienTaiKhamKhacComponent implements OnInit {\n\n  icAddCircle= icAddCircle;\n  icDelete = icDelete;\n  icEdit = icEdit;\n  icSave = icSave;\n\n  validationErrors: any;\n  gridKhamKhacColumns: any[] = [];\n    documentType: DocumentType;\n    dataSourceKhamKhac: any = {\n        data: [],\n        total: 0\n    }\n    isShowView: boolean = false;\n    @ViewChild('boPhanTemplate', { static: true }) boPhanTemplate: TemplateRef<any>;\n    @ViewChild('moTaTemplate', { static: true }) moTaTemplate: TemplateRef<any>;\n    @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n  constructor(private notificationService: NotificationService, private apiService: ApiService,private dialog: MatDialog,private cdRef: ChangeDetectorRef) { }\n  benhNhanHienTai = new BenhVienHangDoi();\n  @Input() data: any = null;\n  @Input() dataKhamBoPhanKhac: any = null;\n  \n  ngOnInit() {\n    this.documentType = DocumentType.KhamBenh;\n    this.benhNhanHienTai = this.data;\n    this.gridKhamKhacColumns = [\n      { Field: \"BoPhan\", Title: \"Bộ phận\", Width: 100,Sortable: false, Template: this.boPhanTemplate },\n      { Field: \"MoTa\", Title: \"Mô tả\", Width: 220, Sortable: false,Template: this.moTaTemplate },\n      { Field: \"Action\", Title: \"\", Width: 40, Sortable: false,Template: this.actionTemplate }\n  ];\n  //this.getTableKhamKhac(this.benhNhanHienTai.YeuCauKhamBenhId); // yeu cau kham benh\n\n  this.dataSourceKhamKhac.data = this.dataKhamBoPhanKhac;\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if(changes['dataKhamBoPhanKhac'] && changes['dataKhamBoPhanKhac'].previousValue != null && changes['dataKhamBoPhanKhac'].previousValue != changes['dataKhamBoPhanKhac'].currentValue)\n    {\n        this.dataSourceKhamKhac.data = changes['dataKhamBoPhanKhac'].currentValue;\n    }\n}\n\n  getTableKhamKhac(idYCKB: number) {\n    this.apiService.post<any>(\"KhamBenh/GetDataGridBoPhanKhac?idYCKB=\" + idYCKB).subscribe(resultData => {\n      if (resultData !== undefined && resultData != null) {\n        this.dataSourceKhamKhac.data = resultData.Value.Data;\n      }\n    });\n  }\n  themKhamKhac(){\n      let diUngThuoc = new KhamKhac();\n      this.dataSourceKhamKhac.data.push(diUngThuoc);\n      // this.isShowView = true;\n      this.changeData();\n  }\n\n  // luu(dataItem){\n  //   this.validationErrors = [];\n  //   this.cdRef.detectChanges();\n  //     dataItem.YeuCauKhamBenhId = this.benhNhanHienTai.YeuCauKhamBenhId;\n  //     this.apiService.post(\"KhamBenh/LuuKhamKhamKhac\", dataItem).subscribe(\n  //         (resultData: any) => {\n  //           this.getTableKhamKhac(this.benhNhanHienTai.YeuCauKhamBenhId); // yeu cau kham benh\n  //           this.isShowView = false;\n  //         }, (err: ApiError) => {\n  //             this.validationErrors = err.ValidationErrors;\n  //         });\n  // }\n\n  changeData()\n  {\n    this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh = true;\n  }\n\n  xoa(dataItem) {\n    // this.isShowView = false;\n    this.dialog.open(ConfirmComponent, {\n        disableClose: false,\n        width: '400px',\n        data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessConfirm, [\"xóa\"]) }\n    }).afterClosed().subscribe(result => {\n        if (result === 'Yes') {\n          this.changeData();\n          this.dataSourceKhamKhac.data.splice(this.dataSourceKhamKhac.data.findIndex(x => x == dataItem), 1);\n        }\n    });\n  }\n\n  //BVHD-3856\n  suaKhamKhac(item) {\n    item.IsUpdate = true;\n    this.changeData();\n  }\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n  padding-bottom: 10px;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktbHMtY2xzL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXGxhbi1raGFtLWhpZW4tdGFpXFxsYW4ta2hhbS1oaWVuLXRhaS1scy1jbHNcXGxhbi1raGFtLWhpZW4tdGFpLWxzLWNscy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktbHMtY2xzL2xhbi1raGFtLWhpZW4tdGFpLWxzLWNscy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0VBQ0Esb0JBQUE7QUNDRjs7QURFQTtFQUNFLGdDQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9sYW4ta2hhbS1oaWVuLXRhaS9sYW4ta2hhbS1oaWVuLXRhaS1scy1jbHMvbGFuLWtoYW0taGllbi10YWktbHMtY2xzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn0iLCJmaWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbTtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIHBhZGRpbmctbGVmdDogMC43NWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW07XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufSJdfQ== */\"","import { Component, OnInit, ViewChild, TemplateRef, Input, ChangeDetectorRef } from '@angular/core';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icVisibility from '@iconify/icons-ic/visibility';\nimport icBlock from '@iconify/icons-ic/block';\n\n\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { aggregateBy } from '@progress/kendo-data-query';\nimport { DichVuLSCLSItem,\n  KetQuaChuanDoanHinhAnhViewModel, \n  KetQuaXetNghiemViewModel } from '../../../kham-benh.model';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { ActivatedRoute } from '@angular/router';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { MatDialog } from '@angular/material';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { IntlService } from '@progress/kendo-angular-intl';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { KhamBenhComponent } from '../../kham-benh.component';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-ls-cls',\n  templateUrl: './lan-kham-hien-tai-ls-cls.component.html',\n  styleUrls: ['./lan-kham-hien-tai-ls-cls.component.scss']\n})\nexport class LanKhamHienTaiLsClsComponent implements OnInit {\n\n  documentType: DocumentType;\n  gridColumns: any[] = [];\n  urlGetDataGrid: string = \"\";\n  urlGetTotalPageGrid: string = \"\";\n  isProcessAdd: boolean = false;\n  validationErrors:any;\n\n  dichVuLSCLSNew: DichVuLSCLSItem = new DichVuLSCLSItem();\n\n  loaiDataSource: any = [\n    {\n      \"KeyId\": 1,\n      \"DisplayName\": \"Thường\"\n    },\n    {\n      \"KeyId\": 2,\n      \"DisplayName\": \"Xã hội hóa\"\n    }\n  ];\n\n  noiThucHienDataSource: any = [\n    {\n      \"KeyId\": 1,\n      \"DisplayName\": \"Khoa nội\"\n    },\n    {\n      \"KeyId\": 2,\n      \"DisplayName\": \"Khoa sản\"\n    },\n    {\n      \"KeyId\": 3,\n      \"DisplayName\": \"Khoa Hồi Sức Cấp Cứu\"\n    },\n    {\n      \"KeyId\": 4,\n      \"DisplayName\": \"Tai mũi họng\"\n    }\n  ];\n\n  //data test\n  dataSource: any = {\n    data : [],\n    total: 0\n  }\n  public aggregates: any[] = [\n    {field: 'ThanhTien', aggregate: 'sum'},\n    {field: 'BHChiTra', aggregate: 'sum'},\n    {field: 'BNChiTra', aggregate: 'sum'},\n  ];\n  public total: any = aggregateBy(this.dataSource.data, this.aggregates);\n  //==================\n  public NhomDichVuId: number = null;\n  public TenNhomDichVu: number = null;\n  // icon\n  icDelete =icDelete;\n  icVisibility = icVisibility;\n  icBlock = icBlock;\n\n  @Input() data: any = null;\n  \n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n  @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n  @ViewChild('bHChiTraTemplate', { static: true }) bHChiTraTemplate: TemplateRef<any>;\n  @ViewChild('bNChiTraTemplate', { static: true }) bNChiTraTemplate: TemplateRef<any>;\n  @ViewChild('tongCongFooterTemplate', { static: true }) tongCongFooterTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienFooterTemplate', { static: true }) thanhTienFooterTemplate: TemplateRef<any>;\n  @ViewChild('bHChiTraFooterTemplate', { static: true }) bHChiTraFooterTemplate: TemplateRef<any>;\n  @ViewChild('bNChiTraFooterTemplate', { static: true }) bNChiTraFooterTemplate: TemplateRef<any>;\n  @ViewChild(KhamBenhComponent, {static: true}) shared;\n  constructor(private apiService: ApiService,public intl: IntlService, \n              private _data: KhamBenhComponent,private dialog: MatDialog, \n              private notificationService: NotificationService) { }\n\n  ngOnInit() {\n    this.documentType = DocumentType.KhamBenh; // cần gán lại giá trị\n    this.dataSource.data = this.data;\n\n    this.gridColumns = [\n      { Field: \"STT\", Title: \"#\", Width: 30, Sortable: true },\n      { Field: \"Ma\", Title: \"Mã\", Width: 100, Sortable: true},\n      { Field: \"TenDichVu\", Title: \"Tên dịch vụ\", Width: 205, Sortable: true},\n      { Field: \"TenLoai\", Title: \"Loại\", Width: 80, Sortable: true},\n      { Field: \"SoLuong\", Title: \"SL\", Width: 45, Sortable: true},\n      { Field: \"DonGia\", Title: \"ĐG\", Width: 76, Sortable: true, TemplateFooter: this.tongCongFooterTemplate, Template: this.donGiaTemplate},\n      { Field: \"ThanhTien\", Title: \"T.Tiền\", Width: 76, Sortable: true, TemplateFooter: this.thanhTienFooterTemplate, Template: this.thanhTienTemplate},\n      { Field: \"BHChiTra\", Title: \"BH trả\", Width: 76, Sortable: true, TemplateFooter: this.bHChiTraFooterTemplate, Template: this.bHChiTraTemplate},\n      { Field: \"BNChiTra\", Title: \"BN trả\", Width: 76, Sortable: true, TemplateFooter: this.bNChiTraFooterTemplate, Template: this.bNChiTraTemplate},\n      { Field: \"NoiThucHien\", Title: \"Nơi thực hiện\", Width: 110, Sortable: true},\n      { Field: \"GhiChu\", Title: \"Ghi chú\", Width: 70, Sortable: true},\n      { Field: \"TenTinhTrang\", Title: \"Tình trạng\", Width: 105, Sortable: true},\n      { Field: \"Action\", Title: \"\", Width: 40, Template: this.actionTemplate}\n    ]\n\n    // this.getLoaiGiaData();\n    // this.getKhoaPhongThucHien();\n  }\n\n  chonDichVu(event){\n    // this.YeuCauDichVuKyThuat.TenDichVu = event.Ten;\n    // this.YeuCauDichVuKyThuat.MaDichVu = event.Ma;\n  }\n\n  chonLoaiDichVu(event){\n    // this.YeuCauDichVuKyThuat.TenLoai = event.DisplayName;\n  }\n\n  chonNoiThucHien(event){\n    // this.YeuCauDichVuKyThuat.NoiThucHien = event.DisplayName;\n  }\n\n  huy()\n  {\n    // this.isProcessAdd = false;\n    // this.dichVuLSCLSNew = new DichVuLSCLSItem();\n  }\n\n\n  themDichVuLSCLS(){\n    // this.dichVuLSCLSNew.Gia = 150000;\n    // this.dichVuLSCLSNew.ThanhTien = this.dichVuLSCLSNew.Gia * this.dichVuLSCLSNew.SoLan;\n    // this.dichVuLSCLSNew.BaoHiemChiTra = this.dichVuLSCLSNew.ThanhTien;\n    // this.dichVuLSCLSNew.BenhNhanChiTra = 0;\n    // this.dichVuLSCLSNew.NoiThucHien = \"Khoa khám bệnh\";\n    // this.dichVuLSCLSNew.TenTinhTrang = \"Chưa đóng tiền\";\n\n    // this.dataSource.data.push(this.dichVuLSCLSNew);\n    // let index: number = 1;\n    // this.dataSource.data.forEach(element => {\n    //   element.STT = index++;\n    // });\n\n    // this.dichVuLSCLSNew = new DichVuLSCLSItem();\n    // this.total = aggregateBy(this.dataSource.data, this.aggregates);\n\n\n\n    \n\n   \n\n\n  //   let YeuCauTiepNhan: YeuCauKhamBenhViewModel = new YeuCauKhamBenhViewModel();\n  //   YeuCauTiepNhan.Id = 1;\n  //   YeuCauTiepNhan.HoTen = \"Tran Trong Phuc\";\n  //   YeuCauTiepNhan.BenhNhanId = 1;\n\n  //   let yeuCauTiepNhanDichVuKyThuats: YeuCauTiepNhanDichVuKyThuatViewModel = new YeuCauTiepNhanDichVuKyThuatViewModel();\n  //   let KetQuaChuanDoanHinhAnhs: KetQuaChuanDoanHinhAnhViewModel = new KetQuaChuanDoanHinhAnhViewModel();\n  //   let KetQuaXetNghiems: KetQuaXetNghiemViewModel = new KetQuaXetNghiemViewModel();\n\n  //   for(let i = 0; i<2 ; i++){\n  //         yeuCauTiepNhanDichVuKyThuats.Id = i;\n  //         yeuCauTiepNhanDichVuKyThuats.YeuCauTiepNhanId = i;\n  //         yeuCauTiepNhanDichVuKyThuats.LoaiDichVuKyThuat = i;\n          \n  //         KetQuaChuanDoanHinhAnhs.Id = i;\n  //         KetQuaChuanDoanHinhAnhs.ChuanDoanHinhAnhId = i\n\n  //         KetQuaXetNghiems.Id = i;\n  //         KetQuaXetNghiems.ChuanDoanHinhAnhId = i;\n\n  //         yeuCauTiepNhanDichVuKyThuats.KetQuaChuanDoanHinhAnhs.push(KetQuaChuanDoanHinhAnhs);\n  //         yeuCauTiepNhanDichVuKyThuats.KetQuaXetNghiems.push(KetQuaXetNghiems);\n  //         YeuCauTiepNhan.YeuCauTiepNhanDichVuKyThuats.push(yeuCauTiepNhanDichVuKyThuats)\n  //   }\n    \n  //  console.log(\"xuLyLuuYeuCauCKhamBenh = \",this._data.xuLyLuuYeuCauCKhamBenh(this.dataSource.data,YeuCauTiepNhan.Id,2));\n\n\n    // var self=this;\n    // this.dialog.open(ConfirmComponent, {\n    //       disableClose: false,\n    //       width: '400px',\n    //       data: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn chọn người bệnh để khám hay không?\" }\n    //     }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n    //         if (result == \"Yes\") {      \n    //           self.apiService.post<any>(\"KhamBenh/ThemKhamBenhCanLamSang\", YeuCauTiepNhan).subscribe(() => \n    //               {\n    //                 self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm thành công\"]));\n    //               },\n    //               (err: ApiError) => { \n    //               });\n\n    //         }\n    //     }\n    // );\n\n\n\n\n\n\n  }\n\n  // xoaLSCLS(Id: number, STT: number)\n  // {\n  //   if(Id != null && Id != undefined)\n  //   {\n  //     this.dataSource.data.splice(this.dataSource.data.findIndex(x => x.Id == Id), 1);\n  //   }\n  //   else if(STT != null)\n  //   {\n  //     this.dataSource.data.splice(this.dataSource.data.findIndex(x => x.STT == STT), 1);\n  //   }\n  //   let index: number = 1;\n  //   this.dataSource.data.forEach(element => {\n  //     element.STT = index++;\n  //   });\n  //   this.total = aggregateBy(this.dataSource.data, this.aggregates);\n  // }\n\n  // getLoaiGiaData(){\n  //   this.apiService.get<any>(\"KhamBenh/GetDataLoaiGiaDichVu\").subscribe(resultData => {\n  //     if (resultData !== undefined && resultData != null) {\n  //         this.loaiDataSource = resultData\n  //         console.log(\"this.loaiDataSource=\",resultData);\n  //     }\n  //   });\n  // }\n  // getKhoaPhongThucHien(){\n  //   this.apiService.get<any>(\"KhamBenh/GetDataNoiThucHien\").subscribe(resultData => {\n  //     if (resultData !== undefined && resultData != null) {\n  //         this.noiThucHienDataSource = resultData\n  //         console.log(\"this.noiThucHienDataSource=\",resultData);\n  //     }\n  //   });\n  // }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLW5ob20tZGljaC12dS1sb2ktcG9wdXAvbGFuLWtoYW0taGllbi10YWktbmhvbS1kaWNoLXZ1LWxvaS1wb3B1cC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-nhom-dich-vu-loi-popup',\n  templateUrl: './lan-kham-hien-tai-nhom-dich-vu-loi-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-nhom-dich-vu-loi-popup.component.scss']\n})\nexport class LanKhamHienTaiNhomDichVuLoiPopupComponent implements OnInit {\n\n  icClose = icClose;\n  \n  documentType: DocumentType;\n  gridColumns: any[] = [];\n  gridDataSource = {\n    data: [],\n    total: 0,\n};\n\n  @ViewChild('grid', { static: true }) gridChild: GridComponent;\n  @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any,\n  public dialogRef: MatDialogRef<LanKhamHienTaiNhomDichVuLoiPopupComponent>) { }\n\n  ngOnInit() {\n    this.documentType = this.data.DocumentType;\n    \n    this.gridColumns = [\n      { Field: \"STT\", Title: \"#\", Width: 30, Sortable: false, Template: this.sttTemplate },\n      { Field: \"TenGoiDichVu\", Title: \"Nhóm\", Width: 150, Sortable: true },\n      { Field: \"TenDichVu\", Title: \"Tên dịch vụ\", Width: 150, Sortable: false },\n      { Field: \"TenLoi\", Title: \"Cảnh báo\", Width: 100, Sortable: false },\n      { Field: \"Action\", Title: \"\", Width: 80, Template: this.actionTemplate },\n    ];\n    this.gridDataSource.data = this.data.arrDichVuCanhBao;\n  }\n\n  chonDichVuKhongThem(){\n    this.dialogRef.close(this.gridDataSource.data.filter(x => x.KhongThem));\n  }\n\n  close(answer) {\n    this.dialogRef.close(answer);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLW5ob20tZGljaC12dS10aHVvbmctZHVuZy1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1uaG9tLWRpY2gtdnUtdGh1b25nLWR1bmctcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { NhomDichVuThuongDungCreatePopupComponent } from 'src/app/modules/main/danh-muc/nhom-he-thong/benh-vien/nhom-dich-vu-thuong-dung/nhom-dich-vu-thuong-dung-create-popup/nhom-dich-vu-thuong-dung-create-popup.component';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { BoPhan } from 'src/app/shared/enum/bo-phan.enum';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { ChiDinhGoiDichVuThuongDung, DeletesViewModel } from '../../../kham-benh.model';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup',\n  templateUrl: './lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup.component.scss']\n})\nexport class LanKhamHienTaiNhomDichVuThuongDungPopupComponent implements OnInit {\n\n  icClose = icClose;\n  icSearch = icSearch;\n  searchCtrl = new FormControl();\n\n  gridColumns: any[] = [];\n  gridColumnsChild: any[] = [];\n  groups: GroupDescriptor[] = [{ field: 'TenNhomDichVu' }];\n  documentType: DocumentType;\n  boPhan: BoPhan;\n  @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n  @ViewChild('nhomDichVuTemplate', { static: true }) nhomDichVuTemplate: TemplateRef<any>;\n  @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n  @ViewChild('gridNhomGoiDichVu', { static: true, read: GridComponent }) gridNhomGoiDichVu: GridComponent;\n  constructor(private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n    public dialogRef: MatDialogRef<LanKhamHienTaiNhomDichVuThuongDungPopupComponent>,\n    private apiService: ApiService,\n    private notificationService: NotificationService) { }\n\n  ngOnInit() {\n    this.documentType = this.data.DocumentType;\n    this.boPhan = this.data.boPhan;\n\n    this.gridColumns = [\n      { Field: \"TenNhom\", Title: \"Tên Nhóm\", Width: 180, Sortable: true },\n      { Field: \"MoTa\", Title: \"Mô tả\", Width: 150, Sortable: true }\n    ];\n\n    this.gridColumnsChild = [\n      { Field: \"STT\", Title: \"#\", Width: 45, Sortable: false, Template: this.sttTemplate },\n      { Field: \"TenNhomDichVu\", Title: \"\", Width: 80, Sortable: true, TemplateGroupHeader: this.nhomDichVuTemplate, Hidden: true },\n      { Field: \"MaDichVu\", Title: \"Mã DV\", Width: 80, Sortable: true },\n      { Field: \"TenDichVu\", Title: \"Tên dịch vụ\", Width: 180, Sortable: true },\n      { Field: \"LoaiGia\", Title: \"Loại giá\", Width: 80, Sortable: true },\n      { Field: \"SoLan\", Title: \"Số lượng\", Width: 80, Sortable: true },\n      { Field: \"DonGia\", Title: \"Đơn giá\", Width: 150, Sortable: true, Template: this.donGiaTemplate },\n      { Field: \"ThanhTien\", Title: \"Thành tiền\", Width: 150, Sortable: true, Template: this.thanhTienTemplate }\n    ]\n  }\n\n  onKey(event) {\n    if (event.key == \"Enter\") {\n      this.gridNhomGoiDichVu.search();\n    }\n  }\n\n  searchChanges(event) {\n    if (event != undefined && (event == null || event == \"\")) {\n      this.clearSearch();\n    }\n  }\n\n  clearSearch() {\n    this.gridNhomGoiDichVu.searchString = null;\n    this.gridNhomGoiDichVu.search();\n  }\n\n  close() {\n    this.dialog.closeAll();\n  }\n\n  chonGoiDichVu() {\n    // cần kiểm tra validation\n    let yeuCauGoiThuongDung: ChiDinhGoiDichVuThuongDung = new ChiDinhGoiDichVuThuongDung();\n    yeuCauGoiThuongDung.YeuCauKhamBenhId = 0;\n    yeuCauGoiThuongDung.YeuCauTiepNhanId = 0;\n    yeuCauGoiThuongDung.GoiDichVuIds = this.gridNhomGoiDichVu.mySelection;\n    this.apiService.post<boolean>(\"KhamBenh/KiemTraValidationGoiDichVuThuongDung\", yeuCauGoiThuongDung)\n      .subscribe(resultData => {\n        this.dialogRef.close(yeuCauGoiThuongDung);\n      },\n        (err: ApiError) => {\n          this.notificationService.showError(err.ValidationErrors[0].Message);\n        });\n  }\n\n  themGoiDichVu() {\n    var self = this;\n    self.dialog.open(NhomDichVuThuongDungCreatePopupComponent, {\n      disableClose: false,\n      width: '1500px',\n      data: { BoPhan: this.boPhan }\n    }).afterClosed().subscribe(res => {\n      if (res === \"Yes\") {\n        this.gridNhomGoiDichVu.search();\n      }\n    });\n  }\n\n  xoaGoiDichVu() {\n    this.dialog.open(ConfirmComponent, {\n      disableClose: false,\n      width: \"500px\",\n      data: {\n        Title: \"Xác nhận\",\n        Message: `Bạn chắc chắn muốn xóa dịch vụ này không?`\n      },\n    }).afterClosed().subscribe((res) => {\n      if (res == \"Yes\") {\n        let deletesViewModel: DeletesViewModel = new DeletesViewModel();\n        deletesViewModel.Ids = this.gridNhomGoiDichVu.mySelection;\n        this.apiService.post(\"NhomDichVuThuongDung/Deletes\", deletesViewModel)\n          .subscribe(resultData => {\n            this.gridNhomGoiDichVu.search();\n          },\n            (err: ApiError) => {\n              this.notificationService.showError(err.ValidationErrors[0].Message);\n            });\n      }\n    })\n\n  }\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n  padding-bottom: 10px;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktcGhhdS10aHVhdC10aHUtdGh1YXQvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxraGFtLWJlbmhcXGtoYW0tYmVuaFxcbGFuLWtoYW0taGllbi10YWlcXGxhbi1raGFtLWhpZW4tdGFpLXBoYXUtdGh1YXQtdGh1LXRodWF0XFxsYW4ta2hhbS1oaWVuLXRhaS1waGF1LXRodWF0LXRodS10aHVhdC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktcGhhdS10aHVhdC10aHUtdGh1YXQvbGFuLWtoYW0taGllbi10YWktcGhhdS10aHVhdC10aHUtdGh1YXQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxvQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtFQUNBLG9CQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktcGhhdS10aHVhdC10aHUtdGh1YXQvbGFuLWtoYW0taGllbi10YWktcGhhdS10aHVhdC10aHUtdGh1YXQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJmaWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbTtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIHBhZGRpbmctbGVmdDogMC43NWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW07XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufSIsImZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtO1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW07XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbTtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, TemplateRef, ViewChild, Input } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icVisibility from '@iconify/icons-ic/visibility';\nimport icBlock from '@iconify/icons-ic/block';\nimport { aggregateBy } from '@progress/kendo-data-query';\nimport { PhauThuatThuThuat } from '../../../kham-benh.model';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-phau-thuat-thu-thuat',\n  templateUrl: './lan-kham-hien-tai-phau-thuat-thu-thuat.component.html',\n  styleUrls: ['./lan-kham-hien-tai-phau-thuat-thu-thuat.component.scss']\n})\nexport class LanKhamHienTaiPhauThuatThuThuatComponent implements OnInit {\n\n  documentType: DocumentType;\n  gridColumns: any[] = [];\n  urlGetDataGrid: string = \"\";\n  urlGetTotalPageGrid: string = \"\";\n  isProcessAdd: boolean = false;\n  loaiDataSource: any = [\n    {\n      \"KeyId\": 1,\n      \"DisplayName\": \"Thường\"\n    },\n    {\n      \"KeyId\": 2,\n      \"DisplayName\": \"Xã hội hóa\"\n    }\n  ];\n\n  noiThucHienDataSource: any = [\n    {\n      \"KeyId\": 1,\n      \"DisplayName\": \"Khoa nội\"\n    },\n    {\n      \"KeyId\": 2,\n      \"DisplayName\": \"Khoa sản\"\n    },\n    {\n      \"KeyId\": 3,\n      \"DisplayName\": \"Khoa Hồi Sức Cấp Cứu\"\n    },\n    {\n      \"KeyId\": 4,\n      \"DisplayName\": \"Tai mũi họng\"\n    }\n  ];\n\n  //data test\n  dataSource: any = {\n    data : [\n      {\n      \"STT\" : 1,\n      \"Id\": 1,\n      \"Ma\" : \"01.0006.0215\",\n      \"TenDichVu\": \"Đặt catheter tĩnh mạch ngoại biên\",\n      \"SoLuong\": 1,\n      \"DonGia\": \"150.000\",\n      \"ThanhTienFormat\": \"150.000\",\n      \"ThanhTien\": 150000,\n      \"BHChiTraFormat\": \"100.000\",\n      \"BHChiTra\": 100000,\n      \"BNChiTraFormat\": \"50.000\",\n      \"BNChiTra\": 50000,\n      \"LoaiId\": 1,\n      \"TenLoai\": \"Thường\",\n      \"NoiThucHienId\": 1,\n      \"NoiThucHien\": \"Khoa nội\",\n      \"GhiChu\": \"Temp\",\n      \"TinhTrang\": \"Chưa thực hiện\",\n      },\n      {\n        \"STT\" : 2,\n        \"Id\": 2,\n        \"Ma\" : \"01.0006.0215\",\n        \"TenDichVu\": \"Đặt catheter tĩnh mạch ngoại biên\",\n        \"SoLuong\": 1,\n        \"DonGia\": \"150.000\",\n        \"ThanhTienFormat\": \"150.000\",\n        \"ThanhTien\": 150000,\n        \"BHChiTraFormat\": \"100.000\",\n        \"BHChiTra\": 100000,\n        \"BNChiTraFormat\": \"50.000\",\n        \"BNChiTra\": 50000,\n        \"LoaiId\": 1,\n        \"TenLoai\": \"Thường\",\n        \"NoiThucHienId\": 1,\n        \"NoiThucHien\": \"Khoa nội\",\n        \"GhiChu\": \"Temp\",\n        \"TinhTrang\": \"Đang thực hiện\",\n        },\n        {\n          \"STT\" : 3,\n          \"Id\": 3,\n          \"Ma\" : \"01.0006.0215\",\n          \"TenDichVu\": \"Đặt catheter tĩnh mạch ngoại biên\",\n          \"SoLuong\": 1,\n          \"DonGia\": \"150.000\",\n          \"ThanhTienFormat\": \"150.000\",\n          \"ThanhTien\": 150000,\n          \"BHChiTraFormat\": \"100.000\",\n          \"BHChiTra\": 100000,\n          \"BNChiTraFormat\": \"50.000\",\n          \"BNChiTra\": 50000,\n          \"LoaiId\": 2,\n          \"TenLoai\": \"Xã hội hóa\",  \n          \"NoiThucHienId\": 1,\n          \"NoiThucHien\": \"Khoa nội\",\n          \"GhiChu\": \"Temp\",\n          \"TinhTrang\": \"Đã thực hiện\",\n          },\n          {\n            \"STT\" : 4,\n            \"Id\": 4,\n            \"Ma\" : \"01.0006.0215\",\n            \"TenDichVu\": \"Đặt catheter tĩnh mạch ngoại biên\",\n            \"SoLuong\": 1,\n            \"DonGia\": \"150.000\",\n            \"ThanhTienFormat\": \"150.000\",\n            \"ThanhTien\": 150000,\n            \"BHChiTraFormat\": \"100.000\",\n            \"BHChiTra\": 100000,\n            \"BNChiTraFormat\": \"50.000\",\n            \"BNChiTra\": 50000,\n            \"LoaiId\": 1,\n            \"TenLoai\": \"Thường\",\n            \"NoiThucHienId\": 1,\n            \"NoiThucHien\": \"Khoa nội\",\n            \"GhiChu\": \"Temp\",\n            \"TinhTrang\": \"Chưa đóng tiền\",\n            }\n    ],\n    total: 0\n  }\n\n  public aggregates: any[] = [\n    {field: 'ThanhTien', aggregate: 'sum'},\n    {field: 'BHChiTra', aggregate: 'sum'},\n    {field: 'BNChiTra', aggregate: 'sum'},\n  ];\n  public total: any = aggregateBy(this.dataSource.data, this.aggregates);\n  //==================\n\n  icDelete =icDelete;\n  icVisibility = icVisibility;\n  icBlock = icBlock;\n  newPhauThuatThuThuat: PhauThuatThuThuat = new PhauThuatThuThuat();\n\n  @Input() data: any = null;\n\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n\n  @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n  @ViewChild('bHChiTraTemplate', { static: true }) bHChiTraTemplate: TemplateRef<any>;\n  @ViewChild('bNChiTraTemplate', { static: true }) bNChiTraTemplate: TemplateRef<any>;\n\n  @ViewChild('tongCongFooterTemplate', { static: true }) tongCongFooterTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienFooterTemplate', { static: true }) thanhTienFooterTemplate: TemplateRef<any>;\n  @ViewChild('bHChiTraFooterTemplate', { static: true }) bHChiTraFooterTemplate: TemplateRef<any>;\n  @ViewChild('bNChiTraFooterTemplate', { static: true }) bNChiTraFooterTemplate: TemplateRef<any>;\n  constructor() { }\n\n  ngOnInit() {\n    this.documentType = DocumentType.KhamBenh;\n    this.dataSource.data = this.data;\n    this.gridColumns = [\n      { Field: \"STT\", Title: \"#\", Width: 30, Sortable: true },\n      { Field: \"Ma\", Title: \"Mã\", Width: 100, Sortable: true},\n      { Field: \"TenDichVu\", Title: \"Tên dịch vụ\", Width: 220, Sortable: true},\n      { Field: \"TenLoai\", Title: \"Loại\", Width: 80, Sortable: true},\n      { Field: \"SoLuong\", Title: \"SL\", Width: 50, Sortable: true},\n      { Field: \"DonGia\", Title: \"ĐG\", Width: 76, Sortable: true, TemplateFooter: this.tongCongFooterTemplate, Template: this.donGiaTemplate},\n      { Field: \"ThanhTien\", Title: \"T.Tiền\", Width: 76, Sortable: true, TemplateFooter: this.thanhTienFooterTemplate, Template: this.thanhTienTemplate},\n      { Field: \"BHChiTra\", Title: \"BH trả\", Width: 76, Sortable: true, TemplateFooter: this.bHChiTraFooterTemplate, Template: this.bHChiTraTemplate},\n      { Field: \"BNChiTra\", Title: \"BN trả\", Width: 76, Sortable: true, TemplateFooter: this.bNChiTraFooterTemplate, Template: this.bNChiTraTemplate},\n      { Field: \"TenNoiThucHien\", Title: \"Nơi thực hiện\", Width: 110, Sortable: true},\n      { Field: \"GhiChu\", Title: \"Ghi chú\", Width: 70, Sortable: true},\n      { Field: \"TenTinhTrang\", Title: \"Tình trạng\", Width: 110, Sortable: true},\n      { Field: \"Action\", Title: \"\", Width: 50, Template: this.actionTemplate}\n    ];\n  }\n\n  chonNoiThucHien(event)\n  {\n    this.newPhauThuatThuThuat.TenNoiThucHien = event.Ten;\n  }\n\n  chonLoaiDichVu(event)\n  {\n    this.newPhauThuatThuThuat.TenLoai = event.Ten;\n  }\n\n  themPhauThuatThuThuat(){\n    this.newPhauThuatThuThuat.DonGia = 145000;\n    this.newPhauThuatThuThuat.ThanhTien = this.newPhauThuatThuThuat.DonGia * this.newPhauThuatThuThuat.SoLuong;\n    this.newPhauThuatThuThuat.BHChiTra = this.newPhauThuatThuThuat.ThanhTien; // gán tạm\n    this.newPhauThuatThuThuat.BNChiTra = 0;\n    this.dataSource.data.push(this.newPhauThuatThuThuat);\n    this.newPhauThuatThuThuat = new PhauThuatThuThuat();\n  }\n\n  huy(){\n    this.isProcessAdd = false;\n    this.newPhauThuatThuThuat = new PhauThuatThuThuat();\n  }\n}\n","export default \".btn-disable-click {\\n  pointer-events: none;\\n  opacity: 0.6;\\n}\\n\\n.btn-select {\\n  min-width: 100px;\\n}\\n\\n.head-table {\\n  background-color: whitesmoke;\\n  min-width: 190px;\\n}\\n\\nmat-dialog-content > div {\\n  min-height: 200px;\\n}\\n\\n.select {\\n  background-color: green;\\n  border: 1px solid green;\\n  color: #fff;\\n}\\n\\n.not-available-select {\\n  border: 1px solid green;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktc28tZG8tZ2l1b25nLXBvcHVwL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXGxhbi1raGFtLWhpZW4tdGFpXFxsYW4ta2hhbS1oaWVuLXRhaS1zby1kby1naXVvbmctcG9wdXBcXGxhbi1raGFtLWhpZW4tdGFpLXNvLWRvLWdpdW9uZy1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktc28tZG8tZ2l1b25nLXBvcHVwL2xhbi1raGFtLWhpZW4tdGFpLXNvLWRvLWdpdW9uZy1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG9CQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7QUNDRjs7QURFQTtFQUNFLDRCQUFBO0VBQ0EsZ0JBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSx1QkFBQTtFQUNBLHVCQUFBO0VBQ0EsV0FBQTtBQ0NGOztBREVBO0VBQ0UsdUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL2xhbi1raGFtLWhpZW4tdGFpLXNvLWRvLWdpdW9uZy1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1zby1kby1naXVvbmctcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnRuLWRpc2FibGUtY2xpY2sge1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgb3BhY2l0eTogMC42O1xufVxuXG4uYnRuLXNlbGVjdCB7XG4gIG1pbi13aWR0aDogMTAwcHg7XG59XG5cbi5oZWFkLXRhYmxlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGVzbW9rZTtcbiAgbWluLXdpZHRoOiAxOTBweDtcbn1cblxubWF0LWRpYWxvZy1jb250ZW50ID4gZGl2IHtcbiAgbWluLWhlaWdodDogMjAwcHg7XG59XG5cbi5zZWxlY3Qge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcbiAgYm9yZGVyOiAxcHggc29saWQgZ3JlZW47XG4gIGNvbG9yOiAjZmZmO1xufVxuXG4ubm90LWF2YWlsYWJsZS1zZWxlY3Qge1xuICBib3JkZXI6IDFweCBzb2xpZCBncmVlbjtcbn0iLCIuYnRuLWRpc2FibGUtY2xpY2sge1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgb3BhY2l0eTogMC42O1xufVxuXG4uYnRuLXNlbGVjdCB7XG4gIG1pbi13aWR0aDogMTAwcHg7XG59XG5cbi5oZWFkLXRhYmxlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGVzbW9rZTtcbiAgbWluLXdpZHRoOiAxOTBweDtcbn1cblxubWF0LWRpYWxvZy1jb250ZW50ID4gZGl2IHtcbiAgbWluLWhlaWdodDogMjAwcHg7XG59XG5cbi5zZWxlY3Qge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcbiAgYm9yZGVyOiAxcHggc29saWQgZ3JlZW47XG4gIGNvbG9yOiAjZmZmO1xufVxuXG4ubm90LWF2YWlsYWJsZS1zZWxlY3Qge1xuICBib3JkZXI6IDFweCBzb2xpZCBncmVlbjtcbn0iXX0= */\"","import { Component, OnInit, Inject, TemplateRef, ViewChild } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\nimport { SoDoGiuongFillter } from '../../../kham-benh.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-so-do-giuong-popup',\n  templateUrl: './lan-kham-hien-tai-so-do-giuong-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-so-do-giuong-popup.component.scss']\n})\nexport class LanKhamHienTaiSoDoGiuongPopupComponent implements OnInit {\n\n  icClose = icClose;\n  soDoGiuong: any;\n  soDoGiuongFillter: SoDoGiuongFillter = new SoDoGiuongFillter();\n\n  dataYeuCau: any;\n\n  gridColumns: any[] = [];\n  dataSource = {\n    data: [],\n    total: 0\n  }\n  @ViewChild('giuongTemplate', { static: true }) giuongTemplate: TemplateRef<any>;//gridSoDoGiuong\n  @ViewChild('gridSoDoGiuong', { static: true }) gridSoDoGiuong: GridComponent;\n  constructor(private dialog: MatDialog, private apiService: ApiService,\n    @Inject(MAT_DIALOG_DATA) public data: any) { }\n\n  ngOnInit() {\n    this.dataYeuCau = this.data;\n\n    this.gridColumns = [\n      { Field: \"DisplayName\", Title: \"PHÒNG\", Width: 150, Sortable: false, LockColumn: true },\n      { Field: \"Giuong\", Title: \"Giường trong phòng\", MinWidth: 100, Sortable: false, Template: this.giuongTemplate }\n    ];\n\n    this.getSoDoGiuong();\n  }\n\n  isProcess: boolean = false;\n  getSoDoGiuong() {\n    // if(this.isProcess)\n    // {\n    //   return;\n    // }\n    var self = this;\n    // self.isProcess = true;\n    // var dialogRef = self.dialog.open(LoadingComponent, {\n    //   disableClose: true,\n    //   width: '200px',\n    //   height: '90px',\n    //   data: { Title: \"Đang tải dữ liệu...\" }\n    // });\n\n    var strParam =\"?\";\n    if(self.soDoGiuongFillter.PhongBenhVienId != undefined && self.soDoGiuongFillter.PhongBenhVienId != null && self.soDoGiuongFillter.PhongBenhVienId != 0)\n    {\n      strParam += \"phongBenhVienId=\" + self.soDoGiuongFillter.PhongBenhVienId;\n    }\n\n    if(self.soDoGiuongFillter.GiuongTrong != null)\n    {\n      strParam += (strParam == \"?\" ? \"\" : \"&\") + \"giuongTrong=\" + self.soDoGiuongFillter.GiuongTrong;\n    }\n\n    if(self.soDoGiuongFillter.GiuongDangSuDung != null)\n    {\n      strParam += (strParam == \"?\" ? \"\" : \"&\") + \"giuongDangSuDung=\" + self.soDoGiuongFillter.GiuongDangSuDung;\n    }\n\n    if(self.dataYeuCau.DichVuGiuongBenhVienId != null && self.dataYeuCau.DichVuGiuongBenhVienId != undefined)\n    {\n      strParam += (strParam == \"?\" ? \"\" : \"&\") + \"dichVuGiuongBenhVienId=\" + self.dataYeuCau.DichVuGiuongBenhVienId;\n    }\n\n    if(self.dataYeuCau.NoiThucHienId != null && self.dataYeuCau.NoiThucHienId != undefined)\n    {\n      strParam += (strParam == \"?\" ? \"\" : \"&\") + \"noiThucHienId=\" + self.dataYeuCau.NoiThucHienId;\n    }\n\n    if(self.dataYeuCau.GiuongBenhId != null && self.dataYeuCau.GiuongBenhId != undefined)\n    {\n      strParam += (strParam == \"?\" ? \"\" : \"&\") + \"giuongBenhId=\" + self.dataYeuCau.GiuongBenhId;\n    }\n\n    self.apiService.get<any>(\"KhamBenh/GetSoDoGiuongBenhTheoPhongKham\" + strParam).subscribe(\n        resultData => {\n          self.soDoGiuong = resultData;\n          self.dataSource.data = resultData;\n          if(self.dataYeuCau.NoiThucHienId != undefined && self.dataYeuCau.NoiThucHienId != null)\n          {\n            let phong = self.soDoGiuong.find(x => x.PhongBenhVienId == self.dataYeuCau.NoiThucHienId);\n            if(phong != undefined && phong != null && (self.dataYeuCau.TenNoiThucHien == null || self.dataYeuCau.TenNoiThucHien == ''))\n            {\n              self.dataYeuCau.TenNoiThucHien = phong.DisplayName;\n              if(self.dataYeuCau.GiuongBenhId != undefined && self.dataYeuCau.GiuongBenhId != null)\n              {\n                let giuong = phong.GiuongBenhs.find(x => x.GiuongBenhId == self.dataYeuCau.GiuongBenhId)\n                if(giuong != undefined && giuong != null && (self.dataYeuCau.TenGiuongBenh == null || self.dataYeuCau.TenGiuongBenh == ''))\n                {\n                  self.dataYeuCau.TenGiuongBenh = giuong.TenGiuong;\n                }\n              }\n            }\n          }\n          else\n          {\n            self.dataYeuCau.TenNoiThucHien = \"\";\n            self.dataYeuCau.TenGiuongBenh = \"\";\n          }\n          //self.isProcess = false;\n          //dialogRef.close();\n        },\n        () => {\n          //self.isProcess = false;\n          //dialogRef.close();\n        });\n}\n\n  close(){\n    this.dialog.closeAll();\n  }\n\n  chonGiuong(phong, giuong)\n  {\n    if(phong != undefined && giuong != undefined)\n    {\n      this.dataYeuCau.NoiThucHienId = phong.PhongBenhVienId;\n      this.dataYeuCau.TenNoiThucHien = phong.DisplayName;\n      this.dataYeuCau.GiuongBenhId = giuong.GiuongBenhId;\n      this.dataYeuCau.TenGiuongBenh = giuong.TenGiuong;\n    }\n  }\n}\n","export default \"ul {\\n  margin: 0;\\n}\\n\\nul.dashed {\\n  list-style-type: none;\\n}\\n\\nul.dashed > li {\\n  text-indent: -5px;\\n  padding: 1px 0px 1px 0px;\\n}\\n\\nul.dashed > li:before {\\n  content: \\\"- \\\";\\n  text-indent: -5px;\\n}\\n\\n.title-grid-parent {\\n  text-transform: uppercase;\\n  font-weight: bold;\\n}\\n\\ninput[type=checkbox] {\\n  transform: scale(1.5);\\n}\\n\\n.text-right-td {\\n  text-align: right;\\n}\\n\\n.text-left-td {\\n  text-align: left;\\n}\\n\\n.text-red {\\n  color: red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktc3UtZHVuZy1nb2ktZGljaC12dS1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcbGFuLWtoYW0taGllbi10YWktc3UtZHVuZy1nb2ktZGljaC12dS1wb3B1cFxcbGFuLWtoYW0taGllbi10YWktc3UtZHVuZy1nb2ktZGljaC12dS1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktc3UtZHVuZy1nb2ktZGljaC12dS1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1zdS1kdW5nLWdvaS1kaWNoLXZ1LXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsU0FBQTtBQ0NGOztBREVBO0VBQ0UscUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0Esd0JBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UscUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtBQ0NGOztBREVBO0VBQ0UsVUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktc3UtZHVuZy1nb2ktZGljaC12dS1wb3B1cC9sYW4ta2hhbS1oaWVuLXRhaS1zdS1kdW5nLWdvaS1kaWNoLXZ1LXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidWwge1xuICBtYXJnaW46IDA7XG59XG5cbnVsLmRhc2hlZCB7XG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbn1cblxudWwuZGFzaGVkID4gbGkge1xuICB0ZXh0LWluZGVudDogLTVweDtcbiAgcGFkZGluZzogMXB4IDBweCAxcHggMHB4O1xufVxuXG51bC5kYXNoZWQgPiBsaTpiZWZvcmUge1xuICBjb250ZW50OiBcIi0gXCI7XG4gIHRleHQtaW5kZW50OiAtNXB4O1xufVxuXG4udGl0bGUtZ3JpZC1wYXJlbnQge1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuaW5wdXRbdHlwZT1jaGVja2JveF0ge1xuICB0cmFuc2Zvcm06IHNjYWxlKDEuNSk7XG59XG5cbi50ZXh0LXJpZ2h0LXRkIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi50ZXh0LWxlZnQtdGQge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuXG4udGV4dC1yZWQge1xuICBjb2xvcjogcmVkO1xufSIsInVsIHtcbiAgbWFyZ2luOiAwO1xufVxuXG51bC5kYXNoZWQge1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG59XG5cbnVsLmRhc2hlZCA+IGxpIHtcbiAgdGV4dC1pbmRlbnQ6IC01cHg7XG4gIHBhZGRpbmc6IDFweCAwcHggMXB4IDBweDtcbn1cblxudWwuZGFzaGVkID4gbGk6YmVmb3JlIHtcbiAgY29udGVudDogXCItIFwiO1xuICB0ZXh0LWluZGVudDogLTVweDtcbn1cblxuLnRpdGxlLWdyaWQtcGFyZW50IHtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbmlucHV0W3R5cGU9Y2hlY2tib3hdIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjUpO1xufVxuXG4udGV4dC1yaWdodC10ZCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4udGV4dC1sZWZ0LXRkIHtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbn1cblxuLnRleHQtcmVkIHtcbiAgY29sb3I6IHJlZDtcbn0iXX0= */\"","import { Component, Inject, IterableDiffers, OnInit, SimpleChanges, TemplateRef, ViewChild } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport { ChiTietGoiDichVuChiDinhTheoBenhNhan, GoiDichVuMarketingDangChon } from '../../../kham-benh.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { ChiDinhGoiDichVuTheoBenhNhan } from '../../../kham-benh.model';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { EnumNhomGoiDichVu, EnumTypeLoadingData } from 'src/app/shared/enum/kham-benh.enum';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\ndeclare var $: any;\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-su-dung-goi-dich-vu-popup',\n  templateUrl: './lan-kham-hien-tai-su-dung-goi-dich-vu-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-su-dung-goi-dich-vu-popup.component.scss']\n})\nexport class LanKhamHienTaiSuDungGoiDichVuPopupComponent implements OnInit {\n\n  icClose = icClose;\n  icSearch = icSearch;\n\n  gridColumns: any[] = [];\n  gridColumnsChild: any[] = [];\n  groups: GroupDescriptor[] = [{ field: 'TenNhomGoiDichVu' }];\n  documentType: DocumentType;\n  benhNhanId: number = 0;\n  isPTTT: boolean = false;\n  isNoiTru: boolean = false;\n  isCapGiuong: boolean = false;\n  IsKhamBenhDangKham: boolean = false;\n  strDichVuDaChon: string = null;\n  arrChiTietDichVuDaXem: Array<ChiTietGoiDichVuChiDinhTheoBenhNhan> = new Array<ChiTietGoiDichVuChiDinhTheoBenhNhan>();\n  arrChiTietDichVuDaChon: Array<ChiTietGoiDichVuChiDinhTheoBenhNhan> = new Array<ChiTietGoiDichVuChiDinhTheoBenhNhan>();\n  arrGoiDangChon: Array<GoiDichVuMarketingDangChon> = new Array<GoiDichVuMarketingDangChon>();\n  nhomDichVuGiuong: EnumNhomGoiDichVu = EnumNhomGoiDichVu.DichVuGiuongBenh;\n\n  urlGetDataGoi: string = 'KhamBenh/GetGoiDichVuCuaBenhNhanDataForGrid';\n  urlGetTotalDataGoi: string = 'KhamBenh/GetGoiDichVuCuaBenhNhanTotalPageForGrid';\n  urlGetDataChiTietGoi: string = 'KhamBenh/GetChiTietGoiDichVuCuaBenhNhanDataForGrid';\n  urlGetTotalDataChiTietGoi: string = 'KhamBenh/GetChiTietGoiDichVuCuaBenhNhanTotalPageForGrid';\n  \n  iterableDiffer: any;\n  popupLoadingData: any;\n\n  @ViewChild('tenGoiTemplate', { static: true }) tenGoiTemplate: TemplateRef<any>;\n  @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n  @ViewChild('nhomDichVuTemplate', { static: true }) nhomDichVuTemplate: TemplateRef<any>;\n  @ViewChild('soLuongTemplate', { static: true }) soLuongTemplate: TemplateRef<any>;\n  @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n\n  @ViewChild('tongTienFooterTemplate', { static: true }) tongTienFooterTemplate: TemplateRef<any>;\n  @ViewChild('tongCongFooterTemplate', {read: TemplateRef, static: true}) tongCongFooterTemplate: TemplateRef<any>;\n  @ViewChild('chietKhauFooterTemplate', {read: TemplateRef, static: true}) chietKhauFooterTemplate: TemplateRef<any>;\n  @ViewChild('giaGoiFooterTemplate', {read: TemplateRef, static: true}) giaGoiFooterTemplate: TemplateRef<any>;\n  @ViewChild('checkBoxHeaderTemplate', {read: TemplateRef, static: true}) checkBoxHeaderTemplate: TemplateRef<any>;\n  @ViewChild('checkBoxTemplate', {read: TemplateRef, static: true}) checkBoxTemplate: TemplateRef<any>;\n  @ViewChild('actionChonGiuongTemplate', { static: true }) actionChonGiuongTemplate: TemplateRef<any>;\n\n  @ViewChild('gridNhomGoiDichVu', { read: GridComponent, static: false }) gridNhomGoiDichVu: GridComponent;\n  isFirstLoadGridGoiDv: boolean = true;\n\n  constructor(private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n  public dialogRef: MatDialogRef<LanKhamHienTaiSuDungGoiDichVuPopupComponent>,\n  private apiService: ApiService,\n  private notificationService: NotificationService,\n  private iterableDiffers: IterableDiffers) { \n    this.iterableDiffer = iterableDiffers.find([]).create(null);\n  }\n\n  ngOnInit() {\n    this.documentType = this.data.DocumentType;\n    this.benhNhanId = this.data.BenhNhanId;\n    this.isPTTT = this.data.IsPTTT;\n    this.isNoiTru = this.data.IsNoiTru;\n    this.IsKhamBenhDangKham = this.data.IsKhamBenhDangKham != undefined && this.data.IsKhamBenhDangKham;\n\n    // dùng để ẩn checkbox chọn dịch vụ và show chức năng chọn giường\n    // nếu là cấp giường thì chỉ cho phép chọn giường và đóng popup\n    this.isCapGiuong = this.data.IsCapGiuong == true; \n    //===============================================================\n    \n\n    if(this.documentType == DocumentType.PhauThuatThuThuatTheoNgay)\n    {\n      this.urlGetDataGoi = 'PhauThuatThuThuat/GetGoiDichVuCuaBenhNhanDataForGrid';\n      this.urlGetTotalDataGoi = 'PhauThuatThuThuat/GetGoiDichVuCuaBenhNhanTotalPageForGrid';\n      this.urlGetDataChiTietGoi = 'PhauThuatThuThuat/GetChiTietGoiDichVuCuaBenhNhanDataForGrid';\n      this.urlGetTotalDataChiTietGoi = 'PhauThuatThuThuat/GetChiTietGoiDichVuCuaBenhNhanTotalPageForGrid';\n    }\n    else if(this.documentType == DocumentType.DanhSachDieuTriNoiTru || this.isNoiTru)\n    {\n      this.urlGetDataGoi = 'DieuTriNoiTru/GetGoiDichVuCuaBenhNhanDataForGrid';\n      this.urlGetTotalDataGoi = 'DieuTriNoiTru/GetGoiDichVuCuaBenhNhanTotalPageForGrid';\n      this.urlGetDataChiTietGoi = 'DieuTriNoiTru/GetChiTietGoiDichVuCuaBenhNhanDataForGrid';\n      this.urlGetTotalDataChiTietGoi = 'DieuTriNoiTru/GetChiTietGoiDichVuCuaBenhNhanTotalPageForGrid';\n    }\n\n    this.gridColumns = [\n      { Field: \"TenGoiDichVu\", Title: \"Tên Gói\", Width: 600 , Sortable: true, Template: this.tenGoiTemplate }\n    ];\n    \n    this.gridColumnsChild = [\n      { Field: \"CheckBox\", Title: \"\", Width: 30 , Sortable: false, Template: this.checkBoxTemplate, TemplateHeader: this.checkBoxHeaderTemplate, Hidden: this.isCapGiuong },\n      { Field: \"STT\", Title: \"#\", Width: 20 , Sortable: false, Template: this.sttTemplate },\n      { Field: \"TenNhomGoiDichVu\", Title: \"\" , Width: 20, TemplateGroupHeader: this.nhomDichVuTemplate , Hidden: true},\n      { Field: \"MaDichVu\", Title: \"Mã\", Width: 80 , Sortable: true },\n      { Field: \"TenDichVu\", Title: \"Tên dịch vụ\", Width: 180 , Sortable: true },\n      { Field: \"TenLoaiGia\", Title: \"Loại giá\", Width: 100 , Sortable: true },\n      { Field: \"SoLuong\", Title: \"SL\", Width: 60 , Sortable: true},\n      { Field: \"DonGia\", Title: \"Đơn giá\", Width: 120 , Sortable: true, Template: this.donGiaTemplate, TemplateFooter: this.tongTienFooterTemplate },\n      { Field: \"ThanhTien\", Title: \"Thành tiền\", Width: 120 , Sortable: true, Template: this.thanhTienTemplate, TemplateFooter: this.tongCongFooterTemplate },\n      { Field: \"SoLuongDaDung\", Title: \"SL đã dùng\", Width: 120 , Sortable: true}, //,  TemplateFooter: this.chietKhauFooterTemplate\n      { Field: \"SoLuongDungLanNay\", Title: \"SL dùng lần này\", Width: 120 , Sortable: false, Template: this.soLuongTemplate, Hidden: this.isCapGiuong} ,//, TemplateFooter: this.giaGoiFooterTemplate  \n      { Field: \"Action\", Title: \"\", Width: 80, Template: this.actionChonGiuongTemplate ,Hidden: !this.isCapGiuong }\n    ]\n  }\n\n  ngDoCheck() {\n    // let changes = this.iterableDiffer.diff(this.arrChiTietDichVuDaChon);\n    // if (changes) {\n    //   this.arrChiTietDichVuDaChon.forEach(element => {\n    //     var goiTheoDichVu = this.arrGoiDangChon.find(x => x.YeuCauGoiDichVuId == element.YeuCauGoiDichVuId);\n    //     if (goiTheoDichVu) {\n    //       var dichVuTrongGoi = goiTheoDichVu.DichVus.find(x => x.Id == element.Id);\n    //       if (!dichVuTrongGoi) {\n    //         goiTheoDichVu.DichVus.push(element);\n    //       }\n    //     }\n    //   });\n    //   this.arrGoiDangChon.forEach(element => {\n    //     element.DichVus.forEach((elementChild, i) => {\n    //       let index = this.arrChiTietDichVuDaChon.findIndex(x => x.Id == elementChild.Id);\n    //       if (index == -1) {\n    //         let indexInGoi = element.DichVus.findIndex(x => x.Id == elementChild.Id);\n    //         element.DichVus.splice(indexInGoi, 1);\n    //       }\n    //     });\n    //   });\n    //   console.log('arrGoiDangChon', this.arrGoiDangChon);\n    // }\n  }\n\n  chonDichVu(event, dataItem)\n  {\n    if(event)\n    {\n      dataItem.SoLuongDungLanNay = 1;\n      if(this.arrChiTietDichVuDaChon.findIndex(x => x.Id == dataItem.Id) == -1)\n      {\n        var newElement = new ChiTietGoiDichVuChiDinhTheoBenhNhan(\n          dataItem.Id,\n          dataItem.YeuCauGoiDichVuId,\n          dataItem.TenGoiDichVu,\n          dataItem.ChuongTrinhGoiDichVuId,\n          dataItem.ChuongTrinhGoiDichVuChiTietId,\n          dataItem.DichVuBenhVienId,\n          dataItem.TenDichVu,\n          dataItem.NhomGoiDichVu,\n          dataItem.SoLuongDungLanNay,\n          true,\n          dataItem.DonGia\n        );\n        this.arrChiTietDichVuDaChon.push(newElement);\n      }\n\n      let slDichVuDaChon = this.arrChiTietDichVuDaChon.filter(x => x.YeuCauGoiDichVuId == dataItem.YeuCauGoiDichVuId).length;\n      let slDichVuTheoGoi = this.arrChiTietDichVuDaXem.filter(x => x.YeuCauGoiDichVuId == dataItem.YeuCauGoiDichVuId && x.IsActive).length;\n      if(slDichVuDaChon == slDichVuTheoGoi)\n      {\n        var element = document.getElementById(\"ckbHeader-\"+ dataItem.YeuCauGoiDichVuId);\n        element['checked']=true;\n      }\n    }\n    else\n    {\n      dataItem.SoLuongDungLanNay = 0;\n      var index = this.arrChiTietDichVuDaChon.findIndex(x => x.Id == dataItem.Id);\n      if(index != -1)\n      {\n        this.arrChiTietDichVuDaChon.splice(index, 1);\n        var element = document.getElementById(\"ckbHeader-\"+ dataItem.YeuCauGoiDichVuId);\n        element['checked']=false;\n      }\n    }\n    this.strDichVuDaChon = JSON.stringify(this.arrChiTietDichVuDaChon);\n  }\n\n  chonTatCaDichVuTrongGoi(event, yeuCauGoiDichVuId: number) {\n    if (event) {\n      let lstDichVuTrongGoi = this.arrChiTietDichVuDaXem.filter(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId && x.IsActive);\n      lstDichVuTrongGoi.forEach(element => {\n        var indexDichVuDaChon = this.arrChiTietDichVuDaChon.findIndex(x => x.Id == element.Id);\n\n        if (indexDichVuDaChon == -1) {\n          var newElement = new ChiTietGoiDichVuChiDinhTheoBenhNhan(\n            element.Id,\n            element.YeuCauGoiDichVuId,\n            element.TenGoiDichVu,\n            element.ChuongTrinhGoiDichVuId,\n            element.ChuongTrinhGoiDichVuChiTietId,\n            element.DichVuBenhVienId,\n            element.TenDichVu,\n            element.NhomGoiDichVu,\n            1,\n            true,\n            element.DonGia\n          );\n          this.arrChiTietDichVuDaChon.push(newElement);\n        }\n      });\n\n      let name = 'ckbItem-' + yeuCauGoiDichVuId;\n      let checkboxes = document.getElementsByName(name);\n      checkboxes.forEach(element => {\n        // element['value'] = true;\n        // element['checked'] = true;\n        // console.log('element - true',element['id']);\n\n        // document.getElementById(element['id']).setAttribute(\"ng-reflect-model\", \"true\");\n        if(!element['checked']){\n          document.getElementById(element['id']).click();\n        }\n      });\n    }\n    else {\n      let arrDichVuDaChonTemp = this.arrChiTietDichVuDaChon.filter(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId);\n      if(arrDichVuDaChonTemp.length > 0)\n      {\n        arrDichVuDaChonTemp.forEach(element => {\n          let index = this.arrChiTietDichVuDaChon.findIndex(x => x.Id == element.Id);\n          this.arrChiTietDichVuDaChon.splice(index, 1);\n        });\n\n        let name = 'ckbItem-' + yeuCauGoiDichVuId;\n        let checkboxes = document.getElementsByName(name);\n        checkboxes.forEach(element => {\n          if(element['checked']){\n            document.getElementById(element['id']).click();\n          }\n        });\n      }\n    }\n    this.strDichVuDaChon = JSON.stringify(this.arrChiTietDichVuDaChon);\n  }\n\n  xemChiTietDichVuTheoGoi(event)\n  {\n    if(event.Data.length > 0)\n    {\n      var dichVuChiTiet = event.Data[0];\n      if(this.arrChiTietDichVuDaXem.length == 0 \n        || this.arrChiTietDichVuDaXem.findIndex(x => x.YeuCauGoiDichVuId == dichVuChiTiet.YeuCauGoiDichVuId \n                                                && x.ChuongTrinhGoiDichVuId == dichVuChiTiet.ChuongTrinhGoiDichVuId) == -1)\n      {\n        event.Data.forEach(element => {\n          var newElement = new ChiTietGoiDichVuChiDinhTheoBenhNhan(\n            element.Id,\n            element.YeuCauGoiDichVuId,\n            element.TenGoiDichVu,\n            element.ChuongTrinhGoiDichVuId,\n            element.ChuongTrinhGoiDichVuChiTietId,\n            element.DichVuBenhVienId,\n            element.TenDichVu,\n            element.NhomGoiDichVu,\n            0,\n            element.IsActive,\n            element.DonGia\n          );\n          this.arrChiTietDichVuDaXem.push(newElement);\n        });\n      }\n    }\n  }\n\n  xemChiTietGoiDichVu(event) {\n    var self = this;\n    if (event.Data.length > 0) {\n      event.Data.forEach(element => {\n        //xử lý thêm vào ds hiển thị dịch vụ đang chọn\n        var indexGoiDangChon = this.arrGoiDangChon.findIndex(x => x.YeuCauGoiDichVuId == element.Id);\n        if (indexGoiDangChon == -1) {\n          this.arrGoiDangChon.push(new GoiDichVuMarketingDangChon(\n            element.Id,\n            element.TenGoiDichVu,\n            element.ConLai,\n            []\n          ));\n        }\n        else {\n          var goiDangChon = this.arrGoiDangChon.find(x => x.YeuCauGoiDichVuId == element.Id);\n          goiDangChon.TongTienConBaoLanhDuoc = element.ConLai;\n        }\n      });\n      \n      //BVHD-3519\n      if (event.Data.length == 1 && self.isFirstLoadGridGoiDv) {\n        self.isFirstLoadGridGoiDv = false;\n        self.gridNhomGoiDichVu.onExpandRowDetail(0);\n      }\n    }\n  }\n\n  changeSoLuongDichVu(event, dataItem){\n    var dichVuDaChon = this.arrChiTietDichVuDaChon.find(x => x.YeuCauGoiDichVuId == dataItem.YeuCauGoiDichVuId \n                                                          && x.ChuongTrinhGoiDichVuId == dataItem.ChuongTrinhGoiDichVuId\n                                                          && x.ChuongTrinhGoiDichVuChiTietId == dataItem.ChuongTrinhGoiDichVuChiTietId\n                                                          && x.NhomGoiDichVu == dataItem.NhomGoiDichVu);\n    if(event == undefined || event == null)\n    {\n      dichVuDaChon.SoLuongSuDung = 0;\n    }\n    else\n    {\n      dichVuDaChon.SoLuongSuDung = event;\n    }\n    this.strDichVuDaChon = JSON.stringify(this.arrChiTietDichVuDaChon);\n  }\n\n  chonDichVuTrongGoi(arrSelected){\n    if(arrSelected.length > 0)\n    {\n      // xử lý thêm\n      var arrAdd = arrSelected.filter(x => this.arrChiTietDichVuDaChon.findIndex(a => a.Id == x) == -1);\n      arrAdd.forEach(element => {\n        console.log('element', element);\n        var elementObj = JSON.parse(element);\n        var indexDichVuDaChon = this.arrChiTietDichVuDaChon.findIndex(x => x.Id == element);\n        if(indexDichVuDaChon == -1)\n        {\n          var newElement = new ChiTietGoiDichVuChiDinhTheoBenhNhan(\n            element,\n            elementObj.YeuCauGoiDichVuId,\n            elementObj.TenGoiDichVu,\n            elementObj.ChuongTrinhGoiDichVuId,\n            elementObj.ChuongTrinhGoiDichVuChiTietId,\n            elementObj.DichVuBenhVienId,\n            elementObj.TenDichVu,\n            elementObj.NhomGoiDichVu,\n            1,\n            element.DonGia\n          );\n          this.arrChiTietDichVuDaChon.push(newElement);\n        }\n      });\n\n      // xử lý xóa\n      arrSelected.forEach(element => {\n        var index = this.arrChiTietDichVuDaChon.findIndex(x => x.Id == element);\n        this.arrChiTietDichVuDaChon.splice(index, 0);\n      });\n    }\n    else\n    {\n      this.arrChiTietDichVuDaChon = [];\n    }\n  }\n\n  showPopupLoadingData(typeLoading: EnumTypeLoadingData = EnumTypeLoadingData.View) {\n    let mess = \"\";\n    switch (typeLoading) {\n      case EnumTypeLoadingData.View:\n        mess = \"Đang tải dữ liệu...\"; break;\n      case EnumTypeLoadingData.Update:\n        mess = \"Đang lưu dữ liệu...\"; break;\n      case EnumTypeLoadingData.Delete:\n        mess = \"Đang xóa dữ liệu...\"; break;\n      case EnumTypeLoadingData.Cancel:\n        mess = \"Đang hủy dữ liệu...\"; break;\n      default: mess = \"Đang tải dữ liệu...\";\n    }\n    this.popupLoadingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: mess }\n    });\n  }\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n\n  luuDichVuChiDinh() {\n    this.showPopupLoadingData(EnumTypeLoadingData.Add);\n    let yeuCauGoiMarketing: ChiDinhGoiDichVuTheoBenhNhan = new ChiDinhGoiDichVuTheoBenhNhan();\n    yeuCauGoiMarketing.YeuCauTiepNhanId = 0;\n    yeuCauGoiMarketing.DichVus = this.arrChiTietDichVuDaChon;\n    yeuCauGoiMarketing.IsKhamBenhDangKham = this.documentType == DocumentType.KhamBenhDangKham || this.IsKhamBenhDangKham;\n    let url = \"KhamBenh/KiemTraValidationChiDinhDichVuTrongGoiMarketing\";\n    if (this.documentType == DocumentType.PhauThuatThuThuatTheoNgay) {\n      url = \"PhauThuatThuThuat/KiemTraValidationChiDinhDichVuTrongGoiMarketing\";\n    }\n    else if(this.documentType == DocumentType.DanhSachDieuTriNoiTru || this.isNoiTru)\n    {\n      url = \"DieuTriNoiTru/KiemTraValidationChiDinhDichVuTrongGoiMarketing\";\n    }\n    this.apiService.post<boolean>(url, yeuCauGoiMarketing)\n      .subscribe(resultData => {\n        this.closePopupLoadingData();\n        this.dialogRef.close(yeuCauGoiMarketing);\n      },\n        (err: ApiError) => {\n          this.notificationService.showError(err.Message);\n          this.closePopupLoadingData();\n        });\n  }\n\n  close() {\n    this.dialog.closeAll();\n  }\n\n  getHtmlDichVuTheoGoiDangChon(yeuCauGoiDichVuId: number){\n    let arraysDichVus = this.arrChiTietDichVuDaChon.filter(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId);\n    if(arraysDichVus == undefined || arraysDichVus == null || arraysDichVus.length == 0)\n    {\n      return \"\";\n    }\n\n    let style=\"<style>.text-right-td{text-align: right;}.text-left-td{text-align: left;}.text-red{color: red;}</style>\"\n\n    let html=\"<table fxFlex='100%'>\";\n    let tongTien = 0;\n    let goiDangChon = this.arrGoiDangChon.find(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId);\n    html += \"<tr><th colspan='4' class='text-left-td'>\" + goiDangChon.TenGoiDichVu + \"</th></tr>\";\n\n    arraysDichVus.forEach(element => {\n      html += \"<tr>\"\n      html += \"<td width='35%' class='reverse-ellipsis r'>- \" + element.TenDichVu + \"</td>\"\n      html += \"<td width='5%' class='text-right-td'>\" + element.SoLuongSuDung + \"</td>\"\n      html += \"<td width='20%' class='text-right-td'>\" + element.DonGia + \"</td>\"\n      html += \"<td width='20%' class='text-right-td'>\" + element.SoLuongSuDung * element.DonGia + \"</td>\"\n      html += \"</tr>\"\n\n      tongTien += element.SoLuongSuDung * element.DonGia;\n    });\n\n    // phần tổng tiền dịch vụ đang chọn\n    html += \"<tr>\"\n    html += \"<td></td>\"\n    html += \"<td></td>\"\n    html += \"<td>Tổng: </td>\"\n    html += \"<td class='text-right-td'><b>\" + tongTien + \"</b></td>\"\n    html += \"</tr>\"\n\n    // kiểm tra số tiền còn có thể bảo lãnh theo gói\n    if(goiDangChon.TongTienConBaoLanhDuoc < tongTien)\n    {\n      html += \"<tr>\"\n      html += \"<td colspan='4' class='text-right-td text-red'>Không đủ bảo lãnh</td>\"\n      html += \"</tr>\"\n    }\n\n    html += \"</tr></table>\";\n    console.log('//============================== html', html);\n    return html + style;\n  }\n\n  kiemTraGoiDichVuCoChonDichVu(yeuCauGoiDichVuId){\n    let index = this.arrChiTietDichVuDaChon.findIndex(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId)\n    return index != -1;\n  }\n\n  getArrayDichVuDaChonTheoGoi(yeuCauGoiDichVuId)\n  {\n    return this.arrChiTietDichVuDaChon.filter(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId);\n  }\n\n  tinhTongTienDichVuDangChon(yeuCauGoiDichVuId: number){\n    let tongTien = 0;\n    this.arrChiTietDichVuDaChon.forEach(element => {\n      if(element.YeuCauGoiDichVuId == yeuCauGoiDichVuId)\n      {\n        tongTien += element.SoLuongSuDung * element.DonGia;\n      }\n    });\n    return tongTien;\n  }\n\n  chonDichVuGiuong(dataItem)\n  {\n    this.dialogRef.close(dataItem);\n  }\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\n.po-h-radio {\\n  margin-top: -2px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktdHUtdmFuLXRodW9jLWtoYW0tZG9hbi9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcbGFuLWtoYW0taGllbi10YWktdHUtdmFuLXRodW9jLWtoYW0tZG9hblxcbGFuLWtoYW0taGllbi10YWktdHUtdmFuLXRodW9jLWtoYW0tZG9hbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktdHUtdmFuLXRodW9jLWtoYW0tZG9hbi9sYW4ta2hhbS1oaWVuLXRhaS10dS12YW4tdGh1b2Mta2hhbS1kb2FuLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0Esb0JBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7QUNDRjs7QURFQTtFQUNFLDRCQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0UsOEJBQUE7QUNDRjs7QURFQTtFQUNFLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktdHUtdmFuLXRodW9jLWtoYW0tZG9hbi9sYW4ta2hhbS1oaWVuLXRhaS10dS12YW4tdGh1b2Mta2hhbS1kb2FuLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG4ucG8taC1yYWRpbyB7XG4gIG1hcmdpbi10b3A6IC0ycHg7XG59IiwiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG4ucG8taC1yYWRpbyB7XG4gIG1hcmdpbi10b3A6IC0ycHg7XG59Il19 */\"","import { Component, OnInit, ViewChild, TemplateRef, Input, ChangeDetectorRef } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icEdit from '@iconify/icons-ic/border-color';\nimport { KeToaItem, DuocPhamTonKhos, ListThuocReOrder } from '../../../kham-benh.model';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { MatDialog } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { parseNumber } from '@progress/kendo-angular-intl';\nimport { ComboboxComponent } from 'src/app/shared/component/dropdowns/combobox/combobox.component';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { SuaThuocTuVanKhamDoanPopupComponent } from '../sua-thuoc-tu-van-kham-doan-popup/sua-thuoc-tu-van-kham-doan-popup.component';\nimport { InThuocTuVanKhamDoanPopupComponent } from '../in-thuoc-tu-van-kham-doan-popup/in-thuoc-tu-van-kham-doan-popup.component';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-tu-van-thuoc-kham-doan',\n  templateUrl: './lan-kham-hien-tai-tu-van-thuoc-kham-doan.component.html',\n  styleUrls: ['./lan-kham-hien-tai-tu-van-thuoc-kham-doan.component.scss']\n})\nexport class LanKhamHienTaiTuVanThuocKhamDoanComponent implements OnInit {\n\n  keToaNew: KeToaItem = new KeToaItem();\n  keToaEdit: KeToaItem = new KeToaItem();\n  keToaDelete: KeToaItem = new KeToaItem();\n  thongTinDuocPham: DuocPhamTonKhos = new DuocPhamTonKhos();\n  inTuVanThuoc: ListThuocReOrder = new ListThuocReOrder();\n  isSelectDuocPham: boolean = false;\n  icEdit = icEdit;\n  icDelete = icDelete;\n  isDisabled: boolean = false;\n  thoiGianDonThuocDataSource: any;\n  gridToaThuocColumns: any[] = [];\n  validationErrors: any;\n  popupLoadingData: any = null;\n  popupAddingData: any = null;\n  popupDeletingData: any = null;\n  @ViewChild('sangTemplate', { static: true }) sangTemplate: TemplateRef<any>;\n  @ViewChild('truaTemplate', { static: true }) truaTemplate: TemplateRef<any>;\n  @ViewChild('chieuTemplate', { static: true }) chieuTemplate: TemplateRef<any>;\n  @ViewChild('chieuTemplate', { static: true }) toiTemplate: TemplateRef<any>;\n  @ViewChild('soLuongTemplate', { static: true }) soLuongTemplate: TemplateRef<any>;\n  @ViewChild('actionToaThuocTemplate', { static: true }) actionToaThuocTemplate: TemplateRef<any>;\n  @ViewChild('isFocus', { static: false }) isFocus: ComboboxComponent;\n  @ViewChild('gridThuoc', { static: false }) gridThuoc: GridComponent;\n  @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n\n\n  @Input() YeuCauTiepNhanId: number;\n  @Input() YeuCauKhamBenhId: number;\n  @Input() documentType: DocumentType = DocumentType.KhamBenh;\n  @Input() isKhamDoanTatCa: boolean= false;\n  @Input() isReadOnly: boolean = false;\n\n  constructor(\n    private dialog: MatDialog,\n    private apiService: ApiService,\n    private notificationService: NotificationService,\n    private ref: ChangeDetectorRef,\n    private authService: AuthService,\n  ) { }\n\n  ngOnInit() {\n\n    this.gridToaThuocColumns = [\n      { Field: \"Action\", Title: \"\", Width: 70, Template: this.actionToaThuocTemplate, Hidden: this.isReadOnly},\n      { Field: \"STT\", Title: \"#\", Width: 45, Sortable: true, Template: this.sttTemplate },\n      { Field: \"Ma\", Title: \"Mã\", Width: 45, Sortable: true, ShowTooltip: true },\n      { Field: \"Ten\", Title: \"TÊN\", Width: 95, Sortable: true, ShowTooltip: true },\n      { Field: \"HoatChat\", Title: \"Hoạt chất\", Width: 80, Sortable: true, ShowTooltip: true },\n      { Field: \"DVT\", Title: \"ĐVT\", Width: 60, Sortable: true },\n      { Field: \"SangDisplay\", Title: \"Sáng\", Width: 55, Sortable: true, Template: this.sangTemplate },\n      { Field: \"TruaDisplay\", Title: \"Trưa\", Width: 55, Sortable: true, Template: this.truaTemplate },\n      { Field: \"ChieuDisplay\", Title: \"Chiều\", Width: 55, Sortable: true, Template: this.chieuTemplate },\n      { Field: \"ToiDisplay\", Title: \"Tối\", Width: 55, Sortable: true, Template: this.toiTemplate },\n      { Field: \"SoNgayDung\", Title: \"Số ngày\", Width: 80, Sortable: true },\n      { Field: \"SoLuong\", Title: \"SL\", Width: 40, Sortable: true, Template: this.soLuongTemplate },\n      { Field: \"TenDuongDung\", Title: \"Đ.Dùng\", Width: 70, Sortable: true },\n      { Field: \"TuongTacThuoc\", Title: \"Tương tác thuốc\", Width: 65, Sortable: true },\n      { Field: \"DiUngThuocDisplay\", Title: \"Dị ứng\", Width: 65, Sortable: true },\n      { Field: \"GhiChu\", Title: \"Cách dùng\", Width: 90, Sortable: true, ShowTooltip: true },\n    ];\n    this.getThoiGianDonThuoc();\n  }\n\n  onKey(event: any) {\n    if (event.key == \"Enter\") {\n      if (this.isSelectDuocPham != true) {\n        this.themKeToa();\n        this.onkeyFocus();\n      }\n      else {\n        this.isSelectDuocPham = false;\n      }\n    }\n  }\n\n  onkeyFocus() {\n    this.isFocus.onKeytoFocus();\n  }\n\n  openCombobox(event: any) {\n    if (event) {\n      this.isSelectDuocPham = true;\n    }\n    else {\n      this.isSelectDuocPham = false;\n    }\n  }\n\n  clearDuocPham() {\n    this.keToaNew = new KeToaItem();\n  }\n\n  getThoiGianDonThuoc() {\n    this.apiService.get<Array<string>>(\"KhamBenh/ThoiGianDonThuoc\").subscribe(\n      resultData => {\n        this.thoiGianDonThuocDataSource = resultData;\n      }\n    )\n  }\n\n  addingPage() {\n    this.popupAddingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang thêm dữ liệu...\" },\n    });\n  }\n\n  closePopupAddingData() {\n    if (this.popupAddingData != undefined && this.popupAddingData != null) {\n      this.popupAddingData.close();\n    }\n  }\n\n  deletingPage() {\n    this.popupDeletingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang xóa dữ liệu...\" },\n    });\n  }\n\n  closePopupDeletingData() {\n    if (this.popupDeletingData != undefined && this.popupDeletingData != null) {\n      this.popupDeletingData.close();\n    }\n  }\n\n  chonDuoc(duocPhamBenhVien: any) {\n    if (duocPhamBenhVien != undefined && duocPhamBenhVien != null) {\n      this.keToaNew.LaDuocPhamBenhVien = duocPhamBenhVien.LaDuocPhamBenhVien;\n      let objThongTinThuoc = {\n        YeuCauTiepNhanId: this.YeuCauTiepNhanId,\n        DuocPhamId: duocPhamBenhVien.KeyId,\n      };\n      this.apiService.post<any>(\"KhamBenh/InfoTonKhoDuocPhamTuVan\", objThongTinThuoc).subscribe(\n        resultData => {\n          if (resultData != null) {\n            this.thongTinDuocPham = resultData;\n          }\n        });\n    } else {\n      this.clearDuocPham();\n    }\n  }\n\n  themKeToa() {\n    var self = this;\n    self.validationErrors = null;\n    self.ref.detectChanges();\n    if (self.thongTinDuocPham.FlagThuocDaKe == true) {\n      self.dialog.open(ConfirmComponent, {\n        disableClose: false,\n        width: '500px',\n        data: { Title: \"Cảnh báo\", Message: \"Thuốc này đã kê trong đơn thuốc, bạn có muốn thêm thuốc này không ?\" }\n      }).afterClosed().subscribe(result => {\n        if (result == \"Yes\") {\n          self.themThuocTuVan();\n        }\n        else {\n          self.clearDuocPham();\n        }\n      });\n    } else {\n      self.themThuocTuVan();\n    }\n  }\n\n  dangXuLy:boolean=false;\n  themThuocTuVan() {\n    var self = this;\n    self.onkeyFocus();\n    self.keToaNew.YeuCauTiepNhanId = self.YeuCauTiepNhanId;\n    self.keToaNew.YeuCauKhamBenhId = self.YeuCauKhamBenhId;\n    self.keToaNew.IsKhamDoanTatCa = self.isKhamDoanTatCa;\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Add)) {\n      if(this.dangXuLy)\n          return;\n      this.dangXuLy=true;\n      self.addingPage();\n      self.apiService.post<any>(\"KhamBenh/ThemDonThuocTuVanSucKhoe\", self.keToaNew).subscribe(\n        () => {\n          self.closePopupAddingData();\n          let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm\"]);\n          self.notificationService.showSuccess(mess);\n          self.gridThuoc.search();\n          self.clearDuocPham();\n          self.dangXuLy=false;\n        },\n        (err: ApiError) => {\n          self.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n          }\n          self.closePopupAddingData();\n          self.dangXuLy=false;\n        });\n    } else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  xoaKeToa(item: KeToaItem) {\n    var self = this;\n    self.keToaDelete = item;\n    self.keToaDelete.YeuCauKhamBenhId = self.YeuCauKhamBenhId;\n    // self.keToaNew.IsKhamDoanTatCa = self.isKhamDoanTatCa;\n    self.keToaDelete.IsKhamDoanTatCa = self.isKhamDoanTatCa;\n    let comfirm = \"xóa\";\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Delete)) {\n      self.dialog.open(ConfirmComponent, {\n        disableClose: false,\n        width: '400px',\n        data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessLockTemplate, [comfirm, \"thuốc\"]) }\n      }).afterClosed().subscribe(result => {\n        if (result == \"Yes\") {\n          self.deletingPage();\n          self.apiService.post(\"KhamBenh/XoaDonThuocTuVanSucKhoe\", self.keToaDelete).subscribe(\n            () => {\n              self.closePopupDeletingData();\n              self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xóa\"]));\n              self.keToaNew = new KeToaItem();\n              self.gridThuoc.search();\n            },\n            (err: ApiError) => {\n              self.validationErrors = err.ValidationErrors;\n              if (err.Message != \"Validation Failed\") {\n                self.notificationService.showError(err.Message);\n              }\n              self.closePopupDeletingData();\n            });\n        }\n      });\n    }\n    else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  suaKeToa(dataItem: any) {\n    var self = this;\n    self.keToaEdit = dataItem;\n    self.keToaEdit.DonThuocChiTietId = dataItem.Id;\n    self.keToaEdit.YeuCauKhamBenhId = self.YeuCauKhamBenhId;\n    self.keToaEdit.YeuCauTiepNhanId = self.YeuCauTiepNhanId;\n    self.keToaEdit.IsKhamDoanTatCa = self.isKhamDoanTatCa;\n    let keToaEditobj = Object.assign({}, dataItem);\n    self.validationErrors = null;\n    self.ref.detectChanges();\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n      self.dialog.open(SuaThuocTuVanKhamDoanPopupComponent, {\n        disableClose: false,\n        width: '1500px',\n        data: keToaEditobj,\n      }).afterClosed().subscribe(() => {\n        self.gridThuoc.search();\n      });\n    } else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  SoLuongChange() {\n    if (this.keToaNew.SoLuong != null && this.keToaNew.LieuDung != null && this.keToaNew.LieuDung != \"\") {\n      let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.keToaNew.LieuDung));\n      this.keToaNew.SoNgayDung = Math.ceil(this.keToaNew.SoLuong / lieuDung);\n      this.keToaNew.SangDisplay = null;\n      this.keToaNew.ThoiGianDungSang = null;\n      this.keToaNew.TruaDisplay = null;\n      this.keToaNew.ThoiGianDungTrua = null;\n      this.keToaNew.ChieuDisplay = null;\n      this.keToaNew.ThoiGianDungChieu = null;\n      this.keToaNew.ToiDisplay = null;\n      this.keToaNew.ThoiGianDungToi = null;\n    }\n    else if (this.keToaNew.SoLuong == null) {\n      this.keToaNew.LieuDung = null;\n      this.keToaNew.SoNgayDung = null;\n      this.keToaNew.SangDisplay = null;\n      this.keToaNew.ThoiGianDungSang = null;\n      this.keToaNew.TruaDisplay = null;\n      this.keToaNew.ThoiGianDungTrua = null;\n      this.keToaNew.ChieuDisplay = null;\n      this.keToaNew.ThoiGianDungChieu = null;\n      this.keToaNew.ToiDisplay = null;\n      this.keToaNew.ThoiGianDungToi = null;\n    }\n  }\n\n  LieuDungChange() {\n    if (this.keToaNew.SoLuong != null && this.keToaNew.LieuDung != null && this.keToaNew.LieuDung != \"\") {\n      let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.keToaNew.LieuDung));\n      if (lieuDung > this.keToaNew.SoLuong) {\n        this.keToaNew.SoLuong = lieuDung;\n      }\n      this.keToaNew.SoNgayDung = Math.ceil(this.keToaNew.SoLuong / lieuDung);\n      this.keToaNew.SangDisplay = null;\n      this.keToaNew.ThoiGianDungSang = null;\n      this.keToaNew.TruaDisplay = null;\n      this.keToaNew.ThoiGianDungTrua = null;\n      this.keToaNew.ChieuDisplay = null;\n      this.keToaNew.ThoiGianDungChieu = null;\n      this.keToaNew.ToiDisplay = null;\n      this.keToaNew.ThoiGianDungToi = null;\n    } else if (this.keToaNew.SoLuong == null && this.keToaNew.SoNgayDung != null && (this.keToaNew.LieuDung != null && this.keToaNew.LieuDung != \"\")) {\n      let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.keToaNew.LieuDung));\n      this.keToaNew.SoLuong = this.keToaNew.SoNgayDung * lieuDung;\n    } else if (this.keToaNew.SoLuong != null && (this.keToaNew.LieuDung == null || this.keToaNew.LieuDung == \"\")) {\n      this.keToaNew.SoNgayDung = null;\n    }\n  }\n\n  SoNgayDungChange() {\n    if (this.keToaNew.SoLuong != null && this.keToaNew.SoNgayDung != null && this.keToaNew.SoNgayDung > 0) {\n      let lieuDung = Math.ceil(this.keToaNew.SoLuong / this.keToaNew.SoNgayDung);\n      this.keToaNew.LieuDung = lieuDung.toString();\n      this.keToaNew.SangDisplay = null;\n      this.keToaNew.ThoiGianDungSang = null;\n      this.keToaNew.TruaDisplay = null;\n      this.keToaNew.ThoiGianDungTrua = null;\n      this.keToaNew.ChieuDisplay = null;\n      this.keToaNew.ThoiGianDungChieu = null;\n      this.keToaNew.ToiDisplay = null;\n      this.keToaNew.ThoiGianDungToi = null;\n    } else if (this.keToaNew.SoLuong == null && this.keToaNew.SoNgayDung != null && (this.keToaNew.LieuDung != null && this.keToaNew.LieuDung != \"\")) {\n      let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.keToaNew.LieuDung));\n      this.keToaNew.SoLuong = this.keToaNew.SoNgayDung * lieuDung;\n    } else if (this.keToaNew.SoLuong != null && this.keToaNew.SoNgayDung == null) {\n      this.keToaNew.LieuDung = null;\n    }\n  }\n\n  convertInt() {\n    if (this.keToaNew.SoNgayDung != null)\n      this.keToaNew.SoNgayDung = parseInt(this.keToaNew.SoNgayDung.toString());\n  }\n\n  loadingPage() {\n    this.popupLoadingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang tải dữ liệu...\" },\n    });\n  }\n\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n  \n  onDataBound(event: any) {\n    if (event != undefined && event != null) {\n      if (event.Data.length > 0) {\n        this.isDisabled = true;\n      } else {\n        this.isDisabled = false;\n      }\n    }\n  }\n\n  inPhieuTuVanThuoc() {\n    var self = this;\n    self.loadingPage();\n    self.inTuVanThuoc.YeuCauKhamBenhId = self.YeuCauKhamBenhId;\n    self.inTuVanThuoc.YeuCauTiepNhanId = self.YeuCauTiepNhanId;\n    self.inTuVanThuoc.HostingName = window.location.protocol + \"//\" + window.location.host;\n    self.apiService.post<any>(\"KhamBenh/InTuVanThuoc\", self.inTuVanThuoc).subscribe(\n      resData => {\n        if (resData != undefined && resData != null) {\n          self.closePopupLoadingData();\n          self.dialog.open(InThuocTuVanKhamDoanPopupComponent, {\n            disableClose: false,\n            width: '1200px',\n            data: resData,\n          }\n          ).afterClosed().subscribe(() => {\n          });\n        }\n      },\n      (err: ApiError) => {\n        self.validationErrors = err.ValidationErrors;\n        if (err.Message != \"Validation Failed\") {\n          self.notificationService.showError(err.Message);\n        }\n        self.closePopupLoadingData();\n      }\n    );\n  }\n\n\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n  padding-bottom: 10px;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktdmF0LXR1LXRpZXUtaGFvL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXGxhbi1raGFtLWhpZW4tdGFpXFxsYW4ta2hhbS1oaWVuLXRhaS12YXQtdHUtdGlldS1oYW9cXGxhbi1raGFtLWhpZW4tdGFpLXZhdC10dS10aWV1LWhhby5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktdmF0LXR1LXRpZXUtaGFvL2xhbi1raGFtLWhpZW4tdGFpLXZhdC10dS10aWV1LWhhby5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0VBQ0Esb0JBQUE7QUNDRjs7QURFQTtFQUNFLGdDQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9sYW4ta2hhbS1oaWVuLXRhaS9sYW4ta2hhbS1oaWVuLXRhaS12YXQtdHUtdGlldS1oYW8vbGFuLWtoYW0taGllbi10YWktdmF0LXR1LXRpZXUtaGFvLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn0iLCJmaWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbTtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIHBhZGRpbmctbGVmdDogMC43NWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW07XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufSJdfQ== */\"","import { Component, OnInit, ViewChild, TemplateRef, Input } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport { aggregateBy } from '@progress/kendo-data-query';\nimport { VatTuTieuHaoItem } from '../../../kham-benh.model';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-vat-tu-tieu-hao',\n  templateUrl: './lan-kham-hien-tai-vat-tu-tieu-hao.component.html',\n  styleUrls: ['./lan-kham-hien-tai-vat-tu-tieu-hao.component.scss']\n})\nexport class LanKhamHienTaiVatTuTieuHaoComponent implements OnInit {\n\n  documentType: DocumentType;\n  gridColumns: any[] = [];\n  urlGetDataGrid: string = \"\";\n  urlGetTotalPageGrid: string = \"\";\n  isProcessAdd: boolean = false;\n  vatTuTieuHaoNew: VatTuTieuHaoItem = new VatTuTieuHaoItem();\n\n  //data test\n  dataSource: any = {\n    data : [\n      {\n      \"STT\" : 1,\n      \"Id\": 1,\n      \"Ma\" : \"01.0006.0215\",\n      \"TenVatTu\": \"Kim tiêm\",\n      \"SoLuong\": 1,\n      \"TinhTien\": true,\n      \"DonGia\": 150000,\n      \"ThanhTien\": 105000,\n      \"BHChiTra\": 100000,\n      \"BNChiTra\": 50000,\n      \"GhiChu\": \"Temp\",\n      },\n      {\n        \"STT\" : 2,\n        \"Id\": 2,\n        \"Ma\" : \"01.0006.0215\",\n        \"TenVatTu\": \"Que thử HIV\",\n        \"SoLuong\": 1,\n        \"TinhTien\": true,\n        \"DonGia\": 150000,\n        \"ThanhTien\": 105000,\n        \"BHChiTra\": 100000,\n        \"BNChiTra\": 50000,\n        \"GhiChu\": \"Temp\",\n        },\n        {\n          \"STT\" : 3,\n          \"Id\": 3,\n          \"Ma\" : \"01.0006.0215\",\n          \"TenVatTu\": \"Que thử HIV\",\n          \"SoLuong\": 1,\n          \"TinhTien\": false,\n          \"DonGia\": null,\n          \"ThanhTien\": null,\n          \"BHChiTra\": null,\n          \"BNChiTra\": null,\n          \"GhiChu\": \"Temp\",\n          }\n    ],\n    total: 0\n  }\n  public aggregates: any[] = [\n    {field: 'ThanhTien', aggregate: 'sum'},\n    {field: 'BHChiTra', aggregate: 'sum'},\n    {field: 'BNChiTra', aggregate: 'sum'},\n  ];\n  public total: any = aggregateBy(this.dataSource.data, this.aggregates);\n  //======================================\n\n  icDelete =icDelete;\n\n  @Input() data: any;\n\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n  @ViewChild('tinhTienTemplate', { static: true }) tinhTienTemplate: TemplateRef<any>;\n  @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n  @ViewChild('bHChiTraTemplate', { static: true }) bHChiTraTemplate: TemplateRef<any>;\n  @ViewChild('bNChiTraTemplate', { static: true }) bNChiTraTemplate: TemplateRef<any>;\n  @ViewChild('tongCongFooterTemplate', { static: true }) tongCongFooterTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienFooterTemplate', { static: true }) thanhTienFooterTemplate: TemplateRef<any>;\n  @ViewChild('bHChiTraFooterTemplate', { static: true }) bHChiTraFooterTemplate: TemplateRef<any>;\n  @ViewChild('bNChiTraFooterTemplate', { static: true }) bNChiTraFooterTemplate: TemplateRef<any>;\n  constructor() { }\n\n  ngOnInit() {\n    this.documentType = DocumentType.KhamBenh;\n    this.dataSource.data = this.data;\n\n    this.gridColumns = [\n      { Field: \"STT\", Title: \"#\", Width: 30, Sortable: true },\n      { Field: \"Ma\", Title: \"Mã\", Width: 100, Sortable: true},\n      { Field: \"TenVatTu\", Title: \"Tên vật tư\", Width: 250, Sortable: true},\n      { Field: \"SoLuong\", Title: \"SL\", Width: 50, Sortable: true},\n      { Field: \"TinhTien\", Title: \"Tính tiền\", Width: 95, Sortable: true, Template: this.tinhTienTemplate},\n      { Field: \"DonGia\", Title: \"ĐG\", Width: 80, Sortable: true, Template: this.donGiaTemplate, TemplateFooter: this.tongCongFooterTemplate},\n      { Field: \"ThanhTien\", Title: \"T.Tiền\", Width: 80, Sortable: true, Template: this.thanhTienTemplate, TemplateFooter: this.thanhTienFooterTemplate},\n      { Field: \"BHChiTra\", Title: \"BH trả\", Width: 80, Sortable: true, Template: this.bHChiTraTemplate, TemplateFooter: this.bHChiTraFooterTemplate},\n      { Field: \"BNChiTra\", Title: \"BN trả\", Width: 80, Sortable: true, Template: this.bNChiTraTemplate, TemplateFooter: this.bNChiTraFooterTemplate},\n      { Field: \"GhiChu\", Title: \"Ghi chú\", Width: 80, Sortable: true},\n      { Field: \"Action\", Title: \"\", Width: 80, Template: this.actionTemplate}\n    ];\n  }\n\n  chonVatTu(event)\n  {\n    this.vatTuTieuHaoNew.TenVatTu = event.Ten;\n    this.vatTuTieuHaoNew.Ma = event.Ma;\n  }\n\n  themVatTu(){\n    if(this.vatTuTieuHaoNew.TinhTien)\n    {\n      this.vatTuTieuHaoNew.DonGia = 150000;\n      this.vatTuTieuHaoNew.ThanhTien = this.vatTuTieuHaoNew.SoLuong * this.vatTuTieuHaoNew.DonGia;\n      this.vatTuTieuHaoNew.BHChiTra = this.vatTuTieuHaoNew.ThanhTien;\n      this.vatTuTieuHaoNew.BNChiTra = 0;\n    }\n    this.dataSource.data.push(this.vatTuTieuHaoNew);\n    \n    let index: number = 1;\n    this.dataSource.data.forEach(element => {\n      element.STT = index++;\n    });\n    this.vatTuTieuHaoNew = new VatTuTieuHaoItem();\n    this.total = aggregateBy(this.dataSource.data, this.aggregates);\n  }\n  xoaVatTu(Id: number, STT: number)\n  {\n    if(Id != null && Id != undefined)\n    {\n      this.dataSource.data.splice(this.dataSource.data.findIndex(x => x.Id == Id), 1);\n    }\n    else if(STT != null)\n    {\n      this.dataSource.data.splice(this.dataSource.data.findIndex(x => x.STT == STT), 1);\n    }\n    let index: number = 1;\n    this.dataSource.data.forEach(element => {\n      element.STT = index++;\n    });\n    this.total = aggregateBy(this.dataSource.data, this.aggregates);\n  }\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n}\\n\\n.container-iframe iframe {\\n  margin-bottom: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGF5LW1hdS14ZXQtbmdoaWVtLWtldC1xdWEtbW90LWZpbGUtcG9wdXAvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxraGFtLWJlbmhcXGtoYW0tYmVuaFxcbGFuLWtoYW0taGllbi10YWlcXGxheS1tYXUteGV0LW5naGllbS1rZXQtcXVhLW1vdC1maWxlLXBvcHVwXFxsYXktbWF1LXhldC1uZ2hpZW0ta2V0LXF1YS1tb3QtZmlsZS1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGF5LW1hdS14ZXQtbmdoaWVtLWtldC1xdWEtbW90LWZpbGUtcG9wdXAvbGF5LW1hdS14ZXQtbmdoaWVtLWtldC1xdWEtbW90LWZpbGUtcG9wdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7QUNDRjs7QURFQTtFQUNFLG1CQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9sYW4ta2hhbS1oaWVuLXRhaS9sYXktbWF1LXhldC1uZ2hpZW0ta2V0LXF1YS1tb3QtZmlsZS1wb3B1cC9sYXktbWF1LXhldC1uZ2hpZW0ta2V0LXF1YS1tb3QtZmlsZS1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn0iLCIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59Il19 */\"","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\n\n@Component({\n  selector: 'app-lay-mau-xet-nghiem-ket-qua-mot-file-popup',\n  templateUrl: './lay-mau-xet-nghiem-ket-qua-mot-file-popup.component.html',\n  styleUrls: ['./lay-mau-xet-nghiem-ket-qua-mot-file-popup.component.scss']\n})\nexport class LayMauXetNghiemKetQuaMotFilePopupComponent implements OnInit {\n\n  icClose = icClose;\n  arrFilePdf: Array<any> = [];\n  arrFileUrl: Array<any> = [];\n  popupLoadingData: any;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any,\n  private apiService: ApiService,\n  private dialog: MatDialog,\n  private notificationService: NotificationService) { }\n\n  ngOnInit() {\n    this.getALlFilePDFFromHtml(this.data);\n  }\n\n  getALlFilePDFFromHtml(data: any) {\t\n\t\tthis.arrFileUrl = data.arrFileUrl;\n\t\tthis.arrFilePdf = data.arrFilePdf;\n\t}\n\n  downloadAllFile() {\n    const dateTimeNow = new Date();\n    this.arrFilePdf.forEach(file => {\n      CommonService.downLoadFile(file, 'application/pdf', 'KetQuaXetNghiem' + dateTimeNow.getFullYear() + '.pdf');\n    });\n  }\n\n  showPopupLoadingData() {\n    if (this.popupLoadingData == undefined\n      || this.popupLoadingData == null\n      || this.popupLoadingData.openDialogs == undefined\n      || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n      this.popupLoadingData = this.dialog.open(LoadingComponent, {\n        disableClose: true,\n        width: \"200px\",\n        height: \"90px\",\n        data: { Title: \"Đang tải dữ liệu...\" },\n      });\n    }\n  }\n\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n}\\n\\n.container-iframe iframe {\\n  margin-bottom: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGF5LW1hdS14ZXQtbmdoaWVtLWtldC1xdWEtcG9wdXAvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxraGFtLWJlbmhcXGtoYW0tYmVuaFxcbGFuLWtoYW0taGllbi10YWlcXGxheS1tYXUteGV0LW5naGllbS1rZXQtcXVhLXBvcHVwXFxsYXktbWF1LXhldC1uZ2hpZW0ta2V0LXF1YS1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGF5LW1hdS14ZXQtbmdoaWVtLWtldC1xdWEtcG9wdXAvbGF5LW1hdS14ZXQtbmdoaWVtLWtldC1xdWEtcG9wdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7QUNDRjs7QURFQTtFQUNFLG1CQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9sYW4ta2hhbS1oaWVuLXRhaS9sYXktbWF1LXhldC1uZ2hpZW0ta2V0LXF1YS1wb3B1cC9sYXktbWF1LXhldC1uZ2hpZW0ta2V0LXF1YS1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn0iLCIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59Il19 */\"","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\n\n@Component({\n  selector: 'app-lay-mau-xet-nghiem-ket-qua-popup',\n  templateUrl: './lay-mau-xet-nghiem-ket-qua-popup.component.html',\n  styleUrls: ['./lay-mau-xet-nghiem-ket-qua-popup.component.scss']\n})\nexport class LayMauXetNghiemKetQuaPopupComponent implements OnInit {\n\n  icClose = icClose;\n  arrFilePdf: Array<any> = [];\n  arrFileUrl: Array<any> = [];\n  popupLoadingData: any;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any,\n  private apiService: ApiService,\n  private dialog: MatDialog,\n  private notificationService: NotificationService) { }\n\n  ngOnInit() {\n    this.getALlFilePDFFromHtml(this.data);\n  }\n\n  getALlFilePDFFromHtml(arrHtml) {\n    this.showPopupLoadingData();\n    arrHtml.forEach(html => {\n      var obj = {\n        \"Html\": html,\n        \"TenFile\": \"KetQuaXetNghiem\"\n      }\n      this.apiService.postExportPdf<any>('XetNghiem/GetFilePDFFromHtml', obj).subscribe(\n        file => {\n          let newBlob = new Blob([file], { type: \"application/pdf\" });\n          let datalocalURL = window.URL.createObjectURL(newBlob);\n          // document.querySelector(\"iframe\").src = datalocalURL;\n          console.log('datalocalURL', datalocalURL);\n          this.arrFileUrl.push(datalocalURL);\n          this.arrFilePdf.push(file);\n\n          if (this.arrFileUrl.length == arrHtml.length) {\n            this.closePopupLoadingData();\n          }\n        },\n        (err: ApiError) => {\n          if (err.Message !== 'Validation Failed') {\n            this.notificationService.showError(err.Message);\n          }\n          this.closePopupLoadingData();\n        });\n    });\n  }\n\n  downloadAllFile() {\n    const dateTimeNow = new Date();\n    this.arrFilePdf.forEach(file => {\n      CommonService.downLoadFile(file, 'application/pdf', 'KetQuaXetNghiem' + dateTimeNow.getFullYear() + '.pdf');\n    });\n  }\n\n  showPopupLoadingData() {\n    if (this.popupLoadingData == undefined\n      || this.popupLoadingData == null\n      || this.popupLoadingData.openDialogs == undefined\n      || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n      this.popupLoadingData = this.dialog.open(LoadingComponent, {\n        disableClose: true,\n        width: \"200px\",\n        height: \"90px\",\n        data: { Title: \"Đang tải dữ liệu...\" },\n      });\n    }\n  }\n\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n}\n","export default \".md-primary {\\n  color: white;\\n  background-color: #005dab;\\n}\\n\\n.font_size {\\n  font-size: 16px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbmdoaS1odW9uZy1iaHl0LWNvbmZpcm0tcG9wdXAvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxraGFtLWJlbmhcXGtoYW0tYmVuaFxcbGFuLWtoYW0taGllbi10YWlcXG5naGktaHVvbmctYmh5dC1jb25maXJtLXBvcHVwXFxuZ2hpLWh1b25nLWJoeXQtY29uZmlybS1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbmdoaS1odW9uZy1iaHl0LWNvbmZpcm0tcG9wdXAvbmdoaS1odW9uZy1iaHl0LWNvbmZpcm0tcG9wdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0VBQ0EseUJBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL25naGktaHVvbmctYmh5dC1jb25maXJtLXBvcHVwL25naGktaHVvbmctYmh5dC1jb25maXJtLXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1kLXByaW1hcnkge1xuICBjb2xvcjogd2hpdGU7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDVkYWI7XG59XG5cbi5mb250X3NpemUge1xuICBmb250LXNpemU6IDE2cHg7XG59IiwiLm1kLXByaW1hcnkge1xuICBjb2xvcjogd2hpdGU7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDVkYWI7XG59XG5cbi5mb250X3NpemUge1xuICBmb250LXNpemU6IDE2cHg7XG59Il19 */\"","import { Component, OnInit, Inject, ChangeDetectorRef } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { ThongTinNgayNghiHuongBHYT } from '../../../kham-benh.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NghiHuongBhytDetailPopupComponent } from '../nghi-huong-bhyt-detail-popup/nghi-huong-bhyt-detail-popup.component';\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport icInfo from '@iconify/icons-ic/twotone-info';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { DocumentType } from \"src/app/shared/enum/document-type.enum\";\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { AuthService } from \"src/app/core/services/auth.service\";\n\n@Component({\n  selector: 'app-nghi-huong-bhyt-confirm-popup',\n  templateUrl: './nghi-huong-bhyt-confirm-popup.component.html',\n  styleUrls: ['./nghi-huong-bhyt-confirm-popup.component.scss']\n})\nexport class NghiHuongBhytConfirmPopupComponent implements OnInit {\n  icClose = icClose;\n  icInfo = icInfo;\n  documentType: DocumentType; //= DocumentType.KhamBenh;\n  thongTinNgayNghiHuongBHYT: ThongTinNgayNghiHuongBHYT;\n  dateTiepNhanMin: Date = null;\n  validationErrors: any[];\n  constructor(\n    private apiService: ApiService,\n    private notificationService: NotificationService,\n    private ref: ChangeDetectorRef,\n    private authService: AuthService,\n    private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n    public dialogRef: MatDialogRef<NghiHuongBhytConfirmPopupComponent>\n  ) { }\n\n  ngOnInit() {\n    this.documentType = this.data.DocumentType;\n    this.thongTinNgayNghiHuongBHYT = new ThongTinNgayNghiHuongBHYT();\n    this.thongTinNgayNghiHuongBHYT.YeuCauKhamBenhId = this.data.BenhNhanHienTai.YeuCauKhamBenhId;\n    this.thongTinNgayNghiHuongBHYT.ThoiDiemTiepNhan = this.data.BenhNhanHienTai.YeuCauTiepNhan.ThoiDiemTiepNhan;\n    this.thongTinNgayNghiHuongBHYT.DenNgay = this.data.BenhNhanHienTai.YeuCauKhamBenh.NghiHuongBHXHDenNgay == null ? new Date() : this.data.BenhNhanHienTai.YeuCauKhamBenh.NghiHuongBHXHDenNgay;\n    this.dateTiepNhanMin = new Date(this.data.BenhNhanHienTai.YeuCauTiepNhan.ThoiDiemTiepNhan);\n    this.getThongTinYeuCauKhamBenh();\n  }\n\n  xemGiayHuongBHXH() {\n    var self = this;\n    let loading = self.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang tải dữ liệu...\" },\n    });\n    self.validationErrors = [];\n    self.ref.detectChanges();\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n      self.apiService.post<any>(\"KhamBenh/XemGiayNghiHuongBHYTLien1\", self.thongTinNgayNghiHuongBHYT).subscribe(\n        resultData1 => {\n          if (resultData1 != undefined && resultData1 != null) {\n            loading.close()\n            self.dialog.open(NghiHuongBhytDetailPopupComponent, {\n              disableClose: true,\n              width: \"1200px\",\n              data: { templateLienSo1: resultData1, thongTinNgayNghiHuongBHYT: self.thongTinNgayNghiHuongBHYT },\n            });\n            // self.apiService.post<any>(\"KhamBenh/XemGiayNghiHuongBHYTLien2\", self.thongTinNgayNghiHuongBHYT).subscribe(\n            //   resultData2 => {\n            //     if (resultData2 != undefined && resultData2 != null) {\n            //       loading.close()\n            //       self.dialog.open(NghiHuongBhytDetailPopupComponent, {\n            //         disableClose: true,\n            //         width: \"1200px\",\n            //         data: { templateLienSo2: resultData2, templateLienSo1: resultData1, thongTinNgayNghiHuongBHYT: self.thongTinNgayNghiHuongBHYT },\n            //       });\n            //       self.dialogRef.close();\n\n            //     } else {\n            //       loading.close()\n            //     }\n            //   }\n            // )\n          }\n        }\n        , (err: ApiError) => {\n          self.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            self.notificationService.showError(err.Message);\n            loading.close();\n          }\n          loading.close();\n        }\n      )\n    }\n    else {\n      loading.close();\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  iCDSelectionChange(dataItem: any) {\n    if (dataItem != undefined && dataItem != null) {\n      this.thongTinNgayNghiHuongBHYT.ICDChinhNghiHuongBHYT = dataItem.KeyId;\n      this.thongTinNgayNghiHuongBHYT.TenICDChinhNghiHuongBHYT = dataItem.DisplayName;\n    }\n    else {\n      this.thongTinNgayNghiHuongBHYT.ICDChinhNghiHuongBHYT = null;\n      this.thongTinNgayNghiHuongBHYT.TenICDChinhNghiHuongBHYT = null;\n    }\n  }\n\n  close() {\n    this.dialog.closeAll();\n  }\n\n  getThongTinYeuCauKhamBenh() {\n    this.apiService.get<any>(\"KhamBenh/thongTinNghiHuongBHYT?YeuCauKhamBenhId=\" + this.thongTinNgayNghiHuongBHYT.YeuCauKhamBenhId).subscribe(\n      resultData1 => {\n        this.thongTinNgayNghiHuongBHYT.ICDChinhNghiHuongBHYT = resultData1.ICDChinhNghiHuongBHYT;\n        this.thongTinNgayNghiHuongBHYT.TenICDChinhNghiHuongBHYT = resultData1.TenICDChinhNghiHuongBHYT;\n        this.thongTinNgayNghiHuongBHYT.PhuongPhapDieuTriNghiHuongBHYT = resultData1.PhuongPhapDieuTriNghiHuongBHYT;\n      });\n  }\n\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.container-iframe iframe .pagebreak {\\n  border-bottom: 2px dashed #000;\\n  margin-bottom: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbmdoaS1odW9uZy1iaHl0LWRldGFpbC1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcbmdoaS1odW9uZy1iaHl0LWRldGFpbC1wb3B1cFxcbmdoaS1odW9uZy1iaHl0LWRldGFpbC1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbmdoaS1odW9uZy1iaHl0LWRldGFpbC1wb3B1cC9uZ2hpLWh1b25nLWJoeXQtZGV0YWlsLXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0VBQ0EsbUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL25naGktaHVvbmctYmh5dC1kZXRhaWwtcG9wdXAvbmdoaS1odW9uZy1iaHl0LWRldGFpbC1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSAucGFnZWJyZWFrIHtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IGRhc2hlZCAjMDAwO1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xufSIsIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSAucGFnZWJyZWFrIHtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IGRhc2hlZCAjMDAwO1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xufSJdfQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\n@Component({\n  selector: 'app-nghi-huong-bhyt-detail-popup',\n  templateUrl: './nghi-huong-bhyt-detail-popup.component.html',\n  styleUrls: ['./nghi-huong-bhyt-detail-popup.component.scss']\n})\nexport class NghiHuongBhytDetailPopupComponent implements OnInit {\n  icClose = icClose;\n  src: string = \"\";\n  \n\n  constructor(\n    private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n  ) { }\n\n  ngOnInit() {\n    this.src = \"data:text/html;charset=utf-8,\" + encodeURIComponent(this.data.templateLienSo1);\n  }\n  close() {\n    this.dialog.closeAll();\n  }\n\n  getSharedPrintForm() {\n    return new Promise(resolve => {\n      resolve(this.data.templateLienSo1);\n      this.close();\n    });\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL25vaS1kdW5nLW1hdS1raGFtLWJlbmgtcG9wdXAvbm9pLWR1bmctbWF1LWtoYW0tYmVuaC1wb3B1cC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport icFilterList from '@iconify/icons-ic/twotone-filter-list';\nimport icFileExcel from \"@iconify/icons-fa-solid/file-excel\";\nimport icSearch from \"@iconify/icons-ic/twotone-search\";\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icAdd from '@iconify/icons-ic/twotone-add';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { FormControl } from '@angular/forms';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { NoiDungMauKhamBenh } from '../../../kham-benh.model';\n\n@Component({\n  selector: 'app-noi-dung-mau-kham-benh-popup',\n  templateUrl: './noi-dung-mau-kham-benh-popup.component.html',\n  styleUrls: ['./noi-dung-mau-kham-benh-popup.component.scss']\n})\nexport class NoiDungMauKhamBenhPopupComponent implements OnInit {\n\n  icClose = icClose;\n  icSearch = icSearch;\n  icFileExcel = icFileExcel;\n  icFilterList = icFilterList;  \n  icDelete = icDelete;\n  icAdd = icAdd;\n\n  isShow: boolean = false;\n  noiDungMau: NoiDungMauKhamBenh = new NoiDungMauKhamBenh();\n  \n  documentType: DocumentType = DocumentType.KhamBenh;\n  searchString: string = null;\n  searchCtrl = new FormControl();\n  validationErrors: any;\n  popupLoadingData: any;\n  isChangeData: boolean = false;\n  \n  gridColumns: any[] = [];\n  _gridColumnsFilter: any[] = [];\n  _isCheckColumnFilter: boolean = true;\n  urlGetData: string;\n  urlGetTotalPage: string;\n\n  @ViewChild('maTemplate', { static: true }) maTemplate: TemplateRef<any>;\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n\n  @ViewChild(\"gridChild\", { static: true }) gridChild: GridComponent;\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private dialogRef: MatDialogRef<NoiDungMauKhamBenhPopupComponent>,\n    private authService: AuthService,\n    private notificationService: NotificationService,\n    private apiService: ApiService,\n    private dialog: MatDialog\n  ) { }\n\n  ngOnInit() {\n    this.urlGetData = \"KhamBenh/GetDataForGridNoiDungMauKhamBenh\";\n    this.urlGetTotalPage = \"KhamBenh/GetTotalPageForGridNoiDungMauKhamBenh\";\n    this.documentType = this.data.documentType;\n\n    this.gridColumns = [\n      { Field: \"Ma\", Title: \"Mã\", Width: 80, Sortable: true, Template: this.maTemplate},\n      { Field: \"Ten\", Title: \"Tên\", Width: 260, Sortable: true},\n      { Field: \"Action\", Title: \"\", Width: 40, Sortable: false, Template: this.actionTemplate }\n    ];\n\n    this._gridColumnsFilter = this.gridColumns.filter(p => p.Title != '');\n  }\n\n  timeoutSearchChange: any;\n  searchChange(event) {\n    if (event == null || event == \"\") {\n      this.gridChild.search();\n    }\n  }\n\n  onKey(event: any) {\n    if (event.key == \"Enter\") {\n      this.gridChild.search();\n    }\n  }\n\n  clearSearch() {\n    this.searchString = null;\n    this.gridChild.searchString = null;\n    this.gridChild.search();\n  }\n\n  showPopupLoadingData() {\n    if (this.popupLoadingData == undefined\n      || this.popupLoadingData == null\n      || this.popupLoadingData.openDialogs == undefined\n      || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n      this.popupLoadingData = this.dialog.open(LoadingComponent, {\n        disableClose: true,\n        width: \"200px\",\n        height: \"90px\",\n        data: { Title: \"Đang tải dữ liệu...\" },\n      });\n    }\n\n  }\n\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n\n  huy(){\n    this.validationErrors = [];\n    this.noiDungMau = new NoiDungMauKhamBenh();\n    this.isShow = false;\n    this.isChangeData = false;\n  }\n\n  xem(id: number, loadingData: boolean = true) {\n    if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n      if (this.isChangeData \n        && (this.noiDungMau.Id != 0\n        || (this.noiDungMau.Ma != null && this.noiDungMau.Ma != \"\")\n        || (this.noiDungMau.Ten != null && this.noiDungMau.Ten != \"\")\n        || (this.noiDungMau.NoiDung != null && this.noiDungMau.NoiDung != \"\"))) {\n        this.dialog\n          .open(ConfirmComponent, {\n            disableClose: false,\n            width: \"400px\",\n            data: {\n              Title: \"Xác nhận\",\n              Message: \"Có dữ liệu chưa được lưu, bạn có muốn lưu dữ liệu không?\",\n            },\n          })\n          .afterClosed()\n          .subscribe((result) => {\n            if (result == \"Yes\") {\n              this.luu(id, true);\n            }\n            else\n            {\n              this.xuLyGetData(id, loadingData);\n            }\n          });\n      }\n      else\n      {\n        this.xuLyGetData(id, loadingData);\n      }\n    }\n    else {\n      this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  xuLyGetData(id: number, loadingData: boolean = true) {\n    if(loadingData)\n    {\n      this.showPopupLoadingData();\n    }\n    this.isChangeData = false;\n    this.apiService\n      .get<any>(\"KhamBenh/GetThongTinNoiDungMauKhamBenh?id=\" + id)\n      .subscribe(\n        (resultData) => {\n          this.noiDungMau = resultData;\n          this.isShow = true;\n          this.closePopupLoadingData();\n        },\n        (err: ApiError) => {\n          if (err.Message != \"Validation Failed\") {\n            this.notificationService.showError(err.Message);\n          }\n          this.closePopupLoadingData();\n        }\n      );\n  }\n\n  them() {\n    if (this.authService.hasPermission(this.documentType, SecurityOperation.Add)) {\n      if (this.isChangeData \n        && (this.noiDungMau.Id != 0\n        || (this.noiDungMau.Ma != null && this.noiDungMau.Ma != \"\")\n        || (this.noiDungMau.Ten != null && this.noiDungMau.Ten != \"\")\n        || (this.noiDungMau.NoiDung != null && this.noiDungMau.NoiDung != \"\"))) {\n        this.dialog\n          .open(ConfirmComponent, {\n            disableClose: false,\n            width: \"400px\",\n            data: {\n              Title: \"Xác nhận\",\n              Message: \"Có dữ liệu chưa được lưu, bạn có muốn lưu dữ liệu không?\",\n            },\n          })\n          .afterClosed()\n          .subscribe((result) => {\n            if (result == \"Yes\") {\n              this.luu(null, false, true);\n            }\n            else\n            {\n              this.taoMoiObjNoiDUngMau();\n            }\n          });\n      }\n      else\n      {\n        this.taoMoiObjNoiDUngMau();\n      }\n    }\n    else {\n      this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  taoMoiObjNoiDUngMau(){\n    this.noiDungMau = new NoiDungMauKhamBenh();\n    this.isShow = true;\n    this.isChangeData = false;\n  }\n\n  xoa(id: number) {\n    if (this.authService.hasPermission(this.documentType, SecurityOperation.Delete)) {\n      this.dialog.open(ConfirmComponent, {\n        disableClose: false,\n        width: \"400px\",\n        data: {\n          Title: \"Xác nhận\",\n          Message: CommonService.format(SystemMessage.MessConfirm, [\n            \"xóa\",\n          ]),\n        },\n      })\n        .afterClosed()\n        .subscribe((result) => {\n          if (result == \"Yes\") {\n            this.apiService.delete(\"KhamBenh/XoaThongTinNoiDungMauKhamBenh?id=\" + id).subscribe(() => {\n              this.gridChild.search();\n              if (id == this.noiDungMau.Id) {\n                this.huy();\n              }\n              this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, ['Xóa']));\n            }, (err: ApiError) => {\n              this.notificationService.showError(err.Message);\n            });\n          }\n      });\n    }\n    else {\n      this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  luu(id: number = null, isXem: boolean = false, isThem: boolean = false){\n    this.showPopupLoadingData();\n    if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n      this.apiService.post<any>(\"KhamBenh/LuuThongTinNoiDungMauKhamBenh\", this.noiDungMau).subscribe(res => {\n        this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Lưu\"]));\n        if(isXem)\n        {\n          this.xuLyGetData(id, false);\n        }\n        else if(isThem){\n          this.taoMoiObjNoiDUngMau();\n        }\n        else\n        {\n          this.huy();\n        }\n        this.gridChild.search();\n        this.closePopupLoadingData();\n      }, err => {\n        this.validationErrors = err.ValidationErrors;\n        if (err.Message != \"Validation Failed\") {\n          this.notificationService.showError(err.Message);\n        }\n        this.closePopupLoadingData();\n      })\n    }\n    else {\n      this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  changeData(){\n    this.isChangeData = true;\n  }\n\n  close()\n  {\n    this.dialogRef.close();\n  }\n}\n","export default \"image-drawing > div {\\n  width: 100%;\\n  height: 100%;\\n  border: 1px solid #ccc !important;\\n  overflow: auto;\\n}\\n\\nimage-drawing > div .canvas-container {\\n  width: 100% !important;\\n}\\n\\nimage-drawing .toolbar {\\n  position: relative !important;\\n  overflow: initial;\\n}\\n\\nimage-drawing .toolbar .tools {\\n  width: 100% !important;\\n  padding: 10px !important;\\n  margin: 0 !important;\\n  box-shadow: none !important;\\n  position: relative !important;\\n  display: block !important;\\n}\\n\\nimage-drawing .toolbar .tools .row {\\n  width: 50% !important;\\n  float: left !important;\\n}\\n\\nimage-drawing .toolbar .buttons {\\n  position: absolute !important;\\n  right: 0 !important;\\n  bottom: -50px !important;\\n  display: block !important;\\n  margin: 0 !important;\\n}\\n\\nimage-drawing .toolbar .buttons .button {\\n  color: #000 !important;\\n  float: right !important;\\n  margin: 0 !important;\\n}\\n\\nimage-drawing .toolbar .buttons .button.btn-primary {\\n  background: #005dab;\\n  color: #fff !important;\\n}\\n\\n.btn-loading {\\n  padding: 15px;\\n  background: #fff;\\n  position: absolute;\\n  right: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvcGhhdS10aHVhdC10aHUtdGh1YXQtcG9wdXAtY2hvbi1hbmgvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxraGFtLWJlbmhcXGtoYW0tYmVuaFxcbGFuLWtoYW0taGllbi10YWlcXHBoYXUtdGh1YXQtdGh1LXRodWF0LXBvcHVwLWNob24tYW5oXFxwaGF1LXRodWF0LXRodS10aHVhdC1wb3B1cC1jaG9uLWFuaC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvcGhhdS10aHVhdC10aHUtdGh1YXQtcG9wdXAtY2hvbi1hbmgvcGhhdS10aHVhdC10aHUtdGh1YXQtcG9wdXAtY2hvbi1hbmguY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGlDQUFBO0VBQ0EsY0FBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7QUNDRjs7QURFQTtFQUNFLDZCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURFQTtFQUNFLHNCQUFBO0VBQ0Esd0JBQUE7RUFDQSxvQkFBQTtFQUNBLDJCQUFBO0VBQ0EsNkJBQUE7RUFDQSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UscUJBQUE7RUFDQSxzQkFBQTtBQ0NGOztBREVBO0VBQ0UsNkJBQUE7RUFDQSxtQkFBQTtFQUNBLHdCQUFBO0VBQ0EseUJBQUE7RUFDQSxvQkFBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0FDQ0Y7O0FERUE7RUFDRSxtQkFBQTtFQUNBLHNCQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLFFBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL3BoYXUtdGh1YXQtdGh1LXRodWF0LXBvcHVwLWNob24tYW5oL3BoYXUtdGh1YXQtdGh1LXRodWF0LXBvcHVwLWNob24tYW5oLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW1hZ2UtZHJhd2luZyA+IGRpdiB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2MgIWltcG9ydGFudDtcbiAgb3ZlcmZsb3c6IGF1dG87XG59XG5cbmltYWdlLWRyYXdpbmcgPiBkaXYgLmNhbnZhcy1jb250YWluZXIge1xuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xufVxuXG5pbWFnZS1kcmF3aW5nIC50b29sYmFyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7XG4gIG92ZXJmbG93OiBpbml0aWFsO1xufVxuXG5pbWFnZS1kcmF3aW5nIC50b29sYmFyIC50b29scyB7XG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmc6IDEwcHggIWltcG9ydGFudDtcbiAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcbiAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7XG4gIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmltYWdlLWRyYXdpbmcgLnRvb2xiYXIgLnRvb2xzIC5yb3cge1xuICB3aWR0aDogNTAlICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiBsZWZ0ICFpbXBvcnRhbnQ7XG59XG5cbmltYWdlLWRyYXdpbmcgLnRvb2xiYXIgLmJ1dHRvbnMge1xuICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcbiAgcmlnaHQ6IDAgIWltcG9ydGFudDtcbiAgYm90dG9tOiAtNTBweCAhaW1wb3J0YW50O1xuICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbn1cblxuaW1hZ2UtZHJhd2luZyAudG9vbGJhciAuYnV0dG9ucyAuYnV0dG9uIHtcbiAgY29sb3I6ICMwMDAgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xufVxuXG5pbWFnZS1kcmF3aW5nIC50b29sYmFyIC5idXR0b25zIC5idXR0b24uYnRuLXByaW1hcnkge1xuICBiYWNrZ3JvdW5kOiAjMDA1ZGFiO1xuICBjb2xvcjogI2ZmZiAhaW1wb3J0YW50O1xufVxuXG4uYnRuLWxvYWRpbmcge1xuICBwYWRkaW5nOiAxNXB4O1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xufSIsImltYWdlLWRyYXdpbmcgPiBkaXYge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjICFpbXBvcnRhbnQ7XG4gIG92ZXJmbG93OiBhdXRvO1xufVxuXG5pbWFnZS1kcmF3aW5nID4gZGl2IC5jYW52YXMtY29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbn1cblxuaW1hZ2UtZHJhd2luZyAudG9vbGJhciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O1xuICBvdmVyZmxvdzogaW5pdGlhbDtcbn1cblxuaW1hZ2UtZHJhd2luZyAudG9vbGJhciAudG9vbHMge1xuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAxMHB4ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O1xuICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xufVxuXG5pbWFnZS1kcmF3aW5nIC50b29sYmFyIC50b29scyAucm93IHtcbiAgd2lkdGg6IDUwJSAhaW1wb3J0YW50O1xuICBmbG9hdDogbGVmdCAhaW1wb3J0YW50O1xufVxuXG5pbWFnZS1kcmF3aW5nIC50b29sYmFyIC5idXR0b25zIHtcbiAgcG9zaXRpb246IGFic29sdXRlICFpbXBvcnRhbnQ7XG4gIHJpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIGJvdHRvbTogLTUwcHggIWltcG9ydGFudDtcbiAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbiAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG59XG5cbmltYWdlLWRyYXdpbmcgLnRvb2xiYXIgLmJ1dHRvbnMgLmJ1dHRvbiB7XG4gIGNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodCAhaW1wb3J0YW50O1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbn1cblxuaW1hZ2UtZHJhd2luZyAudG9vbGJhciAuYnV0dG9ucyAuYnV0dG9uLmJ0bi1wcmltYXJ5IHtcbiAgYmFja2dyb3VuZDogIzAwNWRhYjtcbiAgY29sb3I6ICNmZmYgIWltcG9ydGFudDtcbn1cblxuLmJ0bi1sb2FkaW5nIHtcbiAgcGFkZGluZzogMTVweDtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbn0iXX0= */\"","import {\n    Component,\n    OnInit,\n    ViewChild,\n    Inject,\n    ViewEncapsulation,\n    TemplateRef,\n    ChangeDetectorRef,\n    NgZone,\n} from \"@angular/core\";\nimport { stagger60ms } from \"src/@vex/animations/stagger.animation\";\nimport { fadeInUp400ms } from \"src/@vex/animations/fade-in-up.animation\";\nimport { DocumentType } from \"src/app/shared/enum/document-type.enum\";\nimport { SecurityOperation } from \"src/app/shared/enum/security-operation.enum\";\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from \"@angular/material\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport {\n    ThongTinBoPhanCoThe,\n    DanhSachThongTinAnh,\n} from '../../../kham-benh.model';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { HttpParams } from '@angular/common/http';\nimport { ImageDrawingComponent } from 'ngx-image-drawing';\n\ndeclare var jQuery: any;\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-phau-thuat-thu-thuat-popup-chon-anh',\n    templateUrl: './phau-thuat-thu-thuat-popup-chon-anh.component.html',\n    styleUrls: ['./phau-thuat-thu-thuat-popup-chon-anh.component.scss'],\n    animations: [stagger60ms, fadeInUp400ms],\n    encapsulation: ViewEncapsulation.None\n})\nexport class PhauThuatThuThuatPopUpChonAnhComponent implements OnInit {\n    icClose = icClose;\n    public url = '';\n    public thongTinBoPhanCoThe = {} as ThongTinBoPhanCoThe;\n    public sanhSachThongTinAnhs = {} as DanhSachThongTinAnh;\n    documentType: DocumentType = DocumentType.KhamBenh;\n    previewUrl: any = null;\n    ChonThongTin = 1;\n    boPhanCoTheCurrent: any = null;\n    loading:boolean=false;\n    @ViewChild('loadingTemplate', { static: true }) loadingTemplate: TemplateRef<any>;\n    //@ViewChild('imageDrawing', { static: true }) imageDrawing: ImageDrawingComponent;\n\n    private imageDrawing: ImageDrawingComponent;\n    @ViewChild('imageDrawing', { static: false }) set content(content: ImageDrawingComponent) {\n      if (content) {\n        this.imageDrawing = content;\n      }\n    }\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public data: any,\n        private dialog: MatDialog,\n        private apiService: ApiService,\n        private authService: AuthService,\n        private notificationService: NotificationService,\n        private dialogRef: MatDialogRef<PhauThuatThuThuatPopUpChonAnhComponent>,\n        private ref: ChangeDetectorRef,\n        private ngZone: NgZone\n    ) { }\n\n    ngOnInit() {\n        this.thongTinBoPhanCoThe = new ThongTinBoPhanCoThe();\n    }\n\n    close() {\n        this.dialog.closeAll();\n    }\n\n    uploadFileDone(file: any) {\n        if (file == null) {\n            this.sanhSachThongTinAnhs.Url = '';\n            return;\n        }\n\n        let duongDan = file.DuongDan;\n        if (file.IsExistingFile !== true) {\n            duongDan = file.DuongDanTmp;\n        }\n        const params = new HttpParams({\n            fromObject: {\n                tenGuid: file.TenGuid,\n                duongDan,\n            },\n        });\n        this.apiService\n            .get<any>('TaiLieuDinhKem/GetTaiLieuUrl', params)\n            .subscribe((resp) => {\n                if (resp) {\n                    this.sanhSachThongTinAnhs.Url = resp;\n                }\n            });\n    }\n\n    onSelectionChange(data: any) {\n        if (data === undefined) {\n            this.sanhSachThongTinAnhs.Url = '';\n            if (this.imageDrawing !== undefined) {\n                this.imageDrawing.removeImage();\n            }\n            return;\n        }\n\n        if (\n            this.authService.hasPermission(this.documentType, SecurityOperation.View)\n        ) {\n            this.apiService\n                .get<any>(\n                    'KhamBenh/GetHinhPhauThuatDuaTrenBoPhan?boPhan=' + data.DisplayName\n                )\n                .subscribe(resultData => {\n                    if (resultData !== undefined && resultData != null) {\n                        this.sanhSachThongTinAnhs.Url = resultData;\n                    }\n                });\n        }\n    }\n\n    save(blob: Blob) {\n        if (this.imageDrawing != undefined) {\n            var self = this;\n            self.loading = true;\n            self.ref.detectChanges();\n            \n            if (blob != undefined) {\n\n                //this.sanhSachThongTinAnhs.Url = blob;\n                let reader = new FileReader();\n                reader.readAsDataURL(blob); // converts the blob to base64 and calls onload\n                reader.onload = (e: any) => {\n                    self.sanhSachThongTinAnhs.Url = e.target.result;\n                    const image = new Image();\n                    image.src = e.target.result;\n                    image.onload = (rs) => {\n                        const imgBase64Path = e.target.result;\n                        self.sanhSachThongTinAnhs.Url = imgBase64Path;\n                    };\n                };\n                reader.onloadend = function (e) {\n                    if (self.sanhSachThongTinAnhs.Url != null) {\n                        \n                        self.loading = false;\n                        // self.dialogRef.close(self.sanhSachThongTinAnhs);\n                        self.ngZone.run(() => {\n                            self.dialogRef.close(self.sanhSachThongTinAnhs);\n                          });\n                    }\n                    else {\n                        self.loading = false;\n                    }\n                }\n            }\n            else {\n                self.loading = false;\n            }\n        }\n    }\n\n    cancel() {\n        this.sanhSachThongTinAnhs.Url = '';\n        if (this.imageDrawing !== undefined) {\n            this.imageDrawing.removeImage();\n            this.imageDrawing.clearCanvas();\n        }\n        this.boPhanCoTheCurrent = null;\n        this.close();\n    }\n\n    showErrorIfNoImage(data: any) {\n        if (this.imageDrawing !== undefined && this.imageDrawing.hasImage === false\n            && data.path !== undefined && data.path[0].innerHTML === 'Lưu') {\n            this.notificationService.showError('Không có ảnh để lưu');\n        }\n    }\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n  padding-bottom: 10px;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\n.styleInChiDinh {\\n  text-align: right;\\n  float: right;\\n}\\n\\n.po-h {\\n  color: #005dab;\\n  position: relative;\\n  top: 5px;\\n  left: 5px;\\n}\\n\\n.po-h mat-icon {\\n  display: contents;\\n}\\n\\n.icon-close {\\n  position: absolute;\\n  z-index: 9;\\n  right: 0;\\n  cursor: pointer;\\n}\\n\\n.icon-close:hover {\\n  color: #005dab;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvcGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmgvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxraGFtLWJlbmhcXGtoYW0tYmVuaFxcbGFuLWtoYW0taGllbi10YWlcXHBoYXUtdGh1YXQtdGh1LXRodWF0LXR1b25nLXRyaW5oXFxwaGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvcGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmgvcGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmguY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxvQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtFQUNBLG9CQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFFBQUE7RUFDQSxlQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9sYW4ta2hhbS1oaWVuLXRhaS9waGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC9waGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtO1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW07XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbTtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbi5zdHlsZUluQ2hpRGluaCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbi5wby1oIHtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA1cHg7XG4gIGxlZnQ6IDVweDtcbn1cblxuLnBvLWggbWF0LWljb24ge1xuICBkaXNwbGF5OiBjb250ZW50cztcbn1cblxuLmljb24tY2xvc2Uge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDk7XG4gIHJpZ2h0OiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5pY29uLWNsb3NlOmhvdmVyIHtcbiAgY29sb3I6ICMwMDVkYWI7XG59IiwiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxuLnN0eWxlSW5DaGlEaW5oIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuLnBvLWgge1xuICBjb2xvcjogIzAwNWRhYjtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDVweDtcbiAgbGVmdDogNXB4O1xufVxuXG4ucG8taCBtYXQtaWNvbiB7XG4gIGRpc3BsYXk6IGNvbnRlbnRzO1xufVxuXG4uaWNvbi1jbG9zZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogOTtcbiAgcmlnaHQ6IDA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmljb24tY2xvc2U6aG92ZXIge1xuICBjb2xvcjogIzAwNWRhYjtcbn0iXX0= */\"","import {\n    Component,\n    OnInit,\n    Input,\n} from '@angular/core';\nimport { stagger60ms } from 'src/@vex/animations/stagger.animation';\nimport { fadeInUp400ms } from 'src/@vex/animations/fade-in-up.animation';\nimport { MatDialog } from '@angular/material';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport {\n    PhauThuatThuThuatTuongTrinh,\n    LuocDoPhauThuatThuThuat,\n    BenhVienHangDoi,\n} from '../../../kham-benh.model';\nimport {\n    PhauThuatThuThuatPopUpChonAnhComponent\n} from '../phau-thuat-thu-thuat-popup-chon-anh/phau-thuat-thu-thuat-popup-chon-anh.component';\nimport icImages from '@iconify/icons-ic/baseline-add-photo-alternate';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport { ViewImagePdfComponent } from 'src/app/shared/component/dialogs/view-image-pdf/view-image-pdf.component';\nimport icClose from '@iconify/icons-ic/close';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-phau-thuat-thu-thuat-tuong-trinh',\n    templateUrl: './phau-thuat-thu-thuat-tuong-trinh.component.html',\n    styleUrls: ['./phau-thuat-thu-thuat-tuong-trinh.component.scss'],\n    animations: [stagger60ms, fadeInUp400ms],\n})\n\nexport class PhauThuatThuThuatTuongTrinhComponent implements OnInit {\n    validationErrors: any;\n    khoaPhong: string;\n    chanDoanICD: string;\n    moTaICD: string;\n    @Input() thongTinBenhNhan: BenhVienHangDoi = null;\n    icImages = icImages;\n    icAddCircle = icAddCircle;\n    icClose = icClose;\n    documentType: DocumentType = DocumentType.KhamBenh;\n    showValidationMoTa = false;\n    popup: any;\n\n    constructor(\n        private dialog: MatDialog,\n        private apiService: ApiService,\n        private authService: AuthService,\n        private notificationService: NotificationService\n    ) { }\n\n    ngOnInit() {\n        this.documentType = DocumentType.KhamBenh;\n        this.loadingPage();\n        const phongBenhVienId = this.authService.getPhongLamViecId();\n        const nhanVienId = this.authService.getAccessUser().Id;\n        const yeuCauKhamBenhId = this.thongTinBenhNhan.YeuCauKhamBenhId;\n        this.getThongTinTuongTrinh(phongBenhVienId, yeuCauKhamBenhId);\n        if (this.thongTinBenhNhan.YeuCauKhamBenh.YeuCauDichVuKyThuatPhauThuat === undefined) {\n            this.getListPhauThuatThuThuatTemplate(phongBenhVienId, nhanVienId, yeuCauKhamBenhId);\n        }\n    }\n\n    getThongTinTuongTrinh(phongBenhVienId: any, yeuCauKhamBenhId: any) {\n        if (\n            this.authService.hasPermission(this.documentType, SecurityOperation.View)\n        ) {\n            this.apiService\n                .get<any>(\n                    'KhamBenh/GetThongTinTuongTrinh?phongBenhVienId=' +\n                    phongBenhVienId + '&&yeuCauKhamBenhId=' + yeuCauKhamBenhId\n                )\n                .subscribe((resultData) => {\n                    if (resultData !== undefined && resultData != null) {\n                        this.khoaPhong = resultData.TenKhoaPhong;\n                        this.chanDoanICD = resultData.ChanDoanVaoKhoa;\n                        this.moTaICD = resultData.MoTa;\n                        if (this.thongTinBenhNhan.YeuCauKhamBenh.YeuCauDichVuKyThuatPhauThuat !== undefined) {\n                            this.closePopupLoadingData();\n                        }\n                    }\n                }, (err: any) => {\n                    if (err.Status === 0) {\n                        this.closePopupLoadingData();\n                    }\n                });\n        }\n    }\n\n    getListPhauThuatThuThuatTemplate(phongBenhVienId: any, nhanVienId: number, yeuCauKhamBenhId: any) {\n        if (\n            this.authService.hasPermission(this.documentType, SecurityOperation.View)\n        ) {\n            this.apiService\n                .get<any>(\n                    'KhamBenh/GetListPhauThuatThuThuat?phongBenhVienId=' +\n                    phongBenhVienId + '&nhanVienId=' + nhanVienId + '&yeuCauKhamBenhId=' + yeuCauKhamBenhId\n                )\n                .subscribe((resultData) => {\n                    if (resultData !== undefined && resultData != null) {\n                        this.thongTinBenhNhan.YeuCauKhamBenh.YeuCauDichVuKyThuatPhauThuat = resultData;\n                        const idYcDvKts = [];\n                        this.thongTinBenhNhan.YeuCauKhamBenh.YeuCauDichVuKyThuatPhauThuat.forEach(element => {\n                            idYcDvKts.push(element.Id);\n                        });\n                        const listDichVuKyThuatIdModel: any = {\n                            Ids: idYcDvKts\n                        };\n                        this.apiService\n                            .post<any>(\n                                'KhamBenh/GetListLuocDoPhauThuat', listDichVuKyThuatIdModel\n                            )\n                            // tslint:disable-next-line: no-shadowed-variable\n                            .subscribe(resultData => {\n                                this.thongTinBenhNhan.YeuCauKhamBenh.YeuCauDichVuKyThuatPhauThuat.forEach(element => {\n                                    if (element.LuocDoPttts === undefined) {\n                                        element.LuocDoPttts = [];\n                                    }\n\n                                    resultData.forEach(elementResultData => {\n                                        if (element.Id === elementResultData.IdYeuCauDichVuKyThuat) {\n                                            let luocDoCurrent = new LuocDoPhauThuatThuThuat();\n                                            luocDoCurrent = {\n                                                IdYeuCauDichVuKyThuat: elementResultData.IdYeuCauDichVuKyThuat,\n                                                Id: elementResultData.Id,\n                                                LuocDoPhauThuat: elementResultData.LuocDoPhauThuat,\n                                                MoTa: elementResultData.MoTa\n                                            };\n\n\n                                            element.LuocDoPttts.push(luocDoCurrent);\n                                        }\n                                    });\n                                    this.closePopupLoadingData();\n                                });\n                            });\n                    }\n                });\n        }\n    }\n\n    UpLoadFile(currentData: PhauThuatThuThuatTuongTrinh) {\n        this.dialog\n            .open(PhauThuatThuThuatPopUpChonAnhComponent, {\n                disableClose: true,\n                width: '1000px',\n                data: 'KetQua',\n            })\n            .afterClosed()\n            .subscribe(result => {\n                if (result === undefined) {\n                    return;\n                }\n\n                let luocDoCurrent = new LuocDoPhauThuatThuThuat();\n                luocDoCurrent = {\n                    IdYeuCauDichVuKyThuat: currentData.Id,\n                    Id: 0,\n                    LuocDoPhauThuat: result.Url,\n                    MoTa: result.MoTa\n                };\n\n                if (currentData.LuocDoPttts === undefined) {\n                    currentData.LuocDoPttts = [];\n                }\n                currentData.LuocDoPttts.push(luocDoCurrent);\n                this.onChangeData();\n            });\n    }\n\n    onChangePhauThuatThuThuat(data: any, itemPhauThuatThuThuat: PhauThuatThuThuatTuongTrinh) {\n        if (data === undefined) {\n            itemPhauThuatThuThuat.LoaiPTTTDisplay = null;\n            itemPhauThuatThuThuat.PhuongPhapPhauThuatThuThuatDisplay = null;\n            this.onChangeData();\n            return;\n        }\n\n        itemPhauThuatThuThuat.PhuongPhapPhauThuatThuThuatDisplay = data.DisplayName;\n        this.onChangeData();\n\n        if (\n            this.authService.hasPermission(this.documentType, SecurityOperation.View)\n        ) {\n            this.apiService\n                .get<any>(\n                    'KhamBenh/GetLoaiPtttDisplay?ma=' + data.KeyId\n                )\n                .subscribe((resultData) => {\n                    if (resultData !== undefined && resultData != null) {\n                        itemPhauThuatThuThuat.LoaiPTTTDisplay = resultData.LoaiPTTTDisplay;\n                        itemPhauThuatThuThuat.LoaiPTTTEnum = resultData.LoaiPTTTEnum;\n                    }\n                });\n        }\n    }\n\n    OnChangePhuongPhapVoCam(dataEvent: any, dataItem: any) {\n        const self = this;\n\n        if (dataEvent === undefined) {\n            dataItem.PhuongPhapVoCamId = null;\n            dataItem.PhuongPhapVoCamDisplay = null;\n            self.onChangeData();\n            return;\n        }\n\n        dataItem.PhuongPhapVoCamId = dataEvent.KeyId;\n        dataItem.PhuongPhapVoCamDisplay = dataEvent.DisplayName;\n        self.onChangeData();\n    }\n\n    OnChangeTinhHinhPttt(dataEvent: any, dataItem: any) {\n        const self = this;\n\n        if (dataEvent === undefined) {\n            dataItem.TinhHinhPttt = null;\n            dataItem.TinhHinhPtttDisplay = null;\n            self.onChangeData();\n            return;\n        }\n\n        dataItem.TinhHinhPttt = dataEvent;\n        dataItem.TinhHinhPtttDisplay = dataEvent.DisplayName;\n        self.onChangeData();\n    }\n\n    OnChangeTaiBien(dataEvent: any, dataItem: any) {\n        const self = this;\n\n        if (dataEvent === undefined) {\n            dataItem.TaiBienPttt = null;\n            dataItem.TaiBienPtttDisplay = null;\n            self.onChangeData();\n            return;\n        }\n\n        dataItem.TaiBienPttt = dataEvent.KeyId;\n        dataItem.TaiBienPtttDisplay = dataEvent.DisplayName;\n        self.onChangeData();\n    }\n\n    OnChangeTuVong(dataEvent: any, dataItem: any) {\n        const self = this;\n\n        if (dataEvent === undefined) {\n            dataItem.TuVongPttt = null;\n            dataItem.TuVongPtttDisplay = null;\n            self.onChangeData();\n            return;\n        }\n\n        dataItem.TuVongPttt = dataEvent.KeyId;\n        dataItem.TuVongPtttDisplay = dataEvent.DisplayName;\n        self.onChangeData();\n    }\n\n    SaveTuongTrinh() {\n        this.validationErrors = [];\n        this.showValidationMoTa = false;\n\n        if (\n            this.authService.hasPermission(this.documentType, SecurityOperation.Update)\n        ) {\n            this.loadingPage();\n            const phauThuatTuongTrinh: any = {\n                ListPttt: this.thongTinBenhNhan.YeuCauKhamBenh.YeuCauDichVuKyThuatPhauThuat,\n                YeuCauKhamBenhId: this.thongTinBenhNhan.YeuCauKhamBenhId,\n            };\n            this.apiService\n                .post<any>(\n                    'KhamBenh/SaveTuongTrinh', phauThuatTuongTrinh\n                )\n                .subscribe((resultData) => {\n                    if (resultData !== undefined && resultData != null) {\n                        this.closePopupLoadingData();\n                        if (resultData.Error === false) {\n                            this.notificationService.showSuccess(resultData.Message);\n                        }\n                    }\n                }, (errors: any) => {\n                    this.closePopupLoadingData();\n                    if (errors.ValidationErrors != null) {\n                        this.validationErrors = errors.ValidationErrors;\n\n\n                        if (this.thongTinBenhNhan.YeuCauKhamBenh.YeuCauDichVuKyThuatPhauThuat.length !== 0 &&\n                            this.validationErrors.some(x => x.Field.includes('MoTa'))) {\n                            this.showValidationMoTa = true;\n                            // tslint:disable-next-line: prefer-for-of\n                            for (let index = 0; index < this.thongTinBenhNhan.YeuCauKhamBenh.YeuCauDichVuKyThuatPhauThuat.length; index++) {\n                                this.validationErrors.filter(x => x.Field.includes('MoTa')).forEach(validation => {\n                                    if (validation.Field.includes('ListPttt[' + index + ']')) {\n                                        validation.Field = 'ListPttt[' + index + '].MoTa';\n                                    }\n                                });\n                            }\n                        }\n                    }\n                    if (errors.ValidationErrors == null) {\n                        this.notificationService.showError(errors.Message);\n                    }\n                });\n        }\n    }\n\n\n    DeleteAnh(thongTinAnh: LuocDoPhauThuatThuThuat, item: PhauThuatThuThuatTuongTrinh) {\n        if (item.LuocDoPttts.length !== 0) {\n            for (const luocDoItem of item.LuocDoPttts) {\n                // tslint:disable-next-line: no-var-keyword\n                var position = item.LuocDoPttts.indexOf(thongTinAnh);\n                break;\n            }\n        }\n        item.LuocDoPttts.splice(position, 1);\n        this.onChangeData();\n    }\n\n    ViewImage(thongTinAnh: LuocDoPhauThuatThuThuat) {\n        if (thongTinAnh.MoTa === undefined) {\n            thongTinAnh.MoTa = null;\n        }\n\n        this.dialog.open(ViewImagePdfComponent, {\n            disableClose: false,\n            width: '1000px',\n            height: '600px',\n            data: {\n                Type: 'Image', Title: 'Xem ảnh', Description: (thongTinAnh.MoTa !== null ? thongTinAnh.MoTa : ''),\n                Src: thongTinAnh.LuocDoPhauThuat\n            }\n        });\n    }\n\n    onChangeData() {\n        const self = this;\n        self.thongTinBenhNhan.YeuCauKhamBenh.IsChangePhauThuat = true;\n    }\n\n    loadingPage() {\n        this.popup = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: 'Đang lưu dữ liệu...' }\n        });\n    }\n\n    closePopupLoadingData() {\n        this.popup.close();\n    }\n\n    OnChangeCdTruocPhauThuat(dataEvent: any, dataItem: any) {\n        const self = this;\n\n        if (dataEvent === undefined) {\n            dataItem.ICDTruocPhauThuatId = null;\n            dataItem.ICDTruocPhauThuatDisplay = null;\n            self.onChangeData();\n            return;\n        }\n\n        dataItem.ICDTruocPhauThuatId = dataEvent.KeyId;\n        dataItem.ICDTruocPhauThuatDisplay = dataEvent.DisplayName;\n        self.onChangeData();\n    }\n\n    OnChangeCdSauPhauThuat(dataEvent: any, dataItem: any) {\n        const self = this;\n\n        if (dataEvent === undefined) {\n            dataItem.ICDSauPhauThuatId = null;\n            dataItem.ICDSauPhauThuatDisplay = null;\n            self.onChangeData();\n            return;\n        }\n\n        dataItem.ICDSauPhauThuatId = dataEvent.KeyId;\n        dataItem.ICDSauPhauThuatDisplay = dataEvent.DisplayName;\n        self.onChangeData();\n    }\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 0;\\n  padding-bottom: 100%;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvcGhpZXUtaW4teGV0LW5naGllbS1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxccGhpZXUtaW4teGV0LW5naGllbS1wb3B1cFxccGhpZXUtaW4teGV0LW5naGllbS1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvcGhpZXUtaW4teGV0LW5naGllbS1wb3B1cC9waGlldS1pbi14ZXQtbmdoaWVtLXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsU0FBQTtFQUNBLG9CQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvcGhpZXUtaW4teGV0LW5naGllbS1wb3B1cC9waGlldS1pbi14ZXQtbmdoaWVtLXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDA7XG4gIHBhZGRpbmctYm90dG9tOiAxMDAlO1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn0iLCIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMDtcbiAgcGFkZGluZy1ib3R0b206IDEwMCU7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSJdfQ== */\"","import { Component, OnInit, Inject } from \"@angular/core\";\nimport { MAT_DIALOG_DATA, MatDialog } from \"@angular/material\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { PhieuInXetNghiemVo } from \"../../../kham-benh.model\";\n\n@Component({\n  selector: \"app-phieu-in-xet-nghiem-popup\",\n  templateUrl: \"./phieu-in-xet-nghiem-popup.component.html\",\n  styleUrls: [\"./phieu-in-xet-nghiem-popup.component.scss\"],\n})\nexport class PhieuInXetNghiemComponent implements OnInit {\n  icClose = icClose;\n  phieuInXetNghiemVo = new PhieuInXetNghiemVo;\n  srcDatahtml: string[] = [];\n  srcData: string[] = [];\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    public sanitizer: DomSanitizer,\n    private apiService: ApiService,\n    private dialog: MatDialog\n  ) {\n  }\n\n  ngOnInit() {\n    if (window.location.protocol == \"http:\") {\n      this.phieuInXetNghiemVo.HostingName = \"http://\" + window.location.host;\n    } else {\n      this.phieuInXetNghiemVo.HostingName = \"http://\" + window.location.host;\n    }\n    this.phieuInXetNghiemVo.PhienXetNghiemId = this.data.phienXetNghiemId;\n    this.phieuInXetNghiemVo.NhomDichVuBenhVienId = this.data.nhomDichVuBenhVienId;\n    this.apiService.post<any>(\"KhamBenh/PhieuInNhomXetNghiem\", this.phieuInXetNghiemVo)\n      .subscribe((res) => {\n        res.forEach(element => {\n          this.srcDatahtml.push(element.Html);\n          this.srcData.push(\"data:text/html;charset=utf-8,\" + encodeURIComponent(element.Html));\n        });\n      });\n  }\n\n  loaiPhieuIn: any;\n  InPhieu(loaiPhieu: any) {\n    this.loaiPhieuIn = loaiPhieu;\n  }\n\n  getSharedPrintForm(id: any) {\n    return new Promise((resolve) => {\n      this.srcDatahtml.forEach(e => {\n        resolve(e);\n      });     \n    });\n  }\n\n  replaceAll(str, find, replace) {\n    return str.replace(new RegExp(find, \"g\"), replace);\n  }\n  close() {\n    this.dialog.closeAll();\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL3BoaWV1LWtoYW0tYmVuaC1wb3B1cC9waGlldS1raGFtLWJlbmgtcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-phieu-kham-benh-popup',\n  templateUrl: './phieu-kham-benh-popup.component.html',\n  styleUrls: ['./phieu-kham-benh-popup.component.scss']\n})\nexport class PhieuKhamBenhPopupComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.container-iframe iframe .pagebreak {\\n  border-bottom: 2px dashed #000;\\n  margin-bottom: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvcGhpZXUta2hhbS1iZW5oLXZhby12aWVuLXBvcHVwL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXGxhbi1raGFtLWhpZW4tdGFpXFxwaGlldS1raGFtLWJlbmgtdmFvLXZpZW4tcG9wdXBcXHBoaWV1LWtoYW0tYmVuaC12YW8tdmllbi1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvcGhpZXUta2hhbS1iZW5oLXZhby12aWVuLXBvcHVwL3BoaWV1LWtoYW0tYmVuaC12YW8tdmllbi1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtFQUNBLG1CQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9sYW4ta2hhbS1oaWVuLXRhaS9waGlldS1raGFtLWJlbmgtdmFvLXZpZW4tcG9wdXAvcGhpZXUta2hhbS1iZW5oLXZhby12aWVuLXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwMHB4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIC5wYWdlYnJlYWsge1xuICBib3JkZXItYm90dG9tOiAycHggZGFzaGVkICMwMDA7XG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XG59IiwiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwMHB4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIC5wYWdlYnJlYWsge1xuICBib3JkZXItYm90dG9tOiAycHggZGFzaGVkICMwMDA7XG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XG59Il19 */\"","import { Component, OnInit, Optional, Inject } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\n\n@Component({\n  selector: 'app-phieu-kham-benh-vao-vien-popup',\n  templateUrl: './phieu-kham-benh-vao-vien-popup.component.html',\n  styleUrls: ['./phieu-kham-benh-vao-vien-popup.component.scss']\n})\nexport class PhieuKhamBenhVaoVienPopupComponent implements OnInit {\n  icClose = icClose;\n  src: string = \"\";\n  title: string = \"\";\n  popupLoadingData: any;\n  file: any;\n  fileUrl: any;\n  length: number = 0;\n  constructor(private dialogRef: MatDialogRef<PhieuKhamBenhVaoVienPopupComponent>,\n    public sanitizer: DomSanitizer,\n    private apiService: ApiService,\n    private dialog: MatDialog,\n    private notificationService: NotificationService,\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\n  ) { }\n  ngOnInit() {\n    this.getALlFilePDFFromHtml(this.data.html);\n  }\n  close() {\n    this.dialogRef.close();\n  }\n\n  getALlFilePDFFromHtml(arrHtml: any[]) {\n    this.length = arrHtml.length;\n    this.showPopupLoadingData();\n    const obj = {\n      Htmls: arrHtml,\n      TenFile: 'PhieuKhamBenh',\n      LaPhieuKhamBenh: true\n    };\n    this.apiService.postExportPdf<any>('KhamBenh/GetFilePDFFromHtmls', obj).subscribe(\n      file => {\n        const newBlob = new Blob([file], { type: 'application/pdf' });\n        const datalocalURL = window.URL.createObjectURL(newBlob);\n        this.fileUrl = datalocalURL;\n        this.file = file;\n        this.closePopupLoadingData();\n      },\n      (err: ApiError) => {\n        if (err.Message !== 'Validation Failed') {\n          this.notificationService.showError(err.Message);\n        }\n        this.closePopupLoadingData();\n      });\n  }\n\n  downloadAllFile() {\n    const dateTimeNow = new Date();\n    CommonService.downLoadFile(this.file, 'application/pdf', 'PhieuKhamBenh' + dateTimeNow.getFullYear() + '.pdf');\n  }\n\n  showPopupLoadingData() {\n    if (this.popupLoadingData == null\n      || this.popupLoadingData.openDialogs == null\n      || (this.popupLoadingData.openDialogs != null && this.popupLoadingData.openDialogs.length === 0)) {\n      this.popupLoadingData = this.dialog.open(LoadingComponent, {\n        disableClose: true,\n        width: '200px',\n        height: '90px',\n        data: { Title: 'Đang tải dữ liệu...' },\n      });\n    }\n  }\n\n  closePopupLoadingData() {\n    if (this.popupLoadingData) {\n      this.popupLoadingData.close();\n    }\n  }\n\n  getSharedPrintForm() {\n    let html = this.data.html.replace(\"<p  style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'><th>PHIẾU KHÁM BỆNH</th></p>\", \"\")\n      .replace(\"<p  style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'><th>PHIẾU KHÁM BỆNH VÀO VIỆN</th></p>\", \"\");\n    return new Promise(resolve => {\n      resolve(html);\n      this.close();\n    });\n  }\n}\n","export default \".md-primary {\\n  color: white;\\n  background-color: #005dab;\\n}\\n\\n.form-footer {\\n  margin-top: 1.34375em;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n  height: auto;\\n}\\n\\nfieldset legend {\\n  display: flex;\\n  align-items: flex-end;\\n  text-transform: uppercase;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvc3VhLXRodW9jLXR1LXZhbi1raGFtLWRvYW4tcG9wdXAvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxraGFtLWJlbmhcXGtoYW0tYmVuaFxcbGFuLWtoYW0taGllbi10YWlcXHN1YS10aHVvYy10dS12YW4ta2hhbS1kb2FuLXBvcHVwXFxzdWEtdGh1b2MtdHUtdmFuLWtoYW0tZG9hbi1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvc3VhLXRodW9jLXR1LXZhbi1raGFtLWRvYW4tcG9wdXAvc3VhLXRodW9jLXR1LXZhbi1raGFtLWRvYW4tcG9wdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0VBQ0EseUJBQUE7QUNDRjs7QURFQTtFQUNFLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLDhCQUFBO0VBQ0Esa0NBQUE7RUFDQSwrQkFBQTtFQUNBLGdDQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7RUFDQSxxQkFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvc3VhLXRodW9jLXR1LXZhbi1raGFtLWRvYW4tcG9wdXAvc3VhLXRodW9jLXR1LXZhbi1raGFtLWRvYW4tcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWQtcHJpbWFyeSB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNWRhYjtcbn1cblxuLmZvcm0tZm9vdGVyIHtcbiAgbWFyZ2luLXRvcDogMS4zNDM3NWVtO1xufVxuXG5maWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xuICBoZWlnaHQ6IGF1dG87XG59XG5cbmZpZWxkc2V0IGxlZ2VuZCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59IiwiLm1kLXByaW1hcnkge1xuICBjb2xvcjogd2hpdGU7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDVkYWI7XG59XG5cbi5mb3JtLWZvb3RlciB7XG4gIG1hcmdpbi10b3A6IDEuMzQzNzVlbTtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbiAgaGVpZ2h0OiBhdXRvO1xufVxuXG5maWVsZHNldCBsZWdlbmQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufSJdfQ== */\"","import { Component, OnInit, Inject, ChangeDetectorRef } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MAT_DIALOG_DATA, MatDialogRef, MatDialog } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { parseNumber } from '@progress/kendo-angular-intl';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { KeToaItem } from 'src/app/modules/main/kham-benh/kham-benh.model';\n\n@Component({\n  selector: 'app-sua-thuoc-tu-van-kham-doan-popup',\n  templateUrl: './sua-thuoc-tu-van-kham-doan-popup.component.html',\n  styleUrls: ['./sua-thuoc-tu-van-kham-doan-popup.component.scss']\n})\nexport class SuaThuocTuVanKhamDoanPopupComponent implements OnInit {\n  icClose = icClose;\n  validationErrors: any[] = [];\n  thoiGianDonThuocDataSource: any;\n  popupSavingData: any = null;\n  isSelectDuocPham: boolean = false;\n  documentType: DocumentType = DocumentType.KhamBenh;\n  keToaEdit: KeToaItem = new KeToaItem();\n\n  constructor(\n    private ref: ChangeDetectorRef,\n    private notificationService: NotificationService,\n    private apiService: ApiService,\n    private dialog: MatDialog,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    public dialogRef: MatDialogRef<SuaThuocTuVanKhamDoanPopupComponent>\n  ) { }\n\n  ngOnInit() {\n    this.keToaEdit = this.data;\n    this.getThoiGianDonThuoc();\n\n  }\n  savingPage() {\n    this.popupSavingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang lưu dữ liệu...\" },\n    });\n  }\n\n  closepopupSavingData() {\n    if (this.popupSavingData != undefined && this.popupSavingData != null) {\n      this.popupSavingData.close();\n    }\n  }\n\n\n  onKey(event: any) {\n    if (event.key == \"Enter\") {\n      if (this.isSelectDuocPham != true) {\n        this.luuKeToa();\n      }\n      else {\n        this.isSelectDuocPham = false;\n      }\n    }\n  }\n  getThoiGianDonThuoc() {\n    this.apiService.get<Array<string>>(\"KhamBenh/ThoiGianDonThuoc\").subscribe(\n      resultData => {\n        this.thoiGianDonThuocDataSource = resultData;\n      }\n    )\n  }\n\n  openCombobox(event: any) {\n    if (event) {\n      this.isSelectDuocPham = true;\n    }\n    else {\n      this.isSelectDuocPham = false;\n    }\n  }\n  SoLuongChange() {\n    if (this.keToaEdit.SoLuong != null && this.keToaEdit.LieuDung != null && this.keToaEdit.LieuDung != \"\") {\n      let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.keToaEdit.LieuDung));\n      this.keToaEdit.SoNgayDung = Math.ceil(this.keToaEdit.SoLuong / lieuDung);\n      this.keToaEdit.SangDisplay = null;\n      this.keToaEdit.ThoiGianDungSang = null;\n      this.keToaEdit.TruaDisplay = null;\n      this.keToaEdit.ThoiGianDungTrua = null;\n      this.keToaEdit.ChieuDisplay = null;\n      this.keToaEdit.ThoiGianDungChieu = null;\n      this.keToaEdit.ToiDisplay = null;\n      this.keToaEdit.ThoiGianDungToi = null;\n    }\n    else if (this.keToaEdit.SoLuong == null) {\n      this.keToaEdit.LieuDung = null;\n      this.keToaEdit.SoNgayDung = null;\n      this.keToaEdit.SangDisplay = null;\n      this.keToaEdit.ThoiGianDungSang = null;\n      this.keToaEdit.TruaDisplay = null;\n      this.keToaEdit.ThoiGianDungTrua = null;\n      this.keToaEdit.ChieuDisplay = null;\n      this.keToaEdit.ThoiGianDungChieu = null;\n      this.keToaEdit.ToiDisplay = null;\n      this.keToaEdit.ThoiGianDungToi = null;\n    }\n  }\n\n  LieuDungChange() {\n    if (this.keToaEdit.SoLuong != null && this.keToaEdit.LieuDung != null && this.keToaEdit.LieuDung != \"\") {\n      let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.keToaEdit.LieuDung));\n      if (lieuDung > this.keToaEdit.SoLuong) {\n        this.keToaEdit.SoLuong = lieuDung;\n      }\n      this.keToaEdit.SoNgayDung = Math.ceil(this.keToaEdit.SoLuong / lieuDung);\n      this.keToaEdit.SangDisplay = null;\n      this.keToaEdit.ThoiGianDungSang = null;\n      this.keToaEdit.TruaDisplay = null;\n      this.keToaEdit.ThoiGianDungTrua = null;\n      this.keToaEdit.ChieuDisplay = null;\n      this.keToaEdit.ThoiGianDungChieu = null;\n      this.keToaEdit.ToiDisplay = null;\n      this.keToaEdit.ThoiGianDungToi = null;\n    } else if (this.keToaEdit.SoLuong == null && this.keToaEdit.SoNgayDung != null && (this.keToaEdit.LieuDung != null && this.keToaEdit.LieuDung != \"\")) {\n      let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.keToaEdit.LieuDung));\n      this.keToaEdit.SoLuong = this.keToaEdit.SoNgayDung * lieuDung;\n    } else if (this.keToaEdit.SoLuong != null && (this.keToaEdit.LieuDung == null || this.keToaEdit.LieuDung == \"\")) {\n      this.keToaEdit.SoNgayDung = null;\n    }\n  }\n\n  SoNgayDungChange() {\n    if (this.keToaEdit.SoLuong != null && this.keToaEdit.SoNgayDung != null && this.keToaEdit.SoNgayDung > 0) {\n      let lieuDung = Math.ceil(this.keToaEdit.SoLuong / this.keToaEdit.SoNgayDung);\n      this.keToaEdit.LieuDung = lieuDung.toString();\n      this.keToaEdit.SangDisplay = null;\n      this.keToaEdit.ThoiGianDungSang = null;\n      this.keToaEdit.TruaDisplay = null;\n      this.keToaEdit.ThoiGianDungTrua = null;\n      this.keToaEdit.ChieuDisplay = null;\n      this.keToaEdit.ThoiGianDungChieu = null;\n      this.keToaEdit.ToiDisplay = null;\n      this.keToaEdit.ThoiGianDungToi = null;\n    } else if (this.keToaEdit.SoLuong == null && this.keToaEdit.SoNgayDung != null && (this.keToaEdit.LieuDung != null && this.keToaEdit.LieuDung != \"\")) {\n      let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.keToaEdit.LieuDung));\n      this.keToaEdit.SoLuong = this.keToaEdit.SoNgayDung * lieuDung;\n    } else if (this.keToaEdit.SoLuong != null && this.keToaEdit.SoNgayDung == null) {\n      this.keToaEdit.LieuDung = null;\n    }\n  }\n\n  convertInt() {\n    if (this.keToaEdit.SoNgayDung != null)\n      this.keToaEdit.SoNgayDung = parseInt(this.keToaEdit.SoNgayDung.toString());\n  }\n\n  dangXuLy:boolean=false;\n  luuKeToa() {\n    if(this.dangXuLy)\n        return;\n    this.dangXuLy=true;\n    this.validationErrors = [];\n    this.ref.detectChanges();\n    this.savingPage();\n    this.apiService.post<any>(\"KhamBenh/CapNhatDonThuocTuVanSucKhoe\", this.keToaEdit).subscribe(\n      () => {\n        this.closepopupSavingData();\n        this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Chỉnh sửa\"]));\n        this.dialogRef.close();\n        this.dangXuLy=false;\n      },\n      (err: ApiError) => {\n        this.validationErrors = err.ValidationErrors;\n        if (err.Message != \"Validation Failed\") {\n          this.notificationService.showError(err.Message);\n        }\n        this.closepopupSavingData();\n        this.dangXuLy=false;\n      });\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL3RoZW0tdGh1b2Mta2hvbmctYmh5dC90aGVtLXRodW9jLWtob25nLWJoeXQuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, Inject, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { ThemDuocPhamNgoaiBV } from '../../../kham-benh.model';\nimport { parseNumber } from '@progress/kendo-angular-intl';\n\n@Component({\n  selector: 'app-them-thuoc-khong-bhyt',\n  templateUrl: './them-thuoc-khong-bhyt.component.html',\n  styleUrls: ['./them-thuoc-khong-bhyt.component.scss']\n})\nexport class ThemThuocKhongBhytComponent implements OnInit {\n  thuocNgoaiBenhVien: ThemDuocPhamNgoaiBV = new ThemDuocPhamNgoaiBV();\n  validationErrors: any;\n  icClose = icClose;\n  documentType: DocumentType;\n  popupLoadingData: any = null;\n  nhaSanXuatDataSource: any;\n  nuocSanXuatDataSource: any;\n  isSelectDuocPham: boolean = false;\n  thoiGianDonThuocDataSource: any;\n\n  constructor(\n    private apiService: ApiService,\n    private dialog: MatDialog,\n    private notificationService: NotificationService,\n    private authService: AuthService,\n    public dialogRef: MatDialogRef<ThemThuocKhongBhytComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) { }\n\n  ngOnInit() {\n    if (this.data != undefined && this.data != null && this.data.documentType != undefined) {\n      this.documentType = this.data.documentType;\n    }\n    else {\n      this.documentType = DocumentType.KhamBenh;\n    }\n    this.getThoiGianDonThuoc();\n  }\n\n\n  closePopup(result: any) {\n    this.dialogRef.close(result);\n  }\n\n  loadingPage() {\n    this.popupLoadingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang lưu dữ liệu...\" },\n    });\n  }\n\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n\n\n  luuDuocPham() {\n    var self = this;\n    let comfirm = \"thêm\"\n    if (self.authService.hasPermission(self.documentType, SecurityOperation.Add)) {\n      self.dialog.open(ConfirmComponent, {\n        disableClose: false,\n        width: '500px',\n        data: { Title: \"Xác nhận\", Message: \"Bạn có muốn thêm dược phẩm này vào toa thuốc không?\" }\n      }).afterClosed().subscribe(result => {\n        if (result == \"Yes\") {\n          self.loadingPage();\n          self.thuocNgoaiBenhVien.YeuCauKhamBenhId = self.data.yeuCauKhamBenhId;\n          self.apiService.post<any>(\"KhamBenh/ThemDuocPhamKhongBHYT\", self.thuocNgoaiBenhVien).subscribe(\n            () => {\n              self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm\"]));\n              self.closePopupLoadingData();\n              self.closePopup(null);\n            },\n            (err: ApiError) => {\n              self.validationErrors = err.ValidationErrors;\n              if (err.Message != \"Validation Failed\") {\n                self.notificationService.showError(err.Message);\n              }\n              self.closePopupLoadingData();\n            });\n        }\n      });\n    }\n    else {\n      self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  huy() {\n    this.dialog.closeAll();\n  }\n\n  getThoiGianDonThuoc() {\n    this.apiService.get<Array<string>>(\"KhamBenh/ThoiGianDonThuoc\").subscribe(\n      resultData => {\n        this.thoiGianDonThuocDataSource = resultData;\n      }\n    )\n  }\n\n  SoLuongChange() {\n    if (this.thuocNgoaiBenhVien.SoLuong != null && this.thuocNgoaiBenhVien.LieuDung != null && this.thuocNgoaiBenhVien.LieuDung != \"\") {\n      let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.thuocNgoaiBenhVien.LieuDung));\n      this.thuocNgoaiBenhVien.SoNgayDung = Math.ceil(this.thuocNgoaiBenhVien.SoLuong / lieuDung);\n      this.thuocNgoaiBenhVien.SangDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungSang = null;\n      this.thuocNgoaiBenhVien.TruaDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungTrua = null;\n      this.thuocNgoaiBenhVien.ChieuDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungChieu = null;\n      this.thuocNgoaiBenhVien.ToiDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungToi = null;\n    }\n    else if (this.thuocNgoaiBenhVien.SoLuong == null) {\n      this.thuocNgoaiBenhVien.LieuDung = null;\n      this.thuocNgoaiBenhVien.SoNgayDung = null;\n      this.thuocNgoaiBenhVien.SangDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungSang = null;\n      this.thuocNgoaiBenhVien.TruaDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungTrua = null;\n      this.thuocNgoaiBenhVien.ChieuDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungChieu = null;\n      this.thuocNgoaiBenhVien.ToiDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungToi = null;\n    }\n  }\n\n  LieuDungChange() {\n    if (this.thuocNgoaiBenhVien.SoLuong != null && this.thuocNgoaiBenhVien.LieuDung != null && this.thuocNgoaiBenhVien.LieuDung != \"\") {\n      let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.thuocNgoaiBenhVien.LieuDung));\n      if (lieuDung > this.thuocNgoaiBenhVien.SoLuong) {\n        this.thuocNgoaiBenhVien.SoLuong = lieuDung;\n      }\n      this.thuocNgoaiBenhVien.SoNgayDung = Math.ceil(this.thuocNgoaiBenhVien.SoLuong / lieuDung);\n      this.thuocNgoaiBenhVien.SangDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungSang = null;\n      this.thuocNgoaiBenhVien.TruaDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungTrua = null;\n      this.thuocNgoaiBenhVien.ChieuDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungChieu = null;\n      this.thuocNgoaiBenhVien.ToiDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungToi = null;\n    } else if (this.thuocNgoaiBenhVien.SoLuong == null && this.thuocNgoaiBenhVien.SoNgayDung != null && (this.thuocNgoaiBenhVien.LieuDung != null && this.thuocNgoaiBenhVien.LieuDung != \"\")) {\n      let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.thuocNgoaiBenhVien.LieuDung));\n      this.thuocNgoaiBenhVien.SoLuong = this.thuocNgoaiBenhVien.SoNgayDung * lieuDung;\n    } else if (this.thuocNgoaiBenhVien.SoLuong != null && (this.thuocNgoaiBenhVien.LieuDung == null || this.thuocNgoaiBenhVien.LieuDung == \"\")) {\n      this.thuocNgoaiBenhVien.SoNgayDung = null;\n    }\n  }\n\n  SoNgayDungChange() {\n    if (this.thuocNgoaiBenhVien.SoLuong != null && this.thuocNgoaiBenhVien.SoNgayDung != null && this.thuocNgoaiBenhVien.SoNgayDung > 0) {\n      let lieuDung = Math.ceil(this.thuocNgoaiBenhVien.SoLuong / this.thuocNgoaiBenhVien.SoNgayDung);\n      this.thuocNgoaiBenhVien.LieuDung = lieuDung.toString();\n      this.thuocNgoaiBenhVien.SangDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungSang = null;\n      this.thuocNgoaiBenhVien.TruaDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungTrua = null;\n      this.thuocNgoaiBenhVien.ChieuDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungChieu = null;\n      this.thuocNgoaiBenhVien.ToiDisplay = null;\n      this.thuocNgoaiBenhVien.ThoiGianDungToi = null;\n    } else if (this.thuocNgoaiBenhVien.SoLuong == null && this.thuocNgoaiBenhVien.SoNgayDung != null && (this.thuocNgoaiBenhVien.LieuDung != null && this.thuocNgoaiBenhVien.LieuDung != \"\")) {\n      let lieuDung = parseNumber(CommonService.FormatStringFractionToFloat(this.thuocNgoaiBenhVien.LieuDung));\n      this.thuocNgoaiBenhVien.SoLuong = this.thuocNgoaiBenhVien.SoNgayDung * lieuDung;\n    } else if (this.thuocNgoaiBenhVien.SoLuong != null && this.thuocNgoaiBenhVien.SoNgayDung == null) {\n      this.thuocNgoaiBenhVien.LieuDung = null;\n    }\n  }\n\n  nhapDungCacBuoiTrongNgayThem(event: any, buoi: any) {\n    switch (buoi) {\n      case \"Sang\":\n        if ((event == undefined && this.thuocNgoaiBenhVien.TruaDisplay == undefined && this.thuocNgoaiBenhVien.ChieuDisplay == undefined && this.thuocNgoaiBenhVien.ToiDisplay == undefined)\n          || (event == \"\" && this.thuocNgoaiBenhVien.TruaDisplay == \"\" && this.thuocNgoaiBenhVien.ChieuDisplay == \"\" && this.thuocNgoaiBenhVien.ToiDisplay == \"\")\n          || (event == \"\" && this.thuocNgoaiBenhVien.TruaDisplay == \"\" && this.thuocNgoaiBenhVien.ChieuDisplay == \"\" && this.thuocNgoaiBenhVien.ToiDisplay == null)\n          || (event == \"\" && this.thuocNgoaiBenhVien.TruaDisplay == \"\" && this.thuocNgoaiBenhVien.ChieuDisplay == null && this.thuocNgoaiBenhVien.ToiDisplay == null)\n          || (event == \"\" && this.thuocNgoaiBenhVien.TruaDisplay == null && this.thuocNgoaiBenhVien.ChieuDisplay == null && this.thuocNgoaiBenhVien.ToiDisplay == null)\n        ) {\n          this.thuocNgoaiBenhVien.SoNgayDung = this.TongSoNgaySuDung(this.thuocNgoaiBenhVien.SoLuong, event, this.thuocNgoaiBenhVien.TruaDisplay, this.thuocNgoaiBenhVien.ChieuDisplay, this.thuocNgoaiBenhVien.ToiDisplay);\n          return null;\n        }\n        else {\n          this.thuocNgoaiBenhVien.SoNgayDung = this.TongSoNgaySuDung(this.thuocNgoaiBenhVien.SoLuong, event, this.thuocNgoaiBenhVien.TruaDisplay, this.thuocNgoaiBenhVien.ChieuDisplay, this.thuocNgoaiBenhVien.ToiDisplay);\n          return null;\n\n        }\n      case \"Trua\":\n        if (\n          (event == undefined && this.thuocNgoaiBenhVien.SangDisplay == undefined && this.thuocNgoaiBenhVien.ChieuDisplay == undefined && this.thuocNgoaiBenhVien.ToiDisplay == undefined)\n          || (event == \"\" && this.thuocNgoaiBenhVien.SangDisplay == \"\" && this.thuocNgoaiBenhVien.ChieuDisplay == \"\" && this.thuocNgoaiBenhVien.ToiDisplay == \"\")\n          || (event == \"\" && this.thuocNgoaiBenhVien.SangDisplay == \"\" && this.thuocNgoaiBenhVien.ChieuDisplay == \"\" && this.thuocNgoaiBenhVien.ToiDisplay == null)\n          || (event == \"\" && this.thuocNgoaiBenhVien.SangDisplay == \"\" && this.thuocNgoaiBenhVien.ChieuDisplay == null && this.thuocNgoaiBenhVien.ToiDisplay == null)\n          || (event == \"\" && this.thuocNgoaiBenhVien.SangDisplay == null && this.thuocNgoaiBenhVien.ChieuDisplay == null && this.thuocNgoaiBenhVien.ToiDisplay == null)\n        ) {\n          this.thuocNgoaiBenhVien.SoNgayDung = this.TongSoNgaySuDung(this.thuocNgoaiBenhVien.SoLuong, this.thuocNgoaiBenhVien.SangDisplay, event, this.thuocNgoaiBenhVien.ChieuDisplay, this.thuocNgoaiBenhVien.ToiDisplay);\n          return null;\n\n        }\n        else {\n          this.thuocNgoaiBenhVien.SoNgayDung = this.TongSoNgaySuDung(this.thuocNgoaiBenhVien.SoLuong, this.thuocNgoaiBenhVien.SangDisplay, event, this.thuocNgoaiBenhVien.ChieuDisplay, this.thuocNgoaiBenhVien.ToiDisplay);\n          return null;\n\n        }\n      case \"Chieu\":\n        if ((event == undefined && this.thuocNgoaiBenhVien.TruaDisplay == undefined && this.thuocNgoaiBenhVien.SangDisplay == undefined && this.thuocNgoaiBenhVien.ToiDisplay == undefined)\n          || (event == \"\" && this.thuocNgoaiBenhVien.TruaDisplay == \"\" && this.thuocNgoaiBenhVien.SangDisplay == \"\" && this.thuocNgoaiBenhVien.ToiDisplay == \"\")\n          || (event == \"\" && this.thuocNgoaiBenhVien.TruaDisplay == \"\" && this.thuocNgoaiBenhVien.SangDisplay == \"\" && this.thuocNgoaiBenhVien.ToiDisplay == null)\n          || (event == \"\" && this.thuocNgoaiBenhVien.TruaDisplay == \"\" && this.thuocNgoaiBenhVien.SangDisplay == null && this.thuocNgoaiBenhVien.ToiDisplay == null)\n          || (event == \"\" && this.thuocNgoaiBenhVien.TruaDisplay == null && this.thuocNgoaiBenhVien.SangDisplay == null && this.thuocNgoaiBenhVien.ToiDisplay == null)\n        ) {\n          this.thuocNgoaiBenhVien.SoNgayDung = this.TongSoNgaySuDung(this.thuocNgoaiBenhVien.SoLuong, this.thuocNgoaiBenhVien.SangDisplay, this.thuocNgoaiBenhVien.TruaDisplay, event, this.thuocNgoaiBenhVien.ToiDisplay);\n          return null;\n\n        }\n        else {\n          this.thuocNgoaiBenhVien.SoNgayDung = this.TongSoNgaySuDung(this.thuocNgoaiBenhVien.SoLuong, this.thuocNgoaiBenhVien.SangDisplay, this.thuocNgoaiBenhVien.TruaDisplay, event, this.thuocNgoaiBenhVien.ToiDisplay);\n          return null;\n\n        }\n      case \"Toi\":\n        if ((event == undefined && this.thuocNgoaiBenhVien.SangDisplay == undefined && this.thuocNgoaiBenhVien.ChieuDisplay == undefined && this.thuocNgoaiBenhVien.TruaDisplay == undefined)\n          || (event == \"\" && this.thuocNgoaiBenhVien.SangDisplay == \"\" && this.thuocNgoaiBenhVien.ChieuDisplay == \"\" && this.thuocNgoaiBenhVien.TruaDisplay == \"\")\n          || (event == \"\" && this.thuocNgoaiBenhVien.SangDisplay == \"\" && this.thuocNgoaiBenhVien.ChieuDisplay == \"\" && this.thuocNgoaiBenhVien.TruaDisplay == null)\n          || (event == \"\" && this.thuocNgoaiBenhVien.SangDisplay == \"\" && this.thuocNgoaiBenhVien.ChieuDisplay == null && this.thuocNgoaiBenhVien.TruaDisplay == null)\n          || (event == \"\" && this.thuocNgoaiBenhVien.SangDisplay == null && this.thuocNgoaiBenhVien.ChieuDisplay == null && this.thuocNgoaiBenhVien.TruaDisplay == null)\n        ) {\n          this.thuocNgoaiBenhVien.SoNgayDung = this.TongSoNgaySuDung(this.thuocNgoaiBenhVien.SoLuong, this.thuocNgoaiBenhVien.SangDisplay, this.thuocNgoaiBenhVien.TruaDisplay, this.thuocNgoaiBenhVien.ChieuDisplay, event);\n          return null;\n\n        }\n        else {\n          this.thuocNgoaiBenhVien.SoNgayDung = this.TongSoNgaySuDung(this.thuocNgoaiBenhVien.SoLuong, this.thuocNgoaiBenhVien.SangDisplay, this.thuocNgoaiBenhVien.TruaDisplay, this.thuocNgoaiBenhVien.ChieuDisplay, event);\n          return null;\n\n        }\n    }\n  }\n\n  TongSoNgaySuDung(soLuong: number, dungSang: string, dungTrua: string, dungChieu: string, dungToi: string) {\n    let sang: number, trua: number, chieu: number, toi: number, sum: number, result: number;\n    if (dungSang == \"\" || dungSang == null || dungSang == undefined) {\n      sang = 0;\n    }\n    else {\n      sang = CommonService.FormatStringFractionToFloat(dungSang);\n    }\n\n    if (dungTrua == \"\" || dungTrua == null || dungTrua == undefined) {\n      trua = 0;\n    }\n    else {\n      trua = CommonService.FormatStringFractionToFloat(dungTrua);\n    }\n\n    if (dungChieu == \"\" || dungChieu == null || dungChieu == undefined) {\n      chieu = 0;\n    }\n    else {\n      chieu = CommonService.FormatStringFractionToFloat(dungChieu);\n    }\n\n    if (dungToi == \"\" || dungToi == null || dungToi == undefined) {\n      toi = 0;\n    }\n    else {\n      toi = CommonService.FormatStringFractionToFloat(dungToi);\n    }\n    sum = sang + trua + chieu + toi;\n    if (sum > this.thuocNgoaiBenhVien.SoLuong) {\n      this.thuocNgoaiBenhVien.SoLuong = sum;\n      soLuong = this.thuocNgoaiBenhVien.SoLuong;\n    }\n\n    this.apiService.post<any>(\"KhamBenh/FormatNumber?inputNumber=\" + sum).subscribe(\n      resultData => {\n        if (resultData != null) {\n          if (resultData == \"0\") {\n            this.thuocNgoaiBenhVien.LieuDung = null;\n            //this.thuocNgoaiBenhVien.SoLuong = null;\n          }\n          else {\n            this.thuocNgoaiBenhVien.LieuDung = resultData;\n            if (soLuong != null) {\n              let soNgayDung = (soLuong / parseNumber(CommonService.FormatStringFractionToFloat(this.thuocNgoaiBenhVien.LieuDung)));\n              result = Math.ceil(soNgayDung);\n              this.thuocNgoaiBenhVien.SoNgayDung = result;\n            }\n          }\n          return result;\n        }\n      }\n    );\n    return null;\n  }\n\n  convertInt() {\n    if (this.thuocNgoaiBenhVien.SoNgayDung != null)\n      this.thuocNgoaiBenhVien.SoNgayDung = parseInt(this.thuocNgoaiBenhVien.SoNgayDung.toString());\n  }\n\n  onKey(event: any) {\n    if (event.key == \"Enter\") {\n      if (this.isSelectDuocPham != true) {\n        this.luuDuocPham();\n      }\n      else {\n        this.isSelectDuocPham = false;\n      }\n    }\n  }\n  openCombobox(event: any) {\n    if (event) {\n      this.isSelectDuocPham = true;\n    }\n    else {\n      this.isSelectDuocPham = false;\n    }\n  }\n\n  onValueChangeAdd(buoi: any) {\n    if (buoi === \"Sang\" && this.validationErrors != undefined && this.validationErrors != null) {\n      let lenValidate = this.validationErrors.length;\n      if (lenValidate > 0 && lenValidate != undefined) {\n        for (let i = 0; i < lenValidate; i++) {\n          if (this.validationErrors[i].Field === \"SoLuong\") {\n            this.validationErrors.splice(i, 1);\n            break;\n          }\n        }\n      }\n      else {\n        return null;\n      }\n    }\n    else if (buoi === \"Trua\" && this.validationErrors != undefined && this.validationErrors != null) {\n      let lenValidate = this.validationErrors.length;\n      if (lenValidate > 0 && lenValidate != undefined) {\n        for (let i = 0; i < lenValidate; i++) {\n          if (this.validationErrors[i].Field === \"SoLuong\") {\n            this.validationErrors.splice(i, 1);\n            break;\n          }\n        }\n      }\n      else {\n        return null;\n      }\n    }\n    else if (buoi === \"Chieu\" && this.validationErrors != undefined && this.validationErrors != null) {\n      let lenValidate = this.validationErrors.length;\n      if (lenValidate > 0 && lenValidate != undefined) {\n        for (let i = 0; i < lenValidate; i++) {\n          if (this.validationErrors[i].Field === \"SoLuong\") {\n            this.validationErrors.splice(i, 1);\n            break;\n          }\n        }\n      }\n      else {\n        return null;\n      }\n    }\n    else if (buoi === \"Toi\" && this.validationErrors != undefined && this.validationErrors != null) {\n      let lenValidate = this.validationErrors.length;\n      if (lenValidate > 0 && lenValidate != undefined) {\n        for (let i = 0; i < lenValidate; i++) {\n          if (this.validationErrors[i].Field === \"SoLuong\") {\n            this.validationErrors.splice(i, 1);\n            break;\n          }\n        }\n      }\n      else {\n        return null;\n      }\n    } else {\n      return null;\n    }\n\n  }\n}\n","export default \".zoom {\\n  padding: 50px;\\n  background-color: white;\\n  transition: transform 0.2s;\\n  /* Animation */\\n  width: 200px;\\n  height: 200px;\\n  margin: 0 auto;\\n  font-size: 100px;\\n}\\n\\n.zoom:hover {\\n  transform: scale(2.5);\\n  /* (150% zoom - Note: if the zoom is too large, it will go outside of the viewport) */\\n  cursor: -webkit-grab;\\n  cursor: grab;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvdmlldy1pbWFnZS1wZGYtbGlzdC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxcdmlldy1pbWFnZS1wZGYtbGlzdFxcdmlldy1pbWFnZS1wZGYtbGlzdC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvdmlldy1pbWFnZS1wZGYtbGlzdC92aWV3LWltYWdlLXBkZi1saXN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsMEJBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7QUNDRjs7QURFQTtFQUNFLHFCQUFBO0VBQ0EscUZBQUE7RUFDQSxvQkFBQTtFQUNBLFlBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL3ZpZXctaW1hZ2UtcGRmLWxpc3Qvdmlldy1pbWFnZS1wZGYtbGlzdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi56b29tIHtcbiAgcGFkZGluZzogNTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjJzO1xuICAvKiBBbmltYXRpb24gKi9cbiAgd2lkdGg6IDIwMHB4O1xuICBoZWlnaHQ6IDIwMHB4O1xuICBtYXJnaW46IDAgYXV0bztcbiAgZm9udC1zaXplOiAxMDBweDtcbn1cblxuLnpvb206aG92ZXIge1xuICB0cmFuc2Zvcm06IHNjYWxlKDIuNSk7XG4gIC8qICgxNTAlIHpvb20gLSBOb3RlOiBpZiB0aGUgem9vbSBpcyB0b28gbGFyZ2UsIGl0IHdpbGwgZ28gb3V0c2lkZSBvZiB0aGUgdmlld3BvcnQpICovXG4gIGN1cnNvcjogLXdlYmtpdC1ncmFiO1xuICBjdXJzb3I6IGdyYWI7XG59IiwiLnpvb20ge1xuICBwYWRkaW5nOiA1MHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnM7XG4gIC8qIEFuaW1hdGlvbiAqL1xuICB3aWR0aDogMjAwcHg7XG4gIGhlaWdodDogMjAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBmb250LXNpemU6IDEwMHB4O1xufVxuXG4uem9vbTpob3ZlciB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMi41KTtcbiAgLyogKDE1MCUgem9vbSAtIE5vdGU6IGlmIHRoZSB6b29tIGlzIHRvbyBsYXJnZSwgaXQgd2lsbCBnbyBvdXRzaWRlIG9mIHRoZSB2aWV3cG9ydCkgKi9cbiAgY3Vyc29yOiAtd2Via2l0LWdyYWI7XG4gIGN1cnNvcjogZ3JhYjtcbn0iXX0= */\"","import { Component, OnInit, Optional, Inject, ViewChild, TemplateRef,Output } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { ViewImagePdfComponent } from 'src/app/shared/component/dialogs/view-image-pdf/view-image-pdf.component';\nimport { HttpParams } from '@angular/common/http';\nimport IcPDF from '@iconify/icons-ic/picture-as-pdf';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { RequestOptions, ResponseContentType, Http } from '@angular/http';\nimport { saveFile } from 'src/app/core/utilities/file-download.helper';\n@Component({\n  selector: 'app-view-image-pdf-list',\n  templateUrl: './view-image-pdf-list.component.html',\n  styleUrls: ['./view-image-pdf-list.component.scss']\n})\nexport class ViewImagePdfListComponent implements OnInit {\n  hostingName: string;\n  src: string = \"\";\n  icClose = icClose;\n  IcPDF = IcPDF;\n  ChonKieuInChung: boolean = true;\n  showLoaiPhieuIn: boolean = false; // kieu in\n  HideClose: boolean = false;\n  gridDataSource: any = {};\n  gridColumns: any[] = [];\n  dataPopup: any;\n  @ViewChild(GridComponent, { static: false }) gridChild: GridComponent;\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n  @ViewChild('headerTemplate', { static: true }) headerTemplate: TemplateRef<any>;\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any,\n    public sanitizer: DomSanitizer,\n    private apiService: ApiService,\n    private dialog: MatDialog,\n    private http: Http,\n    private dialogRef: MatDialogRef<ViewImagePdfListComponent>) {\n    // this.src= \"data:text/html;charset=utf-8,\" + encodeURIComponent(this.data.Model);\n  }\n  modelPrint: any;\n  ngOnInit() {\n    console.log(\"dataa:\", this.data.Model.TenGuidList)\n\n    this.gridColumns = [\n      { Field: \"TenFile\", Title: \"Tên file\", Width: 200, Sortable: false },\n      { Field: \"\", Title: \"\", Width: 40, Sortable: false, Template: this.actionTemplate, TemplateHeader: this.headerTemplate },\n    ];\n    this.gridDataSource = {\n      data: this.data.Model.TenGuidList,\n      total: this.data.Model.TenGuidList.length\n    };\n  }\n  setDataGridView() {\n    this.gridChild.gridDataSource = this.gridDataSource;\n\n    if (this.gridChild !== undefined)\n      this.gridChild.setDataSource();\n  }\n  ViewImagePDF(thongTinAnh) {\n    const params = new HttpParams({\n      fromObject: {\n        tenGuid: thongTinAnh.TenGuid,\n        duongDan: thongTinAnh.DuongDan,\n      },\n    });\n    this.apiService\n      .get<any>(\"TaiLieuDinhKem/GetTaiLieuUrl\", params)\n      .subscribe((result) => {\n        if (result) {\n          if (\n            thongTinAnh.TenGuid.indexOf(\".pdf\") != -1 ||\n            thongTinAnh.TenGuid.indexOf(\".PDF\") != -1\n          ) {\n            // console.log(this.listPdf)\n            this.dialog.open(ViewImagePdfComponent, {\n              disableClose: true,\n              width: '1000px',\n              height: '600px',\n              data: {\n                Type: 'PDF', Title: 'Xem tập tin',\n                Src: result\n              }\n            }).afterClosed()\n              .subscribe((result) => {\n                console.log(\"popup2\", result);\n              });\n          }\n          else {\n\n            this.dialog.open(ViewImagePdfComponent, {\n              disableClose: true,\n              width: '1000px',\n              height: '600px',\n              data: {\n                Type: 'Image', Title: 'Xem ảnh',\n                Src: result\n              }\n            }).afterClosed()\n              .subscribe((result) => {\n                console.log(\"popup2\", result);\n              });\n          }\n        }\n      });\n  }\n  downloadFile(dataItem) {\n    const params = new HttpParams({\n      fromObject: {\n        tenGuid: dataItem.TenGuid,\n        duongDan: dataItem.DuongDan,\n      },\n    });\n    this.apiService\n      .get<any>(\"TaiLieuDinhKem/GetTaiLieuUrl\", params)\n      .subscribe((result) => {\n        console.log(result);\n        this.dataPopup = result;\n        const options = new RequestOptions({ responseType: ResponseContentType.Blob });\n        this.http.get(this.dataPopup, options).subscribe(res => {\n          saveFile(res.blob(), dataItem.TenFile);\n        }\n        )\n      });\n  }\n  downloadFileAll(dataItem) {\n    dataItem.forEach(element => {\n      const params = new HttpParams({\n        fromObject: {\n          tenGuid: element.TenGuid,\n          duongDan: element.DuongDan,\n        },\n      });\n      this.apiService\n        .get<any>(\"TaiLieuDinhKem/GetTaiLieuUrl\", params)\n        .subscribe((result) => {\n          console.log(result);\n          this.dataPopup = result;\n          const options = new RequestOptions({ responseType: ResponseContentType.Blob });\n          this.http.get(this.dataPopup, options).subscribe(res => {\n            saveFile(res.blob(), element.TenFile);\n          }\n          )\n        });\n    });\n\n  }\n  close(data: any) {\n    this.dialogRef.close(data);\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL2xhbi1raGFtLWhpZW4tdGFpL3huLWNvdmlkLXNhcnNjb3YyLXBvcHVwL3huLWNvdmlkLXNhcnNjb3YyLXBvcHVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n\n@Component({\n  selector: 'app-xn-covid-sarscov2-popup',\n  templateUrl: './xn-covid-sarscov2-popup.component.html',\n  styleUrls: ['./xn-covid-sarscov2-popup.component.scss']\n})\nexport class XnCovidSarscov2PopupComponent implements OnInit {\n  hostingName: string;\n  modelPrint: any;\n  src = '';\n  icClose = icClose;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, public sanitizer: DomSanitizer, private dialog: MatDialog) {\n      this.src = 'data:text/html;charset=utf-8,' + encodeURIComponent(this.data.Model);\n  }\n\n  ngOnInit() {\n      this.modelPrint = this.data.Model;\n  }\n\n  getSharedPrintForm() {\n    const tmpPhieuXNCoVId =\n      '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH XÉT NGHIỆM TEST NHANH KHÁNG NGUYÊN SARS-CoV-2 </th></tr></table>';\n  \n    let data = this.modelPrint.replaceAll(tmpPhieuXNCoVId,'');\n      return new Promise(resolve => {\n          resolve(data);\n      });\n  }\n\n  close() {\n      this.dialog.closeAll();\n  }\n}\n\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 0;\\n  padding-bottom: 100%;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\nheight_table {\\n  height: 60px !important;\\n}\\n\\n.xet_nghiem {\\n  font-size: 17px;\\n  font-weight: 500;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkveWV1LWNhdS14ZXQtbmdoaWVtLWxhaS1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxca2hhbS1iZW5oXFxsYW4ta2hhbS1oaWVuLXRhaVxceWV1LWNhdS14ZXQtbmdoaWVtLWxhaS1wb3B1cFxceWV1LWNhdS14ZXQtbmdoaWVtLWxhaS1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkveWV1LWNhdS14ZXQtbmdoaWVtLWxhaS1wb3B1cC95ZXUtY2F1LXhldC1uZ2hpZW0tbGFpLXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsU0FBQTtFQUNBLG9CQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0UsdUJBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkveWV1LWNhdS14ZXQtbmdoaWVtLWxhaS1wb3B1cC95ZXUtY2F1LXhldC1uZ2hpZW0tbGFpLXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDA7XG4gIHBhZGRpbmctYm90dG9tOiAxMDAlO1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuaGVpZ2h0X3RhYmxlIHtcbiAgaGVpZ2h0OiA2MHB4ICFpbXBvcnRhbnQ7XG59XG5cbi54ZXRfbmdoaWVtIHtcbiAgZm9udC1zaXplOiAxN3B4O1xuICBmb250LXdlaWdodDogNTAwO1xufSIsIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAwO1xuICBwYWRkaW5nLWJvdHRvbTogMTAwJTtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbmhlaWdodF90YWJsZSB7XG4gIGhlaWdodDogNjBweCAhaW1wb3J0YW50O1xufVxuXG4ueGV0X25naGllbSB7XG4gIGZvbnQtc2l6ZTogMTdweDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn0iXX0= */\"","import { Component, OnInit, Inject, ChangeDetectorRef, Optional, TemplateRef, ViewChild } from \"@angular/core\";\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from \"@angular/material\";\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { GoiLaiYeuCauXetNghiem, ThongTinXetNghiemChiTiet } from '../../../kham-benh.model';\nimport icInfo from '@iconify/icons-ic/baseline-info';\n@Component({\n  selector: \"ap-yeu-cau-xet-nghiem-lai-popup\",\n  templateUrl: \"./yeu-cau-xet-nghiem-lai-popup.component.html\",\n  styleUrls: [\"./yeu-cau-xet-nghiem-lai-popup.component.scss\"],\n})\nexport class YeuCauXetNghiemLaiComponent implements OnInit {\n  icClose = icClose;\n  Title: any = null;\n  Message: any = null;\n  ButtonYes: string = \"Có\";\n  ButtonNo: string = \"Không\";\n  public dataThongTin: ThongTinXetNghiemChiTiet[] = [];\n  gridColumns: any[] = [];\n  icInfo = icInfo;\n  kiemTraNhomXetNghiem: boolean = false;\n\n  goiLaiYeuCauXetNghiem: GoiLaiYeuCauXetNghiem;\n  @ViewChild(\"actionTemplate\", { static: true }) actionTemplate: TemplateRef<any>;\n  @ViewChild(\"actionTooltipTemplate\", { static: true }) actionTooltipTemplate: TemplateRef<any>;\n  validationErrors: any[] = [];\n\n  constructor(\n    private cdRef: ChangeDetectorRef,\n    private dialogRef: MatDialogRef<any>,\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\n  ) { }\n\n  ngOnInit() {\n    setInterval(() => {\n      console.log(this.data)\n    }, 5000)\n    this.goiLaiYeuCauXetNghiem = new GoiLaiYeuCauXetNghiem();\n    this.data.danhSachGoiXetNghiemLai.DanhSachGoiXetNghiemLais.forEach(element => {\n      element.GoiLai = false;\n    });\n    this.data.danhSachGoiXetNghiemLai.LyDo = null;\n    this.goiLaiYeuCauXetNghiem = this.data.danhSachGoiXetNghiemLai;\n    this.Title = this.data.Title;\n    this.Message = this.data.Message;\n\n    this.gridColumns = [\n      { Field: \"NhomDichVu\", Title: \"Xét Nghiệm\", Width: 150, Sortable: false, Template: this.actionTooltipTemplate },\n      { Field: \"\", Title: \"\", Width: 50, Sortable: true, ShowTooltip: true, Template: this.actionTemplate }\n    ];\n  }\n\n  TooltipCustom(duTruGiamDocDetail: any) {\n    this.dataThongTin = [];\n    this.data.danhSachGoiXetNghiemLai.ThongTinXetNghiemChiTiets.forEach(element => {\n      if (element.PhienXetNghiemId == duTruGiamDocDetail.PhienXetNghiemId\n        && element.NhomDichVuBenhVienId == duTruGiamDocDetail.NhomDichVuBenhVienId) {\n        this.dataThongTin.push(element);\n      }\n    });\n  }\n\n  trangThaiCheckBox(ev: any) {\n    let goiLai = this.data.danhSachGoiXetNghiemLai.DanhSachGoiXetNghiemLais.filter(c => c.GoiLai);\n    if (goiLai.length > 0) {\n      this.kiemTraNhomXetNghiem = true;\n    } else {\n      this.kiemTraNhomXetNghiem = false;\n    }\n  }\n\n  close(result: any) {\n    if (result === \"Yes\") {\n      this.validationErrors = [];\n      this.cdRef.detectChanges();   \n      if (this.goiLaiYeuCauXetNghiem.LyDo == undefined || this.goiLaiYeuCauXetNghiem.LyDo == null || this.goiLaiYeuCauXetNghiem.LyDo == \"\") {\n        this.validationErrors.push({\n          Message: \"Lý do yêu cầu nhập.\",\n          Field: \"LyDo\",\n        });\n        return true;\n      } else {\n        this.dialogRef.close(this.goiLaiYeuCauXetNghiem);\n      }\n    } else {\n      this.dialogRef.close(null);\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL25nYXktZHVvbmctdGhhaS1wb3B1cC9uZ2F5LWR1b25nLXRoYWktcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { CapNhatPhieuDuongThai } from '../../kham-benh.model';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\n\n@Component({\n  selector: 'app-ngay-duong-thai-popup',\n  templateUrl: './ngay-duong-thai-popup.component.html',\n  styleUrls: ['./ngay-duong-thai-popup.component.scss']\n})\nexport class NgayDuongThaiPopupComponent implements OnInit {\n  hostingName: string;\n  modelPrint: any;\n  src = '';\n  icClose = icClose;\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    public sanitizer: DomSanitizer,\n    private apiService: ApiService,\n    private dialog: MatDialog,\n    private notificationService: NotificationService,\n  ) { }\n  \n\n  ngOnInit() {\n    let vo ={\n      YeuCauKhamBenhId:this.data\n    };\n    this.apiService.post<any>('KhamBenh/PhieuNghiDuongThai', vo)\n    .subscribe((res) => {\n      if (res != null) {\n        this.src = 'data:text/html;charset=utf-8,' + encodeURIComponent(res);\n        this.modelPrint = res;\n      }\n    },\n      (err: ApiError) => {\n        if (err.Message != \"Validation Failed\") {\n          this.notificationService.showError(err.Message);\n        }\n      }\n    );\n  }\n  getSharedPrintForm() {\n    return new Promise(resolve => {\n      resolve(this.modelPrint);\n    });\n  }\n\n  close() {\n    this.dialog.closeAll();\n  }\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 50%;\\n  height: 0;\\n  padding-bottom: 100%;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 50%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbmdheS1kdW9uZy10aGFpLXhhYy1uaGFuLXBvcHVwL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxca2hhbS1iZW5oXFxraGFtLWJlbmhcXG5nYXktZHVvbmctdGhhaS14YWMtbmhhbi1wb3B1cFxcbmdheS1kdW9uZy10aGFpLXhhYy1uaGFuLXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2toYW0tYmVuaC9uZ2F5LWR1b25nLXRoYWkteGFjLW5oYW4tcG9wdXAvbmdheS1kdW9uZy10aGFpLXhhYy1uaGFuLXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtFQUNBLG9CQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9raGFtLWJlbmgvbmdheS1kdW9uZy10aGFpLXhhYy1uaGFuLXBvcHVwL25nYXktZHVvbmctdGhhaS14YWMtbmhhbi1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogNTAlO1xuICBoZWlnaHQ6IDA7XG4gIHBhZGRpbmctYm90dG9tOiAxMDAlO1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDUwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSIsIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogNTAlO1xuICBoZWlnaHQ6IDA7XG4gIHBhZGRpbmctYm90dG9tOiAxMDAlO1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDUwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSJdfQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { CapNhatPhieuDuongThai } from '../../kham-benh.model';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { NgayDuongThaiPopupComponent } from '../ngay-duong-thai-popup/ngay-duong-thai-popup.component';\n\n@Component({\n  selector: 'app-ngay-duong-thai-xac-nhan-popup',\n  templateUrl: './ngay-duong-thai-xac-nhan-popup.component.html',\n  styleUrls: ['./ngay-duong-thai-xac-nhan-popup.component.scss']\n})\nexport class NgayDuongThaiXacNhanPopupComponent implements OnInit {\n  icClose = icClose;\n  validationErrors: any;\n  capNhatPhieuDuongThai = new CapNhatPhieuDuongThai();\n  popupLoadingData: any = null;\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    public sanitizer: DomSanitizer,\n    private apiService: ApiService,\n    private dialog: MatDialog,\n    private notificationService: NotificationService,\n  ) { }\n  ngOnInit() {\n    if (this.data != null) {\n      this.capNhatPhieuDuongThai = this.data;\n      this.apiService.post<any>('KhamBenh/GetNgayDuongThaiYeuCauKhamBenh', this.capNhatPhieuDuongThai)\n      .subscribe((res) => {\n        if (res != null) {\n          this.capNhatPhieuDuongThai  =res;\n        }\n      },\n        (err: ApiError) => {\n          this.closePopupLoadingData();\n          if (err.Message != \"Validation Failed\") {\n            this.notificationService.showError(err.Message);\n          }\n        }\n      );\n    }\n  }\n  returnValidate() {\n    const validationResult = [];\n    if (this.capNhatPhieuDuongThai.TuNgay == null) {\n      validationResult.push({\n        Message: \"Yêu cầu nhập từ ngày.\",\n        Field: \"TuNgay\",\n      });\n    }\n    if (this.capNhatPhieuDuongThai.DenNgay == null) {\n      validationResult.push({\n        Message: \"Yêu cầu nhập đến ngày.\",\n        Field: \"DenNgay\",\n      });\n    }\n    if (this.capNhatPhieuDuongThai.DenNgay != null && this.capNhatPhieuDuongThai.TuNgay != null) {\n      if (this.capNhatPhieuDuongThai.TuNgay > this.capNhatPhieuDuongThai.DenNgay) {\n        validationResult.push({\n          Message: \"Từ ngày không lớn hơn đến ngày.\",\n          Field: \"TuNgay\",\n        });\n      }\n      if (this.capNhatPhieuDuongThai.DenNgay < this.capNhatPhieuDuongThai.TuNgay) {\n        validationResult.push({\n          Message: \"Đến ngày không nhỏ hơn đến ngày.\",\n          Field: \"DenNgay\",\n        });\n      }\n    }\n    return validationResult;\n  }\n  xacNhan() {\n\n    this.validationErrors = this.returnValidate();\n    if (this.validationErrors && this.validationErrors.some(x => x)) {\n      return;\n    }\n    if (this.capNhatPhieuDuongThai.DenNgay != null && this.capNhatPhieuDuongThai.TuNgay != null) {\n      let khoangCachTuNgayDenNgay = 0;\n      let startDate = new Date(this.capNhatPhieuDuongThai.TuNgay);\n      let endDate = new Date(this.capNhatPhieuDuongThai.DenNgay);\n      let seconds1Ngay = 24 * 60 * 60;\n      let secondstuNgayDenNgay = (endDate.getTime() - startDate.getTime()) / 1000;\n      khoangCachTuNgayDenNgay = secondstuNgayDenNgay / seconds1Ngay;\n      if (khoangCachTuNgayDenNgay < 7) {\n        this.notificationService.showError(\"Tổng số ngày nghỉ dưỡng thai không được nhỏ hơn 7 ngày\");\n        return;\n      }\n      if (khoangCachTuNgayDenNgay > 30) {\n        this.notificationService.showError(\"Tổng số ngày nghỉ dưỡng thai không được lớn hơn 30 ngày\");\n        return;\n      }\n    }\n    this.loadingPage();\n    this.apiService.post<any>('KhamBenh/CapNhatNgayDuongThai', this.capNhatPhieuDuongThai)\n      .subscribe((res) => {\n        if (res != null) {\n          this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Lưu\"]));\n           this.dialog.open(NgayDuongThaiPopupComponent, {\n                    disableClose: false,\n                    width: '1000px',\n                    data: this.capNhatPhieuDuongThai.YeuCauKhamBenhId\n                  });\n         \n      \n          this.closePopupLoadingData();\n          // this.dialog.closeAll();\n        }\n      },\n        (err: ApiError) => {\n          this.closePopupLoadingData();\n          if (err.Message != \"Validation Failed\") {\n            this.notificationService.showError(err.Message);\n          }\n        }\n      );\n\n  }\n  loadingPage() {\n    this.popupLoadingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang lưu dữ liệu...\" },\n    });\n  }\n\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n  close() {\n    this.dialog.closeAll();\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgva2hhbS1iZW5oL3huLXNhcnMtY292Mi1wb3B1cC94bi1zYXJzLWNvdjItcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit,Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { XetNghiemCovid } from '../../kham-benh.model';\n\n@Component({\n  selector: 'app-xn-sars-cov2-popup',\n  templateUrl: './xn-sars-cov2-popup.component.html',\n  styleUrls: ['./xn-sars-cov2-popup.component.scss']\n})\nexport class XnSarsCov2PopupComponent implements OnInit {\n  xetNghiemCovid = new XetNghiemCovid();\n\n  icClose = icClose;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any,\n  public dialogRef: MatDialogRef<XnSarsCov2PopupComponent>,) { }\n  loaiMauXetNghiemText :string =null;XnSarsCov2PopupComponent\n\n  ngOnInit() {\n    this.xetNghiemCovid.BieuHienLamSang = this.data.BieuHienLamSang;\n    this.xetNghiemCovid.DichTeSarsCoV2 = this.data.DichTeSarsCoV2;\n    this.xetNghiemCovid.LoaiBenhPham =this.data.LoaiMauXetNghiemText;\n  }\n  save(){\n    this.dialogRef.close(this.xetNghiemCovid);\n  }\n  close(){\n    this.dialogRef.close();\n  }\n}\n\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgvbGFuLWtoYW0taGllbi10YWkvbGFuLWtoYW0taGllbi10YWktY2h1eWVuLXBob25nLWtoYW0tcG9wdXAvbGFuLWtoYW0taGllbi10YWktY2h1eWVuLXBob25nLWtoYW0tcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { CapNhatThongTinThucHienDvktPopupComponent } from '../../kham-benh/lan-kham-hien-tai/cap-nhat-thong-tin-thuc-hien-dvkt-popup/cap-nhat-thong-tin-thuc-hien-dvkt-popup.component';\n\n@Component({\n  selector: 'app-lan-kham-hien-tai-chuyen-phong-kham-popup',\n  templateUrl: './lan-kham-hien-tai-chuyen-phong-kham-popup.component.html',\n  styleUrls: ['./lan-kham-hien-tai-chuyen-phong-kham-popup.component.scss']\n})\nexport class LanKhamHienTaiChuyenPhongKhamPopupComponent implements OnInit {\n\n  icClose = icClose;\n\n  documentType: DocumentType;\n  validationErrors: any;\n\n  phongThucHienId: number = null;\n  hangDoiIdStr: string = '';\n  popupLoadingData: any;\n\n  constructor(\n    private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n    public dialogRef: MatDialogRef<CapNhatThongTinThucHienDvktPopupComponent>,\n    private apiService: ApiService,\n    private authService: AuthService,\n    private notificationService: NotificationService) { }\n\n  ngOnInit() {\n    this.documentType = this.data.DocumentType;\n    if(this.data.HangDoiIds){\n      this.hangDoiIdStr = this.data.HangDoiIds.join(\";\");\n    }\n  }\n\n  showPopupLoadingData() {\n    if (this.popupLoadingData == undefined\n      || this.popupLoadingData == null\n      || this.popupLoadingData.openDialogs == undefined\n      || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n      this.popupLoadingData = this.dialog.open(LoadingComponent, {\n        disableClose: true,\n        width: \"200px\",\n        height: \"90px\",\n        data: { Title: \"Đang tải dữ liệu...\" },\n      });\n    }\n\n  }\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n\n  xuLyChuyenPhongThucHienDichVuKham() {\n    if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n      this.showPopupLoadingData();\n      let obj = {\n        HangDoiIds: this.data.HangDoiIds,\n        PhongHienTaiId: this.data.PhongHienTaiId,\n        PhongThucHienId: this.phongThucHienId\n      }\n      this.apiService.put<any>(\"KhamBenh/XuLyChuyenPhongThucHienDichVuKham\", obj).subscribe(\n        resultData => {\n          this.closePopupLoadingData();\n          this.dialogRef.close(true);\n        },\n        (err: ApiError) => {\n          this.validationErrors = err.ValidationErrors;\n          if (err.Message != \"Validation Failed\") {\n            this.notificationService.showError(err.Message);\n          }\n          this.closePopupLoadingData();\n        });\n    }\n    else {\n      this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  close(){\n    this.dialogRef.close();\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWJlbmgvbGljaC1zdS1raGFtLWJlbmgtcG9wdXAvbGljaC1zdS1raGFtLWJlbmgtcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit,Inject,Optional } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-lich-su-kham-benh-popup',\n  templateUrl: './lich-su-kham-benh-popup.component.html',\n  styleUrls: ['./lich-su-kham-benh-popup.component.scss']\n})\nexport class LichSuKhamBenhPopupComponent implements OnInit {\nyeuCauTiepNhanId : number = 0 ;\nbenhNhanId : number = 0 ;\n  constructor(@Optional() @Inject(MAT_DIALOG_DATA) public data: any) {\n  \n   }\n\n\n  ngOnInit() {\n   this.benhNhanId = this.data.BenhNhanId;\n   this.yeuCauTiepNhanId = this.data.YeuCauTiepNhanId;\n  }\n\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\nlegend {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\n.content-tab-popup {\\n  margin-top: 49px;\\n  margin-right: 15px;\\n  margin-bottom: 15px;\\n}\\n\\n.top-content {\\n  top: 50px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9saWNoLXN1LWtoYW0tYmVuaC9saWNoLXN1LWtoYW0tYmVuaC1jaGktdGlldC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXGtoYW0tYmVuaFxcbGljaC1zdS1raGFtLWJlbmhcXGxpY2gtc3Uta2hhbS1iZW5oLWNoaS10aWV0XFxsaWNoLXN1LWtoYW0tYmVuaC1jaGktdGlldC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL2toYW0tYmVuaC9saWNoLXN1LWtoYW0tYmVuaC9saWNoLXN1LWtoYW0tYmVuaC1jaGktdGlldC9saWNoLXN1LWtoYW0tYmVuaC1jaGktdGlldC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxTQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4va2hhbS1iZW5oL2xpY2gtc3Uta2hhbS1iZW5oL2xpY2gtc3Uta2hhbS1iZW5oLWNoaS10aWV0L2xpY2gtc3Uta2hhbS1iZW5oLWNoaS10aWV0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG5sZWdlbmQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLmNvbnRlbnQtdGFiLXBvcHVwIHtcbiAgbWFyZ2luLXRvcDogNDlweDtcbiAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xufVxuXG4udG9wLWNvbnRlbnQge1xuICB0b3A6IDUwcHg7XG59IiwiZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG5sZWdlbmQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLmNvbnRlbnQtdGFiLXBvcHVwIHtcbiAgbWFyZ2luLXRvcDogNDlweDtcbiAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xufVxuXG4udG9wLWNvbnRlbnQge1xuICB0b3A6IDUwcHg7XG59Il19 */\"","import { Component, OnInit, HostListener } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { ThongTinBenhNhans } from '../../../tiep-nhan-benh-nhan/danh-sach-cho-kham/danh-sach-cho-kham.model';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { MatDialog } from '@angular/material';\nimport { Location } from '@angular/common';\n\n@Component({\n  selector: 'app-lich-su-kham-benh-chi-tiet',\n  templateUrl: './lich-su-kham-benh-chi-tiet.component.html',\n  styleUrls: ['./lich-su-kham-benh-chi-tiet.component.scss']\n})\nexport class LichSuKhamBenhChiTietComponent implements OnInit {\n  thongTinBenhNhan: ThongTinBenhNhans;\n  khoaPhong: string = null;\n  tenKhoaPhong: string = null;\n  maTiepNhanBNId: number = null;\n  yeuCauKhamBenhId: number = null;\n  BenhNhan: number = null;\n  yeuCauTiepNhanId: number = null;\n  yeuCauKhamBenhTruocId: number = null;\n  expanded: boolean = null;\n  validationErrors: any;\n  tabActive: string = \"card0\";\n  isDuoi6Tuoi: boolean = false;\n  Duoi6TuoiDisplay: string = \"\";\n  isShowKhamBenh:boolean = false;\n  coPhauThuatThuThuat: boolean = null;\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private dialog: MatDialog,\n    private apiService: ApiService,\n    private location: Location,\n\n    private notificationService: NotificationService,) { }\n\n  ngOnInit() {\n    this.thongTinBenhNhan = new ThongTinBenhNhans();\n    this.yeuCauKhamBenhId = this.route.snapshot.params.id;\n    this.getThongTinBenhNhan(this.yeuCauKhamBenhId);\n    //this.getThongTinYeuCauBenhNhan(this.yeuCauKhamBenhId);\n    this.coDichVuPhauThuatThuThuat();\n  }\n\n  getThongTinBenhNhan(id: number) {\n    this.showPopupLoadingData();\n    this.apiService.get<any>(\"KhamBenh/ThongTinBenhNhan?yeuCauKhamBenhId=\" + id).subscribe(\n      resultData => {\n        if (resultData != undefined && resultData != null) {\n          this.isShowKhamBenh = true;\n          this.thongTinBenhNhan = resultData;\n          this.maTiepNhanBNId = resultData.YeuCauTiepNhanId;\n          this.yeuCauTiepNhanId = resultData.YeuCauTiepNhanId;\n          this.BenhNhan = resultData.BenhNhanId;\n          this.yeuCauKhamBenhTruocId = resultData.YeuCauKhamBenhTruocId;\n          // console.log(\"this.thongTinBenhNhan\", this.thongTinBenhNhan)\n          // console.log(\"resultData\", resultData)\n\n          this.closePopupLoadingData();\n        }\n      },\n      (err: ApiError) => {\n        this.validationErrors = err.ValidationErrors;\n        if (err.Message != \"Validation Failed\") {\n          this.notificationService.showError(err.Message);\n          this.closePopupLoadingData();\n        }\n        this.closePopupLoadingData();\n      });\n  }\n\n  showPopupLoadingData() {\n    this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: '200px',\n      height: '90px',\n      data: { Title: \"Đang tải dữ liệu...\" }\n    });\n  }\n\n  closePopupLoadingData() {\n    this.dialog.closeAll();\n  }\n\n  coDichVuPhauThuatThuThuat() {\n    this.apiService.get<any>(\"KhamBenh/IsExitsDVKTPTTT?idYCKB=\" + this.yeuCauKhamBenhId).subscribe(resultData => {\n      this.coPhauThuatThuThuat = resultData;;\n    });\n  }\n\n\n  quayLai() {\n    // this.router.navigate(['/lich-su-kham-benh']);\n    this.location.back();\n\n  }\n\n  @HostListener(\"document:keydown\", [\"$event\"])\n  keyEvent(event: KeyboardEvent) {\n    if (event.keyCode == 27 && !event.ctrlKey) {\n      //esc\n      this.quayLai();\n      event.preventDefault();\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWRvYW4va2hhbS1kb2FuLWtldC1sdWFuLWNscy1rc2sva2V0LXF1YS1tYXUtcG9wdXAva2V0LXF1YS1tYXUtcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import {Component, OnInit, ChangeDetectorRef, Inject} from \"@angular/core\";\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport {MatDialog, MatDialogRef, MAT_DIALOG_DATA} from \"@angular/material\";\nimport {Router} from \"@angular/router\";\nimport { KetQuaMau,KetQuaMauRmove } from '../kham-doan-ket-luan-cls-ksk.model';\n\n@Component({\n  selector: 'app-ket-qua-mau-popup',\n  templateUrl: './ket-qua-mau-popup.component.html',\n  styleUrls: ['./ket-qua-mau-popup.component.scss']\n})\nexport class KetQuaMauPopupComponent implements OnInit {\n  icClose = icClose;\n  ketQuaMau = {} as  KetQuaMau;\n  public isCheck :boolean = true;\n  stringForMatHTML : string[] = ['<span>','</span>','<strong>','</strong>','<em>','</em>','<u>','</u>','<p>','</p>','<del>','</del>','<sub>','</sub>','<sup>','</sup>',\n                                '<br>','<p style=\"text-align: left;\">','<p style=\"text-align: right;\">','<p style=\"text-align: center;\">','<blockquote>','</blockquote>',\n                                '<h1>','</h1>', '<h2>','</h2>', '<h3>','</h3>', '<h4>','</h4>', '<h5>','</h5>', '<h6>','</h6>','<span style=\"font-size: 8px;\">','<span style=\"font-size: 10px;\">',\n                              '<span style=\"font-size: 14px;\">','<span style=\"font-size: 18px;\">','<span style=\"font-size: 24px;\">','<span style=\"font-size: 36px;\">',\n                            '<span style=\"color: undefined\">','<ul>','</ul>','<li>','</li>','<ol>','</ol>','<p style=\"margin-left: 30px;\">','<table class=\"k-table\">','</table>',\n                          '<tbody>','</tbody>','<tr>','</tr>','<td>','</td>' ,'&nbsp;'];\n dataKhiRemove : KetQuaMauRmove[]=[];                         \n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, private dialog: MatDialog, private router: Router, private cdRef: ChangeDetectorRef, private dialogRef: MatDialogRef<any>) {}\n\n  ngOnInit() {\n    this.dataKhiRemove = new Array<KetQuaMauRmove>();\n    this.data.Model.forEach(element => {\n      let obj = new KetQuaMauRmove();\n      if(element.KetQuaCLS != null)\n      {\n        obj.KetQuaCLS = this.removeHtml(element.KetQuaCLS);\n        obj.IsCheck = element.IsCheck;\n        this.dataKhiRemove.push(obj);\n      }\n    });\n  }\n  removeHtml(html:string)\n{\n  let stringRemove = html;\n  this.stringForMatHTML.forEach(element => {\n    stringRemove = this.replaceAll(stringRemove, element,'');\n  });\n   return stringRemove\n}\nreplaceAll(str, find, replace) {\n  return str.replace(new RegExp(find, \"g\"), replace);\n}\n  Ok(){\n    this.dialogRef.close(this.dataKhiRemove);\n  }\n  close() {\n    this.dialogRef.close();\n\t}\n}\n","export class KhamDoanDSNhanVien{\n    public constructor(\n        public SearchString: string = null,\n        public CongTyKhamSucKhoeId : number = null,\n        public HopDongKhamSucKhoeId : number = null,\n        public TenCongTyKhamSucKhoe: string = null,\n        public TenHopDongKhamSucKhoe: string = null,\n        public TrangThaiHopDong : boolean = null,\n        public LaHopDongDaKetLuan: boolean = null,\n        public TrangThai: KhamDoanDanhSachNhanVienTrangThai = new KhamDoanDanhSachNhanVienTrangThai()\n        ){}\n}\nexport class KhamDoanDSDNhanVienDaKl{\n    public constructor(\n        public SearchString: string = null,\n        public CongTyKhamSucKhoeId : number = null,\n        public HopDongKhamSucKhoeId : number = null,\n        public TenCongTyKhamSucKhoe: string = null,\n        public TenHopDongKhamSucKhoe: string = null,\n        public TrangThaiHopDong : boolean = null,\n        public LaHopDongDaKetLuan: boolean = null,\n        public TrangThai: KhamDoanDanhSachNhanVienTrangThai = new KhamDoanDanhSachNhanVienTrangThai()\n        ){}\n}\n\nexport class KhamDoanDanhSachNhanVienTrangThai {\n    public constructor(\n        public ChuaKetLuan: boolean = true,\n        public DaKetLuan : boolean = true\n        ){}\n}\nexport class KhamDoanDSketLuanCLSKhamSucKhoeDoanTimKiem {\n    public constructor(\n        public SearchString: string = null\n        ){}\n}\nexport class KetQuaMau {\n    public constructor(\n        public Id : number = 0,\n        ){}\n}\nexport class ListStatusSelectTab{\n    constructor(\n        public selectedTabChuaKL: boolean = true,\n        public selectedTabDaKL: boolean = false,\n    ) {\n    }\n}\nexport class PhieuInXetNghiemVo {\n    constructor(\n        public NhomDichVuBenhVienId: number = null,\n        public PhienXetNghiemId: number = null,\n        public HostingName: string = null,\n        public Header: boolean = false\n    ) { }\n}\nexport class KhamDoanKetLuanCLS {\n    constructor(\n        public KSKKetQuaCanLamSang: string = \"\",\n        public KSKDanhGiaCanLamSang: string = null,\n        public Id: number = null,\n        public HopDongKhamSucKhoeNhanVienId:number= null\n    ) { }\n}\nexport class ListStatusSelectTabKhamDoanKetLuanCLS {\n    constructor(\n        public selectedTabChuaKL: boolean = true,\n        public selectedTabDaKL: boolean = false,\n    ) {\n    }\n}\nexport class KetQuaMauRmove {\n    public constructor(\n        public KetQuaCLS : string = \"\",\n        public IsCheck : boolean = true\n        ){}\n}\n\nexport class KhamDoanDaKetLuanSearch {\n    constructor(\n        public CongTyKhamSucKhoeId: number = null,\n        public TenCongTy: string = null,\n        public HopDongKhamSucKhoeId: number = null,\n        public TenSoHopDong: string = null,\n        public ChuaKetLuan: boolean = true,\n        public DaKetLuan: boolean = true,\n        public LaHopDongDaKetLuan: boolean = null,\n        public SearchString: string = null,\n    ) {\n    }\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9raGFtLWRvYW4va2hhbS1kb2FuLWtldC1sdWFuL2tldC1sdWFuLWtoYW0tc3VjLWtob2UtZG9hbi1rZXQtcXVhLW1hdS1wb3B1cC9rZXQtbHVhbi1raGFtLXN1Yy1raG9lLWRvYW4ta2V0LXF1YS1tYXUtcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef, MatDialog } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { KhamDoanKetQuaMau } from '../kham-doan-ket-luan.model';\n\n@Component({\n  selector: 'app-ket-luan-kham-suc-khoe-doan-ket-qua-mau-popup',\n  templateUrl: './ket-luan-kham-suc-khoe-doan-ket-qua-mau-popup.component.html',\n  styleUrls: ['./ket-luan-kham-suc-khoe-doan-ket-qua-mau-popup.component.scss']\n})\nexport class KetLuanKhamSucKhoeDoanKetQuaMauPopupComponent implements OnInit {\n  icClose = icClose;\n  khamDoanKetQuaMaus: KhamDoanKetQuaMau[] = [];\n  constructor(\n    private dialog: MatDialog,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    public dialogRef: MatDialogRef<KetLuanKhamSucKhoeDoanKetQuaMauPopupComponent>\n\n  ) { }\n\n  ngOnInit() {\n    this.khamDoanKetQuaMaus = this.data;\n    // console.log(\"khamDoanKetQuaMau:\", this.khamDoanKetQuaMaus)\n  }\n  close() {\n    this.dialog.closeAll();\n  }\n\n  closePopup(result: any) {\n    this.dialogRef.close(result);\n  }\n\n  ok() {\n    this.closePopup(this.khamDoanKetQuaMaus);\n  }\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC1jYW4tbGFtLXNhbi9wdHR0LWNscy1pbi1jaGktZGluaC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHBoYXUtdGh1YXQtdGh1LXRodWF0XFxwaGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXlcXHBoYXUtdGh1YXQtdGh1LXRodWF0LWNhbi1sYW0tc2FuXFxwdHR0LWNscy1pbi1jaGktZGluaFxccHR0dC1jbHMtaW4tY2hpLWRpbmguY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtY2FuLWxhbS1zYW4vcHR0dC1jbHMtaW4tY2hpLWRpbmgvcHR0dC1jbHMtaW4tY2hpLWRpbmguY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC1jYW4tbGFtLXNhbi9wdHR0LWNscy1pbi1jaGktZGluaC9wdHR0LWNscy1pbi1jaGktZGluaC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59IiwiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwMHB4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn0iXX0= */\"","import { Component, OnInit, Inject } from '@angular/core';\n\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MAT_DIALOG_DATA, MatDialog } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\n\n@Component({\n    selector: 'app-pttt-cls-in-chi-dinh',\n    templateUrl: './pttt-cls-in-chi-dinh.component.html',\n    styleUrls: ['./pttt-cls-in-chi-dinh.component.scss']\n})\n\nexport class PtttClsInChiDinhComponent implements OnInit {\n    hostingName: string = '';\n    src: string = '';\n    modelPrint: any;\n    ChonKieuInChung: boolean = true;\n    showLoaiPhieuIn : boolean = false ; // kieu in\n    printLayout: string = 'Portrait';\n    printSize: string = 'A4';\n\n    icClose = icClose;\n\n    constructor(@Inject(MAT_DIALOG_DATA) public data: any, private dialog: MatDialog, private apiService: ApiService, public sanitizer: DomSanitizer) { }\n\n    ngOnInit() {\n        let dialogRef = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: \"Đang tải dữ liệu...\" }\n        });\n\n        this.showLoaiPhieuIn = this.data.Model.InChungChiDinh == 0 ? false : true;\n\n        this.apiService.post<any>(\"PhauThuatThuThuat/InPhieuChiDinh\", this.data.Model).subscribe(res => {\n            this.src= \"data:text/html;charset=utf-8,\" + encodeURIComponent(res);\n            this.modelPrint = res;\n            dialogRef.close();\n        });\n    }\n\n    changeKieuIn(event: any) {\n        this.data.Model.KieuInChung = event;\n\n        this.apiService.post<any>(\"PhauThuatThuThuat/InPhieuChiDinh\", this.data.Model).subscribe(res => {\n            this.src = \"data:text/html;charset=utf-8,\" + encodeURIComponent(res);\n            this.modelPrint = res;\n        });\n    }\n\n    close() {\n        this.dialog.closeAll();\n    }\n\n    getSharedPrintForm(dataPrint: any) {\n        let tmpPhieuChiDinh = \"<table id='showHeader' style='width: 100%; height: 40px; background: #005dab;color:#fff;'> <tr><th rowspan = '3' style = 'font-size: 20px;'>PHIẾU CHỈ ĐỊNH CẬN LÂM SÀNG</th></tr></table>\";\n        let data : string = '';\n\n        data = this.modelPrint.split(tmpPhieuChiDinh).join(\"\");\n        return new Promise(resolve => { \n          resolve(data);\n        });\n    }\n}","export enum EnumLoaiPhieuIn {\n     InChiDinhKhamBenhNgoaiTru= 1,\n     InChiDinhKhamBenhNoiTru = 2,\n}\nexport class QueryObjData\n{\n    constructor(\n        public YeuCauTiepNhanId:number = null,\n        public YeuCauKhamBenhid:number = null,\n        public ListDichVuChiDinh: any[]=[],\n        public InChungChiDinh: number= null,\n        public hosting: string =null,\n        public KieuInChung: true,\n        public GhiChuCanLamSang: string =null,\n        public IsKhamDoanTatCa : string = null,\n        public ListChonLoaiPhieuIn: any[]=[],\n        public EnumInChiDinhKhamBenhNgoaiTru: EnumLoaiPhieuIn = null,\n        public Loai:number=null,\n        public InDichVuBacSiChiDinh:boolean=null, \n    ) { }\n}\nexport class ListInChiDinh {\n    constructor(\n        public nhomChiDinhId: number = 0,\n        public dichVuChiDinhId: number = 0,\n    ) {\n    }\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BvcHVwLWNob24tbG9haS1Jbi9wb3B1cC1jaG9uLWxvYWktaW4tdmlldy9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHBvcHVwLWNob24tbG9haS1JblxccG9wdXAtY2hvbi1sb2FpLWluLXZpZXdcXHBvcHVwLWNob24tbG9haS1pbi12aWV3LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL21haW4vcG9wdXAtY2hvbi1sb2FpLUluL3BvcHVwLWNob24tbG9haS1pbi12aWV3L3BvcHVwLWNob24tbG9haS1pbi12aWV3LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9wb3B1cC1jaG9uLWxvYWktSW4vcG9wdXAtY2hvbi1sb2FpLWluLXZpZXcvcG9wdXAtY2hvbi1sb2FpLWluLXZpZXcuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTAwcHg7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSIsIi5jb250YWluZXItaWZyYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA1MDBweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxuLmNvbnRhaW5lci1pZnJhbWUgaWZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59Il19 */\"","import { Component, OnInit, Inject, ViewChild, TemplateRef } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\nimport { EnumLoaiPhieuIn, QueryObjData, ListInChiDinh } from '../popup-chon-loai-In.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { InBangKhamBenhChiDinhComponent } from '../../kham-benh/kham-benh/lan-kham-hien-tai/in-bang-kham-benh-chi-dinh/in-bang-kham-benh-chi-dinh.component';\nimport { SelectAllCheckboxState } from '@progress/kendo-angular-grid';\nimport { PhieuDieuTriPopupInPhieuClsComponent } from '../../dieu-tri-noi-tru/danh-sach-dieu-tri-noi-tru/phieu-dieu-tri/phieu-dieu-tri-popup-in-phieu-cls/phieu-dieu-tri-popup-in-phieu-cls.component';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { PtttClsInChiDinhComponent } from '../../phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/pttt-cls-in-chi-dinh/pttt-cls-in-chi-dinh.component';\nimport icSearch from \"@iconify/icons-ic/twotone-search\";\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { FormControl } from '@angular/forms';\ndeclare var $: any;\n\n@Component({\n  selector: 'app-popup-chon-loai-in-view',\n  templateUrl: './popup-chon-loai-in-view.component.html',\n  styleUrls: ['./popup-chon-loai-in-view.component.scss']\n})\nexport class PopupChonLoaiInViewComponent implements OnInit {\n\n  hostingName: string;\n  src = '';\n  icClose = icClose;\n  luaChon: number = 1;\n  gridDataSource: any = {\n    data: [],\n    total: 0\n  };\n  ///---------------/////// --> in chỉ định\n  loaiPhieu: any;\n  modelPrint: any;\n  gridColumnsNhom: any[] = [];\n  gridColumnsDichVu: any[] = [];\n  gridColumnsNhomNgoaiTru :any[] = [];\n  gridColumnsDichVuNgoaiTru: any[] = [];\n  listMySectionId: any[] = [];\n  ChonKieuInChung: boolean = true;\n  showLoaiPhieuIn: boolean = false; // kieu in\n  phieuInDichVuKham: any[] = [];\n  phieuInDichVuKyThuat: any[] = [];\n  nhomChiDinhId: number = 0;\n  dichVuChiDinhId: number = 0;\n  listChonDichVuChiDinh: any[] = [];\n  listChonDichVuChiDinhReLoad: any[] = [];\n  public checkAll: boolean = null;\n  checkchonDichVuIn : boolean = false;\n  ///---------------///////\n  public checkboxOnly: boolean = true;\n\n  public selectAllState: SelectAllCheckboxState = 'unchecked';\n  public isCheckAll: boolean = false;\n\n  public isCheckXacNhanIn: boolean = false;\n  listDataSelect = new Array<any>();\n\n  searchString : string =\"\";\n  icSearch = icSearch;\n  searchCtrl = new FormControl('');\n  nhomLoaiInChiDinhKhamBenhNgoaiTru: EnumLoaiPhieuIn = EnumLoaiPhieuIn.InChiDinhKhamBenhNgoaiTru;\n  groups: GroupDescriptor[] = [{ field: 'Nhom' }];\n  dichVuKhacSarsCoVs:number[]=[];\n  arrayLuaChon2s:any[]=[];\n  arrayLuaChon3s:any[]=[];\n  \n  @ViewChild('nhomTemplate', { static: true }) nhomTemplate: TemplateRef<any>;\n  @ViewChild(\"gridTheoNhom\", {read: GridComponent, static: false }) grid: GridComponent;\n  @ViewChild(\"gridTheoDichVu\", { read: GridComponent, static: false }) grids: GridComponent;\n\n  @ViewChild('checkBoxTemplate', { static: true }) checkBoxTemplate: TemplateRef<any>;\n  @ViewChild('checkBoxHeaderTemplate', { static: true }) checkBoxHeaderTemplate: TemplateRef<any>;\n  @ViewChild('checkBoxHeaderGroupTemplate', { static: true }) checkBoxHeaderGroupTemplate: TemplateRef<any>;\n  @ViewChild('checkBoxGroupTemplate', { static: true }) checkBoxGroupTemplate: TemplateRef<any>;\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any,\n    public sanitizer: DomSanitizer,\n    private dialog: MatDialog,\n    public dialogRef: MatDialogRef<PopupChonLoaiInViewComponent>,\n    private apiService: ApiService,\n    private notificationService: NotificationService) {\n  }\n  ngOnInit() {\n    this.gridColumnsNhomNgoaiTru = [\n      { Field: \"CheckBox\", Title: \"\", Width: 35, Template: this.checkBoxGroupTemplate, TemplateHeader: this.checkBoxHeaderGroupTemplate },\n      { Field: 'Nhom', Title: 'Tên', Width: 120 }\n    ];\n    this.gridColumnsDichVuNgoaiTru = [\n      { Field: \"CheckBox\", Title: \"\", Width: 35, Template: this.checkBoxTemplate, TemplateHeader: this.checkBoxHeaderTemplate },\n      { Field: 'Nhom', Title: '', Sortable: false, Hidden: true, HideFilter: true, TemplateGroupHeader: this.nhomTemplate },\n      { Field: 'TenDichVu', Title: 'Tên', Width: 120 }\n    ];\n    this.gridColumnsNhom = [\n      { Field: 'Nhom', Title: 'Tên', Width: 120 }\n    ];\n    this.gridColumnsDichVu = [\n      { Field: 'Nhom', Title: '', Sortable: false, Hidden: true, HideFilter: true, TemplateGroupHeader: this.nhomTemplate },\n      { Field: 'TenDichVu', Title: 'Tên', Width: 120 }\n    ];\n   \n    if (this.luaChon == 1) {\n      \n      if(this.data.Model.ListDichVuChiDinh != null)\n      {\n       let numberArray:any[] =[];\n        this.data.Model.ListDichVuChiDinh.forEach(element => {\n          if(element.nhomChiDinhId == 2)\n          {\n          numberArray.push(element.dichVuChiDinhId);\n          }\n        });\n        this.getListDichVuSarsCoVs(numberArray);\n      }\n      \n    }\n    \n  }\n\n\n  checkboxIn(event: any, dataItem: any) {\n      if (this.grid.gridDataSource.data == undefined) {\n          this.listChonDichVuChiDinh = [];\n      }\n      let index = this.listChonDichVuChiDinh.findIndex(x => x.dichVuChiDinhId == dataItem.Id && x.nhomChiDinhId == dataItem.NhomId);\n      if (event == true) {\n          if (index == -1) {\n              var chiDinh = new ListInChiDinh();\n              chiDinh.nhomChiDinhId = dataItem.NhomId;\n              chiDinh.dichVuChiDinhId = dataItem.Id;\n              this.listChonDichVuChiDinh.push(chiDinh);\n              if (this.listChonDichVuChiDinh.length == this.gridDataSource.total) {\n                  this.checkAll = true;\n              }\n          }\n          else {\n              if (this.listChonDichVuChiDinh.length == this.gridDataSource.total) {\n                  this.checkAll = true;\n              }\n              else {\n                  this.checkAll = false;\n              }\n          }\n\n          dataItem.isCheckRowItem = true;\n      }\n      else {\n          this.checkAll = false;\n          if (index >= 0) {\n              this.listChonDichVuChiDinh.splice(index, 1)\n          }\n      }\n      if (this.listChonDichVuChiDinh.length == this.grid.gridDataSource.total) {\n          this.checkAll = true;\n      }\n      else {\n          this.checkAll = false;\n      }\n      this.isCheckXacNhanIn = this.listChonDichVuChiDinh.length > 0;\n  }\n\n  SelectcheckAllboxIn(event: any) {\n      let gridDataIn: any[] = [];\n      if (this.grid.gridDataSource.data == undefined) {\n          this.listChonDichVuChiDinh = [];\n      }\n      else {\n\n          gridDataIn = this.grid.getAllDataFromDatasource();\n          this.listChonDichVuChiDinh = [];\n      }\n      if (event == true) {\n\n          gridDataIn.forEach(element => {\n              element.isCheckRowItem = true;\n              this.checkAll = true;\n              let index = this.listChonDichVuChiDinh.findIndex(x => x.dichVuChiDinhId == element.Id && x.nhomChiDinhId == element.NhomId);\n              if (index == -1) {\n                  var chiDinh = new ListInChiDinh();\n                  chiDinh.nhomChiDinhId = element.NhomId;\n                  chiDinh.dichVuChiDinhId = element.Id;\n                  this.listChonDichVuChiDinh.push(chiDinh);\n              }\n          })\n      }\n      else {\n\n          gridDataIn.forEach(element => {\n              element.isCheckRowItem = false;\n          });\n          this.listChonDichVuChiDinh = [];\n      }\n      this.isCheckXacNhanIn = this.listChonDichVuChiDinh.length > 0;\n  }\n  // group\n  checkboxInGroup(event: any, dataItem: any) {\n    if (this.grid.gridDataSource.data == undefined) {\n        this.listChonDichVuChiDinh = [];\n    }\n    let index = this.listChonDichVuChiDinh.findIndex(x => x.dichVuChiDinhId == dataItem.Id && x.nhomChiDinhId == dataItem.NhomId);\n    if (event == true) {\n        if (index == -1) {\n            var chiDinh = new ListInChiDinh();\n            chiDinh.nhomChiDinhId = dataItem.NhomId;\n            chiDinh.dichVuChiDinhId = dataItem.Id;\n            this.listChonDichVuChiDinh.push(chiDinh);\n            if (this.listChonDichVuChiDinh.length == this.gridDataSource.total) {\n                this.checkAll = true;\n            }\n        }\n        else {\n            if (this.listChonDichVuChiDinh.length == this.gridDataSource.total) {\n                this.checkAll = true;\n            }\n            else {\n                this.checkAll = false;\n            }\n        }\n\n        dataItem.isCheckRowItem = true;\n    }\n    else {\n        this.checkAll = false;\n        if (index >= 0) {\n            this.listChonDichVuChiDinh.splice(index, 1)\n        }\n    }\n    if (this.listChonDichVuChiDinh.length == this.grid.gridDataSource.total) {\n        this.checkAll = true;\n    }\n    else {\n        this.checkAll = false;\n    }\n    this.isCheckXacNhanIn = this.listChonDichVuChiDinh.length > 0;\n}\n\nSelectcheckAllboxInGroup(event: any) {\n    let gridDataIn: any[] = [];\n    if (this.grid.gridDataSource.data == undefined) {\n        this.listChonDichVuChiDinh = [];\n    }\n    else {\n\n        gridDataIn = this.grid.getAllDataFromDatasource();\n        this.listChonDichVuChiDinh = [];\n    }\n    if (event == true) {\n\n        gridDataIn.forEach(element => {\n            element.isCheckRowItem = true;\n            this.checkAll = true;\n            let index = this.listChonDichVuChiDinh.findIndex(x => x.dichVuChiDinhId == element.Id && x.nhomChiDinhId == element.NhomId);\n            if (index == -1) {\n                var chiDinh = new ListInChiDinh();\n                chiDinh.nhomChiDinhId = element.NhomId;\n                chiDinh.dichVuChiDinhId = element.Id;\n                this.listChonDichVuChiDinh.push(chiDinh);\n            }\n        })\n    }\n    else {\n\n        gridDataIn.forEach(element => {\n            element.isCheckRowItem = false;\n        });\n        this.listChonDichVuChiDinh = [];\n    }\n    this.isCheckXacNhanIn = this.listChonDichVuChiDinh.length > 0;\n}\n  changeLuaChon(event) {\n    if (event == 1) {\n      // this.listDataSelect = [...this.data.Model.ListDichVuChiDinh];\n      if(this.data.Model.ListDichVuChiDinh != null)\n      {\n       let numberArray:any[] =[];\n        this.data.Model.ListDichVuChiDinh.forEach(element => {\n          numberArray.push(element.dichVuChiDinhId);\n        });\n        this.getListDichVuSarsCoVs(numberArray);\n      }\n    }\n    if (event == 2) {\n     \n       let arr: any[] = [];\n\n      this.data.Model.listGridSelect.forEach(element => {\n        if(element.NhomId == 2)\n        {\n          let index = this.dichVuKhacSarsCoVs.findIndex(x => x == element.Id );\n          if (index != -1) {\n            arr.push(element);\n          }\n        }\n        else{\n          arr.push(element);\n        }\n        \n      });\n      // if(this.data.Model.listGridSelect != null)\n      // {\n      //  let numberArray:any[] =[];\n      //  this.data.Model.listGridSelect.forEach(element => {\n      //   if(element.NhomId == 2)\n      //   {\n      //     numberArray.push(element.Id);\n      //   }\n      //   });\n      //   this.getListDichVuSarsCoVs(numberArray);\n      // }\n\n      let dataGrid = [...arr];\n      let flags = [], outputNhom = [], l = dataGrid.length, i;\n      for (i = 0; i < l; i++) {\n        if (flags[dataGrid[i].Nhom]) continue;\n        flags[dataGrid[i].Nhom] = true;\n        outputNhom.push(dataGrid[i]);\n      }\n      let outputNhomXuLy :any[];\n      outputNhomXuLy =[...outputNhom];\n      let outputNhomGroupNhomVaId :any[] = new Array<any>(); // id dịch vụ kỹ thuật có thể trùng với yêu cầu khám bệnh\n      if (this.data.Model.EnumInChiDinhKhamBenhNgoaiTru == this.nhomLoaiInChiDinhKhamBenhNgoaiTru) {\n\n        outputNhomXuLy.forEach(element => {\n          let obj={\n            Id:element.Id + \";\" + element.Nhom + \";\"+ element.NhomId,\n            Nhom:element.Nhom\n          };\n\n          outputNhomGroupNhomVaId.push(obj)\n        });\n      }\n      this.gridDataSource.data = this.data.Model.EnumInChiDinhKhamBenhNgoaiTru == this.nhomLoaiInChiDinhKhamBenhNgoaiTru ? outputNhomGroupNhomVaId : outputNhom;\n      this.gridDataSource.total = this.data.Model.EnumInChiDinhKhamBenhNgoaiTru == this.nhomLoaiInChiDinhKhamBenhNgoaiTru ? outputNhomGroupNhomVaId.length : outputNhom.length;\n      if (this.data.Model.EnumInChiDinhKhamBenhNgoaiTru == this.nhomLoaiInChiDinhKhamBenhNgoaiTru) {\n      this.SelectcheckAllboxIn(true);\n      }\n      this.grid.setDataSource();\n    }\n    if (event == 3) {\n      // if(this.data.Model.listGridSelect != null)\n      // {\n      //  let numberArray:any[] =[];\n      //  this.data.Model.listGridSelect.forEach(element => {\n      //    if(element.NhomId == 2)\n      //    {\n      //     numberArray.push(element.Id);\n      //    }\n      //   });\n      //   this.getListDichVuSarsCoVs(numberArray);\n      // }\n      \n      let arr: any[] = [];\n\n      this.data.Model.listGridSelect.forEach(element => {\n        if (element.NhomId == 2) {\n          let index = this.dichVuKhacSarsCoVs.findIndex(x => x == element.Id);\n          if (index != -1) {\n            arr.push(element);\n          }\n        }\n        else {\n          arr.push(element);\n        }\n\n      });\n\n      let dataGrid = [...arr];\n      this.gridDataSource.data = dataGrid;\n      this.gridDataSource.total = dataGrid.length;\n      if (this.data.Model.EnumInChiDinhKhamBenhNgoaiTru == this.nhomLoaiInChiDinhKhamBenhNgoaiTru) {\n        this.SelectcheckAllboxIn(true);\n        }\n        this.grids.setDataSource();\n    }\n  }\n  extCheckboxSelection(event: any[]) {\n    if (event.length > 0) {\n      this.listMySectionId = event;\n    }\n  }\n\n  huyCheckBoxSelection() {\n    this.gridDataSource.data.forEach((element) => {\n      {\n        if ($('#' + 'marketingselectCheckboxId' + element.Id).prop('checked')) {\n          $('#' + 'marketingselectCheckboxId' + element.Id).trigger('click');\n        }\n      }\n    });\n  }\n  // khám ngoại trú\n  InDichVuChiDinh(kieuin) {\n    let listDataSelect = new Array<any>();\n    this.listChonDichVuChiDinh;\n    if (this.data.Model.EnumInChiDinhKhamBenhNgoaiTru == this.nhomLoaiInChiDinhKhamBenhNgoaiTru) {\n      if(this.luaChon == 2)\n      {\n        let dataGrid = [...this.data.Model.listGridSelect];\n        this.listChonDichVuChiDinh.forEach(element => {\n            if (element.dichVuChiDinhId != undefined && element.dichVuChiDinhId != null && element.dichVuChiDinhId != \"\") {\n              let stringArrayListChonDichVuChiDinh = element.dichVuChiDinhId.split(\";\");\n              if((stringArrayListChonDichVuChiDinh[1] != undefined && stringArrayListChonDichVuChiDinh[1] != null && stringArrayListChonDichVuChiDinh[1] != \"\")\n                  && \n                (stringArrayListChonDichVuChiDinh[2] != undefined && stringArrayListChonDichVuChiDinh[2] != null && stringArrayListChonDichVuChiDinh[2] != \"\"))\n              {\n                dataGrid.forEach(elements => {\n                  if (elements.Nhom == stringArrayListChonDichVuChiDinh[1] && elements.NhomId == stringArrayListChonDichVuChiDinh[2]) {\n                    var chiDinh = new ListInChiDinh();\n                    chiDinh.nhomChiDinhId = elements.NhomId;\n                    chiDinh.dichVuChiDinhId = elements.Id;\n                    listDataSelect.push(chiDinh);\n                  }\n                });\n               \n              }\n            }\n          });\n        \n      }\n      if(this.luaChon == 1)\n      {\n        listDataSelect = this.data.Model.ListDichVuChiDinh;\n      }\n      if(this.luaChon == 3)\n      {\n        listDataSelect = this.listChonDichVuChiDinh;\n      }\n    }\n    else{\n      let listDataSelect = new Array<any>();\n      let data = this.gridDataSource.data.findIndex(x => x.CheckedDefault == true);\n      this.listMySectionId.forEach(element => {\n        this.gridDataSource.data.forEach(elements => {\n           if(elements.Id == element)\n           {\n            let obj = new ListInChiDinh();\n            obj.dichVuChiDinhId = elements.Id;\n            obj.nhomChiDinhId = elements.NhomId;\n            listDataSelect.push(obj);\n           }\n        });\n      });\n    }\n    if(listDataSelect.length == 0)\n    {\n      this.notificationService.showError(\"Chưa chọn dịch vụ in.\")\n    }\n    else{\n      let dataIn = {\n        YeuCauTiepNhanId: this.data.Model.YeuCauTiepNhanId,\n        YeuCauKhamBenhid: this.data.Model.YeuCauKhamBenhid,\n        ListDichVuChiDinh: listDataSelect,\n        InChungChiDinh: kieuin,\n        hosting: window.location.protocol + \"//\" + window.location.host,\n        KieuInChung: true,\n        GhiChuCanLamSang: this.data.Model.GhiChuCanLamSang,\n        IsKhamDoanTatCa: this.data.Model.IsKhamDoanTatCa,\n        InDichVuBacSiChiDinh : this.data.Model.InDichVuBacSiChiDinh\n      }\n      let dialogRef = this.dialog.open(InBangKhamBenhChiDinhComponent, {\n        width: '1000px',\n        data: { Model: dataIn }\n      }).afterClosed().subscribe(result => {\n        this.dialogRef.close();\n      });\n    }\n  }\n  InChiDinhNoiTru(kieuIn){\n    let listDataSelect = new Array<any>();\n    this.listChonDichVuChiDinh;\n    if (this.data.Model.EnumInChiDinhKhamBenhNgoaiTru == this.nhomLoaiInChiDinhKhamBenhNgoaiTru) {\n      if(this.luaChon == 2)\n      {\n        let dataGrid = [...this.data.Model.listGridSelect];\n        this.listChonDichVuChiDinh.forEach(element => {\n            if (element.dichVuChiDinhId != undefined && element.dichVuChiDinhId != null && element.dichVuChiDinhId != \"\") {\n              let stringArrayListChonDichVuChiDinh = element.dichVuChiDinhId.split(\";\");\n              if((stringArrayListChonDichVuChiDinh[1] != undefined && stringArrayListChonDichVuChiDinh[1] != null && stringArrayListChonDichVuChiDinh[1] != \"\")\n                  && \n                (stringArrayListChonDichVuChiDinh[2] != undefined && stringArrayListChonDichVuChiDinh[2] != null && stringArrayListChonDichVuChiDinh[2] != \"\"))\n              {\n                dataGrid.forEach(elements => {\n                  if (elements.Nhom == stringArrayListChonDichVuChiDinh[1] && elements.NhomId == stringArrayListChonDichVuChiDinh[2]) {\n                    var chiDinh = new ListInChiDinh();\n                    chiDinh.nhomChiDinhId = elements.NhomId;\n                    chiDinh.dichVuChiDinhId = elements.Id;\n                    listDataSelect.push(chiDinh);\n                  }\n                });\n               \n              }\n            }\n          });\n        \n      }\n      if(this.luaChon == 1)\n      {\n        listDataSelect = this.data.Model.ListDichVuChiDinh;\n      }\n      if(this.luaChon == 3)\n      {\n        listDataSelect = this.listChonDichVuChiDinh;\n      }\n    }\n    else{\n      let listDataSelect = new Array<any>();\n      let data = this.gridDataSource.data.findIndex(x => x.CheckedDefault == true);\n      this.listMySectionId.forEach(element => {\n        this.gridDataSource.data.forEach(elements => {\n           if(elements.Id == element)\n           {\n            let obj = new ListInChiDinh();\n            obj.dichVuChiDinhId = elements.Id;\n            obj.nhomChiDinhId = elements.NhomId;\n            listDataSelect.push(obj);\n           }\n        });\n      });\n    }\n    if(listDataSelect.length == 0)\n    {\n      this.notificationService.showError(\"Chưa chọn dịch vụ in.\")\n    }\n    else{\n      let dataIn = {\n        YeuCauTiepNhanId: this.data.Model.YeuCauTiepNhanId,\n        YeuCauKhamBenhid: this.data.Model.YeuCauKhamBenhid,\n        PhieuDieuTriId: this.data.Model.PhieuDieuTriId,\n        ListDichVuChiDinh: listDataSelect,\n        InChungChiDinh: kieuIn,\n        hosting: window.location.protocol + \"//\" + window.location.host,\n        KieuInChung: true,\n        GhiChuCanLamSang: this.data.Model.GhiChuCanLamSang,\n        IsKhamDoanTatCa: this.data.Model.IsKhamDoanTatCa,\n      };\n               let dialogRefa = this.dialog.open(PhieuDieuTriPopupInPhieuClsComponent, {\n                          width: '1000px',\n                          data: { Model: dataIn }\n                      }).afterClosed().subscribe(result => {\n                      });\n    }\n  }\n  InChiDinhPTTT(kieuIn){\n    let listDataSelect = new Array<any>();\n    this.listChonDichVuChiDinh;\n    if (this.data.Model.EnumInChiDinhKhamBenhNgoaiTru == this.nhomLoaiInChiDinhKhamBenhNgoaiTru) {\n      if(this.luaChon == 2)\n      {\n        let dataGrid = [...this.data.Model.listGridSelect];\n        this.listChonDichVuChiDinh.forEach(element => {\n            if (element.dichVuChiDinhId != undefined && element.dichVuChiDinhId != null && element.dichVuChiDinhId != \"\") {\n              let stringArrayListChonDichVuChiDinh = element.dichVuChiDinhId.split(\";\");\n              if((stringArrayListChonDichVuChiDinh[1] != undefined && stringArrayListChonDichVuChiDinh[1] != null && stringArrayListChonDichVuChiDinh[1] != \"\")\n                  && \n                (stringArrayListChonDichVuChiDinh[2] != undefined && stringArrayListChonDichVuChiDinh[2] != null && stringArrayListChonDichVuChiDinh[2] != \"\"))\n              {\n                dataGrid.forEach(elements => {\n                  if (elements.Nhom == stringArrayListChonDichVuChiDinh[1] && elements.NhomId == stringArrayListChonDichVuChiDinh[2]) {\n                    var chiDinh = new ListInChiDinh();\n                    chiDinh.nhomChiDinhId = elements.NhomId;\n                    chiDinh.dichVuChiDinhId = elements.Id;\n                    listDataSelect.push(chiDinh);\n                  }\n                });\n               \n              }\n            }\n          });\n        \n      }\n      if(this.luaChon == 1)\n      {\n        listDataSelect = this.data.Model.ListDichVuChiDinh;\n      }\n      if(this.luaChon == 3)\n      {\n        listDataSelect = this.listChonDichVuChiDinh;\n      }\n    }\n    else{\n      let listDataSelect = new Array<any>();\n      let data = this.gridDataSource.data.findIndex(x => x.CheckedDefault == true);\n      this.listMySectionId.forEach(element => {\n        this.gridDataSource.data.forEach(elements => {\n           if(elements.Id == element)\n           {\n            let obj = new ListInChiDinh();\n            obj.dichVuChiDinhId = elements.Id;\n            obj.nhomChiDinhId = elements.NhomId;\n            listDataSelect.push(obj);\n           }\n        });\n      });\n    }\n    if(listDataSelect.length == 0)\n    {\n      this.notificationService.showError(\"Chưa chọn dịch vụ in.\")\n    }\n    else{\n      let dataIn = {\n        YeuCauTiepNhanId: this.data.Model.YeuCauTiepNhanId,\n        YeuCauKhamBenhid: this.data.Model.YeuCauKhamBenhid,\n        PhieuDieuTriId: this.data.Model.PhieuDieuTriId,\n        ListDichVuChiDinh: listDataSelect,\n        InChungChiDinh: kieuIn,\n        hosting: window.location.protocol + \"//\" + window.location.host,\n        KieuInChung: true,\n        GhiChuCanLamSang: this.data.Model.GhiChuCanLamSang,\n        IsKhamDoanTatCa: this.data.Model.IsKhamDoanTatCa,\n      };\n               let dialogRefa = this.dialog.open(PtttClsInChiDinhComponent, {\n                          width: '1000px',\n                          data: { Model: dataIn }\n                      }).afterClosed().subscribe(result => {\n                      });\n    }\n  }\n  close(event) {\n    this.dialogRef.close();\n  }\n\n\n  searchChanges(){\n    if(this.searchString != undefined && this.searchString != null && this.searchString != \"\")\n    {\n      \n    }\n    else{\n      this.timKiemGridDataSource(this.searchString);\n    }\n  }\n  onKey(event:any){\n    if (event.key == \"Enter\") {\n      this.timKiemGridDataSource(this.searchString);\n    }\n  }\n  timKiemGridDataSource(searching)\n  {\n    if(searching == undefined && searching == null && searching ==\"\")\n    {\n      this.changeLuaChon(3);\n    }\n    else{\n      this.changeLuaChon(3);\n      if(this.gridDataSource.data.length != 0)\n      {\n        let queryStringSearch = JSON.stringify(this.gridDataSource.data);\n        let modelSearch={\n          DanhSachCanSearchs :queryStringSearch,\n          Searching : searching\n        };\n        this.apiService.post<any>(\"KhamBenh/TimKiemGridPopUpInChiDinhKhamBenh\", modelSearch).subscribe(\n          (result) => {\n            this.gridDataSource.data = result;\n            this.gridDataSource.total = result.length;\n          \n            //this.grids.gridDataSource = this.gridDataSource;\n            this.grids.setDataSource();\n          },\n          (err: ApiError) => {\n              if (err.Message !== 'Validation Failed') {\n                  this.notificationService.showError(err.Message);\n              }\n          });\n       \n      }\n    }\n  \n  }\n  // BVHD-3761\n    //================================================================================================\n  getListDichVuSarsCoVs(arr: any) {\n    let obj = {\n      YeuCauDichVuKyThuatIds: arr\n    };\n    this.apiService.post<Array<any>>(\"TiepNhanBenhNhan/GetKiemTraYeuCauDichVuKyThuatThuocNhomSarsCov2\", obj).subscribe(\n      resultData => {\n        this.dichVuKhacSarsCoVs = [];\n        this.dichVuKhacSarsCoVs = resultData;\n\n        // lựa chọn 1\n        //=========================================================================================\n        let arr: any[] = [];\n\n        this.data.Model.ListDichVuChiDinh.forEach(element => {\n          if(element.nhomChiDinhId == 2)\n          {\n            let index = this.dichVuKhacSarsCoVs.findIndex(x => x == element.dichVuChiDinhId);\n            if (index != -1) {\n  \n              arr.push(element);\n            }\n          }\n          else{\n            arr.push(element);\n          }\n          \n        });\n        this.listDataSelect = arr;\n        //=========================================================================================\n\n         // lựa chọn 2\n        //=========================================================================================\n        let arrLuaChon2: any[] = [];\n\n        this.data.Model.listGridSelect.forEach(element => {\n          if(element.NhomId == 2)\n          {\n            let index = this.dichVuKhacSarsCoVs.findIndex(x => x == element.Id );\n            if (index != -1) {\n  \n              arrLuaChon2.push(element);\n            }\n          }\n          else{\n            arrLuaChon2.push(element);\n          }\n          \n        });\n        this.arrayLuaChon2s = arrLuaChon2;\n        //=========================================================================================\n        \n        // lựa chọn 3\n        //=========================================================================================\n        let arrLuaChon3: any[] = [];\n\n        this.data.Model.listGridSelect.forEach(element => {\n          if(element.NhomId == 2)\n          {\n            let index = this.dichVuKhacSarsCoVs.findIndex(x => x == element.Id );\n            if (index != -1) {\n  \n              arrLuaChon3.push(element);\n            }\n          }else{\n            arrLuaChon3.push(element);\n          }\n        });\n        this.arrayLuaChon3s = arrLuaChon3;\n        //=========================================================================================\n      });\n  }\n  //================================================================================================\n}\n","import { DateTime } from \"luxon\";\nimport { DanhSachDichVuChonTrongLanPopup, ListDichVuCheckTruocDo, ThemChiDinhDichVu } from '../tiep-nhan-benh-nhan.model';\n\nexport class DanhSachChoKham {\n  constructor(\n    //public Phong: string = \"\",\n    public SearchString: string = null,\n    public DoiTuongId: number = null,\n    public DoiTuongBHYT: number = null,\n    public DoiTuong: string = null,\n    public KhoaPhongId: number = null,\n    public TenBenh: string = null,\n    public BenhNhanId: number = null,\n    public HoTen: string = null,\n    public NamSinh: number = null,\n    public DiaChi: string = null,\n    public BhytmaSoThe: string = null,\n    public MaYeuCauTiepNhan: string = null,\n    public ThoiDiemTiepNhan: DateTime = null,\n    public ThoiDiemTiepNhanTuFormat: any = null,\n    public ThoiDiemTiepNhanDenFormat: any = null,\n    public ThoiDiemTiepNhanTu: any = null,\n    public ThoiDiemTiepNhanDen: any = null,\n    public NhanVienTiepNhanId: number = null,\n    public NoiTiepNhanId: number = null,\n    public TrieuChungId: number = null,\n    public TrieuChungTiepNhan: string = null,\n    public TrangThaiYeuCauTiepNhan: number = null,\n    public ThoiDiemCapNhatTrangThai: DateTime = null,\n    public FromDate: any = null,\n    public ToDate: any = null,\n    public CoBHYT: boolean = null,\n\n  ) { }\n}\nexport class TagItem {\n  constructor(\n    public Key: string = null,\n    public Value: string = null,\n    public ValueDisplay: string = null,\n    public Title: string = null\n  ) { }\n}\n\nexport class modelUpdateView {\n  constructor(\n    public YeuCauTiepNhanId: number = null,\n    public BenhNhanid: number = null,\n    public MucHuongBHYT: number = null,\n    public Data: ThemChiDinhDichVu[] = null,\n    public ListDichVuCheckTruocDos :ListDichVuCheckTruocDo[] = []\n  ) { }\n}\n\n//CheckDuSoLuongTonTrongGoiListDichVu\nexport class CheckDuSoLuongTonTrongGoiListDichVu {\n  constructor(\n    public LstDichVuThem: ThemChiDinhDichVu[] = null\n  ) { }\n}\n\nexport class ThongTinBenhNhans {\n  constructor(\n    public MaYeuCauTiepNhan: string = null,\n    public BenhNhanId: number = null,\n    public HoTen: string = null,\n    public TenGioiTinh: string = null,\n    public Tuoi: number = null,\n    public SoDienThoai: number = null,\n    public DanToc: string = null,\n    public DiaChi: string = null,\n    public NgheNghiep: string = null,\n    public TuyenKham: string = null,\n    public BHYTMucHuong: number = null,\n    public TenLyDoTiepNhan: string = null,\n    public ThoiDiemTiepNhanDisplay: string = null,\n    public NamSinh: number = null,\n    public ThangSinh: number = null,\n    public NgaySinh: number = null,\n    public TuoiThoiDiemHienTai: string = null,\n    public TenLyDoKhamBenh: string = null,\n    public MaBN: string = null,\n    public SoBHYT: string = null,\n    public CoBHYT: boolean = null,\n    public BHYTNgayHieuLuc: Date = null,\n    public BHYTNgayHetHan: string = null,\n    public BHYTThoiGianHieuLucDisplay: string = null,\n    public IsBHYTHetHan: boolean = null,\n    public TenCongTy: string = null,\n    public LoaiYeuCauTiepNhan: number = null,\n\n    //BVHD-3800\n    public LaCapCuu: boolean = null\n  ) { }\n}\nexport class TimKiemThongTinBenhNhan {\n  constructor(public TimKiemMaBNVaMaTN: string = null) { }\n}\n\nexport class GoiDichVuMarketingDangChonTiepNhan{\n  constructor(\n      public YeuCauGoiDichVuId: number = null,\n      public ChuongTrinhGoiDichVuId: number = null,\n      public TenGoiDichVu: string = null,\n      public TongTienConBaoLanhDuoc: number = 0,\n      public IsChecked: boolean = null,\n      public DichVus: Array<DanhSachDichVuChonTrongLanPopup> = []\n  ) { }\n}","import { DateTime } from 'luxon';\nimport { LookupItemVo } from 'src/app/shared/models/common.model';\n\nexport class LayMauXetNghiemTimKiem {\n    public constructor(\n        public SearchString: string = null,\n        public TrangThai: LayMauXetNghiemTimKiemTrangThai = new LayMauXetNghiemTimKiemTrangThai(),\n        public TuNgayDenNgay: LayMauXetNghiemTimKiemDateRange = new LayMauXetNghiemTimKiemDateRange(),\n        public IsGridChuaCapCode: boolean = false\n        ){}\n}\n\nexport class LayMauXetNghiemTimKiemTrangThai {\n    public constructor(\n        public ChoLayMau: boolean = true,\n        public ChoGuiMau: boolean = false,\n        public ChoKetQua: boolean = false,\n        public ChoDuyetKetQua: boolean = false,\n        public DaCoKetQUa: boolean = false,\n        public DaLayMau: boolean = false\n        ){}\n}\n\nexport class LayMauXetNghiemTimKiemDateRange {\n    public constructor(\n        public startDate: Date = null,\n        public endDate: Date = null,\n        public TuNgay: string = null,\n        public DenNgay: string = null\n        ){}\n}\n\n\nexport class ThongTinYeuCauTiepNhanLayMau {\n    public constructor(\n        public YeuCauTiepNhanId: number = null,\n        public BenhNhanId: number = null,\n        public MaBenhNhan: string = null,\n        public MaTiepNhan: string = null,\n        public HoTen: string = null,\n        public NgaySinh: number = null,\n        public ThangSinh: number = null,\n        public NamSinh: number = null,\n        public Tuoi: number = null,\n        public TenGioiTinh: string = null,\n        public SoDienThoai: string = null,\n        public Tuyen: string = null,\n        public SoTheBHYT: string = null,\n        public MucHuong: number = null,\n        public DanToc: string = null,\n        public DiaChi: string = null,\n        public NgheNghiep: string = null,\n        public IsTraKetQua: boolean = false,\n        public TraKetQuaChoBenhNhan: string = null,\n        public IsAutoBarcode: boolean = false,\n        public IsCoDuKetQua: boolean = false,\n        public IsCoPhienChiTietCoKetQua: boolean = false,\n        public IsNhanVienKhoaXetNghiem: boolean = false,\n\n        //BVHD-3364\n        public TenCongTy: string = null\n        ){}\n}\n\nexport class XacNhanLayMauXetNghiem {\n    public constructor(\n        public YeuCauTiepNhanId: number = null,\n        public BenhNhanId: number = null,\n        public PhienXetNghiemId: number = null,\n        public NhomDichVuBenhVienId: number = null,\n        public BarcodeNumber: number = null,\n        public BarcodeId: string = null\n        ){}\n}\n\nexport class LayMauXetNghiemBarcodeQueryInfo {\n    public constructor(\n        public YeuCauTiepNhanId: number = null,\n        public BarcodeNumbers: Array<LookupItemVo> = new Array<LookupItemVo>()\n        ){}\n}\n\nexport class GuiMauXetNghiem {\n    public constructor(\n        public NhanVienGuiMauId: number = null,\n        public TenNhanVienGuiMau: string = null,\n        public ThoiDiemGuiMau: Date = null,\n        public PhongNhanMauId: number = null,\n        public GhiChu: string = null,\n        public NhomMauGuis: Array<XacNhanLayMauXetNghiem> = new Array<XacNhanLayMauXetNghiem>()\n    ) { }\n}\n\nexport class LayMauXetNghiemInBarcode {\n    public constructor(\n        public YeuCauTiepNhanId: number = null,\n        public BarcodeId: string = null,\n        public BarcodeNumber: number = null,\n        public SoLuong: number = null,\n        public HostingName: string = null\n    ) { }\n}\nexport class KiemTraBarcodeLayMauXetNghiem {\n    public constructor(\n        public YeuCauTiepNhanId: number = null,\n        public BarcodeNumber: string = null,\n        public IsInBarcode: boolean = false,\n        public SoLuong: number = null,\n        public IsCapMoi: boolean = false,\n        public BarcodeString = null,\n        public IsCapBarcodeChoDichVu: boolean = null\n    ) { }\n}\n\nexport class InPhieuKetQuaLayMau {\n    constructor(\n        public HostingName: string = null,\n        public Header: boolean = null,\n        public YeuCauTiepNhanId: number = null,\n        public PhienXetNghiemId: number = null,     \n        public LoaiIn: number = null,\n        public ListIn :any[]=[]\n    ) { }\n}\n\nexport class CapBarcodeTheoDichVu {\n    public constructor(\n        public YeuCauTiepNhanId: number = null,\n        public BenhNhanId: number = null,\n        public BarcodeNumber: number = null,\n        public BarcodeId: string = null,\n        public SoLuong: number = null,\n        public YeuCauDichVuKyThuatIds: Array<number> = new Array<number>()\n    ) { }\n}","export enum BoPhan {\n    TiepNhanNgoaiTru = 1,\n    TiepNhanNoiTru = 2,\n    KhamBenh = 3,\n    PTTT = 4,\n    TiemChung = 5\n}\n\n","export enum LoaiThuocHoacHoatChat{\n    ThuocTanDuoc = 1,\n    ChePham = 2,\n    ViThuoc = 3,\n    PhongXa = 4,\n    TanDuocTuBaoChe = 5,\n    ChePhamTuBaoChe = 6\n}\n\n\nexport enum LoaiThuocTheoQuanLy{\n    ThuocThuong = 1,\n    DongY = 2,\n    GayNghien = 3,\n    HuongThan = 4,\n    ThuocDoc = 5,\n    ThuocCamTrongMotSoLinhVuc = 6,\n    ThuocDieuTriLao = 7,\n    ThuocPhongxa = 8,\n    ThuocCorticoid = 9,\n    ThuocDieuTriUngThuDaiNgay = 10,\n    KhangSinh = 11,\n\n}","export enum TinhTrangThe{\n    ConHieuLuc = 1,\n    HetHieuLuc = 2,\n    KhongXacDinh = 3,\n}"],"sourceRoot":"webpack:///"}