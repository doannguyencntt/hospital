{"version":3,"sources":["./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-xn-covid/in-phieu-xn-covid.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.html","./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-xn-covid/in-phieu-xn-covid.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/in-phieu-xn-covid/in-phieu-xn-covid.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/popup-dich-vu-check-trung/popup-dich-vu-check-trung.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-check-trung/popup-marketing-check-trung.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-routing.module.ts","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.module.ts","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.service.ts","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component.ts","./src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.scss","./src/app/modules/main/tiep-nhan-benh-nhan/xn-covid-popup/xn-covid-popup.component.ts"],"names":[],"mappings":"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","file":"default~tiep-nhan-benh-nhan-danh-sach-cho-kham-danh-sach-cho-kham-module~tiep-nhan-benh-nhan-lich-su~2cabf56a-es2015.js","sourcesContent":["export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div fxFlex=\\\"100%\\\">\\n        <span fxFlex=\\\"20%\\\" style=\\\"padding-top: 20px;\\\">XEM TRƯỚC KHI IN</span>\\n    </div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div class=\\\"container-iframe\\\">\\n        <iframe width=\\\"100%\\\" style=\\\"height: 500px;\\\" [src]=\\\"src | safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n\\n</mat-dialog-content>\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <!-- in phiếu DvKT -->\\n    <app-print-form textPrint=\\\"In Phiếu Chỉ Định CLS\\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"A4\\\" (click)=\\\"InPhieu(1)\\\" \\n         [bodyComponent]=\\\"this\\\">\\n    </app-print-form>  \\n    <!-- in phiếu Dvkham -->\\n    <app-print-form textPrint=\\\"In Phiếu Khám Bệnh\\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"A5\\\" typeLayout=\\\"landscape\\\"(click)=\\\"InPhieu(2)\\\" \\n    [bodyComponent]=\\\"this\\\">\\n  </app-print-form>  \\n   <!-- in phiếu Dv giuong -->\\n   <!-- <app-print-form textPrint=\\\"In Dịch Vụ Giường\\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"A4\\\" (click)=\\\"InPhieu(4)\\\" \\n   (click)=\\\"InPhieu\\\" [bodyComponent]=\\\"this\\\" >\\n </app-print-form>   -->\\n  <!-- in phiếu Dv test Xn covid  -->\\n   <app-print-form textPrint=\\\"In phiếu Chỉ định xét nghiệm\\n   \\\" type=\\\"PDF\\\" [event]=\\\"data\\\" style=\\\"text-align: right;\\\" typeSize=\\\"A4\\\" (click)=\\\"InPhieu(3)\\\" \\n   (click)=\\\"InPhieu\\\" [bodyComponent]=\\\"this\\\" >\\n </app-print-form>  \\n\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div>XEM TRƯỚC KHI IN</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"overflow:hidden\\\">\\n    <div class=\\\"container-iframe\\\">\\n        <iframe width=\\\"100%\\\" style=\\\"height: 500px;\\\" [src]=\\\"src| safe\\\" allowTransparency=\\\"true\\\"\\n            background=\\\"transparent\\\"></iframe>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <app-print-form textPrint=\\\"In phiếu chỉ định xét nghiệm\\\" type=\\\"PDF\\\" [event]=\\\"modelPrint\\\" [bodyComponent]=\\\"this\\\">\\n    </app-print-form>\\n</mat-dialog-actions>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>XÁC NHẬN</div>\\n    <!-- <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button> -->\\n</div>\\n\\n<mat-dialog-content>\\n    <!-- <h3 class=\\\"sub-title\\\">Thông Tin Thẻ</h3> -->\\n    <div>\\n        Dịch vụ này đã được thêm vào trước đó. Bạn có chắc chắn muốn thêm dịch vụ này hay không?\\n    </div>\\n    \\n</mat-dialog-content>\\n\\n\\n<mat-dialog-actions style=\\\"margin-top: 20px;\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" (click)=\\\"Khong()\\\">Không</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"Co()\\\">Có</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Xác Nhận</div>\\n    <!-- <button (click)=\\\"close()\\\" type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button> -->\\n</div>\\n\\n<mat-dialog-content style=\\\"margin-bottom: 20px;\\\">\\n    <div class=\\\"div-tag-content\\\">\\n        <div style=\\\"margin-bottom: 10px;\\\">Dịch vụ cảnh báo:</div>\\n        <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n            [gridDataSource]=\\\"danhSachGoiDaChonTrongLanPopup\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n            [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\">\\n        </app-grid>\\n        <div style=\\\"margin-top: 10px;\\\">Ngoài ra tất cả các dịch vụ khác sẽ được thêm vào, bạn có chấp nhận không ?</div>\\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"null\\\" (click)=\\\"Khong()\\\">Không</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"Co()\\\">Có</button>\\n</mat-dialog-actions>\\n\\n\\n<ng-template #canhBaoTemplate let-dataItem>\\n    <span>Trùng</span>\\n</ng-template>\\n\\n<ng-template #actionTemplate let-dataItem>\\n    <app-checkbox [(model)]=\\\"dataItem.KhongThem\\\" id=\\\"khongThem-{{dataItem.Id}}\\\"\\n        label=\\\"Không thêm\\\"></app-checkbox>\\n    <!-- <app-textboxnumeric id=\\\"abc-{{dataItem.Id}}\\\" [disabled]=\\\"!dataItem.IsActive || !dataItem.IsChecked\\\" [(model)]=\\\"dataItem.SoLuongDungLanNay\\\"\\n        class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"(!dataItem.IsActive || !dataItem.IsChecked) ? 0 : 1\\\" [max]=\\\"dataItem.TenNhomDichVu == 'DỊCH VỤ KHÁM BỆNH' ? 1 : (dataItem.SoLuongConLai)\\\"\\n        (modelChange)=\\\"changeSoLuongDichVu($event, dataItem)\\\"> \\n    </app-textboxnumeric> -->\\n</ng-template>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Gói dịch vụ</div>\\n    <button (click)=\\\"close()\\\" type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"min-height: 200px;\\\">    \\n    <kendo-splitter orientation=\\\"horizontal\\\">\\n        <kendo-splitter-pane>\\n            <div class=\\\"pane-content\\\">\\n                <app-grid #parentGrid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n                [urlGetData]=\\\"urlGetDataGrid\\\" [urlGetTotalPage]=\\\"urlGetTotalPageGrid\\\" [additionalSearchString]=\\\"searchStringDefault\\\"\\n                [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [HideHeader]=\\\"true\\\" [documentType]=\\\"documentType\\\"\\n                [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" urlGetData=\\\"KhamBenh/GetGoiDichVuCuaBenhNhanDataForGrid\\\" urlGetTotalPage=\\\"KhamBenh/GetGoiDichVuCuaBenhNhanTotalPageForGrid\\\"\\n                [headerTemplate]=\\\"headerTemplate\\\" \\n                [pageable]=\\\"false\\\" [detailTemplate]=\\\"detailTemplate\\\" (extOnDataBound)=\\\"xemChiTietGoiDichVu($event)\\\">\\n            </app-grid>\\n            </div>\\n        </kendo-splitter-pane>\\n        <kendo-splitter-pane [collapsible]=\\\"true\\\" size=\\\"30%\\\">\\n            <div class=\\\"pane-content p-3\\\" style=\\\"height: 100%;\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                    <h3 fxFlex=\\\"100%\\\">Dịch vụ sử dụng cho lần này</h3>\\n                    <ng-container *ngIf=\\\"danhSachDichVuDaChonTrongLanPopup.length > 0\\\">\\n                        <ng-container *ngFor=\\\"let goiDichVu of arrGoiDangChon\\\">\\n                            <table class=\\\"mb-2\\\" *ngIf=\\\"kiemTraGoiDichVuCoChonDichVu(goiDichVu.YeuCauGoiDichVuId)\\\" fxFlex=\\\"100%\\\">\\n                                <tr>\\n                                    <th colspan=\\\"3\\\" style=\\\"text-align: left;\\\">\\n                                        {{goiDichVu.TenGoiDichVu}}\\n                                    </th>\\n                                    <th><span *ngIf=\\\"goiDichVu.IsChecked\\\" class='text-right-td' style=\\\"color: green;\\\">Đã đăng ký</span></th>\\n                                </tr>\\n                                <ng-container *ngFor=\\\"let dichVu of getArrayDichVuDaChonTheoGoi(goiDichVu.YeuCauGoiDichVuId)\\\">\\n                                    <tr>\\n                                        <td width='35%' style=\\\"max-width: 150px;\\\" class='reverse-ellipsis r' kendoTooltip title=\\\"{{dichVu.TenDichVu}}\\\">- {{dichVu.TenDichVu}}</td>\\n                                        <td width='5%' class='text-left-td'>{{dichVu.SoLuongDungLanNay}}</td>\\n                                        <td width='20%' class='text-right-td'>{{dichVu.DonGia | number}}</td>\\n                                        <td width='20%' class='text-right-td'>{{(dichVu.SoLuongDungLanNay * dichVu.DonGia) | number}}</td>\\n                                    </tr>\\n                                </ng-container>\\n                                <tr>\\n                                    <td colspan=\\\"3\\\" class='text-right-td'>Tổng: </td>\\n                                    <td class='text-right-td'><b>{{tinhTongTienDichVuDangChon(goiDichVu.YeuCauGoiDichVuId) | number}}</b></td>\\n                                </tr>\\n                                <tr *ngIf=\\\"goiDichVu.TongTienConBaoLanhDuoc < tinhTongTienDichVuDangChon(goiDichVu.YeuCauGoiDichVuId)\\\">\\n                                    <td colspan='4' class='text-right-td text-red khong-du-bao-lanh' [attr.name]=\\\"'lbl-khong-du-bao-lanh'\\\">Không đủ bảo lãnh</td>\\n                                </tr>\\n                            </table>\\n                        </ng-container>\\n                    </ng-container>\\n                    <ng-container *ngIf=\\\"danhSachDichVuDaChonTrongLanPopup.length == 0\\\">\\n                        Chưa chọn dịch vụ\\n                    </ng-container>\\n                </div>\\n            </div>\\n        </kendo-splitter-pane>\\n    </kendo-splitter>\\n    \\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"null\\\">Hủy</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"luuDichVuChiDinh()\\\">Chọn</button>\\n</mat-dialog-actions>\\n\\n<ng-template #detailTemplate let-dataItem>\\n    <app-grid class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumnsChild\\\" [useAddDeault]=\\\"false\\\" [documentType]=\\\"documentType\\\"\\n        [useHeaderDefault]=\\\"true\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" \\n        [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\" [groups]=\\\"groups\\\"\\n        masterName=\\\"gridChiTietGoiDichVu\\\"\\n        urlGetData=\\\"TiepNhanBenhNhan/GetDataDichVuGoiForGridAsync\\\" urlGetTotalPage=\\\"TiepNhanBenhNhan/GetTotalDichVuGoiPageForGridAsync\\\"\\n        [dataItemParent]=\\\"dataItem\\\"\\n        [additionalSearchString]=\\\"benhNhanId + '|' + dataItem.Id + '|' + danhSachDichVuDaChonTrongLanPopupString + '|' + danhSachDichVuDaChonTrongLanYCTNNayString\\\">\\n    </app-grid>\\n    <!-- (extCheckboxSelection)=\\\"chonDichVuTrongGoi($event)\\\" [hideDetailSelectedCheckbox]=\\\"true\\\" -->\\n</ng-template>\\n\\n<ng-template #headerTemplate>\\n    <div class=\\\"bg-app-bar p-0 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n        <div style=\\\"margin-top: 5px;\\\" class=\\\"bg-card rounded-full border mb-1 ml-2\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n                <ic-icon class=\\\"ml-4\\\" [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n                <input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n                    type=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"searchString\\\" (keyup)=\\\"onKeyGrid($event)\\\"\\n                    (ngModelChange)=\\\"clearSearch()\\\"\\n                    placeholder=\\\"Nhập từ khóa...\\\" />\\n        </div>\\n\\n    </div>\\n</ng-template>\\n\\n<ng-template #tenGoiTemplate let-dataItem>\\n    <!-- <div style=\\\"display: flex; align-items: flex-end; color: green;\\\">\\n        <span style=\\\"margin-left: 10px;\\\" class=\\\"span-1-goi-marketing l\\\" position=\\\"right\\\" title=\\\"{{dataItem.TenDisplay}}\\\" kendoTooltip>{{dataItem.TenDisplay}}</span>\\n        <span class=\\\"span-trang-thai\\\"\\n            [ngStyle]=\\\"{'color':dataItem.TrangThai == 1 ? 'orange' : (dataItem.TrangThai == 2 ? 'green' : 'red') }\\\">{{dataItem.TrangThaiDisplay}}</span> \\n    </div> -->\\n\\n    <div style=\\\"display: flex; justify-content: space-between; color: green;\\\">\\n        <!-- <app-checkbox [disabled]=\\\"dataItem.TrangThai != 6 && dataItem.TrangThai != null\\\" (modelChange)=\\\"checkedChange($event, dataItem)\\\" [(model)]=\\\"dataItem.IsChecked\\\" \\n        id=\\\"IsChecked{{dataItem.Id}}\\\"></app-checkbox>  -->\\n        <span class=\\\"span-1-goi-marketing l\\\" position=\\\"right\\\" style=\\\"margin-left: 10px;\\\" title=\\\"{{dataItem.TenDisplay}}\\\"\\n            kendoTooltip>\\n            {{dataItem.TenDisplay}}</span>\\n        <!-- <span class=\\\"span-2-goi-marketing\\\"\\n            [ngStyle]=\\\"{'color':dataItem.TrangThai == 1 ? 'orange' : (dataItem.TrangThai == 2 ? 'green' : 'red') }\\\">{{dataItem.TrangThaiDisplay}}</span> -->\\n        \\n            <span style=\\\"text-align: right; color: black;\\\" *ngIf=\\\"dataItem.IsChecked\\\" kendoTooltip\\n                title=\\\"{{'ĐÃ THU:' + dataItem.BenhNhanDaThanhToanDisplay + ' - CHƯA THU: ' + dataItem.ChuaThuDisplay + ' - CÒN CHO PHÉP BẢO LÃNH: ' + dataItem.ConLaiDisplay}}\\\">\\n                ĐÃ THU:\\n                <b style=\\\"color: green;\\\">{{dataItem.BenhNhanDaThanhToanDisplay}}</b>\\n                -\\n                CHƯA THU: <b style=\\\"color: orange;\\\">{{dataItem.ChuaThuDisplay}}</b>\\n                -\\n                CÒN CHO PHÉP BẢO LÃNH: <b style=\\\"color: red;\\\">{{dataItem.ConLaiDisplay}}</b>\\n            </span>\\n    </div>\\n</ng-template>\\n<ng-template #tongCongFooterTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n    <!-- {{test(dataItemParent)}} -->\\n    <span class=\\\"blue\\\">{{dataItemParent.GiaTruocChietKhau | number:'0.2-2':'vi-VN'}}</span>\\n</ng-template>\\n<!-- <ng-template #chietKhauFooterTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n    CK: <span class=\\\"green\\\">{{dataItemParent.TiLeChietKhau | number}} %</span>\\n</ng-template>\\n<ng-template #giaGoiFooterTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n    Giá gói: <span class=\\\"red\\\">{{dataItemParent.GiaSauChietKhau | number:'0.2-2':'vi-VN'}}</span>\\n</ng-template> -->\\n\\n<ng-template #checkBoxHeaderTemplate let-dataItemParent=\\\"dataItemParent\\\">\\n    <!-- <input type=\\\"checkbox\\\" id=\\\"ckbHeader-{{dataItemParent.Id}}\\\" [(ngModel)]=\\\"dataItemParent.IsChecked\\\" (ngModelChange)=\\\"chonTatCaDichVuTrongGoi($event, dataItemParent.Id)\\\"> -->\\n    <input type=\\\"checkbox\\\" id=\\\"ckbHeader-{{dataItemParent.Id}}\\\" [(ngModel)]=\\\"dataItemParent.chonTatCa\\\" \\n        (ngModelChange)=\\\"chonTatCaDichVuTrongGoi($event, dataItemParent.Id)\\\">\\n</ng-template>\\n<ng-template #checkBoxTemplate let-dataItem>\\n    <!-- <input *ngIf=\\\"dataItem.IsActive\\\" id=\\\"{{dataItem.Id}}\\\" type=\\\"checkbox\\\" [attr.name]=\\\"'ckbItem-' + dataItem.YeuCauGoiDichVuId\\\"\\n        [disabled]=\\\"dataItem.SoLuongConLai <= 0\\\"\\n        [(ngModel)]=\\\"dataItem.IsChecked\\\" (ngModelChange)=\\\"chonDichVu($event, dataItem)\\\"> -->\\n    <input id=\\\"ckbItem-{{dataItem.YeuCauGoiDichVuId}}-{{dataItem.NhomDichVu}}-{{dataItem.Id}}\\\" type=\\\"checkbox\\\" [attr.name]=\\\"'ckbItem-' + dataItem.YeuCauGoiDichVuId\\\"\\n        *ngIf=\\\"!(dataItem.SoLuongConLai <= 0 || !dataItem.IsActive)\\\" class=\\\"ckbItemInGroup-{{dataItem.YeuCauGoiDichVuId}}-{{dataItem.TenNhomDichVu}}\\\"\\n        [(ngModel)]=\\\"dataItem.IsChecked\\\" (ngModelChange)=\\\"chonDichVu($event, dataItem)\\\">\\n</ng-template>\\n<ng-template #tongTienFooterTemplate>\\n    <span>Tổng cộng:</span>\\n</ng-template>\\n<ng-template #nhomDichVuTemplate let-value=\\\"value\\\" let-dataItemParent=\\\"dataItemParent\\\">\\n    <!-- <strong>{{value}}</strong> -->\\n    <strong>\\n        <input type=\\\"checkbox\\\" id=\\\"ckbGroup-{{dataItemParent.Id}}-{{value}}\\\" class=\\\"ckbGroup-{{dataItemParent.Id}} mr-2\\\"\\n            (change)=\\\"chonTatCaDichVuTrongNhom($event, dataItemParent.Id, value)\\\" value=\\\"true\\\">\\n        {{value}}\\n    </strong>\\n</ng-template>\\n<ng-template #sttTemplate let-rowIndex=\\\"rowIndex\\\">\\n    <strong>{{rowIndex + 1}}</strong>\\n</ng-template> \\n<ng-template #soLuongTemplate let-dataItem>\\n    <app-textboxnumeric id=\\\"abc-{{dataItem.Id}}\\\" [disabled]=\\\"!dataItem.IsActive || !dataItem.IsChecked\\\" [(model)]=\\\"dataItem.SoLuongDungLanNay\\\"\\n        class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"(!dataItem.IsActive || !dataItem.IsChecked) ? 0 : 1\\\" [max]=\\\"dataItem.TenNhomDichVu == 'DỊCH VỤ KHÁM BỆNH' ? 1 : (dataItem.SoLuongConLai)\\\"\\n        (modelChange)=\\\"changeSoLuongDichVu($event, dataItem)\\\"> \\n    </app-textboxnumeric>\\n</ng-template>\\n<ng-template #donGiaTemplate let-dataItem>\\n    {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n</ng-template>\\n<ng-template #thanhTienTemplate let-dataItem>\\n    {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n</ng-template>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"m-0\\\">\\n    <div>TÌM KIẾM NGƯỜI BỆNH</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close(null)\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <app-grid [gridColumns]=\\\"gridColumns\\\" [documentType]=\\\"documentType\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n        [useHeaderDefault]=\\\"false\\\" #gridTimKiem [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" height=\\\"511\\\"\\n        [allowSortDefault]=\\\"true\\\" [headerTemplate]=\\\"headerTemplate\\\" [urlGetData]=\\\"urlGetDataGrid\\\" [showStt]=\\\"true\\\"\\n        [urlGetTotalPage]=\\\"urlGetTotalPageGrid\\\" [additionalSearchString]=\\\"addtionStringDefault\\\">\\n    </app-grid>\\n</mat-dialog-content>\\n\\n<ng-template #actionTemplate let-dataItem>\\n    <button class=\\\"button-chon\\\" (click)=\\\"chonBenhNhan(dataItem)\\\" mat-menu-item>\\n        Chọn\\n    </button>\\n</ng-template>\\n\\n<ng-template #headerTemplate>\\n    <div style=\\\"padding: 10px;border-bottom: 1px solid #ccc;\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\n            <app-textbox fxFlex=\\\"10%\\\" [(model)]=\\\"timKiemBenhNhanSearch.MaBN\\\" id=\\\"MaBenhNhan\\\" label=\\\"Mã NB\\\"\\n                (keyup)=\\\"onKey($event)\\\">\\n            </app-textbox>\\n            <app-textbox fxFlex=\\\"12%\\\" [(model)]=\\\"timKiemBenhNhanSearch.BHYTMaSoThe\\\" id=\\\"MaBHYT\\\" label=\\\"Mã BHYT\\\"\\n                (keyup)=\\\"onKey($event)\\\">\\n            </app-textbox>\\n            <app-textbox fxFlex=\\\"15%\\\" [(model)]=\\\"timKiemBenhNhanSearch.HoTen\\\" id=\\\"HoTen\\\" label=\\\"Họ và tên\\\"  [upperCase]=\\\"true\\\"\\n                (keyup)=\\\"onKey($event)\\\">\\n            </app-textbox>\\n\\n            <app-datepicker fxFlex=\\\"11%\\\" [(model)]=\\\"timKiemBenhNhanSearch.NgaySinhDisplay\\\" id=\\\"NgaySinhDisplay\\\"\\n                label=\\\"Ngày sinh\\\" (keyup)=\\\"onKey($event)\\\">\\n            </app-datepicker>\\n\\n            <app-textbox fxFlex=\\\"12%\\\" [(model)]=\\\"timKiemBenhNhanSearch.SoChungMinhThu\\\" id=\\\"CMND\\\" label=\\\"CMND\\\"\\n                (keyup)=\\\"onKey($event)\\\">\\n            </app-textbox>\\n            <app-textboxmask fxFlex=\\\"10%\\\" [(model)]=\\\"timKiemBenhNhanSearch.SoDienThoai\\\" id=\\\"DienThoai\\\"\\n                label=\\\"Điện thoại\\\" (keyup)=\\\"onKey($event)\\\" mask=\\\"000 000 0000\\\">\\n            </app-textboxmask>\\n            <app-textbox fxFlex=\\\"20%\\\" [(model)]=\\\"timKiemBenhNhanSearch.DiaChi\\\" id=\\\"DiaChi\\\" label=\\\"Địa chỉ\\\"\\n                (keyup)=\\\"onKey($event)\\\">\\n            </app-textbox>\\n            <div fxFlex=\\\"5%\\\">\\n                <button type=\\\"button\\\" color=\\\"primary\\\" (keyup)=\\\"onKey($event)\\\" (click)=\\\"TimKiem()\\\" mat-raised-button\\n                    class=\\\"mt-5\\\">\\n                    Tìm</button>\\n            </div>\\n\\n        </div>\\n    </div>\\n</ng-template>\"","export default \"<div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\">\\n\\n    <div style=\\\"margin-top: 5px;\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\">\\n        <div fxFlex=\\\"100%\\\" style=\\\"padding-left: 7px; text-align: center;\\\">\\n            Số thẻ BHYT: <span style=\\\"font-weight: bold;\\\">{{data.MaThe}}</span>\\n        </div>\\n        <div fxFlex=\\\"100%\\\" style=\\\"padding-left: 7px; text-align: center;\\\">\\n            Họ và tên: <span style=\\\"font-weight: bold;\\\">{{data.TenBenhNhan}}</span>\\n        </div>\\n        <div fxFlex=\\\"100%\\\" style=\\\"padding-left: 7px; text-align: center;\\\">\\n            Ngày sinh: <span style=\\\"font-weight: bold;\\\">{{data.NgaySinhDisplay}}</span>\\n        </div>\\n    </div>\\n\\n</div>\\n\\n<div style=\\\"text-align: center;\\\">\\n    <h4>Hệ thống đang kiểm tra thông tin BHYT...</h4>\\n    <button color=\\\"primary\\\" mat-raised-button type=\\\"button\\\">\\n        <img src=\\\"/assets/img/loader.gif\\\" alt=\\\"Loading\\\" style=\\\"display: inline;\\\" />\\n    </button>\\n</div>\\n\\n\\n<!-- <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"menu\\\" (click)=\\\"close()\\\">Đóng</button>\\n</div> -->\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>THÔNG BÁO</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <!-- <h3 class=\\\"sub-title\\\">Thông Tin Thẻ</h3> -->\\n    <table width=\\\"100%\\\">\\n        <tr>\\n            <td>Số thẻ BHYT: <strong>{{data.BHYTMaSoThe}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Họ và tên: <strong>{{data.HoTen}}</strong></td>\\n            <td>Năm sinh: <strong>{{data.NgayThangNamSinhDisplay}}</strong></td>\\n            <td>Giới tính: <strong>{{data.GioiTinhDisplay}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Ngày có hiệu lực: <strong>{{data.NgayCoHieuLucDisplay}}</strong></td>\\n            <td>Ngày hết hiệu lực: <strong [style.color] = \\\"data.isOutOfDate == true ? 'red' : 'black' \\\">{{data.NgayHetHieuLucDisplay}}</strong></td>\\n        </tr>\\n    </table>\\n\\n    <div style=\\\"margin-top: 30px\\\">\\n        <!-- <h3 class=\\\"sub-title, sub-title-bottom\\\">Người bệnh này không tồn tại trên cổng BHYT</h3> -->\\n        <h3 class=\\\"sub-title, sub-title-bottom err-mess-bhyt\\\">{{messageErrFromBHYT}}</h3>\\n    </div>\\n\\n    <div class=\\\"div-title-bottom\\\">\\n        <button type=\\\"button\\\" mat-button class=\\\"mr-1\\\" (click)=\\\"huy()\\\">Hủy</button>\\n        <button type=\\\"button\\\" class=\\\"mr-1\\\" (click)=\\\"khamKhongBHYT()\\\" color=\\\"primary\\\" mat-raised-button>Khám không có thẻ BHYT</button>\\n        <button type=\\\"button\\\" (click)=\\\"chapNhanBHYTNhapTay()\\\" color=\\\"primary\\\" mat-raised-button>Chấp nhận BHYT nhập tay</button>\\n    </div>\\n    \\n</mat-dialog-content>\"","export default \"<p>tiep-nhan-benh-nhan-lich-su works!</p>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>THÔNG BÁO</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <!-- <h3 class=\\\"sub-title\\\">Thông Tin Thẻ</h3> -->\\n    <table width=\\\"100%\\\">\\n        <tr>\\n            <td>Số thẻ BHYT: <strong>{{data.BHYTMaSoThe}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Họ và tên: <strong>{{data.HoTen}}</strong></td>\\n            <td>Năm sinh: <strong>{{data.NgayThangNamSinhDisplay}}</strong></td>\\n            <td>Giới tính: <strong>{{data.GioiTinhDisplay}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Ngày có hiệu lực: <strong>{{data.NgayCoHieuLucDisplay}}</strong></td>\\n            <td>Ngày hết hiệu lực: <strong [style.color] = \\\"data.isOutOfDate == true ? 'red' : 'black' \\\">{{data.NgayHetHieuLucDisplay}}</strong></td>\\n        </tr>\\n    </table>\\n\\n    <div style=\\\"margin-top: 30px\\\">\\n        <h3 class=\\\"sub-title, sub-title-bottom\\\">Bạn không thể sử dụng thẻ này vì thẻ đã hết hiệu lực</h3>\\n    </div>\\n\\n    <div class=\\\"div-title-bottom\\\">\\n        <button type=\\\"button\\\" mat-button class=\\\"mr-1\\\" (click)=\\\"huy()\\\">Hủy</button>\\n        <button type=\\\"button\\\" class=\\\"mr-1\\\" (click)=\\\"khamKhongBHYT()\\\" color=\\\"primary\\\" mat-raised-button>Khám không có thẻ BHYT</button>\\n        <button type=\\\"button\\\" (click)=\\\"chapNhanBHYTNhapTay()\\\" color=\\\"primary\\\" mat-raised-button>Chấp nhận BHYT nhập tay</button>\\n    </div>\\n    \\n</mat-dialog-content>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>THÔNG BÁO</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <!-- <h3 class=\\\"sub-title\\\">Thông Tin Thẻ</h3> -->\\n    <table width=\\\"100%\\\">\\n        <tr>\\n            <td>Số thẻ BHYT: <strong>{{data.BHYTMaSoThe}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Họ và tên: <strong>{{data.HoTen}}</strong></td>\\n            <td>Năm sinh: <strong>{{data.NgayThangNamSinhDisplay}}</strong></td>\\n            <td>Giới tính: <strong>{{data.GioiTinhDisplay}}</strong></td>\\n        </tr>\\n    </table>\\n\\n    <div style=\\\"margin-top: 30px\\\">\\n        <h3 class=\\\"sub-title, sub-title-bottom\\\">Không thể kiểm tra thẻ này trên cổng BHYT, bạn hãy thử lại lần nữa</h3>\\n    </div>\\n\\n    <div class=\\\"div-title-bottom\\\">\\n        <button class=\\\"div-margin-bottom\\\" type=\\\"button\\\" mat-button class=\\\"mr-1\\\" (click)=\\\"khamKhongBHYT()\\\">Hủy</button>\\n        <button class=\\\"div-margin-bottom\\\" type=\\\"button\\\" (click)=\\\"khamKhongBHYT()\\\" color=\\\"primary\\\" mat-raised-button>Khám không có thẻ BHYT</button>\\n        <!-- <button class=\\\"div-margin-bottom\\\" type=\\\"button\\\" (click)=\\\"chapNhanCoBHYT()\\\" color=\\\"primary\\\" mat-raised-button>Chấp nhận có BHYT</button> -->\\n        <button type=\\\"button\\\" (click)=\\\"chapNhanBHYTNhapTay()\\\" class=\\\"div-margin-bottom\\\" color=\\\"primary\\\" mat-raised-button>Chấp nhận BHYT nhập tay</button>\\n        <button type=\\\"button\\\" (click)=\\\"thuLai()\\\" color=\\\"primary\\\" mat-raised-button>Thử lại</button>\\n    </div>\\n    \\n</mat-dialog-content>\"","export default \"\\n\\n<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>LỊCH SỬ KCB</div>\\n    <!-- <button type=\\\"button\\\" mat-icon-button (click)=\\\"close('No answer')\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button> -->\\n</div>\\n\\n<mat-dialog-content>\\n    <app-grid [gridColumns]=\\\"gridColumns\\\" [gridDataSource]=\\\"gridData\\\"\\n    [documentType]=\\\"documentType\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" \\n    [useHeaderDefault]=\\\"false\\\" #grid [useActionDefault]=\\\"false\\\"\\n    [checkboxAble]=\\\"false\\\" height=\\\"300\\\">\\n</app-grid>\\n</mat-dialog-content>\"","export default \"\\n\\n<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>LỊCH SỬ KIỂM TRA THẺ BHYT</div>\\n    <!-- <button type=\\\"button\\\" mat-icon-button (click)=\\\"close('No answer')\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button> -->\\n</div>\\n\\n<mat-dialog-content>\\n    <app-grid [gridColumns]=\\\"gridColumns\\\" [gridDataSource]=\\\"gridData\\\"\\n    [documentType]=\\\"documentType\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" \\n    [useHeaderDefault]=\\\"false\\\" #grid [useActionDefault]=\\\"false\\\"\\n    [checkboxAble]=\\\"false\\\" height=\\\"400\\\">\\n    <!-- height=\\\"300\\\" -->\\n</app-grid>\\n</mat-dialog-content>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Thông Tin Bảo Hiểm Y Tế</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <h3 class=\\\"sub-title\\\">Thông Tin Thẻ</h3>\\n    <table width=\\\"100%\\\">\\n        <tr>\\n            <td width=\\\"28%\\\">Ngày sinh: <strong>{{data.BenhNhan.NgayThangNamSinhDisplay}}</strong></td>\\n            <td width=\\\"29%\\\">Giới tính: <strong>{{data.BenhNhan.GioiTinhDisplay}}</strong></td>\\n            <td>Địa chỉ: <strong>{{data.DiaChiDisplay}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Mã ĐKBĐ: <strong>{{data.MaDKBD}}</strong></td>\\n            <td>Nơi ĐKBH: <strong>{{data.BenhNhan.NoiDangKyBHYT}}</strong></td>\\n            <td>Cơ quan BHXH: <strong>{{data.cqBHXH}}</strong></td>\\n        </tr>\\n        <tr>\\n            <td>Ngày có hiệu lực: <strong>{{data.NgayCoHieuLucDisplay}}</strong></td>\\n            <td>Ngày hết hiệu lực: <strong [style.color] = \\\"data.isOutOfDate == true ? 'red' : 'black' \\\">{{data.NgayHetHieuLucDisplay}}</strong></td>\\n            <td>Ngày đủ 5 năm: <strong>{{data.NgayDu5NamDisplay}}</strong></td>\\n        </tr>\\n    </table>\\n    <h3 class=\\\"sub-title\\\">Thông Tin Khám Chữa Bệnh</h3>\\n</mat-dialog-content>\"","export default \"<app-grid baseRoute=\\\"/them-yeu-cau-tiep-nhan\\\" [gridColumns]=\\\"gridColumns\\\"\\n        [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n        [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [urlGetData]=\\\"urlGetDataGrid\\\"\\n        [urlGetTotalPage]=\\\"urlGetTotalPageGrid\\\" [additionalSearchString]=\\\"BenhNhan+''\\\" [autoHeight]=true> \\n    </app-grid>\\n\"","export default \"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-15\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <vex-breadcrumbs [crumbs]=\\\"[\\n                    {Title:'Tiếp Nhận Người Bệnh',Path:''}\\n                    ,{Title:'Thêm Yêu Cầu Tiếp Nhận',Path:'',Active:true}\\n                    ]\\\">\\n            </vex-breadcrumbs>\\n            <app-hot-key [keys]=\\\"[\\n            {Key:'Ctrl + Q',Description:'Quét mã vạch'},\\n            {Key:'Ctrl + F1',Description:'Di chuyển tới và check Có BHYT'},\\n            {Key:'Ctrl + F2',Description:'Di chuyển tới và check NHẬP TAY'},\\n            {Key:'Ctrl + F3',Description:'Di chuyển tới và check Có giấy chuyển viện'},\\n            {Key:'Ctrl + F5',Description:'Di chuyển tới và check Có giấy miễn cùng chi trả'},\\n            {Key:'Ctrl + F6',Description:'Di chuyển tới và check Có miễn giảm'},\\n            {Key:'Ctrl + F7',Description:'Di chuyển tới và check CÓ BHTN'},\\n            {Key:'Ctrl + F8',Description:'Di chuyển tới và mở tab Chỉ định dịch vụ'},\\n            {Key:'Ctrl + F9',Description:'Di chuyển tới và mở tab Tài liệu đính kèm'},\\n            {Key:'Ctrl + F10',Description:'Di chuyển tới và mở tab Người giám hộ'},\\n            {Key:'Ctrl + F11',Description:'Di chuyển tới và mở tab Lịch hẹn'},\\n            {Key:'Ctrl + F12',Description:'Di chuyển tới và mở tab Lịch sử khám bệnh'},\\n            {Key:'Ctrl + S',Description:'Lưu'},\\n            {Key:'Ctrl + Shift + S',Description:'Lưu và in phiếu chỉ định'},\\n            {Key:'Esc',Description:'Hủy',End:true}\\n            ]\\\"></app-hot-key>\\n            <!-- <app-radio id=\\\"LoaiKham\\\" name=\\\"LoaiKham\\\" class=\\\"no-format-css rad-white\\\"\\n                [(model)]=\\\"tiepNhanBenhNhan.LoaiKham\\\"\\n                [items]=\\\"[{Value:1,Text:'Khám Có BHYT'},{Value:2,Text:'Khám Nhân Dân'},{Value:3,Text:'Khám Sức Khỏe Tổng Quát'}]\\\">\\n            </app-radio> -->\\n        </div>\\n    </vex-page-layout-header>\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div @fadeInUp class=\\\"overflow-auto -mt-15\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n                <div @fadeInUp class=\\\"card\\\" fxFlex=\\\"auto\\\">\\n                    <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\">\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                fxLayoutGap.lt-sm=\\\"0\\\" fxFlex=\\\"100%\\\">\\n                                <div fxFlex=\\\"15%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\">\\n                                    <h3 class=\\\"sub-title mt-0\\\">\\n                                        Thông Tin Bảo Hiểm Y Tế\\n                                        <!-- <button (click)=\\\"openPopupGoiDichVu()\\\">Test</button> -->\\n                                    </h3>\\n                                </div>\\n                                <!-- &nbsp;&nbsp; -->\\n                                <div fxFlex=\\\"12%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" kendoTooltip>\\n                                    <app-checkbox (modelChange)=\\\"coBHYTChange($event)\\\"\\n                                        [(model)]=\\\"tiepNhanBenhNhan.CoBHYT\\\" id=\\\"CheckboxIsHaveBHYT\\\"\\n                                        [disabled]=\\\"tiepNhanBenhNhan.TuNhap == true\\\" label=\\\"Có\\\"\\n                                        title=\\\"Phím tắt: Ctrl + F1\\\"></app-checkbox>\\n                                    &nbsp;&nbsp;&nbsp;&nbsp;\\n                                    <app-checkbox (modelChange)=\\\"tuNhapChange($event)\\\"\\n                                        [(model)]=\\\"tiepNhanBenhNhan.TuNhap\\\" id=\\\"TuNhap\\\"\\n                                        [disabled]=\\\"tiepNhanBenhNhan.CoBHYT != true\\\" label=\\\"Nhập tay\\\"\\n                                        title=\\\"Phím tắt: Ctrl + F2\\\"></app-checkbox>\\n                                </div>\\n\\n                                <div fxFlex=\\\"53%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" kendoTooltip>\\n                                    <p style=\\\"color:red; font-weight:bold\\\">{{errMessageKhongChoPhepTaoMoiYCTN}}</p>\\n                                </div>\\n\\n                                <div fxFlex=\\\"20%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\">\\n                                    <div fxFlex=\\\"0%\\\">\\n\\n                                    </div>\\n                                    <div fxFlex=\\\"100%\\\" style=\\\"text-align: right;\\\">\\n                                        <a style=\\\"text-decoration: underline; color: blue; font-style: italic;\\\"\\n                                            (click)=\\\"lichSuKiemTraTheBHYT()\\\">Lịch\\n                                            sử kiểm tra thẻ BHYT</a>\\n                                        <a style=\\\"text-decoration: underline; color: blue; font-style: italic; margin-left: 10px;\\\"\\n                                            (click)=\\\"lichSuKBC()\\\">\\n                                            Lịch sử KCB\\n                                        </a>\\n                                    </div>\\n                                </div>\\n                            </div>\\n\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                fxLayoutGap.lt-sm=\\\"0\\\" *ngIf=\\\"tiepNhanBenhNhan.CoBHYT == true\\\">\\n                                <div fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" style=\\\"position: relative;\\\" kendoTooltip>\\n                                    <app-textbox id=\\\"SoTheBHYT\\\" label=\\\"Số thẻ BHYT\\\"\\n                                        [(model)]=\\\"tiepNhanBenhNhan.BHYTMaSoThe\\\" (keyup)=\\\"onKey($event, true, 1)\\\"\\n                                        [isAutoFocus]=\\\"true\\\" (blurChange)=\\\"blur($event, true)\\\"\\n                                        (modelChange)=\\\"ThongTinBenhNhanMaSoTHeChange($event)\\\" [required]=\\\"true\\\"\\n                                        [validationerror]=\\\"'BHYTMaSoThe' | validationerror:validationErrors\\\">\\n                                    </app-textbox>\\n\\n                                    <button (keyup)=\\\"onKeyScanner($event)\\\" (click)=\\\"QuetMaQRCodeClick()\\\" color=\\\"primary\\\"\\n                                        class=\\\"image-barcode\\\" mat-mini-fab type=\\\"button\\\" kendoTooltip\\n                                        title=\\\"Quét mã vạch thẻ BHYT\\\" title=\\\"Phím tắt: Ctrl + Q\\\">\\n                                        <img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n                                    </button>\\n                                </div>\\n                                <app-textbox id=\\\"BHYTMaDKBD\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Mã nơi ĐKBH\\\"\\n                                    maxlength=\\\"200\\\" (blurChange)=\\\"blurMaNoiDKBD($event)\\\"\\n                                    (keyup)=\\\"onKeyMaNoiDKBD($event)\\\" [(model)]=\\\"tiepNhanBenhNhan.BHYTMaDKBD\\\"\\n                                    [required]=\\\"true\\\" [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\"\\n                                    [validationerror]=\\\"'BHYTMaDKBD' | validationerror:validationErrors\\\">\\n                                </app-textbox>\\n\\n                                <app-textbox id=\\\"NoiDangKyBHYT\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Nơi ĐKBH\\\"\\n                                    maxlength=\\\"200\\\" [(model)]=\\\"tiepNhanBenhNhan.NoiDangKyBHYT\\\" [disabled]=\\\"true\\\">\\n                                </app-textbox>\\n\\n                                <app-textboxnumeric [(model)]=\\\"tiepNhanBenhNhan.BHYTMucHuong\\\" id=\\\"BHYTMucHuong\\\"\\n                                    fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Mức hưởng (%)\\\" format=\\\"0\\\" [required]=\\\"true\\\"\\n                                    [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\" (modelChange)=\\\"mucHuongChange($event)\\\"\\n                                    min=\\\"1\\\" max=\\\"100\\\"\\n                                    [validationerror]=\\\"'BHYTMucHuong' | validationerror:validationErrors\\\">\\n                                </app-textboxnumeric>\\n\\n                                <app-textbox id=\\\"BHYTDiaChi\\\" fxFlex=\\\"40%\\\" fxFlex.sm=\\\"40%\\\" label=\\\"Địa chỉ\\\"\\n                                    maxlength=\\\"200\\\"\\n                                    placeHolder=\\\"Địa chỉ (Số nhà/đường phố, Phường/Xã, Quận/Huyện, Tỉnh/Thành phố)\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.BHYTDiaChi\\\" [required]=\\\"true\\\"\\n                                    [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\" (blurChange)=\\\"blurBHYTDiaChi($event)\\\"\\n                                    (keyup)=\\\"onKeyBHYTDiaChi($event)\\\"\\n                                    [validationerror]=\\\"'BHYTDiaChi' | validationerror:validationErrors\\\">\\n                                </app-textbox>\\n\\n                                <app-radio id=\\\"LyDoVaoVien\\\" label=\\\"Tuyến khám\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.LyDoVaoVien\\\" (modelChange)=\\\"lyDoVaoVienChange($event)\\\"\\n                                    [items]=\\\"[{Value:1,Text:'Đúng tuyến'},{Value:3,Text:'Trái tuyến'}]\\\">\\n                                </app-radio>\\n\\n                                <app-datepicker id=\\\"BHYTNgayHieuLuc\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                    [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\"\\n                                    (modelChange)=\\\"ngayCoHieuLucChange($event)\\\" (blur)=\\\"blurNgayCoHieuLuc($event)\\\"\\n                                    (keyup)=\\\"onKeyNgayCotHieuLuc($event)\\\" label=\\\"Ngày có hiệu lực\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayHieuLuc\\\" [required]=\\\"true\\\"\\n                                    [validationerror]=\\\"'BHYTNgayHieuLuc' | validationerror:validationErrors\\\">\\n                                </app-datepicker>\\n\\n                                <app-datepicker id=\\\"BHYTNgayHetHan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                    [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\" (blur)=\\\"blurNgayHetHieuLuc($event)\\\"\\n                                    (keyup)=\\\"onKeyNgayHetHieuLuc($event)\\\" label=\\\"Ngày hết hiệu lực\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayHetHan\\\" [required]=\\\"true\\\"\\n                                    [validationerror]=\\\"'BHYTNgayHetHan' | validationerror:validationErrors\\\">\\n                                </app-datepicker>\\n\\n                                <app-datepicker id=\\\"BHYTNgayDu5Nam\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                    [disabled]=\\\"tiepNhanBenhNhan.TuNhap != true\\\" label=\\\"Ngày đủ 5 năm\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayDu5Nam\\\">\\n                                </app-datepicker>\\n\\n                                <app-textbox\\n                                    *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == true && soPhanTramHuongBHYT != null && tiepNhanBenhNhan.IsCheckedBHYT != null\\\"\\n                                    id=\\\"messageThanhCong\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Kiểm tra trên BHYT\\\"\\n                                    maxlength=\\\"200\\\" [disabled]=\\\"true\\\" [(model)]=\\\"messageThanhCong\\\" class=\\\"green\\\">\\n                                </app-textbox>\\n\\n                                <app-textbox\\n                                    *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == false && soPhanTramHuongBHYT != null && tiepNhanBenhNhan.IsCheckedBHYT != null\\\"\\n                                    id=\\\"messageKhongThanhCong\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Kiểm tra trên BHYT\\\"\\n                                    maxlength=\\\"200\\\" [disabled]=\\\"true\\\" [(model)]=\\\"messageKhongThanhCong\\\" class=\\\"red\\\">\\n                                </app-textbox>\\n\\n                                <app-textbox *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == null\\\" id=\\\"messageNULL\\\"\\n                                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Kiểm tra trên BHYT\\\" maxlength=\\\"200\\\"\\n                                    [disabled]=\\\"true\\\">\\n                                </app-textbox>\\n\\n                                <!-- </div> -->\\n\\n                                <!-- <div fxFlex=\\\"80%\\\"> -->\\n                                <!-- <div>\\n                                        <ul class=\\\"inline\\\">\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Mã nơi ĐKBH: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.BHYTMaDKBD}}</strong>\\n                                            </li>\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Nơi ĐKBH: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.NoiDangKyBHYT}}</strong>\\n                                            </li>\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Ngày đủ 5 năm: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.NgayDu5NamDisplay}}</strong>\\n                                            </li>\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Mức hưởng: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null && tiepNhanBenhNhan.BHYTMucHuong != null\\\">{{tiepNhanBenhNhan.BHYTMucHuong}}%</strong>\\n                                            </li>\\n                                        </ul>\\n                                    </div>\\n\\n                                    <div>\\n                                        <ul class=\\\"inline\\\">\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Ngày có hiệu lực: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.NgayCoHieuLucDisplay}}</strong>\\n                                            </li>\\n\\n                                            <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">Ngày hết hiệu lực: <strong\\n                                                *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.NgayHetHieuLucDisplay}}</strong>\\n                                        </li>\\n                                        <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">\\n\\n                                        </li>\\n                                        <li fxFlex=\\\"25%\\\" fxFlex.sm=\\\"25%\\\">\\n\\n                                        </li>\\n                                        </ul>\\n                                    </div>\\n\\n                                    <div>\\n                                        <ul class=\\\"inline\\\">\\n                                            <li fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\">Địa chỉ: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan != null\\\">{{tiepNhanBenhNhan.BHYTDiaChi}}</strong>\\n                                            </li>\\n                                            <li fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\">Kiểm tra trên BHYT: <strong\\n                                                    *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == true && soPhanTramHuongBHYT != null\\\" style=\\\"color: green;\\\">Kiểm tra\\n                                                    thành công</strong>\\n                                                <strong *ngIf=\\\"tiepNhanBenhNhan.IsCheckedBHYT == false && soPhanTramHuongBHYT != null\\\" style=\\\"color: red;\\\">Kiểm\\n                                                    tra không thành công</strong></li>\\n                                            <li fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\">\\n                                                <a style=\\\"text-decoration: underline; color: blue; font-style: italic;\\\" (click)=\\\"lichSuKBC()\\\">Lịch sử KCB</a>\\n                                            </li>\\n                                        </ul>\\n                                    </div> -->\\n\\n\\n\\n                                <!-- </div> -->\\n\\n\\n                            </div>\\n\\n                        </div>\\n\\n                        <div style=\\\"height: 30px;\\\">\\n\\n                        </div>\\n\\n                        <div id=\\\"test\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                            fxLayoutGap.lt-sm=\\\"0\\\">\\n                            <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thông Tin Hành Chính\\n                                <span class=\\\"thong-tin-tai-khoan-benh-nhan\\\"\\n                                    *ngIf=\\\"thongTinTaiKhoanBenhNhan != null && thongTinTaiKhoanBenhNhan != undefined\\\">\\n                                    Mã NB: <span\\n                                        style=\\\"font-weight: bold;\\\">{{thongTinTaiKhoanBenhNhan.MaBenhNhan}}</span> - Tài\\n                                    Khoản: <span\\n                                        style=\\\"font-weight: bold; color:green\\\">{{thongTinTaiKhoanBenhNhan.SoDuTaiKhoan |\\n                                        currency:'VND'}}</span>\\n                                </span>\\n                            </h3>\\n                            <app-textbox class=\\\"text-transform-uppercase\\\" #HoVaTenTextbox\\n                                (blurChange)=\\\"blur($event, false)\\\" id=\\\"HoTen\\\" fxFlex=\\\"15%\\\" fxFlex.sm=\\\"15%\\\"\\n                                label=\\\"Họ và tên\\\" [(model)]=\\\"tiepNhanBenhNhan.HoTen\\\" maxlength=\\\"100\\\"\\n                                [isAutoFocus]=\\\"true\\\" (keyup)=\\\"onKey($event, false, 2)\\\" [upperCase]=\\\"true\\\"\\n                                (modelChange)=\\\"ThongTinBenhNhanHoTenChange($event)\\\" [required]=\\\"true\\\"\\n                                [validationerror]=\\\"'HoTen' | validationerror:validationErrors\\\">\\n                            </app-textbox>\\n                            <div fxFlex=\\\"5%\\\" fxFlex.sm=\\\"5%\\\">\\n                                <button (keyup)=\\\"onKeyLookBN($event)\\\" color=\\\"default\\\" mat-raised-button type=\\\"button\\\"\\n                                    style=\\\"height: 100%;\\\" tabindex=\\\"-1\\\" (click)=\\\"timKiemBenhNhanPopup()\\\"\\n                                    [ngStyle]=\\\"{'color':true == true?'green':'grey'}\\\">\\n                                    <mat-icon [icIcon]=\\\"icFind\\\"></mat-icon>\\n                                    <div style=\\\"line-height: 20px;\\\">{{totalBenhNhan}}</div>\\n                                </button>\\n                            </div>\\n\\n                            <app-datepicker #NgaySinhCoBHYT *ngIf=\\\"tiepNhanBenhNhan.CoBHYT == true\\\"\\n                                (blur)=\\\"blur($event, false, 3)\\\" id=\\\"NgaySinh\\\" fxFlex=\\\"13%\\\" fxFlex.sm=\\\"13%\\\"\\n                                label=\\\"Ngày sinh\\\" [(model)]=\\\"tiepNhanBenhNhan.NgayThangNamSinh\\\"\\n                                (keyup)=\\\"onKey($event, false, 3)\\\" (modelChange)=\\\"ThongTinBenhNhanNgaySinhChange($event)\\\"\\n                                [required]=\\\"true\\\"\\n                                [validationerror]=\\\"'NgayThangNamSinh' | validationerror:validationErrors\\\">\\n                            </app-datepicker>\\n\\n                            <app-datepicker #NgaySinhKhongCoBHYT *ngIf=\\\"tiepNhanBenhNhan.CoBHYT != true\\\"\\n                                (blur)=\\\"blur($event, false, 3)\\\" id=\\\"NgaySinh\\\" fxFlex=\\\"13%\\\" fxFlex.sm=\\\"13%\\\"\\n                                label=\\\"Ngày sinh\\\" [required]=\\\"true\\\" [(model)]=\\\"tiepNhanBenhNhan.NgayThangNamSinh\\\"\\n                                (keyup)=\\\"onKey($event, false, 3)\\\" (modelChange)=\\\"ThongTinBenhNhanNgaySinhChange($event)\\\"\\n                                [validationerror]=\\\"'NgayThangNamSinh' | validationerror:validationErrors\\\">\\n                            </app-datepicker>\\n\\n                            <app-textboxnumeric [(model)]=\\\"tiepNhanBenhNhan.NamSinh\\\" id=\\\"Numerictextbox\\\" fxFlex=\\\"7%\\\"\\n                                (blur)=\\\"blur($event, false, 3)\\\" (keyup)=\\\"onKey($event, false, 3)\\\" fxFlex.sm=\\\"7%\\\"\\n                                label=\\\"Năm sinh\\\" format=\\\"0\\\" min=\\\"1\\\" max=\\\"9999\\\" (modelChange)=\\\"NamSinhChange($event)\\\"\\n                                [disabled]=\\\"tiepNhanBenhNhan.NgayThangNamSinh!=null\\\"\\n                                [validationerror]=\\\"'NamSinh' | validationerror:validationErrors\\\">\\n                            </app-textboxnumeric>\\n\\n                            <!-- *ngIf=\\\"under6yearsold\\\" -->\\n                            <app-textbox id=\\\"SoTuoi\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                label=\\\"Số tuổi\\\" [disabled]=\\\"true\\\" [(model)]=\\\"soTuoiDisplay\\\">\\n                            </app-textbox>\\n\\n                            <app-textboxmask id=\\\"SoDienThoai\\\" onlynumber=\\\"true\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                label=\\\"Số điện thoại\\\" (keyup)=\\\"onKeyTimKiemBenhNhan($event)\\\" maxlength=\\\"10\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.SoDienThoai\\\" mask=\\\"000 000 0000\\\">\\n                            </app-textboxmask>\\n\\n                            <app-dropdownlist id=\\\"Dropdownlist\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Giới tính\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetGioiTinh\\\" [(model)]=\\\"tiepNhanBenhNhan.GioiTinh\\\" bind=\\\"true\\\"\\n                                [validationerror]=\\\"'DiaChi' | validationerror:validationErrors\\\">\\n                            </app-dropdownlist>\\n\\n                            <app-combobox id=\\\"NgheNghiep\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Nghề Nghiệp\\\" bind=\\\"true\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetNgheNghiep\\\" [(model)]=\\\"tiepNhanBenhNhan.NgheNghiepId\\\">\\n                            </app-combobox>\\n\\n                            <app-combobox id=\\\"GetQuocTich\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Quốc tịch\\\" bind=\\\"true\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetQuocTich\\\" [(model)]=\\\"tiepNhanBenhNhan.QuocTichId\\\"\\n                                [required]=\\\"true\\\" [validationerror]=\\\"'QuocTichId' | validationerror:validationErrors\\\">\\n                            </app-combobox>\\n                            <!-- broadcastAfterLoaded=\\\"true\\\" -->\\n                            <app-combobox id=\\\"TinhThanhPho\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" bind=\\\"true\\\"\\n                                (modelChange)=\\\"TinhThanhPhoChange($event)\\\" label=\\\"Tỉnh/Thành Phố\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetTinhThanh/?quanHuyenId={{tiepNhanBenhNhan.QuanHuyenId}}\\\"\\n                                hierarchyKeyToSend=\\\"tinhThanh\\\" [(model)]=\\\"tiepNhanBenhNhan.TinhThanhId\\\"\\n                                class=\\\"item-no-padding\\\" [template]=\\\"tinhThanhTemplate\\\"\\n                                [templateHeader]=\\\"tinhThanhTemplateHeader\\\"\\n                                [required]=\\\"true\\\" [validationerror]=\\\"'TinhThanhId' | validationerror:validationErrors\\\">\\n                                <ng-template #tinhThanhTemplateHeader let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <th width=\\\"20%\\\">Mã</th>\\n                                            <th>Tên</th>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                                <ng-template #tinhThanhTemplate let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                            <td>{{dataItem.Ten}}</td>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                            </app-combobox>\\n                            <!-- broadcastAfterLoaded=\\\"true\\\" -->\\n                            <app-combobox id=\\\"QuanHuyen\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Quận/Huyện\\\"\\n                                #comboboxQuanHuyen (modelChange)=\\\"QuanHuyenChange($event)\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetQuanHuyen/?phuongXaId={{tiepNhanBenhNhan.PhuongXaId}}\\\"\\n                                hierarchyKeyToListen=\\\"tinhThanh\\\" hierarchyKeyToSend=\\\"quanHuyen\\\" bind=\\\"true\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.QuanHuyenId\\\" class=\\\"item-no-padding\\\"\\n                                [template]=\\\"quanHuyenTemplate\\\" [templateHeader]=\\\"quanHuyenTemplateHeader\\\"\\n                                [required]=\\\"true\\\" [validationerror]=\\\"'QuanHuyenId' | validationerror:validationErrors\\\">\\n                                <ng-template #quanHuyenTemplateHeader let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <th width=\\\"20%\\\">Mã</th>\\n                                            <th>Tên</th>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                                <ng-template #quanHuyenTemplate let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                            <td>{{dataItem.Ten}}</td>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                            </app-combobox>\\n\\n                            <!-- broadcastAfterLoaded=\\\"true\\\" -->\\n                            <app-combobox id=\\\"PhuongXa\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Phường/Xã\\\"\\n                                #comboboxPhuongXa url=\\\"TiepNhanBenhNhan/GetPhuongXa\\\" hierarchyKeyToListen=\\\"quanHuyen\\\"\\n                                (modelChange)=\\\"PhuongXaChange($event)\\\" [(model)]=\\\"tiepNhanBenhNhan.PhuongXaId\\\"\\n                                class=\\\"item-no-padding\\\" [template]=\\\"phuongXaTemplate\\\"\\n                                [templateHeader]=\\\"phuongXaTemplateHeader\\\"\\n                                [required]=\\\"true\\\" [validationerror]=\\\"'PhuongXaId' | validationerror:validationErrors\\\">\\n                                <ng-template #phuongXaTemplateHeader let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <th width=\\\"20%\\\">Mã</th>\\n                                            <th>Tên</th>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                                <ng-template #phuongXaTemplate let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                            <td>{{dataItem.Ten}}</td>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                            </app-combobox>\\n\\n                            <app-textbox class=\\\"text-transform-capitalize\\\" id=\\\"SoNhaDuongPho\\\" fxFlex=\\\"20%\\\"\\n                                fxFlex.sm=\\\"20%\\\" maxlength=\\\"200\\\" (keyup)=\\\"onKeyTimKiemBenhNhan($event)\\\"\\n                                label=\\\"Số nhà/Đường phố\\\" [(model)]=\\\"tiepNhanBenhNhan.DiaChi\\\"\\n                                (modelChange)=\\\"soNhaDuongPhoChange($event)\\\">\\n                            </app-textbox>\\n\\n                            <app-textbox id=\\\"SoCMND\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Số CMND\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.SoChungMinhThu\\\" maxlength=\\\"12\\\" onlynumber=\\\"true\\\"\\n                                (keyup)=\\\"onKeyTimKiemBenhNhanForLogicNewCMNDVaSdt($event)\\\"\\n                                [validationerror]=\\\"'SoChungMinhThu' | validationerror:validationErrors\\\">\\n                            </app-textbox>\\n\\n                            <app-textbox id=\\\"Email\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Email\\\" maxlength=\\\"200\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.Email\\\"\\n                                [validationerror]=\\\"'Email' | validationerror:validationErrors\\\">\\n                            </app-textbox>\\n\\n                            <!-- <button (click)=\\\"click()\\\">CLICK</button> -->\\n\\n                            <app-textbox id=\\\"NoiLamViec\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" maxlength=\\\"200\\\"\\n                                label=\\\"Nơi làm việc\\\" [(model)]=\\\"tiepNhanBenhNhan.NoiLamViec\\\"\\n                                [required]=\\\"tiepNhanBenhNhan.CoBHYT == true\\\"\\n                                [validationerror]=\\\"'NoiLamViec' | validationerror:validationErrors\\\">\\n                            </app-textbox>\\n\\n                            <app-combobox bind=\\\"true\\\" id=\\\"DanToc\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Dân tộc\\\" [reloadForGrid]=\\\"true\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetDanToc\\\" [(model)]=\\\"tiepNhanBenhNhan.DanTocId\\\">\\n                            </app-combobox>\\n\\n                            <div *ngIf=\\\"tiepNhanBenhNhan.CoBHYT == true\\\" style=\\\"width: 100%;\\\" fxLayout=\\\"row\\\"\\n                                xFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                                <div style=\\\"width: 100%;\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                    fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n\\n                                    <!-- <div *ngIf=\\\"tiepNhanBenhNhan.BHYTDuocMienCungChiTra == true\\n                                            && (tiepNhanBenhNhan.DuocChuyenVien == false || tiepNhanBenhNhan.DuocChuyenVien == null)\\\"\\n                                        fxFlex=\\\"80%\\\" fxFlex.sm=\\\"80%\\\">\\n\\n                                    </div> -->\\n\\n                                    <app-checkbox [(model)]=\\\"tiepNhanBenhNhan.BHYTDuocMienCungChiTra\\\" fxFlex=\\\"20%\\\"\\n                                        kendoTooltip fxFlex.sm=\\\"20%\\\" id=\\\"CheckboxAB\\\" label=\\\"Có giấy miễn cùng chi trả\\\"\\n                                        title=\\\"Phím tắt: Ctrl + F5\\\">\\n                                    </app-checkbox>\\n\\n                                    <app-upload *ngIf=\\\"tiepNhanBenhNhan.BHYTDuocMienCungChiTra == true\\\" fxFlex=\\\"60%\\\"\\n                                        fxFlex.sm=\\\"60%\\\" id=\\\"Upload\\\" label=\\\"Giấy miễn cùng chi trả đính kèm\\\"\\n                                        [model]=\\\"tiepNhanBenhNhan.BHYTGiayMienCungChiTra\\\"\\n                                        (uploadFileDone)=\\\"uploadFileMienCungChiTraDone($event)\\\">\\n                                    </app-upload>\\n\\n                                    <app-datepicker *ngIf=\\\"tiepNhanBenhNhan.BHYTDuocMienCungChiTra == true\\\"\\n                                        id=\\\"BHYTNgayDuocMienCungChiTra\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                        label=\\\"Ngày bắt đầu miễn cùng chi trả\\\"\\n                                        [(model)]=\\\"tiepNhanBenhNhan.BHYTNgayDuocMienCungChiTra\\\">\\n                                    </app-datepicker>\\n\\n\\n\\n                                </div>\\n                            </div>\\n\\n                            <!-- style=\\\"width: 100%;\\\" -->\\n                            <div [fxFlex]=\\\"tiepNhanBenhNhan.DuocChuyenVien == true ? '100%' : '15%'\\\" [fxFlex.sm]=\\\"tiepNhanBenhNhan.DuocChuyenVien == true ? '100%' : '15%'\\\"\\n                                fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" kendoTooltip>\\n                                <app-checkbox [(model)]=\\\"tiepNhanBenhNhan.DuocChuyenVien\\\" [fxFlex]=\\\"tiepNhanBenhNhan.DuocChuyenVien == true ? '20%' : '100%'\\\" [fxFlex.sm]=\\\"tiepNhanBenhNhan.DuocChuyenVien == true ? '20%' : '100%'\\\"\\n                                    id=\\\"CheckboxA\\\" label=\\\"Có giấy chuyển viện\\\" title=\\\"Phím tắt: Ctrl + F3\\\">\\n                                </app-checkbox>\\n\\n                                <app-datepicker *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" id=\\\"ThoiGianChuyenVien\\\"\\n                                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Ngày chuyển tuyến\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.ThoiGianChuyenVien\\\">\\n                                </app-datepicker>\\n\\n                                <app-textbox *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" id=\\\"SoChuyenTuyen\\\"\\n                                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Số tuyến chuyển\\\" maxlength=\\\"20\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.SoChuyenTuyen\\\">\\n                                </app-textbox>\\n\\n                                <app-combobox *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" id=\\\"NoiChuyenId\\\"\\n                                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Tuyến chuyển\\\"\\n                                    url=\\\"TiepNhanBenhNhan/GetTuyenChuyen\\\" [(model)]=\\\"tiepNhanBenhNhan.NoiChuyenId\\\">\\n                                </app-combobox>\\n\\n                                <app-textbox *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" id=\\\"LyDoChuyen\\\"\\n                                    fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Lý do chuyển\\\" maxlength=\\\"200\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.LyDoChuyen\\\">\\n                                </app-textbox>\\n\\n                                <div *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\">\\n\\n                                </div>\\n\\n                                <app-upload *ngIf=\\\"tiepNhanBenhNhan.DuocChuyenVien == true\\\" fxFlex=\\\"80%\\\" fxFlex.sm=\\\"80%\\\"\\n                                    id=\\\"Upload\\\" label=\\\"Giấy chuyển viện đính kèm\\\"\\n                                    [model]=\\\"tiepNhanBenhNhan.GiayChuyenVien\\\" (uploadFileDone)=\\\"uploadFileDone($event)\\\">\\n                                </app-upload>\\n                            </div>\\n\\n                            <div fxLayout=\\\"row wrap\\\" [fxFlex]=\\\"tiepNhanBenhNhan.DuocUuDai == true ? '100%' : '15%'\\\" [fxFlex.sm]=\\\"tiepNhanBenhNhan.DuocUuDai == true ? '100%' : '15%'\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                                <app-checkbox [(model)]=\\\"tiepNhanBenhNhan.DuocUuDai\\\" id=\\\"CheckboxUuDai\\\"\\n                                    (modelChange)=\\\"CoUuDaiChange($event)\\\" label=\\\"Có miễn giảm\\\" [fxFlex]=\\\"tiepNhanBenhNhan.DuocUuDai == true ? '10%' : '100%'\\\"\\n                                    [fxFlex.sm]=\\\"tiepNhanBenhNhan.DuocUuDai == true ? '10%' : '100%'\\\" title=\\\"Phím tắt: Ctrl + F6\\\" kendoTooltip></app-checkbox>\\n\\n                                <div style=\\\"margin-top: 3px;\\\" *ngIf=\\\"tiepNhanBenhNhan.DuocUuDai == true\\\" fxFlex=\\\"90%\\\"\\n                                    fxFlex.sm=\\\"90%\\\">\\n                                    <!-- <div fxLayout=\\\"row\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" fxLayoutGap=\\\"16px grid\\\">\\n\\n                                                                </div> -->\\n\\n                                    <!-- <label fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" style=\\\"margin-right: 10px\\\">Loại miễn giảm:\\n                                    </label> -->\\n                                    <!-- <app-radio fxFlex=\\\"85%\\\" fxFlex.sm=\\\"85%\\\" id=\\\"LoaiMienGiam\\\" class=\\\"no-format-css\\\"\\n                                        [(model)]=\\\"tiepNhanBenhNhan.LoaiMienGiam\\\"\\n                                        [items]=\\\"[{Value:1,Text:'Đối tượng ưu đãi'},{Value:2,Text:'Voucher'}]\\\">\\n                                    </app-radio> -->\\n\\n\\n                                </div>\\n\\n                                <div *ngIf=\\\"tiepNhanBenhNhan.DuocUuDai == true\\\" fxFlex=\\\"100%\\\">\\n                                    <div fxLayout=\\\"row wrap\\\" fxLayoutGap=\\\"16px grid\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                        style=\\\"width: 100%;\\\">\\n                                        <app-combobox id=\\\"DoiTuongKhamChuaBenh\\\" fxFlex=\\\"30%\\\" required=\\\"true\\\"\\n                                            fxFlex.sm=\\\"30%\\\" label=\\\"Đối tượng ưu đãi\\\" bind=\\\"true\\\"\\n                                            url=\\\"TiepNhanBenhNhan/GetDoiTuongUuDai\\\"\\n                                            [(model)]=\\\"tiepNhanBenhNhan.DoiTuongUuDaiId\\\"\\n                                            [validationerror]=\\\"'DoiTuongUuDaiId' | validationerror:validationErrors\\\">\\n                                        </app-combobox>\\n\\n                                        <app-combobox id=\\\"CongTyUuDai\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" required=\\\"true\\\"\\n                                            bind=\\\"true\\\" url=\\\"TiepNhanBenhNhan/GetCongTyUuDai\\\"\\n                                            [(model)]=\\\"tiepNhanBenhNhan.CongTyUuDaiId\\\" label=\\\"Công ty ưu đãi\\\"\\n                                            [validationerror]=\\\"'CongTyUuDaiId' | validationerror:validationErrors\\\">\\n                                        </app-combobox>\\n\\n                                        <div class=\\\"div-voucher\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\"\\n                                            kendoTooltip fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\">\\n                                            <kendo-multiselect #multiselect data-placeholder=\\\"Mã voucher\\\"\\n                                                [data]=\\\"listVoucherItem\\\" [(ngModel)]=\\\"value\\\" [clearButton]=\\\"false\\\"\\n                                                (open)=\\\"open()\\\" [filterable]=\\\"true\\\" (removeTag)=\\\"removeTag($event)\\\"\\n                                                (blur)=\\\"blurVoucher()\\\" (filterChange)=\\\"filterChange($event)\\\">\\n                                            </kendo-multiselect>\\n                                            <button (click)=\\\"QuetMaQRCodeClick()\\\" color=\\\"primary\\\" mat-mini-fab\\n                                                type=\\\"button\\\" class=\\\"button-barcoe-in-search\\\" kendoTooltip\\n                                                title=\\\"Quét mã vạch thẻ\\\" title=\\\"Phím tắt: Ctrl + Q\\\">\\n                                                <img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n                                            </button>\\n                                            <app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\"\\n                                                style=\\\"display: none;\\\"></app-barcode>\\n                                        </div>\\n                                        <app-validationerrorother fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"LstMaVoucher\\\"\\n                                            [validationerror]=\\\"'LstMaVoucher' | validationerror:validationErrors\\\">\\n                                        </app-validationerrorother>\\n\\n                                    </div>\\n\\n                                </div>\\n\\n                                <!-- <div *ngIf=\\\"tiepNhanBenhNhan.DuocUuDai == true\\\"\\n                                    fxFlex=\\\"100%\\\">\\n                                    <div fxLayout=\\\"row wrap\\\" fxLayoutGap=\\\"16px grid\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                        style=\\\"width: 100%;\\\">\\n                                        <div style=\\\"margin-top: -5px;\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\"\\n                                            fxLayoutAlign=\\\"start center\\\" kendoTooltip style=\\\"width: 100%;\\\">\\n                                            <kendo-multiselect  fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\"  #multiselect\\n                                                [data]=\\\"listVoucherItem\\\" [(ngModel)]=\\\"value\\\" [clearButton]=\\\"false\\\"\\n                                                (open)=\\\"open()\\\" [filterable]=\\\"true\\\" (removeTag)=\\\"removeTag($event)\\\" (blur)=\\\"blurVoucher()\\\"\\n                                                (filterChange)=\\\"filterChange($event)\\\">\\n                                            </kendo-multiselect>\\n                                            <button (click)=\\\"QuetMaQRCodeClick()\\\" color=\\\"primary\\\" mat-mini-fab\\n                                                type=\\\"button\\\" class=\\\"button-barcoe-in-search\\\" kendoTooltip title=\\\"Quét mã vạch thẻ\\\"\\n                                                title=\\\"Phím tắt: Ctrl + Q\\\">\\n                                                <img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n                                            </button>\\n                                            <app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\"\\n                                                style=\\\"display: none;\\\"></app-barcode>\\n                                        </div>\\n                                        <app-validationerrorother fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"LstMaVoucher\\\" [validationerror]=\\\"'LstMaVoucher' | validationerror:validationErrors\\\">\\n                                        </app-validationerrorother>\\n                                    </div>\\n                                </div> -->\\n                            </div>\\n\\n                            <div fxLayout=\\\"row wrap\\\" fxFlex=\\\"15%\\\" fxFlex.sm=\\\"15%\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                                <app-checkbox [(model)]=\\\"tiepNhanBenhNhan.LaCapCuu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" class=\\\"color-red\\\"\\n                                    id=\\\"ckbCapCuu\\\" label=\\\"Cấp cứu\\\">\\n                                </app-checkbox>\\n                            </div>\\n                        </div>\\n\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                            <h3 style=\\\"margin-top:10px !important\\\" fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thông Tin Bảo\\n                                Hiểm Tư Nhân &nbsp; <app-checkbox id=\\\"CheckboxIsHaveBHTN\\\"\\n                                    [(model)]=\\\"tiepNhanBenhNhan.CoBHTN\\\" label=\\\"Có\\\" title=\\\"Phím tắt: Ctrl + F7\\\"\\n                                    kendoTooltip></app-checkbox>\\n                            </h3>\\n                            <div fxFlex=\\\"100%\\\">\\n                                <div *ngIf=\\\"tiepNhanBenhNhan.CoBHTN == true\\\" fxLayout=\\\"row wrap\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                    fxLayout.lt-sm=\\\"column\\\" style=\\\"width: 100%;\\\">\\n                                    <app-combobox id=\\\"CongTyBaoHiemTuNhanId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                        [(model)]=\\\"themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId\\\" label=\\\"Công ty\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetCongTyBaoHiemTuNhan\\\" bind=\\\"true\\\"\\n                                        (modelChange)=\\\"congTyBaoHiemChange($event)\\\" required=\\\"true\\\" [required]=\\\"true\\\"\\n                                        [validationerror]=\\\"'CongTyBaoHiemTuNhanId' | validationerror:validationErrors\\\">\\n                                    </app-combobox>\\n\\n                                    <app-textbox id=\\\"MaSoThe\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Số thẻ\\\"\\n                                        [(model)]=\\\"themBaoHiemTuNhanModel.MaSoThe\\\" maxlength=\\\"30\\\">\\n                                    </app-textbox>\\n\\n                                    <app-datepicker id=\\\"NgayHieuLuc\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Từ ngày\\\"\\n                                        [(model)]=\\\"themBaoHiemTuNhanModel.NgayHieuLuc\\\">\\n                                    </app-datepicker>\\n\\n                                    <app-datepicker id=\\\"NgayHetHan\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Đến ngày\\\"\\n                                        [(model)]=\\\"themBaoHiemTuNhanModel.NgayHetHan\\\"\\n                                        [validationerror]=\\\"'NgayHetHan' | validationerror:validationErrors\\\">\\n                                    </app-datepicker>\\n\\n                                    <app-textboxmask id=\\\"SoDienThoai\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Điện thoại\\\"\\n                                        readonly=\\\"true\\\" maxlength=\\\"100\\\" [(model)]=\\\"themBaoHiemTuNhanModel.SoDienThoai\\\">\\n                                    </app-textboxmask>\\n\\n                                    <app-textbox id=\\\"DiaChi\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Địa chỉ\\\"\\n                                        readonly=\\\"true\\\" maxlength=\\\"200\\\" [(model)]=\\\"themBaoHiemTuNhanModel.DiaChi\\\">\\n                                    </app-textbox>\\n\\n                                    <div style=\\\"margin-bottom: 20px;\\\" fxLayoutAlign=\\\"end right\\\" fxFlex=\\\"100%\\\"\\n                                        fxFlex.sm=\\\"100%\\\" class=\\\"mr-4\\\">\\n                                        <button (click)=\\\"huyBHTN()\\\" mat-button class=\\\"mr-1 px-6 py-0\\\"><i\\n                                                class=\\\"ft-arrow-left \\\"></i>Hủy</button>\\n                                        <button *ngIf=\\\"isUpdateGrid == false\\\" (click)=\\\"ThemBHTN()\\\" color=\\\"primary\\\"\\n                                            mat-raised-button class=\\\"mr-1 px-6 py-o\\\"><i\\n                                                class=\\\"ft-save\\\"></i>Thêm</button>\\n                                        <button *ngIf=\\\"isUpdateGrid == true\\\" (click)=\\\"SuaBHTN()\\\" color=\\\"primary\\\"\\n                                            mat-raised-button class=\\\"mr-1 px-6 py-o\\\"><i class=\\\"ft-save\\\"></i>Cập\\n                                            nhật</button>\\n                                    </div>\\n\\n                                    <app-grid fxFlex=\\\"100%\\\" [gridDataSource]=\\\"gridDataSourceBHTN\\\"\\n                                        [gridColumns]=\\\"gridColumns\\\" #gridBHTN [documentType]=\\\"documentType\\\"\\n                                        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                                        [checkboxAble]=\\\"false\\\" pageSize=\\\"5\\\" [autoHeight]=\\\"true\\\" [pageable]=\\\"false\\\">\\n                                    </app-grid>\\n\\n                                </div>\\n                            </div>\\n                        </div>\\n\\n                        <ng-template #actionTemplate let-dataItem>\\n                            <button (click)=\\\"$event.stopPropagation()\\\" kendoTooltip title=\\\"Hành động\\\"\\n                                [matMenuTriggerFor]=\\\"actionsMenu\\\" mat-icon-button type=\\\"button\\\">\\n                                <mat-icon [icIcon]=\\\"icMoreHoriz\\\"></mat-icon>\\n                            </button>\\n                            <mat-menu #actionsMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n                                <ng-template let-customer=\\\"customer\\\" matMenuContent>\\n                                    <button (click)=\\\"updateGridBHTN(dataItem)\\\" mat-menu-item>\\n                                        <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n                                        <span>Sửa</span>\\n                                    </button>\\n                                    <button (click)=\\\"removeGridBHTN(dataItem.CongTyBaoHiemTuNhanId)\\\" mat-menu-item>\\n                                        <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                        <span>Xóa</span>\\n                                    </button>\\n                                </ng-template>\\n                            </mat-menu>\\n                        </ng-template>\\n\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" *ngIf=\\\"showbuttonLuuVaInPhieuXetNghiem == true\\\">\\n                            <h3 style=\\\"margin-top:10px !important\\\" fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thông Tin SARS-CoV\\n                            </h3>\\n                            <div fxFlex=\\\"100%\\\">\\n                                <app-textarea fxFlex=\\\"45%\\\" id=\\\"BieuHienLamSang\\\" [(model)]=\\\"tiepNhanBenhNhan.BieuHienLamSang\\\" label=\\\"Biểu hiện lâm sàng\\\"\\n                                    minHeight=\\\"20\\\" style=\\\"margin-right: 5px;\\\">\\n                                </app-textarea>\\n                                <app-textarea id=\\\"DichTeSarsCoV2\\\" [(model)]=\\\"tiepNhanBenhNhan.DichTeSarsCoV2\\\" fxFlex=\\\"45%\\\" label=\\\"Dịch tễ SARS-CoV 2\\\"\\n                                    minHeight=\\\"20\\\">\\n                                </app-textarea>\\n                            </div>\\n                        </div>\\n\\n                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                            <h3 style=\\\"margin-top:20px !important\\\" fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thông Tin Tiếp\\n                                Nhận\\n                            </h3>\\n\\n                            <!-- <app-radio id=\\\"LoaiTiepNhan\\\" label=\\\"Loại tiếp nhận\\\" fxFlex=\\\"40%\\\" fxFlex.sm=\\\"40%\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.LoaiYeuCauTiepNhan\\\"\\n                                (modelChange)=\\\"loaiTiepNhanChange($event)\\\"\\n                                [items]=\\\"[{Value:1,Text:'Khám bệnh'},{Value:2,Text:'Thực hiện dịch vụ kỹ thuật'},{Value:3,Text:'Thực hiện dịch vụ khác'}]\\\">\\n                            </app-radio> -->\\n\\n                            <app-datetimepicker id=\\\"TiepNhanLuc\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Tiếp nhận lúc\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.ThoiGianTiepNhan\\\" [disabled]=\\\"true\\\"\\n                                [validationerror]=\\\"'ThoiGianTiepNhan' | validationerror:validationErrors\\\">\\n                            </app-datetimepicker>\\n\\n                            <app-combobox id=\\\"DoiTuongKhamChuaBenh\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                label=\\\"Đối tượng khám chữa bệnh ưu tiên\\\" [bind]=\\\"true\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetDoiTuongKhamChuaBenhUuTien\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.DoiTuongUuTienKhamChuaBenhId\\\">\\n                            </app-combobox>\\n\\n                            <!-- <app-combobox id=\\\"LyDoTiepNhan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Lý do tiếp nhận\\\" bind=\\\"true\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.LyDoTiepNhan\\\" url=\\\"TiepNhanBenhNhan/GetLyDoTiepNhan\\\" required=\\\"true\\\"\\n                                [validationerror]=\\\"'LyDoTiepNhan' | validationerror:validationErrors\\\">\\n                            </app-combobox> -->\\n\\n                            <app-combobox-tree id=\\\"LyDoTiepNhanId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Lý do tiếp nhận\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetLyDoTiepNhanTreeView\\\"\\n                                [modelText]=\\\"tiepNhanBenhNhan.LyDoTiepNhanText\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.LyDoTiepNhanId\\\" bind=\\\"true\\\" required=\\\"true\\\"\\n                                [validationerror]=\\\"'LyDoTiepNhanId' | validationerror:validationErrors\\\">\\n                            </app-combobox-tree>\\n\\n                            <app-combobox id=\\\"HinhThucDen\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Hình thức đến\\\"\\n                                bind=\\\"true\\\" (keyup)=\\\"onKeyHinhThucDen($event)\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.HinhThucDenId\\\" url=\\\"TiepNhanBenhNhan/GetHinhThucDen\\\"\\n                                [validationerror]=\\\"'HinhThucDenId' | validationerror:validationErrors\\\">\\n                            </app-combobox>\\n\\n                            <app-combobox id=\\\"NoiGioiThieu\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Nơi giới thiệu\\\"\\n                                bind=\\\"true\\\" [(model)]=\\\"tiepNhanBenhNhan.NoiGioiThieuId\\\"\\n                                url=\\\"TiepNhanBenhNhan/GetNoiGioiThieu\\\" *ngIf=\\\"tiepNhanBenhNhan.HinhThucDenId == 2\\\"\\n                                [template]=\\\"noiGioiThieuTemplate\\\" [templateHeader]=\\\"noiGioiThieuTemplateHeader\\\"\\n                                class=\\\"item-no-padding\\\"\\n                                [validationerror]=\\\"'NoiGioiThieuId' | validationerror:validationErrors\\\">\\n                                <ng-template #noiGioiThieuTemplateHeader let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <th width=\\\"60%\\\">Tên cộng tác viên</th>\\n                                            <th>Đơn vị</th>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                                <ng-template #noiGioiThieuTemplate let-dataItem>\\n                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                        <tr>\\n                                            <td width=\\\"60%\\\">{{dataItem.Ten}}</td>\\n                                            <td>{{dataItem.Ma}}</td>\\n                                        </tr>\\n                                    </table>\\n                                </ng-template>\\n                            </app-combobox>\\n\\n                            <!-- <app-combobox id=\\\"TrieuChungTiepNhan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Triệu chứng khám\\\"\\n                                                            [(model)]=\\\"tiepNhanBenhNhan.TrieuChungTiepNhan\\\" url=\\\"TiepNhanBenhNhan/GetLyDoKhamBenh\\\"\\n\\n                                                            [validationerror]=\\\"'TrieuChungTiepNhan' | validationerror:validationErrors\\\">\\n                                                        </app-combobox> -->\\n                            <app-autocomplete id=\\\"TrieuChungTiepNhan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" maxlength=\\\"250\\\"\\n                                [(model)]=\\\"tiepNhanBenhNhan.TrieuChungTiepNhan\\\" [dataList]=\\\"TrieuChungTiepNhanResource\\\"\\n                                label=\\\"Lý do khám bệnh\\\"\\n                                [validationerror]=\\\"'TrieuChungTiepNhan' | validationerror:validationErrors\\\">\\n                            </app-autocomplete>\\n\\n                            <kendo-tabstrip #tabStrip fxFlex=\\\"100%\\\" class=\\\"content-has-border\\\"\\n                                (tabSelect)=\\\"onTabSelect($event)\\\" (keyup)=\\\"tabscripChange($event)\\\">\\n                                <kendo-tabstrip-tab [selected]=\\\"true\\\">\\n                                    <ng-template kendoTabTitle>\\n                                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F8\\\">\\n                                            Chỉ định dịch vụ\\n                                        </div>\\n                                    </ng-template>\\n\\n                                    <ng-template kendoTabContent>\\n\\n\\n\\n                                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\"\\n                                            fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0\\\">\\n                                            <!-- <app-radio fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"LoaiDichVuKhac\\\"\\n                                                name=\\\"LoaiDichVuKhac\\\" class=\\\"no-format-css\\\"\\n                                                [(model)]=\\\"themChiDinhDichVuModel.LoaiDichVuKhac\\\"\\n                                                (modelChange)=\\\"LoaiDichVuKhacChange($event)\\\"\\n                                                [items]=\\\"[{Value:1,Text:'Gói không có chiết khấu'},{Value:2,Text:'Gói có chiết khấu'}\\n                                                                                            ,{Value:3,Text:'Dịch vụ khám bệnh'},{Value:4,Text:'Dịch vụ kỹ thuật'}\\n                                                                                            ,{Value:5,Text:'Dịch vụ giường'}]\\\">\\n                                            </app-radio> -->\\n\\n\\n                                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                                fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0 pb-0\\\" style=\\\"width: 100%;\\\">\\n                                                <label style=\\\"margin-top: 36px;\\\" fxFlex=\\\"7%\\\" fxFlex.sm=\\\"7%\\\">\\n                                                    Dịch vụ:\\n                                                </label>\\n                                                <app-combobox #dichVuCombobox hierarchyKeyToSend=\\\"khoaKham\\\" id=\\\"DichVu\\\"\\n                                                    fxFlex=\\\"33%\\\" fxFlex.sm=\\\"23%\\\" label=\\\"Mã dịch vụ\\\"\\n                                                    url=\\\"TiepNhanBenhNhan/GetDichVu\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.MaDichVuId\\\"\\n                                                    (modelChange)=\\\"modelChangeDichVu($event)\\\" [required]=\\\"true\\\"\\n                                                    (selectionChange)=\\\"MaDichVuSelectionChange($event)\\\"\\n                                                    (openCombobox)=\\\"openCombobox($event)\\\"\\n                                                    [validationerror]=\\\"'MaDichVuId' | validationerror:validationErrors\\\"\\n                                                    [template]=\\\"dichVuTemplate\\\" [templateHeader]=\\\"dichVuTemplateHeader\\\"\\n                                                    class=\\\"item-no-padding\\\"\\n                                                    [popupSettings]=\\\"{width: 900,popupClass:'item-no-padding'}\\\"\\n                                                    (keyup)=\\\"onKeyMaDichVu($event)\\\">\\n                                                    <ng-template #dichVuTemplateHeader let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <th width=\\\"12%\\\">Mã</th>\\n                                                                <th width=\\\"40%\\\">Tên</th>\\n                                                                <th width=\\\"38%\\\">Tên TT43</th>\\n                                                                <th width=\\\"10%\\\">Loại</th>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                    <ng-template #dichVuTemplate let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <td width=\\\"12%\\\">{{dataItem.Ma}}</td>\\n                                                                <td width=\\\"40%\\\">{{dataItem.Ten}}</td>\\n                                                                <td width=\\\"38%\\\">{{dataItem.TenTt43}}</td>\\n                                                                <td width=\\\"10%\\\">{{dataItem.Loai}}</td>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                </app-combobox>\\n\\n                                                <!-- url=\\\"TiepNhanBenhNhan/GetLoaiGiaKhamBenh\\\" -->\\n                                                <app-combobox id=\\\"LoaiGia\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" label=\\\"Loại giá\\\"\\n                                                    (modelChange)=\\\"LoaiGiaChange($event)\\\" bind=\\\"true\\\"\\n                                                    (keyup)=\\\"onKeyMaDichVu($event)\\\"\\n                                                    (openCombobox)=\\\"openCombobox($event)\\\"\\n                                                    url=\\\"KhamBenh/LoaiGiaHieuLucTheoDichVuKham\\\" *ngIf=\\\"loaiTiepNhan == 1\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.LoaiGiaId\\\" [required]=\\\"true\\\"\\n                                                    popupSettings=\\\"null\\\"\\n                                                    hierarchyKeyToListen=\\\"khoaKham\\\" [autoSelectFirstItem]=\\\"true\\\" [bind]=\\\"true\\\"\\n                                                    [validationerror]=\\\"'LoaiGiaId' | validationerror:validationErrors\\\">\\n                                                </app-combobox>\\n\\n                                                <app-textboxnumeric id=\\\"SoLuong\\\" fxFlex=\\\"5%\\\" fxFlex.sm=\\\"5%\\\" label=\\\"SL\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.SoLuong\\\"\\n                                                    (keyup)=\\\"onKeyMaDichVu($event)\\\"\\n                                                    (modelChange)=\\\"SoLuongChange($event)\\\" max=\\\"10000\\\" min=\\\"1\\\"\\n                                                    [required]=\\\"true\\\"\\n                                                    [disabled]=\\\"loaiTiepNhan == 1 || loaiTiepNhan == 3\\\"\\n                                                    [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\">\\n                                                </app-textboxnumeric>\\n                                                <!-- <app-textbox id=\\\"DonGia\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\"\\n                                                    (modelChange)=\\\"DonGiaChange($event)\\\" label=\\\"Đơn giá\\\"\\n                                                    onlynumber=\\\"true\\\" [(model)]=\\\"themChiDinhDichVuModel.DonGia\\\"\\n                                                    [validationerror]=\\\"'DiaChi' | validationerror:validationErrors\\\">\\n                                                </app-textbox>\\n                                                <app-textbox id=\\\"ThanhTien\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\"\\n                                                    label=\\\"Thành tiền\\\" onlynumber=\\\"true\\\"\\n                                                    [validationerror]=\\\"'DiaChi' | validationerror:validationErrors\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.ThanhTien\\\">\\n                                                </app-textbox> -->\\n\\n                                                <app-textboxnumeric id=\\\"DonGia\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" min=\\\"0\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.DonGia\\\" disabled=\\\"true\\\"\\n                                                    format=\\\"n2\\\" decimals=\\\"2\\\" (modelChange)=\\\"DonGiaChange($event)\\\"\\n                                                    label=\\\"Đơn giá\\\"\\n                                                    [validationerror]=\\\"'DonGia' | validationerror:validationErrors\\\">\\n                                                </app-textboxnumeric>\\n\\n                                                <app-textboxnumeric id=\\\"ThanhTien\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" min=\\\"0\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.ThanhTien\\\" label=\\\"Thành tiền\\\"\\n                                                    disabled=\\\"true\\\"\\n                                                    [validationerror]=\\\"'ThanhTien' | validationerror:validationErrors\\\">\\n                                                </app-textboxnumeric>\\n\\n                                                <app-combobox hierarchyKeyToListen=\\\"khoaKham\\\" id=\\\"NoiThucHien1a\\\"\\n                                                    *ngIf=\\\"loaiTiepNhan == 1\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                    label=\\\"Nơi thực hiện\\\" idWhere=\\\"1\\\" (keyup)=\\\"onKeyMaDichVu($event)\\\"\\n                                                    (openCombobox)=\\\"openCombobox($event)\\\" autoSelectFirstItem=\\\"true\\\"\\n                                                    url=\\\"TiepNhanBenhNhan/GetPhongKham\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.NoiThucHienId\\\" [required]=\\\"true\\\"\\n                                                    [validationerror]=\\\"'NoiThucHienId' | validationerror:validationErrors\\\"\\n                                                    [template]=\\\"phongKhamTemplate\\\"\\n                                                    [templateHeader]=\\\"phongKhamTemplateHeader\\\" class=\\\"item-no-padding\\\"\\n                                                    [popupSettings]=\\\"{width: 600,popupClass:'item-no-padding'}\\\">\\n\\n                                                    <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <th width=\\\"40%\\\">Phòng</th>\\n                                                                <th width=\\\"40%\\\">Bác sĩ</th>\\n                                                                <th width=\\\"10%\\\" kendoTooltip\\n                                                                    title=\\\"SL người bệnh được đăng ký vào phòng trong ngày hôm nay ở trạng thái đang khám\\\">\\n                                                                    Đ.khám</th>\\n                                                                <th width=\\\"10%\\\" kendoTooltip\\n                                                                    title=\\\"Tổng SL người bệnh được đăng ký vào phòng trong ngày hôm nay\\\">\\n                                                                    Tổng</th>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                    <ng-template #phongKhamTemplate let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr [ngStyle]=\\\"{'color': dataItem.IsWarning==true?'orange':'black'}\\\"\\n                                                                kendoTooltip\\n                                                                title=\\\"{{dataItem.IsWarning==true?'Bác sĩ này đã khám nhiều hơn ' + dataItem.TongSoKhamGioiHan + ' người bệnh':''}}\\\">\\n                                                                <td width=\\\"40%\\\">{{dataItem.TenPhong}}</td>\\n                                                                <td width=\\\"40%\\\">{{dataItem.TenBacSi}}</td>\\n                                                                <td width=\\\"10%\\\">{{dataItem.DangKham}}</td>\\n                                                                <td width=\\\"10%\\\">{{dataItem.Tong}}</td>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n\\n                                                </app-combobox>\\n\\n                                                <app-combobox hierarchyKeyToListen=\\\"khoaKham\\\" id=\\\"NoiThucHien2a\\\"\\n                                                    *ngIf=\\\"loaiTiepNhan == 2\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                    label=\\\"Nơi thực hiện\\\" (keyup)=\\\"onKeyMaDichVu($event)\\\"\\n                                                    (openCombobox)=\\\"openCombobox($event)\\\" autoSelectFirstItem=\\\"true\\\"\\n                                                    idWhere=\\\"1\\\" url=\\\"TiepNhanBenhNhan/GetPhongKhamKyThuat\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.NoiThucHienId\\\" [required]=\\\"true\\\"\\n                                                    [validationerror]=\\\"'NoiThucHienId' | validationerror:validationErrors\\\"\\n                                                    [template]=\\\"phongKhamTemplate\\\"\\n                                                    [templateHeader]=\\\"phongKhamTemplateHeader\\\" class=\\\"item-no-padding\\\"\\n                                                    [popupSettings]=\\\"{width: 500,popupClass:'item-no-padding'}\\\">\\n\\n                                                    <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <th width=\\\"20%\\\">Mã</th>\\n                                                                <th width=\\\"60%\\\">Phòng</th>\\n                                                                <th>SL ĐTH</th>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                    <ng-template #phongKhamTemplate let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                                <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                                <td>{{dataItem.Tong}}</td>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n\\n                                                </app-combobox>\\n\\n                                                <app-combobox hierarchyKeyToListen=\\\"khoaKham\\\" id=\\\"NoiThucHien3a\\\"\\n                                                    *ngIf=\\\"loaiTiepNhan == 3\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                    label=\\\"Nơi thực hiện\\\" idWhere=\\\"1\\\" (keyup)=\\\"onKeyMaDichVu($event)\\\"\\n                                                    (openCombobox)=\\\"openCombobox($event)\\\" autoSelectFirstItem=\\\"true\\\"\\n                                                    url=\\\"TiepNhanBenhNhan/GetPhongKhamDichVuGiuong\\\"\\n                                                    [(model)]=\\\"themChiDinhDichVuModel.NoiThucHienId\\\" [required]=\\\"true\\\"\\n                                                    [validationerror]=\\\"'NoiThucHienId' | validationerror:validationErrors\\\"\\n                                                    [template]=\\\"phongKhamTemplate\\\"\\n                                                    [templateHeader]=\\\"phongKhamTemplateHeader\\\" class=\\\"item-no-padding\\\"\\n                                                    [popupSettings]=\\\"{width: 500,popupClass:'item-no-padding'}\\\">\\n\\n                                                    <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <th width=\\\"20%\\\">Mã</th>\\n                                                                <th width=\\\"60%\\\">Phòng</th>\\n                                                                <th>SL ĐTH</th>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                    <ng-template #phongKhamTemplate let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                                <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                                <td>{{dataItem.Tong}}</td>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n\\n                                                </app-combobox>\\n\\n\\n                                                <!-- [disabled]=\\\"duocHuongBHYT != true || !enableDuocHuongBHYT\\\" update 10/8/2020-->\\n                                                <!-- <app-checkbox [(model)]=\\\"themChiDinhDichVuModel.DuocHuongBHYT\\\"\\n                                                    id=\\\"CheckboxDuocHuongBHYT\\\" label=\\\"Được hưởng BHYT\\\"  *ngIf=\\\"loaiTiepNhan == 1\\\"\\n                                                    [disabled]=\\\"true\\\"\\n                                                    fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\" class=\\\"mt-2\\\">\\n                                                </app-checkbox> -->\\n                                                <div fxFlex=\\\"5%\\\" fxFlex.sm=\\\"5%\\\">\\n                                                    <button class=\\\"mt-5\\\" (click)=\\\"themChiDinhDichVuNew()\\\" title=\\\"Thêm\\\"\\n                                                        color=\\\"primary\\\" mat-raised-button>Thêm\\n                                                    </button>\\n                                                </div>\\n\\n                                            </div>\\n\\n\\n                                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                                fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0 pb-0\\\" style=\\\"width: 100%;\\\">\\n                                                <div fxFlex=\\\"90%\\\" fxFlex.sm=\\\"90%\\\">\\n\\n                                                    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                                        fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0 pb-0\\\"\\n                                                        style=\\\"width: 100%;\\\">\\n\\n                                                        <app-checkbox [(model)]=\\\"suDungGoiMarketingModelTemp\\\"\\n                                                            id=\\\"suDungGoiMarketingModelTemp\\\"\\n                                                            (modelChange)=\\\"suDungGoiMarketingChange($event)\\\"\\n                                                            [disabled]=\\\"true\\\"\\n                                                            label=\\\"Sử dụng gói marketing\\\"></app-checkbox>\\n\\n                                                            <!-- cập nhật BVHD-3246: chỉ hiện gói dịch vụ đã đăng ký -->\\n                                                            <!-- [disabled]=\\\"disabledCheckboxMarketing\\\" -->\\n\\n                                                        <div class=\\\"div-danh-sach-goi\\\"\\n                                                            *ngFor=\\\"let item of danhSachGoiDaChonTrongYCTN\\\">\\n                                                            <a class=\\\"danh-sach-goi\\\"\\n                                                                (click)=\\\"showPopupMarketingWithHyperlink(item)\\\">{{item.TenChuongTrinh}}\\n                                                            </a>\\n                                                            <!-- - {{item.TenGoiDichVu}} -->\\n\\n                                                            <button\\n                                                                *ngIf=\\\"item.DaThanhToan != true && item.IsFromMarketing != true\\\"\\n                                                                style=\\\"margin-left: 2px;\\\" (click)=\\\"removeGoi(item)\\\"\\n                                                                color=\\\"primary\\\" type=\\\"button\\\">\\n                                                                <span class=\\\"k-icon k-i-close\\\"></span>\\n                                                            </button>\\n                                                        </div>\\n\\n                                                        <!-- cập nhật BVHD-3246: chỉ hiện gói dịch vụ đã đăng ký -->\\n                                                        <!-- <div *ngIf=\\\"danhSachGoiDaChonTrongYCTN.length > 0 \\\">\\n                                                            <button (click)=\\\"openPopupGoiDichVu()\\\"\\n                                                                class=\\\"mr-6 button-them-goi\\\" color=\\\"primary\\\"\\n                                                                fxFlex=\\\"none\\\" mat-mini-fab kendoTooltip title=\\\"Thêm\\\"\\n                                                                type=\\\"button\\\">\\n                                                                <mat-icon class=\\\"mat-icon-them-goi\\\" [icIcon]=\\\"icAdd\\\">\\n                                                                </mat-icon>\\n                                                            </button>\\n                                                        </div> -->\\n                                                    </div>\\n\\n                                                </div>\\n                                                <div fxFlex=\\\"auto\\\">\\n                                                    <!-- cacDichVuKM -->\\n                                                    <a *ngIf=\\\"coYeuCauGoiDichVu\\\" (click)=\\\"xemGoiDichVuKhuyenMai()\\\">\\n                                                        <span\\n                                                            style=\\\"color:blue; text-decoration: underline; font-weight: bold; bottom: 20px;\\\">\\n                                                            Dịch vụ khuyến mại\\n                                                        </span>\\n                                                    </a>\\n                                                </div>\\n                                                <a (click)=\\\"xemNhomDichVuThuongDung()\\\"\\n                                                    style=\\\"color:green; text-decoration: underline; font-weight: bold;\\\">\\n                                                    Nhóm dịch vụ thường dùng\\n                                                </a>\\n                                            </div>\\n\\n                                            <!-- Dong dich vu giuong va goi kham vao 21/8/2020 -->\\n\\n                                            <!-- <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0 pb-0\\\"\\n                                                style=\\\"width: 100%;\\\">\\n                                                <label style=\\\"margin-top: 36px;\\\" fxFlex=\\\"7%\\\" fxFlex.sm=\\\"7%\\\">\\n                                                    Gói dịch vụ:\\n                                                </label>\\n                                                <app-combobox id=\\\"MaDichVuGoiId\\\" fxFlex=\\\"33%\\\" fxFlex.sm=\\\"33%\\\"\\n                                                    label=\\\"Gói khám\\\" url=\\\"TiepNhanBenhNhan/GetGoiKhamTongHop\\\"\\n                                                    [(model)]=\\\"themChiDinhGoiModel.MaDichVuGoiId\\\" [required]=\\\"true\\\"\\n                                                    [template]=\\\"goiTemplate\\\" (selectionChange)=\\\"MaDichVuGoiSelectionChange($event)\\\"\\n                                                    [templateHeader]=\\\"goiTemplateHeader\\\" class=\\\"item-no-padding\\\"\\n                                                    [validationerror]=\\\"'MaDichVuGoiId' | validationerror:validationErrors\\\">\\n                                                    <ng-template #goiTemplateHeader let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <th width=\\\"70%\\\">Tên gói</th>\\n                                                                <th>Chiết khấu </th>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                    <ng-template #goiTemplate let-dataItem>\\n                                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                            <tr>\\n                                                                <td width=\\\"70%\\\">{{dataItem.Ten}}</td>\\n                                                                <td>{{dataItem.ChietKhau}}</td>\\n                                                            </tr>\\n                                                        </table>\\n                                                    </ng-template>\\n                                                </app-combobox>\\n\\n                                                <div fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\">\\n                                                    <button class=\\\"mt-5\\\" (click)=\\\"themChiDinhDichVuGoiNew()\\\"\\n                                                        title=\\\"Thêm\\\" color=\\\"primary\\\" mat-raised-button>Thêm\\n                                                    </button>\\n                                                </div>\\n\\n                                            </div> -->\\n\\n\\n\\n\\n                                            <div style=\\\"display: inline-block !important;\\\" fxFlex=\\\"100%\\\"\\n                                                *ngIf=\\\"gridDataKhacCoChietKhauDisplay != null && gridDataKhacCoChietKhauDisplay.length != 0\\\">\\n\\n\\n                                                <div fxFlex=\\\"100%\\\"\\n                                                    *ngIf=\\\"gridDataKhacCoChietKhauArray != undefined && gridDataKhacCoChietKhauArray != null\\\">\\n                                                    <div class=\\\"header-grid\\\">GÓI CÓ CHIẾT KHẤU</div>\\n                                                    <div *ngFor=\\\"let item of gridDataKhacCoChietKhauArray; let i = index\\\"\\n                                                        fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\"\\n                                                        fxLayoutGap.lt-sm=\\\"0\\\" style=\\\"width: 100%;\\\">\\n                                                        <div fxFlex=\\\"100%\\\" style=\\\"background: #ebeced;\\\">\\n                                                            <span class=\\\"header-span-grid\\\"\\n                                                                style=\\\"padding: 13px 0 0 0;display: inline-block;\\\">\\n                                                                {{item.data[0].items[0].TenGoiChietKhau}}\\n                                                            </span>\\n                                                            <span style=\\\"float:right;\\\">\\n                                                                <button (click)=\\\"removeGridKhacCoChietKhau(item)\\\"\\n                                                                    mat-icon-button>\\n                                                                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                                                </button>\\n                                                            </span>\\n                                                        </div>\\n                                                        <app-grid fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" #gridCoChietKhau\\n                                                            masterName=\\\"{{item.data[0].items[0].GoiCoChietKhauId}}\\\"\\n                                                            [gridColumns]=\\\"gridCoChietKhauColumns\\\"\\n                                                            [gridDataSource]=\\\"item\\\" [documentType]=\\\"documentType\\\"\\n                                                            [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n                                                            [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n                                                            [lazyLoadPage]=\\\"true\\\" maxHeight=\\\"500\\\" [pageable]=\\\"false\\\"\\n                                                            [groups]=\\\"groupChietKhau\\\">\\n                                                        </app-grid>\\n                                                    </div>\\n                                                </div>\\n\\n                                            </div>\\n\\n                                            <div fxFlex=\\\"100%\\\"\\n                                                *ngIf=\\\"gridDataKhacDisplay != null && gridDataKhacDisplay.length != 0 && gridDataKhacDisplay.total != 0\\\">\\n                                                <div *ngIf=\\\"gridDataKhacCoChietKhauDisplay != null && gridDataKhacCoChietKhauDisplay.length != 0\\\"\\n                                                    class=\\\"header-grid\\\">DỊCH VỤ KHÁC</div>\\n                                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\"\\n                                                    fxLayoutGap.lt-sm=\\\"0\\\">\\n                                                    <app-grid fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" #gridKhongChietKhau\\n                                                        [gridColumns]=\\\"gridKhongChietKhauColumns\\\"\\n                                                        [gridDataSource]=\\\"gridDataKhacDisplay\\\" masterName=\\\"goiKhac\\\"\\n                                                        [removeGroupFooterIfIsOnlyOne]=\\\"true\\\"\\n                                                        [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n                                                        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n                                                        [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" maxHeight=\\\"500\\\"\\n                                                        [pageable]=\\\"false\\\" [groups]=\\\"groupKhongChietKhau\\\">\\n                                                    </app-grid>\\n                                                </div>\\n\\n                                            </div>\\n                                            <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                                                *ngIf=\\\"this.tiepNhanBenhNhan.YeuCauKhacGrid != null\\n                                                && this.tiepNhanBenhNhan.YeuCauKhacGrid != undefined\\n                                                && this.tiepNhanBenhNhan.YeuCauKhacGrid.length > 0\\n                                                && gridDataKhacCoChietKhauDisplay != null && gridDataKhacCoChietKhauDisplay.length != 0\\\">\\n                                                <div class=\\\"styleTinhTong\\\">\\n                                                    <ul class=\\\"inline\\\">\\n                                                        <li>Tổng cộng: <strong\\n                                                                style=\\\"color: blue;\\\">{{totalKhac('TongThanhTienGoi', 1)\\n                                                                | currency:'VND'}}</strong>\\n                                                        </li>\\n                                                        <li>Tổng tiền NB thanh toán: <strong\\n                                                                style=\\\"color:red;\\\">{{totalKhac('TongThanhTienBNTra', 1)\\n                                                                | currency:'VND'}}</strong>\\n                                                        </li>\\n                                                    </ul>\\n                                                </div>\\n                                            </div>\\n\\n                                        </div>\\n\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                                <kendo-tabstrip-tab>\\n                                    <ng-template kendoTabTitle>\\n                                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F9\\\">\\n                                            Tài liệu đính kèm\\n                                        </div>\\n                                    </ng-template>\\n                                    <ng-template kendoTabContent>\\n                                        <!-- grid -->\\n                                        <app-grid [gridColumns]=\\\"gridTaiLieuDinhKemColumns\\\"\\n                                            [gridDataSource]=\\\"gridDataTaiLieuDinhKem\\\" [documentType]=\\\"documentType\\\"\\n                                            [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                                            [headerTemplate]=\\\"headerTaiLieuTemplate\\\" [useHeaderDefault]=\\\"false\\\"\\n                                            #gridTaiLieuDinhKem [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n                                            [autoHeight]=\\\"true\\\">\\n                                        </app-grid>\\n\\n\\n                                        <ng-template #headerTaiLieuTemplate>\\n                                            <div style=\\\"padding: 16px;border-bottom: 1px solid #ccc;\\\">\\n                                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                                    fxLayoutGap.lt-sm=\\\"0\\\">\\n\\n                                                    <app-dropdownlist id=\\\"LoaiId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                        label=\\\"Loại\\\" url=\\\"TiepNhanBenhNhan/GetLoaiTaiLieuDinhKem\\\"\\n                                                        [(model)]=\\\"themTaiLieu.LoaiId\\\" required=\\\"true\\\"\\n                                                        [validationerror]=\\\"'LoaiId' | validationerror:validationErrors\\\">\\n                                                    </app-dropdownlist>\\n\\n                                                    <app-upload fxFlex=\\\"50%\\\" fxFlex.sm=\\\"50%\\\" id=\\\"TaiLieu\\\"\\n                                                        label=\\\"Tài liệu\\\" [model]=\\\"themTaiLieu.TaiLieu\\\"\\n                                                        (uploadFileDone)=\\\"uploadTaiLieuDone($event)\\\" required=\\\"true\\\"\\n                                                        [validationerror]=\\\"'TaiLieu' | validationerror:validationErrors\\\">\\n                                                    </app-upload>\\n\\n                                                    <app-textbox id=\\\"MoTa\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" maxlength=\\\"100\\\"\\n                                                        label=\\\"Mô tả\\\" [(model)]=\\\"themTaiLieu.MoTa\\\">\\n                                                    </app-textbox>\\n\\n                                                    <div fxFlex=\\\"10%\\\" fxFlex.sm=\\\"10%\\\">\\n                                                        <button class=\\\"mt-5\\\" (click)=\\\"themTaiLieuButton()\\\" type=\\\"button\\\"\\n                                                            color=\\\"primary\\\" mat-raised-button>Thêm</button>\\n                                                    </div>\\n\\n                                                </div>\\n                                            </div>\\n                                        </ng-template>\\n\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                                <kendo-tabstrip-tab>\\n                                    <ng-template kendoTabTitle>\\n                                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F10\\\">\\n                                            Người giám hộ\\n                                        </div>\\n                                    </ng-template>\\n\\n                                    <ng-template kendoTabContent>\\n                                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                            fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"m-0\\\">\\n\\n                                            <app-textbox id=\\\"NguoiLienHeHoTen\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                maxlength=\\\"100\\\" label=\\\"Họ và tên\\\" [upperCase]=\\\"true\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeHoTen\\\"\\n                                                [validationerror]=\\\"'NguoiLienHeHoTen' | validationerror:validationErrors\\\">\\n                                            </app-textbox>\\n                                            <app-combobox id=\\\"NguoiLienHeQuanHeNhanThan\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                label=\\\"Quan hệ\\\" url=\\\"TiepNhanBenhNhan/GetQuanHe\\\" bind=\\\"true\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeQuanHeNhanThanId\\\"\\n                                                [validationerror]=\\\"'NguoiLienHeQuanHeNhanThanId' | validationerror:validationErrors\\\">\\n                                            </app-combobox>\\n\\n                                            <app-textboxmask id=\\\"NguoiLienHeSoDienThoai\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                label=\\\"Số điện thoại\\\" maxlength=\\\"10\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeSoDienThoai\\\" mask=\\\"000 000 0000\\\"\\n                                                [validationerror]=\\\"'NguoiLienHeSoDienThoai' | validationerror:validationErrors\\\">\\n                                            </app-textboxmask>\\n                                            <app-textbox id=\\\"NguoiLienHeEmail\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                label=\\\"Email\\\" maxlength=\\\"200\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeEmail\\\"\\n                                                [validationerror]=\\\"'NguoiLienHeEmail' | validationerror:validationErrors\\\">\\n                                            </app-textbox>\\n\\n                                            <app-combobox id=\\\"NguoiLienHeTinhThanhId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                (modelChange)=\\\"TinhThanhPhoNguoiLienHeChange($event)\\\" bind=\\\"true\\\"\\n                                                broadcastAfterLoaded=\\\"true\\\" label=\\\"Tỉnh/Thành Phố\\\"\\n                                                url=\\\"TiepNhanBenhNhan/GetTinhThanh\\\" hierarchyKeyToSend=\\\"tinhThanhLienHe\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeTinhThanhId\\\"\\n                                                class=\\\"item-no-padding\\\" [template]=\\\"tinhThanhTemplate\\\"\\n                                                [templateHeader]=\\\"tinhThanhTemplateHeader\\\">\\n                                                <ng-template #tinhThanhTemplateHeader let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <th width=\\\"20%\\\">Mã</th>\\n                                                            <th>Tên</th>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                                <ng-template #tinhThanhTemplate let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                                            <td>{{dataItem.Ten}}</td>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                            </app-combobox>\\n\\n                                            <app-combobox id=\\\"NguoiLienHeQuanHuyenId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                label=\\\"Quận/Huyện\\\" (modelChange)=\\\"QuanHuyenNguoiLienHeChange($event)\\\"\\n                                                url=\\\"TiepNhanBenhNhan/GetQuanHuyen\\\" bind=\\\"true\\\"\\n                                                broadcastAfterLoaded=\\\"true\\\" hierarchyKeyToListen=\\\"tinhThanhLienHe\\\"\\n                                                hierarchyKeyToSend=\\\"quanHuyenLienHe\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeQuanHuyenId\\\"\\n                                                class=\\\"item-no-padding\\\" [template]=\\\"quanHuyenTemplate\\\"\\n                                                [templateHeader]=\\\"quanHuyenTemplateHeader\\\"\\n                                                [queryInfo]=\\\"queryInfoNguoiLienHeQuanHuyen\\\">\\n                                                <ng-template #quanHuyenTemplateHeader let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <th width=\\\"20%\\\">Mã</th>\\n                                                            <th>Tên</th>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                                <ng-template #quanHuyenTemplate let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                                            <td>{{dataItem.Ten}}</td>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                            </app-combobox>\\n\\n                                            <app-combobox id=\\\"NguoiLienHePhuongXaId\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\"\\n                                                label=\\\"Phường/Xã\\\" url=\\\"TiepNhanBenhNhan/GetPhuongXa\\\" bind=\\\"true\\\"\\n                                                broadcastAfterLoaded=\\\"true\\\" hierarchyKeyToListen=\\\"quanHuyenLienHe\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHePhuongXaId\\\"\\n                                                class=\\\"item-no-padding\\\" [template]=\\\"phuongXaTemplate\\\"\\n                                                [templateHeader]=\\\"phuongXaTemplateHeader\\\"\\n                                                [queryInfo]=\\\"queryInfoNguoiLienHePhuongXa\\\">\\n                                                <ng-template #phuongXaTemplateHeader let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <th width=\\\"20%\\\">Mã</th>\\n                                                            <th>Tên</th>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                                <ng-template #phuongXaTemplate let-dataItem>\\n                                                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                        <tr>\\n                                                            <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                                                            <td>{{dataItem.Ten}}</td>\\n                                                        </tr>\\n                                                    </table>\\n                                                </ng-template>\\n                                            </app-combobox>\\n\\n                                            <app-textbox id=\\\"SoNhaDuongPho\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" maxlength=\\\"200\\\"  class=\\\"text-transform-capitalize\\\"\\n                                                label=\\\"Số nhà/Đường phố\\\"\\n                                                [(model)]=\\\"tiepNhanBenhNhan.NguoiLienHeDiaChi\\\">\\n                                            </app-textbox>\\n                                        </div>\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                                <kendo-tabstrip-tab>\\n                                    <ng-template kendoTabTitle>\\n                                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F11\\\">\\n                                            Lịch Hẹn\\n                                        </div>\\n                                    </ng-template>\\n                                    <ng-template kendoTabContent>\\n                                        <app-tiep-nhan-benh-nhan-tai-kham [(BenhNhan)]=\\\"benhNhanId\\\">\\n                                        </app-tiep-nhan-benh-nhan-tai-kham>\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                                <kendo-tabstrip-tab>\\n                                    <ng-template kendoTabTitle>\\n                                        <div kendoTooltip title=\\\"Phím tắt: Ctrl + F12\\\">\\n                                            Lịch Sử Khám Bệnh\\n                                        </div>\\n                                    </ng-template>\\n                                    <ng-template kendoTabContent>\\n                                        <app-kham-benh-lich-su-kham-list [(BenhNhan)]=\\\"benhNhanId\\\">\\n                                        </app-kham-benh-lich-su-kham-list>\\n                                        <!-- <app-tiep-nhan-benh-nhan-lich-su [(benhNhanId)]=\\\"benhNhanId\\\"></app-tiep-nhan-benh-nhan-lich-su> -->\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                            </kendo-tabstrip>\\n\\n                            <ng-template #donGiaKhamBenhTemplate let-dataItem>\\n                                {{dataItem.DonGia | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #donGiaKhamBenhFooterTemplate let-dataItem>\\n                                <span style=\\\"float:right\\\">Tổng cộng:</span>\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhamBenhTemplate let-dataItem>\\n                                {{dataItem.ThanhTien | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhamBenhGroupFooterTemplate let-aggregates>\\n                                {{aggregates.ThanhTien.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhamBenhFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span style=\\\"color:blue;\\\">{{totalKhamBenh('ThanhTien') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhamBenhTemplate let-dataItem>\\n                                {{dataItem.BHYTThanhToan | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhamBenhFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span>{{totalKhamBenh('BHYTThanhToan') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhamBenhGroupFooterTemplate let-aggregates>\\n                                {{aggregates.BHYTThanhToan.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhamBenhTemplate let-dataItem>\\n                                {{dataItem.SoTienMG | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhamBenhFooterTemplate>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span>{{totalKhamBenh('SoTienMG') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhamBenhGroupFooterTemplate let-aggregates>\\n                                {{aggregates.SoTienMG.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhamBenhTemplate let-dataItem>\\n                                {{dataItem.BnThanhToan | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhamBenhGroupFooterTemplate let-aggregates>\\n                                {{aggregates.BnThanhToan.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhamBenhFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span style=\\\"color:red;\\\">{{totalKhamBenh('BnThanhToan') |\\n                                            currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #actionKhamBenhTemplate let-dataItem>\\n                                <button (click)=\\\"removeGridKhamBenh(dataItem)\\\" mat-menu-item>\\n                                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                </button>\\n                            </ng-template>\\n\\n                            <ng-template #donGiaKyThuatTemplate let-dataItem>\\n                                {{dataItem.DonGia | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #donGiaKyThuatFooterTemplate let-dataItem>\\n                                <span style=\\\"float:right\\\">Tổng cộng:</span>\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKyThuatTemplate let-dataItem>\\n                                {{dataItem.ThanhTien | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKyThuatGroupFooterTemplate let-aggregates>\\n                                {{aggregates.ThanhTien.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKyThuatFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span style=\\\"color:blue;\\\">{{totalKyThuat('ThanhTien') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKyThuatTemplate let-dataItem>\\n                                {{dataItem.SoTienMG | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKyThuatFooterTemplate>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span>{{totalKyThuat('SoTienMG') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKyThuatGroupFooterTemplate let-aggregates>\\n                                {{aggregates.SoTienMG.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKyThuatTemplate let-dataItem>\\n                                {{dataItem.BnThanhToan | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKyThuatFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span style=\\\"color:red;\\\">{{totalKyThuat('BnThanhToan') | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKyThuatGroupFooterTemplate let-aggregates>\\n                                {{aggregates.BnThanhToan.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #actionKyThuatTemplate let-dataItem>\\n                                <button (click)=\\\"removeGridKyThuat(dataItem)\\\" mat-menu-item>\\n                                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                </button>\\n                            </ng-template>\\n\\n                            <ng-template #donGiaKhongChietKhauTemplate let-dataItem>\\n                                {{(dataItem.IsGoiCoChietKhau ? dataItem.DonGiaSauChietKhau : dataItem.DonGia) | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #donGiaBHYTTemplate let-dataItem>\\n                                {{dataItem.GiaBHYT | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #donGiaKhongChietKhauFooterTemplate let-dataItem>\\n                                <span style=\\\"float:right\\\">Tổng cộng:</span>\\n                            </ng-template>\\n\\n                            <ng-template #tenDichVuKhongChietKhauFooterTemplate let-dataItem>\\n                                <span style=\\\"float:right\\\">Cộng:</span>\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhongChietKhauTemplate let-dataItem>\\n                                {{(dataItem.IsGoiCoChietKhau ? dataItem.ThanhTienSauChietKhau : dataItem.ThanhTien) | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhongChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.ThanhTien.sum | currency:'VND'}}\\n                                <!-- {{tinhThanhTienDichVuBaoGomTrongGoiTheGroup(group, value) | currency:'VND'}} -->\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienKhongChietKhauFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span style=\\\"color:blue;\\\">{{totalKhac('ThanhTien', 1) | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhongChietKhauTemplate let-dataItem>\\n                                {{dataItem.BHYTThanhToan | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhongChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.BHYTThanhToan.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bhytThanhToanKhongChietKhauFooterTemplate let-dataItem>\\n                                <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n                                    <div>\\n                                        <span>{{totalKhac('BHYTThanhToan', 0) | currency:'VND'}}</span>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhongChietKhauTemplate let-dataItem>\\n                                {{dataItem.SoTienMG | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhongChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.SoTienMG.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #soTienMgKhongChietKhauFooterTemplate let-masterName>\\n                                <span style=\\\"color:red;\\\">{{totalKhac('SoTienMG', masterName) | currency:'VND'}}</span>\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhongChietKhauTemplate let-dataItem>\\n                                {{dataItem.BnThanhToan | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhongChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.BnThanhToan.sum | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #bnThanhToanKhongChietKhauFooterTemplate let-masterName>\\n                                <span style=\\\"color:red;\\\">{{totalKhac('BnThanhToan', masterName) |\\n                                    currency:'VND'}}</span>\\n                            </ng-template>\\n\\n                            <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n                                <strong>{{value}}</strong>\\n                            </ng-template>\\n\\n                            <ng-template #duocHuongBHYTTemplate let-dataItem>\\n                                <!-- [disabled]=\\\"dataItem.Nhom != 'DỊCH VỤ KHÁM BỆNH' || duocHuongBHYT != true || dataItem.GiaBHYT == 0 || dataItem.GiaBHYT == null\\\" update 10/8/2020 -->\\n                                <app-checkbox [disabled]=\\\"true\\\"\\n                                    (modelChange)=\\\"duocHuongBHYTChange($event, dataItem.MaDichVuId, dataItem.Nhom)\\\"\\n                                    [(model)]=\\\"dataItem.DuocHuongBHYT\\\"\\n                                    id=\\\"DuocHuongBHYT{{dataItem.MaDichVuId}}{{dataItem.Nhom}}\\\" label=\\\"Có\\\">\\n                                </app-checkbox>\\n                            </ng-template>\\n\\n                            <ng-template #loaiGiaTemplate let-dataItem>\\n                                <!-- url=\\\"TiepNhanBenhNhan/GetLoaiGiaKhamBenh\\\" -->\\n                                <app-combobox id=\\\"LoaiGiaGrid-{{dataItem.Id}}\\\" label=\\\"\\\" class=\\\"no-label\\\"\\n                                    (modelChange)=\\\"loaiGiaGridChange($event, dataItem)\\\"\\n                                    url=\\\"{{dataItem.Nhom == 'DỊCH VỤ KHÁM BỆNH' ? 'KhamBenh/LoaiGiaHieuLucTheoDichVuKham' : 'KhamBenh/LoaiGiaHieuLucTheoDichVuKyThuat'}}\\\"\\n                                    [disabled]=\\\"dataItem.IsGoiCoChietKhau || (dataItem.YeuCauGoiDichVuKhuyenMaiId != null && dataItem.YeuCauGoiDichVuKhuyenMaiId != 0)\\\"\\n                                    [(model)]=\\\"dataItem.LoaiGiaId\\\" popupSettings=\\\"null\\\" [bind]=\\\"true\\\" [reloadForGrid]=\\\"true\\\"\\n                                    [queryInfo]=\\\"{ParameterDependencies:'{DichVuId:' +dataItem.MaDichVuId +'}', Take: 50}\\\">\\n                                </app-combobox>\\n                            </ng-template>\\n\\n                            <ng-template #sttKhongChietKhauTemplate let-rowIndex=\\\"rowIndex\\\">\\n                                {{rowIndex + 1}}\\n                            </ng-template>\\n                            <ng-template #sttCoChietKhauTemplate let-rowIndex=\\\"rowIndex\\\">\\n                                {{rowIndex + 1}}\\n                            </ng-template>\\n                            <!-- [max]=\\\"dataItem.IsGoiCoChietKhau ? dataItem.SoLuongConLai : 1000\\\" -->\\n                            <ng-template #soLuongTemplate let-dataItem>\\n                                <!-- {{test(dataItem)}} -->\\n                                <app-textboxnumeric [disabled]=\\\"dataItem.Nhom == 'DỊCH VỤ KHÁM BỆNH' || (dataItem.YeuCauGoiDichVuKhuyenMaiId != null && dataItem.YeuCauGoiDichVuKhuyenMaiId != 0)\\\"\\n                                    (modelChange)=\\\"soLuongGridChange($event, dataItem)\\\" min=1\\n                                    [max]=\\\"dataItem.IsGoiCoChietKhau ? 99999 : 1000\\\" [(model)]=\\\"dataItem.SoLuong\\\"\\n                                    id=\\\"NumerictextboxGrid\\\" label=\\\"\\\" format=\\\"0\\\" class=\\\"item-no-padding no-label\\\">\\n                                </app-textboxnumeric>\\n\\n                            </ng-template>\\n\\n                            <ng-template #noiThucHienKhongChietKhauTemplate let-dataItem>\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ GIƯỜNG'\\\">\\n                                    <app-combobox popupSettings=\\\"\\\" id=\\\"NoiThucHien43{{dataItem.MaDichVuId}}\\\" label=\\\"\\\"\\n                                        autoSelectFirstItem=\\\"true\\\" reloadForGrid=\\\"true\\\" idWhere=\\\"1\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamDichVuGiuongKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" bind=true [required]=\\\"true\\\"\\n                                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\"\\n                                        class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 400,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"20%\\\">Mã</th>\\n                                                    <th width=\\\"20%\\\">Phòng</th>\\n                                                    <th width=\\\"60%\\\">SL đang thực hiện</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                    <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                    <td width=\\\"20%\\\">{{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ KHÁM BỆNH'\\\">\\n                                    <app-combobox id=\\\"NoiThucHienDVKBKCK{{dataItem.MaDichVuId}}\\\" reloadForGrid=\\\"true\\\"\\n                                        autoSelectFirstItem=\\\"true\\\" idWhere=\\\"1\\\" label=\\\"\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" bind=true [required]=\\\"true\\\"\\n                                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\"\\n                                        class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 600,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"40%\\\">Phòng</th>\\n                                                    <th width=\\\"40%\\\">Bác sĩ</th>\\n                                                    <th width=\\\"10%\\\">Đ.khám</th>\\n                                                    <th width=\\\"10%\\\">Tổng</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"40%\\\">{{dataItem.TenPhong}}</td>\\n                                                    <td width=\\\"40%\\\">{{dataItem.TenBacSi}}</td>\\n                                                    <td width=\\\"10%\\\">{{dataItem.DangKham}}</td>\\n                                                    <td width=\\\"10%\\\">{{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ KỸ THUẬT'\\\">\\n                                    <app-combobox id=\\\"NoiThucHien23a{{dataItem.MaDichVuId}}\\\" label=\\\"\\\"\\n                                        autoSelectFirstItem=\\\"true\\\" reloadForGrid=\\\"true\\\" idWhere=\\\"1\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamKyThuatKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" bind=true [required]=\\\"true\\\"\\n                                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\"\\n                                        class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 400,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"20%\\\">Mã</th>\\n                                                    <th width=\\\"60%\\\">Phòng</th>\\n                                                    <th>SL ĐTH</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                    <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                    <td>{{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #actionKhongChietKhauTemplate let-dataItem>\\n                                <button (click)=\\\"removeGridKhac(dataItem)\\\" mat-menu-item>\\n                                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                </button>\\n                            </ng-template>\\n\\n                            <ng-template #donGiaChietKhauTemplate let-dataItem>\\n                                {{dataItem.DonGia | currency:'VND'}}\\n                            </ng-template>\\n\\n\\n                            <ng-template #thanhTienChietKhauTemplate let-dataItem>\\n                                {{dataItem.ThanhTien | currency:'VND'}}\\n                            </ng-template>\\n                            <ng-template #thanhTienTrongGoiChietKhauTemplate let-dataItem>\\n                                {{dataItem.ThanhTienTrongGoi | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #donGiaChietKhauFooterTemplate let-dataItem>\\n                                <span style=\\\"float:right\\\">Giá trước CK:</span>\\n                            </ng-template>\\n\\n                            <!-- <ng-template #thanhTienTrongGoiChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.ThanhTienTrongGoi.sum | currency:'VND'}}\\n                            </ng-template> -->\\n\\n                            <ng-template #thanhTienTrongGoiChietKhauFooterTemplate let-masterName>\\n                                <span style=\\\"color:red;\\\">{{totalKhac('ThanhTienTrongGoi', masterName) |\\n                                    currency:'VND'}}</span>\\n                            </ng-template>\\n\\n                            <!-- <ng-template #thanhTienChietKhauGroupFooterTemplate let-aggregates>\\n                                {{aggregates.ThanhTien.sum | currency:'VND'}}\\n                            </ng-template> -->\\n\\n                            <ng-template #thanhTienChietKhauFooterTemplate let-masterName>\\n                                <span style=\\\"color:blue\\\">{{totalKhac('ThanhTienGoiChietKhau', masterName) |\\n                                    currency:'VND'}}</span>\\n                            </ng-template>\\n\\n                            <ng-template #thanhTienTrongGoiChietKhauTemplate let-dataItem>\\n                                {{dataItem.ThanhTienTrongGoi | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #tyLeChietKhauCoChietKhauTemplate let-dataItem>\\n                                {{dataItem.TyLeChietKhauDisplay}}\\n                            </ng-template>\\n\\n                            <ng-template #duocGiamTrongGoiCoChietKhauTemplate let-dataItem>\\n                                {{dataItem.DuocGiamTrongGoi | currency:'VND'}}\\n                            </ng-template>\\n\\n                            <ng-template #duocGiamTrongGoiCoChietKhauFooterTemplate let-dataItem>\\n                                <div>\\n                                    <span style=\\\"float:right\\\">Giá sau CK:</span>\\n                                </div>\\n                            </ng-template>\\n\\n                            <ng-template #tenDvTemplate let-dataItem>\\n                                <div *ngIf=\\\"dataItem.IsGoiCoChietKhau\\\" class=\\\"xac-nhan-ng-template\\\" kendoTooltip\\n                                    #tooltip=\\\"kendoTooltip\\\" tooltipClass=\\\"tooltip-block\\\" position=\\\"top\\\"\\n                                    [tooltipTemplate]=\\\"templateInfo\\\" filter=\\\"*\\\"\\n                                    (mouseover)=\\\"setUpDataTooltip(dataItem)\\\">\\n                                    <mat-icon [icIcon]=\\\"icInfo\\\" class=\\\"info\\\"></mat-icon>\\n                                </div>\\n\\n                                <ng-template #templateInfo let-dataItem>\\n                                    <span>Dịch vụ chọn từ gói: {{displayToolTipGrid}} </span>\\n                                </ng-template>\\n\\n                                <div class=\\\"xac-nhan-ng-template\\\" kendoTooltip>\\n                                    <p class=\\\"ten-dich-vu-label\\\" title={{dataItem.TenDichVu}}>\\n                                        {{dataItem.TenDichVu}}</p>\\n                                </div>\\n\\n                            </ng-template>\\n\\n                            <ng-template #noiThucHienChietKhauTemplate let-dataItem>\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ GIƯỜNG'\\\">\\n                                    <app-combobox id=\\\"NoiThucHien{{dataItem.MaDichVuId}}\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                                        label=\\\"\\\" autoSelectFirstItem=\\\"true\\\" reloadForGrid=\\\"true\\\" idWhere=\\\"1\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamDichVuGiuongKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" bind=true [required]=\\\"true\\\"\\n                                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\"\\n                                        class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 400,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"20%\\\">Mã</th>\\n                                                    <th width=\\\"60%\\\">Phòng</th>\\n                                                    <th>SL ĐTH</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                    <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                    <td>{{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ KHÁM BỆNH'\\\">\\n                                    <app-combobox id=\\\"NoiThucHienDVKB{{dataItem.MaDichVuId}}\\\" fxFlex=\\\"100%\\\"\\n                                        fxFlex.sm=\\\"100%\\\" label=\\\"\\\" bind=true reloadForGrid=\\\"true\\\" idWhere=\\\"1\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" [required]=\\\"true\\\" autoSelectFirstItem=\\\"true\\\"\\n                                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\"\\n                                        class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 600,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"40%\\\">Phòng</th>\\n                                                    <th width=\\\"40%\\\">Bác sĩ</th>\\n                                                    <th width=\\\"10%\\\">Đ.khám</th>\\n                                                    <th width=\\\"10%\\\">Tổng</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"40%\\\">\\n                                                        {{dataItem.TenPhong}}</td>\\n                                                    <td width=\\\"40%\\\">\\n                                                        {{dataItem.TenBacSi}}</td>\\n                                                    <td width=\\\"10%\\\">\\n                                                        {{dataItem.DangKham}}</td>\\n                                                    <td width=\\\"10%\\\">\\n                                                        {{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n\\n                                <div *ngIf=\\\"dataItem.Nhom == 'DỊCH VỤ KỸ THUẬT'\\\">\\n                                    <app-combobox id=\\\"NoiThucHienDVKT{{dataItem.MaDichVuId}}\\\" fxFlex=\\\"100%\\\"\\n                                        fxFlex.sm=\\\"100%\\\" label=\\\"\\\" idWhere=\\\"1\\\"\\n                                        url=\\\"TiepNhanBenhNhan/GetPhongKhamKyThuatKhac/?id={{dataItem.MaDichVuId}}\\\"\\n                                        [(model)]=\\\"dataItem.NoiThucHienId\\\" bind=true [required]=\\\"true\\\"\\n                                        autoSelectFirstItem=\\\"true\\\" reloadForGrid=\\\"true\\\" [template]=\\\"phongKhamTemplate\\\"\\n                                        [templateHeader]=\\\"phongKhamTemplateHeader\\\" class=\\\"item-no-padding no-label\\\"\\n                                        [popupSettings]=\\\"{width: 400,popupClass:'item-no-padding'}\\\">\\n\\n                                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <th width=\\\"20%\\\">Mã</th>\\n                                                    <th width=\\\"60%\\\">Phòng</th>\\n                                                    <th>SL ĐTH</th>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                        <ng-template #phongKhamTemplate let-dataItem>\\n                                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                                <tr>\\n                                                    <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                                    <td width=\\\"60%\\\">{{dataItem.TenPhong}}</td>\\n                                                    <td>{{dataItem.Tong}}</td>\\n                                                </tr>\\n                                            </table>\\n                                        </ng-template>\\n                                    </app-combobox>\\n                                </div>\\n                            </ng-template>\\n\\n\\n                            <!-- template grid -->\\n                            <ng-template #taiLieuTemplate let-dataItem>\\n                                <a (click)=\\\"viewTaiLieu(dataItem)\\\">\\n                                    {{dataItem.Ten}}\\n                                </a>\\n                            </ng-template>\\n\\n                            <ng-template #actionTaiLieuTemplate let-dataItem>\\n                                <button (click)=\\\"$event.stopPropagation()\\\" kendoTooltip title=\\\"Hành động\\\"\\n                                    [matMenuTriggerFor]=\\\"actionsMenu\\\" mat-icon-button type=\\\"button\\\">\\n                                    <mat-icon [icIcon]=\\\"icMoreHoriz\\\"></mat-icon>\\n                                </button>\\n                                <mat-menu #actionsMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n                                    <ng-template let-customer=\\\"customer\\\" matMenuContent>\\n                                        <button (click)=\\\"removeTaiLieu(dataItem)\\\" mat-menu-item>\\n                                            <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                                            <span>Xóa</span>\\n                                        </button>\\n                                    </ng-template>\\n                                </mat-menu>\\n                            </ng-template>\\n\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n\\n            <!-- </div> -->\\n            <div class=\\\"form-footer-fixed\\\" fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"8px\\\" kendoTooltip>\\n                <!-- <ul class=\\\"hot-keys float-left\\\">\\n                    <li class=\\\"warn\\\">F1: Quét mã vạch</li>\\n                </ul> -->\\n                <button *ngIf=\\\"urlPageUpdateYCTN != null\\\" type=\\\"button\\\" mat-raised-button color=\\\"primary\\\"\\n                    class=\\\"float-left\\\" title=\\\"Cập nhật YCTN\\\" (click)=\\\"chuyenVeTrangCapNhatYCTN()\\\">Cập nhật YCTN</button>\\n\\n                <button type=\\\"button\\\" mat-button class=\\\"mr-1\\\" (click)=\\\"huy()\\\" title=\\\"Phím tắt: Esc\\\">Hủy</button>\\n                <button type=\\\"button\\\" *ngIf=\\\"!loading\\\" (click)=\\\"xuLyTaoYeuCauTiepNhan()\\\" color=\\\"primary\\\" title=\\\"Phím tắt: Ctrl + S\\\"\\n                    [disabled]=\\\"errMessageKhongChoPhepTaoMoiYCTN != null && errMessageKhongChoPhepTaoMoiYCTN !=''\\\"\\n                    mat-raised-button>Lưu</button>\\n                <button type=\\\"button\\\" *ngIf=\\\"!loading\\\" (click)=\\\"xuLyTaoYeuCauTiepNhan(true)\\\" color=\\\"primary\\\"\\n                    title=\\\"Phím tắt: Ctrl + Shift + S\\\"\\n                    [disabled]=\\\"errMessageKhongChoPhepTaoMoiYCTN != null && errMessageKhongChoPhepTaoMoiYCTN !=''\\\" mat-raised-button>Lưu và in phiếu chỉ định</button>\\n                    <!-- title=\\\"Phím tắt: Ctrl + Shift + S\\\" -->\\n                <button *ngIf=\\\"loading\\\" class=\\\"btn btn-raised btn-raised btn-primary mb-0\\\"><img src=\\\"/assets/img/loader.gif\\\"\\n                        alt=\\\"Loading\\\" /></button>\\n            </div>\\n            <app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\"></app-barcode>\\n        </div>\\n\\n        <ng-template #dichVuTrongGoiTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            <app-checkbox *ngIf=\\\"dataItem.TenGoiChietKhau\\\" id=\\\"dvGoiMarketing{{rowIndex}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.GoiCoChietKhauId\\\"\\n                (modelChange)=\\\"changeDichVuTrongGoi($event, dataItem)\\\" [disabled]=\\\"dataItem.YeuCauGoiDichVuKhuyenMaiId\\\">\\n            </app-checkbox>\\n        </ng-template>\\n\\n        <ng-template #dichVuKhuyenMaiTemplate let-dataItem>\\n            <app-checkbox *ngIf=\\\"dataItem.LaDichVuKhuyenMai\\\" id=\\\"dvKhuyenMaiGoiMarketing{{dataItem.Id}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.LaDichVuKhuyenMai\\\"\\n                [disabled]=\\\"true\\\">\\n            </app-checkbox>\\n        </ng-template>\\n    </vex-page-layout-content>\\n</vex-page-layout>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n\\t<div style=\\\"text-transform: uppercase\\\">Kết quả phiếu ({{arrFileUrl.length}} file)</div>\\n\\t<button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n\\t\\t<mat-icon [icIcon]=\\\"icClose\\\" [mat-dialog-close]=\\\"null\\\"></mat-icon>\\n\\t</button>\\n</div>\\n<mat-dialog-content style=\\\"height: 550px\\\">\\n\\t<div class=\\\"container-iframe\\\">\\n\\t\\t<ng-container [ngSwitch]=\\\"arrFileUrl.length == 1\\\">\\n\\t\\t\\t<div *ngSwitchCase=\\\"true\\\">\\n\\t\\t\\t\\t<ng-container  *ngFor=\\\"let item of arrFileUrl, let i = index\\\">\\n\\t\\t\\t\\t\\t<iframe id=\\\"{{i}}\\\" width=\\\"100%\\\" height=\\\"1000px\\\" frameborder=\\\"0\\\" [src]=\\\"item | safe\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"application/pdf\\\" allowTransparency=\\\"true\\\" background=\\\"transparent\\\" style=\\\"display: none\\\"\\n\\t\\t\\t\\t\\t\\tonload=\\\"this.style.display = 'block';\\\"></iframe>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div *ngSwitchDefault>Không có dữ liệu</div>\\n\\t\\t</ng-container>\\n\\n\\t\\t<ng-container [ngSwitch]=\\\"arrFileUrl.length > 1\\\">\\n\\t\\t\\t<div *ngSwitchCase=\\\"true\\\">\\n\\n\\t\\t\\t\\t<ng-container  *ngFor=\\\"let item of arrFileUrl, let i = index\\\">\\n\\t\\t\\t\\t\\t<iframe id=\\\"{{i}}\\\" width=\\\"100%\\\" height=\\\"450px\\\" frameborder=\\\"0\\\" [src]=\\\"item | safe\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"application/pdf\\\" allowTransparency=\\\"true\\\" background=\\\"transparent\\\" style=\\\"display: none\\\"\\n\\t\\t\\t\\t\\t\\tonload=\\\"this.style.display = 'block';\\\"></iframe>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div *ngSwitchDefault>Không có dữ liệu</div>\\n\\t\\t</ng-container>\\n\\t</div>\\n</mat-dialog-content>\\n<mat-dialog-actions class=\\\"pb-5\\\">\\n\\t<button type=\\\"button\\\" style=\\\"margin-left: auto\\\" [mat-dialog-close]=\\\"null\\\" mat-button class=\\\"mr-1 mt-4\\\"><i class=\\\"ft-arrow-left\\\"></i> Hủy</button>\\n\\t<button type=\\\"button\\\" *ngIf=\\\"arrFilePdf.length > 0\\\" (click)=\\\"downloadAllFile()\\\" mat-stroked-button color=\\\"primary\\\" class=\\\"mr-1 mt-4\\\">Tải tất cả</button>\\n\\t<button type=\\\"button\\\" mat-raised-button mat-button (click)=\\\"ketXuatBangKeChiPhiExcel()\\\" title=\\\"xuất excel\\\" color=\\\"primary\\\" class=\\\"mr-2\\\">Xuất Excel</button>\\n</mat-dialog-actions>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1\\\">\\n    <div></div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"overflow:hidden\\\">\\n    <div class=\\\"container-iframe\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                <span fxFlex=\\\"30%\\\">\\n                     Biểu hiện lâm sàng:\\n                </span>\\n                <app-textarea fxFlex=\\\"70%\\\" id=\\\"BieuHienLamSang\\\" [(model)]=\\\"xetNghiemCovid.BieuHienLamSang\\\" \\n                 minHeight=\\\"20\\\">\\n                </app-textarea>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                <span fxFlex=\\\"30%\\\">\\n                     Dịch tễ SARS-CoV 2:\\n                </span>\\n                <app-textarea id=\\\"DichTeSarsCoV2\\\" [(model)]=\\\"xetNghiemCovid.DichTeSarsCoV2\\\" fxFlex=\\\"70%\\\"\\n                 minHeight=\\\"20\\\">\\n            </app-textarea>\\n            </div>\\n            <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                <span >\\n                     Loại bệnh án: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>{{xetNghiemCovid.LoaiBenhPham}}</b>\\n                </span>\\n            </div>\\n        </div>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" (click)=\\\"save()\\\" mat-raised-button mat-button color=\\\"primary\\\"\\n        class=\\\"md-primary\\\">Lưu</button>\\n</mat-dialog-actions> \"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL2luLXBoaWV1LWRhbmcta3kta2hhbS10aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwL2luLXBoaWV1LWRhbmcta3kta2hhbS10aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n@Component({\n  selector: 'app-in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup',\n  templateUrl: './in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.html',\n  styleUrls: ['./in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component.scss']\n})\nexport class InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent implements OnInit {\n\n  phieuDangKyKham : any[] =[];\n  phieuDichVuKyThuatCLS : any[] = [];\n  phieuDichVuKhamCLS : any[] =[];\n  phieuDichVuKhacCLS : any[]=[];\n  phieuDichVuGiuongCLS : any[]=[];\n  phieuDichVuChiDinhXetNghiemTestCovid : any[]=[];\n  src: string = \"\";\n  icClose = icClose;\n  modelPrint : any;\n  loaiPhieu : number = 0;\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, public sanitizer: DomSanitizer, private apiService: ApiService, private dialog: MatDialog) {\n  }\n\n  ngOnInit() {\n    this.src = \"data:text/html;charset=utf-8,\" + encodeURIComponent(this.data.Model);\n    console.log(\"data:\",this.data.Model)\n    this.modelPrint = this.data.Model;\n  }\n  close() {\n    this.dialog.closeAll();\n  }\n  InPhieu(loaiPhieu) {\n    this.loaiPhieu = loaiPhieu;\n    this.getSharedPrintForm();\n  }\n  getSharedPrintForm() {\n    const tmpPhieuKham =\n      '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU ĐĂNG KÝ KHÁM</th></tr></table>';\n    const tmpPhieuCLS =\n      '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH CẬN LÂM SÀNG</th></tr></table>';\n    const tmpPhieuXNCoVId =\n      '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH XÉT NGHIỆM TEST NHANH KHÁNG NGUYÊN SARS-CoV-2 </th></tr></table>';\n  \n    let data = this.modelPrint.replaceAll(tmpPhieuKham,'').replaceAll(tmpPhieuCLS,'').replaceAll(tmpPhieuXNCoVId,'');\n    // in \n    let dataphieukeThuTienThuoc = data.split('<div class=\\\"pagebreak\\\"> </div>');\n    let dataphieu = data.split('<div class=\\\"pagebreak\\\"> </div>');\n    let pageBreak = '<div class=\\\"pagebreak\\\"> </div>';\n    dataphieu.forEach(element => {\n      if(element.indexOf('PHIẾU ĐĂNG KÝ KHÁM') > -1)\n      {\n        let PhieuInPageBreak = element + pageBreak;\n        this.phieuDangKyKham.push(PhieuInPageBreak); \n       \n      }\n      else if(element.indexOf('DỊCH VỤ GIƯỜNG') > -1){\n        let PhieuInPageBreak = element + pageBreak;\n        this.phieuDichVuGiuongCLS.push(PhieuInPageBreak); \n        \n      }else if(element.indexOf('PHIẾU CHỈ ĐỊNH XÉT NGHIỆM') > -1){\n        let PhieuInPageBreak = element + pageBreak;\n        this.phieuDichVuChiDinhXetNghiemTestCovid.push(PhieuInPageBreak); \n        \n      }\n      else{\n        let PhieuInPageBreak = element + pageBreak;\n        this.phieuDichVuKyThuatCLS.push(PhieuInPageBreak); \n      }\n    });\n   \n    if(this.loaiPhieu == 1) // dvkt\n    {\n      if(this.phieuDichVuKyThuatCLS.length == 0)\n      {\n        let chuoiIn = \"Không có dịch vụ chỉ định cận lâm sàng.\";\n        return new Promise(resolve => {\n          resolve(chuoiIn);\n          chuoiIn=\"\";\n          this.phieuDichVuKyThuatCLS = [];\n        });\n      }\n      else\n      {\n        let chuoiIn = \"\";\n      this.phieuDichVuKyThuatCLS.forEach(element => {\n        if(element != pageBreak)\n        {\n          chuoiIn = chuoiIn + element;\n        }\n        \n      });\n      let viTricutPageBreak = chuoiIn.lastIndexOf(pageBreak);\n      chuoiIn = chuoiIn.substr(0,viTricutPageBreak);\n      return new Promise(resolve => {\n        resolve(chuoiIn);\n        chuoiIn=\"\";\n        this.phieuDichVuKyThuatCLS = [];\n      });\n      }\n      \n      \n    }\n    if(this.loaiPhieu == 2) // dv kb\n    {\n      if(this.phieuDangKyKham.length == 0)\n      {\n        let chuoiIn = \"Không có dịch vụ khám bệnh.\";\n        return new Promise(resolve => {\n          resolve(chuoiIn);\n          chuoiIn=\"\";\n          this.phieuDichVuKyThuatCLS = [];\n        });\n      }\n      else{\n        let chuoiIn = \"\";\n        this.phieuDangKyKham.forEach(element => {\n          chuoiIn = chuoiIn + element;\n        });\n        let viTricutPageBreak = chuoiIn.lastIndexOf(pageBreak);\n        chuoiIn = chuoiIn.substr(0,viTricutPageBreak);\n        return new Promise(resolve => {\n          resolve(chuoiIn);\n          chuoiIn=\"\";\n          this.phieuDangKyKham = [];\n        });\n      }\n      \n    }\n    if(this.loaiPhieu == 4) // dv giuong\n    {\n      if(this.phieuDangKyKham.length == 0)\n      {\n        let chuoiIn = \"Không có dịch vụ khám bệnh.\";\n        return new Promise(resolve => {\n          resolve(chuoiIn);\n          chuoiIn=\"\";\n          this.phieuDichVuKyThuatCLS = [];\n        });\n      }\n      else{\n        let chuoiIn = \"\";\n        this.phieuDichVuGiuongCLS.forEach(element => {\n          chuoiIn = chuoiIn + element;\n        });\n        let viTricutPageBreak = chuoiIn.lastIndexOf(pageBreak);\n        chuoiIn = chuoiIn.substr(0,viTricutPageBreak);\n        return new Promise(resolve => {\n          resolve(chuoiIn);\n          chuoiIn=\"\";\n          this.phieuDichVuGiuongCLS = [];\n        });\n      }\n    }\n    if(this.loaiPhieu == 3) // dv xn covid\n    {\n      if(this.phieuDichVuChiDinhXetNghiemTestCovid.length == 0)\n      {\n        let chuoiIn = \"Không có phiếu chỉ định xét nghiệm.\";\n        return new Promise(resolve => {\n          resolve(chuoiIn);\n          chuoiIn=\"\";\n          this.phieuDichVuKyThuatCLS = [];\n        });\n      }\n      else{\n        let chuoiIn = \"\";\n        this.phieuDichVuChiDinhXetNghiemTestCovid.forEach(element => {\n          chuoiIn = chuoiIn + element;\n        });\n        let viTricutPageBreak = chuoiIn.lastIndexOf(pageBreak);\n        chuoiIn = chuoiIn.substr(0,viTricutPageBreak);\n        return new Promise(resolve => {\n          resolve(chuoiIn);\n          chuoiIn=\"\";\n          this.phieuDichVuChiDinhXetNghiemTestCovid = [];\n        });\n      }\n      \n    }\n}\n\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 500px;\\n  background: #ebeced;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vaW4tcGhpZXUteG4tY292aWQvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aWVwLW5oYW4tYmVuaC1uaGFuXFxpbi1waGlldS14bi1jb3ZpZFxcaW4tcGhpZXUteG4tY292aWQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL2luLXBoaWV1LXhuLWNvdmlkL2luLXBoaWV1LXhuLWNvdmlkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL2luLXBoaWV1LXhuLWNvdmlkL2luLXBoaWV1LXhuLWNvdmlkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwMHB4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn0iLCIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTAwcHg7XG4gIGJhY2tncm91bmQ6ICNlYmVjZWQ7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSJdfQ== */\"","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n\n@Component({\n  selector: 'app-in-phieu-xn-covid',\n  templateUrl: './in-phieu-xn-covid.component.html',\n  styleUrls: ['./in-phieu-xn-covid.component.scss']\n})\nexport class InPhieuXnCovidComponent implements OnInit {\n  hostingName: string;\n  modelPrint: any;\n  src = '';\n  icClose = icClose;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, public sanitizer: DomSanitizer, private dialog: MatDialog) {\n      this.src = 'data:text/html;charset=utf-8,' + encodeURIComponent(this.data.Model);\n  }\n\n  ngOnInit() {\n      this.modelPrint = this.data.Model;\n  }\n\n  getSharedPrintForm() {\n    const tmpPhieuXNCoVId =\n    '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH XÉT NGHIỆM TEST NHANH KHÁNG NGUYÊN SARS-CoV-2 </th></tr></table>';\n\n  let data = this.modelPrint.replaceAll(tmpPhieuXNCoVId, '');\n      return new Promise(resolve => {\n          resolve(data);\n      });\n  }\n\n  close() {\n      this.dialog.closeAll();\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLWRpY2gtdnUtY2hlY2stdHJ1bmcvcG9wdXAtZGljaC12dS1jaGVjay10cnVuZy5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n@Component({\n  selector: 'app-popup-dich-vu-check-trung',\n  templateUrl: './popup-dich-vu-check-trung.component.html',\n  styleUrls: ['./popup-dich-vu-check-trung.component.scss']\n})\nexport class PopupDichVuCheckTrungComponent implements OnInit {\n\n  icClose = icClose;\n\n  constructor(private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n  public dialogRef: MatDialogRef<PopupDichVuCheckTrungComponent>,\n  private apiService: ApiService,\n  private notificationService: NotificationService) { }\n\n  ngOnInit() {\n  }\n\n  Co(){\n    this.dialogRef.close(true);\n  }\n  Khong(){\n    this.dialogRef.close(false);\n  }\n}\n","export default \".div-tag-content {\\n  display: block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vcG9wdXAtbWFya2V0aW5nLWNoZWNrLXRydW5nL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcdGllcC1uaGFuLWJlbmgtbmhhblxccG9wdXAtbWFya2V0aW5nLWNoZWNrLXRydW5nXFxwb3B1cC1tYXJrZXRpbmctY2hlY2stdHJ1bmcuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLW1hcmtldGluZy1jaGVjay10cnVuZy9wb3B1cC1tYXJrZXRpbmctY2hlY2stdHJ1bmcuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vcG9wdXAtbWFya2V0aW5nLWNoZWNrLXRydW5nL3BvcHVwLW1hcmtldGluZy1jaGVjay10cnVuZy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kaXYtdGFnLWNvbnRlbnQge1xuICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xufSIsIi5kaXYtdGFnLWNvbnRlbnQge1xuICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xufSJdfQ== */\"","import { Component, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { DanhSachDichVuChonTrongLanPopup, DanhSachGoiChonTrongLanPopup } from '../tiep-nhan-benh-nhan.model';\n\n@Component({\n  selector: 'app-popup-marketing-check-trung',\n  templateUrl: './popup-marketing-check-trung.component.html',\n  styleUrls: ['./popup-marketing-check-trung.component.scss']\n})\nexport class PopupMarketingCheckTrungComponent implements OnInit {\n\n  danhSachGoiDaChonTrongLanPopup: Array<DanhSachDichVuChonTrongLanPopup> = new Array<DanhSachDichVuChonTrongLanPopup>();\n\n  gridColumns: any[] = [];\n\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n  @ViewChild('canhBaoTemplate', { static: true }) canhBaoTemplate: TemplateRef<any>;\n  \n  constructor(private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n  public dialogRef: MatDialogRef<PopupMarketingCheckTrungComponent>,\n  private apiService: ApiService,\n  private notificationService: NotificationService) { \n    this.danhSachGoiDaChonTrongLanPopup = this.data.data;\n    //console.log(\"PopupMarketingCheckTrungComponent = \", this.danhSachGoiDaChonTrongLanPopup);\n  }\n\n  ngOnInit() {\n    this.gridColumns = [\n      { Field: \"ThuocGoi\", Title: \"Chương Trình\", Width: 180 , Sortable: false },\n      { Field: \"TenDichVu\", Title: \"Dịch Vụ\", Width: 180 , Sortable: true },\n      { Field: \"ThuocGoi\", Title: \"Cảnh Báo\", Width: 80 , Sortable: true, Template: this.canhBaoTemplate },\n      { Field: \"ThuocGoi\", Title: \"\", Width: 100 , Sortable: true, Template: this.actionTemplate },\n    ];\n  }\n\n  Co(){\n    let item = this.danhSachGoiDaChonTrongLanPopup.filter(o => o.KhongThem);\n    //console.log(\"Co = \", item);\n    this.dialogRef.close(item);\n  }\n\n  Khong(){\n    this.dialogRef.close();\n  }\n\n  close(){\n    this.dialogRef.close();\n  }\n  // khongThemChange($event, dataItem){\n  //   console.log(\"khongThemChange = \", $event, dataItem);\n  // }\n}\n","export default \"ul {\\n  margin: 0;\\n}\\n\\nul.dashed {\\n  list-style-type: none;\\n}\\n\\nul.dashed > li {\\n  text-indent: -5px;\\n  padding: 1px 0px 1px 0px;\\n}\\n\\nul.dashed > li:before {\\n  content: \\\"- \\\";\\n  text-indent: -5px;\\n}\\n\\n.title-grid-parent {\\n  text-transform: uppercase;\\n  font-weight: bold;\\n}\\n\\ninput[type=checkbox] {\\n  transform: scale(1.5);\\n}\\n\\n.span-1-goi-marketing {\\n  margin-left: 10px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  max-width: 40%;\\n  width: 40%;\\n}\\n\\n.span-trang-thai {\\n  width: 57%;\\n  text-align: right;\\n}\\n\\n.text-right-td {\\n  text-align: right;\\n}\\n\\n.text-left-td {\\n  text-align: left;\\n}\\n\\n.text-red {\\n  color: red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vcG9wdXAtbWFya2V0aW5nLXRpZXAtbmhhbi1iZW5oLW5oYW4vQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aWVwLW5oYW4tYmVuaC1uaGFuXFxwb3B1cC1tYXJrZXRpbmctdGllcC1uaGFuLWJlbmgtbmhhblxccG9wdXAtbWFya2V0aW5nLXRpZXAtbmhhbi1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLW1hcmtldGluZy10aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLW1hcmtldGluZy10aWVwLW5oYW4tYmVuaC1uaGFuLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsU0FBQTtBQ0NGOztBREVBO0VBQ0UscUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0Esd0JBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UscUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0EsY0FBQTtFQUNBLFVBQUE7QUNDRjs7QURFQTtFQUNFLFVBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGllcC1uaGFuLWJlbmgtbmhhbi9wb3B1cC1tYXJrZXRpbmctdGllcC1uaGFuLWJlbmgtbmhhbi9wb3B1cC1tYXJrZXRpbmctdGllcC1uaGFuLWJlbmgtbmhhbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInVsIHtcbiAgbWFyZ2luOiAwO1xufVxuXG51bC5kYXNoZWQge1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG59XG5cbnVsLmRhc2hlZCA+IGxpIHtcbiAgdGV4dC1pbmRlbnQ6IC01cHg7XG4gIHBhZGRpbmc6IDFweCAwcHggMXB4IDBweDtcbn1cblxudWwuZGFzaGVkID4gbGk6YmVmb3JlIHtcbiAgY29udGVudDogXCItIFwiO1xuICB0ZXh0LWluZGVudDogLTVweDtcbn1cblxuLnRpdGxlLWdyaWQtcGFyZW50IHtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbmlucHV0W3R5cGU9Y2hlY2tib3hdIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjUpO1xufVxuXG4uc3Bhbi0xLWdvaS1tYXJrZXRpbmcge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIG1heC13aWR0aDogNDAlO1xuICB3aWR0aDogNDAlO1xufVxuXG4uc3Bhbi10cmFuZy10aGFpIHtcbiAgd2lkdGg6IDU3JTtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi50ZXh0LXJpZ2h0LXRkIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi50ZXh0LWxlZnQtdGQge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuXG4udGV4dC1yZWQge1xuICBjb2xvcjogcmVkO1xufSIsInVsIHtcbiAgbWFyZ2luOiAwO1xufVxuXG51bC5kYXNoZWQge1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG59XG5cbnVsLmRhc2hlZCA+IGxpIHtcbiAgdGV4dC1pbmRlbnQ6IC01cHg7XG4gIHBhZGRpbmc6IDFweCAwcHggMXB4IDBweDtcbn1cblxudWwuZGFzaGVkID4gbGk6YmVmb3JlIHtcbiAgY29udGVudDogXCItIFwiO1xuICB0ZXh0LWluZGVudDogLTVweDtcbn1cblxuLnRpdGxlLWdyaWQtcGFyZW50IHtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbmlucHV0W3R5cGU9Y2hlY2tib3hdIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjUpO1xufVxuXG4uc3Bhbi0xLWdvaS1tYXJrZXRpbmcge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIG1heC13aWR0aDogNDAlO1xuICB3aWR0aDogNDAlO1xufVxuXG4uc3Bhbi10cmFuZy10aGFpIHtcbiAgd2lkdGg6IDU3JTtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi50ZXh0LXJpZ2h0LXRkIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi50ZXh0LWxlZnQtdGQge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuXG4udGV4dC1yZWQge1xuICBjb2xvcjogcmVkO1xufSJdfQ== */\"","import { Component, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport { ChiDinhDichVuGridVo, ChiTietGoiDichVuChiDinhTheoBenhNhan, DanhSachDichVuChonTrongLanPopup, DanhSachGoiChon, DanhSachGoiChonTrongLanPopup } from '../tiep-nhan-benh-nhan.model';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\nimport { FormControl } from '@angular/forms';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { TiepNhanBenhNhanMessage } from 'src/app/shared/configdata/system-message';\nimport { PopupMarketingCheckTrungComponent } from '../popup-marketing-check-trung/popup-marketing-check-trung.component';\nimport { GoiDichVuMarketingDangChonTiepNhan } from '../danh-sach-cho-kham/danh-sach-cho-kham.model';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\n\n@Component({\n  selector: 'app-popup-marketing-tiep-nhan-benh-nhan',\n  templateUrl: './popup-marketing-tiep-nhan-benh-nhan.component.html',\n  styleUrls: ['./popup-marketing-tiep-nhan-benh-nhan.component.scss']\n})\nexport class PopupMarketingTiepNhanBenhNhanComponent implements OnInit {\n\n  documentType: DocumentType;\n\n  icClose = icClose;\n  icSearch = icSearch;\n  searchCtrl = new FormControl;\n\n  searchString: string = null;\n\n  gridColumns: any[] = [];\n  gridColumnsChild: any[] = [];\n\n  benhNhanId: number = null;\n  danhSachGoiDaChonTrongYCTN: DanhSachGoiChon[] = new Array<DanhSachGoiChon>();\n  danhSachDichVuDaChonTrongLanPopup: Array<DanhSachDichVuChonTrongLanPopup> = new Array<DanhSachDichVuChonTrongLanPopup>();\n  danhSachDichVuDaChonTrongLanPopupString: string = \"\";\n\n  danhSachDichVuDaChonTrongLanYCTNNay: Array<DanhSachDichVuChonTrongLanPopup> = new Array<DanhSachDichVuChonTrongLanPopup>();\n  danhSachDichVuDaChonTrongLanYCTNNayString: string = \"\";\n\n\n  danhSachGoiDaChonTrongLanPopup: Array<DanhSachGoiChonTrongLanPopup> = new Array<DanhSachGoiChonTrongLanPopup>();\n\n  danhSachDichVuDangCo: Array<ChiDinhDichVuGridVo> = new Array<ChiDinhDichVuGridVo>();\n\n  urlGetDataGrid: string = \"TiepNhanBenhNhan/GetDataThongTinGoiForGridAsync\";\n  urlGetTotalPageGrid: string = \"TiepNhanBenhNhan/GetTotalThongTinGoiPageForGridAsync\";\n  searchStringDefault: string = null;\n  // lstDaChon: number[] = new Array<number>();\n\n  tongSoTienThem: number = null;\n\n  chuongTrinhGoiDichVuIdPopup: number = null;\n  yeuCauGoiDichVuIdPopup: number = null;\n\n  groups: GroupDescriptor[] = [{ field: 'TenNhomDichVu' }];\n  arrGoiDangChon: Array<GoiDichVuMarketingDangChonTiepNhan> = new Array<GoiDichVuMarketingDangChonTiepNhan>();\n\n  @ViewChild('parentGrid', { static: true }) gridChild: GridComponent;\n\n\n  @ViewChild('tenGoiTemplate', { static: true }) tenGoiTemplate: TemplateRef<any>;\n  @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n  @ViewChild('nhomDichVuTemplate', { static: true }) nhomDichVuTemplate: TemplateRef<any>;\n  @ViewChild('soLuongTemplate', { static: true }) soLuongTemplate: TemplateRef<any>;\n  @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n  @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n\n  @ViewChild('tongTienFooterTemplate', { static: true }) tongTienFooterTemplate: TemplateRef<any>;\n  @ViewChild('tongCongFooterTemplate', {read: TemplateRef, static: true}) tongCongFooterTemplate: TemplateRef<any>;\n  @ViewChild('chietKhauFooterTemplate', {read: TemplateRef, static: true}) chietKhauFooterTemplate: TemplateRef<any>;\n  @ViewChild('giaGoiFooterTemplate', {read: TemplateRef, static: true}) giaGoiFooterTemplate: TemplateRef<any>;\n  @ViewChild('checkBoxHeaderTemplate', {read: TemplateRef, static: true}) checkBoxHeaderTemplate: TemplateRef<any>;\n  @ViewChild('checkBoxTemplate', {read: TemplateRef, static: true}) checkBoxTemplate: TemplateRef<any>;\n\n  constructor(private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any,\n  public dialogRef: MatDialogRef<PopupMarketingTiepNhanBenhNhanComponent>,\n  private apiService: ApiService,\n  private notificationService: NotificationService) { \n    this.danhSachGoiDaChonTrongYCTN = this.data.data;\n    this.benhNhanId = this.data.benhNhanId;\n\n    \n    if(this.data.itemPopup != undefined && this.data.itemPopup != null){\n      // this.chuongTrinhGoiDichVuIdPopup = this.data.itemPopup.ChuongTrinhGoiDichVuId;\n      this.yeuCauGoiDichVuIdPopup = this.data.itemPopup.YeuCauGoiDichVuId;\n    }\n    // this.searchStringDefault = this.benhNhanId + \"|\" + this.chuongTrinhGoiDichVuIdPopup;\n    this.searchStringDefault = this.benhNhanId + \"|\" + this.yeuCauGoiDichVuIdPopup;\n\n\n    this.danhSachDichVuDaChonTrongLanYCTNNay = this.data.danhSachDichVuGoiDaChon;\n    \n    if(this.danhSachDichVuDaChonTrongLanYCTNNay != undefined && this.danhSachDichVuDaChonTrongLanYCTNNay.length > 0 ){\n      this.danhSachDichVuDaChonTrongLanYCTNNayString = JSON.stringify(this.danhSachDichVuDaChonTrongLanYCTNNay);\n    }\n    //console.log(this.danhSachGoiDaChonTrongYCTN, this.benhNhanId, this.danhSachDichVuDaChonTrongLanYCTNNay);\n    this.danhSachDichVuDangCo = this.data.danhSachDichVuDangCo;\n    //console.log(\"danhSachDichVuDangCo: \", this.danhSachDichVuDangCo, \" /n danhSachDichVuDaChonTrongLanYCTNNay: \", this.danhSachDichVuDaChonTrongLanYCTNNay);\n  }\n\n  ngOnInit() {\n    this.documentType = DocumentType.YeuCauTiepNhan;\n\n    this.gridColumns = [\n      { Field: \"TenGoi\", Title: \"Tên Gói\", Width: 600 , Sortable: false, Template: this.tenGoiTemplate }\n    ];\n    \n    this.gridColumnsChild = [\n      { Field: \"CheckBox\", Title: \"\", Width: 40 , Sortable: false, Template: this.checkBoxTemplate, TemplateHeader: this.checkBoxHeaderTemplate },\n      // { Field: \"STT\", Title: \"#\", Width: 20 , Sortable: false, Template: this.sttTemplate },\n      { Field: \"TenNhomDichVu\", Title: \"\" , Width: 20, TemplateGroupHeader: this.nhomDichVuTemplate , Hidden: true},\n      { Field: \"Ma\", Title: \"Mã\", Width: 80 , Sortable: true },\n      { Field: \"TenDichVu\", Title: \"Tên dịch vụ\", MinWidth: 180 , Sortable: true },\n      { Field: \"LoaiGiaDisplay\", Title: \"Loại giá\", Width: 100 , Sortable: true },\n      { Field: \"SoLuong\", Title: \"SL\", Width: 40 , Sortable: true},\n      { Field: \"DonGia\", Title: \"Đơn giá\", Width: 120 , Sortable: true, Template: this.donGiaTemplate, TemplateFooter: this.tongTienFooterTemplate },\n      { Field: \"ThanhTien\", Title: \"Thành tiền\", Width: 120 , Sortable: true, Template: this.thanhTienTemplate, TemplateFooter: this.tongCongFooterTemplate },\n      { Field: \"SoLuongDaDung\", Title: \"SL đã dùng\", Width: 100 , Sortable: true},//,  TemplateFooter: this.chietKhauFooterTemplate},\n      { Field: \"SoLuongDungLanNay\", Title: \"SL dùng lần này\", Width: 120 , Sortable: false, Template: this.soLuongTemplate} //, TemplateFooter: this.giaGoiFooterTemplate  }\n    ]\n\n    // if(this.chuongTrinhGoiDichVuIdPopup != null && this.chuongTrinhGoiDichVuIdPopup != undefined){\n    if (this.yeuCauGoiDichVuIdPopup != null && this.yeuCauGoiDichVuIdPopup != undefined) {\n      let self = this;\n      setTimeout(() => {\n                      self.gridChild.onExpandRowDetail(0);\n                    }, 500);\n    }\n    \n  }\n\n  onKeyGrid(event: any) {\n    if (event.keyCode == 13) {\n      this.Timkiem();\n    }\n  }\n\n  Timkiem(){\n    this.gridChild._additionalSearchString = this.searchStringDefault;\n    this.gridChild.searchString = this.searchString;\n    this.gridChild.search();\n  }\n\n  clearSearch() {\n    if((this.searchString == \"\" ||  this.searchString == null) && this.gridChild != undefined ){\n      this.gridChild.searchString = \"\";\n      this.gridChild.search();\n    }\n  }\n\n  chonDichVu(event, dataItem){\n    //console.log(\"chonDichVu = \", event, dataItem);\n    if(event == true){\n      this.addDichVu(dataItem);\n    }\n    else{\n      this.removeDichVu(dataItem);\n    }\n  }\n\n  setSoTienTTThem(){\n    return (this.danhSachGoiDaChonTrongLanPopup.filter(o => o.TrangThaiThanhToan != 2)\n    .reduce((sum, item) => sum + item.GiaSauChietKhau, 0));\n  }\n\n  changeSoLuongDichVu(event, dataItem){\n    \n    let item = JSON.parse(JSON.stringify(this.danhSachDichVuDaChonTrongLanPopup.filter(o => o == dataItem)));\n    \n    //console.log(\"changeSoLuongDichVu = \", event, dataItem, item);\n    if(item != undefined && item.length > 0)\n    {\n      item[0].SoLuongDungLanNay = event;\n      item[0].SoLuongConLai = item[0].SoLan - event;\n      this.danhSachDichVuDaChonTrongLanPopupString = JSON.stringify(item);\n    }\n  }\n\n  addDichVu(data: DanhSachDichVuChonTrongLanPopup){\n    let dataTemp = this.cloneItemDichVuChonTronLanNay(data);\n    let indexTemp = -1;\n    this.danhSachDichVuDaChonTrongLanPopup.forEach((element, index) => {\n      let elementTemp = this.cloneItemDichVuChonTronLanNay(element);\n      if (JSON.stringify(dataTemp) == JSON.stringify(elementTemp)) {\n        indexTemp = index;\n      }\n    });\n    if (indexTemp == -1) {\n      this.danhSachDichVuDaChonTrongLanPopup.push(data);\n      this.capNhatThongTinGoiTuDanhSachDichVuDaChon();\n      this.danhSachDichVuDaChonTrongLanPopupString = JSON.stringify(this.danhSachDichVuDaChonTrongLanPopup);\n    }\n    // let item = this.danhSachDichVuDaChonTrongLanPopup.filter(o => o == data);\n    // //console.log(\"addDichVu = \", item, data);\n    // if(item == undefined || item.length == 0)\n    // {\n    //   this.danhSachDichVuDaChonTrongLanPopup.push(data);\n    //   this.capNhatThongTinGoiTuDanhSachDichVuDaChon();\n    //   //\n    //   // let goi = new DanhSachGoiChonTrongLanPopup();\n    //   // goi.ThuocGoi = data.ThuocGoi;\n    //   // goi.GiaSauChietKhau = data.GiaSauChietKhau;\n    //   // goi.TrangThaiThanhToan = data.TrangThaiThanhToan;\n    //   // goi.TrangThaiThanhToanDisplay = data.TrangThaiThanhToanDisplay;\n    //   // this.danhSachGoiDaChonTrongLanPopup.push(goi);\n    //   //\n    //   this.danhSachDichVuDaChonTrongLanPopupString = JSON.stringify(this.danhSachDichVuDaChonTrongLanPopup);\n    // }\n  }\n  removeDichVu(data: DanhSachDichVuChonTrongLanPopup) {\n    let dataTemp = this.cloneItemDichVuChonTronLanNay(data);\n    let indexTemp = -1;\n    this.danhSachDichVuDaChonTrongLanPopup.forEach((element, index) => {\n      let elementTemp = this.cloneItemDichVuChonTronLanNay(element);\n      if(JSON.stringify(dataTemp) == JSON.stringify(elementTemp)){\n        indexTemp = index;\n      }\n    });\n    if(indexTemp != -1)\n    {\n      this.danhSachDichVuDaChonTrongLanPopup.splice(indexTemp, 1);\n    }\n\n    //this.danhSachDichVuDaChonTrongLanPopup = this.danhSachDichVuDaChonTrongLanPopup.filter(o => o != data);\n    //\n    this.capNhatThongTinGoiTuDanhSachDichVuDaChon();\n    //\n    this.danhSachDichVuDaChonTrongLanPopupString = JSON.stringify(this.danhSachDichVuDaChonTrongLanPopup);\n    //console.log(\"removeDichVu = \", this.danhSachDichVuDaChonTrongLanPopup, this.danhSachDichVuDaChonTrongLanPopupString);\n  }\n\n  cloneItemDichVuChonTronLanNay(data){\n    let dataTemp = new DanhSachDichVuChonTrongLanPopup();\n    dataTemp.Id = data.Id;\n    dataTemp.TenNhomDichVu = data.TenNhomDichVu;\n    dataTemp.ChuongTrinhGoiDichVuId = data.ChuongTrinhGoiDichVuId;\n    dataTemp.YeuCauGoiDichVuId = data.YeuCauGoiDichVuId;\n    dataTemp.DichVuId = data.DichVuId;\n    return dataTemp;\n  }\n\n  capNhatThongTinGoiTuDanhSachDichVuDaChon(){\n    this.danhSachGoiDaChonTrongLanPopup = new Array<DanhSachGoiChonTrongLanPopup>();\n    this.danhSachDichVuDaChonTrongLanPopup.forEach(o => {\n      let item = this.danhSachGoiDaChonTrongLanPopup.filter(m => m.ThuocGoi == o.ThuocGoi);\n      if(item.length == 0){\n        let goi = new DanhSachGoiChonTrongLanPopup();\n        goi.ThuocGoi = o.ThuocGoi;\n        goi.GiaSauChietKhau = o.GiaSauChietKhau;\n        goi.GiaSauChietKhauDisplay = o.GiaSauChietKhauDisplay;\n        goi.TrangThaiThanhToan = o.TrangThaiThanhToan;\n        goi.TrangThaiThanhToanDisplay = o.TrangThaiThanhToanDisplay;\n        this.danhSachGoiDaChonTrongLanPopup.push(goi);\n      }\n    });\n    //console.log(\"capNhatThongTinGoiTuDanhSachDichVuDaChon = \", this.danhSachGoiDaChonTrongLanPopup);\n  }\n  // test(dataItemParent){\n  //   console.log(\"dataItemParent = \", dataItemParent);\n  // }\n\n  luuDichVuChiDinh(){\n    if(this.danhSachDichVuDaChonTrongLanPopup != undefined && this.danhSachDichVuDaChonTrongLanPopup.length > 0){\n      //check trung\n      let danhSachDichVuTrung = new Array<DanhSachDichVuChonTrongLanPopup>();\n\n      for(let i = 0; i < this.danhSachDichVuDaChonTrongLanPopup.length; i++){\n        let daThem = false;\n\n        let item = this.danhSachDichVuDaChonTrongLanPopup[i];\n        let itemExist = this.danhSachDichVuDangCo.filter(o => o.MaDichVuId == item.DichVuId && o.Nhom == item.TenNhomDichVu);\n        if(itemExist.length > 0){\n          danhSachDichVuTrung.push(item);\n          daThem = true;\n        }\n\n        //\n        let itemPopupExist = this.danhSachDichVuDaChonTrongLanPopup.filter(o => o != item && o.DichVuId == item.DichVuId && o.TenNhomDichVu == item.TenNhomDichVu);\n        if(itemPopupExist.length > 0 && !daThem){\n          danhSachDichVuTrung.push(item);\n        }\n      }\n\n      //console.log(\"danhSachDichVuTrung = \", danhSachDichVuTrung);\n\n      //\n      if(danhSachDichVuTrung.length > 0){\n        this.openPopup(danhSachDichVuTrung);\n      }\n      else{\n        //this.dialogRef.close(this.danhSachDichVuDaChonTrongLanPopup);\n        this.kiemTraCoDichVuKhongBaoLanh(this.danhSachDichVuDaChonTrongLanPopup);\n      }\n      //\n      //this.dialogRef.close(this.danhSachDichVuDaChonTrongLanPopup);\n    }\n    else{\n      this.notificationService.showError(TiepNhanBenhNhanMessage.MessageErrorMustHaveOneDVGoi);\n    }\n  }\n\n  openPopup(danhSachDichVuTrung: Array<DanhSachDichVuChonTrongLanPopup>) {\n    var self = this;\n    self.dialog.open(PopupMarketingCheckTrungComponent, {\n      disableClose: false,\n      width: '950px',\n      data: {\n        data: danhSachDichVuTrung\n      }\n    }).afterClosed().subscribe(result => {\n      //console.log('danh sach khong chon = ', result);\n\n      if(result == undefined){\n        //khong them gi\n        this.dialogRef.close();\n      }\n      else{\n        let danhSach = new Array<DanhSachDichVuChonTrongLanPopup>();\n        for(let i = 0; i < this.danhSachDichVuDaChonTrongLanPopup.length; i++){\n          let itemThem = this.danhSachDichVuDaChonTrongLanPopup[i];\n          let itemKhongThem = result.filter(o => o == itemThem);\n          if(itemKhongThem.length == 0){\n            danhSach.push(itemThem);\n          }\n        }\n        //this.dialogRef.close(danhSach);\n        this.kiemTraCoDichVuKhongBaoLanh(danhSach);\n      }\n      // if (result != undefined && result.length > 0) {\n      //   this.dialogRef.close(this.danhSachDichVuDaChonTrongLanPopup);\n      // }\n      // else{\n      //   this.notificationService.showError(TiepNhanBenhNhanMessage.MessageErrorMustHaveOneDVGoi);\n      // }\n      //this.dialogRef.close(this.danhSachDichVuDaChonTrongLanPopup);\n    });\n  }\n\n  close(){\n    this.dialogRef.close();\n  }\n\n  // update gói marketing\n  xemChiTietGoiDichVu(event) {\n    if (event.Data.length > 0) {\n      console.log('event.Data', event.Data);\n      event.Data.forEach(element => {\n        //xử lý thêm vào ds hiển thị dịch vụ đang chọn\n        var indexGoiDangChon = this.arrGoiDangChon.findIndex(x => x.YeuCauGoiDichVuId == element.Id);\n        if (indexGoiDangChon == -1) {\n          this.arrGoiDangChon.push(new GoiDichVuMarketingDangChonTiepNhan(\n            element.Id,\n            0,\n            element.TenDisplay,\n            element.ConLai,\n            element.IsChecked,\n            []\n          ));\n        }\n        else {\n          var goiDangChon = this.arrGoiDangChon.find(x => x.YeuCauGoiDichVuId == element.Id);\n          goiDangChon.TongTienConBaoLanhDuoc = element.ConLai;\n        }\n      });\n    }\n  }\n\n  kiemTraGoiDichVuCoChonDichVu(yeuCauGoiDichVuId) {\n    let index = this.danhSachDichVuDaChonTrongLanPopup.findIndex(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId)\n    return index != -1;\n  }\n\n  getArrayDichVuDaChonTheoGoi(yeuCauGoiDichVuId) {\n    return this.danhSachDichVuDaChonTrongLanPopup.filter(x => x.YeuCauGoiDichVuId == yeuCauGoiDichVuId);\n  }\n\n  tinhTongTienDichVuDangChon(yeuCauGoiDichVuId: number) {\n    let tongTien = 0;\n    this.danhSachDichVuDaChonTrongLanPopup.forEach(element => {\n      if (element.YeuCauGoiDichVuId == yeuCauGoiDichVuId) {\n        tongTien += element.SoLuongDungLanNay * element.DonGia;\n      }\n    });\n    return tongTien;\n  }\n\n  // cập nhật BVHD-3423\n  chonTatCaDichVuTrongGoi(event, yeuCauGoiDichVuId: number) {\n    if (event) {\n      let name = 'ckbItem-' + yeuCauGoiDichVuId;\n      let checkboxes = document.getElementsByName(name);\n      checkboxes.forEach(element => {\n        if (!element['checked']) {\n          document.getElementById(element['id']).click();\n        }\n      });\n\n      let nameGroup = 'ckbGroup-' + yeuCauGoiDichVuId;\n      let checkboxGroups = document.getElementsByClassName(nameGroup);\n      for (let index = 0; index < checkboxGroups.length; index++) {\n        var element = <HTMLInputElement>document.getElementById(checkboxGroups[index].id);\n        if (!element.checked) {\n          element.checked = true;\n        }\n      }\n    }\n    else {\n      let name = 'ckbItem-' + yeuCauGoiDichVuId;\n      let checkboxes = document.getElementsByName(name);\n      checkboxes.forEach(element => {\n        if (element['checked']) {\n          document.getElementById(element['id']).click();\n        }\n      });\n\n      let nameGroup = 'ckbGroup-' + yeuCauGoiDichVuId;\n      let checkboxGroups = document.getElementsByClassName(nameGroup);\n      for (let index = 0; index < checkboxGroups.length; index++) {\n        var element = <HTMLInputElement>document.getElementById(checkboxGroups[index].id);\n        if (element.checked) {\n          element.checked = false;\n        }\n      }\n    }\n  }\n\n  chonTatCaDichVuTrongNhom(event, yeuCauGoiDichVuId: number, tenNhom: string) {\n    let classItemInGroup = 'ckbItemInGroup-' + yeuCauGoiDichVuId + '-' + tenNhom;\n    let checkboxItemGroups = document.getElementsByClassName(classItemInGroup);\n    for (let index = 0; index < checkboxItemGroups.length; index++) {\n      var element = <HTMLInputElement>document.getElementById(checkboxItemGroups[index].id);\n      if (event.target.checked) {\n        if (!element.checked) {\n          document.getElementById(element.id).click();\n        }\n      }\n      else {\n        if (element.checked) {\n          document.getElementById(element.id).click();\n        }\n      }\n    }\n  }\n\n\n  //BVHD-3804\n  kiemTraCoDichVuKhongBaoLanh(danhSach: any = null){\n    var self = this;\n    let name = 'lbl-khong-du-bao-lanh';\n    let lbls = document.getElementsByName(name);\n    if(lbls != undefined && lbls.length > 0)\n    {\n      self.dialog.open(ConfirmComponent, {\n        disableClose: false,\n        width: '400px',\n        data: { Title: \"Thông báo\", Message: \"Số tiền tạm ứng gói của người bệnh chưa đủ để thực hiện dịch vụ này\", IsDetail: true},\n        \n      }).afterClosed().subscribe(result => {\n        self.dialogRef.close(danhSach);\n      });\n    }\n    else\n    {\n      self.dialogRef.close(danhSach);\n    }\n  }\n}\n","export default \".button-chon {\\n  color: white !important;\\n  background-color: #005dab !important;\\n  text-align: center !important;\\n  border-radius: 3px !important;\\n}\\n\\n.button-chon:hover {\\n  background-color: #005dab;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vcG9wdXAtdGltLWtpZW0tYmVuaC1uaGFuL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcdGllcC1uaGFuLWJlbmgtbmhhblxccG9wdXAtdGltLWtpZW0tYmVuaC1uaGFuXFxwb3B1cC10aW0ta2llbS1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLXRpbS1raWVtLWJlbmgtbmhhbi9wb3B1cC10aW0ta2llbS1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1QkFBQTtFQUNBLG9DQUFBO0VBQ0EsNkJBQUE7RUFDQSw2QkFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3BvcHVwLXRpbS1raWVtLWJlbmgtbmhhbi9wb3B1cC10aW0ta2llbS1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnV0dG9uLWNob24ge1xuICBjb2xvcjogd2hpdGUgIWltcG9ydGFudDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNWRhYiAhaW1wb3J0YW50O1xuICB0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDtcbiAgYm9yZGVyLXJhZGl1czogM3B4ICFpbXBvcnRhbnQ7XG59XG5cbi5idXR0b24tY2hvbjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDVkYWI7XG59IiwiLmJ1dHRvbi1jaG9uIHtcbiAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDVkYWIgIWltcG9ydGFudDtcbiAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gIGJvcmRlci1yYWRpdXM6IDNweCAhaW1wb3J0YW50O1xufVxuXG4uYnV0dG9uLWNob246aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1ZGFiO1xufSJdfQ== */\"","import { Component, OnInit, Inject, ViewChild, TemplateRef, Input } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { TimKiemBenhNhanGridVo, BenhNhanTiepNhanBenhNhanViewModel, DataTimKiem } from '../tiep-nhan-benh-nhan.model';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SortDescriptor } from '@progress/kendo-data-query';\n\n@Component({\n  selector: 'app-popup-tim-kiem-benh-nhan',\n  templateUrl: './popup-tim-kiem-benh-nhan.component.html',\n  styleUrls: ['./popup-tim-kiem-benh-nhan.component.scss']\n})\nexport class PopupTimKiemBenhNhanComponent implements OnInit {\n\n  icClose = icClose;\n  gridColumns: any[] = [];\n  gridData: any;\n  documentType: DocumentType;\n  timKiemBenhNhanSearch: TimKiemBenhNhanGridVo = new TimKiemBenhNhanGridVo();\n\n  @Input() sort: SortDescriptor[] = [\n    {\n      field: \"MaBN\",\n      dir: \"asc\",\n    },\n  ];\n\n  addtionStringDefault: string = null;\n  urlGetDataGrid: string = \"TiepNhanBenhNhan/GetDataForGridAsyncPopupTimKiem\";\n  urlGetTotalPageGrid: string = \"TiepNhanBenhNhan/GetTotalPageForGridAsyncPopupTimKiem\";\n\n  @ViewChild(GridComponent, { static: true }) gridTimKiemTiepNhan: GridComponent;\n\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: DataTimKiem\n    , public dialogRef: MatDialogRef<PopupTimKiemBenhNhanComponent>\n    , private apiService: ApiService) {\n    //console.log(\"---: \", data); \n    if (data == null || data == undefined) {\n      data = new DataTimKiem();\n    }\n  }\n\n  ngOnInit() {\n\n    this.documentType = DocumentType.YeuCauTiepNhan;\n\n    this.gridColumns = [\n      { Field: \"MaBN\", Title: \"Mã NB\", Width: 80, Sortable: true },\n      { Field: \"BHYTMaSoThe\", Title: \"Mã thẻ BHYT\", Width: 150, Sortable: true },\n      { Field: \"HoTen\", Title: \"Họ và tên\", Width: 150, Sortable: true },\n      { Field: \"NgaySinhDisplay\", Title: \"Ngày sinh\", Width: 120, Sortable: false },\n      { Field: \"GioiTinhDisplay\", Title: \"GT\", Width: 60, Sortable: false },\n      { Field: \"SoChungMinhThu\", Title: \"CMND\", Width: 150, Sortable: false },\n      { Field: \"SoDienThoaiDisplay\", Title: \"Điện thoại\", Width: 120, Sortable: false },\n      { Field: \"DiaChi\", Title: \"Địa chỉ\", Width: 300, Sortable: false },\n      { Field: \"Action\", Title: \"\", Width: 60, Template: this.actionTemplate },\n    ];\n    this.timKiemBenhNhanSearch.MaBN = this.data.searchBenhNhan.MaBN;\n    this.timKiemBenhNhanSearch.BHYTMaSoThe = this.data.searchBenhNhan.MaBHYT;\n    this.timKiemBenhNhanSearch.HoTen = this.data.searchBenhNhan.HoTen;\n    this.timKiemBenhNhanSearch.NgaySinhDisplay = this.data.searchBenhNhan.NgaySinhDisplay;\n    this.timKiemBenhNhanSearch.ThangSinh = this.data.searchBenhNhan.ThangSinh;\n    this.timKiemBenhNhanSearch.NamSinh = this.data.searchBenhNhan.NamSinh;\n    this.timKiemBenhNhanSearch.SoChungMinhThu = this.data.searchBenhNhan.SoChungMinhThu;\n    this.timKiemBenhNhanSearch.SoDienThoai = this.data.searchBenhNhan.SoDienThoai;\n    this.timKiemBenhNhanSearch.DiaChi = this.data.searchBenhNhan.DiaChi;\n\n    if (this.timKiemBenhNhanSearch.NgaySinhDisplay != null) {\n      this.timKiemBenhNhanSearch.NgaySinhFormat = CommonService.formatDateTime(new Date(this.timKiemBenhNhanSearch.NgaySinhDisplay), \"dd/mm/yyyy\");\n    }\n\n    this.addtionStringDefault = JSON.stringify(this.timKiemBenhNhanSearch);\n  }\n\n  close(answer: string) {\n    this.dialogRef.close(answer);\n  }\n\n  chonBenhNhan(item: TimKiemBenhNhanGridVo) {\n    this.apiService.post<BenhNhanTiepNhanBenhNhanViewModel>(\"TiepNhanBenhNhan/GetBenhNhan/?benhNhanId=\" + item.Id).subscribe(\n      resultData => {\n        //console.log(\"chonBenhNhan = \", resultData);\n        this.dialogRef.close(resultData);\n      },\n      (err: ApiError) => {\n      });\n\n  }\n\n  onKey(event: any) {\n    if (event.keyCode === 13) {\n      this.TimKiem();\n    }\n  }\n\n  TimKiem() {\n    if (this.timKiemBenhNhanSearch.NgaySinhDisplay != null) {\n      this.timKiemBenhNhanSearch.NgaySinhFormat = CommonService.formatDateTime(\n        this.timKiemBenhNhanSearch.NgaySinhDisplay,\n        \"dd/mm/yyyy\"\n      );\n    } else {\n      this.timKiemBenhNhanSearch.NgaySinhFormat = null;\n    }\n    var queryString = JSON.stringify(this.timKiemBenhNhanSearch);\n    this.gridTimKiemTiepNhan._additionalSearchString = queryString;\n    this.gridTimKiemTiepNhan.search();\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tY2hvLXF1ZXQvdGllcC1uaGFuLWJlbmgtbmhhbi1jaG8tcXVldC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { BaoHiemYTe, ThongTinBenhNhan } from '../../danh-muc/bao-hiem-y-te/bao-hiem-y-te.model';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-cho-quet',\n  templateUrl: './tiep-nhan-benh-nhan-cho-quet.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-cho-quet.component.scss']\n})\nexport class TiepNhanBenhNhanChoQuetComponent implements OnInit {\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: ThongTinBenhNhan\n  , private dialog: MatDialog, private apiService: ApiService\n  , public dialogRef: MatDialogRef<TiepNhanBenhNhanChoQuetComponent>) { }\n\n  ngOnInit() {\n    this.quetThongTinBenhNhan(this.data);\n  }\n\n  quetThongTinBenhNhan(model: ThongTinBenhNhan){\n    //console.log(\"quetThongTinBenhNhan = \", this.data);\n    this.apiService.post<BaoHiemYTe>(\"BHYT/GetLichSuKhamChuaBenh\", model).subscribe(\n      resultData => {\n        if(resultData!=undefined){\n          //this.setValueBHYT(resultData);\n        //console.log(\"resultData === \", resultData);\n          this.dialogRef.close(resultData);\n\n        }\n    },\n      (err: ApiError) => {\n        //console.log(\"err = \", err);\n        let errBHYT = new BaoHiemYTe();\n        if (err.Message != \"Validation Failed\" && err.Message != null && err.Message != '') {\n          errBHYT.ghiChu = err.Message;\n        }\n        else\n        {\n          errBHYT = null;\n        }\n        this.dialogRef.close(errBHYT);\n      });\n  }\n}\n","export default \".sub-title-bottom {\\n  text-align: center;\\n  color: red;\\n}\\n\\n.div-title-bottom {\\n  margin-top: 30px;\\n  text-align: right;\\n}\\n\\n.err-mess-bhyt:first-letter {\\n  text-transform: uppercase;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi1lcnJvci9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHRpZXAtbmhhbi1iZW5oLW5oYW5cXHRpZXAtbmhhbi1iZW5oLW5oYW4tZXJyb3JcXHRpZXAtbmhhbi1iZW5oLW5oYW4tZXJyb3IuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tZXJyb3IvdGllcC1uaGFuLWJlbmgtbmhhbi1lcnJvci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tZXJyb3IvdGllcC1uaGFuLWJlbmgtbmhhbi1lcnJvci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zdWItdGl0bGUtYm90dG9tIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xufVxuXG4uZGl2LXRpdGxlLWJvdHRvbSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4uZXJyLW1lc3MtYmh5dDpmaXJzdC1sZXR0ZXIge1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufSIsIi5zdWItdGl0bGUtYm90dG9tIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xufVxuXG4uZGl2LXRpdGxlLWJvdHRvbSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4uZXJyLW1lc3MtYmh5dDpmaXJzdC1sZXR0ZXIge1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufSJdfQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { TiepNhanBenhNhanMessage } from 'src/app/shared/configdata/system-message';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material';\nimport { TiepNhanBenhNhanViewModel } from '../tiep-nhan-benh-nhan.model';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-error',\n  templateUrl: './tiep-nhan-benh-nhan-error.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-error.component.scss']\n})\nexport class TiepNhanBenhNhanErrorComponent implements OnInit {\n\n  errorMessage: string;\n  icClose=icClose;\n  messageErrFromBHYT: string = \"\";\n  constructor(@Inject(MAT_DIALOG_DATA) public data: TiepNhanBenhNhanViewModel\n  , private dialog: MatDialog, public dialogRef: MatDialogRef<TiepNhanBenhNhanErrorComponent>) { }\n\n  ngOnInit() {\n    this.errorMessage = TiepNhanBenhNhanMessage.MessageSaiThongTinBenhNhan;\n    if(this.data != null){\n      //console.log(this.data);\n      let dateFormat = new Date(this.data.NgayThangNamSinh);\n      this.data.NgayThangNamSinhDisplay = CommonService.formatDate(dateFormat,\"dd/mm/yyyy\");\n\n      if (this.data.MessageErrFromBHYT != undefined && this.data.MessageErrFromBHYT != null && this.data.MessageErrFromBHYT != \"\") {\n        this.messageErrFromBHYT = this.data.MessageErrFromBHYT;\n      }\n      else {\n        this.messageErrFromBHYT = \"Người bệnh này không tồn tại trên cổng BHYT\";\n      }\n    }\n    else\n    {\n      this.messageErrFromBHYT = \"Người bệnh này không tồn tại trên cổng BHYT\";\n    }\n  }\n\n  close(){\n    this.dialog.closeAll();\n    //this.dialogRef.close(1);\n  }\n\n  khamKhongBHYT(){\n    //this.dialog.closeAll();\n    this.dialogRef.close(1);\n  }\n\n  huy(){\n    this.dialog.closeAll();\n    //this.dialogRef.close(1);\n  }\n\n  chapNhanBHYTNhapTay(){\n    this.dialogRef.close(2);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tbGljaC1zdS90aWVwLW5oYW4tYmVuaC1uaGFuLWxpY2gtc3UuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-lich-su',\n  templateUrl: './tiep-nhan-benh-nhan-lich-su.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-lich-su.component.scss']\n})\nexport class TiepNhanBenhNhanLichSuComponent implements OnInit {\n\n  documentType: DocumentType;\n\n  @Input() benhNhanId: number = null;\n\n  gridColumns: any[] = [];\n  \n  constructor() { }\n\n  ngOnInit() {\n    //console.log(\"lich su = \", this.benhNhanId)\n    this.documentType = DocumentType.YeuCauTiepNhan;\n\n    this.gridColumns = [\n      { Field: \"ThoiDiemDangKyDisplay\", Title: \"Ngày khám\", Width: 150, Sortable: true },\n      { Field: \"BaSiKham\", Title: \"Bác sĩ khám\", Width: 150, Sortable: true},\n      { Field: \"Phong\", Title: \"Phòng khám\", Width: 150, Sortable: true},\n      { Field: \"LyDoKham\", Title: \"Lý do khám\", Width: 150, Sortable: true},\n      { Field: \"HoTen\", Title: \"Họ tên người bệnh\", Width: 200, Sortable: true},\n      { Field: \"TrieuChungLamSang\", Title: \"Triệu chuẩn LS\", Width: 200, Sortable: true},\n      { Field: \"ChuanDoanICD\", Title: \"Chẩn đoán ICD\", Width: 250, Sortable: true}\n    ];\n\n  }\n\n}\n","export default \".sub-title-bottom {\\n  text-align: center;\\n  color: red;\\n}\\n\\n.div-title-bottom {\\n  margin-top: 30px;\\n  text-align: right;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1oZXQtaGlldS1sdWMvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFx0aWVwLW5oYW4tYmVuaC1uaGFuXFx0aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWhldC1oaWV1LWx1Y1xcdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1oZXQtaGlldS1sdWMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAtaGV0LWhpZXUtbHVjL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAtaGV0LWhpZXUtbHVjLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGllcC1uaGFuLWJlbmgtbmhhbi90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWhldC1oaWV1LWx1Yy90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWhldC1oaWV1LWx1Yy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zdWItdGl0bGUtYm90dG9tIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xufVxuXG4uZGl2LXRpdGxlLWJvdHRvbSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufSIsIi5zdWItdGl0bGUtYm90dG9tIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xufVxuXG4uZGl2LXRpdGxlLWJvdHRvbSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufSJdfQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { TiepNhanBenhNhanViewModel } from '../tiep-nhan-benh-nhan.model';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-popup-het-hieu-luc',\n  templateUrl: './tiep-nhan-benh-nhan-popup-het-hieu-luc.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-popup-het-hieu-luc.component.scss']\n})\nexport class TiepNhanBenhNhanPopupHetHieuLucComponent implements OnInit {\n\n  icClose=icClose;\n  constructor(@Inject(MAT_DIALOG_DATA) public data: TiepNhanBenhNhanViewModel\n  , private dialog: MatDialog, public dialogRef: MatDialogRef<TiepNhanBenhNhanPopupHetHieuLucComponent>) { }\n\n  ngOnInit() {\n    //console.log(\"TiepNhanBenhNhanPopupHetHieuLucComponent = \", this.data)\n  }\n\n  close(){\n    //this.dialog.closeAll();\n    this.dialogRef.close(1);\n  }\n\n  khamKhongBHYT(){\n    this.dialog.closeAll();\n  }\n\n  huy(){\n    this.dialogRef.close(1);\n  }\n\n  chapNhanBHYTNhapTay(){\n    this.dialogRef.close(2);\n  }\n}\n","export default \".sub-title-bottom {\\n  text-align: center;\\n  color: red;\\n}\\n\\n.div-title-bottom {\\n  margin-top: 30px;\\n  text-align: right;\\n}\\n\\n.div-margin-bottom {\\n  margin-right: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1raG9uZy1raWVtLXRyYS1kdW9jL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcdGllcC1uaGFuLWJlbmgtbmhhblxcdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1raG9uZy1raWVtLXRyYS1kdW9jXFx0aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWtob25nLWtpZW0tdHJhLWR1b2MuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAta2hvbmcta2llbS10cmEtZHVvYy90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWtob25nLWtpZW0tdHJhLWR1b2MuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFVBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGllcC1uaGFuLWJlbmgtbmhhbi90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWtob25nLWtpZW0tdHJhLWR1b2MvdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1raG9uZy1raWVtLXRyYS1kdW9jLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnN1Yi10aXRsZS1ib3R0b20ge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5kaXYtdGl0bGUtYm90dG9tIHtcbiAgbWFyZ2luLXRvcDogMzBweDtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi5kaXYtbWFyZ2luLWJvdHRvbSB7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufSIsIi5zdWItdGl0bGUtYm90dG9tIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogcmVkO1xufVxuXG4uZGl2LXRpdGxlLWJvdHRvbSB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4uZGl2LW1hcmdpbi1ib3R0b20ge1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbn0iXX0= */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { TiepNhanBenhNhanViewModel } from '../tiep-nhan-benh-nhan.model';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { TiepNhanBenhNhanChoQuetComponent } from '../tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component';\nimport { TiepNhanBenhNhanErrorComponent } from '../tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component';\nimport { ThongTinBenhNhan } from '../../danh-muc/bao-hiem-y-te/bao-hiem-y-te.model';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc',\n  templateUrl: './tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component.scss']\n})\nexport class TiepNhanBenhNhanPopupKhongKiemTraDuocComponent implements OnInit {\n\n  thongTinBenhNhan: ThongTinBenhNhan = new ThongTinBenhNhan();\n  \n  icClose=icClose;\n  constructor(@Inject(MAT_DIALOG_DATA) public data: TiepNhanBenhNhanViewModel\n  , private dialog: MatDialog, public dialogRef: MatDialogRef<TiepNhanBenhNhanPopupKhongKiemTraDuocComponent>\n  , public dialogRef2: MatDialogRef<TiepNhanBenhNhanErrorComponent>) { }\n\n  ngOnInit() {\n    //console.log(\"TiepNhanBenhNhanPopupKhongKiemTraDuocComponent = \", this.data);\n  }\n\n  khamKhongBHYT(){\n    this.dialogRef.close(false);\n    //this.dialogRef2.close();\n  }\n\n  chapNhanBHYTNhapTay(){\n    this.dialogRef.close(true);\n  }\n\n  // chapNhanCoBHYT(){\n  //   this.dialogRef.close(true);\n  //   //this.dialogRef2.close();\n\n  // }\n  close(){\n    this.dialogRef.close(false);\n  }\n  thuLai(){\n    this.thongTinBenhNhan.MaThe = this.data.BHYTMaSoThe;\n    this.thongTinBenhNhan.TenBenhNhan = this.data.HoTen;\n    this.thongTinBenhNhan.NgaySinh = this.data.NgayThangNamSinh;\n\n    let dialogRef = this.dialog.open(TiepNhanBenhNhanChoQuetComponent, {\n      disableClose: true,\n      width: '500px',\n      height: '250px',\n      data: this.thongTinBenhNhan,\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      //console.log(\"close = \", result);\n      // if (result == null || (result != null && result.maKetQua == \"050\")) {\n      if (result == null || (result != null && result.maKetQua !== \"000\" && result.maKetQua !== \"004\")) {\n        //this.notificationService.showError(TiepNhanBenhNhanMessage.MessageSaiThongTinBenhNhan);\n\n        //\n        this.thongTinBenhNhan.MessageErrFromBHYT = result != null ? result.ghiChu : null;\n        let dialogRef = this.dialog.open(TiepNhanBenhNhanErrorComponent, {\n          disableClose: false,\n          width: '400px',\n          height: '100px',\n          data: this.thongTinBenhNhan\n        });\n        dialogRef.afterClosed().subscribe(result => {\n          //document.getElementById(\"SoTheBHYTisAutoFocus\").focus();\n        });\n      //\n\n      }\n      else {\n        //console.log(\"thuLai = \", result);\n        this.dialogRef.close(result);\n        //this.dialogRef2.close();\n\n      }\n    });\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAtbGljaC1zdS1rY2IvdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC1saWNoLXN1LWtjYi5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Inject, ViewChild } from '@angular/core';\nimport { GridLichSuKCB } from '../tiep-nhan-benh-nhan.model';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material';\nimport { TiepNhanBenhNhanPopupKhongKiemTraDuocComponent } from '../tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-popup-lich-su-kcb',\n  templateUrl: './tiep-nhan-benh-nhan-popup-lich-su-kcb.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-popup-lich-su-kcb.component.scss']\n})\nexport class TiepNhanBenhNhanPopupLichSuKcbComponent implements OnInit {\n\n  icClose = icClose;\n  gridColumns: any[] = [];\n  gridData: any;\n  documentType: DocumentType;\n\n  @ViewChild('grid', { static: false }) grid: GridComponent;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: Array<GridLichSuKCB>\n    , private dialog: MatDialog, public dialogRef: MatDialogRef<TiepNhanBenhNhanPopupKhongKiemTraDuocComponent>\n    , public dialogRef2: MatDialogRef<TiepNhanBenhNhanPopupLichSuKcbComponent>) { }\n\n  ngOnInit() {\n    //console.log(\"TiepNhanBenhNhanPopupLichSuKcbComponent = \", this.data);\n    //documenttype\n    this.documentType = DocumentType.YeuCauTiepNhan;\n    this.gridColumns = [\n      { Field: \"STT\", Title: \"STT\", Width: 45, Sortable: false },\n      { Field: \"MaTheBHYT\", Title: \"Mã thẻ BHYT\", Width: 150, Sortable: false },\n      { Field: \"HoVaTen\", Title: \"Họ và tên\", Width: 150, Sortable: false },\n      { Field: \"NgayVaoVien\", Title: \"Ngày vào viện\", Width: 156, Sortable: false },\n      { Field: \"NgayRaVien\", Title: \"Ngày ra viện\", Width: 156, Sortable: false },\n      { Field: \"\", Title: \"Khoa/Phòng\", Width: 100, Sortable: false },\n      { Field: \"CoSoKCB\", Title: \"Cơ sở KCB\", Width: 180, Sortable: false },\n      { Field: \"KetQuaDieuTri\", Title: \"Kết quả điều trị\", Width: 100, Sortable: false },\n      { Field: \"LyDoVaoVien\", Title: \"Lý do vào viện\", Width: 100, Sortable: false },\n      { Field: \"TinhTrangRaVien\", Title: \"Tình trạng ra viện\", Width: 100, Sortable: false },\n    ];\n\n    this.setDataForGrid();\n  }\n\n  setDataForGrid() {\n    this.gridData = {\n      data: this.data,\n      total: this.data.length\n    };\n\n    if (this.grid != undefined) {\n      this.grid.setDataSource();\n    }\n\n  }\n\n  close(answer: string) {\n    this.dialogRef.close(answer);\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAtbGljaC1zdS1raWVtLXRyYS10aGUtYmh5dC90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwLWxpY2gtc3Uta2llbS10cmEtdGhlLWJoeXQuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Inject, ViewChild } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material';\nimport { GridLichSuKiemTraTheBHYT } from '../tiep-nhan-benh-nhan.model';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt',\n  templateUrl: './tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component.scss']\n})\nexport class TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent implements OnInit {\n\n  icClose = icClose;\n  gridColumns: any[] = [];\n  gridData: any;\n  documentType: DocumentType;\n\n  @ViewChild('grid', { static: false }) grid: GridComponent;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: Array<GridLichSuKiemTraTheBHYT>\n  , private dialog: MatDialog, public dialogRef: MatDialogRef<TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent>) { }\n\n  ngOnInit() {\n    this.documentType = DocumentType.YeuCauTiepNhan;\n\n    this.gridColumns = [\n      { Field: \"STT\", Title: \"STT\", Width: 45, Sortable: false },\n      { Field: \"UserKiemTra\", Title: \"User kiểm tra\", Width: 120, Sortable: false },\n      { Field: \"TenCSKCB\", Title: \"Tên CSKCB\", Width: 260, Sortable: false },\n      { Field: \"ThoiGianKiemTra\", Title: \"Thời gian kiểm tra\", Width: 155, Sortable: false },\n      { Field: \"NoiDungThongBao\", Title: \"Nội dung thông báo\", MinWidth: 300, Sortable: false },\n    ];\n\n    this.setDataForGrid();\n\n  }\n\n  setDataForGrid() {\n    this.gridData = {\n      data: this.data,\n      total: this.data.length\n    };\n\n    if (this.grid != undefined) {\n      this.grid.setDataSource();\n    }\n\n  }\n\n  close(answer: string) {\n    this.dialogRef.close(answer);\n  }\n\n}\n","export default \".sub-title {\\n  font-size: 15px;\\n  border-bottom: 1px solid var(--foreground-divider);\\n  padding-bottom: 0 !important;\\n  margin-top: 10px;\\n  margin-bottom: 10px;\\n  color: var(--text-color);\\n  text-transform: uppercase;\\n}\\n\\ntable tr {\\n  border-bottom: 1px solid #ebeced;\\n}\\n\\ntable tr td {\\n  padding: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHRpZXAtbmhhbi1iZW5oLW5oYW5cXHRpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXBcXHRpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAvdGllcC1uaGFuLWJlbmgtbmhhbi1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQUE7RUFDQSxrREFBQTtFQUNBLDRCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLHdCQUFBO0VBQ0EseUJBQUE7QUNDRjs7QURFQTtFQUNFLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGllcC1uaGFuLWJlbmgtbmhhbi90aWVwLW5oYW4tYmVuaC1uaGFuLXBvcHVwL3RpZXAtbmhhbi1iZW5oLW5oYW4tcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc3ViLXRpdGxlIHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tZm9yZWdyb3VuZC1kaXZpZGVyKTtcbiAgcGFkZGluZy1ib3R0b206IDAgIWltcG9ydGFudDtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgY29sb3I6IHZhcigtLXRleHQtY29sb3IpO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG50YWJsZSB0ciB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWJlY2VkO1xufVxuXG50YWJsZSB0ciB0ZCB7XG4gIHBhZGRpbmc6IDEwcHg7XG59IiwiLnN1Yi10aXRsZSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWZvcmVncm91bmQtZGl2aWRlcik7XG4gIHBhZGRpbmctYm90dG9tOiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxudGFibGUgdHIge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2ViZWNlZDtcbn1cblxudGFibGUgdHIgdGQge1xuICBwYWRkaW5nOiAxMHB4O1xufSJdfQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport {MAT_DIALOG_DATA} from '@angular/material/dialog';\nimport { TiepNhanBenhNhanViewModel } from '../tiep-nhan-benh-nhan.model';\nimport { MatDialog } from '@angular/material';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-popup',\n  templateUrl: './tiep-nhan-benh-nhan-popup.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-popup.component.scss']\n})\nexport class TiepNhanBenhNhanPopupComponent implements OnInit {\n\n  icClose=icClose;\n  constructor(@Inject(MAT_DIALOG_DATA) public data: TiepNhanBenhNhanViewModel\n  , private dialog: MatDialog) { }\n\n  ngOnInit() {\n    //console.log(this.data);\n  }\n\n  close(){\n    this.dialog.closeAll();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { TiepNhanBenhNhanComponent } from './tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { PermisssionGuard } from 'src/app/core/guards/permission-guard.service';\n\nconst routes: Routes = [\n  {\n    path: ':id',\n    component: TiepNhanBenhNhanComponent,\n    data: {\n      title: 'Tiếp Nhận Người Bệnh',      \n      DocumentType: DocumentType.YeuCauTiepNhan,\n      SecurityOperation:SecurityOperation.View\n    },\n    canActivate: [PermisssionGuard]\n  },\n  {\n    path: '',\n    component: TiepNhanBenhNhanComponent,\n    data: {\n      title: 'Tiếp Nhận Người Bệnh',      \n      DocumentType: DocumentType.YeuCauTiepNhan,\n      SecurityOperation:SecurityOperation.View\n    },\n    canActivate: [PermisssionGuard]\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TiepNhanBenhNhanRoutingModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4tdGFpLWtoYW0vdGllcC1uaGFuLWJlbmgtbmhhbi10YWkta2hhbS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Input, ViewChild } from '@angular/core';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\n\n@Component({\n  selector: 'app-tiep-nhan-benh-nhan-tai-kham',\n  templateUrl: './tiep-nhan-benh-nhan-tai-kham.component.html',\n  styleUrls: ['./tiep-nhan-benh-nhan-tai-kham.component.scss']\n})\nexport class TiepNhanBenhNhanTaiKhamComponent implements OnInit {\n\n  documentType: DocumentType;\n\n  gridColumns: any[] = [];\n  urlGetDataGrid: string = \"TiepNhanBenhNhan/GetDataForGridAsyncTaiKham\";\n  urlGetTotalPageGrid: string = \"TiepNhanBenhNhan/GetTotalPageForGridAsyncTaiKham\";\n\n  @ViewChild(GridComponent, { static: true }) gridChild: GridComponent;\n\n  @Input() BenhNhan: number = null;\n  \n  constructor() { }\n\n  ngOnInit() {\n    this.documentType = DocumentType.YeuCauTiepNhan;\n\n    this.gridColumns = [\n      { Field: \"TenDichVu\", Title: \"Tên dịch vụ\", Width: 150, Sortable: false },\n      { Field: \"BacSiThucHien\", Title: \"Bác sĩ thực hiện\", Width: 150, Sortable: false},\n      { Field: \"NgayTaiKhamDisplay\", Title: \"Ngày tái khám\", Width: 150, Sortable: false},\n      { Field: \"GhiChuTaiKham\", Title: \"Ghi chú tái khám\", Width: 150, Sortable: false},\n    ];\n\n  }\n\n}\n","import { NgModule, NO_ERRORS_SCHEMA, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TiepNhanBenhNhanRoutingModule } from './tiep-nhan-benh-nhan-routing.module';\nimport { TiepNhanBenhNhanComponent } from './tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { TooltipModule } from '@progress/kendo-angular-tooltip';\nimport { PageLayoutModule } from 'src/@vex/components/page-layout/page-layout.module';\nimport { BreadcrumbsModule } from 'src/@vex/components/breadcrumbs/breadcrumbs.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatButtonModule } from '@angular/material/button';\nimport { IconModule } from '@visurel/iconify-angular';\nimport { TiepNhanBenhNhanService } from './tiep-nhan-benh-nhan.service';\nimport { BaseService } from 'src/app/core/services/base.service';\nimport { LayoutModule } from '@progress/kendo-angular-layout';\nimport { TiepNhanBenhNhanPopupComponent } from './tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component';\nimport { TiepNhanBenhNhanChoQuetComponent } from './tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component';\nimport { MatDialogModule, MatInputModule, MatListModule, MatOptionModule, MatRadioModule, MatTabsModule } from '@angular/material';\nimport { TiepNhanBenhNhanErrorComponent } from './tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component';\nimport { GridModule } from '@progress/kendo-angular-grid';\nimport { TiepNhanBenhNhanPopupHetHieuLucComponent } from './tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component';\nimport { TiepNhanBenhNhanPopupKhongKiemTraDuocComponent } from './tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component';\nimport { TiepNhanBenhNhanLichSuComponent } from './tiep-nhan-benh-nhan-lich-su/tiep-nhan-benh-nhan-lich-su.component';\nimport { KhamBenhLichSuKhamListComponent } from '../kham-benh/kham-benh/kham-benh-lich-su-kham-list/kham-benh-lich-su-kham-list.component';\nimport { KhamBenhModule } from '../kham-benh/kham-benh.module';\nimport { TiepNhanBenhNhanPopupLichSuKcbComponent } from './tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component';\nimport { PopupTimKiemBenhNhanComponent } from './popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component';\nimport { TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent } from './tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component';\nimport { TiepNhanBenhNhanTaiKhamComponent } from './tiep-nhan-benh-nhan-tai-kham/tiep-nhan-benh-nhan-tai-kham.component';\nimport { InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent } from './in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component';\nimport { PopupMarketingTiepNhanBenhNhanComponent } from './popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component';\nimport { InputsModule } from '@progress/kendo-angular-inputs';\nimport { DropDownsModule } from '@progress/kendo-angular-dropdowns';\nimport { PopupMarketingCheckTrungComponent } from './popup-marketing-check-trung/popup-marketing-check-trung.component';\nimport { PopupDichVuCheckTrungComponent } from './popup-dich-vu-check-trung/popup-dich-vu-check-trung.component';\nimport { DichVuKhuyenMaiModule } from '../dich-vu-khuyen-mai/dich-vu-khuyen-mai.module';\nimport { XemTruocBangKeChiPhiPopupComponent } from './xem-truoc-bang-ke-chi-phi-poup/xem-truoc-bang-ke-chi-phi-poup.component';\nimport { InPhieuXnCovidComponent } from './in-phieu-xn-covid/in-phieu-xn-covid.component';\nimport { XnCovidPopupComponent } from './xn-covid-popup/xn-covid-popup.component';\n\n@NgModule({\n  declarations: [TiepNhanBenhNhanComponent\n    , TiepNhanBenhNhanPopupComponent, TiepNhanBenhNhanChoQuetComponent\n    , TiepNhanBenhNhanErrorComponent, TiepNhanBenhNhanPopupHetHieuLucComponent\n    , TiepNhanBenhNhanPopupKhongKiemTraDuocComponent,XemTruocBangKeChiPhiPopupComponent\n    , TiepNhanBenhNhanLichSuComponent, TiepNhanBenhNhanPopupLichSuKcbComponent, \n    PopupTimKiemBenhNhanComponent, TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent, \n    TiepNhanBenhNhanTaiKhamComponent, InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent, PopupMarketingTiepNhanBenhNhanComponent, \n    PopupMarketingCheckTrungComponent, PopupDichVuCheckTrungComponent, InPhieuXnCovidComponent,XnCovidPopupComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    TooltipModule,\n    PageLayoutModule,\n    BreadcrumbsModule,\n    FlexLayoutModule,\n    MatIconModule,\n    IconModule,\n    MatMenuModule,\n    MatButtonToggleModule,\n    MatTooltipModule,\n    MatButtonModule,\n    TiepNhanBenhNhanRoutingModule,\n    LayoutModule,\n    MatDialogModule,\n    MatTabsModule,\n    SharedModule,\n    GridModule,\n    KhamBenhModule,\n    InputsModule,\n    ReactiveFormsModule,\n\n    MatInputModule,\n    MatOptionModule,\n    MatRadioModule,\n    MatListModule,\n    DropDownsModule,\n    DichVuKhuyenMaiModule\n  ],\n  providers: [\n    TiepNhanBenhNhanService,\n    { provide: BaseService, useClass: TiepNhanBenhNhanService },\n  ],\n  exports: [\n    KhamBenhModule\n  ],\n  entryComponents: [\n    TiepNhanBenhNhanPopupComponent,\n    TiepNhanBenhNhanChoQuetComponent,\n    TiepNhanBenhNhanErrorComponent,\n    TiepNhanBenhNhanPopupHetHieuLucComponent,\n    TiepNhanBenhNhanPopupKhongKiemTraDuocComponent,\n    TiepNhanBenhNhanPopupLichSuKcbComponent,\n    PopupTimKiemBenhNhanComponent,\n    TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent,\n    InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent,\n    PopupMarketingTiepNhanBenhNhanComponent,\n    PopupMarketingCheckTrungComponent,\n    PopupDichVuCheckTrungComponent,\n    XemTruocBangKeChiPhiPopupComponent,\n    XnCovidPopupComponent,\n    InPhieuXnCovidComponent\n  ],\n\n})\nexport class TiepNhanBenhNhanModule { }\n","import { Injectable } from '@angular/core';\nimport { BaseService } from 'src/app/core/services/base.service';\nimport { ApiService } from 'src/app/core/services/api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TiepNhanBenhNhanService extends BaseService {\n\n  constructor(apiService: ApiService) { \n    super(apiService);\n  }\n}\n","export default \"kendo-tabstrip {\\n  margin-bottom: 5px;\\n}\\n\\n.ten-dich-vu-label {\\n  display: inline;\\n  text-overflow: ellipsis;\\n}\\n\\n.button-them-goi {\\n  width: 20px;\\n  height: 20px;\\n  margin-top: 5px;\\n}\\n\\n.mat-icon-them-goi {\\n  margin-top: -20px;\\n  margin-left: -2px;\\n}\\n\\n.xac-nhan-ng-template {\\n  display: inherit;\\n  white-space: nowrap;\\n}\\n\\n.danh-sach-goi {\\n  color: orange;\\n  text-decoration: underline;\\n}\\n\\n.div-danh-sach-goi {\\n  padding-top: 5px !important;\\n}\\n\\n.info {\\n  margin-bottom: -8px;\\n  margin-top: 0px;\\n}\\n\\n.header-grid {\\n  width: 100%;\\n  height: auto;\\n  background: #ffe0b2;\\n  padding: 10px 10px 10px 10px;\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\n.header-span-grid {\\n  width: 80%;\\n  padding: 10px 10px 10px 10px;\\n  font-weight: bold;\\n  color: #005dab;\\n  text-transform: uppercase;\\n  display: inline-block;\\n}\\n\\n.thong-tin-tai-khoan-benh-nhan {\\n  float: right;\\n  font-weight: normal;\\n}\\n\\n.so-tuoi {\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.styleTinhTong {\\n  border: 1px solid #ccc;\\n  padding: 15px;\\n  background: #e3f2fd;\\n  text-align: right;\\n  margin: 10px -17px -17px -17px;\\n}\\n\\n.image-barcode {\\n  padding-right: 0px !important;\\n  position: absolute;\\n  right: 25px;\\n  margin-top: 10px;\\n}\\n\\n.so-nha {\\n  text-transform: capitalize;\\n}\\n\\n.div-voucher {\\n  padding: 0 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHRpZXAtbmhhbi1iZW5oLW5oYW5cXHRpZXAtbmhhbi1iZW5oLW5oYW5cXHRpZXAtbmhhbi1iZW5oLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxlQUFBO0VBQ0EsdUJBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtFQUNBLDBCQUFBO0FDQ0Y7O0FERUE7RUFDRSwyQkFBQTtBQ0NGOztBREVBO0VBQ0UsbUJBQUE7RUFDQSxlQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsNEJBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0VBQ0EsNEJBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSx5QkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0FDQ0Y7O0FERUE7RUFDRSxzQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0EsOEJBQUE7QUNDRjs7QURFQTtFQUNFLDZCQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUNDRjs7QURFQTtFQUNFLDBCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4vdGllcC1uaGFuLWJlbmgtbmhhbi90aWVwLW5oYW4tYmVuaC1uaGFuLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsia2VuZG8tdGFic3RyaXAge1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5cbi50ZW4tZGljaC12dS1sYWJlbCB7XG4gIGRpc3BsYXk6IGlubGluZTtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG59XG5cbi5idXR0b24tdGhlbS1nb2kge1xuICB3aWR0aDogMjBweDtcbiAgaGVpZ2h0OiAyMHB4O1xuICBtYXJnaW4tdG9wOiA1cHg7XG59XG5cbi5tYXQtaWNvbi10aGVtLWdvaSB7XG4gIG1hcmdpbi10b3A6IC0yMHB4O1xuICBtYXJnaW4tbGVmdDogLTJweDtcbn1cblxuLnhhYy1uaGFuLW5nLXRlbXBsYXRlIHtcbiAgZGlzcGxheTogaW5oZXJpdDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLmRhbmgtc2FjaC1nb2kge1xuICBjb2xvcjogb3JhbmdlO1xuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbn1cblxuLmRpdi1kYW5oLXNhY2gtZ29pIHtcbiAgcGFkZGluZy10b3A6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uaW5mbyB7XG4gIG1hcmdpbi1ib3R0b206IC04cHg7XG4gIG1hcmdpbi10b3A6IDBweDtcbn1cblxuLmhlYWRlci1ncmlkIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogYXV0bztcbiAgYmFja2dyb3VuZDogI2ZmZTBiMjtcbiAgcGFkZGluZzogMTBweCAxMHB4IDEwcHggMTBweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbi5oZWFkZXItc3Bhbi1ncmlkIHtcbiAgd2lkdGg6IDgwJTtcbiAgcGFkZGluZzogMTBweCAxMHB4IDEwcHggMTBweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG5cbi50aG9uZy10aW4tdGFpLWtob2FuLWJlbmgtbmhhbiB7XG4gIGZsb2F0OiByaWdodDtcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbn1cblxuLnNvLXR1b2kge1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLnN0eWxlVGluaFRvbmcge1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICBwYWRkaW5nOiAxNXB4O1xuICBiYWNrZ3JvdW5kOiAjZTNmMmZkO1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgbWFyZ2luOiAxMHB4IC0xN3B4IC0xN3B4IC0xN3B4O1xufVxuXG4uaW1hZ2UtYmFyY29kZSB7XG4gIHBhZGRpbmctcmlnaHQ6IDBweCAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAyNXB4O1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuXG4uc28tbmhhIHtcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG59XG5cbi5kaXYtdm91Y2hlciB7XG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbn0iLCJrZW5kby10YWJzdHJpcCB7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbn1cblxuLnRlbi1kaWNoLXZ1LWxhYmVsIHtcbiAgZGlzcGxheTogaW5saW5lO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbn1cblxuLmJ1dHRvbi10aGVtLWdvaSB7XG4gIHdpZHRoOiAyMHB4O1xuICBoZWlnaHQ6IDIwcHg7XG4gIG1hcmdpbi10b3A6IDVweDtcbn1cblxuLm1hdC1pY29uLXRoZW0tZ29pIHtcbiAgbWFyZ2luLXRvcDogLTIwcHg7XG4gIG1hcmdpbi1sZWZ0OiAtMnB4O1xufVxuXG4ueGFjLW5oYW4tbmctdGVtcGxhdGUge1xuICBkaXNwbGF5OiBpbmhlcml0O1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG4uZGFuaC1zYWNoLWdvaSB7XG4gIGNvbG9yOiBvcmFuZ2U7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xufVxuXG4uZGl2LWRhbmgtc2FjaC1nb2kge1xuICBwYWRkaW5nLXRvcDogNXB4ICFpbXBvcnRhbnQ7XG59XG5cbi5pbmZvIHtcbiAgbWFyZ2luLWJvdHRvbTogLThweDtcbiAgbWFyZ2luLXRvcDogMHB4O1xufVxuXG4uaGVhZGVyLWdyaWQge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiBhdXRvO1xuICBiYWNrZ3JvdW5kOiAjZmZlMGIyO1xuICBwYWRkaW5nOiAxMHB4IDEwcHggMTBweCAxMHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLmhlYWRlci1zcGFuLWdyaWQge1xuICB3aWR0aDogODAlO1xuICBwYWRkaW5nOiAxMHB4IDEwcHggMTBweCAxMHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLnRob25nLXRpbi10YWkta2hvYW4tYmVuaC1uaGFuIHtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBmb250LXdlaWdodDogbm9ybWFsO1xufVxuXG4uc28tdHVvaSB7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4uc3R5bGVUaW5oVG9uZyB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIGJhY2tncm91bmQ6ICNlM2YyZmQ7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBtYXJnaW46IDEwcHggLTE3cHggLTE3cHggLTE3cHg7XG59XG5cbi5pbWFnZS1iYXJjb2RlIHtcbiAgcGFkZGluZy1yaWdodDogMHB4ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDI1cHg7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG59XG5cbi5zby1uaGEge1xuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbn1cblxuLmRpdi12b3VjaGVyIHtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xufSJdfQ== */\"","import { Component, OnInit, HostListener, ViewChild, TemplateRef, Renderer2, ChangeDetectorRef, OnDestroy, ViewRef } from '@angular/core';\nimport { BaoHiemYTe, ThongTinBenhNhan, dsLichSuKCB2018 } from '../../danh-muc/bao-hiem-y-te/bao-hiem-y-te.model';\nimport { TiepNhanBenhNhanViewModel, BenhNhanTiepNhanBenhNhanViewModel, ThemChiDinhDichVu, GetDonGiaVo, ChiDinhDichVuGridVo, ThemBaoHiemTuNhan, ThemBaoHiemTuNhanGridVo, BaoHiemTuNhanViewModel, ThemChiDinhDichVuKyThuat, ChiDinhDichVuKyThuatGridVo, DiaChiBHYT, ThemTaiLieuDinhKem, HoSoYeuCauTiepNhanViewModel, TaiLieuModel, GridLichSuKCB, TimKiemBenhNhanGridVo, DataTimKiem, TimKiemBenhNhanSearch, GridLichSuKiemTraTheBHYT, DanhSachDichVuGoiChon, DanhSachGoiChon, DanhSachDichVuChonTrongLanPopup, DichVuTrongGoiKhiThem, CheckDuSoLuongTonTrongGoi, DefaultValueTNBNModel, DichVuKyThuatBenhVienIdsSarsCoVLoaiBenhPham } from '../tiep-nhan-benh-nhan.model';\nimport { GioiTinh } from 'src/app/shared/enum/common-type.enums';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { MatDialog } from '@angular/material';\nimport { TiepNhanBenhNhanPopupComponent } from '../tiep-nhan-benh-nhan-popup/tiep-nhan-benh-nhan-popup.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage, TiepNhanBenhNhanMessage } from 'src/app/shared/configdata/system-message';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { stagger60ms } from 'src/@vex/animations/stagger.animation';\nimport { fadeInUp400ms } from 'src/@vex/animations/fade-in-up.animation';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { TiepNhanBenhNhanChoQuetComponent } from '../tiep-nhan-benh-nhan-cho-quet/tiep-nhan-benh-nhan-cho-quet.component';\nimport { DatePipe } from '@angular/common';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { TimeSelectorComponent, DatePickerComponent } from '@progress/kendo-angular-dateinputs';\nimport icInfo from '@iconify/icons-ic/baseline-info';\nimport { TinhTrangThe } from 'src/app/shared/enum/tinh-trang-the.enum';\nimport { TiepNhanBenhNhanErrorComponent } from '../tiep-nhan-benh-nhan-error/tiep-nhan-benh-nhan-error.component';\nimport { State, process } from '@progress/kendo-data-query';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\n\nimport icMoreHoriz from '@iconify/icons-ic/twotone-more-horiz';\nimport icEdit from '@iconify/icons-ic/twotone-edit';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icFind from '@iconify/icons-ic/search';\nimport icAdd from '@iconify/icons-ic/twotone-add';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { Observable } from 'rxjs/Rx';\nimport { TiepNhanBenhNhanPopupHetHieuLucComponent } from '../tiep-nhan-benh-nhan-popup-het-hieu-luc/tiep-nhan-benh-nhan-popup-het-hieu-luc.component';\nimport { TiepNhanBenhNhanPopupKhongKiemTraDuocComponent } from '../tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc/tiep-nhan-benh-nhan-popup-khong-kiem-tra-duoc.component';\nimport { HttpParams } from '@angular/common/http';\nimport { TiepNhanBenhNhanPopupLichSuKcbComponent } from '../tiep-nhan-benh-nhan-popup-lich-su-kcb/tiep-nhan-benh-nhan-popup-lich-su-kcb.component';\nimport { DateTime } from 'luxon';\nimport { PopupTimKiemBenhNhanComponent } from '../popup-tim-kiem-benh-nhan/popup-tim-kiem-benh-nhan.component';\nimport { LookupQueryInfo } from 'src/app/shared/models/common.model';\n\nimport { MultiselectComponent } from 'src/app/shared/component/dropdowns/multiselect/multiselect.component';\nimport { TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent } from '../tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt/tiep-nhan-benh-nhan-popup-lich-su-kiem-tra-the-bhyt.component';\nimport { TabStripComponent } from '@progress/kendo-angular-layout';\nimport { TextboxComponent } from 'src/app/shared/component/inputs/textbox/textbox.component';\nimport { DatepickerComponent } from 'src/app/shared/component/dates/datepicker/datepicker.component';\nimport { ComboboxComponent } from 'src/app/shared/component/dropdowns/combobox/combobox.component';\nimport { InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent } from '../in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup/in-phieu-dang-ky-kham-tiep-nhan-benh-nhan-popup.component';\nimport { PopupMarketingTiepNhanBenhNhanComponent } from '../popup-marketing-tiep-nhan-benh-nhan/popup-marketing-tiep-nhan-benh-nhan.component';\nimport { PopupDichVuCheckTrungComponent } from '../popup-dich-vu-check-trung/popup-dich-vu-check-trung.component';\nimport { LookupItemVo } from '../../thu-chi/thu-chi-vien-phi/ngoai-tru/cho-thu-tien/cho-thu-tien.model';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { DichVuKhuyenMaiPopupComponent } from '../../dich-vu-khuyen-mai/dich-vu-khuyen-mai-popup/dich-vu-khuyen-mai-popup.component';\nimport { LanKhamHienTaiNhomDichVuThuongDungPopupComponent } from '../../kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup.component';\nimport { EnumNhomGoiDichVu, EnumTypeLoadingData } from 'src/app/shared/enum/kham-benh.enum';\nimport { ChiDinhGoiDichVuTheoBenhNhan, ChiDinhGoiDichVuThuongDung, ChiDinhGoiDichVuThuongDungDichVuLoi } from '../../kham-benh/kham-benh.model';\nimport { LanKhamHienTaiNhomDichVuLoiPopupComponent } from '../../kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-loi-popup/lan-kham-hien-tai-nhom-dich-vu-loi-popup.component';\nimport { InPhieuXnCovidComponent } from '../in-phieu-xn-covid/in-phieu-xn-covid.component';\nimport { XnCovidPopupComponent } from '../xn-covid-popup/xn-covid-popup.component';\nimport { BoPhan } from 'src/app/shared/enum/bo-phan.enum';\ndeclare var jQuery: any;\ndeclare var $: any;\n\n@Component({\n    selector: 'app-tiep-nhan-benh-nhan',\n    templateUrl: './tiep-nhan-benh-nhan.component.html',\n    styleUrls: ['./tiep-nhan-benh-nhan.component.scss'],\n    animations: [\n        stagger60ms,\n        fadeInUp400ms\n    ]\n})\nexport class TiepNhanBenhNhanComponent implements OnInit, OnDestroy {\n\n    icMoreHoriz = icMoreHoriz;\n    icEdit = icEdit;\n    icDelete = icDelete;\n    icFind = icFind;\n\n    icAdd = icAdd;\n\n    hostingName: string;\n\n    thongTinBenhNhan: ThongTinBenhNhan;\n    modelQRCode: BaoHiemYTe;\n    isSearchQRCodeEnable: boolean = true;\n    tiepNhanBenhNhan: TiepNhanBenhNhanViewModel;\n    isDungTuyenDisplay: string = null;\n    isDungTuyen: boolean = false;\n    isOutOfDate: boolean = false;\n    soTuoiDisplay: string;\n    documentType: DocumentType;\n    validationErrors: any[] = [];\n\n    hoTenDaTimKiem: string;\n    maSoTheDaTimKiem: string;\n    ngaySinhDaTimKiem: Date;\n    icInfo = icInfo;\n\n    soPhanTramHuongBHYT: number = null;\n\n    gridColumns: any[] = [];\n    gridKhamBenhColumns: any[] = [];\n    gridKyThuatColumns: any[] = [];\n    gridKhongChietKhauColumns: any[] = [];\n    gridCoChietKhauColumns: any[] = [];\n    gridTaiLieuDinhKemColumns: any[] = [];\n\n    themTaiLieu: ThemTaiLieuDinhKem = new ThemTaiLieuDinhKem();\n    gridDataTaiLieuDinhKem: any;\n\n    TrieuChungTiepNhanResource: any;\n    themChiDinhDichVuModel: ThemChiDinhDichVu = new ThemChiDinhDichVu();\n    themChiDinhGoiModel: ThemChiDinhDichVu = new ThemChiDinhDichVu();\n    themBaoHiemTuNhanModel: ThemBaoHiemTuNhan = new ThemBaoHiemTuNhan();\n\n\n\n    gridDataSourceBHTN: any;\n    lstBHTN: ThemBaoHiemTuNhanGridVo[] = [];\n    isIdNeedUpdate: number = null;\n\n    isUpdateGrid: boolean = false;\n\n    //gridDataKhamBenh: ChiDinhDichVuGridVo[] = [];\n    gridDataKhamBenhDisplay: any;\n    gridDataKyThuatDisplay: any;\n\n    gridDataKhacDisplay: any;\n    gridDataKhacCoChietKhauDisplay: ChiDinhDichVuGridVo[];\n    gridDataKhacCoChietKhauArray: any[] = [];\n\n    soLuongGoiCoChietKhau: number = 0;\n    soLuongGoiKhongChietKhau: number = 0;\n\n    isSetValue: boolean = false;\n    isCheckedBHYT: boolean = false;\n    isActivePopup: boolean = false;\n\n    thongTinTaiKhoanBenhNhan: any;\n\n    soTienBHYTSeThanhToan: number = 0;\n\n    benhNhanId: number = 0;\n    benhNhanIdPopup: number = 0;\n    coYeuCauGoiDichVu: boolean = false;\n\n    diaChiBHYT: DiaChiBHYT = new DiaChiBHYT();\n\n    lichSuKCB: GridLichSuKCB[] = new Array<GridLichSuKCB>();\n\n    lichSuKiemTraTheBHYTGrid: GridLichSuKiemTraTheBHYT[] = new Array<GridLichSuKiemTraTheBHYT>();\n\n    //1 kham benh, 2 ky thuat, 3 giuong\n    loaiTiepNhan: number = null;\n    isGoiCoChietKhau: boolean = null;\n\n    //\n    duocHuongBHYT = false;\n\n    enableDuocHuongBHYT = false;\n\n    isScanF1 = false;\n\n    idYeuCauTiepNhan: number = 0;\n\n    //ngay thang nam sinh\n    under6yearsold: boolean = false;\n\n    // voucher\n    public loaiVoucher: number = 0;\n    public voucherLookupItemVo: Array<LookupItemVo>;\n\n    //Tim kiem benh nhan\n    lstBenhNhan: TimKiemBenhNhanGridVo[] = new Array<TimKiemBenhNhanGridVo>();\n    modelTimKiemBenhNhan: TimKiemBenhNhanGridVo = new TimKiemBenhNhanGridVo();\n    totalBenhNhan: number = 0;\n    queryInfoNguoiLienHeQuanHuyen: LookupQueryInfo = new LookupQueryInfo();\n    queryInfoNguoiLienHePhuongXa: LookupQueryInfo = new LookupQueryInfo();\n\n\n    //message kiem tra tren BHYT\n    messageThanhCong: string = \"Kiểm tra thành công\";\n    messageKhongThanhCong: string = \"Kiểm tra không thành công\";\n\n    //\n    isActiveAction: any = null;\n\n    //\n    maDichVuPrev: number = null;\n    //countCheck: number = 0;\n    maDichVuDisabled: boolean = false;\n\n    //update 29/10/2020\n\n    id: number;\n\n    danhSachDichVuTrongGoiDaChonTrongYCTN: DanhSachDichVuGoiChon[] = new Array<DanhSachDichVuGoiChon>();\n    danhSachGoiDaChonTrongYCTN: DanhSachGoiChon[] = new Array<DanhSachGoiChon>();\n    danhSachDichVuGoiDaChon: Array<ThemChiDinhDichVu> = new Array<ThemChiDinhDichVu>();\n\n    displayToolTipGrid: string = null;\n    suDungGoiMarketingModelTemp: boolean = false;\n    disabledCheckboxMarketing: boolean = false;\n    popupLoadingData: any;\n\n    danhSachDichVuDaChonTrongLanPopup: Array<DanhSachDichVuChonTrongLanPopup> = new Array<DanhSachDichVuChonTrongLanPopup>();\n\n    dichVuSarsCoVs:number[]=[];\n    loaiBenhPhamText:string =null;\n    loaiBenhPham:number =null;\n    showbuttonLuuVaInPhieuXetNghiem:boolean = false;\n    loadingDataPopup: any;\n    \n    @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n    @ViewChild('gridBHTN', { static: false }) gridChildBHTN: GridComponent;\n    @ViewChild('gridKhamBenh', { static: false }) gridChildKhamBenh: GridComponent;\n    @ViewChild('gridKyThuat', { static: false }) gridChildKyThuat: GridComponent;\n    @ViewChild('gridCoChietKhau', { static: false }) gridChildCoChietKhau: GridComponent;\n    @ViewChild('gridKhongChietKhau', { static: false }) gridChildKhongChietKhau: GridComponent;\n\n    @ViewChild('gridTaiLieuDinhKem', { static: false }) gridTaiLieuDinhKem: GridComponent;\n\n    //the begin of kham benh\n\n    // đơn giá\n    @ViewChild('donGiaKhamBenhFooterTemplate', { static: true }) donGiaKhamBenhFooterTemplate: TemplateRef<any>;\n    @ViewChild('donGiaKhamBenhTemplate', { static: true }) donGiaKhamBenhTemplate: TemplateRef<any>;\n\n    // thành tiền\n    @ViewChild('thanhTienKhamBenhTemplate', { static: true }) thanhTienKhamBenhTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienKhamBenhFooterTemplate', { static: true }) thanhTienKhamBenhFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienKhamBenhGroupFooterTemplate', { static: true }) thanhTienKhamBenhGroupFooterTemplate: TemplateRef<any>;\n\n    // bhyt thanh toán\n    @ViewChild('bhytThanhToanKhamBenhTemplate', { static: true }) bhytThanhToanKhamBenhTemplate: TemplateRef<any>;\n    @ViewChild('bhytThanhToanKhamBenhFooterTemplate', { static: true }) bhytThanhToanKhamBenhFooterTemplate: TemplateRef<any>;\n    @ViewChild('bhytThanhToanKhamBenhGroupFooterTemplate', { static: true }) bhytThanhToanKhamBenhGroupFooterTemplate: TemplateRef<any>;\n\n    // số tiền mg\n    @ViewChild('soTienMgKhamBenhTemplate', { static: true }) soTienMgKhamBenhTemplate: TemplateRef<any>;\n    @ViewChild('soTienMgKhamBenhFooterTemplate', { static: true }) soTienMgKhamBenhFooterTemplate: TemplateRef<any>;\n    @ViewChild('soTienMgKhamBenhGroupFooterTemplate', { static: true }) soTienMgKhamBenhGroupFooterTemplate: TemplateRef<any>;\n\n    // người bệnh thanh toán\n    @ViewChild('bnThanhToanKhamBenhTemplate', { static: true }) bnThanhToanKhamBenhTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanKhamBenhFooterTemplate', { static: true }) bnThanhToanKhamBenhFooterTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanKhamBenhGroupFooterTemplate', { static: true }) bnThanhToanKhamBenhGroupFooterTemplate: TemplateRef<any>;\n\n    //action\n    @ViewChild('actionKhamBenhTemplate', { static: true }) actionKhamBenhTemplate: TemplateRef<any>;\n\n    //\n    @ViewChild(\"tabStrip\", { static: false }) tabStrip: TabStripComponent;\n\n    // group\n    groupKhamBenh: GroupDescriptor[] = [\n        {\n            field: 'Nhom', aggregates: [\n                { field: 'ThanhTien', aggregate: 'sum' },\n                { field: 'BnThanhToan', aggregate: 'sum' },\n                { field: 'SoTienMG', aggregate: 'sum' },\n                { field: 'BHYTThanhToan', aggregate: 'sum' }\n            ]\n        }\n    ];\n\n    //end of kham benh\n\n    // the begin of ky thuat\n\n    // đơn giá\n    @ViewChild('donGiaKyThuatFooterTemplate', { static: true }) donGiaKyThuatFooterTemplate: TemplateRef<any>;\n    @ViewChild('donGiaKyThuatTemplate', { static: true }) donGiaKyThuatTemplate: TemplateRef<any>;\n\n    // thành tiền\n    @ViewChild('thanhTienKyThuatTemplate', { static: true }) thanhTienKyThuatTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienKyThuatFooterTemplate', { static: true }) thanhTienKyThuatFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienKyThuatGroupFooterTemplate', { static: true }) thanhTienKyThuatGroupFooterTemplate: TemplateRef<any>;\n\n    // số tiền mg\n    @ViewChild('soTienMgKyThuatTemplate', { static: true }) soTienMgKyThuatTemplate: TemplateRef<any>;\n    @ViewChild('soTienMgKyThuatFooterTemplate', { static: true }) soTienMgKyThuatFooterTemplate: TemplateRef<any>;\n    @ViewChild('soTienMgKyThuatGroupFooterTemplate', { static: true }) soTienMgKyThuatGroupFooterTemplate: TemplateRef<any>;\n\n    // người bệnh thanh toán\n    @ViewChild('bnThanhToanKyThuatTemplate', { static: true }) bnThanhToanKyThuatTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanKyThuatFooterTemplate', { static: true }) bnThanhToanKyThuatFooterTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanKyThuatGroupFooterTemplate', { static: true }) bnThanhToanKyThuatGroupFooterTemplate: TemplateRef<any>;\n\n    //action\n    @ViewChild('actionKyThuatTemplate', { static: true }) actionKyThuatTemplate: TemplateRef<any>;\n\n    // group\n    groupKyThuat: GroupDescriptor[] = [{\n        field: 'Nhom', aggregates: [\n            { field: 'ThanhTien', aggregate: 'sum' },\n            { field: 'SoTienMG', aggregate: 'sum' },\n            { field: 'BnThanhToan', aggregate: 'sum' }\n        ]\n    }];\n\n    //end of ky thuat\n\n    //the begin of khong chiet khau\n\n    // đơn giá\n    @ViewChild('donGiaKhongChietKhauFooterTemplate', { static: true }) donGiaKhongChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('donGiaKhongChietKhauTemplate', { static: true }) donGiaKhongChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('donGiaBHYTTemplate', { static: true }) donGiaBHYTTemplate: TemplateRef<any>;\n\n\n    @ViewChild('tenDichVuKhongChietKhauFooterTemplate', { static: true }) tenDichVuKhongChietKhauFooterTemplate: TemplateRef<any>;\n\n    // thành tiền\n    @ViewChild('thanhTienKhongChietKhauTemplate', { static: true }) thanhTienKhongChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienKhongChietKhauFooterTemplate', { static: true }) thanhTienKhongChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienKhongChietKhauGroupFooterTemplate', { static: true }) thanhTienKhongChietKhauGroupFooterTemplate: TemplateRef<any>;\n\n    // bhyt thanh toán\n    @ViewChild('bhytThanhToanKhongChietKhauTemplate', { static: true }) bhytThanhToanKhongChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('bhytThanhToanKhongChietKhauFooterTemplate', { static: true }) bhytThanhToanKhongChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('bhytThanhToanKhongChietKhauGroupFooterTemplate', { static: true }) bhytThanhToanKhongChietKhauGroupFooterTemplate: TemplateRef<any>;\n\n    // số tiền mg\n    @ViewChild('soTienMgKhongChietKhauTemplate', { static: true }) soTienMgKhongChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('soTienMgKhongChietKhauFooterTemplate', { static: true }) soTienMgKhongChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('soTienMgKhongChietKhauGroupFooterTemplate', { static: true }) soTienMgKhongChietKhauGroupFooterTemplate: TemplateRef<any>;\n\n    // người bệnh thanh toán\n    @ViewChild('bnThanhToanKhongChietKhauTemplate', { static: true }) bnThanhToanKhongChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanKhongChietKhauFooterTemplate', { static: true }) bnThanhToanKhongChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanKhongChietKhauGroupFooterTemplate', { static: true }) bnThanhToanKhongChietKhauGroupFooterTemplate: TemplateRef<any>;\n\n    // nơi thực hiện\n    @ViewChild('noiThucHienKhongChietKhauTemplate', { static: true }) noiThucHienKhongChietKhauTemplate: TemplateRef<any>;\n\n    // nhân viên chỉ định\n    @ViewChild('nhanVienChiDinhTemplate', { static: true }) nhanVienChiDinhTemplate: TemplateRef<any>;\n\n    // checkbox được hưởng bhyt\n    @ViewChild('duocHuongBHYTTemplate', { static: true }) duocHuongBHYTTemplate: TemplateRef<any>;\n\n    //Loai gia grid\n    @ViewChild('loaiGiaTemplate', { static: true }) loaiGiaTemplate: TemplateRef<any>;\n\n    //STT grid\n    @ViewChild('sttKhongChietKhauTemplate', { static: true }) sttKhongChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('sttCoChietKhauTemplate', { static: true }) sttCoChietKhauTemplate: TemplateRef<any>;\n\n    //So luong grid\n    @ViewChild('soLuongTemplate', { static: true }) soLuongTemplate: TemplateRef<any>;\n\n    //action\n    @ViewChild('actionKhongChietKhauTemplate', { static: true }) actionKhongChietKhauTemplate: TemplateRef<any>;\n\n    // group\n    groupKhongChietKhau: GroupDescriptor[] = [\n        {\n            field: 'Nhom', aggregates: [\n                { field: 'ThanhTien', aggregate: 'sum' },\n                { field: 'BHYTThanhToan', aggregate: 'sum' },\n                { field: 'SoTienMG', aggregate: 'sum' },\n                { field: 'BnThanhToan', aggregate: 'sum' }\n            ]\n        }\n    ];\n\n    //end of khong chiet khau\n\n    //start chiet khau\n\n    // đơn giá\n    @ViewChild('donGiaChietKhauTemplate', { static: true }) donGiaChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('donGiaChietKhauFooterTemplate', { static: true }) donGiaChietKhauFooterTemplate: TemplateRef<any>;\n\n    // thành tiền\n    @ViewChild('thanhTienChietKhauTemplate', { static: true }) thanhTienChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienChietKhauFooterTemplate', { static: true }) thanhTienChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienChietKhauGroupFooterTemplate', { static: true }) thanhTienChietKhauGroupFooterTemplate: TemplateRef<any>;\n\n    // tỷ lệ chiết khấu\n    @ViewChild('tyLeChietKhauCoChietKhauTemplate', { static: true }) tyLeChietKhauCoChietKhauTemplate: TemplateRef<any>;\n\n    // được giảm trong gói\n    @ViewChild('duocGiamTrongGoiCoChietKhauTemplate', { static: true }) duocGiamTrongGoiCoChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('duocGiamTrongGoiCoChietKhauFooterTemplate', { static: true }) duocGiamTrongGoiCoChietKhauFooterTemplate: TemplateRef<any>;\n\n    // thành tiền trong gói\n    @ViewChild('thanhTienTrongGoiChietKhauTemplate', { static: true }) thanhTienTrongGoiChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienTrongGoiChietKhauFooterTemplate', { static: true }) thanhTienTrongGoiChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienTrongGoiChietKhauGroupFooterTemplate', { static: true }) thanhTienTrongGoiChietKhauGroupFooterTemplate: TemplateRef<any>;\n\n    // nơi thực hiện\n    @ViewChild('noiThucHienChietKhauTemplate', { static: true }) noiThucHienChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n\n    //\n    @ViewChild('taiLieuTemplate', { static: true }) taiLieuTemplate: TemplateRef<any>;\n    @ViewChild('actionTaiLieuTemplate', { static: true }) actionTaiLieuTemplate: TemplateRef<any>;\n\n    @ViewChild('HoVaTenTextbox', { static: false }) HoVaTenTextbox: TextboxComponent;\n    @ViewChild('NgaySinhCoBHYT', { static: false }) NgaySinhCoBHYT: DatepickerComponent;\n    @ViewChild('NgaySinhKhongCoBHYT', { static: false }) NgaySinhKhongCoBHYT: DatepickerComponent;\n\n    @ViewChild('dichVuCombobox', { static: false }) dichVuCombobox: ComboboxComponent;\n\n    @ViewChild('comboboxQuanHuyen', { static: true }) comboboxQuanHuyen: ComboboxComponent;\n    @ViewChild('comboboxPhuongXa', { static: true }) comboboxPhuongXa: ComboboxComponent;\n\n    @ViewChild('tenDvTemplate', { static: true }) tenDvTemplate: TemplateRef<any>;\n\n    @ViewChild('dichVuTrongGoiTemplate', { static: true }) dichVuTrongGoiTemplate: TemplateRef<any>;\n    @ViewChild('dichVuKhuyenMaiTemplate', { static: true }) dichVuKhuyenMaiTemplate: TemplateRef<any>;\n\n    // @ViewChild('comboboxNoiThucHien1', { static: true }) comboboxNoiThucHien1: ComboboxComponent;\n    // @ViewChild('comboboxNoiThucHien2', { static: true }) comboboxNoiThucHien2: ComboboxComponent;\n\n    // action\n    groupChietKhau: GroupDescriptor[] = [\n        {\n            field: 'Nhom', aggregates: [\n                { field: 'ThanhTien', aggregate: 'sum' },\n                { field: 'ThanhTienTrongGoi', aggregate: 'sum' }\n            ]\n        }\n    ];\n\n    //end chiết khấu\n\n    thanhTienTongCong: number = 0;\n    bnThanhToanTongCong: number = 0;\n    thanhTienDichVuChiDinhBaoGomDichVuTrongGoi: number = 0;\n\n    @ViewChild('voucherList', { static: false }) voucherList: MultiselectComponent;\n    @ViewChild(\"multiselect\", { static: false }) public multiselect: any;\n\n    // cập nhật điều kiện tạo mới yctn\n    urlPageUpdateYCTN: string = null;\n    errMessageKhongChoPhepTaoMoiYCTN: string = null;\n    changeMaTheBHYT: boolean = false;\n    loading: boolean = false;\n\n    constructor(private apiService: ApiService, private dialog: MatDialog\n        , private authService: AuthService, private router: Router\n        , private notificationService: NotificationService, private route: ActivatedRoute\n        , private renderer: Renderer2, private cdRef: ChangeDetectorRef) { }\n\n    ngOnDestroy(): void {\n        //console.log(\"ngOnDestroy\");\n        //this.cdRef.detectChanges();\n        //this.cdRef.markForCheck();\n        //console.log(\"ngOnDestroy\");\n        this.dialog.ngOnDestroy();\n    }\n\n    ngOnInit() {\n        this.errMessageKhongChoPhepTaoMoiYCTN = null;\n        this.urlPageUpdateYCTN = null;\n        this.changeMaTheBHYT = false;\n        this.id = this.route.snapshot.params.id;\n\n        this.getListDichVuSarsCoVs();\n        \n        if (this.id != undefined) {\n            this.getBenhNhan(this.id, true);\n        } else {\n            this.getDefaultDataTNBN();\n        }\n\n        console.log(\"ngOnInit - Id = \", this.id);\n\n        if (window.location.protocol == \"http:\") {\n            this.hostingName = \"http://\" + window.location.host;\n        } else {\n            this.hostingName = \"https://\" + window.location.host;\n        }\n\n        this.danhSachDichVuTrongGoiDaChonTrongYCTN = new Array<DanhSachDichVuGoiChon>();\n        this.danhSachGoiDaChonTrongYCTN = new Array<DanhSachGoiChon>();\n        this.danhSachDichVuGoiDaChon = new Array<ThemChiDinhDichVu>();\n\n        this.suDungGoiMarketingModelTemp = false;\n        this.disabledCheckboxMarketing = false;\n\n        this.danhSachDichVuDaChonTrongLanPopup = new Array<DanhSachDichVuChonTrongLanPopup>();\n\n\n        this.getSoTienBHYTSeThanhToan();\n\n        this.getListTenTrieuChungKham();\n\n        this.setDefaultData();\n        this.thongTinBenhNhan = new ThongTinBenhNhan();\n        this.lichSuKCB = new Array<GridLichSuKCB>();\n        this.lichSuKiemTraTheBHYTGrid = new Array<GridLichSuKiemTraTheBHYT>();\n\n        this.gridTaiLieuDinhKemColumns = [\n            { Field: \"LoaiDisplay\", Title: \"Loại\", Width: 200, Sortable: true },\n            { Field: \"Ten\", Title: \"Tài liệu\", MinWidth: 200, Sortable: true, Template: this.taiLieuTemplate },\n            { Field: \"MoTa\", Title: \"Mô tả\", Width: 200, Sortable: true },\n            { Field: \"Action\", Title: \"\", Width: 60, Template: this.actionTaiLieuTemplate },\n        ];\n\n        this.gridColumns = [\n            { Field: \"STT\", Title: \"STT\", Width: 50, Sortable: true },\n            { Field: \"CongTyDisplay\", Title: \"Công ty\", Width: 250, Sortable: true },\n            { Field: \"MaSoThe\", Title: \"Số thẻ\", Width: 150, Sortable: true },\n            { Field: \"NgayHieuLucDisplay\", Title: \"Từ ngày\", Width: 100, Sortable: true },\n            { Field: \"NgayHetHanDisplay\", Title: \"Đến ngày\", Width: 100, Sortable: true },\n            { Field: \"SoDienThoai\", Title: \"Điện thoại\", Width: 100, Sortable: true },\n            { Field: \"DiaChi\", Title: \"Địa chỉ\", MinWidth: 200, Sortable: true },\n            { Field: \"Action\", Title: \"\", Width: 60, Template: this.actionTemplate },\n        ];\n\n        this.gridKhamBenhColumns = [\n            { Field: \"Ma\", Title: \"Mã\", Width: 80, Sortable: true },\n            { Field: \"Nhom\", Title: \"Nhóm\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            {\n                Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", MinWidth: 140, Sortable: true,\n                TemplateFooter: this.donGiaKhamBenhFooterTemplate\n            },\n            { Field: \"LoaiGia\", Title: \"Loại Giá\", Width: 80, Sortable: true },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 30, Sortable: true },\n            {\n                Field: \"DonGia\", Title: \"Đơn Giá\", Width: 100, Sortable: true,\n                Template: this.donGiaKhamBenhTemplate\n            },\n            {\n                Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Sortable: true,\n                Template: this.thanhTienKhamBenhTemplate,\n                TemplateFooter: this.thanhTienKhamBenhFooterTemplate,\n                TemplateGroupFooter: this.thanhTienKhamBenhGroupFooterTemplate\n            },\n            {\n                Field: \"BHYTThanhToan\", Title: \"BHYT Thanh Toán\", Width: 100, Sortable: true,\n                Template: this.bhytThanhToanKhamBenhTemplate,\n                TemplateFooter: this.bhytThanhToanKhamBenhFooterTemplate,\n                TemplateGroupFooter: this.bhytThanhToanKhamBenhGroupFooterTemplate\n            },\n            // { Field: \"TLMGDisplay\", Title: \"TL MG\", Width: 45, Sortable: true },\n            // {\n            //     Field: \"SoTienMG\", Title: \"Số tiền MG\", Width: 100, Sortable: true,\n            //     Template: this.soTienMgKhamBenhTemplate,\n            //     TemplateFooter: this.soTienMgKhamBenhFooterTemplate,\n            //     TemplateGroupFooter: this.soTienMgKhamBenhGroupFooterTemplate\n            // },\n            {\n                Field: \"BnThanhToan\", Title: \"BN thanh toán\", Width: 150, Sortable: true,\n                Template: this.bnThanhToanKhamBenhTemplate,\n                TemplateFooter: this.bnThanhToanKhamBenhFooterTemplate,\n                TemplateGroupFooter: this.bnThanhToanKhamBenhGroupFooterTemplate\n            },\n            {\n                Field: \"NoiThucHienDisplay\", Title: \"Nơi thực hiện\", Width: 230, Sortable: true\n            },\n            { Field: \"ActionKhamBenh\", Title: \"\", Width: 50, Template: this.actionKhamBenhTemplate }\n        ];\n\n        this.gridKyThuatColumns = [\n            { Field: \"Nhom\", Title: \"Nhóm\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            { Field: \"Ma\", Title: \"Mã\", Width: 80, Sortable: true },\n            { Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", MinWidth: 140, Sortable: true },\n            { Field: \"LoaiGia\", Title: \"Loại Giá\", Width: 80, Sortable: true },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 30, Sortable: true },\n            {\n                Field: \"DonGia\", Title: \"Đơn Giá\", Width: 100, Sortable: true,\n                Template: this.donGiaKyThuatTemplate,\n                TemplateFooter: this.donGiaKyThuatFooterTemplate\n            },\n            {\n                Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Sortable: true,\n                Template: this.thanhTienKyThuatTemplate,\n                TemplateFooter: this.thanhTienKyThuatFooterTemplate,\n                TemplateGroupFooter: this.thanhTienKyThuatGroupFooterTemplate\n            },\n            // { Field: \"TLMGDisplay\", Title: \"TL MG\", Width: 45, Sortable: true },\n            // {\n            //     Field: \"SoTienMG\", Title: \"Số tiền MG\", Width: 100, Sortable: true,\n            //     Template: this.soTienMgKyThuatTemplate,\n            //     TemplateFooter: this.soTienMgKyThuatFooterTemplate,\n            //     TemplateGroupFooter: this.soTienMgKyThuatGroupFooterTemplate\n            // },\n            {\n                Field: \"BnThanhToan\", Title: \"BN thanh toán\", Width: 100, Sortable: true,\n                Template: this.bnThanhToanKyThuatTemplate,\n                TemplateFooter: this.bnThanhToanKyThuatFooterTemplate,\n                TemplateGroupFooter: this.bnThanhToanKyThuatGroupFooterTemplate\n            },\n            {\n                Field: \"NoiThucHienDisplay\", Title: \"Nơi thực hiện\", Width: 230, Sortable: true\n            },\n            {\n                Field: \"TenNhanVienChiDinh\", Title: \"Nhân viên chỉ định\", Width: 230, Sortable: true\n            },\n            { Field: \"ActionKyThuat\", Title: \"\", Width: 50, Template: this.actionKyThuatTemplate }\n        ];\n\n        this.gridKhongChietKhauColumns = [\n            {\n                Field: \"id\", Title: \"#\", Width: 50, Sortable: true,\n                Template: this.sttKhongChietKhauTemplate\n            },\n            { Field: \"Ma\", Title: \"Mã\", Width: 90, Sortable: true },\n            { Field: \"Nhom\", Title: \"Nhóm\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            {\n                Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\"\n                , MinWidth: 200, Sortable: true, ShowTooltip: true\n                , TemplateFooter: this.donGiaKhongChietKhauFooterTemplate\n                , TemplateGroupFooter: this.tenDichVuKhongChietKhauFooterTemplate\n                , Template: this.tenDvTemplate\n            },\n            { Field: \"GoiCoChietKhauId\", Title: \"DV Trong Gói\", Width: 60, Template: this.dichVuTrongGoiTemplate },\n            { Field: \"YeuCauGoiDichVuKhuyenMaiId\", Title: \"DV Khuyến Mại\", Width: 60, Template: this.dichVuKhuyenMaiTemplate },\n            {\n                Field: \"LoaiGia\", Title: \"Loại Giá\", Width: 100, Sortable: true,\n                Template: this.loaiGiaTemplate\n            },\n\n\n            {\n                Field: \"SoLuong\", Title: \"SL\", Width: 50, Sortable: true,\n                Template: this.soLuongTemplate\n            },\n            {\n                Field: \"DonGia\", Title: \"Đơn Giá\", Width: 100, Sortable: true,\n                Template: this.donGiaKhongChietKhauTemplate\n            },\n            {\n                Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Sortable: true,\n                Template: this.thanhTienKhongChietKhauTemplate,\n                TemplateFooter: this.thanhTienKhongChietKhauFooterTemplate\n                , TemplateGroupFooter: this.thanhTienKhongChietKhauGroupFooterTemplate\n            },\n\n            {\n                Field: \"GiaBHYT\", Title: \"ĐG BHYT\", Width: 100, Sortable: true,\n                Template: this.donGiaBHYTTemplate\n            },\n            {\n                Field: \"DuocHuongBHYT\", Title: \"ĐH BHYT\", Width: 60, Sortable: false,\n                Template: this.duocHuongBHYTTemplate\n            },\n            // {\n            //     Field: \"BHYTThanhToan\", Title: \"BHYT Thanh Toán\", Width: 100, Sortable: true,\n            //     Template: this.bhytThanhToanKhongChietKhauTemplate,\n            //     TemplateFooter: this.bhytThanhToanKhongChietKhauFooterTemplate,\n            //     TemplateGroupFooter: this.bhytThanhToanKhongChietKhauGroupFooterTemplate\n            // },\n            // { Field: \"TLMGDisplay\", Title: \"TL MG\", Width: 60, Sortable: true },\n            // {\n            //     Field: \"SoTienMG\", Title: \"Số tiền MG\", Width: 100, Sortable: true,\n            //     Template: this.soTienMgKhongChietKhauTemplate,\n            //     TemplateFooter: this.soTienMgKhongChietKhauFooterTemplate,\n            //     TemplateGroupFooter: this.soTienMgKhongChietKhauGroupFooterTemplate\n            // },\n            // {\n            //     Field: \"BnThanhToan\", Title: \"BN thanh toán\", Width: 100, Sortable: true,\n            //     Template: this.bnThanhToanKhongChietKhauTemplate,\n            //     TemplateFooter: this.bnThanhToanKhongChietKhauFooterTemplate,\n            //     TemplateGroupFooter: this.bnThanhToanKhongChietKhauGroupFooterTemplate\n            // },\n            {\n                Field: \"NoiThucHienDisplay\", Title: \"Nơi thực hiện\", Width: 230, Sortable: true,\n                Template: this.noiThucHienKhongChietKhauTemplate\n            },\n            { Field: \"ActionKhongChietKhau\", Title: \"\", Width: 50, Template: this.actionKhongChietKhauTemplate }\n        ];\n\n        this.gridCoChietKhauColumns = [\n            {\n                Field: \"id\", Title: \"#\", Width: 90, Sortable: true,\n                Template: this.sttCoChietKhauTemplate\n            },\n            { Field: \"Nhom\", Title: \"Nhóm\", Width: 200, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            { Field: \"Ma\", Title: \"Mã\", Width: 80, Sortable: true },\n            { Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", MinWidth: 200, Sortable: true, ShowTooltip: true },\n            { Field: \"LoaiGia\", Title: \"Loại Giá\", Width: 80, Sortable: true },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 30, Sortable: true },\n            {\n                Field: \"DonGia\", Title: \"Đơn Giá\", Width: 100, Sortable: true,\n                Template: this.donGiaChietKhauTemplate,\n                TemplateFooter: this.donGiaChietKhauFooterTemplate\n            },\n            {\n                Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Sortable: true,\n                Template: this.thanhTienChietKhauTemplate,\n                TemplateFooter: this.thanhTienChietKhauFooterTemplate,\n                TemplateGroupFooter: this.thanhTienChietKhauGroupFooterTemplate\n            },\n            {\n                Field: \"TyLeChietKhauDisplay\", Title: \"TL CK\", Width: 100, Sortable: true,\n                Template: this.tyLeChietKhauCoChietKhauTemplate,\n            },\n            {\n                Field: \"DuocGiamTrongGoi\", Title: \"DG Trong Gói\", Width: 100, Sortable: true,\n                Template: this.duocGiamTrongGoiCoChietKhauTemplate,\n                TemplateFooter: this.duocGiamTrongGoiCoChietKhauFooterTemplate\n            },\n            {\n                Field: \"ThanhTienTrongGoi\", Title: \"TT Trong Gói\", Width: 100, Sortable: true,\n                Template: this.thanhTienTrongGoiChietKhauTemplate,\n                TemplateFooter: this.thanhTienTrongGoiChietKhauFooterTemplate,\n                TemplateGroupFooter: this.thanhTienTrongGoiChietKhauGroupFooterTemplate\n            },\n            {\n                Field: \"NoiThucHienDisplay\", Title: \"Nơi thực hiện\", Width: 230, Sortable: true,\n                Template: this.noiThucHienChietKhauTemplate\n            }\n        ];\n\n        //documenttype\n        this.documentType = DocumentType.YeuCauTiepNhan;\n\n        this.tiepNhanBenhNhan = new TiepNhanBenhNhanViewModel;\n\n        this.tiepNhanBenhNhan.TinhThanhId = 1;\n        //set load first quan huyen combobox\n        //console.log(\"TNBN = \", this.comboboxQuanHuyen);\n        if (this.comboboxQuanHuyen != null && this.comboboxQuanHuyen != undefined) {\n            this.comboboxQuanHuyen.queryInfo.ParameterDependencies = \"{tinhThanh:\" + this.tiepNhanBenhNhan.TinhThanhId + \"}\";\n        }\n\n        this.tiepNhanBenhNhan.BenhNhan = new BenhNhanTiepNhanBenhNhanViewModel();\n        this.tiepNhanBenhNhan.GridLichSuKCB = new Array<GridLichSuKCB>();\n        this.tiepNhanBenhNhan.GridLichSuKiemTraTheBHYT = new Array<GridLichSuKiemTraTheBHYT>();\n\n        this.lstBHTN = new Array<ThemBaoHiemTuNhanGridVo>();\n\n        this.setValueForGridBHTN();\n        this.huyBHTN();\n\n        this.setDataForDichVuKyThuat();\n        this.setDataForDichVuKhamBenh();\n        this.setDataForDichVuKhac();\n        this.setDataForTaiLieuDinhKem();\n        this.refreshGrid();\n\n        this.themChiDinhDichVuModel = new ThemChiDinhDichVu();\n        this.themChiDinhGoiModel = new ThemChiDinhDichVu();\n\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n        //this.themChiDinhDichVuModel.DoiTuongUuDaiId = this.tiepNhanBenhNhan.DoiTuongUuDaiId;\n        this.clearThongTinTaiKhoanBenhNhan();\n        this.clearThemTaiLieu();\n        this.queryInfoNguoiLienHeQuanHuyen.ParameterDependencies = \"{tinhThanhLienHe:\" + this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId + \"}\";\n        this.queryInfoNguoiLienHePhuongXa.ParameterDependencies = \"{quanHuyenLienHe:\" + this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId + \"}\";\n\n\n\n        //console.log(\"isCheckedBHYT = \", this.isCheckedBHYT);\n        \n        this.HoVaTenTextbox.focus();\n\n       \n    }\n\n    setSoPhanTramHuongBHYTForThemChiDinh() {\n        this.themChiDinhDichVuModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n        this.themChiDinhGoiModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n    }\n\n    getBenhNhan(id: number, isCheckTheBHYT: boolean = false) {\n        this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: \"Đang tải dữ liệu...\" }\n        });\n        this.apiService.post<TiepNhanBenhNhanViewModel>(\"TiepNhanBenhNhan/GetYeuCauKhamBenh?id=\" + id).subscribe(\n            resultData => {\n                if (resultData == null || resultData == undefined) return;\n                this.tiepNhanBenhNhan = resultData;\n                //console.log(\"getBenhNhan\", this.tiepNhanBenhNhan);\n                console.log(\"ngOnInit - tiepNhanBenhNhan = \", this.tiepNhanBenhNhan);\n\n                this.tiepNhanBenhNhan.ThoiDiemTiepNhan = new Date();\n                this.tiepNhanBenhNhan.ThoiGianTiepNhan = new Date();\n                this.benhNhanId = this.tiepNhanBenhNhan.BenhNhanId;\n\n                //\n                this.getDanhSachGoiBenhNhan(this.benhNhanId);\n                //\n\n                this.setThongTinTaiKhoanBenhNhan(this.tiepNhanBenhNhan.BenhNhanId);\n\n                if (this.tiepNhanBenhNhan.TuNhap != true && this.tiepNhanBenhNhan.CoBHYT) {\n                    //this.isDisableNhapTayForUpdate = true;\n                }\n\n                this.lichSuKCB = this.tiepNhanBenhNhan.GridLichSuKCB;\n                this.lichSuKiemTraTheBHYTGrid = this.tiepNhanBenhNhan.GridLichSuKiemTraTheBHYT;\n\n                if (resultData.LoaiVoucher == null) {\n                    this.loaiVoucher = 0;\n                }\n                else {\n                    this.loaiVoucher = resultData.LoaiVoucher;\n                }\n                // thong tin BHYT\n                if (resultData.BHYTNgayHieuLuc != null && resultData.BHYTNgayHieuLuc != undefined) {\n                    let ngayCoHieuLuc = new Date(resultData.BHYTNgayHieuLuc);\n\n                    this.tiepNhanBenhNhan.NgayCoHieuLucDisplay = CommonService.formatDate(ngayCoHieuLuc, \"dd/mm/yyyy\");\n                    //console.log(\"getBenhNhan = \", ngayCoHieuLuc, this.tiepNhanBenhNhan.NgayCoHieuLucDisplay);\n\n                }\n                if (resultData.BHYTNgayHetHan != null && resultData.BHYTNgayHetHan != undefined) {\n                    let ngayHetHan = new Date(resultData.BHYTNgayHetHan);\n                    this.tiepNhanBenhNhan.NgayHetHieuLucDisplay = CommonService.formatDate(ngayHetHan, \"dd/mm/yyyy\");\n                }\n                if (resultData.BHYTNgayDu5Nam != null && resultData.BHYTNgayDu5Nam != undefined) {\n                    let ngayDu5Nam = new Date(resultData.BHYTNgayDu5Nam);\n                    this.tiepNhanBenhNhan.NgayDu5NamDisplay = CommonService.formatDate(ngayDu5Nam, \"dd/mm/yyyy\");\n                }\n                if (resultData.BHYTMaDKBD != null && resultData.BHYTMaDKBD != undefined) {\n                    //this.setSoPhanTramHuongBHYT(resultData.BHYTMaSoThe)\n                    //this.setTuyenKhamBenh(resultData.BHYTMaDKBD);\n                    this.setSoPhanTramHuongBHYTForThemChiDinh();\n\n                    this.apiService.post<string>(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + resultData.BHYTMaDKBD).subscribe(\n                        resultData => {\n                            this.tiepNhanBenhNhan.NoiDangKyBHYT = resultData;\n\n                        },\n                        () => {\n                            //return null;\n                            //console.log(\"error\")\n                        });\n                }\n\n\n                // BHTN\n                //this.lstBHTN = resultData.BaoHiemTuNhans;\n                if (resultData.BaoHiemTuNhans != undefined && resultData.BaoHiemTuNhans != null) {\n                    resultData.BaoHiemTuNhans.forEach(item => {\n                        let model = new ThemBaoHiemTuNhanGridVo();\n                        model.Id = item.Id;\n                        model.CongTyBaoHiemTuNhanId = item.BHTNCongTyBaoHiemId;\n                        model.CongTyDisplay = item.CongTyDisplay;\n                        model.DiaChi = item.BHTNDiaChi;\n                        model.MaSoThe = item.BHTNMaSoThe;\n                        model.SoDienThoai = item.BHTNSoDienThoai;\n\n\n                        model.NgayHetHan = item.BHTNNgayHetHan;\n                        if (item.BHTNNgayHetHan != null) {\n                            let dateNgayHetHan = new Date(model.NgayHetHan);\n                            model.NgayHetHanDisplay = CommonService.formatDate(dateNgayHetHan, \"dd/mm/yyyy\");\n                        }\n                        else {\n                            model.NgayHetHanDisplay = null;\n                        }\n\n                        model.NgayHieuLuc = item.BHTNNgayHieuLuc;\n                        if (item.BHTNNgayHieuLuc != null) {\n                            let dateNgayHieuLuc = new Date(model.NgayHieuLuc);\n                            model.NgayHieuLucDisplay = CommonService.formatDate(dateNgayHieuLuc, \"dd/mm/yyyy\");\n                        }\n                        else {\n                            model.NgayHieuLucDisplay = null;\n                        }\n\n                        this.lstBHTN.push(model);\n                    });\n\n                    this.setValueForGridBHTN();\n                }\n                // BHTN\n\n                // this.isHaveBHYTUpdated = resultData.CoBHYT\n                //     //console.log(\"getBenhNhan\", this.tiepNhanBenhNhan)\n                //     ;\n\n                this.tiepNhanBenhNhan.BenhNhan.GioiTinhDisplay = resultData.BenhNhan.GioiTinh == 1 ? \"Nam\" : \"Nữ\";\n\n                //let ngayThangNamSinh = new Date();\n                //ngayThangNamSinh.setDate(resultData.BenhNhan.NgaySinh);\n                //ngayThangNamSinh.setMonth(resultData.BenhNhan.ThangSinh);\n                //ngayThangNamSinh.setFullYear(resultData.BenhNhan.NamSinh, resultData.BenhNhan.ThangSinh, resultData.BenhNhan.NgaySinh);\n                //this.tiepNhanBenhNhan.BenhNhan.NgayThangNamSinh = ngayThangNamSinh;\n\n                if (resultData.BenhNhan.NamSinh != null && resultData.BenhNhan.ThangSinh != null && resultData.BenhNhan.NgaySinh != null) {\n                    let ngayThangNamSinh = new Date(resultData.BenhNhan.NgayThangNamSinh);\n                    this.getAge(ngayThangNamSinh, new Date);\n\n                }\n                //console.log(\"------------: \", this.tiepNhanBenhNhan)\n                if (this.tiepNhanBenhNhan.BHYTMucHuong == null) {\n                    this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                    //this.isHaveBHYTForTheFistLoad = false;\n                }\n                if (this.tiepNhanBenhNhan.IsCheckedBHYT) {\n                    let dateToCheck = new Date(this.tiepNhanBenhNhan.BHYTNgayHetHan);\n                    //console.log(\"dateToCheck \", this.tiepNhanBenhNhan.BHYTNgayHetHan, dateToCheck)\n                    this.checkOutOfDateBHYT(dateToCheck);\n                }\n                else {\n                    this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                }\n                this.tiepNhanBenhNhan.YeuCauKhacGrid = [];\n                //\n                this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n                //Chi dinh dich vu\n                //this.setDataForDichVuKhac();\n                this.setDataForTaiLieuDinhKem();\n                this.refreshGrid();\n                this.dialog.closeAll();\n\n                // if(this.tiepNhanBenhNhan.CoBHYT == true && this.tiepNhanBenhNhan.TuNhap != true && isCheckTheBHYT)\n                // {\n                //     this.kiemTraTheBHYTKhiTaoYCTNMoi();\n                // }\n\n                //Do quận huyện nó không bind do cơ chế chạy trước sau nên ta set lại cho comboxQuanHuyen này\n                //this.bindComboboxQuanHuyen(resultData);   \n\n                this.xuLyKiemTraBenhNhanDuDieuKienTaoMoiYCTN();\n            },\n            () => {\n                this.dialog.closeAll();\n                //console.log(\"error\")\n            });\n    }\n\n    bindComboboxQuanHuyen(resultData){\n        if(this.comboboxQuanHuyen != undefined && this.comboboxQuanHuyen != null){\n            this.tiepNhanBenhNhan.TinhThanhId = resultData.TinhThanhId;\n            this.tiepNhanBenhNhan.QuanHuyenId = resultData.QuanHuyenId;\n            this.comboboxQuanHuyen.getDataForLookup();\n        } \n    }\n    \n    @HostListener('document:keydown', ['$event'])\n    keyEvent(event: KeyboardEvent) {\n        //console.log(\"keyEvent = \", event);\n        if (event.keyCode == 81 && event.ctrlKey && this.isScanF1 != true) {\n            event.preventDefault();\n            this.QuetMaQRCodeClick();\n        }\n        else if (event.keyCode == 81 && event.ctrlKey && this.isScanF1 == true) {\n            event.preventDefault();\n        }\n        //f1 - CoBHYT\n        else if (event.keyCode == 112 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.coBHYTChange(true);\n            this.tiepNhanBenhNhan.CoBHYT = true;\n            event.preventDefault();\n        }\n        //f2 - TuNhap\n        else if (event.keyCode == 113 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.tuNhapChange(true);\n            this.tiepNhanBenhNhan.TuNhap = true;\n            event.preventDefault();\n        }\n        //f3 - Có giấy chuyển viện\n        else if (event.keyCode == 114 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.tiepNhanBenhNhan.DuocChuyenVien = true;\n            event.preventDefault();\n        }\n        //f5 - Có giấy miễn cùng chi trả\n        else if (event.keyCode == 116 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.tiepNhanBenhNhan.BHYTDuocMienCungChiTra = true;\n            event.preventDefault();\n        }\n        //f6 - Có miễn giảm\n        else if (event.keyCode == 117 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.CoUuDaiChange(true);\n            this.tiepNhanBenhNhan.DuocUuDai = true;\n            event.preventDefault();\n        }\n        //f7 - Có BHTN\n        else if (event.keyCode == 118 && event.ctrlKey) {\n            //console.log(\"Ok\");\n            this.tiepNhanBenhNhan.CoBHTN = true;\n            event.preventDefault();\n        }\n        //f8 - Chỉ định dịch vụ\n        else if (event.keyCode == 119 && event.ctrlKey) {\n            this.tabStrip.selectTab(0);\n\n            this.onTabSelect(0);\n            event.preventDefault();\n        }\n        else if (event.keyCode == 120 && event.ctrlKey) {\n            this.tabStrip.selectTab(1);\n\n            this.onTabSelect(1);\n            event.preventDefault();\n        }\n        else if (event.keyCode == 121 && event.ctrlKey) {\n            this.tabStrip.selectTab(2);\n\n            this.onTabSelect(2);\n            event.preventDefault();\n        }\n        else if (event.keyCode == 122 && event.ctrlKey) {\n            this.tabStrip.selectTab(3);\n\n            this.onTabSelect(3);\n            event.preventDefault();\n        }\n        else if (event.keyCode == 123 && event.ctrlKey) {\n            this.tabStrip.selectTab(4);\n\n            this.onTabSelect(4);\n            event.preventDefault();\n        }\n        else if (event.keyCode == 83 && event.ctrlKey && !event.shiftKey) {\n            if(this.errMessageKhongChoPhepTaoMoiYCTN == null || this.errMessageKhongChoPhepTaoMoiYCTN =='')\n            {\n                this.luuPhieu();\n            }\n            event.preventDefault();\n        }\n        else if (event.keyCode == 83 && event.ctrlKey && event.shiftKey) {\n            //console.log(\"-----Successfully---\");\n            if(this.errMessageKhongChoPhepTaoMoiYCTN == null || this.errMessageKhongChoPhepTaoMoiYCTN =='')\n            {\n                this.luuVaInPhieu();\n            }\n            event.preventDefault();\n        }\n        else if (event.keyCode == 27) {\n            this.huy();\n            event.preventDefault();\n        }\n    }\n\n    removeTaiLieu(data: HoSoYeuCauTiepNhanViewModel) {\n        //console.log(\"removeTaiLieu = \", data);\n        // this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans = this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.filter(p => p.TenGuid != data.TenGuid\n        //     && p.Ten != data.Ten && p.LoaiHoSoYeuCauTiepNhanId != data.LoaiHoSoYeuCauTiepNhanId\n        //     && p.MoTa != data.MoTa);\n        this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.splice(this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.indexOf(data), 1);\n        this.setDataForTaiLieuDinhKem();\n    }\n\n    uploadTaiLieuDone($event) {\n        this.themTaiLieu.TaiLieu = $event;\n        if (!(this.cdRef as ViewRef).destroyed) {\n            this.cdRef.detectChanges();\n        }\n    }\n\n    clearThemTaiLieu() {\n        this.themTaiLieu = new ThemTaiLieuDinhKem();\n    }\n\n    themTaiLieuButton() {\n        // if(this.themTaiLieu.LoaiId != null && this.themTaiLieu.TaiLieu != null){\n        //     console.log(this.themTaiLieu);\n\n        this.validationErrors = null;\n        this.apiService.post<any>(\"TiepNhanBenhNhan/GetNameLoaiTaiLieuDinhKem\", this.themTaiLieu).subscribe(\n            resultData => {\n                let taiLieuNew = new HoSoYeuCauTiepNhanViewModel();\n                taiLieuNew.Ma = this.themTaiLieu.TaiLieu.Ma;\n                taiLieuNew.Ten = this.themTaiLieu.TaiLieu.Ten;\n                taiLieuNew.TenGuid = this.themTaiLieu.TaiLieu.TenGuid;\n                taiLieuNew.MoTa = this.themTaiLieu.MoTa;\n                taiLieuNew.DuongDan = this.themTaiLieu.TaiLieu.DuongDan;\n                taiLieuNew.KichThuoc = this.themTaiLieu.TaiLieu.KichThuoc;\n                taiLieuNew.LoaiHoSoYeuCauTiepNhanId = this.themTaiLieu.LoaiId;\n                taiLieuNew.LoaiDisplay = resultData;\n                taiLieuNew.DuongDanTmp = this.themTaiLieu.TaiLieu.DuongDanTmp;\n\n                taiLieuNew.AddNew = true;\n                this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.push(taiLieuNew);\n                this.setDataForTaiLieuDinhKem();\n\n                this.clearThemTaiLieu();\n            },\n            (err: any) => {\n                if (err != undefined && err.ValidationErrors != null) {\n                    this.validationErrors = err.ValidationErrors;\n                }\n                else if (err != undefined && err.Errors == null) {\n                    //self.validationErrors.push({ \"Message\": err.Message });\n                    this.notificationService.showError(err.Message);\n                }\n            });\n\n\n        //}\n    }\n\n    viewTaiLieu(file: HoSoYeuCauTiepNhanViewModel) {\n        //console.log(\"viewTaiLieu = \", dataItem);\n        let duongDan = file.DuongDan;\n\n        if (file.AddNew) {\n            duongDan = file.DuongDanTmp;\n        }\n\n        const params = new HttpParams(\n            {\n                fromObject: {\n                    tenGuid: file.TenGuid,\n                    duongDan: duongDan,\n                }\n            });\n        // let response = await this.apiService.get<any>('TaiLieuDinhKem/GetTaiLieuUrl', params).toPromise();\n        this.apiService.get<any>('TaiLieuDinhKem/GetTaiLieuUrl', params).subscribe((resp) => {\n            if (resp) {\n\n                if (file.TenGuid.indexOf(\".pdf\") != -1 || file.TenGuid.indexOf(\".PDF\") != -1) {\n                    var html = \"<div class=\\\"showFile\\\">\";\n                    html += \"<div class=\\\"overlay\\\"></div>\";\n                    html += \"<div class=\\\"middle\\\">\";\n                    html += \"<div class=\\\"inner\\\">\";\n                    html += \"<span class=\\\"close\\\" onclick=\\\"$('.showFile').detach();\\\">X</span>\";\n                    html += \"<iframe src='\" + resp + \"' style=\\\"width:770px; height:570px;\\\" frameborder=\\\"0\\\"></iframe>\";\n                    html += \"</div>\";\n                    html += \"</div>\";\n                    html += \"</div>\"\n                    $(html).appendTo('app-main');\n                }\n                else {\n                    var html = \"<div class=\\\"showFile\\\">\";\n                    html += \"<div class=\\\"overlay\\\"></div>\";\n                    html += \"<div class=\\\"middle\\\">\";\n                    html += \"<div class=\\\"inner\\\">\";\n                    html += \"<span class=\\\"close\\\" onclick=\\\"$('.showFile').detach();\\\">X</span>\";\n                    html += \"<img src='\" + resp + \"' alt='' style=\\\"max-width: 770px;max-height: 570px;\\\"/>\";\n                    html += \"</div>\";\n                    html += \"</div>\";\n                    html += \"</div>\"\n                    $(html).appendTo('app-main');\n                }\n\n            }\n        })\n\n    }\n\n    setDataForTaiLieuDinhKem() {\n        //console.log(\"abc = \", this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.length);\n        this.gridDataTaiLieuDinhKem = {\n            data: this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans,\n            total: this.tiepNhanBenhNhan.HoSoYeuCauTiepNhans.length\n        };\n    }\n\n    clearThongTinTaiKhoanBenhNhan() {\n        this.thongTinTaiKhoanBenhNhan = null;\n    }\n\n    getSoTienBHYTSeThanhToan() {\n        this.apiService.get<any>(\"TiepNhanBenhNhan/GetSoTienBHYTSeThanhToan\").subscribe(\n            resultData => {\n                this.soTienBHYTSeThanhToan = resultData;\n                //console.log(\"getSoTienBHYTSeThanhToan = \", this.soTienBHYTSeThanhToan);\n            }\n        )\n    }\n\n    CoUuDaiChange($event) {\n        //console.log(\"CoUuDaiChange = \", $event)\n        if (this.tiepNhanBenhNhan.DoiTuongUuDaiId != null) {\n            if ($event == false) {\n                this.removeDoiTuongMienGiamForGirdChiDinhDichVu();\n            }\n            else {\n                this.addDoiTuongMienGiamForGridChiDinhDichVu();\n            }\n        }\n    }\n\n    addBHYTForGridChiDinhDichVu() {\n        //khac\n        for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n            const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n            if (item.Nhom == \"DỊCH VỤ KHÁM BỆNH\" && item.GiaBHYT != 0) {\n                item.BHYTThanhToan = item.GiaBHYT;\n                item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n                item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                item.DuocHuongBHYT = true;\n            }\n        }\n\n        this.setGiaBHYT();\n\n        this.setDataForDichVuKhac();\n        this.refreshGrid();\n    }\n\n    removeBHYTForGridChiDinhDichVu() {\n        //kham benh\n        // for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.length; index++) {\n        //     const item = this.tiepNhanBenhNhan.YeuCauKhamBenhGrid[index];\n        //     if (item.DuocHuongBHYT == true && item.BHYTThanhToan != 0) {\n        //         item.BHYTThanhToan = 0;\n        //         item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n        //         item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n        //     }\n        // }\n\n        //dich vu ky thuat\n\n        //khac\n        for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n            const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n            if (item.Nhom == \"DỊCH VỤ KHÁM BỆNH\" && item.BHYTThanhToan != 0) {\n                item.BHYTThanhToan = 0;\n                item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n                item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                item.DuocHuongBHYT = false;\n            }\n        }\n\n        this.setDataForDichVuKhac();\n        this.setDataForDichVuKhamBenh();\n        this.refreshGrid();\n    }\n\n    removeDoiTuongMienGiamForGirdChiDinhDichVu() {\n\n        //kham benh\n        // for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.length; index++) {\n        //     const item = this.tiepNhanBenhNhan.YeuCauKhamBenhGrid[index];\n        //     if (item.SoTienMG != 0 && item.TLMG != 0) {\n        //         item.TLMG = 0\n        //         item.SoTienMG = 0;\n        //         item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n        //     }\n        // }\n\n        // //dich vu ky thuat\n        // for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKyThuatGrid.length; index++) {\n        //     const item = this.tiepNhanBenhNhan.YeuCauKyThuatGrid[index];\n        //     if (item.SoTienMG != 0 && item.TLMG != 0) {\n        //         item.TLMG = 0\n        //         item.SoTienMG = 0;\n        //         item.BnThanhToan = item.ThanhTien - item.SoTienMG;\n        //         //console.log(item.SoTienMG, item.BnThanhToan, item.BHYTThanhToan, item.ThanhTien );\n        //     }\n        // }\n        //khac\n        for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n            const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n            if (item.SoTienMG != 0 && item.TLMG != 0 && item.IsGoiCoChietKhau != true) {\n                item.TLMG = 0;\n                item.TLMGDisplay = \"0 %\";\n                item.SoTienMG = 0;\n                item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n            }\n        }\n\n        this.setDataForDichVuKhac();\n        //this.setDataForDichVuKhamBenh();\n        //this.setDataForDichVuKyThuat();\n        this.refreshGrid();\n    }\n\n    addDoiTuongMienGiamForGridChiDinhDichVu() {\n        //khac\n        for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n            const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n            if (item.IsGoiCoChietKhau != true) {\n                let url: string;\n                if (item.Nhom == 'DỊCH VỤ KHÁM BỆNH') {\n                    url = \"TiepNhanBenhNhan/GetTyLeMienGiamKhamBenh/\";\n                }\n                else if (item.Nhom == 'DỊCH VỤ KỸ THUẬT') {\n                    url = \"TiepNhanBenhNhan/GetTyLeMienGiamKyThuat/\";\n                }\n                if (url != undefined) {\n                    this.apiService.post<number>(url + \"?doiTuongId=\"\n                        + this.tiepNhanBenhNhan.DoiTuongUuDaiId + \"&maDichVuId=\" + item.MaDichVuId).subscribe(\n                            resultData => {\n                                if (resultData != undefined && resultData != null && resultData != 0) {\n                                    item.TLMG = resultData;\n                                    item.TLMGDisplay = resultData + \" %\";\n                                    item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * resultData / 100;\n                                    item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                                }\n                                else {\n                                    item.TLMG = 0;\n                                    item.TLMGDisplay = \"0 %\";\n                                    item.SoTienMG = 0;\n                                    item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                                }\n\n                                this.setDataForDichVuKhac();\n                                this.refreshGrid();\n                            },\n                            () => {\n                            });\n                }\n\n            }\n        }\n\n    }\n\n    setDuocHuongBHYT(CoBHYT: boolean = false, LyDoVaoVien: number = 1) {\n        let dateNow = new Date((new Date()).toDateString());\n        // console.log(\"setDuocHuongBHYT = \", CoBHYT, LyDoVaoVien\n        // , this.tiepNhanBenhNhan.BHYTNgayHieuLuc, this.tiepNhanBenhNhan.BHYTNgayHieuLuc < dateNow, this.tiepNhanBenhNhan.BHYTNgayHetHan);\n        //console.log(\"setDuocHuongBHYT = \", this.tiepNhanBenhNhan.BHYTNgayHetHan >= dateNow, this.tiepNhanBe nhNhan.BHYTNgayHetHan, dateNow.getDate)\n\n        // dùng để kiểm tra hạn dùng của thẻ BHYT\n        let compareDate = false;\n        if (this.tiepNhanBenhNhan.BHYTNgayHetHan != undefined && this.tiepNhanBenhNhan.BHYTNgayHetHan != null) {\n            let now = new Date();\n            let ngay = now.getDate();\n            let thang = now.getMonth();\n            let nam = now.getFullYear();\n            let dateNowFormat = new Date(nam, thang, ngay);\n\n            let ngayDenHanTheBHYTTemp = this.tiepNhanBenhNhan.BHYTNgayHetHan;\n            var type = typeof ngayDenHanTheBHYTTemp;\n            if (type == \"string\") {\n                ngayDenHanTheBHYTTemp = new Date(this.tiepNhanBenhNhan.BHYTNgayHetHan,);\n            }\n\n            let ngayDenHanTheBHYT = ngayDenHanTheBHYTTemp.getDate();\n            let thangDenHanTheBHYT = ngayDenHanTheBHYTTemp.getMonth();\n            let namDenHanTheBHYT = ngayDenHanTheBHYTTemp.getFullYear();\n            let ngayDenHanTheBHYTFormat = new Date(namDenHanTheBHYT, thangDenHanTheBHYT, ngayDenHanTheBHYT);\n\n            compareDate = ngayDenHanTheBHYTFormat >= dateNowFormat;\n        }\n\n        if (CoBHYT && LyDoVaoVien == 1 && compareDate){ //&& this.tiepNhanBenhNhan.BHYTNgayHetHan >= dateNow) \n            this.themChiDinhDichVuModel.DuocHuongBHYT = true;\n            this.themChiDinhGoiModel.DuocHuongBHYT = true;\n\n            this.duocHuongBHYT = true;\n\n            this.themChiDinhDichVuModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n            this.themChiDinhGoiModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n\n            this.addBHYTForGridChiDinhDichVu();\n        }\n        else {\n            this.themChiDinhDichVuModel.DuocHuongBHYT = false;\n            this.themChiDinhGoiModel.DuocHuongBHYT = false;\n\n            this.duocHuongBHYT = false;\n\n            this.themChiDinhDichVuModel.BHYTMucHuong = null;\n            this.themChiDinhGoiModel.BHYTMucHuong = null;\n\n            this.removeBHYTForGridChiDinhDichVu();\n        }\n\n        if (!this.enableDuocHuongBHYT) {\n            this.themChiDinhDichVuModel.DuocHuongBHYT = false;\n            this.themChiDinhGoiModel.DuocHuongBHYT = false;\n        }\n        //console.log(\"setDuocHuongBHYT = \", this.duocHuongBHYT)\n    }\n\n    setDonGiaThanhTienGrid(item: ChiDinhDichVuGridVo) {\n        item.ThanhTien = item.DonGia * item.SoLuong;\n        //Chi tinh trong truong hop khong co bhyt\n        item.BnThanhToan = item.ThanhTien;\n    }\n\n    setGiaBHYT() {\n        //console.log(\"setGiaBHYT = \", this.tiepNhanBenhNhan.YeuCauKhacGrid);\n        //this.setGiaBHYTSoLanKham();\n        let soLanKham = 1;\n        let tyLeLan1 = 0;\n        let tyLeLan2 = 0;\n        let tyLeLan3 = 0;\n        let tyLeLan4 = 0;\n        let tyLeLan5 = 0;\n        ;\n        this.apiService.get<Array<number>>(\"TiepNhanBenhNhan/GetTyLeSoLanHuongBHYTDichVu\").subscribe(\n            resultData => {\n                if (resultData != null && resultData != undefined) {\n                    //console.log(\"setGiaBHYTSoLanKham = \", resultData, resultData[0],  resultData[1]);\n                    tyLeLan1 = resultData[0];\n                    tyLeLan2 = resultData[1];\n                    tyLeLan3 = resultData[2];\n                    tyLeLan4 = resultData[3];\n                    tyLeLan5 = resultData[4];\n                    //console.log(\"Trươc = \", this.tiepNhanBenhNhan.YeuCauKhacGrid);\n                    if (this.tiepNhanBenhNhan.YeuCauKhacGrid != null && this.tiepNhanBenhNhan.YeuCauKhacGrid != undefined) {\n                        for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n                            //console.log(\"Solan = \", soLanKham, \" , TyLe = \",tyLeLan1, tyLeLan2, tyLeLan3, tyLeLan4, tyLeLan5);\n                            const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n                            //console.log(\"index = \", item, soLanKham);\n                            this.setDonGiaThanhTienGrid(item);\n                            //\n                            if (item.DuocHuongBHYT == true && item.GiaBHYT != 0) {\n                                if (soLanKham == 1) {\n                                    item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100 * tyLeLan1 / 100;\n                                    soLanKham = soLanKham + 1;\n                                }\n                                else if (soLanKham == 2) {\n                                    item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100 * tyLeLan2 / 100;\n                                    soLanKham = soLanKham + 1;\n                                }\n                                else if (soLanKham == 3) {\n                                    item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100 * tyLeLan3 / 100;\n                                    soLanKham = soLanKham + 1;\n\n                                }\n                                else if (soLanKham == 4) {\n                                    item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100 * tyLeLan4 / 100;\n                                    soLanKham = soLanKham + 1;\n\n                                }\n                                else if (soLanKham == 5) {\n                                    item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100 * tyLeLan5 / 100;\n                                    soLanKham = soLanKham + 1;\n\n                                }\n                                else {\n                                    item.BHYTThanhToan = item.GiaBHYT * item.TiLeBaoHiemThanhToan / 100 * 0 / 100;\n                                    soLanKham = soLanKham + 1;\n\n                                }\n                                item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n                                item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                            }\n                        }\n                    }\n\n                    //this.setDataForDichVuKhac();\n                    //console.log(\"Sau = \", this.tiepNhanBenhNhan.YeuCauKhacGrid);\n                }\n                let bhytKhacKhamBenh = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n\n                if (bhytKhacKhamBenh != 0 && bhytKhacKhamBenh < this.soTienBHYTSeThanhToan) {\n                    for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n                        const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n                        if (item.DuocHuongBHYT == true && item.BHYTThanhToan != 0 && this.tiepNhanBenhNhan.BHYTMucHuong != null) {\n                            item.BHYTThanhToan = item.BHYTThanhToan;\n                            item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n                            item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                        }\n                    }\n                }\n                else if (bhytKhacKhamBenh != 0 && bhytKhacKhamBenh >= this.soTienBHYTSeThanhToan) {\n                    for (let index = 0; index < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; index++) {\n                        const item = this.tiepNhanBenhNhan.YeuCauKhacGrid[index];\n                        if (item.DuocHuongBHYT == true && item.BHYTThanhToan != 0 && this.tiepNhanBenhNhan.BHYTMucHuong != null) {\n                            item.BHYTThanhToan = item.BHYTThanhToan * this.tiepNhanBenhNhan.BHYTMucHuong / 100;\n                            item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n                            item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n                        }\n                    }\n\n                }\n                //console.log(\"tiepNhanBenhNhan.BHYTMucHuong = \", this.tiepNhanBenhNhan.BHYTMucHuong);\n                this.setDataForDichVuKhac();\n                this.refreshGrid();\n            }\n\n\n        )\n\n\n    }\n\n    setGiaBHYTSoLanKham() {\n\n\n    }\n\n    getListTenTrieuChungKham() {\n        this.apiService.get<Array<string>>(\"TiepNhanBenhNhan/GetListTenTrieuChungKhamAsync\").subscribe(\n            resultData => {\n                this.TrieuChungTiepNhanResource = resultData;\n                //this.getDefaultDataForLyDoTiepNhan();\n            }\n        )\n    }\n\n    getDefaultDataForLyDoTiepNhan() {\n        this.apiService.get<any>('TiepNhanBenhNhan/GetLyDoTiepNhanDefaultData').subscribe((result) => {\n            this.tiepNhanBenhNhan.LyDoTiepNhanId = result.Result.Id;\n            this.tiepNhanBenhNhan.LyDoTiepNhanText = result.Result.Ten;\n        })\n    }\n\n    getDefaultDataTNBN() {\n        this.apiService.get<DefaultValueTNBNModel>('TiepNhanBenhNhan/GetDefaultDataTNBN').subscribe((result) => {\n            if (result != undefined) {\n                if (result.DanTocId != 0 && result.DanTocId != null) {\n                    this.tiepNhanBenhNhan.DanTocId = result.DanTocId;\n                }\n                if (result.HinhThucDenId != 0 && result.HinhThucDenId != null) {\n                    this.tiepNhanBenhNhan.HinhThucDenId = result.HinhThucDenId;\n                }\n                if (result.LyDoTiepNhanId != 0 && result.LyDoTiepNhanId != null) {\n                    this.tiepNhanBenhNhan.LyDoTiepNhanId = result.LyDoTiepNhanId;\n                }\n                if (result.QuocTichId != 0 && result.QuocTichId != null) {\n                    this.tiepNhanBenhNhan.QuocTichId = result.QuocTichId;\n                }\n                if (result.TinhThanhPhoId != 0 && result.TinhThanhPhoId != null) {\n                    this.tiepNhanBenhNhan.TinhThanhId = result.TinhThanhPhoId;\n                }\n            }\n        })\n    }\n\n    // click(){\n    //     this.tiepNhanBenhNhan.LyDoTiepNhanId = 27\n    // }\n\n    refreshGrid() {\n\n        if (!(this.cdRef as ViewRef).destroyed) {\n            this.cdRef.detectChanges();\n        }\n\n        if (this.gridChildKhamBenh != undefined) {\n            this.gridChildKhamBenh.setDataSource();\n        }\n\n        if (this.gridChildBHTN != undefined) {\n            this.gridChildBHTN.setDataSource();\n        }\n\n        if (this.gridChildCoChietKhau != undefined) {\n            this.gridChildCoChietKhau.setDataSource();\n        }\n\n        //console.log(\"grid ko chiet khau \", this.gridChildKhongChietKhau)\n\n        if (this.gridChildKhongChietKhau != undefined) {\n            this.gridChildKhongChietKhau.setDataSource();\n        }\n\n        if (this.gridChildKyThuat != undefined) {\n            this.gridChildKyThuat.setDataSource();\n        }\n\n        if (this.gridTaiLieuDinhKem != undefined) {\n            this.gridTaiLieuDinhKem.setDataSource();\n        }\n    }\n\n    setDefaultData() {\n        this.isDungTuyenDisplay = null;\n        this.isDungTuyen = false;\n        this.isSearchQRCodeEnable = true;\n        this.soTuoiDisplay = null;\n        this.hoTenDaTimKiem = null;\n        this.maSoTheDaTimKiem = null;\n        this.ngaySinhDaTimKiem = null;\n        this.soPhanTramHuongBHYT = null;\n\n        this.totalBenhNhan = 0;\n        this.lstBenhNhan = new Array<TimKiemBenhNhanGridVo>();\n        this.modelTimKiemBenhNhan = new TimKiemBenhNhanGridVo();\n\n        this.isOutOfDate = false;\n    }\n    ngAfterContentInit() {\n        var self = this;\n    }\n\n    changeQR($event) {\n        if ($event != null) {\n            this.modelQRCode = $event;\n\n            this.setValueBHYT(this.modelQRCode);\n        }\n        else {\n        }\n        this.isScanF1 = false;\n\n        //console.log(\"changeQR = \", $event);\n    }\n\n    checkOutOfDateBHYT(date: Date) {\n        //console.log(\"checkOutOfDateBHYT \");\n        let dateNow = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate());\n        if (date.getTime() < dateNow.getTime()) {\n            this.isActivePopup = true;\n            this.isOutOfDate = true;\n            this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.HetHieuLuc;\n            //this.notificationService.showError(\"Thẻ bảo hiểm này đã hết hiệu lực, bạn phải chuyển qua khám nhân dân\");\n\n            let dialogRef = this.dialog.open(TiepNhanBenhNhanPopupHetHieuLucComponent, {\n                disableClose: true,\n                width: '700px',\n                height: '300px',\n                data: this.tiepNhanBenhNhan,\n            });\n            dialogRef.afterClosed().subscribe(result => {\n                //console.log(\"close = \", result);\n                //this.clearData();\n                this.isActivePopup = false;\n                if (result == 1) {\n                    this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.HetHieuLuc;\n                    this.clearData();\n                }\n                else if (result == 2) {\n                    this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                    this.tiepNhanBenhNhan.CoBHYT = true;\n                    this.tiepNhanBenhNhan.TuNhap = true;\n                }\n                else {\n                    this.tiepNhanBenhNhan.CoBHYT = false;\n                    this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.HetHieuLuc;\n                }\n\n            });\n\n        }\n        else {\n            this.isOutOfDate = false;\n            this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.ConHieuLuc;\n\n        }\n        this.tiepNhanBenhNhan.isOutOfDate = this.isOutOfDate;\n        //console.log(date, dateNow);\n        //console.log(\"checkOutOfDateBHYT = \", date.getTime(), \" ---- \",  dateNow.getTime(), \" ---- \", this.isOutOfDate)\n    }\n    setDiaChiBHYTForModel(diaChi: string) {\n        let self = this;\n        var coDiaChi = self.kiemTraDiaChiDaCo(); // BVHD-3768\n        var coDiaChiGiamHo = self.kiemTraDiaChiDaCo(true); // BVHD-3768\n\n        if ((diaChi == undefined || diaChi == null || diaChi == '')) // && !coDiaChi) {\n        {\n            if (!coDiaChi) {\n                this.tiepNhanBenhNhan.TinhThanhId = null;\n                this.tiepNhanBenhNhan.QuanHuyenId = null;\n                this.tiepNhanBenhNhan.PhuongXaId = null;\n                this.tiepNhanBenhNhan.DiaChi = null;\n            }\n            return;\n        }\n        let lstDiaChi = diaChi.split(\",\");\n        if ((lstDiaChi.length < 3))// && !coDiaChi) {\n        {\n            if (!coDiaChi) {\n                this.tiepNhanBenhNhan.TinhThanhId = null;\n                this.tiepNhanBenhNhan.QuanHuyenId = null;\n                this.tiepNhanBenhNhan.PhuongXaId = null;\n                this.tiepNhanBenhNhan.DiaChi = null;\n            }\n            return;\n        }\n        let tinhThanhPho = lstDiaChi[lstDiaChi.length - 1].trim();\n        let quanHuyen = lstDiaChi[lstDiaChi.length - 2].trim();\n        let phuongXa = lstDiaChi[lstDiaChi.length - 3].trim();\n        let soNha = null;\n        if (lstDiaChi.length >= 4) {\n            let index = diaChi.indexOf(lstDiaChi[lstDiaChi.length - 3]);\n            soNha = diaChi.slice(0, index - 1);\n        }\n        let model = new DiaChiBHYT();\n        model.TinhThanh = tinhThanhPho;\n        model.QuanHuyen = quanHuyen;\n        model.PhuongXa = phuongXa;\n\n        this.apiService.post<DiaChiBHYT>(\"TiepNhanBenhNhan/GetDiaChiBHYT\", model).subscribe(\n            resultData => {\n                //console.log(\"DiaChiBHYT = \", resultData);\n                if(!coDiaChi)\n                {\n                    this.tiepNhanBenhNhan.TinhThanhId = null;\n                    this.tiepNhanBenhNhan.QuanHuyenId = null;\n                    this.tiepNhanBenhNhan.PhuongXaId = null;\n                    this.tiepNhanBenhNhan.DiaChi = null;\n                }\n                \n                var self = this;\n                setTimeout(function () {\n                    if (!coDiaChi) {\n                        self.tiepNhanBenhNhan.TinhThanhId = resultData.TinhThanhId;\n                        self.tiepNhanBenhNhan.QuanHuyenId = resultData.QuanHuyenId;\n                        self.tiepNhanBenhNhan.PhuongXaId = resultData.PhuongXaId;\n                        self.tiepNhanBenhNhan.DiaChi = soNha;\n                    }\n\n                    if (self.under6yearsold && !coDiaChiGiamHo) {\n                        self.cloneDiaChiNguoiGiamHo();\n                    }\n                }, 600);\n\n                //this.comboboxPhuongXa;\n                // if(this.comboboxPhuongXa != null && this.comboboxPhuongXa != undefined){\n                //     this.comboboxPhuongXa.queryInfo.ParameterDependencies = \"{tinhThanh:\"+ resultData.QuanHuyenId +\"}\";\n                // }\n                // if(this.comboboxQuanHuyen != null && this.comboboxQuanHuyen != undefined){\n                //     this.comboboxQuanHuyen.queryInfo.ParameterDependencies = \"{quanHuyen:\"+ resultData.TinhThanhId +\"}\";\n                // }\n                // this.comboboxPhuongXa.getDataForLookup();\n                // this.comboboxQuanHuyen.getDataForLookup();\n            },\n            () => {\n                //return null;\n                //console.log(\"error\")\n            });\n\n    }\n\n    kiemTraDiaChiDaCo(laGiamHo: boolean = false)\n    {\n        if(laGiamHo)\n        {\n            return this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId || this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId || this.tiepNhanBenhNhan.NguoiLienHePhuongXaId || this.tiepNhanBenhNhan.NguoiLienHeDiaChi;\n        }\n        else{\n            return this.tiepNhanBenhNhan.TinhThanhId || this.tiepNhanBenhNhan.QuanHuyenId || this.tiepNhanBenhNhan.PhuongXaId || this.tiepNhanBenhNhan.DiaChi;\n        }\n    }\n\n    setValueBHYT(model: BaoHiemYTe) {\n        //console.log(\"setValueBHYT = \", model, this.isSetValue);\n        if (model != null && model.maSoBHXH == null && this.isSetValue == false && model != undefined || this.isActivePopup == true) return;\n\n        this.isSetValue = true;\n\n        let STT = 1;\n        this.lichSuKCB = new Array<GridLichSuKCB>();\n        if (model.dsLichSuKCB2018 != null && model.dsLichSuKCB2018 != undefined) {\n            model.dsLichSuKCB2018.forEach(element => {\n                let childModel = new GridLichSuKCB();\n                childModel.STT = STT;\n                childModel.MaTheBHYT = model.maThe;\n                childModel.HoVaTen = model.hoTen;\n                childModel.NgayVaoVien = element.ngayVaoDisplay;\n                childModel.NgayRaVien = element.ngayRaDisplay;\n\n                childModel.CoSoKCB = element.coSoKCB;\n                childModel.MaCoSoKCB = element.maCSKCB;\n\n                childModel.KetQuaDieuTri = element.kqDieuTriDisplay;\n                childModel.KetQuaDieuTriNumber = +element.kqDieuTri;\n\n                childModel.LyDoVaoVien = element.lyDoVVDisplay;\n                childModel.LyDoVaoVienNumber = +element.lyDoVV;\n\n                childModel.TinhTrangRaVien = element.tinhTrangDisplay;\n                childModel.TinhTrangRaVienNumber = +element.tinhTrang;\n\n                childModel.NgayVaoDateTime = element.ngayVaoDateTime;\n                childModel.NgayRaDateTime = element.ngayRaDateTime;\n                this.lichSuKCB.push(childModel);\n                STT = STT + 1;\n            });\n            this.tiepNhanBenhNhan.GridLichSuKCB = this.lichSuKCB;\n        }\n\n        //\n        let STT2 = 1;\n        this.lichSuKiemTraTheBHYTGrid = new Array<GridLichSuKiemTraTheBHYT>();\n        if (model.dsLichSuKT2018 != null && model.dsLichSuKT2018 != undefined) {\n            model.dsLichSuKT2018.forEach(element => {\n                let childModel = new GridLichSuKiemTraTheBHYT();\n                childModel.STT = STT2;\n                childModel.UserKiemTra = element.userKT;\n                childModel.ThoiGianKiemTra = element.thoiGianKTDisplay;\n                childModel.thoiGianKTDateTime = element.thoiGianKTDateTime;\n\n                childModel.TenCSKCB = element.tenCSKCB;\n                childModel.MaCSKCB = element.maCSKCB;\n\n                childModel.NoiDungThongBao = element.thongBao;\n\n                this.lichSuKiemTraTheBHYTGrid.push(childModel);\n                STT2 = STT2 + 1;\n            });\n            this.tiepNhanBenhNhan.GridLichSuKiemTraTheBHYT = this.lichSuKiemTraTheBHYTGrid;\n        }\n\n\n        //console.log(\"setValueBHYT = \", model)\n        this.tiepNhanBenhNhan.BHYTMaSoThe = model.maThe;\n\n        //set muc do huong quyen loi bao hiem\n        let maTheArray = model.maThe.split(\"\");\n        if (maTheArray[2] == '1') {\n            this.soPhanTramHuongBHYT = 100;\n        }\n        else if (maTheArray[2] == '2') {\n            this.soPhanTramHuongBHYT = 100;\n        }\n        else if (maTheArray[2] == '3') {\n            this.soPhanTramHuongBHYT = 95;\n        }\n        else if (maTheArray[2] == '4') {\n            this.soPhanTramHuongBHYT = 80;\n        }\n        else {\n            this.soPhanTramHuongBHYT = 100;\n        }\n        this.tiepNhanBenhNhan.BHYTMucHuong = this.soPhanTramHuongBHYT;\n        this.themChiDinhDichVuModel.BHYTMucHuong = this.soPhanTramHuongBHYT;\n        this.themChiDinhGoiModel.BHYTMucHuong = this.soPhanTramHuongBHYT;\n\n        //\n\n        this.tiepNhanBenhNhan.HoTen = model.hoTen;\n\n        if (model.ngaySinh.indexOf(\"/\") == -1) {\n            this.tiepNhanBenhNhan.NamSinh = +model.ngaySinh;\n        }\n        else {\n            var dateParts = model.ngaySinh.split(\"/\");\n            if(dateParts.length == 3)\n            {\n                this.tiepNhanBenhNhan.NgayThangNamSinh = new Date(+dateParts[2], +dateParts[1] - 1, +dateParts[0]);\n                this.tiepNhanBenhNhan.NamSinh = this.tiepNhanBenhNhan.NgayThangNamSinh.getFullYear();\n                this.tiepNhanBenhNhan.NgayThangNamSinhDisplay = model.ngaySinh;\n            }\n        }\n\n        this.tiepNhanBenhNhan.GioiTinh = model.gioiTinh == 'Nam' ? GioiTinh.Nam : GioiTinh.Nu;\n        this.tiepNhanBenhNhan.GioiTinhDisplay = model.gioiTinh;\n\n\n        //this.tiepNhanBenhNhan.NoiDangKyBHYT = this.getBenhVienByMa(model.maDKBD);\n\n        this.apiService.post<string>(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + model.maDKBD).subscribe(\n            resultData => {\n                this.tiepNhanBenhNhan.NoiDangKyBHYT = resultData;\n\n            },\n            () => {\n                //return null;\n                //console.log(\"error\")\n            });\n\n        // this.apiService.post<any>(\"TiepNhanBenhNhan/GetThongTinTaiKhoanBenhNhan?maSoBHYT=\" + model.maThe).subscribe(\n        //     resultData => {\n        //         this.thongTinTaiKhoanBenhNhan = resultData;\n\n        //     },\n        //     () => {\n        //         //return null;\n        //         //console.log(\"error\")\n        //     });\n\n\n        this.checkTNBNToDay(model.maThe);\n\n        this.apiService.post<any>(\"TiepNhanBenhNhan/GetThongTinBenhNhan?maSoBHYT=\" + model.maThe + \"&benhNhanId=\"+ this.benhNhanId).subscribe(\n            resultData => {\n                if (resultData != null) {\n                    //this.tiepNhanBenhNhan.DiaChi = resultData.DiaChi; //BVHD-3768\n                    this.tiepNhanBenhNhan.SoDienThoai = resultData.SoDienThoai;\n                    this.tiepNhanBenhNhan.SoChungMinhThu = resultData.SoChungMinhThu;\n                    this.tiepNhanBenhNhan.Email = resultData.Email;\n                    this.tiepNhanBenhNhan.NgheNghiepId = resultData.NgheNghiepId;\n                    this.tiepNhanBenhNhan.SoDienThoai = resultData.SoDienThoai;\n                    this.tiepNhanBenhNhan.GioiTinh = resultData.GioiTinh;\n                    this.tiepNhanBenhNhan.NoiLamViec = resultData.NoiLamViec;\n                    this.tiepNhanBenhNhan.QuocTichId = resultData.QuocTichId;\n                }\n            },\n            () => {\n                //return null;\n                //console.log(\"error\")\n            });\n\n        this.apiService.post<any>(\"TiepNhanBenhNhan/GetIdBenhNhan?maSoBHYT=\" + model.maThe + \"&benhNhanId=\"+ this.benhNhanId).subscribe(\n            resultData => {\n                if(resultData)\n                {\n                    this.benhNhanId = resultData;\n                    this.getDanhSachGoiBenhNhan(this.benhNhanId);\n                }\n            },\n            () => {\n                //return null;\n                //console.log(\"error\")\n            });\n\n        this.tiepNhanBenhNhan.BHYTDiaChi = model.diaChi;\n        this.setDiaChiBHYTForModel(model.diaChi);\n\n        //popup\n        this.tiepNhanBenhNhan.MaDKBD = model.maDKBD;\n        this.tiepNhanBenhNhan.BHYTMaDKBD = model.maDKBD;\n\n\n        this.tiepNhanBenhNhan.NgayCoHieuLucDisplay = model.gtTheTu;\n        var dateParts2 = model.gtTheTu.split(\"/\");\n        this.tiepNhanBenhNhan.BHYTNgayHieuLuc = new Date(+dateParts2[2], +dateParts2[1] - 1, +dateParts2[0]);\n\n        if (model.gtTheDen != undefined && model.gtTheDen != null) {\n            this.tiepNhanBenhNhan.NgayHetHieuLucDisplay = model.gtTheDen;\n            var dateParts3 = model.gtTheDen.split(\"/\");\n            this.tiepNhanBenhNhan.BHYTNgayHetHan = new Date(+dateParts3[2], +dateParts3[1] - 1, +dateParts3[0]);\n        }\n\n\n        this.tiepNhanBenhNhan.NgayDu5NamDisplay = model.ngayDu5Nam;\n        this.tiepNhanBenhNhan.DiaChiDisplay = model.diaChi;\n        this.tiepNhanBenhNhan.cqBHXH = model.cqBHXH;\n        this.tiepNhanBenhNhan.BHYTCoQuanBHXH = model.cqBHXH;\n\n        if (model.ngayDu5Nam != null && model.ngayDu5Nam != undefined && model.ngayDu5Nam != \"\") {\n            var dateParts4 = model.ngayDu5Nam.split(\"/\");\n            this.tiepNhanBenhNhan.BHYTNgayDu5Nam = new Date(+dateParts4[2], +dateParts4[1] - 1, +dateParts4[0]);\n        }\n        //\n        this.apiService.post<any>(\"TiepNhanBenhNhan/IsDungTuyen?maBenhVien=\" + model.maDKBD).subscribe(\n            resultData => {\n                //console.log(\"IsDungTuyen\",resultData)\n                if (resultData == true) {\n                    this.isDungTuyenDisplay = \"Đúng tuyến\";\n                    this.isDungTuyen = true;\n                    this.tiepNhanBenhNhan.LyDoVaoVien = 1;\n                }\n                else {\n                    this.isDungTuyenDisplay = \"Đúng tuyến\";\n                    this.isDungTuyen = true;\n                    this.tiepNhanBenhNhan.LyDoVaoVien = 1;\n                }\n                this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n            },\n            () => {\n                //console.log(\"error\")\n            });\n\n        //\n        //test\n        //model.isConnectSuccessfully = false;\n        //\n        if (model.isConnectSuccessfully == false) {\n            //console.log(\"model.isConnectSuccessfully\");\n            this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n            this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n\n            let dialogRef = this.dialog.open(TiepNhanBenhNhanPopupKhongKiemTraDuocComponent, {\n                disableClose: true,\n                width: '700px',\n                height: '300px',\n                data: this.tiepNhanBenhNhan,\n            });\n            dialogRef.afterClosed().subscribe(result => {\n                //console.log(\"TiepNhanBenhNhanPopupKhongKiemTraDuocComponent = \",result);\n                if (result == true) {\n                    this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                    this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                    this.tiepNhanBenhNhan.CoBHYT = true;\n                    this.tiepNhanBenhNhan.TuNhap = true;\n                }\n                else if (result == false) {\n                    this.tiepNhanBenhNhan.CoBHYT = false;\n                    this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                    this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                }\n                else if (result != undefined) {\n                    //console.log(\"------- \", result);\n                    this.setValueBHYT(result);\n                }\n            });\n\n        }\n        else {\n            this.tiepNhanBenhNhan.IsCheckedBHYT = true;\n            this.checkOutOfDateBHYT(this.tiepNhanBenhNhan.BHYTNgayHetHan);\n        }\n\n        //Get tuoi\n        this.getAge(this.tiepNhanBenhNhan.NgayThangNamSinh, new Date);\n\n        //disable search qr code\n        this.isSearchQRCodeEnable = false;\n\n        //set value da tim kiem\n        this.hoTenDaTimKiem = model.hoTen;\n        this.maSoTheDaTimKiem = model.maThe;\n        this.ngaySinhDaTimKiem = this.tiepNhanBenhNhan.NgayThangNamSinh\n        //\n\n        //console.log(\"setValueBHYT = \", this.tiepNhanBenhNhan)\n        this.isSetValue = false;\n    }\n    uploadFileDone(tapTin: any) {\n        //console.log(tapTin);\n        this.tiepNhanBenhNhan.GiayChuyenVien = tapTin;\n        if (!(this.cdRef as ViewRef).destroyed) {\n            this.cdRef.detectChanges();\n        }\n        //console.log(\"aaaaa= \", this.tiepNhanBenhNhan)\n    }\n\n    uploadFileMienCungChiTraDone(tapTin: any) {\n        //console.log(tapTin);\n        this.tiepNhanBenhNhan.BHYTGiayMienCungChiTra = tapTin;\n        this.cdRef.detectChanges();\n        //console.log(\"aaaaa= \", this.tiepNhanBenhNhan)\n    }\n\n    luuVaInPhieu() {\n        var self = this;\n        self.validationErrors = null;\n        let comfrim = \"lưu và in phiếu khám bệnh cho người bệnh\";\n        this.tiepNhanBenhNhan.NoiGioiThieu = null;\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Add)) {\n\n            if (this.isActiveAction != null) {\n                this.dialog.closeAll();\n                this.isActiveAction = null;\n            }\n\n            this.isActiveAction = this.dialog.open(ConfirmComponent, {\n                disableClose: false,\n                width: '400px',\n                data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessLockTemplate, [comfrim, \"\"]) }\n            }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n                if (result == \"Yes\") {\n                    this.tiepNhanBenhNhan.ThoiGianTiepNhan = new Date();\n                    self.apiService.post<any>(\"TiepNhanBenhNhan/LuuPhieuKham\", this.tiepNhanBenhNhan).subscribe(\n                        resultData => {\n                            self.loading = false;\n                            //console.log(\"result\", resultData)\n                            //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                            //this.getSharedPrintForm(resultData);\n                            let loaiDichVuKyThuat = 4;\n                            let loaiDichVuKhamBenh = 3;\n                            let kiemtraLoaiDichVuKhamBenh = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(x => x.LoaiDichVuKhac == loaiDichVuKhamBenh).length;\n                            let kiemtraLoaiDichVuKyThuat = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(x => x.LoaiDichVuKhac == loaiDichVuKyThuat).length;\n                            if (kiemtraLoaiDichVuKhamBenh > 0 && kiemtraLoaiDichVuKyThuat > 0) {\n                                this.getSharePrintPopup(resultData);\n                            }\n                            else {\n                                this.getSharedPrintForm(resultData);\n                            }\n                            this.idYeuCauTiepNhan = resultData;\n                            //confirm\n                            this.dialog.open(ConfirmComponent, {\n                                disableClose: false,\n                                width: '400px',\n                                data: { Title: \"Xác nhận\", Message: TiepNhanBenhNhanMessage.MessageDangKyTiepTheo }\n                            }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n                                if (result == \"Yes\") {\n                                    //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                                    //kiểm tra dịch vu trong yêu cầu tiếp nhận đó sài gói marketing trong gói\n                                    this.kiemTraDichVuTrongGoi();\n                                }\n                                else {\n                                    this.router.navigateByUrl('/', { skipLocationChange: true }).then(() =>\n                                        this.router.navigate(['them-yeu-cau-tiep-nhan']));\n                                    self.ngOnInit();\n                                }\n                            });\n\n                        },\n                        (err: any) => {\n                            //console.log(\"err\", err)\n                            // trường hợp bhyt chưa đóng là không cho tạo mới \n                            self.loading = false;\n                            if (err != undefined && err.Status == 503) {\n                                this.dialog.open(ConfirmComponent, {\n                                    disableClose: false,\n                                    width: '400px',\n                                    data: { Title: \"Xác nhận\", Message: TiepNhanBenhNhanMessage.MessageDaTaoYCTN }\n                                }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n                                    if (result == \"Yes\") {\n                                        //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                                        //self.router.navigateByUrl('tiep-nhan-trong-ngay/chinh-sua/' + );\n                                        this.checkTNBNToDay(this.tiepNhanBenhNhan.BHYTMaSoThe, this.tiepNhanBenhNhan.BenhNhanId);\n                                        this.getDanhSachGoiBenhNhan(this.tiepNhanBenhNhan.BenhNhanId);\n                                    }\n                                    else {\n                                    }\n                                });\n                            }\n                            else {\n                                if (err != undefined && err.ValidationErrors != null) {\n                                    let itemGiamHoValidate = err.ValidationErrors.find(p => p.Field == \"NguoiLienHeHoTen\"\n                                        || p.Field == \"NguoiLienHeQuanHeNhanThanId\" || p.Field == \"NguoiLienHeSoDienThoai\");\n                                    if (itemGiamHoValidate != null && itemGiamHoValidate != undefined) {\n                                        self.tabStrip.selectTab(2);;\n                                    }\n\n                                    self.validationErrors = err.ValidationErrors;\n                                }\n                                else if (err != undefined && err.Errors == null) {\n                                    //self.validationErrors.push({ \"Message\": err.Message });\n                                    self.notificationService.showError(err.Message);\n                                }\n                            }\n                        });\n\n\n\n                    //\n                }\n                else\n                {\n                    self.loading = false;\n                }\n            });\n        }\n        else\n        {\n            self.loading = false;\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    kiemTraDichVuTrongGoi() {        \n        this.apiService.get<any>(\"TiepNhanBenhNhan/KiemTraTatCaDichVuTrongGoi/\" + this.idYeuCauTiepNhan).subscribe(resultData => {            \n            if (resultData.Item1) {\n                this.router.navigateByUrl('/danh-sach-thu-goi-marketing/chi-tiet-cho-quyet-toan-marketing/' +  resultData.Item2);              \n            } else {\n                this.router.navigateByUrl('danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/' + this.idYeuCauTiepNhan + \"?loaiThanhToan=\" + 1 + \"&yctn=true\");\n            }\n        });\n    }\n\n\n    // testin(){\n    //   console.log(\"testin\");\n    //   this.onPrintPDF(60);\n    // }\n    // getSharedPrintForm(id: any) {\n    //   return new Promise(resolve => {\n    //     this.apiService.get<any>(\"TiepNhanBenhNhan/InPhieuKhamBenh?id=\" + id + \"&hostingName=\" + this.hostingName).subscribe(resultData => {\n    //       resolve(resultData);\n    //     });\n    //   });\n    // }\n    getSharePrintPopup(id: any) {\n        this.apiService.get<any>(\"TiepNhanBenhNhan/InPhieuKhamBenh?id=\" + id + \"&hostingName=\" + this.hostingName).subscribe(resultData => {\n            let dialogRef = this.dialog.open(InPhieuDangKyKhamTiepNhanBenhNhanPopupComponent, {\n                width: '1000px',\n                height: 'auto',\n                data: { Model: resultData }\n            }).afterClosed().subscribe(result => {\n            });\n        });\n    }\n    getSharedPrintForm(id: any) {\n        this.apiService.get<any>(\"TiepNhanBenhNhan/InPhieuKhamBenh?id=\" + id + \"&hostingName=\" + this.hostingName).subscribe(resultData => {\n            //var self = this;\n            //console.log(\"onPrintPDF = \", resultData);\n\n            const tmpPhieuKham =\n                '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU ĐĂNG KÝ KHÁM</th></tr></table>';\n            const tmpPhieuCLS =\n                '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH CẬN LÂM SÀNG</th></tr></table>';\n\n            const tmpPhieuXNCoVId =\n                '<table id=\\'showHeader\\' style=\\'width: 100%; height: 40px; background: #005dab;color:#fff;\\'> <tr><th rowspan = \\'3\\' style = \\'font-size: 20px;\\'>PHIẾU CHỈ ĐỊNH XÉT NGHIỆM TEST NHANH KHÁNG NGUYÊN SARS-CoV-2 </th></tr></table>';\n  \n    \n            resultData = resultData.replaceAll(tmpPhieuKham, '').replaceAll(tmpPhieuCLS, '').replaceAll(tmpPhieuXNCoVId,'');\n            const WindowPrt = window.open('', '', 'toolbar=0,scrollbars=0,status=0');\n            if(WindowPrt != null  && WindowPrt != undefined)\n            {\n                WindowPrt.focus();\n                WindowPrt.close();\n                WindowPrt.document.write(resultData);\n                WindowPrt.document.close();\n    \n                var typeSize = \"A5\";\n                var typeLayout = \"landscape\";\n    \n                var contents = WindowPrt.document.documentElement.innerHTML;\n                var frame1 = this.renderer.createElement('iframe');\n                frame1.name = \"frame1\";\n                frame1.style.position = \"absolute\";\n                frame1.style.top = \"-1000000px\";\n                document.body.appendChild(frame1);\n                var frameDoc = frame1.contentWindow ? frame1.contentWindow : frame1.contentDocument.document ? frame1.contentDocument.document : frame1.contentDocument;\n                frameDoc.document.open();\n                frameDoc.document.write('<html><head><title>DIV Contents</title><style>*{ box-sizing: border-box;} @media print {@page{size:' + typeSize + ' ' + typeLayout + ' ;} .pagebreak {clear: both;page-break-after: always;}}</style><link href=\"https://fonts.googleapis.com/css?family=Libre Barcode 39\" rel=\"stylesheet\">');\n                frameDoc.document.write('</head><body>');\n                frameDoc.document.write(contents);\n                frameDoc.document.write('</body></html>');\n                frameDoc.document.close();\n                setTimeout(function () {\n                    window.frames[\"frame1\"].focus();\n                    window.frames[\"frame1\"].print();\n                    document.body.removeChild(frame1);\n                }, 500);\n            }\n        });\n\n\n    }\n\n\n    luuPhieu() {\n\n        var self = this;\n        self.validationErrors = null;\n        let comfrim = \"lưu phiếu khám bệnh cho người bệnh\";\n        if(self.tiepNhanBenhNhan.YeuCauKhacGrid == undefined || self.tiepNhanBenhNhan.YeuCauKhacGrid.length == 0)\n        {\n            comfrim = \"lưu thông tin cho người bệnh\";\n        }\n        self.tiepNhanBenhNhan.NoiGioiThieu = null;\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            if (this.isActiveAction != null) {\n                this.dialog.closeAll();\n                this.isActiveAction = null;\n            }\n            this.isActiveAction = this.dialog.open(ConfirmComponent, {\n                disableClose: false,\n                width: '400px',\n                data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessLockTemplate, [comfrim, \"\"]) }\n            }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n                if (result == \"Yes\") {\n                    self.tiepNhanBenhNhan.ThoiGianTiepNhan = new Date();\n                    self.apiService.post<any>(\"TiepNhanBenhNhan/LuuPhieuKham\", this.tiepNhanBenhNhan).subscribe(\n                        resultData => {\n                            self.loading = false;\n                            //console.log(\"result\", resultData)\n                            //self.router.navigate(['tiep-nhan-trong-ngay/']);\n\n                            // if(){\n\n                            // }\n                            this.idYeuCauTiepNhan = resultData;\n                            //confirm\n                            this.dialog.open(ConfirmComponent, {\n                                disableClose: false,\n                                width: '400px',\n                                data: { Title: \"Xác nhận\", Message: TiepNhanBenhNhanMessage.MessageDangKyTiepTheo }\n                            }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n                                if (result == \"Yes\") {\n                                    //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                                    // self.router.navigateByUrl('danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/' + this.idYeuCauTiepNhan + \"?loaiThanhToan=\" + 1 + \"&yctn=true\");\n                                    this.kiemTraDichVuTrongGoi();\n                                }\n                                else {\n                                    this.router.navigateByUrl('/', { skipLocationChange: true }).then(() =>\n                                        this.router.navigate(['them-yeu-cau-tiep-nhan']));\n                                    self.ngOnInit();\n                                }\n                            });\n\n                        },\n                        (err: any) => {\n                            self.loading = false;\n                            //console.log(\"err\", err)\n                            // self.validationErrors = err.ValidationErrors;\n                            if (err != undefined && err.Status == 503) {\n                                this.dialog.open(ConfirmComponent, {\n                                    disableClose: false,\n                                    width: '400px',\n                                    data: { Title: \"Xác nhận\", Message: TiepNhanBenhNhanMessage.MessageDaTaoYCTN }\n                                }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n                                    if (result == \"Yes\") {\n                                        //self.router.navigate(['tiep-nhan-trong-ngay/']);\n                                        //self.router.navigateByUrl('tiep-nhan-trong-ngay/chinh-sua/' + );\n                                        this.checkTNBNToDay(this.tiepNhanBenhNhan.BHYTMaSoThe, this.tiepNhanBenhNhan.BenhNhanId);\n                                        this.getDanhSachGoiBenhNhan(this.tiepNhanBenhNhan.BenhNhanId);\n                                    }\n                                    else {\n                                    }\n                                });\n                            }\n                            else {\n                                if (err != undefined && err.ValidationErrors != null) {\n                                    let itemGiamHoValidate = err.ValidationErrors.find(p => p.Field == \"NguoiLienHeHoTen\"\n                                        || p.Field == \"NguoiLienHeQuanHeNhanThanId\" || p.Field == \"NguoiLienHeSoDienThoai\");\n                                    if (itemGiamHoValidate != null && itemGiamHoValidate != undefined) {\n                                        self.tabStrip.selectTab(2);;\n                                    }\n\n                                    self.validationErrors = err.ValidationErrors;\n                                }\n                                else if (err != undefined && err.Errors == null) {\n                                    //self.validationErrors.push({ \"Message\": err.Message });\n                                    self.notificationService.showError(err.Message);\n                                }\n                            }\n                        });\n\n\n\n                    //\n                }\n                else{\n                    self.loading = false;\n                }\n            });\n        }\n        else{\n            self.loading = false;\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n    xemThemThongTinBHYT() {\n        //console.log(\"xemThemThongTinBHYT\")\n        let dialogRef = this.dialog.open(TiepNhanBenhNhanPopupComponent, {\n            disableClose: false,\n            width: '800px',\n            height: '500px',\n            data: this.tiepNhanBenhNhan,\n        });\n        dialogRef.afterClosed().subscribe(result => {\n\n        });\n    }\n\n    huy() {\n        //this.router.navigate(['tiep-nhan-trong-ngay/']);\n        this.ngOnInit();\n\n    }\n    getBenhVienByMa(ma: string) {\n        ;\n        this.apiService.post<string>(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + ma).subscribe(\n            resultData => {\n                return resultData;\n\n            },\n            () => {\n                //return null;\n                //console.log(\"error\")\n            });\n        return null;\n    }\n\n\n    inputQrCode(qrCode: string) {\n        this.apiService.post<any>(\"BHYT/GetInfoFromURL/?model=\" + qrCode).subscribe(\n            resultData => {\n                if (resultData != undefined) {\n                    this.modelQRCode = resultData;\n                    this.setValueBHYT(this.modelQRCode);\n                }\n            },\n            (err: ApiError) => {\n                //\n                let dialogRef = this.dialog.open(TiepNhanBenhNhanErrorComponent, {\n                    disableClose: false,\n                    width: '700px',\n                    height: '300px',\n                    data: this.tiepNhanBenhNhan,\n                });\n                dialogRef.afterClosed().subscribe(result => {\n                    document.getElementById(\"SoTheBHYTisAutoFocus\").focus();\n                    if (result == 2) {\n                        this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                        this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                        this.tiepNhanBenhNhan.CoBHYT = true;\n                        this.tiepNhanBenhNhan.TuNhap = true;\n                    }\n                    else if (result == 1) {\n                        this.tiepNhanBenhNhan.CoBHYT = false;\n                        this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                        this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                    }\n                    else if (result != undefined) {\n                        //console.log(\"------- \", result);\n                        this.setValueBHYT(result);\n                    }\n                });\n                //\n\n            });\n\n    }\n    postTimKiem: any = null;\n    timeOutTimKiem: any = null;\n    timKiemBenhNhan(model: TimKiemBenhNhanGridVo) {\n        var self = this;\n        if (self.timeOutTimKiem != null) {\n            clearTimeout(self.timeOutTimKiem);\n            self.timeOutTimKiem = null;\n        }\n        self.timeOutTimKiem = setTimeout(function () {\n            self.setModelTimKiemBenhNhan();\n            self.lstBenhNhan = new Array<TimKiemBenhNhanGridVo>();\n            self.totalBenhNhan = 0;\n            if (self.postTimKiem != null) {\n                self.postTimKiem.unsubscribe();\n                self.postTimKiem = null;\n            }\n            self.postTimKiem = self.apiService.post<Array<TimKiemBenhNhanGridVo>>(\"TiepNhanBenhNhan/GetBenhNhanTimKiem\", model).subscribe(\n                resultData => {\n                    //console.log(\"timKiemBenhNhan = \", resultData);\n                    self.lstBenhNhan = resultData;\n                    if (resultData != undefined && resultData != null) {\n                        self.totalBenhNhan = resultData.length;\n                        let index = 1;\n                        self.lstBenhNhan.forEach(obj => {\n                            obj.STT = index;\n                            index = index + 1;\n                        });\n                    }\n                    //console.log(\"timKiemBenhNhan = \", this.lstBenhNhan);\n                },\n                (err: ApiError) => {\n                });\n        }, 500);\n\n    }\n\n    postTimKiemForEnter: any = null;\n    timeOutTimKiemForEnter: any = null;\n    timKiemBenhNhanForEnter(model: TimKiemBenhNhanGridVo) {\n        var self = this;\n        if (self.timeOutTimKiemForEnter != null) {\n            clearTimeout(self.timeOutTimKiemForEnter);\n            self.timeOutTimKiemForEnter = null;\n        }\n        self.timeOutTimKiemForEnter = setTimeout(function () {\n            self.setModelTimKiemBenhNhan();\n            self.lstBenhNhan = new Array<TimKiemBenhNhanGridVo>();\n            self.totalBenhNhan = 0;\n            if (self.postTimKiemForEnter != null) {\n                self.postTimKiemForEnter.unsubscribe();\n                self.postTimKiemForEnter = null;\n            }\n            self.postTimKiemForEnter = self.apiService.post<Array<TimKiemBenhNhanGridVo>>(\"TiepNhanBenhNhan/GetBenhNhanTimKiem\", model).subscribe(\n                resultData => {\n                    self.lstBenhNhan = resultData;\n                    if (resultData != undefined && resultData != null) {\n                        self.totalBenhNhan = resultData.length;\n                        let index = 1;\n                        self.lstBenhNhan.forEach(obj => {\n                            obj.STT = index;\n                            index = index + 1;\n                        });\n\n                        //\n                        if (resultData.length == 1) {\n                            // self.router.navigate(['tiep-nhan-trong-ngay/chinh-sua/' + resultData[0].Id]);\n                            self.checkTNBNToDay(resultData[0].MaBHYT, resultData[0].Id);\n                        }\n                        else if (resultData.length > 1) {\n                            self.timKiemBenhNhanPopup();\n                        }\n                    }\n                    //console.log(\"timKiemBenhNhan = \", this.lstBenhNhan);\n                },\n                (err: ApiError) => {\n                });\n        }, 500);\n\n    }\n\n    setModelTimKiemBenhNhan() {\n        this.modelTimKiemBenhNhan.MaBHYT = this.tiepNhanBenhNhan.BHYTMaSoThe;\n        this.modelTimKiemBenhNhan.HoTen = this.tiepNhanBenhNhan.HoTen;\n        this.modelTimKiemBenhNhan.NgaySinhDisplay = this.tiepNhanBenhNhan.NgayThangNamSinhDisplay;\n        this.modelTimKiemBenhNhan.NamSinh = this.tiepNhanBenhNhan.NamSinh;\n        //this.modelTimKiemBenhNhan.GioiTinh = this.tiepNhanBenhNhan.GioiTinh;\n        this.modelTimKiemBenhNhan.SoChungMinhThu = this.tiepNhanBenhNhan.SoChungMinhThu;\n        this.modelTimKiemBenhNhan.SoDienThoai = this.tiepNhanBenhNhan.SoDienThoai;\n        this.modelTimKiemBenhNhan.DiaChi = this.tiepNhanBenhNhan.DiaChi;\n    }\n\n    onKeyTimKiemBenhNhan($event) {\n        if ($event.keyCode === 13) {\n\n            if (this.totalBenhNhan <= 0) {\n                return;\n            }\n            else {\n                this.timKiemBenhNhanPopup();\n            }\n        }\n        else {\n            this.timKiemBenhNhan(this.modelTimKiemBenhNhan);\n        }\n    }\n\n    onKeyTimKiemBenhNhanForLogicNewCMNDVaSdt($event) {\n        //console.log(\"onKeyTimKiemBenhNhanForLogicNewCMNDVaSdt = \", $event.keyCode);\n        if ($event.keyCode === 13) {\n            this.timKiemBenhNhanForEnter(this.modelTimKiemBenhNhan);\n        }\n        else {\n            this.timKiemBenhNhan(this.modelTimKiemBenhNhan);\n        }\n    }\n\n    onKeySdt($event) {\n        this.timKiemBenhNhan(this.modelTimKiemBenhNhan);\n    }\n\n    //cheat for tab on [BVHD-1506]\n    onKeyScanner(event) {\n        //console.log(\"onKeyScanner = \", event);\n        if (event.keyCode === 9) {\n            //console.log(this.HoVaTenTextbox);\n            this.HoVaTenTextbox.focus();\n        }\n    }\n\n    onKeyLookBN(event) {\n        if (event.keyCode === 9) {\n            if (this.tiepNhanBenhNhan.CoBHYT == true) {\n                //console.log(this.NgaySinhCoBHYT);\n                //this.NgaySinhCoBHYT.focusManual();\n            }\n            else {\n                //console.log(this.NgaySinhKhongCoBHYT);\n                //this.NgaySinhKhongCoBHYT.focusManual();\n            }\n        }\n    }\n\n    onKeyHinhThucDen(event) {\n        // if (event.keyCode === 9) {\n        //     this.tabStrip.selectTab(0);\n        //     let self = this;\n        //     setTimeout(function () {\n        //         //console.log(\"setTimeout = \", self.dichVuCombobox);\n        //         if (self.dichVuCombobox != undefined) {\n        //             self.dichVuCombobox.focusManual();\n        //         }\n        //     }, 100);\n        // }\n    }\n\n    onKey(event: any, isSoTheBHYT: boolean, loai: number = 1) {\n        if (isSoTheBHYT == true) {\n            this.bindMucHuongFromSoTheBHYT(this.tiepNhanBenhNhan.BHYTMaSoThe);\n        }\n        //console.log(\"onKey = \", event);\n        // if(loai == 1){\n        //     this.modelTimKiemBenhNhan.MaBHYT = this.tiepNhanBenhNhan.BHYTMaSoThe;\n        // }\n        // else if(loai == 2){\n        //     this.modelTimKiemBenhNhan.HoTen = this.tiepNhanBenhNhan.HoTen;\n        // }\n        // else if(loai == 3){\n        //     this.modelTimKiemBenhNhan.NgaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n        //     //console.log(\"-------------: \",this.tiepNhanBenhNhan.NgayThangNamSinh);\n        // }\n        if (event.keyCode === 13) {\n            if (loai == 3 && this.tiepNhanBenhNhan.NgayThangNamSinh != null && this.tiepNhanBenhNhan.NgayThangNamSinh != undefined) {\n                this.getAge(this.tiepNhanBenhNhan.NgayThangNamSinh, new Date);\n            }\n            this.checkTNBNToDay(this.tiepNhanBenhNhan.BHYTMaSoThe);\n        }\n\n        this.timKiemBenhNhan(this.modelTimKiemBenhNhan);\n        //console.log(\"onKey = \", this.isCheckedBHYT);\n        if (this.isCheckedBHYT == true || this.tiepNhanBenhNhan.CoBHYT != true) return;\n\n        if (this.tiepNhanBenhNhan.TuNhap == true && this.isScanF1 == false && !(this.tiepNhanBenhNhan.BHYTMaSoThe != null && this.tiepNhanBenhNhan.BHYTMaSoThe.includes(\"$\"))) return;\n\n        this.isCheckedBHYT = true;\n        let isQrCodeScan = false;\n        if (isSoTheBHYT == true && this.tiepNhanBenhNhan.BHYTMaSoThe != null\n            && this.tiepNhanBenhNhan.BHYTMaSoThe != null && this.tiepNhanBenhNhan.BHYTMaSoThe.includes(\"$\")) {\n            //console.log(\"successfully\");\n            this.inputQrCode(this.tiepNhanBenhNhan.BHYTMaSoThe);\n            isQrCodeScan = true;\n        }\n        if (this.isSearchQRCodeEnable == true && isQrCodeScan == false) {\n            //console.log(\"enter submit\");\n            if (event.keyCode === 13) {\n                this.thongTinBenhNhan.MaThe = this.tiepNhanBenhNhan.BHYTMaSoThe;\n                this.thongTinBenhNhan.TenBenhNhan = this.tiepNhanBenhNhan.HoTen;\n                this.thongTinBenhNhan.NgaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n                this.thongTinBenhNhan.NamSinh = this.tiepNhanBenhNhan.NamSinh;\n\n                var datePipe = new DatePipe(\"en-US\");\n                this.thongTinBenhNhan.NgaySinhDisplay = datePipe.transform(this.tiepNhanBenhNhan.NgayThangNamSinh, 'dd/MM/yyyy');\n\n                //console.log(\"---------: \", this.thongTinBenhNhan.MaThe == null, this.thongTinBenhNhan.MaThe == \"\" );\n                if (this.thongTinBenhNhan.MaThe != null && this.thongTinBenhNhan.MaThe != \"\"\n                    && this.thongTinBenhNhan.TenBenhNhan != null && this.thongTinBenhNhan.TenBenhNhan != \"\"\n                    && (this.thongTinBenhNhan.NgaySinh != null || this.thongTinBenhNhan.NamSinh != null)) {\n\n\n                    let dialogRef = this.dialog.open(TiepNhanBenhNhanChoQuetComponent, {\n                        disableClose: true,\n                        width: '500px',\n                        height: '250px',\n                        data: this.thongTinBenhNhan,\n                    });\n                    dialogRef.afterClosed().subscribe(result => {\n                        //console.log(\"close = \", result);\n\n                        //console.log(\"close = \", this.tiepNhanBenhNhan);\n                        if (result === undefined) {\n                            //cheat vi khong hieu sao ra duoc\n                        }\n                        // else if (result == null || (result != null && result.maKetQua == \"050\")) {\n                        else if (result == null || (result != null && result.maKetQua !== \"000\" && result.maKetQua !== \"004\")) {\n                            //this.clearData();\n                            //this.notificationService.showError(TiepNhanBenhNhanMessage.MessageSaiThongTinBenhNhan);\n                            //\n                            //console.log(\"TiepNhanBenhNhanErrorComponent = \", this.tiepNhanBenhNhan);\n                            this.tiepNhanBenhNhan.MessageErrFromBHYT = result != null ? result.ghiChu : null;\n                            let dialogRef = this.dialog.open(TiepNhanBenhNhanErrorComponent, {\n                                disableClose: false,\n                                width: '700px',\n                                height: '300px',\n                                data: this.tiepNhanBenhNhan,\n                            });\n                            dialogRef.afterClosed().subscribe(result => {\n                                //document.getElementById(\"SoTheBHYTisAutoFocus\").focus();\n                                this.isCheckedBHYT = false;\n                                if (result == 2) {\n                                    this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                                    this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                                    this.tiepNhanBenhNhan.CoBHYT = true;\n                                    this.tiepNhanBenhNhan.TuNhap = true;\n                                }\n                                else if (result == 1) {\n                                    this.tiepNhanBenhNhan.CoBHYT = false;\n                                    this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                                    this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                                }\n                                else if (result != undefined) {\n                                    //console.log(\"------- \", result);\n                                    this.setValueBHYT(result);\n                                }\n                            });\n                            //\n\n                        }\n                        else {\n                            //console.log(\"onkey = \",event, this.tiepNhanBenhNhan.BHYTMaSoThe)\n                            this.isCheckedBHYT = false;\n                            this.setValueBHYT(result);\n                        }\n                    });\n\n\n\n                }\n\n                else {\n                    this.isCheckedBHYT = false;\n                }\n                //console.log(this.tiepNhanBenhNhan.BHYTMaSoThe);\n            }\n            else {\n                this.isCheckedBHYT = false;\n            }\n        }\n        else {\n            this.isCheckedBHYT = false;\n        }\n    }\n\n    bindMucHuongFromSoTheBHYT(soTheBHYT: string) {\n        if (soTheBHYT != undefined && soTheBHYT != null && soTheBHYT.length >= 3) {\n            let maTheArray = soTheBHYT.split(\"\");\n            if (maTheArray[2] == '1') {\n                this.tiepNhanBenhNhan.BHYTMucHuong = 100;\n            }\n            else if (maTheArray[2] == '2') {\n                this.tiepNhanBenhNhan.BHYTMucHuong = 100;\n            }\n            else if (maTheArray[2] == '3') {\n                this.tiepNhanBenhNhan.BHYTMucHuong = 95;\n            }\n            else if (maTheArray[2] == '4') {\n                this.tiepNhanBenhNhan.BHYTMucHuong = 80;\n            }\n            else {\n                this.tiepNhanBenhNhan.BHYTMucHuong = 100;\n            }\n        }\n    }\n\n    blur($event: any, isSoTheBHYT: boolean, loai: number = 1) {\n        if (isSoTheBHYT == true && this.changeMaTheBHYT != true) {\n            return;\n        }\n\n        if (isSoTheBHYT == true) {\n            this.bindMucHuongFromSoTheBHYT(this.tiepNhanBenhNhan.BHYTMaSoThe);\n        }\n\n        this.checkTNBNToDay(this.tiepNhanBenhNhan.BHYTMaSoThe);\n\n        if (loai == 3 && this.tiepNhanBenhNhan.NgayThangNamSinh != null && this.tiepNhanBenhNhan.NgayThangNamSinh != undefined) {\n            this.getAge(this.tiepNhanBenhNhan.NgayThangNamSinh, new Date);\n        }\n        //console.log(\"blur = \", this.isCheckedBHYT);\n        if (this.isCheckedBHYT == true || this.tiepNhanBenhNhan.CoBHYT != true) return;\n\n        if (this.tiepNhanBenhNhan.TuNhap == true && this.isScanF1 == false && !(this.tiepNhanBenhNhan.BHYTMaSoThe != null && this.tiepNhanBenhNhan.BHYTMaSoThe.includes(\"$\"))) return;\n\n        this.isCheckedBHYT = true;\n        if (this.isSearchQRCodeEnable == true && !(this.tiepNhanBenhNhan.BHYTMaSoThe != null && this.tiepNhanBenhNhan.BHYTMaSoThe.includes(\"$\"))) {\n            this.thongTinBenhNhan.MaThe = this.tiepNhanBenhNhan.BHYTMaSoThe;\n            this.thongTinBenhNhan.TenBenhNhan = this.tiepNhanBenhNhan.HoTen;\n            this.thongTinBenhNhan.NgaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n            this.thongTinBenhNhan.NamSinh = this.tiepNhanBenhNhan.NamSinh;\n\n            var datePipe = new DatePipe(\"en-US\");\n            this.thongTinBenhNhan.NgaySinhDisplay = datePipe.transform(this.tiepNhanBenhNhan.NgayThangNamSinh, 'dd/MM/yyyy');\n\n            if (this.thongTinBenhNhan.MaThe != null && this.thongTinBenhNhan.MaThe != \"\"\n                && this.thongTinBenhNhan.TenBenhNhan != null && this.thongTinBenhNhan.TenBenhNhan != \"\"\n                && (this.thongTinBenhNhan.NgaySinh != null || this.thongTinBenhNhan.NamSinh != null)) {\n\n\n                let dialogRef = this.dialog.open(TiepNhanBenhNhanChoQuetComponent, {\n                    disableClose: true,\n                    width: '500px',\n                    height: '250px',\n                    data: this.thongTinBenhNhan,\n                });\n                dialogRef.afterClosed().subscribe(result => {\n                    //console.log(\"close = \", result, typeof(result));\n                    if (result === undefined) {\n                        //console.log(\"undefined\");\n                        //cheat vi khong hieu sao ra duoc\n                    }\n                    // else if (result == null || (result != null && result.maKetQua == \"050\")) {\n                    else if (result == null || (result != null && result.maKetQua !== \"000\" && result.maKetQua !== \"004\")) {\n                        //this.clearData();\n                        //this.notificationService.showError(TiepNhanBenhNhanMessage.MessageSaiThongTinBenhNhan);\n                        //console.log(\"null\");\n                        //\n                        //console.log(\"TiepNhanBenhNhanErrorComponent = \", this.tiepNhanBenhNhan);\n                        this.tiepNhanBenhNhan.MessageErrFromBHYT = result != null ? result.ghiChu : null;\n                        let dialogRef = this.dialog.open(TiepNhanBenhNhanErrorComponent, {\n                            disableClose: false,\n                            width: '700px',\n                            height: '300px',\n                            data: this.tiepNhanBenhNhan,\n                        });\n                        dialogRef.afterClosed().subscribe(result => {\n                            //document.getElementById(\"SoTheBHYTisAutoFocus\").focus();\n                            this.isCheckedBHYT = false;\n                            if (result == 2) {\n                                this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                                this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                                this.tiepNhanBenhNhan.CoBHYT = true;\n                                this.tiepNhanBenhNhan.TuNhap = true;\n                            }\n                            else if (result == 1) {\n                                this.tiepNhanBenhNhan.CoBHYT = false;\n                                this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                                this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                            }\n                            else if (result != undefined) {\n                                //console.log(\"------- \", result);\n                                this.setValueBHYT(result);\n                            }\n                        });\n                        //\n                    }\n                    else {\n                        this.isCheckedBHYT = false;\n                        this.setValueBHYT(result);\n                    }\n                });\n            }\n            else {\n                this.isCheckedBHYT = false;\n            }\n        }\n        else {\n            this.isCheckedBHYT = false;\n        }\n    }\n\n    clearData() {\n        let soTheBHYT = this.tiepNhanBenhNhan.BHYTMaSoThe;\n        let hoVaTen = this.tiepNhanBenhNhan.HoTen;\n        let ngaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n        this.ngOnInit();\n\n        this.tiepNhanBenhNhan.BHYTMaSoThe = soTheBHYT;\n        this.tiepNhanBenhNhan.HoTen = hoVaTen;\n        this.tiepNhanBenhNhan.NgayThangNamSinh = ngaySinh;\n    }\n\n    TinhThanhPhoChange($event) {\n        if ($event == undefined || $event == null) {\n            //this.tiepNhanBenhNhan.TinhThanhId = $event;\n            this.tiepNhanBenhNhan.QuanHuyenId = null;\n            this.tiepNhanBenhNhan.PhuongXaId = null;\n        }\n        // else {\n\t\t// \tthis.comboboxQuanHuyen.getDataForLookup();\n\t\t// }\n\n        if (this.under6yearsold) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if(this.under6yearsold == false)\n        {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n\n    }\n\n    TinhThanhPhoNguoiLienHeChange($event) {\n        //console.log(\"TinhThanhPhoNguoiLienHeChange = \", $event);\n        this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId = null;\n        this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = null;\n    }\n\n    QuanHuyenChange($event) {\n        //this.tiepNhanBenhNhan.QuanHuyenId = $event;\n        // if($event == null || $event == undefined){\n        //     this.tiepNhanBenhNhan.PhuongXaId = null;\n        // }\n        // else{\n        //     this.tiepNhanBenhNhan.ph\n        // }\n\n        if ($event == undefined || $event == null) {\n            this.tiepNhanBenhNhan.PhuongXaId = null;\n        }\n\n        if (this.under6yearsold) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if(this.under6yearsold == false)\n        {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n    }\n\n    PhuongXaChange($event) {\n        this.tiepNhanBenhNhan.PhuongXaId = $event;\n        if ($event != null && $event != undefined) {\n            this.apiService.post<any>(\"TiepNhanBenhNhan/SetTinhThanhQuanHuyen?phuongXaId=\" + $event).subscribe(\n                resultData => {\n                    this.tiepNhanBenhNhan.TinhThanhId = resultData.TinhThanhId;\n                    this.tiepNhanBenhNhan.QuanHuyenId = resultData.QuanHuyenId;\n                    this.comboboxQuanHuyen.getDataForLookup();\n\n                    if(this.validationErrors != undefined && this.validationErrors != null && this.validationErrors.length > 0)\n                    {\n                        if (this.validationErrors && this.validationErrors.some(x => x.Field.includes('QuanHuyenId') || x.Field.includes('TinhThanhId'))) {\n                            for (const validationItem of this.validationErrors.filter(x => x.Field.includes('QuanHuyenId') || x.Field.includes('TinhThanhId'))) {\n                                this.validationErrors.splice(this.validationErrors.indexOf(validationItem), 1);\n                            }\n                        }\n                    }\n                },\n                (err: any) => {\n                });\n        }\n        else {\n            this.tiepNhanBenhNhan.TinhThanhId = null;\n            this.tiepNhanBenhNhan.QuanHuyenId = null;\n        }\n\n\n        if (this.under6yearsold) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if(this.under6yearsold == false)\n        {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n\n    }\n\n    QuanHuyenNguoiLienHeChange($event) {\n        //console.log(\"QuanHuyenNguoiLienHeChange = \", $event);\n        this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = null;\n    }\n\n    KhoaKhamChange($event) {\n        //this.tiepNhanBenhNhan.PhongKhamVaBacSiId = null;\n        this.apiService.post<any>(\"TiepNhanBenhNhan/SetPhongKham?KhoaKhamId=\" + $event).subscribe(\n            resultData => {\n                this.tiepNhanBenhNhan.PhongKhamVaBacSiId = resultData;\n            },\n            (err: any) => {\n            });\n    }\n    ThongTinBenhNhanHoTenChange($event: string) {\n        //console.log(\"ThongTinBenhNhanHoTenChange = \", $event);\n        if ($event != null) {\n            //this.tiepNhanBenhNhan.HoTen = $event.toUpperCase();\n        }\n        if (this.hoTenDaTimKiem == $event && this.ngaySinhDaTimKiem == this.tiepNhanBenhNhan.NgayThangNamSinh\n            && this.maSoTheDaTimKiem == this.tiepNhanBenhNhan.BHYTMaSoThe) {\n            this.isSearchQRCodeEnable = false;\n        }\n        else {\n            this.isSearchQRCodeEnable = true;\n        }\n    }\n\n    ThongTinBenhNhanMaSoTHeChange($event) {\n        this.changeMaTheBHYT = true;\n        if ($event != null) {\n            this.tiepNhanBenhNhan.BHYTMaSoThe = $event.toUpperCase();\n        }\n        if (this.maSoTheDaTimKiem == $event && this.ngaySinhDaTimKiem == this.tiepNhanBenhNhan.NgayThangNamSinh\n            && this.hoTenDaTimKiem == this.tiepNhanBenhNhan.HoTen) {\n            this.isSearchQRCodeEnable = false;\n        }\n        else {\n            this.isSearchQRCodeEnable = true;\n        }\n    }\n    ThongTinBenhNhanNgaySinhChange($event) {\n        if (this.hoTenDaTimKiem == this.tiepNhanBenhNhan.HoTen && this.ngaySinhDaTimKiem == $event\n            && this.maSoTheDaTimKiem == this.tiepNhanBenhNhan.BHYTMaSoThe) {\n            this.isSearchQRCodeEnable = false;\n        }\n        else {\n            this.isSearchQRCodeEnable = true;\n        }\n        if (this.tiepNhanBenhNhan.NgayThangNamSinh != null) {\n            this.tiepNhanBenhNhan.NamSinh = this.tiepNhanBenhNhan.NgayThangNamSinh.getFullYear();\n            this.getAge(this.tiepNhanBenhNhan.NgayThangNamSinh, new Date);\n        }\n        if ($event == null || $event == undefined) {\n            this.under6yearsold = false;\n            if (this.under6yearsold == false) {\n                this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n            }\n\n            // kiểm tra khi change ngày tháng năm sinh, nếu ko nhập vào data mà khi đó filed năm sinh đã có thì sẽ ko clear data năm sinh\n            if(this.tiepNhanBenhNhan.NamSinh == undefined || this.tiepNhanBenhNhan.NamSinh == null)\n            {\n                this.tiepNhanBenhNhan.NamSinh = null;\n            }\n        }\n        //console.log(\"ThongTinBenhNhanNgaySinhChange = \", $event, \"type of: \", typeof($event));\n    }\n    QuetMaQRCodeClick() {\n        let elementBarcode: HTMLElement = document.getElementById('barcodeActive') as HTMLElement;\n        if (elementBarcode != undefined) {\n            elementBarcode.click();\n            this.isScanF1 = true;\n        }\n    }\n\n    test($event) {\n        console.log(\"test = \", $event);\n    }\n\n\n    setUpDataTooltip(dataItem) {\n        this.displayToolTipGrid = dataItem.TenGoiChietKhau;\n    }\n\n\n    loaiTiepNhanChange($event) {\n        if ($event == 1) {\n            this.tiepNhanBenhNhan.YeuCauKyThuatGrid = [];\n            this.tiepNhanBenhNhan.YeuCauKhacGrid = [];\n        }\n        else if ($event == 2) {\n            this.tiepNhanBenhNhan.YeuCauKhamBenhGrid = [];\n            this.tiepNhanBenhNhan.YeuCauKhacGrid = [];\n        }\n        else {\n            this.tiepNhanBenhNhan.YeuCauKhamBenhGrid = [];\n            this.tiepNhanBenhNhan.YeuCauKyThuatGrid = [];\n        }\n\n        this.setDataForDichVuKhac();\n        this.setDataForDichVuKyThuat();\n        this.setDataForDichVuKhamBenh();\n        this.refreshGrid();\n\n        this.removeThemDichVuValue();\n        this.removeThemGoiValue();\n    }\n\n    removeThemDichVuValue() {\n        //console.log(\"removeThemDichVuValue\");\n        this.themChiDinhDichVuModel = new ThemChiDinhDichVu();\n        //this.setDuocHuongBHYT();\n        this.themChiDinhDichVuModel.ThanhTien = null;\n        //this.themChiDinhDichVuModel.DoiTuongUuDaiId = this.tiepNhanBenhNhan.DoiTuongUuDaiId;\n\n        this.loaiTiepNhan = null;\n        this.isGoiCoChietKhau = null;\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n    }\n\n    removeThemGoiValue() {\n        //console.log(\"removeThemDichVuValue\");\n        this.themChiDinhGoiModel = new ThemChiDinhDichVu();\n        //this.setDuocHuongBHYT();\n        this.themChiDinhGoiModel.ThanhTien = null;\n        //this.themChiDinhGoiModel.DoiTuongUuDaiId = this.tiepNhanBenhNhan.DoiTuongUuDaiId;\n\n        this.loaiTiepNhan = null;\n        this.isGoiCoChietKhau = null;\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n    }\n\n    checkValidAddChiDinhDichVuKhac(id: number) {\n        let nhom = 'DỊCH VỤ KHÁM BỆNH';\n        if (this.loaiTiepNhan == 2) {\n            nhom = 'DỊCH VỤ KỸ THUẬT'\n        }\n        else if (this.loaiTiepNhan == 1) {\n            nhom = 'DỊCH VỤ KHÁM BỆNH';\n        }\n        else {\n            nhom = 'DỊCH VỤ GIƯỜNG';\n        }\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", this.tiepNhanBenhNhan.YeuCauKhacGrid, this.loaiTiepNhan, id);\n        let model = this.tiepNhanBenhNhan.YeuCauKhacGrid\n            //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n            .find(obj => obj.MaDichVuId == id && obj.Nhom == nhom);\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", model, nhom);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n\n    checkValidAddGoiCoChietKhau(id: number) {\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", this.tiepNhanBenhNhan.YeuCauKhacGrid, this.loaiTiepNhan, id);\n        let model = this.tiepNhanBenhNhan.YeuCauKhacGrid\n            //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n            .find(obj => obj.GoiCoChietKhauId == id);\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", model, nhom);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n\n    checkValidAddGoiKhongCoChietKhau(id: number, nhom: string) {\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", this.tiepNhanBenhNhan.YeuCauKhacGrid, nhom, id);\n        let model = this.tiepNhanBenhNhan.YeuCauKhacGrid\n            .filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n            .find(obj => obj.MaDichVuId == id && obj.Nhom == nhom);\n        //console.log(\"checkValidAddChiDinhDichVuKhac = \", model, nhom);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n\n    checkValidAddChiDinhDichVuKhamBenh(id: number) {\n        ;\n        let model = this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null).find(obj => obj.MaDichVuId == id);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n\n    checkValidAddChiDinhDichVuKyThuat(id: number) {\n        //console.log(\"checkValidAddChiDinhDichVuKhamBenh = \", this.tiepNhanBenhNhan.YeuCauKhamBenhGrid,id);\n        let model = this.tiepNhanBenhNhan.YeuCauKyThuatGrid.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null).find(obj => obj.MaDichVuId == id);\n        //console.log(\"checkValidAddBHTN = \", index);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n\n\n\n    // themChiDinhDichVu() {\n    //     var self = this;\n\n    //     let isValid = this.checkValidAddChiDinhDichVuKhamBenh(this.themChiDinhDichVuModel.MaDichVuId);\n    //     if (isValid == false) return;\n\n    //     self.validationErrors = null;\n\n    //     self.apiService.post<ChiDinhDichVuGridVo>(\"TiepNhanBenhNhan/ThemDichVu\", this.themChiDinhDichVuModel).subscribe(\n    //         resultData => {\n    //             if (resultData != undefined && resultData != null) {\n    //                 //console.log(resultData);\n    //                 this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.push(resultData);\n    //                 this.setDataForDichVuKhamBenh();\n    //                 this.setGiaBHYT();\n    //                 this.refreshGrid();\n    //                 this.removeThemDichVuValue();\n    //             }\n    //             else {\n    //             }\n    //         },\n    //         (err: any) => {\n    //             ;\n    //             // self.validationErrors = err.ValidationErrors;\n    //             //console.log(err);\n    //             if (err != undefined && err.ValidationErrors != null) {\n    //                 self.validationErrors = err.ValidationErrors;\n    //             }\n    //             else if (err != undefined && err.Errors == null) {\n    //                 //self.validationErrors.push({ \"Message\": err.Message });\n    //                 self.notificationService.showError(err.Message);\n    //             }\n    //         });\n    // }\n\n    themChiDinhDichVuGoiNew() {\n        if (this.isGoiCoChietKhau) {\n            this.themChiDinhDichVuKhacKhamBenh(2);\n        }\n        else if (this.isGoiCoChietKhau == false || this.isGoiCoChietKhau == null) {\n            this.themChiDinhDichVuKhacKhamBenh(1);\n        }\n    }\n\n    themChiDinhDichVuNew() {\n        //console.log(\"themChiDinhDichVuNew = \", this.loaiTiepNhan, this.danhSachDichVuDaChonTrongLanPopup);\n        // if(this.tiepNhanBenhNhan.BenhNhanId != null && this.tiepNhanBenhNhan.BenhNhanId != 0){\n\n        // }\n        // else{\n        //     if (this.loaiTiepNhan == 1) {\n        //         this.themChiDinhDichVuKhacKhamBenh(3);\n        //     }\n        //     else if (this.loaiTiepNhan == 2) {\n        //         this.themChiDinhDichVuKhacKhamBenh(4);\n        //     }\n        //     else {\n        //         this.themChiDinhDichVuKhacKhamBenh(5);\n        //     }\n        // }\n        let model = new CheckDuSoLuongTonTrongGoi();\n        model.DichVuThem = this.themChiDinhDichVuModel;\n        model.DichVuThem.benhNhanId = this.tiepNhanBenhNhan.BenhNhanId;\n        if (this.loaiTiepNhan == 1) {\n            //1: KB, 2: DVKT, 3: DVG\n            model.DichVuThem.TenNhomDichVu = 'DỊCH VỤ KHÁM BỆNH'\n        }\n        else if (this.loaiTiepNhan == 2) {\n            model.DichVuThem.TenNhomDichVu = 'DỊCH VỤ KỸ THUẬT'\n        }\n        else {\n            model.DichVuThem.TenNhomDichVu = 'DỊCH VỤ GIƯỜNG'\n        }\n\n\n        model.DanhSachDichVuChonTrongLanPopup = this.danhSachDichVuDaChonTrongLanPopup;\n\n        //check trung\n        let self = this;\n        let itemExist = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o.MaDichVuId == model.DichVuThem.MaDichVuId && o.Nhom == model.DichVuThem.TenNhomDichVu);\n\n        if (itemExist.length > 0) {\n            self.dialog.open(PopupDichVuCheckTrungComponent, {\n                disableClose: false,\n                width: '400px',\n            }).afterClosed().subscribe(result => {\n                if (result == true) {\n                    this.themDichVu(model);\n                }\n                else {\n\n                }\n            });\n        }\n        else {\n            this.themDichVu(model);\n        }\n\n\n\n    }\n\n    themDichVu(model) {\n        let self = this;\n        let dataRes = new DichVuTrongGoiKhiThem();\n\n        // cập nhật ngày 02/06/2021: ko kiểm tra dịch vụ có trong gói nữa\n        if (this.loaiTiepNhan == 1) {\n            this.themChiDinhDichVuKhacKhamBenh(3);\n        }\n        else if (this.loaiTiepNhan == 2) {\n            this.themChiDinhDichVuKhacKhamBenh(4);\n        }\n        else {\n            this.themChiDinhDichVuKhacKhamBenh(5);\n        }\n\n        // this.apiService.post<DichVuTrongGoiKhiThem>(\"TiepNhanBenhNhan/CheckDuSoLuongTonTrongGoiForCreate\", model).subscribe(\n        //     resultData => {\n        //         if (resultData != undefined && resultData != null) {\n        //             //console.log(\"DichVuTrongGoiKhiThem = \", resultData);\n        //             dataRes = resultData;\n        //             this.dialog.open(ConfirmComponent, {\n        //                 disableClose: false,\n        //                 width: '400px',\n        //                 data: { Title: \"Xác nhận\", Message: CommonService.format(TiepNhanBenhNhanMessage.MessageConfirmThemVaoGoi, [resultData.TenDichVu, resultData.TenChuongTrinh, this.tiepNhanBenhNhan.HoTen]) }\n        //             }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n        //                 if (result == \"Yes\") {\n        //                     //\n        //                     self.danhSachDichVuGoiDaChon = new Array<ThemChiDinhDichVu>();\n\n        //                     let item = new ThemChiDinhDichVu();\n        //                     item.LaGoi = true;\n        //                     item.TenNhomDichVu = model.DichVuThem.TenNhomDichVu;\n        //                     item.MaDichVuId = model.DichVuThem.MaDichVuId;\n        //                     item.SoLuong = model.DichVuThem.SoLuong;\n        //                     item.chuongTrinhGoiDichVuId = dataRes.ChuongTrinhGoiDichVuId;\n        //                     //cheat cho lẹ\n        //                     item.DuocHuongBHYT = model.DichVuThem.DuocHuongBHYT;\n        //                     item.YeuCauGoiDichVuId = dataRes.YeuCauGoiDichVuId;\n        //                     item.ThuocGoi = dataRes.TenChuongTrinh;\n\n        //                     self.danhSachDichVuGoiDaChon.push(item);\n        //                     self.themChiDinhDichVuKhacKhamBenh(6, self.danhSachDichVuGoiDaChon);\n        //                     self.addDanhSachTongCongFromDanhSachDaChon(self.danhSachDichVuGoiDaChon);\n        //                     //self.router.navigate(['tiep-nhan-trong-ngay/']);\n        //                     //self.router.navigateByUrl('danh-sach-thu-dich-vu/thong-tin-chi-tiet-cho-thu-tien/' + this.idYeuCauTiepNhan + \"?loaiThanhToan=\" + 1 + \"&yctn=true\");\n        //                 }\n        //                 else {\n        //                     //self.ngOnInit();\n        //                     if (this.loaiTiepNhan == 1) {\n        //                         this.themChiDinhDichVuKhacKhamBenh(3);\n        //                     }\n        //                     else if (this.loaiTiepNhan == 2) {\n        //                         this.themChiDinhDichVuKhacKhamBenh(4);\n        //                     }\n        //                     else {\n        //                         this.themChiDinhDichVuKhacKhamBenh(5);\n        //                     }\n        //                 }\n        //             });\n        //         }\n        //         else {\n        //             if (this.loaiTiepNhan == 1) {\n        //                 this.themChiDinhDichVuKhacKhamBenh(3);\n        //             }\n        //             else if (this.loaiTiepNhan == 2) {\n        //                 this.themChiDinhDichVuKhacKhamBenh(4);\n        //             }\n        //             else {\n        //                 this.themChiDinhDichVuKhacKhamBenh(5);\n        //             }\n        //         }\n        //     },\n        //     (err: any) => {\n        //         if (err != undefined && err.ValidationErrors != null) {\n        //             this.validationErrors = err.ValidationErrors;\n        //         }\n        //         else if (err != undefined && err.Errors == null) {\n        //             this.notificationService.showError(err.Message);\n        //         }\n        //     });\n\n    }\n\n    themChiDinhDichVuKhacKhamBenh(loaiDichVuKhac: number, lstDataGoi: Array<ThemChiDinhDichVu> = null) {\n        //1: goi khong co chiet khau, 2: goi co chiet khau, 3: dich vu kham benh, 4: dich vu ky thuat, 5: dich vu giuong\n        //bỏ check trùng 29/10/2020 Tuan said: \"e sửa lại ko cần check trùng luôn : 2:04PM\"\n        // if (loaiDichVuKhac == 2) {\n        //     let isValid = this.checkValidAddGoiCoChietKhau(this.themChiDinhGoiModel.MaDichVuGoiId);\n        //     if (isValid == false) {\n        //         this.notificationService.showError(TiepNhanBenhNhanMessage.MessageGoiTonTai);\n        //         return;\n        //     };\n        // }\n        // else if(loaiDichVuKhac == 1){\n        //     //let isValid = this.checkValidAddChiDinhDichVuKhac(this.themChiDinhGoiModel.MaDichVuId);\n        //     //if (isValid == false) return;\n        // }\n        // else {\n        //     let isValid = this.checkValidAddChiDinhDichVuKhac(this.themChiDinhDichVuModel.MaDichVuId);\n        //     if (isValid == false && loaiDichVuKhac != 1 && loaiDichVuKhac != 2){\n        //         this.notificationService.showError(TiepNhanBenhNhanMessage.MessageDichVuTonTai);\n        //         return;\n        //     };\n        // }\n        this.showbuttonLuuVaInPhieuXetNghiem = this.dichVuSarsCoVs.includes(this.themChiDinhDichVuModel.MaDichVuId);\n        if(this.showbuttonLuuVaInPhieuXetNghiem == true)\n        {\n            this.dialog\n            .open(XnCovidPopupComponent, {\n                width: \"600px\",\n                data: { LoaiMauXetNghiem:this.loaiBenhPham,LoaiMauXetNghiemText:this.loaiBenhPhamText}\n            })\n            .afterClosed()\n            .subscribe((result) => {\n                if (result != undefined) {\n                     this.tiepNhanBenhNhan.BieuHienLamSang = result.BieuHienLamSang;\n                     this.tiepNhanBenhNhan.DichTeSarsCoV2 = result.DichTeSarsCoV2;\n                }\n\n            });\n        }\n        \n        this.validationErrors = null;\n\n        let urlDefault = \"TiepNhanBenhNhan/ThemDichVu\";\n        if (loaiDichVuKhac == 4) {\n            urlDefault = \"TiepNhanBenhNhan/ThemDichVuKyThuat\";\n        }\n        else if (loaiDichVuKhac == 5) {\n            urlDefault = \"TiepNhanBenhNhan/ThemDichVuGiuong\";\n        }\n        //Goi new\n        else if (loaiDichVuKhac == 6) {\n            urlDefault = \"TiepNhanBenhNhan/ThemDichVuTuGoi\";\n        }\n        else if (loaiDichVuKhac == 1) {\n            urlDefault = \"TiepNhanBenhNhan/ThemGoiKhongChietKhau\";\n            this.themChiDinhDichVuModel.LaGoi = true;\n            this.themChiDinhGoiModel.LaGoi = true;\n            this.themChiDinhDichVuModel.MaDichVuId = this.themChiDinhDichVuModel.MaDichVuGoiId;\n            this.themChiDinhGoiModel.MaDichVuId = this.themChiDinhGoiModel.MaDichVuGoiId;\n        }\n        else if (loaiDichVuKhac == 2) {\n            urlDefault = \"TiepNhanBenhNhan/ThemGoiCoChietKhau\";\n            this.themChiDinhDichVuModel.LaGoi = true;\n            this.themChiDinhGoiModel.LaGoi = true;\n            this.themChiDinhDichVuModel.MaDichVuId = this.themChiDinhDichVuModel.MaDichVuGoiId;\n            this.themChiDinhGoiModel.MaDichVuId = this.themChiDinhGoiModel.MaDichVuGoiId;\n        }\n\n        if (loaiDichVuKhac == 6) {\n            this.apiService.postArray<ChiDinhDichVuGridVo[]>(urlDefault, lstDataGoi).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        //console.log(resultData);\n                        //\n                        resultData.forEach(obj => {\n                            this.tiepNhanBenhNhan.YeuCauKhacGrid.push(obj);\n                        });\n                        this.setDataForDichVuKhac();\n                        this.setGiaBHYT();\n                        //this.refreshGrid();\n                        this.removeThemDichVuValue();\n                        this.removeThemGoiValue();\n                    }\n                    else {\n                    }\n                },\n                (err: any) => {\n                    // self.validationErrors = err.ValidationErrors;\n                    this.themChiDinhDichVuModel.LaGoi = false;\n                    this.themChiDinhGoiModel.LaGoi = false;\n                    if (err != undefined && err.ValidationErrors != null) {\n                        this.validationErrors = err.ValidationErrors;\n                    }\n                    else if (err != undefined && err.Errors == null) {\n                        //self.validationErrors.push({ \"Message\": err.Message });\n                        this.notificationService.showError(err.Message);\n                    }\n                });\n        }\n        else if (loaiDichVuKhac == 1 || loaiDichVuKhac == 2) {\n            this.apiService.post<ChiDinhDichVuGridVo[]>(urlDefault, this.themChiDinhGoiModel).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        //console.log(resultData);\n                        //check validate\n                        let added = true;\n                        resultData.forEach(obj => {\n                            if (loaiDichVuKhac == 2) {\n                                let modelValid = this.tiepNhanBenhNhan.YeuCauKhacGrid\n                                    .find(o => o.MaDichVuId == obj.MaDichVuId && o.Nhom == obj.Nhom);\n                                if (modelValid != null && modelValid != undefined) {\n                                    added = false;\n                                }\n                            }\n                        });\n                        if (!added) {\n                            this.notificationService.showError(TiepNhanBenhNhanMessage.MessageDichVuTrongGoiTonTai);\n                            return\n                        };\n                        //\n                        resultData.forEach(obj => {\n                            if (loaiDichVuKhac == 1) {\n                                let isValid = this.checkValidAddGoiKhongCoChietKhau(obj.MaDichVuId, obj.Nhom);\n                                if (isValid != false) {\n                                    obj.LoaiDichVuKhac = loaiDichVuKhac;\n                                    this.tiepNhanBenhNhan.YeuCauKhacGrid.push(obj);\n                                }\n                            }\n                            else {\n                                obj.LoaiDichVuKhac = loaiDichVuKhac;\n                                this.tiepNhanBenhNhan.YeuCauKhacGrid.push(obj);\n                            }\n\n\n                        });\n                        this.setDataForDichVuKhac();\n                        this.setGiaBHYT();\n                        //this.refreshGrid();\n                        this.removeThemDichVuValue();\n                        this.removeThemGoiValue();\n                    }\n                    else {\n                    }\n                },\n                (err: any) => {\n                    // self.validationErrors = err.ValidationErrors;\n                    this.themChiDinhDichVuModel.LaGoi = false;\n                    this.themChiDinhGoiModel.LaGoi = false;\n                    if (err != undefined && err.ValidationErrors != null) {\n                        this.validationErrors = err.ValidationErrors;\n                    }\n                    else if (err != undefined && err.Errors == null) {\n                        //self.validationErrors.push({ \"Message\": err.Message });\n                        this.notificationService.showError(err.Message);\n                    }\n                });\n        }\n        else {\n            this.apiService.post<ChiDinhDichVuGridVo>(urlDefault, this.themChiDinhDichVuModel).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        resultData.LoaiDichVuKhac = loaiDichVuKhac;\n                        this.tiepNhanBenhNhan.YeuCauKhacGrid.push(resultData);\n                        this.setDataForDichVuKhac();\n                        this.setGiaBHYT();\n                        this.refreshGrid();\n                        this.removeThemDichVuValue();\n                        this.removeThemGoiValue();\n                    }\n                    else {\n                    }\n                },\n                (err: any) => {\n                    // self.validationErrors = err.ValidationErrors;\n                    if (err != undefined && err.ValidationErrors != null) {\n                        this.validationErrors = err.ValidationErrors;\n                    }\n                    else if (err != undefined && err.Errors == null) {\n                        //self.validationErrors.push({ \"Message\": err.Message });\n                        this.notificationService.showError(err.Message);\n                    }\n                });\n        }\n\n    }\n\n    public aggregatesKhamBenh: any[] = [{ field: 'ThanhTien', aggregate: 'sum' }\n        , { field: 'BHYTThanhToan', aggregate: 'sum' }, { field: 'SoTienMG', aggregate: 'sum' }\n        , { field: 'BnThanhToan', aggregate: 'sum' }];\n\n    public stateKhamBenh: State = {\n        skip: 0,\n        take: 200,\n        group: [{ field: 'Nhom', aggregates: this.aggregatesKhamBenh }]\n    };\n\n\n    public totalKhamBenh(field: any) {\n        switch (field) {\n            case 'ThanhTien':\n                return this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'BHYTThanhToan':\n                return this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n            case 'SoTienMG':\n                return this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'BnThanhToan':\n                return this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.reduce((sum, item) => sum + item.BnThanhToan, 0);\n        }\n    };\n\n    public totalKhac(field: any, goiCoChietkhauId: any = 0) {\n        //.filter(o => o.GoiCoChietKhauId == goiCoChietkhauId)\n        //console.log(\"totalKhac = \", goiCoChietkhauId);\n        switch (field) {\n            case 'TongThanhTien':\n                return (this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.ThanhTien, 0)) + (this.tiepNhanBenhNhan.YeuCauKhacGrid\n                        //.filter(o => o.IsGoiCoChietKhau == true)\n                        .reduce((sum, item) => sum + item.ThanhTien, 0));\n\n            case 'ThanhTien':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => (sum + (item.GoiCoChietKhauId != null ? item.ThanhTienSauChietKhau : item.ThanhTien)), 0); //sum + item.ThanhTien, 0);\n            case 'ThanhTienGoiChietKhau':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.GoiCoChietKhauId == goiCoChietkhauId)\n                    .reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'TongThanhTienGoiChietKhau':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == true)\n                    .reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'BHYTThanhToan':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n            case 'SoTienMG':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'BnThanhToan':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.BnThanhToan, 0);\n\n            case 'TongBnThanhToan':\n                return (this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.BnThanhToan, 0)) + (this.tiepNhanBenhNhan.YeuCauKhacGrid\n                        //.filter(o => o.IsGoiCoChietKhau == true)\n                        .reduce((sum, item) => sum + item.ThanhTienTrongGoi, 0));\n\n            case 'ThanhTienTrongGoi':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.GoiCoChietKhauId == goiCoChietkhauId)\n                    .reduce((sum, item) => sum + item.ThanhTienTrongGoi, 0);\n            case 'TongThanhTienTrongGoi':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == true)\n                    .reduce((sum, item) => sum + item.ThanhTienTrongGoi, 0);\n\n            case 'TongThanhTienGoi':\n                return this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    .reduce((sum, item) => sum + item.ThanhTien, 0);\n\n            case 'TongThanhTienBNTra':\n                return (this.tiepNhanBenhNhan.YeuCauKhacGrid\n                    //.filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n                    .reduce((sum, item) => sum + item.BnThanhToan, 0)) + this.tiepNhanBenhNhan.YeuCauKhacGrid\n                        //.filter(o => o.IsGoiCoChietKhau == true)\n                        .reduce((sum, item) => sum + item.ThanhTienTrongGoi, 0);\n        }\n    };\n\n\n\n    public aggregatesKyThuat: any[] = [{ field: 'ThanhTien', aggregate: 'sum' }\n        , { field: 'SoTienMG', aggregate: 'sum' }\n        , { field: 'BnThanhToan', aggregate: 'sum' }];\n\n    public stateKyThuat: State = {\n        skip: 0,\n        take: 200,\n        group: [{ field: 'Nhom', aggregates: this.aggregatesKyThuat }]\n    };\n\n    public totalKyThuat(field: any) {\n        switch (field) {\n            case 'ThanhTien':\n                return this.tiepNhanBenhNhan.YeuCauKyThuatGrid.reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'SoTienMG':\n                return this.tiepNhanBenhNhan.YeuCauKyThuatGrid.reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'BnThanhToan':\n                return this.tiepNhanBenhNhan.YeuCauKyThuatGrid.reduce((sum, item) => sum + item.BnThanhToan, 0);\n        }\n    };\n\n    setDataForDichVuKyThuat() {\n        this.gridDataKyThuatDisplay = {\n            data: this.tiepNhanBenhNhan.YeuCauKyThuatGrid,\n            total: this.tiepNhanBenhNhan.YeuCauKyThuatGrid.length\n        };\n    }\n\n    setDataForDichVuKhamBenh() {\n        this.gridDataKhamBenhDisplay = {\n            data: this.tiepNhanBenhNhan.YeuCauKhamBenhGrid,\n            total: this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.length\n        };\n    }\n\n    setDataForDichVuKhac() {\n        if(this.tiepNhanBenhNhan.YeuCauKhacGrid != null)\n        {\n            if(this.tiepNhanBenhNhan.YeuCauKhacGrid.length == 0)\n            {\n                this.showbuttonLuuVaInPhieuXetNghiem = false;\n            }else{\n                if(this.showbuttonLuuVaInPhieuXetNghiem == false)\n                {\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.forEach(element => {\n                        this.showbuttonLuuVaInPhieuXetNghiem = this.dichVuSarsCoVs.includes(element.MaDichVuId);\n                    });\n                }\n               \n            }\n        }\n        \n        this.gridDataKhacCoChietKhauArray = [];\n        this.gridDataKhacDisplay = {\n            data: this.tiepNhanBenhNhan.YeuCauKhacGrid,\n            //.filter(obj => obj.IsGoiCoChietKhau == false || obj.IsGoiCoChietKhau == null),\n            total: this.tiepNhanBenhNhan.YeuCauKhacGrid,\n            //.filter(obj => obj.IsGoiCoChietKhau == false || obj.IsGoiCoChietKhau == null).length\n        };\n        //this.cdRef.detectChanges();\n        //console.log(\"setDataForDichVuKhac = \", this.tiepNhanBenhNhan.YeuCauKhacGrid);\n        // let arrayNhomGoiCoChietKhau: string[] = [];\n        // this.gridDataKhacCoChietKhauDisplay = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(obj => obj.IsGoiCoChietKhau == true);\n        // this.gridDataKhacCoChietKhauDisplay.forEach(e => {\n        //     if (!arrayNhomGoiCoChietKhau.some(o => o == e.TenGoiChietKhau)) {\n        //         arrayNhomGoiCoChietKhau.push(e.TenGoiChietKhau);\n        //     }\n        // });\n\n        // arrayNhomGoiCoChietKhau.forEach(e => {\n        //     let resultArray: ChiDinhDichVuGridVo[] = [];\n        //     this.gridDataKhacCoChietKhauDisplay.forEach(o => {\n        //         //let result = new ChiDinhDichVuGridVo();\n        //         if (e == o.TenGoiChietKhau) {\n        //             //result = o;\n        //             resultArray.push(o);\n        //         }\n        //     });\n\n        //     this.gridDataKhacCoChietKhauArray.push(process(resultArray, this.stateKhamBenh));\n        // });\n\n        //console.log(\"setDataForDichVuKhac = \", this.gridDataKhacCoChietKhauArray);\n        this.setSoLuongChoGridKhac();\n    }\n\n    setSoLuongChoGridKhac() {\n        this.soLuongGoiCoChietKhau = this.gridDataKhacCoChietKhauArray.length - 1;\n    }\n\n\n    DonGiaChange($event) {\n        if (this.themChiDinhDichVuModel.SoLuong != undefined && this.themChiDinhDichVuModel.SoLuong != null\n            && $event != undefined && $event != null) {\n            this.themChiDinhDichVuModel.ThanhTien = this.themChiDinhDichVuModel.SoLuong * $event;\n        }\n        else {\n            this.themChiDinhDichVuModel.ThanhTien = null;\n        }\n    }\n\n\n    SoLuongChange($event: number) {\n        if (this.themChiDinhDichVuModel.DonGia != undefined && this.themChiDinhDichVuModel.DonGia != null\n            && $event != undefined && $event != null) {\n            this.themChiDinhDichVuModel.ThanhTien = this.themChiDinhDichVuModel.DonGia * $event;\n        }\n        else {\n            this.themChiDinhDichVuModel.ThanhTien = null;\n        }\n    }\n\n    setThanhTienForDichVuModel() {\n        if (this.themChiDinhDichVuModel.DonGia != undefined && this.themChiDinhDichVuModel.DonGia != null\n            && this.themChiDinhDichVuModel.SoLuong != undefined && this.themChiDinhDichVuModel.SoLuong != null) {\n            this.themChiDinhDichVuModel.ThanhTien = this.themChiDinhDichVuModel.DonGia * this.themChiDinhDichVuModel.SoLuong;\n        }\n        else {\n            this.themChiDinhDichVuModel.ThanhTien = null;\n        }\n    }\n\n    LoaiGiaChange($event: number) {\n        let model = new GetDonGiaVo();\n        if ($event != undefined && $event != null\n            && this.themChiDinhDichVuModel.MaDichVuId != null && this.themChiDinhDichVuModel.MaDichVuId != undefined) {\n            //console.log($event);\n            model.NhomGiaDichVuKhamBenhBenhVienId = $event;\n            model.DichVuKhamBenhBenhVienId = this.themChiDinhDichVuModel.MaDichVuId;\n            this.apiService.post<any>(\"TiepNhanBenhNhan/GetDonGia\", model).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        this.themChiDinhDichVuModel.DonGia = resultData;\n                        this.setThanhTienForDichVuModel();\n                    }\n                    else {\n                        this.themChiDinhDichVuModel.DonGia = null;\n                        this.setThanhTienForDichVuModel();\n                    }\n                },\n                (err: any) => {\n                });\n        }\n        else {\n            this.themChiDinhDichVuModel.DonGia = null;\n        }\n\n    }\n\n\n    // MaDichVuKyThuatChange($event: number) {\n    //     let model = new GetDonGiaVo();\n    //     if ($event != undefined && $event != null) {\n    //         this.validationErrors = null;\n\n    //         //console.log($event);\n    //         model.DichVuKhamBenhBenhVienId = $event;\n    //         //model.NhomGiaDichVuKhamBenhBenhVienId = this.themChiDinhDichVuModel.LoaiGiaId;\n    //         this.apiService.post<any>(\"TiepNhanBenhNhan/GetDonGiaKyThuat\", model).subscribe(\n    //             resultData => {\n    //                 if (resultData != undefined && resultData != null) {\n    //                     this.themChiDinhDichVuKyThuatModel.DonGia = resultData;\n    //                     this.setThanhTienForDichVuKyThuatModel();\n    //                 }\n    //                 else {\n    //                     this.themChiDinhDichVuKyThuatModel.DonGia = null;\n    //                     this.setThanhTienForDichVuKyThuatModel();\n    //                 }\n    //             },\n    //             (err: any) => {\n    //             });\n    //     }\n    //     else {\n    //         this.themChiDinhDichVuKyThuatModel.DonGia = null;\n    //     }\n\n\n    // }\n\n    MaDichVuGoiSelectionChange($event) {\n        //console.log(\"abc = \", $event);\n        if ($event != null && $event != undefined) {\n            if ($event.IsCoChietKhau) {\n                this.isGoiCoChietKhau = true;\n            }\n            else {\n                this.isGoiCoChietKhau = false;\n            }\n        }\n        else {\n            this.isGoiCoChietKhau = null;\n        }\n    }\n\n    onKeyMaDichVu($event) {\n        if ($event.keyCode == 13) {\n            if (this.maDichVuDisabled != true) {\n                this.themChiDinhDichVuNew();\n            }\n            else {\n                this.maDichVuDisabled = false;\n            }\n        }\n\n        //this.countCheck++;\n    }\n\n    modelChangeDichVu($event) {\n        //console.log(\"modelChangeDichVu = \", $event);\n        // if(this.maDichVuDisabled && $event != null && $event != undefined){\n        //     this.maDichVuDisabled = false;\n        // }\n    }\n\n    openCombobox($event) {\n        //console.log(\"openCombobox = \", $event);\n        //this.countCheck = 0;\n        if ($event) {\n            this.maDichVuDisabled = true;\n        }\n        else {\n            this.maDichVuDisabled = false;\n        }\n    }\n\n    MaDichVuSelectionChange($event) {\n        //console.log(\"MaDichVuSelectionChange = \", $event);\n        //let self = this;\n        this.themChiDinhDichVuModel.NoiThucHienId = null;\n        this.themChiDinhDichVuModel.SoLuong = 1;\n        if ($event != undefined && $event != null) {\n            //this.maDichVuPrev = $event.KeyId;\n            //this.countCheck++;\n            //console.log(\"MaDichVuSelectionChange = \", $event);\n            if ($event.Loai == \"DVKT\") {\n                this.MaDichVuChange($event.KeyId, 4, true);\n                this.loaiTiepNhan = 2;\n                // setTimeout(() => {\n                //     console.log(\"self.comboboxNoiThucHien2 = \", self.comboboxNoiThucHien2);\n                //     self.comboboxNoiThucHien2.getDataForLookup();\n                //   }, 500);\n            }\n            else if ($event.Loai == \"DV Giường\") {\n                this.MaDichVuChange($event.KeyId, 5);\n                this.loaiTiepNhan = 3;\n            }\n            else {\n                this.MaDichVuChange($event.KeyId);\n                this.loaiTiepNhan = 1;\n                //this.comboboxNoiThucHien1.getDataForLookup();\n            }\n        }\n        else {\n            this.themChiDinhDichVuModel.DonGia = null;\n            this.themChiDinhDichVuModel.NoiThucHienId = null;\n            this.setThanhTienForDichVuModel();\n            this.loaiTiepNhan = 1;\n        }\n        //\n        if ($event != null && $event != undefined) {\n            this.SetEnableDuocHuongBHYT($event.KeyId, this.loaiTiepNhan);\n        }\n        //this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n        this.cdRef.detectChanges();\n    }\n\n    SetEnableDuocHuongBHYT(dichVuId: number, loai: number) {\n        this.apiService.post<boolean>(\"TiepNhanBenhNhan/DuocHuongBHYT?dichVuId=\" + dichVuId + \"&loai=\" + loai).subscribe(\n            resultData => {\n                if (resultData != null && resultData != undefined) {\n                    this.enableDuocHuongBHYT = resultData;\n                    // if(resultData == false){\n                    //     this.themChiDinhDichVuModel.DuocHuongBHYT = false;\n                    // }\n                    // else{\n                    //     //this.themChiDinhDichVuModel.DuocHuongBHYT = true;\n                    // }\n                    this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n                }\n            },\n            (err: any) => {\n            });\n    }\n\n    MaDichVuChange($event: number, loaiDichVu: number = 0, isCheckValidDonGia: boolean = false) {\n        //console.log(\"MaDichVuChange = \", $event);\n        let urlDefault = \"TiepNhanBenhNhan/GetDonGia\";\n\n        if (loaiDichVu == 4) {\n            urlDefault = \"TiepNhanBenhNhan/GetDonGiaKyThuat\";\n            // this.themChiDinhDichVuModel.LoaiGiaId = 1;\n            this.themChiDinhDichVuModel.LoaiGiaId = null;\n        }\n        else if (loaiDichVu == 5) {\n            urlDefault = \"TiepNhanBenhNhan/GetDonGiaGiuongBenh\";\n            this.themChiDinhDichVuModel.LoaiGiaId = 1;\n        }\n\n        let model = new GetDonGiaVo();\n        if ($event != undefined && $event != null\n            && (loaiDichVu == 4 || (this.themChiDinhDichVuModel.LoaiGiaId != null && this.themChiDinhDichVuModel.LoaiGiaId != undefined))) {\n            //console.log($event);\n            model.DichVuKhamBenhBenhVienId = $event;\n            model.NhomGiaDichVuKhamBenhBenhVienId = this.themChiDinhDichVuModel.LoaiGiaId;\n            model.IsCheckValidDonGia = isCheckValidDonGia;\n            this.apiService.post<any>(urlDefault, model).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        if(loaiDichVu == 4)\n                        {\n                            this.themChiDinhDichVuModel.LoaiGiaId = resultData.NhomGiaDichVuKhamBenhBenhVienId;\n                            this.themChiDinhDichVuModel.DonGia = resultData.DonGia;\n                        }\n                        else\n                        {\n                            this.themChiDinhDichVuModel.DonGia = resultData;\n                        }\n                        this.setThanhTienForDichVuModel();\n\n                    }\n                    else {\n                        this.themChiDinhDichVuModel.DonGia = null;\n                        this.setThanhTienForDichVuModel();\n\n                    }\n                },\n                (err: ApiError) => {\n                    if (err.Message != \"Validation Failed\") {\n                        this.notificationService.showError(err.Message);\n                    }\n                });\n        }\n        else {\n            this.themChiDinhDichVuModel.DonGia = null;\n            this.setThanhTienForDichVuModel();\n\n        }\n\n\n    }\n\n    congTyBaoHiemChange($event: number) {\n        this.validationErrors = null;\n\n        this.apiService.post<ThemBaoHiemTuNhan>(\"TiepNhanBenhNhan/GetThongTinBHTN/?congTyBaoHiemTuNhanId=\" + $event).subscribe(\n            resultData => {\n                if (resultData != undefined && resultData != null) {\n                    this.themBaoHiemTuNhanModel.DiaChi = resultData.DiaChi;\n                    this.themBaoHiemTuNhanModel.SoDienThoai = resultData.SoDienThoai;\n                }\n                else {\n                    this.themBaoHiemTuNhanModel.DiaChi = null;\n                    this.themBaoHiemTuNhanModel.SoDienThoai = null;\n                }\n            },\n            (err: any) => {\n                this.themBaoHiemTuNhanModel.DiaChi = null;\n                this.themBaoHiemTuNhanModel.SoDienThoai = null;\n            });\n    }\n\n    huyBHTN() {\n        this.isUpdateGrid = false;\n        this.clearThemBHTN();\n    }\n\n    ThemBHTN() {\n        this.validationErrors = null;\n        let isValid = this.checkValidAddBHTN(this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId);\n        if (isValid == false) {\n            this.notificationService.showError(TiepNhanBenhNhanMessage.MessageThemBHTN);\n            return;\n        }\n        this.apiService.post<ThemBaoHiemTuNhanGridVo>(\"TiepNhanBenhNhan/ThemThongTinBHTN\", this.themBaoHiemTuNhanModel).subscribe(\n            resultData => {\n                if (resultData != undefined && resultData != null) {\n                    this.lstBHTN.push(resultData);\n                    this.setValueForGridBHTN();\n                    this.clearThemBHTN();\n                }\n                else {\n                }\n            },\n            (err: any) => {\n                // self.validationErrors = err.ValidationErrors;\n                if (err != undefined && err.ValidationErrors != null) {\n                    this.validationErrors = err.ValidationErrors;\n                }\n                else if (err != undefined && err.Errors == null) {\n                    //self.validationErrors.push({ \"Message\": err.Message });\n                    this.notificationService.showError(err.Message);\n                }\n\n            });\n    }\n\n    setValueForGridBHTN() {\n        //console.log(this.lstBHTN);\n        let index = 1;\n        this.lstBHTN.forEach(obj => {\n            obj.STT = index;\n            index = index + 1;\n        });\n\n        this.updateBHTN();\n        this.gridDataSourceBHTN = {\n            data: this.lstBHTN,\n            total: this.lstBHTN.length\n        }\n    }\n\n    updateBHTN() {\n        this.tiepNhanBenhNhan.BaoHiemTuNhans = new Array<BaoHiemTuNhanViewModel>();\n        this.lstBHTN.forEach(obj => {\n            let model = new BaoHiemTuNhanViewModel();\n            model.BHTNCongTyBaoHiemId = obj.CongTyBaoHiemTuNhanId;\n            model.BHTNDiaChi = obj.DiaChi;\n            model.BHTNMaSoThe = obj.MaSoThe;\n            model.BHTNNgayHetHan = obj.NgayHetHan;\n            model.BHTNNgayHieuLuc = obj.NgayHieuLuc;\n            model.BHTNSoDienThoai = obj.SoDienThoai;\n            this.tiepNhanBenhNhan.BaoHiemTuNhans.push(model);\n        });\n        //console.log(\"updateBHTN = \", this.tiepNhanBenhNhan.BaoHiemTuNhans);\n    }\n\n    enableUpdateGird(id: number) {\n        this.isUpdateGrid = true;\n        this.isIdNeedUpdate = id;\n    }\n\n    disableUpdateGrid() {\n        this.isUpdateGrid = false;\n        this.isIdNeedUpdate = null;\n        this.clearThemBHTN();\n    }\n\n    clearThemBHTN() {\n        this.themBaoHiemTuNhanModel = new ThemBaoHiemTuNhan();\n    }\n\n    removeGridBHTN(id: number) {\n\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: CommonService.format(SystemMessage.MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result == 'Yes') {\n                let index = this.lstBHTN.find(obj => obj.CongTyBaoHiemTuNhanId == id);\n                this.lstBHTN.splice(this.lstBHTN.indexOf(index), 1)\n                this.gridDataSourceBHTN = {\n                    data: this.lstBHTN,\n                    total: this.lstBHTN.length\n                }\n                this.updateBHTN();\n            }\n        });\n    }\n\n    checkValidAddBHTN(id: number) {\n        //console.log(\"checkValidAddBHTN = \", this.lstBHTN,id);\n        let model = this.lstBHTN.find(obj => obj.CongTyBaoHiemTuNhanId == id);\n        //console.log(\"checkValidAddBHTN = \", index);\n        if (model != undefined) {\n            return false;\n        }\n        return true;\n    }\n\n    updateGridBHTN(dataItem: ThemBaoHiemTuNhanGridVo) {\n        this.isUpdateGrid = true;\n\n        //set\n        this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId = dataItem.CongTyBaoHiemTuNhanId;\n        this.themBaoHiemTuNhanModel.DiaChi = dataItem.DiaChi;\n        this.themBaoHiemTuNhanModel.MaSoThe = dataItem.MaSoThe;\n        this.themBaoHiemTuNhanModel.NgayHetHan = dataItem.NgayHetHan;\n        this.themBaoHiemTuNhanModel.NgayHieuLuc = dataItem.NgayHieuLuc;\n        this.themBaoHiemTuNhanModel.SoDienThoai = dataItem.SoDienThoai;\n        //this.themBaoHiemTuNhanModel.STT = dataItem.STT;\n        this.enableUpdateGird(this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId);\n    }\n\n    SuaBHTN() {\n        let index = this.lstBHTN.find(obj => obj.CongTyBaoHiemTuNhanId == this.isIdNeedUpdate);\n        // this.lstBHTN.splice(this.lstBHTN.indexOf(index), 1);\n\n        // let isValid = this.checkValidAddBHTN(this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId);\n\n        if (this.isIdNeedUpdate != this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId) {\n            let isValid = this.checkValidAddBHTN(this.themBaoHiemTuNhanModel.CongTyBaoHiemTuNhanId);\n            if (isValid == false) {\n                this.disableUpdateGrid();\n                return;\n            };\n        }\n\n        this.validationErrors = null;\n\n        //\n        //this.lstBHTN[this.lstBHTN.indexOf(index)] = this.themBaoHiemTuNhanModel;\n        this.lstBHTN.splice(this.lstBHTN.indexOf(index), 1)\n\n        this.apiService.post<ThemBaoHiemTuNhanGridVo>(\"TiepNhanBenhNhan/ThemThongTinBHTN\", this.themBaoHiemTuNhanModel).subscribe(\n            resultData => {\n                if (resultData != undefined && resultData != null) {\n                    this.lstBHTN.push(resultData);\n                    this.setValueForGridBHTN();\n                    this.disableUpdateGrid();\n                }\n                else {\n                }\n            },\n            (err: any) => {\n                // self.validationErrors = err.ValidationErrors;\n                if (err != undefined && err.ValidationErrors != null) {\n                    this.validationErrors = err.ValidationErrors;\n                }\n                else if (err != undefined && err.Errors == null) {\n                    //self.validationErrors.push({ \"Message\": err.Message });\n                    this.notificationService.showError(err.Message);\n                }\n            });\n\n    }\n\n    removeGridKhamBenh(dataItem) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: CommonService.format(SystemMessage.MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result == 'Yes') {\n                //console.log(\"removeGridKhamBenh = \", dataItem);\n                this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.splice(this.tiepNhanBenhNhan.YeuCauKhamBenhGrid.indexOf(dataItem), 1);\n                this.setDataForDichVuKhamBenh();\n                this.setGiaBHYT();\n                this.refreshGrid();\n            }\n        });\n    }\n\n    removeGridKyThuat(dataItem) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: CommonService.format(SystemMessage.MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result == 'Yes') {\n                //console.log(\"removeGridKhamBenh = \", dataItem);\n                this.tiepNhanBenhNhan.YeuCauKyThuatGrid.splice(this.tiepNhanBenhNhan.YeuCauKyThuatGrid.indexOf(dataItem), 1);\n                this.setDataForDichVuKyThuat();\n                this.refreshGrid();\n            }\n        });\n    }\n\n    removeGridKhac(dataItem) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: CommonService.format(SystemMessage.MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result == 'Yes') {\n                //console.log(\"removeGridKhac = \", dataItem);\n\n                //this.tiepNhanBenhNhan.YeuCauKhacGrid.splice(this.tiepNhanBenhNhan.YeuCauKhacGrid.indexOf(dataItem), 1);\n                this.tiepNhanBenhNhan.YeuCauKhacGrid = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(obj =>\n                    obj != dataItem);\n\n                this.setDataForDichVuKhac();\n                this.setGiaBHYT();\n                this.refreshGrid();\n                //console.log(\"removeGridKhac = \", this.tiepNhanBenhNhan.YeuCauKhacGrid);\n                //this.cdRef.detectChanges();\n                this.removeDanhSachTongCongFromDanhSachDaChon(dataItem);\n\n                this.notificationService.showSuccess(TiepNhanBenhNhanMessage.MessageRemoveDichVuSuccessfully);\n            }\n        });\n    }\n\n    removeGridKhacCoChietKhau(item) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: CommonService.format(SystemMessage.MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result == 'Yes') {\n\n                let goiCoChietKhauId = item.data[0].items[0].GoiCoChietKhauId;\n                //console.log(\"removeGridKhacCoChietKhau1 = \", goiCoChietKhauId);\n\n\n                this.tiepNhanBenhNhan.YeuCauKhacGrid = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(obj => obj.GoiCoChietKhauId != goiCoChietKhauId);\n\n\n                // let index = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(obj => obj.GoiCoChietKhauId == goiCoChietKhauId);\n                // index.forEach(obj => {\n                //   this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o.GoiCoChietKhauId == goiCoChietKhauId)\n                //         .splice(this.tiepNhanBenhNhan.YeuCauKhacGrid.indexOf(obj), 1);\n                // });\n\n\n\n\n                //console.log(\"removeGridKhacCoChietKhau = \", index);\n\n                this.setDataForDichVuKhac();\n\n                this.refreshGrid();\n            }\n        });\n    }\n\n    // noiThucHienGridChange($event, dataItem) {\n    //     //console.log(\"noiThucHienGridChange = \", $event, dataItem);\n    // }\n\n    coBHYTChange($event) {\n        //console.log(\"coBHYTChange = \", $event);\n        // if ($event == true && this.tiepNhanBenhNhan.LyDoVaoVien == 1) {\n        //     this.themChiDinhDichVuModel.DuocHuongBHYT = true;\n        //     this.themChiDinhDichVuModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n        // }\n        // else {\n        //     this.themChiDinhDichVuModel.DuocHuongBHYT = false;\n        //     this.themChiDinhDichVuModel.BHYTMucHuong = null;\n        //     this.removeBHYTForGridChiDinhDichVu();\n        // }\n        if ($event != true) {\n            this.tiepNhanBenhNhan.TuNhap = false;\n            this.HoVaTenTextbox.focus();\n            this.tiepNhanBenhNhan.LyDoVaoVien = null;\n        }\n        else\n        {\n            this.tiepNhanBenhNhan.LyDoVaoVien = 1;\n        }\n\n        this.xuLyKiemTraBenhNhanDuDieuKienTaoMoiYCTN($event);\n        this.setDuocHuongBHYT($event, this.tiepNhanBenhNhan.LyDoVaoVien);\n    }\n\n    tuNhapChange($event) {\n        if ($event == true) {\n            this.tiepNhanBenhNhan.CoBHYT = true;\n            this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n            this.tiepNhanBenhNhan.LyDoVaoVien = 1;\n        }\n        if ($event == false) {\n            this.tiepNhanBenhNhan.CoBHYT = false;\n            this.coBHYTChange(false);\n            this.tiepNhanBenhNhan.LyDoVaoVien = null;\n        }\n    }\n\n    mucHuongChange($event) {\n        this.tiepNhanBenhNhan.BHYTMucHuong = $event;\n        this.setGiaBHYT();\n    }\n\n    blurNgayHetHieuLuc($event) {\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n    }\n    onKeyNgayHetHieuLuc($event) {\n        if ($event.keyCode === 13) {\n            this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n        }\n    }\n\n    onKeyNgayCotHieuLuc($event) {\n        if ($event.keyCode === 13) {\n            this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n        }\n    }\n\n    blurNgayCoHieuLuc($event) {\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, this.tiepNhanBenhNhan.LyDoVaoVien);\n    }\n\n    blurBHYTDiaChi($event) {\n        this.setDiaChiBHYTForModel(this.tiepNhanBenhNhan.BHYTDiaChi);\n    }\n    onKeyBHYTDiaChi($event) {\n        if ($event.keyCode === 13) {\n            this.setDiaChiBHYTForModel(this.tiepNhanBenhNhan.BHYTDiaChi);\n        }\n    }\n\n    blurMaNoiDKBD($event) {\n        this.setNoiDKBD(this.tiepNhanBenhNhan.BHYTMaDKBD);\n    }\n\n    onKeyMaNoiDKBD($event) {\n        if ($event.keyCode === 13) {\n            this.setNoiDKBD(this.tiepNhanBenhNhan.BHYTMaDKBD);\n        }\n    }\n\n    setNoiDKBD(ma: string) {\n        this.apiService.post<string>(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + ma).subscribe(\n            resultData => {\n                this.tiepNhanBenhNhan.NoiDangKyBHYT = resultData;\n\n            },\n            () => {\n                //return null;\n                //console.log(\"error\")\n            });\n    }\n\n    lyDoVaoVienChange($event) {\n        //console.log(\"tuyenChuyenChange = \", $event);\n        // if ($event == 1 && this.tiepNhanBenhNhan.CoBHYT == true) {\n        //     this.themChiDinhDichVuModel.DuocHuongBHYT = true;\n        //     this.themChiDinhDichVuModel.BHYTMucHuong = this.tiepNhanBenhNhan.BHYTMucHuong;\n        //     this.addBHYTForGridChiDinhDichVu();\n        // }\n        // else {\n        //     this.themChiDinhDichVuModel.DuocHuongBHYT = false;\n        //     this.themChiDinhDichVuModel.BHYTMucHuong = null;\n        //     this.removeBHYTForGridChiDinhDichVu();\n        // }\n        this.setDuocHuongBHYT(this.tiepNhanBenhNhan.CoBHYT, $event);\n    }\n\n    onTabSelect($event) {\n        this.removeThemDichVuValue();\n        this.removeThemGoiValue();\n        //console.log(\"onTabSelect = \", $event);\n        if ($event != null && $event.index == 2 && this.under6yearsold) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if(this.under6yearsold == false)\n        {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n    }\n\n    lichSuKBC() {\n        let dialogRef = this.dialog.open(TiepNhanBenhNhanPopupLichSuKcbComponent, {\n            disableClose: false,\n            width: '1000px',\n            height: '409px',\n            data: this.lichSuKCB,\n        });\n        dialogRef.afterClosed().subscribe(result => {\n\n        });\n    }\n\n    lichSuKiemTraTheBHYT() {\n        let dialogRef = this.dialog.open(TiepNhanBenhNhanPopupLichSuKiemTraTheBhytComponent, {\n            disableClose: false,\n            width: '1200px',\n            height: '500px',\n            data: this.lichSuKiemTraTheBHYTGrid,\n        });\n        dialogRef.afterClosed().subscribe(result => {\n\n        });\n    }\n\n    duocHuongBHYTChange($event, maDichVuId, nhom) {\n\n        let item = this.tiepNhanBenhNhan.YeuCauKhacGrid\n            .filter(o => o.IsGoiCoChietKhau == false || o.IsGoiCoChietKhau == null)\n            .find(obj => obj.MaDichVuId == maDichVuId && obj.Nhom == nhom);\n        //console.log(\"duocHuongBHYTChange = \", maDichVuId, nhom, $event, item);\n        item.DuocHuongBHYT = $event;\n        if ($event) {\n            item.BHYTThanhToan = item.GiaBHYT * item.SoLuong * item.TiLeBaoHiemThanhToan / 100;\n            item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n            item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n        }\n        else {\n            item.BHYTThanhToan = 0;\n            item.SoTienMG = (item.ThanhTien - item.BHYTThanhToan) * item.TLMG / 100;\n            item.BnThanhToan = item.ThanhTien - item.BHYTThanhToan - item.SoTienMG;\n        }\n        this.setGiaBHYT();\n\n        //this.setDataForDichVuKhac();\n        //this.refreshGrid();\n    }\n\n    setThongTinTaiKhoanBenhNhan(id: number) {\n        this.apiService.post<any>(\"TiepNhanBenhNhan/GetThongTinTaiKhoanBenhNhan?idbenhNhan=\" + id).subscribe(\n            resultData => {\n                this.thongTinTaiKhoanBenhNhan = resultData;\n\n            },\n            () => {\n                //return null;\n                //console.log(\"error\")\n            });\n    }\n\n    timKiemBenhNhanPopup() {\n        let dataTimKiem = new DataTimKiem();\n        dataTimKiem.searchBenhNhan = new TimKiemBenhNhanGridVo();\n        dataTimKiem.searchBenhNhan = this.modelTimKiemBenhNhan;\n        dataTimKiem.data = new Array<TimKiemBenhNhanGridVo>();\n        dataTimKiem.data = this.lstBenhNhan;\n        let dialogRef = this.dialog.open(PopupTimKiemBenhNhanComponent, {\n            disableClose: false,\n            width: '1400px',\n            height: '600px',\n            data: dataTimKiem,\n        });\n        dialogRef.afterClosed().subscribe(result => {\n            if (result != null && result != undefined) {\n                // console.log(\"data:\", result)\n                this.benhNhanIdPopup = result.Id;\n                this.coYeuCauGoiDichVu = result.CoYeuCauGoiDichVu;\n                //this.checkTNBNToDay(result.BHYTMaSoThe, result.Id);\n                this.checkTNBNToDay(result.BHYTMaSoThe, result.Id, true);\n                this.validationErrors = null;\n                //this.setThongTinTaiKhoanBenhNhan(result.Id);\n                //console.log(\"timKiemBenhNhanPopup = \", result);\n                //this.cdRef.detectChanges();\n                //set bhtn\n                if (result.BaoHiemTuNhans.length > 0) {\n                    this.lstBHTN = new Array<ThemBaoHiemTuNhanGridVo>();\n                    result.BaoHiemTuNhans.forEach(item => {\n                        let model = new ThemBaoHiemTuNhanGridVo();\n                        model.CongTyBaoHiemTuNhanId = item.BHTNCongTyBaoHiemId;\n                        model.CongTyDisplay = item.CongTyDisplay;\n                        model.DiaChi = item.BHTNDiaChi;\n                        model.MaSoThe = item.BHTNMaSoThe;\n                        model.NgayHetHan = item.BHTNNgayHetHan;\n                        let dateNgayHetHan = new Date(model.NgayHetHan);\n                        model.NgayHetHanDisplay = CommonService.formatDate(dateNgayHetHan, \"dd/mm/yyyy\");\n                        model.NgayHieuLuc = item.BHTNNgayHieuLuc;\n                        let dateNgayHieuLuc = new Date(model.NgayHieuLuc);\n                        model.NgayHieuLucDisplay = CommonService.formatDate(dateNgayHieuLuc, \"dd/mm/yyyy\");\n                        model.SoDienThoai = item.BHTNSoDienThoai;\n                        this.lstBHTN.push(model);\n                    });\n                    this.setValueForGridBHTN();\n                }\n\n\n                //set benh nhan\n                this.tiepNhanBenhNhan.BenhNhanId = result.Id;\n                this.benhNhanId = result.Id;\n\n                //người giám hộ\n                this.tiepNhanBenhNhan.NguoiLienHeHoTen = result.NguoiLienHeHoTen;\n                this.tiepNhanBenhNhan.NguoiLienHeQuanHeNhanThanId = result.NguoiLienHeQuanHeNhanThanId;\n                this.tiepNhanBenhNhan.NguoiLienHeSoDienThoai = result.NguoiLienHeSoDienThoai;\n                this.tiepNhanBenhNhan.NguoiLienHeEmail = result.NguoiLienHeEmail;\n                this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId = result.NguoiLienHeTinhThanhId;\n                this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId = result.NguoiLienHeQuanHuyenId;\n                this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = result.NguoiLienHePhuongXaId;\n                this.tiepNhanBenhNhan.NguoiLienHeDiaChi = result.NguoiLienHeDiaChi;\n\n                //Nơi giới thiệu , hiển thị nơi giới thiệu              \n                this.tiepNhanBenhNhan.HinhThucDenId = result.HinhThucDenId;\n                this.tiepNhanBenhNhan.NoiGioiThieuId = result.NoiGioiThieuId;\n\n                //Do quận huyện nó không bind do cơ chế chạy trước sau nên ta set lại cho comboxQuanHuyen này\n                //this.bindComboboxQuanHuyen(result)\n\n                this.getDanhSachGoiBenhNhan(this.benhNhanId);\n\n                this.setValueFromBenhNhanToYeuCauTiepNhan(result);\n\n                this.timKiemBenhNhan(this.modelTimKiemBenhNhan);\n\n                this.xuLyKiemTraBenhNhanDuDieuKienTaoMoiYCTN();\n            }\n        });\n    }\n\n    checkTNBNToDay(maThe: string, id: number = 0, khongDongPopup: boolean = false) {\n        // Hàm này lúc dev cũ viết nhằm mục đích là tự động chuyển sang trang cập nhật YCTN nếu API trả về id YCTN, \n        // Nhưng theo logic mới thì đã bỏ tự động chuyển trang, nếu muốn chuyển sang cập nhật YCTN phải chọn button ở góc dưới cùng bên trái\n\n        // var idOld = this.route.snapshot.params.id;\n        // if (idOld == null || idOld <= 0) {\n        //     this.apiService.post<any>(\"TiepNhanBenhNhan/GetYeuCauTiepNhanOfBenhNhan?maSoBHYT=\" + maThe + \"&id=\" + id).subscribe(\n        //         resultData => {\n        //             if (resultData != null) {\n        //                 if(!khongDongPopup)\n        //                 {\n        //                     this.dialog.closeAll();\n        //                 }\n\n        //                 // cập nhật điều kiện tạo mới yctn\n        //                 //this.router.navigate(['danh-sach-tiep-nhan/chinh-sua/' + resultData]);\n        //                 // chuyển về xử lý chung ở function kiểm tra lỗi tạo mới YCTN\n        //                 //this.urlPageUpdateYCTN = 'danh-sach-tiep-nhan/chinh-sua/' + resultData;\n        //             }\n        //             else\n        //             {\n        //                 // cập nhật điều kiện tạo mới yctn\n        //                 //this.urlPageUpdateYCTN = null;\n        //             }\n        //         },\n        //         () => {\n        //             //return null;\n        //             //console.log(\"error\")\n        //         });\n        // }\n\n\n    }\n\n    setValueFromBenhNhanToYeuCauTiepNhan(benhNhan: BenhNhanTiepNhanBenhNhanViewModel) {\n        this.tiepNhanBenhNhan.BHYTMaDKBD = benhNhan.BHYTMaDKBD;\n        this.tiepNhanBenhNhan.BHYTDiaChi = benhNhan.BHYTMaDKBD;\n        this.tiepNhanBenhNhan.BHYTMaSoThe = benhNhan.BHYTMaSoThe;\n        this.tiepNhanBenhNhan.BHYTNgayDu5Nam = benhNhan.BHYTNgayDu5Nam;\n        this.tiepNhanBenhNhan.BHYTDuocMienCungChiTra = benhNhan.BHYTDuocMienCungChiTra;\n        this.tiepNhanBenhNhan.BHYTNgayHieuLuc = benhNhan.BHYTNgayHieuLuc;\n        this.tiepNhanBenhNhan.BHYTNgayHetHan = benhNhan.BHYTNgayHetHan;\n        this.tiepNhanBenhNhan.BHYTCoQuanBHXH = benhNhan.BHYTCoQuanBHXH;\n        this.tiepNhanBenhNhan.CoBHTN = benhNhan.CoBHTN;\n        this.tiepNhanBenhNhan.CoBHYT = benhNhan.CoBHYT;\n        if(this.tiepNhanBenhNhan.CoBHYT == true)\n        {\n            this.tiepNhanBenhNhan.LyDoVaoVien = 1;\n        }\n        else\n        {\n            this.tiepNhanBenhNhan.LyDoVaoVien = null;\n        }\n        this.tiepNhanBenhNhan.NgaySinh = benhNhan.NgaySinh;\n        this.tiepNhanBenhNhan.NamSinh = benhNhan.NamSinh;\n        this.tiepNhanBenhNhan.ThangSinh = benhNhan.ThangSinh;\n\n        this.tiepNhanBenhNhan.NgayThangNamSinh = benhNhan.NgayThangNamSinh;\n        this.tiepNhanBenhNhan.HoTen = benhNhan.HoTen;\n\n        this.getAge(this.tiepNhanBenhNhan.NgayThangNamSinh, new Date);\n\n        this.tiepNhanBenhNhan.TinhThanhId = 0;\n        var self=this;\n        setTimeout(function () {\n            self.tiepNhanBenhNhan.TinhThanhId = benhNhan.TinhThanhId;\n            self.tiepNhanBenhNhan.QuanHuyenId = benhNhan.QuanHuyenId;\n            self.tiepNhanBenhNhan.PhuongXaId = benhNhan.PhuongXaId;        \n        },1000);        \n\n        this.tiepNhanBenhNhan.QuocTichId = benhNhan.QuocTichId;\n        //this.tiepNhanBenhNhan.DanTocId = benhNhan.DanTocId;\n        this.tiepNhanBenhNhan.DiaChi = benhNhan.DiaChi;\n        this.tiepNhanBenhNhan.SoDienThoai = benhNhan.SoDienThoai;\n        this.tiepNhanBenhNhan.SoChungMinhThu = benhNhan.SoChungMinhThu;\n        this.tiepNhanBenhNhan.Email = benhNhan.Email;\n        this.tiepNhanBenhNhan.NgheNghiepId = benhNhan.NgheNghiepId;\n        this.tiepNhanBenhNhan.GioiTinh = benhNhan.GioiTinh;\n        //this.tiepNhanBenhNhan.BHYTMaKhuVuc = benhNhan.BHYTMaKhuVuc;\n        this.tiepNhanBenhNhan.BHYTNgayDuocMienCungChiTra = benhNhan.BHYTNgayDuocMienCungChiTra;\n        this.tiepNhanBenhNhan.NoiLamViec = benhNhan.NoiLamViec;\n\n        //BHYT information\n        // this.tiepNhanBenhNhan.NgayThangNamSinhDisplay = benhNhan.NgayThangNamSinhDisplay;\n        // this.tiepNhanBenhNhan.NgayDu5NamDisplay = benhNhan.BHYTNgayDu5NamDisplay;\n        // this.apiService.post<string>(\"TiepNhanBenhNhan/GetNoiDangKyBaoHiem?ma=\" + benhNhan.BHYTMaDKBD).subscribe(\n        //     resultData => {\n        //         this.tiepNhanBenhNhan.NoiDangKyBHYT = resultData;\n\n        //     },\n        //     () => {\n        //         //return null;\n        //         //console.log(\"error\")\n        //     });\n\n        if (benhNhan.CoBHYT != true) return;\n\n        //if (this.isCheckedBHYT == true) return;\n        this.isCheckedBHYT = true;\n\n        this.thongTinBenhNhan.MaThe = this.tiepNhanBenhNhan.BHYTMaSoThe;\n        this.thongTinBenhNhan.TenBenhNhan = this.tiepNhanBenhNhan.HoTen;\n        this.thongTinBenhNhan.NgaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n        this.thongTinBenhNhan.NamSinh = this.tiepNhanBenhNhan.NamSinh;\n\n        var datePipe = new DatePipe(\"en-US\");\n        this.thongTinBenhNhan.NgaySinhDisplay = datePipe.transform(this.tiepNhanBenhNhan.NgayThangNamSinh, 'dd/MM/yyyy');\n\n        if (this.thongTinBenhNhan.MaThe != null && this.thongTinBenhNhan.TenBenhNhan != null\n            && (this.thongTinBenhNhan.NgaySinh != null || this.thongTinBenhNhan.NamSinh != null)) {\n\n\n            //console.log(\"thongTinBenhNhan = \", this.thongTinBenhNhan);\n            let dialogRef = this.dialog.open(TiepNhanBenhNhanChoQuetComponent, {\n                disableClose: true,\n                width: '500px',\n                height: '250px',\n                data: this.thongTinBenhNhan,\n            });\n            dialogRef.afterClosed().subscribe(result => {\n                //console.log(\"close = \", result);\n                if (result === undefined) {\n                    //cheat vi khong hieu sao ra duoc\n                }\n\n                // else if (result == null || (result != null && result.maKetQua == \"050\")) {\n                else if (result == null || (result != null && result.maKetQua !== \"000\" && result.maKetQua !== \"004\")) {\n                    //this.clearData();\n                    //this.notificationService.showError(TiepNhanBenhNhanMessage.MessageSaiThongTinBenhNhan);\n\n                    //\n                    this.tiepNhanBenhNhan.MessageErrFromBHYT = result != null ? result.ghiChu : null;\n                    let dialogRef = this.dialog.open(TiepNhanBenhNhanErrorComponent, {\n                        disableClose: false,\n                        width: '700px',\n                        height: '300px',\n                        data: this.tiepNhanBenhNhan,\n                    });\n                    dialogRef.afterClosed().subscribe(result => {\n                        //document.getElementById(\"SoTheBHYTisAutoFocus\").focus();\n                        this.isCheckedBHYT = false;\n                        if (result == 2) {\n                            this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                            this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                            this.tiepNhanBenhNhan.CoBHYT = true;\n                            this.tiepNhanBenhNhan.TuNhap = true;\n                        }\n                        else if (result == 1) {\n                            this.tiepNhanBenhNhan.CoBHYT = false;\n                            this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                            this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                        }\n                        else if (result != undefined) {\n                            //console.log(\"------- \", result);\n                            this.setValueBHYT(result);\n                        }\n                    });\n                    //\n\n                }\n                else {\n                    //console.log(\"onkey = \",event, this.tiepNhanBenhNhan.BHYTMaSoThe)\n\n                    this.isCheckedBHYT = false;\n                    this.setValueBHYT(result);\n                }\n            });\n\n\n\n        }\n\n        else {\n            this.isCheckedBHYT = false;\n        }\n\n        /////////////\n    }\n\n    onSelectChangeVoucher(voucherId: any) {\n        var last = voucherId[voucherId.length - 1];\n        if (last == undefined)\n            this.loaiVoucher = 0;\n\n        this.apiService.post<any>(\"ThuNgan/GetMaVoucher?loaiVoucher=\" + this.loaiVoucher).subscribe(resultData => {\n            if (resultData !== null && resultData !== undefined) {\n                this.voucherLookupItemVo = resultData;\n                this.voucherLookupItemVo.forEach(element => {\n                    if (element.KeyId == last) {\n                        this.loaiVoucher = element.LoaiVoucher;\n                    }\n                });\n            }\n        });\n    }\n\n    getDanhSachGoiBenhNhan(benhNhanId: number) {\n        this.apiService.post<any>(\"TiepNhanBenhNhan/GetMarketingForBenhNhan?benhNhanId=\" + benhNhanId).subscribe(resultData => {\n            this.danhSachGoiDaChonTrongYCTN = resultData;\n            if (resultData !== null && resultData !== undefined && resultData.length > 0) {\n                this.suDungGoiMarketingModelTemp = true;\n                this.disabledCheckboxMarketing = true;\n            }\n            else {\n                this.suDungGoiMarketingModelTemp = false;\n                this.disabledCheckboxMarketing = false;\n            }\n        });\n    }\n\n    suDungGoiMarketingChange(event) {\n        //console.log(\"suDungGoiMarketingChange = \", event);\n        if (event) {\n            this.openPopupGoiDichVu();\n        }\n    }\n\n    showPopupMarketingWithHyperlink(item) {\n        //console.log(\"showPopupMarketingWithHyperlink = \", item);\n        this.openPopupGoiDichVu(item);\n    }\n\n    removeGoi(item) {\n        //console.log(\"removeGoi = \", item, this.tiepNhanBenhNhan.YeuCauKhacGrid);\n\n        if (this.isActiveAction != null) {\n            this.dialog.closeAll();\n            this.isActiveAction = null;\n        }\n\n        this.isActiveAction = this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: TiepNhanBenhNhanMessage.MessageConfirmRemoveGoi }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result == \"Yes\") {\n                this.removeGoiOnDichVu(item);\n            }\n            else {\n                this.removeDichVuGoi(item);\n            }\n        });\n\n        this.removeGoiDaChon(item.ChuongTrinhGoiDichVuId);\n\n    }\n\n\n    removeGoiDaChon(id) {\n        this.danhSachGoiDaChonTrongYCTN = this.danhSachGoiDaChonTrongYCTN.filter(o => o.ChuongTrinhGoiDichVuId != id);\n        this.danhSachDichVuDaChonTrongLanPopup = this.danhSachDichVuDaChonTrongLanPopup.filter(o => o.ChuongTrinhGoiDichVuId != id);\n    }\n\n    removeDichVuGoi(item) {\n        console.log(\"removeDichVuGoi = \", item, this.tiepNhanBenhNhan.YeuCauKhacGrid);\n\n        this.tiepNhanBenhNhan.YeuCauKhacGrid = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o.GoiCoChietKhauId != item.ChuongTrinhGoiDichVuId);\n        this.setDataForDichVuKhac();\n        this.refreshGrid();\n    }\n    removeGoiOnDichVu(item) {\n        // this.tiepNhanBenhNhan.YeuCauKhacGrid.forEach(o => {\n        //     if(item.ChuongTrinhGoiDichVuId == o.GoiCoChietKhauId){\n        //         o.\n        //     }\n        // });\n        for (let i = 0; i < this.tiepNhanBenhNhan.YeuCauKhacGrid.length; i++) {\n            let object = this.tiepNhanBenhNhan.YeuCauKhacGrid[i];\n            if (item.ChuongTrinhGoiDichVuId == object.GoiCoChietKhauId) {\n                object.GoiCoChietKhauId = null;\n                object.IsGoiCoChietKhau = false;\n            }\n        }\n\n        this.setDataForDichVuKhac();\n        this.refreshGrid();\n    }\n\n    openPopupGoiDichVu(danhSachGoiDaChon: DanhSachGoiChon = null) {\n        var self = this;\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n\n            self.dialog.open(PopupMarketingTiepNhanBenhNhanComponent, {\n                disableClose: false,\n                width: '1800px',\n                data: {\n                    data: this.danhSachGoiDaChonTrongYCTN, benhNhanId: this.tiepNhanBenhNhan.BenhNhanId\n                    , danhSachDichVuGoiDaChon: this.danhSachDichVuDaChonTrongLanPopup, itemPopup: danhSachGoiDaChon\n                    , danhSachDichVuDangCo: this.tiepNhanBenhNhan.YeuCauKhacGrid\n                }\n            }).afterClosed().subscribe(result => {\n                //console.log('openPopupGoiDichVu', result);\n\n                if (result != undefined && result.length > 0) {\n                    this.danhSachDichVuGoiDaChon = new Array<ThemChiDinhDichVu>();\n                    result.forEach(e => {\n                        let item = new ThemChiDinhDichVu();\n                        item.LaGoi = true;\n                        item.TenNhomDichVu = e.TenNhomDichVu;\n                        item.MaDichVuId = e.DichVuId;\n                        item.SoLuong = e.SoLuongDungLanNay;\n                        item.chuongTrinhGoiDichVuId = e.ChuongTrinhGoiDichVuId;\n                        item.YeuCauGoiDichVuId = e.YeuCauGoiDichVuId;\n                        //cheat cho lẹ\n                        item.DuocHuongBHYT = this.themChiDinhDichVuModel.DuocHuongBHYT;\n\n                        this.danhSachDichVuGoiDaChon.push(item);\n                    });\n                    this.themChiDinhDichVuKhacKhamBenh(6, this.danhSachDichVuGoiDaChon);\n                    this.copyDanhSachTongCong(result);\n                    this.updateDanhSachGoiChon(result);\n                }\n\n                if (result == undefined && this.disabledCheckboxMarketing != true && this.danhSachDichVuDaChonTrongLanPopup.length == 0) {\n                    this.suDungGoiMarketingModelTemp = false;\n                }\n\n                // if(yeuCauGoiMarketing != undefined && yeuCauGoiMarketing != null && yeuCauGoiMarketing != \"\")\n                // {\n\n                // }\n            });\n        }\n        else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    addDanhSachTongCongFromDanhSachDaChon(data: Array<ThemChiDinhDichVu>) {\n        data.forEach(o => {\n            let item = new DanhSachDichVuChonTrongLanPopup();\n            item.TenNhomDichVu = o.TenNhomDichVu;\n            item.DichVuId = o.MaDichVuId;\n            item.SoLuongDungLanNay = o.SoLuong;\n            item.ChuongTrinhGoiDichVuId = o.chuongTrinhGoiDichVuId;\n            item.BenhNhanId = this.tiepNhanBenhNhan.BenhNhanId;\n            item.YeuCauGoiDichVuId = o.YeuCauGoiDichVuId;\n            item.ThuocGoi = o.ThuocGoi;\n            this.danhSachDichVuDaChonTrongLanPopup.push(item);\n        })\n    }\n\n    removeDanhSachTongCongFromDanhSachDaChon(data) {\n        //console.log(\"removeDanhSachTongCongFromDanhSachDaChon = \", data, this.danhSachDichVuDaChonTrongLanPopup);\n        if (data.IsGoiCoChietKhau) {\n            let item = this.danhSachDichVuDaChonTrongLanPopup.filter(e => e.YeuCauGoiDichVuId == data.GoiCoChietKhauIdTemp && e.DichVuId == data.MaDichVuId)[0];\n            // this.danhSachDichVuDaChonTrongLanPopup \n            // = this.danhSachDichVuDaChonTrongLanPopup.filter(e => e.ChuongTrinhGoiDichVuId != data.GoiCoChietKhauId && e.DichVuId != data.MaDichVuId);\n            this.danhSachDichVuDaChonTrongLanPopup\n                = this.danhSachDichVuDaChonTrongLanPopup.filter(e => e != item);\n\n            //console.log(\"Co chiet khau, \", this.danhSachDichVuDaChonTrongLanPopup);\n        }\n        //let item = this.danhSachDichVuDaChonTrongLanPopup.filter(e => e.TenChuongTrinh == o.ThuocGoi);\n    }\n\n    copyDanhSachTongCong(data: Array<DanhSachDichVuChonTrongLanPopup>) {\n        data.forEach(o => {\n            // let item = this.danhSachDichVuDaChonTrongLanPopup.filter(e => e == data);\n\n            // if(item == undefined || item.length == 0){\n            //     this.danhSachDichVuDaChonTrongLanPopup.push(data);\n            // }\n            //code tiep\n            this.danhSachDichVuDaChonTrongLanPopup.push(o);\n        })\n    }\n\n    updateDanhSachGoiChon(data: Array<DanhSachDichVuChonTrongLanPopup>) {\n        console.log(\"updateDanhSachGoiChon = \", data);\n        data.forEach(o => {\n            let item = this.danhSachGoiDaChonTrongYCTN.filter(e => e.TenChuongTrinh == o.ThuocGoi);\n\n            if (item == undefined || item.length == 0) {\n                let itemAdd = new DanhSachGoiChon();\n                itemAdd.BenhNhanId = this.tiepNhanBenhNhan.BenhNhanId;\n                itemAdd.ChuongTrinhGoiDichVuId = o.ChuongTrinhGoiDichVuId;\n                itemAdd.IsFromMarketing = o.IsFromMarketing;\n                itemAdd.TenChuongTrinh = o.ThuocGoi;\n                itemAdd.YeuCauGoiDichVuId = o.YeuCauGoiDichVuId;\n                itemAdd.DaThanhToan = o.DaThanhToan;\n                itemAdd.TenGoiDichVu = o.TenGoi;\n                this.danhSachGoiDaChonTrongYCTN.push(itemAdd);\n            }\n        })\n    }\n\n    onOpenChange() {\n        this.voucherList.getDataForLookup();\n    }\n\n    soNhaDuongPhoChange(model) {\n        this.tiepNhanBenhNhan.DiaChi = model;\n\n        if (this.under6yearsold) {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if(this.under6yearsold == false)\n        {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n        //console.log(\"change = \", model, model != null && model != undefined, model != \"\");\n        //console.log(\"soNhaDuongPhoChange123 = \", model);\n        // if(model != null && model != undefined && model != \"\"){\n        //     let arrayDiaChi = model.split(\" \");\n        //     let resultString = \"\";\n        //     //console.log(\"soNhaDuongPhoChange = \", arrayDiaChi);\n        //     \n        //     arrayDiaChi.forEach(e => {\n        //         if(e != undefined && e != null && e != \"\"){\n        //             if(resultString == \"\"){\n        //                 resultString = e[0].toUpperCase() + e.slice(1);\n        //             }\n        //             else{\n        //                 resultString = resultString + \" \" +  e[0].toUpperCase() + e.slice(1);\n        //             }\n        //         }\n        //         else if(e == \"\"){\n        //             resultString = resultString + \" \";\n        //         }\n        //     });\n        //     this.tiepNhanBenhNhan.DiaChi = resultString;\n        //     //this.tiepNhanBenhNhan.DiaChi = model[0].toUpperCase() + model.slice(1);\n        // }\n    }\n    // noiThucHienChange($event){\n    //     if($event != null && $event != undefined && $event.length > 0)\n    //     {\n    //         this.themChiDinhDichVuModel.NoiThucHienId = $event[0].KeyId;\n    //     }\n    // }\n\n    // noiThucHienGridChange($event, dataItem) {\n\n    //     // let model = this.tiepNhanBenhNhan.YeuCauKhacGrid.find(obj => obj == dataItem);\n    //     // ;\n    //     // console.log(\"noiThucHienGridChange = \", $event, dataItem, model);\n    //     // if ($event != null && $event != undefined && $event.length > 0) {\n    //     //     //this.themChiDinhDichVuModel.NoiThucHienId = $event[0].KeyId;\n    //     //     if (model != undefined  && model.NoiThucHienId === null) {\n    //     //         model.NoiThucHienId = $event[0].KeyId;\n    //     //     }\n    //     // }\n    //     // else {\n    //     //     if (model != undefined && model.NoiThucHienId === null) {\n    //     //         model.NoiThucHienId = $event[0].KeyId;\n    //     //     }\n    //     //     //this.themChiDinhDichVuModel.NoiThucHienId = null;\n    //     // }\n    // }\n\n    NamSinhChange(event) {\n        //console.log(\"NamSinhChange = \", event);\n        let dateNow = new Date();\n        if (event >= dateNow.getFullYear() - 6) {\n            this.under6yearsold = true;\n            this.soTuoiDisplay = dateNow.getFullYear() - event + \" Tuổi \" + 0 + \" Tháng \" + 0 + \" Ngày \";\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        else {\n            this.under6yearsold = false;\n            this.soTuoiDisplay = dateNow.getFullYear() - event + \" Tuổi\";\n        }\n\n        // this.soTuoiDisplay = dateNow.getFullYear() - event + \" Tuổi \" + 0 + \" Tháng \" + 0 + \" Ngày \";\n        if(this.under6yearsold == true)\n        {\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        if(this.under6yearsold == false)\n        {\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n       \n    }\n\n    getAge(date_1, date_2) {\n\n        if((date_1 == undefined || date_1 == null) && this.tiepNhanBenhNhan.NamSinh != undefined && this.tiepNhanBenhNhan.NamSinh != null && this.tiepNhanBenhNhan.NamSinh != 0)\n        {\n            date_1 = new Date(this.tiepNhanBenhNhan.NamSinh, 1, 1);\n        }\n        date_1 = new Date(date_1);\n        date_2 = new Date(date_2);\n\n        //convert to UTC\n        let date2_UTC = new Date(Date.UTC(date_2.getFullYear(), date_2.getMonth(), date_2.getDate()));\n        let date1_UTC = new Date(Date.UTC(date_1.getFullYear(), date_1.getMonth(), date_1.getDate()));\n\n\n        //console.log(date1_UTC, date2_UTC, date_1, date_2);\n        let yAppendix, mAppendix, dAppendix;\n\n\n        //--------------------------------------------------------------\n        let days = date2_UTC.getDate() - date1_UTC.getDate();\n        if (days < 0) {\n\n            date2_UTC.setMonth(date2_UTC.getMonth() - 1);\n            days += this.DaysInMonth(date2_UTC);\n        }\n        //--------------------------------------------------------------\n        let months = date2_UTC.getMonth() - date1_UTC.getMonth();\n        if (months < 0) {\n            date2_UTC.setFullYear(date2_UTC.getFullYear() - 1);\n            months += 12;\n        }\n        //--------------------------------------------------------------\n        let years = date2_UTC.getFullYear() - date1_UTC.getFullYear();\n\n\n\n\n        if (years > 1) yAppendix = \" years\";\n        else yAppendix = \" year\";\n        if (months > 1) mAppendix = \" months\";\n        else mAppendix = \" month\";\n        if (days > 1) dAppendix = \" days\";\n        else dAppendix = \" day\";\n\n        if ((years < 6 && years >= 0) || (years == 6 && months == 0 && days == 0)) {\n            this.under6yearsold = true;\n            this.soTuoiDisplay = years + \" Tuổi \" + months + \" Tháng \" + days + \" Ngày \";\n            this.cloneDiaChiNguoiGiamHo();\n        }\n        else {\n            this.under6yearsold = false;\n            this.soTuoiDisplay = years + \" Tuổi\";\n            this.cloneDiaChiNguoiGiamLonHon6Tuoi();\n        }\n\n        //this.soTuoiDisplay = years + \" Tuổi \" + months + \" Tháng \" + days + \" Ngày \";\n        //console.log(years + yAppendix + \", \" + months + mAppendix + \", and \" + days + dAppendix);\n    }\n\n\n    DaysInMonth(date2_UTC) {\n        let monthStart: any = new Date(date2_UTC.getFullYear(), date2_UTC.getMonth(), 1);\n        let monthEnd: any = new Date(date2_UTC.getFullYear(), date2_UTC.getMonth() + 1, 1);\n        let monthLength: any = (monthEnd - monthStart) / (1000 * 60 * 60 * 24);\n        return monthLength;\n    }\n\n    tabscripChange(event) {\n        //console.log(\"tabscripChange = \", event, event.path[0].id == \"k-tabstrip-tab-0\");\n        if (event.keyCode === 9 && (event.path != null && event.path[0].id == \"k-tabstrip-tab-0\")) {\n            this.tabStrip.selectTab(0);\n            let self = this;\n            setTimeout(function () {\n                //console.log(\"setTimeout = \", self.dichVuCombobox);\n                if (self.dichVuCombobox != undefined) {\n                    self.dichVuCombobox.focusManual();\n                }\n            }, 100);\n        }\n    }\n\n    cloneDiaChiNguoiGiamHo() {\n        this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId = this.tiepNhanBenhNhan.TinhThanhId;\n        this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId = this.tiepNhanBenhNhan.QuanHuyenId;\n        this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = this.tiepNhanBenhNhan.PhuongXaId;\n        this.tiepNhanBenhNhan.NguoiLienHeDiaChi = this.tiepNhanBenhNhan.DiaChi;\n    }\n\n    cloneDiaChiNguoiGiamLonHon6Tuoi() {\n        this.tiepNhanBenhNhan.NguoiLienHeTinhThanhId = null;\n        this.tiepNhanBenhNhan.NguoiLienHeQuanHuyenId = null;\n        this.tiepNhanBenhNhan.NguoiLienHePhuongXaId = null;\n        this.tiepNhanBenhNhan.NguoiLienHeDiaChi = null;\n    }\n\n\n    ngayCoHieuLucChange($event) {\n        //console.log(\"ngayCoHieuLucChange, event = \", $event, \" , ngaycohieuluc = \", this.tiepNhanBenhNhan.BHYTNgayHieuLuc, this.tiepNhanBenhNhan.BHYTNgayHetHan);\n        if ($event != null && $event != undefined) {\n            //let dateFormat = new Date($event);\n            //this.tiepNhanBenhNhan.BHYTNgayHetHan = new Date(dateFormat.getFullYear() + 1, dateFormat.getMonth(), dateFormat.getDate());\n\n            //BVHD-3518: mặc định là ngà 31/12 của năm hiện tại\n            let currentDate = new Date();\n            this.tiepNhanBenhNhan.BHYTNgayHetHan = new Date(currentDate.getFullYear(), 11, 31);\n        }\n\n    }\n\n    soLuongGridChange($event, dataItem) {\n        let data = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o == dataItem);\n        if ($event != null && $event != undefined && $event != 0) {\n            data[0].SoLuong = $event;\n            this.setGiaBHYT();\n        }\n        else {\n            data[0].SoLuong = 0;\n            this.setGiaBHYT();\n        }\n\n        this.updateSoLuongForDichVuGoi(data[0]);\n    }\n\n    updateSoLuongForDichVuGoi(data: ChiDinhDichVuGridVo) {\n        //console.log(\"updateSoLuongForDichVuGoi = \", data, this.danhSachDichVuDaChonTrongLanPopup, this.tiepNhanBenhNhan.YeuCauKhacGrid);\n        if (data.IsGoiCoChietKhau) {\n            let item = this.danhSachDichVuDaChonTrongLanPopup.filter(o => o.DichVuId == data.MaDichVuId\n                && o.ThuocGoi == data.TenGoiChietKhau);\n\n            if (item != undefined && item.length > 0) {\n                item[0].SoLuongDungLanNay = data.SoLuong;\n            }\n        }\n    }\n\n    loaiGiaGridChange($event, dataItem) {\n        //console.log($event, dataItem);\n        let data = this.tiepNhanBenhNhan.YeuCauKhacGrid.filter(o => o == dataItem);\n        if ($event != null && $event != undefined && dataItem != null && dataItem != undefined) {\n            let url = \"TiepNhanBenhNhan/GetDonGiaKyThuat\";\n            if (dataItem.Nhom == \"DỊCH VỤ KỸ THUẬT\") {\n                url = \"TiepNhanBenhNhan/GetDonGiaKyThuat\";\n            }\n            else if (dataItem.Nhom == \"DỊCH VỤ GIƯỜNG\") {\n                url = \"TiepNhanBenhNhan/GetDonGiaGiuongBenh\";\n            }\n            else {\n                url = \"TiepNhanBenhNhan/GetDonGia\";\n            }\n\n            let model: any = {};\n            model.NhomGiaDichVuKhamBenhBenhVienId = $event;\n            model.DichVuKhamBenhBenhVienId = data[0].MaDichVuId;\n            this.apiService.post<any>(url, model).subscribe(\n                resultData => {\n                    if (resultData != undefined && resultData != null) {\n                        //console.log(\"Gia = \", resultData);\n                        if(url == \"TiepNhanBenhNhan/GetDonGiaKyThuat\")\n                        {\n                            data[0].DonGia = resultData.DonGia;\n                        }\n                        else\n                        {\n                            data[0].DonGia = resultData;\n                        }\n                        this.setGiaBHYT();\n                    }\n                    else {\n                        //console.log(\"Gia = \", 0);\n                        data[0].DonGia = 0;\n                        this.setGiaBHYT();\n                    }\n                },\n                (err: any) => {\n                });\n        }\n        else {\n            //console.log(\"Gia = \", 0);\n            data[0].DonGia = 0;\n            this.setGiaBHYT();\n        }\n\n    }\n\n    //============================================================Xử lý thông tin voucher========================================//\n    public listVoucherItem: Array<string> = [];\n    newBarcode: string = \"\";\n    public value: any = [];\n    modelQRCodeVoucher: any;\n\n    QuetMaQRCodeVoucherClick() {\n        let elementBarcode: HTMLElement = document.getElementById(\"barcodeActive\") as HTMLElement;\n        if (elementBarcode != undefined) {\n            elementBarcode.click();\n        }\n    }\n\n    changeVoucherQR($event) {\n        if ($event != null && typeof $event == \"string\" && $event.endsWith(\"@\")) {\n            this.modelQRCodeVoucher = $event;\n            var maVoucher = $event.split(\"@\");\n            if (maVoucher.length > 1) {\n                this.kiemTraThongTinMaVoucher(maVoucher[0]);\n            } else {\n                this.notificationService.showError(\"Mã voucher không hợp lệ.\")\n            }\n        }\n    }\n\n    kiemTraThongTinMaVoucher(maVoucher: any) {\n        this.listVoucherItem = [];\n        this.apiService.post<any>(\"TiepNhanBenhNhan/KiemTraVoucherHopLe?maVoucher=\" + maVoucher)\n            .subscribe((resultData) => {\n                if (resultData.Item1 === 0) {\n                    this.notificationService.showError(resultData.Item2);\n                    this.newBarcode = \"\";\n                } else {\n\n                    let kiemTraMaVoucher: boolean = false;\n                    if (this.tiepNhanBenhNhan.LstMaVoucher.length > 0) {\n                        this.tiepNhanBenhNhan.LstMaVoucher.forEach(element => {\n                            var dataVoucher = element.split(\"|\");\n                            if (dataVoucher[1] === maVoucher) {\n                                kiemTraMaVoucher = true;\n                            }\n                        });\n                    }\n                    if (!kiemTraMaVoucher) {\n                        this.notificationService.showSuccess(resultData.Item2);\n                        //neu voucher thành công\n                        this.value.push(maVoucher);\n                        this.tiepNhanBenhNhan.LstMaVoucher.push(resultData.Item1 + \"|\" + maVoucher);\n                        this.listVoucherItem.push(resultData.Item1 + \"|\" + maVoucher);\n                        this.newBarcode = \"\";\n                    }\n\n                }\n            });\n    }\n\n    public open(): void {\n        this.multiselect.toggle(false);\n    }\n\n    removeTag(ev: any) {\n        let maVouchers = [];\n        if (this.tiepNhanBenhNhan.LstMaVoucher.length > 0) {\n            this.tiepNhanBenhNhan.LstMaVoucher.forEach(element => {\n                var dataVoucher = element.split(\"|\");\n                if (dataVoucher[1] !== ev.dataItem) {\n                    maVouchers.push(dataVoucher[0] + \"|\" + dataVoucher[1])\n                }\n            });\n            this.listVoucherItem = maVouchers;\n            this.tiepNhanBenhNhan.LstMaVoucher = maVouchers;\n            this.newBarcode = \"\";\n            //this.listVoucherItem = this.value;\n        }\n    }\n\n    blurVoucher() {\n        if (this.newBarcode != \"\") {\n            this.kiemTraThongTinMaVoucher(this.newBarcode);\n        };\n    }\n\n    onKeyBarCode(event: any) {\n        if (event.keyCode === 13) {\n            this.multiselect.blur();\n            this.multiselect.focus();\n        }\n    }\n\n    public filterChange(filter: any): void {\n        if (filter != null && filter != \"\") {\n            this.newBarcode = filter;\n        }\n    }\n\n    cacDichVuKM() {\n        this.dialog.open(DichVuKhuyenMaiPopupComponent, {\n            disableClose: false,\n            width: '1500px',\n            data: { BenhNhanId: this.benhNhanIdPopup, DocumentType: \"YeuCauTiepNhan\" }\n        }).afterClosed().subscribe(() => {\n        });\n    }\n\n    //===================================BVHD-3825==========================================\n    xemGoiDichVuKhuyenMai() {\n        var self = this;\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n            // self.dialog.open(LanKhamHienTaiSuDungGoiDichVuPopupComponent, {\n            let dichVuDangChons = [];\n            this.tiepNhanBenhNhan.YeuCauKhacGrid.forEach(element => {\n                if(element.YeuCauGoiDichVuKhuyenMaiId != null && element.YeuCauGoiDichVuKhuyenMaiId != 0)\n                {\n                    let dichVu = {\n                        Id: 0, // mặc định khi chưa lưu vào DB\n                        DichVuBenhVienId: element.MaDichVuId,\n                        NhomGiaId: element.LoaiGiaId,\n                        NhomId: element.NhomId, //EnumNhomGoiDichVu.DichVuKyThuat, // là nhóm dịch vụ kỹ thuật\n                        YeuCauGoiDichVuId: element.YeuCauGoiDichVuKhuyenMaiId,\n                        SoLuong: element.SoLuong\n                    };\n                    dichVuDangChons.push(dichVu);\n                }\n            });\n            self.dialog.open(DichVuKhuyenMaiPopupComponent, {\n                disableClose: false,\n                width: '1800px',\n                data: { DocumentType: self.documentType, BenhNhanId: self.benhNhanIdPopup, DichVuDangChons: dichVuDangChons}\n            }).afterClosed().subscribe(yeuCauGoiMarketing => {\n                if(yeuCauGoiMarketing != undefined && yeuCauGoiMarketing != null && yeuCauGoiMarketing != \"\")\n                {\n                    let dateNow = new Date((new Date()).toDateString());\n                    yeuCauGoiMarketing.YeuCauTiepNhanId = 0;\n                    yeuCauGoiMarketing.DuocHuongBaoHiem = this.tiepNhanBenhNhan.CoBHYT && this.tiepNhanBenhNhan.LyDoVaoVien == 1 && this.tiepNhanBenhNhan.BHYTNgayHetHan >= dateNow;\n                    self.xuLyThemNhomDichVuKhuyenMai(yeuCauGoiMarketing);\n                }\n            });\n        }\n        else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    xuLyThemNhomDichVuKhuyenMai(yeuCauGoiMarketing: ChiDinhGoiDichVuTheoBenhNhan) {\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        //ThemYeuGoiDichVuThuongDungTaoMoiYCTN\n        this.apiService.post<any>(\"TiepNhanBenhNhan/ThemChiDinhGoiDichVuKhuyenMaiKhiTaoYeuCauTiepNhan\", yeuCauGoiMarketing).subscribe(result => {\n            if (result) {\n                result.DichVuKhamBenhs.forEach(element => {\n                    element.LoaiDichVuKhac = 3;\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.push(element);\n                });\n\n                result.DichVuKyThuats.forEach(element => {\n                    element.LoaiDichVuKhac = 4;\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.push(element);\n                });\n\n                this.setDataForDichVuKhac();\n                this.setGiaBHYT();\n                this.refreshGrid();\n                this.removeThemDichVuValue();\n                this.removeThemGoiValue();\n\n                let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm\"]);\n                this.notificationService.showSuccess(mess);\n            }\n            this.closePopupLoadingData();\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n\n    showPopupLoadingData(typeLoading: EnumTypeLoadingData = EnumTypeLoadingData.View) {\n        let mess = \"\";\n        switch (typeLoading) {\n            case EnumTypeLoadingData.View:\n                mess = \"Đang tải dữ liệu...\"; break;\n            case EnumTypeLoadingData.Update:\n                mess = \"Đang lưu dữ liệu...\"; break;\n            case EnumTypeLoadingData.Delete:\n                mess = \"Đang xóa dữ liệu...\"; break;\n            case EnumTypeLoadingData.Cancel:\n                mess = \"Đang hủy dữ liệu...\"; break;\n            default: mess = \"Đang tải dữ liệu...\";\n        }\n\n        this.loadingDataPopup = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: mess }\n        });\n    }\n\n    closePopupLoadingData() {\n        if (this.loadingDataPopup) {\n            this.loadingDataPopup.close();\n        }\n    }\n\n    //======================================================================================\n\n\n    // cap nhat goi marketing\n    changeDichVuTrongGoi(event, dataItem) {\n        if (dataItem.IsDichVuTrongGoi) {\n            if (event) {\n                dataItem.IsGoiCoChietKhau = true;\n                dataItem.GoiCoChietKhauId = dataItem.GoiCoChietKhauIdTemp;\n            }\n            else {\n                dataItem.IsGoiCoChietKhau = false;\n                dataItem.GoiCoChietKhauId = null;\n            }\n        }\n    }\n\n    tinhThanhTienDichVuBaoGomTrongGoiTheGroup(group, value) {\n        console.log('tinhThanhTienDichVuBaoGomTrongGoiTheGroup', group, value);\n        console.log('tinhThanhTienDichVuBaoGomTrongGoi')\n        console.log('this.tiepNhanBenhNhan.YeuCauKhacGrid', this.tiepNhanBenhNhan.YeuCauKhacGrid);\n        return this.tiepNhanBenhNhan.YeuCauKhacGrid\n            .reduce((sum, item) => (sum + (item.GoiCoChietKhauId != null ? item.ThanhTienSauChietKhau : item.ThanhTien)), 0);\n        // event.Data.forEach(element => {\n        //     let donGia = element.GoiCoChietKhauId != null ? element.DonGiaSauChietKhau : element.DonGia;\n        //     this.thanhTienDichVuChiDinhBaoGomDichVuTrongGoi += donGia * element.SoLuong;\n        // });\n    }\n\n    // nhóm dịch vụ thường dùng\n    xemNhomDichVuThuongDung() {\n        var self = this;\n        let boPhan = BoPhan.TiepNhanNgoaiTru;\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n            self.dialog.open(LanKhamHienTaiNhomDichVuThuongDungPopupComponent, {\n                disableClose: false,\n                width: '1500px',\n                data: { DocumentType: self.documentType, boPhan: boPhan }\n            }).afterClosed().subscribe(yeuCauGoiThuongDung => {\n                if (yeuCauGoiThuongDung) {\n                    yeuCauGoiThuongDung.DanhSachDichVuChons = self.tiepNhanBenhNhan.YeuCauKhacGrid;\n                    self.apiService.post<Array<ChiDinhGoiDichVuThuongDungDichVuLoi>>(\"TiepNhanBenhNhan/KiemTraDichVuTrongGoiDaCoTheoDichVuTrongGrid\", yeuCauGoiThuongDung).subscribe(resultData => {\n                        if (resultData && resultData.length > 0) {\n                            self.dialog.open(LanKhamHienTaiNhomDichVuLoiPopupComponent, {\n                                disableClose: false,\n                                width: '1200px',\n                                data: { arrDichVuCanhBao: resultData, DocumentType: this.documentType }\n                            }).afterClosed().subscribe(dichVuKhongThems => {\n                                if (dichVuKhongThems) {\n                                    yeuCauGoiThuongDung.DichVuKhongThems = dichVuKhongThems;\n                                    self.xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung);\n                                }\n                            });\n                        }\n                        else {\n                            self.xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung);\n                        }\n                    },\n                        (err: ApiError) => {\n                            self.validationErrors = err.ValidationErrors;\n                            if (err.Message != \"Validation Failed\") {\n                                self.notificationService.showError(err.Message);\n                            }\n                        });\n                }\n            });\n        }\n        else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung: ChiDinhGoiDichVuThuongDung) {\n        // code toàn cheat, giờ cũng phải cheat theo\n        let dateNow = new Date((new Date()).toDateString());\n        yeuCauGoiThuongDung.DuocHuongBaoHiem = this.tiepNhanBenhNhan.CoBHYT && this.tiepNhanBenhNhan.LyDoVaoVien == 1 && this.tiepNhanBenhNhan.BHYTNgayHetHan >= dateNow;\n        this.apiService.post<any>(\"TiepNhanBenhNhan/ThemYeuGoiDichVuThuongDungTaoMoiYCTN\", yeuCauGoiThuongDung).subscribe(result => {\n            if (result) {\n                result.DichVuKhamBenhs.forEach(element => {\n                    element.LoaiDichVuKhac = 3;\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.push(element);\n                    \n                });\n\n                result.DichVuKyThuats.forEach(element => {\n                    element.LoaiDichVuKhac = 4;\n                    this.tiepNhanBenhNhan.YeuCauKhacGrid.push(element);\n                    // this.setDataForDichVuKhac();\n                    // this.setGiaBHYT();\n                    // this.refreshGrid();\n                });\n\n                this.setDataForDichVuKhac();\n                this.setGiaBHYT();\n                this.refreshGrid();\n                this.removeThemDichVuValue();\n                this.removeThemGoiValue();\n\n                let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm\"]);\n                this.notificationService.showSuccess(mess);\n            }\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n            });\n    }\n\n    // cập nhật điều kiện tạo mới yctn\n    //================================================================================================\n    chuyenVeTrangCapNhatYCTN(){\n        this.router.navigate([this.urlPageUpdateYCTN]);\n    }\n\n    xuLyKiemTraBenhNhanDuDieuKienTaoMoiYCTN(coTheBHYT: boolean = null) {\n        if (this.tiepNhanBenhNhan.BenhNhanId != undefined\n            && this.tiepNhanBenhNhan.BenhNhanId != null\n            && this.tiepNhanBenhNhan.BenhNhanId != 0) {\n            console.log('this.tiepNhanBenhNhan.CoBHYT', this.tiepNhanBenhNhan.CoBHYT);\n            let laKiemTraCungNgay = coTheBHYT == null ? this.tiepNhanBenhNhan.CoBHYT != true : coTheBHYT != true;\n            this.apiService.post<any>(\"TiepNhanBenhNhan/KiemTraDieuKienTaoMoiYeuCauTiepNhan?benhNhanId=\" + this.tiepNhanBenhNhan.BenhNhanId + \"&laKiemTraCungNgay=\" + laKiemTraCungNgay).subscribe(\n                resultData => {\n                    this.errMessageKhongChoPhepTaoMoiYCTN = resultData.ErrorMessage;\n                    if(resultData.YeuCauTiepNhanId != null)\n                    {\n                        this.urlPageUpdateYCTN = 'danh-sach-tiep-nhan/chinh-sua/' + resultData.YeuCauTiepNhanId;\n                    }\n                },\n                (err: ApiError) => {\n                    if (err.Message != \"Validation Failed\") {\n                        this.notificationService.showError(err.Message);\n                    }\n                });\n        }\n    }\n\n    kiemTraTheBHYTKhiTaoYCTNMoi(){\n        this.isCheckedBHYT = true;\n\n        this.thongTinBenhNhan.MaThe = this.tiepNhanBenhNhan.BHYTMaSoThe;\n        this.thongTinBenhNhan.TenBenhNhan = this.tiepNhanBenhNhan.HoTen;\n        this.thongTinBenhNhan.NgaySinh = this.tiepNhanBenhNhan.NgayThangNamSinh;\n        this.thongTinBenhNhan.NamSinh = this.tiepNhanBenhNhan.NamSinh;\n\n        var datePipe = new DatePipe(\"en-US\");\n        this.thongTinBenhNhan.NgaySinhDisplay = datePipe.transform(this.tiepNhanBenhNhan.NgayThangNamSinh, 'dd/MM/yyyy');\n\n        if (this.thongTinBenhNhan.MaThe != null && this.thongTinBenhNhan.TenBenhNhan != null\n            && (this.thongTinBenhNhan.NgaySinh != null || this.thongTinBenhNhan.NamSinh != null)) {\n            this.dialog.open(TiepNhanBenhNhanChoQuetComponent, {\n                disableClose: true,\n                width: '500px',\n                height: '250px',\n                data: this.thongTinBenhNhan,\n            }).afterClosed().subscribe(result => {\n                if (result === undefined) {\n                    //cheat vi khong hieu sao ra duoc\n                }\n                // else if (result == null || (result != null && result.maKetQua == \"050\")) {\n                else if (result == null || (result != null && result.maKetQua !== \"000\" && result.maKetQua !== \"004\")) {\n                    this.tiepNhanBenhNhan.MessageErrFromBHYT = result != null ? result.ghiChu : null;\n                    this.dialog.open(TiepNhanBenhNhanErrorComponent, {\n                        disableClose: false,\n                        width: '700px',\n                        height: '300px',\n                        data: this.tiepNhanBenhNhan,\n                    }).afterClosed().subscribe(resultData => {\n                        this.isCheckedBHYT = false;\n                        if (resultData == 2) {\n                            this.tiepNhanBenhNhan.IsCheckedBHYT = null;\n                            this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                            this.tiepNhanBenhNhan.CoBHYT = true;\n                            this.tiepNhanBenhNhan.TuNhap = true;\n                        }\n                        else if (resultData == 1) {\n                            this.tiepNhanBenhNhan.CoBHYT = false;\n                            this.tiepNhanBenhNhan.TinhTrangThe = TinhTrangThe.KhongXacDinh;\n                            this.tiepNhanBenhNhan.IsCheckedBHYT = false;\n                        }\n                        else if (resultData != undefined) {\n                            this.setValueBHYT(result);\n                        }\n                    });\n                }\n                else {\n                    this.isCheckedBHYT = false;\n                    this.setValueBHYT(result);\n                }\n            });\n        }\n        else {\n            this.isCheckedBHYT = false;\n        }\n    }\n    //================================================================================================\n\n    // BVHD-3481\n    //================================================================================================\n    xuLyTaoYeuCauTiepNhan(coInPhieu: boolean = false) {\n        this.loading = true;\n        this.validationErrors = [];\n        if (this.tiepNhanBenhNhan.BenhNhanId == null || this.tiepNhanBenhNhan.BenhNhanId == 0) {\n            this.apiService.post<any>(\"TiepNhanBenhNhan/KiemTraBenhNhanTrongHeThong\", this.tiepNhanBenhNhan).subscribe(result => {\n                if (result != null) {\n                    this.dialog.open(ConfirmComponent, {\n                        disableClose: false,\n                        width: '400px',\n                        data: { Title: \"Xác nhận\", Message: result.Message }\n                    }).afterClosed().subscribe(result => {\n                        if (result == \"Yes\") {\n                            if (coInPhieu) {\n                                this.luuVaInPhieu();\n                            }\n                            else {\n                                this.luuPhieu();\n                            }\n                        }\n                        else{\n                            this.loading = false;\n                        }\n                    });\n                }\n                else {\n                    if (coInPhieu) {\n                        this.luuVaInPhieu();\n                    }\n                    else {\n                        this.luuPhieu();\n                    }\n                }\n            },\n            (err: ApiError) => {\n                var self = this;\n                self.loading = false;\n                if (err != undefined && err.ValidationErrors != null) {\n                    let itemGiamHoValidate = err.ValidationErrors.find(p => p.Field == \"NguoiLienHeHoTen\"\n                        || p.Field == \"NguoiLienHeQuanHeNhanThanId\" || p.Field == \"NguoiLienHeSoDienThoai\");\n                    if (itemGiamHoValidate != null && itemGiamHoValidate != undefined) {\n                        self.tabStrip.selectTab(2);;\n                    }\n\n                    self.validationErrors = err.ValidationErrors;\n                }\n                else if (err != undefined && err.Message != \"Validation Failed\") {\n                    self.notificationService.showError(err.Message);\n                }\n            });\n        }\n        else {\n            if (coInPhieu) {\n                this.luuVaInPhieu();\n            }\n            else {\n                this.luuPhieu();\n            }\n        }\n    }\n    //================================================================================================\n    \n    // BVHD-3761\n    //================================================================================================\n    getListDichVuSarsCoVs(){\n        this.apiService.get<DichVuKyThuatBenhVienIdsSarsCoVLoaiBenhPham>(\"TiepNhanBenhNhan/GetSarsCoVs\").subscribe(\n            resultData => {\n                this.dichVuSarsCoVs = [];\n                this.dichVuSarsCoVs =resultData.Ids;\n                this.loaiBenhPham = resultData.LoaiMauXetNghiem\n                this.loaiBenhPhamText = resultData.LoaiMauXetNghiemText\n            });\n    }\n    //================================================================================================\n}\n","export default \".container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 550px;\\n}\\n\\n.container-iframe iframe {\\n  margin-bottom: 10px;\\n  -webkit-backface-visibility: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3RpZXAtbmhhbi1iZW5oLW5oYW4veGVtLXRydW9jLWJhbmcta2UtY2hpLXBoaS1wb3VwL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcdGllcC1uaGFuLWJlbmgtbmhhblxceGVtLXRydW9jLWJhbmcta2UtY2hpLXBoaS1wb3VwXFx4ZW0tdHJ1b2MtYmFuZy1rZS1jaGktcGhpLXBvdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3hlbS10cnVvYy1iYW5nLWtlLWNoaS1waGktcG91cC94ZW0tdHJ1b2MtYmFuZy1rZS1jaGktcGhpLXBvdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0FDQ0Y7O0FERUE7RUFDRSxtQkFBQTtFQUNBLG1DQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vdGllcC1uaGFuLWJlbmgtbmhhbi94ZW0tdHJ1b2MtYmFuZy1rZS1jaGktcGhpLXBvdXAveGVtLXRydW9jLWJhbmcta2UtY2hpLXBoaS1wb3VwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1pZnJhbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDU1MHB4O1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUge1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcbn0iLCIuY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTUwcHg7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xufSJdfQ== */\"","import { Component, Inject, OnInit } from \"@angular/core\";\nimport { MatDialog, MAT_DIALOG_DATA } from \"@angular/material\";\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { debug } from \"console\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { CommonService } from \"src/app/core/utilities/common.helper\";\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { ApiError } from \"src/app/shared/models/api-error.model\";\nimport icFullscreen from \"@iconify/icons-ic/twotone-fullscreen\";\nimport icFullscreenExit from \"@iconify/icons-ic/twotone-fullscreen-exit\";\ndeclare var jQuery: any;\n@Component({\n\tselector: \"app-xem-truoc-bang-ke-chi-phi-poup\",\n\ttemplateUrl: \"./xem-truoc-bang-ke-chi-phi-poup.component.html\",\n\tstyleUrls: [\"./xem-truoc-bang-ke-chi-phi-poup.component.scss\"],\n})\nexport class XemTruocBangKeChiPhiPopupComponent implements OnInit {\n\ticClose = icClose;\n\tarrFilePdf: Array<any> = [];\n\tarrFileUrl: Array<any> = [];\n\tpopupLoadingData: any;\n\n\ticFullscreen = icFullscreen;\n\ticFullscreenExit = icFullscreenExit;\n\tisFullscreen: boolean = false;\n\n\tWidth: number = 800;\n\tHeight: number = 600;\n\tloadingPopup: any;\n\tyeuCauTiepNhanId: any;\n\n\tconstructor(@Inject(MAT_DIALOG_DATA) public data: any, private apiService: ApiService, private dialog: MatDialog, private notificationService: NotificationService) { }\n\n\tngOnInit() {\n\t\tthis.getALlFilePDFFromHtml(this.data);\n\t\tthis.yeuCauTiepNhanId = this.data;\n\n\t\tthis.fullscreen();\n\t}\n\n\tgetALlFilePDFFromHtml(id: any) {\n\t\tthis.showPopupLoadingData();\n\t\tlet hostingName = \"http://\" + \"//\" + window.location.host;\n\t\tthis.apiService.postExportPdf<any>(\"ThuNgan/XemTruocBangKeChiPhi?yeuCauTiepNhanId=\" + id + \"&hostingName=\" + hostingName).subscribe(\n\t\t\tfile => {\n\t\t\t\tlet newBlob = new Blob([file], { type: \"application/pdf\" });\n\t\t\t\tlet datalocalURL = window.URL.createObjectURL(newBlob);\n\t\t\t\tthis.arrFileUrl.push(datalocalURL);\n\t\t\t\tthis.arrFilePdf.push(file);\n\t\t\t\tthis.closePopupLoadingData();\n\t\t\t},\n\t\t\t(err: ApiError) => {\n\t\t\t\tthis.closePopupLoadingData();\n\t\t\t}\n\t\t);\n\t}\n\n\tdownloadAllFile() {\n\t\tconst dateTimeNow = new Date();\n\t\tthis.arrFilePdf.forEach((file) => {\n\t\t\tCommonService.downLoadFile(file, \"application/pdf\", \"PhieuThuNgan\" + dateTimeNow.getFullYear() + \".pdf\");\n\t\t});\n\t}\n\n\tshowPopupLoadingData() {\n\t\tif (this.popupLoadingData == undefined || this.popupLoadingData == null || this.popupLoadingData.openDialogs == undefined || (this.popupLoadingData.openDialogs != undefined && this.popupLoadingData.openDialogs.length == 0)) {\n\t\t\tthis.popupLoadingData = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: \"200px\",\n\t\t\t\theight: \"90px\",\n\t\t\t\tdata: { Title: \"Đang tải dữ liệu...\" },\n\t\t\t});\n\t\t}\n\t}\n\n\tclosePopupLoadingData() {\n\t\tif (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n\t\t\tthis.popupLoadingData.close();\n\t\t}\n\t}\n\n\n\tketXuatBangKeChiPhiExcel() {\n\t\tthis.apiService.postExportExcel<any>(\"ThuNgan/XuatBangKeNgoaiTruCoBHYTExcel?yeuCauTiepNhanId=\" + this.yeuCauTiepNhanId)\n\t\t\t.subscribe(res => {\n\t\t\t\tthis.showLoadingPopup();\n\t\t\t\tif (res.byteLength != 4) {\n\t\t\t\t\tlet dateTimeNow = new Date();\n\t\t\t\t\tCommonService.downLoadFile(res, \"application/vnd.ms-excel\", \"XuatBangKeNgoaiTruCoBHYT\" + dateTimeNow.getFullYear() + \".xlsx\");\n\t\t\t\t}\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t}, err => {\n\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t});\n\n\t\tthis.apiService.postExportExcel<any>(\"ThuNgan/XuatBangKeNgoaiTruExcel?yeuCauTiepNhanId=\" + this.yeuCauTiepNhanId)\n\t\t\t.subscribe(res => {\n\t\t\t\tthis.showLoadingPopup();\n\t\t\t\tif (res.byteLength != 4) {\n\t\t\t\t\tlet dateTimeNow = new Date();\n\t\t\t\t\tCommonService.downLoadFile(res, \"application/vnd.ms-excel\", \"XuatBangKeNgoaiTru\" + dateTimeNow.getFullYear() + \".xlsx\");\n\t\t\t\t}\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t}, err => {\n\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t});\n\n\t\tthis.apiService.postExportExcel<any>(\"ThuNgan/XuatBangKeNgoaiTruTrongGoiDv?yeuCauTiepNhanId=\" + this.yeuCauTiepNhanId)\n\t\t\t.subscribe(res => {\n\t\t\t\tthis.showLoadingPopup();\n\t\t\t\tif (res.byteLength != 4) {\n\t\t\t\t\tlet dateTimeNow = new Date();\n\t\t\t\t\tCommonService.downLoadFile(res, \"application/vnd.ms-excel\", \"XuatBangKeNgoaiTruTrongGoiDv\" + dateTimeNow.getFullYear() + \".xlsx\");\n\t\t\t\t}\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t}, err => {\n\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t\tthis.closeAllDialogs();\n\t\t\t});\n\t}\n\n\tfullscreen() {\n\t\tthis.fullScreenDialog(this.isFullscreen, this.Height, this.Width, 200);\n\t\tthis.isFullscreen = !this.isFullscreen;\n\t}\n\n\tpublic fullScreenDialog(isFullscreen: boolean, Height: any, Width: any, heightHeaderFooter: number) {\n\t\tif (isFullscreen) {\n\t\t\tjQuery(\".cdk-overlay-pane\").css({ \"height\": (Height != null ? Height : \"auto\"), \"width\": Width, \"max-width\": Width });\n\t\t\tjQuery(\".mat-dialog-content\").css({ \"height\": Height - (heightHeaderFooter != null ? heightHeaderFooter : 0), \"max-height\": Height - (heightHeaderFooter != null ? heightHeaderFooter : 0) });\n\t\t}\n\t\telse {\n\t\t\tjQuery(\".cdk-overlay-pane\").css({ \"height\": \"97%\", \"width\": \"100%\", \"max-width\": \"97%\" });\n\t\t\tjQuery(\".mat-dialog-content\").css({ \"height\": (jQuery(window).height() - (heightHeaderFooter != null ? heightHeaderFooter : 150)), \"max-height\": jQuery(window).height() - (heightHeaderFooter != null ? heightHeaderFooter : 150) });\n\t\t}\n\t}\n\n\tshowLoadingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang tải...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tshowSavingPopup() {\n\t\tif (!this.loadingPopup) {\n\t\t\tthis.loadingPopup = this.dialog.open(LoadingComponent, {\n\t\t\t\tdisableClose: true,\n\t\t\t\twidth: '200px',\n\t\t\t\theight: '90px',\n\t\t\t\tdata: { Title: 'Đang lưu...' }\n\t\t\t});\n\t\t}\n\t}\n\n\tcloseAllDialogs() {\n\t\tif (this.loadingPopup) {\n\t\t\tthis.loadingPopup.close();\n\t\t\tthis.loadingPopup = null;\n\t\t}\n\t}\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi90aWVwLW5oYW4tYmVuaC1uaGFuL3huLWNvdmlkLXBvcHVwL3huLWNvdmlkLXBvcHVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit,Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { XetNghiemCovid } from '../tiep-nhan-benh-nhan.model';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n@Component({\n  selector: 'app-xn-covid-popup',\n  templateUrl: './xn-covid-popup.component.html',\n  styleUrls: ['./xn-covid-popup.component.scss']\n})\nexport class XnCovidPopupComponent implements OnInit {\n  xetNghiemCovid = new XetNghiemCovid();\n\n  icClose = icClose;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any,\n  public dialogRef: MatDialogRef<XnCovidPopupComponent>,) { }\n  loaiMauXetNghiemText :string =null;\n\n  ngOnInit() {\n    this.xetNghiemCovid.LoaiBenhPham =this.data.LoaiMauXetNghiemText;\n  }\n  save(){\n    this.dialogRef.close(this.xetNghiemCovid);\n  }\n  close(){\n    this.dialogRef.close();\n  }\n}\n"],"sourceRoot":"webpack:///"}