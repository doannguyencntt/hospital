{"version":3,"sources":["./node_modules/@iconify/icons-ic/assistant-photo.js","./node_modules/@iconify/icons-ic/baseline-cloud-download.js","./node_modules/@iconify/icons-ic/remove-circle.js","./node_modules/@iconify/icons-ic/twotone-insert-drive-file.js","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/benh-nhan-da-hoan-thanh-pttt-popup/benh-nhan-da-hoan-thanh-pttt-popup.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/lich-su-dv-khong-thuc-hien/lich-su-dv-khong-thuc-hien.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-benh-nhan-da-phau-thuat/phau-thuat-thu-thuat-benh-nhan-da-phau-thuat.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-bn-tiep-theo-popup/phau-thuat-thu-thuat-bn-tiep-theo-popup.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/phau-thuat-thu-thuat-can-lam-san.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/ptt-cls-chay-lai-xn-popup/ptt-cls-chay-lai-xn-popup.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/pttt-cls-goi-dich-vu-popup/pttt-cls-goi-dich-vu-popup.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/pttt-cls-kq-popup/pttt-cls-kq-popup.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-ket-luan/phau-thuat-thu-thuat-ket-luan.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-luoc-do-popup/phau-thuat-thu-thuat-luoc-do-popup.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/phau-thuat-thu-thuat-theo-doi.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/pttt-theo-doi-bo-phan-khac/pttt-theo-doi-bo-phan-khac.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/pttt-theo-doi-co-quan/pttt-theo-doi-co-quan.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/pttt-theo-doi-sinh-ton/pttt-theo-doi-sinh-ton.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-ngay.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tu-vong-popup/phau-thuat-thu-thuat-tu-vong-popup.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/khong-thuc-hien-pttt-list-popup/khong-thuc-hien-pttt-list-popup.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/khong-thuc-hien-pttt-popup/khong-thuc-hien-pttt-popup.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/phau-thuat-thu-thuat-tuong-trinh.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-dp-vt-tu-goi-popup/pttt-dp-vt-tu-goi-popup.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ekip-thuc-hien/pttt-ekip-thuc-hien-nv/pttt-ekip-thuc-hien-nv.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ekip-thuc-hien/pttt-ekip-thuc-hien.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ghi-nhan-cap-nhat-popup/pttt-ghi-nhan-cap-nhat-popup.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ghi-nhan-hoan-tra-popup/pttt-ghi-nhan-hoan-tra-popup.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ghi-nhan/pttt-ghi-nhan.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-sinh-ton/pttt-sinh-ton.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-tuong-trinh-pttt/pttt-tuong-trinh-pttt.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/pttt-ket-thuc-tuong-trinh-popup/pttt-ket-thuc-tuong-trinh-popup.component.html","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-routing.module.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/benh-nhan-da-hoan-thanh-pttt-popup/benh-nhan-da-hoan-thanh-pttt-popup.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/benh-nhan-da-hoan-thanh-pttt-popup/benh-nhan-da-hoan-thanh-pttt-popup.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/lich-su-dv-khong-thuc-hien/lich-su-dv-khong-thuc-hien.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/lich-su-dv-khong-thuc-hien/lich-su-dv-khong-thuc-hien.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-benh-nhan-da-phau-thuat/phau-thuat-thu-thuat-benh-nhan-da-phau-thuat.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-benh-nhan-da-phau-thuat/phau-thuat-thu-thuat-benh-nhan-da-phau-thuat.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-bn-tiep-theo-popup/phau-thuat-thu-thuat-bn-tiep-theo-popup.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-bn-tiep-theo-popup/phau-thuat-thu-thuat-bn-tiep-theo-popup.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/phau-thuat-thu-thuat-can-lam-san.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/phau-thuat-thu-thuat-can-lam-san.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/ptt-cls-chay-lai-xn-popup/ptt-cls-chay-lai-xn-popup.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/ptt-cls-chay-lai-xn-popup/ptt-cls-chay-lai-xn-popup.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/pttt-cls-goi-dich-vu-popup/pttt-cls-goi-dich-vu-popup.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/pttt-cls-goi-dich-vu-popup/pttt-cls-goi-dich-vu-popup.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/pttt-cls-kq-popup/pttt-cls-kq-popup.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/pttt-cls-kq-popup/pttt-cls-kq-popup.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-ket-luan/phau-thuat-thu-thuat-ket-luan.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-ket-luan/phau-thuat-thu-thuat-ket-luan.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-luoc-do-popup/phau-thuat-thu-thuat-luoc-do-popup.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-luoc-do-popup/phau-thuat-thu-thuat-luoc-do-popup.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/phau-thuat-thu-thuat-theo-doi.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/phau-thuat-thu-thuat-theo-doi.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/pttt-theo-doi-bo-phan-khac/pttt-theo-doi-bo-phan-khac.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/pttt-theo-doi-bo-phan-khac/pttt-theo-doi-bo-phan-khac.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/pttt-theo-doi-co-quan/pttt-theo-doi-co-quan.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/pttt-theo-doi-co-quan/pttt-theo-doi-co-quan.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/pttt-theo-doi-sinh-ton/pttt-theo-doi-sinh-ton.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/pttt-theo-doi-sinh-ton/pttt-theo-doi-sinh-ton.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-ngay.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-ngay.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tu-vong-popup/phau-thuat-thu-thuat-tu-vong-popup.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tu-vong-popup/phau-thuat-thu-thuat-tu-vong-popup.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/khong-thuc-hien-pttt-list-popup/khong-thuc-hien-pttt-list-popup.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/khong-thuc-hien-pttt-list-popup/khong-thuc-hien-pttt-list-popup.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/khong-thuc-hien-pttt-popup/khong-thuc-hien-pttt-popup.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/khong-thuc-hien-pttt-popup/khong-thuc-hien-pttt-popup.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/phau-thuat-thu-thuat-tuong-trinh.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/phau-thuat-thu-thuat-tuong-trinh.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-dp-vt-tu-goi-popup/pttt-dp-vt-tu-goi-popup.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-dp-vt-tu-goi-popup/pttt-dp-vt-tu-goi-popup.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ekip-thuc-hien/pttt-ekip-thuc-hien-nv/pttt-ekip-thuc-hien-nv.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ekip-thuc-hien/pttt-ekip-thuc-hien-nv/pttt-ekip-thuc-hien-nv.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ekip-thuc-hien/pttt-ekip-thuc-hien.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ekip-thuc-hien/pttt-ekip-thuc-hien.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ghi-nhan-cap-nhat-popup/pttt-ghi-nhan-cap-nhat-popup.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ghi-nhan-cap-nhat-popup/pttt-ghi-nhan-cap-nhat-popup.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ghi-nhan-hoan-tra-popup/pttt-ghi-nhan-hoan-tra-popup.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ghi-nhan-hoan-tra-popup/pttt-ghi-nhan-hoan-tra-popup.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ghi-nhan/pttt-ghi-nhan.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ghi-nhan/pttt-ghi-nhan.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-sinh-ton/pttt-sinh-ton.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-sinh-ton/pttt-sinh-ton.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-tuong-trinh-pttt/pttt-tuong-trinh-pttt.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-tuong-trinh-pttt/pttt-tuong-trinh-pttt.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/pttt-ket-thuc-tuong-trinh-popup/pttt-ket-thuc-tuong-trinh-popup.component.scss","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat-theo-ngay/pttt-ket-thuc-tuong-trinh-popup/pttt-ket-thuc-tuong-trinh-popup.component.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat.module.ts","./src/app/modules/main/phau-thuat-thu-thuat/phau-thuat-thu-thuat.service.ts","./src/app/shared/constants/nhom-dich-vu-constant.ts","./src/app/shared/enum/common-type.enums.ts","./src/app/shared/enum/dich-vu-ky-thuat.enum.ts","./src/app/shared/enum/nhom-chuc-danh-enum.ts"],"names":[],"mappings":"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","file":"default~phau-thuat-thu-thuat-phau-thuat-thu-thuat-module~tiem-chung-kham-sang-loc-kham-sang-loc-modu~e832238c-es2015.js","sourcesContent":["var data = {\n\t\"body\": \"<path d=\\\"M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path opacity=\\\".3\\\" d=\\\"M13 4H6v16h12V9h-5z\\\" fill=\\\"currentColor\\\"/><path d=\\\"M20 8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm-2 12H6V4h7v5h5v11z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>THÔNG TIN NGƯỜI BỆNH ĐÃ HOÀN THÀNH PTTT</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <div fxLayout=\\\"column\\\" style=\\\"position: relative;\\\">\\n        <!-- TAB NGƯỜI BỆNH CHỜ PHẪU THUẬT/TT -->\\n        <!-- style=\\\"background: #e1f5fe;\\\"  -->\\n        <div class=\\\"row ml-1 mb-2\\\">\\n            <fieldset fxFlex=\\\"100%\\\" class=\\\"{{(benhNhanHienTai != undefined && benhNhanHienTai != null && benhNhanHienTai.LaCapCuu == true) ? 'bg-tthc-lightpink' : 'bg-tthc-lightblue'}}\\\">\\n                <legend>Thông tin hành chính</legend>\\n                <div fxFlex=\\\"100%\\\" *ngIf=\\\"this.yeuCauTiepNhanId !== 0\\\">\\n                    <ul class=\\\"inline\\\">\\n                        <li>Mã TN: <strong>{{benhNhanHienTai.MaTN}}</strong></li>\\n                        <li>Mã NB: <strong>{{benhNhanHienTai.MaBN}}</strong></li>\\n                        <li>Họ tên: <strong>{{benhNhanHienTai.HoTen}}</strong></li>\\n                        <li>Giới tính:<strong>{{benhNhanHienTai.GioiTinh}}</strong></li>\\n                        <li>Tuổi: <strong>{{benhNhanHienTai.Tuoi}}</strong></li>\\n                        <li>SĐT: <strong>{{benhNhanHienTai.SDT}}</strong></li>\\n                        <li>Dân tộc: <strong>{{benhNhanHienTai.DanToc}}</strong></li>\\n                        <li>Địa chỉ:<strong>{{benhNhanHienTai.DiaChi}}</strong></li>\\n                        <li>Nghề nghiệp:<strong>{{benhNhanHienTai.NgheNghiep}}</strong></li>\\n                        <li>Tuyến khám:<strong>{{benhNhanHienTai.TuyenKham}}</strong></li>\\n                        <li>Mức hưởng:<strong>{{benhNhanHienTai.MucHuong}}%</strong></li>\\n                        <li>Lí do TN:<strong>{{benhNhanHienTai.LyDoTN}}</strong></li>\\n                        <li>Ngày TN: <strong>{{benhNhanHienTai.NgayTN}}</strong></li>\\n                    </ul>\\n                </div>\\n            </fieldset>\\n        </div>\\n        <div id=\\\"card\\\" class=\\\"row ml-1 temp d-inline\\\">\\n            <kendo-tabstrip fxFlex=\\\"100%\\\"\\n                class=\\\"content-has-border tabstrip-pad sticky-kendotab-item tabstrip-on-popup\\\">\\n                <!--------------------------------------------------------------------- TAB CẬN LÂM SÀNG -------------------------------------------------------------------------->\\n                <kendo-tabstrip-tab [selected]=\\\"true\\\">\\n                    <ng-template kendoTabTitle>\\n                        <div kendoTooltip>\\n                            CẬN LÂM SÀNG\\n                            ({{dichVuKyThuatChuaHoanThanhTrenHoanThanh.DichVuKyThuatDaHoanThanh}}/{{dichVuKyThuatChuaHoanThanhTrenHoanThanh.TongDichVuKyThuat}})\\n                        </div>\\n                    </ng-template>\\n                    <ng-template kendoTabContent>\\n                        <div class=\\\"content-tab-popup\\\">\\n                            <div fxFlex=\\\"100%\\\">\\n                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                    fxLayoutGap.lt-sm=\\\"0\\\">\\n                                    <app-grid #GridChiDinh fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" style=\\\"width: 1px;\\\"\\n                                        [gridColumns]=\\\"gridColumnCanLamSangs\\\" [allowSortDefault]=\\\"true\\\"\\n                                        urlGetData=\\\"PhauThuatThuThuat/GetDanhSachCanLamSang\\\"\\n                                        (extOnDataBound)=\\\"onDataBoundChild($event)\\\"\\n                                        urlGetTotalPage=\\\"PhauThuatThuThuat/GetTotalPageForGridCanLamSang\\\"\\n                                        [additionalSearchString]=\\\"yeuCauTiepNhanSoLanPT\\\" [documentType]=\\\"documentType\\\"\\n                                        [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n                                        [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" maxHeight=\\\"500\\\" [pageable]=\\\"false\\\"\\n                                        [groups]=\\\"groups\\\" [showStt]=\\\"true\\\">\\n                                    </app-grid>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </ng-template>\\n                    <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\" let-aggregates let-dataItem>\\n                        <strong fxFlex=\\\"90%\\\">\\n                            {{value}}\\n                        </strong>\\n                        <div fxFlex=\\\"10%\\\">\\n                            <!-- <button\\n                                *ngIf=\\\"aggregates.items[0].TrangThaiDichVu === 'Đã thực hiện' && aggregates.value !== 'Chẩn đoán hình ảnh' && aggregates.value !== 'Thăm dò chức năng'\\\"\\n                                type=\\\"button\\\" (click)=\\\"OpenClickPopupXemKetQuaNhomXetNghiemCLS(aggregates)\\\"\\n                                color=\\\"primary\\\" mat-raised-button class=\\\"mr-2\\\">Xem</button>\\n                            <button\\n                                *ngIf=\\\"kiemTraCoKetQuaCLSXetNghiem(aggregates.items)\\\"\\n                                type=\\\"button\\\" (click)=\\\"downloadFileNhomXetNghiem(aggregates)\\\" color=\\\"primary\\\"\\n                                mat-raised-button>Tải\\n                                về\\n                            </button> -->\\n                            <!-- <button  type=\\\"button\\\"\\n                                (click)=\\\"OpenClickPopupXemKetQuaNhomXetNghiemCLS(aggregates)\\\" mat-icon-button\\n                                class=\\\"mr-2\\\">\\n                                <mat-icon [icIcon]=\\\"icRedEye\\\"></mat-icon>\\n                            </button> -->\\n                            <button *ngIf=\\\"kiemTraCoKetQuaCLSXetNghiem(aggregates.items)\\\" fileName=\\\"KetQuaXetNghiem\\\"\\n                                (click)=\\\"InPhieuXn()\\\" color=\\\"primary\\\" mat-raised-button>Xem và tải\\n                                về</button>\\n                            <!-- <button *ngIf=\\\"kiemTraCoFileDownloadCLSXetNghiem(aggregates.items)\\\" type=\\\"button\\\"\\n                                (click)=\\\"downloadFileNhomXetNghiem(aggregates)\\\" mat-icon-button>\\n                                <mat-icon [icIcon]=\\\"icDownward\\\"></mat-icon>\\n                            </button> -->\\n                        </div>\\n                    </ng-template>\\n                    <ng-template #xemKetQuaActionTemplate let-dataItem>\\n                        <div kendoTooltip>\\n                            <!------------------------------------- Chuẩn đoán hình ảnh và thăm dò chức năng ---------------------------------------------->\\n                            <button *ngIf=\\\"dataItem.LoaiDichVuKyThuat !== 2\\\" type=\\\"button\\\"\\n                                (click)=\\\"OpenClickPopupXemKetQuaCLS(dataItem)\\\" color=\\\"primary\\\" mat-raised-button\\n                                class=\\\"mr-2\\\">\\n                                Xem và tải về\\n                            </button>\\n                        </div>\\n                    </ng-template>\\n                </kendo-tabstrip-tab>\\n                <!--------------------------------------------------------------------- TAB TƯỜNG TRÌNH---------------------------------------------------------------------------->\\n                <kendo-tabstrip-tab>\\n                    <ng-template kendoTabTitle>\\n                        <div kendoTooltip *ngIf=\\\"dichVuKyThuatTuongTrinh != null\\\">\\n                            TƯỜNG TRÌNH PT/TT\\n                            ({{dichVuKyThuatTuongTrinh.DichVuKyThuatDaTuongTrinh}}/{{dichVuKyThuatTuongTrinh.TongDichVuKyThuat}})\\n                        </div>\\n                    </ng-template>\\n                    <ng-template kendoTabContent>\\n                        <div class=\\\"content-tab-popup\\\">\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                                <app-combobox id=\\\"ten-pttt\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"80%\\\"\\n                                    (selectionChange)=\\\"chonDichVu($event)\\\" label=\\\"DS PTTT của NB \\\"\\n                                    [data]=\\\"ptttCombobox.lstPttt\\\" [(model)]=\\\"ptttCombobox.ptttId\\\" [popupSettings]=\\\"null\\\"\\n                                    (openCombobox)=\\\"OnOpen($event)\\\" [modelText]=\\\"ptttCombobox.ptttDisplay\\\"\\n                                    [template]=\\\"truocPhauThuatTemplate\\\" [templateHeader]=\\\"truocPhauThuatTemplateHeader\\\"\\n                                    class=\\\"no-padding\\\" #lstPtttCmb>\\n                                    <ng-template #truocPhauThuatTemplateHeader let-dataItem>\\n                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                            <tr>\\n                                                <th width=\\\"30%\\\">Loại</th>\\n                                                <th width=\\\"60%\\\">Dịch vụ</th>\\n                                                <th width=\\\"20%\\\">Bác sĩ chính</th>\\n                                                <th width=\\\"20%\\\">Tình trạng</th>\\n                                            </tr>\\n                                        </table>\\n                                    </ng-template>\\n                                    <ng-template #truocPhauThuatTemplate let-dataItem>\\n                                        <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                            <tr>\\n                                                <td width=\\\"30%\\\">{{dataItem.LoaiPTTT}}</td>\\n                                                <td width=\\\"60%\\\">{{dataItem.TenDv}}</td>\\n                                                <td width=\\\"20%\\\">{{dataItem.BacSi}}</td>\\n                                                <td *ngIf=\\\"dataItem.IsDaTuongTrinh\\\" width=\\\"20%\\\"><span\\n                                                        style=\\\"color:green;\\\">{{dataItem.TuongTrinhDisplay}}</span>\\n                                                </td>\\n                                                <td *ngIf=\\\"!dataItem.IsDaTuongTrinh\\\" width=\\\"20%\\\">\\n                                                    {{dataItem.TuongTrinhDisplay}}</td>\\n                                            </tr>\\n                                        </table>\\n                                    </ng-template>\\n                                </app-combobox>\\n                                <div fxFlex=\\\"50%\\\">\\n                                    <a *ngIf=\\\"coDichVuHuy == true\\\" (click)=\\\"hienThiDichVuKhongThucHien()\\\"\\n                                        id=\\\"show-khong-thuc-hien\\\">\\n                                        <span\\n                                            style=\\\"color:#005dab; text-decoration: underline; font-weight: bold; margin: 15px\\\">\\n                                            Dv không thực hiện\\n                                        </span>\\n                                    </a>\\n                                </div>\\n                                <kendo-tabstrip fxFlex=\\\"100%\\\" [tabPosition]=\\\"'left'\\\"\\n                                    class=\\\"content-has-border tabstrip-pad sticky-kendotab-item tabstrip-on-popup tab-strip-lich-su\\\"\\n                                    *ngIf=\\\"soLan != null && dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\"\\n                                    [keepTabContent]=\\\"true\\\" (tabSelect)=\\\"onTabSelect($event)\\\">\\n                                    <kendo-tabstrip-tab [selected]=\\\"true\\\">\\n                                        <ng-template kendoTabTitle>\\n                                            <div kendoTooltip>\\n                                                EKIP <br />THỰC HIỆN\\n                                            </div>\\n                                        </ng-template>\\n                                        <ng-template kendoTabContent>\\n                                            <div class=\\\"p-2\\\">\\n                                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                                    fxLayoutGap.lt-sm=\\\"0\\\">\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Khoa phòng</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.TenKhoaPhong != null\\\">{{dataThongTinLichSuEkipPTTT.TenKhoaPhong}}</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Chẩn đoán vào khoa</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.ChanDoanVaoKhoa != null\\\">{{dataThongTinLichSuEkipPTTT.ChanDoanVaoKhoa}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.ChanDoanVaoKhoa == null\\\">Không\\n                                                                có chẩn đoán vào khoa.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Mô tả</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.MoTaChanDoan != null\\\">{{dataThongTinLichSuEkipPTTT.MoTaChanDoan}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.MoTaChanDoan == null\\\">Không\\n                                                                có mô tả chẩn đoán.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">CĐ trước phẫu thuật</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.ChanDoanTruocPT != null\\\">{{dataThongTinLichSuEkipPTTT.ChanDoanTruocPT}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.ChanDoanTruocPT == null\\\">Không\\n                                                                có chẩn đoán trước phẫu thuật.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thời gian PT</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label>{{dataThongTinLichSuEkipPTTT.ThoiGianTruocPT}}</label>\\n                                                        </ng-container>\\n                                                    </div>\\n                                                    <h3 class=\\\"sub-title\\\">Người thực hiện</h3>\\n                                                    <app-grid [gridColumns]=\\\"gridNguoiThucHienColumns\\\"\\n                                                        [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n                                                        urlGetData=\\\"PhauThuatThuThuat/GetDataForGridAsyncLichSuEkipBacSi\\\"\\n                                                        urlGetTotalPage=\\\"PhauThuatThuThuat/GetTotalPageForGridAsyncLichSuEkipBacSi\\\"\\n                                                        class=\\\"k-grid-border\\\"\\n                                                        [additionalSearchString]=\\\"yeuCauDichVuKyThuatId\\\"\\n                                                        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n                                                        [checkboxAble]=\\\"false\\\" [maxHeight]=\\\"200\\\" [lazyLoadPage]=\\\"true\\\"\\n                                                        [pageable]=\\\"false\\\" #gridThucHien>\\n                                                    </app-grid>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Ghi chú</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.GhiChuCaPTTT != null\\\">{{dataThongTinLichSuEkipPTTT.GhiChuCaPTTT}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.GhiChuCaPTTT == null\\\">Không có ghi chú.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"p-2\\\"\\n                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT === undefined && dataThongTinLichSuEkipPTTT === null\\\">\\n                                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                                    fxLayoutGap.lt-sm=\\\"0\\\">\\n                                                </div>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-tabstrip-tab>\\n                                    <kendo-tabstrip-tab>\\n                                        <ng-template kendoTabTitle>\\n                                            <div kendoTooltip>\\n                                                TƯỜNG TRÌNH PT/TT\\n                                            </div>\\n                                        </ng-template>\\n                                        <ng-template kendoTabContent>\\n                                            <div class=\\\"p-2\\\"\\n                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                                    fxLayoutGap.lt-sm=\\\"0\\\">\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Khoa phòng</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.TenKhoaPhong != null\\\">{{dataThongTinLichSuEkipPTTT.TenKhoaPhong}}</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Chẩn đoán vào khoa</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.ChanDoanVaoKhoa != null\\\">{{dataThongTinLichSuEkipPTTT.ChanDoanVaoKhoa}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.ChanDoanVaoKhoa == null\\\">Không\\n                                                                có chẩn đoán vào khoa.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Mô tả</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.MoTaChanDoan != null\\\">{{dataThongTinLichSuEkipPTTT.MoTaChanDoan}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.MoTaChanDoan == null\\\">Không\\n                                                                có mô tả chẩn đoán.</label>\\n\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thời gian bắt đầu gây mê</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.ThoiGianBatDauGayMe != null\\\">{{dataThongTinLichSuEkipPTTT.ThoiGianBatDauGayMe}}</label>\\n                                                            <label *ngIf=\\\"dataThongTinLichSuEkipPTTT.ThoiGianBatDauGayMe == null\\\">Không có thời gian bắt đầu gây\\n                                                                mê.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n                                                \\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thời gian bắt đầu PT</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.ThoiDiemPhauThuat != null\\\">{{dataThongTinLichSuEkipPTTT.ThoiDiemPhauThuat}}</label>\\n                                                            <label *ngIf=\\\"dataThongTinLichSuEkipPTTT.ThoiDiemPhauThuat == null\\\">Không có thời gian bắt đầu PT.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n                                                \\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thời gian kết thúc PT</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.ThoiDiemKetThucPhauThuat != null\\\">{{dataThongTinLichSuEkipPTTT.ThoiDiemKetThucPhauThuat}}</label>\\n                                                            <label *ngIf=\\\"dataThongTinLichSuEkipPTTT.ThoiDiemKetThucPhauThuat == null\\\">Không có thời gian kết thúc\\n                                                                PT.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">CĐ trước phẫu thuật</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.ChanDoanTruocPT != null\\\">{{dataThongTinLichSuEkipPTTT.ChanDoanTruocPT}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.ChanDoanTruocPT == null\\\">Không\\n                                                                có chẩn đoán trước phẫu\\n                                                                thuật.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Mô tả</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.MoTaTruocPT != null\\\">{{dataThongTinLichSuEkipPTTT.MoTaTruocPT}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.MoTaTruocPT == null\\\">Không\\n                                                                có mô tả trước phẫu thuật.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">CĐ sau phẫu thuật</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.ChanDoanSauPT != null\\\">{{dataThongTinLichSuEkipPTTT.ChanDoanSauPT}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.ChanDoanSauPT == null\\\">Không\\n                                                                có chẩn đoán sau phẫu thuật.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Mô tả</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.MoTaSauPT != null\\\">{{dataThongTinLichSuEkipPTTT.MoTaSauPT}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.MoTaSauPT == null\\\">Không\\n                                                                có mô tả sau phẫu thuật.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Phương pháp PTTT</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.PhuongPhapPTTT != null\\\">{{dataThongTinLichSuEkipPTTT.PhuongPhapPTTT}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.PhuongPhapPTTT == null\\\">Không\\n                                                                có phương pháp phẫu thuật thủ\\n                                                                thuật.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Loại PTTT</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.LoaiPhauThuatThuThuat != null\\\">{{dataThongTinLichSuEkipPTTT.LoaiPhauThuatThuThuat}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.LoaiPhauThuatThuThuat == null\\\">Không\\n                                                                có loại phương pháp phẫu thuật\\n                                                                thủ thuật.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Phương pháp vô cảm</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.PhuongPhapVoCam != null\\\">{{dataThongTinLichSuEkipPTTT.PhuongPhapVoCam}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.PhuongPhapVoCam == null\\\">Không\\n                                                                có phương pháp vô cảm.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">PTTT viên chính</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.PTTTVienChinh != null\\\">{{dataThongTinLichSuEkipPTTT.PTTTVienChinh}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.PTTTVienChinh == null\\\">Không\\n                                                                có PTTT viên chính.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Tình hình PTTT</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.TinhHinhPTTT != null\\\">{{dataThongTinLichSuEkipPTTT.TinhHinhPTTT}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.TinhHinhPTTT == null\\\">Không\\n                                                                có tình hình PTTT.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Tai biến PTTT</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.TaiBienPTTT != null\\\">{{dataThongTinLichSuEkipPTTT.TaiBienPTTT}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.TaiBienPTTT == null\\\">Không\\n                                                                có tai biến PTTT.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Trình tự phẫu thuật</h3>\\n                                                    <div fxFlex=\\\"100%\\\">\\n                                                        <ng-container\\n                                                            *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\">\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.TrinhTuPT != null\\\">{{dataThongTinLichSuEkipPTTT.TrinhTuPT}}</label>\\n                                                            <label\\n                                                                *ngIf=\\\"dataThongTinLichSuEkipPTTT.TrinhTuPT == null\\\">Không\\n                                                                có trình tự phẫu thuật.</label>\\n                                                        </ng-container>\\n                                                    </div>\\n\\n                                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Lược đồ</h3>\\n                                                    <div fxFlex=\\\"100%\\\"\\n                                                        *ngIf=\\\"dataThongTinLichSuEkipPTTT != undefined && dataThongTinLichSuEkipPTTT != null\\\"\\n                                                        class=\\\"mb-3\\\">\\n                                                        <div fxFlex=\\\"100%\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                                            fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                                                            <div fxFlex=\\\"25%\\\"\\n                                                                *ngFor=\\\"let item of dataThongTinLichSuEkipPTTT.ImgLuocDoPT\\\">\\n                                                                <div class=\\\"card overflow-hidden\\\"\\n                                                                    style=\\\"border: 1px solid #ccc;position: relative;\\\">\\n                                                                    <div\\n                                                                        class=\\\"mat-ripple p-4 text-center hover:bg-hover trans-ease-out cursor-pointer relative\\\">\\n                                                                        <img (click)=\\\"xemHinhAnhBoPhanTonThuong(item)\\\"\\n                                                                            src=\\\"{{item.LuocDo}}\\\" class=\\\"mx-auto\\\" />\\n                                                                    </div>\\n                                                                    <div class=\\\"bg-app-bar p-2\\\">\\n                                                                        <p>{{item.MoTa}}</p>\\n                                                                    </div>\\n                                                                </div>\\n                                                            </div>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-tabstrip-tab>\\n                                    <kendo-tabstrip-tab>\\n                                        <ng-template kendoTabTitle>\\n                                            <div kendoTooltip>\\n                                                GHI NHẬN<br /> VT/THUỐC\\n                                            </div>\\n                                        </ng-template>\\n                                        <ng-template kendoTabContent>\\n                                            <div class=\\\"p-2\\\">\\n                                                <app-grid #gridVTTHThuoc fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\"\\n                                                    style=\\\"width: 1px;\\\" [gridColumns]=\\\"gridVTTHThuocColumns\\\"\\n                                                    [allowSortDefault]=\\\"true\\\" [gridDataSource]=\\\"gridDataSourceVTTHThuoc\\\"\\n                                                    [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n                                                    [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n                                                    [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [pageable]=\\\"false\\\"\\n                                                    [groups]=\\\"groupsGhiNhanVTHHThuoc\\\" masterName=\\\"gridVTTHThuoc\\\"\\n                                                    [removeGroupFooterIfIsOnlyOne]=\\\"true\\\" reorderRowsMoveItemData=\\\"true\\\"\\n                                                    [showStt]=\\\"true\\\">\\n                                                </app-grid>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-tabstrip-tab>\\n                                    <kendo-tabstrip-tab>\\n                                        <ng-template kendoTabTitle>\\n                                            <div kendoTooltip>\\n                                                CHỈ SỐ <br />SINH TỒN\\n                                            </div>\\n                                        </ng-template>\\n                                        <ng-template kendoTabContent>\\n                                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                                fxLayoutGap.lt-sm=\\\"0\\\">\\n                                                <app-grid [gridColumns]=\\\"gridChiSoSinhTonColumns\\\" fxFlex=\\\"100%\\\"\\n                                                    fxFlex.sm=\\\"100%\\\" [documentType]=\\\"documentType\\\"\\n                                                    [useAddDeault]=\\\"false\\\"\\n                                                    urlGetData=\\\"PhauThuatThuThuat/GetDataForGridAsyncChiSoSinhHieuHoanThanhPTTT\\\"\\n                                                    urlGetTotalPage=\\\"PhauThuatThuThuat/GetTotalPageForGridAsyncChiSoSinhHieuHoanThanhPTTT\\\"\\n                                                    [additionalSearchString]=\\\"yeuCauTiepNhanId\\\" class=\\\"k-grid-border\\\"\\n                                                    [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n                                                    [checkboxAble]=\\\"false\\\" [maxHeight]=\\\"200\\\" [lazyLoadPage]=\\\"true\\\"\\n                                                    [pageable]=\\\"false\\\">\\n                                                </app-grid>\\n                                            </div>\\n                                        </ng-template>\\n                                    </kendo-tabstrip-tab>\\n                                </kendo-tabstrip>\\n                            </div>\\n                        </div>\\n                    </ng-template>\\n                </kendo-tabstrip-tab>\\n                <!--------------------------------------------------------------------- TAB KẾT LUẬN ------------------------------------------------------------------------------>\\n                <kendo-tabstrip-tab *ngIf=\\\"thongTinKetLuanPTTT != null  && kiemTraCoPhauThuat\\\">\\n                    <ng-template kendoTabTitle>\\n                        <div kendoTooltip>\\n                            KẾT LUẬN\\n                        </div>\\n                    </ng-template>\\n                    <ng-template kendoTabContent>\\n                        <div class=\\\"content-tab-popup\\\">\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                fxLayoutGap.lt-sm=\\\"0\\\" *ngIf=\\\"thongTinKetLuanPTTT.BacSiPhuTrachTheoDoi != null\\\">\\n                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                    fxLayoutGap.lt-sm=\\\"0\\\" *ngIf=\\\"thongTinKetLuanPTTT.BacSiPhuTrachTheoDoi != null\\\">\\n                                    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Tình Trạng</h3>\\n                                    <label\\n                                        *ngIf=\\\"thongTinKetLuanPTTT != null\\\">{{thongTinKetLuanPTTT.TinhTrangDisplay}}</label>\\n                                    <label *ngIf=\\\"thongTinKetLuanPTTT == null\\\">Không có tình trạng theo dõi.</label>\\n\\n                                    <div *ngIf=\\\"thongTinKetLuanPTTT != null\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                        fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" fxFlex=\\\"100%\\\">\\n                                        <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Bác sĩ phụ trách</h3>\\n                                        <label\\n                                            *ngIf=\\\"thongTinKetLuanPTTT != null && thongTinKetLuanPTTT.BacSiPhuTrachTheoDoi != null\\\">\\n                                            {{thongTinKetLuanPTTT.BacSiPhuTrachTheoDoi}}</label>\\n                                        <label\\n                                            *ngIf=\\\"thongTinKetLuanPTTT == null ||(thongTinKetLuanPTTT != null && thongTinKetLuanPTTT.BacSiPhuTrachTheoDoi == null)\\\">\\n                                            Không có bác sĩ phụ trách theo dõi.</label>\\n\\n                                        <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Điều dưỡng phụ trách</h3>\\n                                        <label\\n                                            *ngIf=\\\"thongTinKetLuanPTTT != null && thongTinKetLuanPTTT.DieuDuongPhuTrachTheoDoi != null\\\">\\n                                            {{thongTinKetLuanPTTT.DieuDuongPhuTrachTheoDoi}}</label>\\n                                        <label\\n                                            *ngIf=\\\"thongTinKetLuanPTTT == null ||(thongTinKetLuanPTTT != null && thongTinKetLuanPTTT.DieuDuongPhuTrachTheoDoi == null)\\\">\\n                                            Không có điều dưỡng phụ trách theo dõi.</label>\\n\\n\\n                                        <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Thời gian theo dõi đến</h3>\\n                                        <label\\n                                            *ngIf=\\\"thongTinKetLuanPTTT != null && thongTinKetLuanPTTT.ThoiDiemTheoDoi != null\\\">\\n                                            {{thongTinKetLuanPTTT.ThoiDiemTheoDoi}}</label>\\n                                        <label\\n                                            *ngIf=\\\"thongTinKetLuanPTTT == null ||(thongTinKetLuanPTTT != null && thongTinKetLuanPTTT.ThoiDiemTheoDoi == null)\\\">\\n                                            Không có thời gian theo dõi.</label>\\n\\n                                        <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Ghi chú</h3>\\n                                        <label\\n                                            *ngIf=\\\"thongTinKetLuanPTTT != null && thongTinKetLuanPTTT.GhiChuTheoDoi != null\\\">\\n                                            {{thongTinKetLuanPTTT.GhiChuTheoDoi}}</label>\\n                                        <label\\n                                            *ngIf=\\\"thongTinKetLuanPTTT == null ||(thongTinKetLuanPTTT != null && thongTinKetLuanPTTT.GhiChuTheoDoi == null)\\\">\\n                                            Không có ghi chú.</label>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                fxLayoutGap.lt-sm=\\\"0\\\" *ngIf=\\\"thongTinKetLuanPTTT.BacSiPhuTrachTheoDoi == null\\\">\\n                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                    fxLayoutGap.lt-sm=\\\"0\\\">\\n                                    <div *ngIf=\\\"thongTinKetLuanPTTT != null\\\" fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                        fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" fxFlex=\\\"100%\\\">\\n                                        <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Tình Trạng</h3>\\n                                        <label\\n                                            *ngIf=\\\"thongTinKetLuanPTTT != null\\\">{{thongTinKetLuanPTTT.TinhTrangDisplay}}</label>\\n                                        <label *ngIf=\\\"thongTinKetLuanPTTT == null\\\">Không có tình trạng theo dõi.</label>\\n\\n                                        <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Ghi chú</h3>\\n                                        <label\\n                                            *ngIf=\\\"thongTinKetLuanPTTT != null && thongTinKetLuanPTTT.GhiChuTheoDoi != null\\\">\\n                                            {{thongTinKetLuanPTTT.GhiChuTheoDoi}}</label>\\n                                        <label\\n                                            *ngIf=\\\"thongTinKetLuanPTTT == null ||(thongTinKetLuanPTTT != null && thongTinKetLuanPTTT.GhiChuTheoDoi == null)\\\">\\n                                            Không có ghi chú.</label>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </ng-template>\\n                </kendo-tabstrip-tab>\\n                <!--------------------------------------------------------------------- TAB THEO DÕI ------------------------------------------------------------------------------>\\n                <kendo-tabstrip-tab\\n                    *ngIf=\\\" thongTinKhamKhacPTTTTheoDoi != undefined && thongTinKhamKhacPTTTTheoDoi.length > 0\\\">\\n                    <ng-template kendoTabTitle>\\n                        <div kendoTooltip>\\n                            THEO DÕI\\n                        </div>\\n                    </ng-template>\\n                    <ng-template kendoTabContent>\\n                        <div class=\\\"content-tab-popup\\\">\\n                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                fxLayoutGap.lt-sm=\\\"0\\\">\\n                                <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n                                    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                        fxLayoutGap.lt-sm=\\\"0\\\">\\n                                        <!--Begin chỉ sô sinh tồn -->\\n                                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\"\\n                                            fxLayoutGap.lt-sm=\\\"0\\\">\\n                                            <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mr-4\\\"> CHỈ SỐ SINH TỒN </h3>\\n                                            <app-grid\\n                                                *ngIf=\\\"yeuCauTiepNhanId  != undefined &&  yeuCauTiepNhanId != null\\\"\\n                                                [gridColumns]=\\\"gridChiSoSinhTonColumns\\\" [documentType]=\\\"documentType\\\"\\n                                                [useAddDeault]=\\\"false\\\"\\n                                                urlGetData=\\\"PhauThuatThuThuat/GetDataForGridAsyncChiSoSinhHieuHoanThanhPTTT\\\"\\n                                                urlGetTotalPage=\\\"PhauThuatThuThuat/GetTotalPageForGridAsyncChiSoSinhHieuHoanThanhPTTT\\\"\\n                                                [additionalSearchString]=\\\"yeuCauTiepNhanId\\\" class=\\\"k-grid-border\\\"\\n                                                [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n                                                [checkboxAble]=\\\"false\\\" [maxHeight]=\\\"200\\\" [lazyLoadPage]=\\\"true\\\"\\n                                                [pageable]=\\\"false\\\">\\n                                            </app-grid>\\n\\n                                            <ng-template #nhipTimTemplate let-dataItem>\\n                                                <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\"\\n                                                    [(model)]=\\\"dataItem.NhipTim\\\" class=\\\"no-label\\\">\\n                                                </app-textboxnumeric>\\n                                                <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.NhipTim}}</p>\\n                                            </ng-template>\\n                                            <ng-template #huyetApTemplate let-dataItem>\\n                                                <div style=\\\"width:100%;display: block;overflow: hidden;\\\">\\n                                                    <div *ngIf=\\\"dataItem.Id == 0\\\"\\n                                                        style=\\\"width: calc(50% - 10px);float: left;\\\">\\n                                                        <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\"\\n                                                            [(model)]=\\\"huyetApTamThu\\\" class=\\\"no-label\\\" [min]=\\\"90\\\"\\n                                                            [max]=\\\"140\\\">\\n                                                        </app-textboxnumeric>\\n                                                    </div>\\n                                                    <div *ngIf=\\\"dataItem.Id == 0\\\"\\n                                                        style=\\\"width: 20px;text-align: center;float: left;line-height: 43px;\\\">\\n                                                        /</div>\\n                                                    <div *ngIf=\\\"dataItem.Id == 0\\\"\\n                                                        style=\\\"width: calc(50% - 10px);float: left;\\\">\\n                                                        <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\"\\n                                                            [(model)]=\\\"huyetApTamTruong\\\" class=\\\"no-label\\\" [min]=\\\"60\\\"\\n                                                            [max]=\\\"90\\\">\\n                                                        </app-textboxnumeric>\\n                                                    </div>\\n                                                </div>\\n                                                <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.HuyetAp}} </p>\\n                                            </ng-template>\\n                                            <ng-template #thanNhietTemplate let-dataItem>\\n                                                <app-textboxnumeric [format]=\\\"format\\\" *ngIf=\\\"dataItem.Id == 0\\\"\\n                                                    [(model)]=\\\"dataItem.ThanNhiet\\\" class=\\\"no-label\\\">\\n                                                </app-textboxnumeric>\\n                                                <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.ThanNhiet | number}}\\n                                                </p>\\n                                            </ng-template>\\n                                            <ng-template #nhipThoTemplate let-dataItem>\\n                                                <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\"\\n                                                    [(model)]=\\\"dataItem.NhipTho\\\" class=\\\"no-label\\\">\\n                                                </app-textboxnumeric>\\n                                                <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.NhipTho | number}}\\n                                                </p>\\n                                            </ng-template>\\n                                            <ng-template #canNangTemplate let-dataItem>\\n                                                <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\" [format]=\\\"format\\\"\\n                                                    [(model)]=\\\"dataItem.CanNang\\\" class=\\\"no-label\\\" [min]=\\\"2.0\\\"\\n                                                    [max]=\\\"222.0\\\">\\n                                                </app-textboxnumeric>\\n                                                <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.CanNang | number}}\\n                                                </p>\\n                                            </ng-template>\\n                                            <ng-template #BMITemplate let-dataItem>\\n                                                <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\" [format]=\\\"format\\\"\\n                                                    [(model)]=\\\"dataItem.BMI\\\" class=\\\"no-label\\\">\\n                                                </app-textboxnumeric>\\n                                                <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">\\n                                                    {{dataItem.BMI | number: '1.2-2'}}\\n                                                </p>\\n                                            </ng-template>\\n                                            <ng-template #chieuCaoTemplate let-dataItem>\\n                                                <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\" [format]=\\\"format\\\"\\n                                                    [(model)]=\\\"dataItem.ChieuCao\\\" class=\\\"no-label\\\" [min]=\\\"100.0\\\"\\n                                                    [max]=\\\"250.0\\\">\\n                                                </app-textboxnumeric>\\n                                                <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.ChieuCao}} </p>\\n                                            </ng-template>\\n                                            <ng-template #glassgowTemplate let-dataItem>\\n                                                <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\" [format]=\\\"format\\\"\\n                                                    [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.Glassgow\\\" [decimals]=\\\"1\\\"\\n                                                    class=\\\"no-label\\\">\\n                                                </app-textboxnumeric>\\n                                                <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.Glassgow | number}}\\n                                                </p>\\n                                            </ng-template>\\n                                            <ng-template #sPO2Template let-dataItem>\\n                                                <app-textboxnumeric *ngIf=\\\"dataItem.Id == 0\\\" [format]=\\\"format\\\"\\n                                                    [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.SpO2\\\" [decimals]=\\\"1\\\"\\n                                                    class=\\\"no-label\\\">\\n                                                </app-textboxnumeric>\\n                                                <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id != 0\\\">{{dataItem.SpO2 | number}}</p>\\n                                            </ng-template>\\n                                        </div>\\n                                        <!--End chỉ số sinh tồn -->\\n                                        <div fxFlex=\\\"100%\\\">\\n                                            <kendo-tabstrip fxFlex=\\\"100%\\\"\\n                                                *ngIf=\\\"thongTinKhamKhacPTTTTheoDoi != undefined\\\"\\n                                                class=\\\"content-has-border tabstrip-pad tabstrip-on-popup k-tabstrip-items-top-0\\\"\\n                                                (tabSelect)=\\\"onTabSelect($event)\\\">\\n                                                <ng-container\\n                                                    *ngFor=\\\"let item of thongTinKhamKhacPTTTTheoDoi; index as i\\\">\\n                                                    <kendo-tabstrip-tab [selected]=\\\"i === 0\\\">\\n                                                        <ng-template kendoTabTitle>\\n                                                            <div kendoTooltip>\\n                                                                LẦN KHÁM {{i+1}}\\n                                                            </div>\\n                                                        </ng-template>\\n                                                        <ng-template kendoTabContent>\\n                                                            <div class=\\\"p-2\\\">\\n                                                                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                                                    fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                                                                    <div fxFlex=\\\"100%\\\">\\n                                                                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                                                            fxLayoutGap=\\\"16px grid\\\"\\n                                                                            fxLayoutGap.lt-sm=\\\"0\\\">\\n                                                                            <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">\\n                                                                                Khám\\n                                                                                toàn thân </h3>\\n                                                                            <label>{{item.KhamToanThan}}</label>\\n\\n                                                                            <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">\\n                                                                                Khám\\n                                                                                các cơ quan khác </h3>\\n                                                                            <ng-container\\n                                                                                *ngIf=\\\"thongTinKhamTheoDoiTemplateObj == undefined || thongTinKhamTheoDoiTemplateObj == null\\\">\\n                                                                                <label fxFlex=\\\"100%\\\"\\n                                                                                    class=\\\"font-weight-bold\\\">Không có\\n                                                                                    khám\\n                                                                                    các cơ quan\\n                                                                                    khác.</label>\\n                                                                            </ng-container>\\n                                                                            <ng-container\\n                                                                                *ngIf=\\\"thongTinKhamTheoDoiTemplateObj != undefined && thongTinKhamTheoDoiTemplateObj != null && thongTinKhamTheoDoiTemplateObj.ComponentDynamics!=null && thongTinKhamTheoDoiTemplateObj.ComponentDynamics.length>0\\\">\\n                                                                                <ng-container\\n                                                                                    *ngFor=\\\"let item of thongTinKhamTheoDoiTemplateObj.ComponentDynamics\\\">\\n                                                                                    <ng-container\\n                                                                                        *ngIf=\\\"item.Type == 4 && item.groupItems != undefined && item.groupItems.length > 0\\\">\\n                                                                                        <div fxFlex=\\\"100%\\\"\\n                                                                                            class=\\\"row ml-1 mb-2\\\">\\n                                                                                            <fieldset fxFlex=\\\"100%\\\">\\n                                                                                                <legend>{{item.Label}}\\n                                                                                                </legend>\\n                                                                                                <div fxLayout=\\\"row wrap\\\"\\n                                                                                                    fxLayout.lt-sm=\\\"column\\\"\\n                                                                                                    fxLayoutGap=\\\"16px grid\\\"\\n                                                                                                    fxLayoutGap.lt-sm=\\\"0\\\">\\n                                                                                                    <ng-container\\n                                                                                                        *ngFor=\\\"let itemInGroup of item.groupItems\\\">\\n                                                                                                        <h3 *ngIf=\\\"itemInGroup.Type==1\\\"\\n                                                                                                            fxFlex=\\\"20%\\\"\\n                                                                                                            class=\\\"sub-title\\\">\\n                                                                                                            {{itemInGroup.Label}}\\n                                                                                                        </h3>\\n                                                                                                        <label\\n                                                                                                            fxFlex=\\\"100%\\\"\\n                                                                                                            *ngIf=\\\"itemInGroup.Type==2\\\"><span\\n                                                                                                                style=\\\"font-weight: bold;\\\">{{itemInGroup.Label}}\\n                                                                                                            </span>:\\n                                                                                                            {{itemInGroup.Value}}</label>\\n                                                                                                        <label\\n                                                                                                            fxFlex=\\\"100%\\\"\\n                                                                                                            *ngIf=\\\"itemInGroup.Type==3\\\"><span\\n                                                                                                                style=\\\"font-weight: bold;\\\">{{itemInGroup.Label}}</span>\\n                                                                                                            :\\n                                                                                                            {{itemInGroup.Value}}</label>\\n                                                                                                    </ng-container>\\n                                                                                                </div>\\n                                                                                            </fieldset>\\n                                                                                        </div>\\n                                                                                    </ng-container>\\n                                                                                    <ng-container\\n                                                                                        *ngIf=\\\"item.groupItems == undefined || item.groupItems == null || item.groupItems.length == 0\\\">\\n                                                                                        <h3 *ngIf=\\\"item.Type==1\\\"\\n                                                                                            fxFlex=\\\"20%\\\"\\n                                                                                            class=\\\"sub-title\\\">\\n                                                                                            {{item.Label}}\\n                                                                                        </h3>\\n                                                                                        <label fxFlex=\\\"100%\\\"\\n                                                                                            *ngIf=\\\"item.Type==2\\\"><span\\n                                                                                                style=\\\"font-weight: bold;\\\">{{item.Label}}\\n                                                                                                :</span>\\n                                                                                            {{item.Value}}</label>\\n                                                                                        <label fxFlex=\\\"100%\\\"\\n                                                                                            *ngIf=\\\"item.Type==3\\\"><span\\n                                                                                                style=\\\"font-weight: bold;\\\">{{item.Label}}\\n                                                                                                :</span>\\n                                                                                            {{item.Value}}</label>\\n                                                                                    </ng-container>\\n                                                                                </ng-container>\\n                                                                            </ng-container>\\n                                                                        </div>\\n\\n                                                                        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\"\\n                                                                            fxLayoutGap=\\\"16px grid\\\"\\n                                                                            fxLayoutGap.lt-sm=\\\"0\\\">\\n                                                                            <h3 fxFlex=\\\"50%\\\" class=\\\"sub-title mr-4\\\">\\n                                                                                Khám\\n                                                                                khác</h3>\\n                                                                            <app-grid\\n                                                                                [gridColumns]=\\\"gridKhamKhacColumns\\\"\\n                                                                                [documentType]=\\\"documentType\\\"\\n                                                                                [useAddDeault]=\\\"false\\\"\\n                                                                                urlGetData=\\\"PhauThuatThuThuat/GetDataForGridAsyncLichSuKhamCacCoQuan\\\"\\n                                                                                urlGetTotalPage=\\\"PhauThuatThuThuat/GetTotalPageForGridAsyncLichSuKhamCacCoQuan\\\"\\n                                                                                [additionalSearchString]=\\\"item.Id\\\"\\n                                                                                class=\\\"k-grid-border\\\"\\n                                                                                [useHeaderDefault]=\\\"false\\\"\\n                                                                                [useActionDefault]=\\\"false\\\"\\n                                                                                [checkboxAble]=\\\"false\\\" [maxHeight]=\\\"200\\\"\\n                                                                                [lazyLoadPage]=\\\"true\\\"\\n                                                                                [pageable]=\\\"false\\\">\\n                                                                            </app-grid>\\n                                                                        </div>\\n                                                                    </div>\\n                                                                </div>\\n                                                            </div>\\n                                                        </ng-template>\\n                                                    </kendo-tabstrip-tab>\\n                                                </ng-container>\\n                                            </kendo-tabstrip>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </ng-template>\\n                </kendo-tabstrip-tab>\\n            </kendo-tabstrip>\\n        </div>\\n    </div>\\n    <div class=\\\"gridViewGoiDichViKhacTemplate\\\">\\n        <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n            <strong>{{value}}</strong>\\n        </ng-template>\\n        <ng-template #congTienGroupFooterTemplate let-dataItem>\\n            <span>Cộng:</span>\\n        </ng-template>\\n        <ng-template #tongTienFooterTemplate let-dataItem>\\n            <span>Tổng cộng:</span>\\n        </ng-template>\\n        <ng-template #donGiaTemplate let-dataItem>\\n            {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n        <ng-template #thanhTienTemplate let-dataItem>\\n            {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n        <ng-template #thanhTienFooterTemplate let-dataItem>\\n            <p style=\\\"color: blue; font-weight: bold;\\\">\\n                <span>{{totalNotChietKhau('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n        </ng-template>\\n        <ng-template #thanhTienGroupFooterTemplate let-aggregates>\\n            {{aggregates.ThanhTien.sum | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n        <ng-template #donGiaBaoHiemTemplate let-dataItem>\\n            {{dataItem.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n        <ng-template #duocHuongBaoHiemTemplate let-dataItem>\\n            <app-checkbox id=\\\"duocHuongBaoHiem{{dataItem.Id}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.DuocHuongBaoHiem\\\"\\n                disabled=\\\"{{true}}\\\">\\n            </app-checkbox>\\n        </ng-template>\\n        <ng-template #noiThucHienTemplate let-dataItem>\\n            <span style=\\\"color:red;\\\">\\n                {{dataItem.NoiThucHien}}\\n            </span>\\n        </ng-template>\\n        <ng-template #trangThaiTemplate let-dataItem>\\n            <ng-container [ngSwitch]=\\\"dataItem.NhomId\\\">\\n                <span *ngSwitchCase=\\\"1\\\" [ngClass]=\\\"{\\n                        'blueText': dataItem.TrangThaiDichVuId == trangThaiYCKB.ChuaKham,\\n                        'greenText': dataItem.TrangThaiDichVuId == trangThaiYCKB.DangKham,\\n                        'yellowText': dataItem.TrangThaiDichVuId == trangThaiYCKB.DangLamChiDinh,\\n                        'orangeText': dataItem.TrangThaiDichVuId == trangThaiYCKB.DangDoiKetLuan,\\n                        'redText': dataItem.TrangThaiDichVuId == trangThaiYCKB.DaKham}\\\">\\n                    {{dataItem.TrangThaiDichVu}}\\n                </span>\\n\\n                <span *ngSwitchDefault [ngClass]=\\\"{\\n                        'blueText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.ChuaThucHien,\\n                        'greenText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.DangThucHien,\\n                        'redText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.DaThucHien }\\\">\\n                    {{dataItem.TrangThaiDichVu}}\\n                </span>\\n            </ng-container>\\n        </ng-template>\\n    </div>\\n\\n\\n    <!-- ghi nhận thuốc vật tư -->\\n    <div class=\\\"gripViewGoiDichViKhacTemplate\\\">\\n        <!-- <ng-template #sttTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            {{rowIndex + 1}}\\n        </ng-template> -->\\n\\n        <ng-template #nhomGroupHeaderVTTemplate let-value=\\\"value\\\">\\n            <strong>{{value}}</strong>\\n        </ng-template>\\n\\n        <ng-template #donGiaGhiNhanTemplate let-dataItem>\\n            <!-- {{dataItem.DonGia | number:'0.2-2':'vi-VN'}} -->\\n            <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n                {{item.DonGia | number:'0.2-2':'vi-VN'}}\\n            </p>\\n        </ng-template>\\n\\n        <ng-template #soLuongGhiNhanVTTHThuocTemplate let-dataItem>\\n            <!-- <app-textboxnumeric [disabled]=\\\"(dataItem.PhieuLinh != null && dataItem.PhieuLinh != '') || (dataItem.PhieuXuat != null && dataItem.PhieuXuat != '')\\\" [(model)]=\\\"dataItem.SoLuong\\\" class=\\\"no-label\\\" [format]=\\\"format\\\" [decimals]=\\\"2\\\" label=\\\" \\\" min=\\\"1\\\" max=\\\"9999999\\\"\\n                (modelChange)=\\\"CapNhatGridItemGhiNhanVTTHThuoc($event, dataItem)\\\"> \\n            </app-textboxnumeric> -->\\n\\n            <!-- <div *ngIf=\\\"dataItem.LoaiKho == 5\\\">{{dataItem.SoLuong | number:'0.2'}}</div>\\n            <div *ngIf=\\\"dataItem.LoaiKho != 5\\\">{{dataItem.SoLuong | number}}</div> -->\\n\\n            <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n                <ng-container *ngIf=\\\"dataItem.LoaiKho == 5\\\">{{item.SoLuong | number:'0.2'}}</ng-container>\\n                <ng-container *ngIf=\\\"dataItem.LoaiKho != 5\\\">{{item.SoLuong | number}}</ng-container>\\n            </p>\\n\\n            <!-- <app-textboxnumeric [disabled]=\\\"(dataItem.PhieuLinh != null && dataItem.PhieuLinh != '') || (dataItem.PhieuXuat != null && dataItem.PhieuXuat != '')\\\" [(model)]=\\\"dataItem.SoLuong\\\" class=\\\"no-label\\\" label=\\\" \\\" min=\\\"1\\\" max=\\\"9999999\\\"\\n                (blur)=\\\"CapNhatGridItemGhiNhanVTTHThuoc($event, dataItem)\\\"> \\n            </app-textboxnumeric> -->\\n        </ng-template>\\n\\n        <ng-template #thanhTienTemplate let-dataItem>\\n            <!-- {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}} -->\\n            <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n                {{item.ThanhTien | number:'0.2-2':'vi-VN'}}\\n            </p>\\n        </ng-template>\\n\\n        <ng-template #thanhTienGhiNhanVTTHThuocFooterTemplate let-dataItem>\\n            <span style=\\\"color:blue\\\">{{totalGhiNhanVTTHThuoc('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n        </ng-template>\\n\\n        <ng-template #thanhTienGhiNhanVTTHThuocGroupFooterTemplate let-aggregates>\\n            {{aggregates.ThanhTien.sum | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n\\n        <ng-template #donGiaBaoHiemTemplate let-dataItem>\\n            <!-- {{dataItem.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}} -->\\n            <ng-container *ngIf=\\\"dataItem.DonGiaBaoHiem != null\\\">\\n                {{dataItem.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}}\\n            </ng-container>\\n            <ng-container *ngIf=\\\"dataItem.DonGiaBaoHiem == null\\\">\\n                <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n                    {{item.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}}\\n                </p>\\n            </ng-container>\\n        </ng-template>\\n\\n        <ng-template #tinhPhiGhiNhanVHTTTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            <app-checkbox id=\\\"tinhPhiGhiNhanVTTH{{rowIndex}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.TinhPhi\\\" disabled=\\\"{{true}}\\\">\\n            </app-checkbox>\\n        </ng-template>\\n\\n        <ng-template #duocHuongBaoHiemGhiNhanVHTTTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            <app-checkbox id=\\\"duocHuongBaoHiem{{rowIndex}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.DuocHuongBaoHiem\\\"\\n                disabled=\\\"{{true}}\\\">\\n            </app-checkbox>\\n        </ng-template>\\n    </div>\\n</mat-dialog-content>\\n<ng-template #trangThaiTemplate1 let-dataItem>\\n    <ng-container [ngSwitch]=\\\"dataItem.NhomId\\\">\\n        <span *ngSwitchCase=\\\"1\\\" [ngClass]=\\\"{\\n                'blackText': dataItem.TrangThaiDichVuId == trangThaiYCKB.ChuaKham, \\n                'orangeText': dataItem.TrangThaiDichVuId == trangThaiYCKB.DangKham || dataItem.TrangThaiDichVuId == trangThaiYCKB.DangLamChiDinh || dataItem.TrangThaiDichVuId == trangThaiYCKB.DangDoiKetLuan,\\n                'greenText': dataItem.TrangThaiDichVuId == trangThaiYCKB.DaKham}\\\">\\n            {{dataItem.TrangThaiDichVu}}\\n        </span>\\n\\n        <span *ngSwitchDefault [ngClass]=\\\"{\\n                'blackText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.ChuaThucHien, \\n                'orangeText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.DangThucHien,\\n                'greenText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.DaThucHien }\\\">\\n            {{dataItem.TrangThaiDichVu}}\\n        </span>\\n    </ng-container>\\n</ng-template>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Danh sách PTTT không thực hiện\\n    </div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1\\\">\\n        <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n            [urlGetData]=\\\"urlGetDataGrid\\\" [urlGetTotalPage]=\\\"urlGetTotalPageGrid\\\"\\n            [additionalSearchString]=\\\"'{YeuCauTiepNhanId:' + data.YeuCauTiepNhanId +', LanThucHien: '+ data.LanThucHien +'}'\\\"\\n            [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n            [autoHeight]=\\\"true\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n        </app-grid>\\n\\n    </div>\\n\\n</mat-dialog-content>\\n<!-- \\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" (click)=\\\"close()\\\" mat-stroked-button color=\\\"primary\\\" mat-dialog-close>Đóng</button>\\n</mat-dialog-actions> -->\"","export default \"<div class=\\\"card overflow-auto mb-4\\\">\\n    <app-grid heightToolbar=\\\"235\\\" [gridColumns]=\\\"gridKetQuaPhauThuatColumns\\\" #gridChild\\n        [urlGetData]=\\\"'PhauThuatThuThuat/GetDanhSachDaPhauThuatThuThuatHienTaiAsync'\\\" [additionalSearchString]=\\\"query\\\"\\n        [urlGetTotalPage]=\\\"'PhauThuatThuThuat/GetTotalPageDanhSachDaPhauThuatThuThuatHienTaiAsync'\\\" [sort]=\\\"sort\\\"\\n        [documentType]=\\\"documentType\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [useHeaderDefault]=\\\"false\\\"\\n        [headerTemplate]=\\\"headerTemplate\\\" [checkboxAble]=\\\"false\\\">\\n    </app-grid>\\n</div>\\n\\n<ng-template #headerTemplate>\\n    <div class=\\\"bg-app-bar px-3 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n        <div class=\\\"bg-card rounded-full border px-4\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\"\\n            fxLayoutAlign=\\\"start center\\\" style=\\\"margin-top: 2px;\\\">\\n            <ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n            <input class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\" type=\\\"search\\\" (keyup)=\\\"onKey($event)\\\"\\n                placeholder=\\\"Nhập từ khóa...\\\" [(ngModel)]=\\\"searchString\\\" (ngModelChange)=\\\"searchChanges()\\\" />\\n        </div>\\n        <app-datetimepicker fxFlex=\\\"220px\\\" id=\\\"ThoiDiemTiepNhanTuFormat\\\" label=\\\"Thời điểm hoàn thành từ\\\"\\n            class=\\\"ml-2 on-header\\\" [(model)]=\\\"lichSuPTTT.ThoiDiemTiepNhanTuFormat\\\" #tiepnhantu\\n             (keyup)=\\\"onKey($event)\\\">\\n        </app-datetimepicker>\\n        <app-datetimepicker fxFlex=\\\"220px\\\" id=\\\"ThoiDiemTiepNhanDenFormat\\\" class=\\\"ml-2 on-header\\\"\\n            label=\\\"Thời điểm hoàn thành đến\\\" [(model)]=\\\"lichSuPTTT.ThoiDiemTiepNhanDenFormat\\\"\\n             (keyup)=\\\"onKey($event)\\\">\\n        </app-datetimepicker>\\n        <app-checkbox [(model)]=\\\"lichSuPTTT.ThongTinThucHien.ThucHien\\\" id=\\\"thucHien\\\" label=\\\"Thực hiện\\\" class=\\\"ml-2 mt-2 mr-1\\\"></app-checkbox>\\n        <app-checkbox [(model)]=\\\"lichSuPTTT.ThongTinThucHien.KhongThucHien\\\" id=\\\"khongThucHien\\\" label=\\\"Không thực hiện\\\" class=\\\"mt-2 mr-1\\\"></app-checkbox>\\n\\n        <button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"TimKiemNangCao()\\\" class=\\\"ml-2\\\" mat-raised-button>Tìm</button>\\n    </div>\\n</ng-template>\\n\\n<ng-template #TrangThaiTemplate let-dataItem>\\n    <button color=\\\"primary\\\" mat-raised-button\\n        (click)=\\\"XemPTTTBenhNhanHoanThanh(dataItem.YeuCauTiepNhanId,dataItem.Id,dataItem.SoLan, dataItem.LaKhongThucHien)\\\">Xem</button>\\n</ng-template>\\n\\n<ng-template #TuongTrinhLaiTemplate let-dataItem>\\n    <!-- *ngIf=\\\"dataItem.DuocTuongTrinhLai===true\\\" -->\\n    <button color=\\\"primary\\\" mat-raised-button *ngIf=\\\"dataItem.DuocTuongTrinhLai===true\\\"\\n        (click)=\\\"tuongtinhLai(dataItem)\\\">Tường trình lại</button>\\n</ng-template>\\n\\n<ng-template #trangThaiYCKTTemplate let-dataItem>\\n    <label *ngIf=\\\"dataItem.TuVongTrongPTTT === false\\\">\\n        <strong><span class=\\\"green\\\">Đã chuyển giao</span></strong>\\n    </label>\\n    <label *ngIf=\\\"dataItem.TuVongTrongPTTT === true\\\">\\n        <strong><span class=\\\"red\\\">Đã tử vong</span></strong>\\n    </label>\\n</ng-template>\\n\\n<ng-template #thoiDiemHoanThanhTemplate let-dataItem>\\n    {{dataItem.ThoiDiemHoanThanhStr}}\\n</ng-template>\\n\\n<ng-template #thoiDiemThucHienTemplate let-dataItem>\\n    {{dataItem.ThoiDiemThucHienDisplay}}\\n</ng-template>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>THÔNG TIN NGƯỜI BỆNH TIẾP THEO</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"max-height: 86vh;\\\">\\n        <fieldset fxFlex=\\\"100%\\\">\\n            <legend>Thông tin hành chính</legend>\\n            <div fxFlex=\\\"100%\\\" *ngIf=\\\"benhNhanHienTai.YeuCauTiepNhanId\\\">\\n                <ul class=\\\"inline\\\">\\n                    <li>Mã TN: <strong>{{benhNhanHienTai.MaTN}}</strong></li>\\n                    <li>Mã NB: <strong>{{benhNhanHienTai.MaBN}}</strong></li>\\n                    <li>Họ tên: <strong>{{benhNhanHienTai.HoTen}}</strong></li>\\n                    <li>Giới tính: <strong>{{benhNhanHienTai.GioiTinh}}</strong></li>\\n                    <li>Tuổi: <strong>{{benhNhanHienTai.Tuoi}}</strong></li>\\n                    <li>SĐT: <strong>{{benhNhanHienTai.SDT}}</strong></li>\\n                    <li>Dân tộc: <strong>{{benhNhanHienTai.DanToc}}</strong></li>\\n                    <li>Địa chỉ:<strong>{{benhNhanHienTai.DiaChi}}</strong></li>\\n                    <li>Nghề nghiệp: <strong>{{benhNhanHienTai.NgheNghiep}}</strong></li>\\n                    <li>Tuyến khám: <strong>{{benhNhanHienTai.TuyenKham}}</strong></li>\\n                    <li>Mức hưởng: <strong>{{benhNhanHienTai.MucHuong}}%</strong></li>\\n                    <li>Lí do TN: <strong>{{benhNhanHienTai.LyDoTN}}</strong></li>\\n                    <li>Ngày TN: <strong>{{benhNhanHienTai.NgayTN}}</strong></li>\\n                </ul>\\n            </div>\\n        </fieldset>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <button mat-button (click)=\\\"close()\\\">Tự chọn NB </button>\\n    <button mat-raised-button color=\\\"primary\\\" (click)=\\\"confirm()\\\">Xác nhận</button>\\n</mat-dialog-actions>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <div fxFlex=\\\"100%\\\" class=\\\"clear-z-index\\\" *ngIf=\\\"!benhNhanHienTai.IsTuongTrinhLai\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <!-- <div fxFlex=\\\"100%\\\">\\n                <a (click)=\\\"suDungGoiDichVu()\\\" style=\\\"color:orange; text-decoration: underline; font-weight: bold; bottom: 20px;\\\">\\n                    Sử dụng gói dịch vụ\\n                </a>\\n            </div> -->\\n\\n            <div fxFlex=\\\"85%\\\">\\n                <a (click)=\\\"xemNhomDichVuThuongDung()\\\"\\n                    style=\\\"color:green; text-decoration: underline; font-weight: bold; bottom: 20px;\\\" class=\\\"mr-2\\\">\\n                    Nhóm dịch vụ thường dùng\\n                </a>\\n                <a *ngIf=\\\"coGoiDichVu\\\" (click)=\\\"xemGoiDichVu()\\\"\\n                    style=\\\"color:green; text-decoration: underline; font-weight: bold; bottom: 20px;\\\">\\n                    Sử dụng gói dịch vụ\\n                </a>\\n            </div>\\n\\n            <!-- cacDichVuKM -->\\n            <div *ngIf=\\\"coDichVuKhuyenMai\\\" fxFlex=\\\"15%\\\">\\n                <a (click)=\\\"xemGoiDichVuKhuyenMai()\\\" style=\\\"color:blue; text-decoration: underline; font-weight: bold; bottom: 20px;\\\">\\n                    Dịch vụ khuyến mại</a>\\n            </div>\\n\\n            <app-combobox-tree *ngIf=\\\"chiDinhDichVuKyThuatMultiselect.ShowComboboxNhomDichVuKyThuat\\\" popupSettings=\\\"null\\\" fxFlex=\\\"25%\\\" label=\\\"Nhóm dịch vụ\\\" id=\\\"NhomDichVuBenhVienId\\\" required=\\\"true\\\"\\n                url=\\\"PhauThuatThuThuat/GetListNhomDichVuCLSPTTT\\\" hierarchyKeyToSend=\\\"NhomDichVuBenhVienId\\\"\\n                [(model)]=\\\"chiDinhDichVuKyThuatMultiselect.NhomDichVuBenhVienId\\\" [modelText]=\\\"chiDinhDichVuKyThuatMultiselect.TenNhomDichVu\\\"\\n                (modelChange)=\\\"changeNhomDichVuKyThuat($event)\\\"\\n                [validationerror]=\\\"'NhomDichVuBenhVienId' | validationerror:validationErrors\\\">\\n            </app-combobox-tree>\\n\\n            <app-multiselect id=\\\"dvkt\\\" [fxFlex]=\\\"!chiDinhDichVuKyThuatMultiselect.ShowComboboxNhomDichVuKyThuat ? 'auto' : '75%'\\\" hierarchyKeyToListen=\\\"NhomDichVuBenhVienId\\\"\\n                [modelText]=\\\"\\\" label=\\\"Dịch vụ\\\" class=\\\"item-no-padding\\\" [template]=\\\"dichVuKyThuatTemplate\\\"\\n                [templateHeader]=\\\"dichVuKyThuatTemplateHeader\\\" url=\\\"KhamBenh/GetListDichVuKyThuatMultiSelect?isPTTT={{true}}\\\"\\n                [(model)]=\\\"chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs\\\"\\n                (modelChange)=\\\"changeMultiDichVuKyThuat($event)\\\" [autoClose]=\\\"false\\\" (closeChange)=\\\"closeChangeDichVuKyThuat($event)\\\"\\n                [validationerror]=\\\"'DichVuKyThuatBenhVienChiDinhs' | validationerror:validationErrors\\\" required=\\\"true\\\">\\n                <ng-template #dichVuKyThuatTemplateHeader let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <th width=\\\"15%\\\">Nhóm</th>\\n                            <th width=\\\"15%\\\">Mã</th>\\n                            <th width=\\\"30%\\\">Dịch vụ</th>\\n                            <th width=\\\"25%\\\">Tên TT43</th>\\n                            <th width=\\\"15%\\\">Nơi thực hiện</th>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n                <ng-template #dichVuKyThuatTemplate let-dataItem>\\n                    <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                        <tr>\\n                            <td width=\\\"15%\\\">{{dataItem.TenNhomDichVuBenhVien}}</td>\\n                            <td width=\\\"15%\\\">{{dataItem.Ma}}</td>\\n                            <td width=\\\"30%\\\">{{dataItem.Ten}}</td>\\n                            <td width=\\\"25%\\\">{{dataItem.TenTT43}}</td>\\n                            <td width=\\\"15%\\\">{{dataItem.TenNoiThucHien}}</td>\\n                        </tr>\\n                    </table>\\n                </ng-template>\\n            </app-multiselect>\\n        </div>\\n    </div>\\n\\n    <div fxFlex=\\\"100%\\\" fxLayoutAlign=\\\"end center\\\" kendoTooltip *ngIf=\\\"!benhNhanHienTai.IsTuongTrinhLai\\\">\\n        <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1\\\" title=\\\"Phím tắt: Esc\\\"\\n            (click)=\\\"huyDichVuKyThuatMultiselect()\\\">Hủy\\n        </button>\\n        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button mat-button class=\\\"mr-1\\\" title=\\\"Phím tắt: Ctrl + S\\\"\\n            (click)=\\\"themDichVuKyThuatMultiselect()\\\">Thêm\\n        </button>\\n    </div>\\n\\n    <div fxFlex=\\\"100%\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <app-grid #GridChiDinh  fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" style=\\\"width: 1px;\\\" masterName=\\\"gridChiDinh\\\" maxHeight=\\\"500\\\" reorderRowsMoveItemData=\\\"true\\\"\\n                [gridColumns]=\\\"gridColumns\\\" [gridDataSource]=\\\"gridDataSource\\\" [documentType]=\\\"documentType\\\"\\n                [allowSortDefault]=\\\"true\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n                [checkboxAble]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"  [pageable]=\\\"false\\\" \\n                [groups]=\\\"groups\\\"  [removeGroupFooterIfIsOnlyOne]=\\\"true\\\">\\n            </app-grid>\\n\\n            <div class=\\\"gripViewGoiDichViKhacTemplate\\\">\\n                <ng-template #checkBoxTemplate let-dataItem >\\n                    <span *ngIf=\\\"dataItem.TrangThaiDichVuId != 4\\\">\\n                        <input type=\\\"checkbox\\\" id=\\\"vehicle1\\\" [(ngModel)]=\\\"dataItem.isCheckRowItem\\\" name=\\\"vehicle1\\\" (ngModelChange)=\\\"checkboxIn($event,dataItem)\\\" [disabled]=\\\"dataItem.IsThuocNhomDichVuTiemChung\\\">\\n                    </span>\\n                </ng-template>\\n                \\n                <ng-template #sttTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n                    {{rowIndex + 1}}\\n                </ng-template>\\n\\n                <ng-template #checkBoxHeaderTemplate let-dataItem >\\n                    <input type=\\\"checkbox\\\" id=\\\"vehicle1\\\" name=\\\"vehicle1\\\" [(ngModel)]=\\\"checkAll\\\" (ngModelChange)=\\\"SelectcheckAllboxIn($event)\\\">\\n                </ng-template>\\n                <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\" let-aggregates let-dataItem>\\n                    <div fxFlex=\\\"50%\\\">\\n                        <strong>{{formatTenNhom(value)}}</strong>\\n                    </div>\\n\\n                    <ng-template #templateInfo let-dataItem>\\n                        <table class=\\\"table table-border\\\" width=\\\"100%\\\" *ngIf=\\\"thongTinLichSuYeuCauChayLai.length > 0\\\">\\n                            <ng-container *ngFor=\\\"let item of thongTinLichSuYeuCauChayLai\\\" style=\\\"font-size: 10px !important;\\\">\\n                                <tr>\\n                                    <td>Người yêu cầu: {{item.NguoiYeuCau}}</td>\\n                                </tr>\\n                                <tr>\\n                                    <td>Ngày yêu cầu: {{item.NguoiYeuCau}}</td>\\n                                </tr>\\n                                <tr>\\n                                    <td>Lý do yêu cầu: {{item.LyDoYeuCau}}</td>\\n                                </tr>\\n                \\n                                <!-- Trạng thái duyệt -->\\n                                <tr *ngIf=\\\"item.TrangThai ===  true\\\">\\n                                    <td>Người duyệt: {{item.NguoiTuChoi}}</td>\\n                                </tr>\\n                                <tr class=\\\"in-dam\\\" *ngIf=\\\"item.TrangThai ===  true\\\">\\n                                    <td>Ngày duyệt: {{item.NgayTuChoi}}</td>\\n                                </tr>\\n                \\n                                <!-- Trạng thái từ chối -->\\n                                <tr *ngIf=\\\"item.TrangThai ===  false\\\">\\n                                    <td>Người từ chối: {{item.NguoiTuChoi}}</td>\\n                                </tr>\\n                                <tr *ngIf=\\\"item.TrangThai ===  false\\\">\\n                                    <td>Ngày từ chối: {{item.NgayTuChoi}}</td>\\n                                </tr>\\n                                <tr class=\\\"in-dam\\\" *ngIf=\\\"item.TrangThai ===  false\\\">\\n                                    <td>Lý do yêu cầu: {{item.LyDoTuChoi}}</td>\\n                                </tr>\\n                            </ng-container>\\n                        </table>\\n                        <span *ngIf=\\\"thongTinLichSuYeuCauChayLai.length <= 0\\\">Chưa có thông tin chạy lại.</span>\\n                    </ng-template>\\n\\n                    <div *ngIf=\\\"kiemTraCoKetQuaCLSXetNghiem(aggregates.items)\\\" fxFlex=\\\"50%\\\" fxLayoutAlign=\\\"end\\\" kendoTooltip>\\n                        <span class=\\\"kho-tong-ton-ng-template\\\" kendoTooltip #tooltip=\\\"kendoTooltip\\\" tooltipClass=\\\"tooltip-block\\\" position=\\\"left\\\" \\n                            [tooltipTemplate]=\\\"templateInfo\\\" filter=\\\"*\\\">\\n                            <span (mouseover)=\\\"lichSuYeuCauChayLai(aggregates.items[0].LichSuPhienXetNghiemIds, aggregates.items[0].NhomDichVuBenhVienId)\\\" class=\\\"info mr-2\\\">\\n                                Lịch sử yêu cầu chạy lại\\n                            </span>\\n                        </span>\\n\\n                        <button *ngIf=\\\"aggregates.items[0].GoiXetNghiemLai\\\" type=\\\"button\\\" mat-raised-button class=\\\"mr-2 icon-color-button\\\" color=\\\"warn\\\" mat-raised-button\\n                        (click)=\\\"huyCauChayLaiXN(aggregates.items[0].PhienXetNghiemId, aggregates.items[0].NhomDichVuBenhVienId)\\\">Hủy YC chạy lại\\n                        </button>\\n\\n                        <button *ngIf=\\\"!aggregates.items[0].GoiXetNghiemLai\\\" type=\\\"button\\\" mat-raised-button class=\\\"mr-2 icon-color-button\\\" color=\\\"primary\\\" mat-raised-button\\n                            (click)=\\\"yeuCauChayLaiXetNghiem(aggregates)\\\">Yêu cầu chạy lại XN\\n                        </button>\\n\\n                        <button mat-icon-button kendoTooltip title=\\\"Xem\\\" type=\\\"button\\\" (click)=\\\"xemKetQuaCLSXetNghiem(aggregates)\\\">\\n                            <mat-icon [icIcon]=\\\"icRedEye\\\"></mat-icon>\\n                        </button>\\n                    </div>\\n                </ng-template>\\n\\n                <ng-template #congTienGroupFooterTemplate let-dataItem>\\n                    <span>Cộng:</span>\\n                </ng-template>\\n\\n                <ng-template #tongTienFooterTemplate let-dataItem>\\n                    <span>Tổng cộng:</span>\\n                </ng-template>\\n\\n                <ng-template #nhomGiaTemplate let-dataItem>\\n                    <app-dropdownlist *ngIf=\\\"dataItem.YeuCauGoiDichVuId === null\\\" [(model)]=\\\"dataItem.LoaiGia\\\" [modelText]=\\\"dataItem.TenLoaiGia\\\" [disabled]=\\\"dataItem.TrangThaiDichVu != 'Chưa thực hiện' || dataItem.DaThanhToan || dataItem.IsThuocNhomDichVuTiemChung\\\"\\n                        class=\\\" item-no-padding no-label\\\" popupSettings=\\\"null\\\" url=\\\"KhamBenh/GetNhomGiaTheoLoaiDichVuKyThuat\\\" label=\\\" \\\" (modelChange)=\\\"CapNhatGridItemDichVuKyThuat(dataItem, $event, 'NhomGia')\\\">\\n                    </app-dropdownlist>\\n                    <ng-container *ngIf=\\\"dataItem.YeuCauGoiDichVuId !== null\\\">{{dataItem.TenLoaiGia}}</ng-container>\\n                </ng-template>\\n                \\n                <ng-template #donGiaTemplate let-dataItem>\\n                    {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n                </ng-template>\\n\\n                <ng-template #soLuongTemplate let-dataItem>\\n                    <app-textboxnumeric id=\\\"txtSoLuongDVKT{{dataItem.Id}}\\\" [(model)]=\\\"dataItem.SoLuong\\\" class=\\\"no-label\\\" label=\\\" \\\" min=\\\"1\\\" max=\\\"9999999\\\"\\n                        (modelChange)=\\\"CapNhatGridItemDichVuKyThuat(dataItem, $event, 'SoLan')\\\" [disabled]=\\\"dataItem.TrangThaiDichVu != 'Chưa thực hiện' || (dataItem.DaThanhToan && dataItem.YeuCauGoiDichVuId === null) || dataItem.IsThuocNhomDichVuTiemChung\\\"> \\n                    </app-textboxnumeric>\\n                </ng-template>\\n\\n                <ng-template #thanhTienTemplate let-dataItem>\\n                    {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n                </ng-template>\\n\\n                <ng-template #thanhTienFooterTemplate let-dataItem>\\n                    <span style=\\\"color:blue\\\">{{totalNotChietKhau('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n                </ng-template>\\n\\n                <ng-template #thanhTienGroupFooterTemplate let-aggregates>\\n                    {{aggregates.ThanhTien.sum | number:'0.2-2':'vi-VN'}}\\n                </ng-template>\\n\\n                <ng-template #donGiaBaoHiemTemplate let-dataItem>\\n                    {{dataItem.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}}\\n                </ng-template>\\n\\n                <ng-template #duocHuongBaoHiemTemplate let-dataItem>\\n                    <app-checkbox id=\\\"duocHuongBaoHiem{{dataItem.Id}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.DuocHuongBaoHiem\\\"\\n                        disabled=\\\"{{true}}\\\">\\n                    </app-checkbox>\\n                </ng-template>\\n\\n                <ng-template #noiThucHienTemplate let-dataItem>\\n                    <app-combobox [disabled]=\\\"dataItem.TrangThaiDichVu !== 'Chưa thực hiện' || dataItem.IsThuocNhomDichVuTiemChung\\\" fxFlex=\\\"100%\\\" popupSettings=\\\"null\\\" class=\\\"item-no-padding no-label\\\" url=\\\"KhamBenh/GetPhongThucHienChiDinhKhamOrDichVuKyThuat\\\"\\n                        [(model)]=\\\"dataItem.NoiThucHienId\\\"  [modelText]=\\\"dataItem.NoiThucHien\\\" \\n                        (modelChange)=\\\"CapNhatGridItemDichVuKyThuat(dataItem, $event, 'NoiThucHien')\\\"\\n                        [template]=\\\"phongKhamTemplate\\\" [templateHeader]=\\\"phongKhamTemplateHeader\\\" id=\\\"NoiThucHien{{dataItem.Id}}\\\"\\n                        [queryInfo]=\\\"{ParameterDependencies:'{DichVuId:' +dataItem.LoaiYeuCauDichVuId +'}', Take: 50}\\\">\\n                        <ng-template #phongKhamTemplateHeader let-dataItem>\\n                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                <tr>\\n                                    <th width=\\\"20%\\\">Mã</th>\\n                                    <th width=\\\"40%\\\">Tên phòng</th>\\n                                </tr>\\n                            </table>\\n                        </ng-template>\\n\\n                        <ng-template #phongKhamTemplate let-dataItem>\\n                            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                                <tr >\\n                                    <td width=\\\"20%\\\">{{dataItem.MaPhong}}</td>\\n                                    <td width=\\\"40%\\\">{{dataItem.TenPhong}}</td>\\n                                </tr>\\n                            </table>\\n                        </ng-template>\\n                    </app-combobox>\\n                </ng-template>\\n\\n                <ng-template #trangThaiTemplate let-dataItem>\\n                    <ng-container [ngSwitch]=\\\"dataItem.NhomId\\\">\\n                        <span *ngSwitchCase=\\\"1\\\" \\n                            [ngClass]=\\\"{\\n                                'blackText': dataItem.TrangThaiDichVuId == trangThaiYCKB.ChuaKham, \\n                                'orangeText': dataItem.TrangThaiDichVuId == trangThaiYCKB.DangKham || dataItem.TrangThaiDichVuId == trangThaiYCKB.DangLamChiDinh || dataItem.TrangThaiDichVuId == trangThaiYCKB.DangDoiKetLuan,\\n                                'greenText': dataItem.TrangThaiDichVuId == trangThaiYCKB.DaKham,\\n                                'redText': dataItem.TrangThaiDichVuId == trangThaiYCKB.HuyKham}\\\"\\n                                kendoTooltip title=\\\"{{dataItem.LyDoHuyDichVu}}\\\">\\n                            {{dataItem.TrangThaiDichVu}}\\n                        </span>\\n\\n                        <span *ngSwitchDefault \\n                            [ngClass]=\\\"{\\n                                'blackText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.ChuaThucHien, \\n                                'orangeText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.DangThucHien,\\n                                'greenText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.DaThucHien,\\n                                'redText': dataItem.TrangThaiDichVuId == trangThaiYCDVKT.DaHuy }\\\"\\n                                kendoTooltip title=\\\"{{dataItem.LyDoHuyDichVu}}\\\">\\n                            {{dataItem.TrangThaiDichVu}}\\n                        </span>\\n                    </ng-container>\\n                </ng-template>\\n\\n                <ng-template #actionTemplate let-dataItem>\\n                    <div class=\\\"text-center\\\" kendoTooltip>\\n                        <button *ngIf=\\\"kiemTraCoKetQuaCLS(dataItem) && !dataItem.IsThuocNhomDichVuTiemChung\\\" mat-icon-button kendoTooltip title=\\\"Xem\\\" type=\\\"button\\\" (click)=\\\"xemKetQuaCLS(dataItem)\\\">\\n                            <mat-icon [icIcon]=\\\"icRedEye\\\"></mat-icon>\\n                        </button>\\n                        <!-- <button *ngIf=\\\"dataItem.TrangThaiDichVuId == enumTrangThaiYeuCauDichVuKyThuat.DaThucHien && dataItem.LoaiDichVuKyThuat != enumLoaiDichVuKyThuat.XetNghiem\\\"\\n                            mat-icon-button kendoTooltip title=\\\"Tải về\\\" type=\\\"button\\\" (click)=\\\"downloadKetQuaCLS(dataItem)\\\">\\n                            <mat-icon [icIcon]=\\\"icDownward\\\"></mat-icon>\\n                        </button> -->\\n                        <button *ngIf=\\\"!dataItem.IsDichVuHuyThanhToan && !dataItem.IsThuocNhomDichVuTiemChung\\\" style=\\\"color: red\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\" (click)=\\\"xoaGoiDichVuKhac(dataItem)\\\">\\n                            <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                        </button>\\n\\n                        <button *ngIf=\\\"dataItem.IsDichVuHuyThanhToan && !dataItem.LyDoHuyDichVu && !dataItem.IsThuocNhomDichVuTiemChung\\\" style=\\\"color: red\\\" mat-icon-button kendoTooltip title=\\\"Hủy\\\" type=\\\"button\\\" (click)=\\\"huyDichVuDaHuyThanhToan(dataItem)\\\">\\n                            <mat-icon [icIcon]=\\\"icCancel\\\"></mat-icon>\\n                        </button>\\n                    </div>\\n                </ng-template>\\n\\n                <ng-template #tenDichVuTemplate let-dataItem>\\n                    <div>\\n                        <mat-icon fxFlex=\\\"30px\\\" *ngIf=\\\"dataItem.YeuCauGoiDichVuId !== null || dataItem.LaDichVuKhuyenMai\\\" [icIcon]=\\\"icInfo\\\" kendoTooltip\\n                            title=\\\"{{dataItem.TenGoiDichVu}}\\\">\\n                        </mat-icon>\\n                        <span fxFlex=\\\"auto\\\" class=\\\"reverse-ellipsis r\\\" kendoTooltip\\n                            title=\\\"{{dataItem.TenDichVu}}\\\">{{dataItem.TenDichVu}} </span>\\n                    </div>\\n                </ng-template>\\n\\n                <ng-template #benhPhamTemplate let-dataItem>\\n                    <app-textbox *ngIf=\\\"dataItem.IsDichVuXetNghiem\\\" [disabled]=\\\"dataItem.TrangThaiDichVu !== 'Chưa thực hiện'\\\"\\n                        [(model)]=\\\"dataItem.BenhPhamXetNghiem\\\" class=\\\"no-label\\\" label=\\\" \\\" [maxlength]=\\\"200\\\"\\n                        (modelChange)=\\\"CapNhatGridItemDichVuKyThuat(dataItem, $event, 'BenhPhamXetNghiem')\\\"> \\n                    </app-textbox>\\n                </ng-template>\\n\\n                <ng-template #dichVuTrongGoiTemplate let-dataItem>\\n                    <app-checkbox *ngIf=\\\"dataItem.CoDichVuNayTrongGoi\\\" id=\\\"dvGoiMarketing{{dataItem.Id}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.LaDichVuTrongGoi\\\"\\n                        (modelChange)=\\\"CapNhatGridItemDichVuKyThuat(dataItem, $event, 'SwapDichVuGoi')\\\" [disabled]=\\\"dataItem.LaDichVuKhuyenMai\\\">\\n                    </app-checkbox>\\n                </ng-template>\\n                <ng-template #dichVuKhuyenMaiTemplate let-dataItem>\\n                    <app-checkbox *ngIf=\\\"dataItem.CoDichVuNayTrongGoiKhuyenMai\\\" id=\\\"dvKhuyenMaiGoiMarketing{{dataItem.Id}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.LaDichVuKhuyenMai\\\"\\n                        [disabled]=\\\"dataItem.LaDichVuTrongGoi\\\" (modelChange)=\\\"CapNhatGridItemDichVuKyThuat(dataItem, $event, 'SwapDichVuKhuyenMai')\\\">\\n                    </app-checkbox>\\n                </ng-template>\\n            </div>\\n        </div>\\n    </div>\\n    <div fxFlex=\\\"100%\\\" *ngIf=\\\"tongthanhtien != 0 || tongtienBNThanhToan != 0  \\\">\\n        <div class=\\\"styleInChiDinh\\\" *ngIf=\\\"isCheckXacNhanIn == true\\\">\\n            <div class=\\\"inline\\\" kendoTooltip>\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"InPhieuXN()\\\"  style=\\\"margin-right: 5px;\\\">\\n                    In phiếu chỉ định xét nghiệm test nhanh Sars-Cov 2\\n                </button>\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"XacNhanIn(0)\\\" title=\\\"Phím tắt: Chưa có\\\">In Chỉ Định</button>\\n            </div>\\n        </div>\\n        <!-- <div class=\\\"styleInChiDinh\\\" *ngIf=\\\"isCheckXacNhanIn == true\\\">\\n            <div class=\\\"inline\\\" kendoTooltip>\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"XacNhanIn(1)\\\" title=\\\"Phím tắt: Chưa có\\\">In Chung</button>\\n            </div>\\n        </div> -->\\n    </div>\\n</div>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Xác nhận</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"overflow:unset !important\\\">\\n    <div [innerHtml]=\\\"Message\\\"></div>\\n    \\n    <app-textarea class=\\\"mt-3\\\" id=\\\"lyDo\\\" label=\\\"Lý do\\\" maxlength=\\\"1000\\\" minHeight=\\\"60\\\"\\n        [required]=\\\"true\\\" [(model)]=\\\"goiLaiYeuCauXetNghiem.LyDo\\\"\\n        [validationerror]=\\\"'LyDo' | validationerror:validationErrors\\\">\\n    </app-textarea>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions align=\\\"end\\\" class=\\\"mt-3\\\">\\n    <button mat-button (click)=\\\"close(false)\\\">Không</button>\\n    <button mat-raised-button color=\\\"primary\\\" (click)=\\\"close(true)\\\">Có</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>GÓI DỊCH VỤ</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\" (click)=\\\"close()\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <div fxLayout=\\\"row wrap\\\" style=\\\"position: relative;\\\">\\n        <div fxFlex=\\\"70%\\\">\\n            <app-grid fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" style=\\\"width: 1px;\\\" masterName=\\\"gridChiDinh\\\" maxHeight=\\\"500\\\" reorderRowsMoveItemData=\\\"true\\\"\\n                [useHeaderDefault]=\\\"false\\\" [showDefaultPagerTemplate]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n                [useActionDefault]=\\\"false\\\">\\n            </app-grid>\\n        </div>\\n\\n        <div fxFlex=\\\"30%\\\">\\n            <div>GÓI DỊCH VỤ</div>\\n            <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\" (click)=\\\"close()\\\">\\n                <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n            </button>\\n        </div>\\n    </div>\\n    <!-- <app-grid  #GridChiDinh  fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" style=\\\"width: 1px;\\\" masterName=\\\"gridChiDinh\\\" maxHeight=\\\"500\\\" reorderRowsMoveItemData=\\\"true\\\"\\n        [gridColumns]=\\\"gridColumns\\\" [gridDataSource]=\\\"gridDataSource\\\"\\n        [useHeaderDefault]=\\\"false\\\" [showDefaultPagerTemplate]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n        [useActionDefault]=\\\"false\\\">\\n    </app-grid>\\n\\n    <ng-template #downloadHeaderTemplate let-dataItem>\\n        <div class=\\\"text-center\\\">\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button (click)=\\\"DownloadAllFiles()\\\">Tải tất cả</button>\\n        </div>\\n    </ng-template>\\n\\n    <ng-template #actionTemplate let-dataItem>\\n        <div fxLayout=\\\"row wrap\\\">\\n            <div fxFlex=\\\"50%\\\">\\n                <button *ngIf=\\\"dataItem.LoaiTapTin == loaiTapTin.Image || dataItem.LoaiTapTin == loaiTapTin.Pdf\\\" type=\\\"button\\\" mat-button mat-raised-button color=\\\"primary\\\"\\n                    (click)=\\\"ViewImageAndPdf(dataItem)\\\">\\n                    Xem\\n                </button>\\n            </div>\\n            <div fxFlex=\\\"50%\\\">\\n                <button type=\\\"button\\\" mat-button mat-raised-button color=\\\"primary\\\" (click)=\\\"DownloadFile(dataItem)\\\">\\n                    Tải\\n                </button>\\n            </div>\\n        </div>\\n    </ng-template> -->\\n</mat-dialog-content>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>KẾT QUẢ CLS</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\" (click)=\\\"close()\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content>\\n    <app-grid  #GridChiDinh  fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" style=\\\"width: 1px;\\\" masterName=\\\"gridChiDinh\\\" maxHeight=\\\"500\\\" reorderRowsMoveItemData=\\\"true\\\"\\n        [gridColumns]=\\\"gridColumns\\\" [gridDataSource]=\\\"gridDataSource\\\"\\n        [useHeaderDefault]=\\\"false\\\" [showDefaultPagerTemplate]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n        [useActionDefault]=\\\"false\\\">\\n    </app-grid>\\n\\n    <ng-template #downloadHeaderTemplate let-dataItem>\\n        <div class=\\\"text-center\\\">\\n            <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button (click)=\\\"DownloadAllFiles()\\\">Tải tất cả</button>\\n        </div>\\n    </ng-template>\\n\\n    <ng-template #actionTemplate let-dataItem>\\n        <div fxLayout=\\\"row wrap\\\">\\n            <div fxFlex=\\\"50%\\\">\\n                <button *ngIf=\\\"dataItem.LoaiTapTin == loaiTapTin.Image || dataItem.LoaiTapTin == loaiTapTin.Pdf\\\" type=\\\"button\\\" mat-button mat-raised-button color=\\\"primary\\\"\\n                    (click)=\\\"ViewImageAndPdf(dataItem)\\\">\\n                    Xem\\n                </button>\\n            </div>\\n            <div fxFlex=\\\"50%\\\">\\n                <button type=\\\"button\\\" mat-button mat-raised-button color=\\\"primary\\\" (click)=\\\"DownloadFile(dataItem)\\\">\\n                    Tải\\n                </button>\\n            </div>\\n        </div>\\n    </ng-template>\\n</mat-dialog-content>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <app-radio *ngIf=\\\"thongTinBenhNhan.TrangThaiPhauThuatThuThuat !== enumTrangThaiPhauThuatThuThuat.TheoDoi\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"ket-luan\\\" name=\\\"ketLuan\\\" label=\\\"Tình trạng\\\"\\n        [items]=\\\"radioKetLuan\\\" [(model)]=\\\"theoDoiSauPhauThuatThuThuat.TrangThaiPhauThuatThuThuat\\\" (modelChange)=\\\"onDataChange($event)\\\" [disabled]=\\\"thongTinBenhNhan.IsTuongTrinhLai\\\">\\n    </app-radio>\\n    <app-radio *ngIf=\\\"thongTinBenhNhan.TrangThaiPhauThuatThuThuat === enumTrangThaiPhauThuatThuThuat.TheoDoi\\\" [disabled]=\\\"true\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"ket-luan\\\" name=\\\"ketLuan\\\" label=\\\"Tình trạng\\\"\\n        [items]=\\\"radioKetLuan\\\" [(model)]=\\\"theoDoiSauPhauThuatThuThuat.TrangThaiPhauThuatThuThuat\\\">\\n    </app-radio>\\n\\n    <ng-container *ngIf=\\\"theoDoiSauPhauThuatThuThuat.TrangThaiPhauThuatThuThuat === enumTheoDoi.TheoDoi\\\">\\n        <app-combobox id=\\\"bac-si-phu-trach\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"25%\\\" label=\\\"Bác sĩ phụ trách\\\" url=\\\"PhauThuatThuThuat/GetListBacSiDieuDuong?nhomChucDanh={{enumBacSiPhuTrach}}\\\"\\n            [(model)]=\\\"theoDoiSauPhauThuatThuThuat.BacSiPhuTrachTheoDoiId\\\" [modelText]=\\\"theoDoiSauPhauThuatThuThuat.BacSiPhuTrachTheoDoiDisplay\\\" (modelChange)=\\\"onDataChange($event)\\\"\\n            [required]=\\\"true\\\" [popupSettings]=\\\"null\\\" [disabled]=\\\"thongTinBenhNhan.IsTuongTrinhLai\\\"\\n            [validationerror]=\\\"'BacSiPhuTrachTheoDoiId' | validationerror: validationErrors\\\">\\n        </app-combobox>\\n\\n        <app-combobox id=\\\"dieu-duong-phu-trach\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"25%\\\" label=\\\"Điều dưỡng phụ trách\\\" url=\\\"PhauThuatThuThuat/GetListBacSiDieuDuong?nhomChucDanh={{enumDieuDuongPhuTrach}}\\\"\\n            [(model)]=\\\"theoDoiSauPhauThuatThuThuat.DieuDuongPhuTrachTheoDoiId\\\" [modelText]=\\\"theoDoiSauPhauThuatThuThuat.DieuDuongPhuTrachTheoDoiDisplay\\\" (modelChange)=\\\"onDataChange($event)\\\"\\n            [required]=\\\"true\\\" [popupSettings]=\\\"null\\\" [disabled]=\\\"thongTinBenhNhan.IsTuongTrinhLai\\\"\\n            [validationerror]=\\\"'DieuDuongPhuTrachTheoDoiId' | validationerror: validationErrors\\\">\\n        </app-combobox>\\n\\n        <app-datetimepicker id=\\\"thoi-gian-theo-doi\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"25%\\\" label=\\\"Thời gian theo dõi từ\\\"\\n            [formatDate]=\\\"'dd/MM/yyyy HH:mm'\\\" [required]=\\\"true\\\" [disabled]=\\\"thongTinBenhNhan.IsTuongTrinhLai\\\"\\n            [(model)]=\\\"theoDoiSauPhauThuatThuThuat.ThoiDiemBatDauTheoDoi\\\" (modelChange)=\\\"onDataChange($event)\\\"\\n            [validationerror]=\\\"'ThoiDiemBatDauTheoDoi' | validationerror: validationErrors\\\">\\n        </app-datetimepicker>\\n\\n        <app-datetimepicker id=\\\"thoi-gian-theo-doi\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"25%\\\" label=\\\"Thời gian theo dõi đến\\\"\\n            [formatDate]=\\\"'dd/MM/yyyy HH:mm'\\\" [required]=\\\"true\\\" [disabled]=\\\"thongTinBenhNhan.IsTuongTrinhLai\\\"\\n            [(model)]=\\\"theoDoiSauPhauThuatThuThuat.ThoiDiemKetThucTheoDoi\\\" (modelChange)=\\\"onDataChange($event)\\\"\\n            [validationerror]=\\\"'ThoiDiemKetThucTheoDoi' | validationerror: validationErrors\\\">\\n        </app-datetimepicker>\\n    </ng-container>\\n\\n    <app-textarea id=\\\"trinh-tu-pttt\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"4000\\\" label=\\\"Ghi chú\\\"\\n        [(model)]=\\\"theoDoiSauPhauThuatThuThuat.GhiChuTheoDoi\\\" (modelChange)=\\\"onDataChange($event)\\\"\\n        [disabled]=\\\"thongTinBenhNhan.IsTuongTrinhLai\\\"\\n        [validationerror]=\\\"'GhiChuTheoDoi' | validationerror: validationErrors\\\">\\n    </app-textarea>\\n    <!-- <app-textarea id=\\\"trinh-tu-pttt\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"5000\\\" label=\\\"Ghi chú\\\"\\n        [useVoice]=\\\"true\\\" [(model)]=\\\"theoDoiSauPhauThuatThuThuat.GhiChuTheoDoi\\\" (modelChange)=\\\"onDataChange($event)\\\">\\n    </app-textarea> -->\\n</div>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mb-1 border-bottom\\\">\\n    <div>Chọn ảnh</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"max-height: 86vh;\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"p-2 mb-6\\\">\\n        <app-radio id=\\\"ChonThongTin\\\" name=\\\"ChonThongTin\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"ChonThongTin\\\" class=\\\"no-format-css\\\" [items]=\\\"[{Value:1,Text:'Bộ phận cơ thể'},{Value:2,Text:'Khác'}]\\\" (modelChange)=\\\"chonThongTinChange($event)\\\">\\n        </app-radio>\\n        <app-combobox id=\\\"dl-chon-bo-phan-co-the\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"boPhanCoTheCurrent\\\" url=\\\"KhamBenh/GetListBoPhanCoThe\\\" (selectionChange)=\\\"onSelectionChange($event)\\\" label=\\\"Chọn Bộ Phận Cơ Thể\\\" *ngIf=\\\"ChonThongTin==1\\\">\\n        </app-combobox>\\n        <app-upload id=\\\"Upload\\\" label=\\\"Chọn ảnh khác\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\" [allowedExtensions]=\\\"['.jpg', '.jpeg', '.png', '.JPG', '.JPEG', '.PNG']\\\" (uploadFileDone)=\\\"uploadFileDone($event)\\\" *ngIf=\\\"ChonThongTin==2\\\">\\n        </app-upload>\\n        <app-textarea id=\\\"mota\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"1000\\\" label=\\\"Mô tả\\\" [(model)]=\\\"thongTinAnh.MoTa\\\" minHeight=\\\"20\\\">\\n        </app-textarea>\\n        <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" *ngIf=\\\"thongTinAnh.Url!=null && thongTinAnh.Url!=''\\\" style=\\\"position: relative;\\\">\\n            <image-drawing [src]=\\\"thongTinAnh.Url\\\" outputMimeType=\\\"'image/jpeg'\\\" [showCancelButton]=true saveBtnText=\\\"Lưu\\\" cancelBtnText=\\\"Hủy ảnh\\\" loadingText=\\\"Đang xử lý ảnh...\\\" hasError=\\\"true\\\" outputQuality=\\\"1\\\" (save)=\\\"save($event)\\\" (cancel)=\\\"cancel()\\\" enableRemoveImage=\\\"true\\\"\\n                forceSizeExport=\\\"true\\\" (click)=\\\"showErrorIfNoImage($event)\\\" #imageDrawing [loadingTemplate]=\\\"loadingTemplate\\\">\\n            </image-drawing>\\n            <ng-template #loadingTemplate>\\n                <button class=\\\"btn btn-raised btn-raised btn-primary mb-0\\\"><img src=\\\"/assets/img/loader.gif\\\"\\n                        alt=\\\"Loading\\\" /></button>\\n            </ng-template>\\n            <button class=\\\"btn btn-raised btn-raised btn-primary btn-loading\\\" *ngIf=\\\"loading\\\"><img src=\\\"/assets/img/loader.gif\\\"\\n                alt=\\\"Loading\\\" /></button>\\n        </div>\\n        <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" *ngIf=\\\"thongTinAnh.Url==null || thongTinAnh.Url==''\\\">\\n            <div style=\\\"border:1px solid #ccc;width:100%;height:400px;text-align: center;padding:15px;\\\">\\n                Bạn chưa chọn ảnh\\n            </div>\\n        </div>\\n    </div>\\n</mat-dialog-content>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <div fxFlex=\\\"100%\\\">\\n                <div class=\\\"p-2\\\">\\n                    <!-- <app-pttt-sinh-ton [thongTinBenhNhan]=\\\"thongTinBenhNhan\\\">\\n                    </app-pttt-sinh-ton> -->\\n                    <app-pttt-theo-doi-sinh-ton fxFlex=\\\"100%\\\" [thongTinBenhNhan]=\\\"thongTinBenhNhan\\\" (displayBtnForSton)=\\\"displayButtonOnChiSoSinhTon($event)\\\" #ptttTheoDoiSt>\\n                    </app-pttt-theo-doi-sinh-ton>\\n                </div>\\n                <div class=\\\"wrapBtnLuu\\\">\\n                    <button *ngIf=\\\"logicDisplayCsst.IsDisplayReset\\\" class=\\\"btnHuy\\\" (click)=\\\"ResetSinhTon()\\\">Hủy</button>\\n                    <button *ngIf=\\\"logicDisplayCsst.IsDisplaySave\\\" class=\\\"btnLuu\\\" (click)=\\\"SaveSinhTon()\\\">Lưu</button>\\n                </div>\\n            </div>\\n            <!-- <app-pttt-theo-doi-sinh-ton fxFlex=\\\"100%\\\"\\n                [thongTinBenhNhan]=\\\"thongTinBenhNhan\\\"\\n                [dataChiSoSinhTon]=\\\"thongTinBenhNhan.KetQuaSinhHieus\\\">\\n            </app-pttt-theo-doi-sinh-ton> -->\\n\\n            <div fxFlex=\\\"100%\\\">\\n                <kendo-tabstrip fxFlex=\\\"100%\\\" class=\\\"content-has-border tabstrip-pad sticky-kendotab-item tab-strip-pttt-theo-doi-lan-kham\\\" (tabSelect)=\\\"onTabSelect($event)\\\">\\n                    <kendo-tabstrip-tab [disabled]=\\\"true\\\" *ngIf=\\\"khamTheoDois.length >= 1 && !khamTheoDois[0].ThoiDiemHoanThanhKham\\\">\\n                        <ng-template kendoTabTitle>\\n                            <button class=\\\"po-h disabled\\\">\\n                                <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n                            </button>\\n                        </ng-template>\\n                    </kendo-tabstrip-tab>\\n\\n                    <kendo-tabstrip-tab *ngIf=\\\"khamTheoDois.length >= 1 && khamTheoDois[0].ThoiDiemHoanThanhKham\\\" [disabled]=\\\"thongTinBenhNhan.IsTuongTrinhLai\\\">\\n                        <ng-template kendoTabTitle>\\n                            <button class=\\\"po-h\\\">\\n                                <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n                            </button>\\n                        </ng-template>\\n                    </kendo-tabstrip-tab>\\n\\n                    <ng-container *ngFor=\\\"let item of khamTheoDois; index as i\\\">\\n                        <kendo-tabstrip-tab [selected]=\\\"i === 0\\\">\\n                            <ng-template kendoTabTitle>\\n                                <div kendoTooltip title=\\\"Phím tắt: Chưa có\\\">\\n                                    LẦN KHÁM {{khamTheoDois.length - i}}\\n                                </div>\\n                            </ng-template>\\n                            <ng-template kendoTabContent>\\n                                <div class=\\\"p-2\\\">\\n                                    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                                        <div fxFlex=\\\"100%\\\">\\n                                            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                                                <app-textbox *ngIf=\\\"i === 0\\\" id=\\\"khoa_phong\\\" fxFlex=\\\"100%\\\" label=\\\"Khám toàn thân\\\" maxlength=\\\"4000\\\" [disabled]=\\\"thongTinBenhNhan.IsTuongTrinhLai\\\"\\n                                                    [(model)]=\\\"item.KhamToanThan\\\" (modelChange)=\\\"onDataChange($event)\\\">\\n                                                </app-textbox>\\n                                                <app-textbox *ngIf=\\\"i !== 0\\\" [disabled]=\\\"true\\\" id=\\\"khoa_phong\\\" fxFlex=\\\"100%\\\" label=\\\"Khám toàn thân\\\" maxlength=\\\"4000\\\"\\n                                                    [(model)]=\\\"item.KhamToanThan\\\">\\n                                                </app-textbox>\\n        \\n                                                <app-pttt-theo-doi-co-quan fxFlex=\\\"100%\\\" *ngIf=\\\"i === 0\\\"\\n                                                    [isReadonly]=\\\"thongTinBenhNhan.IsTuongTrinhLai\\\"\\n                                                    [thongTinBenhNhan]=\\\"thongTinBenhNhan\\\" [phongKhamId]=\\\"phongKhamHienTai.KeyId\\\"\\n                                                    [thongTinKhamTheoDoiTemplateObj]=\\\"item.ThongTinKhamTheoDoiTemplateObj\\\"\\n                                                    [isChangeData]=\\\"isChangeData\\\" (outputPTTTTheoDoiCoQuanDataChanged)=\\\"onDataChange($event)\\\">\\n                                                </app-pttt-theo-doi-co-quan>\\n                                                <app-pttt-theo-doi-co-quan fxFlex=\\\"100%\\\" *ngIf=\\\"i !== 0\\\"\\n                                                    [isReadonly]=\\\"true\\\"\\n                                                    [thongTinBenhNhan]=\\\"thongTinBenhNhan\\\" [phongKhamId]=\\\"phongKhamHienTai.KeyId\\\"\\n                                                    [thongTinKhamTheoDoiTemplateObj]=\\\"item.ThongTinKhamTheoDoiTemplateObj\\\">\\n                                                </app-pttt-theo-doi-co-quan>\\n\\n                                                <app-pttt-theo-doi-bo-phan-khac *ngIf=\\\"i === 0\\\" fxFlex=\\\"100%\\\" \\n                                                    [isReadonly]=\\\"thongTinBenhNhan.IsTuongTrinhLai\\\"\\n                                                    [data]=\\\"thongTinBenhNhan\\\" [(dataKhamBoPhanKhac)]=\\\"item.KhamTheoDoiBoPhanKhacs\\\"\\n                                                    [isChangeData]=\\\"isChangeData\\\" (outputPTTTTheoDoiBoPhanKhacDataChanged)=\\\"onDataChange($event)\\\"\\n                                                    [validationErrors]=\\\"validationErrors\\\">\\n                                                </app-pttt-theo-doi-bo-phan-khac>\\n                                                <app-pttt-theo-doi-bo-phan-khac *ngIf=\\\"i !== 0\\\" fxFlex=\\\"100%\\\" \\n                                                    [data]=\\\"thongTinBenhNhan\\\" [(dataKhamBoPhanKhac)]=\\\"item.KhamTheoDoiBoPhanKhacs\\\"\\n                                                    [isReadonly]=\\\"true\\\" [validationErrors]=\\\"validationErrors\\\">\\n                                                </app-pttt-theo-doi-bo-phan-khac>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n        \\n                                    <div kendoTooltip class=\\\"sticky-button-action py-3 text-right\\\">\\n                                        <ng-container *ngIf=\\\"i === 0 && isChangeData\\\">\\n                                            <button type=\\\"button\\\" color=\\\"primary\\\" mat-button class=\\\"mr-2\\\" title=\\\"Phím tắt: Esc\\\" (click)=\\\"huyLanKham()\\\">Huỷ</button>\\n                                            <button type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button title=\\\"Phím tắt: Crtl + S\\\" (click)=\\\"luuLanKham()\\\">Lưu</button>\\n                                        </ng-container>\\n\\n                                        <ng-container *ngIf=\\\"i !== 0 && isChangeData\\\">\\n                                            <button [disabled]=\\\"true\\\" type=\\\"button\\\" color=\\\"primary\\\" mat-button class=\\\"mr-2\\\" title=\\\"Phím tắt: Chưa có\\\">Huỷ</button>\\n                                            <button [disabled]=\\\"true\\\" type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button title=\\\"Phím tắt: Chưa có\\\">Lưu</button>\\n                                        </ng-container>\\n                                    </div>\\n                                </div>\\n                            </ng-template>\\n                        </kendo-tabstrip-tab>\\n                    </ng-container>\\n                </kendo-tabstrip>\\n            </div>\\n            \\n        </div>\\n    </div>\\n</div>\"","export default \"<h3 class=\\\"sub-title\\\">KHÁM KHÁC\\n    <button *ngIf=\\\"isReadonly\\\" [disabled]=\\\"true\\\" class=\\\"po-h disabled\\\" color=\\\"primary\\\">\\n        <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n    </button>\\n    <button *ngIf=\\\"!isReadonly\\\" class=\\\"po-h\\\" color=\\\"primary\\\" (click)=\\\"themKhamKhac()\\\">\\n        <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n    </button>\\n</h3>\\n\\n<ng-container *ngIf=\\\"dataSourceKhamKhac.data.length === 0\\\">\\n    <p>Không có khám khác</p>\\n</ng-container>\\n\\n<app-grid *ngIf=\\\"dataSourceKhamKhac.data.length > 0\\\" masterName=\\\"TienSuBenh\\\" class=\\\"k-grid-border\\\" style=\\\"width: 1px;\\\"\\n    [documentType]=\\\"documentType\\\"\\n    [gridColumns]=\\\"gridKhamKhacColumns\\\" [gridDataSource]=\\\"dataSourceKhamKhac\\\"\\n    [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n    [checkboxAble]=\\\"false\\\" [maxHeight]=\\\"200\\\" [lazyLoadPage]=\\\"true\\\" [pageable]=\\\"false\\\">\\n</app-grid>\\n\\n<ng-template #boPhanTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <ng-container *ngIf=\\\"isReadonly\\\">\\n        <app-textbox *ngIf=\\\"dataItem.Id === 0\\\" [disabled]=\\\"true\\\" maxlength=\\\"250\\\" [(model)]=\\\"dataItem.Ten\\\" class=\\\"no-label\\\" label=\\\" \\\" required=\\\"true\\\"\\n            [validationerror]=\\\"'KhamTheoDoiBoPhanKhacs['+rowIndex+'].Ten' | validationerror: validationErrors\\\">\\n        </app-textbox>\\n        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id !== 0\\\">{{dataItem.Ten}}</p>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"!isReadonly\\\">\\n        <app-textbox *ngIf=\\\"dataItem.Id === 0\\\" maxlength=\\\"250\\\" [(model)]=\\\"dataItem.Ten\\\" class=\\\"no-label\\\" label=\\\" \\\" required=\\\"true\\\"\\n            [validationerror]=\\\"'KhamTheoDoiBoPhanKhacs['+rowIndex+'].Ten' | validationerror: validationErrors\\\">\\n        </app-textbox>\\n        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id !== 0\\\">{{dataItem.Ten}}</p>\\n    </ng-container>\\n</ng-template>\\n\\n<ng-template #moTaTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <ng-container *ngIf=\\\"isReadonly\\\">\\n        <app-textarea *ngIf=\\\"dataItem.Id === 0\\\" [disabled]=\\\"true\\\" maxlength=\\\"4000\\\" [(model)]=\\\"dataItem.NoiDung\\\" class=\\\"no-label\\\" label=\\\" \\\" required=\\\"true\\\" minHeight=\\\"20\\\"\\n            [validationerror]=\\\"'KhamTheoDoiBoPhanKhacs['+rowIndex+'].NoiDung' | validationerror: validationErrors\\\">\\n        </app-textarea>\\n        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id !== 0\\\">{{dataItem.NoiDung}}</p>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"!isReadonly\\\">\\n        <app-textarea *ngIf=\\\"dataItem.Id === 0\\\" maxlength=\\\"4000\\\" [(model)]=\\\"dataItem.NoiDung\\\" class=\\\"no-label\\\" label=\\\" \\\" required=\\\"true\\\" minHeight=\\\"20\\\"\\n            [validationerror]=\\\"'KhamTheoDoiBoPhanKhacs['+rowIndex+'].NoiDung' | validationerror: validationErrors\\\">\\n        </app-textarea>\\n        <p class=\\\"ml-1\\\" *ngIf=\\\"dataItem.Id !== 0\\\">{{dataItem.NoiDung}}</p>\\n    </ng-container>\\n</ng-template>\\n\\n<ng-template #actionTemplate let-dataItem>\\n    <ng-container *ngIf=\\\"isReadonly\\\">\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <button [disabled]=\\\"true\\\" class=\\\"po-h disabled\\\" color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\">\\n                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n            </button>\\n        </div>\\n    </ng-container>\\n    \\n    <ng-container *ngIf=\\\"!isReadonly\\\">\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <button color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\" (click)=\\\"xoa(dataItem)\\\">\\n                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n            </button>\\n        </div>\\n    </ng-container>\\n</ng-template>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mr-4\\\">KHÁM CÁC CƠ QUAN\\n    </h3>\\n    \\n    <ng-container *ngIf=\\\"!thongTinKhamTheoDoiTemplateObj\\\">\\n        <p>Khám các cơ quan</p>\\n    </ng-container>\\n\\n    <ng-container\\n        *ngIf=\\\"thongTinKhamTheoDoiTemplateObj!=null && thongTinKhamTheoDoiTemplateObj.ComponentDynamics!=null && thongTinKhamTheoDoiTemplateObj.ComponentDynamics.length>0\\\">\\n        <ng-container *ngFor=\\\"let item of thongTinKhamTheoDoiTemplateObj.ComponentDynamics\\\">\\n            <ng-container *ngIf=\\\"item.Type == 4 && item.groupItems != undefined && item.groupItems.length > 0\\\">\\n                <div fxFlex=\\\"100%\\\" class=\\\"row ml-1 mb-2\\\">\\n                <fieldset fxFlex=\\\"100%\\\">\\n                    <legend>{{item.Label}}</legend>\\n                    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                        <ng-container *ngFor=\\\"let itemInGroup of item.groupItems\\\">\\n                            <ng-container *ngIf=\\\"isReadonly\\\">\\n                                <h3 *ngIf=\\\"itemInGroup.Type==1\\\" fxFlex=\\\"20%\\\" class=\\\"sub-title\\\">{{itemInGroup.Label}}</h3>\\n                                <app-textbox *ngIf=\\\"itemInGroup.Type==2\\\" [disabled]=\\\"true\\\" fxFlex=\\\"{{itemInGroup.fxFlex}}\\\" fxFlex.sm=\\\"{{itemInGroup.fxFlexSm}}\\\" id=\\\"{{itemInGroup.Id}}\\\"\\n                                    placeHolder=\\\"{{itemInGroup.placeholder}}\\\" label=\\\"{{itemInGroup.Label}}\\\" [(model)]=\\\"itemInGroup.Value\\\"\\n                                    (modelChange)=\\\"onDataChange($event)\\\" maxlength=\\\"{{itemInGroup.maxlength}}\\\">\\n                                </app-textbox>\\n                                <app-textarea *ngIf=\\\"itemInGroup.Type==3\\\" [disabled]=\\\"true\\\" id=\\\"{{itemInGroup.Id}}\\\" fxFlex=\\\"{{itemInGroup.fxFlex}}\\\" label=\\\"{{itemInGroup.Label}}\\\"\\n                                    maxlength=\\\"{{itemInGroup.maxlength}}\\\" minHeight=\\\"{{itemInGroup.minHeight}}\\\" [(model)]=\\\"itemInGroup.Value\\\"\\n                                    (modelChange)=\\\"onDataChange($event)\\\">\\n                                </app-textarea>\\n                            </ng-container>\\n\\n                            <ng-container *ngIf=\\\"!isReadonly\\\">\\n                                <h3 *ngIf=\\\"itemInGroup.Type==1\\\" fxFlex=\\\"20%\\\" class=\\\"sub-title\\\">{{itemInGroup.Label}}</h3>\\n                                <app-textbox *ngIf=\\\"itemInGroup.Type==2\\\" fxFlex=\\\"{{itemInGroup.fxFlex}}\\\" fxFlex.sm=\\\"{{itemInGroup.fxFlexSm}}\\\" id=\\\"{{itemInGroup.Id}}\\\"\\n                                    placeHolder=\\\"{{itemInGroup.placeholder}}\\\" label=\\\"{{itemInGroup.Label}}\\\" [(model)]=\\\"itemInGroup.Value\\\"\\n                                    (modelChange)=\\\"onDataChange($event)\\\" maxlength=\\\"{{itemInGroup.maxlength}}\\\">\\n                                </app-textbox>\\n                                <app-textarea *ngIf=\\\"itemInGroup.Type==3\\\" id=\\\"{{itemInGroup.Id}}\\\" fxFlex=\\\"{{itemInGroup.fxFlex}}\\\" label=\\\"{{itemInGroup.Label}}\\\"\\n                                    maxlength=\\\"{{itemInGroup.maxlength}}\\\" minHeight=\\\"{{itemInGroup.minHeight}}\\\" [(model)]=\\\"itemInGroup.Value\\\"\\n                                    (modelChange)=\\\"onDataChange($event)\\\">\\n                                </app-textarea>\\n                            </ng-container>\\n                        </ng-container>\\n                    </div>\\n                </fieldset>\\n                </div>\\n            </ng-container>\\n            <ng-container *ngIf=\\\"item.groupItems == undefined || item.groupItems == null || item.groupItems.length == 0\\\">\\n                <ng-container *ngIf=\\\"isReadonly\\\">\\n                    <h3 *ngIf=\\\"item.Type==1\\\" fxFlex=\\\"20%\\\" class=\\\"sub-title\\\">{{item.Label}}</h3>\\n                    <app-textbox *ngIf=\\\"item.Type==2\\\" [disabled]=\\\"true\\\" fxFlex=\\\"{{item.fxFlex}}\\\" fxFlex.sm=\\\"{{item.fxFlexSm}}\\\" id=\\\"{{item.Id}}\\\"\\n                        placeHolder=\\\"{{item.placeHolder}}\\\" label=\\\"{{item.Label}}\\\" [(model)]=\\\"item.Value\\\" (modelChange)=\\\"onDataChange($event)\\\"\\n                        maxlength=\\\"{{item.maxlength}}\\\">\\n                    </app-textbox>\\n                    <app-textarea *ngIf=\\\"item.Type==3\\\" [disabled]=\\\"true\\\" id=\\\"{{item.Id}}\\\" fxFlex=\\\"{{item.fxFlex}}\\\" label=\\\"{{item.Label}}\\\"\\n                        maxlength=\\\"{{item.maxlength}}\\\" minHeight=\\\"{{item.minHeight}}\\\" [(model)]=\\\"item.Value\\\"\\n                        (modelChange)=\\\"onDataChange($event)\\\"></app-textarea>\\n                    <!-- useVoice=\\\"{{item.useVoice}}\\\" -->\\n                </ng-container>\\n\\n                <ng-container *ngIf=\\\"!isReadonly\\\">\\n                    <h3 *ngIf=\\\"item.Type==1\\\" fxFlex=\\\"20%\\\" class=\\\"sub-title\\\">{{item.Label}}</h3>\\n                    <app-textbox *ngIf=\\\"item.Type==2\\\" fxFlex=\\\"{{item.fxFlex}}\\\" fxFlex.sm=\\\"{{item.fxFlexSm}}\\\" id=\\\"{{item.Id}}\\\"\\n                        placeHolder=\\\"{{item.placeHolder}}\\\" label=\\\"{{item.Label}}\\\" [(model)]=\\\"item.Value\\\" (modelChange)=\\\"onDataChange($event)\\\"\\n                        maxlength=\\\"{{item.maxlength}}\\\">\\n                    </app-textbox>\\n                    <app-textarea *ngIf=\\\"item.Type==3\\\" id=\\\"{{item.Id}}\\\" fxFlex=\\\"{{item.fxFlex}}\\\" label=\\\"{{item.Label}}\\\"\\n                        maxlength=\\\"{{item.maxlength}}\\\" minHeight=\\\"{{item.minHeight}}\\\" [(model)]=\\\"item.Value\\\"\\n                        (modelChange)=\\\"onDataChange($event)\\\"></app-textarea>\\n                    <!-- useVoice=\\\"{{item.useVoice}}\\\" -->\\n                </ng-container>\\n            </ng-container>\\n        </ng-container>\\n    </ng-container>\\n</div>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mr-4\\\">CHỈ SỐ SINH TỒN\\n        <button [disabled]=\\\"!canChange || IsDaTuongTrinh || thongTinBenhNhan.IsTuongTrinhLai\\\" class=\\\"po-h\\\" color=\\\"primary\\\" (click)=\\\"themChiSoSinhTon()\\\">\\n            <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n        </button>\\n    </h3>\\n    <ng-container *ngIf=\\\"dataSourceSinhHieu.data.length == 0\\\">\\n        <p>Không có chỉ số sinh tồn</p>\\n    </ng-container>\\n    <app-grid fxFlex=\\\"100%\\\" *ngIf=\\\"dataSourceSinhHieu.data.length > 0\\\" masterName=\\\"SinhHieu\\\" [gridColumns]=\\\"gridSinhHieuColumns\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\"\\n        [checkboxAble]=\\\"false\\\" [maxHeight]=\\\"200\\\" [lazyLoadPage]=\\\"true\\\" [gridDataSource]=\\\"dataSourceSinhHieu\\\" [pageable]=\\\"false\\\">\\n    </app-grid>\\n    <ng-template #nhipTimTemplate let-dataItem>\\n        <app-textboxnumeric *ngIf=\\\"dataItem.AllowModify\\\" (modelChange)=\\\"OnChange()\\\" [disabled]=\\\"IsDaTuongTrinh\\\" [max]=\\\"9999\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.NhipTim\\\" class=\\\"no-label\\\" (modelChange)=\\\"onChangeNhipTim(dataItem, $event)\\\">\\n        </app-textboxnumeric>\\n        <p *ngIf=\\\"!dataItem.AllowModify\\\">{{dataItem.NhipTim}}</p>\\n    </ng-template>\\n    <ng-template #huyetApTemplate let-dataItem>\\n        <table *ngIf=\\\"dataItem.AllowModify\\\" width=\\\"100%\\\">\\n            <tr>\\n                <td style=\\\"width:calc(50% - 3px);padding:0\\\">\\n                    <app-textboxnumeric id=\\\"tam-thu-text\\\" (modelChange)=\\\"OnChange()\\\" [disabled]=\\\"IsDaTuongTrinh\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.HuyetApTamThu\\\" class=\\\"no-label\\\" [max]=\\\"9999\\\" (modelChange)=\\\"onChangeHuyetApTamThu($event, dataItem)\\\">\\n                    </app-textboxnumeric>\\n                </td>\\n                <td style=\\\"width:6px;padding:0\\\">/</td>\\n                <td style=\\\"width:calc(50% - 3px);padding:0\\\">\\n                    <app-textboxnumeric id=\\\"tam-truong-text\\\" (modelChange)=\\\"OnChange()\\\" [disabled]=\\\"IsDaTuongTrinh\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.HuyetApTamTruong\\\" class=\\\"no-label\\\" [max]=\\\"9999\\\" (modelChange)=\\\"onChangeHuyetApTamTruong($event, dataItem)\\\">\\n                    </app-textboxnumeric>\\n                </td>\\n            </tr>\\n        </table>\\n        <p *ngIf=\\\"!dataItem.AllowModify\\\">{{dataItem.HuyetAp}}</p>\\n    </ng-template>\\n    <ng-template #thanNhietTemplate let-dataItem>\\n        <app-textboxnumeric *ngIf=\\\"dataItem.AllowModify\\\" (modelChange)=\\\"OnChange()\\\" [disabled]=\\\"IsDaTuongTrinh\\\" [format]=\\\"format\\\" [max]=\\\"9999\\\" [spinners]=\\\"false\\\" [decimals]=\\\"1\\\" [(model)]=\\\"dataItem.ThanNhiet\\\" class=\\\"no-label\\\">\\n        </app-textboxnumeric>\\n        <p *ngIf=\\\"!dataItem.AllowModify\\\">{{dataItem.ThanNhiet | number}}</p>\\n    </ng-template>\\n    <ng-template #nhipThoTemplate let-dataItem>\\n        <app-textboxnumeric *ngIf=\\\"dataItem.AllowModify\\\" (modelChange)=\\\"OnChange()\\\" [disabled]=\\\"IsDaTuongTrinh\\\" [max]=\\\"9999\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.NhipTho\\\" class=\\\"no-label\\\" (modelChange)=\\\"onChangeNhipTho($event, dataItem)\\\">\\n        </app-textboxnumeric>\\n        <p *ngIf=\\\"!dataItem.AllowModify\\\">{{dataItem.NhipTho}}</p>\\n    </ng-template>\\n    <ng-template #canNangTemplate let-dataItem>\\n        <app-textboxnumeric *ngIf=\\\"dataItem.AllowModify\\\" (modelChange)=\\\"OnChange()\\\" [disabled]=\\\"IsDaTuongTrinh\\\" [format]=\\\"format\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.CanNang\\\" class=\\\"no-label\\\" [max]=\\\"9999\\\" [decimals]=\\\"1\\\" (modelChange)=\\\"onChangeCanNang(dataItem)\\\">\\n        </app-textboxnumeric>\\n        <p *ngIf=\\\"!dataItem.AllowModify\\\">{{dataItem.CanNang | number}}</p>\\n    </ng-template>\\n    <ng-template #chieuCaoTemplate let-dataItem>\\n        <app-textboxnumeric *ngIf=\\\"dataItem.AllowModify\\\" (modelChange)=\\\"OnChange()\\\" [disabled]=\\\"IsDaTuongTrinh\\\" [format]=\\\"format\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.ChieuCao\\\" [decimals]=\\\"1\\\" class=\\\"no-label\\\" [max]=\\\"9999\\\" (modelChange)=\\\"onChangeChieuCao(dataItem)\\\">\\n        </app-textboxnumeric>\\n        <p *ngIf=\\\"!dataItem.AllowModify\\\">{{dataItem.ChieuCao | number}}</p>\\n    </ng-template>\\n    <ng-template #BMITemplate let-dataItem>\\n        <p class=\\\"ml-1\\\">{{dataItem.Bmi | number: '1.2-2'}}</p>\\n    </ng-template>\\n    <ng-template #glassgowTemplate let-dataItem>\\n        <app-textboxnumeric *ngIf=\\\"dataItem.AllowModify\\\" (modelChange)=\\\"OnChange()\\\" [disabled]=\\\"IsDaTuongTrinh\\\" [max]=\\\"9999\\\" [format]=\\\"format\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.Glassgow\\\" [decimals]=\\\"1\\\" class=\\\"no-label\\\">\\n        </app-textboxnumeric>\\n        <p *ngIf=\\\"!dataItem.AllowModify\\\">{{dataItem.Glassgow | number}}</p>\\n    </ng-template>\\n    <ng-template #sp02Template let-dataItem>\\n        <app-textboxnumeric *ngIf=\\\"dataItem.AllowModify\\\" (modelChange)=\\\"OnChange()\\\" [disabled]=\\\"IsDaTuongTrinh\\\" [max]=\\\"9999\\\" [format]=\\\"format\\\" [spinners]=\\\"false\\\" [(model)]=\\\"dataItem.SpO2\\\" [decimals]=\\\"1\\\" class=\\\"no-label\\\">\\n        </app-textboxnumeric>\\n        <p *ngIf=\\\"!dataItem.AllowModify\\\">{{dataItem.SpO2 | number}}</p>\\n    </ng-template>\\n    <ng-template #actionSinhHieuTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <button color=\\\"primary\\\" *ngIf=\\\"!dataItem.AllowModify\\\" [disabled]=\\\"IsDaTuongTrinh\\\" mat-icon-button kendoTooltip title=\\\"Sửa\\\" type=\\\"button\\\" (click)=\\\"SuaChiSoSinhHieu(dataItem)\\\">\\n                <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n            </button>\\n            <button color=\\\"primary\\\" [disabled]=\\\"IsDaTuongTrinh\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\" (click)=\\\"XoaChiSoSinhHieu(dataItem)\\\">\\n                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n            </button>\\n        </div>\\n    </ng-template>\\n</div>\"","export default \"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-16\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <vex-breadcrumbs [crumbs]=\\\"[{ Title: 'Phẫu thuật, thủ thuật', Path: '', Active: true }]\\\"></vex-breadcrumbs>\\n            <app-hot-key *ngIf=\\\"benhNhanHienTai.Id !== 0\\\" [keys]=\\\"[\\n                {Key:'Ctrl + F1',Description:'Di chuyển tới và mở tab Cận lâm sàn'},\\n                {Key:'Ctrl + F2',Description:'Di chuyển tới và mở tab Tường trình'},\\n                {Key:'Ctrl + F3',Description:'Di chuyển tới và mở tab Kết luận'},\\n                {Key:'Ctrl + F5',Description:'Di chuyển tới và mở tab Theo dõi'},\\n                {Key:'Ctrl + S',Description:'Lưu'},\\n                {Key:'Esc',Description:'Hủy', End:true}]\\\">\\n            </app-hot-key>\\n        </div>\\n    </vex-page-layout-header>\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div @fadeInUp class=\\\"-mt-16\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n                <div class=\\\"card\\\" fxFlex=\\\"100%\\\">\\n                    <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\" style=\\\"position: relative;\\\">\\n                        <kendo-tabstrip fxFlex=\\\"100%\\\" class=\\\"tab-no-padding-content field-set-p\\\" (tabSelect)=\\\"changeTabParent('card1', $event)\\\">\\n                            <!-- TAB NGƯỜI BỆNH CHỜ PHẪU THUẬT/TT -->\\n                            <kendo-tabstrip-tab [selected]=\\\"tabDanhSachPT\\\">\\n                                <ng-template kendoTabTitle>\\n                                    PHẪU THUẬT/THỦ THUẬT\\n                                </ng-template>\\n                                <ng-template kendoTabContent>\\n                                    <kendo-splitter>\\n                                        <kendo-splitter-pane [collapsible]=\\\"true\\\" size=\\\"25%\\\" style=\\\"max-height: 800px;\\\" class=\\\"sticky-panelbar\\\">\\n                                            <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"px-2 py-3\\\">\\n                                                <div>\\n                                                    <h3 class=\\\"title m-0\\\">HÀNG ĐỢI</h3>\\n                                                </div>\\n                                                <div class=\\\"po-right d-unset\\\">\\n                                                    <div class=\\\"bg-card rounded-full border px-2\\\" fxFlex=\\\"260px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\" style=\\\"margin-top: 2px; float: right;\\\">\\n                                                        <ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n                                                        <input class=\\\"px-1 py-2 border-0 outline-none w-full bg-transparent\\\" placeholder=\\\"Tìm kiếm mã TN/BN\\\" type=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"searchBenhNhan\\\" (ngModelChange)=\\\"searchBenhNhanChange($event)\\\" (keyup)=\\\"timKiemBenhNhan($event)\\\" />\\n                                                        <button (click)=\\\"QuetMaQRCodeClick()\\\" color=\\\"primary\\\" mat-mini-fab type=\\\"button\\\"\\n                                                            class=\\\"button-barcoe-in-search\\\" kendoTooltip title=\\\"Phím tắt: Ctrl + Q\\\">\\n                                                            <img src=\\\"assets/img/barcode.png\\\" alt=\\\"Scan barcode\\\" />\\n                                                        </button>\\n                                                    </div>\\n                                                    <app-barcode [(model)]=\\\"modelQRCode\\\" (modelChange)=\\\"changeQR($event)\\\" style=\\\"display: none;\\\"></app-barcode>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"\\\">\\n                                                <kendo-panelbar class=\\\"m-1\\\">\\n                                                    <kendo-panelbar-item [title]=\\\"'Người bệnh chờ PT/TT (' + dataSourceChuanBiPhauThuatThuThuat.total + ')'\\\" expanded=\\\"true\\\" class=\\\"panelbar-item\\\">\\n                                                        <ng-template kendoPanelBarContent>\\n                                                            <app-grid #gridChuanBiPTTT fxFlex=\\\"100%\\\" masterName=\\\"BNChoPhauThuatTT\\\" class=\\\"k-grid-border\\\" [allowSortDefault]=\\\"false\\\" [autoRefreshDataSource]=\\\"true\\\" [gridColumns]=\\\"gridChuanBiPhauThuatThuThuatColumns\\\" [gridDataSource]=\\\"dataSourceChuanBiPhauThuatThuThuat\\\"\\n                                                                [useAddDeault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\" [documentType]=\\\"documentType\\\" [lazyLoadPage]=\\\"true\\\" style=\\\"width: 1px;\\\"\\n                                                                [pageable]=\\\"false\\\" (extEnterChangePage)=\\\"getBenhNhanDangKham($event)\\\" (extDoubleClick)=\\\"getBenhNhanDangKham($event)\\\">\\n                                                            </app-grid>\\n                                                        </ng-template>\\n                                                    </kendo-panelbar-item>\\n                                                    <kendo-panelbar-item [title]=\\\"'Người bệnh đang PT/TT (' + dataSourceVaoPhongPhauThuatThuThuat.total + ')'\\\" expanded=\\\"true\\\" class=\\\"panelbar-item\\\">\\n                                                        <ng-template kendoPanelBarContent>\\n                                                            <app-grid #gridDangPTTT fxFlex=\\\"100%\\\" masterName=\\\"BNDangPhauThuatTT\\\" class=\\\"k-grid-border\\\" [allowSortDefault]=\\\"false\\\" [autoRefreshDataSource]=\\\"true\\\" [gridColumns]=\\\"gridVaoPhongPhauThuatThuThuatColumns\\\" [gridDataSource]=\\\"dataSourceVaoPhongPhauThuatThuThuat\\\"\\n                                                                [useAddDeault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\" [documentType]=\\\"documentType\\\" [lazyLoadPage]=\\\"true\\\" style=\\\"width: 1px;\\\"\\n                                                                [pageable]=\\\"false\\\">\\n                                                            </app-grid>\\n                                                        </ng-template>\\n                                                    </kendo-panelbar-item>\\n                                                    <kendo-panelbar-item [title]=\\\"'Người bệnh đang theo dõi (' + dataSourceTheoDoiPhauThuat.total + ')'\\\" expanded=\\\"true\\\" class=\\\"panelbar-item\\\">\\n                                                        <ng-template kendoPanelBarContent>\\n                                                            <app-grid #gridTheoDoiPTTT fxFlex=\\\"100%\\\" masterName=\\\"BNDaPhauThuatTT\\\" class=\\\"k-grid-border\\\" [allowSortDefault]=\\\"false\\\" [autoRefreshDataSource]=\\\"true\\\" [gridColumns]=\\\"gridTheoDoiPhauThuatColumns\\\" [gridDataSource]=\\\"dataSourceTheoDoiPhauThuat\\\" [useAddDeault]=\\\"false\\\"\\n                                                                [useActionDefault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\" [documentType]=\\\"documentType\\\" [lazyLoadPage]=\\\"true\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\">\\n                                                            </app-grid>\\n                                                        </ng-template>\\n                                                    </kendo-panelbar-item>\\n                                                </kendo-panelbar>\\n                                            </div>\\n                                        </kendo-splitter-pane>\\n\\n\\n                                        <kendo-splitter-pane style=\\\"overflow:initial;\\\">\\n                                            <ng-container *ngIf=\\\"benhNhanHienTai.Id === 0\\\">\\n                                                <p class=\\\"ml-4 mt-2\\\">Bạn chưa chọn người bệnh</p>\\n                                            </ng-container>\\n                                            <ng-container *ngIf=\\\"benhNhanHienTai.Id !== 0\\\">\\n                                                <div class=\\\"row ml-1 mb-2\\\">\\n                                                    <!-- style=\\\"background: #e1f5fe;\\\" -->\\n                                                    <fieldset fxFlex=\\\"100%\\\" class=\\\"{{(benhNhanHienTai != undefined && benhNhanHienTai != null && benhNhanHienTai.LaCapCuu == true) ? 'bg-tthc-lightpink' : 'bg-tthc-lightblue'}}\\\">\\n                                                        <legend>Thông tin hành chính</legend>\\n                                                        <div fxFlex=\\\"100%\\\" *ngIf=\\\"benhNhanHienTai.YeuCauTiepNhanId\\\">\\n                                                            <ul class=\\\"inline\\\">\\n                                                                <li>Mã TN: <strong>{{benhNhanHienTai.MaTN}}</strong></li>\\n                                                                <li>Mã NB: <strong>{{benhNhanHienTai.MaBN}}</strong></li>\\n                                                                <li>Họ tên: <strong>{{benhNhanHienTai.HoTen}}</strong></li>\\n                                                                <li>Giới tính: <strong>{{benhNhanHienTai.GioiTinh}}</strong></li>\\n                                                                <li>Tuổi: <strong>{{benhNhanHienTai.Tuoi}}</strong></li>\\n                                                                <li>SĐT: <strong>{{benhNhanHienTai.SDT}}</strong></li>\\n                                                                <li>Dân tộc: <strong>{{benhNhanHienTai.DanToc}}</strong></li>\\n                                                                <li>Địa chỉ:<strong>{{benhNhanHienTai.DiaChi}}</strong></li>\\n                                                                <li>Nghề nghiệp: <strong>{{benhNhanHienTai.NgheNghiep}}</strong></li>\\n                                                                <li>Tuyến khám: <strong style=\\\"color: green;\\\">{{benhNhanHienTai.TuyenKham}}</strong></li>\\n                                                                <li>Số BHYT: <strong>{{benhNhanHienTai.BHYTMaSoThe}}</strong></li>\\n                                                                <li>Mức hưởng: <strong style=\\\"color: blue;\\\">{{benhNhanHienTai.MucHuong}}%</strong></li>\\n                                                                <li>Ngày hiệu lực: <strong [style.color]=\\\"benhNhanHienTai.IsBHYTHetHan ? 'red' : ''\\\">{{benhNhanHienTai.BHYTThoiGianHieuLucDisplay}}</strong></li>\\n                                                                <li>Lí do TN: <strong>{{benhNhanHienTai.LyDoTN}}</strong></li>\\n                                                                <li>Ngày TN: <strong>{{benhNhanHienTai.NgayTN}}</strong></li>\\n                                                            </ul>\\n                                                        </div>\\n                                                    </fieldset>\\n                                                </div>\\n\\n                                                <div class=\\\"row ml-1 mb-2\\\">\\n                                                    <fieldset *ngIf=\\\"benhNhanHienTai.GoiDichVus != null && benhNhanHienTai.GoiDichVus.length > 0\\\" fxFlex=\\\"100%\\\">\\n                                                        <legend>Thông tin tạm ứng gói marketing</legend>\\n                                                        <div fxFlex=\\\"100%\\\">\\n                                                            <ng-container *ngFor=\\\"let goiDichVu of benhNhanHienTai.GoiDichVus\\\">\\n                                                                <p class=\\\"mb-3\\\"><strong>{{goiDichVu.TenGoiDichVu}}: \\n                                                                </strong> TẠM ỨNG: <strong class=\\\"green\\\">{{goiDichVu.BenhNhanDaThanhToanDisplay}}</strong> \\n                                                                - CÒN LẠI: <strong class=\\\"red\\\">{{goiDichVu.ConLaiDisplay}}</strong></p>                                                           \\n                                                            </ng-container>\\n                                                        </div>\\n                                                    </fieldset> \\n                                                </div>\\n                                                \\n                                                <div class=\\\"row ml-1 temp d-inline\\\">\\n                                                    <kendo-tabstrip id=\\\"card\\\" fxFlex=\\\"100%\\\" class=\\\"content-has-border tabstrip-pad sticky-kendotab-item\\\" [keepTabContent]=\\\"true\\\" (tabSelect)=\\\"changeTab('card', $event)\\\">\\n                                                        <!-- Tab Cận lâm sàn -->\\n                                                        <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectedTab.selectedTabCanLamSan\\\">\\n                                                            <ng-template kendoTabTitle>\\n                                                                <div kendoTooltip title=\\\"Phím tắt: Ctrl + F1\\\">\\n                                                                    CẬN LÂM SÀNG ({{dichVuKyThuatChuaHoanThanhTrenHoanThanh.DichVuKyThuatDaHoanThanh}}/{{dichVuKyThuatChuaHoanThanhTrenHoanThanh.TongDichVuKyThuat}})\\n                                                                </div>\\n                                                            </ng-template>\\n                                                            <ng-template kendoTabContent>\\n                                                                <div class=\\\"p-2\\\">\\n                                                                    <app-phau-thuat-thu-thuat-can-lam-san [benhNhanHienTai]=\\\"benhNhanHienTai\\\" [currentAccessUser]=\\\"currentAccessUser\\\"\\n                                                                        (outputPhauThuatThuThuatCLSDataChanged)=\\\"tabDataChanged($event, 'PhauThuatThuThuatCanLamSan')\\\" (outputIsGetDataCanLamSanDone)=\\\"getDataCanLamSanDone($event)\\\"\\n                                                                        (outputPhauThuatThuThuatCLSDataChangedAfterAddAndRemove)=\\\"phauThuatThuThuatCLSDataChangedAfterAddAndRemove($event)\\\"\\n                                                                        (outputPhauThuatThuThuatCLSOutOfYeuCauDichVuKyThuats)=\\\"phauThuatThuThuatCLSOutOfYeuCauDichVuKyThuats($event)\\\"\\n                                                                        (outputSoDuTaiKhoanChanged)=\\\"SoDuTaiKhoanChanged($event)\\\" (outputSoDuTaiKhoanUocLuongConLaiChanged)=\\\"SoDuTaiKhoanUocLuongConLaiChanged($event)\\\">\\n                                                                    </app-phau-thuat-thu-thuat-can-lam-san>\\n                                                                </div>\\n                                                            </ng-template>\\n                                                        </kendo-tabstrip-tab>\\n                                                        <!-- Tab tường trình -->\\n                                                        <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectedTab.selectedTabTuongTrinh\\\">\\n                                                            <ng-template kendoTabTitle>\\n                                                                <div kendoTooltip title=\\\"Phím tắt: Ctrl + F2\\\">\\n                                                                    {{tuongTrinhHeader}}\\n                                                                </div>\\n                                                            </ng-template>\\n                                                            <ng-template kendoTabContent>\\n                                                                <div class=\\\"p-2\\\">\\n                                                                    <app-phau-thuat-thu-thuat-tuong-trinh\\n                                                                        [thongTinBenhNhan]=\\\"benhNhanHienTai\\\" (showKetLuan)=\\\"WillShowKetLuan($event)\\\"\\n                                                                        (updateTuongTrinhTabHeader)=\\\"UpdateTabTuongTrinhHeader($event)\\\" (navigateKetLuan)=\\\"NavigateKetLuan($event)\\\"\\n                                                                        (chuyenBenhNhan)=\\\"ChuyenBenhNhanNext($event)\\\" (chuyenGiaoKetLuanBenhNhan)=\\\"chuyenGiaoKetLuan()\\\"\\n                                                                        (outputSoDuTaiKhoanChanged)=\\\"SoDuTaiKhoanChanged($event)\\\" (outputSoDuTaiKhoanConLaiChanged)=\\\"SoDuTaiKhoanUocLuongConLaiChanged($event)\\\"\\n                                                                        (outputDichVuKhongCanTuongTrinhChanged)=\\\"DichVuKhongCanTuongTrinhChanged($event)\\\"\\n                                                                        #ptttTt>\\n                                                                    </app-phau-thuat-thu-thuat-tuong-trinh>\\n                                                                    <div kendoTooltip class=\\\"sticky-button-action py-3 text-right\\\">\\n                                                                        <button *ngIf=\\\"ptttTt.ptttCombobox.ptttId !=null && ptttTt.isDangPhauThuat && !ptttTt.IsDaTuongTrinh && !ptttTt.isTuongTrinhLai\\\" type=\\\"button\\\" mat-button mat-raised-button color=\\\"warn\\\" class=\\\"float-left\\\" (click)=\\\"benhNhanTuVong()\\\">\\n                                                                            NB tử vong\\n                                                                        </button>\\n                                                                        <button *ngIf=\\\"ptttTt.ptttCombobox.ptttId !=null && !ptttTt.IsDaTuongTrinh && !ptttTt.isTuongTrinhLai\\\" class=\\\"rut-lui\\\" (click)=\\\"RutLui()\\\">\\n                                                                            Không thực hiện\\n                                                                        </button>\\n                                                                        <button *ngIf=\\\"ptttTt.ptttCombobox.ptttId !=null && !ptttTt.isDangPhauThuat && !ptttTt.IsDaTuongTrinh && isDichVuKhongCanTuongTrinh && !ptttTt.isTuongTrinhLai\\\" type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button title=\\\"Phím tắt: Chưa có\\\" (click)=\\\"khongTuongTrinh()\\\">\\n                                                                            Không tường trình\\n                                                                        </button>\\n                                                                        <button *ngIf=\\\"ptttTt.ptttCombobox.ptttId !=null && ptttTt.isDangPhauThuat && !ptttTt.IsDaTuongTrinh && !ptttTt.isTuongTrinhLai\\\" type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button title=\\\"Phím tắt: Chưa có\\\" (click)=\\\"ketPhucPhauThuatThuThuat()\\\">\\n                                                                            Kết thúc PT/TT\\n                                                                        </button>\\n                                                                        <!-- Update tường trình lại -->\\n                                                                        <button *ngIf=\\\"ptttTt.ptttCombobox.ptttId !=null && ptttTt.isTuongTrinhLai\\\" type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button title=\\\"Phím tắt: Chưa có\\\" (click)=\\\"ketPhucTuongTrinhLai()\\\">\\n                                                                            Hoàn thành tường trình lại\\n                                                                        </button>\\n                                                                    </div>\\n                                                                </div>\\n                                                            </ng-template>\\n                                                        </kendo-tabstrip-tab>\\n                                                        <!-- Tab kết luận -->\\n                                                        <kendo-tabstrip-tab [disabled]=\\\"true\\\" *ngIf=\\\"isDaTuongTrinh && benhNhanHienTai.TrangThaiPhauThuatThuThuat != trangThaiPhauThuatThuThuat.DangPhauThuat && benhNhanHienTai.TrangThaiPhauThuatThuThuat != trangThaiPhauThuatThuThuat.TheoDoi\\\">\\n                                                            <ng-template kendoTabTitle>\\n                                                                <div kendoTooltip title=\\\"Phím tắt: Ctrl + F3\\\">\\n                                                                    KẾT LUẬN\\n                                                                </div>\\n                                                            </ng-template>\\n                                                        </kendo-tabstrip-tab>\\n\\n                                                        <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectedTab.selectedTabKetLuan\\\" *ngIf=\\\"(isDaTuongTrinh && (benhNhanHienTai.TrangThaiPhauThuatThuThuat == trangThaiPhauThuatThuThuat.DangPhauThuat || benhNhanHienTai.TrangThaiPhauThuatThuThuat == trangThaiPhauThuatThuThuat.TheoDoi)) || (benhNhanHienTai.IsTuongTrinhLai && benhNhanHienTai.IsTuongTrinhLaiCoKetLuan)\\\">\\n                                                            <ng-template kendoTabTitle>\\n                                                                <div kendoTooltip title=\\\"Phím tắt: Ctrl + F3\\\">\\n                                                                    KẾT LUẬN\\n                                                                </div>\\n                                                            </ng-template>\\n                                                            <ng-template kendoTabContent>\\n                                                                <div class=\\\"p-2\\\">\\n                                                                    <app-phau-thuat-thu-thuat-ket-luan [thongTinBenhNhan]=\\\"benhNhanHienTai\\\" [currentAccessUser]=\\\"currentAccessUser\\\" (outputBenhNhanTiepTheo)=\\\"benhNhanTiepTheo($event)\\\" (outputPhauThuatThuThuatKetLuanDataChanged)=\\\"tabDataChanged($event, 'PhauThuatThuThuatKetLuan')\\\"\\n                                                                        (thongTinBenhNhanChanged)=\\\"finishKetLuan($event)\\\">\\n                                                                    </app-phau-thuat-thu-thuat-ket-luan>\\n\\n                                                                    <div *ngIf=\\\"isKetLuanDataChange\\\" kendoTooltip class=\\\"sticky-button-action py-3 text-right\\\">\\n                                                                        <button type=\\\"button\\\" mat-button color=\\\"primary\\\" title=\\\"Phím tắt: Esc\\\" (click)=\\\"huyKetLuan()\\\" [disabled]=\\\"benhNhanHienTai.IsTuongTrinhLai\\\">Huỷ</button>\\n                                                                        <button type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button title=\\\"Phím tắt: Ctrl + S\\\" (click)=\\\"luuKetLuan()\\\" [disabled]=\\\"benhNhanHienTai.IsTuongTrinhLai\\\">Lưu</button>\\n                                                                    </div>\\n                                                                </div>\\n                                                            </ng-template>\\n                                                        </kendo-tabstrip-tab>\\n\\n                                                        <!-- Tab theo dõi -->\\n                                                        <!-- <kendo-tabstrip-tab [disabled]=\\\"true\\\" [selected]=\\\"lstStatusSelectedTab.selectedTabTheoDoi\\\" *ngIf=\\\"benhNhanHienTai.TrangThaiPhauThuatThuThuat != trangThaiPhauThuatThuThuat.TheoDoi\\\">\\n                                                            <ng-template kendoTabTitle>\\n                                                                <div kendoTooltip title=\\\"Phím tắt: Ctrl + F5\\\">\\n                                                                    THEO DÕI\\n                                                                </div>\\n                                                            </ng-template>\\n                                                        </kendo-tabstrip-tab> -->\\n\\n                                                        <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectedTab.selectedTabTheoDoi\\\" *ngIf=\\\"benhNhanHienTai.TrangThaiPhauThuatThuThuat == trangThaiPhauThuatThuThuat.TheoDoi || (benhNhanHienTai.IsTuongTrinhLai && benhNhanHienTai.IsTuongTrinhLaiCoTheoDoi)\\\">\\n                                                            <ng-template kendoTabTitle>\\n                                                                <div kendoTooltip title=\\\"Phím tắt: Ctrl + F5\\\">\\n                                                                    THEO DÕI\\n                                                                </div>\\n                                                            </ng-template>\\n                                                            <ng-template kendoTabContent>\\n                                                                <div class=\\\"p-2\\\">\\n                                                                    <app-phau-thuat-thu-thuat-theo-doi\\n                                                                        [thongTinBenhNhan]=\\\"benhNhanHienTai\\\" [currentAccessUser]=\\\"currentAccessUser\\\"\\n                                                                        (outputBenhNhanTiepTheo)=\\\"benhNhanTiepTheo($event)\\\"\\n                                                                        (outputPhauThuatThuThuatTheoDoiDataChanged)=\\\"tabDataChanged($event, 'PhauThuatThuThuatTheoDoi')\\\"\\n                                                                        (outputPhauThuatThuThuatTheoDoiChiSoSinhTonDataChanged)=\\\"tabDataChanged($event, 'PhauThuatThuThuatTheoDoiChiSoSinhTon')\\\">\\n                                                                    </app-phau-thuat-thu-thuat-theo-doi>\\n\\n                                                                    <div kendoTooltip class=\\\"sticky-button-action py-3 text-right\\\">\\n                                                                        <button type=\\\"button\\\" mat-button mat-raised-button color=\\\"warn\\\" class=\\\"float-left\\\" (click)=\\\"benhNhanTuVongKhiTheoDoi()\\\" [disabled]=\\\"benhNhanHienTai.IsTuongTrinhLai\\\">NB tử\\n                                                                            vong</button>\\n                                                                        <button type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button title=\\\"Phím tắt: Chưa có\\\" (click)=\\\"chuyenGiaoBenhNhan()\\\" [disabled]=\\\"benhNhanHienTai.IsTuongTrinhLai\\\">Chuyển giao\\n                                                                            NB</button>\\n                                                                    </div>\\n                                                                </div>\\n                                                            </ng-template>\\n                                                        </kendo-tabstrip-tab>\\n\\n                                                        <!-- Số dư tạm ứng -->\\n                                                        <kendo-tabstrip-tab [disabled]=\\\"true\\\" cssClass=\\\"tab-right-po\\\">\\n                                                            <ng-template kendoTabTitle>\\n                                                                Tạm ứng: <b class=\\\"so-du-tai-khoan\\\">{{benhNhanHienTai.SoDuTaiKhoanDisplay}}</b>\\n                                                                -\\n                                                                Còn lại: <b class=\\\"so-du-uoc-luong-con-lai\\\">{{benhNhanHienTai.SoDuTaiKhoanUocLuongConLaiDisplay}}</b>\\n                                                            </ng-template>\\n                                                            <ng-template kendoTabContent>\\n                                                            </ng-template>\\n                                                        </kendo-tabstrip-tab>\\n                                                    </kendo-tabstrip>\\n                                                </div>\\n                                            </ng-container>\\n                                        </kendo-splitter-pane>\\n                                    </kendo-splitter>\\n                                </ng-template>\\n                            </kendo-tabstrip-tab>\\n                            <kendo-tabstrip-tab [selected]=\\\"tabDanhSachDaPT\\\">\\n                                <ng-template kendoTabTitle>\\n                                    DANH SÁCH ĐÃ PT/TT\\n                                </ng-template>\\n                                <ng-template kendoTabContent>\\n                                    <app-phau-thuat-thu-thuat-benh-nhan-da-phau-thuat>\\n                                    </app-phau-thuat-thu-thuat-benh-nhan-da-phau-thuat>\\n                                </ng-template>\\n                            </kendo-tabstrip-tab>\\n                        </kendo-tabstrip>\\n                        <!-- <ng-container *ngIf=\\\"true\\\">\\n                            Chưa chọn phòng khám\\n                        </ng-container> -->\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </vex-page-layout-content>\\n</vex-page-layout>\\n\\n<!-- Tên NB -->\\n<ng-template #hoTenTemplate let-dataItem>\\n    <p (click)=\\\"getBenhNhanDangKham(dataItem.YeuCauTiepNhanId)\\\" style=\\\"position: relative;\\\">{{dataItem.HoTen}}<img *ngIf=\\\"dataItem.CoBaoHiem\\\" src=\\\"assets/img/logoBHXH.png\\\" class=\\\"icon-bhyt\\\" /></p>\\n</ng-template>\\n\\n<!-- Giới tính -->\\n<ng-template #gioiTinhTemplate let-dataItem>\\n    <p (click)=\\\"getBenhNhanDangKham(dataItem.YeuCauTiepNhanId)\\\" style=\\\"position: relative;\\\">{{dataItem.TenGioiTinh}}</p>\\n</ng-template>\\n\\n<!-- Tuổi -->\\n<ng-template #tuoiTemplate let-dataItem>\\n    <p (click)=\\\"getBenhNhanDangKham(dataItem.YeuCauTiepNhanId)\\\" style=\\\"position: relative;\\\">{{dataItem.Tuoi}}</p>\\n</ng-template>\\n\\n<!-- action cập nhật hồ sơ pt -->\\n<ng-template #maBNChoPTTTTemplate let-dataItem>\\n    <a (click)=\\\"getBenhNhanDangKham(dataItem.YeuCauTiepNhanId)\\\">\\n        <p kendoTooltip class=\\\"reverse-ellipsis l\\\" title=\\\"{{dataItem.MaBN}}\\\">{{dataItem.MaBN}}</p>\\n    </a>\\n</ng-template>\\n<!-- <ng-template #chuanBiPTTTActionTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <div class=\\\"text-center\\\" kendoTooltip>\\n        <button type=\\\"button\\\" title=\\\"Cập nhật hồ sơ phẫu thuật\\\" class=\\\"icon-color-button\\\"\\n            (click)=\\\"getBenhNhanDangKham(dataItem.YeuCauDichVuKyThuatId)\\\">\\n            <mat-icon [icIcon]=\\\"icPlay\\\"></mat-icon>\\n        </button>\\n        <button type=\\\"button\\\" title=\\\"NB vắng\\\" class=\\\"icon-color-button\\\" (click)=\\\"bnVang(dataItem)\\\">\\n            <mat-icon [icIcon]=\\\"icCancel\\\"></mat-icon>\\n        </button>\\n    </div>\\n</ng-template> -->\\n\\n<!-- action vào phong pttt -->\\n<ng-template #maBNDangPTTTTemplate let-dataItem>\\n    <a (click)=\\\"getBenhNhanDangKham(dataItem.YeuCauTiepNhanId)\\\">\\n        <p kendoTooltip class=\\\"reverse-ellipsis l\\\" title=\\\"{{dataItem.MaBN}}\\\">{{dataItem.MaBN}}</p>\\n    </a>\\n</ng-template>\\n<!-- <ng-template #maTNTemplate let-dataItem>\\n    <a (click)=\\\"getBenhNhanDangKham(dataItem)\\\">\\n        <p kendoTooltip class=\\\"reverse-ellipsis l\\\" title=\\\"{{dataItem.MaYeuCauTiepNhan}}\\\">{{dataItem.MaYeuCauTiepNhan}}\\n        </p>\\n    </a>\\n</ng-template> -->\\n<!-- <ng-template #vaoPhongPTTTActionTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <div class=\\\"text-center\\\" kendoTooltip>\\n        <button type=\\\"button\\\" title=\\\"Vào phòng phẫu thuật\\\" class=\\\"icon-color-button\\\"\\n            (click)=\\\"getBenhNhanDangKham(dataItem.YeuCauDichVuKyThuatId)\\\">\\n            <mat-icon [icIcon]=\\\"icPlay\\\"></mat-icon>\\n        </button>\\n    </div>\\n</ng-template> -->\\n\\n\\n<!-- action đợi kết luận -->\\n<ng-template #maBNDaPTTTTemplate let-dataItem>\\n    <a (click)=\\\"getBenhNhanDangKham(dataItem.YeuCauTiepNhanId)\\\">\\n        <p kendoTooltip class=\\\"reverse-ellipsis l\\\" title=\\\"{{dataItem.MaBN}}\\\">{{dataItem.MaBN}}</p>\\n    </a>\\n</ng-template>\\n<!-- <ng-template #maTNTemplate let-dataItem>\\n    <a (click)=\\\"getBenhNhanDangKham(dataItem)\\\">\\n        <p kendoTooltip class=\\\"reverse-ellipsis l\\\" title=\\\"{{dataItem.MaYeuCauTiepNhan}}\\\">{{dataItem.MaYeuCauTiepNhan}}\\n        </p>\\n    </a>\\n</ng-template> -->\\n<!-- <ng-template #ketQuaPhauThuatActionTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <div class=\\\"text-center\\\" kendoTooltip>\\n        <button type=\\\"button\\\" title=\\\"Kết quả phẫu thuật\\\" class=\\\"icon-color-button\\\"\\n            (click)=\\\"getBenhNhanDangKham(dataItem.YeuCauDichVuKyThuatId)\\\">\\n            <mat-icon [icIcon]=\\\"icAssignment\\\"></mat-icon>\\n        </button>\\n    </div>\\n</ng-template> -->\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>BN Tử vong</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"height: 22vh;flex-direction: column;display: flex;\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"p-2 mb-6 clear-margin-bottom\\\">\\n        <app-dropdownlist [disabled]=\\\"IsDaTuongTrinh\\\" [required]=\\\"true\\\" id=\\\"thoi-gian-tu-vong\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Thời gian tử vong\\\" url=\\\"PhauThuatThuThuat/GetListThoiGianTuVongPTTTTrongNgay\\\" [(model)]=\\\"ttTuVong.TgTuVong\\\" [modelText]=\\\"ttTuVong.TgTuVongDisplay\\\"\\n            [validationerror]=\\\"'TgTuVong' | validationerror:validationErrors\\\">\\n        </app-dropdownlist>\\n\\n        <app-dropdownlist [disabled]=\\\"IsDaTuongTrinh\\\" [required]=\\\"true\\\" id=\\\"tu-vong\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Tử vong\\\" url=\\\"PhauThuatThuThuat/GetListTuVongPTTTTrongNgay\\\" [(model)]=\\\"ttTuVong.TuVong\\\" [modelText]=\\\"ttTuVong.TuVongDisplay\\\" [validationerror]=\\\"'TuVong' | validationerror:validationErrors\\\">\\n        </app-dropdownlist>\\n    </div>\\n    <div style=\\\"flex-direction: row;justify-content: flex-end;align-items: flex-end;display: flex;margin: 0;\\\" fxFlex=\\\"100%\\\" class=\\\"mt-2\\\">\\n        <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"close()\\\">Không</button>\\n        <button *ngIf=\\\"!IsDaTuongTrinh\\\" type=\\\"button\\\" style=\\\"background: #005dab; color: white;\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"confirmTuVong()\\\">Có</button>\\n    </div>\\n</mat-dialog-content>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Danh sách PTTT không thực hiện</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n      <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n  </button>\\n</div>\\n\\n<mat-dialog-content>\\n    <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1 content\\\">\\n        <fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n            <app-grid [gridColumns]=\\\"gridKhongThucHien\\\" [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\" style=\\\"width: 1px;\\\" [pageable]=\\\"false\\\" [gridDataSource]=\\\"dataSourcePtttKhongThucHien\\\"\\n                masterName=\\\"huongBhyt\\\">\\n            </app-grid>\\n        </fieldset>\\n    </div>\\n</mat-dialog-content>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Không thực hiện PT/TT</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"height: 21vh;flex-direction: column;display: flex;\\\">\\n    <p style=\\\"margin-top: 10px;\\\">{{messageShowInPopup}}</p>\\n    <div class=\\\"ghi-chu-area\\\">\\n        <app-textarea id=\\\"ghi-chu\\\" label=\\\"Lý do không thực hiện pt/tt\\\" maxlength=\\\"4000\\\" fxFlex=\\\"100%\\\" [required]=\\\"true\\\" [(model)]=\\\"huyTuongTrinh.GhiChu\\\" minHeight=\\\"20\\\" [validationerror]=\\\"'GhiChu' | validationerror:validationErrors\\\"></app-textarea>\\n    </div>\\n\\n    <p class=\\\"mt-4\\\">Bạn có muốn xoá hết Thuốc/VTYT của NB này khi không thực hiện PT/TT không?</p>\\n    <app-radio fxFlex=\\\"50%\\\" id=\\\"Chon\\\" name=\\\"Chon\\\" class=\\\"no-format-css temp\\\" [(model)]=\\\"xoaThuocVaTu\\\"\\n        [items]=\\\"[{Value:true,Text:'Có'}, {Value:false,Text:'Không'}]\\\">\\n    </app-radio>\\n\\n    <div style=\\\"flex-direction: row;justify-content: flex-end;align-items: flex-end;display: flex;margin: 0;\\\" fxFlex=\\\"100%\\\">\\n        <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"close()\\\">Không</button>\\n        <button type=\\\"button\\\" style=\\\"background: #005dab; color: white;\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"ketThuc()\\\">Có</button>\\n    </div>\\n</mat-dialog-content>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"p-2 mb-6 clear-margin-bottom\\\">\\n    <app-combobox #tuVongPttt id=\\\"ten-pttt\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"80%\\\" (openCombobox)=\\\"OnOpen($event)\\\" (selectionChange)=\\\"SpecifyYcdvkt($event)\\\" label=\\\"DS PTTT của NB \\\" [data]=\\\"ptttCombobox.lstPttt\\\" [(model)]=\\\"ptttCombobox.ptttId\\\" [modelText]=\\\"ptttCombobox.ptttDisplay\\\"\\n        [template]=\\\"truocPhauThuatTemplate\\\" [templateHeader]=\\\"truocPhauThuatTemplateHeader\\\" #lstPtttCmb>\\n        <ng-template #truocPhauThuatTemplateHeader let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <th width=\\\"15%\\\">Loại</th>\\n                    <th width=\\\"45%\\\">Dịch vụ</th>\\n                    <th width=\\\"20%\\\">Bác sĩ chính</th>\\n                    <th width=\\\"20%\\\">Tình trạng</th>\\n                </tr>\\n            </table>\\n        </ng-template>\\n        <ng-template #truocPhauThuatTemplate let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <td width=\\\"15%\\\">{{dataItem.LoaiPTTT}}</td>\\n                    <td width=\\\"45%\\\">{{dataItem.TenDv}}</td>\\n                    <td width=\\\"20%\\\">{{dataItem.BacSi}}</td>\\n                    <td *ngIf=\\\"dataItem.IsDaTuongTrinh\\\" width=\\\"20%\\\"><span style=\\\"color:green;\\\">{{dataItem.TuongTrinhDisplay}}</span>\\n                    </td>\\n                    <td *ngIf=\\\"!dataItem.IsDaTuongTrinh\\\" width=\\\"20%\\\">{{dataItem.TuongTrinhDisplay}}</td>\\n                </tr>\\n            </table>\\n        </ng-template>\\n    </app-combobox>\\n\\n    <div class=\\\"thong-tin-phong-kham\\\">\\n        <span>\\n            <b>Phòng khám chỉ định:</b> {{thongTinChiDinhDichVu.NoiChiDinhDisplay}}\\n            -\\n            <b>Nhân viên chỉ định:</b> {{thongTinChiDinhDichVu.NhanVienChiDinhDisplay}}\\n        </span>\\n    </div>\\n\\n    <div id=\\\"show-khong-thuc-hien\\\" (click)=\\\"ShowModal()\\\"></div>\\n\\n    <kendo-tabstrip id=\\\"tabstrip-tuong-trinh\\\" *ngIf=\\\"ptttCombobox.ptttId!=null\\\" fxFlex=\\\"100%\\\" class=\\\"horizontal-tab-strip-pttt-tuong-trinh tab-no-padding-content field-set-p\\\" [tabPosition]=\\\"'left'\\\" [keepTabContent]=\\\"true\\\" (tabSelect)=\\\"onTabSelect($event)\\\">\\n        <!-- Tab Ekip thực hiện -->\\n        <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectedTab.selectedTabEkip\\\">\\n            <ng-template kendoTabTitle>\\n                <div kendoTooltip title=\\\"Phím tắt: Chưa có\\\">\\n                    EKIP <br /> THỰC HIỆN\\n                </div>\\n            </ng-template>\\n            <ng-template kendoTabContent>\\n                <div class=\\\"p-2\\\">\\n                    <app-pttt-ekip-thuc-hien [ycdvktId]=\\\"ycdvktId\\\" [IsDaTuongTrinh]=\\\"IsDaTuongTrinh\\\" [thongTinBenhNhan]=\\\"thongTinBenhNhan\\\" (afterSavingEkip)=\\\"AfterSavingEkip($event)\\\" (displaySaveCcl)=\\\"OnDisplaySaveCancelEkip($event)\\\" #ekip>\\n                    </app-pttt-ekip-thuc-hien>\\n                    <div kendoTooltip class=\\\"sticky-button-action py-3 text-right\\\">\\n                        <button *ngIf=\\\"logicDisplay.IsDisplayReset && !IsDaTuongTrinh && !thongTinBenhNhan.IsTuongTrinhLai\\\" type=\\\"button\\\" (click)=\\\"onResetEkip()\\\" color=\\\"primary\\\" mat-button class=\\\"mr-2\\\" title=\\\"Phím tắt: ESC\\\">Huỷ</button>\\n                        <button *ngIf=\\\"logicDisplay.IsDisplaySave && !IsDaTuongTrinh && !thongTinBenhNhan.IsTuongTrinhLai\\\" type=\\\"button\\\" (click)=\\\"onSaveEkip()\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button title=\\\"Phím tắt: Ctrl + S\\\">Lưu</button>\\n                    </div>\\n                </div>\\n            </ng-template>\\n        </kendo-tabstrip-tab>\\n\\n        <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectedTab.selectedTabTuongTrinh\\\" *ngIf=\\\"isDangPhauThuat\\\">\\n            <ng-template kendoTabTitle>\\n                <div kendoTooltip title=\\\"Phím tắt: Chưa có\\\">\\n                    TƯỜNG TRÌNH <br /> PT/TT\\n                </div>\\n            </ng-template>\\n            <ng-template kendoTabContent>\\n                <div class=\\\"p-2\\\">\\n                    <app-pttt-tuong-trinh-pttt \\n                        [pTTTChinh]=\\\"ptChinh\\\" [ycdvktId]=\\\"ycdvktId\\\" [IsDaTuongTrinh]=\\\"IsDaTuongTrinh\\\" [thongTinBenhNhan]=\\\"thongTinBenhNhan\\\" \\n                        (displaySaveCclForTuongTrinh)=\\\"OnDisplayBtnForTuongTrinh($event)\\\" #tuongTrinh>\\n                    </app-pttt-tuong-trinh-pttt>\\n\\n                    <div kendoTooltip class=\\\"sticky-button-action py-3 text-right\\\">\\n                        <button *ngIf=\\\"logicDisplayTt.IsDisplayReset && !IsDaTuongTrinh\\\" type=\\\"button\\\" color=\\\"primary\\\" mat-button class=\\\"mr-2\\\" (click)=\\\"onResetTuongTrinh()\\\" title=\\\"Phím tắt: ESC\\\">Huỷ</button>\\n                        <button *ngIf=\\\"logicDisplayTt.IsDisplaySave && !IsDaTuongTrinh\\\" type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" (click)=\\\"onSaveTuongTrinh()\\\" mat-raised-button title=\\\"Phím tắt: Ctrl + S\\\">Lưu</button>\\n                    </div>\\n                </div>\\n            </ng-template>\\n        </kendo-tabstrip-tab>\\n\\n        <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectedTab.selectedTabVtThuoc\\\" *ngIf=\\\"isDangPhauThuat\\\">\\n            <ng-template kendoTabTitle>\\n                <div kendoTooltip title=\\\"Phím tắt: Chưa có\\\">\\n                    GHI NHẬN <br /> VT/THUỐC\\n                </div>\\n            </ng-template>\\n            <ng-template kendoTabContent>\\n                <div class=\\\"p-2\\\">\\n                    <app-pttt-ghi-nhan [benhNhanHienTai]=\\\"thongTinBenhNhan\\\" [yeuCauDichVuKyThuatId]=\\\"ycdvktId\\\"\\n                        (outputSoDuTaiKhoanChanged)=\\\"SoDuTaiKhoanChanged($event)\\\"\\n                        (outputSoDuTaiKhoanConLaiChanged)=\\\"SoDuTaiKhoanConLaiChanged($event)\\\">\\n                    </app-pttt-ghi-nhan>\\n                </div>\\n            </ng-template>\\n        </kendo-tabstrip-tab>\\n\\n        <kendo-tabstrip-tab [selected]=\\\"lstStatusSelectedTab.selectedTabCsst\\\" *ngIf=\\\"isDangPhauThuat\\\">\\n            <ng-template kendoTabTitle>\\n                <div kendoTooltip title=\\\"Phím tắt: Chưa có\\\">\\n                    CHỈ SỐ <br /> SINH TỒN\\n                </div>\\n            </ng-template>\\n            <ng-template kendoTabContent class=\\\"wrapContent\\\">\\n                <div class=\\\"p-2\\\">\\n                    <app-pttt-sinh-ton [thongTinBenhNhan]=\\\"thongTinBenhNhan\\\" [IsDaTuongTrinh]=\\\"IsDaTuongTrinh\\\" (displayForBtnSinhTon)=\\\"OnDisplayBtnForSinhTon($event)\\\" #ptttSinhTon>\\n                    </app-pttt-sinh-ton>\\n                </div>\\n                <div kendoTooltip class=\\\"wrapBtnLuu\\\">\\n                    <button *ngIf=\\\"logicDisplayCsst.IsDisplayReset && !IsDaTuongTrinh\\\" class=\\\"btnHuy\\\" (click)=\\\"ResetSinhTon()\\\" title=\\\"Phím tắt: ESC\\\">Hủy</button>\\n                    <button *ngIf=\\\"logicDisplayCsst.IsDisplaySave && !IsDaTuongTrinh\\\" class=\\\"btnLuu\\\" (click)=\\\"SaveSinhTon()\\\" title=\\\"Phím tắt: Ctrl + S\\\">Lưu</button>\\n                </div>\\n            </ng-template>\\n        </kendo-tabstrip-tab>\\n    </kendo-tabstrip>\\n</div>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>DƯỢC PHẨM/VTYT TRONG DỊCH VỤ</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"max-height: 86vh;\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"p-2 mb-6\\\">\\n        <app-combobox id=\\\"khoSuDung\\\" fxFlex=\\\"100%\\\" label=\\\"Kho sử dụng\\\" class=\\\"item-no-padding\\\" required=\\\"true\\\"\\n            url=\\\"PhauThuatThuThuat/GetKhoLeNhanVienQuanLy\\\" popupSettings=\\\"\\\"\\n            [(model)]=\\\"ghiNhanGoiDuocPhamVatTuPTTTVo.KhoLuaChonId\\\" bind=\\\"true\\\" (modelChange)=\\\"changeKhoSuDung()\\\"\\n            [autoSelectFirstItem]=\\\"true\\\">\\n        </app-combobox>\\n\\n        <app-grid #gridGoiDPVT fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n            [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [documentType]=\\\"documentType\\\" [gridColumns]=\\\"gridColumns\\\"\\n            [urlGetData]=\\\"urlGetDataGoiDuocPhamVatTuTrongDichVu\\\"\\n            [urlGetTotalPage]=\\\"urlGetTotalPagesGoiDuocPhamVatTuTrongDichVu\\\" [groups]=\\\"groups\\\"\\n            [additionalSearchString]=\\\"additionalSearchString\\\" [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\"\\n            [pageable]=\\\"false\\\">\\n        </app-grid>\\n\\n        <ng-template #checkBoxHeaderTemplate let-dataItem>\\n            <input type=\\\"checkbox\\\" id=\\\"vehicle1All\\\" (ngModelChange)=\\\"chonTatCa($event)\\\" name=\\\"vehicle1All\\\"\\n                [(ngModel)]=\\\"checkAll\\\">\\n        </ng-template>\\n\\n        <ng-template #checkBoxTemplate let-dataItem>\\n            <app-checkbox *ngIf=\\\"dataItem.SoLuongTon >=  dataItem.SoLuongKe\\\" value=\\\"true\\\" [(model)]=\\\"dataItem.CheckBox\\\"\\n                (modelChange)=\\\"chonDuocPhamVatTu(dataItem, $event)\\\" label=\\\" \\\" class=\\\"pl-2\\\">\\n            </app-checkbox>\\n        </ng-template>\\n\\n        <ng-template #checkBoxKhongTinhPhiTemplate let-dataItem>\\n            <input type=\\\"checkbox\\\" [disabled]=\\\"true\\\" id=\\\"vehicle1{{dataItem.Id}}disabled\\\"\\n                [(ngModel)]=\\\"dataItem.KhongTinhPhi\\\" name=\\\"vehicle1\\\">\\n        </ng-template>\\n\\n        <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\" let-dataItem>\\n            <div [ngClass]=\\\"value === 'Đủ tồn trong tủ trực' ? 'green' : 'red'\\\"><strong\\n                    style=\\\"text-transform: uppercase;\\\">{{value}}</strong></div>\\n        </ng-template>\\n\\n        <ng-template #slTemplate let-dataItem>\\n            {{dataItem.SoLuongKe | number:'1.0-2':'vi-VN'}}\\n        </ng-template>\\n\\n        <ng-template #slTonTemplate let-dataItem>\\n            {{dataItem.SoLuongTon | number:'1.0-2':'vi-VN'}}\\n        </ng-template>\\n    </div>\\n</mat-dialog-content>\\n\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n    <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" [mat-dialog-close]=\\\"null\\\">Hủy</button>\\n    <button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"themGoiDuocPhamVatTu()\\\">Thêm</button>\\n</mat-dialog-actions>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <h3 class=\\\"sub-title\\\" fxFlex=\\\"100%\\\">EKIP\\n        <button [disabled]=\\\"!canChange || IsDaTuongTrinh\\\" class=\\\"po-h\\\" color=\\\"primary\\\" (click)=\\\"themNguoiThucHien()\\\">\\n            <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n        </button>\\n    </h3>\\n\\n    <section *ngIf=\\\"dataSourceNhanVien.data.length == 0\\\">\\n        <p>Chưa có thiết lập ekip</p>\\n    </section>\\n\\n    <app-grid *ngIf=\\\"dataSourceNhanVien.data.length > 0\\\" masterName=\\\"NhanVien\\\" class=\\\"k-grid-border\\\" style=\\\"width: 1px;\\\" [gridColumns]=\\\"gridNhanVienColumns\\\" [gridDataSource]=\\\"dataSourceNhanVien\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\"\\n        [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [maxHeight]=\\\"200\\\" [lazyLoadPage]=\\\"true\\\" [pageable]=\\\"false\\\" fxFlex=\\\"100%\\\" #gridForEkips>\\n    </app-grid>\\n\\n    <ng-template #chucDanhTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\" class=\\\"no-label item-no-padding\\\" label=\\\" \\\">\\n        <!-- *ngIf=\\\"dataItem.Id == 0\\\" -->\\n        <app-dropdownlist #nhomChucDanh id=\\\"nhom-chuc-danh\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh || dataBenhNhan.IsTuongTrinhLai\\\" class=\\\"no-label\\\" label=\\\" \\\" url=\\\"PhauThuatThuThuat/GetListNhomChucDanh\\\" [(model)]=\\\"dataItem.NhomChucDanh\\\" [modelText]=\\\"dataItem.NhomChucDanhDisplay\\\" [required]=\\\"true\\\"\\n            [popupSettings]=\\\"null\\\" (selectionChange)=\\\"chonNhomChucDanh($event, dataItem)\\\" [validationerror]=\\\"'Ekips['+rowIndex+'].NhomChucDanh' | validationerror:validationErrors\\\">\\n            <!-- test validationError -->\\n        </app-dropdownlist>\\n    </ng-template>\\n\\n    <ng-template #hoTenTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\" class=\\\"no-label item-no-padding\\\" label=\\\" \\\">\\n        <!-- *ngIf=\\\"dataItem.Id == 0\\\" -->\\n        <app-combobox *ngIf=\\\"!dataItem.NhomChucDanh\\\" id=\\\"bac-si-dieu-duong-display\\\" class=\\\"no-label\\\" label=\\\" \\\" [(model)]=\\\"dataItem.BacSiId\\\" [modelText]=\\\"dataItem.BacSi\\\" [required]=\\\"true\\\" [disabled]=\\\"!dataItem.NhomChucDanh || IsDaTuongTrinh || dataBenhNhan.IsTuongTrinhLai\\\" [popupSettings]=\\\"null\\\"\\n            [validationerror]=\\\"'Ekips['+rowIndex+'].BacSiId' | validationerror:validationErrors\\\">\\n        </app-combobox>\\n        <app-combobox *ngIf=\\\"dataItem.NhomChucDanh==1\\\" id=\\\"bac-si\\\" class=\\\"no-label\\\" label=\\\" \\\" [(model)]=\\\"dataItem.BacSiId\\\" [modelText]=\\\"dataItem.BacSi\\\" [required]=\\\"true\\\" [disabled]=\\\"!dataItem.NhomChucDanh || IsDaTuongTrinh || dataBenhNhan.IsTuongTrinhLai\\\" url=\\\"PhauThuatThuThuat/GetListBacSiDieuDuong?nhomChucDanh=1\\\"\\n            [popupSettings]=\\\"null\\\" (selectionChange)=\\\"chonBacSiDieuDuong($event, dataItem)\\\" [validationerror]=\\\"'Ekips['+rowIndex+'].BacSiId' | validationerror:validationErrors\\\">\\n        </app-combobox>\\n        <app-combobox *ngIf=\\\"dataItem.NhomChucDanh==5\\\" id=\\\"dieu-duong\\\" class=\\\"no-label\\\" label=\\\" \\\" [(model)]=\\\"dataItem.BacSiId\\\" [modelText]=\\\"dataItem.BacSi\\\" [required]=\\\"true\\\" [disabled]=\\\"!dataItem.NhomChucDanh || IsDaTuongTrinh || dataBenhNhan.IsTuongTrinhLai\\\" url=\\\"PhauThuatThuThuat/GetListBacSiDieuDuong?nhomChucDanh=5\\\"\\n            [popupSettings]=\\\"null\\\" (selectionChange)=\\\"chonBacSiDieuDuong($event, dataItem)\\\" [validationerror]=\\\"'Ekips['+rowIndex+'].BacSiId' | validationerror:validationErrors\\\">\\n        </app-combobox>\\n    </ng-template>\\n\\n    <ng-template #vaiTroTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\" class=\\\"no-label item-no-padding\\\" label=\\\" \\\">\\n        <app-dropdownlist id=\\\"bac-si-dieu-duong-vai-tro\\\" *ngIf=\\\"!dataItem.NhomChucDanh\\\" class=\\\"no-label\\\" label=\\\" \\\" [popupSettings]=\\\"null\\\" [disabled]=\\\"true\\\" [required]=\\\"IsPhauThuat\\\" [validationerror]=\\\"'Ekips['+rowIndex+'].VaiTroId' | validationerror:validationErrors\\\">\\n        </app-dropdownlist>\\n        <app-dropdownlist id=\\\"bac-si-vai-tro\\\" *ngIf=\\\"dataItem.NhomChucDanh == 1\\\" (selectionChange)=\\\"chonVaiTro($event, dataItem)\\\" class=\\\"no-label\\\" label=\\\" \\\" url=\\\"PhauThuatThuThuat/{{dataItem.UrlVaiTro}}\\\" [(model)]=\\\"dataItem.VaiTroId\\\" [modelText]=\\\"dataItem.VaiTro\\\"\\n            [popupSettings]=\\\"null\\\" [disabled]=\\\"!dataItem.NhomChucDanh || IsDaTuongTrinh || dataBenhNhan.IsTuongTrinhLai\\\" [required]=\\\"IsPhauThuat\\\" [validationerror]=\\\"'Ekips['+rowIndex+'].VaiTroId' | validationerror:validationErrors\\\">\\n        </app-dropdownlist>\\n        <app-dropdownlist id=\\\"dieu-duong-vai-tro\\\" *ngIf=\\\"dataItem.NhomChucDanh == 5\\\" (selectionChange)=\\\"chonVaiTro($event, dataItem)\\\" class=\\\"no-label\\\" label=\\\" \\\" url=\\\"PhauThuatThuThuat/{{dataItem.UrlVaiTro}}\\\" [(model)]=\\\"dataItem.VaiTroId\\\" [modelText]=\\\"dataItem.VaiTro\\\"\\n            [popupSettings]=\\\"null\\\" [disabled]=\\\"!dataItem.NhomChucDanh || IsDaTuongTrinh || dataBenhNhan.IsTuongTrinhLai\\\" [required]=\\\"IsPhauThuat\\\" [validationerror]=\\\"'Ekips['+rowIndex+'].VaiTroId' | validationerror:validationErrors\\\">\\n        </app-dropdownlist>\\n    </ng-template>\\n\\n    <ng-template #actionNhanVienTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <button [disabled]=\\\"IsDaTuongTrinh || dataBenhNhan.IsTuongTrinhLai\\\" color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" type=\\\"button\\\" (click)=\\\"xoaNhanVien(dataItem)\\\">\\n                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n            </button>\\n        </div>\\n    </ng-template>\\n</div>\\n<label class=\\\"red\\\" [innerHTML]=\\\"validationMsg\\\"></label>\\n\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <app-textbox id=\\\"khoa-phong\\\" fxFlex=\\\"20%\\\" label=\\\"Khoa phòng\\\" [(model)]=\\\"ekip.KhoaPhong\\\" [disabled]=\\\"true\\\">\\n    </app-textbox>\\n    \\n    <app-textarea id=\\\"chan-doan-vao-khoa\\\" fxFlex=\\\"40%\\\" [(model)]=\\\"ekip.ChanDoanKhoa\\\" label=\\\"Chẩn đoán vào khoa\\\" [disabled]=\\\"true\\\">\\n    </app-textarea>\\n\\n    <app-textarea id=\\\"mo-ta-chan-doan-vao-khoa\\\" fxFlex=\\\"40%\\\" [(model)]=\\\"ekip.GhiChuChanDoanKhoa\\\" label=\\\"Mô tả\\\" [disabled]=\\\"true\\\">\\n    </app-textarea>\\n    <app-combobox popupSettings=\\\"null\\\" id=\\\"cd-truoc-phau-thuat\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh || thongTinBenhNhan.IsTuongTrinhLai\\\" [required]=\\\"true\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"CĐ trước phẫu thuật\\\" class=\\\"item-no-padding\\\" url=\\\"DieuTriNoiTru/GetChanDoanICD\\\" [template]=\\\"truocPhauThuatTemplate\\\"\\n        [templateHeader]=\\\"truocPhauThuatTemplateHeader\\\" [(model)]=\\\"ekip.ICDTruocId\\\" [modelText]=\\\"ekip.ICDTruoc\\\" (selectionChange)=\\\"OnChange()\\\" #cdTruocPhauThuat [validationerror]=\\\"'ICDTruocId' | validationerror:validationErrors\\\">\\n        <ng-template #truocPhauThuatTemplateHeader let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <th width=\\\"20%\\\">Mã</th>\\n                    <th>Tên</th>\\n                </tr>\\n            </table>\\n        </ng-template>\\n        <ng-template #truocPhauThuatTemplate let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                    <td>{{dataItem.TenTiengViet}}</td>\\n                </tr>\\n            </table>\\n        </ng-template>\\n    </app-combobox>\\n\\n<app-pttt-ekip-thuc-hien-nv fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [IsDaTuongTrinh]=\\\"IsDaTuongTrinh\\\" [IsPhauThuat]=\\\"ekip.IsPhauThuat\\\" [dataBenhNhan]=\\\"thongTinBenhNhan\\\" [ycdvktId]=\\\"ycdvktId\\\" (outDisplaySaveCancel)=\\\"OnChange()\\\" #ekipGrid>\\n</app-pttt-ekip-thuc-hien-nv>\\n\\n\\n<app-textarea id=\\\"ghi-chu-ca-pt\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"ekip.GhiChuCaPTTT\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh || thongTinBenhNhan.IsTuongTrinhLai\\\" label=\\\"Ghi chú\\\" (modelChange)=\\\"OnChange()\\\">\\n</app-textarea>\\n</div>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Chỉnh Sửa {{ptttVatTuThuoc.NhomYeuCauId == nhomGoiDichVu.VatTuTieuHao ? 'Vật Tư' : 'Thuốc'}} Chi Tiết</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"height: 210px;\\\">\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3\\\">\\n            <legend>\\n                Thông tin {{ptttVatTuThuoc.NhomYeuCauId == nhomGoiDichVu.VatTuTieuHao ? 'vật tư' : 'thuốc'}}\\n            </legend>\\n\\n            <div fxLayout=\\\"column\\\">\\n                <ul class=\\\"inline\\\">\\n                    <li>{{ptttVatTuThuoc.NhomYeuCauId == nhomGoiDichVu.VatTuTieuHao ? 'Vật tư' : 'Thuốc'}}: &nbsp;<strong>{{thongTinVatTu.Ten}}</strong></li>\\n                    <li>Mã: &nbsp;<strong>{{thongTinVatTu.Ma}}</strong></li>\\n                    <li>Đơn vị tính: &nbsp;<strong>{{thongTinVatTu.DVT}}</strong></li>\\n                    <li>Nhà SX: &nbsp;<strong>{{thongTinVatTu.NhaSX}}</strong></li>\\n                    <li>Nước SX: &nbsp;<strong>{{thongTinVatTu.NuocSX}}</strong></li>\\n                </ul>\\n            </div>\\n        </fieldset>\\n    </div>\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <fieldset fxFlex=\\\"100%\\\" class=\\\"mb-3 mt-3\\\">\\n            <legend>\\n                Thông tin chỉnh sửa\\n            </legend>\\n\\n            <div fxLayout=\\\"column\\\">\\n                <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\"\\n                    style=\\\"padding-top: 16px;\\\">\\n                    <app-textboxnumeric id=\\\"SoLuongAdd\\\" fxFlex=\\\"70%\\\" fxFlex.sm=\\\"70%\\\" label=\\\"Số lượng\\\"\\n                        [min]=\\\"ptttVatTuThuoc.LoaiKho == 5 ? 0.01 : 1\\\" max=\\\"999999999\\\"\\n                        [format]=\\\"ptttVatTuThuoc.LoaiKho == 5 ? format : ''\\\" [decimals]=\\\"ptttVatTuThuoc.LoaiKho == 5 ? 2 : 0\\\"\\n                        [(model)]=\\\"ptttVatTuThuoc.SoLuong\\\"\\n                        (keyup)=\\\"onKey($event)\\\" \\n                        [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\" required=\\\"true\\\">\\n                    </app-textboxnumeric>\\n                    <div fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\">\\n                        <div class=\\\"container-custom no-label\\\">\\n                            <label>&nbsp;</label>\\n                            <div fxLayout=\\\"row\\\" fxLayoutGap=\\\"16px\\\">\\n                                <app-checkbox fxFlex=\\\"100%\\\" id=\\\"vehicle1KhuVucVT1\\\" [(model)]=\\\"ptttVatTuThuoc.TinhPhi\\\"\\n                                    label=\\\"Tính phí\\\" value=\\\"true\\\"></app-checkbox>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </fieldset>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"float-right\\\">\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" mat-dialog-close>Hủy</button>\\n    <button tabindex=\\\"-1\\\" type=\\\"button\\\" (click)=\\\"luuVatTu()\\\" mat-stroked-button color=\\\"primary\\\" class=\\\"md-primary\\\">Cập\\n        nhật</button>\\n</mat-dialog-actions>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Yêu Cầu Trả {{thongTinTraVT.NhomYeuCauId == nhomGoiDichVu.VatTuTieuHao ? 'Vật Tư' : 'Thuốc 1'}}</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content class=\\\"minHeight310\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"5px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <div fxFlex=\\\"100%\\\">\\n            <ul class=\\\"inline\\\">\\n                <li>{{thongTinTraVT.NhomYeuCauId == nhomGoiDichVu.VatTuTieuHao ? 'Vật tư' : 'Thuốc'}}: &nbsp;<strong>{{thongTinHoanTraVTVo.Ten}}</strong></li>\\n                <li>Kho: &nbsp;<strong>{{thongTinHoanTraVTVo.TenKho}}</strong></li>\\n            </ul>\\n        </div>\\n\\n        <div fxFlex=\\\"100%\\\" *ngFor=\\\"let item of thongTinHoanTraVTVo.YeuCauDuocPhamVatTuBenhViens; let i = index\\\">\\n            <ul class=\\\"inline\\\">\\n                <li>Số lượng: &nbsp;<strong>{{item.SoLuong | number:'0.2'}}</strong></li>\\n                <li>Đơn giá: &nbsp;<strong>{{item.DonGia | number:'0.2-2':'vi-VN'}}</strong></li>\\n                <li>Thành tiền: &nbsp;<strong>{{item.ThanhTien | number:'0.2-2':'vi-VN'}}</strong></li>\\n                <li>Số lượng đã trả: &nbsp;<strong>{{item.SoLuongDaTra | number:'0.2'}}</strong></li>\\n                <li>\\n                    <div style=\\\"display: inline-flex;line-height: 40px;\\\" *ngIf=\\\"thongTinTraVT.SoLuong != 0\\\">\\n                        <span>Số lượng trả lần này: &nbsp;</span>\\n                        <app-textboxnumeric style=\\\"width:100px;padding: 0\\\" id=\\\"SoLuongTra\\\" min=\\\"0\\\" max=\\\"999999\\\" [required]=\\\"true\\\" [(model)]=\\\"item.SoLuongTra\\\" label=\\\" \\\" class=\\\"no-label\\\" \\n                            [validationerror]=\\\"'YeuCauDuocPhamVatTuBenhViens[' + i + '].SoLuongTra' | validationerror:validationErrors\\\">\\n                        </app-textboxnumeric>\\n                    </div>\\n                </li>\\n            </ul>\\n        </div>\\n        <div fxFlex=\\\"100%\\\">\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" style=\\\"padding-top: 16px;\\\">\\n                <app-combobox *ngIf=\\\"thongTinTraVT.SoLuong != 0\\\" id=\\\"NguoiTra\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"40%\\\" label=\\\"Người trả\\\" url=\\\"ToaThuocMau/BacSiKeToa\\\" popupSettings=\\\"null\\\" [required]=\\\"true\\\" [(model)]=\\\"thongTinHoanTraVTVo.NhanVienYeuCauId\\\" [modelText]=\\\"thongTinHoanTraVTVo.TenNhanVienYeuCau\\\"\\n                    [validationerror]=\\\"'NhanVienYeuCauId' | validationerror:validationErrors\\\">\\n                </app-combobox>\\n\\n                <app-datepicker *ngIf=\\\"thongTinTraVT.SoLuong != 0\\\" id=\\\"NgayYeuCau\\\" fxFlex=\\\"20%\\\" [(model)]=\\\"thongTinHoanTraVTVo.NgayYeuCau\\\" required=\\\"true\\\" label=\\\"Ngày trả\\\" [validationerror]=\\\"'NgayYeuCau' | validationerror:validationErrors\\\">\\n                </app-datepicker>\\n                <div fxFlex=\\\"60%\\\" fxLayoutAlign=\\\"end center\\\" kendoTooltip>\\n                    <button *ngIf=\\\"thongTinTraVT.SoLuong != 0\\\" type=\\\"button\\\" mat-button class=\\\"mr-2\\\" (click)=\\\"huy()\\\">Hủy</button>\\n                    <button *ngIf=\\\"(thongTinTraVT.CoYeuCauTraVTTuBenhNhanChiTiet && thongTinTraVT.SoLuong != 0)\\\" type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"luu()\\\">Lưu</button>\\n                    <button *ngIf=\\\"(!thongTinTraVT.CoYeuCauTraVTTuBenhNhanChiTiet && thongTinTraVT.SoLuong != 0 )\\n                    || (thongTinTraVT.CoYeuCauTraVTTuBenhNhanChiTiet && thongTinTraVT.SoLuong != 0)\\\" type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"luu()\\\">Thêm</button>\\n                </div>\\n\\n            </div>\\n        </div>\\n    </div>\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"10px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <h1 fxFlex=\\\"100%\\\" class=\\\"sub-titlewithh1  mr-4 mt-0\\\">DS CÁC LẦN TRẢ</h1>\\n        <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" fxLayout=\\\"row wrap\\\" fxLayoutGap=\\\"16px grid\\\" fxLayout.lt-md=\\\"column\\\">\\n            <app-grid fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" urlGetData=\\\"PhauThuatThuThuat/GetDataForGridDanhSachVatTuThuocHoanTraPTTT\\\" [gridColumns]=\\\"gridColumns\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"false\\\" [removeGroupFooterIfIsOnlyOne]=\\\"true\\\"\\n                [checkboxAble]=\\\"false\\\" [additionalSearchString]=\\\"additionString\\\" [pageable]=\\\"false\\\" [autoHeight]=\\\"true\\\">\\n            </app-grid>\\n\\n            <ng-template #tinhTrangTemplate let-dataItem>\\n                <label *ngIf=\\\"dataItem.DuocDuyet == null\\\">\\n                    <strong><span>{{dataItem.TinhTrang}}</span></strong>\\n                </label>\\n                <label *ngIf=\\\"dataItem.DuocDuyet == true\\\" class=\\\"green\\\">\\n                    <strong><span>{{dataItem.TinhTrang}}</span></strong>\\n                </label>\\n                <label *ngIf=\\\"dataItem.DuocDuyet == false\\\" class=\\\"red\\\">\\n                    <strong><span>{{dataItem.TinhTrang}}</span></strong>\\n                </label>\\n            </ng-template>\\n\\n            <ng-template #ngayTraTemplate let-datathongTinHoanTraVTVo>\\n                {{datathongTinHoanTraVTVo.NgayTraDisplay}}\\n            </ng-template>\\n\\n            <ng-template #ngayTaoTemplate let-datathongTinHoanTraVTVo>\\n                {{datathongTinHoanTraVTVo.NgayTaoDisplay}}\\n            </ng-template>\\n        </div>\\n    </div>\\n</mat-dialog-content>\"","export default \"<!-- Ghi nhận vật tư y tế/thuốc -->\\n<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <app-radio fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"ket_luan\\\" name=\\\"ketLuan\\\" label=\\\"Loại\\\" [items]=\\\"radioVatTuThuoc\\\"\\n        [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.GiaiDoanPhauThuat\\\">\\n    </app-radio>\\n\\n    <div fxFlex=\\\"100%\\\">\\n        <a (click)=\\\"themDuocPhamVatTuTuGoi()\\\"\\n            style=\\\"color:blue; text-decoration: underline; font-weight: bold; bottom: 20px;\\\">Thêm DP/VT từ gói trong\\n            DVKT</a>\\n    </div>\\n\\n    <app-combobox id=\\\"khoSuDung\\\" fxFlex=\\\"25%\\\" label=\\\"Kho sử dụng\\\" class=\\\"item-no-padding\\\" required=\\\"true\\\"\\n        url=\\\"KhamBenh/GetListKhoSapXepUutien\\\" [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.KhoId\\\"\\n        [modelText]=\\\"chiDinhGhiNhanVatTuThuoc.TenKho\\\" (modelChange)=\\\"changeKhoSuDung($event)\\\"\\n        [autoSelectFirstItem]=\\\"true\\\" bind=\\\"{{true}}\\\" [validationerror]=\\\"'KhoId' | validationerror: validationErrors\\\"\\n        (keyup)=\\\"onKeyEnterAddItem($event)\\\" (openCombobox)=\\\"openCombobox($event)\\\">\\n    </app-combobox>\\n\\n    <app-radio *ngIf=\\\"showGhiNhanCoBHYT\\\" fxFlex=\\\"15%\\\" fxFlex.sm=\\\"15%\\\" id=\\\"isBHYT\\\"\\n        [items]=\\\"[{ Value: true, Text: 'Có' }, { Value: false, Text: 'Không' }]\\\"\\n        [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.LaDuocPhamBHYT\\\" label=\\\"BHYT\\\" (modelChange)=\\\"changeBHYT($event)\\\">\\n    </app-radio>\\n\\n    <app-combobox #lstVTTHThuocCombobox id=\\\"lstVTTHThuoc\\\" fxFlex=\\\"45%\\\" fxFlex.sm=\\\"45%\\\" class=\\\"item-no-padding\\\"\\n        required=\\\"true\\\" url=\\\"KhamBenh/GetListVatTuTieuHaoThuoc\\\" label=\\\"Vật tư/Thuốc\\\"\\n        [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.DichVuGhiNhanId\\\" [modelText]=\\\"chiDinhGhiNhanVatTuThuoc.TenDichVuGhiNhan\\\"\\n        (selectionChange)=\\\"chonDichVuTieuHao($event)\\\"\\n        [queryInfo]=\\\"{ ParameterDependencies: '{ KhoId:' + (chiDinhGhiNhanVatTuThuoc.KhoId ? chiDinhGhiNhanVatTuThuoc.KhoId : 0) + ', LaDuocPhamBHYT:' + chiDinhGhiNhanVatTuThuoc.LaDuocPhamBHYT +'}', Take: 50 }\\\"\\n        [templateHeader]=\\\"vatTuChiDinhTemplateHeader\\\" [template]=\\\"vatTuChiDinhTemplate\\\"\\n        [validationerror]=\\\"'DichVuGhiNhanId' | validationerror:validationErrors\\\" (keyup)=\\\"onKeyEnterAddItem($event)\\\"\\n        (openCombobox)=\\\"openCombobox($event)\\\" [isAutoFocus]=\\\"true\\\"\\n        [popupSettings]=\\\"{width: 900,popupClass:'item-no-padding'}\\\">\\n\\n        <ng-template #vatTuChiDinhTemplateHeader let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <th width=\\\"30%\\\">Tên</th>\\n                    <th width=\\\"10%\\\">Hàm lượng</th>\\n                    <th width=\\\"10%\\\">Hoạt Chất</th>\\n                    <th width=\\\"10%\\\">ĐVT</th>\\n                    <th width=\\\"10%\\\">Đường dùng</th>\\n                    <th width=\\\"20%\\\">NSX</th>\\n                    <th width=\\\"10%\\\">Tồn</th>\\n                </tr>\\n            </table>\\n        </ng-template>\\n        <ng-template #vatTuChiDinhTemplate let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <td width=\\\"30%\\\">{{dataItem.DisplayName}}</td>\\n                    <td width=\\\"10%\\\">{{dataItem.HamLuong}}</td>\\n                    <td width=\\\"10%\\\">{{dataItem.HoatChat}}</td>\\n                    <td width=\\\"10%\\\">{{dataItem.DonViTinh}}</td>\\n                    <td width=\\\"10%\\\">{{dataItem.DuongDung}}</td>\\n                    <td width=\\\"20%\\\">{{dataItem.NhaSanXuat}}</td>\\n                    <td width=\\\"10%\\\">{{dataItem.SoLuongTonDisplay}}</td>\\n                </tr>\\n            </table>\\n        </ng-template>\\n    </app-combobox>\\n\\n    <app-textbox fxFlex=\\\"15%\\\" label=\\\"ĐVT\\\" required=\\\"true\\\" disabled=\\\"{{true}}\\\"\\n        [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.strDonViTinh\\\" class=\\\"item-no-padding\\\"\\n        [validationerror]=\\\"'strDonViTinh' | validationerror:validationErrors\\\">\\n    </app-textbox>\\n\\n    <app-textboxnumeric *ngIf=\\\"currentLoaiKho && currentLoaiKho == 5\\\" fxFlex=\\\"15%\\\" label=\\\"Số lượng\\\" required=\\\"true\\\"\\n        [min]=\\\"0.01\\\" [max]=\\\"999999999\\\" [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.SoLuong\\\" [format]=\\\"format\\\" [decimals]=\\\"2\\\"\\n        [validationerror]=\\\"'SoLuong' | validationerror: validationErrors\\\" (keyup)=\\\"onKeyEnterAddItem($event)\\\"\\n        (openCombobox)=\\\"openCombobox($event)\\\">\\n    </app-textboxnumeric>\\n\\n    <app-textboxnumeric *ngIf=\\\"currentLoaiKho != 5\\\" fxFlex=\\\"15%\\\" label=\\\"Số lượng\\\" required=\\\"true\\\" [min]=\\\"1\\\"\\n        [max]=\\\"999999999\\\" [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.SoLuong\\\"\\n        [validationerror]=\\\"'SoLuong' | validationerror: validationErrors\\\" (keyup)=\\\"onKeyEnterAddItem($event)\\\"\\n        (openCombobox)=\\\"openCombobox($event)\\\">\\n    </app-textboxnumeric>\\n\\n    <div fxFlex=\\\"15%\\\" fxFlex.sm=\\\"15%\\\">\\n        <div class=\\\"container-custom no-label\\\">\\n            <label>&nbsp;</label>\\n            <div fxLayout=\\\"row\\\" fxLayoutGap=\\\"16px\\\">\\n                <app-checkbox fxFlex=\\\"100%\\\" id=\\\"TinhPhiVTTH\\\" [(model)]=\\\"chiDinhGhiNhanVatTuThuoc.TinhPhi\\\"\\n                    label=\\\"Tính phí\\\" value=\\\"true\\\"></app-checkbox>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div kendoTooltip class=\\\"sticky-button-action py-3 text-right full-width-row\\\">\\n        <!-- Xuất sau khi thêm -->\\n        <!-- <button type=\\\"button\\\" mat-button mat-raised-button color=\\\"primary\\\" class=\\\"float-left\\\" (click)=\\\"xuatGhiNhanVatTuBenhVien()\\\">Xuất</button> -->\\n\\n        <button type=\\\"button\\\" color=\\\"primary\\\" mat-button class=\\\"mr-2\\\" title=\\\"Phím tắt: Chưa có\\\"\\n            (click)=\\\"huyGhiNhanVatTuBenhVien()\\\">Huỷ</button>\\n        <button type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button title=\\\"Phím tắt: Chưa có\\\"\\n            (click)=\\\"themGhiNhanVatTuBenhVien()\\\">Thêm</button>\\n    </div>\\n\\n    <app-grid #gridVTTHThuoc fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" style=\\\"width: 1px;\\\" [gridColumns]=\\\"gridVTTHThuocColumns\\\"\\n        [allowSortDefault]=\\\"true\\\" [gridDataSource]=\\\"gridDataSourceVTTHThuoc\\\" [documentType]=\\\"documentType\\\"\\n        [useAddDeault]=\\\"false\\\" [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n        [lazyLoadPage]=\\\"true\\\" maxHeight=\\\"500\\\" [pageable]=\\\"false\\\" [groups]=\\\"groupsGhiNhanVTHHThuoc\\\"\\n        masterName=\\\"gridVTTHThuoc\\\" [removeGroupFooterIfIsOnlyOne]=\\\"true\\\" reorderRowsMoveItemData=\\\"true\\\">\\n    </app-grid>\\n    <div class=\\\"gripViewGoiDichViKhacTemplate\\\">\\n        <ng-template #sttTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            {{rowIndex + 1}}\\n        </ng-template>\\n\\n        <ng-template #nhomGroupHeaderTemplate let-value=\\\"value\\\">\\n            <strong>{{value}}</strong>\\n        </ng-template>\\n\\n        <ng-template #donGiaTemplate let-dataItem>\\n            <!-- {{dataItem.DonGia | number:'0.2-2':'vi-VN'}} -->\\n            <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n                {{item.DonGia | number:'0.2-2':'vi-VN'}}\\n            </p>\\n        </ng-template>\\n\\n        <ng-template #soLuongGhiNhanVTTHThuocTemplate let-dataItem>\\n            <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n                <ng-container *ngIf=\\\"dataItem.LoaiKho == 5\\\">{{item.SoLuong | number:'0.2'}}</ng-container>\\n                <ng-container *ngIf=\\\"dataItem.LoaiKho != 5\\\">{{item.SoLuong | number}}</ng-container>\\n            </p>\\n\\n        </ng-template>\\n\\n        <ng-template #thanhTienTemplate let-dataItem>\\n            <!-- {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}} -->\\n            <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n                {{item.ThanhTien | number:'0.2-2':'vi-VN'}}\\n            </p>\\n        </ng-template>\\n\\n        <ng-template #thanhTienGhiNhanVTTHThuocFooterTemplate let-dataItem>\\n            <span style=\\\"color:blue\\\">{{totalGhiNhanVTTHThuoc('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n        </ng-template>\\n\\n        <ng-template #thanhTienGhiNhanVTTHThuocGroupFooterTemplate let-aggregates>\\n            {{aggregates.ThanhTien.sum | number:'0.2-2':'vi-VN'}}\\n        </ng-template>\\n\\n        <ng-template #donGiaBaoHiemTemplate let-dataItem>\\n            <!-- {{dataItem.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}} -->\\n            <ng-container *ngIf=\\\"dataItem.DonGiaBaoHiem != null\\\">\\n                {{dataItem.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}}\\n            </ng-container>\\n            <ng-container *ngIf=\\\"dataItem.DonGiaBaoHiem == null\\\">\\n                <p *ngFor=\\\"let item of dataItem.ThongTinGias\\\">\\n                    {{item.DonGiaBaoHiem | number:'0.2-2':'vi-VN'}}\\n                </p>\\n            </ng-container>\\n        </ng-template>\\n\\n        <ng-template #duocHuongBaoHiemGhiNhanVHTTTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            <app-checkbox id=\\\"duocHuongBaoHiem{{rowIndex}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.DuocHuongBaoHiem\\\"\\n                disabled=\\\"{{true}}\\\">\\n            </app-checkbox>\\n        </ng-template>\\n\\n        <ng-template #tinhPhiGhiNhanVHTTTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n            <!-- <app-checkbox id=\\\"tinhPhiGhiNhanVTTH{{rowIndex}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.TinhPhi\\\"\\n                disabled=\\\"{{true}}\\\">\\n            </app-checkbox> -->\\n\\n            <app-checkbox id=\\\"tinhPhiGhiNhanVTTH{{rowIndex}}\\\" label=\\\"\\\" [(model)]=\\\"dataItem.TinhPhi\\\"\\n                [disabled]=\\\"(dataItem.PhieuLinh != null && dataItem.PhieuLinh != '')\\\"\\n                (modelChange)=\\\"changeTinhPhiGhiNhanVTTH($event, dataItem)\\\">\\n            </app-checkbox>\\n        </ng-template>\\n\\n        <ng-template #actionVTTHThuocTemplate let-dataItem>\\n            <div class=\\\"text-center\\\" kendoTooltip>\\n                <button\\n                    *ngIf=\\\"dataItem.IsCoYeuCauTraVatTuThuocTuBenhNhanChiTiet && dataItem.TinhTrang && dataItem.IsKhoTong\\\"\\n                    style=\\\"color:red\\\" mat-icon-button kendoTooltip title=\\\"Hoàn trả\\\" type=\\\"button\\\"\\n                    (click)=\\\"hoanTra(dataItem)\\\">\\n                    <mat-icon [icIcon]=\\\"icReturn\\\"></mat-icon>\\n                </button>\\n                <button\\n                    *ngIf=\\\"!dataItem.IsCoYeuCauTraVatTuThuocTuBenhNhanChiTiet && dataItem.TinhTrang && dataItem.IsKhoTong\\\"\\n                    color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Hoàn trả\\\" type=\\\"button\\\"\\n                    (click)=\\\"hoanTra(dataItem)\\\">\\n                    <mat-icon [icIcon]=\\\"icReturn\\\"></mat-icon>\\n                </button>\\n\\n                <button *ngIf=\\\"!dataItem.PhieuLinh\\\" color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Sửa\\\"\\n                    type=\\\"button\\\" (click)=\\\"suaVatTuThuoc(dataItem)\\\">\\n                    <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n                </button>\\n\\n                <button *ngIf=\\\"!dataItem.PhieuLinh\\\" color=\\\"primary\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\"\\n                    type=\\\"button\\\" (click)=\\\"XoaGhiNhanVTTHThuoc(dataItem)\\\">\\n                    <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                </button>\\n            </div>\\n        </ng-template>\\n    </div>\\n</div>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <div fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n            <app-pttt-theo-doi-sinh-ton fxFlex=\\\"100%\\\" [IsDaTuongTrinh]=\\\"IsDaTuongTrinh\\\" [thongTinBenhNhan]=\\\"thongTinBenhNhan\\\" [dataChiSoSinhTon]=\\\"ketQuaSinhHieu\\\" (displayBtnForSton)=\\\"OnDisplayForBtnSton($event)\\\" #ptttStonGrid>\\n            </app-pttt-theo-doi-sinh-ton>\\n        </div>\\n    </div>\\n</div>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <app-textbox id=\\\"khoa_phong\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"20%\\\" label=\\\"Khoa phòng\\\" [(model)]=\\\"khoaPhong\\\" [disabled]=\\\"true\\\">\\n    </app-textbox>\\n    <app-textarea id=\\\"chan_doan_vao_khoa\\\" fxFlex=\\\"40%\\\" fxFlex.sm=\\\"40%\\\" label=\\\"Chẩn đoán vào khoa\\\" [(model)]=\\\"pTTT.ChanDoanKhoa\\\" [disabled]=\\\"true\\\">\\n    </app-textarea>\\n\\n    <app-textarea id=\\\"mo_ta_chan_doan_vao_khoa\\\" [(model)]=\\\"pTTT.GhiChuChanDoanKhoa\\\" fxFlex=\\\"40%\\\" fxFlex.sm=\\\"40%\\\" label=\\\"Mô tả\\\" [disabled]=\\\"true\\\">\\n    </app-textarea>\\n\\n    <app-datetimepicker id=\\\"thoi_gian_bd_gay_me\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh\\\" (modelChange)=\\\"OnChange()\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"33%\\\" label=\\\"Thời gian bắt đầu gây mê\\\" [formatDate]=\\\"'dd/MM/yyyy HH:mm'\\\" [(model)]=\\\"pTTT.ThoiGianBatDauGayMe\\\"\\n        [validationerror]=\\\"'ThoiGianBatDauGayMe' | validationerror:validationErrors\\\">\\n    </app-datetimepicker>\\n\\n    <app-datetimepicker id=\\\"thoi_gian_phau_thuat\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh\\\" (modelChange)=\\\"OnChange()\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"33%\\\" label=\\\"Thời gian bắt đầu PT\\\" [formatDate]=\\\"'dd/MM/yyyy HH:mm'\\\" [(model)]=\\\"pTTT.ThoiGianPt\\\" [validationerror]=\\\"'ThoiGianPt' | validationerror:validationErrors\\\">\\n    </app-datetimepicker>\\n\\n    <app-datetimepicker id=\\\"thoi_gian_kt_phau_thuat\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh\\\" (modelChange)=\\\"OnChange()\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"33%\\\" label=\\\"Thời gian kết thúc PT\\\" [formatDate]=\\\"'dd/MM/yyyy HH:mm'\\\" [(model)]=\\\"pTTT.ThoiGianKetThucPt\\\"\\n        [validationerror]=\\\"'ThoiGianKetThucPt' | validationerror:validationErrors\\\">\\n    </app-datetimepicker>\\n\\n    <app-combobox popupSettings=\\\"null\\\" id=\\\"cd-truoc-phau-thuat\\\" (selectionChange)=\\\"OnChange()\\\" fxFlex=\\\"40%\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh\\\" fxFlex.sm=\\\"40%\\\" label=\\\"CĐ trước phẫu thuật\\\" class=\\\"item-no-padding\\\" url=\\\"DieuTriNoiTru/GetChanDoanICD\\\" [template]=\\\"truocPhauThuatTemplate\\\"\\n        [templateHeader]=\\\"truocPhauThuatTemplateHeader\\\" [(model)]=\\\"pTTT.ICDTruocId\\\" [modelText]=\\\"pTTT.ICDTruoc\\\" #cdTruocPhauThuat>\\n        <ng-template #truocPhauThuatTemplateHeader let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <th width=\\\"20%\\\">Mã</th>\\n                    <th>Tên</th>\\n                </tr>\\n            </table>\\n        </ng-template>\\n        <ng-template #truocPhauThuatTemplate let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                    <td>{{dataItem.TenTiengViet}}</td>\\n                </tr>\\n            </table>\\n        </ng-template>\\n    </app-combobox>\\n\\n    <app-textbox id=\\\"mo-ta-cd-truoc-phau-thuat\\\" (modelChange)=\\\"OnChange()\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"60%\\\" maxlength=\\\"4000\\\" fxFlex.sm=\\\"60%\\\" label=\\\"Mô tả\\\" [(model)]=\\\"pTTT.MoTaCDTruocPhauThuat\\\" [validationerror]=\\\"'MoTaCDTruocPhauThuat' | validationerror:validationErrors\\\">\\n    </app-textbox>\\n\\n    <app-combobox popupSettings=\\\"null\\\" id=\\\"cd_sau_phau_thuat\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh\\\" (selectionChange)=\\\"OnChange()\\\" fxFlex=\\\"40%\\\" fxFlex.sm=\\\"40%\\\" label=\\\"CĐ sau phẫu thuật\\\" class=\\\"item-no-padding\\\" url=\\\"DieuTriNoiTru/GetChanDoanICD\\\" [templateHeader]=\\\"sauPhauThuatTemplateHeader\\\"\\n        [template]=\\\"sauPhauThuatTemplate\\\" [(model)]=\\\"pTTT.ICDSauId\\\" [modelText]=\\\"pTTT.ICDSau\\\" #cdSauPhauThuat>\\n        <ng-template #sauPhauThuatTemplateHeader let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <th width=\\\"20%\\\">Mã</th>\\n                    <th>Tên</th>\\n                </tr>\\n            </table>\\n        </ng-template>\\n        <ng-template #sauPhauThuatTemplate let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                    <td>{{dataItem.TenTiengViet}}</td>\\n                </tr>\\n            </table>\\n        </ng-template>\\n    </app-combobox>\\n\\n    <app-textbox id=\\\"mo-ta-cd-sau-phau-thuat\\\" (modelChange)=\\\"OnChange()\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh\\\" maxlength=\\\"4000\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"60%\\\" fxFlex.sm=\\\"60%\\\" label=\\\"Mô tả\\\" [(model)]=\\\"pTTT.MoTaCDSauPhauThuat\\\" [validationerror]=\\\"'MoTaCDSauPhauThuat' | validationerror:validationErrors\\\">\\n    </app-textbox>\\n\\n    <app-multiselect popupSettings=\\\"null\\\" id=\\\"phuong-phap-pttt\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Phương Pháp PTTT\\\" class=\\\"item-no-padding\\\" url=\\\"KhamBenh/GetListPhuongPhapPTTT\\\" [template]=\\\"phuongPhapTemplate\\\"\\n        [templateHeader]=\\\"phuongPhapTemplateHeader\\\" [(model)]=\\\"pTTT.MaPtttFormat\\\" (modelChange)=\\\"onChangePhauThuatThuThuat($event)\\\" #phuongPhapPttt>\\n        <ng-template #phuongPhapTemplateHeader let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <th width=\\\"20%\\\">Mã</th>\\n                    <th>Tên PTTT</th>\\n                </tr>\\n            </table>\\n        </ng-template>\\n        <ng-template #phuongPhapTemplate let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                    <td>{{dataItem.Ten}}</td>\\n                </tr>\\n            </table>\\n        </ng-template>\\n    </app-multiselect>\\n\\n    <!-- Update loại PTTT (BVHD-3180) -->\\n    <!-- <app-dropdownlist popupSettings=\\\"null\\\" id=\\\"loai_pttt\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh\\\"\\n        (selectionChange)=\\\"OnChange()\\\" fxFlex=\\\"40%\\\" class=\\\"item-no-padding\\\" label=\\\"Loại PTTT\\\" url=\\\"KhamBenh/GetLoaiPttt\\\"\\n        [(model)]=\\\"pTTT.LoaiPttt\\\" [modelText]=\\\"pTTT.LoaiPtttDisplay\\\">\\n    </app-dropdownlist> -->\\n    <app-textbox id=\\\"loai_pttt\\\" [disabled]=\\\"true\\\" class=\\\"item-no-padding\\\" label=\\\"Loại PTTT\\\" [(model)]=\\\"pTTT.LoaiPhauThuatThuThuat\\\">\\n    </app-textbox>\\n\\n    <app-combobox popupSettings=\\\"null\\\" #phuongPhapVoCam id=\\\"pp_vo_cam\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh\\\" (selectionChange)=\\\"OnChange()\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"60%\\\" fxFlex.sm=\\\"60%\\\" label=\\\"PP Vô Cảm\\\" url=\\\"KhamBenh/GetListPhuongPhapVoCam\\\" [templateHeader]=\\\"phuongPhapVoCamTemplateHeader\\\"\\n        [template]=\\\"phuongPhapVoCamTemplate\\\" [(model)]=\\\"pTTT.PpVoCamId\\\" [modelText]=\\\"pTTT.PpVoCam\\\">\\n        <ng-template #phuongPhapVoCamTemplateHeader let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <th width=\\\"20%\\\">Mã</th>\\n                    <th>Tên</th>\\n                </tr>\\n            </table>\\n        </ng-template>\\n        <ng-template #phuongPhapVoCamTemplate let-dataItem>\\n            <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                <tr>\\n                    <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                    <td>{{dataItem.Ten}}</td>\\n                </tr>\\n            </table>\\n        </ng-template>\\n    </app-combobox>\\n\\n    <app-textbox id=\\\"pttt_vien_chinh\\\" class=\\\"item-no-padding\\\" fxFlex=\\\"40%\\\" fxFlex.sm=\\\"40%\\\" label=\\\"PTTT viên chính\\\" [(model)]=\\\"pTTTChinh\\\" [disabled]=\\\"true\\\">\\n    </app-textbox>\\n\\n    <app-dropdownlist popupSettings=\\\"null\\\" id=\\\"tinh-hinh-pttt\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh\\\" (selectionChange)=\\\"OnChange()\\\" class=\\\"item-no-padding\\\" label=\\\"Tình Hình PTTT\\\" fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\" url=\\\"KhamBenh/GetTinhHinhPttt\\\" [(model)]=\\\"pTTT.TinhHinhPttt\\\"\\n        [modelText]=\\\"pTTT.TinhHinHPtttDisplay\\\" [popupSettings]=\\\"null\\\">\\n    </app-dropdownlist>\\n\\n    <app-dropdownlist popupSettings=\\\"null\\\" id=\\\"tai-bien-pttt\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh\\\" (selectionChange)=\\\"OnChange()\\\" class=\\\"item-no-padding\\\" label=\\\"Tai Biến PTTT\\\" fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\" url=\\\"KhamBenh/GetTaiBienPttt\\\" [(model)]=\\\"pTTT.TaiBienPttt\\\"\\n        [modelText]=\\\"pTTT.TaiBienPtttDisplay\\\" [popupSettings]=\\\"null\\\">\\n    </app-dropdownlist>\\n\\n    <app-textarea id=\\\"trinh_tu_pttt\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh\\\" (modelChange)=\\\"OnChange()\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"4000\\\" label=\\\"Trình tự phẫu thuật\\\" [(model)]=\\\"pTTT.TrinhTuPttt\\\" [validationerror]=\\\"'TrinhTuPttt' | validationerror:validationErrors\\\">\\n    </app-textarea>\\n</div>\\n\\n\\n<!-- show thông tin hinh ảnh liên quan Lược đồ phẫu thuật -->\\n<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mr-4\\\">LƯỢC ĐỒ PTTT\\n        <button class=\\\"po-h\\\" color=\\\"primary\\\" (click)=\\\"UpLoadFile()\\\" [disabled]=\\\"!canChange || IsDaTuongTrinh\\\">\\n            <mat-icon [icIcon]=\\\"icAddCircle\\\"></mat-icon>\\n        </button>\\n    </h3>\\n\\n    <ng-container *ngIf=\\\"pTTT.LuocDoPhauThuats.length === 0\\\">\\n        <p>Chưa có lược đồ PTTT</p>\\n    </ng-container>\\n\\n    <div fxFlex=\\\"100%\\\">\\n        <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" style=\\\"padding-top: 16px;\\\">\\n            <div fxFlex=\\\"25%\\\" *ngFor=\\\"let thongTinAnh of pTTT.LuocDoPhauThuats\\\">\\n                <div class=\\\"card overflow-hidden\\\" style=\\\"border: 1px solid #ccc;position: relative;\\\">\\n                    <mat-icon *ngIf=\\\"!IsDaTuongTrinh\\\" [icIcon]=\\\"icClose\\\" class=\\\"icon-close\\\" (click)=\\\"DeleteAnh(thongTinAnh)\\\"></mat-icon>\\n                    <div class=\\\"mat-ripple p-4 text-center hover:bg-hover trans-ease-out cursor-pointer relative\\\">\\n                        <img (click)=\\\"ViewImage(thongTinAnh)\\\" src=\\\"{{thongTinAnh.LuocDoPhauThuat}}\\\" class=\\\"mx-auto\\\" />\\n                    </div>\\n                    <div class=\\\"bg-app-bar p-2\\\">\\n                        <p>{{thongTinAnh.MoTa}}</p>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <label *ngIf=\\\"showValidationMoTa\\\" class=\\\"red\\\" [innerHTML]=\\\"'MoTa' | validationerror:validationErrors\\\"></label>\\n</div>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>Kết thúc PT/TT</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"height: 10vh;flex-direction: column;display: flex;overflow: hidden;\\\">\\n    <p style=\\\"margin-top: 10px;\\\">{{messageShowInPopup}}</p>\\n    <div style=\\\"flex-direction: row;justify-content: flex-end;align-items: flex-end;display: flex;margin: 0;\\\" fxFlex=\\\"100%\\\">\\n        <button type=\\\"button\\\" color=\\\"primary\\\" mat-stroked-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"close()\\\">Không</button>\\n        <button type=\\\"button\\\" style=\\\"background: #005dab; color: white;\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"ketThuc()\\\">Có</button>\\n    </div>\\n</mat-dialog-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PhauThuatThuThuatTheoNgayComponent } from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-ngay.component';\n// import { LichSuPhauThuatThuThuatComponent } from './lich-su-phau-thuat-thu-thuat/lich-su-phau-thuat-thu-thuat.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { PermisssionGuard } from 'src/app/core/guards/permission-guard.service';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: PhauThuatThuThuatTheoNgayComponent,\n        data: {\n            title: \"Phẫu Thuật Thủ Thuật Theo Ngày\",\n            DocumentType: DocumentType.PhauThuatThuThuatTheoNgay,\n            SecurityOperation: SecurityOperation.View\n        },\n        canActivate: [PermisssionGuard]\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\n\nexport class PhauThuatThuThuatRoutingModule { }\n","export default \".menu-form-wrapper .mat-menu-content {\\n  padding: 8px;\\n}\\n\\n.po-right {\\n  text-align: right;\\n  flex-grow: 1;\\n}\\n\\n.d-unset {\\n  display: unset !important;\\n}\\n\\nkendo-splitter {\\n  border-width: 0px !important;\\n  min-height: 100px;\\n}\\n\\nkendo-splitter ul > li.right-0 {\\n  margin-right: 0px;\\n  padding-right: 15px;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline !important;\\n}\\n\\nkendo-panelbar-item ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item .inline_b {\\n  display: inline-block !important;\\n  margin-right: 10px;\\n  padding-right: 15px;\\n}\\n\\nkendo-panelbar-item .panelbar-row {\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\\n}\\n\\nkendo-panelbar-item .panelbar-row:hover {\\n  background: rgba(227, 242, 253, 0.5);\\n}\\n\\nkendo-panelbar-item .panelbar-group-b {\\n  border-top: 1px rgba(0, 0, 0, 0.08) outset;\\n}\\n\\n.sticky-list {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 1 !important;\\n}\\n\\n.sticky-tab {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 1 !important;\\n  background: #f5f7fa;\\n  overflow-x: auto;\\n  margin-left: 5px;\\n  margin-right: 5px;\\n}\\n\\n.sticky-tab ul {\\n  margin: 0;\\n  padding-top: 10px;\\n  padding-bottom: 0;\\n  border-bottom: 1px solid #ccc;\\n}\\n\\n.sticky-tab ul li {\\n  display: inline-block;\\n  list-style-type: none;\\n  margin-right: 25px;\\n  font-size: 15px;\\n  font-weight: bold;\\n  font-style: normal;\\n  font-stretch: normal;\\n  letter-spacing: normal;\\n  color: #2e384d;\\n  cursor: pointer;\\n  transition: all 300ms linear;\\n  border-bottom: 3px solid #f5f7fa;\\n}\\n\\n.sticky-tab ul li.active {\\n  font-size: 15px;\\n  font-weight: bold;\\n  color: #005dab;\\n  border-bottom: 4px solid #005dab;\\n}\\n\\n.sticky-tab ul li:hover {\\n  border-bottom: 3px solid #005dab;\\n}\\n\\n.sticky-tab ul li.resolved {\\n  color: #005dab;\\n}\\n\\n.sticky-tab ul li.processing {\\n  color: #ff9800;\\n}\\n\\n.sticky-tab ul li.unfulfilled {\\n  color: #9e9e9e;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail {\\n  bottom: 0 !important;\\n  height: 5px !important;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail .ps-scrollbar-x {\\n  height: 5px !important;\\n}\\n\\nlegend {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\n.sticky-panelbar {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  top: 64px;\\n}\\n\\n.sticky-button-action {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  bottom: 0px;\\n  background-color: white;\\n  border-top: 1px solid var(--foreground-divider);\\n}\\n\\n.icon-bhyt {\\n  height: 15px;\\n  top: 2px;\\n  position: absolute;\\n  right: 0;\\n}\\n\\n.content-tab-popup {\\n  max-height: 385px;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n}\\n\\n.k-tabstrip-items-top-0 .k-tabstrip-items {\\n  top: 0;\\n}\\n\\n.yellowText {\\n  color: yellowgreen;\\n}\\n\\n.redText {\\n  color: red;\\n}\\n\\n.greenText {\\n  color: green;\\n}\\n\\n.orangeText {\\n  color: orange;\\n}\\n\\n.blueText {\\n  color: blue;\\n}\\n\\n.blackText {\\n  color: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9iZW5oLW5oYW4tZGEtaG9hbi10aGFuaC1wdHR0LXBvcHVwL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxccGhhdS10aHVhdC10aHUtdGh1YXRcXHBoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheVxcYmVuaC1uaGFuLWRhLWhvYW4tdGhhbmgtcHR0dC1wb3B1cFxcYmVuaC1uaGFuLWRhLWhvYW4tdGhhbmgtcHR0dC1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9iZW5oLW5oYW4tZGEtaG9hbi10aGFuaC1wdHR0LXBvcHVwL2Jlbmgtbmhhbi1kYS1ob2FuLXRoYW5oLXB0dHQtcG9wdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxvQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsMEJBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSw0Q0FBQTtBQ0NGOztBREVBO0VBQ0Usb0NBQUE7QUNDRjs7QURFQTtFQUNFLDBDQUFBO0FDQ0Y7O0FERUE7RUFDRSxTQUFBO0VBQ0EsMkJBQUE7RUFDQSxtQ0FBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSxTQUFBO0VBQ0EsMkJBQUE7RUFDQSxtQ0FBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsNkJBQUE7QUNDRjs7QURFQTtFQUNFLHFCQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7RUFDQSxzQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0VBS0EsNEJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0Usb0JBQUE7RUFDQSxzQkFBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EseUJBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0VBQ0Esd0JBQUE7RUFDQSxTQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtFQUNBLHdCQUFBO0VBQ0EsV0FBQTtFQUNBLHVCQUFBO0VBQ0EsK0NBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7RUFDQSxRQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUNDRjs7QURFQTtFQUNFLE1BQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vcGhhdS10aHVhdC10aHUtdGh1YXQvcGhhdS10aHVhdC10aHUtdGh1YXQtdGhlby1uZ2F5L2Jlbmgtbmhhbi1kYS1ob2FuLXRoYW5oLXB0dHQtcG9wdXAvYmVuaC1uaGFuLWRhLWhvYW4tdGhhbmgtcHR0dC1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tZW51LWZvcm0td3JhcHBlciAubWF0LW1lbnUtY29udGVudCB7XG4gIHBhZGRpbmc6IDhweDtcbn1cblxuLnBvLXJpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZsZXgtZ3JvdzogMTtcbn1cblxuLmQtdW5zZXQge1xuICBkaXNwbGF5OiB1bnNldCAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1zcGxpdHRlciB7XG4gIGJvcmRlci13aWR0aDogMHB4ICFpbXBvcnRhbnQ7XG4gIG1pbi1oZWlnaHQ6IDEwMHB4O1xufVxuXG5rZW5kby1zcGxpdHRlciB1bCA+IGxpLnJpZ2h0LTAge1xuICBtYXJnaW4tcmlnaHQ6IDBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIHVsLmlubGluZSA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLmlubGluZV9iIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93IHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMik7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLXJvdzpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjI3LCAyNDIsIDI1MywgMC41KTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItZ3JvdXAtYiB7XG4gIGJvcmRlci10b3A6IDFweCByZ2JhKDAsIDAsIDAsIDAuMDgpIG91dHNldDtcbn1cblxuLnN0aWNreS1saXN0IHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiAxICFpbXBvcnRhbnQ7XG59XG5cbi5zdGlja3ktdGFiIHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiAxICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQ6ICNmNWY3ZmE7XG4gIG92ZXJmbG93LXg6IGF1dG87XG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuXG4uc3RpY2t5LXRhYiB1bCB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZy10b3A6IDEwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAwO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcbn1cblxuLnN0aWNreS10YWIgdWwgbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgbWFyZ2luLXJpZ2h0OiAyNXB4O1xuICBmb250LXNpemU6IDE1cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXN0eWxlOiBub3JtYWw7XG4gIGZvbnQtc3RyZXRjaDogbm9ybWFsO1xuICBsZXR0ZXItc3BhY2luZzogbm9ybWFsO1xuICBjb2xvcjogIzJlMzg0ZDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIC1tb3otdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW8tdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1zLXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIHRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjZjVmN2ZhO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS5hY3RpdmUge1xuICBmb250LXNpemU6IDE1cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogIzAwNWRhYjtcbiAgYm9yZGVyLWJvdHRvbTogNHB4IHNvbGlkICMwMDVkYWI7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpOmhvdmVyIHtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICMwMDVkYWI7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLnJlc29sdmVkIHtcbiAgY29sb3I6ICMwMDVkYWI7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLnByb2Nlc3Npbmcge1xuICBjb2xvcjogI2ZmOTgwMDtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkudW5mdWxmaWxsZWQge1xuICBjb2xvcjogIzllOWU5ZTtcbn1cblxuLnN0aWNreS10YWIgLnBzLXNjcm9sbGJhci14LXJhaWwge1xuICBib3R0b206IDAgIWltcG9ydGFudDtcbiAgaGVpZ2h0OiA1cHggIWltcG9ydGFudDtcbn1cblxuLnN0aWNreS10YWIgLnBzLXNjcm9sbGJhci14LXJhaWwgLnBzLXNjcm9sbGJhci14IHtcbiAgaGVpZ2h0OiA1cHggIWltcG9ydGFudDtcbn1cblxubGVnZW5kIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbi5zdGlja3ktcGFuZWxiYXIge1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3k7XG4gIHRvcDogNjRweDtcbn1cblxuLnN0aWNreS1idXR0b24tYWN0aW9uIHtcbiAgcG9zaXRpb246IHN0aWNreTtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5O1xuICBib3R0b206IDBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1mb3JlZ3JvdW5kLWRpdmlkZXIpO1xufVxuXG4uaWNvbi1iaHl0IHtcbiAgaGVpZ2h0OiAxNXB4O1xuICB0b3A6IDJweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbn1cblxuLmNvbnRlbnQtdGFiLXBvcHVwIHtcbiAgbWF4LWhlaWdodDogMzg1cHg7XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcbn1cblxuLmstdGFic3RyaXAtaXRlbXMtdG9wLTAgLmstdGFic3RyaXAtaXRlbXMge1xuICB0b3A6IDA7XG59XG5cbi55ZWxsb3dUZXh0IHtcbiAgY29sb3I6IHllbGxvd2dyZWVuO1xufVxuXG4ucmVkVGV4dCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5ncmVlblRleHQge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5vcmFuZ2VUZXh0IHtcbiAgY29sb3I6IG9yYW5nZTtcbn1cblxuLmJsdWVUZXh0IHtcbiAgY29sb3I6IGJsdWU7XG59XG5cbi5ibGFja1RleHQge1xuICBjb2xvcjogYmxhY2s7XG59IiwiLm1lbnUtZm9ybS13cmFwcGVyIC5tYXQtbWVudS1jb250ZW50IHtcbiAgcGFkZGluZzogOHB4O1xufVxuXG4ucG8tcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZmxleC1ncm93OiAxO1xufVxuXG4uZC11bnNldCB7XG4gIGRpc3BsYXk6IHVuc2V0ICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXNwbGl0dGVyIHtcbiAgYm9yZGVyLXdpZHRoOiAwcHggIWltcG9ydGFudDtcbiAgbWluLWhlaWdodDogMTAwcHg7XG59XG5cbmtlbmRvLXNwbGl0dGVyIHVsID4gbGkucmlnaHQtMCB7XG4gIG1hcmdpbi1yaWdodDogMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xufVxuXG5maWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbTtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIHBhZGRpbmctbGVmdDogMC43NWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW07XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gdWwuaW5saW5lID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAuaW5saW5lX2Ige1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5wYW5lbGJhci1yb3cge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyKTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93OmhvdmVyIHtcbiAgYmFja2dyb3VuZDogcmdiYSgyMjcsIDI0MiwgMjUzLCAwLjUpO1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5wYW5lbGJhci1ncm91cC1iIHtcbiAgYm9yZGVyLXRvcDogMXB4IHJnYmEoMCwgMCwgMCwgMC4wOCkgb3V0c2V0O1xufVxuXG4uc3RpY2t5LWxpc3Qge1xuICB0b3A6IDY0cHg7XG4gIHBvc2l0aW9uOiBzdGlja3kgIWltcG9ydGFudDtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHotaW5kZXg6IDEgIWltcG9ydGFudDtcbn1cblxuLnN0aWNreS10YWIge1xuICB0b3A6IDY0cHg7XG4gIHBvc2l0aW9uOiBzdGlja3kgIWltcG9ydGFudDtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHotaW5kZXg6IDEgIWltcG9ydGFudDtcbiAgYmFja2dyb3VuZDogI2Y1ZjdmYTtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5zdGlja3ktdGFiIHVsIHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDA7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBtYXJnaW4tcmlnaHQ6IDI1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC1zdHJldGNoOiBub3JtYWw7XG4gIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gIGNvbG9yOiAjMmUzODRkO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtby10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtbXMtdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICNmNWY3ZmE7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLmFjdGl2ZSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBib3JkZXItYm90dG9tOiA0cHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGk6aG92ZXIge1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucmVzb2x2ZWQge1xuICBjb2xvcjogIzAwNWRhYjtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkucHJvY2Vzc2luZyB7XG4gIGNvbG9yOiAjZmY5ODAwO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS51bmZ1bGZpbGxlZCB7XG4gIGNvbG9yOiAjOWU5ZTllO1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCB7XG4gIGJvdHRvbTogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uc3RpY2t5LXRhYiAucHMtc2Nyb2xsYmFyLXgtcmFpbCAucHMtc2Nyb2xsYmFyLXgge1xuICBoZWlnaHQ6IDVweCAhaW1wb3J0YW50O1xufVxuXG5sZWdlbmQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLnN0aWNreS1wYW5lbGJhciB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgdG9wOiA2NHB4O1xufVxuXG4uc3RpY2t5LWJ1dHRvbi1hY3Rpb24ge1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3k7XG4gIGJvdHRvbTogMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWZvcmVncm91bmQtZGl2aWRlcik7XG59XG5cbi5pY29uLWJoeXQge1xuICBoZWlnaHQ6IDE1cHg7XG4gIHRvcDogMnB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xufVxuXG4uY29udGVudC10YWItcG9wdXAge1xuICBtYXgtaGVpZ2h0OiAzODVweDtcbiAgb3ZlcmZsb3cteTogYXV0bztcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xufVxuXG4uay10YWJzdHJpcC1pdGVtcy10b3AtMCAuay10YWJzdHJpcC1pdGVtcyB7XG4gIHRvcDogMDtcbn1cblxuLnllbGxvd1RleHQge1xuICBjb2xvcjogeWVsbG93Z3JlZW47XG59XG5cbi5yZWRUZXh0IHtcbiAgY29sb3I6IHJlZDtcbn1cblxuLmdyZWVuVGV4dCB7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLm9yYW5nZVRleHQge1xuICBjb2xvcjogb3JhbmdlO1xufVxuXG4uYmx1ZVRleHQge1xuICBjb2xvcjogYmx1ZTtcbn1cblxuLmJsYWNrVGV4dCB7XG4gIGNvbG9yOiBibGFjaztcbn0iXX0= */\"","import { Component, OnInit, Inject, TemplateRef, ViewChild } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog } from '@angular/material';\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport icDownward from \"@iconify/icons-ic/baseline-cloud-download\";\nimport icRedEye from '@iconify/icons-ic/twotone-remove-red-eye';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { TheoDoiSauPhauThuatThuThuat, KhamTheoDoi, TrangThaiYeuCauDichVuKyThuatObjEnum, TrangThaiYeuCauKhamBenhObjEnum, PtttComboboxModel, ComboboxPttt, DichVuKyThuatChuaHoanThanhTrenHoanThanh } from '../../phau-thuat-thu-thuat.model';\nimport { EnumTrangThaiPhauThuatThuThuat, EnumTrangThaiTheoDoiSauPhauThuatThuThuat } from 'src/app/shared/enum/phau-thuat-thu-thuat.enum';\nimport { EnumNhomChucDanh } from 'src/app/shared/enum/nhom-chuc-danh-enum';\nimport { ViewImagePdfComponent } from 'src/app/shared/component/dialogs/view-image-pdf/view-image-pdf.component';\nimport { GoiKhongChietKhau, PhieuInXetNghiemVo } from '../../../kham-benh/kham-benh.model';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { EnumTypeComponent, EnumTypeLoadingData, EnumNhomGoiDichVu } from 'src/app/shared/enum/kham-benh.enum';\nimport { process, State, GroupDescriptor } from \"@progress/kendo-data-query\";\nimport { AccessUser } from 'src/app/shared/models/access-user.model';\nimport { LookupQueryInfo } from 'src/app/shared/models/common.model';\nimport { BroadcastService } from 'src/app/core/services/broadcast.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { HttpParams } from '@angular/common/http';\nimport { Http, RequestOptions, ResponseContentType } from '@angular/http';\nimport { saveFile } from 'src/app/core/utilities/file-download.helper';\nimport { LichSuDvKhongThucHienComponent } from '../lich-su-dv-khong-thuc-hien/lich-su-dv-khong-thuc-hien.component';\nimport { LoaiDichVuKyThuat, TrangThaiYeuCauDichVuKyThuat } from 'src/app/shared/enum/dich-vu-ky-thuat.enum';\nimport { ComboboxComponent } from 'src/app/shared/component/dropdowns/combobox/combobox.component';\nimport { PtttClsKqPopupComponent } from '../phau-thuat-thu-thuat-can-lam-san/pttt-cls-kq-popup/pttt-cls-kq-popup.component';\nimport { LoaiTapTin } from 'src/app/shared/enum/common-type.enums';\nimport { LayMauXetNghiemKetQuaPopupComponent } from '../../../xet-nghiem/lay-mau-xet-nghiem/lay-mau-xet-nghiem-ket-qua-popup/lay-mau-xet-nghiem-ket-qua-popup.component';\nimport { XemKetQuaCdhaTdcnPopupComponent } from '../../../can-lam-sang/lich-su-can-lam-sang/xem-ket-qua-cdha-tdcn-popup/xem-ket-qua-cdha-tdcn-popup.component';\nimport { ChonLoaiKetQuaXetNghiemPopupComponent } from '../../../xet-nghiem/duyet-ket-qua/chon-loai-ket-qua-xet-nghiem-popup/chon-loai-ket-qua-xet-nghiem-popup.component';\nimport { InPhieuKetQuaLayMau } from '../../../xet-nghiem/lay-mau-xet-nghiem/lay-mau-xet-nghiem.model';\n\n@Component({\n    selector: 'app-benh-nhan-da-hoan-thanh-pttt-popup',\n    templateUrl: './benh-nhan-da-hoan-thanh-pttt-popup.component.html',\n    styleUrls: ['./benh-nhan-da-hoan-thanh-pttt-popup.component.scss']\n})\nexport class BenhNhanDaHoanThanhPtttPopupComponent implements OnInit {\n    format = 'n1';\n    gridSinhHieuColumns: any;\n    gridColumnCanLamSangs: any;\n    benhNhanHienTai: any;\n    yeuCauTiepNhanId: number = 0;\n    soLan: number = 0;\n    yeuCauDichVuKyThuatId: number = 0;\n    icClose = icClose;\n    icRedEye = icRedEye;\n    icDownward = icDownward;\n    documentType: DocumentType = DocumentType.PhauThuatThuThuatTheoNgay;\n    dichVuKyThuatChuaHoanThanhTrenHoanThanh = new DichVuKyThuatChuaHoanThanhTrenHoanThanh();\n    thongTinKhamKhacPTTT: any;\n    dataPopup: any;\n    thongTinKhamKhacPTTTTheoDoi: any;\n    dataCanLamSang: any;\n    loaiTapTin = LoaiTapTin;\n\n    gridDataSourceVTTHThuoc: any = {};\n    gridVTTHThuocColumns: any[] = [];\n\n    gridDataSource: any = [];\n    thongTinKetLuanPTTT: any = null;\n    goiKhongChietKhau: GoiKhongChietKhau[] = [];\n    enumLoaiDichVuKyThuat = LoaiDichVuKyThuat;\n    enumTrangThaiYeuCauDichVuKyThuat = TrangThaiYeuCauDichVuKyThuat;\n    trangThaiYCKB: TrangThaiYeuCauKhamBenhObjEnum = new TrangThaiYeuCauKhamBenhObjEnum();\n    trangThaiYCDVKT: TrangThaiYeuCauDichVuKyThuatObjEnum = new TrangThaiYeuCauDichVuKyThuatObjEnum();\n\n    groups: GroupDescriptor[] = [{\n        field: 'Nhom', dir: null, aggregates: [\n            { field: 'ThanhTien', aggregate: 'sum' },\n            { field: 'Nhom', aggregate: 'min' },\n            { field: 'BHYTThanhToan', aggregate: 'sum' },\n            { field: 'SoTienMG', aggregate: 'sum' },\n            { field: 'BNThanhToan', aggregate: 'sum' }]\n    }];\n\n    //begin thông tin kết luận\n    theoDoiSauPhauThuatThuThuat: TheoDoiSauPhauThuatThuThuat;\n    enumTheoDoi = EnumTrangThaiPhauThuatThuThuat;\n    enumTrangThaiPhauThuatThuThuat = EnumTrangThaiTheoDoiSauPhauThuatThuThuat;\n    thongTinBenhNhan: any;\n    enumBacSiPhuTrach: EnumNhomChucDanh = EnumNhomChucDanh.BacSi;\n    enumDieuDuongPhuTrach: EnumNhomChucDanh = EnumNhomChucDanh.DieuDuong;\n    radioKetLuan = [\n        { Value: EnumTrangThaiPhauThuatThuThuat.TheoDoi, Text: 'Theo dõi' },\n        { Value: EnumTrangThaiPhauThuatThuThuat.ChuyenGiao, Text: 'Chuyển giao NB ' }\n    ];\n    //end thông tin kết luận\n\n    //Begin theo doi\n    khamTheoDois: KhamTheoDoi[] = [];\n    //End theo doi\n\n    //================================================Thông tin cận lâm sàng =================================================================\n    @ViewChild('trangThaiTemplate', { static: true }) trangThaiTemplate: TemplateRef<any>;\n    @ViewChild('trangThaiTemplate1', { static: true }) trangThaiTemplate1: TemplateRef<any>;\n    @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n    @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n    @ViewChild('donGiaGhiNhanTemplate', { static: true }) donGiaGhiNhanTemplate: TemplateRef<any>;\n    @ViewChild('donGiaFooterTemplate', { static: true }) donGiaFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n    @ViewChild('checkBoxTemplate', { static: true }) checkBoxTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienGroupFooterTemplate', { static: true }) thanhTienGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienFooterTemplate', { static: true }) thanhTienFooterTemplate: TemplateRef<any>;\n    @ViewChild('bhytThanhToanTemplate', { static: true }) bhytThanhToanTemplate: TemplateRef<any>;\n    @ViewChild('bhytThanhToanGroupFooterTemplate', { static: true }) bhytThanhToanGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('bhytThanhToanFooterTemplate', { static: true }) bhytThanhToanFooterTemplate: TemplateRef<any>;\n    @ViewChild('soTienMGTemplate', { static: true }) soTienMGTemplate: TemplateRef<any>;\n    @ViewChild('soTienMGFooterTemplate', { static: true }) soTienMGFooterTemplate: TemplateRef<any>;\n    @ViewChild('soTienMGGroupFooterTemplate', { static: true }) soTienMGGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanTemplate', { static: true }) bnThanhToanTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanFooterTemplate', { static: true }) bnThanhToanFooterTemplate: TemplateRef<any>;\n    @ViewChild('bnThanhToanGroupFooterTemplate', { static: true }) bnThanhToanGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('noiThucHienTemplate', { static: true }) noiThucHienTemplate: TemplateRef<any>;\n    @ViewChild('tLMGTemplate', { static: true }) tLMGTemplate: TemplateRef<any>;\n    @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n    @ViewChild('tongTienFooterTemplate', { static: true }) tongTienFooterTemplate: TemplateRef<any>;\n    @ViewChild('congTienGroupFooterTemplate', { static: true }) congTienGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('nhomGiaTemplate', { static: true }) nhomGiaTemplate: TemplateRef<any>;\n    @ViewChild('soLuongTemplate', { static: true }) soLuongTemplate: TemplateRef<any>;\n    @ViewChild('nguoiThucHienTemplate', { static: true }) nguoiThucHienTemplate: TemplateRef<any>;\n    @ViewChild('checkBoxHeaderTemplate', { static: true }) checkBoxHeaderTemplate: TemplateRef<any>;\n    @ViewChild('donGiaBaoHiemTemplate', { static: true }) donGiaBaoHiemTemplate: TemplateRef<any>;\n    @ViewChild('duocHuongBaoHiemTemplate', { static: true }) duocHuongBaoHiemTemplate: TemplateRef<any>;\n    @ViewChild('GridChiDinh', { static: true }) gridChild: GridComponent;\n    @ViewChild('xemKetQuaActionTemplate', { static: true }) xemKetQuaActionTemplate: TemplateRef<any>;\n    @ViewChild('NhomBenhVienGroupFooterTemplate', { static: true }) NhomBenhVienGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('lstPtttCmb', { static: false }) lstPtttCmb: ComboboxComponent;\n\n    //================================================Thông tin cận lâm sàng =================================================================\n\n    //chỉ sô sinh tồn\n    gridChiSoSinhTonColumns: any[] = [];\n    validationErrors: any;\n    huyetApTamTruong: number;\n    huyetApTamThu: number;\n    @ViewChild('huyetApTemplate', { static: true }) huyetApTemplate: TemplateRef<any>;\n    @ViewChild('thanNhietTemplate', { static: true }) thanNhietTemplate: TemplateRef<any>;\n    @ViewChild('nhipTimTemplate', { static: true }) nhipTimTemplate: TemplateRef<any>;\n    @ViewChild('nhipThoTemplate', { static: true }) nhipThoTemplate: TemplateRef<any>;\n    @ViewChild('canNangTemplate', { static: true }) canNangTemplate: TemplateRef<any>;\n    @ViewChild('chieuCaoTemplate', { static: true }) chieuCaoTemplate: TemplateRef<any>;\n    @ViewChild('BMITemplate', { static: true }) BMITemplate: TemplateRef<any>;\n    @ViewChild('glassgowTemplate', { static: true }) glassgowTemplate: TemplateRef<any>;\n    @ViewChild('sPO2Template', { static: true }) sPO2Template: TemplateRef<any>;\n    @ViewChild('gridThucHien', { static: false }) grid: GridComponent;\n\n    //Ghi nhận vật tư/ thuốc\n    // @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n    @ViewChild('nhomGroupHeaderVTTemplate', { static: true }) nhomGroupHeaderVTTemplate: TemplateRef<any>;\n    @ViewChild('donGiaVTTemplate', { static: true }) donGiaVTTemplate: TemplateRef<any>;\n    @ViewChild('donGiaVTFooterTemplate', { static: true }) donGiaVTFooterTemplate: TemplateRef<any>;\n    @ViewChild('soLuongGhiNhanVTTHThuocTemplate', { static: true }) soLuongGhiNhanVTTHThuocTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienVTTemplate', { static: true }) thanhTienVTTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienGhiNhanVTTHThuocFooterTemplate', { static: true }) thanhTienGhiNhanVTTHThuocFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienGhiNhanVTTHThuocGroupFooterTemplate', { static: true }) thanhTienGhiNhanVTTHThuocGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('donGiaBaoHiemVTTemplate', { static: true }) donGiaBaoHiemVTTemplate: TemplateRef<any>;\n    @ViewChild('duocHuongBaoHiemGhiNhanVHTTTemplate', { static: true }) duocHuongBaoHiemGhiNhanVHTTTemplate: TemplateRef<any>;\n    @ViewChild('gridVTTHThuoc', { read: GridComponent, static: false }) gridChildVTTHThuoc: GridComponent;\n    @ViewChild('tinhPhiGhiNhanVHTTTemplate', { static: true }) tinhPhiGhiNhanVHTTTemplate: TemplateRef<any>;\n    groupsGhiNhanVTHHThuoc: GroupDescriptor[] = [{ field: 'GiaiDoanPhauThuatDisplay', dir: null, aggregates: [{ field: 'ThanhTien', aggregate: 'sum' }] }];\n\n    coDichVuHuy: boolean = null;\n    popupLoadingData: any;\n    thongTinKhamTheoDoiData: string = null;\n    thongTinKhamTheoDoiTemplateObj: any = null;\n    gridKhamKhacColumns: any[] = [];\n    gridNguoiThucHienColumns: any;\n    currentUser: AccessUser;\n    queryInfo: LookupQueryInfo = new LookupQueryInfo();\n    // end chỉ số sinh tồn\n    yeuCauTiepNhanSoLanPT: any[] = [];\n    ptttCombobox = {} as PtttComboboxModel;\n    dichVuKyThuatTuongTrinh: any;\n\n    dataThongTinLichSuEkipPTTT: any;\n\n    //BVHD-3860\n    constructor(@Inject(MAT_DIALOG_DATA) public data: any, private http: Http,\n        private dialog: MatDialog,\n        private apiService: ApiService,\n        private authService: AuthService,\n        private broadcastService: BroadcastService,\n        private notificationService: NotificationService\n    ) {\n\n    }\n\n    ngOnInit() {\n        //================================================thông tin cận lâm sàng =================================================================\n        this.gridColumnCanLamSangs = [\n            // { Field: \"STT\", Title: \"#\", Width: 40 },\n            { Field: \"Ma\", Title: \"Mã\", Width: 60 },\n            { Field: \"Nhom\", Title: \"Nhóm\", Width: 50, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            { Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", Width: 100, ShowTooltip: true },\n            { Field: \"TenLoaiGia\", Title: \"Loại Giá\", Width: 80, TemplateGroupFooter: this.congTienGroupFooterTemplate, TemplateFooter: this.tongTienFooterTemplate, Template: this.nhomGiaTemplate },\n            { Field: \"DonGia\", Title: \"Đơn Giá\", Width: 80, Template: this.donGiaTemplate, TemplateFooter: this.donGiaFooterTemplate },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 59, Template: this.soLuongTemplate },\n            { Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Template: this.thanhTienTemplate, TemplateFooter: this.thanhTienFooterTemplate, TemplateGroupFooter: this.thanhTienGroupFooterTemplate },\n            { Field: \"DonGiaBaoHiem\", Title: \"DG BHYT\", Width: 50, Template: this.donGiaBaoHiemTemplate },\n            { Field: \"DuocHuongBaoHiem\", Title: \"ĐH BHYT\", Width: 60, Template: this.duocHuongBaoHiemTemplate },\n            { Field: \"NoiThucHien\", Title: \"Nơi thực hiện\", Width: 50, Template: this.noiThucHienTemplate },\n            { Field: \"NguoiChiDinhDisplay\", Title: \"Người chỉ định\", Width: 50 },\n            { Field: \"ThoiDiemChiDinhDisplay\", Title: \"Thời gian chỉ định\", Width: 100 },\n            { Field: \"TenNguoiThucHien\", Title: \"Người thực hiện\", Width: 100 },\n            { Field: \"TrangThaiDichVu\", Title: \"Tình trạng\", Width: 100, Template: this.trangThaiTemplate1 },\n            { Field: \"XemKetQua\", Title: \"Xem KQ\", Width: 100, Sortable: true, Template: this.xemKetQuaActionTemplate, TemplateGroupFooter: this.NhomBenhVienGroupFooterTemplate }\n        ];\n\n        this.gridSinhHieuColumns = [\n            { Field: 'NhipTim', Title: 'Mạch (nhịp/phút)', Width: 80 },\n            { Field: 'ThanNhiet', Title: 'Nhiệt độ (°C)', Width: 80 },\n            { Field: 'HuyetAp', Title: 'Huyết áp (mmHg)', Width: 112 },\n            { Field: 'NhipTho', Title: 'Nhịp thở (lần/phút)', Width: 80 },\n            { Field: 'CanNang', Title: 'Cân nặng (kg)', Width: 80 },\n            { Field: 'ChieuCao', Title: 'Chiều cao (cm)', Width: 80 },\n            { Field: 'BMI', Title: 'BMI (kg/m²)', Width: 80 },\n            { Field: 'Glassgow', Title: 'Glassgow', Width: 80 },\n            { Field: 'SpO2', Title: 'SpO2 (%)', Width: 80 },\n            { Field: 'NgayThucHien', Title: 'Ngày thực hiện', Width: 150 },\n            { Field: 'Action', Title: '', Width: 50 }\n        ];\n\n        this.gridChiSoSinhTonColumns = [\n            { Field: \"NhipTim\", Title: \"Mạch (nhịp/phút)\", Width: 100, Template: this.nhipTimTemplate },\n            { Field: \"ThanNhiet\", Title: \"Nhiệt độ (°C)\", Width: 100, Template: this.thanNhietTemplate },\n            { Field: \"HuyetAp\", Title: \"Huyết áp (mmHg)\", Width: 100, Template: this.huyetApTemplate },\n            { Field: \"NhipTho\", Title: \"Nhịp thở (lần/phút)\", Width: 100, Template: this.nhipThoTemplate },\n            { Field: \"CanNang\", Title: \"Cân nặng (kg)\", Width: 100, Template: this.canNangTemplate },\n            { Field: \"ChieuCao\", Title: \"Chiều cao (cm)\", Width: 100, Template: this.chieuCaoTemplate },\n            { Field: \"BMI\", Title: \"BMI (kg/m²)\", Width: 91, Template: this.BMITemplate },\n            { Field: \"Glassgow\", Title: \"Glassgow\", Width: 120, Template: this.glassgowTemplate },\n            { Field: \"SpO2\", Title: \"SpO2(%)\", Width: 120, Template: this.sPO2Template },\n            { Field: \"NhanVienThucHien\", Title: \"Nhân viên thực hiện\", Width: 100 },\n            { Field: \"NgayThucHien\", Title: \"Ngày thực hiện\", Width: 100 }\n        ];\n\n        this.gridKhamKhacColumns = [\n            { Field: \"BoPhan\", Title: \"Bộ Phận\", Width: 100 },\n            { Field: \"MoTa\", Title: \"Mô Tả\", Width: 100 },\n        ];\n\n        this.gridNguoiThucHienColumns = [\n            { Field: \"ChucDanh\", Title: \"Chức danh\", Sortable: false, Width: 120 },\n            { Field: \"HoTen\", Title: \"Họ tên\", Sortable: false, Width: 120 },\n            { Field: \"VaiTro\", Title: \"Vai trò\", Sortable: false, Width: 120 },\n        ];\n\n        //Ghi nhận vật tư/ thuốc\n        this.gridVTTHThuocColumns = [\n            // { Field: \"STT\", Title: \"#\", Width: 40, Template: this.sttTemplate },\n            // { Field: \"MaDichVuYeuCau\", Title: \"Mã\", Width: 60 },\n            { Field: \"GiaiDoanPhauThuatDisplay\", Title: \"GiaiDoanPhauThuat\", Width: 150, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            { Field: \"TenDichVuYeuCau\", Title: \"Tên vật tư/thuốc\", Width: 120, ShowTooltip: true },\n            { Field: \"DonViTinh\", Title: \"ĐVT\", Width: 60 },\n            { Field: \"TenKho\", Title: \"Kho sử dụng\", Width: 100 },\n            { Field: \"TenDuongDung\", Title: \"Đường dùng\", Width: 60 },\n            { Field: \"DonGia\", Title: \"Đơn Giá\", Width: 80, Template: this.donGiaGhiNhanTemplate, TemplateFooter: this.donGiaFooterTemplate },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 59 , Template: this.soLuongGhiNhanVTTHThuocTemplate},\n            { Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Template: this.thanhTienTemplate, TemplateFooter: this.thanhTienGhiNhanVTTHThuocFooterTemplate, TemplateGroupFooter: this.thanhTienGhiNhanVTTHThuocGroupFooterTemplate },\n            { Field: \"DonGiaBaoHiem\", Title: \"DG BHYT\", Width: 100, Template: this.donGiaBaoHiemTemplate },\n            { Field: \"DuocHuongBaoHiem\", Title: \"ĐH BHYT\", Width: 60, Template: this.duocHuongBaoHiemGhiNhanVHTTTemplate },\n            { Field: \"TinhPhi\", Title: \"Tính phí\", Width: 60, Template: this.tinhPhiGhiNhanVHTTTemplate },\n            { Field: \"PhieuLinh\", Title: \"Phiếu lĩnh\", Width: 90 },\n            { Field: \"PhieuXuat\", Title: \"Phiếu xuất\", Width: 90 },\n            // { Field: \"TenNhanVienChiDinh\", Title: \"Người chỉ định\", Width: 150, },\n            { Field: \"ThoiGianChiDinhDisplay\", Title: \"Thời gian chỉ định\", Width: 150, },\n        ];\n\n        this.benhNhanHienTai = { Id: 0, YeuCauTiepNhan: {} };\n        this.soLan = this.data.soLan;\n        this.yeuCauTiepNhanId = this.data.yeuCauTiepNhanId;\n        this.yeuCauDichVuKyThuatId = this.data.yeuCauKyThuatId;\n        this.currentUser = this.authService.getAccessUser();\n\n        //BVHD-3860: trường hợp chỉ có 1 dv mà dịch đó không thực hiện\n        this.coDichVuHuy = this.data.laKhongThucHien == true;\n\n        if (this.yeuCauTiepNhanId != null && this.data.yeuCauKyThuatId != null) {\n            this.getLoadPage();\n        }\n    }\n\n    getLoadPage() {\n        this.getBenhNhanDangKham(this.yeuCauTiepNhanId);\n        this.thongTinKetLuan(this.data.yeuCauKyThuatId);\n        this.getThongTinEkipDaHoanThanhPTTT(this.data.yeuCauKyThuatId);\n        this.yeuCauTiepNhanSoLanPT.push(this.yeuCauTiepNhanId);\n        this.yeuCauTiepNhanSoLanPT.push(this.soLan);\n        this.getDichVuKyThuatChuaHoanThanhTrenHoanThanh();\n        this.getTheoDoi(this.data.yeuCauKyThuatId);\n        this.getGridDataGhiNhanVTHHThuoc(this.data.yeuCauKyThuatId);\n        if (this.currentUser.PhongBenhVienId != null && this.soLan != null) {\n            const url = 'PhauThuatThuThuat/GetDichVuHoanThanh?noiThucHienId=' + this.currentUser.PhongBenhVienId + '&yctnId=' + this.yeuCauTiepNhanId + '&soLan=' + this.soLan;\n            this.LoadDsPttt(url);\n        }\n    }\n\n    LoadDsPttt(url: string) {\n        if (this.soLan != null) {\n            const self = this;\n            self.apiService.post<Array<ComboboxPttt>>(url, self.queryInfo).subscribe(\n                resultData => {\n                    if (resultData !== undefined && resultData != null) {\n                        self.ptttCombobox.lstPttt = [...resultData];\n                        if (self.ptttCombobox != null && self.ptttCombobox.lstPttt.some(x => x)) {\n                            self.ptttCombobox.ptttId = self.ptttCombobox.lstPttt[0].KeyId;\n                            self.ptttCombobox.TenDv = self.ptttCombobox.lstPttt[0].TenDv;\n                        }\n                    }\n                },\n                (err) => {\n                    self.notificationService.showError(err.Message);\n                });\n        }\n    }\n\n    totalGhiNhanVTTHThuoc(field: any) {\n        if (this.gridDataSourceVTTHThuoc.data != undefined) {\n            switch (field) {\n                case 'ThanhTien':\n                    return this.gridDataSourceVTTHThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n            }\n        }\n    }\n\n    chonDichVu(ev: any) {\n        if (ev != null) {\n            this.getThongTinEkipDaHoanThanhPTTT(ev.KeyId);\n            this.data.yeuCauKyThuatId = ev.KeyId;\n            if (this.grid != null) {\n                this.grid._additionalSearchString = ev.KeyId;\n                this.grid.setDataSource();\n            }\n            this.getGridDataGhiNhanVTHHThuoc(ev.KeyId);\n        } else {\n            this.dataThongTinLichSuEkipPTTT = null;\n        }\n    }\n\n    OnOpen(isOpen: boolean) {\n        if (isOpen && this.soLan != null) {\n            const url = 'PhauThuatThuThuat/GetDichVuHoanThanh?noiThucHienId=' + this.currentUser.PhongBenhVienId + '&yctnId=' + this.yeuCauTiepNhanId + '&soLan=' + this.soLan;\n            if (this.lstPtttCmb != null) {\n                this.lstPtttCmb.url = url;\n                this.lstPtttCmb.data = null;\n                this.lstPtttCmb.queryInfo.Query = null;\n            }\n            return;\n        }\n        this.lstPtttCmb.url = '';\n    }\n\n    getBenhNhanDangKham(yeuCauTiepNhanId: number) {\n        if (yeuCauTiepNhanId === 0) {\n            this.benhNhanHienTai.Id = 0;\n            return;\n        }\n        let currentAccessUser = this.authService.getAccessUser();\n        currentAccessUser.PhongBenhVienId = parseInt(this.authService.getPhongLamViecId());\n        if (currentAccessUser.PhongBenhVienId != 0) {\n            this.apiService.get<any>(`PhauThuatThuThuat/GetThongTinBenhNhanTheoYeuCauTiepNhan?yeuCauTiepNhanId=${yeuCauTiepNhanId}&phongKhamHienTai=${currentAccessUser.PhongBenhVienId}`).subscribe((res) => {\n                if (res) {\n                    this.benhNhanHienTai = res;\n                    this.thongTinKhamKhacPTTT = res;\n                } else {\n                    this.benhNhanHienTai = { Id: 0, YeuCauTiepNhan: {} };\n                }\n            }, (err) => {\n                //this.notificationService.showError(err);\n            });\n        }\n    }\n\n    close() {\n        this.dialog.closeAll();\n    }\n\n    getTheoDoiSauPhauThuatThuThuat(yeuCauTiepNhanId: number) {\n        this.apiService.get<any>(`PhauThuatThuThuat/GetTheoDoiSauPhauThuatThuThuatByYeuCauTiepNhan?yeuCauTiepNhanId=${yeuCauTiepNhanId}`).subscribe(res => {\n            if (res) {\n                this.theoDoiSauPhauThuatThuThuat = res;\n            }\n        }, (err) => {\n            //this.notificationService.showError(err.Message);\n        })\n    }\n\n    getThongTinKhamKhacChiTiets(index: number) {\n        if (this.thongTinKhamKhacPTTTTheoDoi != undefined && this.thongTinKhamKhacPTTTTheoDoi[index] != undefined) {\n            this.thongTinKhamTheoDoiTemplateObj = JSON.parse(this.thongTinKhamKhacPTTTTheoDoi[index].ThongTinKhamTheoDoiTemplate);\n            this.thongTinKhamTheoDoiData = this.thongTinKhamKhacPTTTTheoDoi[index].ThongTinKhamTheoDoiData;\n            if (this.thongTinKhamTheoDoiData == null) {\n                this.thongTinKhamTheoDoiTemplateObj = undefined;\n            }\n            this.bindDataDynamicComponent();\n        }\n    }\n\n    bindDataDynamicComponent() {\n        let strData = this.thongTinKhamTheoDoiData;\n        if (strData != undefined && strData != null) {\n            let dataObj = JSON.parse(strData);\n            let itemTemp = null;\n            if (this.thongTinKhamTheoDoiTemplateObj !== null) {\n                this.thongTinKhamTheoDoiTemplateObj.ComponentDynamics.forEach(item => {\n                    if (item.groupItems != undefined && item.groupItems != null && item.groupItems.length > 0) {\n                        item.groupItems.forEach(element => {\n                            itemTemp = dataObj.DataKhamTheoTemplate.find(x => x.Id == element.Id);\n                            if (itemTemp != null) {\n                                element.Value = itemTemp.Value;\n                            }\n                        });\n                    }\n                    else {\n                        itemTemp = dataObj.DataKhamTheoTemplate.find(x => x.Id == item.Id);\n                        if (itemTemp != null) {\n                            item.Value = itemTemp.Value;\n                        }\n                    }\n                });\n            }\n        }\n    }\n\n    thongTinKetLuan(id: number) {\n        this.apiService.get<any>(\"PhauThuatThuThuat/DanhSachHoanThanhPTTT?yeuCauDichVuKyThuatId=\" + id).subscribe(\n            resultData => {\n                if (resultData != undefined && resultData != null) {\n                    this.thongTinKetLuanPTTT = resultData;\n                }\n            },\n            (err) => {\n                //this.notificationService.showError(err.Message);\n            });\n    }\n\n    getThongTinEkipDaHoanThanhPTTT(id: number) {\n        this.apiService.get<any>(\"PhauThuatThuThuat/ThongTinLichSuEkipPTTT?yeuCauDichVuKyThuatId=\" + id).subscribe((resultData) => {\n            if (resultData != undefined && resultData != null) {\n                this.dataThongTinLichSuEkipPTTT = resultData;\n                this.apiService.get<any>(\"PhauThuatThuThuat/KiemTraCoDichVuHuy?yeuCauTiepNhanId=\" + this.yeuCauTiepNhanId).subscribe(result => {\n                    if (result != undefined && result != null) {\n                        this.coDichVuHuy = result;\n                    }\n                })\n            }\n        },\n            (err) => {\n                //this.notificationService.showError(err);\n            });\n    }\n\n    kiemTraCoPhauThuat: boolean;\n    getTheoDoi(id: number) {\n        this.showPopupLoadingData();\n        this.apiService.get<any>(\"PhauThuatThuThuat/ThongTinBenhNhanPTTTHoanThanh?yeuCauDichVuKyThuatId=\" + id).subscribe((resultData) => {\n            if (resultData != undefined && resultData != null) {\n                if (resultData.ThongTinKhamKhacChiTiet.length > 0) {\n                    this.kiemTraCoPhauThuat = resultData.CoPhauThuat;\n                    this.thongTinKhamKhacPTTTTheoDoi = resultData.ThongTinKhamKhacChiTiet;\n                    this.getThongTinKhamKhacChiTiets(0);\n                    this.bindDataDynamicComponent();\n                }\n\n                let obj = {\n                    YeuCauTiepNhanId: this.yeuCauTiepNhanId,\n                    LanThucThien: this.soLan,\n                    PhongBenhVienId: this.currentUser.PhongBenhVienId\n                }\n                this.apiService.post<any>(\"PhauThuatThuThuat/DichVuDaTuongTrinhPTTT\", obj).subscribe(res => {\n                    if (res != undefined && res != null) {\n                        this.dichVuKyThuatTuongTrinh = res;\n                    }\n                }, (err) => {\n                    this.notificationService.showError(err);\n                });\n            }\n            this.closePopupLoadingData();\n        }\n            ,\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                    this.closePopupLoadingData();\n                }\n                this.closePopupLoadingData();\n            });\n    }\n\n    onDataBoundChild(event: any) {\n        if (event.Data != null) {\n            this.goiKhongChietKhau = event.Data;\n            this.dataSource.data = event.Data;\n        }\n    }\n    onTabSelect(event: any) {\n        this.getThongTinKhamKhacChiTiets(event.index);\n    }\n\n    public totalNotChietKhau(field: any) {\n        switch (field) {\n            case 'ThanhTien':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'BHYTThanhToan':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n            case 'SoTienMG':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'BNThanhToan':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.BNThanhToan, 0);\n        }\n    };\n\n    xemHinhAnhBoPhanTonThuong(dataItem) {\n        this.dialog.open(ViewImagePdfComponent, {\n            disableClose: false,\n            width: '1000px',\n            height: '600px',\n            data: { Type: \"Image\", Title: \"Xem ảnh\", Description: (dataItem.MoTa != undefined ? dataItem.MoTa : \"\"), Src: dataItem.LuocDo }\n        });\n    }\n\n    setDataGridView() {\n        this.gridDataSource = {\n            data: this.goiKhongChietKhau,\n            total: this.goiKhongChietKhau.length\n        };\n        this.closePopupLoadingData();\n    }\n\n    public state: State = {\n        group: this.groups,\n    };\n\n    showPopupLoadingData(typeLoading: EnumTypeLoadingData = EnumTypeLoadingData.View) {\n        let mess = \"\"; //typeLoading == EnumTypeLoadingData.View ? \"Đang tải dữ liệu...\" : \"Đang lưu dữ liệu...\";\n\n        switch (typeLoading) {\n            case EnumTypeLoadingData.View:\n                mess = 'Đang tải dữ liệu...'; break;\n            case EnumTypeLoadingData.Update:\n                mess = 'Đang lưu dữ liệu...'; break;\n            case EnumTypeLoadingData.Delete:\n                mess = 'Đang xóa dữ liệu...'; break;\n            default: mess = 'Đang tải dữ liệu...';\n        }\n\n        this.popupLoadingData = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: mess }\n        });\n    }\n\n    closePopupLoadingData() {\n        if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n            this.popupLoadingData.close();\n        }\n    }\n\n    getDichVuKyThuatChuaHoanThanhTrenHoanThanh() {\n        this.apiService.get<any>(`PhauThuatThuThuat/GetDichVuKyThuatChuaHoanThanhTrenHoanThanhCanLamSang?yeuCauTiepNhanId=${this.yeuCauTiepNhanId}`).subscribe(res => {\n            if (res) {\n                this.dichVuKyThuatChuaHoanThanhTrenHoanThanh = res;\n            }\n        }, (err) => {\n\n        });\n    }\n\n    OpenClickPopupXemKetQuaNhomXetNghiemCLS(valueNhom: any) {\n        let yeuCauDichVuKyThuat = valueNhom.items.filter(p => p.TrangThaiDichVuId == this.enumTrangThaiYeuCauDichVuKyThuat.DaThucHien && p.Nhom == valueNhom.value);\n\n        if (yeuCauDichVuKyThuat.length > 0) {\n            this.OpenClickPopupXemKetQuaCLS(yeuCauDichVuKyThuat[0]);\n        }\n        // let yeuCauKyThuat = valueNhom.items.filter(w => w.TrangThaiDichVu === \"Đã thực hiện\" && w.Nhom === valueNhom.value);\n        // if (yeuCauKyThuat.length > 0) {\n        //     this.OpenClickPopupXemKetQuaCLS(yeuCauKyThuat[0]);\n        // }\n        // else {\n        //     this.notificationService.showError(\"Nhóm này chưa có kết quả\");\n        // }\n    }\n\n    // downloadFileNhomXetNghiem(valueNhom: any) {\n    //     let yeuCauDichVuKyThuat = valueNhom.items.filter(p => p.TrangThaiDichVuId == this.enumTrangThaiYeuCauDichVuKyThuat.DaThucHien && p.Nhom == valueNhom.value);\n\n    //     if (yeuCauDichVuKyThuat.length > 0) {\n    //         this.downloadFile(yeuCauDichVuKyThuat[0]);\n    //     }\n\n    //     // let yeuCauKyThuat = valueNhom.items.filter(w => w.TrangThaiDichVu === \"Đã thực hiện\" && w.Nhom === valueNhom.value);\n    //     // if (yeuCauKyThuat.length > 0) {\n    //     //     this.downloadFile(yeuCauKyThuat[0]);\n    //     // }\n    //     // else {\n    //     //     this.notificationService.showError(\"Nhóm này chưa có kết quả\");\n    //     // }\n    // }\n\n    kiemTraCoKetQuaCLS(dataItem) {\n        if (dataItem.TrangThaiDichVuId == this.enumTrangThaiYeuCauDichVuKyThuat.DaThucHien && dataItem.LoaiDichVuKyThuat != this.enumLoaiDichVuKyThuat.XetNghiem && dataItem.KetQuaCanLamSanPTTT.length > 0) {\n            return true;\n        }\n\n        return false;\n    }\n\n    kiemTraCoFileDownloadCLS(dataItem) {\n        if (dataItem.TrangThaiDichVuId == this.enumTrangThaiYeuCauDichVuKyThuat.DaThucHien && dataItem.LoaiDichVuKyThuat != this.enumLoaiDichVuKyThuat.XetNghiem) {\n            let files = dataItem.KetQuaCanLamSanPTTT.filter(p => p.LoaiTapTin == this.loaiTapTin.Khac).length;\n\n            return files > 0 ? true : false;\n        }\n\n        return false;\n    }\n\n    OpenClickPopupXemKetQuaCLS(dataItem) {\n        this.dialog.open(XemKetQuaCdhaTdcnPopupComponent, {\n            disableClose: false,\n            width: '1000px',\n            data: dataItem.Id\n        }).afterClosed().subscribe(result => {\n        });\n    }\n\n\n    hienThiDichVuKhongThucHien() {\n        var self = this;\n        self.dialog\n            .open(LichSuDvKhongThucHienComponent, {\n                disableClose: true,\n                width: \"1200px\",\n                data: { YeuCauTiepNhanId: this.yeuCauTiepNhanId, LanThucHien: this.soLan },\n            });\n    }\n\n    kiemTraCoKetQuaCLSXetNghiem(lstYeuCauDichVuKyThuat) {\n        // let result = lstYeuCauDichVuKyThuat.filter(p => p.TrangThaiDichVuId == this.enumTrangThaiYeuCauDichVuKyThuat.DaThucHien && p.LoaiDichVuKyThuat == this.enumLoaiDichVuKyThuat.XetNghiem)\n        // return result.length > 0 ? true : false;\n\n        let result = lstYeuCauDichVuKyThuat.filter(p => p.TrangThaiDichVuId == this.enumTrangThaiYeuCauDichVuKyThuat.DaThucHien && p.LoaiDichVuKyThuat == this.enumLoaiDichVuKyThuat.XetNghiem)\n        //&& result[0].KetQuaCanLamSanPTTT.length > 0 ? true : false;\n        return result.length > 0;\n        // return result.length > 0 ? true : false;\n    }\n    \n    inPhieuDuyetKetQua: InPhieuKetQuaLayMau = new InPhieuKetQuaLayMau();\n    dataSource: any = { data: [], total: 0 }\n    InPhieuXn() {\n        let dialogRef: any;\n        let dataChiTietXetNghiem: any[] = [];\n        var yeuCauTiepNhanId = this.yeuCauTiepNhanId;      \n        if (this.dataSource != null && this.dataSource.data.length > 0) {           \n            this.apiService.post<any>(\"DuyetKetQuaXetNghiem/GetDataXetNghiemKetQuaIn?yeuCauTiepNhanId=\" + yeuCauTiepNhanId).subscribe(\n                (result) => {\n                    if (result != null) {\n                        result.forEach(element => {\n                            if (element.ChiTietKetQuaXetNghiems != null) {\n                                element.ChiTietKetQuaXetNghiems.forEach(elements => {\n                                    dataChiTietXetNghiem.push(elements);\n                                });\n                            }\n\n                        });\n                        dialogRef = this.dialog.open(ChonLoaiKetQuaXetNghiemPopupComponent, {\n                            disableClose: true,\n                            width: '1000px',\n                            // height: '300px',\n                            data: dataChiTietXetNghiem,\n                        }).afterClosed().subscribe((result) => {\n                            if (result != undefined && result != null && result != \"\") {\n                                if (result == 'No') {\n                                    this.closePopupLoadingData();\n                                }\n                                else {\n                                    this.inPhieuDuyetKetQua.HostingName = window.location.protocol + '//' + window.location.host;\n                                    this.inPhieuDuyetKetQua.Header = true;\n                                    this.inPhieuDuyetKetQua.YeuCauTiepNhanId = this.yeuCauTiepNhanId;\n                                    this.inPhieuDuyetKetQua.LoaiIn = result.LoaiIn;\n                                    this.inPhieuDuyetKetQua.ListIn = result.ListIn;\n                                    //this.apiService.postExportPdf<any>('XetNghiem/ExportPdfKetQuaXetNghiem', this.inPhieuDuyetKetQua).subscribe(\n                                    this.apiService.post<Array<string>>('XetNghiem/GetAllHtmlPdfKetQuaXetNghiem', this.inPhieuDuyetKetQua).subscribe(\n                                        arrHtml => {\n                                            // const dateTimeNow = new Date();\n                                            // CommonService.downLoadFile(resData, 'application/pdf', 'KetQuaXetNghiem' + dateTimeNow.getDate() + dateTimeNow.getMonth() + dateTimeNow.getFullYear() + '.pdf');\n                                            //   this.closePopupLoadingData();\n                                            this.dialog.open(LayMauXetNghiemKetQuaPopupComponent, {\n                                                disableClose: false,\n                                                width: '1000px',\n                                                data: arrHtml\n                                            }).afterClosed().subscribe(result => {\n                                            });\n                                            this.closePopupLoadingData();\n                                        },\n                                        (err: ApiError) => {\n                                            if (err.Message !== 'Validation Failed') {\n                                                this.notificationService.showError(err.Message);\n                                            }\n                                            this.closePopupLoadingData();\n                                        });\n                                }\n                            }\n                        });\n                    };\n                },\n                (err: ApiError) => {\n                    this.validationErrors = err.ValidationErrors;\n                    if (err.Message != \"Validation Failed\") {\n                        this.notificationService.showError(err.Message);\n                    }\n                });\n        }\n\n    }\n\n\n    //ghi nhận vật tư thuốc\n    getGridDataGhiNhanVTHHThuoc(yeuCauDichVuKyThuatId: any) {\n        var url = `PhauThuatThuThuat/GetGridDataGhiNhanVTTHThuoc?yeuCauDichVuKyThuatId=${yeuCauDichVuKyThuatId}`;\n        this.apiService.get<any>(url).subscribe(res => {\n            if (res) {\n                this.gridDataSourceVTTHThuoc = {\n                    data: res,\n                    total: res.length\n                }\n                if (this.gridChildVTTHThuoc !== undefined) {\n                    this.gridChildVTTHThuoc.gridDataSource = this.gridDataSourceVTTHThuoc;\n                    this.gridChildVTTHThuoc.setDataSource();\n                }\n            }\n        }, (err: ApiError) => {\n            err.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n            this.closePopupLoadingData();\n        });\n    }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvbGljaC1zdS1kdi1raG9uZy10aHVjLWhpZW4vbGljaC1zdS1kdi1raG9uZy10aHVjLWhpZW4uY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\n@Component({\n  selector: 'app-lich-su-dv-khong-thuc-hien',\n  templateUrl: './lich-su-dv-khong-thuc-hien.component.html',\n  styleUrls: ['./lich-su-dv-khong-thuc-hien.component.scss']\n})\nexport class LichSuDvKhongThucHienComponent implements OnInit {\n  icClose = icClose;\n  gridColumns: any[] = [];\n  urlGetDataGrid: string = \"PhauThuatThuThuat/GetDataForGridAsyncLichSuDVPTTTKhongThucHien\";\n  urlGetTotalPageGrid: string = \"PhauThuatThuThuat/GetTotalPageForGridAsyncLichSuDVPTTTKhongThucHien\";\n  constructor(\n    private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any\n  ) { }\n\n  ngOnInit() {\n    console.log(\"data Input: \", this.data)\n    this.gridColumns = [\n      { Field: \"TenDichVu\", Title: \"Tên dịch vụ\", Width: 250 },\n      { Field: \"LyDo\", Title: \"Lý do hủy\", Width: 200 },\n      { Field: \"HoTenBacSiHuy\", Title: \"Người hủy\", Width: 150 },\n    ];\n  }\n\n  close() {\n    this.dialog.closeAll();\n  }\n}\n","export default \".green {\\n  color: green;\\n}\\n\\n.red {\\n  color: red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC1iZW5oLW5oYW4tZGEtcGhhdS10aHVhdC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHBoYXUtdGh1YXQtdGh1LXRodWF0XFxwaGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXlcXHBoYXUtdGh1YXQtdGh1LXRodWF0LWJlbmgtbmhhbi1kYS1waGF1LXRodWF0XFxwaGF1LXRodWF0LXRodS10aHVhdC1iZW5oLW5oYW4tZGEtcGhhdS10aHVhdC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC1iZW5oLW5oYW4tZGEtcGhhdS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC1iZW5oLW5oYW4tZGEtcGhhdS10aHVhdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLFVBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtYmVuaC1uaGFuLWRhLXBoYXUtdGh1YXQvcGhhdS10aHVhdC10aHUtdGh1YXQtYmVuaC1uaGFuLWRhLXBoYXUtdGh1YXQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZ3JlZW4ge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5yZWQge1xuICBjb2xvcjogcmVkO1xufSIsIi5ncmVlbiB7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLnJlZCB7XG4gIGNvbG9yOiByZWQ7XG59Il19 */\"","import { Component, OnInit, ViewChild, TemplateRef } from '@angular/core';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { DanhSachHoanThanhQueryInfo, DanhSachKhamPTHoanThanh, LichSuPTTT, TuongTrinhLai } from '../../phau-thuat-thu-thuat.model';\nimport { MatDialog } from '@angular/material';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport icicclose from '@iconify/icons-ic/twotone-close';\nimport icPlay from \"@iconify/icons-ic/play-circle-filled\";\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { BenhNhanDaHoanThanhPtttPopupComponent } from '../benh-nhan-da-hoan-thanh-pttt-popup/benh-nhan-da-hoan-thanh-pttt-popup.component';\nimport { Subscription } from 'rxjs';\nimport { BroadcastService } from 'src/app/core/services/broadcast.service';\nimport { EnumTypeLoadingData } from 'src/app/shared/enum/kham-benh.enum';\nimport { LoadingComponent } from \"src/app/shared/component/dialogs/loading/loading.component\";\nimport { SortDescriptor } from '@progress/kendo-data-query';\nimport { LookupItemVo } from 'src/app/shared/models/common.model';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { NotificationService } from 'src/app/core/services/notification.service';\n\n@Component({\n    selector: 'app-phau-thuat-thu-thuat-benh-nhan-da-phau-thuat',\n    templateUrl: './phau-thuat-thu-thuat-benh-nhan-da-phau-thuat.component.html',\n    styleUrls: ['./phau-thuat-thu-thuat-benh-nhan-da-phau-thuat.component.scss']\n})\n\nexport class PhauThuatThuThuatBenhNhanDaPhauThuatComponent implements OnInit {\n    danhSachHoanThanhQueryInfo = new DanhSachHoanThanhQueryInfo;\n    documentType: DocumentType = DocumentType.PhauThuatThuThuatTheoNgay;\n    searchString: string;\n    fromDate: any;\n    formattedFromDate: any;\n    toDate: any;\n    formattedToDate: any;\n    phongBenhVienId: any;\n    gridKetQuaPhauThuatColumns: any[] = [];\n    dataSourceKetQuaPhauThuat = {\n        data: [],\n        total: 0,\n    };\n    icSearch = icSearch;\n    icicclose = icicclose;\n    icPlay = icPlay;\n    subscription: Subscription;\n    popupLoadingData: any;\n    query: any;\n    lichSuPTTT: DanhSachKhamPTHoanThanh;\n    lichSuPTTTDefault: DanhSachKhamPTHoanThanh;\n    phongKhamHienTai: LookupItemVo = {\n        DisplayName: null,\n        KeyId: Number(this.authService.getPhongLamViecId()),\n    };\n    sort: SortDescriptor[] = [{\n        field: \"ThoiDiemHoanThanh\",\n        dir: 'desc'\n    }];\n\n    minDateDenNgay: Date = null;\n    minDateTuNgay: Date = null;\n\n    @ViewChild('MaTNTemplate', { static: true }) MaTNTemplate: TemplateRef<any>;\n    @ViewChild('TrangThaiTemplate', { static: true }) TrangThaiTemplate: TemplateRef<any>\n    @ViewChild('TuongTrinhLaiTemplate', { static: true }) TuongTrinhLaiTemplate: TemplateRef<any>\n    @ViewChild('trangThaiYCKTTemplate', { static: true }) trangThaiYCKTTemplate: TemplateRef<any>\n    @ViewChild('thoiDiemHoanThanhTemplate', { static: true }) thoiDiemHoanThanhTemplate: TemplateRef<any>;\n    @ViewChild('thoiDiemThucHienTemplate', { static: true }) thoiDiemThucHienTemplate: TemplateRef<any>;\n    @ViewChild('gridChild', { static: false }) gridChild: GridComponent;\n    constructor(private dialog: MatDialog, private apiService: ApiService, private broadcastService: BroadcastService, \n                private authService: AuthService, private notificationService: NotificationService) { }\n\n    ngOnInit() {\n        this.lichSuPTTT = new DanhSachKhamPTHoanThanh();\n        this.lichSuPTTTDefault = new DanhSachKhamPTHoanThanh();\n\n        this.minDateTuNgay = new Date();\n        this.minDateTuNgay.setHours(0, 0, 0, 0);\n    \n        if (this.lichSuPTTT.ThoiDiemTiepNhanTuFormat == null) {\n          this.lichSuPTTT.ThoiDiemTiepNhanTuFormat = this.minDateTuNgay;\n          this.lichSuPTTT.FromDate = CommonService.formatDateTime(this.lichSuPTTT.ThoiDiemTiepNhanTuFormat, \"dd/mm/yyyy\");\n        }\n        if (this.lichSuPTTT.ThoiDiemTiepNhanDenFormat == null) {\n          this.lichSuPTTT.ThoiDiemTiepNhanDenFormat = new Date();\n          this.lichSuPTTT.ToDate = CommonService.formatDateTime(this.lichSuPTTT.ThoiDiemTiepNhanDenFormat, \"dd/mm/yyyy\");\n        }\n\n        this.gridKetQuaPhauThuatColumns = [\n            { Field: \"MaBN\", Title: \"Mã NB\", Width: 150, Sortable: true, Template: this.MaTNTemplate },\n            { Field: \"HoTen\", Title: \"Tên NB\", Width: 150, Sortable: true },\n            { Field: \"NamSinh\", Title: \"Năm sinh\", Width: 100, Sortable: true },\n            { Field: \"DiaChi\", Title: \"Địa chỉ\", Width: 100, Sortable: true },\n            { Field: \"DoiTuong\", Title: \"Đối tượng\", Width: 100, Sortable: true },\n            { Field: \"TrangThaiPTTTSearch\", Title: \"Trạng thái\", Width: 150, Sortable: true, Template: this.trangThaiYCKTTemplate },\n            { Field: \"SoDichVuKhongTuongTrinh\", Title: \"SL DV Không thực hiện\", Width: 100, Sortable: true },\n            { Field: \"NoiChuyenGiao\", Title: \"Nơi chuyển giao\", Width: 150, Sortable: true },\n            { Field: \"ThoiDiemHoanThanh\", Title: \"Thời điểm hoàn thành\", Width: 150, Sortable: true, Template: this.thoiDiemHoanThanhTemplate },\n            { Field: \"ThoiDiemThucHien\", Title: \"Thời điểm thực hiện\", Width: 150, Sortable: true, Template: this.thoiDiemThucHienTemplate },\n            { Field: \"Action\", Title: \"\", Width: 80, Template: this.TrangThaiTemplate },\n            { Field: \"Action\", Title: \"\", Width: 150, Template: this.TuongTrinhLaiTemplate }\n        ]\n        this.getPhongBenhVienId();\n    }\n\n    ngAfterContentInit() {\n        this.subscription = this.broadcastService.on(\"ChuyenPhongThanhCong\", (event) => {\n            if (event) {\n                this.getPhongBenhVienId();\n            }\n        });\n    }\n    ngOnDestroy() {\n        if (this.subscription != undefined) {\n            this.subscription.unsubscribe();\n        }\n    }\n    getPhongBenhVienId() {\n\n        setTimeout(() => {\n            this.dialog.closeAll();\n        }, 1000);\n\n        let currentAccessUser = this.authService.getAccessUser();\n        if (currentAccessUser.PhongBenhVienId != 0) {\n            this.phongBenhVienId = parseInt(this.authService.getPhongLamViecId());\n            this.lichSuPTTT.PhongBenhVienId = this.phongBenhVienId;\n            var queryString = JSON.stringify(this.lichSuPTTT);\n            this.query = queryString;\n            if (this.gridChild != null) {\n                this.gridChild._additionalSearchString = this.query;\n                this.gridChild.search();\n            }\n        }\n    }\n\n    onKey(event: any) {\n        if (event.key === \"Enter\") {\n            if (this.lichSuPTTT.ThoiDiemTiepNhanTuFormat == null && this.lichSuPTTT.ThoiDiemTiepNhanDenFormat == null) {\n                this.TimKiemNangCao();\n            }\n            else if (this.lichSuPTTT.ThoiDiemTiepNhanTuFormat != null && this.lichSuPTTT.ThoiDiemTiepNhanDenFormat != null) {\n                this.TimKiemNangCao();\n            }\n            else if (this.lichSuPTTT.ThoiDiemTiepNhanTuFormat == null && this.lichSuPTTT.ThoiDiemTiepNhanDenFormat != null) {\n                this.TimKiemNangCao();\n            }\n            else if (this.lichSuPTTT.ThoiDiemTiepNhanTuFormat != null && this.lichSuPTTT.ThoiDiemTiepNhanDenFormat == null) {\n                this.TimKiemNangCao();\n            }\n        }\n\n    }\n\n    searchChanges() {\n        if (this.searchString == null || this.searchString == \"\" && this.lichSuPTTT.ThoiDiemTiepNhanTuFormat == null && this.lichSuPTTT.ThoiDiemTiepNhanDenFormat == null) {\n            this.TimKiemNangCao();\n        }\n        else if (this.searchString == null || this.searchString == \"\" && this.lichSuPTTT.ThoiDiemTiepNhanTuFormat != null && this.lichSuPTTT.ThoiDiemTiepNhanDenFormat != null) {\n            this.TimKiemNangCao();\n        }\n        else if (this.searchString == null || this.searchString == \"\" && this.lichSuPTTT.ThoiDiemTiepNhanTuFormat == null && this.lichSuPTTT.ThoiDiemTiepNhanDenFormat != null) {\n            this.TimKiemNangCao();\n        }\n        else if (this.searchString == null || this.searchString == \"\" && this.lichSuPTTT.ThoiDiemTiepNhanTuFormat != null && this.lichSuPTTT.ThoiDiemTiepNhanDenFormat == null) {\n            this.TimKiemNangCao();\n        }\n        else if (this.searchString == null || this.searchString == \"\" && this.lichSuPTTT.ThoiDiemTiepNhanTuFormat != null && this.lichSuPTTT.ThoiDiemTiepNhanDenFormat == null) {\n            this.TimKiemNangCao();\n        }\n    }\n\n    clearSearch() {\n        this.searchString = \"\";\n        this.gridChild.search();\n    }\n\n    thoiDiemTNChange() {\n        if (this.lichSuPTTT.ThoiDiemTiepNhanTuFormat == null && this.lichSuPTTT.ThoiDiemTiepNhanDenFormat == null) {\n            this.Timkiem();\n        }\n        else if (this.lichSuPTTT.ThoiDiemTiepNhanTuFormat != null && this.lichSuPTTT.ThoiDiemTiepNhanDenFormat != null) {\n            this.TimKiemNangCao();\n        }\n        else if (this.lichSuPTTT.ThoiDiemTiepNhanTuFormat == null && this.lichSuPTTT.ThoiDiemTiepNhanDenFormat != null) {\n            this.TimKiemNangCao();\n        }\n        else if (this.lichSuPTTT.ThoiDiemTiepNhanTuFormat != null && this.lichSuPTTT.ThoiDiemTiepNhanDenFormat == null) {\n            this.TimKiemNangCao();\n        }\n    }\n\n    Timkiem() {\n        let QueryString = null;\n        this.gridChild._additionalSearchString = null;\n        if (this.searchString != null) {\n            QueryString = this.searchString;\n        }\n        this.gridChild.searchString = QueryString;\n        this.gridChild.search();\n    }\n\n    TimKiemNangCao() {\n        if (this.lichSuPTTT.ThoiDiemTiepNhanTuFormat != null) {\n            this.lichSuPTTT.FromDate = CommonService.formatDateTime(this.lichSuPTTT.ThoiDiemTiepNhanTuFormat, \"dd/mm/yyyy\");\n        }\n        else {\n            this.lichSuPTTT.FromDate = null;\n        }\n        if (this.lichSuPTTT.ThoiDiemTiepNhanDenFormat != null) {\n            this.lichSuPTTT.ToDate = CommonService.formatDateTime(this.lichSuPTTT.ThoiDiemTiepNhanDenFormat, \"dd/mm/yyyy\");\n        }\n        else {\n            this.lichSuPTTT.ToDate = null;\n        }\n        if (this.searchString != null || this.searchString != \"\") {\n            this.lichSuPTTT.SearchString = this.searchString;\n        }\n\n        this.lichSuPTTT.PhongBenhVienId = this.phongBenhVienId;\n        var queryString = JSON.stringify(this.lichSuPTTT);\n        // this.gridChild.searchString = null;\n        this.gridChild._additionalSearchString = queryString;\n\n        this.gridChild.search();\n    }\n\n    XemPTTTBenhNhanHoanThanh(yeuCauTiepNhanId: any, yeuCauKyThuatId: any, soLan: any, laKhongThucHien: boolean = false) {\n        this.dialog.open(BenhNhanDaHoanThanhPtttPopupComponent, {\n            disableClose: true,\n            width: 'auto',\n            height: 'auto',\n            data: { yeuCauTiepNhanId, yeuCauKyThuatId, soLan, laKhongThucHien }\n        }).afterClosed().subscribe(result => {\n            if (result == \"Yes\") {\n            }\n        });\n    }\n\n    showPopupLoadingData(typeLoading: EnumTypeLoadingData = EnumTypeLoadingData.View) {\n        let mess = \"\"; //typeLoading == EnumTypeLoadingData.View ? \"Đang tải dữ liệu...\" : \"Đang lưu dữ liệu...\";\n\n        switch (typeLoading) {\n            case EnumTypeLoadingData.View:\n                mess = 'Đang tải dữ liệu...'; break;\n            case EnumTypeLoadingData.Update:\n                mess = 'Đang lưu dữ liệu...'; break;\n            case EnumTypeLoadingData.Delete:\n                mess = 'Đang xóa dữ liệu...'; break;\n            default: mess = 'Đang tải dữ liệu...';\n        }\n\n        this.popupLoadingData = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: mess }\n        });\n    }\n\n    tuongtinhLai(dataItem: any) {\n        let tuongTrinhLai = new TuongTrinhLai();\n        tuongTrinhLai.PhongBenhVienId = this.phongKhamHienTai.KeyId;\n        tuongTrinhLai.TuongTrinhLaiTheoYeuCauDichVuKyThuatId = dataItem.TuongTrinhLaiYeuCauKyThuatIds;\n\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessConfirm, [\"tường trình lại\"]) }\n        }).afterClosed().subscribe(result => {\n            if (result === 'Yes') {\n                this.apiService.post<any>(\"PhauThuatThuThuat/TuongTrinhLai\", tuongTrinhLai).subscribe(res => {\n                    // this.gridChild.search();\n                    this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Tường trình lại\"]));\n                    window.location.reload(); //load lại trang do tab Phẫu thuật/thủ thuật không call lại\n                }, (err) => {\n                    this.notificationService.showError(err.Message);\n                });\n            }\n        });\n    }\n\n    closePopupLoadingData() {\n        if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n            this.popupLoadingData.close();\n        }\n    }\n\n}\n","export default \"fieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC1ibi10aWVwLXRoZW8tcG9wdXAvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxwaGF1LXRodWF0LXRodS10aHVhdFxccGhhdS10aHVhdC10aHUtdGh1YXQtdGhlby1uZ2F5XFxwaGF1LXRodWF0LXRodS10aHVhdC1ibi10aWVwLXRoZW8tcG9wdXBcXHBoYXUtdGh1YXQtdGh1LXRodWF0LWJuLXRpZXAtdGhlby1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC1ibi10aWVwLXRoZW8tcG9wdXAvcGhhdS10aHVhdC10aHUtdGh1YXQtYm4tdGllcC10aGVvLXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSw4QkFBQTtFQUNBLGtDQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQ0FBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7QUNDRjs7QURFQTtFQUNFLDRCQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0UsOEJBQUE7QUNDRjs7QURFQTtFQUNFLDBCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vcGhhdS10aHVhdC10aHUtdGh1YXQvcGhhdS10aHVhdC10aHUtdGh1YXQtdGhlby1uZ2F5L3BoYXUtdGh1YXQtdGh1LXRodWF0LWJuLXRpZXAtdGhlby1wb3B1cC9waGF1LXRodWF0LXRodS10aHVhdC1ibi10aWVwLXRoZW8tcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJmaWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudDtcbn0iLCJmaWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudDtcbn0iXX0= */\"","import { Component, OnInit, Inject, Input } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport icClose from \"@iconify/icons-ic/twotone-close\";\n\n@Component({\n    selector: 'app-phau-thuat-thu-thuat-bn-tiep-theo-popup',\n    templateUrl: './phau-thuat-thu-thuat-bn-tiep-theo-popup.component.html',\n    styleUrls: ['./phau-thuat-thu-thuat-bn-tiep-theo-popup.component.scss']\n})\nexport class PhauThuatThuThuatBnTiepTheoPopupComponent implements OnInit {\n    icClose = icClose;\n    benhNhanHienTai: any;\n\n    constructor(@Inject(MAT_DIALOG_DATA) public data: any, private dialog: MatDialog, private dialogRef: MatDialogRef<any>) { }\n\n    ngOnInit() {\n        this.benhNhanHienTai = this.data;\n    }\n\n    close() {\n        this.dialog.closeAll();\n    }\n\n    confirm() {\n        this.dialogRef.close(true);\n    }\n}","export default \".ns-minus {\\n  text-align: center;\\n  display: block;\\n  right: 0;\\n}\\n\\n#NhomDichVuBenhVienId .k-textbox-container {\\n  z-index: 999;\\n}\\n\\n#dvkt .k-textbox-container {\\n  z-index: 999;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n  padding-bottom: 10px;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\n.selectAddViTri {\\n  border: 0px solid #ccc;\\n  width: 120px;\\n  border-radius: 0px;\\n  overflow: hidden;\\n  background: #fafafa;\\n}\\n\\n.selectAddViTri:before {\\n  font-family: \\\"FontAwesome\\\";\\n  position: absolute;\\n  top: 3px;\\n  right: 12px;\\n  font-size: 18px;\\n}\\n\\n.selectAddViTri select {\\n  padding: 5px 8px;\\n  width: 130%;\\n  border: none;\\n  box-shadow: none;\\n  background: transparent;\\n  background-image: none;\\n  -webkit-appearance: none;\\n}\\n\\n.selectAddViTri select:focus {\\n  outline: none;\\n}\\n\\nselect option {\\n  color: black;\\n}\\n\\n.yellowText {\\n  color: yellowgreen;\\n}\\n\\n.redText {\\n  color: red;\\n}\\n\\n.greenText {\\n  color: green;\\n}\\n\\n.orangeText {\\n  color: orange;\\n}\\n\\n.blueText {\\n  color: blue;\\n}\\n\\n.blackText {\\n  color: black;\\n}\\n\\n.styleInChiDinh {\\n  text-align: right;\\n  float: right;\\n  margin-left: 10px;\\n}\\n\\n.styleTinhTong {\\n  border: 1px solid #ccc;\\n  border-radius: 5px;\\n  padding: 15px;\\n  background: #e3f2fd;\\n  text-align: right;\\n  margin: 10px -17px -17px -17px;\\n}\\n\\n.size-icon {\\n  display: inline-block;\\n  height: 20px;\\n  width: 20px;\\n  line-height: 20px;\\n  border-radius: 10px;\\n  background-color: green;\\n  color: #FFF;\\n  text-align: center;\\n}\\n\\n.container-so-do-giuong {\\n  position: relative;\\n  margin-bottom: 16px;\\n}\\n\\n.container-so-do-giuong .so-do-giuong {\\n  text-decoration: underline;\\n  color: blue;\\n  font-style: italic;\\n  position: absolute;\\n  bottom: 0px;\\n}\\n\\n.clear-z-index {\\n  z-index: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC1jYW4tbGFtLXNhbi9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHBoYXUtdGh1YXQtdGh1LXRodWF0XFxwaGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXlcXHBoYXUtdGh1YXQtdGh1LXRodWF0LWNhbi1sYW0tc2FuXFxwaGF1LXRodWF0LXRodS10aHVhdC1jYW4tbGFtLXNhbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC1jYW4tbGFtLXNhbi9waGF1LXRodWF0LXRodS10aHVhdC1jYW4tbGFtLXNhbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLFFBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0VBQ0Esb0JBQUE7QUNDRjs7QURFQTtFQUNFLGdDQUFBO0FDQ0Y7O0FERUE7RUFDRSxzQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLDBCQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0Esc0JBQUE7RUFDQSx3QkFBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7QUNDRjs7QURFQTtFQUNFLFVBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7RUFDQSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UscUJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBRUEsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsMEJBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUNDRjs7QURFQTtFQUNFLFVBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtY2FuLWxhbS1zYW4vcGhhdS10aHVhdC10aHUtdGh1YXQtY2FuLWxhbS1zYW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubnMtbWludXMge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICByaWdodDogMDtcbn1cblxuI05ob21EaWNoVnVCZW5oVmllbklkIC5rLXRleHRib3gtY29udGFpbmVyIHtcbiAgei1pbmRleDogOTk5O1xufVxuXG4jZHZrdCAuay10ZXh0Ym94LWNvbnRhaW5lciB7XG4gIHotaW5kZXg6IDk5OTtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxuLnNlbGVjdEFkZFZpVHJpIHtcbiAgYm9yZGVyOiAwcHggc29saWQgI2NjYztcbiAgd2lkdGg6IDEyMHB4O1xuICBib3JkZXItcmFkaXVzOiAwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGJhY2tncm91bmQ6ICNmYWZhZmE7XG59XG5cbi5zZWxlY3RBZGRWaVRyaTpiZWZvcmUge1xuICBmb250LWZhbWlseTogXCJGb250QXdlc29tZVwiO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogM3B4O1xuICByaWdodDogMTJweDtcbiAgZm9udC1zaXplOiAxOHB4O1xufVxuXG4uc2VsZWN0QWRkVmlUcmkgc2VsZWN0IHtcbiAgcGFkZGluZzogNXB4IDhweDtcbiAgd2lkdGg6IDEzMCU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm94LXNoYWRvdzogbm9uZTtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbn1cblxuLnNlbGVjdEFkZFZpVHJpIHNlbGVjdDpmb2N1cyB7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cbnNlbGVjdCBvcHRpb24ge1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi55ZWxsb3dUZXh0IHtcbiAgY29sb3I6IHllbGxvd2dyZWVuO1xufVxuXG4ucmVkVGV4dCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5ncmVlblRleHQge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5vcmFuZ2VUZXh0IHtcbiAgY29sb3I6IG9yYW5nZTtcbn1cblxuLmJsdWVUZXh0IHtcbiAgY29sb3I6IGJsdWU7XG59XG5cbi5ibGFja1RleHQge1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5zdHlsZUluQ2hpRGluaCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBmbG9hdDogcmlnaHQ7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuXG4uc3R5bGVUaW5oVG9uZyB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgcGFkZGluZzogMTVweDtcbiAgYmFja2dyb3VuZDogI2UzZjJmZDtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIG1hcmdpbjogMTBweCAtMTdweCAtMTdweCAtMTdweDtcbn1cblxuLnNpemUtaWNvbiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgaGVpZ2h0OiAyMHB4O1xuICB3aWR0aDogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIC1tb3otYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiAjRkZGO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5jb250YWluZXItc28tZG8tZ2l1b25nIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xufVxuXG4uY29udGFpbmVyLXNvLWRvLWdpdW9uZyAuc28tZG8tZ2l1b25nIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gIGNvbG9yOiBibHVlO1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiAwcHg7XG59XG5cbi5jbGVhci16LWluZGV4IHtcbiAgei1pbmRleDogMTtcbn0iLCIubnMtbWludXMge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICByaWdodDogMDtcbn1cblxuI05ob21EaWNoVnVCZW5oVmllbklkIC5rLXRleHRib3gtY29udGFpbmVyIHtcbiAgei1pbmRleDogOTk5O1xufVxuXG4jZHZrdCAuay10ZXh0Ym94LWNvbnRhaW5lciB7XG4gIHotaW5kZXg6IDk5OTtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW07XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbTtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtO1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxuLnNlbGVjdEFkZFZpVHJpIHtcbiAgYm9yZGVyOiAwcHggc29saWQgI2NjYztcbiAgd2lkdGg6IDEyMHB4O1xuICBib3JkZXItcmFkaXVzOiAwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGJhY2tncm91bmQ6ICNmYWZhZmE7XG59XG5cbi5zZWxlY3RBZGRWaVRyaTpiZWZvcmUge1xuICBmb250LWZhbWlseTogXCJGb250QXdlc29tZVwiO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogM3B4O1xuICByaWdodDogMTJweDtcbiAgZm9udC1zaXplOiAxOHB4O1xufVxuXG4uc2VsZWN0QWRkVmlUcmkgc2VsZWN0IHtcbiAgcGFkZGluZzogNXB4IDhweDtcbiAgd2lkdGg6IDEzMCU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm94LXNoYWRvdzogbm9uZTtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbn1cblxuLnNlbGVjdEFkZFZpVHJpIHNlbGVjdDpmb2N1cyB7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cbnNlbGVjdCBvcHRpb24ge1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi55ZWxsb3dUZXh0IHtcbiAgY29sb3I6IHllbGxvd2dyZWVuO1xufVxuXG4ucmVkVGV4dCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5ncmVlblRleHQge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5vcmFuZ2VUZXh0IHtcbiAgY29sb3I6IG9yYW5nZTtcbn1cblxuLmJsdWVUZXh0IHtcbiAgY29sb3I6IGJsdWU7XG59XG5cbi5ibGFja1RleHQge1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5zdHlsZUluQ2hpRGluaCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBmbG9hdDogcmlnaHQ7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuXG4uc3R5bGVUaW5oVG9uZyB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgcGFkZGluZzogMTVweDtcbiAgYmFja2dyb3VuZDogI2UzZjJmZDtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIG1hcmdpbjogMTBweCAtMTdweCAtMTdweCAtMTdweDtcbn1cblxuLnNpemUtaWNvbiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgaGVpZ2h0OiAyMHB4O1xuICB3aWR0aDogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIC1tb3otYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiAjRkZGO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5jb250YWluZXItc28tZG8tZ2l1b25nIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xufVxuXG4uY29udGFpbmVyLXNvLWRvLWdpdW9uZyAuc28tZG8tZ2l1b25nIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gIGNvbG9yOiBibHVlO1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiAwcHg7XG59XG5cbi5jbGVhci16LWluZGV4IHtcbiAgei1pbmRleDogMTtcbn0iXX0= */\"","import { Component, OnInit, Input, ViewChild, TemplateRef, ViewEncapsulation, Output, EventEmitter, ElementRef, SimpleChanges, NgZone, HostListener } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\nimport { YeuCauGoiDichVu, ChiDinhDichVuKyThuatMultiselectViewModel, GoiKhongChietKhau, ListInChiDinh, GridItemYeuCauDichVuKyThuat, XoaChiDinhViewModel, GoiDichVu, TrangThaiYeuCauKhamBenhObjEnum, TrangThaiYeuCauDichVuKyThuatObjEnum, LookupCheckItem, ChiDinhGoiDichVuTheoBenhNhan, ChiDinhGoiDichVuTheoBenhNhanDichVuLoi, PhieuInXetNghiemVo, GoiLaiYeuCauXetNghiem, ChiDinhGoiDichVuThuongDungDichVuLoi, ChiDinhGoiDichVuThuongDung, DichVuKyThuatBenhVienIdsSarsCoVLoaiBenhPham, XetNghiemCovid } from '../../../kham-benh/kham-benh.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { EnumTypeComponent, EnumTypeLoadingData, EnumNhomGoiDichVu } from 'src/app/shared/enum/kham-benh.enum';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { MatDialog } from '@angular/material';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage, PtttMessage } from 'src/app/shared/configdata/system-message';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ThemChiDinhDichVu, GridUpdate, ChiDinhDichVuGridVo } from '../../../tiep-nhan-benh-nhan/tiep-nhan-benh-nhan.model';\nimport { NhomDichVu } from 'src/app/shared/constants/nhom-dich-vu-constant';\nimport { PtttClsInChiDinhComponent } from './pttt-cls-in-chi-dinh/pttt-cls-in-chi-dinh.component';\nimport { LoaiDichVuKyThuat, TrangThaiYeuCauDichVuKyThuat } from 'src/app/shared/enum/dich-vu-ky-thuat.enum';\nimport { LoaiTapTin } from 'src/app/shared/enum/common-type.enums';\nimport { Http, RequestOptions, ResponseContentType } from '@angular/http';\nimport { PtttClsGoiDichVuPopupComponent } from './pttt-cls-goi-dich-vu-popup/pttt-cls-goi-dich-vu-popup.component';\nimport { LanKhamHienTaiSuDungGoiDichVuPopupComponent } from '../../../kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-su-dung-goi-dich-vu-popup/lan-kham-hien-tai-su-dung-goi-dich-vu-popup.component';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { LanKhamHienTaiNhomDichVuLoiPopupComponent } from '../../../kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-loi-popup/lan-kham-hien-tai-nhom-dich-vu-loi-popup.component';\nimport { LayMauXetNghiemKetQuaPopupComponent } from '../../../kham-benh/kham-benh/lan-kham-hien-tai/lay-mau-xet-nghiem-ket-qua-popup/lay-mau-xet-nghiem-ket-qua-popup.component';\nimport { PttClsChayLaiXnPopupComponent } from './ptt-cls-chay-lai-xn-popup/ptt-cls-chay-lai-xn-popup.component';\nimport { XemKetQuaCdhaTdcnPopupComponent } from '../../../can-lam-sang/lich-su-can-lam-sang/xem-ket-qua-cdha-tdcn-popup/xem-ket-qua-cdha-tdcn-popup.component';\n\nimport icCheck from '@iconify/icons-ic/twotone-check';\nimport icInfo from '@iconify/icons-ic/twotone-info';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icRedEye from '@iconify/icons-ic/twotone-remove-red-eye';\nimport icDownward from \"@iconify/icons-ic/baseline-cloud-download\";\nimport icCancel from '@iconify/icons-ic/outline-cancel';\nimport { HuyDichVuHuyThanhToanPopupComponent } from '../../../kham-benh/kham-benh/lan-kham-hien-tai/huy-dich-vu-huy-thanh-toan-popup/huy-dich-vu-huy-thanh-toan-popup.component';\nimport { DichVuKhuyenMaiPopupComponent } from '../../../dich-vu-khuyen-mai/dich-vu-khuyen-mai-popup/dich-vu-khuyen-mai-popup.component';\nimport { LanKhamHienTaiNhomDichVuThuongDungPopupComponent } from '../../../kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup/lan-kham-hien-tai-nhom-dich-vu-thuong-dung-popup.component';\nimport { PopupChonLoaiInViewComponent } from '../../../popup-chon-loai-In/popup-chon-loai-in-view/popup-chon-loai-in-view.component';\nimport { XnCovidSarscov2PopupComponent } from '../../../kham-benh/kham-benh/lan-kham-hien-tai/xn-covid-sarscov2-popup/xn-covid-sarscov2-popup.component';\nimport { XnSarsCov2PopupComponent } from '../../../kham-benh/kham-benh/xn-sars-cov2-popup/xn-sars-cov2-popup.component';\nimport { BoPhan } from 'src/app/shared/enum/bo-phan.enum';\n\ndeclare var jQuery: any;\n\n@Component({\n    selector: 'app-phau-thuat-thu-thuat-can-lam-san',\n    templateUrl: './phau-thuat-thu-thuat-can-lam-san.component.html',\n    styleUrls: ['./phau-thuat-thu-thuat-can-lam-san.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\n\nexport class PhauThuatThuThuatCanLamSanComponent implements OnInit {\n    timeout = null;\n    popupLoadingData: any;\n    enumLoaiDichVuKyThuat = LoaiDichVuKyThuat;\n    enumTrangThaiYeuCauDichVuKyThuat = TrangThaiYeuCauDichVuKyThuat;\n    themChiDinhDichVuModel = new ThemChiDinhDichVu();\n    phieuInXetNghiemVo = new PhieuInXetNghiemVo;\n    ListNoiThucHien: any;\n    loaiTapTin = LoaiTapTin;\n    dataPopup: any;\n    isUpdating: boolean = false;\n\n    checkAll: boolean = null;\n    showComboboxNhomDichVuKyThuat: boolean = true;\n    FlagDuocHuongBaoHiem: boolean = false;\n    isCheckXacNhanIn: boolean = false;\n    isChangeData: boolean = false;\n    coDichVuKhuyenMai: boolean = false;\n\n    tongthanhtien = 0;\n    tongtienBNThanhToan = 0;\n    tongThanhTienGoiChietKhau = 0;\n\n    trangThaiYCKB: TrangThaiYeuCauKhamBenhObjEnum = new TrangThaiYeuCauKhamBenhObjEnum();\n    trangThaiYCDVKT: TrangThaiYeuCauDichVuKyThuatObjEnum = new TrangThaiYeuCauDichVuKyThuatObjEnum();\n    trangThaiYeuCauDichVuKyThuat: TrangThaiYeuCauDichVuKyThuatObjEnum = new TrangThaiYeuCauDichVuKyThuatObjEnum();\n\n    yeuCauGoiDichVu: YeuCauGoiDichVu = new YeuCauGoiDichVu();\n    lstDichVuTheoGoiDangChon: Array<LookupCheckItem> = [];\n    chiDinhDichVuKyThuatMultiselect: ChiDinhDichVuKyThuatMultiselectViewModel = new ChiDinhDichVuKyThuatMultiselectViewModel();\n    goiKhongChietKhau: GoiKhongChietKhau[] = [];\n    listChonDichVuChiDinh: any[] = [];\n    listChonDichVuChiDinhReLoad: any[] = [];\n    thongTinLichSuYeuCauChayLai: any[] = [];\n\n    gridDataSource: any = [];\n    gridColumns: any[] = [];\n    groups: GroupDescriptor[] = [{\n        field: 'NhomTheoPhienXetNghiem', dir: null, aggregates: [\n            { field: 'ThanhTien', aggregate: 'sum' },\n            { field: 'BHYTThanhToan', aggregate: 'sum' },\n            { field: 'SoTienMG', aggregate: 'sum' },\n            { field: 'BNThanhToan', aggregate: 'sum' }]\n    }];\n\n    documentType: DocumentType = DocumentType.PhauThuatThuThuatTheoNgay;\n    validationErrors: any;\n    coGoiDichVu: boolean = false;\n\n    icCheck = icCheck;\n    icInfo = icInfo;\n    icDelete = icDelete;\n    icRedEye = icRedEye;\n    icDownward = icDownward;\n    icCancel = icCancel;\n\n    public totalNotChietKhau(field: any) {\n        switch (field) {\n            case 'ThanhTien':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'BHYTThanhToan':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n            case 'SoTienMG':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'BNThanhToan':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.BNThanhToan, 0);\n        }\n    };\n\n    messVuotQuaTamUng: string = \"Chỉ định này đã vượt quá số tiền tạm ứng của người bệnh.\";\n\n    showbuttonLuuVaInPhieuXetNghiem:boolean = false;\n    dichVuSarsCoVs:number[]=[];\n    loaiBenhPhamText:string =null;\n    loaiBenhPham:number =null;\n    bieuHienLamSang:string =null;\n    dichTeSarsCoV2:string =null;\n\n    @Input() benhNhanHienTai: any;\n    @Input() currentAccessUser: any;\n    @Output() valueChangeShowTuongTrinh: EventEmitter<any> = new EventEmitter<any>();\n    @Output() outputPhauThuatThuThuatCLSDataChanged = new EventEmitter();\n    @Output() outputIsGetDataCanLamSanDone = new EventEmitter();\n    @Output() outputPhauThuatThuThuatCLSDataChangedAfterAddAndRemove = new EventEmitter();\n    @Output() outputPhauThuatThuThuatCLSOutOfYeuCauDichVuKyThuats = new EventEmitter();\n    @Output() outputSoDuTaiKhoanChanged = new EventEmitter();\n    @Output() outputSoDuTaiKhoanUocLuongConLaiChanged = new EventEmitter();\n\n    @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n    @ViewChild('checkBoxTemplate', { static: true }) checkBoxTemplate: TemplateRef<any>;\n    @ViewChild('checkBoxHeaderTemplate', { static: true }) checkBoxHeaderTemplate: TemplateRef<any>;\n    @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n    @ViewChild('congTienGroupFooterTemplate', { static: true }) congTienGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('tongTienFooterTemplate', { static: true }) tongTienFooterTemplate: TemplateRef<any>;\n    @ViewChild('nhomGiaTemplate', { static: true }) nhomGiaTemplate: TemplateRef<any>;\n    @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n    @ViewChild('donGiaFooterTemplate', { static: true }) donGiaFooterTemplate: TemplateRef<any>; //note\n    @ViewChild('soLuongTemplate', { static: true }) soLuongTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienFooterTemplate', { static: true }) thanhTienFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienGroupFooterTemplate', { static: true }) thanhTienGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('donGiaBaoHiemTemplate', { static: true }) donGiaBaoHiemTemplate: TemplateRef<any>;\n    @ViewChild('duocHuongBaoHiemTemplate', { static: true }) duocHuongBaoHiemTemplate: TemplateRef<any>;\n    @ViewChild('noiThucHienTemplate', { static: true }) noiThucHienTemplate: TemplateRef<any>;\n    @ViewChild('trangThaiTemplate', { static: true }) trangThaiTemplate: TemplateRef<any>;\n    @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n\n    @ViewChild('GridChiDinh', { static: true }) gridChild: GridComponent;\n    @ViewChild('tenDichVuTemplate', { static: true }) tenDichVuTemplate: TemplateRef<any>;\n    @ViewChild('benhPhamTemplate', { static: true }) benhPhamTemplate: TemplateRef<any>;\n\n    @ViewChild('dichVuTrongGoiTemplate', { static: true }) dichVuTrongGoiTemplate: TemplateRef<any>;\n    @ViewChild('dichVuKhuyenMaiTemplate', { static: true }) dichVuKhuyenMaiTemplate: TemplateRef<any>;\n\n    constructor(private apiService: ApiService, private authService: AuthService, private notificationService: NotificationService,\n                private dialog: MatDialog, private el: ElementRef, private ngZone: NgZone, private http: Http) { }\n\n    ngOnInit() {\n        this.coDichVuKhuyenMai = this.benhNhanHienTai.CoDichVuKhuyenMai;\n        this.gridColumns = [\n            { Field: \"Action\", Title: \"\", Width: 70, Template: this.actionTemplate },\n            { Field: \"CheckBox\", Title: \"\", Width: 35, Template: this.checkBoxTemplate, TemplateHeader: this.checkBoxHeaderTemplate },\n            { Field: \"STT\", Title: \"#\", Width: 30, Template: this.sttTemplate },\n            { Field: \"Ma\", Title: \"Mã\", Width: 50 },\n            // { Field: \"Nhom\", Title: \"Nhóm\", Width: 150, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            { Field: \"NhomTheoPhienXetNghiem\", Title: \"Nhóm\", Width: 150, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate }, //cheat tách nhóm XN ra nhiều phiên\n            { Field: \"TenDichVu\", Title: \"Tên Dịch Vụ\", MinWidth: 100, ShowTooltip: true, Template: this.tenDichVuTemplate },\n            { Field: \"LaDichVuTrongGoi\", Title: \"DV Trong Gói\", Width: 60, Template: this.dichVuTrongGoiTemplate },\n            { Field: \"LaDichVuKhuyenMai\", Title: \"DV Khuyến Mại\", Width: 60, Template: this.dichVuKhuyenMaiTemplate },\n            // { Field: \"TenTT43\", Title: \"Tên TT43\", Width: 100, ShowTooltip: true },\n            { Field: \"TenLoaiGia\", Title: \"Loại Giá\", Width: 80, TemplateGroupFooter: this.congTienGroupFooterTemplate, TemplateFooter: this.tongTienFooterTemplate, Template: this.nhomGiaTemplate },\n            { Field: \"DonGia\", Title: \"Đơn Giá\", Width: 80, Template: this.donGiaTemplate, TemplateFooter: this.donGiaFooterTemplate },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 59, Template: this.soLuongTemplate },\n            { Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Template: this.thanhTienTemplate, TemplateFooter: this.thanhTienFooterTemplate, TemplateGroupFooter: this.thanhTienGroupFooterTemplate },\n            { Field: \"DonGiaBaoHiem\", Title: \"DG BHYT\", Width: 90, Template: this.donGiaBaoHiemTemplate },\n            { Field: \"DuocHuongBaoHiem\", Title: \"ĐH BHYT\", Width: 60, Template: this.duocHuongBaoHiemTemplate },\n            { Field: \"NoiThucHien\", Title: \"Nơi thực hiện\", Width: 120, Template: this.noiThucHienTemplate },\n            { Field: \"TenNguoiThucHien\", Title: \"Người thực hiện\", Width: 80 },\n            { Field: \"TrangThaiDichVu\", Title: \"Tình trạng\", Width: 80, Template: this.trangThaiTemplate },\n            { Field: \"BenhPhamXetNghiem\", Title: \"Bệnh phẩm\", Width: 100, Template: this.benhPhamTemplate },\n            { Field: \"NguoiChiDinhDisplay\", Title: \"Người chỉ định\", Width: 110 },\n            { Field: \"ThoiDiemChiDinhDisplay\", Title: \"Thời gian chỉ định\", Width: 100 }\n        ];\n        //this.kiemTraGoiDichVuCuaBenhNhan();\n        this.getListDichVuSarsCoVs();\n        this.getInfoSarsCoVTheoYeuCauTiepNhans();\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (changes.benhNhanHienTai && changes.benhNhanHienTai.currentValue) {\n            this.validationErrors = null;\n            this.getDataGoiDichVuDefault();\n        }\n    }\n\n    onDataChange() {\n        if (!this.isChangeData) {\n            this.isChangeData = true;\n            this.outputPhauThuatThuThuatCLSDataChanged.emit(true);\n        }\n    }\n\n    getDataGoiDichVuDefault() {\n        // this.showPopupLoadingData(EnumTypeLoadingData.View); //có popup bên component cha\n        if(this.isUpdating) {\n            this.showPopupLoadingData(EnumTypeLoadingData.View);\n        }\n\n        this.tongthanhtien = 0;\n        this.tongtienBNThanhToan = 0;\n        this.tongThanhTienGoiChietKhau = 0;\n\n        let url = `PhauThuatThuThuat/GetDataDefaultDichVuKyThuat?yeuCauTiepNhanId=${this.benhNhanHienTai.YeuCauTiepNhanId}`;\n        this.apiService.get<any>(url).subscribe(resultData => {\n            this.kiemTraGoiDichVuCuaBenhNhan();\n            if (resultData) {\n                this.goiKhongChietKhau = [];\n                this.goiKhongChietKhau = this.goiKhongChietKhau.concat(resultData);\n\n                this.setDataGridView();\n                this.SelectcheckAllboxIn(true);\n            } else {\n                this.closePopupLoadingData();\n            }\n\n            this.isUpdating = false;\n        }, () => {\n            this.closePopupLoadingData();\n            this.isUpdating = false;\n        });\n    }\n\n    changeNhomDichVuKyThuat(event) {\n        this.onDataChange();\n\n        if (!event) {\n            this.chiDinhDichVuKyThuatMultiselect.TenNhomDichVu = null;\n        }\n    }\n\n    changeMultiDichVuKyThuat(event) {\n        this.onDataChange();\n        this.validationErrors = null;\n\n        if(event && event.length > 0) {\n            if(!this.chiDinhDichVuKyThuatMultiselect.ShowComboboxNhomDichVuKyThuat)\n            {\n                this.closeChangeDichVuKyThuat(true);\n            }\n        } else {\n            this.chiDinhDichVuKyThuatMultiselect.ShowComboboxNhomDichVuKyThuat = true;\n        }\n    }\n\n    closeChangeDichVuKyThuat(event, xuLyThemDichVu: boolean = false) {\n        var self = this;\n\n        if(event && self.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs != null && self.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs.length > 0)\n        {\n            self.validationErrors = null;\n\n            let nhomIdTemp: number = 0;\n            let tenNhomTemp: string = \"\";\n\n            let arrDichVu = self.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs.slice();\n\n            for (let element of arrDichVu) {\n                let elementObj = JSON.parse(element);\n                if (nhomIdTemp != 0 && nhomIdTemp != elementObj.NhomId) {\n                    self.chiDinhDichVuKyThuatMultiselect.ShowComboboxNhomDichVuKyThuat = false;\n                    self.chiDinhDichVuKyThuatMultiselect.NhomDichVuBenhVienId = null;\n                    self.chiDinhDichVuKyThuatMultiselect.TenNhomDichVu = null;\n                    nhomIdTemp = 0;\n                    \n                    if (xuLyThemDichVu) {\n                        self.themDichVuKyThuatMultiselect();\n                    }\n                    return;\n                }\n                else {\n                    nhomIdTemp = elementObj.NhomId;\n                    tenNhomTemp = elementObj.TenNhom;\n                }\n            }\n\n            if(nhomIdTemp != 0)\n            {\n                self.chiDinhDichVuKyThuatMultiselect.ShowComboboxNhomDichVuKyThuat = true;\n                self.chiDinhDichVuKyThuatMultiselect.NhomDichVuBenhVienId = nhomIdTemp;\n                self.chiDinhDichVuKyThuatMultiselect.TenNhomDichVu = tenNhomTemp;\n\n                if (xuLyThemDichVu) {\n                    self.themDichVuKyThuatMultiselect();\n                }\n            }\n        }\n    }\n\n    huyDichVuKyThuatMultiselect() {\n        this.isChangeData = false;\n        this.outputPhauThuatThuThuatCLSDataChanged.emit(false);\n\n        this.autoFocusElementFirst();\n\n        this.FlagDuocHuongBaoHiem = false;\n        this.validationErrors = [];\n        this.chiDinhDichVuKyThuatMultiselect = new ChiDinhDichVuKyThuatMultiselectViewModel();\n        this.chiDinhDichVuKyThuatMultiselect.TenNhomDichVu = null;\n    }\n\n    themDichVuKyThuatMultiselect() {\n        var self = this;\n        self.validationErrors = [];\n        \n        if (self.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs && self.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs.length > 0) {\n            self.chiDinhDichVuKyThuatMultiselect.YeuCauTiepNhanId = self.benhNhanHienTai.YeuCauTiepNhanId;\n\n            self.apiService.post<boolean>('KhamBenh/KiemTraChiDinhDichVuKyThuatDaCoTheoYeuCauTiepNhan', self.chiDinhDichVuKyThuatMultiselect).subscribe(resultData => {\n                if (resultData) {\n                    self.dialog.open(ConfirmComponent, {\n                        disableClose: false,\n                        width: '400px',\n                        data: { Title: 'Xác nhận', Message: 'Dịch vụ này đã được thêm vào trước đó. Bạn có chắc chắn muốn thêm dịch vụ này hay không?' }\n                    }).afterClosed().subscribe(result => {\n                        if (result == 'Yes') {\n                            self.xuLyKiemTraDichVuKyThuatTrungTrongGoi();\n                        }\n                    });\n                } else {\n                    self.xuLyKiemTraDichVuKyThuatTrungTrongGoi();\n                }\n            }, (err: ApiError) => {\n                err.ValidationErrors === null ? self.notificationService.showError(err.Message) : self.validationErrors = err.ValidationErrors;\n            });\n        }\n        else {\n            self.xuLyKiemTraDichVuKyThuatTrungTrongGoi();\n        }\n    }\n\n    SelectcheckAllboxIn(event: any) {\n        let gridDataIn: any[] = [];\n        if (this.gridChild.gridDataSource.data == undefined) {\n            this.listChonDichVuChiDinh = [];\n        }\n        else {\n\n            gridDataIn = this.gridChild.getAllDataFromDatasource();\n            this.listChonDichVuChiDinh = [];\n        }\n        if (event == true) {\n\n            gridDataIn.forEach(element => {\n                element.isCheckRowItem = true;\n                this.checkAll = true;\n\n                let index = this.listChonDichVuChiDinh.findIndex(x => x.dichVuChiDinhId == element.Id && x.nhomChiDinhId == element.NhomId );\n                if (index == -1) {\n                    var chiDinh = new ListInChiDinh();\n                    chiDinh.nhomChiDinhId = element.NhomId;\n                    chiDinh.dichVuChiDinhId = element.Id;\n                    this.listChonDichVuChiDinh.push(chiDinh);\n                }\n            })\n        }\n        else {\n            gridDataIn.forEach(element => {\n                element.isCheckRowItem = false;\n            });\n\n            this.listChonDichVuChiDinh = [];\n        }\n        this.isCheckXacNhanIn = this.listChonDichVuChiDinh.length > 0;\n    }\n\n    checkboxIn(event: any, dataItem: any) {\n        if (this.gridChild.gridDataSource.data == undefined) {\n            this.listChonDichVuChiDinh = [];\n        }\n\n        let index = this.listChonDichVuChiDinh.findIndex(x => x.dichVuChiDinhId == dataItem.Id && x.nhomChiDinhId == dataItem.NhomId);\n        if (event == true) {\n            if (index == -1) {\n                var chiDinh = new ListInChiDinh();\n                chiDinh.nhomChiDinhId = dataItem.NhomId;\n                chiDinh.dichVuChiDinhId = dataItem.Id;\n                this.listChonDichVuChiDinh.push(chiDinh);\n\n                if (this.listChonDichVuChiDinh.length == this.gridChild.gridDataSource.data.filter(sp=> sp.TrangThaiDichVuId != 6).length) {\n                    this.checkAll = true;\n                }\n            }\n            else {\n                if (this.listChonDichVuChiDinh.length == this.gridChild.gridDataSource.data.filter(sp=> sp.TrangThaiDichVuId != 6).length) {\n                    this.checkAll = true;\n                }\n                else {\n                    this.checkAll = false;\n                }\n            }\n\n            dataItem.isCheckRowItem = true;\n        }\n        else {\n            this.checkAll = false;\n            if (index >= 0) {\n                this.listChonDichVuChiDinh.splice(index, 1)\n            }\n        }\n        if (this.listChonDichVuChiDinh.length == this.gridChild.gridDataSource.data.filter(sp=> sp.TrangThaiDichVuId != 6).length) {\n            this.checkAll = true;\n        }\n        else {\n            this.checkAll = false;\n        }\n        this.isCheckXacNhanIn = this.listChonDichVuChiDinh.length > 0;\n    }\n\n    CapNhatGridItemDichVuKyThuat(dataItem, event, loaiCapNhat) {\n        let gridItem = new GridItemYeuCauDichVuKyThuat();\n        gridItem.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        gridItem.YeuCauDichVuKyThuatId = dataItem.Id;\n\n        var showLoading = true;\n        var reloadGrid = true;\n        switch (loaiCapNhat) {\n            case 'NhomGia':\n                gridItem.NhomGiaDichVuKyThuatBenhVienId = event;\n                gridItem.IsUpdateLoaiGia = true; break;\n            case 'SoLan':\n                gridItem.SoLan = event;\n                gridItem.IsUpdateSoLan = true; break;\n            case 'NoiThucHien':\n                gridItem.NoiThucHienId = event;\n                gridItem.IsUpdateNoiThucHien = true;\n                if (event == undefined || event == null) {\n                    dataItem.NguoiThucHienId = null;\n                    dataItem.TenNguoiThucHien = null;\n                }\n                break;\n            case 'NguoiThucHien':\n                if (event == undefined || event == null) {\n                    return;\n                }\n                gridItem.NguoiThucHienId = event;\n                gridItem.IsUpdateNguoiThucHien = true;\n                break;\n            case \"BenhPhamXetNghiem\":\n                gridItem.BenhPhamXetNghiem = event;\n                gridItem.IsUpdateBenhPhamXetNghiem = true;\n                break;\n\n            case \"SwapDichVuGoi\":\n                gridItem.LaDichVuTrongGoi = event;\n                gridItem.IsSwapDichVuGoi = true;\n                break;\n\n            case \"SwapDichVuKhuyenMai\":\n                gridItem.LaDichVuKhuyenMai = event;\n                gridItem.IsSwapDichVuKhuyenMai = true;\n                if(dataItem.NhomId == 1)\n                {\n                    gridItem.IsDichVuKham = true;\n                }\n                break;\n        }\n\n        if (loaiCapNhat == 'SoLan' || loaiCapNhat == \"BenhPhamXetNghiem\") {\n            var self = this;\n            var timeDelay = loaiCapNhat == \"SoLan\" ? 1000 : 2000;\n            // self.saveItemDichVuKyThuat(gridItem);\n\n            //Cập nhật sau 1s\n            clearTimeout(self.timeout);\n            self.timeout = setTimeout(function () {\n                self.saveItemDichVuKyThuat(gridItem);\n            }, timeDelay);\n        }\n        else {\n            this.saveItemDichVuKyThuat(gridItem, showLoading, reloadGrid);\n        }\n    }\n\n    xoaGoiDichVuKhac(dataItem: any) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: `Bạn có muốn xoá dịch vụ ${dataItem.TenDichVu} không?` }\n        }).afterClosed().subscribe(result => {\n            if (result === \"Yes\") {\n                if(dataItem.TrangThaiDichVuId != this.trangThaiYeuCauDichVuKyThuat.ChuaThucHien) {\n                    this.notificationService.showError(PtttMessage.MessageCLSChuaThucHien);\n                    return;\n                }\n        \n                if(dataItem.NhanVienTaoYeuCauDichVuKyThuatId != this.currentAccessUser.Id) {\n                    this.notificationService.showError(PtttMessage.MessageCLSNhanVienTaoYeuCauDichVuKyThuat);\n                    return;\n                }\n        \n                // if(dataItem.DaThanhToan == true) {\n                //     this.notificationService.showError(PtttMessage.MessageCLSDaThanhToan);\n                //     return;\n                // }\n        \n                this.showPopupLoadingData(EnumTypeLoadingData.Delete);\n        \n                // gridItem.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n                // gridItem.YeuCauDichVuKyThuatId = dataItem.Id;\n                // gridItem.YeuCauKhamBenhId = this.benhNhanHienTai.Id;\n        \n                let modelUpdate = new GridUpdate();\n                modelUpdate.yeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n                modelUpdate.maDichVuId = dataItem.Id;\n                modelUpdate.nhom = NhomDichVu.DichVuKyThuat;\n                modelUpdate.mucHuong = this.benhNhanHienTai.MucHuong;\n                // modelUpdate.model = this.tiepNhanBenhNhan;\n        \n                this.validationErrors = null;\n                this.apiService.post<Array<ChiDinhDichVuGridVo>>(\"TiepNhanBenhNhan/RemoveDichVu\", modelUpdate).subscribe(res => {\n                    this.apiService.get<any>(`PhauThuatThuThuat/GetSoDuTaiKhoan?yeuCauTiepNhanId=${this.benhNhanHienTai.YeuCauTiepNhanId}`).subscribe((soDuRes) => {\n                        let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Xoá dịch vụ CLS\"]);\n\n                        if (soDuRes.IsVuotQuaSoDuTaiKhoan) {\n                            mess += this.messVuotQuaTamUng; //\"Chỉ định này đã vượt quá số tiền trong tài khoản của người bệnh.\";\n                            this.notificationService.showWarning(mess);\n                        }\n                        else {\n                            this.notificationService.showSuccess(mess);\n                        }\n\n                        if (soDuRes.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                            this.outputSoDuTaiKhoanChanged.emit({\n                                SoDuTaiKhoan: soDuRes.SoDuTaiKhoan, \n                                SoDuTaiKhoanDisplay: soDuRes.SoDuTaiKhoanDisplay\n                            })\n                        }\n\n                        if (soDuRes.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanUocLuongConLai) {\n                            this.outputSoDuTaiKhoanUocLuongConLaiChanged.emit({\n                                SoDuTaiKhoanUocLuongConLai: soDuRes.SoDuTaiKhoanConLai,\n                                SoDuTaiKhoanUocLuongConLaiDisplay: soDuRes.SoDuTaiKhoanConLaiDisplay\n                            })\n                        }\n\n                        this.apiService.get<any>(`PhauThuatThuThuat/KiemTraConYeuCauDichVuKyThuatTaiPhong?phongBenhVienId=${this.currentAccessUser.PhongBenhVienId}&yeuCauTiepNhanId=${this.benhNhanHienTai.YeuCauTiepNhanId}`).subscribe((res) => {\n                            // this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xoá dịch vụ CLS\"]));\n                            \n                            if(res) {\n                                this.getDataUpdateGripViewGoiKhac(null, false);\n                                this.closePopupLoadingData();\n                            } else {\n                                this.outputPhauThuatThuThuatCLSOutOfYeuCauDichVuKyThuats.emit(false);\n                                this.closePopupLoadingData();\n                            }\n                        }, (err) => {\n                            this.closePopupLoadingData();\n                            this.notificationService.showError(err);\n                        });\n                    }, (err) => {\n                        this.closePopupLoadingData();\n                        err.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n                    });\n                }, (err: any) => {\n                    this.closePopupLoadingData();\n                    err.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n                })\n            }\n        });\n    }\n\n    xuLyKiemTraDichVuKyThuatTrungTrongGoi(){\n        this.chiDinhDichVuKyThuatMultiselect.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        if(this.documentType == DocumentType.KhamBenhDangKham)\n        {\n            this.chiDinhDichVuKyThuatMultiselect.IsKhamBenhDangKham = true;\n        }\n        var self = this;\n        // cập nhật xử lý\n        //1: kiểm tra có dịch vụ nào trùng trong gói ko -> hiện popup thông báo\n        //2: xử lý thêm dịch vụ ko có trong gói và có trong gói(nếu có)\n\n        // cập nhật ngày 02/06/2021: ko kiểm tra dịch vụ có trong gói nữa\n        self.xuLyThemDichVuKyThuatMultiselect();\n        // self.apiService.post<any>(\"KhamBenh/KiemTraDichVuKyThuatChiDinhCoTrongGoiCuaBenhNhan\", self.chiDinhDichVuKyThuatMultiselect).subscribe(resultData => {\n        //     if (resultData.Message != null && resultData.Message != '' && resultData.DichVuChiDinhCoTrongGois.length > 0) {\n        //         self.dialog.open(ConfirmComponent, {\n        //             disableClose: false,\n        //             width: '800px',\n        //             data: { Title: \"Xác nhận\", Message: resultData.Message }\n        //         }).afterClosed().subscribe(result => {\n        //             if (result == \"Yes\") {\n        //                 self.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatTuGois = resultData.DichVuChiDinhCoTrongGois;\n        //             }\n        //             self.xuLyThemDichVuKyThuatMultiselect();\n        //         });\n        //     }\n        //     else {\n        //         self.xuLyThemDichVuKyThuatMultiselect();\n        //     }\n        // },\n        // (err: ApiError) => {\n        //     self.validationErrors = err.ValidationErrors;\n        //     if (err.Message != \"Validation Failed\") {\n        //         self.notificationService.showError(err.Message);\n        //     }\n        // });\n    }\n\n    xuLyThemDichVuKyThuatMultiselect() {\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        \n        //BVHD-3761\n        //=======================================================================================================\n        let arrDichVu = this.chiDinhDichVuKyThuatMultiselect.DichVuKyThuatBenhVienChiDinhs.slice();\n        arrDichVu.forEach(element => {\n            let elementObj = JSON.parse(arrDichVu[0]);\n            this.showbuttonLuuVaInPhieuXetNghiem = this.dichVuSarsCoVs.includes(elementObj.DichVuId);\n            \n        });\n       \n        if(this.showbuttonLuuVaInPhieuXetNghiem == true)\n        {\n            \n            this.apiService.post\n            this.dialog\n            .open(XnSarsCov2PopupComponent, {\n                width: \"600px\",\n                data: { LoaiMauXetNghiem:this.loaiBenhPham,LoaiMauXetNghiemText:this.loaiBenhPhamText,BieuHienLamSang:this.bieuHienLamSang,DichTeSarsCoV2:this.dichTeSarsCoV2}\n            })\n            .afterClosed()\n            .subscribe((result) => {\n                if (result != undefined) {\n                     this.chiDinhDichVuKyThuatMultiselect.BieuHienLamSang = result.BieuHienLamSang;\n                     this.chiDinhDichVuKyThuatMultiselect.DichTeSarsCoV2 = result.DichTeSarsCoV2;\n                     this.ThemDichVuSarsCov2();\n                }\n                else{\n                    this.ThemDichVuSarsCov2();\n                }\n\n            });\n        //=======================================================================================================\n        }\n        else{\n            this.apiService.post<any>(\"PhauThuatThuThuat/ThemYeuCauDichVuKyThuatMultiSelect\", this.chiDinhDichVuKyThuatMultiselect).subscribe(result => {\n                this.huyDichVuKyThuatMultiselect();\n    \n                let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm \"]);\n                if (result.IsVuotQuaSoDuTaiKhoan) {\n                    mess += this.messVuotQuaTamUng; //\"Chỉ định này đã vượt quá số tiền trong tài khoản của người bệnh.\";\n                    this.notificationService.showWarning(mess);\n                }\n                else {\n                    this.notificationService.showSuccess(mess);\n                }\n    \n                if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                    this.outputSoDuTaiKhoanChanged.emit({\n                        SoDuTaiKhoan: result.SoDuTaiKhoan, \n                        SoDuTaiKhoanDisplay: result.SoDuTaiKhoanDisplay\n                    })\n                }\n    \n                if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanUocLuongConLai) {\n                    this.outputSoDuTaiKhoanUocLuongConLaiChanged.emit({\n                        SoDuTaiKhoanUocLuongConLai: result.SoDuTaiKhoanConLai,\n                        SoDuTaiKhoanUocLuongConLaiDisplay: result.SoDuTaiKhoanConLaiDisplay\n                    })\n                }\n    \n                this.getDataUpdateGripViewGoiKhac(null, false);\n            }, (err: ApiError) => {\n                err.ValidationErrors === null ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n                this.closePopupLoadingData();\n            });\n        }\n       \n    }\n\n    autoFocusElementFirst(elementType: EnumTypeComponent = EnumTypeComponent.KInput) {\n        let type = '';\n        switch (elementType) {\n            case EnumTypeComponent.KInput:\n                type = '.k-input'; break;\n            case EnumTypeComponent.KDropdown:\n                type = '.k-dropdown-wrap'; break;\n            default:\n                type = '.k-input'; break;\n        }\n\n        const invalidControl = this.el.nativeElement.querySelector(type);\n        if (invalidControl) {\n            invalidControl.focus();\n        }\n    }\n\n    saveItemDichVuKyThuat(gridItem, showLoading: boolean = true, reloadGrid: boolean = true) {\n        this.apiService.post<any>(\"PhauThuatThuThuat/CapNhatGridItemDichVuKyThuat\", gridItem).subscribe(resultData => {\n            this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Cập nhật \"]));\n\n            if (reloadGrid) {\n                this.getDataUpdateGripViewGoiKhac(null, showLoading); // false\n            }\n        }, (err: ApiError) => {\n            this.focusElementById('txtSoLuongDVKT' + gridItem.YeuCauDichVuKyThuatId);\n            err.ValidationErrors === null ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n        });\n    }\n\n    focusElementById(tagId: string){\n        var $focused = jQuery('#'+tagId).find(\".k-input\");\n        jQuery(\".k-input\").blur();\n        setTimeout(function () {\n            if ($focused.length > 0) {\n                $focused.focus();\n            }\n        }, 100);\n    }\n\n    getDataUpdateGripViewGoiKhac(typeLoadingData: EnumTypeLoadingData = EnumTypeLoadingData.Update, showLoadingPopup: boolean = true) {\n        if (showLoadingPopup) {\n            this.showPopupLoadingData(typeLoadingData);\n        }\n\n        this.kiemTraGoiDichVuCuaBenhNhan();\n\n        let url = `PhauThuatThuThuat/GetDataDefaultDichVuKyThuat?yeuCauTiepNhanId=${this.benhNhanHienTai.YeuCauTiepNhanId}`;\n        this.apiService.get<any>(url).subscribe(resultData => {\n            if (resultData) {\n                let goiDichVuModel = new GoiDichVu();\n                this.listChonDichVuChiDinh = []; // mỗi lần f5 là listChonDichVuChiDinh = 0\n                goiDichVuModel.GoiKhacs = resultData;\n\n                this.goiKhongChietKhau.splice(0, this.goiKhongChietKhau.length);\n                if (this.gridDataSource != undefined && this.gridDataSource != null && this.gridDataSource.data != undefined && this.gridDataSource.data != null) {\n                    this.gridDataSource.data.splice(0, this.gridDataSource.data.length);\n                }\n                this.gridChild.setDataSource();\n                 console.log(\"gridDataSource\",this.gridDataSource)\n                var self = this;\n                this.ngZone.run(() => {\n                    resultData.forEach(element => {\n                        self.goiKhongChietKhau.push(element);\n                        element.isCheckRowItem = true;\n                    });\n\n                    self.isCheckXacNhanIn = self.goiKhongChietKhau.length > 0;\n                    self.setDataGridView();\n                    self.SelectcheckAllboxIn(true);\n                });\n\n                this.outputPhauThuatThuThuatCLSDataChangedAfterAddAndRemove.emit(true);\n            } else {\n                this.closePopupLoadingData();\n            }\n        }, () => {\n            this.closePopupLoadingData();\n        });\n    }\n\n    showPopupLoadingData(typeLoading: EnumTypeLoadingData = EnumTypeLoadingData.View) {\n        let mess = \"\"; //typeLoading == EnumTypeLoadingData.View ? \"Đang tải dữ liệu...\" : \"Đang lưu dữ liệu...\";\n\n        switch (typeLoading) {\n            case EnumTypeLoadingData.View:\n                mess = 'Đang tải dữ liệu...'; break;\n            case EnumTypeLoadingData.Update:\n                mess = 'Đang lưu dữ liệu...'; break;\n            case EnumTypeLoadingData.Delete:\n                mess = 'Đang xóa dữ liệu...'; break;\n            default: mess = 'Đang tải dữ liệu...';\n        }\n\n        this.popupLoadingData = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: mess }\n        });\n    }\n\n    closePopupLoadingData() {\n        if (this.popupLoadingData) {\n            this.popupLoadingData.close();\n        }\n        this.outputIsGetDataCanLamSanDone.emit(true);\n\n        this.dialog.afterAllClosed.subscribe(result => {\n            this.autoFocusElementFirst();\n        });\n    }\n\n    setDataGridView() {\n        this.gridDataSource = {\n            data: this.goiKhongChietKhau,\n            total: this.goiKhongChietKhau.length\n        };\n\n        this.gridChild.gridDataSource = this.gridDataSource;\n        if (this.gridChild !== undefined)\n            this.gridChild.setDataSource();\n\n        this.tinhthanhtien(this.goiKhongChietKhau);\n        this.closePopupLoadingData();\n    }\n\n    tinhthanhtien(modelGoiKoChietKhau: any) {\n        this.tongthanhtien = 0;\n        this.tongtienBNThanhToan = 0;\n\n        modelGoiKoChietKhau.forEach(element => {\n            if (element.ThanhTien !== null)\n                this.tongthanhtien += element.ThanhTien;\n            if (element.BNThanhToan !== null)\n                this.tongtienBNThanhToan += element.BNThanhToan;\n        });\n    }\n\n    xemKetQuaCLS(dataItem) {\n        // this.dialog.open(PtttClsKqPopupComponent, {\n        //     disableClose: false,\n        //     width: '1000px',\n        //     height:'auto',   \n        //     data: { KetQuaCanLamSanPTTT: dataItem.KetQuaCanLamSanPTTT }\n        // });\n\n        this.dialog.open(XemKetQuaCdhaTdcnPopupComponent, {\n                disableClose: false,\n                width: '1000px',\n                data: dataItem.Id\n        }).afterClosed().subscribe(result => { });\n    }\n\n    xemKetQuaCLSXetNghiem(val) {\n        if(val.items.every(p => p.TrangThaiDichVuId == this.enumTrangThaiYeuCauDichVuKyThuat.DaThucHien && p.LoaiDichVuKyThuat == this.enumLoaiDichVuKyThuat.XetNghiem)) {\n            this.phieuInXetNghiemVo.PhienXetNghiemId = val.items[0].PhienXetNghiemId;\n            this.phieuInXetNghiemVo.NhomDichVuBenhVienId = val.items[0].NhomDichVuBenhVienId;\n            this.phieuInXetNghiemVo.HostingName = window.location.protocol == \"http:\" ? `http://${window.location.host}` : `https://${window.location.host}`;\n\n            this.apiService.post<Array<string>>('KhamBenh/ExportPdfKetQuaXetNghiem', this.phieuInXetNghiemVo).subscribe(res => {\n                    this.dialog.open(LayMauXetNghiemKetQuaPopupComponent, {\n                        disableClose: false,\n                        width: '1000px',\n                        data: res\n                    }).afterClosed().subscribe(result => {\n                });\n                    this.closePopupLoadingData();\n                }, (err: ApiError) => {\n                    if (err.Message !== 'Validation Failed') {\n                        this.notificationService.showError(err.Message);\n                    }\n\n                    this.closePopupLoadingData();\n                });\n        }\n    }\n\n    kiemTraCoKetQuaCLS(dataItem) {\n        if(dataItem.TrangThaiDichVuId == this.enumTrangThaiYeuCauDichVuKyThuat.DaThucHien && (dataItem.LoaiDichVuKyThuat == this.enumLoaiDichVuKyThuat.ChuanDoanHinhAnh || \n                                                                                              dataItem.LoaiDichVuKyThuat == this.enumLoaiDichVuKyThuat.ThamDoChucNang)) {\n            return true;\n        }\n\n        return false;\n    }\n\n    kiemTraCoKetQuaCLSXetNghiem(lstYeuCauDichVuKyThuat) {\n        // let result = lstYeuCauDichVuKyThuat.filter(p => p.TrangThaiDichVuId == this.enumTrangThaiYeuCauDichVuKyThuat.DaThucHien && p.LoaiDichVuKyThuat == this.enumLoaiDichVuKyThuat.XetNghiem)\n        // return result.length > 0 && result[0].KetQuaCanLamSanPTTT.length > 0 ? true : false;\n        \n        return lstYeuCauDichVuKyThuat.every(p => p.TrangThaiDichVuId == this.enumTrangThaiYeuCauDichVuKyThuat.DaThucHien && p.LoaiDichVuKyThuat == this.enumLoaiDichVuKyThuat.XetNghiem);\n    }\n    \n    XacNhanIn(kieuin) {\n        this.listChonDichVuChiDinhReLoad = [];\n        let gridData = this.gridChild.getAllDataFromDatasource();\n\n        gridData.forEach(ele => {\n            this.listChonDichVuChiDinh.forEach(lstChiDinh => {\n                if (lstChiDinh.dichVuChiDinhId == ele.Id && lstChiDinh.nhomChiDinhId == ele.NhomId) {\n                    this.listChonDichVuChiDinhReLoad.push(lstChiDinh);\n                }\n            });\n        })\n        let listGridSelect :any[]= [];\n        gridData.forEach(elements => {\n           this.listChonDichVuChiDinh.forEach(lstChiDinh => {\n               if (lstChiDinh.dichVuChiDinhId == elements.Id && lstChiDinh.nhomChiDinhId == elements.NhomId && elements.TrangThaiDichVuId != 4) {\n                   listGridSelect.push(elements);\n               }\n           });\n       });\n        let dataIn = {\n            YeuCauTiepNhanId: this.benhNhanHienTai.YeuCauTiepNhanId,\n            // YeuCauKhamBenhid: this.benhNhanHienTai.Id,\n            ListDichVuChiDinh: this.listChonDichVuChiDinhReLoad,\n            InChungChiDinh : kieuin,   \n            hosting: window.location.protocol + \"//\" + window.location.host,\n            KieuInChung : true ,\n            EnumInChiDinhKhamBenhNgoaiTru: 1 , // để tạm,\n            Loai:3,\n            listGridSelect: listGridSelect\n        }\n        \n        \n        let dialogRef = this.dialog.open(PopupChonLoaiInViewComponent, {\n            width: '1000px',\n            data: { Model: dataIn }\n        });\n    }\n\n    suDungGoiDichVu() {\n        let dialogRef = this.dialog.open(PtttClsGoiDichVuPopupComponent, {\n            width: '1000px',\n            data: 'test'\n        }).afterClosed().subscribe(result => {\n\n        });\n    }\n\n    kiemTraGoiDichVuCuaBenhNhan() {\n        this.apiService.get<boolean>(\"PhauThuatThuThuat/KiemTraDangKyGoiDichVuTheoBenhNhan?benhNhanId=\" + this.benhNhanHienTai.BenhNhanId).subscribe(result => {\n                this.coGoiDichVu = result;\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n            });\n    }\n\n    xemGoiDichVu(){\n        var self = this;\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n            self.dialog.open(LanKhamHienTaiSuDungGoiDichVuPopupComponent, {\n                disableClose: false,\n                width: '1800px',\n                data: { DocumentType: self.documentType, BenhNhanId: self.benhNhanHienTai.BenhNhanId, IsPTTT: true }\n            }).afterClosed().subscribe(yeuCauGoiMarketing => {\n                if(yeuCauGoiMarketing != undefined && yeuCauGoiMarketing != null && yeuCauGoiMarketing != \"\")\n                {\n                    yeuCauGoiMarketing.YeuCauTiepNhanId = self.benhNhanHienTai.YeuCauTiepNhanId;\n                    yeuCauGoiMarketing.IsPTTT = true;\n                    self.apiService.post<Array<ChiDinhGoiDichVuTheoBenhNhanDichVuLoi>>(\"PhauThuatThuThuat/KiemTraDichVuTrongGoiMarketingDaCoTheoYeuCauTiepNhan\", yeuCauGoiMarketing).subscribe(resultData => {\n                        if (resultData && resultData.length > 0) {\n                            self.dialog.open(LanKhamHienTaiNhomDichVuLoiPopupComponent, {\n                                disableClose: false,\n                                width: '1200px',\n                                data: {arrDichVuCanhBao: resultData, DocumentType: this.documentType}\n                            }).afterClosed().subscribe(dichVuKhongThems => {\n                                if (dichVuKhongThems) {\n                                    yeuCauGoiMarketing.DichVuKhongThems = dichVuKhongThems;\n                                    self.xuLyThemNhomDichVuMarketing(yeuCauGoiMarketing);\n                                }\n                            });\n                        }\n                        else {\n                            self.xuLyThemNhomDichVuMarketing(yeuCauGoiMarketing);\n                        }\n                    },\n                    (err: ApiError) => {\n                        self.validationErrors = err.ValidationErrors;\n                        if (err.Message != \"Validation Failed\") {\n                            self.notificationService.showError(err.Message);\n                        }\n                    });\n                }\n            });\n        }\n        else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    xuLyThemNhomDichVuMarketing(yeuCauGoiMarketing: ChiDinhGoiDichVuTheoBenhNhan) {\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        this.apiService.post<any>(\"PhauThuatThuThuat/ThemChiDinhGoiDichVuTheoBenhNhan\", yeuCauGoiMarketing).subscribe(result => {\n            let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm \"]);\n            if (result.IsVuotQuaSoDuTaiKhoan) {\n                mess += this.messVuotQuaTamUng; //\"Chỉ định này đã vượt quá số tiền trong tài khoản của người bệnh.\";\n                this.notificationService.showWarning(mess);\n            }\n            else {\n                this.notificationService.showSuccess(mess);\n            }\n\n            if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                this.outputSoDuTaiKhoanChanged.emit({\n                    SoDuTaiKhoan: result.SoDuTaiKhoan, \n                    SoDuTaiKhoanDisplay: result.SoDuTaiKhoanDisplay\n                })\n            }\n\n            if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanUocLuongConLai) {\n                this.outputSoDuTaiKhoanUocLuongConLaiChanged.emit({\n                    SoDuTaiKhoanUocLuongConLai: result.SoDuTaiKhoanConLai,\n                    SoDuTaiKhoanUocLuongConLaiDisplay: result.SoDuTaiKhoanConLaiDisplay\n                })\n            }\n            this.getDataUpdateGripViewGoiKhac(null, false);\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n\n    formatTenNhom(val) {\n        return val.substring(0, val.lastIndexOf('@'))\n    }\n\n    yeuCauChayLaiXetNghiem(val) {\n        if(val.items.every(p => p.TrangThaiDichVuId == this.enumTrangThaiYeuCauDichVuKyThuat.DaThucHien && p.LoaiDichVuKyThuat == this.enumLoaiDichVuKyThuat.XetNghiem)) {\n            let goiLaiYeuCauXetNghiem = new GoiLaiYeuCauXetNghiem();\n\n            goiLaiYeuCauXetNghiem.DanhSachGoiXetNghiemLais.push({\n                PhienXetNghiemId: val.items[0].PhienXetNghiemId,\n                NhomDichVuBenhVienId: val.items[0].NhomDichVuBenhVienId,\n                NhomDichVu: val.items[0].Nhom,\n                LanThucHien: val.items[0].LanThucHien,\n                GoiLai: true\n            });\n\n            this.dialog.open(PttClsChayLaiXnPopupComponent, {\n                disableClose: false,\n                width: \"500px\",\n                data: {\n                    Title: \"Xác nhận\",\n                    Message: \"Bạn có chắc chắn muốn yêu cầu chạy lại xét nghiệm này không ?\",\n                    GoiLaiYeuCauXetNghiem: goiLaiYeuCauXetNghiem\n                },\n            }).afterClosed().subscribe((res) => {\n                if(res) {\n                    this.apiService.post<any>(\"KhamBenh/GoiYeuCauChayLaiXetNghiem\", res).subscribe((result) => {\n                        if (result) {\n                            this.notificationService.showSuccess(\"Yêu cầu chạy lại xét nghiệm thành công.\");\n                        } else {\n                            this.notificationService.showError(\"Yêu cầu chạy lại xét nghiệm không thành công.\");\n                        }\n\n                        this.isUpdating = true;\n                        this.getDataGoiDichVuDefault();\n                    }, (err: ApiError) => {\n                        err.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n                    });\n                }\n            });\n        }\n    }\n\n    huyCauChayLaiXN(phienXetNghiemId: any, nhomDichVuBenhVienId: any) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: \"500px\",\n            data: {\n                Title: \"Xác nhận\",\n                Message: \"Bạn có chắc chắn muốn hủy yêu cầu chạy lại xét nghiệm này không ?\",\n            },\n        }).afterClosed().subscribe((res) => {\n            if (res == \"Yes\") {\n                if (res !== undefined && res !== null) {\n                    this.apiService.post<any>(`PhauThuatThuThuat/HuyYeuCauChayLaiXetNghiemTheoNhomDichVu?phienXetNghiemId=${phienXetNghiemId}&nhomDichVuBenhVienId=${nhomDichVuBenhVienId}`).subscribe(\n                    (resultData) => {\n                        if (resultData) {\n                            this.notificationService.showSuccess(\"Yêu cầu hủy chạy lại xét nghiệm thành công.\");\n                        } else {\n                            this.notificationService.showError(\"Yêu cầu hủy chạy lại xét nghiệm không thành công.\");\n                        }\n\n                        this.isUpdating = true;\n                        this.getDataGoiDichVuDefault();\n                    },\n                    (err: ApiError) => {\n                        err.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n                    });\n                }\n            }\n        });\n    }\n\n    lichSuYeuCauChayLai(lichSuPhienXetNghiemIds: any, nhomDichVuBenhVienId: any) {\n        if(lichSuPhienXetNghiemIds && lichSuPhienXetNghiemIds.length > 0) {\n            let lichSuChayLaiXetNghiem = {\n                NhomDichVuBenhVienId: nhomDichVuBenhVienId,\n                LichSuPhienXetNghiemIds: lichSuPhienXetNghiemIds\n            };\n            \n            this.apiService.post<any>(`PhauThuatThuThuat/LichSuYeuCauChayLaiXetNghiem`, lichSuChayLaiXetNghiem).subscribe((res) => {\n                if(res) {\n                    this.thongTinLichSuYeuCauChayLai = res;\n                }\n            });\n        } else {\n            this.thongTinLichSuYeuCauChayLai = [];\n        }\n    }\n\n    huyDichVuDaHuyThanhToan(dataItem)\n    {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            this.dialog.open(HuyDichVuHuyThanhToanPopupComponent, {\n                disableClose: false,\n                width: '600px',\n                data: { Title: \"Xác nhận\", Message: \"Bạn có chắc hủy dịch vụ này không?\" }\n              }).afterClosed().subscribe(res => {\n                    if (res) {\n                        this.showPopupLoadingData(EnumTypeLoadingData.Cancel);\n                        \n                        let xoaDichVu = {\n                            YeuCauTiepNhanId: this.benhNhanHienTai.YeuCauTiepNhanId,\n                            DichVuId: dataItem.Id,\n                            LyDoHuyDichVu: res\n                        }\n        \n                        this.apiService.post<any>(`PhauThuatThuThuat/HuyDichVuKyThuat`, xoaDichVu).subscribe(result => {\n                            this.closePopupLoadingData();\n\n                            if (result) {\n                                if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                                    this.outputSoDuTaiKhoanChanged.emit({\n                                        SoDuTaiKhoan: result.SoDuTaiKhoan, \n                                        SoDuTaiKhoanDisplay: result.SoDuTaiKhoanDisplay\n                                    })\n                                }\n                    \n                                if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanUocLuongConLai) {\n                                    this.outputSoDuTaiKhoanUocLuongConLaiChanged.emit({\n                                        SoDuTaiKhoanUocLuongConLai: result.SoDuTaiKhoanConLai,\n                                        SoDuTaiKhoanUocLuongConLaiDisplay: result.SoDuTaiKhoanConLaiDisplay\n                                    })\n                                }\n                            }\n                            this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Hủy dịch vụ \"]));\n                            this.isUpdating = true;\n                            this.getDataGoiDichVuDefault();\n                        }, (err: ApiError) => {\n                            this.notificationService.showError(err.Message);\n                            this.closePopupLoadingData();\n                        });\n                    }\n              });\n        }\n        else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    cacDichVuKM() {\n        let documentType =\"PhauThuatThuThuatTheoNgay\";\n        if(this.documentType == DocumentType.KhamBenhDangKham)\n        {\n            documentType =\"KhamBenhDangKham\";\n        }\n        this.dialog.open(DichVuKhuyenMaiPopupComponent, {\n            disableClose: false,\n            width: '1500px',\n            data: { BenhNhanId: this.benhNhanHienTai.BenhNhanId, DocumentType: documentType }\n        }).afterClosed().subscribe(() => {\n        });\n    }\n\n    //===================================BVHD-3825==========================================\n    xemGoiDichVuKhuyenMai() {\n        var self = this;\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n            // self.dialog.open(LanKhamHienTaiSuDungGoiDichVuPopupComponent, {\n            self.dialog.open(DichVuKhuyenMaiPopupComponent, {\n                disableClose: false,\n                width: '1800px',\n                data: { DocumentType: self.documentType, BenhNhanId: self.benhNhanHienTai.BenhNhanId, IsPTTT: true }\n            }).afterClosed().subscribe(yeuCauGoiMarketing => {\n                if(yeuCauGoiMarketing != undefined && yeuCauGoiMarketing != null && yeuCauGoiMarketing != \"\")\n                {\n                    yeuCauGoiMarketing.YeuCauTiepNhanId = self.benhNhanHienTai.YeuCauTiepNhanId;\n                    yeuCauGoiMarketing.IsPTTT = true;\n                    self.apiService.post<Array<ChiDinhGoiDichVuTheoBenhNhanDichVuLoi>>(\"TiepNhanBenhNhan/KiemTraDichVuKhuyenMaiTrongGoiMarketingDaCoTheoYeuCauTiepNhan\", yeuCauGoiMarketing).subscribe(resultData => {\n                        if (resultData && resultData.length > 0) {\n                            self.dialog.open(LanKhamHienTaiNhomDichVuLoiPopupComponent, {\n                                disableClose: false,\n                                width: '1200px',\n                                data: {arrDichVuCanhBao: resultData, DocumentType: this.documentType}\n                            }).afterClosed().subscribe(dichVuKhongThems => {\n                                if (dichVuKhongThems) {\n                                    yeuCauGoiMarketing.DichVuKhongThems = dichVuKhongThems;\n                                    self.xuLyThemNhomDichVuKhuyenMai(yeuCauGoiMarketing);\n                                }\n                            });\n                        }\n                        else {\n                            self.xuLyThemNhomDichVuKhuyenMai(yeuCauGoiMarketing);\n                        }\n                    },\n                    (err: ApiError) => {\n                        self.validationErrors = err.ValidationErrors;\n                        if (err.Message != \"Validation Failed\") {\n                            self.notificationService.showError(err.Message);\n                        }\n                    });\n                }\n            });\n        }\n        else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    xuLyThemNhomDichVuKhuyenMai(yeuCauGoiMarketing: ChiDinhGoiDichVuTheoBenhNhan) {\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        this.apiService.post<any>(\"TiepNhanBenhNhan/ThemChiDinhGoiDichVuKhuyenMaiTheoBenhNhanPhauThuat\", yeuCauGoiMarketing).subscribe(result => {\n            let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm \"]);\n            if (result.IsVuotQuaSoDuTaiKhoan) {\n                mess += this.messVuotQuaTamUng; //\"Chỉ định này đã vượt quá số tiền trong tài khoản của người bệnh.\";\n                this.notificationService.showWarning(mess);\n            }\n            else {\n                this.notificationService.showSuccess(mess);\n            }\n\n            if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                this.outputSoDuTaiKhoanChanged.emit({\n                    SoDuTaiKhoan: result.SoDuTaiKhoan,\n                    SoDuTaiKhoanDisplay: result.SoDuTaiKhoanDisplay\n                })\n            }\n\n            if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanUocLuongConLai) {\n                this.outputSoDuTaiKhoanUocLuongConLaiChanged.emit({\n                    SoDuTaiKhoanUocLuongConLai: result.SoDuTaiKhoanConLai,\n                    SoDuTaiKhoanUocLuongConLaiDisplay: result.SoDuTaiKhoanConLaiDisplay\n                })\n            }\n\n            this.getDataUpdateGripViewGoiKhac(null, false);\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n    //======================================================================================\n\n\n    // update nhóm dịch vụ thường dùng\n    xemNhomDichVuThuongDung() {\n        var self = this;\n        let boPhan = BoPhan.PTTT;        \n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n            self.dialog.open(LanKhamHienTaiNhomDichVuThuongDungPopupComponent, {\n                disableClose: false,\n                width: '1500px',\n                data: { DocumentType: self.documentType , boPhan:boPhan }\n            }).afterClosed().subscribe(yeuCauGoiThuongDung => {\n                if (yeuCauGoiThuongDung) {\n                    // yeuCauGoiThuongDung.YeuCauKhamBenhId = self.benhNhanHienTai.Id;\n                    yeuCauGoiThuongDung.YeuCauTiepNhanId = self.benhNhanHienTai.YeuCauTiepNhanId;\n                    yeuCauGoiThuongDung.LaPhauThuatThuThuat = true;\n                    if (self.documentType == DocumentType.KhamBenhDangKham) {\n                        yeuCauGoiThuongDung.IsKhamBenhDangKham = true;\n                    }\n                    self.apiService.post<Array<ChiDinhGoiDichVuThuongDungDichVuLoi>>(\"KhamBenh/KiemTraDichVuTrongGoiDaCoTheoYeuCauTiepNhan\", yeuCauGoiThuongDung).subscribe(resultData => {\n                        if (resultData && resultData.length > 0) {\n                            self.dialog.open(LanKhamHienTaiNhomDichVuLoiPopupComponent, {\n                                disableClose: false,\n                                width: '1200px',\n                                data: { arrDichVuCanhBao: resultData, DocumentType: this.documentType }\n                            }).afterClosed().subscribe(dichVuKhongThems => {\n                                if (dichVuKhongThems) {\n                                    yeuCauGoiThuongDung.DichVuKhongThems = dichVuKhongThems;\n                                    self.xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung);\n                                }\n                            });\n                        }\n                        else {\n                            self.xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung);\n                        }\n                    },\n                        (err: ApiError) => {\n                            self.validationErrors = err.ValidationErrors;\n                            if (err.Message != \"Validation Failed\") {\n                                self.notificationService.showError(err.Message);\n                            }\n                        });\n                }\n            });\n        }\n        else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    xuLyThemNhomDichVuThuongDung(yeuCauGoiThuongDung: ChiDinhGoiDichVuThuongDung) {\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        this.apiService.post<any>(\"PhauThuatThuThuat/ThemYeuGoiDichVuThuongDung\", yeuCauGoiThuongDung).subscribe(result => {\n            let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm\"]);\n            if (result.IsVuotQuaSoDuTaiKhoan) {\n                mess += this.messVuotQuaTamUng; //\"Chỉ định này đã vượt quá số tiền trong tài khoản của người bệnh.\";\n                this.notificationService.showWarning(mess);\n            }\n            else {\n                this.notificationService.showSuccess(mess);\n            }\n\n            if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                this.benhNhanHienTai.SoDuTaiKhoan = result.SoDuTaiKhoan;\n                this.benhNhanHienTai.SoDuTaiKhoanDisplay = result.SoDuTaiKhoanDisplay;\n            }\n            if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanConLai) {\n                this.benhNhanHienTai.SoDuTaiKhoanConLai = result.SoDuTaiKhoanConLai;\n                this.benhNhanHienTai.SoDuTaiKhoanConLaiDisplay = result.SoDuTaiKhoanConLaiDisplay;\n            }\n            this.getDataUpdateGripViewGoiKhac(null, false);\n        },\n            (err: ApiError) => {\n                this.validationErrors = err.ValidationErrors;\n                if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                }\n                this.closePopupLoadingData();\n            });\n    }\n\n    @HostListener('document:keydown', ['$event'])\n    keyEvent(event: KeyboardEvent) {\n        // enter\n        if (event.keyCode == 13) {\n            if (this.dialog.openDialogs.length > 0) {\n                return;\n            }\n            event.preventDefault();\n            this.closeChangeDichVuKyThuat(true, true);\n        }\n    }\n    //BVHD-3761\n    //=======================================================================================================\n    InPhieuXN(){\n\n        \n        let yeuCauDichVuKyThuatIds:any[] = [];\n        let gridData = this.gridChild.getAllDataFromDatasource();\n        gridData.forEach(elements => {\n            this.listChonDichVuChiDinh.forEach(lstChiDinh => {\n                if (lstChiDinh.dichVuChiDinhId == elements.Id && \n                    lstChiDinh.nhomChiDinhId == elements.NhomId && \n                    lstChiDinh.nhomChiDinhId == 2) {\n                        yeuCauDichVuKyThuatIds.push(lstChiDinh.dichVuChiDinhId);\n                }\n            });\n        });\n        \n        let hosting = window.location.protocol + \"//\" + window.location.host;\n        let model={\n            YeuCauDichVuKyThuatIds:yeuCauDichVuKyThuatIds,\n            Hosting:hosting,\n            YeuCauTiepNhanId:this.benhNhanHienTai.YeuCauTiepNhanId\n        };\n        if(yeuCauDichVuKyThuatIds.length == 0)\n        {\n            let mess = \"Chưa chọn dịch vụ xét nghiệm test nhanh Sars-Cov 2 cần in\";\n            this.notificationService.showError(mess);\n        }\n        else{\n            this.apiService\n            .post<any>(\n              \"TiepNhanBenhNhan/InPhieuXetNghiemCovidBacSiKhacChiDinh\",model\n            )\n            \n            .subscribe((resultData) => {\n                if(resultData != null && resultData !=\"\")\n                {\n                    let dialogRef = this.dialog.open(XnCovidSarscov2PopupComponent, {\n                        width: '1000px',\n                        height: 'auto',\n                        data: { Model: resultData }\n                      }).afterClosed().subscribe(result => {\n                      });\n                }\n                else{\n                    let mess = \"Không có dịch vụ xét nghiệm test nhanh Sars-Cov 2 cần in\";\n                    this.notificationService.showError(mess);\n                }\n            });\n        }\n        // let hosting =window.location.protocol + \"//\" + window.location.host;\n        // this.apiService\n        // .get<any>(\n        //   \"TiepNhanBenhNhan/InPhieuXetNghiemCovid?id=\" +\n        //   this.benhNhanHienTai.YeuCauTiepNhanId +\n        //   \"&hostingName=\" +\n        //    hosting\n        // )\n        \n        // .subscribe((resultData) => {\n        //     if(resultData != null && resultData !=\"\")\n        //     {\n        //         let dialogRef = this.dialog.open(XnCovidSarscov2PopupComponent, {\n        //             width: '1000px',\n        //             height: 'auto',\n        //             data: { Model: resultData }\n        //           }).afterClosed().subscribe(result => {\n        //           });\n        //     }\n        //     else{\n        //         let mess = \"Không có dịch vụ xét nghiệm test nhanh Sars-Cov 2 cần in\";\n        //         this.notificationService.showError(mess);\n        //     }\n        // });\n      }\n      //=======================================================================================================\n           // BVHD-3761\n    //================================================================================================\n    getListDichVuSarsCoVs(){\n        this.apiService.get<DichVuKyThuatBenhVienIdsSarsCoVLoaiBenhPham>(\"TiepNhanBenhNhan/GetSarsCoVs\").subscribe(\n            resultData => {\n                this.dichVuSarsCoVs = [];\n                this.dichVuSarsCoVs =resultData.Ids;\n                this.loaiBenhPham = resultData.LoaiMauXetNghiem\n                this.loaiBenhPhamText = resultData.LoaiMauXetNghiemText\n            });\n    }\n    getInfoSarsCoVTheoYeuCauTiepNhans(){\n        this.apiService.get<XetNghiemCovid>(\"TiepNhanBenhNhan/GetInfoSarsCoVTheoYeuCauTiepNhanNoiTru?id=\" +  this.benhNhanHienTai.YeuCauTiepNhanId).subscribe(\n            resultData => {\n                this.bieuHienLamSang = resultData.BieuHienLamSang;\n                this.dichTeSarsCoV2 = resultData.DichTeSarsCoV2;\n            });\n    }\n    ThemDichVuSarsCov2(){\n        this.apiService.post<any>(\"PhauThuatThuThuat/ThemYeuCauDichVuKyThuatMultiSelect\", this.chiDinhDichVuKyThuatMultiselect).subscribe(result => {\n            this.huyDichVuKyThuatMultiselect();\n\n            let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm \"]);\n            this.getInfoSarsCoVTheoYeuCauTiepNhans();\n            if (result.IsVuotQuaSoDuTaiKhoan) {\n                mess += this.messVuotQuaTamUng; //\"Chỉ định này đã vượt quá số tiền trong tài khoản của người bệnh.\";\n                this.notificationService.showWarning(mess);\n            }\n            else {\n                this.notificationService.showSuccess(mess);\n            }\n\n            if (result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                this.outputSoDuTaiKhoanChanged.emit({\n                    SoDuTaiKhoan: result.SoDuTaiKhoan, \n                    SoDuTaiKhoanDisplay: result.SoDuTaiKhoanDisplay\n                })\n            }\n\n            if (result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanUocLuongConLai) {\n                this.outputSoDuTaiKhoanUocLuongConLaiChanged.emit({\n                    SoDuTaiKhoanUocLuongConLai: result.SoDuTaiKhoanConLai,\n                    SoDuTaiKhoanUocLuongConLaiDisplay: result.SoDuTaiKhoanConLaiDisplay\n                })\n            }\n\n            this.getDataUpdateGripViewGoiKhac(null, false);\n        }, (err: ApiError) => {\n            err.ValidationErrors === null ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n            this.closePopupLoadingData();\n        });\n    }\n    //================================================================================================\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtY2FuLWxhbS1zYW4vcHR0LWNscy1jaGF5LWxhaS14bi1wb3B1cC9wdHQtY2xzLWNoYXktbGFpLXhuLXBvcHVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { ChangeDetectorRef, Component, Inject, OnInit } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { GoiLaiYeuCauXetNghiem } from 'src/app/modules/main/kham-benh/kham-benh.model';\n\n@Component({\n  selector: 'app-ptt-cls-chay-lai-xn-popup',\n  templateUrl: './ptt-cls-chay-lai-xn-popup.component.html',\n  styleUrls: ['./ptt-cls-chay-lai-xn-popup.component.scss']\n})\nexport class PttClsChayLaiXnPopupComponent implements OnInit {\n    validationErrors: any[] = [];\n    Message: any;\n\n    goiLaiYeuCauXetNghiem: GoiLaiYeuCauXetNghiem;\n\n    icClose = icClose;\n\n    constructor(@Inject(MAT_DIALOG_DATA) public data: any, private dialogRef: MatDialogRef<any>, private cdRef: ChangeDetectorRef) { }\n\n    ngOnInit() {\n        this.Message = this.data.Message;\n        this.goiLaiYeuCauXetNghiem = this.data.GoiLaiYeuCauXetNghiem;\n    }\n\n    close(result: any) {\n        if (result) {\n            this.validationErrors = [];\n            this.cdRef.detectChanges();\n\n            if (this.goiLaiYeuCauXetNghiem.LyDo == undefined || this.goiLaiYeuCauXetNghiem.LyDo == null || this.goiLaiYeuCauXetNghiem.LyDo == \"\") {\n                this.validationErrors.push({\n                    Message: \"Lý do yêu cầu nhập.\",\n                    Field: \"LyDo\",\n                });\n\n                return;\n            } else {\n                this.dialogRef.close(this.goiLaiYeuCauXetNghiem);\n            }\n        } else {\n            this.dialogRef.close(false);\n        }\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtY2FuLWxhbS1zYW4vcHR0dC1jbHMtZ29pLWRpY2gtdnUtcG9wdXAvcHR0dC1jbHMtZ29pLWRpY2gtdnUtcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport icClose from '@iconify/icons-ic/close';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\n\n@Component({\n    selector: 'app-pttt-cls-goi-dich-vu-popup',\n    templateUrl: './pttt-cls-goi-dich-vu-popup.component.html',\n    styleUrls: ['./pttt-cls-goi-dich-vu-popup.component.scss']\n})\nexport class PtttClsGoiDichVuPopupComponent implements OnInit {\n    icClose = icClose;\n\n    constructor(@Inject(MAT_DIALOG_DATA) public data: any, private dialog: MatDialog, private dialogRef: MatDialogRef<any>,\n                private apiService: ApiService, private notificationService: NotificationService) { }\n\n    ngOnInit() {\n    }\n\n    close() {\n\t\tthis.dialogRef.close('close');\n\t}\n}","export default \".zoom {\\n  transition: transform 0.2s;\\n  /* Animation */\\n}\\n\\n.zoom:hover {\\n  transform: scale(2.5);\\n  /* (150% zoom - Note: if the zoom is too large, it will go outside of the viewport) */\\n  cursor: -webkit-grab;\\n  cursor: grab;\\n}\\n\\n.float-right {\\n  float: right;\\n}\\n\\n.text-center {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC1jYW4tbGFtLXNhbi9wdHR0LWNscy1rcS1wb3B1cC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHBoYXUtdGh1YXQtdGh1LXRodWF0XFxwaGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXlcXHBoYXUtdGh1YXQtdGh1LXRodWF0LWNhbi1sYW0tc2FuXFxwdHR0LWNscy1rcS1wb3B1cFxccHR0dC1jbHMta3EtcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtY2FuLWxhbS1zYW4vcHR0dC1jbHMta3EtcG9wdXAvcHR0dC1jbHMta3EtcG9wdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwwQkFBQTtFQUNBLGNBQUE7QUNDRjs7QURFQTtFQUNFLHFCQUFBO0VBQ0EscUZBQUE7RUFDQSxvQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vcGhhdS10aHVhdC10aHUtdGh1YXQvcGhhdS10aHVhdC10aHUtdGh1YXQtdGhlby1uZ2F5L3BoYXUtdGh1YXQtdGh1LXRodWF0LWNhbi1sYW0tc2FuL3B0dHQtY2xzLWtxLXBvcHVwL3B0dHQtY2xzLWtxLXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnpvb20ge1xuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycztcbiAgLyogQW5pbWF0aW9uICovXG59XG5cbi56b29tOmhvdmVyIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgyLjUpO1xuICAvKiAoMTUwJSB6b29tIC0gTm90ZTogaWYgdGhlIHpvb20gaXMgdG9vIGxhcmdlLCBpdCB3aWxsIGdvIG91dHNpZGUgb2YgdGhlIHZpZXdwb3J0KSAqL1xuICBjdXJzb3I6IC13ZWJraXQtZ3JhYjtcbiAgY3Vyc29yOiBncmFiO1xufVxuXG4uZmxvYXQtcmlnaHQge1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbi50ZXh0LWNlbnRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn0iLCIuem9vbSB7XG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjJzO1xuICAvKiBBbmltYXRpb24gKi9cbn1cblxuLnpvb206aG92ZXIge1xuICB0cmFuc2Zvcm06IHNjYWxlKDIuNSk7XG4gIC8qICgxNTAlIHpvb20gLSBOb3RlOiBpZiB0aGUgem9vbSBpcyB0b28gbGFyZ2UsIGl0IHdpbGwgZ28gb3V0c2lkZSBvZiB0aGUgdmlld3BvcnQpICovXG4gIGN1cnNvcjogLXdlYmtpdC1ncmFiO1xuICBjdXJzb3I6IGdyYWI7XG59XG5cbi5mbG9hdC1yaWdodCB7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuLnRleHQtY2VudGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufSJdfQ== */\"","import { Component, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { Http, RequestOptions, ResponseContentType } from '@angular/http';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ViewImagePdfComponent } from 'src/app/shared/component/dialogs/view-image-pdf/view-image-pdf.component';\nimport { saveFile } from 'src/app/core/utilities/file-download.helper';\nimport icClose from '@iconify/icons-ic/close';\nimport IcPDF from '@iconify/icons-ic/picture-as-pdf';\nimport icFile from '@iconify/icons-ic/twotone-insert-drive-file'\nimport { LoaiTapTin } from 'src/app/shared/enum/common-type.enums';\nimport { HttpParams } from '@angular/common/http';\n\n@Component({\n\tselector: 'app-pttt-cls-kq-popup',\n\ttemplateUrl: './pttt-cls-kq-popup.component.html',\n\tstyleUrls: ['./pttt-cls-kq-popup.component.scss']\n})\nexport class PtttClsKqPopupComponent implements OnInit {\n\ticClose = icClose;\n\ticPDF = IcPDF;\n\ticFile = icFile;\n\n\tloaiTapTin = LoaiTapTin;\n\tdataPopup: any;\n\t\n\tketQuaCanLamSanPTTT: any;\n\n\tgridDataSource: any = [];\n    gridColumns: any[] = [];\n\n\t@ViewChild('downloadHeaderTemplate', { static: true }) downloadHeaderTemplate: TemplateRef<any>;\n\t@ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n\t\n\tconstructor(@Inject(MAT_DIALOG_DATA) public data: any, private dialog: MatDialog, private dialogRef: MatDialogRef<any>, private http: Http,\n\t\t\t\tprivate apiService: ApiService, private notificationService: NotificationService, public sanitizer: DomSanitizer) { }\n\n\tngOnInit() {\n\t\tthis.gridColumns = [\n\t\t\t{ Field: \"TenFile\", Title: \"Tên File\", Width: 150 },\n            { Field: \"Action\", Title: \"\", Width: 30, Template: this.actionTemplate, TemplateHeader: this.downloadHeaderTemplate }\n        ];\n\t\t\t\n\t\tthis.gridDataSource = this.data.KetQuaCanLamSanPTTT;\n\t}\n\n\tclose() {\n\t\tthis.dialogRef.close('close');\n\t}\n\n\tViewImageAndPdf(item) {\n\t\tlet type = null, title = null, description = null;\n\n\t\tswitch(item.LoaiTapTin)\n\t\t{\n\t\t\tcase this.loaiTapTin.Image:\n\t\t\t\ttype = 'Image';\n\t\t\t\ttitle = 'Xem ảnh';\n\t\t\t\tdescription = item.MoTa ? item.MoTa : '';\n\t\t\t\tbreak;\n\t\t\tcase this.loaiTapTin.Pdf:\n\t\t\t\ttype = 'PDF';\n\t\t\t\ttitle = 'Xem tập tin';\n\t\t\t\tdescription = item.MoTa ? item.MoTa : '';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.dialog.open(ViewImagePdfComponent, {\n\t\t\tdisableClose: false,\n\t\t\twidth: '1000px',\n\t\t\theight: '600px',\n\t\t\tdata: {\n\t\t\t\tType: type,\n\t\t\t\tTitle: title,\n\t\t\t\tDescription: description,\n\t\t\t\tSrc: item.Url\n\t\t\t}\n\t\t});\n\t}\n\n\tDownloadFile(item) {\n\t\tconst params = new HttpParams({\n\t\t\tfromObject: {\n\t\t\t\ttenGuid: item.TenGuid,\n\t\t\t\tduongDan: item.DuongDan,\n\t\t\t},\n\t\t});\n\n\t\tthis.apiService.get<any>(\"TaiLieuDinhKem/GetTaiLieuUrl\", params).subscribe((result) => {\n\t\t\tthis.dataPopup = result;\n\t\t\t\n\t\t\tconst options = new RequestOptions({ responseType: ResponseContentType.Blob });\n\t\t\tthis.http.get(this.dataPopup, options).subscribe(res => {\n\t\t\t\tsaveFile(res.blob(), item.TenFile);\n\t\t\t})\n\t\t});\n\t}\n\n\tDownloadAllFiles() {\n\t\tthis.data.KetQuaCanLamSanPTTT.forEach(item => {\n\t\t\tconst params = new HttpParams({\n\t\t\t\tfromObject: {\n\t\t\t\t\ttenGuid: item.TenGuid,\n\t\t\t\t\tduongDan: item.DuongDan,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tthis.apiService.get<any>(\"TaiLieuDinhKem/GetTaiLieuUrl\", params).subscribe((result) => {\n\t\t\t\tthis.dataPopup = result;\n\t\t\t\t\n\t\t\t\tconst options = new RequestOptions({ responseType: ResponseContentType.Blob });\n\t\t\t\tthis.http.get(this.dataPopup, options).subscribe(res => {\n\t\t\t\t\tsaveFile(res.blob(), item.TenFile);\n\t\t\t\t})\n\t\t\t});\n\t\t})\n\t}\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQta2V0LWx1YW4vcGhhdS10aHVhdC10aHUtdGh1YXQta2V0LWx1YW4uY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input, EventEmitter, Output, SimpleChanges } from '@angular/core';\nimport { MatDialog } from '@angular/material';\n\nimport { EnumNhomChucDanh } from 'src/app/shared/enum/nhom-chuc-danh-enum';\nimport { EnumTrangThaiPhauThuatThuThuat, EnumTrangThaiTheoDoiSauPhauThuatThuThuat } from 'src/app/shared/enum/phau-thuat-thu-thuat.enum';\nimport { TheoDoiSauPhauThuatThuThuat } from '../../phau-thuat-thu-thuat.model';\n\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\n\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { PhauThuatThuThuatBnTiepTheoPopupComponent } from '../phau-thuat-thu-thuat-bn-tiep-theo-popup/phau-thuat-thu-thuat-bn-tiep-theo-popup.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\n\n@Component({\n    selector: 'app-phau-thuat-thu-thuat-ket-luan',\n    templateUrl: './phau-thuat-thu-thuat-ket-luan.component.html',\n    styleUrls: ['./phau-thuat-thu-thuat-ket-luan.component.scss']\n})\nexport class PhauThuatThuThuatKetLuanComponent implements OnInit {\n    isChangeData: boolean = false;\n    isDataNotChanged: boolean = true; //cấm dùng hotkeys\n    isSavingData: boolean = false;\n    isRefreshingData: boolean = false;\n    isFirstTime: boolean = true;\n\n    enumBacSiPhuTrach: EnumNhomChucDanh = EnumNhomChucDanh.BacSi;\n    enumDieuDuongPhuTrach: EnumNhomChucDanh = EnumNhomChucDanh.DieuDuong;\n    enumTheoDoi = EnumTrangThaiPhauThuatThuThuat;\n    enumTrangThaiPhauThuatThuThuat = EnumTrangThaiPhauThuatThuThuat;\n\n    theoDoiSauPhauThuatThuThuat: TheoDoiSauPhauThuatThuThuat;\n\n    radioKetLuan = [\n        { Value: EnumTrangThaiPhauThuatThuThuat.TheoDoi, Text: 'Theo dõi' },\n        { Value: EnumTrangThaiPhauThuatThuThuat.ChuyenGiao, Text: 'Chuyển giao NB ' }\n    ];\n\n    validationErrors: any[] = [];\n\n    @Input() thongTinBenhNhan: any = null;\n    @Input() currentAccessUser: any = null;\n\n    @Output() outputBenhNhanTiepTheo = new EventEmitter();\n    @Output() outputPhauThuatThuThuatKetLuanDataChanged = new EventEmitter();\n    @Output() thongTinBenhNhanChanged = new EventEmitter();\n\n    constructor(private apiService: ApiService, private notificationService: NotificationService, private dialog: MatDialog) {\n        this.theoDoiSauPhauThuatThuThuat = new TheoDoiSauPhauThuatThuThuat();\n    }\n\n    ngOnInit() {\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (changes.thongTinBenhNhan && changes.thongTinBenhNhan.currentValue) {\n            this.theoDoiSauPhauThuatThuThuat.YeuCauTiepNhanId = this.thongTinBenhNhan.YeuCauTiepNhanId;\n            this.isChangeData = true;\n            this.huyKetLuan();\n        }\n    }\n\n    onDataChange(evt) {\n        if(!this.isChangeData) {\n            this.isChangeData = true;\n            this.outputPhauThuatThuThuatKetLuanDataChanged.emit(true);\n            this.isDataNotChanged = false;\n        }\n    }\n\n    clearData() {\n        this.theoDoiSauPhauThuatThuThuat.BacSiPhuTrachTheoDoiId = 0;\n        this.theoDoiSauPhauThuatThuThuat.BacSiPhuTrachTheoDoiDisplay = '';\n        this.theoDoiSauPhauThuatThuThuat.DieuDuongPhuTrachTheoDoiId = 0;\n        this.theoDoiSauPhauThuatThuThuat.DieuDuongPhuTrachTheoDoiDisplay = '';\n        this.theoDoiSauPhauThuatThuThuat.ThoiDiemKetThucTheoDoi = null;\n        this.theoDoiSauPhauThuatThuThuat.GhiChuTheoDoi = null;\n        this.theoDoiSauPhauThuatThuThuat.TrangThaiPhauThuatThuThuat = EnumTrangThaiPhauThuatThuThuat.TheoDoi;\n        this.isRefreshingData = false;\n    }\n\n    getTheoDoiSauPhauThuatThuThuat() {\n        if(!this.isFirstTime) {\n            this.dialog.open(LoadingComponent, {\n                disableClose: true,\n                width: '200px',\n                height: '90px',\n                data: { Title: 'Đang tải...' }\n            });\n        } else {\n            this.isFirstTime = false;\n        }\n        \n        this.apiService.get<any>(`PhauThuatThuThuat/GetTheoDoiSauPhauThuatThuThuatByYeuCauTiepNhan?yeuCauTiepNhanId=${this.thongTinBenhNhan.YeuCauTiepNhanId}&isTuongTrinhLai=${this.thongTinBenhNhan.IsTuongTrinhLai}`).subscribe(res => {\n            if(res) {\n                this.theoDoiSauPhauThuatThuThuat = res;\n\n                if(this.thongTinBenhNhan.IsTuongTrinhLai && this.thongTinBenhNhan.IsTuongTrinhLaiCoKetLuan && !this.thongTinBenhNhan.IsTuongTrinhLaiCoTheoDoi) {\n                    this.theoDoiSauPhauThuatThuThuat.TrangThaiPhauThuatThuThuat = EnumTrangThaiPhauThuatThuThuat.ChuyenGiao;\n                } else {\n                    this.theoDoiSauPhauThuatThuThuat.TrangThaiPhauThuatThuThuat = EnumTrangThaiPhauThuatThuThuat.TheoDoi;\n                }\n\n                this.dialog.closeAll();\n                this.isRefreshingData = false;\n            }\n        }, (err) => {\n            this.notificationService.showError(err.Message);\n            this.dialog.closeAll();\n            this.isRefreshingData = false;\n        })\n    }\n\n    huyKetLuan() {\n        if(this.isRefreshingData || !this.isChangeData) {\n            return;\n        }\n\n        this.isRefreshingData = true;\n        this.isChangeData = false;\n        this.outputPhauThuatThuThuatKetLuanDataChanged.emit(false);\n        this.isDataNotChanged = true;\n        this.validationErrors = null;\n        \n        if(this.thongTinBenhNhan.TrangThaiPhauThuatThuThuat == this.enumTrangThaiPhauThuatThuThuat.TheoDoi || this.thongTinBenhNhan.IsTuongTrinhLaiCoKetLuan) {\n            this.getTheoDoiSauPhauThuatThuThuat();\n        } else {\n            this.clearData();\n        }\n    }\n\n    luuKetLuan() {\n        if(this.isDataNotChanged == true || this.isSavingData == true) {\n            return;\n        }\n\n        this.validationErrors = null;\n        this.isSavingData = true;\n        this.theoDoiSauPhauThuatThuThuat.PhongBenhVienId = this.currentAccessUser.PhongBenhVienId;\n        // this.theoDoiSauPhauThuatThuThuat.ThoiDiemBatDauTheoDoi = new Date();\n        if(this.theoDoiSauPhauThuatThuThuat.TrangThaiPhauThuatThuThuat == EnumTrangThaiPhauThuatThuThuat.TheoDoi) {\n            this.apiService.post<any>(`PhauThuatThuThuat/TheoDoiSauPhauThuatThuThuat`, this.theoDoiSauPhauThuatThuThuat).subscribe(res => {\n                if(res) {\n                    this.theoDoiSauPhauThuatThuThuat.Id = res.Id;\n                    this.isChangeData = false;\n                    this.outputPhauThuatThuThuatKetLuanDataChanged.emit(false);\n                    this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [`Lưu thông tin theo dõi NB ${this.thongTinBenhNhan.HoTen}`]));\n                    this.thongTinBenhNhanChanged.emit(true);\n                    this.isDataNotChanged = true;\n                    this.isSavingData = false;\n                    // this.outputBenhNhanTiepTheo.emit(res.YeuCauTiepNhanId);\n                }\n            }, (err) => {\n                this.isSavingData = false;\n                err.ValidationErrors === null ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n                return;\n            })\n        } else {\n            this.dialog.open(ConfirmComponent, {\n                disableClose: false,\n                width: '400px',\n                data: { Title: \"Xác nhận\", Message: \"Bạn có muốn chuyển giao NB về Khoa chỉ định ban đầu không?\" }\n            }).afterClosed().subscribe(result => {\n                if (result === \"Yes\") {\n                    this.isChangeData = false;\n                    this.outputPhauThuatThuThuatKetLuanDataChanged.emit(false);\n                    this.isDataNotChanged = true;\n\n                    // Cập nhật trạng thái\n                    this.theoDoiSauPhauThuatThuThuat.TrangThai = EnumTrangThaiTheoDoiSauPhauThuatThuThuat.KetThucTheoDoi;\n                    this.theoDoiSauPhauThuatThuThuat.PhongBenhVienId = this.currentAccessUser.PhongBenhVienId;\n                    this.theoDoiSauPhauThuatThuThuat.NhanVienKetLuanId = this.currentAccessUser.Id;\n                    this.theoDoiSauPhauThuatThuThuat.BacSiPhuTrachTheoDoiId = 0;\n                    this.theoDoiSauPhauThuatThuThuat.DieuDuongPhuTrachTheoDoiId = 0;\n                    this.theoDoiSauPhauThuatThuThuat.ThoiDiemBatDauTheoDoi = null;\n                    this.theoDoiSauPhauThuatThuThuat.ThoiDiemKetThucTheoDoi = null;\n                    \n                    this.apiService.post<any>(\"PhauThuatThuThuat/ChuyenGiaoSauPhauThuatThuThuat\", this.theoDoiSauPhauThuatThuThuat).subscribe(res => {\n                        if(res) {\n                            this.isSavingData = false;\n                            this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [`Chuyển giao NB ${this.thongTinBenhNhan.HoTen}`]));\n\n                            //GetThongTinBenhNhanTiepTheo\n                            this.apiService.get<any>(`PhauThuatThuThuat/GetThongTinBenhNhanTiepTheo?phongKhamHienTaiId=${this.currentAccessUser.PhongBenhVienId}&yeuCauTiepNhanHienTaiId=${this.thongTinBenhNhan.YeuCauTiepNhanId}`).subscribe((res) => {\n                                if(res) {\n                                    this.dialog.open(PhauThuatThuThuatBnTiepTheoPopupComponent, {\n                                        disableClose: true,\n                                        width: '1000px',\n                                        data: res\n                                    })\n                                    .afterClosed()\n                                    .subscribe(dialogRes => {\n                                        if(dialogRes) {\n                                            this.outputBenhNhanTiepTheo.emit(res.YeuCauTiepNhanId);\n                                        } else {\n                                            this.outputBenhNhanTiepTheo.emit(0);\n                                        }\n                                    });\n                                } else {\n                                    this.outputBenhNhanTiepTheo.emit(0);\n                                }\n                            }, (err) => {\n                                this.dialog.closeAll();\n                                this.notificationService.showError(err);\n                            });\n                        }\n                    }, (err) => {\n                        this.isSavingData = false;\n                        this.notificationService.showError(err.Message);\n                    })\n                } else {\n                    this.isSavingData = false;\n                }\n            });\n        }\n    }\n}\n","export default \"image-drawing > div {\\n  width: 100%;\\n  height: 100%;\\n  border: 1px solid #ccc !important;\\n  overflow: auto;\\n}\\n\\nimage-drawing > div .canvas-container {\\n  width: 100% !important;\\n}\\n\\nimage-drawing .toolbar {\\n  position: relative !important;\\n  overflow: initial;\\n}\\n\\nimage-drawing .toolbar .tools {\\n  width: 100% !important;\\n  padding: 10px !important;\\n  margin: 0 !important;\\n  box-shadow: none !important;\\n  position: relative !important;\\n  display: block !important;\\n}\\n\\nimage-drawing .toolbar .tools .row {\\n  width: 50% !important;\\n  float: left !important;\\n}\\n\\nimage-drawing .toolbar .buttons {\\n  position: absolute !important;\\n  right: 0 !important;\\n  bottom: -50px !important;\\n  display: block !important;\\n  margin: 0 !important;\\n}\\n\\nimage-drawing .toolbar .buttons .button {\\n  color: #000 !important;\\n  float: right !important;\\n  margin: 0 !important;\\n}\\n\\nimage-drawing .toolbar .buttons .button.btn-primary {\\n  background: #005dab;\\n  color: #fff !important;\\n}\\n\\n.btn-loading {\\n  padding: 15px;\\n  background: #fff;\\n  position: absolute;\\n  right: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC1sdW9jLWRvLXBvcHVwL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxccGhhdS10aHVhdC10aHUtdGh1YXRcXHBoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheVxccGhhdS10aHVhdC10aHUtdGh1YXQtbHVvYy1kby1wb3B1cFxccGhhdS10aHVhdC10aHUtdGh1YXQtbHVvYy1kby1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC1sdW9jLWRvLXBvcHVwL3BoYXUtdGh1YXQtdGh1LXRodWF0LWx1b2MtZG8tcG9wdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGlDQUFBO0VBQ0EsY0FBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7QUNDRjs7QURFQTtFQUNFLDZCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURFQTtFQUNFLHNCQUFBO0VBQ0Esd0JBQUE7RUFDQSxvQkFBQTtFQUNBLDJCQUFBO0VBQ0EsNkJBQUE7RUFDQSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UscUJBQUE7RUFDQSxzQkFBQTtBQ0NGOztBREVBO0VBQ0UsNkJBQUE7RUFDQSxtQkFBQTtFQUNBLHdCQUFBO0VBQ0EseUJBQUE7RUFDQSxvQkFBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0FDQ0Y7O0FERUE7RUFDRSxtQkFBQTtFQUNBLHNCQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLFFBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtbHVvYy1kby1wb3B1cC9waGF1LXRodWF0LXRodS10aHVhdC1sdW9jLWRvLXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW1hZ2UtZHJhd2luZyA+IGRpdiB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2MgIWltcG9ydGFudDtcbiAgb3ZlcmZsb3c6IGF1dG87XG59XG5cbmltYWdlLWRyYXdpbmcgPiBkaXYgLmNhbnZhcy1jb250YWluZXIge1xuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xufVxuXG5pbWFnZS1kcmF3aW5nIC50b29sYmFyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7XG4gIG92ZXJmbG93OiBpbml0aWFsO1xufVxuXG5pbWFnZS1kcmF3aW5nIC50b29sYmFyIC50b29scyB7XG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmc6IDEwcHggIWltcG9ydGFudDtcbiAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcbiAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7XG4gIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbmltYWdlLWRyYXdpbmcgLnRvb2xiYXIgLnRvb2xzIC5yb3cge1xuICB3aWR0aDogNTAlICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiBsZWZ0ICFpbXBvcnRhbnQ7XG59XG5cbmltYWdlLWRyYXdpbmcgLnRvb2xiYXIgLmJ1dHRvbnMge1xuICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcbiAgcmlnaHQ6IDAgIWltcG9ydGFudDtcbiAgYm90dG9tOiAtNTBweCAhaW1wb3J0YW50O1xuICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbn1cblxuaW1hZ2UtZHJhd2luZyAudG9vbGJhciAuYnV0dG9ucyAuYnV0dG9uIHtcbiAgY29sb3I6ICMwMDAgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xufVxuXG5pbWFnZS1kcmF3aW5nIC50b29sYmFyIC5idXR0b25zIC5idXR0b24uYnRuLXByaW1hcnkge1xuICBiYWNrZ3JvdW5kOiAjMDA1ZGFiO1xuICBjb2xvcjogI2ZmZiAhaW1wb3J0YW50O1xufVxuXG4uYnRuLWxvYWRpbmcge1xuICBwYWRkaW5nOiAxNXB4O1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xufSIsImltYWdlLWRyYXdpbmcgPiBkaXYge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjICFpbXBvcnRhbnQ7XG4gIG92ZXJmbG93OiBhdXRvO1xufVxuXG5pbWFnZS1kcmF3aW5nID4gZGl2IC5jYW52YXMtY29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbn1cblxuaW1hZ2UtZHJhd2luZyAudG9vbGJhciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O1xuICBvdmVyZmxvdzogaW5pdGlhbDtcbn1cblxuaW1hZ2UtZHJhd2luZyAudG9vbGJhciAudG9vbHMge1xuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAxMHB4ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O1xuICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xufVxuXG5pbWFnZS1kcmF3aW5nIC50b29sYmFyIC50b29scyAucm93IHtcbiAgd2lkdGg6IDUwJSAhaW1wb3J0YW50O1xuICBmbG9hdDogbGVmdCAhaW1wb3J0YW50O1xufVxuXG5pbWFnZS1kcmF3aW5nIC50b29sYmFyIC5idXR0b25zIHtcbiAgcG9zaXRpb246IGFic29sdXRlICFpbXBvcnRhbnQ7XG4gIHJpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIGJvdHRvbTogLTUwcHggIWltcG9ydGFudDtcbiAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbiAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG59XG5cbmltYWdlLWRyYXdpbmcgLnRvb2xiYXIgLmJ1dHRvbnMgLmJ1dHRvbiB7XG4gIGNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodCAhaW1wb3J0YW50O1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbn1cblxuaW1hZ2UtZHJhd2luZyAudG9vbGJhciAuYnV0dG9ucyAuYnV0dG9uLmJ0bi1wcmltYXJ5IHtcbiAgYmFja2dyb3VuZDogIzAwNWRhYjtcbiAgY29sb3I6ICNmZmYgIWltcG9ydGFudDtcbn1cblxuLmJ0bi1sb2FkaW5nIHtcbiAgcGFkZGluZzogMTVweDtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbn0iXX0= */\"","import {\n    Component,\n    OnInit,\n    ViewChild,\n    Inject,\n    ChangeDetectorRef,\n    ViewEncapsulation,\n} from '@angular/core';\nimport { stagger60ms } from 'src/@vex/animations/stagger.animation';\nimport { fadeInUp400ms } from 'src/@vex/animations/fade-in-up.animation';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport {\n    ThongTinBoPhanCoThe,\n    DanhSachThongTinAnh,\n} from '../../phau-thuat-thu-thuat.model';\nimport { HttpParams } from '@angular/common/http';\nimport { ImageDrawingComponent } from 'ngx-image-drawing';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\ndeclare var $: any;\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-phau-thuat-thu-thuat-luoc-do-popup',\n    templateUrl: './phau-thuat-thu-thuat-luoc-do-popup.component.html',\n    styleUrls: ['./phau-thuat-thu-thuat-luoc-do-popup.component.scss'],\n    animations: [stagger60ms, fadeInUp400ms],\n    encapsulation: ViewEncapsulation.None\n})\nexport class PhauThuatThuThuatLuocDoPopupComponent implements OnInit {\n    icClose = icClose;\n    public url = '';\n    public thongTinBoPhanCoThe = {} as ThongTinBoPhanCoThe;\n    public thongTinAnh = {} as DanhSachThongTinAnh;\n    previewUrl: any = null;\n\n    ChonThongTin = 1;\n    boPhanCoTheCurrent: any = null;\n    loading = false;\n    documentType: DocumentType;\n\n    @ViewChild('imageDrawing', { static: true }) imageDrawing: ImageDrawingComponent;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public data: any,\n        private dialog: MatDialog,\n        private dialogRef: MatDialogRef<any>,\n        private ref: ChangeDetectorRef,\n        private notificationService: NotificationService,\n        private apiService: ApiService,\n        private authService: AuthService\n    ) { }\n\n    ngOnInit() {\n        this.thongTinBoPhanCoThe = new ThongTinBoPhanCoThe();\n        this.documentType = DocumentType.PhauThuatThuThuatTheoNgay;\n    }\n\n    close() {\n        this.dialog.closeAll();\n    }\n\n    uploadFileDone(file: any) {\n        if (!file) {\n            this.thongTinAnh.Url = '';\n            return;\n        }\n\n        let duongDan = file.DuongDan;\n        if (file.IsExistingFile !== true) {\n            duongDan = file.DuongDanTmp;\n        }\n\n        const params = new HttpParams({\n            fromObject: {\n                tenGuid: file.TenGuid,\n                duongDan,\n            },\n        });\n\n        this.apiService.get<any>('TaiLieuDinhKem/GetTaiLieuUrl', params).subscribe((res) => {\n            if (res) {\n                this.thongTinAnh.Url = res;\n            }\n        });\n    }\n\n    onSelectionChange(data: any) {\n        if (!data) {\n            this.thongTinAnh.Url = '';\n\n            if (this.imageDrawing != null) {\n                this.imageDrawing.removeImage();\n            }\n            return;\n        }\n\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n            this.apiService.get<any>('KhamBenh/GetHinhPhauThuatDuaTrenBoPhan?boPhan=' + data.DisplayName).subscribe(resultData => {\n                if (resultData !== undefined && resultData != null) {\n                    this.thongTinAnh.Url = resultData;\n                }\n            });\n        }\n    }\n\n    save(blob: any) {\n        setTimeout(() => {\n            $('.sidenav-content').trigger('click');\n        }, 1000);\n        if (blob !== '' && blob != null) {\n            const self = this;\n            self.loading = true;\n            self.ref.detectChanges();\n            this.thongTinAnh.Url = blob;\n            const reader = new FileReader();\n            reader.readAsDataURL(blob); // converts the blob to base64 and calls onload\n            reader.onload = (e: any) => {\n                const image = new Image();\n                image.src = e.target.result;\n                image.onload = () => {\n                    const imgBase64Path = e.target.result;\n                    this.thongTinAnh.Url = imgBase64Path;\n                };\n            };\n            if (this.thongTinAnh.Url != null) {\n                this.dialogRef.close(this.thongTinAnh);\n                self.loading = false;\n            }\n        }\n    }\n\n    cancel() {\n        this.thongTinAnh.Url = '';\n\n        if (this.imageDrawing) {\n            this.imageDrawing.removeImage();\n            this.imageDrawing.clearCanvas();\n        }\n\n        this.boPhanCoTheCurrent = null;\n    }\n\n    showErrorIfNoImage(data: any) {\n        if (this.imageDrawing != null && this.imageDrawing.hasImage === false\n            && data.path != null && data.path[0].innerHTML === 'Lưu') {\n            this.notificationService.showError('Không có ảnh để lưu');\n        }\n    }\n\n    chonThongTinChange(evt) {\n        this.ref.detectChanges();\n    }\n}\n","export default \".po-h {\\n  color: #005dab;\\n}\\n\\n.po-h mat-icon {\\n  display: contents;\\n}\\n\\n.po-h.disabled {\\n  color: rgba(0, 0, 0, 0.12);\\n}\\n\\nkendo-tabstrip.tab-strip-pttt-theo-doi-lan-kham .k-tabstrip-items #k-tabstrip-tab-0 {\\n  border-top: none;\\n  border-left: none;\\n  border-right: none;\\n}\\n\\nkendo-tabstrip.tab-strip-pttt-theo-doi-lan-kham .k-tabstrip-items .k-item .k-link {\\n  background: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLWRvaS9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHBoYXUtdGh1YXQtdGh1LXRodWF0XFxwaGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXlcXHBoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tZG9pXFxwaGF1LXRodWF0LXRodS10aHVhdC10aGVvLWRvaS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLWRvaS9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLWRvaS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSwwQkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLWRvaS9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLWRvaS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wby1oIHtcbiAgY29sb3I6ICMwMDVkYWI7XG59XG5cbi5wby1oIG1hdC1pY29uIHtcbiAgZGlzcGxheTogY29udGVudHM7XG59XG5cbi5wby1oLmRpc2FibGVkIHtcbiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xMik7XG59XG5cbmtlbmRvLXRhYnN0cmlwLnRhYi1zdHJpcC1wdHR0LXRoZW8tZG9pLWxhbi1raGFtIC5rLXRhYnN0cmlwLWl0ZW1zICNrLXRhYnN0cmlwLXRhYi0wIHtcbiAgYm9yZGVyLXRvcDogbm9uZTtcbiAgYm9yZGVyLWxlZnQ6IG5vbmU7XG4gIGJvcmRlci1yaWdodDogbm9uZTtcbn1cblxua2VuZG8tdGFic3RyaXAudGFiLXN0cmlwLXB0dHQtdGhlby1kb2ktbGFuLWtoYW0gLmstdGFic3RyaXAtaXRlbXMgLmstaXRlbSAuay1saW5rIHtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbn0iLCIucG8taCB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xufVxuXG4ucG8taCBtYXQtaWNvbiB7XG4gIGRpc3BsYXk6IGNvbnRlbnRzO1xufVxuXG4ucG8taC5kaXNhYmxlZCB7XG4gIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTIpO1xufVxuXG5rZW5kby10YWJzdHJpcC50YWItc3RyaXAtcHR0dC10aGVvLWRvaS1sYW4ta2hhbSAuay10YWJzdHJpcC1pdGVtcyAjay10YWJzdHJpcC10YWItMCB7XG4gIGJvcmRlci10b3A6IG5vbmU7XG4gIGJvcmRlci1sZWZ0OiBub25lO1xuICBib3JkZXItcmlnaHQ6IG5vbmU7XG59XG5cbmtlbmRvLXRhYnN0cmlwLnRhYi1zdHJpcC1wdHR0LXRoZW8tZG9pLWxhbi1raGFtIC5rLXRhYnN0cmlwLWl0ZW1zIC5rLWl0ZW0gLmstbGluayB7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG59Il19 */\"","import { Component, OnInit, Input, ViewChild, TemplateRef, ViewEncapsulation, Output, EventEmitter, SimpleChanges } from '@angular/core';\nimport { MatDialog } from '@angular/material';\n\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { TheoDoiSauPhauThuatThuThuat, KhamTheoDoi, DisplayLogicModel } from '../../phau-thuat-thu-thuat.model';\nimport { LookupItemVo } from 'src/app/shared/models/common.model';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage, PtttMessage } from 'src/app/shared/configdata/system-message';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\n\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { EnumTrangThaiTheoDoiSauPhauThuatThuThuat } from 'src/app/shared/enum/phau-thuat-thu-thuat.enum';\nimport { PhauThuatThuThuatBnTiepTheoPopupComponent } from '../phau-thuat-thu-thuat-bn-tiep-theo-popup/phau-thuat-thu-thuat-bn-tiep-theo-popup.component';\nimport { BroadcastService } from 'src/app/core/services/broadcast.service';\nimport { Subscription } from 'rxjs';\nimport { PhauThuatThuThuatTheoDoiSinhTonComponent } from './pttt-theo-doi-sinh-ton/pttt-theo-doi-sinh-ton.component';\n\n@Component({\n    selector: 'app-phau-thuat-thu-thuat-theo-doi',\n    templateUrl: './phau-thuat-thu-thuat-theo-doi.component.html',\n    styleUrls: ['./phau-thuat-thu-thuat-theo-doi.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class PhauThuatThuThuatTheoDoiComponent implements OnInit {\n    isChangeData: boolean = false;\n    isDisableUpdate: boolean = false;\n    isSavingData: boolean = false;\n    isDataNotChanged: boolean = true;\n    isRefreshingData: boolean = false;\n    isFirstTime: boolean = true;\n\n    subscription: Subscription;\n    logicDisplayCsst = {} as DisplayLogicModel;\n\n    theoDoiSauPhauThuatThuThuat: TheoDoiSauPhauThuatThuThuat;\n    khamTheoDois: KhamTheoDoi[] = [];\n\n    documentType: DocumentType = DocumentType.PhauThuatThuThuatTheoNgay;\n    validationErrors: any;\n\n    phongKhamHienTai: LookupItemVo = {\n        DisplayName: null,\n        KeyId: Number(this.authService.getPhongLamViecId()),\n    };\n\n    icEdit = icEdit;\n    icAddCircle = icAddCircle;\n\n    @Input() thongTinBenhNhan: any = null;\n    @Input() currentAccessUser: any = null;\n\n    @Output() outputBenhNhanTiepTheo = new EventEmitter();\n    @Output() outputPhauThuatThuThuatTheoDoiDataChanged = new EventEmitter();\n    @Output() outputPhauThuatThuThuatTheoDoiChiSoSinhTonDataChanged = new EventEmitter();\n\n    @ViewChild('trangThaiTemplate', { static: true }) trangThaiTemplate: TemplateRef<any>;\n    @ViewChild('ptttTheoDoiSt', { static: true }) ptttTheoDoiSt: PhauThuatThuThuatTheoDoiSinhTonComponent;\n\n    constructor(private apiService: ApiService, private authService: AuthService, private notificationService: NotificationService, private broadcastService: BroadcastService, private dialog: MatDialog) { }\n\n    ngOnInit() {\n        this.getTheoDoiSauPhauThuatThuThuat();\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (changes.thongTinBenhNhan && changes.thongTinBenhNhan.currentValue) {\n            this.validationErrors = null;\n            this.isChangeData = false;\n            this.outputPhauThuatThuThuatTheoDoiDataChanged.emit(false);\n            this.outputPhauThuatThuThuatTheoDoiChiSoSinhTonDataChanged.emit(false);\n\n            // this.getTheoDoiSauPhauThuatThuThuat();\n        }\n    }\n\n    onDataChange(evt) {\n        if(!this.isChangeData) {\n            this.isChangeData = true;\n            this.outputPhauThuatThuThuatTheoDoiDataChanged.emit(true);\n            this.isDataNotChanged = false;\n        }\n    }\n\n    getTheoDoiSauPhauThuatThuThuatId() {\n        return this.theoDoiSauPhauThuatThuThuat.Id;\n    }\n\n    getTheoDoiSauPhauThuatThuThuat() {\n        if(!this.isFirstTime) {\n            this.dialog.open(LoadingComponent, {\n                disableClose: true,\n                width: '200px',\n                height: '90px',\n                data: { Title: 'Đang tải...' }\n            });\n        } else {\n            this.isFirstTime = false;\n        }\n\n        this.apiService.get<any>(`PhauThuatThuThuat/GetTheoDoiSauPhauThuatThuThuatByYeuCauTiepNhan?yeuCauTiepNhanId=${this.thongTinBenhNhan.YeuCauTiepNhanId}&isTuongTrinhLai=${this.thongTinBenhNhan.IsTuongTrinhLai}`).subscribe(res => {\n            if(res) {\n                this.theoDoiSauPhauThuatThuThuat = res;\n                this.getKhamTheoDois();\n            }\n        }, (err) => {\n            this.notificationService.showError(err.Message);\n            this.dialog.closeAll();\n        })\n    }\n\n    getKhamTheoDois() {\n        this.apiService.get<any>(`PhauThuatThuThuat/GetKhamTheoDois?theoDoiSauPhauThuatThuThuatId=${this.theoDoiSauPhauThuatThuThuat.Id}`).subscribe(res => {\n            if(res) {\n                this.khamTheoDois = res;\n\n                if(this.khamTheoDois.length === 0) {\n                    this.addLanKham();\n                } else {\n                    this.khamTheoDois.forEach(item => {\n                        item.ThongTinKhamTheoDoiTemplateObj = JSON.parse(item.ThongTinKhamTheoDoiTemplate);\n                    })\n\n                    this.bindDataDynamicComponent();\n                    this.dialog.closeAll();\n                }\n            }\n        }, (err) => {\n            this.notificationService.showError(err.Message);\n            this.dialog.closeAll();\n        })\n    }\n\n    bindDataDynamicComponent() {\n        this.khamTheoDois.forEach(item => {\n            let strData = item.ThongTinKhamTheoDoiData;\n\n            if (strData) {\n                let dataObj = JSON.parse(strData);\n                let itemTemp = null;\n\n                if (item.ThongTinKhamTheoDoiTemplateObj) {\n                    item.ThongTinKhamTheoDoiTemplateObj.ComponentDynamics.forEach(itemObj => {\n                        if (itemObj.groupItems && itemObj.groupItems.length > 0) {\n                            itemObj.groupItems.forEach((element) => {\n                                itemTemp = dataObj.DataKhamTheoTemplate.find(x => x.Id == element.Id);\n                                if (itemTemp) {\n                                    element.Value = itemTemp.Value;\n                                }\n                            });\n                        } else {\n                            itemTemp = dataObj.DataKhamTheoTemplate.find(x => x.Id == itemObj.Id);\n                            if (itemTemp) {\n                                itemObj.Value = itemTemp.Value;\n                            }\n                        }\n                    })\n                }\n            }\n        })\n    }\n\n    processDynamicComponent() {\n        let dataKhamTheoTemplate: any;\n        let lstDataKhamTheoTemplate: any[] = [];\n\n        if (this.khamTheoDois[0].ThongTinKhamTheoDoiTemplateObj) {\n            this.khamTheoDois[0].ThongTinKhamTheoDoiTemplateObj.ComponentDynamics.forEach(\n                (component) => {\n                    if (component.groupItems && component.groupItems.length > 0) {\n                        component.groupItems.forEach((element) => {\n                            if (element.Value) {\n                                dataKhamTheoTemplate = {\n                                    Id: element.Id,\n                                    Value: element.Value,\n                                };\n                                lstDataKhamTheoTemplate.push(dataKhamTheoTemplate);\n                            }\n                        });\n                    } else if (component.Value) {\n                        dataKhamTheoTemplate = {\n                            Id: component.Id,\n                            Value: component.Value,\n                        };\n\n                        lstDataKhamTheoTemplate.push(dataKhamTheoTemplate);\n                    }\n                }\n            );\n\n            let strLstDataKhamTheoTemplate = JSON.stringify(lstDataKhamTheoTemplate);\n            return `{\"DataKhamTheoTemplate\": ${strLstDataKhamTheoTemplate}}`;\n        }\n\n        return null;\n    }\n\n    EditKhamBenhSession(item) {\n\n    }\n\n    SaveKhamBenhSession() {\n\n    }\n\n    FinishKhamBenhSession() {\n\n    }\n\n    onTabSelect(evt) {\n        this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: 'Đang tải...' }\n        });\n\n        if(evt.index === 0) {\n            evt.preventDefault();\n\n            if(this.khamTheoDois[0].ThoiDiemHoanThanhKham) {\n                this.addLanKham();\n            }\n        }\n\n        this.dialog.closeAll();\n    }\n\n    addLanKham() {\n        this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: 'Đang tải...' }\n        });\n\n        let khamTheoDoi = new KhamTheoDoi();\n        khamTheoDoi.TheoDoiSauPhauThuatThuThuatId = this.theoDoiSauPhauThuatThuThuat.Id;\n        khamTheoDoi.ThoiDiemBatDauKham = new Date();\n\n        this.apiService.post<any>(`PhauThuatThuThuat/AddKhamTheoDoi`, khamTheoDoi).subscribe(res => {\n            if(res) {\n                this.getKhamTheoDois();\n            }\n        }, (err) => {\n            this.notificationService.showError(err.Message);\n            this.dialog.closeAll();\n        })\n    }\n\n    luuLanKham(isChuyenGiao: boolean = false) {\n        // if(this.isSavingData == true || this.isDataNotChanged == true) {\n        //     return;\n        // }\n        if(isChuyenGiao == false) {\n            if(this.isSavingData == true || this.isDataNotChanged == true) {\n                return;\n            }\n        }\n\n        this.isSavingData = true;\n\n        this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: 'Đang lưu...' }\n        });\n\n        this.khamTheoDois[0].ThongTinKhamTheoDoiData = this.processDynamicComponent();\n        this.khamTheoDois[0].ThoiDiemHoanThanhKham = new Date();\n        this.khamTheoDois[0].NoiThucHienId = this.phongKhamHienTai.KeyId;\n        this.khamTheoDois[0].NhanVienThucHienId = this.currentAccessUser.Id;\n\n        if(this.khamTheoDois[0].KhamTheoDoiBoPhanKhacs) {\n            this.khamTheoDois[0].KhamTheoDoiBoPhanKhacs.forEach(item => {\n                item.KhamTheoDoiId = this.khamTheoDois[0].Id;\n            })\n        }\n\n        this.apiService.post<any>(`PhauThuatThuThuat/UpdateKhamTheoDoi`, this.khamTheoDois[0]).subscribe(res => {\n            if(res) {\n                this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Lưu lần khám\"]));\n\n                // this.isSavingData = false;\n                this.isChangeData = false;\n                this.outputPhauThuatThuThuatTheoDoiDataChanged.emit(false);\n\n                if(isChuyenGiao) {\n                    this.chuyenGiao();\n                } else {\n                    this.refreshLanKham(res.Id);\n                }\n            }\n        }, (err) => {\n            this.dialog.closeAll();\n            err.ValidationErrors === null ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n            this.isSavingData = false;\n        })\n    }\n\n    huyLanKham()\n    {\n        if(this.isRefreshingData || !this.isChangeData) {\n            return;\n        }\n\n        this.isRefreshingData = true;\n\n        this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: 'Đang tải...' }\n        });\n\n        this.refreshLanKham(this.khamTheoDois[0].Id);\n        this.isChangeData = false;\n        this.outputPhauThuatThuThuatTheoDoiDataChanged.emit(false);\n        this.isDataNotChanged = true;\n    }\n\n    refreshLanKham(khamTheoDoiId: number) {\n        this.apiService.get<any>(`PhauThuatThuThuat/GetKhamTheoDoi?id=${khamTheoDoiId}`).subscribe(res => {\n            if(res) {\n                this.khamTheoDois[0] = res;\n                this.khamTheoDois[0].ThongTinKhamTheoDoiTemplateObj = JSON.parse(this.khamTheoDois[0].ThongTinKhamTheoDoiTemplate);\n\n                this.bindDataDynamicComponent();\n                this.dialog.closeAll();\n                this.isSavingData = false;\n                this.isDataNotChanged = true;\n                this.isRefreshingData = false;\n            }\n        }, (err) => {\n            err.ValidationErrors === null ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n            this.dialog.closeAll();\n            this.isSavingData = false;\n            this.isRefreshingData = false;\n        })\n    }\n\n    chuyenGiaoBenhNhan() {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: \"Bạn có muốn chuyển giao NB về Khoa chỉ định ban đầu không?\" }\n        }).afterClosed().subscribe(result => {\n            if (result === \"Yes\") {\n                // Cập nhật trạng thái\n                this.luuLanKham(true);\n            }\n        });\n    }\n\n    chuyenGiao() {\n        this.theoDoiSauPhauThuatThuThuat.TrangThai = EnumTrangThaiTheoDoiSauPhauThuatThuThuat.KetThucTheoDoi;\n        this.theoDoiSauPhauThuatThuThuat.PhongBenhVienId = this.currentAccessUser.PhongBenhVienId;\n        this.theoDoiSauPhauThuatThuThuat.NhanVienKetLuanId = this.currentAccessUser.Id;\n        \n        this.apiService.post<any>(\"PhauThuatThuThuat/ChuyenGiaoSauPhauThuatThuThuat\", this.theoDoiSauPhauThuatThuThuat).subscribe(res => {\n            if(res) {\n                this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [`Chuyển giao NB ${this.thongTinBenhNhan.HoTen}`]));\n                this.dialog.closeAll();\n                this.isSavingData = false;\n                this.isDataNotChanged = true;\n\n                //GetThongTinBenhNhanTiepTheo\n                this.dialog.open(LoadingComponent, {\n                    disableClose: true,\n                    width: '200px',\n                    height: '90px',\n                    data: { Title: 'Đang tải...' }\n                });\n\n                this.apiService.get<any>(`PhauThuatThuThuat/GetThongTinBenhNhanTiepTheo?phongKhamHienTaiId=${this.currentAccessUser.PhongBenhVienId}&yeuCauTiepNhanHienTaiId=${this.thongTinBenhNhan.YeuCauTiepNhanId}`).subscribe((res) => {\n                    if(res) {\n                        this.dialog.closeAll();\n\n                        this.dialog.open(PhauThuatThuThuatBnTiepTheoPopupComponent, {\n                            disableClose: true,\n                            width: '1000px',\n                            data: res\n                        })\n                        .afterClosed()\n                        .subscribe(dialogRes => {\n                            if(dialogRes) {\n                                this.outputBenhNhanTiepTheo.emit(res.YeuCauTiepNhanId);\n                            } else {\n                                this.outputBenhNhanTiepTheo.emit(0);\n                            }\n                        });\n                    } else {\n                        this.dialog.closeAll();\n                        this.outputBenhNhanTiepTheo.emit(0);\n                    }\n                }, (err) => {\n                    this.notificationService.showError(err);\n                    this.dialog.closeAll();\n                });\n            }\n        }, (err) => {\n            this.notificationService.showError(err.Message);\n            this.dialog.closeAll();\n        })\n    }\n\n    SaveSinhTon() {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: PtttMessage.MessageConfirmSaveCsst }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result === 'Yes') {\n                this.outputPhauThuatThuThuatTheoDoiChiSoSinhTonDataChanged.emit(false);\n\n                this.ptttTheoDoiSt.Luu();\n            }\n        });\n    }\n\n    ResetSinhTon() {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: PtttMessage.MessageConfirmResetCsst }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result === 'Yes') {\n                this.outputPhauThuatThuThuatTheoDoiChiSoSinhTonDataChanged.emit(false);\n\n                if(this.ptttTheoDoiSt != null){\n                    this.ptttTheoDoiSt.canChange = false;\n                    this.ptttTheoDoiSt.LoadChiSoSinhHieu(this.thongTinBenhNhan.YeuCauTiepNhanId);\n                }\n            }\n        });\n    }\n\n    ngAfterContentInit() {\n        const self = this;\n\n        // self.subscription = self.broadcastService.on('DisplayBtnSaveSinhTon', event => {\n        //     if (event.message != null) {\n        //         self.logicDisplayCsst.IsDisplayReset = event.message;\n        //         self.logicDisplayCsst.IsDisplaySave = event.message;\n        //     }\n        // });\n    }\n\n    displayButtonOnChiSoSinhTon(event) {\n        this.logicDisplayCsst.IsDisplayReset = event;\n        this.logicDisplayCsst.IsDisplaySave = event;\n\n        // if(event) {\n        //     this.isChangeData = true;\n        //     this.outputPhauThuatThuThuatTheoDoiDataChanged.emit(true);\n        // }\n        if(event) {\n            this.outputPhauThuatThuThuatTheoDoiChiSoSinhTonDataChanged.emit(true);\n        }\n    }\n}\n","export default \".po-h {\\n  color: #005dab;\\n  position: relative;\\n  top: 5px;\\n  left: 5px;\\n}\\n\\n.po-h mat-icon {\\n  display: contents;\\n}\\n\\n.po-h.disabled {\\n  color: rgba(0, 0, 0, 0.12);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLWRvaS9wdHR0LXRoZW8tZG9pLWJvLXBoYW4ta2hhYy9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHBoYXUtdGh1YXQtdGh1LXRodWF0XFxwaGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXlcXHBoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tZG9pXFxwdHR0LXRoZW8tZG9pLWJvLXBoYW4ta2hhY1xccHR0dC10aGVvLWRvaS1iby1waGFuLWtoYWMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtdGhlby1kb2kvcHR0dC10aGVvLWRvaS1iby1waGFuLWtoYWMvcHR0dC10aGVvLWRvaS1iby1waGFuLWtoYWMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7QUNDRjs7QURFQTtFQUNFLDBCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vcGhhdS10aHVhdC10aHUtdGh1YXQvcGhhdS10aHVhdC10aHUtdGh1YXQtdGhlby1uZ2F5L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tZG9pL3B0dHQtdGhlby1kb2ktYm8tcGhhbi1raGFjL3B0dHQtdGhlby1kb2ktYm8tcGhhbi1raGFjLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnBvLWgge1xuICBjb2xvcjogIzAwNWRhYjtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDVweDtcbiAgbGVmdDogNXB4O1xufVxuXG4ucG8taCBtYXQtaWNvbiB7XG4gIGRpc3BsYXk6IGNvbnRlbnRzO1xufVxuXG4ucG8taC5kaXNhYmxlZCB7XG4gIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTIpO1xufSIsIi5wby1oIHtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA1cHg7XG4gIGxlZnQ6IDVweDtcbn1cblxuLnBvLWggbWF0LWljb24ge1xuICBkaXNwbGF5OiBjb250ZW50cztcbn1cblxuLnBvLWguZGlzYWJsZWQge1xuICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjEyKTtcbn0iXX0= */\"","import { Component, OnInit, ViewChild, TemplateRef, Input, EventEmitter, Output } from '@angular/core';\nimport { MatDialog } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { KhamTheoDoiBoPhanKhac } from '../../../phau-thuat-thu-thuat.model';\n\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icSave from '@iconify/icons-ic/outline-save';\n\n@Component({\n    selector: 'app-pttt-theo-doi-bo-phan-khac',\n    templateUrl: './pttt-theo-doi-bo-phan-khac.component.html',\n    styleUrls: ['./pttt-theo-doi-bo-phan-khac.component.scss']\n})\n\nexport class PtttTheoDoiBoPhanKhacComponent implements OnInit {\n    icAddCircle= icAddCircle;\n    icDelete = icDelete;\n    icEdit = icEdit;\n    icSave = icSave;\n\n    benhNhanHienTai: any = null;\n    documentType: DocumentType.PhauThuatThuThuatTheoNgay;\n\n    gridKhamKhacColumns: any[] = [];\n    dataSourceKhamKhac: any = {\n        data: [],\n        total: 0\n    }\n\n    isShowView: boolean = false;\n    @ViewChild('boPhanTemplate', { static: true }) boPhanTemplate: TemplateRef<any>;\n    @ViewChild('moTaTemplate', { static: true }) moTaTemplate: TemplateRef<any>;\n    @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n\n    @Input() data: any = null;\n    @Input() dataKhamBoPhanKhac: any = null;\n    @Input() validationErrors: any;\n    @Input() isReadonly: boolean = false;\n    @Input() isChangeData: boolean = false;\n\n    @Output() outputPTTTTheoDoiBoPhanKhacDataChanged = new EventEmitter();\n\n    constructor(private dialog: MatDialog) { }\n\n    ngOnInit() {\n        this.benhNhanHienTai = this.data;\n\n        this.gridKhamKhacColumns = [\n            { Field: \"Ten\", Title: \"Bộ phận\", Width: 100,Sortable: false, Template: this.boPhanTemplate },\n            { Field: \"NoiDung\", Title: \"Mô tả\", Width: 220, Sortable: false,Template: this.moTaTemplate },\n            { Field: \"Action\", Title: \"\", Width: 20, Sortable: false,Template: this.actionTemplate }\n        ];\n\n        this.dataSourceKhamKhac.data = this.dataKhamBoPhanKhac;\n    }\n\n    onDataChange() {\n        if(!this.isChangeData) {\n            this.isChangeData = true;\n            this.outputPTTTTheoDoiBoPhanKhacDataChanged.emit(true);\n        }\n    }\n\n    themKhamKhac(){\n        let boPhanKhac = new KhamTheoDoiBoPhanKhac();\n        this.dataSourceKhamKhac.data.push(boPhanKhac);\n\n        this.onDataChange();\n    }\n\n    xoa(dataItem) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessConfirm, [\"xóa\"]) }\n        }).afterClosed().subscribe(result => {\n            if (result === 'Yes') {\n              this.dataSourceKhamKhac.data.splice(this.dataSourceKhamKhac.data.findIndex(x => x == dataItem), 1);\n            }\n        });\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtdGhlby1kb2kvcHR0dC10aGVvLWRvaS1jby1xdWFuL3B0dHQtdGhlby1kb2ktY28tcXVhbi5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n    selector: 'app-pttt-theo-doi-co-quan',\n    templateUrl: './pttt-theo-doi-co-quan.component.html',\n    styleUrls: ['./pttt-theo-doi-co-quan.component.scss']\n})\nexport class PhauThuatThuThuatTheoDoiCoQuanComponent implements OnInit {\n    \n    @Input() thongTinKhamTheoDoiTemplateObj: any;\n    @Input() thongTinBenhNhan: any;\n    @Input() phongKhamId: any;\n    @Input() isReadonly: boolean = false;\n    @Input() isChangeData: boolean = false;\n    \n    @Output() outputPTTTTheoDoiCoQuanDataChanged = new EventEmitter();\n\n    constructor() { }\n\n    ngOnInit() {\n    }\n\n    onDataChange(evt) {\n        if(!this.isChangeData) {\n            this.isChangeData = true;\n            this.outputPTTTTheoDoiCoQuanDataChanged.emit(true);\n        }\n    }\n}\n","export default \".po-h {\\n  color: #005dab;\\n  position: relative;\\n  top: 5px;\\n  left: 5px;\\n}\\n\\n.po-h mat-icon {\\n  display: contents;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLWRvaS9wdHR0LXRoZW8tZG9pLXNpbmgtdG9uL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxccGhhdS10aHVhdC10aHUtdGh1YXRcXHBoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheVxccGhhdS10aHVhdC10aHUtdGh1YXQtdGhlby1kb2lcXHB0dHQtdGhlby1kb2ktc2luaC10b25cXHB0dHQtdGhlby1kb2ktc2luaC10b24uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtdGhlby1kb2kvcHR0dC10aGVvLWRvaS1zaW5oLXRvbi9wdHR0LXRoZW8tZG9pLXNpbmgtdG9uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vcGhhdS10aHVhdC10aHUtdGh1YXQvcGhhdS10aHVhdC10aHUtdGh1YXQtdGhlby1uZ2F5L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tZG9pL3B0dHQtdGhlby1kb2ktc2luaC10b24vcHR0dC10aGVvLWRvaS1zaW5oLXRvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wby1oIHtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA1cHg7XG4gIGxlZnQ6IDVweDtcbn1cblxuLnBvLWggbWF0LWljb24ge1xuICBkaXNwbGF5OiBjb250ZW50cztcbn0iLCIucG8taCB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogNXB4O1xuICBsZWZ0OiA1cHg7XG59XG5cbi5wby1oIG1hdC1pY29uIHtcbiAgZGlzcGxheTogY29udGVudHM7XG59Il19 */\"","import { Component, OnInit, Input, ViewChild, TemplateRef, EventEmitter, Output } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { SystemMessage, PtttMessage } from 'src/app/shared/configdata/system-message';\nimport { MatDialog } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\n\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\n\nimport icAdd from '@iconify/icons-ic/twotone-add';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icSave from '@iconify/icons-ic/outline-save';\nimport { DataSourceChiSoSinhHieu, ChiSoSinhHieu, ChiSoSinhHieuRequestModel } from '../../../phau-thuat-thu-thuat.model';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { BroadcastService } from 'src/app/core/services/broadcast.service';\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-pttt-theo-doi-sinh-ton',\n    templateUrl: './pttt-theo-doi-sinh-ton.component.html',\n    styleUrls: ['./pttt-theo-doi-sinh-ton.component.scss']\n})\n\nexport class PhauThuatThuThuatTheoDoiSinhTonComponent implements OnInit {\n    format = 'n1';\n    documentType: DocumentType;\n\n    gridSinhHieuColumns: any[] = [];\n    dataSourceSinhHieu: DataSourceChiSoSinhHieu = {\n        data: [],\n        total: 0\n    };\n    current: Date = new Date();\n\n    @Input() IsDaTuongTrinh = false;\n    @Input() thongTinBenhNhan: any;\n    @Input() dataChiSoSinhTon: any;\n    canChange = false;\n    popup: any;\n\n    icAdd = icAdd;\n    icDelete = icDelete;\n    icAddCircle = icAddCircle;\n    icEdit = icEdit;\n    icSave = icSave;\n\n    @ViewChild('actionSinhHieuTemplate', { static: true }) actionSinhHieuTemplate: TemplateRef<any>;\n    @ViewChild('huyetApTemplate', { static: true }) huyetApTemplate: TemplateRef<any>;\n    @ViewChild('thanNhietTemplate', { static: true }) thanNhietTemplate: TemplateRef<any>;\n    @ViewChild('nhipTimTemplate', { static: true }) nhipTimTemplate: TemplateRef<any>;\n    @ViewChild('nhipThoTemplate', { static: true }) nhipThoTemplate: TemplateRef<any>;\n    @ViewChild('canNangTemplate', { static: true }) canNangTemplate: TemplateRef<any>;\n    @ViewChild('chieuCaoTemplate', { static: true }) chieuCaoTemplate: TemplateRef<any>;\n    @ViewChild('BMITemplate', { static: true }) BMITemplate: TemplateRef<any>;\n    @ViewChild('glassgowTemplate', { static: true }) glassgowTemplate: TemplateRef<any>;\n    @ViewChild('sp02Template', { static: true }) sp02Template: TemplateRef<any>;\n    @Output() displayBtnForSton: EventEmitter<any> = new EventEmitter<any>();\n\n    constructor(\n        private dialog: MatDialog,\n        private apiService: ApiService,\n        private authService: AuthService,\n        private notificationService: NotificationService,\n        private broadcastService: BroadcastService\n    ) { }\n\n    ngOnInit() {\n        this.documentType = DocumentType.PhauThuatThuThuatTheoNgay;\n        this.canChange = false;\n        this.gridSinhHieuColumns = [\n            { Field: 'NhipTim', Title: 'Mạch (nhịp/phút)', Width: 136, Template: this.nhipTimTemplate },\n            { Field: 'ThanNhiet', Title: 'Nhiệt độ (°C)', Width: 106, Template: this.thanNhietTemplate },\n            { Field: 'HuyetAp', Title: 'Huyết áp (mmHg)', Width: 134, Template: this.huyetApTemplate },\n            { Field: 'NhipTho', Title: 'Nhịp thở (lần/phút)', Width: 155, Template: this.nhipThoTemplate },\n            { Field: 'CanNang', Title: 'Cân nặng (kg)', Width: 114, Template: this.canNangTemplate },\n            { Field: 'ChieuCao', Title: 'Chiều cao (cm)', Width: 116, Template: this.chieuCaoTemplate },\n            { Field: 'Bmi', Title: 'BMI (kg/m²)', Width: 91, Template: this.BMITemplate },\n            { Field: 'Glassgow', Title: 'Glassgow', Width: 87, Template: this.glassgowTemplate },\n            { Field: 'SpO2', Title: 'SpO2 (%)', Width: 72, Template: this.sp02Template },\n            { Field: 'NgayThucHienDisplay', Title: 'Ngày thực hiện', Width: 152 },\n            { Field: 'Action', Title: '', Width: 69, Template: this.actionSinhHieuTemplate }\n        ];\n        this.LoadChiSoSinhHieu(this.thongTinBenhNhan.YeuCauTiepNhanId);\n    }\n\n    LoadChiSoSinhHieu(yeuCauTiepNhanId: number) {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n            this.apiService.get<any>\n                (`PhauThuatThuThuat/LoadChiSoSinhHieu?yctnId=${yeuCauTiepNhanId}`).subscribe(res => {\n                    if (res) {\n                        this.dataSourceSinhHieu.data = res.Data;\n                        this.dataSourceSinhHieu.total = res.TotalRowCount;\n                        this.displayBtnForSton.emit(false);\n                    }\n                    this.canChange = true;\n                }, (err) => {\n                    this.notificationService.showError(err.Message);\n                });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    OnChange() {\n        this.displayBtnForSton.emit(true);\n    }\n\n    themChiSoSinhTon() {\n        const ketQuaSinhHieuNew = new ChiSoSinhHieu();\n        ketQuaSinhHieuNew.Id = 0;\n        ketQuaSinhHieuNew.NgayThucHien = this.current;\n        ketQuaSinhHieuNew.NgayThucHienDisplay = CommonService.formatDateTimeSACH(this.current, 'dd/mm/yyyy').toString();\n        ketQuaSinhHieuNew.AllowModify = true;\n        this.dataSourceSinhHieu.data.push(ketQuaSinhHieuNew);\n        this.dataSourceSinhHieu.total++;\n        this.OnChange();\n    }\n\n    onChangeNhipTim(data: any, input: any) {\n        if (input % 1 !== 0) {\n            data.NhipTim = input.toFixed();\n\n            if (typeof data.NhipTim === 'string') {\n                data.NhipTim = Number(data.NhipTim);\n            }\n        }\n    }\n\n    onChangeHuyetApTamThu(input: any, dataItem) {\n        if (input % 1 !== 0) {\n            dataItem.HuyetApTamThu = input.toFixed();\n\n            if (typeof dataItem.HuyetApTamThu === 'string') {\n                dataItem.HuyetApTamThu = Number(dataItem.HuyetApTamThu);\n            }\n        }\n\n        if (dataItem.HuyetApTamThu === null && dataItem.HuyetApTamTruong === null) {\n            dataItem.HuyetAp = null;\n        } else {\n            dataItem.HuyetAp = dataItem.HuyetApTamThu + '/' + dataItem.HuyetApTamTruong;\n        }\n    }\n\n    onChangeHuyetApTamTruong(input: any, dataItem) {\n        if (input % 1 !== 0) {\n            dataItem.HuyetApTamTruong = input.toFixed();\n\n            if (typeof dataItem.HuyetApTamTruong === 'string') {\n                dataItem.HuyetApTamTruong = Number(dataItem.HuyetApTamTruong);\n            }\n        }\n\n        if (dataItem.HuyetApTamThu === null && dataItem.HuyetApTamTruong === null) {\n            dataItem.HuyetAp = null;\n        } else {\n            dataItem.HuyetAp = dataItem.HuyetApTamThu + '/' + dataItem.HuyetApTamTruong;\n        }\n    }\n\n    onChangeNhipTho(input: any, dataItem) {\n        if (input % 1 !== 0) {\n            dataItem.NhipTho = input.toFixed();\n\n            if (typeof dataItem.NhipTho === 'string') {\n                dataItem.NhipTho = Number(dataItem.NhipTho);\n            }\n        }\n    }\n\n    onChangeCanNang(data: ChiSoSinhHieu) {\n        const chieuCao = data.ChieuCao / 100;\n\n        if (chieuCao === 0) {\n            data.Bmi = null;\n            return;\n        }\n\n        data.Bmi = data.CanNang / (chieuCao * chieuCao);\n    }\n\n    onChangeChieuCao(data: ChiSoSinhHieu) {\n        const chieuCao = data.ChieuCao / 100;\n\n        if (chieuCao === 0) {\n            data.Bmi = null;\n            return;\n        }\n\n        data.Bmi = data.CanNang / (chieuCao * chieuCao);\n    }\n\n    XoaChiSoSinhHieu(item: any) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: CommonService.format(SystemMessage.MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {\n            if (result === 'Yes') {\n                this.dataSourceSinhHieu.data.splice(this.dataSourceSinhHieu.data.findIndex(x => x === item), 1);\n                this.OnChange();\n                this.notificationService.showSuccess(PtttMessage.MessageDeleteSinhHieuThanhCong);\n            }\n        });\n    }\n\n    saveDataLoading() {\n        this.popup = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: 'Đang lưu dữ liệu...' }\n        });\n    }\n\n    closePopupLoadingData() {\n        this.popup.close();\n    }\n\n    Luu() {\n        this.saveDataLoading();\n        this.dataSourceSinhHieu.data.filter(x => x.AllowModify === true).forEach(chiSoSinhHieu => {\n            chiSoSinhHieu.AllowModify = false;\n        });\n\n        this.dataSourceSinhHieu.data.filter(chiSoSinhHieu => chiSoSinhHieu.Bmi == null\n            && chiSoSinhHieu.CanNang == null && chiSoSinhHieu.NhipTim == null\n            && chiSoSinhHieu.ThanNhiet == null && chiSoSinhHieu.HuyetApTamThu == null\n            && chiSoSinhHieu.HuyetApTamTruong == null\n            && chiSoSinhHieu.NhipTho == null && chiSoSinhHieu.ChieuCao == null && chiSoSinhHieu.SpO2 == null\n            && chiSoSinhHieu.Glassgow == null).forEach(chiSoSh => {\n                chiSoSh.AllowModify = true;\n            });\n\n        if (this.dataSourceSinhHieu.data.some(chiSoSinhHieu => chiSoSinhHieu.Bmi == null\n            && chiSoSinhHieu.CanNang == null && chiSoSinhHieu.NhipTim == null\n            && chiSoSinhHieu.ThanNhiet == null && chiSoSinhHieu.HuyetApTamThu == null\n            && chiSoSinhHieu.HuyetApTamTruong == null\n            && chiSoSinhHieu.NhipTho == null && chiSoSinhHieu.ChieuCao == null && chiSoSinhHieu.SpO2 == null\n            && chiSoSinhHieu.Glassgow == null)) {\n            this.notificationService.showError(PtttMessage.MessageBlockingSaveModelSinhHieu);\n            this.closePopupLoadingData();\n            return;\n        }\n\n        for (const chiSoSh of this.dataSourceSinhHieu.data\n            .filter(chiSoSinhHieu => chiSoSinhHieu.HuyetApTamThu == null || chiSoSinhHieu.HuyetApTamTruong == null)) {\n            if (chiSoSh.HuyetApTamThu == null && chiSoSh.HuyetApTamTruong == null) {\n                continue;\n            }\n            if (chiSoSh.HuyetApTamThu == null) {\n                chiSoSh.HuyetAp = '0/' + chiSoSh.HuyetApTamTruong;\n            }\n            if (chiSoSh.HuyetApTamTruong == null) {\n                chiSoSh.HuyetAp = chiSoSh.HuyetApTamThu + '/0';\n            }\n        }\n\n        let requestCssh = new ChiSoSinhHieuRequestModel();\n        requestCssh = {\n            YctnId: this.thongTinBenhNhan.YeuCauTiepNhanId,\n            ChiSoSinhHieus: this.dataSourceSinhHieu.data\n        };\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            this.apiService.post<any>('PhauThuatThuThuat/SaveChiSoSinhHieu', requestCssh).subscribe(() => {\n                this.notificationService.showSuccess(PtttMessage.MessageSaveSinhHieuThanhCong);\n                this.displayBtnForSton.emit(false);\n                this.closePopupLoadingData();\n            }, (err) => {\n                this.notificationService.showError(err.Message);\n                this.closePopupLoadingData();\n            });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n            this.closePopupLoadingData();\n        }\n    }\n\n    SuaChiSoSinhHieu(sinhHieu: ChiSoSinhHieu) {\n        sinhHieu.AllowModify = true;\n    }\n}\n","export default \".menu-form-wrapper .mat-menu-content {\\n  padding: 8px;\\n}\\n\\n.po-right {\\n  text-align: right;\\n  flex-grow: 1;\\n}\\n\\n.d-unset {\\n  display: unset !important;\\n}\\n\\nkendo-splitter {\\n  border-width: 0px !important;\\n  min-height: 100px;\\n}\\n\\nkendo-splitter ul > li.right-0 {\\n  margin-right: 0px;\\n  padding-right: 15px;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em;\\n  padding-bottom: 0.625em;\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline !important;\\n}\\n\\nkendo-panelbar-item ul.inline > li {\\n  padding-right: 10px !important;\\n  padding-bottom: 0.625em;\\n  display: inline-block !important;\\n}\\n\\nkendo-panelbar-item .inline_b {\\n  display: inline-block !important;\\n  margin-right: 10px;\\n  padding-right: 15px;\\n}\\n\\nkendo-panelbar-item .panelbar-row {\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\\n}\\n\\nkendo-panelbar-item .panelbar-row:hover {\\n  background: rgba(227, 242, 253, 0.5);\\n}\\n\\nkendo-panelbar-item .panelbar-group-b {\\n  border-top: 1px rgba(0, 0, 0, 0.08) outset;\\n}\\n\\n.sticky-list {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n}\\n\\n.sticky-tab {\\n  top: 64px;\\n  position: sticky !important;\\n  position: -webkit-sticky !important;\\n  z-index: 9999;\\n  background: #f5f7fa;\\n  overflow-x: auto;\\n  margin-left: 5px;\\n  margin-right: 5px;\\n}\\n\\n.sticky-tab ul {\\n  margin: 0;\\n  padding-top: 10px;\\n  padding-bottom: 0;\\n  border-bottom: 1px solid #ccc;\\n}\\n\\n.sticky-tab ul li {\\n  display: inline-block;\\n  list-style-type: none;\\n  margin-right: 25px;\\n  font-size: 15px;\\n  font-weight: bold;\\n  font-style: normal;\\n  font-stretch: normal;\\n  letter-spacing: normal;\\n  color: #2e384d;\\n  cursor: pointer;\\n  transition: all 300ms linear;\\n  border-bottom: 3px solid #f5f7fa;\\n}\\n\\n.sticky-tab ul li.active {\\n  font-size: 15px;\\n  font-weight: bold;\\n  color: #005dab;\\n  border-bottom: 4px solid #005dab;\\n}\\n\\n.sticky-tab ul li:hover {\\n  border-bottom: 3px solid #005dab;\\n}\\n\\n.sticky-tab ul li.resolved {\\n  color: #005dab;\\n}\\n\\n.sticky-tab ul li.processing {\\n  color: #ff9800;\\n}\\n\\n.sticky-tab ul li.unfulfilled {\\n  color: #9e9e9e;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail {\\n  bottom: 0 !important;\\n  height: 5px !important;\\n}\\n\\n.sticky-tab .ps-scrollbar-x-rail .ps-scrollbar-x {\\n  height: 5px !important;\\n}\\n\\nlegend {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n\\n.sticky-panelbar {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  top: 64px;\\n}\\n\\n.sticky-button-action {\\n  position: sticky;\\n  position: -webkit-sticky;\\n  bottom: 0px;\\n  background-color: white;\\n  border-top: 1px solid var(--foreground-divider);\\n}\\n\\n.icon-bhyt {\\n  height: 15px;\\n  top: 2px;\\n  position: absolute;\\n  right: 0;\\n}\\n\\nbutton.rut-lui {\\n  padding: 0 12px;\\n  background: #f44336;\\n  border-radius: 4px;\\n  line-height: 36px;\\n  font-weight: 500;\\n  color: white;\\n  margin: 0 20px;\\n}\\n\\nso-du-tai-khoan {\\n  color: #36b37e;\\n}\\n\\nso-du-uoc-luong-con-lai {\\n  color: #ff5630;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHBoYXUtdGh1YXQtdGh1LXRodWF0XFxwaGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXlcXHBoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxvQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsMEJBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSw0Q0FBQTtBQ0NGOztBREVBO0VBQ0Usb0NBQUE7QUNDRjs7QURFQTtFQUNFLDBDQUFBO0FDQ0Y7O0FERUE7RUFDRSxTQUFBO0VBQ0EsMkJBQUE7RUFDQSxtQ0FBQTtFQUNBLGFBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7RUFDQSwyQkFBQTtFQUNBLG1DQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxTQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLDZCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtFQUNBLHFCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0Esc0JBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtFQUtBLDRCQUFBO0VBQ0EsZ0NBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLG9CQUFBO0VBQ0Esc0JBQUE7QUNDRjs7QURFQTtFQUNFLHNCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtFQUNBLHdCQUFBO0VBQ0EsU0FBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSx3QkFBQTtFQUNBLFdBQUE7RUFDQSx1QkFBQTtFQUNBLCtDQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0VBQ0EsUUFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtdGhlby1uZ2F5LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1lbnUtZm9ybS13cmFwcGVyIC5tYXQtbWVudS1jb250ZW50IHtcbiAgcGFkZGluZzogOHB4O1xufVxuXG4ucG8tcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZmxleC1ncm93OiAxO1xufVxuXG4uZC11bnNldCB7XG4gIGRpc3BsYXk6IHVuc2V0ICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXNwbGl0dGVyIHtcbiAgYm9yZGVyLXdpZHRoOiAwcHggIWltcG9ydGFudDtcbiAgbWluLWhlaWdodDogMTAwcHg7XG59XG5cbmtlbmRvLXNwbGl0dGVyIHVsID4gbGkucmlnaHQtMCB7XG4gIG1hcmdpbi1yaWdodDogMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xufVxuXG5maWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbTtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIHBhZGRpbmctbGVmdDogMC43NWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW07XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnQ7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gdWwuaW5saW5lID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAuaW5saW5lX2Ige1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5wYW5lbGJhci1yb3cge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyKTtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSAucGFuZWxiYXItcm93OmhvdmVyIHtcbiAgYmFja2dyb3VuZDogcmdiYSgyMjcsIDI0MiwgMjUzLCAwLjUpO1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5wYW5lbGJhci1ncm91cC1iIHtcbiAgYm9yZGVyLXRvcDogMXB4IHJnYmEoMCwgMCwgMCwgMC4wOCkgb3V0c2V0O1xufVxuXG4uc3RpY2t5LWxpc3Qge1xuICB0b3A6IDY0cHg7XG4gIHBvc2l0aW9uOiBzdGlja3kgIWltcG9ydGFudDtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHotaW5kZXg6IDk5OTk7XG59XG5cbi5zdGlja3ktdGFiIHtcbiAgdG9wOiA2NHB4O1xuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreSAhaW1wb3J0YW50O1xuICB6LWluZGV4OiA5OTk5O1xuICBiYWNrZ3JvdW5kOiAjZjVmN2ZhO1xuICBvdmVyZmxvdy14OiBhdXRvO1xuICBtYXJnaW4tbGVmdDogNXB4O1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbn1cblxuLnN0aWNreS10YWIgdWwge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG4gIG1hcmdpbi1yaWdodDogMjVweDtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xuICBmb250LXN0cmV0Y2g6IG5vcm1hbDtcbiAgbGV0dGVyLXNwYWNpbmc6IG5vcm1hbDtcbiAgY29sb3I6ICMyZTM4NGQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICAtbW96LXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIC1vLXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIC1tcy10cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICB0cmFuc2l0aW9uOiBhbGwgMzAwbXMgbGluZWFyO1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgI2Y1ZjdmYTtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkuYWN0aXZlIHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIGJvcmRlci1ib3R0b206IDRweCBzb2xpZCAjMDA1ZGFiO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaTpob3ZlciB7XG4gIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjMDA1ZGFiO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS5yZXNvbHZlZCB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS5wcm9jZXNzaW5nIHtcbiAgY29sb3I6ICNmZjk4MDA7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLnVuZnVsZmlsbGVkIHtcbiAgY29sb3I6ICM5ZTllOWU7XG59XG5cbi5zdGlja3ktdGFiIC5wcy1zY3JvbGxiYXIteC1yYWlsIHtcbiAgYm90dG9tOiAwICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogNXB4ICFpbXBvcnRhbnQ7XG59XG5cbi5zdGlja3ktdGFiIC5wcy1zY3JvbGxiYXIteC1yYWlsIC5wcy1zY3JvbGxiYXIteCB7XG4gIGhlaWdodDogNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmxlZ2VuZCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG4uc3RpY2t5LXBhbmVsYmFyIHtcbiAgcG9zaXRpb246IHN0aWNreTtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5O1xuICB0b3A6IDY0cHg7XG59XG5cbi5zdGlja3ktYnV0dG9uLWFjdGlvbiB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgYm90dG9tOiAwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tZm9yZWdyb3VuZC1kaXZpZGVyKTtcbn1cblxuLmljb24tYmh5dCB7XG4gIGhlaWdodDogMTVweDtcbiAgdG9wOiAycHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDA7XG59XG5cbmJ1dHRvbi5ydXQtbHVpIHtcbiAgcGFkZGluZzogMCAxMnB4O1xuICBiYWNrZ3JvdW5kOiAjZjQ0MzM2O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGxpbmUtaGVpZ2h0OiAzNnB4O1xuICBmb250LXdlaWdodDogNTAwO1xuICBjb2xvcjogd2hpdGU7XG4gIG1hcmdpbjogMCAyMHB4O1xufVxuXG5zby1kdS10YWkta2hvYW4ge1xuICBjb2xvcjogIzM2YjM3ZTtcbn1cblxuc28tZHUtdW9jLWx1b25nLWNvbi1sYWkge1xuICBjb2xvcjogI2ZmNTYzMDtcbn0iLCIubWVudS1mb3JtLXdyYXBwZXIgLm1hdC1tZW51LWNvbnRlbnQge1xuICBwYWRkaW5nOiA4cHg7XG59XG5cbi5wby1yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBmbGV4LWdyb3c6IDE7XG59XG5cbi5kLXVuc2V0IHtcbiAgZGlzcGxheTogdW5zZXQgIWltcG9ydGFudDtcbn1cblxua2VuZG8tc3BsaXR0ZXIge1xuICBib3JkZXItd2lkdGg6IDBweCAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiAxMDBweDtcbn1cblxua2VuZG8tc3BsaXR0ZXIgdWwgPiBsaS5yaWdodC0wIHtcbiAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG59XG5cbmZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtO1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbTtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW07XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbTtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudDtcbn1cblxua2VuZG8tcGFuZWxiYXItaXRlbSB1bC5pbmxpbmUgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW07XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5pbmxpbmVfYiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLXJvdyB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xufVxuXG5rZW5kby1wYW5lbGJhci1pdGVtIC5wYW5lbGJhci1yb3c6aG92ZXIge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDIyNywgMjQyLCAyNTMsIDAuNSk7XG59XG5cbmtlbmRvLXBhbmVsYmFyLWl0ZW0gLnBhbmVsYmFyLWdyb3VwLWIge1xuICBib3JkZXItdG9wOiAxcHggcmdiYSgwLCAwLCAwLCAwLjA4KSBvdXRzZXQ7XG59XG5cbi5zdGlja3ktbGlzdCB7XG4gIHRvcDogNjRweDtcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3kgIWltcG9ydGFudDtcbiAgei1pbmRleDogOTk5OTtcbn1cblxuLnN0aWNreS10YWIge1xuICB0b3A6IDY0cHg7XG4gIHBvc2l0aW9uOiBzdGlja3kgIWltcG9ydGFudDtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5ICFpbXBvcnRhbnQ7XG4gIHotaW5kZXg6IDk5OTk7XG4gIGJhY2tncm91bmQ6ICNmNWY3ZmE7XG4gIG92ZXJmbG93LXg6IGF1dG87XG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuXG4uc3RpY2t5LXRhYiB1bCB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZy10b3A6IDEwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAwO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcbn1cblxuLnN0aWNreS10YWIgdWwgbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgbWFyZ2luLXJpZ2h0OiAyNXB4O1xuICBmb250LXNpemU6IDE1cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXN0eWxlOiBub3JtYWw7XG4gIGZvbnQtc3RyZXRjaDogbm9ybWFsO1xuICBsZXR0ZXItc3BhY2luZzogbm9ybWFsO1xuICBjb2xvcjogIzJlMzg0ZDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIC1tb3otdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW8tdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhcjtcbiAgLW1zLXRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIHRyYW5zaXRpb246IGFsbCAzMDBtcyBsaW5lYXI7XG4gIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjZjVmN2ZhO1xufVxuXG4uc3RpY2t5LXRhYiB1bCBsaS5hY3RpdmUge1xuICBmb250LXNpemU6IDE1cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogIzAwNWRhYjtcbiAgYm9yZGVyLWJvdHRvbTogNHB4IHNvbGlkICMwMDVkYWI7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpOmhvdmVyIHtcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICMwMDVkYWI7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLnJlc29sdmVkIHtcbiAgY29sb3I6ICMwMDVkYWI7XG59XG5cbi5zdGlja3ktdGFiIHVsIGxpLnByb2Nlc3Npbmcge1xuICBjb2xvcjogI2ZmOTgwMDtcbn1cblxuLnN0aWNreS10YWIgdWwgbGkudW5mdWxmaWxsZWQge1xuICBjb2xvcjogIzllOWU5ZTtcbn1cblxuLnN0aWNreS10YWIgLnBzLXNjcm9sbGJhci14LXJhaWwge1xuICBib3R0b206IDAgIWltcG9ydGFudDtcbiAgaGVpZ2h0OiA1cHggIWltcG9ydGFudDtcbn1cblxuLnN0aWNreS10YWIgLnBzLXNjcm9sbGJhci14LXJhaWwgLnBzLXNjcm9sbGJhci14IHtcbiAgaGVpZ2h0OiA1cHggIWltcG9ydGFudDtcbn1cblxubGVnZW5kIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbi5zdGlja3ktcGFuZWxiYXIge1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3k7XG4gIHRvcDogNjRweDtcbn1cblxuLnN0aWNreS1idXR0b24tYWN0aW9uIHtcbiAgcG9zaXRpb246IHN0aWNreTtcbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5O1xuICBib3R0b206IDBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1mb3JlZ3JvdW5kLWRpdmlkZXIpO1xufVxuXG4uaWNvbi1iaHl0IHtcbiAgaGVpZ2h0OiAxNXB4O1xuICB0b3A6IDJweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbn1cblxuYnV0dG9uLnJ1dC1sdWkge1xuICBwYWRkaW5nOiAwIDEycHg7XG4gIGJhY2tncm91bmQ6ICNmNDQzMzY7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgbGluZS1oZWlnaHQ6IDM2cHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgbWFyZ2luOiAwIDIwcHg7XG59XG5cbnNvLWR1LXRhaS1raG9hbiB7XG4gIGNvbG9yOiAjMzZiMzdlO1xufVxuXG5zby1kdS11b2MtbHVvbmctY29uLWxhaSB7XG4gIGNvbG9yOiAjZmY1NjMwO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild, TemplateRef, HostListener, OnDestroy } from '@angular/core';\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport icHourglass from '@iconify/icons-ic/twotone-hourglass-full';\nimport icDone from '@iconify/icons-ic/done';\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icCode from '@iconify/icons-ic/code';\nimport icPerson from '@iconify/icons-ic/person';\nimport icDate from '@iconify/icons-ic/date-range';\nimport icComment from '@iconify/icons-ic/comment';\nimport icPermContactCalendar from '@iconify/icons-ic/perm-contact-calendar';\nimport icPhone from '@iconify/icons-ic/phone';\nimport icLocation from '@iconify/icons-ic/location-on';\nimport icWork from '@iconify/icons-ic/work';\nimport icGroup from '@iconify/icons-ic/group';\nimport icTimeLine from '@iconify/icons-ic/timeline';\nimport icOffer from '@iconify/icons-ic/local-offer';\nimport icPlay from '@iconify/icons-ic/play-circle-filled';\nimport icMoreHoriz from '@iconify/icons-ic/more-horiz';\nimport icEventNote from '@iconify/icons-ic/event-note';\nimport icCancel from '@iconify/icons-ic/cancel';\nimport icAssignment from '@iconify/icons-ic/assignment';\nimport icImages from '@iconify/icons-ic/assistant-photo';\nimport { stagger60ms } from 'src/@vex/animations/stagger.animation';\nimport { fadeInUp400ms } from 'src/@vex/animations/fade-in-up.animation';\nimport { MatDialog } from '@angular/material';\nimport { PhauThuatThuThuatTuongTrinhPTTTComponent } from './phau-thuat-thu-thuat-tuong-trinh/pttt-tuong-trinh-pttt/pttt-tuong-trinh-pttt.component';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { PhauThuatThuThuatTuVongPopupComponent } from './phau-thuat-thu-thuat-tu-vong-popup/phau-thuat-thu-thuat-tu-vong-popup.component';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { PhauThuatThuThuat, ListStatusTabPhauThuatThuThuat, DichVuKyThuatChuaHoanThanhTrenHoanThanh, HangDoiPhauThuatThuThuat, TheoDoiSauPhauThuatThuThuat } from '../phau-thuat-thu-thuat.model';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { PhauThuatThuThuatKetLuanComponent } from './phau-thuat-thu-thuat-ket-luan/phau-thuat-thu-thuat-ket-luan.component';\nimport { EnumTrangThaiPhauThuatThuThuat, EnumTrangThaiTheoDoiSauPhauThuatThuThuat } from 'src/app/shared/enum/phau-thuat-thu-thuat.enum';\nimport { PhauThuatThuThuatTuongTrinhComponent } from './phau-thuat-thu-thuat-tuong-trinh/phau-thuat-thu-thuat-tuong-trinh.component';\nimport { PtttKetThucTuongTrinhPopupComponent } from './pttt-ket-thuc-tuong-trinh-popup/pttt-ket-thuc-tuong-trinh-popup.component';\nimport { KhongThucHienPtttPopupComponent } from './phau-thuat-thu-thuat-tuong-trinh/khong-thuc-hien-pttt-popup/khong-thuc-hien-pttt-popup.component';\nimport { PhauThuatThuThuatTheoDoiComponent } from './phau-thuat-thu-thuat-theo-doi/phau-thuat-thu-thuat-theo-doi.component';\nimport { PtttMessage, SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { BroadcastService } from 'src/app/core/services/broadcast.service';\nimport { Subscription } from 'rxjs';\nimport { HoatDongNhanVien } from 'src/app/shared/models/common.model';\nimport { PhauThuatThuThuatBnTiepTheoPopupComponent } from './phau-thuat-thu-thuat-bn-tiep-theo-popup/phau-thuat-thu-thuat-bn-tiep-theo-popup.component';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { PhauThuatThuThuatCanLamSanComponent } from './phau-thuat-thu-thuat-can-lam-san/phau-thuat-thu-thuat-can-lam-san.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\ndeclare var $: any;\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-phau-thuat-thu-thuat-theo-ngay',\n    templateUrl: './phau-thuat-thu-thuat-theo-ngay.component.html',\n    styleUrls: ['./phau-thuat-thu-thuat-theo-ngay.component.scss'],\n    animations: [stagger60ms, fadeInUp400ms],\n})\nexport class PhauThuatThuThuatTheoNgayComponent implements OnInit, OnDestroy {\n    icSearch = icSearch;\n    icHourglass = icHourglass;\n    icDone = icDone;\n    icEdit = icEdit;\n    icCode = icCode;\n    icPerson = icPerson;\n    icImages = icImages;\n    icDate = icDate;\n    icComment = icComment;\n    icPhone = icPhone;\n    icPermContactCalendar = icPermContactCalendar;\n    icLocation = icLocation;\n    icWork = icWork;\n    icGroup = icGroup;\n    icTimeLime = icTimeLine;\n    icOffer = icOffer;\n    icPlay = icPlay;\n    icMoreHoriz = icMoreHoriz;\n    icEventNote = icEventNote;\n    icCancel = icCancel;\n    icAssignment = icAssignment;\n\n    searchBenhNhan = '';\n    currentId: number = null; // giá trị dùng để lấy dữ iệu liên quan người bệnh\n    tabActive = 'card0';\n    templateKhoaPhong: string = null;\n    tenKhoaPhong: string = null;\n    phongKhamIdTruoc: number;\n    phongKhamIdSau: number;\n    checkPhongKhamDaChon = true;\n    arrPhongKham: any[] = [];\n    arrDoChiSoSinhTon: any[] = [];\n    benhNhanHienTai: any;\n    yeuCauTiepNhanId: any;\n    trangThaiPhauThuatThuThuat = EnumTrangThaiPhauThuatThuThuat;\n    currentUser: any;\n    currentAccessUser: any;\n    currentPhongBenhVienId: number = 0;\n    subscription: Subscription;\n    dichVuKyThuatChuaHoanThanhTrenHoanThanh = new DichVuKyThuatChuaHoanThanhTrenHoanThanh();\n    yeuCauTiepNhanDangKhamId: number = 0;\n    yeuCauTiepNhanBatDauKhamId: number = 0;\n    loadingPopup: any;\n    theoDoiSauPhauThuatThuThuat: TheoDoiSauPhauThuatThuThuat;\n\n    isChoKham = false;\n    isDangKham = false;\n    isDichVuKhongCanTuongTrinh: boolean = false;\n\n    isGetDataChoPhauThuatThuThuatDone = true;\n    isGetDataDangPhauThuatThuThuatDone = true;\n    isGetDataTheoDoiPhauThuatThuThuatDone = true;\n    isGetDataCanLamSanDone = true;\n    isGetDataDichVuKyThuatChuaHoanThanhTrenHoanThanhDone = true;\n\n    isCLSDataChange = false;\n    isTuongTrinhDataChange = false;\n    isKetLuanDataChange = false;\n    isTheoDoiDataChange = false;\n    isTheoDoiChiSoSinhTon = false;\n    isDaTuongTrinh = false;\n\n    gridChuanBiPhauThuatThuThuatColumns: any[] = [];\n    dataSourceChuanBiPhauThuatThuThuat = {\n        data: [],\n        total: 0,\n    };\n\n    gridVaoPhongPhauThuatThuThuatColumns: any[] = [];\n    dataSourceVaoPhongPhauThuatThuThuat = {\n        data: [],\n        total: 0,\n    };\n\n    gridTheoDoiPhauThuatColumns: any[] = [];\n    dataSourceTheoDoiPhauThuat = {\n        data: [],\n        total: 0,\n    };\n\n    tabDanhSachDaPT: boolean = false;\n    tabDanhSachPT: boolean = true;\n\n    lstStatusSelectedTab: ListStatusTabPhauThuatThuThuat = new ListStatusTabPhauThuatThuThuat();\n    tuongTrinhHeader = 'tường trình';\n    documentType: DocumentType = DocumentType.PhauThuatThuThuatTheoNgay;\n    modelQRCode: any;\n    isScanF1: boolean = false;\n    @ViewChild('maBNChoPTTTTemplate', { static: true }) maBNChoPTTTTemplate: TemplateRef<any>;\n    @ViewChild('maBNDangPTTTTemplate', { static: true }) maBNDangPTTTTemplate: TemplateRef<any>;\n    @ViewChild('maBNDaPTTTTemplate', { static: true }) maBNDaPTTTTemplate: TemplateRef<any>;\n    @ViewChild('hoTenTemplate', { static: true }) hoTenTemplate: TemplateRef<any>;\n    @ViewChild('gioiTinhTemplate', { static: true }) gioiTinhTemplate: TemplateRef<any>;\n    @ViewChild('tuoiTemplate', { static: true }) tuoiTemplate: TemplateRef<any>;\n    @ViewChild('ptttTt', { static: false }) ptttTt: PhauThuatThuThuatTuongTrinhComponent;\n\n    @ViewChild(PhauThuatThuThuatTuongTrinhPTTTComponent, { static: false }) shared;\n    @ViewChild(PhauThuatThuThuatCanLamSanComponent, { static: false }) phauThuatThuThuatCanLamSanComponent: PhauThuatThuThuatCanLamSanComponent;\n    @ViewChild(PhauThuatThuThuatKetLuanComponent, { static: false }) phauThuatThuThuatKetLuanComponent: PhauThuatThuThuatKetLuanComponent;\n    @ViewChild(PhauThuatThuThuatTheoDoiComponent, { static: false }) phauThuatThuThuatTheoDoiComponent: PhauThuatThuThuatTheoDoiComponent;\n\n    constructor(\n        private dialog: MatDialog, private apiService: ApiService, private authService: AuthService,\n        private notificationService: NotificationService,\n        private broadcastService: BroadcastService\n    ) { }\n\n    ngOnInit() {\n        this.benhNhanHienTai = { Id: 0, YeuCauTiepNhan: {} };\n\n        this.gridChuanBiPhauThuatThuThuatColumns = [\n            { Field: 'MaBN', Title: 'Mã NB', Width: 55, Sortable: true, ReverseEllipsis: true, Template: this.maBNChoPTTTTemplate },\n            { Field: 'HoTen', Title: 'Tên NB', Width: 135, Sortable: true, Template: this.hoTenTemplate },\n            { Field: 'TenGioiTinh', Title: 'GT', Width: 50, Sortable: true, Template: this.gioiTinhTemplate },\n            { Field: 'Tuoi', Title: 'Tuổi', Width: 45, Sortable: true, Template: this.tuoiTemplate }\n        ];\n\n        this.gridVaoPhongPhauThuatThuThuatColumns = [\n            { Field: 'MaBN', Title: 'Mã NB', Width: 55, Sortable: true, ReverseEllipsis: true, Template: this.maBNDangPTTTTemplate },\n            { Field: 'HoTen', Title: 'Tên NB', Width: 135, Sortable: true, Template: this.hoTenTemplate },\n            { Field: 'TenGioiTinh', Title: 'GT', Width: 50, Sortable: true, Template: this.gioiTinhTemplate },\n            { Field: 'Tuoi', Title: 'Tuổi', Width: 45, Sortable: true, Template: this.tuoiTemplate }\n        ];\n\n        this.gridTheoDoiPhauThuatColumns = [\n            { Field: 'MaBN', Title: 'Mã NB', Width: 55, Sortable: true, ReverseEllipsis: true, Template: this.maBNDaPTTTTemplate },\n            { Field: 'HoTen', Title: 'Tên NB', Width: 135, Sortable: true, Template: this.hoTenTemplate },\n            { Field: 'TenGioiTinh', Title: 'GT', Width: 50, Sortable: true, Template: this.gioiTinhTemplate },\n            { Field: 'Tuoi', Title: 'Tuổi', Width: 45, Sortable: true, Template: this.tuoiTemplate }\n        ];\n\n        this.currentAccessUser = this.authService.getAccessUser();\n        this.currentAccessUser.PhongBenhVienId = this.authService.getPhongLamViecId();\n        this.getBenhNhanDangTuongTrinh();\n    }\n\n    ChuyenPhongNoiBo(item: any) {\n        let phongBenhVienId = this.authService.getPhongLamViecId();\n\n        if (phongBenhVienId !== item.KeyId) {\n            if (this.benhNhanHienTai.Id != 0) {\n                let isDataChanges = this.kiemTraDataChanges();\n\n                if (isDataChanges) {\n                    return;\n                } else {\n                    this.xuLyChuyenPhongKham(item);\n                }\n            } else {\n                this.xuLyChuyenPhongKham(item);\n            }\n        } else {\n            this.broadcastService.broadcast({\n                name: 'ChuyenPhongThanhCong',\n                message: true,\n            });\n        }\n    }\n\n    xuLyChuyenPhongKham(item) {\n        this.currentAccessUser.PhongBenhVienId = item.KeyId;\n        this.luuHoatDongNhanVien(this.currentAccessUser.PhongBenhVienId);\n        this.getBenhNhanDangTuongTrinh();\n\n        this.broadcastService.broadcast({\n            name: 'ChuyenPhongThanhCong',\n            message: true,\n        });\n    }\n\n    luuHoatDongNhanVien(phongKhamBenhId: number) {\n        let hoatDongNhanVien: HoatDongNhanVien = new HoatDongNhanVien(phongKhamBenhId);\n        this.authService.setPhongLamViecId(phongKhamBenhId);\n        this.apiService.post('HoatDongNhanVien/LuuHoatDongNhanVien', hoatDongNhanVien).subscribe((resultData) => {\n        });\n    }\n\n    tabDataChanged(evt: any, tab: any) {\n        switch (tab) {\n            // case 'PhauThuatThuThuatCanLamSan':\n            //     this.isCLSDataChange = evt;\n            //     break;\n            case 'PhauThuatThuThuatKetLuan':\n                this.isKetLuanDataChange = evt;\n                break;\n            case 'PhauThuatThuThuatTheoDoi':\n                this.isTheoDoiDataChange = evt;\n                break;\n            case 'PhauThuatThuThuatTheoDoiChiSoSinhTon':\n                this.isTheoDoiChiSoSinhTon = evt;\n                break;\n        }\n    }\n\n    getDataCanLamSanDone(evt) {\n        this.isGetDataCanLamSanDone = evt;\n        this.closeAllDialogs();\n    }\n\n    changeTab(element: any, event: any) {\n        const self = this;\n\n        // setTimeout(() => {\n        //     self.scrollTo(element);\n        // }, 100);\n\n        if (event.index === 0) {\n            self.deselectedTab();\n            self.lstStatusSelectedTab.selectedTabCanLamSan = true;\n        }\n        if (event.index === 1) {\n            self.deselectedTab();\n            self.lstStatusSelectedTab.selectedTabTuongTrinh = true;\n        }\n        if (event.index === 2) {\n            self.deselectedTab();\n            self.lstStatusSelectedTab.selectedTabKetLuan = true;\n        }\n        if (event.index === 3) {\n            self.deselectedTab();\n            self.lstStatusSelectedTab.selectedTabTheoDoi = true;\n            self.phauThuatThuThuatTheoDoiComponent.getTheoDoiSauPhauThuatThuThuat();\n        }\n    }\n\n    deselectedTab() {\n        this.lstStatusSelectedTab.selectedTabCanLamSan = false;\n        this.lstStatusSelectedTab.selectedTabTuongTrinh = false;\n        this.lstStatusSelectedTab.selectedTabKetLuan = false;\n        this.lstStatusSelectedTab.selectedTabTheoDoi = false;\n    }\n\n    scrollTo(element) {\n        $('.sidenav-content').animate({\n            scrollTop: $('#' + element).position().top + 85,\n        });\n\n        this.tabActive = element;\n    }\n\n    getDichVuKyThuatChuaHoanThanhTrenHoanThanh() {\n        this.isGetDataDichVuKyThuatChuaHoanThanhTrenHoanThanhDone = false;\n\n        this.apiService.get<any>(`PhauThuatThuThuat/GetDichVuKyThuatChuaHoanThanhTrenHoanThanh?yeuCauTiepNhanId=${this.benhNhanHienTai.YeuCauTiepNhanId}`).subscribe(res => {\n            this.isGetDataDichVuKyThuatChuaHoanThanhTrenHoanThanhDone = true;\n            if (res) {\n                this.dichVuKyThuatChuaHoanThanhTrenHoanThanh = res;\n            }\n            this.closeAllDialogs();\n            // if (res) {\n            //     this.dichVuKyThuatChuaHoanThanhTrenHoanThanh = res;\n            //     this.closeAllDialogs();\n            // } else {\n            //     this.closeAllDialogs();\n            // }\n        }, (err) => {\n            this.notificationService.showError(err);\n            this.isGetDataDichVuKyThuatChuaHoanThanhTrenHoanThanhDone = true;\n            this.closeAllDialogs();\n        });\n    }\n\n    getDanhSachBenhNhanChoKhamHienTai() {\n        if (this.currentAccessUser.PhongBenhVienId != 0) {\n            this.isGetDataChoPhauThuatThuThuatDone = false;\n            this.isGetDataDangPhauThuatThuThuatDone = false;\n            this.isGetDataTheoDoiPhauThuatThuThuatDone = false;\n\n            this.getDanhSachBenhNhanChoPhauThuatThuThuatHienTai();\n            this.getDanhSachBenhNhanDangPhauThuatThuThuatHienTai();\n            this.getDanhSachTheoDoiPhauThuatThuThuatHienTaiAsync();\n        }\n    }\n\n    getDanhSachBenhNhanChoPhauThuatThuThuatHienTai() {\n        this.apiService.get<Array<PhauThuatThuThuat>>\n            // tslint:disable-next-line: max-line-length\n            (`PhauThuatThuThuat/GetDanhSachChoPhauThuatThuThuatHienTaiAsync?phongKhamHienTaiId=${this.currentAccessUser.PhongBenhVienId}&searchString=${this.searchBenhNhan}&yeuCauTiepNhanHienTaiId=${this.benhNhanHienTai.YeuCauTiepNhanId ? this.benhNhanHienTai.YeuCauTiepNhanId : 0}`)\n            .subscribe((res) => {\n                if (res) {\n                    this.dataSourceChuanBiPhauThuatThuThuat.data = res;\n                    this.dataSourceChuanBiPhauThuatThuThuat.total = res.length;\n                } else {\n                    this.dataSourceChuanBiPhauThuatThuThuat.data = null;\n                }\n\n                this.isGetDataChoPhauThuatThuThuatDone = true;\n                this.closeAllDialogs();\n            }, (err) => {\n                this.isGetDataChoPhauThuatThuThuatDone = true;\n                this.closeAllDialogs();\n                this.notificationService.showError(err);\n            });\n    }\n\n    getDanhSachBenhNhanDangPhauThuatThuThuatHienTai() {\n        this.apiService.get<Array<PhauThuatThuThuat>>\n            // tslint:disable-next-line: max-line-length\n            (`PhauThuatThuThuat/GetDanhSachDangPhauThuatThuThuatHienTaiAsync?phongKhamHienTaiId=${this.currentAccessUser.PhongBenhVienId}&searchString=${this.searchBenhNhan}&yeuCauTiepNhanHienTaiId=${this.benhNhanHienTai.YeuCauTiepNhanId ? this.benhNhanHienTai.YeuCauTiepNhanId : 0}`)\n            .subscribe((res) => {\n                if (res) {\n                    this.dataSourceVaoPhongPhauThuatThuThuat.data = res;\n                    this.dataSourceVaoPhongPhauThuatThuThuat.total = res.length;\n                } else {\n                    this.dataSourceVaoPhongPhauThuatThuThuat.data = null;\n                }\n\n                this.isGetDataDangPhauThuatThuThuatDone = true;\n                this.closeAllDialogs();\n            }, (err) => {\n                this.isGetDataDangPhauThuatThuThuatDone = true;\n                this.closeAllDialogs();\n\n                this.notificationService.showError(err);\n            });\n    }\n\n    getDanhSachTheoDoiPhauThuatThuThuatHienTaiAsync() {\n        this.apiService.get<Array<PhauThuatThuThuat>>\n            // tslint:disable-next-line: max-line-length\n            (`PhauThuatThuThuat/GetDanhSachTheoDoiPhauThuatThuThuatHienTaiAsync?phongKhamHienTaiId=${this.currentAccessUser.PhongBenhVienId}&searchString=${this.searchBenhNhan}&yeuCauTiepNhanHienTaiId=${this.benhNhanHienTai.YeuCauTiepNhanId ? this.benhNhanHienTai.YeuCauTiepNhanId : 0}`)\n            .subscribe((res) => {\n                if (res) {\n                    this.dataSourceTheoDoiPhauThuat.data = res;\n                    this.dataSourceTheoDoiPhauThuat.total = res.length;\n                } else {\n                    this.dataSourceTheoDoiPhauThuat.data = null;\n                }\n\n                this.isGetDataTheoDoiPhauThuatThuThuatDone = true;\n                this.closeAllDialogs();\n            }, (err) => {\n                this.isGetDataTheoDoiPhauThuatThuThuatDone = true;\n                this.closeAllDialogs();\n\n                this.notificationService.showError(err);\n            });\n    }\n\n    getBenhNhanDangTuongTrinh() {\n        if (!this.loadingPopup) {\n            this.loadingPopup = this.dialog.open(LoadingComponent, {\n                disableClose: true,\n                width: '200px',\n                height: '90px',\n                data: { Title: 'Đang tải...' }\n            });\n        }\n\n        this.apiService.get<any>(`PhauThuatThuThuat/GetThongTinBenhNhanDangTuongTrinh?phongKhamHienTaiId=${this.currentAccessUser.PhongBenhVienId}`).subscribe((res) => {\n            if (res) {\n                this.isGetDataCanLamSanDone = false;\n                this.benhNhanHienTai = res;\n                this.yeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n                this.yeuCauTiepNhanDangKhamId = this.benhNhanHienTai.YeuCauTiepNhanId;\n                // this.yeuCauTiepNhanBenhNhanKeTiepId = this.benhNhanHienTai.YeuCauTiepNhanId;\n\n                this.deselectedTab();\n                this.lstStatusSelectedTab.selectedTabCanLamSan = true;\n                this.getDanhSachBenhNhanChoKhamHienTai();\n                this.getDichVuKyThuatChuaHoanThanhTrenHoanThanh();\n            } else {\n                this.benhNhanTiepTheo(0, true);\n                // this.getDanhSachBenhNhanChoKhamHienTai();\n            }\n        }, (err) => {\n            this.notificationService.showError(err);\n            this.closeAllDialogs();\n        });\n    }\n\n    closeAllDialogs() {\n        if (this.isGetDataChoPhauThuatThuThuatDone && this.isGetDataDangPhauThuatThuThuatDone && this.isGetDataTheoDoiPhauThuatThuThuatDone && this.isGetDataCanLamSanDone && this.isGetDataDichVuKyThuatChuaHoanThanhTrenHoanThanhDone) {\n            if (this.loadingPopup) {\n                this.loadingPopup.close();\n                this.loadingPopup = null;\n            }\n        }\n    }\n\n    refreshHangDoi() {\n        // get số lượng yêu cầu hiện tại theo phòng\n        // this.getSoLuongYeuCauHienTai(phongKhamId);\n    }\n\n    benhNhanTiepTheo(yeuCauTiepNhanId: number, isGetBenhNhanDangTuongTrinh = false) {\n        if (yeuCauTiepNhanId === 0) {\n            // this.benhNhanHienTai = null;\n            this.benhNhanHienTai.YeuCauTiepNhanId = 0;\n            this.benhNhanHienTai.Id = 0;\n\n            if (!this.loadingPopup) {\n                this.loadingPopup = this.dialog.open(LoadingComponent, {\n                    disableClose: true,\n                    width: '200px',\n                    height: '90px',\n                    data: { Title: 'Đang tải...' }\n                });\n            }\n\n            if (!isGetBenhNhanDangTuongTrinh) {\n                this.huyKhamBenhNhan();\n            } else {\n                this.getDanhSachBenhNhanChoKhamHienTai();\n            }\n            // this.cdRef.detectChanges();\n            // this.getDanhSachBenhNhanChoKhamHienTai();\n        }\n\n        this.getBenhNhanDangKham(yeuCauTiepNhanId);\n    }\n\n    kiemTraDataChanges() {\n        if (this.benhNhanHienTai.Id != 0) {\n            if (this.lstStatusSelectedTab.selectedTabCanLamSan) {\n                if (this.isCLSDataChange) {\n                    this.notificationService.showError(PtttMessage.MessageSaveDataTabCLSRequired);\n                    return true;\n                } else {\n                    return false;\n                }\n            } else if (this.lstStatusSelectedTab.selectedTabTuongTrinh) {\n\n            } else if (this.lstStatusSelectedTab.selectedTabKetLuan) {\n                if (this.isKetLuanDataChange) {\n                    this.notificationService.showError(PtttMessage.MessageSaveDataTabKetLuanRequired);\n                    return true;\n                } else {\n                    return false;\n                }\n            } else if (this.lstStatusSelectedTab.selectedTabTheoDoi) {\n                if (this.isTheoDoiDataChange) {\n                    this.notificationService.showError(PtttMessage.MessageSaveDataTabTheoDoiRequired);\n                    return true;\n                } else if (this.isTheoDoiChiSoSinhTon) {\n                    this.notificationService.showError(PtttMessage.MessageSaveDataTabTheoDoiChiSoSinhTonRequired);\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        } else {\n            return false;\n        }\n    }\n\n    getBenhNhanDangKham(yeuCauTiepNhanId: number) {\n        if (isNaN(yeuCauTiepNhanId)) {\n            return;\n        }\n\n        if (!this.loadingPopup) {\n            this.loadingPopup = this.dialog.open(LoadingComponent, {\n                disableClose: true,\n                width: '200px',\n                height: '90px',\n                data: { Title: 'Đang tải...' }\n            });\n        }\n\n        if (yeuCauTiepNhanId == 0 || !yeuCauTiepNhanId) {\n            this.closeAllDialogs();\n            return;\n        }\n\n        let isDataChanges = this.kiemTraDataChanges();\n        if (isDataChanges) {\n            this.closeAllDialogs();\n            return;\n        }\n\n        // this.yeuCauTiepNhanBenhNhanKeTiepId = yeuCauTiepNhanId;\n\n        let hangDoiPhauThuatThuThuat = new HangDoiPhauThuatThuThuat();\n        hangDoiPhauThuatThuThuat.YeuCauTiepNhanDangKhamId = this.yeuCauTiepNhanDangKhamId;\n        hangDoiPhauThuatThuThuat.YeuCauTiepNhanBatDauKhamId = yeuCauTiepNhanId;\n        hangDoiPhauThuatThuThuat.PhongBenhVienId = this.currentAccessUser.PhongBenhVienId;\n\n        this.apiService.post(`PhauThuatThuThuat/BatDauKhamBenhNhanPTTT`, hangDoiPhauThuatThuThuat).subscribe(res => {\n            this.xuLyGetBenhNhanDangKham(yeuCauTiepNhanId);\n        }, err => {\n            this.isGetDataCanLamSanDone = true;\n            this.notificationService.showError(err);\n            this.closeAllDialogs();\n        })\n    }\n\n    xuLyGetBenhNhanDangKham(yeuCauTiepNhanId: number) {\n        this.deselectedTab();\n        this.lstStatusSelectedTab.selectedTabCanLamSan = true;\n        if (yeuCauTiepNhanId === 0) {\n            // this.benhNhanHienTai = null;\n            // this.benhNhanHienTai.Id = 0;\n            // this.isChoosingPatient = false;\n            this.closeAllDialogs();\n            return;\n        }\n        this.isDaTuongTrinh = false;\n        // if (this.ptttTt != null) {\n        //     const phongBv = this.currentAccessUser;\n        //     this.ptttTt.yctnId = yeuCauTiepNhanId;\n        //     const url = 'PhauThuatThuThuat/GetListPtttBn?noiThucHienId=' + phongBv.PhongBenhVienId + '&yctnId=' + yeuCauTiepNhanId;\n        //     this.ptttTt.LoadDsPttt(url, false, false);\n        //     this.ptttTt.GetDvKhongThucHien();\n        // }\n        // this.dialog.open(LoadingComponent, {\n        //     disableClose: true,\n        //     width: '200px',\n        //     height: '90px',\n        //     data: { Title: 'Đang tải...' }\n        // });\n\n        this.isGetDataCanLamSanDone = false;\n        this.yeuCauTiepNhanId = yeuCauTiepNhanId;\n\n        this.apiService.get<any>(`PhauThuatThuThuat/GetThongTinBenhNhanTheoYeuCauTiepNhan?yeuCauTiepNhanId=${yeuCauTiepNhanId}&phongKhamHienTai=${this.currentAccessUser.PhongBenhVienId}`).subscribe((res) => {\n            if (res) {\n                this.benhNhanHienTai = res;\n                this.yeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n                // this.trangThaiPhauThuatThuThuat = this.benhNhanHienTai.TrangThaiPhauThuatThuThuat;\n                this.yeuCauTiepNhanDangKhamId = this.benhNhanHienTai.YeuCauTiepNhanId;\n\n                if (this.ptttTt != null) {\n                    const phongBv = this.currentAccessUser;\n                    this.ptttTt.yctnId = yeuCauTiepNhanId;\n                    const url = 'PhauThuatThuThuat/GetListPtttBn?noiThucHienId=' + phongBv.PhongBenhVienId + '&yctnId=' + yeuCauTiepNhanId + '&IsTuongTrinhLai=' + this.benhNhanHienTai.IsTuongTrinhLai;\n                    this.ptttTt.LoadDsPttt(url, false, false);\n                    this.ptttTt.GetDvKhongThucHien();\n                }\n\n                // this.closeAllDialogs();\n                this.getDanhSachBenhNhanChoKhamHienTai();\n                this.getDichVuKyThuatChuaHoanThanhTrenHoanThanh();\n                // this.isChoosingPatient = false;\n\n            } else {\n                this.benhNhanHienTai = { Id: 0, YeuCauTiepNhan: {} };\n                // this.closeAllDialogs();\n                this.getDanhSachBenhNhanChoKhamHienTai();\n                // this.isChoosingPatient = false;\n            }\n        }, (err) => {\n            // this.isChoosingPatient = false;\n            this.isGetDataCanLamSanDone = true;\n            this.notificationService.showError(err);\n            this.closeAllDialogs();\n        });\n    }\n\n    formatMaBenhNhan(data) {\n        console.log(data);\n    }\n\n    timKiemBenhNhan(evt) {\n        if (evt.key === 'Enter') {\n            this.getDanhSachBenhNhanChoKhamHienTai();\n        }\n    }\n\n    timeoutSearchChange: any;\n    searchBenhNhanChange(value) {\n        var self = this;\n        clearTimeout(self.timeoutSearchChange);\n\n        if(value) {\n            if(typeof value == 'string' && value.endsWith('@')) {\n                self.timeoutSearchChange = setTimeout(function () {\n                    self.modelQRCode = value;\n                    self.changeQR(self.modelQRCode);\n                }, 10);\n            } else {\n                self.timeoutSearchChange = setTimeout(function () {\n                    self.getDanhSachBenhNhanChoKhamHienTai();\n                }, 1000);\n            }\n        } else {\n            self.modelQRCode = null;\n\n            self.timeoutSearchChange = setTimeout(function () {\n                self.getDanhSachBenhNhanChoKhamHienTai();\n            }, 1000);\n        }\n    }\n\n    bnVang(hangDoi: any) {\n        // if (\n        //     this.authService.hasPermission(\n        //         this.documentType,\n        //         SecurityOperation.Update\n        //     )\n        // ) {\n\n        // } else {\n        //     this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        // }\n\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: {\n                Title: 'Xác nhận',\n                Message: `Bạn chắc chắn xác nhận người bệnh (Mã TN: ${hangDoi.MaYeuCauTiepNhan}, Họ tên: ${hangDoi.HoTen}) không có mặt ở đây hay không?`,\n            },\n        })\n            .afterClosed()\n            .subscribe((result) => {\n                if (result == 'Yes') {\n                    // xử lý đẩy vị trí hàng đợi người bệnh ra sau\n                    this.apiService.post('PhauThuatThuThuat/XuLyBenhNhanVang?id=' + hangDoi.Id).subscribe(() => {\n                        this.getDanhSachBenhNhanChoKhamHienTai();\n                    });\n                }\n            }, (err) => {\n                this.notificationService.showError(err);\n            });\n    }\n\n    // savePhauThuatThuThuat() {\n    //     this.dialog.open(ConfirmComponent, {\n    //         //disableClose: true,\n    //         width: '1000px',\n    //         data: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn lưu thông tin phẫu thuật thủ thuật cho người bệnh \" + this.benhNhanHienTai.YeuCauTiepNhan.HoTen.bold() + \" không?\" }\n    //     }).afterClosed().subscribe(result => {\n    //         if (result == 'Yes') {\n    //             // if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n\n    //             // }\n    //             var phauThuatThuThuat: any = this.shared.pTTT;\n    //                 phauThuatThuThuat.YeuCauDichVuKyThuatId = this.yeuCauDvktId;\n    //                 this.apiService\n    //                     .post<any>(\"PhauThuatThuThuat/SaveOperation\", phauThuatThuThuat)\n    //                     .subscribe(resultData => {\n    //                         this.notificationService.showError(resultData.Error);\n    //                     });\n    //         }\n    //     });\n    // }\n\n    // startPhauThuatThuThuat() {\n    //     this.dialog.open(ConfirmComponent, {\n    //         //disableClose: true,\n    //         width: '1000px',\n    //         data: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn tiến hành phẫu thuật thủ thuật cho người bệnh \" + this.benhNhanHienTai.YeuCauTiepNhan.HoTen.bold() + \" không?\" }\n    //     }).afterClosed().subscribe(result => {\n    //         if (result == 'Yes') {\n    //             // if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n\n    //             // }\n    //             var phauThuatThuThuat: any = this.shared.pTTT;\n    //                 phauThuatThuThuat.YeuCauDichVuKyThuatId = this.yeuCauDvktId;\n    //                 this.apiService\n    //                     .post<any>(\"PhauThuatThuThuat/StartOperation\", phauThuatThuThuat)\n    //                     .subscribe(resultData => {\n    //                         if (resultData.ThanhCong == true) {\n    //                             this.benhNhanHienTai = { Id: 0, YeuCauTiepNhan: {} };\n    //                             this.notificationService.showError(resultData.Error);\n    //                             this.getDanhSachBenhNhanChoKhamHienTai();\n    //                         } else {\n    //                             this.notificationService.showError(resultData.Error);\n    //                         }\n    //                     });\n    //         }\n    //     });\n    // }\n\n    // endPhauThuatThuThuat() {\n    //     this.dialog.open(ConfirmComponent, {\n    //         //disableClose: true,\n    //         width: '1000px',\n    //         data: { Title: \"Xác nhận\", Message: \"Bạn chắc chắn muốn kết thúc phẫu thuật thủ thuật cho người bệnh \" + this.benhNhanHienTai.YeuCauTiepNhan.HoTen.bold() + \" không?\" }\n    //     }).afterClosed().subscribe(result => {\n    //         if (result == 'Yes') {\n    //             // if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n    //             //\n    //             // }\n    //             var phauThuatThuThuat: any = this.shared.pTTT;\n    //                 phauThuatThuThuat.YeuCauDichVuKyThuatId = this.yeuCauDvktId;\n    //                 this.apiService\n    //                     .post<any>(\"PhauThuatThuThuat/FinishOperation\", phauThuatThuThuat)\n    //                     .subscribe(resultData => {\n    //                         if (resultData.ThanhCong == true) {\n    //                             this.benhNhanHienTai = { Id: 0, YeuCauTiepNhan: {} };\n    //                             this.notificationService.showError(resultData.Error);\n    //                             this.getDanhSachBenhNhanChoKhamHienTai();\n    //                         } else {\n    //                             this.notificationService.showError(resultData.Error);\n    //                         }\n    //                     });\n    //         }\n    //     });\n    // }\n\n    changeTabParent(element: any, event: any) {\n        this.tabDanhSachPT = !this.tabDanhSachPT;\n        this.tabDanhSachDaPT = !this.tabDanhSachDaPT;\n    }\n    @HostListener('document:keydown', ['$event'])\n    keyEvent(event: KeyboardEvent) {\n        if (this.tabDanhSachPT) {\n            let self = this;\n\n            // if (self.benhNhanHienTai.Id !== 0 && self.isSelectedParentTabKhamBenh) {\n            if (self.benhNhanHienTai.Id !== 0) {\n                // kiểm tra lưu // ctr + s\n                if (event.ctrlKey && event.keyCode == 83) {\n                    // Chỉ định CLS\n                    if (self.lstStatusSelectedTab.selectedTabCanLamSan) {\n                        event.preventDefault();\n                        self.phauThuatThuThuatCanLamSanComponent.themDichVuKyThuatMultiselect();\n                    } else if (self.lstStatusSelectedTab.selectedTabTuongTrinh) {\n                        // if (this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan) {\n                        //     event.preventDefault();\n                        //     this.luuKetLuan();\n                        // } else if (!this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan) {\n                        //     event.preventDefault();\n                        // }\n                        event.preventDefault();\n                        // if (this.ptttTt.ptttCombobox.ptttId\n                        //     !=null && this.ptttTt.isDangPhauThuat && !this.ptttTt.IsDaTuongTrinh) {\n                        //     this.ketPhucPhauThuatThuThuat();\n                        // }\n                    } else if (self.lstStatusSelectedTab.selectedTabKetLuan) {\n                        event.preventDefault();\n                        self.luuKetLuan();\n                    } else if (self.lstStatusSelectedTab.selectedTabTheoDoi) {\n                        event.preventDefault();\n                        self.phauThuatThuThuatTheoDoiComponent.luuLanKham();\n                    }\n                }\n\n                // esc\n                if (event.keyCode === 27) {\n                    if (self.lstStatusSelectedTab.selectedTabCanLamSan) {\n                        event.preventDefault();\n                        self.phauThuatThuThuatCanLamSanComponent.huyDichVuKyThuatMultiselect();\n                    } else if (self.lstStatusSelectedTab.selectedTabTuongTrinh) {\n                        event.preventDefault();\n                        // self.cancelEkipThucHien();\n                    } else if (self.lstStatusSelectedTab.selectedTabKetLuan) {\n                        event.preventDefault();\n                        self.huyKetLuan();\n                    } else if (self.lstStatusSelectedTab.selectedTabTheoDoi) {\n                        event.preventDefault();\n                        self.phauThuatThuThuatTheoDoiComponent.huyLanKham();\n                    }\n                }\n\n                // if (self.lstStatusSelectTabKhambenh.selectedTabKhamBenh) {\n                //     // kiểm tra hủy\n                //     if (\n                //         event.keyCode == 27 &&\n                //         this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh\n                //     ) {\n                //         event.preventDefault();\n                //         this.cancelChangeData();\n                //     } else if (\n                //         event.keyCode == 27 &&\n                //         !this.benhNhanHienTai.YeuCauKhamBenh.IsChangeKhamBenh\n                //     ) {\n                //         event.preventDefault();\n                //     }\n                // } else if (self.lstStatusSelectTabKhambenh.selectedTabChanDoan) {\n                //     if (\n                //         event.keyCode == 27 &&\n                //         this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan\n                //     ) {\n                //         event.preventDefault();\n                //         this.cancelChangeDataKetLuan();\n                //     } else if (\n                //         event.keyCode == 27 &&\n                //         !this.benhNhanHienTai.YeuCauKhamBenh.IsChangeChanDoan\n                //     ) {\n                //         event.preventDefault();\n                //     }\n                // } else if (self.lstStatusSelectTabKhambenh.selectedTabTuongTrinhPttt) {\n                //     // tường trình pt/tt\n\n                //     // tslint:disable-next-line: deprecation\n                //     if (\n                //         event.keyCode === 27 &&\n                //         this.benhNhanHienTai.YeuCauKhamBenh.IsChangePhauThuat\n                //     ) {\n                //         event.preventDefault();\n                //         self.onResetTuongTrinh();\n                //     } else if (\n                //         event.keyCode === 27 &&\n                //         !this.benhNhanHienTai.YeuCauKhamBenh.IsChangePhauThuat\n                //     ) {\n                //         event.preventDefault();\n                //     }\n                // }\n\n\n                // ctrl + f1\n                const kendoTab = 'card';\n                if (event.ctrlKey && event.keyCode === 112) {\n                    event.preventDefault();\n\n                    self.deselectedTab();\n                    self.lstStatusSelectedTab.selectedTabCanLamSan = true;\n                    self.scrollTo(kendoTab);\n                }\n\n                // ctrl + f2\n                if (event.ctrlKey && event.keyCode === 113) {\n                    event.preventDefault();\n\n                    // if(this.isChoKham) {\n                    self.deselectedTab();\n                    self.lstStatusSelectedTab.selectedTabTuongTrinh = true;\n                    self.scrollTo(kendoTab);\n                    // }\n                }\n\n                // ctrl + f3\n                if (event.ctrlKey && event.keyCode === 114) {\n                    event.preventDefault();\n\n                    if (this.isDaTuongTrinh && (this.benhNhanHienTai.TrangThaiPhauThuatThuThuat == this.trangThaiPhauThuatThuThuat.DangPhauThuat || this.benhNhanHienTai.TrangThaiPhauThuatThuThuat == this.trangThaiPhauThuatThuThuat.TheoDoi)) {\n                        self.deselectedTab();\n                        self.lstStatusSelectedTab.selectedTabKetLuan = true;\n                        self.scrollTo(kendoTab);\n                    }\n                }\n\n                // ctrl + f5\n                if (event.ctrlKey && event.keyCode === 116) {\n                    event.preventDefault();\n\n                    if (this.benhNhanHienTai.TrangThaiPhauThuatThuThuat == this.trangThaiPhauThuatThuThuat.TheoDoi) {\n                        self.deselectedTab();\n                        self.lstStatusSelectedTab.selectedTabTheoDoi = true;\n                        self.phauThuatThuThuatTheoDoiComponent.getTheoDoiSauPhauThuatThuThuat();\n                        self.scrollTo(kendoTab);\n                    }\n                }\n\n\n                // ctrl + T\n                // if (event.ctrlKey && event.keyCode == 39) {\n                //     if (self.lstStatusSelectTabKhambenh.selectedTabKhamBenh) {\n                //         event.preventDefault();\n                //         self.unSelectedTab();\n                //         self.lstStatusSelectTabKhambenh.selectedTabKhamBenh = true;\n                //         self.bnTiepTheo();\n                //     }\n                //     else {\n                //         event.preventDefault();\n                //     }\n                // }\n\n\n            } else {\n                if (event.ctrlKey &&\n                    (\n                        event.keyCode === 27 || // esc\n                        event.keyCode === 39 || // right arrow\n                        event.keyCode === 72 || // h\n                        event.keyCode === 80 || // p\n                        event.keyCode === 83 || // s\n                        event.keyCode === 112 || // f1\n                        event.keyCode === 113 || // f2\n                        event.keyCode === 114 || // f3\n                        event.keyCode === 116 // f5\n                    )\n                ) {\n                    event.preventDefault();\n                }\n            }\n\n            if (event.keyCode == 81 && event.ctrlKey && this.isScanF1 != true) {\n                this.isScanF1 = true;\n                event.preventDefault();\n                this.QuetMaQRCodeClick();\n            }\n        }\n    }\n\n    // tslint:disable-next-line: use-lifecycle-interface\n    ngAfterContentInit() {\n        this.subscription = this.broadcastService.on('ChuyenPhong', (event) => {\n            if (event.message) {\n                this.ChuyenPhongNoiBo(event.message);\n            }\n        });\n    }\n\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n\n    WillShowKetLuan(willShow: boolean) {\n        if (willShow === true) {\n            this.isDaTuongTrinh = willShow;\n            this.apiService.get<any>(`PhauThuatThuThuat/GetTrangThaiPhauThuatThuThuat?phongKhamHienTaiId=${this.currentAccessUser.PhongBenhVienId}&yeuCauTiepNhanId=${this.benhNhanHienTai.YeuCauTiepNhanId}`).subscribe((res) => {\n                if (res) {\n                    this.benhNhanHienTai.TrangThaiPhauThuatThuThuat = res;\n                }\n            }, (err) => {\n                this.notificationService.showError(err);\n            });\n        }\n    }\n\n    NavigateKetLuan(willNavigate: boolean) {\n        if (willNavigate === true) {\n            this.deselectedTab();\n            this.lstStatusSelectedTab.selectedTabKetLuan = true;\n        }\n    }\n\n    ChuyenBenhNhanNext(willChuyen: boolean) {\n        if (willChuyen) {\n            if (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n                this.apiService.get<any>\n                    // tslint:disable-next-line: max-line-length\n                    (`PhauThuatThuThuat/GetThongTinBenhNhanTiepTheo?phongKhamHienTaiId=${this.currentAccessUser.PhongBenhVienId}&yeuCauTiepNhanHienTaiId=${this.yeuCauTiepNhanId}`)\n                    .subscribe((res) => {\n                        if (res) {\n                            this.dialog.open(PhauThuatThuThuatBnTiepTheoPopupComponent, {\n                                disableClose: true,\n                                width: '1000px',\n                                data: res\n                            })\n                                .afterClosed()\n                                .subscribe(dialogRes => {\n                                    if (dialogRes) {\n                                        this.benhNhanTiepTheo(res.YeuCauTiepNhanId);\n                                    } else {\n                                        this.benhNhanTiepTheo(0);\n                                    }\n                                });\n                        } else {\n                            this.benhNhanTiepTheo(0);\n                        }\n                    }, (err) => {\n                        this.dialog.closeAll();\n                        this.notificationService.showError(err);\n                    });\n            } else {\n                this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n            }\n        } else {\n            this.benhNhanTiepTheo(0);\n        }\n    }\n\n    benhNhanTuVong() {\n        const tuVongRes = {\n            isTuongTrinh: true,\n            IsDaTuongTrinh: this.ptttTt.IsDaTuongTrinh,\n            YcdvktId: this.ptttTt.ycdvktId,\n        };\n        this.dialog.open(PhauThuatThuThuatTuVongPopupComponent, {\n            disableClose: true,\n            width: '600px',\n            data: tuVongRes\n        })\n            .afterClosed()\n            .subscribe((res) => {\n                if (res === 'confirm') {\n                    if (this.dataSourceChuanBiPhauThuatThuThuat != null && this.dataSourceChuanBiPhauThuatThuThuat.data.some(x => x)) {\n                        this.getThongTinBenhNhanTiepTheoPopup();\n                    }\n\n                    if (this.dataSourceChuanBiPhauThuatThuThuat != null && !this.dataSourceChuanBiPhauThuatThuThuat.data.some(x => x)) {\n                        this.benhNhanTiepTheo(0);\n                    }\n                }\n            });\n    }\n\n    benhNhanTuVongKhiTheoDoi() {\n        const tuVongRes = {\n            isTheoDoi: true,\n            isDangTheoDoi: this.benhNhanHienTai.TrangThaiPhauThuatThuThuat === EnumTrangThaiPhauThuatThuThuat.TheoDoi,\n            yeuCauTiepNhanId: this.benhNhanHienTai.YeuCauTiepNhanId,\n            theoDoiSauPhauThuatThuThuatId: this.phauThuatThuThuatTheoDoiComponent.getTheoDoiSauPhauThuatThuThuatId(),\n            nhanVienKetLuanId: this.currentAccessUser.Id,\n            phongBenhVienId: this.currentAccessUser.PhongBenhVienId\n        };\n\n        this.dialog.open(PhauThuatThuThuatTuVongPopupComponent, {\n            disableClose: true,\n            width: '600px',\n            data: tuVongRes\n        }).afterClosed().subscribe((res) => {\n            if (res === 'confirm') {\n                if (this.dataSourceChuanBiPhauThuatThuThuat != null && this.dataSourceChuanBiPhauThuatThuThuat.data.some(x => x)) {\n                    this.getThongTinBenhNhanTiepTheoPopup();\n                }\n\n                if (this.dataSourceChuanBiPhauThuatThuThuat != null && !this.dataSourceChuanBiPhauThuatThuThuat.data.some(x => x)) {\n                    this.benhNhanTiepTheo(0);\n                }\n            }\n        });\n    }\n\n    getThongTinBenhNhanTiepTheoPopup() {\n        this.apiService.get<any>(`PhauThuatThuThuat/GetThongTinBenhNhanTiepTheo?phongKhamHienTaiId=${this.currentAccessUser.PhongBenhVienId}&yeuCauTiepNhanHienTaiId=${this.benhNhanHienTai.YeuCauTiepNhanId}`).subscribe((res) => {\n            if (res) {\n                this.dialog.closeAll();\n\n                this.dialog.open(PhauThuatThuThuatBnTiepTheoPopupComponent, {\n                    disableClose: true,\n                    width: '1000px',\n                    data: res\n                })\n                    .afterClosed()\n                    .subscribe(dialogRes => {\n                        if (dialogRes) {\n                            this.benhNhanTiepTheo(res.YeuCauTiepNhanId);\n                        } else {\n                            this.benhNhanTiepTheo(0);\n                        }\n                    });\n            } else {\n                this.benhNhanTiepTheo(0);\n            }\n        }, (err) => {\n            this.notificationService.showError(err);\n            this.dialog.closeAll();\n        });\n    }\n\n    huyKetLuan() {\n        this.phauThuatThuThuatKetLuanComponent.huyKetLuan();\n    }\n\n    luuKetLuan() {\n        this.phauThuatThuThuatKetLuanComponent.luuKetLuan();\n    }\n\n    chuyenGiaoBenhNhan() {\n        this.phauThuatThuThuatTheoDoiComponent.chuyenGiaoBenhNhan();\n    }\n\n    chuyenGiaoKetLuan() {\n        this.theoDoiSauPhauThuatThuThuat = new TheoDoiSauPhauThuatThuThuat();\n        this.theoDoiSauPhauThuatThuThuat.YeuCauTiepNhanId = this.yeuCauTiepNhanId;\n        this.theoDoiSauPhauThuatThuThuat.TrangThai = EnumTrangThaiTheoDoiSauPhauThuatThuThuat.KetThucTheoDoi;\n        this.theoDoiSauPhauThuatThuThuat.TrangThaiPhauThuatThuThuat = EnumTrangThaiPhauThuatThuThuat.ChuyenGiao;\n        this.theoDoiSauPhauThuatThuThuat.PhongBenhVienId = this.currentAccessUser.PhongBenhVienId;\n        this.theoDoiSauPhauThuatThuThuat.NhanVienKetLuanId = this.currentAccessUser.Id;\n        this.theoDoiSauPhauThuatThuThuat.BacSiPhuTrachTheoDoiId = 0;\n        this.theoDoiSauPhauThuatThuThuat.DieuDuongPhuTrachTheoDoiId = 0;\n        this.theoDoiSauPhauThuatThuThuat.ThoiDiemBatDauTheoDoi = null;\n        this.theoDoiSauPhauThuatThuThuat.ThoiDiemKetThucTheoDoi = null;\n        this.theoDoiSauPhauThuatThuThuat.GhiChuTheoDoi = '';\n        this.theoDoiSauPhauThuatThuThuat.IsChuyenGiaoTuTuongTrinh = true;\n\n        this.apiService.post<any>('PhauThuatThuThuat/ChuyenGiaoSauPhauThuatThuThuat', this.theoDoiSauPhauThuatThuThuat).subscribe(res => {\n            if (res) {\n                this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully,\n                    [`Chuyển giao NB ${this.benhNhanHienTai.HoTen}`]));\n\n                //GetThongTinBenhNhanTiepTheo\n                this.apiService.get<any>(\n                    `PhauThuatThuThuat/GetThongTinBenhNhanTiepTheo?phongKhamHienTaiId=${this.currentAccessUser.PhongBenhVienId}&yeuCauTiepNhanHienTaiId=${this.benhNhanHienTai.YeuCauTiepNhanId}`)\n                    .subscribe((result) => {\n                        if (result) {\n                            this.dialog.open(PhauThuatThuThuatBnTiepTheoPopupComponent, {\n                                disableClose: true,\n                                width: '1000px',\n                                data: result\n                            })\n                                .afterClosed()\n                                .subscribe(dialogRes => {\n                                    if (dialogRes) {\n                                        this.benhNhanTiepTheo(result.YeuCauTiepNhanId);\n                                    } else {\n                                        this.benhNhanTiepTheo(0);\n                                    }\n                                });\n                        } else {\n                            this.benhNhanTiepTheo(0);\n                        }\n                    }, (err) => {\n                        this.dialog.closeAll();\n                        this.notificationService.showError(err);\n                    });\n            }\n        }, (err) => {\n            this.notificationService.showError(err.Message);\n        })\n    }\n\n    ketPhucPhauThuatThuThuat() {\n        this.dialog.open(PtttKetThucTuongTrinhPopupComponent, {\n            disableClose: true,\n            width: '600px',\n            data: this.ptttTt.ycdvktId\n        })\n            .afterClosed()\n            .subscribe((res) => {\n                if (res === 'confirm') {\n                    const phongBvId = this.currentAccessUser;\n                    const yctnId = this.yeuCauTiepNhanId;\n                    const url = 'PhauThuatThuThuat/GetListPtttBn?noiThucHienId=' + phongBvId.PhongBenhVienId + '&yctnId=' + yctnId + '&IsTuongTrinhLai=' + this.benhNhanHienTai.IsTuongTrinhLai;\n\n                    if (this.dataSourceChuanBiPhauThuatThuThuat != null && this.dataSourceChuanBiPhauThuatThuThuat.data.some(x => x)) {\n                        this.ptttTt.LoadDsPttt(url);\n                        this.ptttTt.GetDvKhongThucHien();\n                    }\n\n                    if (this.dataSourceChuanBiPhauThuatThuThuat != null && !this.dataSourceChuanBiPhauThuatThuThuat.data.some(x => x)) {\n                        this.ptttTt.LoadDsPttt(url, true, false);\n                        this.ptttTt.GetDvKhongThucHien();\n                    }\n                }\n            });\n    }\n\n    RutLui() {\n        this.dialog.open(KhongThucHienPtttPopupComponent, {\n            disableClose: true,\n            width: '600px',\n            data: this.ptttTt.ycdvktId\n        })\n            .afterClosed()\n            .subscribe((res) => {\n                if (res === 'confirm') {\n                    const phongBvId = this.currentAccessUser;\n                    const yctnId = this.yeuCauTiepNhanId;\n                    const url = 'PhauThuatThuThuat/GetListPtttBn?noiThucHienId=' + phongBvId.PhongBenhVienId + '&yctnId=' + yctnId + '&IsTuongTrinhLai=' + this.benhNhanHienTai.IsTuongTrinhLai;\n\n                    if (this.dataSourceChuanBiPhauThuatThuThuat != null && this.dataSourceChuanBiPhauThuatThuThuat.data.some(x => x)) {\n                        this.ptttTt.LoadDsPttt(url);\n                        this.ptttTt.GetDvKhongThucHien();\n                    }\n\n                    if (this.dataSourceChuanBiPhauThuatThuThuat != null && !this.dataSourceChuanBiPhauThuatThuThuat.data.some(x => x)) {\n                        this.ptttTt.LoadDsPttt(url, true, false);\n                        this.ptttTt.GetDvKhongThucHien();\n                    }\n                }\n            });\n    }\n\n    UpdateTabTuongTrinhHeader(tuongTrinhHeader: string) {\n        this.tuongTrinhHeader = tuongTrinhHeader;\n    }\n\n    phauThuatThuThuatCLSDataChangedAfterAddAndRemove(evt) {\n        if (!this.loadingPopup) {\n            this.loadingPopup = this.dialog.open(LoadingComponent, {\n                disableClose: true,\n                width: '200px',\n                height: '90px',\n                data: { Title: 'Đang tải...' }\n            });\n        }\n\n        this.getDichVuKyThuatChuaHoanThanhTrenHoanThanh();\n    }\n\n    phauThuatThuThuatCLSOutOfYeuCauDichVuKyThuats(evt) {\n        this.getBenhNhanDangTuongTrinh();\n    }\n\n    finishKetLuan(evt) {\n        if (evt) {\n            this.dialog.open(ConfirmComponent, {\n                disableClose: false,\n                width: '400px',\n                data: { Title: 'Xác nhận', Message: PtttMessage.MessageChuyenTabKetLuanQuaTheoDoi }\n            }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n                this.benhNhanHienTai.TrangThaiPhauThuatThuThuat = EnumTrangThaiPhauThuatThuThuat.TheoDoi;\n\n                if (result === 'Yes') {\n                    this.deselectedTab();\n                    this.lstStatusSelectedTab.selectedTabTheoDoi = true;\n\n                    if (this.phauThuatThuThuatTheoDoiComponent) {\n                        this.phauThuatThuThuatTheoDoiComponent.getTheoDoiSauPhauThuatThuThuat();\n                    }\n                }\n            });\n        }\n    }\n\n    huyKhamBenhNhan() {\n        let hangDoiPhauThuatThuThuat = new HangDoiPhauThuatThuThuat();\n        hangDoiPhauThuatThuThuat.PhongBenhVienId = this.currentAccessUser.PhongBenhVienId;\n\n        this.apiService.post(`PhauThuatThuThuat/HuyKhamBenhNhanPTTT`, hangDoiPhauThuatThuThuat).subscribe(res => {\n            this.isGetDataCanLamSanDone = true; //k load khi k có NB\n            this.isGetDataDichVuKyThuatChuaHoanThanhTrenHoanThanhDone = true; //k load khi k có NB\n\n            this.getDanhSachBenhNhanChoKhamHienTai();\n        }, err => {\n            this.notificationService.showError(err);\n            this.closeAllDialogs();\n        })\n    }\n\n    SoDuTaiKhoanChanged(evt) {\n        if (evt) {\n            this.benhNhanHienTai.SoDuTaikhoan = evt.SoDuTaiKhoan;\n            this.benhNhanHienTai.SoDuTaiKhoanDisplay = evt.SoDuTaiKhoanDisplay;\n        }\n    }\n\n    SoDuTaiKhoanUocLuongConLaiChanged(evt) {\n        if (evt) {\n            this.benhNhanHienTai.SoDuTaiKhoanUocLuongConLai = evt.SoDuTaiKhoanUocLuongConLai;\n            this.benhNhanHienTai.SoDuTaiKhoanUocLuongConLaiDisplay = evt.SoDuTaiKhoanUocLuongConLaiDisplay;\n        }\n    }\n\n    QuetMaQRCodeClick() {\n        let elementBarcode: HTMLElement = document.getElementById(\n            'barcodeActive'\n        ) as HTMLElement;\n        if (elementBarcode != undefined) {\n            elementBarcode.click();\n        }\n    }\n\n    changeQR(event) {\n        if (event != null && typeof event == 'string' && event.endsWith('@')) {\n            // this.modelQRCode = event;\n            var dataTimKiem = event.split('|');\n            if (dataTimKiem.length > 1) {\n                this.searchBenhNhan = dataTimKiem[0];\n            } else {\n                this.searchBenhNhan = event.slice(0, -1);\n            }\n            this.getDanhSachBenhNhanChoKhamHienTai();\n        } else {\n            this.notificationService.showError('Không tìm thấy thông tin cần tìm.');\n        }\n        this.isScanF1 = false;\n    }\n\n    DichVuKhongCanTuongTrinhChanged(evt) {\n        this.isDichVuKhongCanTuongTrinh = evt;\n    }\n\n    khongTuongTrinh() {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: {\n                Title: 'Xác nhận',\n                Message: `Bạn chắc chắn không tường trình cho dịch vụ này?`,\n            },\n        }).afterClosed().subscribe((result) => {\n            if (result == 'Yes') {\n                let khongTuongTrinh = {\n                    YeuCauTiepNhanId: this.yeuCauTiepNhanId,\n                    YeuCauDichVuKyThuatId: this.ptttTt.ycdvktId,\n                    PhongBenhVienId: this.currentAccessUser.PhongBenhVienId\n                };\n\n                this.apiService.post(`PhauThuatThuThuat/KhongTuongTrinh`, khongTuongTrinh).subscribe(res => {\n                    this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [`Không tường trình`]));\n                    \n                    // copy từ func ketPhucPhauThuatThuThuat\n                    const phongBvId = this.currentAccessUser.PhongBenhVienId;\n                    const yctnId = this.yeuCauTiepNhanId;\n                    const url = 'PhauThuatThuThuat/GetListPtttBn?noiThucHienId=' + phongBvId + '&yctnId=' + yctnId + '&IsTuongTrinhLai=' + this.benhNhanHienTai.IsTuongTrinhLai;\n\n                    if (this.dataSourceChuanBiPhauThuatThuThuat != null && this.dataSourceChuanBiPhauThuatThuThuat.data.some(x => x)) {\n                        this.ptttTt.LoadDsPttt(url);\n                        this.ptttTt.GetDvKhongThucHien();\n                    }\n\n                    if (this.dataSourceChuanBiPhauThuatThuThuat != null && !this.dataSourceChuanBiPhauThuatThuThuat.data.some(x => x)) {\n                        this.ptttTt.LoadDsPttt(url, true, false);\n                        this.ptttTt.GetDvKhongThucHien();\n                    }\n                }, err => {\n                    this.notificationService.showError(err);\n                    this.closeAllDialogs();\n                })\n            }\n        }, (err) => {\n            this.notificationService.showError(err);\n        });\n    }\n\n    ketPhucTuongTrinhLai() {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: {\n                Title: 'Xác nhận',\n                Message: `Bạn chắc chắn hoàn thành tường trình lại cho tất cả dịch vụ?`,\n            },\n        }).afterClosed().subscribe((result) => {\n            if (result == 'Yes') {\n                if (!this.loadingPopup) {\n                    this.loadingPopup = this.dialog.open(LoadingComponent, {\n                        disableClose: true,\n                        width: '200px',\n                        height: '90px',\n                        data: { Title: 'Đang tải...' }\n                    });\n                }\n\n                this.apiService.post(`PhauThuatThuThuat/HoanThanhTuongTrinhLai?phongBenhVienId=${this.currentAccessUser.PhongBenhVienId}&yeuCauTiepNhanId=${this.yeuCauTiepNhanId}`).subscribe(res => {\n                    this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [`Hoàn thành tường trình lại`]));\n\n                    this.apiService.get<any>(`PhauThuatThuThuat/GetThongTinBenhNhanTiepTheo?phongKhamHienTaiId=${this.currentAccessUser.PhongBenhVienId}&yeuCauTiepNhanHienTaiId=${this.yeuCauTiepNhanId}`).subscribe((res) => {\n                        if(res) {\n                            this.dialog.open(PhauThuatThuThuatBnTiepTheoPopupComponent, {\n                                disableClose: true,\n                                width: '1000px',\n                                data: res\n                            })\n                            .afterClosed()\n                            .subscribe(dialogRes => {\n                                if(dialogRes) {\n                                    this.benhNhanTiepTheo(res.YeuCauTiepNhanId);\n                                } else {\n                                    this.benhNhanTiepTheo(0);\n                                }\n                            });\n                        } else {\n                            this.benhNhanTiepTheo(0);\n                        }\n                    }, (err) => {\n                        this.dialog.closeAll();\n                        this.notificationService.showError(err);\n                    });\n                }, err => {\n                    this.notificationService.showError(err);\n                    this.closeAllDialogs();\n                })\n            }\n        }, (err) => {\n            this.notificationService.showError(err);\n        });\n    }\n}\n","export default \".clear-margin-bottom {\\n  margin-bottom: 0px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10dS12b25nLXBvcHVwL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxccGhhdS10aHVhdC10aHUtdGh1YXRcXHBoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheVxccGhhdS10aHVhdC10aHUtdGh1YXQtdHUtdm9uZy1wb3B1cFxccGhhdS10aHVhdC10aHUtdGh1YXQtdHUtdm9uZy1wb3B1cC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10dS12b25nLXBvcHVwL3BoYXUtdGh1YXQtdGh1LXRodWF0LXR1LXZvbmctcG9wdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSw2QkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10dS12b25nLXBvcHVwL3BoYXUtdGh1YXQtdGh1LXRodWF0LXR1LXZvbmctcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2xlYXItbWFyZ2luLWJvdHRvbSB7XG4gIG1hcmdpbi1ib3R0b206IDBweCAhaW1wb3J0YW50O1xufSIsIi5jbGVhci1tYXJnaW4tYm90dG9tIHtcbiAgbWFyZ2luLWJvdHRvbTogMHB4ICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, Inject, OnDestroy } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { TuongTrinhTuVong } from '../../phau-thuat-thu-thuat.model';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { SystemMessage, PtttMessage } from 'src/app/shared/configdata/system-message';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { BroadcastService } from 'src/app/core/services/broadcast.service';\ndeclare var $: any;\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-phau-thuat-thu-thuat-tu-vong-popup',\n    templateUrl: './phau-thuat-thu-thuat-tu-vong-popup.component.html',\n    styleUrls: ['./phau-thuat-thu-thuat-tu-vong-popup.component.scss']\n})\nexport class PhauThuatThuThuatTuVongPopupComponent implements OnInit, OnDestroy {\n    ttTuVong = {} as TuongTrinhTuVong;\n    documentType: DocumentType = DocumentType.PhauThuatThuThuatTheoNgay;\n    popup: any;\n    ycdvktId;\n    IsDaTuongTrinh = false;\n\n    isDangTheoDoi = false;\n    yeuCauTiepNhanId = 0;\n    theoDoiSauPhauThuatThuThuatId = 0;\n    nhanVienKetLuanId = 0;\n    phongBenhVienId = 0;\n\n    icClose = icClose;\n    validationErrors: any;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public data: any,\n        private dialog: MatDialog,\n        private dialogRef: MatDialogRef<any>,\n        private apiService: ApiService,\n        private broadcastService: BroadcastService,\n        private notificationService: NotificationService,\n        private authService: AuthService\n    ) { }\n\n    ngOnInit() {\n        const self = this;\n        // self.documentType = DocumentType.PhauThuatThuThuatTheoNgay;\n        if (self.data.isTuongTrinh) {\n            self.ycdvktId = self.data.YcdvktId;\n            self.IsDaTuongTrinh = self.data.IsDaTuongTrinh;\n            self.LoadTuVong(self.ycdvktId);\n        } else if (this.data.isTheoDoi) {\n            self.isDangTheoDoi = self.data.isDangTheoDoi;\n            self.yeuCauTiepNhanId = self.data.yeuCauTiepNhanId;\n            self.theoDoiSauPhauThuatThuThuatId = self.data.theoDoiSauPhauThuatThuThuatId;\n            self.nhanVienKetLuanId = self.data.nhanVienKetLuanId;\n            self.phongBenhVienId = self.data.phongBenhVienId;\n        }\n    }\n\n    LoadTuVong(ycdvktId: number) {\n        const self = this;\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n            self.apiService.get<any>(\n                'PhauThuatThuThuat/LoadTuVong?ycdvktId=' + ycdvktId\n            ).subscribe((res) => {\n                if (res) {\n                    self.ttTuVong = { ...res };\n                }\n            });\n        } else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    close() {\n        this.dialog.closeAll();\n    }\n\n    saveDataLoading() {\n        this.popup = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: 'Đang lưu dữ liệu...' }\n        });\n    }\n\n    closePopupLoadingData() {\n        this.popup.close();\n    }\n\n    // tslint:disable-next-line: use-lifecycle-interface\n    ngAfterContentInit() {\n        $('mat-dialog-container.mat-dialog-container').css('overflow', 'hidden');\n    }\n\n    ngOnDestroy() {\n        $('mat-dialog-container.mat-dialog-container').css('overflow', '');\n    }\n\n    ValidateTuVongClient(tuVong: TuongTrinhTuVong) {\n        this.validationErrors = [];\n\n        if (tuVong.TgTuVong == null) {\n            const err = {\n                Field: 'TgTuVong',\n                Message: PtttMessage.MessageTgTuVongNotAllowNull\n            };\n            this.validationErrors.push(err);\n        }\n\n        if (tuVong.TuVong == null) {\n            const err = {\n                Field: 'TuVong',\n                Message: PtttMessage.MessageTuVongNotAllowNull\n            };\n            this.validationErrors.push(err);\n        }\n    }\n\n    confirmTuVong() {\n        const self = this;\n        self.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: PtttMessage.MessageConfirmTuVong }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result === 'Yes') {\n                if (self.data.isTuongTrinh) {\n                    self.saveDataLoading();\n                    self.ValidateTuVongClient(self.ttTuVong);\n                    if (self.validationErrors.some(x => x)) {\n                        self.closePopupLoadingData();\n                        return;\n                    }\n                    self.ttTuVong.IdDvkt = self.ycdvktId;\n                    if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n                        self.apiService.post<any>(\n                            'PhauThuatThuThuat/SaveTuongTrinhTuVong', self.ttTuVong\n                        ).subscribe(() => {\n                            self.closePopupLoadingData();\n                            self.notificationService.showSuccess(PtttMessage.MessageSaveTuongTrinhTuVongThanhCong);\n                            self.dialogRef.close('confirm');\n                        }, err => {\n                            self.closePopupLoadingData();\n                            self.notificationService.showError(err.Message);\n                        });\n                    } else {\n                        self.closePopupLoadingData();\n                        self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n                    }\n                } else if (this.data.isTheoDoi) {\n                    self.saveDataLoading();\n                    self.ttTuVong.YeuCauTiepNhanId = self.yeuCauTiepNhanId;\n                    self.ttTuVong.TheoDoiSauPhauThuatThuThuatId = self.theoDoiSauPhauThuatThuThuatId;\n                    self.ttTuVong.NhanVienKetLuanId = self.nhanVienKetLuanId;\n                    self.ttTuVong.PhongBenhVienId = self.phongBenhVienId;\n\n                    if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n                        self.apiService.post<any>('PhauThuatThuThuat/BenhNhanTuVongKhiTheoDoi', self.ttTuVong).subscribe((res) => {\n                            self.closePopupLoadingData();\n                            self.notificationService.showSuccess(PtttMessage.MessageSaveTuongTrinhTuVongThanhCong);\n                            self.dialogRef.close('confirm');\n                        }, err => {\n                            err.ValidationErrors === null ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n                            self.closePopupLoadingData();\n                        });\n                    } else {\n                        self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n                    }\n                }\n            }\n        });\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmgva2hvbmctdGh1Yy1oaWVuLXB0dHQtbGlzdC1wb3B1cC9raG9uZy10aHVjLWhpZW4tcHR0dC1saXN0LXBvcHVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { AuthService } from 'src/app/core/services/auth.service';\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-khong-thuc-hien-pttt-list-popup',\n    templateUrl: './khong-thuc-hien-pttt-list-popup.component.html',\n    styleUrls: ['./khong-thuc-hien-pttt-list-popup.component.scss']\n})\nexport class KhongThucHienPtttListPopupComponent implements OnInit {\n    documentType: DocumentType = DocumentType.PhauThuatThuThuatTheoNgay;\n    popup: any;\n    ycdvktId;\n    gridKhongThucHien: any;\n\n    icClose = icClose;\n    dataSourcePtttKhongThucHien = {\n        data: [],\n        total: 0\n    };\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public data: any,\n        private dialog: MatDialog) { }\n\n    ngOnInit() {\n        const self = this;\n        self.documentType = DocumentType.PhauThuatThuThuatTheoNgay;\n        self.dataSourcePtttKhongThucHien.data = self.data;\n        self.dataSourcePtttKhongThucHien.total = self.data.length;\n        self.gridKhongThucHien = [\n            { Field: 'TenDv', Title: 'Tên Dịch Vụ', ShowTooltip: true, Width: 334 },\n            {\n                Field: 'LyDoHuy', Title: 'Lý Do Hủy', Width: 385, ShowTooltip: true\n            },\n            {\n                Field: 'NguoiHuy', Title: 'Người Hủy', Width: 187, ShowTooltip: true\n            }\n        ];\n    }\n\n    close() {\n        this.dialog.closeAll();\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmgva2hvbmctdGh1Yy1oaWVuLXB0dHQtcG9wdXAva2hvbmctdGh1Yy1oaWVuLXB0dHQtcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { SystemMessage, PtttMessage } from 'src/app/shared/configdata/system-message';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { RutTuongTrinhModel } from '../../../phau-thuat-thu-thuat.model';\nimport { BroadcastService } from 'src/app/core/services/broadcast.service';\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-khong-thuc-hien-pttt-popup',\n    templateUrl: './khong-thuc-hien-pttt-popup.component.html',\n    styleUrls: ['./khong-thuc-hien-pttt-popup.component.scss']\n})\nexport class KhongThucHienPtttPopupComponent implements OnInit {\n    documentType: DocumentType = DocumentType.PhauThuatThuThuatTheoNgay;\n    popup: any;\n    ycdvktId;\n    messageShowInPopup = PtttMessage.MessageKhongThucHienPtttDisplayPopup;\n    huyTuongTrinh = {} as RutTuongTrinhModel;\n    validationErrors: any;\n\n    icClose = icClose;\n\n    //BVHD-3860\n    xoaThuocVaTu: boolean = true;\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public data: any,\n        private dialog: MatDialog,\n        private broadcastService: BroadcastService,\n        private dialogRef: MatDialogRef<any>,\n        private apiService: ApiService,\n        private notificationService: NotificationService,\n        private authService: AuthService\n    ) { }\n\n    ngOnInit() {\n        const self = this;\n        self.documentType = DocumentType.PhauThuatThuThuatTheoNgay;\n        self.ycdvktId = self.data;\n    }\n\n    close() {\n        this.dialog.closeAll();\n    }\n\n    saveDataLoading() {\n        this.popup = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: 'Đang lưu dữ liệu...' }\n        });\n    }\n\n    closePopupLoadingData() {\n        this.popup.close();\n    }\n\n    ketThuc() {\n        const self = this;\n        self.validationErrors = [];\n        self.huyTuongTrinh.YcdvktId = self.ycdvktId;\n\n        //BVHD-3860\n        self.huyTuongTrinh.XoaThuocVaTu = self.xoaThuocVaTu;\n\n        self.saveDataLoading();\n        self.validationErrors = self.OnClientValidation();\n        if (self.validationErrors.length !== 0) {\n            self.closePopupLoadingData();\n            return;\n        }\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n            self.apiService.post<any>(\n                'PhauThuatThuThuat/HuyTuongTrinh', self.huyTuongTrinh\n            ).subscribe(() => {\n                self.closePopupLoadingData();\n                self.notificationService.showSuccess(PtttMessage.MessageKhongThucHienPtttThanhCong);\n                self.dialogRef.close('confirm');\n            }, err => {\n                self.notificationService.showError(err.Message);\n                self.closePopupLoadingData();\n                self.dialogRef.close('confirm');\n            });\n        } else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    OnClientValidation() {\n        const self = this;\n        const validationErrs = [];\n        if (self.huyTuongTrinh.GhiChu === undefined || self.huyTuongTrinh.GhiChu === '') {\n            const validate = {\n                Field: 'GhiChu',\n                Message: PtttMessage.MessageGhiChuEmpty\n            };\n            validationErrs.push(validate);\n        }\n\n        if (self.huyTuongTrinh.GhiChu != null && self.huyTuongTrinh.GhiChu.length > 4000) {\n            const validate = {\n                Field: 'GhiChu',\n                Message: PtttMessage.MessageGhiChuLess4000\n            };\n            validationErrs.push(validate);\n        }\n\n        return validationErrs;\n    }\n}\n","export default \"kendo-tabstrip.horizontal-tab-strip-pttt-tuong-trinh {\\n  z-index: 0;\\n}\\n\\nkendo-tabstrip.horizontal-tab-strip-pttt-tuong-trinh .k-tabstrip-items .k-item {\\n  border: 1px solid #ccc;\\n  margin-bottom: 3px;\\n  background: #ebeced;\\n}\\n\\nkendo-tabstrip.horizontal-tab-strip-pttt-tuong-trinh .k-tabstrip-items .k-item .k-link {\\n  text-align: center;\\n  justify-content: center;\\n  padding: 14px;\\n}\\n\\nkendo-tabstrip.horizontal-tab-strip-pttt-tuong-trinh .k-tabstrip-items .k-item.k-state-active {\\n  border-top: 1px solid #ccc;\\n  border-bottom: 1px solid #ccc;\\n  border-left: 2px solid #005dab;\\n  border-right: none;\\n  background: #fff;\\n}\\n\\nkendo-tabstrip.horizontal-tab-strip-pttt-tuong-trinh .k-content.k-state-active {\\n  border-left: none;\\n  border-right: none;\\n  border-top: 1px solid #ccc;\\n  border-bottom: none;\\n}\\n\\nkendo-list li.k-item.ng-star-inserted {\\n  padding: 0;\\n}\\n\\nng-template.wrapContent {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n}\\n\\n.wrapBtnLuu {\\n  display: flex;\\n  justify-content: flex-end;\\n  margin: 10px 30px;\\n}\\n\\n.wrapBtnLuu button.btnLuu {\\n  padding: 0 16px;\\n  background: #005dab;\\n  border-radius: 4px;\\n  line-height: 36px;\\n  font-weight: 500;\\n  color: white;\\n}\\n\\n.wrapBtnLuu button.btnHuy {\\n  padding: 0 16px;\\n  border-radius: 4px;\\n  line-height: 36px;\\n  font-weight: 500;\\n  color: #005dab;\\n}\\n\\nkendo-tabstrip#tabstrip-tuong-trinh ul.k-reset.k-tabstrip-items.ng-star-inserted {\\n  height: 300px;\\n  top: 130px;\\n  border: transparent;\\n}\\n\\n#show-khong-thuc-hien {\\n  display: flex;\\n  align-items: center;\\n  padding: 0 !important;\\n}\\n\\n#show-khong-thuc-hien .decor-dv-ko-thuc-hien {\\n  text-decoration: underline;\\n  color: #005dab;\\n  cursor: pointer;\\n}\\n\\n.thong-tin-phong-kham {\\n  display: flex;\\n  align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXHBoYXUtdGh1YXQtdGh1LXRodWF0XFxwaGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXlcXHBoYXUtdGh1YXQtdGh1LXRodWF0LXR1b25nLXRyaW5oXFxwaGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC9waGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQUE7QUNDRjs7QURFQTtFQUNFLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7RUFDQSx1QkFBQTtFQUNBLGFBQUE7QUNDRjs7QURFQTtFQUNFLDBCQUFBO0VBQ0EsNkJBQUE7RUFDQSw4QkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSwwQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtFQUNBLHlCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxjQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0VBQ0EsVUFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsMEJBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vcGhhdS10aHVhdC10aHUtdGh1YXQvcGhhdS10aHVhdC10aHUtdGh1YXQtdGhlby1uZ2F5L3BoYXUtdGh1YXQtdGh1LXRodWF0LXR1b25nLXRyaW5oL3BoYXUtdGh1YXQtdGh1LXRodWF0LXR1b25nLXRyaW5oLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsia2VuZG8tdGFic3RyaXAuaG9yaXpvbnRhbC10YWItc3RyaXAtcHR0dC10dW9uZy10cmluaCB7XG4gIHotaW5kZXg6IDA7XG59XG5cbmtlbmRvLXRhYnN0cmlwLmhvcml6b250YWwtdGFiLXN0cmlwLXB0dHQtdHVvbmctdHJpbmggLmstdGFic3RyaXAtaXRlbXMgLmstaXRlbSB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIG1hcmdpbi1ib3R0b206IDNweDtcbiAgYmFja2dyb3VuZDogI2ViZWNlZDtcbn1cblxua2VuZG8tdGFic3RyaXAuaG9yaXpvbnRhbC10YWItc3RyaXAtcHR0dC10dW9uZy10cmluaCAuay10YWJzdHJpcC1pdGVtcyAuay1pdGVtIC5rLWxpbmsge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBwYWRkaW5nOiAxNHB4O1xufVxuXG5rZW5kby10YWJzdHJpcC5ob3Jpem9udGFsLXRhYi1zdHJpcC1wdHR0LXR1b25nLXRyaW5oIC5rLXRhYnN0cmlwLWl0ZW1zIC5rLWl0ZW0uay1zdGF0ZS1hY3RpdmUge1xuICBib3JkZXItdG9wOiAxcHggc29saWQgI2NjYztcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7XG4gIGJvcmRlci1sZWZ0OiAycHggc29saWQgIzAwNWRhYjtcbiAgYm9yZGVyLXJpZ2h0OiBub25lO1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xufVxuXG5rZW5kby10YWJzdHJpcC5ob3Jpem9udGFsLXRhYi1zdHJpcC1wdHR0LXR1b25nLXRyaW5oIC5rLWNvbnRlbnQuay1zdGF0ZS1hY3RpdmUge1xuICBib3JkZXItbGVmdDogbm9uZTtcbiAgYm9yZGVyLXJpZ2h0OiBub25lO1xuICBib3JkZXItdG9wOiAxcHggc29saWQgI2NjYztcbiAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbn1cblxua2VuZG8tbGlzdCBsaS5rLWl0ZW0ubmctc3Rhci1pbnNlcnRlZCB7XG4gIHBhZGRpbmc6IDA7XG59XG5cbm5nLXRlbXBsYXRlLndyYXBDb250ZW50IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG4ud3JhcEJ0bkx1dSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIG1hcmdpbjogMTBweCAzMHB4O1xufVxuXG4ud3JhcEJ0bkx1dSBidXR0b24uYnRuTHV1IHtcbiAgcGFkZGluZzogMCAxNnB4O1xuICBiYWNrZ3JvdW5kOiAjMDA1ZGFiO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGxpbmUtaGVpZ2h0OiAzNnB4O1xuICBmb250LXdlaWdodDogNTAwO1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi53cmFwQnRuTHV1IGJ1dHRvbi5idG5IdXkge1xuICBwYWRkaW5nOiAwIDE2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgbGluZS1oZWlnaHQ6IDM2cHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGNvbG9yOiAjMDA1ZGFiO1xufVxuXG5rZW5kby10YWJzdHJpcCN0YWJzdHJpcC10dW9uZy10cmluaCB1bC5rLXJlc2V0LmstdGFic3RyaXAtaXRlbXMubmctc3Rhci1pbnNlcnRlZCB7XG4gIGhlaWdodDogMzAwcHg7XG4gIHRvcDogMTMwcHg7XG4gIGJvcmRlcjogdHJhbnNwYXJlbnQ7XG59XG5cbiNzaG93LWtob25nLXRodWMtaGllbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbn1cblxuI3Nob3cta2hvbmctdGh1Yy1oaWVuIC5kZWNvci1kdi1rby10aHVjLWhpZW4ge1xuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLnRob25nLXRpbi1waG9uZy1raGFtIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn0iLCJrZW5kby10YWJzdHJpcC5ob3Jpem9udGFsLXRhYi1zdHJpcC1wdHR0LXR1b25nLXRyaW5oIHtcbiAgei1pbmRleDogMDtcbn1cblxua2VuZG8tdGFic3RyaXAuaG9yaXpvbnRhbC10YWItc3RyaXAtcHR0dC10dW9uZy10cmluaCAuay10YWJzdHJpcC1pdGVtcyAuay1pdGVtIHtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgbWFyZ2luLWJvdHRvbTogM3B4O1xuICBiYWNrZ3JvdW5kOiAjZWJlY2VkO1xufVxuXG5rZW5kby10YWJzdHJpcC5ob3Jpem9udGFsLXRhYi1zdHJpcC1wdHR0LXR1b25nLXRyaW5oIC5rLXRhYnN0cmlwLWl0ZW1zIC5rLWl0ZW0gLmstbGluayB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIHBhZGRpbmc6IDE0cHg7XG59XG5cbmtlbmRvLXRhYnN0cmlwLmhvcml6b250YWwtdGFiLXN0cmlwLXB0dHQtdHVvbmctdHJpbmggLmstdGFic3RyaXAtaXRlbXMgLmstaXRlbS5rLXN0YXRlLWFjdGl2ZSB7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjY2NjO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcbiAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCAjMDA1ZGFiO1xuICBib3JkZXItcmlnaHQ6IG5vbmU7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG59XG5cbmtlbmRvLXRhYnN0cmlwLmhvcml6b250YWwtdGFiLXN0cmlwLXB0dHQtdHVvbmctdHJpbmggLmstY29udGVudC5rLXN0YXRlLWFjdGl2ZSB7XG4gIGJvcmRlci1sZWZ0OiBub25lO1xuICBib3JkZXItcmlnaHQ6IG5vbmU7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjY2NjO1xuICBib3JkZXItYm90dG9tOiBub25lO1xufVxuXG5rZW5kby1saXN0IGxpLmstaXRlbS5uZy1zdGFyLWluc2VydGVkIHtcbiAgcGFkZGluZzogMDtcbn1cblxubmctdGVtcGxhdGUud3JhcENvbnRlbnQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG5cbi53cmFwQnRuTHV1IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgbWFyZ2luOiAxMHB4IDMwcHg7XG59XG5cbi53cmFwQnRuTHV1IGJ1dHRvbi5idG5MdXUge1xuICBwYWRkaW5nOiAwIDE2cHg7XG4gIGJhY2tncm91bmQ6ICMwMDVkYWI7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgbGluZS1oZWlnaHQ6IDM2cHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLndyYXBCdG5MdXUgYnV0dG9uLmJ0bkh1eSB7XG4gIHBhZGRpbmc6IDAgMTZweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBsaW5lLWhlaWdodDogMzZweDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgY29sb3I6ICMwMDVkYWI7XG59XG5cbmtlbmRvLXRhYnN0cmlwI3RhYnN0cmlwLXR1b25nLXRyaW5oIHVsLmstcmVzZXQuay10YWJzdHJpcC1pdGVtcy5uZy1zdGFyLWluc2VydGVkIHtcbiAgaGVpZ2h0OiAzMDBweDtcbiAgdG9wOiAxMzBweDtcbiAgYm9yZGVyOiB0cmFuc3BhcmVudDtcbn1cblxuI3Nob3cta2hvbmctdGh1Yy1oaWVuIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xufVxuXG4jc2hvdy1raG9uZy10aHVjLWhpZW4gLmRlY29yLWR2LWtvLXRodWMtaGllbiB7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICBjb2xvcjogIzAwNWRhYjtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4udGhvbmctdGluLXBob25nLWtoYW0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufSJdfQ== */\"","import {\n    Component,\n    OnInit,\n    Input,\n    ViewEncapsulation,\n    ViewChild,\n    SimpleChanges,\n    OnChanges,\n    EventEmitter,\n    Output\n} from '@angular/core';\nimport { AccessUser } from 'src/app/shared/models/access-user.model';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { EnumTrangThaiPhauThuatThuThuat } from 'src/app/shared/enum/phau-thuat-thu-thuat.enum';\nimport { PhauThuatThuThuatEkipThucHienComponent } from './pttt-ekip-thuc-hien/pttt-ekip-thuc-hien.component';\nimport { PhauThuatThuThuatTuongTrinhPTTTComponent } from './pttt-tuong-trinh-pttt/pttt-tuong-trinh-pttt.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { LookupQueryInfo } from 'src/app/shared/models/common.model';\nimport { PtttComboboxModel, ComboboxPttt, DisplayLogicModel, ListStatusTabTuongTrinh, ThongTinChiDinhDichVu, TrangThaiYeuCauDichVuKyThuat } from '../../phau-thuat-thu-thuat.model';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { SystemMessage, PtttMessage } from 'src/app/shared/configdata/system-message';\nimport { ComboboxComponent } from 'src/app/shared/component/dropdowns/combobox/combobox.component';\nimport { MatDialog } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { PhauThuatThuThuatSinhTonComponent } from './pttt-sinh-ton/pttt-sinh-ton.component';\nimport { HostListener } from '@angular/core';\nimport { KhongThucHienPtttListPopupComponent } from './khong-thuc-hien-pttt-list-popup/khong-thuc-hien-pttt-list-popup.component';\ndeclare var $: any;\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-phau-thuat-thu-thuat-tuong-trinh',\n    templateUrl: './phau-thuat-thu-thuat-tuong-trinh.component.html',\n    styleUrls: ['./phau-thuat-thu-thuat-tuong-trinh.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\n\nexport class PhauThuatThuThuatTuongTrinhComponent implements OnInit, OnChanges {\n    currentUser: AccessUser;\n    trangThaiPhauThuatThuThuat = EnumTrangThaiPhauThuatThuThuat;\n    yctnId = 0;\n    ycdvktId = 0;\n    isDangPhauThuat = false;\n    IsDaTuongTrinh = false;\n    IsNotFirstLoading = false;\n    queryInfo: LookupQueryInfo = new LookupQueryInfo();\n    ptttCombobox = {} as PtttComboboxModel;\n    logicDisplay = {} as DisplayLogicModel;\n    logicDisplayTt = {} as DisplayLogicModel;\n    logicDisplayCsst = {} as DisplayLogicModel;\n    ptChinh = null;\n    lstKhongThucHien: any;\n    documentType: DocumentType;\n    lstStatusSelectedTab: ListStatusTabTuongTrinh = new ListStatusTabTuongTrinh();\n\n    isExistPhauThuat: boolean = false;\n    isExistDoubleKetLuanVaTheoDoi: boolean = false;\n    isTuongTrinhLai: boolean = false;\n\n    thongTinChiDinhDichVu: ThongTinChiDinhDichVu = new ThongTinChiDinhDichVu();\n\n    @ViewChild('lstPtttCmb', { static: false }) lstPtttCmb: ComboboxComponent;\n    @ViewChild('ptttSinhTon', { static: false }) ptttSinhTon: PhauThuatThuThuatSinhTonComponent;\n    @ViewChild('ekip', { static: false }) ekip: PhauThuatThuThuatEkipThucHienComponent;\n    @ViewChild('tuongTrinh', { static: false }) tuongTrinh: PhauThuatThuThuatTuongTrinhPTTTComponent;\n\n    @Input() thongTinBenhNhan: any;\n\n    @Output() showKetLuan: EventEmitter<any> = new EventEmitter<any>();\n    @Output() navigateKetLuan: EventEmitter<any> = new EventEmitter<any>();\n    @Output() chuyenBenhNhan: EventEmitter<any> = new EventEmitter<any>();\n    @Output() chuyenGiaoKetLuanBenhNhan: EventEmitter<any> = new EventEmitter<any>();\n    @Output() updateTuongTrinhTabHeader: EventEmitter<any> = new EventEmitter<any>();\n    @Output() outputSoDuTaiKhoanChanged = new EventEmitter();\n    @Output() outputSoDuTaiKhoanConLaiChanged = new EventEmitter();\n    @Output() outputDichVuKhongCanTuongTrinhChanged = new EventEmitter();\n\n    constructor(\n        private authService: AuthService,\n        private notificationService: NotificationService,\n        private apiService: ApiService,\n        private dialog: MatDialog\n    ) { }\n\n    ngOnInit() {\n        this.documentType = DocumentType.PhauThuatThuThuatTheoNgay;\n        this.currentUser = this.authService.getAccessUser();\n        // tslint:disable-next-line: radix\n        this.currentUser.PhongBenhVienId = parseInt(this.authService.getPhongLamViecId());\n        this.yctnId = this.thongTinBenhNhan.YeuCauTiepNhanId;\n        const url = `PhauThuatThuThuat/GetListPtttBn?noiThucHienId=${this.currentUser.PhongBenhVienId}&yctnId=${this.yctnId}&IsTuongTrinhLai=${this.thongTinBenhNhan.IsTuongTrinhLai}`;\n        this.LoadDsPttt(url, false, false);\n        this.GetDvKhongThucHien();\n    }\n\n    GetDvKhongThucHien() {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n            this.apiService.get<any>\n                // tslint:disable-next-line: max-line-length\n                (`PhauThuatThuThuat/GetListTuongTrinhHuy?noiThucHienId=${this.currentUser.PhongBenhVienId}&yctnId=${this.yctnId}&IsTuongTrinhLai=${this.thongTinBenhNhan.IsTuongTrinhLai}`)\n                .subscribe(res => {\n                    if (res != null && res.some(x => x)) {\n                        this.lstKhongThucHien = [...res];\n                        const dvKhongThucHienHtml = '<p class=\"decor-dv-ko-thuc-hien\">Dv không thực hiện</p>';\n                        $('#show-khong-thuc-hien').html(dvKhongThucHienHtml);\n                    }\n                    if (res != null && !res.some(x => x)) {\n                        this.lstKhongThucHien = [];\n                        const dvKhongThucHienHtml = '';\n                        $('#show-khong-thuc-hien').html(dvKhongThucHienHtml);\n                    }\n                }, err => {\n                    this.notificationService.showError(err.Message);\n                });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (changes.thongTinBenhNhan && changes.thongTinBenhNhan.currentValue) {\n            this.currentUser = this.authService.getAccessUser();\n            // tslint:disable-next-line: radix\n            this.currentUser.PhongBenhVienId = parseInt(this.authService.getPhongLamViecId());\n        }\n    }\n\n    deselectedTab() {\n        this.lstStatusSelectedTab.selectedTabEkip = false;\n        this.lstStatusSelectedTab.selectedTabTuongTrinh = false;\n        this.lstStatusSelectedTab.selectedTabVtThuoc = false;\n        this.lstStatusSelectedTab.selectedTabCsst = false;\n    }\n\n    ShowModal() {\n        this.dialog.open(KhongThucHienPtttListPopupComponent, {\n            disableClose: true,\n            width: '1000px',\n            data: this.lstKhongThucHien\n        })\n            .afterClosed()\n            .subscribe();\n    }\n\n    OnOpen(isOpen: boolean) {\n        if (isOpen) {\n            const url = `PhauThuatThuThuat/GetListPtttBn?noiThucHienId=${this.currentUser.PhongBenhVienId}&yctnId=${this.yctnId}&IsTuongTrinhLai=${this.thongTinBenhNhan.IsTuongTrinhLai}`;\n            this.lstPtttCmb.url = url;\n            this.lstPtttCmb.data = null;\n            this.lstPtttCmb.queryInfo.Query = null;\n            return;\n        }\n        this.lstPtttCmb.url = '';\n    }\n\n    LoadDsPttt(url: string, isAllowOpenKetLuanPopup = true, isAllowBnNext = true, isNotLoadFirstItem = false) {\n        $('.wrapBtnLuu').parent().css('display', '');\n        $('.wrapBtnLuu').parent().css('justify-content', '');\n        $('app-pttt-sinh-ton').parent().parent().css('overflow', '');\n        $('.wrapBtnLuu').parent().css('flex-direction', '');\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n            this.apiService.get<boolean>(`PhauThuatThuThuat/IsExistDoubleKetLuanVaTheoDoi?yeuCauTiepNhanId=${this.yctnId}&phongBenhVienId=${this.currentUser.PhongBenhVienId}`).subscribe(result => {\n                this.isExistDoubleKetLuanVaTheoDoi = result;\n\n                this.apiService.get<boolean>(`PhauThuatThuThuat/CheckHasPhauThuat?noiThucHienId=${this.currentUser.PhongBenhVienId}&yctnId=${this.yctnId}&isExistTheoDoi=${ this.isExistDoubleKetLuanVaTheoDoi}`).subscribe(res => {\n                    this.isExistPhauThuat = res;\n\n                    this.apiService.post<Array<ComboboxPttt>>(url, this.queryInfo).subscribe(\n                        resultData => {\n                            if (resultData !== undefined && resultData != null) {\n                                this.ptttCombobox.lstPttt = [...resultData];\n                                this.deselectedTab();\n                                this.lstStatusSelectedTab.selectedTabEkip = true;\n        \n                                if (this.ptttCombobox != null && this.ptttCombobox.lstPttt.some(x => x)) {\n                                    this.getThongTinChiDinhDichVu(this.ptttCombobox.lstPttt[0].KeyId);\n\n                                    this.ptttCombobox.ptttId = this.ptttCombobox.lstPttt[0].KeyId;\n                                    this.IsDaTuongTrinh = this.ptttCombobox.lstPttt[0].IsDaTuongTrinh;\n                                    this.isTuongTrinhLai = this.ptttCombobox.lstPttt[0].TrangThaiYeuCauDichVuKyThuat == TrangThaiYeuCauDichVuKyThuat.DaThucHien\n\n                                    let displayCombobox = this.ptttCombobox.lstPttt[0].DisplayName;\n                                    let bacSiName = this.ptttCombobox.lstPttt[0].BacSi;\n        \n                                    if (isNotLoadFirstItem) {\n                                        this.ptttCombobox.ptttId = this.ptttCombobox.lstPttt.filter(x => x.KeyId === this.ycdvktId)[0] != null ?\n                                            this.ptttCombobox.lstPttt.filter(x => x.KeyId === this.ycdvktId)[0].KeyId : 0;\n                                        this.IsDaTuongTrinh = this.ptttCombobox.lstPttt.filter(x => x.KeyId === this.ycdvktId)[0] != null ?\n                                            this.ptttCombobox.lstPttt.filter(x => x.KeyId === this.ycdvktId)[0].IsDaTuongTrinh : false;\n                                        this.isTuongTrinhLai = this.ptttCombobox.lstPttt.filter(x => x.KeyId === this.ycdvktId)[0] != null ?\n                                            this.ptttCombobox.lstPttt.filter(x => x.KeyId === this.ycdvktId)[0].TrangThaiYeuCauDichVuKyThuat == TrangThaiYeuCauDichVuKyThuat.DaThucHien : false;\n                                        displayCombobox = this.ptttCombobox.lstPttt.filter(x => x.KeyId === this.ycdvktId)[0] != null ?\n                                            this.ptttCombobox.lstPttt.filter(x => x.KeyId === this.ycdvktId)[0].DisplayName : null;\n                                        bacSiName = this.ptttCombobox.lstPttt.filter(x => x.KeyId === this.ycdvktId)[0] != null ?\n                                            this.ptttCombobox.lstPttt.filter(x => x.KeyId === this.ycdvktId)[0].BacSi : null;\n                                    }\n        \n                                    this.ycdvktId = this.ptttCombobox.ptttId;\n                                    this.ptttCombobox.ptttDisplay = displayCombobox;\n                                    this.isDangPhauThuat = false;\n                                    if (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n                                        this.apiService.get<boolean>\n                                            (`PhauThuatThuThuat/LaPhauThuat?ycdvktId=${this.ycdvktId}`)\n                                            .subscribe(res => {\n                                                if (res === true) {\n                                                    if (bacSiName !== '') {\n                                                        this.isDangPhauThuat = true;\n                                                        this.ptChinh = bacSiName;\n                                                        if (this.tuongTrinh != null) {\n                                                            this.tuongTrinh.canChange = false;\n                                                            this.tuongTrinh.getKhoaPhong(this.currentUser.PhongBenhVienId, this.ycdvktId);\n                                                        }\n                                                        if (this.ptttSinhTon != null) {\n                                                            this.ptttSinhTon.ptttStonGrid.canChange = false;\n                                                            this.ptttSinhTon.ptttStonGrid.LoadChiSoSinhHieu(this.yctnId);\n                                                        }\n                                                    }\n                                                }\n                                                if (res === false) {\n                                                    this.apiService.get<boolean>\n                                                        (`PhauThuatThuThuat/ThuThuatCoBacSi?ycdvktId=${this.ycdvktId}`)\n                                                        .subscribe(result => {\n                                                            if (result === true) {\n                                                                this.isDangPhauThuat = true;\n                                                            }\n                                                        });\n                                                }\n                                                if (this.ekip != null) {\n                                                    this.ekip.LoadThongTinEkipCoBan(this.currentUser.PhongBenhVienId, this.ycdvktId);\n                                                    this.ekip.IsDaTuongTrinh = this.IsDaTuongTrinh;\n                                                    this.ekip.ekipGrid.validationMsg = null;\n                                                    this.ekip.ekipGrid.LoadEkip(this.ycdvktId);\n                                                    this.ekip.ekipGrid.IsDaTuongTrinh = this.IsDaTuongTrinh;\n                                                }\n                                            });\n                                    } else {\n                                        this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n                                    }\n                                }\n        \n                                if (!this.ptttCombobox.lstPttt.some(x => x)) {\n                                    this.isDangPhauThuat = false;\n                                    this.ptttCombobox.ptttId = null;\n                                    this.ptttCombobox.ptttDisplay = null;\n                                    this.chuyenBenhNhan.emit(isAllowBnNext);\n                                }\n        \n                                let willShowKl = false;\n        \n                                // if (this.ptttCombobox.lstPttt != null && this.ptttCombobox.lstPttt.some(x => x)\n                                //     && this.ptttCombobox.lstPttt.every(x => x.IsDaTuongTrinh)) {\n                                //     this.apiService.get<boolean>\n                                //         // tslint:disable-next-line: max-line-length\n                                //         (`PhauThuatThuThuat/CheckHasPhauThuat?noiThucHienId=${this.currentUser.PhongBenhVienId}&yctnId=${this.yctnId}`)\n                                //         // tslint:disable-next-line: deprecation\n                                //         .subscribe(result => {\n                                //             if (result === true) {\n                                //                 willShowKl = true;\n                                //                 this.showKetLuan.emit(willShowKl);\n                                //             } else {\n                                //                 this.chuyenGiaoKetLuanBenhNhan.emit(true);\n                                //             }\n                                //         });\n                                // }\n        \n                                // if (this.ptttCombobox.lstPttt != null && this.ptttCombobox.lstPttt.some(x => x.IsDaTuongTrinh)) {\n                                //     if (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n                                //         this.apiService.get<boolean>\n                                //             // tslint:disable-next-line: max-line-length\n                                //             (`PhauThuatThuThuat/IsExistDoubleKetLuanVaTheoDoi?yeuCauTiepNhanId=${this.yctnId}&phongBenhVienId=${this.currentUser.PhongBenhVienId}`)\n                                //             .subscribe(res => {\n                                //                 willShowKl = res;\n                                //                 this.showKetLuan.emit(willShowKl);\n                                //             });\n                                //     } else {\n                                //         this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n                                //     }\n                                // }\n\n                                if (this.ptttCombobox.lstPttt != null && this.ptttCombobox.lstPttt.some(x => x) && this.ptttCombobox.lstPttt.every(x => x.IsDaTuongTrinh)) {\n                                    if(this.isExistPhauThuat) {\n                                        willShowKl = true;\n                                        this.showKetLuan.emit(willShowKl);\n                                    } else {\n                                        if(this.ptttCombobox.lstPttt.every(p => p.TrangThaiYeuCauDichVuKyThuat != TrangThaiYeuCauDichVuKyThuat.DaThucHien))  {\n                                            this.chuyenGiaoKetLuanBenhNhan.emit(true);\n                                        }\n                                    }\n                                } else if (this.ptttCombobox.lstPttt != null && this.ptttCombobox.lstPttt.some(x => x.IsDaTuongTrinh)) {\n                                    willShowKl = this.isExistDoubleKetLuanVaTheoDoi;\n                                    this.showKetLuan.emit(willShowKl);\n                                }\n        \n                                if (this.IsNotFirstLoading && isAllowOpenKetLuanPopup && willShowKl) {\n                                    this.dialog.open(ConfirmComponent, {\n                                        disableClose: false,\n                                        width: '400px',\n                                        data: { Title: 'Xác nhận', Message: PtttMessage.MessageChuyenTabKetLuan }\n                                    }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n                                        if (result === 'Yes') {\n                                            this.navigateKetLuan.emit(true);\n                                        }\n                                    });\n                                }\n        \n                                const daTuongTrinh = this.ptttCombobox.lstPttt.filter(x => x.IsDaTuongTrinh).length;\n                                const tongTuongTrinh = this.ptttCombobox.lstPttt.length;\n                                const tuongTrinhTitle = 'tường trình (' + daTuongTrinh + '/' + tongTuongTrinh + ')';\n                                this.updateTuongTrinhTabHeader.emit(tuongTrinhTitle);\n                                this.IsNotFirstLoading = true;\n                            }\n                        },\n                        (err) => {\n                            this.notificationService.showError(err.Message);\n                        });\n                });\n            }, err => {\n                this.notificationService.showError(err.Message);\n            });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    onSaveEkip() {\n        const self = this;\n        self.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: PtttMessage.MessageConfirmSaveEkip }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result === 'Yes') {\n                self.ekip.Save();\n            }\n        });\n    }\n\n    onResetEkip() {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: PtttMessage.MessageConfirmResetEkip }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result === 'Yes') {\n                this.ekip.canChange = false;\n                this.ekip.ekipGrid.canChange = false;\n                this.ekip.LoadThongTinEkipCoBan(this.currentUser.PhongBenhVienId, this.ycdvktId);\n                this.ekip.IsDaTuongTrinh = this.IsDaTuongTrinh;\n                this.ekip.ekipGrid.validationMsg = null;\n                this.ekip.ekipGrid.LoadEkip(this.ycdvktId);\n                this.ekip.ekipGrid.IsDaTuongTrinh = this.IsDaTuongTrinh;\n                this.logicDisplay.IsDisplayReset = false;\n                this.logicDisplay.IsDisplaySave = false;\n            }\n        });\n    }\n\n    onSaveTuongTrinh() {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: PtttMessage.MessageConfirmSaveTuongTrinh }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result === 'Yes') {\n                this.tuongTrinh.Save();\n            }\n        });\n    }\n\n    onResetTuongTrinh() {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: PtttMessage.MessageConfirmResetTuongTrinh }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result === 'Yes') {\n                this.tuongTrinh.canChange = false;\n                this.tuongTrinh.getKhoaPhong(this.currentUser.PhongBenhVienId, this.ycdvktId);\n            }\n        });\n    }\n\n    SpecifyYcdvkt(eventData: ComboboxPttt) {\n        if (eventData != undefined && eventData != null) {\n\n            this.getThongTinChiDinhDichVu(eventData.KeyId);\n\n            $('.wrapBtnLuu').parent().css('display', '');\n            $('.wrapBtnLuu').parent().css('justify-content', '');\n            $('app-pttt-sinh-ton').parent().parent().css('overflow', '');\n            $('.wrapBtnLuu').parent().css('flex-direction', '');\n            this.ptChinh = null;\n            this.isDangPhauThuat = false;\n            this.ycdvktId = eventData != null ? eventData.KeyId : -1;\n            this.IsDaTuongTrinh = eventData != null ? eventData.IsDaTuongTrinh : false;\n            this.isTuongTrinhLai = eventData.TrangThaiYeuCauDichVuKyThuat == TrangThaiYeuCauDichVuKyThuat.DaThucHien\n            this.logicDisplay.IsDisplayReset = false;\n            this.logicDisplay.IsDisplaySave = false;\n            this.logicDisplayTt.IsDisplayReset = false;\n            this.logicDisplayTt.IsDisplaySave = false;\n            this.logicDisplayCsst.IsDisplayReset = false;\n            this.logicDisplayCsst.IsDisplaySave = false;\n            if (this.ekip != null) {\n                this.ekip.LoadThongTinEkipCoBan(this.currentUser.PhongBenhVienId, this.ycdvktId);\n                this.ekip.IsDaTuongTrinh = this.IsDaTuongTrinh;\n                this.ekip.ekipGrid.validationMsg = null;\n                this.ekip.ekipGrid.LoadEkip(this.ycdvktId);\n                this.ekip.ekipGrid.IsDaTuongTrinh = this.IsDaTuongTrinh;\n            }\n            if (this.tuongTrinh != null) {\n                this.tuongTrinh.getKhoaPhong(this.currentUser.PhongBenhVienId, this.ycdvktId);\n            }\n\n            if (this.ptttSinhTon != null) {\n                this.ptttSinhTon.ptttStonGrid.LoadChiSoSinhHieu(this.yctnId);\n            }\n            this.deselectedTab();\n            this.lstStatusSelectedTab.selectedTabEkip = true;\n\n            if (eventData != null && eventData.BacSi != null && eventData.BacSi !== '') {\n                this.isDangPhauThuat = true;\n                this.ptChinh = eventData.BacSi;\n            }\n            this.apiService.get<boolean>\n                (`PhauThuatThuThuat/LaPhauThuat?ycdvktId=${this.ycdvktId}`)\n                // tslint:disable-next-line: deprecation\n                .subscribe(res => {\n                    if (res === false) {\n                        this.apiService.get<boolean>\n                            (`PhauThuatThuThuat/ThuThuatCoBacSi?ycdvktId=${this.ycdvktId}`)\n                            // tslint:disable-next-line: deprecation\n                            .subscribe(result => {\n                                if (result === true) {\n                                    this.isDangPhauThuat = true;\n                                }\n                            });\n                    }\n                });\n        } else {\n            this.thongTinChiDinhDichVu = new ThongTinChiDinhDichVu();\n        }\n    }\n\n    onTabSelect(eventData: any) {\n        if (eventData.index === 3) {\n            $('.wrapBtnLuu').parent().css('display', 'flex');\n            $('.wrapBtnLuu').parent().css('justify-content', 'space-between');\n            $('.wrapBtnLuu').parent().css('flex-direction', 'column');\n            $('app-pttt-sinh-ton').parent().parent().css('overflow', 'auto');\n        } else {\n            $('.wrapBtnLuu').parent().css('display', '');\n            $('.wrapBtnLuu').parent().css('justify-content', '');\n            $('app-pttt-sinh-ton').parent().parent().css('overflow', '');\n            $('.wrapBtnLuu').parent().css('flex-direction', '');\n        }\n\n        if (eventData.index === 0) {\n            this.deselectedTab();\n            this.lstStatusSelectedTab.selectedTabEkip = true;\n        }\n        if (eventData.index === 1) {\n            this.deselectedTab();\n            this.lstStatusSelectedTab.selectedTabTuongTrinh = true;\n\n            this.tuongTrinh.setThoiGianBatDauPhauThuat();\n        }\n        if (eventData.index === 2) {\n            this.deselectedTab();\n            this.lstStatusSelectedTab.selectedTabVtThuoc = true;\n        }\n        if (eventData.index === 3) {\n            this.deselectedTab();\n            this.lstStatusSelectedTab.selectedTabCsst = true;\n        }\n    }\n\n    AfterSavingEkip(bsChinh: string) {\n        this.isDangPhauThuat = true;\n        this.ptChinh = bsChinh;\n        const url =\n            `PhauThuatThuThuat/GetListPtttBn?noiThucHienId=${this.currentUser.PhongBenhVienId}&yctnId=${this.ekip.yctnId}&IsTuongTrinhLai=${this.thongTinBenhNhan.IsTuongTrinhLai}`;\n        this.logicDisplay.IsDisplayReset = false;\n        this.logicDisplay.IsDisplaySave = false;\n        if (this.ekip.ekip.IsPhauThuat) {\n            this.LoadDsPttt(url, false, true, true);\n        }\n        this.GetDvKhongThucHien();\n    }\n\n    OnDisplaySaveCancelEkip(isDisplay: boolean) {\n        this.logicDisplay.IsDisplayReset = isDisplay;\n        this.logicDisplay.IsDisplaySave = isDisplay;\n    }\n\n    OnDisplayBtnForTuongTrinh(isDisplay: boolean) {\n        this.logicDisplayTt.IsDisplayReset = isDisplay;\n        this.logicDisplayTt.IsDisplaySave = isDisplay;\n    }\n\n    OnDisplayBtnForSinhTon(isDisplay: boolean) {\n        this.logicDisplayCsst.IsDisplayReset = isDisplay;\n        this.logicDisplayCsst.IsDisplaySave = isDisplay;\n    }\n\n    SaveSinhTon() {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: PtttMessage.MessageConfirmSaveCsst }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result === 'Yes') {\n                this.ptttSinhTon.ptttStonGrid.Luu();\n            }\n        });\n    }\n\n    ResetSinhTon() {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: PtttMessage.MessageConfirmResetCsst }\n        }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n            if (result === 'Yes') {\n                this.ptttSinhTon.ptttStonGrid.canChange = false;\n                this.ptttSinhTon.ptttStonGrid.LoadChiSoSinhHieu(this.yctnId);\n            }\n        });\n    }\n\n    @HostListener('document:keydown', ['$event'])\n    keyEvent(event: KeyboardEvent) {\n        const self = this;\n        // tslint:disable-next-line: deprecation\n        if (event.ctrlKey && event.keyCode === 83) {\n            // kiểm tra lưu // ctr + s\n            event.preventDefault();\n            if (self.lstStatusSelectedTab.selectedTabEkip && self.logicDisplay.IsDisplaySave) {\n                self.dialog.closeAll();\n                self.onSaveEkip();\n            }\n            if (self.lstStatusSelectedTab.selectedTabTuongTrinh && self.logicDisplayTt.IsDisplaySave) {\n                self.dialog.closeAll();\n                self.onSaveTuongTrinh();\n            }\n            if (self.lstStatusSelectedTab.selectedTabCsst && self.logicDisplayCsst.IsDisplaySave) {\n                self.dialog.closeAll();\n                self.SaveSinhTon();\n            }\n        }\n\n        // tslint:disable-next-line: deprecation\n        if (event.keyCode === 27) {\n            event.preventDefault();\n            if (self.lstStatusSelectedTab.selectedTabEkip && self.logicDisplay.IsDisplayReset) {\n                self.dialog.closeAll();\n                self.onResetEkip();\n            }\n            if (self.lstStatusSelectedTab.selectedTabTuongTrinh && self.logicDisplayTt.IsDisplayReset) {\n                self.dialog.closeAll();\n                self.onResetTuongTrinh();\n            }\n            if (self.lstStatusSelectedTab.selectedTabCsst && self.logicDisplayCsst.IsDisplayReset) {\n                self.dialog.closeAll();\n                self.ResetSinhTon();\n            }\n        }\n    }\n\n    SoDuTaiKhoanChanged(evt) {\n        this.outputSoDuTaiKhoanChanged.emit(evt);\n    }\n\n    SoDuTaiKhoanConLaiChanged(evt) {\n        this.outputSoDuTaiKhoanConLaiChanged.emit(evt);\n    }\n\n    getThongTinChiDinhDichVu(yeuCauDichVuKyThuatId) {\n        this.apiService.get<any>(`PhauThuatThuThuat/GetThongTinChiDinhDichVu?yeuCauDichVuKyThuatId=${yeuCauDichVuKyThuatId}`).subscribe(res => {\n            if (res) {\n                this.thongTinChiDinhDichVu = res;\n                this.outputDichVuKhongCanTuongTrinhChanged.emit(res.IsDichVuKhongCanTuongTrinh);\n            }\n        }, err => {\n            this.notificationService.showError(err.Message);\n        });\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmgvcHR0dC1kcC12dC10dS1nb2ktcG9wdXAvcHR0dC1kcC12dC10dS1nb2ktcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { ChiDinhGhiNhanVatTuThuocPTTTTuGoiDVKT, ChiDinhGhiNhanVatTuThuocPTTTTuGoiDVKTChiTiet, GhiNhanGoiDuocPhamVatTuPTTTVo } from '../../../phau-thuat-thu-thuat.model';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n@Component({\n    selector: 'app-pttt-dp-vt-tu-goi-popup',\n    templateUrl: './pttt-dp-vt-tu-goi-popup.component.html',\n    styleUrls: ['./pttt-dp-vt-tu-goi-popup.component.scss']\n})\n\nexport class PtttDpVtTuGoiPopupComponent implements OnInit {\n    icClose = icClose;\n    documentType: DocumentType = DocumentType.PhauThuatThuThuatTheoNgay;\n    additionalSearchString: string = '';\n    ghiNhanGoiDuocPhamVatTuPTTTVo: GhiNhanGoiDuocPhamVatTuPTTTVo = new GhiNhanGoiDuocPhamVatTuPTTTVo();\n    urlGetDataGoiDuocPhamVatTuTrongDichVu: string = 'PhauThuatThuThuat/GetGridDataGoiDuocPhamVatTuTrongDichVu';\n    urlGetTotalPagesGoiDuocPhamVatTuTrongDichVu: string = 'PhauThuatThuThuat/GetTotalPagesGoiDuocPhamVatTuTrongDichVu';\n    gridColumns: any[] = [];\n    checkAll: boolean = null;\n    chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKT: ChiDinhGhiNhanVatTuThuocPTTTTuGoiDVKT = new ChiDinhGhiNhanVatTuThuocPTTTTuGoiDVKT();\n    validationErrors: any;\n\n    @ViewChild('gridGoiDPVT', { static: true }) gridGoiDPVT: GridComponent;\n    @ViewChild('checkBoxHeaderTemplate', { read: TemplateRef, static: true }) checkBoxHeaderTemplate: TemplateRef<any>;\n    @ViewChild('checkBoxTemplate', { read: TemplateRef, static: true }) checkBoxTemplate: TemplateRef<any>;\n    @ViewChild('checkBoxKhongTinhPhiTemplate', { static: true }) checkBoxKhongTinhPhiTemplate: TemplateRef<any>;\n    @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n    @ViewChild('slTemplate', { static: true }) slTemplate: TemplateRef<any>;\n    @ViewChild('slTonTemplate', { static: true }) slTonTemplate: TemplateRef<any>;\n\n    groups: GroupDescriptor[] = [{ field: 'Nhom' }];\n\n    constructor(@Inject(MAT_DIALOG_DATA) public data: any,\n        private dialog: MatDialog,\n        private apiService: ApiService,\n        private authService: AuthService,\n        private notificationService: NotificationService,\n        public dialogRef: MatDialogRef<PtttDpVtTuGoiPopupComponent>\n\n    ) {\n        this.ghiNhanGoiDuocPhamVatTuPTTTVo.YeuCauDichVuKyThuatId = data.YeuCauDichVuKyThuatId;\n        this.chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKT.YeuCauTiepNhanId = data.YeuCauTiepNhanId;\n    }\n\n    ngOnInit() {\n        this.gridColumns = [\n            { Field: \"CheckBox\", Title: \"\", Width: 30, Sortable: false, Template: this.checkBoxTemplate, TemplateHeader: this.checkBoxHeaderTemplate },\n            { Field: \"Nhom\", Title: \"Nhóm\", Width: 50, Sortable: true, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            { Field: \"KhoDisplay\", Title: \"Kho sử dụng\", Width: 100, Sortable: false, ShowTooltip: true },\n            { Field: \"Ten\", Title: \"Tên DP/VT\", Width: 100, Sortable: false, ShowTooltip: true },\n            { Field: \"DonViTinh\", Title: \"ĐVT\", Width: 30, Sortable: false },\n            { Field: \"SoLuongTon\", Title: \"SL tồn\", Width: 40, Sortable: false, Template: this.slTonTemplate },\n            { Field: \"SoLuongKe\", Title: \"SL kê\", Width: 40, Sortable: false, Template: this.slTemplate },\n            { Field: \"KhongTinhPhi\", Title: \"Tính phí\", Width: 60, Sortable: false, Template: this.checkBoxKhongTinhPhiTemplate }\n        ]\n\n        this.setAdditionalSearchString();\n    }\n\n    setAdditionalSearchString() {\n        this.additionalSearchString = JSON.stringify(this.ghiNhanGoiDuocPhamVatTuPTTTVo);\n    }\n\n    close() {\n        this.dialog.closeAll();\n    }\n\n    chonDuocPhamVatTu(dataItem: any, event: any) {\n        dataItem.CheckBox = event;\n        let lstDataCurrent = this.gridGoiDPVT.getAllDataFromDatasource();\n        if (lstDataCurrent.every(z => z.CheckBox)) {\n            this.checkAll = true;\n        } else {\n            this.checkAll = false;\n        }\n    }\n\n    chonTatCa(event: any) {\n        let lstDataCurrent = this.gridGoiDPVT.getAllDataFromDatasource();\n        this.checkAll = event;\n        lstDataCurrent.forEach(element => {\n            element.CheckBox = event;\n        });\n    }\n\n    changeKhoSuDung() {\n        this.setAdditionalSearchString();\n        this.gridGoiDPVT._additionalSearchString = this.additionalSearchString;\n        this.gridGoiDPVT.search();\n    }\n\n    popupAddingData: any = null;\n    addingPage() {\n        this.popupAddingData = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: \"200px\",\n            height: \"90px\",\n            data: { Title: \"Đang thêm dữ liệu...\" },\n        });\n    }\n\n    closePopupAddingData() {\n        if (this.popupAddingData != undefined && this.popupAddingData != null) {\n            this.popupAddingData.close();\n        }\n    }\n\n    themGoiDuocPhamVatTu() {\n        let lstDataCurrent = this.gridGoiDPVT.getAllDataFromDatasource().filter(z => z.CheckBox && z.SoLuongTon >= z.SoLuongKe);\n        if (lstDataCurrent.length > 0) {\n            this.chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKT.ChiDinhGhiNhanVatTuThuocPTTTChiTiets = [];\n            lstDataCurrent.forEach(dataItem => {\n                let chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKTChiTiet = new ChiDinhGhiNhanVatTuThuocPTTTTuGoiDVKTChiTiet();\n                chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKTChiTiet.YeuCauTiepNhanId = this.data.YeuCauTiepNhanId;\n                chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKTChiTiet.YeuCauDichVuKyThuatId = this.data.YeuCauDichVuKyThuatId;\n                chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKTChiTiet.Id = dataItem.Id;\n                chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKTChiTiet.DichVuGhiNhanId = dataItem.DichVuGhiNhanId;\n                chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKTChiTiet.KhoId = dataItem.KhoId;\n                chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKTChiTiet.SoLuong = dataItem.SoLuongKe;\n                chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKTChiTiet.KhongTinhPhi = dataItem.KhongTinhPhi == true;\n                chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKTChiTiet.LaDuocPhamBHYT = dataItem.LaDuocPhamVatTuBHYT;\n                this.chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKT.ChiDinhGhiNhanVatTuThuocPTTTChiTiets.push(chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKTChiTiet);\n            });\n            // console.log(\"chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKT: \", this.chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKT)\n            if (this.authService.hasPermission(this.documentType, SecurityOperation.Add)) {\n                this.addingPage();\n                this.apiService.post<any>(\"PhauThuatThuThuat/ThemGhiNhanThuocVatTus\", this.chiDinhGhiNhanVatTuThuocPTTTTuGoiDVKT).subscribe(\n                    (res) => {\n                        this.closePopupAddingData();\n                        let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm\"]);\n                        this.notificationService.showSuccess(mess);\n                        this.dialogRef.close(res);\n                    },\n                    (err: ApiError) => {\n                        this.validationErrors = err.ValidationErrors;\n                        if (err.Message != \"Validation Failed\") {\n                            this.notificationService.showError(err.Message);\n                        }\n                        this.closePopupAddingData();\n                    });\n            } else {\n                this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n            }\n\n        } else {\n            this.notificationService.showError(\"Vui lòng chọn ít nhất 1 dược phẩm/ vật tư khi thêm.\");\n        }\n    }\n}\n","export default \".po-h {\\n  color: #005dab;\\n  position: relative;\\n  top: 5px;\\n  left: 5px;\\n}\\n\\n.po-h mat-icon {\\n  display: contents;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC9wdHR0LWVraXAtdGh1Yy1oaWVuL3B0dHQtZWtpcC10aHVjLWhpZW4tbnYvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxwaGF1LXRodWF0LXRodS10aHVhdFxccGhhdS10aHVhdC10aHUtdGh1YXQtdGhlby1uZ2F5XFxwaGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaFxccHR0dC1la2lwLXRodWMtaGllblxccHR0dC1la2lwLXRodWMtaGllbi1udlxccHR0dC1la2lwLXRodWMtaGllbi1udi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC9wdHR0LWVraXAtdGh1Yy1oaWVuL3B0dHQtZWtpcC10aHVjLWhpZW4tbnYvcHR0dC1la2lwLXRodWMtaGllbi1udi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC9wdHR0LWVraXAtdGh1Yy1oaWVuL3B0dHQtZWtpcC10aHVjLWhpZW4tbnYvcHR0dC1la2lwLXRodWMtaGllbi1udi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wby1oIHtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA1cHg7XG4gIGxlZnQ6IDVweDtcbn1cblxuLnBvLWggbWF0LWljb24ge1xuICBkaXNwbGF5OiBjb250ZW50cztcbn0iLCIucG8taCB7XG4gIGNvbG9yOiAjMDA1ZGFiO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogNXB4O1xuICBsZWZ0OiA1cHg7XG59XG5cbi5wby1oIG1hdC1pY29uIHtcbiAgZGlzcGxheTogY29udGVudHM7XG59Il19 */\"","import { Component, OnInit, TemplateRef, ViewChild, Input, EventEmitter, Output } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icAdd from '@iconify/icons-ic/twotone-add';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icSave from '@iconify/icons-ic/outline-save';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { MatDialog } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { SystemMessage, PtttMessage } from 'src/app/shared/configdata/system-message';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { EnumNhomChucDanh } from 'src/app/shared/enum/nhom-chuc-danh-enum';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { Ekip, EkipDataSource } from '../../../../phau-thuat-thu-thuat.model';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { BroadcastService } from 'src/app/core/services/broadcast.service';\nimport { LookupQueryInfo } from 'src/app/shared/models/common.model';\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-pttt-ekip-thuc-hien-nv',\n    templateUrl: './pttt-ekip-thuc-hien-nv.component.html',\n    styleUrls: ['./pttt-ekip-thuc-hien-nv.component.scss']\n})\nexport class PhauThuatThuThuatEkipThucHienNvComponent implements OnInit {\n    icAdd = icAdd;\n    icDelete = icDelete;\n    icAddCircle = icAddCircle;\n    icEdit = icEdit;\n    icSave = icSave;\n    isAllowAdd = true;\n    isLoadingNhomChucDanh = false;\n    isLoadingBacSiDieuDuong = false;\n    isLoadingVaiTro = false;\n    urlVaiTro: string;\n    url = 'PhauThuatThuThuat/GetListBacSiDieuDuong?nhomChucDanh=';\n    queryInfo: LookupQueryInfo = new LookupQueryInfo();\n    gridNhanVienColumns: any[] = [];\n    validationMsg = null;\n    @Input() ycdvktId;\n    dataSourceNhanVien: EkipDataSource = {\n        data: [],\n        total: 0\n    };\n    canChange = false;\n    validationErrors: any;\n    documentType: DocumentType;\n    @Input() IsPhauThuat = false;\n    @Input() IsDaTuongTrinh = false;\n    @Input() dataBenhNhan: any = null;\n    @ViewChild('chucDanhTemplate', { static: true }) chucDanhTemplate: TemplateRef<any>;\n    @ViewChild('hoTenTemplate', { static: true }) hoTenTemplate: TemplateRef<any>;\n    @ViewChild('vaiTroTemplate', { static: true }) vaiTroTemplate: TemplateRef<any>;\n    @ViewChild('actionNhanVienTemplate', { static: true }) actionNhanVienTemplate: TemplateRef<any>;\n    @ViewChild('gridForEkips', { static: false }) gridForEkips: GridComponent;\n    @Output() outDisplaySaveCancel: EventEmitter<any> = new EventEmitter<any>();\n\n    constructor(\n        private authService: AuthService,\n        private dialog: MatDialog,\n        private notificationService: NotificationService,\n        private apiService: ApiService,\n        private broadcastService: BroadcastService\n    ) { }\n\n    ngOnInit() {\n        const self = this;\n        self.canChange = false;\n        self.documentType = DocumentType.PhauThuatThuThuatTheoNgay;\n        self.gridNhanVienColumns = [\n            { Field: 'NhomChucDanh', Title: 'Chức danh', Width: 150, Template: self.chucDanhTemplate },\n            { Field: 'BacSi', Title: 'Họ tên', Width: 200, Template: self.hoTenTemplate },\n            { Field: 'VaiTro', Title: 'Vai trò', Width: 200, Template: self.vaiTroTemplate },\n            { Field: '_', Title: '', Width: 50, Template: self.actionNhanVienTemplate }\n        ];\n        self.LoadEkip(self.ycdvktId);\n    }\n\n    themNguoiThucHien(isFirstLoading = false) {\n        const self = this;\n        self.validationMsg = null;\n\n        if(isFirstLoading) {\n            for(let i = 1; i <= 3; i++) {\n                const ekip = new Ekip();\n\n                ekip.IdDb = 0;\n                ekip.Id = i;\n        \n                self.dataSourceNhanVien.data.push(ekip);\n                self.dataSourceNhanVien.total += 1;\n            }\n        } else {\n            const ekip = new Ekip();\n    \n            if (!isFirstLoading) {\n                self.changeData();\n            }\n    \n            ekip.IdDb = 0;\n            ekip.Id = 1;\n    \n            if (self.dataSourceNhanVien != null) {\n                let lastEkip = null;\n                lastEkip = self.dataSourceNhanVien.data[self.dataSourceNhanVien.data.length - 1];\n                ekip.Id = lastEkip != null ? lastEkip.Id + 1 : ekip.Id;\n            }\n    \n            self.dataSourceNhanVien.data.push(ekip);\n            self.dataSourceNhanVien.total += 1;\n        }\n    }\n\n    ValidateEkipsClient(ekips: Ekip[]) {\n        const self = this;\n        self.validationErrors = [];\n        ekips.filter(x => x.NhomChucDanh == null).forEach((ele) => {\n            const err = {\n                Field: 'Ekips[' + ekips.indexOf(ele) + '].NhomChucDanh',\n                Message: PtttMessage.MessageChucDanhNotAllowNull\n            };\n            self.validationErrors.push(err);\n        });\n\n        ekips.filter(x => x.BacSiId == null).forEach((ele) => {\n            const err = {\n                Field: 'Ekips[' + ekips.indexOf(ele) + '].BacSiId',\n                Message: PtttMessage.MessageHoTenNotAllowNull\n            };\n            self.validationErrors.push(err);\n        });\n\n        if(this.IsPhauThuat) {\n            ekips.filter(x => x.VaiTroId == null).forEach((ele) => {\n                const err = {\n                    Field: 'Ekips[' + ekips.indexOf(ele) + '].VaiTroId',\n                    Message: PtttMessage.MessageVaiTroNotAllowNull\n                };\n                self.validationErrors.push(err);\n            });\n        }\n    }\n\n    ValidateTrungBacSi(ekips: Ekip[]) {\n        this.validationErrors = [];\n        const nhomBacSiTrung = ekips.filter(x => x.NhomChucDanh === EnumNhomChucDanh.BacSi)\n            .map(w => w.BacSiId)\n            .filter((value, index, self) => {\n                return self.indexOf(value) !== index;\n            });\n        const nhomDieuDuongTrung = ekips.filter(x => x.NhomChucDanh === EnumNhomChucDanh.DieuDuong)\n            .map(w => w.BacSiId)\n            .filter((value, index, self) => {\n                return self.indexOf(value) !== index;\n            });\n        nhomBacSiTrung.forEach(w => {\n            const err = {\n                Field: 'Ekips[' + ekips.map(q => q.BacSiId).indexOf(w) + '].BacSiId',\n                Message: PtttMessage.MessageSameBacSiNotAllow\n            };\n            this.validationErrors.push(err);\n        });\n        nhomDieuDuongTrung.forEach(w => {\n            const err = {\n                Field: 'Ekips[' + ekips.map(q => q.BacSiId).indexOf(w) + '].BacSiId',\n                Message: PtttMessage.MessageSameDieuDuongNotAllow\n            };\n            this.validationErrors.push(err);\n        });\n    }\n\n    LoadEkip(ycdvkt: number = -1) {\n        const self = this;\n        if (self.validationErrors != null && self.validationErrors.some(x => x)) {\n            self.validationErrors = [];\n        }\n        if (ycdvkt === -1) {\n            self.dataSourceNhanVien.data = [];\n            self.dataSourceNhanVien.total = 0;\n            return;\n        }\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.Process)) {\n            self.apiService.get<any>(`PhauThuatThuThuat/LoadEkip?ycdvktId=${ycdvkt}`)\n                .subscribe(resultData => {\n                    self.canChange = true;\n                    if (resultData.Data.length !== 0) {\n                        self.dataSourceNhanVien.data = resultData.Data;\n                        self.dataSourceNhanVien.data.forEach(elementEkip => {\n                            elementEkip.VaiTroId = elementEkip.VaiTroBacSi != null ? elementEkip.VaiTroBacSi : elementEkip.VaiTroDieuDuong;\n                            elementEkip.VaiTro = elementEkip.VaiTroBacSi != null ?\n                                elementEkip.VaiTroBacSiDisplay : elementEkip.VaiTroDieuDuongDisplay;\n                            elementEkip.UrlVaiTro = elementEkip.NhomChucDanh === EnumNhomChucDanh.BacSi ?\n                                PtttMessage.UrlVaiTroBsi : PtttMessage.UrlVaiTroDd;\n                        });\n                        self.dataSourceNhanVien.total = resultData.TotalRowCount;\n                    }\n\n                    if (resultData.Data.length === 0) {\n                        self.dataSourceNhanVien.data = resultData.Data;\n                        self.dataSourceNhanVien.total = resultData.TotalRowCount;\n                        if (self.gridForEkips != null) {\n                            self.gridForEkips.setDataSource();\n                        }\n                        self.themNguoiThucHien(true);\n                    }\n                }, (err: any) => {\n                    self.notificationService.showError(err.Message);\n                });\n        } else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    chonNhomChucDanh(event: { DisplayName: string; KeyId: EnumNhomChucDanh; }, item: Ekip) {\n        this.changeData();\n        this.validationMsg = null;\n        if (event) {\n            item.NhomChucDanhDisplay = event.DisplayName;\n            item.UrlVaiTro = event.KeyId === EnumNhomChucDanh.BacSi ?\n                PtttMessage.UrlVaiTroBsi : PtttMessage.UrlVaiTroDd;\n            item.BacSi = null;\n            item.BacSiId = null;\n            item.NhomChucDanh = event.KeyId;\n            item.VaiTro = null;\n            item.VaiTroId = null;\n        } else {\n            item.NhomChucDanhDisplay = null;\n            item.BacSi = null;\n            item.BacSiId = null;\n            item.NhomChucDanh = null;\n            item.VaiTro = null;\n            item.VaiTroId = null;\n        }\n        item.VaiTroBacSi = null;\n        item.VaiTroDieuDuong = null;\n    }\n\n    chonBacSiDieuDuong(event: { DisplayName: string; KeyId: number; }, item: Ekip) {\n        this.changeData();\n        this.validationMsg = null;\n        if (event) {\n            item.BacSi = event.DisplayName;\n            item.BacSiId = event.KeyId;\n        } else {\n            item.BacSi = null;\n            item.BacSiId = null;\n        }\n    }\n\n    chonVaiTro(event: { DisplayName: string; KeyId: number; }, item: Ekip) {\n        this.changeData();\n        this.validationMsg = null;\n        if (event) {\n            if (item.NhomChucDanh === EnumNhomChucDanh.BacSi) {\n                item.VaiTroBacSi = event.KeyId;\n                item.VaiTro = event.DisplayName;\n                return;\n            }\n            item.VaiTroDieuDuong = event.KeyId;\n            item.VaiTro = event.DisplayName;\n        } else {\n            item.VaiTroId = null;\n            item.VaiTro = null;\n            item.VaiTroBacSi = null;\n            item.VaiTroDieuDuong = null;\n        }\n    }\n\n    closeAllDialog() {\n        if (!this.isLoadingNhomChucDanh && !this.isLoadingBacSiDieuDuong && !this.isLoadingVaiTro) {\n            this.dialog.closeAll();\n        }\n    }\n\n    changeData() {\n        this.outDisplaySaveCancel.emit(true);\n    }\n\n    xoaNhanVien(item) {\n        this.validationMsg = null;\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: CommonService.format(SystemMessage.MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {\n            if (result === 'Yes') {\n                this.dataSourceNhanVien.data.splice(this.dataSourceNhanVien.data.findIndex(x => x === item), 1);\n                this.validationErrors = [];\n                this.changeData();\n            }\n        });\n    }\n}\n","export default \".color-blue {\\n  color: #005dab;\\n}\\n\\n.div-no-padding {\\n  padding: 0 !important;\\n}\\n\\n.input-padding {\\n  padding: 0px 16px 16px 0px;\\n}\\n\\n.full-width-row {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC9wdHR0LWVraXAtdGh1Yy1oaWVuL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxccGhhdS10aHVhdC10aHUtdGh1YXRcXHBoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheVxccGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmhcXHB0dHQtZWtpcC10aHVjLWhpZW5cXHB0dHQtZWtpcC10aHVjLWhpZW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmgvcHR0dC1la2lwLXRodWMtaGllbi9wdHR0LWVraXAtdGh1Yy1oaWVuLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UscUJBQUE7QUNDRjs7QURFQTtFQUNFLDBCQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vcGhhdS10aHVhdC10aHUtdGh1YXQvcGhhdS10aHVhdC10aHUtdGh1YXQtdGhlby1uZ2F5L3BoYXUtdGh1YXQtdGh1LXRodWF0LXR1b25nLXRyaW5oL3B0dHQtZWtpcC10aHVjLWhpZW4vcHR0dC1la2lwLXRodWMtaGllbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb2xvci1ibHVlIHtcbiAgY29sb3I6ICMwMDVkYWI7XG59XG5cbi5kaXYtbm8tcGFkZGluZyB7XG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbn1cblxuLmlucHV0LXBhZGRpbmcge1xuICBwYWRkaW5nOiAwcHggMTZweCAxNnB4IDBweDtcbn1cblxuLmZ1bGwtd2lkdGgtcm93IHtcbiAgd2lkdGg6IDEwMCU7XG59IiwiLmNvbG9yLWJsdWUge1xuICBjb2xvcjogIzAwNWRhYjtcbn1cblxuLmRpdi1uby1wYWRkaW5nIHtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xufVxuXG4uaW5wdXQtcGFkZGluZyB7XG4gIHBhZGRpbmc6IDBweCAxNnB4IDE2cHggMHB4O1xufVxuXG4uZnVsbC13aWR0aC1yb3cge1xuICB3aWR0aDogMTAwJTtcbn0iXX0= */\"","import { Component, OnInit, Input, ViewEncapsulation, ViewChild, SimpleChanges, OnChanges, EventEmitter, Output } from '@angular/core';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { EkipForm } from '../../../phau-thuat-thu-thuat.model';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\nimport icRemoveCircle from '@iconify/icons-ic/remove-circle';\nimport { PhauThuatThuThuatEkipThucHienNvComponent } from './pttt-ekip-thuc-hien-nv/pttt-ekip-thuc-hien-nv.component';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { SystemMessage, PtttMessage } from 'src/app/shared/configdata/system-message';\nimport { MatDialog } from '@angular/material';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { BroadcastService } from 'src/app/core/services/broadcast.service';\nimport { EnumVaiTroBacSi, EnumVaiTroDieuDuong } from 'src/app/shared/enum/phau-thuat-thu-thuat.enum';\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-pttt-ekip-thuc-hien',\n    templateUrl: './pttt-ekip-thuc-hien.component.html',\n    styleUrls: ['./pttt-ekip-thuc-hien.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\n\nexport class PhauThuatThuThuatEkipThucHienComponent implements OnInit, OnChanges {\n    @Input() ycdvktId = 0;\n    phongBenhVienId;\n    yctnId;\n    ekip = {} as EkipForm;\n\n    popup: any;\n    icAddCircle = icAddCircle;\n    icRemoveCircle = icRemoveCircle;\n    documentType: DocumentType;\n    validationErrors: any;\n    canChange = false;\n    @Input() IsDaTuongTrinh = false;\n\n    @Input() thongTinBenhNhan: any = null;\n    @ViewChild('ekipGrid', { static: false }) ekipGrid: PhauThuatThuThuatEkipThucHienNvComponent;\n    @Output() afterSavingEkip: EventEmitter<any> = new EventEmitter<any>();\n    @Output() displaySaveCcl: EventEmitter<any> = new EventEmitter<any>();\n\n    constructor(\n        private apiService: ApiService,\n        private notificationService: NotificationService,\n        private dialog: MatDialog,\n        private authService: AuthService,\n        private broadcastService: BroadcastService\n    ) { }\n\n    ngOnInit() {\n        // const self = this;\n        // self.canChange = false;\n        // self.documentType = DocumentType.PhauThuatThuThuatTheoNgay;\n        // self.phongBenhVienId = self.authService.getPhongLamViecId();\n        // self.yctnId = self.thongTinBenhNhan.YeuCauTiepNhanId;\n        // self.LoadThongTinEkipCoBan(self.phongBenhVienId, self.ycdvktId);\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (changes.thongTinBenhNhan && changes.thongTinBenhNhan.currentValue) {\n            const self = this;\n            self.canChange = false;\n            self.documentType = DocumentType.PhauThuatThuThuatTheoNgay;\n            self.phongBenhVienId = self.authService.getPhongLamViecId();\n            self.yctnId = self.thongTinBenhNhan.YeuCauTiepNhanId;\n            self.LoadThongTinEkipCoBan(self.phongBenhVienId, self.ycdvktId);\n        }\n    }\n\n    LoadThongTinEkipCoBan(phongBenhVienId: any = 0, ycdvktId: number = -1) {\n        const self = this;\n\n        if (self.validationErrors != null && self.validationErrors.some(x => x)) {\n            self.validationErrors = [];\n        }\n\n        self.ycdvktId = ycdvktId;\n        // tslint:disable-next-line: triple-equals\n        if (phongBenhVienId == 0 && ycdvktId === -1) {\n            self.ekip = null;\n            return;\n        }\n\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n            self.apiService.get<any>(\n                `PhauThuatThuThuat/GetThongTinKhoa?phongBenhVienId=${phongBenhVienId}&&ycdvktId=${ycdvktId}`\n            ).subscribe((res) => {\n                if (res) {\n                    self.canChange = true;\n                    self.ekip = { ...res };\n                }\n            });\n        } else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    OnChange() {\n        this.displaySaveCcl.emit(true);\n    }\n\n    saveDataLoading() {\n        this.popup = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: 'Đang lưu dữ liệu...' }\n        });\n    }\n\n    closePopupLoadingData() {\n        this.popup.close();\n    }\n\n    Save() {\n        this.ekipGrid.validationMsg = null;\n        this.saveDataLoading();\n        this.ekip.Ekips = this.ekipGrid.dataSourceNhanVien.data;\n        this.ekip.YcdvktId = this.ycdvktId;\n        this.ekip.YctnId = this.yctnId;\n        this.ekip.NoiThucHienId = this.phongBenhVienId;\n\n        const ekipEmptyAndClientValidate = this.CheckEkipEmptyAndClientValidate();\n\n        if (ekipEmptyAndClientValidate) {\n            this.closePopupLoadingData();\n            return;\n        }\n\n        const empty = this.CheckValidateEmpty();\n\n        if (empty) {\n            this.closePopupLoadingData();\n            return;\n        }\n\n        const err = this.CheckValidateClient();\n\n        if (err) {\n            this.closePopupLoadingData();\n            return;\n        }\n\n        if (this.validationErrors != null && this.validationErrors.some(x => x)) {\n            this.closePopupLoadingData();\n            return;\n        }\n\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            this.apiService.post<any>(\n                'PhauThuatThuThuat/SaveEkip', this.ekip\n            ).subscribe((res) => {\n                this.closePopupLoadingData();\n                this.notificationService.showSuccess(PtttMessage.MessageSaveEkipThanhCong);\n                this.afterSavingEkip.emit(res);\n            }, error => {\n                this.closePopupLoadingData();\n                this.notificationService.showError(error.Message);\n            });\n        } else {\n            this.closePopupLoadingData();\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    CheckEkipEmptyAndClientValidate() {\n        let hasError = false;\n        this.validationErrors = [];\n        if (!this.ekip.Ekips.some(x => x)) {\n            this.ekipGrid.validationMsg = PtttMessage.MessageEkipEmpty;\n            hasError = true;\n        }\n\n        if (!this.ekip.ICDTruocId) {\n            const err = {\n                Field: 'ICDTruocId',\n                Message: PtttMessage.MessageCdTruocPhauThuatNotAllowNull\n            };\n            this.validationErrors.push(err);\n        }\n\n        return hasError;\n    }\n\n    CheckValidateEmpty() {\n        this.ekipGrid.ValidateEkipsClient(this.ekip.Ekips);\n\n        if (this.ekipGrid.validationErrors != null && this.ekipGrid.validationErrors.some(x => x)) {\n            return true;\n        }\n\n        return false;\n    }\n\n    CheckValidateClient() {\n        let hasError = false;\n\n        this.ekipGrid.ValidateTrungBacSi(this.ekip.Ekips);\n\n        if (this.ekipGrid.validationErrors != null && this.ekipGrid.validationErrors.some(x => x)) {\n            hasError = true;\n        }\n\n        if (this.ekip.IsPhauThuat === true) {\n            if(this.ekip.Ekips.filter(x => x.VaiTroBacSi === EnumVaiTroBacSi.PhauThuatVienChinh || x.VaiTroDieuDuong === EnumVaiTroDieuDuong.PhauThuatVienChinh).length === 0) {\n                this.ekipGrid.validationMsg = PtttMessage.MessageNotPhauThuatVienChinh;\n                hasError = true;\n            } else if(this.ekip.Ekips.filter(x => x.VaiTroBacSi === EnumVaiTroBacSi.PhauThuatVienChinh || x.VaiTroDieuDuong === EnumVaiTroDieuDuong.PhauThuatVienChinh).length > 1) {\n                this.ekipGrid.validationMsg = PtttMessage.MessageDuyNhatPhauThuatVienChinh;\n                hasError = true;\n            }\n        }\n\n        return hasError;\n    }\n}\n","export default \".md-primary {\\n  color: white;\\n  background-color: #005dab;\\n}\\n\\n.form-footer {\\n  margin-top: 1.34375em;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n  height: auto;\\n}\\n\\nfieldset legend {\\n  display: flex;\\n  align-items: flex-end;\\n  text-transform: uppercase;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC9wdHR0LWdoaS1uaGFuLWNhcC1uaGF0LXBvcHVwL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxccGhhdS10aHVhdC10aHUtdGh1YXRcXHBoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheVxccGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmhcXHB0dHQtZ2hpLW5oYW4tY2FwLW5oYXQtcG9wdXBcXHB0dHQtZ2hpLW5oYW4tY2FwLW5oYXQtcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmgvcHR0dC1naGktbmhhbi1jYXAtbmhhdC1wb3B1cC9wdHR0LWdoaS1uaGFuLWNhcC1uaGF0LXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSw4QkFBQTtFQUNBLGtDQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQ0FBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0VBQ0EscUJBQUE7RUFDQSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmgvcHR0dC1naGktbmhhbi1jYXAtbmhhdC1wb3B1cC9wdHR0LWdoaS1uaGFuLWNhcC1uaGF0LXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1kLXByaW1hcnkge1xuICBjb2xvcjogd2hpdGU7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDVkYWI7XG59XG5cbi5mb3JtLWZvb3RlciB7XG4gIG1hcmdpbi10b3A6IDEuMzQzNzVlbTtcbn1cblxuZmllbGRzZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIHBhZGRpbmctdG9wOiAwLjM1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDAuNjI1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1sZWZ0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgcGFkZGluZy1yaWdodDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogMXB4ICNlMGUwZTA7XG4gIGJvcmRlci1zdHlsZTogaW5oZXJpdDtcbiAgaGVpZ2h0OiBhdXRvO1xufVxuXG5maWVsZHNldCBsZWdlbmQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbmZpZWxkc2V0IC5pdGVtX3JpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG5maWVsZHNldCB1bCA+IGxpIHtcbiAgcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50O1xufVxuXG5maWVsZHNldCB1bC5pbmxpbmUgPiBsaSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xufSIsIi5tZC1wcmltYXJ5IHtcbiAgY29sb3I6IHdoaXRlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1ZGFiO1xufVxuXG4uZm9ybS1mb290ZXIge1xuICBtYXJnaW4tdG9wOiAxLjM0Mzc1ZW07XG59XG5cbmZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctbGVmdDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG4gIGhlaWdodDogYXV0bztcbn1cblxuZmllbGRzZXQgbGVnZW5kIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn0iXX0= */\"","import { ChangeDetectorRef, Component, Inject, OnInit } from '@angular/core';\nimport { PTTTVatTuThuoc, PTTTVatTuThuocTonKho } from '../../../phau-thuat-thu-thuat.model';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { EnumNhomGoiDichVu } from 'src/app/shared/enum/kham-benh.enum';\n\n@Component({\n  selector: 'app-pttt-ghi-nhan-cap-nhat-popup',\n  templateUrl: './pttt-ghi-nhan-cap-nhat-popup.component.html',\n  styleUrls: ['./pttt-ghi-nhan-cap-nhat-popup.component.scss']\n})\nexport class PtttGhiNhanCapNhatPopupComponent implements OnInit {\n    validationErrors: any[] = [];\n    isSelectingVatTuThuoc: boolean = false;\n    popupSavingData: any = null;\n    soLuongBanDau: number = null;\n    format = \"n2\";\n\n    ptttVatTuThuoc: any;\n    thongTinVatTu: PTTTVatTuThuocTonKho = new PTTTVatTuThuocTonKho();\n    nhomGoiDichVu = EnumNhomGoiDichVu;\n\n    icClose = icClose;\n\n    constructor(@Inject(MAT_DIALOG_DATA) public data: any, public dialogRef: MatDialogRef<PtttGhiNhanCapNhatPopupComponent>, private dialog: MatDialog,\n                private notificationService: NotificationService, private apiService: ApiService, private ref: ChangeDetectorRef) { }\n\n    ngOnInit() {\n        this.ptttVatTuThuoc = this.data;\n        this.thongTinVatTu = this.data;\n        this.soLuongBanDau = this.ptttVatTuThuoc.SoLuong;\n    }\n\n    onKey(event: any) {\n        if (event.key == \"Enter\") {\n            if (this.isSelectingVatTuThuoc != true) {\n                this.luuVatTu();\n            }\n            else {\n                this.isSelectingVatTuThuoc = false;\n            }\n        }\n    }\n\n    savingPage() {\n        this.popupSavingData = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: \"200px\",\n            height: \"90px\",\n            data: { Title: \"Đang lưu dữ liệu...\" },\n        });\n    }\n\n    closepopupSavingData() {\n        if (this.popupSavingData) {\n            this.popupSavingData.close();\n        }\n    }\n\n    dangXuLy:boolean=false;\n    luuVatTu() {\n        if(this.dangXuLy)\n            return;\n        this.dangXuLy=true;\n        var newObj = {\n            SoLuong: this.ptttVatTuThuoc.SoLuong,\n            SoLuongBanDau: this.soLuongBanDau,\n            LaDuocPham: this.ptttVatTuThuoc.NhomYeuCauId == this.nhomGoiDichVu.DuocPham,\n            VatTuThuocBenhVienId: this.ptttVatTuThuoc.VatTuThuocBenhVienId,\n            LaBHYT: this.ptttVatTuThuoc.LaBHYT,\n            KhoId: this.ptttVatTuThuoc.KhoId\n        }\n\n        this.apiService.post<any>(\"KhamBenh/KiemTraValidtionSoLuongGhiNhanThuocVTTH\", newObj).subscribe(res => {\n            var result = {\n                \"SoLuong\": this.ptttVatTuThuoc.SoLuong,\n                \"TinhPhi\": this.ptttVatTuThuoc.TinhPhi\n            }\n\n            this.dialogRef.close(result);\n            this.dangXuLy=false;\n            // this.dialogRef.close(this.ptttVatTuThuoc.SoLuong);\n        }, (err: ApiError) => {\n            this.validationErrors = err.ValidationErrors;\n\n            if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n            }\n            this.dangXuLy=false;\n        });\n    }\n}\n","export default \".md-primary {\\n  color: white;\\n  background-color: #005dab;\\n}\\n\\n.form-footer {\\n  margin-top: 1.34375em;\\n}\\n\\nfieldset {\\n  display: block;\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  padding-top: 0.35em !important;\\n  padding-bottom: 0.625em !important;\\n  padding-left: 0.75em !important;\\n  padding-right: 0.75em !important;\\n  border: 1px #e0e0e0;\\n  border-style: inherit;\\n  height: auto;\\n}\\n\\nfieldset legend {\\n  display: flex;\\n  align-items: flex-end;\\n  text-transform: uppercase;\\n}\\n\\nfieldset .item_right {\\n  text-align: right !important;\\n  float: right;\\n}\\n\\nfieldset ul > li {\\n  padding-right: 15px !important;\\n}\\n\\nfieldset ul.inline > li {\\n  display: inline-block !important;\\n}\\n\\n.minHeight270 {\\n  min-height: 270px;\\n}\\n\\n.minHeight310 {\\n  min-height: 310px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC9wdHR0LWdoaS1uaGFuLWhvYW4tdHJhLXBvcHVwL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxccGhhdS10aHVhdC10aHUtdGh1YXRcXHBoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheVxccGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmhcXHB0dHQtZ2hpLW5oYW4taG9hbi10cmEtcG9wdXBcXHB0dHQtZ2hpLW5oYW4taG9hbi10cmEtcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmgvcHR0dC1naGktbmhhbi1ob2FuLXRyYS1wb3B1cC9wdHR0LWdoaS1uaGFuLWhvYW4tdHJhLXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxxQkFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSw4QkFBQTtFQUNBLGtDQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQ0FBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0VBQ0EscUJBQUE7RUFDQSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UsNEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0NBQUE7QUNDRjs7QURFQTtFQUNFLGlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC9wdHR0LWdoaS1uaGFuLWhvYW4tdHJhLXBvcHVwL3B0dHQtZ2hpLW5oYW4taG9hbi10cmEtcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWQtcHJpbWFyeSB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNWRhYjtcbn1cblxuLmZvcm0tZm9vdGVyIHtcbiAgbWFyZ2luLXRvcDogMS4zNDM3NWVtO1xufVxuXG5maWVsZHNldCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgcGFkZGluZy10b3A6IDAuMzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWJvdHRvbTogMC42MjVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWxlZnQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLXJpZ2h0OiAwLjc1ZW0gIWltcG9ydGFudDtcbiAgYm9yZGVyOiAxcHggI2UwZTBlMDtcbiAgYm9yZGVyLXN0eWxlOiBpbmhlcml0O1xuICBoZWlnaHQ6IGF1dG87XG59XG5cbmZpZWxkc2V0IGxlZ2VuZCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuZmllbGRzZXQgLml0ZW1fcmlnaHQge1xuICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmZpZWxkc2V0IHVsID4gbGkge1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmZpZWxkc2V0IHVsLmlubGluZSA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XG59XG5cbi5taW5IZWlnaHQyNzAge1xuICBtaW4taGVpZ2h0OiAyNzBweDtcbn1cblxuLm1pbkhlaWdodDMxMCB7XG4gIG1pbi1oZWlnaHQ6IDMxMHB4O1xufSIsIi5tZC1wcmltYXJ5IHtcbiAgY29sb3I6IHdoaXRlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1ZGFiO1xufVxuXG4uZm9ybS1mb290ZXIge1xuICBtYXJnaW4tdG9wOiAxLjM0Mzc1ZW07XG59XG5cbmZpZWxkc2V0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMnB4O1xuICBwYWRkaW5nLXRvcDogMC4zNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctYm90dG9tOiAwLjYyNWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctbGVmdDogMC43NWVtICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctcmlnaHQ6IDAuNzVlbSAhaW1wb3J0YW50O1xuICBib3JkZXI6IDFweCAjZTBlMGUwO1xuICBib3JkZXItc3R5bGU6IGluaGVyaXQ7XG4gIGhlaWdodDogYXV0bztcbn1cblxuZmllbGRzZXQgbGVnZW5kIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG5maWVsZHNldCAuaXRlbV9yaWdodCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0ICFpbXBvcnRhbnQ7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuZmllbGRzZXQgdWwgPiBsaSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcbn1cblxuZmllbGRzZXQgdWwuaW5saW5lID4gbGkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcbn1cblxuLm1pbkhlaWdodDI3MCB7XG4gIG1pbi1oZWlnaHQ6IDI3MHB4O1xufVxuXG4ubWluSGVpZ2h0MzEwIHtcbiAgbWluLWhlaWdodDogMzEwcHg7XG59Il19 */\"","import { ChangeDetectorRef, Component, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { EnumNhomGoiDichVu } from 'src/app/shared/enum/kham-benh.enum';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { PTTTHoanTraThuocVatTuVo, ThongTinHoanTraVatTuThuocPTTTVo } from '../../../phau-thuat-thu-thuat.model';\n\n@Component({\n  selector: 'app-pttt-ghi-nhan-hoan-tra-popup',\n  templateUrl: './pttt-ghi-nhan-hoan-tra-popup.component.html',\n  styleUrls: ['./pttt-ghi-nhan-hoan-tra-popup.component.scss']\n})\n\nexport class PtttGhiNhanHoanTraPopupComponent implements OnInit {\n    thongTinTraVT: PTTTHoanTraThuocVatTuVo = new PTTTHoanTraThuocVatTuVo();\n    thongTinHoanTraVTVo: ThongTinHoanTraVatTuThuocPTTTVo = new ThongTinHoanTraVatTuThuocPTTTVo();\n    nhomGoiDichVu = EnumNhomGoiDichVu;\n    // isSelectDuocPham: boolean = false;\n    validationErrors: any[] = [];\n    popupLoadingData: any = null;\n    additionString: any = null;\n    // format = \"n2\";\n\n    gridColumns: any[] = [];\n\n    icClose = icClose;\n\n    @ViewChild(\"ngayTraTemplate\", { static: true }) ngayTraTemplate: TemplateRef<any>;\n    @ViewChild(\"ngayTaoTemplate\", { static: true }) ngayTaoTemplate: TemplateRef<any>;\n    @ViewChild(\"tinhTrangTemplate\", { static: true }) tinhTrangTemplate: TemplateRef<any>;\n\n    constructor(private dialog: MatDialog, @Inject(MAT_DIALOG_DATA) public data: any, public dialogRef: MatDialogRef<PtttGhiNhanHoanTraPopupComponent>,\n                private ref: ChangeDetectorRef, private notificationService: NotificationService,\n                private apiService: ApiService) { }\n\n    ngOnInit() {\n        this.additionString = JSON.stringify({\n            YeuCauDuocPhamVatTuBenhVienId: this.data.Id,\n            DuocHuongBaoHiem: this.data.DuocHuongBaoHiem,\n            NhomYeuCauId: this.data.NhomYeuCauId\n        });\n\n        this.thongTinTraVT = this.data;\n        this.getThongTinHoanTraVT();\n        this.gridColumns = [\n            { Field: \"NgayTra\", Title: \"Ngày trả\", Width: 70, Sortable: false, Template: this.ngayTraTemplate, },\n            { Field: \"SoLuongTra\", Title: \"SL Trả\", Width: 30, Sortable: false, },\n            { Field: \"NhanVienTra\", Title: \"Người trả\", Width: 70, Sortable: false, },\n            { Field: \"SoPhieu\", Title: \"Số phiếu trả\", Width: 50, Sortable: false, Hidden: (this.thongTinTraVT.NhomYeuCauId != this.nhomGoiDichVu.VatTuTieuHao) },\n            { Field: \"TinhTrang\", Title: \"Tình trạng\", Width: 50, Sortable: false, Template: this.tinhTrangTemplate },\n            { Field: \"NgayTao\", Title: \"Ngày tạo\", Width: 70, Sortable: false, Template: this.ngayTaoTemplate, },\n        ];\n        // this.additionString = `${this.thongTinTraVT.YeuCauBenhVienId};${this.thongTinTraVT.DuocHuongBaoHiem};${this.thongTinTraVT.NhomYeuCauId};`;\n    }\n\n    getThongTinHoanTraVT() {\n        this.loadingPage();\n        this.apiService.post<any>(\"PhauThuatThuThuat/GetThongTinHoanTraVatTuThuocPTTT\", this.thongTinTraVT).subscribe((res) => {\n            this.closePopupLoadingData();\n\n            if (res) {\n                this.thongTinHoanTraVTVo = res;\n                //update BVHD-3411: Khi hoàn trả thuốc/vật tư từ người bệnh (chưa cần duyệt phiếu hoàn trả) thì phần mềm ghi nhận số lượng và thành tiền còn lại sau khi hoàn trả\n                if(this.thongTinHoanTraVTVo.YeuCauDuocPhamVatTuBenhViens != null){\n                    //console.log(this.thongTinHoanTraVTVo.YeuCauDuocPhamVatTuBenhViens.reduce((n,{SoLuong, SoLuongTra}) =>  n + SoLuong + SoLuongTra, 0))\n                    this.thongTinTraVT.SoLuong = this.thongTinHoanTraVTVo.YeuCauDuocPhamVatTuBenhViens.reduce((n,{SoLuong, SoLuongTra}) =>  n + SoLuong + SoLuongTra, 0)\n                }\n            }\n        }, (err: ApiError) => {\n            this.validationErrors = err.ValidationErrors;\n\n            if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n            }\n\n            this.closePopupLoadingData();\n        });\n    }\n\n    huy() {\n        this.dialogRef.close();\n    }\n\n    loadingPage() {\n        if(!this.popupLoadingData) {\n            this.popupLoadingData = this.dialog.open(LoadingComponent, {\n                disableClose: true,\n                width: \"200px\",\n                height: \"90px\",\n                data: { Title: \"Đang tải dữ liệu...\" },\n            });\n        }\n    }\n\n    savingPage() {\n        if(!this.popupLoadingData) {\n            this.popupLoadingData = this.dialog.open(LoadingComponent, {\n                disableClose: true,\n                width: \"200px\",\n                height: \"90px\",\n                data: { Title: \"Đang lưu dữ liệu...\" },\n            });\n        }\n    }\n\n    closePopupLoadingData() {\n        if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n            this.popupLoadingData.close();\n            this.popupLoadingData = null;\n        }\n    }\n\n    luu() {\n        this.validationErrors = null;\n        this.ref.detectChanges();\n        this.savingPage();\n\n        this.thongTinHoanTraVTVo.YeuCauTiepNhanId = this.thongTinTraVT.YeuCauTiepNhanId;\n        this.thongTinHoanTraVTVo.DuocHuongBaoHiem = this.thongTinTraVT.DuocHuongBaoHiem;\n        // this.thongTinHoanTraVTVo.NhomYeuCauId = this.thongTinTraVT.NhomYeuCauId;\n        this.apiService.post<any>(\"PhauThuatThuThuat/HoanTraVatTuThuocTuBenhNhanPTTT\", this.thongTinHoanTraVTVo).subscribe(() => {\n            this.closePopupLoadingData();\n            this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Lưu\"]));\n            this.dialogRef.close();\n        }, (err: ApiError) => {\n            this.validationErrors = err.ValidationErrors;\n\n            if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n            }\n\n            this.closePopupLoadingData();\n        });\n    }\n}\n","export default \".full-width-row {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC9wdHR0LWdoaS1uaGFuL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxccGhhdS10aHVhdC10aHUtdGh1YXRcXHBoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheVxccGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmhcXHB0dHQtZ2hpLW5oYW5cXHB0dHQtZ2hpLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmgvcHR0dC1naGktbmhhbi9wdHR0LWdoaS1uaGFuLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC9wdHR0LWdoaS1uaGFuL3B0dHQtZ2hpLW5oYW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZnVsbC13aWR0aC1yb3cge1xuICB3aWR0aDogMTAwJTtcbn0iLCIuZnVsbC13aWR0aC1yb3cge1xuICB3aWR0aDogMTAwJTtcbn0iXX0= */\"","import { Component, OnInit, ViewChild, TemplateRef, ChangeDetectorRef, Input, SimpleChanges, ElementRef, Output, EventEmitter } from \"@angular/core\";\nimport { stagger60ms } from \"src/@vex/animations/stagger.animation\";\nimport { fadeInUp400ms } from \"src/@vex/animations/fade-in-up.animation\";\nimport { MatDialog } from \"@angular/material\";\nimport { ScrollToService } from \"ng2-scroll-to-el\";\nimport { DocumentType } from \"src/app/shared/enum/document-type.enum\";\nimport { ApiService } from \"src/app/core/services/api.service\";\nimport { AuthService } from \"src/app/core/services/auth.service\";\nimport { NotificationService } from \"src/app/core/services/notification.service\";\nimport { GroupDescriptor } from '@progress/kendo-data-query';\nimport { TrangThaiYeuCauKhamBenhObjEnum, TrangThaiYeuCauDichVuKyThuatObjEnum, ChiDinhGhiNhanVatTuThuocPTTT, GridItemGhiNhanVatTuThuocPTTT, PTTTHoanTraThuocVatTuVo, PTTTVatTuThuoc } from '../../../phau-thuat-thu-thuat.model';\nimport { ChiDinhGhiNhanVatTuThuoc, GoiKhongChietKhau, GridItemGhiNhanVTTHThuoc, YeuCauDichVuKyThuat } from 'src/app/modules/main/kham-benh/kham-benh.model';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { EnumNhomGoiDichVu, EnumTypeComponent, EnumTypeLoadingData } from 'src/app/shared/enum/kham-benh.enum';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { ComboboxComponent } from 'src/app/shared/component/dropdowns/combobox/combobox.component';\nimport { ConfirmComponent } from \"src/app/shared/component/dialogs/confirm/confirm.component\";\n\nimport icCheck from '@iconify/icons-ic/twotone-check';\nimport icInfo from '@iconify/icons-ic/twotone-info';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icWarning from '@iconify/icons-ic/warning';\nimport icEdit from '@iconify/icons-ic/border-color';\nimport icReturn from '@iconify/icons-ic/arrow-upward';\nimport { SecurityOperation } from \"src/app/shared/enum/security-operation.enum\";\nimport { PtttGhiNhanHoanTraPopupComponent } from \"../pttt-ghi-nhan-hoan-tra-popup/pttt-ghi-nhan-hoan-tra-popup.component\";\nimport { PtttGhiNhanCapNhatPopupComponent } from \"../pttt-ghi-nhan-cap-nhat-popup/pttt-ghi-nhan-cap-nhat-popup.component\";\nimport { EnumLoaiNoiChiDinh } from \"src/app/shared/enum/phau-thuat-thu-thuat.enum\";\nimport { PtttDpVtTuGoiPopupComponent } from \"../pttt-dp-vt-tu-goi-popup/pttt-dp-vt-tu-goi-popup.component\";\n\n@Component({\n    selector: \"app-pttt-ghi-nhan\",\n    templateUrl: \"./pttt-ghi-nhan.component.html\",\n    styleUrls: [\"./pttt-ghi-nhan.component.scss\"],\n    animations: [stagger60ms, fadeInUp400ms],\n})\n\nexport class PhauThuatThuThuatGhiNhanComponent implements OnInit {\n    // isCheckXacNhanIn: boolean = false;\n    checkAll: boolean = null;\n    showGhiNhanCoBHYT: boolean = true;\n    validationErrors: any;\n    popupLoadingData: any;\n    isDuocHuongBHYT: boolean = false;\n    nhomGoiDichVu = EnumNhomGoiDichVu;\n    currentLoaiKho: number;\n\n    isCheckingDuocHuongBHYT: boolean = false;\n    isGettingDataSource: boolean = false;\n    isDeletingMeds: boolean = false;\n    isAddingMeds: boolean = false;\n    isExportingMeds: boolean = false;\n    isChangingQuantity: boolean = false;\n    isSelectingItem: boolean = false;\n    isFirstTime: boolean = true;\n\n    thongTinHoanTraThuocVatTu: PTTTHoanTraThuocVatTuVo = new PTTTHoanTraThuocVatTuVo();\n    vatTuThuocEdit: PTTTVatTuThuoc = new PTTTVatTuThuoc();\n    vatTuThuocDelete: PTTTVatTuThuoc = new PTTTVatTuThuoc();\n\n    chiDinhGhiNhanVatTuThuoc: ChiDinhGhiNhanVatTuThuocPTTT = new ChiDinhGhiNhanVatTuThuocPTTT();\n    goiKhongChietKhau: GoiKhongChietKhau[] = [];\n\n    trangThaiYCKB: TrangThaiYeuCauKhamBenhObjEnum = new TrangThaiYeuCauKhamBenhObjEnum();\n    trangThaiYCDVKT: TrangThaiYeuCauDichVuKyThuatObjEnum = new TrangThaiYeuCauDichVuKyThuatObjEnum();\n\n    tongthanhtien: number = 0;\n    tongtienBNThanhToan: number = 0;\n\n    gridDataSourceVTTHThuoc: any = {};\n    gridVTTHThuocColumns: any[] = [];\n\n    documentType: DocumentType = DocumentType.PhauThuatThuThuatTheoNgay;\n    format = \"n2\";\n\n    groupsGhiNhanVTHHThuoc: GroupDescriptor[] = [{ field: 'GiaiDoanPhauThuatDisplay', dir: null, aggregates: [{ field: 'ThanhTien', aggregate: 'sum' }] }];\n    gridVatTuYTeThuocColumns: any[] = [];\n    dataSourceVatTuYTeThuoc = {\n        data: [],\n        total: 0,\n    };\n\n    radioVatTuThuoc = [\n        { Value: 1, Text: 'Gây mê' },\n        { Value: 2, Text: 'Phẫu thuật' },\n        { Value: 3, Text: 'Hồi tỉnh' },\n        { Value: 4, Text: 'Khác' }\n    ]\n\n    icCheck = icCheck;\n    icInfo = icInfo;\n    icDelete = icDelete;\n    icWarning = icWarning;\n    icEdit = icEdit;\n    icReturn = icReturn;\n\n    @Input() benhNhanHienTai: any;\n    @Input() yeuCauDichVuKyThuatId: number = 0;\n    @Output() outputSoDuTaiKhoanChanged = new EventEmitter();\n    @Output() outputSoDuTaiKhoanConLaiChanged = new EventEmitter();\n\n    @ViewChild('gridVTTHThuoc', { read: GridComponent, static: false }) gridChildVTTHThuoc: GridComponent;\n\n    @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n    @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n    @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n    @ViewChild('donGiaFooterTemplate', { static: true }) donGiaFooterTemplate: TemplateRef<any>;\n    @ViewChild('soLuongGhiNhanVTTHThuocTemplate', { static: true }) soLuongGhiNhanVTTHThuocTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienGhiNhanVTTHThuocFooterTemplate', { static: true }) thanhTienGhiNhanVTTHThuocFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienGhiNhanVTTHThuocGroupFooterTemplate', { static: true }) thanhTienGhiNhanVTTHThuocGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('donGiaBaoHiemTemplate', { static: true }) donGiaBaoHiemTemplate: TemplateRef<any>;\n    @ViewChild('duocHuongBaoHiemGhiNhanVHTTTemplate', { static: true }) duocHuongBaoHiemGhiNhanVHTTTemplate: TemplateRef<any>;\n    @ViewChild('tinhPhiGhiNhanVHTTTemplate', { static: true }) tinhPhiGhiNhanVHTTTemplate: TemplateRef<any>;\n    @ViewChild('actionVTTHThuocTemplate', { static: true }) actionVTTHThuocTemplate: TemplateRef<any>;\n\n    @ViewChild('lstVTTHThuocCombobox', { static: false }) lstVTTHThuocCombobox: ComboboxComponent;\n\n    constructor(private dialog: MatDialog, private ref: ChangeDetectorRef, private scrollService: ScrollToService, private notificationService: NotificationService,\n        private apiService: ApiService, private authService: AuthService, private el: ElementRef) { }\n\n    ngOnInit() {\n        console.log(\"benhNhanHienTai: \", this.benhNhanHienTai)\n        this.gridVTTHThuocColumns = [\n            { Field: \"Action\", Title: \"\", Width: 100, Template: this.actionVTTHThuocTemplate },\n            { Field: \"STT\", Title: \"#\", Width: 40, Template: this.sttTemplate },\n            // { Field: \"MaDichVuYeuCau\", Title: \"Mã\", Width: 60 },\n            { Field: \"GiaiDoanPhauThuatDisplay\", Title: \"GiaiDoanPhauThuat\", Width: 150, Hidden: true, TemplateGroupHeader: this.nhomGroupHeaderTemplate },\n            { Field: \"TenDichVuYeuCau\", Title: \"Tên vật tư/thuốc\", Width: 120, ShowTooltip: true },\n            { Field: \"DonViTinh\", Title: \"ĐVT\", Width: 60 },\n            { Field: \"TenKho\", Title: \"Kho sử dụng\", Width: 100 },\n            { Field: \"TenDuongDung\", Title: \"Đường dùng\", Width: 60 },\n            { Field: \"DonGia\", Title: \"Đơn Giá\", Width: 80, Template: this.donGiaTemplate, TemplateFooter: this.donGiaFooterTemplate },\n            { Field: \"SoLuong\", Title: \"SL\", Width: 59, Template: this.soLuongGhiNhanVTTHThuocTemplate },\n            { Field: \"ThanhTien\", Title: \"Thành Tiền\", Width: 100, Template: this.thanhTienTemplate, TemplateFooter: this.thanhTienGhiNhanVTTHThuocFooterTemplate, TemplateGroupFooter: this.thanhTienGhiNhanVTTHThuocGroupFooterTemplate },\n            { Field: \"DonGiaBaoHiem\", Title: \"DG BHYT\", Width: 100, Template: this.donGiaBaoHiemTemplate },\n            { Field: \"DuocHuongBaoHiem\", Title: \"ĐH BHYT\", Width: 60, Template: this.duocHuongBaoHiemGhiNhanVHTTTemplate },\n            { Field: \"TinhPhi\", Title: \"Tính phí\", Width: 60, Template: this.tinhPhiGhiNhanVHTTTemplate },\n            { Field: \"PhieuLinh\", Title: \"Phiếu lĩnh\", Width: 90 },\n            { Field: \"PhieuXuat\", Title: \"Phiếu xuất\", Width: 90 },\n            { Field: \"ThoiGianChiDinhDisplay\", Title: \"Thời gian chỉ định\", Width: 100 },\n        ];\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (changes.benhNhanHienTai && changes.benhNhanHienTai.currentValue) {\n            this.validationErrors = null;\n        }\n\n        if (changes.yeuCauDichVuKyThuatId && changes.yeuCauDichVuKyThuatId.currentValue) {\n            this.validationErrors = null;\n            this.kiemTraDuocHuongBHYT(changes.yeuCauDichVuKyThuatId.currentValue);\n        }\n\n        this.getGridDataGhiNhanVTHHThuoc();\n    }\n\n    kiemTraDuocHuongBHYT(id: number) {\n        this.isCheckingDuocHuongBHYT = true;\n\n        this.apiService.get<any>(`PhauThuatThuThuat/CoDuocHuongBHYT?yeuCauDichVuKyThuatId=${id}`).subscribe(res => {\n            this.isCheckingDuocHuongBHYT = false;\n            this.isDuocHuongBHYT = res;\n\n            if (this.benhNhanHienTai.CoBHYT && this.isDuocHuongBHYT) {\n                this.showGhiNhanCoBHYT = true;\n                if (this.chiDinhGhiNhanVatTuThuoc.LaDuocPhamBHYT == null) {\n                    this.chiDinhGhiNhanVatTuThuoc.LaDuocPhamBHYT = true;\n                }\n                // this.chiDinhGhiNhanVatTuThuoc.LaDuocPhamBHYT = true;\n            } else {\n                this.showGhiNhanCoBHYT = false;\n                this.chiDinhGhiNhanVatTuThuoc.LaDuocPhamBHYT = false;\n            }\n\n            this.closePopupLoadingData();\n        }, (err: ApiError) => {\n            this.isCheckingDuocHuongBHYT = false;\n            this.notificationService.showError(err.Message);\n            this.closePopupLoadingData();\n        });\n    }\n\n    chonDichVuTieuHao(event) {\n        if (event) {\n            this.chiDinhGhiNhanVatTuThuoc.strDonViTinh = event.DonViTinh;\n        } else {\n            this.chiDinhGhiNhanVatTuThuoc.strDonViTinh = null;\n        }\n    }\n\n    themGhiNhanVatTuBenhVien(suaGhiNhan: boolean = false) {\n        this.validationErrors = [];\n        // this.showPopupLoadingData(EnumTypeLoadingData.Update);\n\n        this.chiDinhGhiNhanVatTuThuoc.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        this.chiDinhGhiNhanVatTuThuoc.DichVuChiDinhId = this.yeuCauDichVuKyThuatId.toString();\n\n        if (suaGhiNhan) {\n            this.xuLyThemGhiNhanVatTuBenhVien();\n        } else {\n            var obj = {\n                \"YeuCauTiepNhanId\": this.benhNhanHienTai.YeuCauTiepNhanId,\n                \"DichVuChiDinhId\": JSON.stringify({ Id: this.chiDinhGhiNhanVatTuThuoc.DichVuChiDinhId, NhomId: this.nhomGoiDichVu.DichVuKyThuat }),\n                \"DichVuGhiNhanId\": this.chiDinhGhiNhanVatTuThuoc.DichVuGhiNhanId\n            }\n\n            this.apiService.post<boolean>(\"KhamBenh/KiemTraTrungGhiNhanVTTHThuoc\", obj).subscribe(resultData => {\n                if (resultData) {\n                    this.dialog.open(ConfirmComponent, {\n                        disableClose: false,\n                        width: '400px',\n                        data: { Title: \"Xác nhận\", Message: \"VTTTH/Thuốc này đã được thêm vào trước đó. Bạn có chắc chắn muốn thêm hay không?\" }\n                    }).afterClosed().subscribe(result => {\n                        if (result == \"Yes\") {\n                            this.xuLyThemGhiNhanVatTuBenhVien();\n                        }\n                        else {\n                            this.huyGhiNhanVatTuBenhVien();\n                        }\n                    });\n                }\n                else {\n                    this.xuLyThemGhiNhanVatTuBenhVien();\n                }\n            }, (err: ApiError) => {\n                err.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n            });\n        }\n    }\n    dangXuLy:boolean=false;\n    xuLyThemGhiNhanVatTuBenhVien() {\n        if(this.dangXuLy)\n            return;\n        this.dangXuLy=true;\n        this.isAddingMeds = true;\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n        this.chiDinhGhiNhanVatTuThuoc.LoaiNoiChiDinh = EnumLoaiNoiChiDinh.PhauThuatThuThuat;\n        this.apiService.post<any>(\"PhauThuatThuThuat/ThemGhiNhanVatTuBenhVien\", this.chiDinhGhiNhanVatTuThuoc).subscribe(result => {\n            this.isAddingMeds = false;\n            this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm \"]));\n            this.closePopupLoadingData();\n\n            this.huyGhiNhanVatTuBenhVien();\n\n            //Gộp vào xuất\n            // this.getGridDataGhiNhanVTHHThuoc(EnumTypeLoadingData.View, false);\n\n            if (result && result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                this.outputSoDuTaiKhoanChanged.emit({\n                    SoDuTaiKhoan: result.SoDuTaiKhoan,\n                    SoDuTaiKhoanDisplay: result.SoDuTaiKhoanDisplay\n                })\n            }\n\n            if (result && result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanUocLuongConLai) {\n                this.outputSoDuTaiKhoanConLaiChanged.emit({\n                    SoDuTaiKhoanUocLuongConLai: result.SoDuTaiKhoanConLai,\n                    SoDuTaiKhoanUocLuongConLaiDisplay: result.SoDuTaiKhoanConLaiDisplay\n                })\n            }\n\n            //Update xuất khi thêm\n            this.xuatGhiNhanVatTuBenhVien();\n            this.dangXuLy=false;\n        }, (err: ApiError) => {\n            err.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n            this.isAddingMeds = false;\n            this.closePopupLoadingData();\n            this.dangXuLy=false;\n        });\n    }\n\n    huyGhiNhanVatTuBenhVien() {\n        this.validationErrors = null;\n\n        this.showPopupLoadingData(EnumTypeLoadingData.View);\n\n        // let dichVuChiDinhId = this.chiDinhGhiNhanVatTuThuoc.DichVuChiDinhId;\n        // let dichVuChiDinhDisplay = this.chiDinhGhiNhanVatTuThuoc.TenDichVuChiDinh;\n        // let khoId = this.chiDinhGhiNhanVatTuThuoc.KhoId;\n        // let tenKho = this.chiDinhGhiNhanVatTuThuoc.TenKho;\n\n        // this.chiDinhGhiNhanVatTuThuoc = new ChiDinhGhiNhanVatTuThuocPTTT();\n\n        // this.chiDinhGhiNhanVatTuThuoc.DichVuChiDinhId = this.yeuCauDichVuKyThuatId.toString();\n        // this.chiDinhGhiNhanVatTuThuoc.TenDichVuChiDinh = dichVuChiDinhDisplay;\n        // this.chiDinhGhiNhanVatTuThuoc.KhoId = khoId;\n        // this.chiDinhGhiNhanVatTuThuoc.TenKho = tenKho;\n\n        this.chiDinhGhiNhanVatTuThuoc.DichVuGhiNhanId = null;\n        this.chiDinhGhiNhanVatTuThuoc.TenDichVuGhiNhan = null;\n        this.chiDinhGhiNhanVatTuThuoc.strDonViTinh = null;\n        this.chiDinhGhiNhanVatTuThuoc.SoLuong = null;\n\n        this.kiemTraDuocHuongBHYT(this.yeuCauDichVuKyThuatId);\n    }\n\n    getGridDataGhiNhanVTHHThuoc(typeLoadingData: EnumTypeLoadingData = EnumTypeLoadingData.View, showLoadingPopup: boolean = true) {\n        this.isGettingDataSource = true;\n\n        if (showLoadingPopup && !this.isFirstTime) {\n            this.showPopupLoadingData(typeLoadingData);\n        } else {\n            this.isFirstTime = false;\n        }\n\n        var url = `PhauThuatThuThuat/GetGridDataGhiNhanVTTHThuoc?yeuCauDichVuKyThuatId=${this.yeuCauDichVuKyThuatId}`;\n        this.apiService.get<any>(url).subscribe(res => {\n            this.isGettingDataSource = false;\n\n            if (res) {\n                this.gridDataSourceVTTHThuoc = {\n                    data: res,\n                    total: res.length\n                }\n                this.gridChildVTTHThuoc.gridDataSource = this.gridDataSourceVTTHThuoc\n                this.gridChildVTTHThuoc.setDataSource();\n                this.closePopupLoadingData();\n            }\n            else {\n                this.closePopupLoadingData();\n            }\n        }, (err: ApiError) => {\n            this.isGettingDataSource = false;\n            err.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n            this.closePopupLoadingData();\n        });\n    }\n\n    xuatGhiNhanVatTuBenhVien() {\n        this.isExportingMeds = true;\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n\n        let gridItem = new GridItemGhiNhanVatTuThuocPTTT();\n        gridItem.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        gridItem.YeuCauDichVuKyThuatId = this.yeuCauDichVuKyThuatId;\n\n        this.apiService.post<any>(\"PhauThuatThuThuat/XuLyXuatYeuCauGhiNhanVTTHThuoc\", gridItem).subscribe(res => {\n            this.isExportingMeds = false;\n            //Xuất khi thêm\n            // this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xuất \"]));\n            this.getGridDataGhiNhanVTHHThuoc(EnumTypeLoadingData.Update, false);\n        }, (err: ApiError) => {\n            this.validationErrors = err.ValidationErrors;\n            if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n            }\n            this.isExportingMeds = false;\n            this.closePopupLoadingData();\n            this.getGridDataGhiNhanVTHHThuoc(EnumTypeLoadingData.Update, false);\n        });\n    }\n\n    totalNotChietKhau(field: any) {\n        switch (field) {\n            case 'ThanhTien':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.ThanhTien, 0);\n            case 'BHYTThanhToan':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.BHYTThanhToan, 0);\n            case 'SoTienMG':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.SoTienMG, 0);\n            case 'BNThanhToan':\n                return this.goiKhongChietKhau.reduce((sum, item) => sum + item.BNThanhToan, 0);\n        }\n    }\n\n    XoaGhiNhanVTTHThuoc(dataItem) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: `Bạn có muốn xoá ${dataItem.TenDichVuYeuCau} không?` }\n        }).afterClosed().subscribe(result => {\n            if (result === \"Yes\") {\n                this.isDeletingMeds = true;\n                this.showPopupLoadingData(EnumTypeLoadingData.Delete);\n\n                let gridItem = new GridItemGhiNhanVatTuThuocPTTT();\n                gridItem.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n                gridItem.YeuCauGhiNhanVTTHThuocId = dataItem.Id;\n\n                this.apiService.post<any>(\"PhauThuatThuThuat/XuLyXoaYeuCauGhiNhanVTTHThuoc\", gridItem).subscribe(result => {\n                    this.isDeletingMeds = false;\n\n                    if (result && result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                        this.outputSoDuTaiKhoanChanged.emit({\n                            SoDuTaiKhoan: result.SoDuTaiKhoan,\n                            SoDuTaiKhoanDisplay: result.SoDuTaiKhoanDisplay\n                        })\n                    }\n\n                    if (result && result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanUocLuongConLai) {\n                        this.outputSoDuTaiKhoanConLaiChanged.emit({\n                            SoDuTaiKhoanUocLuongConLai: result.SoDuTaiKhoanConLai,\n                            SoDuTaiKhoanUocLuongConLaiDisplay: result.SoDuTaiKhoanConLaiDisplay\n                        })\n                    }\n\n                    this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xóa \"]));\n                    this.getGridDataGhiNhanVTHHThuoc(EnumTypeLoadingData.Update, false);\n                }, (err: ApiError) => {\n                    this.validationErrors = err.ValidationErrors;\n                    if (err.Message != \"Validation Failed\") {\n                        this.notificationService.showError(err.Message);\n                    }\n                    this.isDeletingMeds = false;\n                    this.closePopupLoadingData();\n                });\n            }\n        });\n    }\n\n    XoaGhiNhanVTTHThuocKhiSuaSoLuong(dataItem, updateDetail) {\n        this.isDeletingMeds = true;\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n\n        let gridItem = new GridItemGhiNhanVatTuThuocPTTT();\n        gridItem.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        gridItem.YeuCauGhiNhanVTTHThuocId = dataItem.Id;\n\n        this.apiService.post<any>(\"PhauThuatThuThuat/XuLyXoaYeuCauGhiNhanVTTHThuoc\", gridItem).subscribe(result => {\n            this.isDeletingMeds = false;\n\n            if (result && result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                this.outputSoDuTaiKhoanChanged.emit({\n                    SoDuTaiKhoan: result.SoDuTaiKhoan,\n                    SoDuTaiKhoanDisplay: result.SoDuTaiKhoanDisplay\n                })\n            }\n\n            if (result && result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanUocLuongConLai) {\n                this.outputSoDuTaiKhoanConLaiChanged.emit({\n                    SoDuTaiKhoanUocLuongConLai: result.SoDuTaiKhoanConLai,\n                    SoDuTaiKhoanUocLuongConLaiDisplay: result.SoDuTaiKhoanConLaiDisplay\n                })\n            }\n\n            // this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xóa \"]));\n            let chiDinhGhiNhanVatTuThuocPTTT: ChiDinhGhiNhanVatTuThuocPTTT = new ChiDinhGhiNhanVatTuThuocPTTT();\n            chiDinhGhiNhanVatTuThuocPTTT.DichVuChiDinhId = this.yeuCauDichVuKyThuatId.toString();\n            chiDinhGhiNhanVatTuThuocPTTT.DichVuGhiNhanId = dataItem.DichVuGhiNhanId;\n            chiDinhGhiNhanVatTuThuocPTTT.GiaiDoanPhauThuat = dataItem.GiaiDoanPhauThuat;\n            chiDinhGhiNhanVatTuThuocPTTT.KhoId = dataItem.KhoId;\n            chiDinhGhiNhanVatTuThuocPTTT.LaDuocPhamBHYT = dataItem.DuocHuongBaoHiem;\n            chiDinhGhiNhanVatTuThuocPTTT.SoLuong = updateDetail.SoLuong;\n            chiDinhGhiNhanVatTuThuocPTTT.TinhPhi = updateDetail.TinhPhi;\n            chiDinhGhiNhanVatTuThuocPTTT.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n            chiDinhGhiNhanVatTuThuocPTTT.strDonViTinh = dataItem.DonViTinh;\n\n            this.chiDinhGhiNhanVatTuThuoc = Object.assign({}, chiDinhGhiNhanVatTuThuocPTTT);\n            this.themGhiNhanVatTuBenhVien(true);\n        }, (err: ApiError) => {\n            this.validationErrors = err.ValidationErrors;\n            if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n            }\n            this.isDeletingMeds = false;\n            this.closePopupLoadingData();\n        });\n    }\n\n    // CapNhatGridItemGhiNhanVTTHThuoc(soluong: number, dataItem) {\n    //     console.log(soluong)\n    //     console.log(dataItem)\n    //     //this.showPopupLoadingData(EnumTypeLoadingData.Update);\n\n    //     let gridItem = new GridItemGhiNhanVatTuThuocPTTT();\n    //     gridItem.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n    //     gridItem.YeuCauDichVuKyThuatId = this.yeuCauDichVuKyThuatId;\n    //     gridItem.YeuCauGhiNhanVTTHThuocId = dataItem.Id;\n    //     gridItem.SoLuong = soluong;\n\n    //     // this.saveItemGhiNhanVatTuTieuHao(gridItem, true);\n    // }\n\n    timeoutVTTHThuoc = null;\n    CapNhatGridItemGhiNhanVTTHThuoc(result, dataItem) {\n        let gridItem = new GridItemGhiNhanVatTuThuocPTTT();\n        gridItem.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        gridItem.YeuCauDichVuKyThuatId = this.yeuCauDichVuKyThuatId;\n        gridItem.YeuCauGhiNhanVTTHThuocId = dataItem.Id;\n        gridItem.IsCapNhatSoLuong = true;\n        gridItem.IsCapNhatTinhPhi = true;\n        gridItem.SoLuong = result.SoLuong;\n        gridItem.TinhPhi = result.TinhPhi;\n\n        var self = this;\n        clearTimeout(self.timeoutVTTHThuoc);\n        self.timeoutVTTHThuoc = setTimeout(function () {\n            self.saveItemGhiNhanVatTuTieuHao(gridItem, true);\n        }, 1000);\n    }\n\n    changeTinhPhiGhiNhanVTTH(tinhPhi: boolean, dataItem) {\n        let gridItem = new GridItemGhiNhanVatTuThuocPTTT();\n        gridItem.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        gridItem.YeuCauDichVuKyThuatId = this.yeuCauDichVuKyThuatId;\n        gridItem.YeuCauGhiNhanVTTHThuocId = dataItem.Id;\n        gridItem.IsCapNhatTinhPhi = true;\n        gridItem.TinhPhi = tinhPhi;\n        this.saveItemGhiNhanVatTuTieuHao(gridItem);\n    }\n\n    saveItemGhiNhanVatTuTieuHao(gridItem, showLoading: boolean = true) {\n        this.isChangingQuantity = true;\n        this.showPopupLoadingData(EnumTypeLoadingData.Update);\n\n        this.apiService.post<any>(\"PhauThuatThuThuat/CapNhatGridItemGhiNhanVTTHThuoc\", gridItem).subscribe(res => {\n            this.isChangingQuantity = false;\n\n            if (res && res.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                this.outputSoDuTaiKhoanChanged.emit({\n                    SoDuTaiKhoan: res.SoDuTaiKhoan,\n                    SoDuTaiKhoanDisplay: res.SoDuTaiKhoanDisplay\n                })\n            }\n\n            if (res && res.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanUocLuongConLai) {\n                this.outputSoDuTaiKhoanConLaiChanged.emit({\n                    SoDuTaiKhoanUocLuongConLai: res.SoDuTaiKhoanConLai,\n                    SoDuTaiKhoanUocLuongConLaiDisplay: res.SoDuTaiKhoanConLaiDisplay\n                })\n            }\n\n            this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Cập nhật \"]));\n            this.getGridDataGhiNhanVTHHThuoc(EnumTypeLoadingData.Update, false);\n        }, (err: ApiError) => {\n            this.validationErrors = err.ValidationErrors;\n            if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n            }\n            this.isChangingQuantity = false;\n            // this.closePopupLoadingData();\n            this.getGridDataGhiNhanVTHHThuoc(EnumTypeLoadingData.Update, false);\n        });\n    }\n\n    totalGhiNhanVTTHThuoc(field: any) {\n        if (this.gridDataSourceVTTHThuoc.data != undefined) {\n            switch (field) {\n                case 'ThanhTien':\n                    return this.gridDataSourceVTTHThuoc.data.reduce((sum, item) => sum + item.ThanhTien, 0);\n            }\n        }\n    }\n\n    showPopupLoadingData(typeLoading: EnumTypeLoadingData = EnumTypeLoadingData.View) {\n        let mess = \"\"; //typeLoading == EnumTypeLoadingData.View ? \"Đang tải dữ liệu...\" : \"Đang lưu dữ liệu...\";\n        switch (typeLoading) {\n            case EnumTypeLoadingData.View:\n                mess = \"Đang tải dữ liệu...\"; break;\n            case EnumTypeLoadingData.Update:\n                mess = \"Đang lưu dữ liệu...\"; break;\n            case EnumTypeLoadingData.Delete:\n                mess = \"Đang xóa dữ liệu...\"; break;\n            default: mess = \"Đang tải dữ liệu...\";\n        }\n\n        if (!this.popupLoadingData) {\n            this.popupLoadingData = this.dialog.open(LoadingComponent, {\n                disableClose: true,\n                width: '200px',\n                height: '90px',\n                data: { Title: mess }\n            });\n        }\n    }\n\n    closePopupLoadingData() {\n        if (this.popupLoadingData && !this.isCheckingDuocHuongBHYT && !this.isGettingDataSource && !this.isDeletingMeds && !this.isAddingMeds && !this.isExportingMeds && !this.isChangingQuantity) {\n            this.popupLoadingData.close();\n            this.popupLoadingData = null;\n        }\n\n        this.dialog.afterAllClosed.subscribe(result => {\n            this.autoFocusElementFirst();\n        });\n    }\n\n    autoFocusElementFirst() {\n        if (!this.ref['destroyed']) {\n            this.lstVTTHThuocCombobox.focusManual();\n            this.ref.detectChanges();\n        }\n\n        // let type = \"\";\n\n        // switch (elementType) {\n        //     case EnumTypeComponent.KInput:\n        //         type = \".k-input\"; break;\n        //     case EnumTypeComponent.KDropdown:\n        //         type = \".k-dropdown-wrap\"; break;\n        //     default:\n        //         type = \".k-input\"; break;\n        // }\n\n        // const invalidControl = this.el.nativeElement.querySelector(type);\n        // if (invalidControl) {\n        //     invalidControl.focus();\n        //     //invalidControl.blur();\n        // }\n    }\n\n    changeKhoSuDung(evt) {\n        this.chiDinhGhiNhanVatTuThuoc.DichVuGhiNhanId = null;\n        this.chiDinhGhiNhanVatTuThuoc.strDonViTinh = null;\n        this.chiDinhGhiNhanVatTuThuoc.SoLuong = null;\n\n        if (evt) {\n            this.apiService.get<any>(\"KhamBenh/GetLoaiKhoAsync?khoId=\" + evt).subscribe(resultData => {\n                if (resultData !== undefined && resultData != null) {\n                    this.currentLoaiKho = resultData;\n                }\n            })\n        } else {\n            this.currentLoaiKho = null;\n        }\n    }\n\n    changeBHYT(evt) {\n        this.chiDinhGhiNhanVatTuThuoc.DichVuGhiNhanId = null;\n        this.chiDinhGhiNhanVatTuThuoc.strDonViTinh = null;\n    }\n\n    onKeyEnterAddItem(event: any) {\n        if (event.key == \"Enter\" && !this.isSelectingItem) {\n            if (this.isSelectingItem != true) {\n                this.themGhiNhanVatTuBenhVien();\n            }\n            else {\n                this.isSelectingItem = false;\n            }\n        }\n    }\n\n    openCombobox(event: any) {\n        if (event) {\n            this.isSelectingItem = true;\n        }\n        else {\n            this.isSelectingItem = false;\n        }\n    }\n\n    hoanTra(dataItem: any) {\n        this.validationErrors = null;\n        this.ref.detectChanges();\n\n        this.thongTinHoanTraThuocVatTu.Id = dataItem.Id;\n\n        this.thongTinHoanTraThuocVatTu.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n        this.thongTinHoanTraThuocVatTu.KhoId = dataItem.KhoId;\n        this.thongTinHoanTraThuocVatTu.SoLuong = dataItem.SoLuong;\n\n        this.thongTinHoanTraThuocVatTu.CoYeuCauTraVTTuBenhNhanChiTiet = dataItem.CoYeuCauTraVTTuBenhNhanChiTiet;\n        this.thongTinHoanTraThuocVatTu.DuocHuongBaoHiem = dataItem.DuocHuongBaoHiem;\n        this.thongTinHoanTraThuocVatTu.YeuCauBenhVienId = dataItem.YeuCauId;\n        this.thongTinHoanTraThuocVatTu.NhomYeuCauId = dataItem.NhomYeuCauId;\n        // this.thongTinHoanTraThuocVatTu.LaTuTruc = dataItem.LaTuTruc;\n        // this.thongTinHoanTraThuocVatTu.LaDichTruyen = dataItem.LaTuTruc;\n\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n            this.dialog.open(PtttGhiNhanHoanTraPopupComponent, {\n                disableClose: false,\n                width: '1000px',\n                data: this.thongTinHoanTraThuocVatTu,\n            }).afterClosed().subscribe(() => {\n                this.getGridDataGhiNhanVTHHThuoc(EnumTypeLoadingData.Update, false);\n            });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    suaVatTuThuoc(dataItem: any) {\n        this.validationErrors = null;\n        this.ref.detectChanges();\n        this.vatTuThuocEdit = Object.assign({}, dataItem);\n        this.vatTuThuocEdit.YeuCauTiepNhanId = this.benhNhanHienTai.YeuCauTiepNhanId;\n\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            this.dialog.open(PtttGhiNhanCapNhatPopupComponent, {\n                disableClose: false,\n                width: '600px',\n                data: this.vatTuThuocEdit,\n            }).afterClosed().subscribe((res) => {\n                if (res) {\n                    if (dataItem.LoaiKho == 5) {\n                        this.XoaGhiNhanVTTHThuocKhiSuaSoLuong(dataItem, res);\n                    } else {\n                        this.CapNhatGridItemGhiNhanVTTHThuoc(res, dataItem);\n                    }\n                }\n            });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    themDuocPhamVatTuTuGoi() {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Add)) {\n            this.dialog.open(PtttDpVtTuGoiPopupComponent, {\n                disableClose: false,\n                width: '1000px',\n                data: { YeuCauDichVuKyThuatId: this.yeuCauDichVuKyThuatId, YeuCauTiepNhanId: this.benhNhanHienTai.YeuCauTiepNhanId }\n            }).afterClosed().subscribe((result) => {\n                this.getGridDataGhiNhanVTHHThuoc(EnumTypeLoadingData.Add, false);\n                if (result && result.SoDuTaiKhoan != this.benhNhanHienTai.SoDuTaiKhoan) {\n                    this.outputSoDuTaiKhoanChanged.emit({\n                        SoDuTaiKhoan: result.SoDuTaiKhoan,\n                        SoDuTaiKhoanDisplay: result.SoDuTaiKhoanDisplay\n                    })\n                }\n\n                if (result && result.SoDuTaiKhoanConLai != this.benhNhanHienTai.SoDuTaiKhoanUocLuongConLai) {\n                    this.outputSoDuTaiKhoanConLaiChanged.emit({\n                        SoDuTaiKhoanUocLuongConLai: result.SoDuTaiKhoanConLai,\n                        SoDuTaiKhoanUocLuongConLaiDisplay: result.SoDuTaiKhoanConLaiDisplay\n                    })\n                }\n            });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmgvcHR0dC1zaW5oLXRvbi9wdHR0LXNpbmgtdG9uLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input, ViewChild, EventEmitter, Output } from '@angular/core';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport {\n    PhauThuatThuThuatTheoDoiSinhTonComponent\n} from '../../phau-thuat-thu-thuat-theo-doi/pttt-theo-doi-sinh-ton/pttt-theo-doi-sinh-ton.component';\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-pttt-sinh-ton',\n    templateUrl: './pttt-sinh-ton.component.html',\n    styleUrls: ['./pttt-sinh-ton.component.scss']\n})\nexport class PhauThuatThuThuatSinhTonComponent implements OnInit {\n    documentType: DocumentType = DocumentType.PhauThuatThuThuatTheoNgay;\n\n    @Input() IsDaTuongTrinh = false;\n    @Input() thongTinBenhNhan: any;\n    @ViewChild('ptttStonGrid', { static: false }) ptttStonGrid: PhauThuatThuThuatTheoDoiSinhTonComponent;\n    @Output() displayForBtnSinhTon: EventEmitter<any> = new EventEmitter<any>();\n    ketQuaSinhHieu = {\n        data: [],\n        total: 0\n    };\n\n    constructor() { }\n\n    ngOnInit() {\n\n    }\n\n    OnDisplayForBtnSton(isDisplay: boolean) {\n        this.displayForBtnSinhTon.emit(isDisplay);\n    }\n}\n","export default \".xe-block {\\n  padding: 6px 10px;\\n  position: relative;\\n  background: #ffffff;\\n  width: 100%;\\n  text-overflow: ellipsis;\\n  border: 1px solid #ececec;\\n  margin-bottom: 0.2rem;\\n  border-left: 2px solid #6eb0ff;\\n  border-radius: 3px;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15) !important;\\n}\\n\\n.xe-block:hover {\\n  border: 1px solid #e38c8c;\\n  cursor: pointer;\\n}\\n\\n.xe-block i.fa-times {\\n  position: absolute;\\n  top: -5px;\\n  right: -4px;\\n  color: #c46d6d;\\n  padding: 10px;\\n}\\n\\n.bg-primary {\\n  background-color: #7ab7ff !important;\\n}\\n\\n.card .header {\\n  font-size: 11px;\\n  margin: 15px 0 0;\\n  margin-top: 9px;\\n  padding: 4px 15px;\\n  color: #fff;\\n  display: inline-block;\\n  text-transform: uppercase;\\n}\\n\\n.po-h {\\n  color: #005dab;\\n  position: relative;\\n  top: 5px;\\n  left: 5px;\\n}\\n\\n.po-h mat-icon {\\n  display: contents;\\n}\\n\\n.full-width-row {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL3BoYXUtdGh1YXQtdGh1LXRodWF0L3BoYXUtdGh1YXQtdGh1LXRodWF0LXRoZW8tbmdheS9waGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaC9wdHR0LXR1b25nLXRyaW5oLXB0dHQvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxwaGF1LXRodWF0LXRodS10aHVhdFxccGhhdS10aHVhdC10aHUtdGh1YXQtdGhlby1uZ2F5XFxwaGF1LXRodWF0LXRodS10aHVhdC10dW9uZy10cmluaFxccHR0dC10dW9uZy10cmluaC1wdHR0XFxwdHR0LXR1b25nLXRyaW5oLXB0dHQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmgvcHR0dC10dW9uZy10cmluaC1wdHR0L3B0dHQtdHVvbmctdHJpbmgtcHR0dC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSx1QkFBQTtFQUNBLHlCQUFBO0VBQ0EscUJBQUE7RUFDQSw4QkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGlFQUFBO0FDQ0Y7O0FERUE7RUFDRSx5QkFBQTtFQUNBLGVBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtBQ0NGOztBREVBO0VBQ0Usb0NBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7RUFDQSxxQkFBQTtFQUNBLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcGhhdS10aHVhdC10aHUtdGh1YXQtdHVvbmctdHJpbmgvcHR0dC10dW9uZy10cmluaC1wdHR0L3B0dHQtdHVvbmctdHJpbmgtcHR0dC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi54ZS1ibG9jayB7XG4gIHBhZGRpbmc6IDZweCAxMHB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGJhY2tncm91bmQ6ICNmZmZmZmY7XG4gIHdpZHRoOiAxMDAlO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgYm9yZGVyOiAxcHggc29saWQgI2VjZWNlYztcbiAgbWFyZ2luLWJvdHRvbTogMC4ycmVtO1xuICBib3JkZXItbGVmdDogMnB4IHNvbGlkICM2ZWIwZmY7XG4gIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgYm94LXNoYWRvdzogMCAwLjE1cmVtIDEuNzVyZW0gMCByZ2JhKDU4LCA1OSwgNjksIDAuMTUpICFpbXBvcnRhbnQ7XG59XG5cbi54ZS1ibG9jazpob3ZlciB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNlMzhjOGM7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLnhlLWJsb2NrIGkuZmEtdGltZXMge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogLTVweDtcbiAgcmlnaHQ6IC00cHg7XG4gIGNvbG9yOiAjYzQ2ZDZkO1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG4uYmctcHJpbWFyeSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM3YWI3ZmYgIWltcG9ydGFudDtcbn1cblxuLmNhcmQgLmhlYWRlciB7XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgbWFyZ2luOiAxNXB4IDAgMDtcbiAgbWFyZ2luLXRvcDogOXB4O1xuICBwYWRkaW5nOiA0cHggMTVweDtcbiAgY29sb3I6ICNmZmY7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuLnBvLWgge1xuICBjb2xvcjogIzAwNWRhYjtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDVweDtcbiAgbGVmdDogNXB4O1xufVxuXG4ucG8taCBtYXQtaWNvbiB7XG4gIGRpc3BsYXk6IGNvbnRlbnRzO1xufVxuXG4uZnVsbC13aWR0aC1yb3cge1xuICB3aWR0aDogMTAwJTtcbn0iLCIueGUtYmxvY2sge1xuICBwYWRkaW5nOiA2cHggMTBweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xuICB3aWR0aDogMTAwJTtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNlY2VjZWM7XG4gIG1hcmdpbi1ib3R0b206IDAuMnJlbTtcbiAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCAjNmViMGZmO1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGJveC1zaGFkb3c6IDAgMC4xNXJlbSAxLjc1cmVtIDAgcmdiYSg1OCwgNTksIDY5LCAwLjE1KSAhaW1wb3J0YW50O1xufVxuXG4ueGUtYmxvY2s6aG92ZXIge1xuICBib3JkZXI6IDFweCBzb2xpZCAjZTM4YzhjO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi54ZS1ibG9jayBpLmZhLXRpbWVzIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IC01cHg7XG4gIHJpZ2h0OiAtNHB4O1xuICBjb2xvcjogI2M0NmQ2ZDtcbiAgcGFkZGluZzogMTBweDtcbn1cblxuLmJnLXByaW1hcnkge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2FiN2ZmICFpbXBvcnRhbnQ7XG59XG5cbi5jYXJkIC5oZWFkZXIge1xuICBmb250LXNpemU6IDExcHg7XG4gIG1hcmdpbjogMTVweCAwIDA7XG4gIG1hcmdpbi10b3A6IDlweDtcbiAgcGFkZGluZzogNHB4IDE1cHg7XG4gIGNvbG9yOiAjZmZmO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbi5wby1oIHtcbiAgY29sb3I6ICMwMDVkYWI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA1cHg7XG4gIGxlZnQ6IDVweDtcbn1cblxuLnBvLWggbWF0LWljb24ge1xuICBkaXNwbGF5OiBjb250ZW50cztcbn1cblxuLmZ1bGwtd2lkdGgtcm93IHtcbiAgd2lkdGg6IDEwMCU7XG59Il19 */\"","import {\n    Component,\n    OnInit,\n    Input,\n    EventEmitter, Output, ViewChild\n} from '@angular/core';\nimport { stagger60ms } from 'src/@vex/animations/stagger.animation';\nimport { fadeInUp400ms } from 'src/@vex/animations/fade-in-up.animation';\nimport { MatDialog } from '@angular/material';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport {\n    LookupItemVo,\n    HoatDongNhanVien,\n} from 'src/app/shared/models/common.model';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport {\n    PhauThuatThuThuatTuongTrinh,\n    LuocDoPhauThuatModel,\n} from '../../../phau-thuat-thu-thuat.model';\nimport {\n    PhauThuatThuThuatLuocDoPopupComponent\n} from '../../phau-thuat-thu-thuat-luoc-do-popup/phau-thuat-thu-thuat-luoc-do-popup.component';\nimport { ViewImagePdfComponent } from 'src/app/shared/component/dialogs/view-image-pdf/view-image-pdf.component';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { SystemMessage, PtttMessage } from 'src/app/shared/configdata/system-message';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { BroadcastService } from 'src/app/core/services/broadcast.service';\nimport { MultiselectComponent } from 'src/app/shared/component/dropdowns/multiselect/multiselect.component';\nimport { ConfirmComponent } from \"src/app/shared/component/dialogs/confirm/confirm.component\";\n\nimport icImages from '@iconify/icons-ic/baseline-add-photo-alternate';\nimport icClose from '@iconify/icons-ic/close';\nimport icAddCircle from '@iconify/icons-ic/add-circle';\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-pttt-tuong-trinh-pttt',\n    templateUrl: './pttt-tuong-trinh-pttt.component.html',\n    styleUrls: ['./pttt-tuong-trinh-pttt.component.scss'],\n    animations: [stagger60ms, fadeInUp400ms],\n})\nexport class PhauThuatThuThuatTuongTrinhPTTTComponent implements OnInit {\n    icImages = icImages;\n    icClose = icClose;\n    icAddCircle = icAddCircle;\n    @Input() IsDaTuongTrinh = false;\n    @Input() ycdvktId;\n    @Input() pTTTChinh;\n    showValidationMoTa = false;\n\n    khoaPhong: any;\n    phuongPhapvoCam: LookupItemVo = {\n        KeyId: 0,\n        DisplayName: null\n    };\n\n    gridChuanBiKhamColumns: any[] = [];\n    dataSourceChuanBiKham = {\n        data: [],\n        total: 0,\n    };\n\n    gridDoiKetLuanColumns: any[] = [];\n    dataSourceDoiKetLuan = {\n        data: [],\n        total: 0,\n    };\n    canChange = false;\n\n    phongKhamBenh: HoatDongNhanVien;\n    phongKhamHienTai: LookupItemVo = {\n        DisplayName: null,\n        KeyId: 0,\n    };\n    validationErrors: any;\n    popup: any;\n\n    documentType: DocumentType = DocumentType.PhauThuatThuThuatTheoNgay;\n    isThoiGianBatDauPTTTExisted: boolean = false;\n\n    @Input() thongTinBenhNhan: any = null;\n    @Output() displaySaveCclForTuongTrinh: EventEmitter<any> = new EventEmitter<any>();\n    @ViewChild('phuongPhapPttt', { static: false }) phuongPhapPttt: MultiselectComponent;\n\n    constructor(\n        private dialog: MatDialog,\n        private apiService: ApiService,\n        private broadcastService: BroadcastService,\n        private notificationService: NotificationService,\n        private authService: AuthService\n    ) { }\n\n    pTTT = {} as PhauThuatThuThuatTuongTrinh;\n\n    ngOnInit() {\n        const self = this;\n        self.canChange = false;\n        self.pTTT = new PhauThuatThuThuatTuongTrinh();\n        self.pTTT.ThoiGianPt=new Date(); \n        self.pTTT.LuocDoPhauThuats = [];\n        self.documentType = DocumentType.PhauThuatThuThuatTheoNgay;\n        const phongBenhVienId = self.authService.getPhongLamViecId();\n        self.getKhoaPhong(phongBenhVienId, self.ycdvktId);\n    }\n\n    onChangePhauThuatThuThuat(data: any) {\n        if (!data) {\n            this.pTTT.MaPttt = null;\n            return;\n        }\n        this.pTTT.MaPttt = this.FormatMaPttt(data);\n        this.pTTT.PhuongPhapPttt = this.FormatTenPttt(data);\n        this.displaySaveCclForTuongTrinh.emit(true);\n    }\n\n    FormatMaPttt(data) {\n        let maPtttFormat = '';\n        data.forEach((element, index) => {\n            if (index === data.length - 1) {\n                maPtttFormat += element;\n            } else {\n                maPtttFormat += element + '|';\n            }\n        });\n        return maPtttFormat;\n    }\n\n    FormatTenPttt(data) {\n        let tenPtttFormat = '';\n        data.forEach((element, index) => {\n            if (index === data.length - 1) {\n                tenPtttFormat += this.phuongPhapPttt._data.filter(x => x.Ma === element)[0].Ten;\n            } else {\n                tenPtttFormat += this.phuongPhapPttt._data.filter(x => x.Ma === element)[0].Ten + '|';\n            }\n        });\n        return tenPtttFormat;\n    }\n\n    OnChange() {\n        this.displaySaveCclForTuongTrinh.emit(true);\n    }\n\n    Save() {\n        this.validationErrors = [];\n        this.showValidationMoTa = false;\n        if (\n            this.authService.hasPermission(this.documentType, SecurityOperation.Update)\n        ) {\n            this.saveDataLoading();\n            this.pTTT.YeuCauDichVuKyThuatId = this.ycdvktId;\n            this.apiService\n                .post<any>(\n                    'PhauThuatThuThuat/SaveTuongTrinh', this.pTTT\n                )\n                .subscribe(() => {\n                    this.closePopupLoadingData();\n                    this.notificationService.showSuccess(PtttMessage.MessageSaveTuongTrinhThanhCong);\n                    this.displaySaveCclForTuongTrinh.emit(false);\n                    this.isThoiGianBatDauPTTTExisted = this.pTTT.ThoiGianPt ? true : false;\n                }, (errors: any) => {\n                    this.closePopupLoadingData();\n                    if (errors.ValidationErrors != null) {\n                        this.validationErrors = errors.ValidationErrors;\n\n                        if (this.validationErrors.some(x => x.Field.includes('MoTa'))) {\n                            this.showValidationMoTa = true;\n                        }\n                    }\n                    if (errors.ValidationErrors == null) {\n                        this.notificationService.showError(errors.Message);\n                    }\n                });\n        }\n    }\n\n    saveDataLoading() {\n        this.popup = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: 'Đang lưu dữ liệu...' }\n        });\n    }\n\n    closePopupLoadingData() {\n        this.popup.close();\n    }\n\n    getKhoaPhong(phongBenhVienId: any = 0, ycdvktId: number = -1) {\n        const self = this;\n\n        if (self.validationErrors != null && self.validationErrors.some(x => x)) {\n            self.validationErrors = [];\n        }\n\n        self.ycdvktId = ycdvktId;\n        // tslint:disable-next-line: triple-equals\n        if (phongBenhVienId == 0 && ycdvktId === -1) {\n            self.khoaPhong = null;\n            return;\n        }\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.View)) {\n            self.apiService.get<any>(\n                `PhauThuatThuThuat/GetThongTinKhoa?phongBenhVienId=${phongBenhVienId}&&ycdvktId=${ycdvktId}`\n            ).subscribe((res) => {\n                if (res) {\n                    self.khoaPhong = res.KhoaPhong;\n                    self.pTTT = { ...res };\n                    self.pTTT.LuocDoPhauThuats = [...res.LuocDoPhauThuats];\n                    self.canChange = true;\n                    self.displaySaveCclForTuongTrinh.emit(false);\n\n                    if(self.pTTT.ThoiGianPt) {\n                        this.isThoiGianBatDauPTTTExisted = true;\n                    }\n\n                    if(!self.pTTTChinh) {\n                        self.pTTTChinh = res.NhanVienThucHienDisplay\n                    }\n                }\n            });\n        } else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    //#region Image\n    UpLoadFile() {\n        this.dialog.open(PhauThuatThuThuatLuocDoPopupComponent, {\n            disableClose: true,\n            width: '1000px',\n            data: 'KetQua'\n        })\n            .afterClosed()\n            .subscribe(result => {\n                if (result == null) {\n                    return;\n                }\n\n                this.OnChange();\n                const data = new LuocDoPhauThuatModel();\n                data.LuocDoPhauThuat = result.Url;\n                data.MoTa = result.MoTa;\n\n                this.pTTT.LuocDoPhauThuats.push(data);\n            });\n    }\n\n    DeleteAnh(thongTinAnh: LuocDoPhauThuatModel) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xác nhận\", Message: `Bạn có muốn xoá lược đồ này không?` }\n        }).afterClosed().subscribe(result => {\n            if (result === \"Yes\") {\n                if (this.pTTT.LuocDoPhauThuats.length !== 0) {\n                    this.OnChange();\n                    const position = this.pTTT.LuocDoPhauThuats.indexOf(thongTinAnh);\n                    this.pTTT.LuocDoPhauThuats.splice(position, 1);\n                }\n            }\n        });\n    }\n\n    ViewImage(thongTinAnh: LuocDoPhauThuatModel) {\n        if (!thongTinAnh.MoTa) {\n            thongTinAnh.MoTa = null;\n        }\n\n        this.dialog.open(ViewImagePdfComponent, {\n            disableClose: false,\n            width: '1000px',\n            height: '600px',\n            data: {\n                Type: 'Image', Title: 'Xem ảnh', Description: (thongTinAnh.MoTa ? thongTinAnh.MoTa : ''),\n                Src: thongTinAnh.LuocDoPhauThuat\n            }\n        });\n    }\n\n    setThoiGianBatDauPhauThuat() {\n        if(this.pTTT && !this.isThoiGianBatDauPTTTExisted) {\n            this.pTTT.ThoiGianPt = new Date();\n            this.OnChange();\n        }\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9waGF1LXRodWF0LXRodS10aHVhdC9waGF1LXRodWF0LXRodS10aHVhdC10aGVvLW5nYXkvcHR0dC1rZXQtdGh1Yy10dW9uZy10cmluaC1wb3B1cC9wdHR0LWtldC10aHVjLXR1b25nLXRyaW5oLXBvcHVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Inject, OnDestroy } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { SystemMessage, PtttMessage } from 'src/app/shared/configdata/system-message';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { BroadcastService } from 'src/app/core/services/broadcast.service';\ndeclare var $: any;\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-pttt-ket-thuc-tuong-trinh-popup',\n    templateUrl: './pttt-ket-thuc-tuong-trinh-popup.component.html',\n    styleUrls: ['./pttt-ket-thuc-tuong-trinh-popup.component.scss']\n})\nexport class PtttKetThucTuongTrinhPopupComponent implements OnInit, OnDestroy {\n    documentType: DocumentType = DocumentType.PhauThuatThuThuatTheoNgay;\n    popup: any;\n    ycdvktId;\n    messageShowInPopup = PtttMessage.MessageKetThucTuongTrinhDisplayPopup;\n\n    icClose = icClose;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public data: any,\n        private dialog: MatDialog,\n        private dialogRef: MatDialogRef<any>,\n        private broadcastService: BroadcastService,\n        private apiService: ApiService,\n        private notificationService: NotificationService,\n        private authService: AuthService\n    ) { }\n\n    ngOnInit() {\n        const self = this;\n        self.documentType = DocumentType.PhauThuatThuThuatTheoNgay;\n        self.ycdvktId = self.data;\n    }\n\n    close() {\n        this.dialog.closeAll();\n    }\n\n    saveDataLoading() {\n        this.popup = this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: 'Đang lưu dữ liệu...' }\n        });\n    }\n\n    closePopupLoadingData() {\n        this.popup.close();\n    }\n\n    // tslint:disable-next-line: use-lifecycle-interface\n    ngAfterContentInit() {\n        $('mat-dialog-container.mat-dialog-container').css('overflow', 'hidden');\n    }\n\n    ngOnDestroy() {\n        $('mat-dialog-container.mat-dialog-container').css('overflow', '');\n    }\n\n    ketThuc() {\n        const self = this;\n        self.saveDataLoading();\n        if (self.authService.hasPermission(self.documentType, SecurityOperation.Update)) {\n            self.apiService.get<any>(\n                `PhauThuatThuThuat/KetThucTuongTrinh?ycdvktId=${self.ycdvktId}`\n            ).subscribe(() => {\n                self.closePopupLoadingData();\n                self.notificationService.showSuccess(PtttMessage.MessageKetThucTuongTrinhThanhCong);\n                self.dialogRef.close('confirm');\n            }, err => {\n                self.notificationService.showError(err.Message);\n                self.closePopupLoadingData();\n                self.dialogRef.close('confirm');\n            });\n        } else {\n            self.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { GridModule } from '@progress/kendo-angular-grid';\nimport { IntlModule } from '@progress/kendo-angular-intl';\nimport { registerLocaleData } from '@angular/common';\nimport localeVi from '@angular/common/locales/vi';\nregisterLocaleData(localeVi, 'vi');\nimport { PhauThuatThuThuatRoutingModule } from './phau-thuat-thu-thuat-routing.module';\nimport { PageLayoutModule } from 'src/@vex/components/page-layout/page-layout.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { BreadcrumbsModule } from 'src/@vex/components/breadcrumbs/breadcrumbs.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TooltipModule } from '@progress/kendo-angular-tooltip';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport {\n    MatIconModule,\n    MatMenuModule,\n    MatButtonToggleModule,\n    MatTooltipModule,\n    MatButtonModule,\n    MatDialogModule,\n    MatCheckboxModule,\n    MatRadioModule\n} from '@angular/material';\nimport { IconModule } from '@visurel/iconify-angular';\nimport { LayoutModule } from '@progress/kendo-angular-layout';\nimport { PhauThuatThuThuatService } from './phau-thuat-thu-thuat.service';\nimport { ScrollToModule } from 'ng2-scroll-to-el';\nimport { MatInputModule, MatOptionModule, MatSelectModule, MatTabsModule } from '@angular/material';\nimport { ImageDrawingModule } from 'ngx-image-drawing';\nimport { PhauThuatThuThuatTheoNgayComponent } from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-ngay.component';\nimport {\n    PhauThuatThuThuatGhiNhanComponent\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ghi-nhan/pttt-ghi-nhan.component';\nimport {\n    PhauThuatThuThuatTuongTrinhPTTTComponent\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-tuong-trinh-pttt/pttt-tuong-trinh-pttt.component';\nimport {\n    PhauThuatThuThuatLuocDoPopupComponent\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-luoc-do-popup/phau-thuat-thu-thuat-luoc-do-popup.component';\nimport {\n    PhauThuatThuThuatEkipThucHienComponent\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ekip-thuc-hien/pttt-ekip-thuc-hien.component';\nimport {\n    PhauThuatThuThuatKetLuanComponent\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-ket-luan/phau-thuat-thu-thuat-ket-luan.component';\nimport {\n    PhauThuatThuThuatTheoDoiComponent\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/phau-thuat-thu-thuat-theo-doi.component';\nimport {\n    PhauThuatThuThuatBenhNhanDaPhauThuatComponent\n// tslint:disable-next-line: max-line-length\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-benh-nhan-da-phau-thuat/phau-thuat-thu-thuat-benh-nhan-da-phau-thuat.component';\nimport {\n    PhauThuatThuThuatTheoDoiCoQuanComponent\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/pttt-theo-doi-co-quan/pttt-theo-doi-co-quan.component';\nimport {\n    PhauThuatThuThuatTheoDoiSinhTonComponent\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/pttt-theo-doi-sinh-ton/pttt-theo-doi-sinh-ton.component';\nimport {\n    PhauThuatThuThuatEkipThucHienNvComponent\n// tslint:disable-next-line: max-line-length\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ekip-thuc-hien/pttt-ekip-thuc-hien-nv/pttt-ekip-thuc-hien-nv.component';\nimport {\n    PhauThuatThuThuatCanLamSanComponent\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/phau-thuat-thu-thuat-can-lam-san.component';\nimport {\n    PhauThuatThuThuatTuVongPopupComponent\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tu-vong-popup/phau-thuat-thu-thuat-tu-vong-popup.component';\nimport {\n    PhauThuatThuThuatTuongTrinhComponent\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/phau-thuat-thu-thuat-tuong-trinh.component';\nimport {\n    PhauThuatThuThuatSinhTonComponent\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-sinh-ton/pttt-sinh-ton.component';\nimport {\n    PhauThuatThuThuatBnTiepTheoPopupComponent\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-bn-tiep-theo-popup/phau-thuat-thu-thuat-bn-tiep-theo-popup.component';\nimport {\n    PtttTheoDoiBoPhanKhacComponent\n} from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-theo-doi/pttt-theo-doi-bo-phan-khac/pttt-theo-doi-bo-phan-khac.component';\nimport {\n    BenhNhanDaHoanThanhPtttPopupComponent\n} from './phau-thuat-thu-thuat-theo-ngay/benh-nhan-da-hoan-thanh-pttt-popup/benh-nhan-da-hoan-thanh-pttt-popup.component';\nimport {\n    PtttKetThucTuongTrinhPopupComponent\n} from './phau-thuat-thu-thuat-theo-ngay/pttt-ket-thuc-tuong-trinh-popup/pttt-ket-thuc-tuong-trinh-popup.component';\nimport { KhongThucHienPtttPopupComponent } from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/khong-thuc-hien-pttt-popup/khong-thuc-hien-pttt-popup.component';\nimport { PtttClsInChiDinhComponent } from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/pttt-cls-in-chi-dinh/pttt-cls-in-chi-dinh.component';\nimport { PdfViewerModule } from 'ng2-pdf-viewer';\nimport { KhongThucHienPtttListPopupComponent } from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/khong-thuc-hien-pttt-list-popup/khong-thuc-hien-pttt-list-popup.component';\nimport { LichSuDvKhongThucHienComponent } from './phau-thuat-thu-thuat-theo-ngay/lich-su-dv-khong-thuc-hien/lich-su-dv-khong-thuc-hien.component';\nimport { PtttClsKqPopupComponent } from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/pttt-cls-kq-popup/pttt-cls-kq-popup.component';\nimport { PtttClsGoiDichVuPopupComponent } from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/pttt-cls-goi-dich-vu-popup/pttt-cls-goi-dich-vu-popup.component';\nimport { LanKhamHienTaiSuDungGoiDichVuPopupComponent } from '../kham-benh/kham-benh/lan-kham-hien-tai/lan-kham-hien-tai-su-dung-goi-dich-vu-popup/lan-kham-hien-tai-su-dung-goi-dich-vu-popup.component';\nimport { KhamBenhModule } from '../kham-benh/kham-benh.module';\nimport { PttClsChayLaiXnPopupComponent } from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-can-lam-san/ptt-cls-chay-lai-xn-popup/ptt-cls-chay-lai-xn-popup.component';\nimport { DichVuKhuyenMaiModule } from '../dich-vu-khuyen-mai/dich-vu-khuyen-mai.module';\nimport { PtttGhiNhanHoanTraPopupComponent } from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ghi-nhan-hoan-tra-popup/pttt-ghi-nhan-hoan-tra-popup.component';\nimport { PtttGhiNhanCapNhatPopupComponent } from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-ghi-nhan-cap-nhat-popup/pttt-ghi-nhan-cap-nhat-popup.component';\nimport { LayMauXetNghiemModule } from '../xet-nghiem/lay-mau-xet-nghiem/lay-mau-xet-nghiem.module';\nimport { PtttDpVtTuGoiPopupComponent } from './phau-thuat-thu-thuat-theo-ngay/phau-thuat-thu-thuat-tuong-trinh/pttt-dp-vt-tu-goi-popup/pttt-dp-vt-tu-goi-popup.component';\n\n@NgModule({\n    declarations: [\n        PhauThuatThuThuatTheoNgayComponent,\n        PhauThuatThuThuatTuongTrinhPTTTComponent,\n        PhauThuatThuThuatGhiNhanComponent,\n        PhauThuatThuThuatEkipThucHienComponent,\n        PhauThuatThuThuatKetLuanComponent,\n        PhauThuatThuThuatTheoDoiComponent,\n        PhauThuatThuThuatBenhNhanDaPhauThuatComponent,\n        PhauThuatThuThuatTheoDoiCoQuanComponent,\n        PhauThuatThuThuatTheoDoiSinhTonComponent,\n        PhauThuatThuThuatEkipThucHienNvComponent,\n        PhauThuatThuThuatCanLamSanComponent,\n        PhauThuatThuThuatLuocDoPopupComponent,\n        PhauThuatThuThuatTuVongPopupComponent,\n        PhauThuatThuThuatTuongTrinhComponent,\n        PhauThuatThuThuatSinhTonComponent,\n        PhauThuatThuThuatBnTiepTheoPopupComponent,\n        PtttTheoDoiBoPhanKhacComponent,\n        BenhNhanDaHoanThanhPtttPopupComponent,\n        PtttKetThucTuongTrinhPopupComponent,\n        KhongThucHienPtttPopupComponent,\n        PtttClsInChiDinhComponent,\n        KhongThucHienPtttListPopupComponent,\n        LichSuDvKhongThucHienComponent,\n        PtttClsKqPopupComponent,\n        PtttClsGoiDichVuPopupComponent,\n        PttClsChayLaiXnPopupComponent,\n        PtttGhiNhanHoanTraPopupComponent,\n        PtttGhiNhanCapNhatPopupComponent,\n        PtttDpVtTuGoiPopupComponent\n    ],\n    imports: [\n        ReactiveFormsModule,\n        MatInputModule,\n        MatOptionModule,\n        MatSelectModule,\n        MatTabsModule,\n        CommonModule,\n        PageLayoutModule,\n        FlexLayoutModule,\n        BreadcrumbsModule,\n        FormsModule,\n        TooltipModule,\n        SharedModule,\n        MatIconModule,\n        IconModule,\n        MatMenuModule,\n        MatButtonToggleModule,\n        MatTooltipModule,\n        MatButtonModule,\n        LayoutModule,\n        MatDialogModule,\n        MatCheckboxModule,\n        PhauThuatThuThuatRoutingModule,\n        ScrollToModule.forRoot(),\n        GridModule,\n        IntlModule,\n        MatRadioModule,\n        ImageDrawingModule,\n        PdfViewerModule,\n        KhamBenhModule,\n        DichVuKhuyenMaiModule,\n        LayMauXetNghiemModule\n    ],\n    providers: [\n        PhauThuatThuThuatService,\n        {\n            provide: PhauThuatThuThuatService, useClass: PhauThuatThuThuatService\n        }\n    ],\n    entryComponents: [\n        PhauThuatThuThuatLuocDoPopupComponent,\n        PhauThuatThuThuatTuVongPopupComponent,\n        PhauThuatThuThuatBnTiepTheoPopupComponent,\n        BenhNhanDaHoanThanhPtttPopupComponent,\n        PtttKetThucTuongTrinhPopupComponent,\n        KhongThucHienPtttPopupComponent,\n        PtttClsInChiDinhComponent,\n        KhongThucHienPtttListPopupComponent,\n        LichSuDvKhongThucHienComponent,\n        PtttClsKqPopupComponent,\n        PtttClsGoiDichVuPopupComponent,\n        LanKhamHienTaiSuDungGoiDichVuPopupComponent,\n        PttClsChayLaiXnPopupComponent,\n        PtttGhiNhanHoanTraPopupComponent,\n        PtttGhiNhanCapNhatPopupComponent,\n        PtttDpVtTuGoiPopupComponent\n    ]\n})\nexport class PhauThuatThuThuatModule { }\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { BaseService } from 'src/app/core/services/base.service';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { BehaviorSubject, Subject } from 'rxjs';\n\n@Injectable()\n\nexport class PhauThuatThuThuatService extends BaseService implements OnDestroy {\n    controllerName = 'PhauThuatThuThuat';\n\n    tuongThuatIdSubj: Subject<any>;\n\n    constructor(apiService: ApiService) {\n        super(apiService);\n        this.tuongThuatIdSubj = new Subject();\n    }\n\n    setTuongThuatId(value) {\n        this.tuongThuatIdSubj.next(value);\n    }\n\n    getTuongThuatId() {\n        return this.tuongThuatIdSubj;\n    }\n\n    ngOnDestroy() {\n        if (this.tuongThuatIdSubj) {\n            this.tuongThuatIdSubj.unsubscribe();\n        }\n    }\n}\n","export enum NhomDichVu\n{\n    DichVuKhamBenh = \"DỊCH VỤ KHÁM BỆNH\",\n    DichVuKyThuat = \"DỊCH VỤ KỸ THUẬT\",\n    DichVuGiuong = \"DỊCH VỤ GIƯỜNG\",\n    VatTuTieuHao = \"VẬT TƯ TIÊU HAO\",\n    GoiCoChietKhau = \"GÓI CÓ CHIẾT KHẤU\",\n    DuocPham = \"DƯỢC PHẨM\"\n}\n\n\nexport enum DisplayNameTinhTrangDichVu\n{\n    ChuaThucHien = \"Chưa thực hiện\",\n    DangThucHien = \"Đang thực hiện\",\n    DaThucHien = \"Đã thực hiện\",\n    DaHuy = \"Đã hủy\",\n\n    ChuaKham = \"Chưa khám\",\n    DangKham = \"Đang khám\",\n    DaKham = \"Đã khám\",\n    DangLamChiDinh = \"Đang làm chỉ định\",\n    DangDoiKetLuan = \"Đang đợi kết luận\",\n}","export enum GioiTinh {\n    Nam = 1,\n    Nu = 2,\n}\n\nexport enum CapHanhChinh {\n    TinhThanhPho = 1,\n    QuanHuyen = 2,\n    PhuongXa = 3\n}\n\nexport enum VungDiaLy {\n    TayBacBo = 1,\n\n    DongBacBo = 2,\n\n    DongBangSongHong = 3,\n\n    BacTrungBo = 4,\n\n    NamTrungBo = 5,\n\n    TayNguyen = 6,\n\n    DongNamBo = 7,\n\n    DongBangSongCuuLong = 8\n}\n\nexport enum LoaiTapTin {\n    Image = 1,\n    Pdf = 2,\n    Khac = 10\n}","export enum LoaiDichVuKyThuat {\n    ThuThuatPhauThuat = 1,\n    XetNghiem = 2,\n    ChuanDoanHinhAnh = 3,\n    ThamDoChucNang = 4,\n    TheoYeuCau = 5,\n    Khac = 6\n}\n\nexport enum TrangThaiYeuCauDichVuKyThuat {\n    ChuaThucHien = 1,\n    DangThucHien = 2,\n    DaThucHien = 3,\n    DaHuy = 4\n}","export enum EnumNhomChucDanh\n{\n    BacSi = 1,\n    BacSiDuPhong = 2,\n    YSi = 3,\n    YTeCongCong = 4,\n    DieuDuong = 5,\n    HoSinh = 6,\n    KyThuatYTe = 7,\n    DuocSi = 8,\n    Khac = 9,\n}"],"sourceRoot":"webpack:///"}