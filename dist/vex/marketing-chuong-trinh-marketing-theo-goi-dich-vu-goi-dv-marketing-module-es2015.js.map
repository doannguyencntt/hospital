{"version":3,"sources":["./node_modules/@iconify/icons-ic/content-copy.js","./node_modules/@iconify/icons-ic/sharp-edit.js","./node_modules/@iconify/icons-ic/twotone-done.js","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/chi-tiet-su-dung-chuong-trinh-goi-dv/chi-tiet-su-dung-chuong-trinh-goi-dv.component.html","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing-create/goi-dv-marketing-create.component.html","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing-list/goi-dv-marketing-list.component.html","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing-shared/goi-dv-marketing-shared.component.html","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing-update/goi-dv-marketing-update.component.html","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/loai-dich-vu-popup/loai-dich-vu-popup.component.html","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/nhap-sau-chiet-khau-popup/nhap-sau-chiet-khau-popup.component.html","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/nhap-truoc-chiet-khau-popup/nhap-truoc-chiet-khau-popup.component.html","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/chi-tiet-su-dung-chuong-trinh-goi-dv/chi-tiet-su-dung-chuong-trinh-goi-dv.component.scss","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/chi-tiet-su-dung-chuong-trinh-goi-dv/chi-tiet-su-dung-chuong-trinh-goi-dv.component.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing-create/goi-dv-marketing-create.component.scss","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing-create/goi-dv-marketing-create.component.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing-list/goi-dv-marketing-list.component.scss","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing-list/goi-dv-marketing-list.component.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing-routing.module.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing-shared/goi-dv-marketing-shared.component.scss","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing-shared/goi-dv-marketing-shared.component.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing-update/goi-dv-marketing-update.component.scss","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing-update/goi-dv-marketing-update.component.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing.model.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing.module.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/goi-dv-marketing.service.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/loai-dich-vu-popup/loai-dich-vu-popup.component.scss","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/loai-dich-vu-popup/loai-dich-vu-popup.component.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/nhap-sau-chiet-khau-popup/nhap-sau-chiet-khau-popup.component.scss","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/nhap-sau-chiet-khau-popup/nhap-sau-chiet-khau-popup.component.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/nhap-truoc-chiet-khau-popup/nhap-truoc-chiet-khau-popup.component.scss","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-goi-dich-vu/nhap-truoc-chiet-khau-popup/nhap-truoc-chiet-khau-popup.component.ts"],"names":[],"mappings":"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","file":"marketing-chuong-trinh-marketing-theo-goi-dich-vu-goi-dv-marketing-module-es2015.js","sourcesContent":["var data = {\n\t\"body\": \"<path d=\\\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM21.41 6.34l-3.75-3.75-2.53 2.54 3.75 3.75 2.53-2.54z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","var data = {\n\t\"body\": \"<path d=\\\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","export default \"<div mat-dialog-title fxLayout=\\\"column\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"title\\\">\\n    <h3>CHI TIẾT NGƯỜI BỆNH ĐÃ SỬ DỤNG</h3>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<div class=\\\"grid-container\\\">\\n    <div>Mã: <strong>{{goiMarketing.Ma}}</strong></div>\\n    <div class=\\\"program\\\" kendoTooltip title=\\\"{{goiMarketing.Ten}}\\\">Tên chương trình: <strong>{{goiMarketing.Ten}}</strong></div>\\n    <div>Gói DV: <strong>{{goiMarketing.GoiDichVu}}</strong></div>\\n    <div>Giá trước CK: <strong>{{goiMarketing.GiaTruocChietKhau | currency: 'VND' }}</strong></div>\\n    <div>Giá sau CK: <strong>{{goiMarketing.GiaSauChietKhau | currency: 'VND' }}</strong></div>\\n    <div>Hạn dùng: <strong>{{goiMarketing.TuNgayDisplay}} - {{goiMarketing.DenNgayDisplay}}</strong>\\n    </div>\\n</div>\\n<mat-dialog-content>\\n    <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\" class=\\\"py-1 content\\\">\\n        <fieldset class=\\\"row ml-1\\\" fxFlex=\\\"100%\\\">\\n            <app-grid [gridColumns]=\\\"gridColumn\\\" [sort]=\\\"sort\\\" additionalSearchString={{goiMarketing.Id}} [useAddDeault]=\\\"false\\\" class=\\\"k-grid-border\\\" [useHeaderDefault]=\\\"false\\\" [headerTemplate]=\\\"headerTemplate\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\"\\n                style=\\\"width: 1px;\\\" [pageable]=\\\"true\\\" [urlGetData]=\\\"urlGetData\\\" [urlGetTotalPage]=\\\"urlGetTotalPage\\\" #gridYeuCau>\\n            </app-grid>\\n        </fieldset>\\n    </div>\\n</mat-dialog-content>\\n\\n<ng-template #orderTemplate let-i=\\\"rowIndex\\\">\\n    {{i + 1}}\\n</ng-template>\\n\\n<ng-template #ngayDangKyTemplate let-dataItem>\\n    <span>{{dataItem.NgayDangKyDisplay}}</span>\\n</ng-template>\\n\\n<ng-template #headerTemplate>\\n    <div class=\\\"bg-app-bar px-0 h-15 border-b sticky left-0\\\">\\n        <div fxFlex=\\\"80%\\\" fxFlex.sm=\\\"80%\\\">\\n            <div class=\\\"bg-card rounded-full border px-4\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\" style=\\\"margin-top: 2px;margin-left: 5px;\\\">\\n                <ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n                <input [formControl]=\\\"searchCtrl\\\" class=\\\"px-3 py-2 border-0 outline-none w-full bg-transparent\\\" type=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"searchString\\\" (keyup)=\\\"onKey($event)\\\" placeholder=\\\"Nhập từ khóa tìm kiếm...\\\" (ngModelChange)=\\\"searchChange()\\\"\\n                />\\n            </div>\\n        </div>\\n    </div>\\n</ng-template>\"","export default \"<app-header-form [crumbs]=\\\"[\\n{Title:'Marketing',Path:''}\\n,{Title:'Chương Trình Marketing',Path:''}\\n,{Title:'Theo Gói Dịch Vụ',Path:'/marketing/ct-marketing/goi-dv', queryParams: {holdQuery : true}, Active: true}\\n]\\\" [isicMoreVert]=\\\"false\\\">\\n</app-header-form>\\n\\n<div class=\\\"p-gutter\\\" vexContainer>\\n\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n        <div class=\\\"card\\\" fxFlex=\\\"auto\\\">\\n            <div class=\\\"px-6 py-4 border-b\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n                <h2 class=\\\"title m-0\\\">TẠO CHƯƠNG TRÌNH MARKETING THEO GÓI DỊCH VỤ</h2>\\n            </div>\\n\\n            <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\">\\n\\n                <app-goi-dv-marketing-shared [isCreate]=\\\"true\\\"></app-goi-dv-marketing-shared>\\n\\n                <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n                    <app-formfooter [bodyComponent]=\\\"shared\\\" (created)=\\\"onCreated()\\\" (validateClient)=\\\"onValidateClient($event)\\\" #footer></app-formfooter>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\"","export default \"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-15\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <div>\\n                <vex-breadcrumbs [crumbs]=\\\"[\\n              {Title:'Marketing',Path:''}\\n              ,{Title:'Chương Trình Marketing',Path:''}\\n              ,{Title:'Theo Gói Dịch Vụ',Path:'/marketing/ct-marketing/goi-dv', Active: true}\\n            ]\\\">\\n                </vex-breadcrumbs>\\n            </div>\\n        </div>\\n    </vex-page-layout-header>\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div class=\\\"card overflow-auto -mt-15\\\">\\n            <app-grid baseRoute=\\\"/marketing/ct-marketing/goi-dv\\\" [searchString]=\\\"search.SearchString\\\" [gridColumns]=\\\"gridColumns\\\" [additionalSearchString]=\\\"additionalSearchString\\\" [documentType]=\\\"documentType\\\" [useHeaderDefault]=\\\"false\\\" [headerTemplate]=\\\"headerTemplate\\\"\\n                [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\" [checkboxAble]=\\\"false\\\" [showExportExcel]=\\\"true\\\" (extExportExcel)=\\\"exportExcel()\\\" [showStt]=\\\"true\\\" #gridGoiDv>\\n            </app-grid>\\n            <ng-template #tinhTrangTemplate let-dataItem>\\n                <button *ngIf=\\\"dataItem.TamNgung == 1\\\" (click)=\\\"updateDichVu(dataItem.Id,dataItem.TamNgung)\\\" mat-menu-item>\\n                    <mat-icon [icIcon]=\\\"icClose\\\" color=\\\"warn\\\"></mat-icon><span>Ngừng sử dụng</span>\\n                </button>\\n                <button *ngIf=\\\"dataItem.TamNgung != 1\\\" (click)=\\\"updateDichVu(dataItem.Id,dataItem.TamNgung)\\\" mat-menu-item>\\n                    <mat-icon [icIcon]=\\\"icicdone\\\" color=\\\"primary\\\"></mat-icon><span>Đang sử dụng</span>\\n                </button>\\n            </ng-template>\\n        </div>\\n    </vex-page-layout-content>\\n</vex-page-layout>\\n<ng-template #actionTemplate let-dataItem>\\n    <button (click)=\\\"$event.stopPropagation()\\\" kendoTooltip title=\\\"Hành động\\\" [matMenuTriggerFor]=\\\"actionsMenu\\\" mat-icon-button type=\\\"button\\\">\\n        <mat-icon [icIcon]=\\\"icMoreHoriz\\\"></mat-icon>\\n    </button>\\n    <mat-menu #actionsMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n        <ng-template let-customer=\\\"customer\\\" matMenuContent>\\n            <button (click)=\\\"copy(dataItem.Id)\\\" mat-menu-item>\\n                <mat-icon [icIcon]=\\\"icCopy\\\"></mat-icon>\\n                <span>Copy</span>\\n            </button>\\n            <button (click)=\\\"delete(dataItem.Id)\\\" mat-menu-item>\\n                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                <span>Xóa</span>\\n            </button>\\n            <button (click)=\\\"detail(dataItem.Id)\\\" mat-menu-item>\\n                <mat-icon [icIcon]=\\\"icDetail\\\"></mat-icon>\\n                <span>Chi tiết sử dụng</span>\\n            </button>\\n        </ng-template>\\n    </mat-menu>\\n</ng-template>\\n<ng-template #orderTemplate let-i=\\\"rowIndex\\\">\\n    {{i + 1}}\\n</ng-template>\\n<ng-template #giaTruocChietKhauTemplate let-dataItem>\\n    {{ dataItem.GiaTruocChietKhau | number:'0.2-2':'vi-VN'}}\\n</ng-template>\\n<ng-template #giaSauChietKhauTemplate let-dataItem>\\n    {{ dataItem.GiaSauChietKhau | number:'0.2-2':'vi-VN'}}\\n</ng-template>\\n<ng-template #tuNgayTemplate let-dataItem>\\n    <span>{{dataItem.TuNgayDisplay}}</span>\\n</ng-template>\\n<ng-template #denNgayTemplate let-dataItem>\\n    <span>{{dataItem.DenNgayDisplay}}</span>\\n</ng-template>\\n<ng-template #tiLeChietKhauTemplate let-dataItem>\\n    {{ dataItem.TiLeChietKhau }}%\\n</ng-template>\\n\\n<ng-template #headerTemplate>\\n    <div class=\\\"bg-app-bar p-0 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n        <div style=\\\"margin-top: 5px;\\\" class=\\\"bg-card rounded-full border mb-1 ml-2\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n            <ic-icon class=\\\"ml-4\\\" [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n            <input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\" type=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"search.SearchString\\\" (keyup)=\\\"onKey($event)\\\" (ngModelChange)=\\\"clearSearch()\\\" placeholder=\\\"Nhập từ khóa...\\\" />\\n        </div>\\n\\n        <app-daterangepicker style=\\\"margin-left: 5px;\\\" id=\\\"range-ngay-bat-dau\\\" fxFlex=\\\"250px\\\" fxFlex.sm=\\\"auto\\\" [(model)]=\\\"search.RangeFromDate\\\" label=\\\"Ngày bắt đầu: từ ngày - đến ngày\\\" (keyup)=\\\"onKeyNgayBatDau($event)\\\" (modelChange)=\\\"changeNgayBatDauRange()\\\"\\n            (blur)=\\\"blur()\\\" class=\\\"mt-1 on-header\\\">\\n        </app-daterangepicker>\\n\\n        <app-daterangepicker style=\\\"margin-left: 5px;\\\" id=\\\"range-ngay-ket-thuc\\\" fxFlex=\\\"250px\\\" fxFlex.sm=\\\"auto\\\" (blur)=\\\"blur()\\\" [(model)]=\\\"search.RangeToDate\\\" label=\\\"Ngày kết thúc: từ ngày - đến ngày\\\" (keyup)=\\\"onKeyNgayKetThuc($event)\\\" (modelChange)=\\\"changeNgayKetThucRange()\\\"\\n            class=\\\"mt-1 on-header\\\">\\n        </app-daterangepicker>\\n\\n        <button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n        </button>\\n\\n        <span fxFlex></span>\\n        <button [matMenuTriggerFor]=\\\"columnFilterMenu\\\" class=\\\"mr-4\\\" fxFlex=\\\"none\\\" mat-icon-button kendoTooltip title=\\\"Lọc cột\\\" type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icFilterList\\\"></mat-icon>\\n        </button>\\n        <button (click)=\\\"exportExcel()\\\" class=\\\"mr-4\\\" fxFlex=\\\"none\\\" mat-icon-button kendoTooltip title=\\\"Xuất Excel\\\" type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icFileExcel\\\"></mat-icon>\\n        </button>\\n\\n        <mat-menu #columnFilterMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n            <div *ngFor=\\\"let column of gridColumns\\\">\\n                <button *ngIf=\\\"!column.HideFilter\\\" class=\\\"checkbox-item mat-menu-item mat-checkbox mat-primary mat-checkbox-disabled _mat-animation-noopable ng-untouched ng-pristine mat-checkbox-checked\\\">\\n                    <mat-checkbox [disabled]=\\\"true\\\" color=\\\"primary\\\">\\n                        {{ column.Title }}\\n                    </mat-checkbox>\\n                </button>\\n            </div>\\n        </mat-menu>\\n\\n        <button (click)=\\\"them()\\\" class=\\\"mr-6\\\" color=\\\"primary\\\" fxFlex=\\\"none\\\" mat-mini-fab kendoTooltip title=\\\"Thêm\\\" type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icAdd\\\"></mat-icon>\\n        </button>\\n\\n    </div>\\n</ng-template>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <app-textbox id=\\\"ma-ct\\\" [disabled]=\\\"notAllowChangeGoiDv\\\" fxFlex=\\\"25%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"20\\\"\\n        [required]=\\\"true\\\" [(model)]=\\\"goiMarketing.Ma\\\" label=\\\"Mã\\\"\\n        [validationerror]=\\\"'Ma' | validationerror:validationErrors\\\">\\n    </app-textbox>\\n\\n    <app-textbox id=\\\"ten-ct\\\" [disabled]=\\\"notAllowChangeGoiDv\\\" fxFlex=\\\"25%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"250\\\"\\n        [required]=\\\"true\\\" [(model)]=\\\"goiMarketing.Ten\\\" label=\\\"Tên Gói Theo Chương Trình\\\"\\n        [validationerror]=\\\"'Ten' | validationerror:validationErrors\\\">\\n    </app-textbox>\\n\\n    <app-datepicker id=\\\"tu-ngay\\\" [disabled]=\\\"notAllowChangeGoiDv\\\" fxFlex=\\\"25%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Từ Ngày\\\"\\n        [(model)]=\\\"goiMarketing.TuNgay\\\" [required]=\\\"true\\\"\\n        [validationerror]=\\\"'TuNgay' | validationerror:validationErrors\\\">\\n    </app-datepicker>\\n\\n    <app-datepicker id=\\\"den-ngay\\\" fxFlex=\\\"25%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Đến Ngày\\\" [(model)]=\\\"goiMarketing.DenNgay\\\"\\n        [validationerror]=\\\"'DenNgay' | validationerror:validationErrors\\\">\\n    </app-datepicker>\\n\\n    <app-combobox id=\\\"congty-bhtn-bao-lanh\\\" fxFlex=\\\"25%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Công ty BHTN Bảo lãnh\\\"\\n        url=\\\"TiepNhanBenhNhan/GetCongTyBaoHiemTuNhan\\\" [(model)]=\\\"goiMarketing.CongTyBaoHiemTuNhanId\\\" bind=\\\"true\\\">\\n    </app-combobox>\\n\\n    <!-- <div fxFlex=\\\"25%\\\" fxFlex.sm=\\\"100%\\\">\\n        <div class=\\\"container-custom no-label\\\">\\n            <label>&nbsp;</label>\\n            <div fxLayout=\\\"row\\\" fxLayoutGap=\\\"16px\\\">\\n                <app-checkbox id=\\\"GoiSoSinh\\\" fxFlex=\\\"100%\\\" value=\\\"true\\\" label=\\\"Gói dành cho trẻ sơ sinh\\\"\\n                    [(model)]=\\\"goiMarketing.GoiSoSinh\\\">\\n                </app-checkbox>\\n            </div>\\n        </div>\\n    </div> -->\\n\\n    <app-combobox fxFlex=\\\"20%\\\" [(model)]=\\\"goiMarketing.LoaiGoiDichVuId\\\" [modelText]=\\\"goiMarketing.TenLoaiGoiDichVu\\\"\\n        id=\\\"LoaiGoiDichVuId\\\" label=\\\"Loại gói\\\" url=\\\"GoiDichVuChuongTrinhMarketing/LoaiGoiDichVus\\\">\\n    </app-combobox>\\n\\n    <div fxFlex=\\\"5%\\\" class=\\\"mt-2\\\" fxLayoutAlign=\\\"start center\\\">\\n        <button (click)=\\\"themLoaiGoi()\\\" class=\\\"right\\\" color=\\\"primary\\\" fxFlex=\\\"none\\\" mat-mini-fab kendoTooltip title=\\\"Thêm\\\"\\n            type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icAdd\\\"></mat-icon>\\n        </button>\\n    </div>\\n\\n    <div fxFlex=\\\"25%\\\" fxFlex.sm=\\\"100%\\\">\\n        <div class=\\\"container-custom no-label\\\">\\n            <label>&nbsp;</label>\\n            <div fxLayout=\\\"row\\\" fxLayoutGap=\\\"16px\\\">\\n                <app-checkbox id=\\\"tam-ngung\\\" fxFlex=\\\"100%\\\" value=\\\"true\\\" label=\\\"Ngừng sử dụng\\\"\\n                    [(model)]=\\\"goiMarketing.TamNgung\\\">\\n                </app-checkbox>\\n            </div>\\n        </div>\\n    </div>\\n    <app-combobox id=\\\"ten-goi-dv\\\" [disabled]=\\\"notAllowChangeGoiDv\\\" fxFlex=\\\"25%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Nhóm Dịch Vụ\\\"\\n        url=\\\"GoiDichVuChuongTrinhMarketing/GetGoiDv\\\" [(model)]=\\\"goiMarketing.GoiDvId\\\" [modelText]=\\\"goiMarketing.GoiDv\\\"\\n        [required]=\\\"true\\\" [validationerror]=\\\"'GoiDvId' | validationerror:validationErrors\\\"\\n        (selectionChange)=\\\"onChangeGoiDichVu($event)\\\">\\n    </app-combobox>\\n\\n    <app-grid fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [gridColumns]=\\\"gridColumnsNhomDichVu\\\"\\n        [gridDataSource]=\\\"gridDataSourceNhomDichVu\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\"\\n        [groups]=\\\"groups\\\" [pageable]=\\\"false\\\" #gridNhomDichVu>\\n    </app-grid>\\n    <app-checkbox [disabled]=\\\"notAllowChangeGoiDv\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" class=\\\"mt-0\\\" id=\\\"qua-tang-kem-goi\\\"\\n        value=\\\"true\\\" label=\\\"QUÀ TẶNG KÈM THEO GÓI\\\" [(model)]=\\\"coQuaTang\\\" (modelChange)=\\\"onCheckQuaTang()\\\">\\n    </app-checkbox>\\n\\n    <ng-container>\\n        <app-combobox [disabled]=\\\"notAllowChangeGoiDv\\\" *ngIf=\\\"coQuaTang\\\" id=\\\"qua-tang\\\" fxFlex=\\\"30%\\\" fxFlex.sm=\\\"100%\\\"\\n            label=\\\"Quà Tặng\\\" url=\\\"GoiDichVuChuongTrinhMarketing/GetListQuaTang\\\" [(model)]=\\\"quaTang.QuaTangId\\\"\\n            class=\\\"item-no-padding\\\" bind=\\\"true\\\" [template]=\\\"dichVuKhamBenhTemplate\\\"\\n            [templateHeader]=\\\"dichVuKhamBenhTemplateHeader\\\" [required]=\\\"true\\\"\\n            [validationerror]=\\\"'QuaTangId' | validationerror:validationErrors\\\"\\n            (selectionChange)=\\\"onChangeQuaTang($event)\\\" (openCombobox)=\\\"openComboboxQuaTang($event)\\\"\\n            (keyup)=\\\"onKeyAddQua($event)\\\">\\n            <ng-template #dichVuKhamBenhTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"70%\\\">Tên</th>\\n                        <th>ĐVT</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #dichVuKhamBenhTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"70%\\\">{{dataItem.Ten}}</td>\\n                        <td>{{dataItem.Dvt}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n\\n        <app-textboxnumeric [disabled]=\\\"notAllowChangeGoiDv\\\" *ngIf=\\\"coQuaTang\\\" id=\\\"so-luong\\\"\\n            (keyup)=\\\"onKeyAddQua($event)\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"quaTang.SoLuong\\\" [spinners]=\\\"false\\\"\\n            [required]=\\\"true\\\" label=\\\"Số Lượng\\\" [min]=\\\"1\\\" [max]=\\\"9999999\\\"\\n            [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n\\n        <app-textbox *ngIf=\\\"coQuaTang\\\" [disabled]=\\\"notAllowChangeGoiDv\\\" id=\\\"ghi-chu\\\" (keyup)=\\\"onKeyAddQua($event)\\\"\\n            fxFlex=\\\"60%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"1000\\\" [(model)]=\\\"quaTang.GhiChu\\\" label=\\\"Ghi Chú\\\">\\n        </app-textbox>\\n\\n    </ng-container>\\n\\n    <div *ngIf=\\\"coQuaTang\\\" fxFlex=\\\"100%\\\">\\n        <div class=\\\"form-footer\\\" style=\\\"float: right;\\\">\\n            <button type=\\\"button\\\" (click)=\\\"Reset()\\\" [disabled]=\\\"notAllowChangeGoiDv\\\" mat-raised-button>Hủy</button>\\n            <button color=\\\"primary\\\" [disabled]=\\\"notAllowChangeGoiDv\\\" class=\\\"btn btn-raised btn-raised btn-primary mb-0\\\"\\n                (click)=\\\"Add()\\\" color=\\\"primary\\\" mat-raised-button>Thêm</button>\\n        </div>\\n    </div>\\n\\n    <app-grid *ngIf=\\\"coQuaTang\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [gridColumns]=\\\"gridColumns\\\"\\n        [gridDataSource]=\\\"gridDataSource\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\"\\n        [pageable]=\\\"false\\\" #gridQuaTangKem>\\n    </app-grid>\\n\\n    <ng-template #trangThaiTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <button [disabled]=\\\"notAllowChangeGoiDv\\\" style=\\\"color: red\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\"\\n                (click)=\\\"ConfirmDelete(dataItem)\\\">\\n                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n            </button>\\n        </div>\\n    </ng-template>\\n    <ng-template #soLuongTemplate let-dataItem>\\n        <app-textboxnumeric [disabled]=\\\"notAllowChangeGoiDv\\\" id=\\\"so-luong-grid\\\" [(model)]=\\\"dataItem.SoLuong\\\"\\n            [spinners]=\\\"false\\\" class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"1\\\" [max]=\\\"9999999\\\"\\n            [validationerror]=\\\"'dataItem[' + goiMarketing.QuaTangKems.indexOf(dataItem) + '].SoLuong' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n    </ng-template>\\n    <ng-template #sttTemplate let-i=\\\"rowIndex\\\">\\n        {{i + 1}}\\n    </ng-template>\\n    <ng-template #ghiChuTemplate let-dataItem>\\n        <app-textbox [disabled]=\\\"notAllowChangeGoiDv\\\" id=\\\"ghi-chu-grid\\\" fxFlex=\\\"100%\\\" maxlength=\\\"1000\\\" class=\\\"no-label\\\"\\n            minHeight=\\\"20\\\" [(model)]=\\\"dataItem.GhiChu\\\" label=\\\" \\\">\\n        </app-textbox>\\n    </ng-template>\\n\\n    <app-checkbox [disabled]=\\\"notAllowChangeGoiDv\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" class=\\\"mt-0\\\" id=\\\"khuyen-mai-kem-goi\\\"\\n        value=\\\"true\\\" label=\\\"DỊCH VỤ KHUYẾN MẠI KÈM THEO GÓI\\\" [(model)]=\\\"coKhuyenMai\\\" (modelChange)=\\\"onCheckKhuyenMai()\\\">\\n    </app-checkbox>\\n    <ng-container *ngIf=\\\"coKhuyenMai\\\">\\n\\n        <app-radio id=\\\"chon-loai-dv\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" name=\\\"select\\\" class=\\\"no-format-css pl-4 temp\\\"\\n            (modelChange)=\\\"onChangeGoiDvLuaChon($event)\\\" [(model)]=\\\"luaChonGoiDichVu\\\"\\n            [items]=\\\"[{Value:1,Text:'Dịch vụ khám'},{Value:2,Text:'Dịch vụ kỹ thuật'},{Value:3,Text:'Dịch vụ giường'}]\\\">\\n        </app-radio>\\n\\n        <app-combobox id=\\\"ten-dv\\\" fxFlex=\\\"40%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Tên Dịch Vụ\\\"\\n            url=\\\"{{luaChonGoiDichVu===1?'KhamBenh/GetDichVuKhamBenh':(luaChonGoiDichVu===2?'GoiDichVu/GetListDichVuKyThuat':'GoiDichVu/GetListDichVuGiuong')}}\\\"\\n            [(model)]=\\\"khuyenMaiKem.DvId\\\" class=\\\"item-no-padding\\\" bind=\\\"true\\\" [template]=\\\"dichVuKhamBenhTemplate\\\"\\n            [templateHeader]=\\\"dichVuKhamBenhTemplateHeader\\\" [required]=\\\"true\\\"\\n            [validationerror]=\\\"'DvId' | validationerror:validationErrors\\\" (selectionChange)=\\\"onChangeDichVu($event)\\\"\\n            (openCombobox)=\\\"openComboboxKhamBenh($event)\\\" (keyup)=\\\"onKeyAddDv($event)\\\">\\n            <ng-template #dichVuKhamBenhTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"30%\\\">Mã</th>\\n                        <th>Tên</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #dichVuKhamBenhTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"30%\\\">{{dataItem.Ma}}</td>\\n                        <td>{{dataItem.Ten}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n        <app-dropdownlist id=\\\"loai-gia\\\" (openDropDownList)=\\\"openComboboxLoaiGiaKhamBenh($event)\\\" fxFlex=\\\"10%\\\"\\n            fxFlex.sm=\\\"50%\\\" label=\\\"Loại Giá\\\" [data]=\\\"danhSachLoaiGia\\\" [(model)]=\\\"khuyenMaiKem.LoaiGia\\\"\\n            [validationerror]=\\\"'LoaiGia' | validationerror:validationErrors\\\" (keyup)=\\\"onKeyAddDv($event)\\\" bind=\\\"true\\\"\\n            [required]=\\\"true\\\" (selectionChange)=\\\"onChangeLoaiGia($event)\\\">\\n        </app-dropdownlist>\\n\\n        <app-textboxnumeric id=\\\"so-luong\\\" (keyup)=\\\"onKeyAddDv($event)\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"50%\\\"\\n            [(model)]=\\\"khuyenMaiKem.SoLuong\\\" (modelChange)=\\\"ChangeSoLuong($event)\\\" [required]=\\\"true\\\" label=\\\"Số Lượng\\\"\\n            [min]=\\\"1\\\" [max]=\\\"10000\\\" [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n\\n        <app-textboxnumeric id=\\\"don-gia\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"50%\\\" [(model)]=\\\"khuyenMaiKem.DonGia\\\" [spinners]=\\\"false\\\"\\n            label=\\\"Đơn Giá\\\" [disabled]=\\\"true\\\" [validationerror]=\\\"'DonGia' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n\\n        <!--BVHD-3238 => Khách hàng mong muốn  cho phép lưu bằng 0  -->\\n        <app-textboxnumeric id=\\\"don-gia-khuyen-mai\\\" (keyup)=\\\"onKeyAddDv($event)\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"50%\\\"\\n            [required]=\\\"true\\\" [(model)]=\\\"khuyenMaiKem.DonGiaKhuyenMai\\\" (modelChange)=\\\"ChangeDonGiaKhuyenMai($event)\\\"\\n            [spinners]=\\\"false\\\" label=\\\"Đơn Giá KM\\\"\\n            [validationerror]=\\\"'DonGiaKhuyenMai' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n\\n        <app-textboxnumeric id=\\\"thanh-tien\\\" (keyup)=\\\"onKeyAddDv($event)\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"50%\\\"\\n            [(model)]=\\\"khuyenMaiKem.ThanhTien\\\" [spinners]=\\\"false\\\" label=\\\"Thành Tiền\\\" [disabled]=\\\"true\\\">\\n        </app-textboxnumeric>\\n\\n        <app-textboxnumeric id=\\\"SoNgaySuDung\\\" (keyup)=\\\"onKeyAddDv($event)\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"50%\\\"\\n            [(model)]=\\\"khuyenMaiKem.SoNgaySuDung\\\" [required]=\\\"true\\\" label=\\\"Số ngày sử dụng\\\" [min]=\\\"1\\\" [max]=\\\"10000\\\"\\n            [validationerror]=\\\"'SoNgaySuDung' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n        <app-textarea id=\\\"ghi-chu\\\" (keyup)=\\\"onKeyAddDv($event)\\\" fxFlex=\\\"100%\\\" maxlength=\\\"1000\\\" minHeight=\\\"20\\\"\\n            [(model)]=\\\"khuyenMaiKem.GhiChu\\\" label=\\\"Ghi Chú\\\">\\n        </app-textarea>\\n\\n        <div fxFlex=\\\"100%\\\">\\n\\n            <div class=\\\"form-footer\\\" style=\\\"float: right;\\\">\\n                <button type=\\\"button\\\" (click)=\\\"ResetKhuyenMai()\\\" [disabled]=\\\"notAllowChangeGoiDv\\\"\\n                    mat-raised-button>Hủy</button>\\n                <button color=\\\"primary\\\" [disabled]=\\\"notAllowChangeGoiDv\\\"\\n                    class=\\\"btn btn-raised btn-raised btn-primary mb-0\\\" (click)=\\\"AddKhuyenMai()\\\" color=\\\"primary\\\"\\n                    mat-raised-button>Thêm</button>\\n            </div>\\n        </div>\\n    </ng-container>\\n\\n    <app-grid *ngIf=\\\"coKhuyenMai\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [gridColumns]=\\\"gridColumnsKhuyenMai\\\"\\n        [gridDataSource]=\\\"gridDataSourceKhuyenMai\\\" [documentType]=\\\"documentType\\\" [useAddDeault]=\\\"false\\\"\\n        [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [autoHeight]=\\\"true\\\"\\n        [groups]=\\\"groups\\\" [pageable]=\\\"false\\\" #gridKhuyenMaiKem>\\n    </app-grid>\\n\\n    <ng-template #soLuongKMTemplate let-dataItem>\\n        <app-textboxnumeric [disabled]=\\\"notAllowChangeGoiDv\\\" id=\\\"so-luong-grid\\\" [(model)]=\\\"dataItem.SoLuong\\\"\\n            [spinners]=\\\"true\\\" class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"1\\\" [max]=\\\"9999999\\\"\\n            (modelChange)=\\\"ChangeSoLuongDataItem($event,dataItem)\\\"\\n            [validationerror]=\\\"'dataItem[' + goiMarketing.KhuyenMaiKems.indexOf(dataItem) + '].SoLuong' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n    </ng-template>\\n    <ng-template #donGiaKMTemplate let-dataItem>\\n        <app-textboxnumeric [disabled]=\\\"notAllowChangeGoiDv\\\" id=\\\"so-luong-grid\\\" [(model)]=\\\"dataItem.DonGiaKhuyenMai\\\"\\n            [spinners]=\\\"false\\\" class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"0\\\" [max]=\\\"999999999\\\"\\n            (modelChange)=\\\"ChangeDonGiaKhuyenMaiDataItem($event,dataItem)\\\"\\n            [validationerror]=\\\"'dataItem[' + goiMarketing.KhuyenMaiKems.indexOf(dataItem) + '].DonGiaKhuyenMai' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n    </ng-template>\\n\\n    <ng-template #soNgaySuDungTemplate let-dataItem>\\n        <app-textboxnumeric [disabled]=\\\"notAllowChangeGoiDv\\\" id=\\\"SoNgaySuDungGrid\\\" [(model)]=\\\"dataItem.SoNgaySuDung\\\"\\n            [spinners]=\\\"true\\\" class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"1\\\" [max]=\\\"9999999\\\"\\n            [validationerror]=\\\"'dataItem[' + goiMarketing.KhuyenMaiKems.indexOf(dataItem) + '].SoNgaySuDung' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n    </ng-template>\\n    <ng-template #thanhTienKMFooterTemplate let-dataItem>\\n        <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n            <div>\\n                <span style=\\\"color:blue;\\\">{{tongThanhTien('ThanhTien') | number:'0.2-2':'vi-VN'}}</span>\\n            </div>\\n        </div>\\n    </ng-template>\\n\\n    <ng-template #donGiaKMFooterTemplate let-dataItem>\\n        <span style=\\\"float:right\\\">Tổng cộng:</span>\\n    </ng-template>\\n    <ng-template #trangThaiKMTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <button style=\\\"color: red\\\" mat-icon-button kendoTooltip title=\\\"Xóa\\\" (click)=\\\"ConfirmDeleteKM(dataItem)\\\">\\n                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n            </button>\\n        </div>\\n    </ng-template>\\n    <ng-template #thanhTienTemplate let-dataItem>\\n        {{dataItem.ThanhTien | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n    <ng-template #donGiaTemplate let-dataItem>\\n        {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n\\n\\n\\n    <ng-template #donGiaTruocChietKhauHeaderTemplate let-dataItem>\\n        <span>ĐG TRƯỚC CK <mat-icon [icIcon]=\\\"icEdit\\\" style=\\\"font-size: 15px;cursor: pointer;margin-left: 5px;\\\"\\n                (click)=\\\"showFormNhapTruocChietKhauPopup()\\\"></mat-icon></span>\\n    </ng-template>\\n    <ng-template #donGiaSauChietKhauHeaderTemplate let-dataItem>\\n        <span>ĐG SAU CK <mat-icon [icIcon]=\\\"icEdit\\\" style=\\\"font-size: 15px;cursor: pointer;margin-left: 5px;\\\"\\n                (click)=\\\"showFormNhapSauChietKhauPopup()\\\"></mat-icon></span>\\n    </ng-template>\\n    <ng-template #soLuongNhomDichVuTemplate let-dataItem>\\n        <app-textboxnumeric [disabled]=\\\"notAllowChangeGoiDv\\\" id=\\\"so-luong-nhomdv-grid\\\" [(model)]=\\\"dataItem.SoLuong\\\"\\n            [spinners]=\\\"true\\\" class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"1\\\" [max]=\\\"9999999\\\"\\n            (modelChange)=\\\"ChangeSoLuongNhomDichVuDataItem($event,dataItem)\\\"\\n            [validationerror]=\\\"'dataItem[' + goiMarketing.NhomDichVus.indexOf(dataItem) + '].SoLuong' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n    </ng-template>\\n    <ng-template #donGiaBenhVienTemplate let-dataItem>\\n        {{dataItem.DonGiaBenhVien | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n    <ng-template #thanhTienBenhVienTemplate let-dataItem>\\n        {{dataItem.ThanhTienBenhVien | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n    <ng-template #thanhTienTruocChietKhauTemplate let-dataItem>\\n        {{dataItem.ThanhTienTruocChietKhau | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n    <ng-template #thanhTienSauChietKhauTemplate let-dataItem>\\n        {{dataItem.ThanhTienSauChietKhau | number:'0.2-2':'vi-VN'}}\\n    </ng-template>\\n    <ng-template #donGiaTruocChietKhauTemplate let-dataItem>\\n        <app-textboxnumeric [disabled]=\\\"notAllowChangeGoiDv\\\" id=\\\"DonGiaTruocChietKhaugrid\\\"\\n            [(model)]=\\\"dataItem.DonGiaTruocChietKhau\\\" [spinners]=\\\"false\\\" class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"0\\\"\\n            [max]=\\\"999999999\\\" (modelChange)=\\\"ChangeDonGiaTruocChietKhauDataItem($event,dataItem)\\\"\\n            [validationerror]=\\\"'dataItem[' + goiMarketing.NhomDichVus.indexOf(dataItem) + '].DonGiaTruocChietKhau' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n    </ng-template>\\n    <ng-template #donGiaSauChietKhauTemplate let-dataItem>\\n        <app-textboxnumeric [disabled]=\\\"notAllowChangeGoiDv\\\" id=\\\"DonGiaSauChietKhaugrid\\\"\\n            [(model)]=\\\"dataItem.DonGiaSauChietKhau\\\" [spinners]=\\\"false\\\" class=\\\"no-label\\\" label=\\\" \\\" [min]=\\\"0\\\"\\n            [max]=\\\"999999999\\\" (modelChange)=\\\"ChangeDonGiaSauChietKhauDataItem($event,dataItem)\\\"\\n            [validationerror]=\\\"'dataItem[' + goiMarketing.NhomDichVus.indexOf(dataItem) + '].DonGiaSauChietKhau' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n    </ng-template>\\n    <ng-template #thanhTienBenhVienFooterTemplate let-dataItem>\\n        <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n            <div>\\n                <span>{{tongThanhTien('ThanhTienBenhVien') | number:'0.2-2':'vi-VN'}}</span>\\n            </div>\\n        </div>\\n    </ng-template>\\n    <ng-template #thanhTienTruocChietKhauFooterTemplate let-dataItem>\\n        <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n            <div>\\n                <span style=\\\"color:blue;\\\">{{tongThanhTien('ThanhTienTruocChietKhau') | number:'0.2-2':'vi-VN'}}</span>\\n            </div>\\n        </div>\\n    </ng-template>\\n    <ng-template #thanhTienSauChietKhauFooterTemplate let-dataItem>\\n        <div fxLayoutAlign=\\\"start center\\\" fxLayout=\\\"row\\\">\\n            <div>\\n                <span style=\\\"color:red;\\\">{{tongThanhTien('ThanhTienSauChietKhau') | number:'0.2-2':'vi-VN'}}</span>\\n            </div>\\n        </div>\\n    </ng-template>\\n\\n</div>\"","export default \"<app-header-form [crumbs]=\\\"[\\n              {Title:'Marketing',Path:''}\\n              ,{Title:'Chương Trình Marketing',Path:''}\\n              ,{Title:'Theo Gói Dịch Vụ',Path:'/marketing/ct-marketing/goi-dv', queryParams: {holdQuery : true}, Active: true}\\n          ]\\\" [isicMoreVert]=\\\"false\\\">\\n</app-header-form>\\n\\n<div class=\\\"p-gutter\\\" vexContainer>\\n\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n        <div class=\\\"card\\\" fxFlex=\\\"auto\\\">\\n            <div class=\\\"px-6 py-4 border-b\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n                <h2 class=\\\"title m-0\\\">Chỉnh Sửa Chương Trình Marketing Theo Gói Dịch Vụ</h2>\\n            </div>\\n\\n            <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\">\\n\\n                <app-goi-dv-marketing-shared></app-goi-dv-marketing-shared>\\n\\n                <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n                    <app-formfooter [bodyComponent]=\\\"shared\\\" type=\\\"update\\\" (updated)=\\\"onUpdated()\\\" (validateClient)=\\\"onValidateClient($event)\\\" #footer></app-formfooter>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div style=\\\"text-transform: uppercase;\\\">Danh sách loại gói</div>\\n    <button type=\\\"button\\\" mat-icon-button mat-dialog-close tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"height: 800px;\\\">\\n    <div class=\\\"card overflow-auto\\\">\\n        <kendo-splitter style=\\\"height: 600px;\\\" [ngStyle]=\\\"{'width':isShow?'100%':'calc(100% - 8px)'}\\\">\\n            <kendo-splitter-pane style=\\\"overflow:hidden;\\\" size=\\\"{{isShow?'40%':'100%'}}\\\">\\n                <app-grid #grid [urlGetData]=\\\"urlGetData\\\" [urlGetTotalPage]=\\\"urlGetTotalPage\\\" [showStt]=\\\"true\\\"\\n                    [gridColumns]=\\\"gridColumns\\\" [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                    [useHeaderDefault]=\\\"false\\\" [headerTemplate]=\\\"headerTemplate\\\" [documentType]=\\\"documentType\\\"\\n                    [checkboxAble]=\\\"false\\\" height=\\\"600\\\">\\n                </app-grid>\\n            </kendo-splitter-pane>\\n\\n            <kendo-splitter-pane style=\\\"overflow:auto;\\\" [hidden]=\\\"!isShow\\\">\\n                <div class=\\\"px-4 pt-4\\\" fxLayout=\\\"column\\\">\\n                    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                        <app-textbox id=\\\"ma\\\" fxFlex=\\\"30%\\\" fxFlex.sm=\\\"20%\\\" maxlength=\\\"50\\\" [required]=\\\"true\\\"\\n                            [(model)]=\\\"loaiGoiDichVu.Ma\\\" label=\\\"Mã\\\"\\n                            [validationerror]=\\\"'Ma' | validationerror:validationErrors\\\">\\n                        </app-textbox>\\n                        <app-textbox id=\\\"Ten\\\" fxFlex=\\\"70%\\\" fxFlex.sm=\\\"30%\\\" maxlength=\\\"250\\\" [required]=\\\"true\\\"\\n                            [(model)]=\\\"loaiGoiDichVu.Ten\\\" label=\\\"Tên\\\"\\n                            [validationerror]=\\\"'Ten' | validationerror:validationErrors\\\">\\n                        </app-textbox>\\n\\n                        <!-- <app-radio fxFlex=\\\"30%\\\" fxFlex.sm=\\\"40%\\\" id=\\\"IsDefault\\\" name=\\\"IsDefault\\\"\\n                            [items]=\\\"[{Value:true,Text:'Có'},{Value:false,Text:'Không'}]\\\" [(model)]=\\\"loaiGoiDichVu.IsDefault\\\"\\n                            label=\\\"Sử Dụng\\\">\\n                        </app-radio> -->\\n                    </div>\\n                    <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"2px\\\" class=\\\"mt-4 mb-2\\\" kendoTooltip>\\n                        <button type=\\\"button\\\" mat-raised-button (click)=\\\"huy()\\\">Hủy</button>\\n                        <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"luu()\\\">Lưu</button>\\n                    </div>\\n                </div>\\n            </kendo-splitter-pane>\\n        </kendo-splitter>\\n\\n\\n        <ng-template #headerTemplate>\\n            <div class=\\\"bg-app-bar px-3 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n                <div class=\\\"bg-card rounded-full border px-4 ml-2\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs\\n                    fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n                    <ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n                    <input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n                        type=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"searchString\\\" (keyup)=\\\"onKey($event)\\\"\\n                        (ngModelChange)=\\\"searchChange($event)\\\" placeholder=\\\"Tìm kiếm ...\\\" />\\n                </div>\\n                <button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\" (click)=\\\"clearSearch()\\\">\\n                    <mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n                </button>\\n\\n                <button [matMenuTriggerFor]=\\\"columnFilterMenu\\\" class=\\\"ml-auto\\\" fxFlex=\\\"none\\\" mat-icon-button\\n                    kendoTooltip title=\\\"Lọc cột\\\" type=\\\"button\\\">\\n                    <mat-icon [icIcon]=\\\"icFilterList\\\"></mat-icon>\\n                </button>\\n                <mat-menu #columnFilterMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n                    <div *ngFor=\\\"let column of _gridColumnsFilter\\\">\\n                        <button class=\\\"checkbox-item mat-menu-item\\\" *ngIf=\\\"!column.HideFilter\\\">\\n                            <mat-checkbox [disabled]=\\\"!column.HasFilter\\\" [(ngModel)]=\\\"_isCheckColumnFilter\\\"\\n                                color=\\\"primary\\\">\\n                                {{ column.Title }}\\n                            </mat-checkbox>\\n                        </button>\\n                    </div>\\n                </mat-menu>\\n                <button class=\\\"ml-3\\\" color=\\\"primary\\\" fxFlex=\\\"none\\\" mat-mini-fab kendoTooltip title=\\\"Thêm\\\" type=\\\"button\\\"\\n                    (click)=\\\"them()\\\">\\n                    <mat-icon [icIcon]=\\\"icAdd\\\"></mat-icon>\\n                </button>\\n            </div>\\n        </ng-template>\\n    </div>\\n\\n    <ng-template #maTemplate let-dataItem>\\n        <a (click)=\\\"xem(dataItem.Id, dataItem.IsDefault)\\\">\\n            <p class=\\\"reverse-ellipsis r\\\" title=\\\"{{dataItem.Ma}}\\\">{{dataItem.Ma}}</p>\\n        </a>\\n    </ng-template>\\n    <ng-template #actionTemplate let-dataItem>\\n        <div class=\\\"text-center\\\" kendoTooltip>\\n            <button style=\\\"color: red;\\\" mat-icon-button kendoTooltip (click)=\\\"xoa(dataItem.Id, dataItem.IsDefault)\\\" title=\\\"Xóa\\\"\\n                type=\\\"button\\\">\\n                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n            </button>\\n        </div>\\n    </ng-template>\\n\\n    <ng-template #trangThaiTemplate let-dataItem>\\n        <div *ngIf=\\\"dataItem.IsDefault != true\\\" mat-menu-item>\\n            <mat-icon [icIcon]=\\\"icClose\\\" color=\\\"warn\\\"></mat-icon><span>Ngừng sử dụng</span>\\n        </div>\\n        <div *ngIf=\\\"dataItem.IsDefault == true\\\" mat-menu-item>\\n            <mat-icon [icIcon]=\\\"icDone\\\" color=\\\"primary\\\"></mat-icon><span>Đang sử dụng</span>\\n        </div>\\n    </ng-template>\\n</mat-dialog-content>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n\\t<div style=\\\"font: 500 18px/26px var(--font)\\\">SAU CHIẾT KHẤU</div>\\n\\t<button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n\\t\\t<mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n\\t</button>\\n</div>\\n<mat-dialog-content style=\\\"height: 100px;\\\">\\n\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">    \\n    <app-textboxnumeric  id=\\\"ChietKhau\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"chietKhau\\\" [spinners]=\\\"true\\\"\\n    [required]=\\\"true\\\" label=\\\"Chiết khấu (%)\\\" [min]=\\\"0\\\" [max]=\\\"100\\\"\\n    [validationerror]=\\\"'ChietKhau' | validationerror:validationErrors\\\" (keyup)=\\\"onKeyUp($event)\\\">\\n </app-textboxnumeric>\\n  </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n\\t<button mat-button mat-dialog-close (click)=\\\"close()\\\">Hủy</button>\\n\\t<button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"apDung()\\\" cdkFocusInitial>Áp dụng</button>\\n</mat-dialog-actions>\\n\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n\\t<div style=\\\"font: 500 18px/26px var(--font)\\\">TRƯỚC CHIẾT KHẤU</div>\\n\\t<button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n\\t\\t<mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n\\t</button>\\n</div>\\n<mat-dialog-content style=\\\"height: 125px;\\\">\\n\\t<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">    \\n    <app-textboxnumeric  id=\\\"ChietKhau\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" [(model)]=\\\"truocChietKhau.ChietKhau\\\" [spinners]=\\\"true\\\"\\n    [required]=\\\"true\\\" label=\\\"Chiết khấu (%)\\\" [min]=\\\"0\\\" [max]=\\\"100\\\"\\n    [validationerror]=\\\"'ChietKhau' | validationerror:validationErrors\\\" (keyup)=\\\"onKeyUp($event)\\\">\\n </app-textboxnumeric>\\n <app-radio fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" name=\\\"LoaiChietKhau\\\" class=\\\"no-format-css pl-4 temp\\\" [(model)]=\\\"truocChietKhau.LoaiChietKhau\\\"\\n [items]=\\\"[{Value:1,Text:'Tăng'},{Value:2,Text:'Giảm'}]\\\">\\n</app-radio>\\n  </div>\\n</mat-dialog-content>\\n<mat-dialog-actions fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\">\\n\\t<button mat-button mat-dialog-close (click)=\\\"close()\\\">Hủy</button>\\n\\t<button mat-raised-button mat-button color=\\\"primary\\\" (click)=\\\"apDung()\\\" cdkFocusInitial>Áp dụng</button>\\n</mat-dialog-actions>\\n\"","export default \".grid-container {\\n  display: grid;\\n  grid-template-columns: 30% 40% 30%;\\n  padding: 10px;\\n}\\n\\n.grid-container .program {\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  overflow: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL21hcmtldGluZy9jaHVvbmctdHJpbmgtbWFya2V0aW5nL3RoZW8tZ29pLWRpY2gtdnUvY2hpLXRpZXQtc3UtZHVuZy1jaHVvbmctdHJpbmgtZ29pLWR2L0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcbWFya2V0aW5nXFxjaHVvbmctdHJpbmgtbWFya2V0aW5nXFx0aGVvLWdvaS1kaWNoLXZ1XFxjaGktdGlldC1zdS1kdW5nLWNodW9uZy10cmluaC1nb2ktZHZcXGNoaS10aWV0LXN1LWR1bmctY2h1b25nLXRyaW5oLWdvaS1kdi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL21hcmtldGluZy9jaHVvbmctdHJpbmgtbWFya2V0aW5nL3RoZW8tZ29pLWRpY2gtdnUvY2hpLXRpZXQtc3UtZHVuZy1jaHVvbmctdHJpbmgtZ29pLWR2L2NoaS10aWV0LXN1LWR1bmctY2h1b25nLXRyaW5oLWdvaS1kdi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSxrQ0FBQTtFQUNBLGFBQUE7QUNDRjs7QURFQTtFQUNFLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL21hcmtldGluZy9jaHVvbmctdHJpbmgtbWFya2V0aW5nL3RoZW8tZ29pLWRpY2gtdnUvY2hpLXRpZXQtc3UtZHVuZy1jaHVvbmctdHJpbmgtZ29pLWR2L2NoaS10aWV0LXN1LWR1bmctY2h1b25nLXRyaW5oLWdvaS1kdi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ncmlkLWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMzAlIDQwJSAzMCU7XG4gIHBhZGRpbmc6IDEwcHg7XG59XG5cbi5ncmlkLWNvbnRhaW5lciAucHJvZ3JhbSB7XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufSIsIi5ncmlkLWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMzAlIDQwJSAzMCU7XG4gIHBhZGRpbmc6IDEwcHg7XG59XG5cbi5ncmlkLWNvbnRhaW5lciAucHJvZ3JhbSB7XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufSJdfQ== */\"","import { Component, OnInit, Optional, Inject, ViewChild, TemplateRef } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { MAT_DIALOG_DATA, MatDialog } from '@angular/material';\nimport { GoiDichVuChuongTrinhMarketing } from '../goi-dv-marketing.model';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { SortDescriptor } from '@progress/kendo-data-query';\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport { FormControl } from '@angular/forms';\ndeclare var $: any;\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-chi-tiet-su-dung-chuong-trinh-goi-dv',\n    templateUrl: './chi-tiet-su-dung-chuong-trinh-goi-dv.component.html',\n    styleUrls: ['./chi-tiet-su-dung-chuong-trinh-goi-dv.component.scss']\n})\nexport class ChiTietSuDungChuongTrinhGoiDvComponent implements OnInit {\n    @ViewChild('orderTemplate', { static: true }) orderTemplate: TemplateRef<any>;\n    @ViewChild('ngayDangKyTemplate', { static: true }) ngayDangKyTemplate: TemplateRef<any>;\n    goiMarketing = {} as GoiDichVuChuongTrinhMarketing;\n    @ViewChild('gridYeuCau', { static: false }) gridYeuCau: GridComponent;\n    constructor(private dialog: MatDialog, @Optional() @Inject(MAT_DIALOG_DATA) public data: any) {\n        this.goiMarketing = { ...data.Model.data };\n    }\n    sort: SortDescriptor[] = [\n        {\n            field: 'NgayDangKy',\n            dir: 'desc'\n        },\n        {\n            field: 'Id',\n            dir: 'asc'\n        }\n    ];\n\n    gridColumn: any[] = [];\n    icClose = icClose;\n    urlGetData = `GoiDichVuChuongTrinhMarketing/GetDataForGridYeuCauGoiDichVuAsync`;\n    urlGetTotalPage = `GoiDichVuChuongTrinhMarketing/GetTotalPageForGridYeuCauGoiDichVuAsync`;\n    icSearch = icSearch;\n    searchCtrl = new FormControl();\n    searchString = null;\n\n    ngOnInit() {\n        this.gridColumn = [\n            { Field: '', Title: 'STT', Width: 44, Template: this.orderTemplate },\n            { Field: 'MaBn', Title: 'Mã NB', ShowTooltip: true, Sortable: true, Width: 90 },\n            {\n                Field: 'TenBn', Title: 'Tên NB', Width: 186, Sortable: true, ShowTooltip: true\n            },\n            {\n                Field: 'DiaChi', Title: 'Địa Chỉ', Width: 504, Sortable: true, ShowTooltip: true\n            },\n            { Field: 'NgayDangKy', Title: 'Ngày Đăng Ký', Sortable: true, Width: 258, Template: this.ngayDangKyTemplate }\n        ];\n        $('app-chi-tiet-su-dung-chuong-trinh-goi-dv').css('flex-direction', 'column');\n        setTimeout(() => {\n            $('app-chi-tiet-su-dung-chuong-trinh-goi-dv .mat-dialog-title').css('flex-direction', 'row');\n            $('app-chi-tiet-su-dung-chuong-trinh-goi-dv .mat-dialog-content').css('padding-top', '24px');\n        }, 100);\n    }\n\n    close() {\n        this.dialog.closeAll();\n    }\n\n    onKey(event: any) {\n        if (event.keyCode === 13) {\n            this.timKiem();\n        }\n    }\n\n    timKiem(isNull = false) {\n        this.gridYeuCau.searchString = isNull ? '' : this.searchString;\n        this.gridYeuCau.search();\n    }\n\n    searchChange() {\n        if (!this.searchString) {\n            setTimeout(() => {\n                this.timKiem(true);\n            }, 500);\n        }\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9tYXJrZXRpbmcvY2h1b25nLXRyaW5oLW1hcmtldGluZy90aGVvLWdvaS1kaWNoLXZ1L2dvaS1kdi1tYXJrZXRpbmctY3JlYXRlL2dvaS1kdi1tYXJrZXRpbmctY3JlYXRlLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, HostListener, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormfooterComponent } from 'src/app/shared/component/formfooter/formfooter.component';\n\nimport { GoiDvCtMarketingSharedComponent } from '../goi-dv-marketing-shared/goi-dv-marketing-shared.component';\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-goi-dv-marketing-create',\n    templateUrl: './goi-dv-marketing-create.component.html',\n    styleUrls: ['./goi-dv-marketing-create.component.scss']\n})\nexport class GoiDvCtMarketingAddComponent implements OnInit {\n\n    idsub: number;\n    @ViewChild(GoiDvCtMarketingSharedComponent, { static: true }) shared;\n    @ViewChild('footer', { static: false }) footer: FormfooterComponent;\n\n    constructor(private router: Router, private route: ActivatedRoute) { }\n\n    ngOnInit() {\n        this.idsub = this.route.snapshot.params.id;\n    }\n\n    onCreated() {\n        this.router.navigate(['/marketing/ct-marketing/goi-dv'], {\n            queryParamsHandling: 'preserve',\n        });\n    }\n\n    onValidateClient(isValidate: boolean) {\n        if (isValidate) {\n            this.shared.OnValidate();\n        }\n    }\n\n    @HostListener('document:keydown', ['$event'])\n    keyEvent(event: KeyboardEvent) {\n        if (event.keyCode === 83 && event.ctrlKey) {\n            // ctrl + s\n            this.footer.create();\n            event.preventDefault();\n        }\n\n        if (event.keyCode === 27 && !event.ctrlKey) {\n            // esc\n            this.footer.cancel();\n            event.preventDefault();\n        }\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9tYXJrZXRpbmcvY2h1b25nLXRyaW5oLW1hcmtldGluZy90aGVvLWdvaS1kaWNoLXZ1L2dvaS1kdi1tYXJrZXRpbmctbGlzdC9nb2ktZHYtbWFya2V0aW5nLWxpc3QuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { WindowComponent } from '@progress/kendo-angular-dialog';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { MatDialog } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport icicdone from '@iconify/icons-ic/twotone-done';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport icMoreHoriz from '@iconify/icons-ic/twotone-more-horiz';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icDetail from '@iconify/icons-ic/twotone-apps';\nimport icCopy from '@iconify/icons-ic/content-copy';\nimport icAdd from '@iconify/icons-ic/twotone-add';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n    ChiTietSuDungChuongTrinhGoiDvComponent\n} from '../chi-tiet-su-dung-chuong-trinh-goi-dv/chi-tiet-su-dung-chuong-trinh-goi-dv.component';\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport { FormControl } from '@angular/forms';\nimport { GoiDichVuChuongTrinhMarketingSearch } from '../goi-dv-marketing.model';\nimport icFileExcel from '@iconify/icons-fa-solid/file-excel';\nimport icFilterList from '@iconify/icons-ic/twotone-filter-list';\nimport { LocalStorageHelper } from 'src/app/core/utilities/local-storage.helper';\nimport { Location } from '@angular/common';\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-goi-dv-marketing-list',\n    templateUrl: './goi-dv-marketing-list.component.html',\n    styleUrls: ['./goi-dv-marketing-list.component.scss']\n})\nexport class GoiDvCtMarketingListComponent implements OnInit {\n    constructor(\n        private authService: AuthService,\n        private dialog: MatDialog,\n        private notificationService: NotificationService,\n        private apiService: ApiService,\n        private router: Router,\n        private location: Location,\n        private route: ActivatedRoute\n    ) { }\n\n    documentType: DocumentType;\n    gridColumns: any[] = [];\n    urlGetDataGridChild = 'GoiDichVu/GetDataForGridChiTietAsync';\n    urlGetTotalPageGridChild = 'GoiDichVu/GetTotalPageForGridChiTietAsync';\n    icicdone = icicdone;\n    icClose = icClose;\n    icMoreHoriz = icMoreHoriz;\n    icDelete = icDelete;\n    icCopy = icCopy;\n    icDetail = icDetail;\n    icSearch = icSearch;\n    icFileExcel = icFileExcel;\n    icFilterList = icFilterList;\n    icAdd = icAdd;\n    baseRoute = '/marketing/ct-marketing/goi-dv';\n    searchCtrl = new FormControl();\n    search = new GoiDichVuChuongTrinhMarketingSearch();\n    firstRequest = false;\n    secondRequest = false;\n    query: string = null;\n    holdQuery: any = null;\n    additionalSearchString: string = null;\n    @ViewChild(GridComponent, { static: false }) gridChild: GridComponent;\n    @ViewChild(WindowComponent, { static: false }) windowChild: WindowComponent;\n    @ViewChild('tinhTrangTemplate', { static: true }) tinhTrangTemplate: TemplateRef<any>;\n    @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n    @ViewChild(ConfirmComponent, { static: false }) confirm: ConfirmComponent;\n    @ViewChild('orderTemplate', { static: true }) orderTemplate: TemplateRef<any>;\n    @ViewChild('giaTruocChietKhauTemplate', { static: true }) giaTruocChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('tiLeChietKhauTemplate', { static: true }) tiLeChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('giaSauChietKhauTemplate', { static: true }) giaSauChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('tuNgayTemplate', { static: true }) tuNgayTemplate: TemplateRef<any>;\n    @ViewChild('denNgayTemplate', { static: true }) denNgayTemplate: TemplateRef<any>;\n    @ViewChild('gridGoiDv', { static: false }) gridGoiDv: GridComponent;\n    groups: GroupDescriptor[] = [{ field: 'LoaiGoi' }];\n    groupsChild: GroupDescriptor[] = [{ field: 'Nhom', aggregates: [{ field: 'ThanhTien', aggregate: 'sum' }] }];\n\n    ngOnInit() {\n        this.documentType = DocumentType.GoiDichVuMarketing;\n\n        if (this.route.snapshot.queryParams.holdQuery != null) {\n            this.holdQuery = this.route.snapshot.queryParams.holdQuery;\n        }\n\n        if (\n            this.holdQuery && LocalStorageHelper.getItem('additionalSearchStringChuongTrinhGoiDvMarketing')\n        ) {\n            this.additionalSearchString = LocalStorageHelper.getItem(\n                'additionalSearchStringChuongTrinhGoiDvMarketing'\n            );\n            this.search = JSON.parse(this.additionalSearchString);\n            if (this.search.RangeFromDate) {\n                if (this.search.RangeFromDate.startDate) {\n                    this.search.RangeFromDate.startDate = new Date(this.search.RangeFromDate.startDate);\n                }\n                if (this.search.RangeFromDate.endDate) {\n                    this.search.RangeFromDate.endDate = new Date(this.search.RangeFromDate.endDate);\n                }\n            }\n            if (this.search.RangeToDate) {\n                if (this.search.RangeToDate.startDate) {\n                    this.search.RangeToDate.startDate = new Date(this.search.RangeToDate.startDate);\n                }\n                if (this.search.RangeToDate.endDate) {\n                    this.search.RangeToDate.endDate = new Date(this.search.RangeToDate.endDate);\n                }\n            }\n        } else {\n            LocalStorageHelper.setItem('additionalSearchStringChuongTrinhGoiDvMarketing', null);\n            this.additionalSearchString = JSON.stringify(this.search);\n        }\n\n        this.gridColumns = [\n            { Field: 'Ma', Title: 'Mã', Width: 100, Sortable: true, LinkDetail: true },\n            { Field: 'Ten', Title: 'Tên Gói Theo Chương Trình', MinWidth: 150, Sortable: true },\n            { Field: 'TenDv', Title: 'Nhóm DV', Width: 150, Sortable: true },\n            { Field: 'GiaTruocChietKhau', Title: 'Giá Trước CK', Width: 150, Sortable: true, Template: this.giaTruocChietKhauTemplate },\n            // { Field: 'TiLeChietKhau', Title: 'Chiết Khấu', Width: 150, Sortable: true, Template: this.tiLeChietKhauTemplate },\n            { Field: 'GiaSauChietKhau', Title: 'Giá Sau CK', Width: 150, Sortable: true, Template: this.giaSauChietKhauTemplate },\n            { Field: 'TuNgay', Title: 'Thời Gian Bắt Đầu', Width: 150, Sortable: true, Template: this.tuNgayTemplate },\n            { Field: 'DenNgay', Title: 'Thời Gian Kết Thúc', Width: 150, Sortable: true, Template: this.denNgayTemplate },\n            { Field: 'TamNgung', Title: 'Tình Trạng', Width: 150, Template: this.tinhTrangTemplate },\n            { Field: 'Action', Title: '', Width: 50, Template: this.actionTemplate, HideFilter: true }\n        ];\n    }\n\n    updateDichVu(id: number, isDisabled: boolean) {\n        let confirm = 'ngừng sử dụng';\n        if (isDisabled) { confirm = 'sử dụng'; }\n        if (!isDisabled) { confirm = 'ngừng sử dụng'; }\n        const self = this;\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n            this.dialog.open(ConfirmComponent, {\n                disableClose: false,\n                width: '400px',\n                data: { Title: 'Xác nhận', Message: CommonService.format(SystemMessage.MessLockTemplate, [confirm, 'gói dịch vụ']) }\n            }).afterClosed().subscribe(result => {\n                if (result === 'Yes') {\n                    self.apiService.post('GoiDichVuChuongTrinhMarketing/KichHoatGoiDichVuMarketing?id=' + id).subscribe(\n                        () => {\n                            self.gridGoiDv.search();\n                            if (isDisabled) {\n                                self.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, ['Sử dụng']));\n                            } else {\n                                self.notificationService.showSuccess\n                                    (CommonService.format(SystemMessage.ActionSuccessfully, ['Ngừng sử dụng']));\n                            }\n                        },\n                        (err: any) => {\n                            self.notificationService.showError(err.Message);\n                        });\n                }\n            });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    exportExcel() {\n        this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: 'Đang xuất excel...' }\n        });\n\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Process)) {\n            this.apiService.postExportExcel<string>('GoiDichVuChuongTrinhMarketing/ExportChuongTrinhGoiDichVuMarketing',\n                this.gridGoiDv._gridQueryInfo).subscribe(res => {\n                    const dateTimeNow = new Date();\n                    CommonService.downLoadFile(res, 'application/vnd.ms-excel', 'ChuongTrinhGoiDichVuMarketing'\n                        + dateTimeNow.getFullYear() + '.xlsx');\n                    this.dialog.closeAll();\n                }, err => {\n                    this.notificationService.showError(err.Message);\n                    this.dialog.closeAll();\n                });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    copy(id: number) {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Add)) {\n            this.router.navigate([this.baseRoute + '/them/' + id]);\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    delete(id: number) {\n        this.gridGoiDv.delete(id);\n    }\n\n    detail(id: number) {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n            this.apiService.get(`GoiDichVuChuongTrinhMarketing/GetChiTietChuongTrinh?id=${id}`).subscribe(\n                (resultData: any) => {\n                    const dataPassing = {\n                        data: resultData,\n                    };\n                    this.dialog.open(ChiTietSuDungChuongTrinhGoiDvComponent, {\n                        disableClose: false,\n                        width: '1200px',\n                        height: '455px',\n                        data: { Title: 'Xác nhận', Model: dataPassing }\n                    }).afterClosed().subscribe(() => { });\n                });\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    clearSearch() {\n        if (!this.search.SearchString) {\n            setTimeout(() => {\n                this.gridGoiDv.searchString = '';\n                LocalStorageHelper.setItem('additionalSearchStringChuongTrinhGoiDvMarketing', JSON.stringify(this.search));\n                if (this.firstRequest && this.secondRequest) {\n                    this.gridGoiDv.search();\n                }\n                if (this.firstRequest) {\n                    this.secondRequest = true;\n                }\n                this.firstRequest = true;\n            }, 500);\n        }\n    }\n\n    onKey(event: any) {\n        if (event.keyCode === 13) {\n            this.Timkiem();\n        }\n    }\n\n    onKeyNgayBatDau(event: any) {\n        if (event.keyCode === 13) {\n            this.Timkiem();\n        }\n    }\n\n    onKeyNgayKetThuc(event: any) {\n        if (event.keyCode === 13) {\n            this.Timkiem();\n        }\n    }\n\n    changeNgayBatDauRange() {\n        this.Timkiem();\n    }\n\n    changeNgayKetThucRange() {\n        this.Timkiem();\n    }\n\n    blur() {\n        this.Timkiem();\n    }\n\n    them() {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.Add)) {\n            this.router.navigate([this.baseRoute + '/them']);\n        } else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    Timkiem() {\n        this.location.replaceState(this.baseRoute + '?holdQuery=true');\n        let QueryString = null;\n        this.gridGoiDv._additionalSearchString = null;\n        QueryString = this.search.SearchString;\n\n        const searchClone: GoiDichVuChuongTrinhMarketingSearch = JSON.parse(JSON.stringify(this.search));\n        if (searchClone.RangeFromDate.startDate) {\n            const startDate = new Date(searchClone.RangeFromDate.startDate);\n            searchClone.RangeFromDate.startDate = new Date(Date.UTC(startDate.getFullYear(), startDate.getMonth()\n                , startDate.getDate(), startDate.getHours(), startDate.getMinutes()));\n        }\n        if (searchClone.RangeFromDate.endDate) {\n            const endDate = new Date(searchClone.RangeFromDate.endDate);\n            searchClone.RangeFromDate.endDate = new Date(Date.UTC(endDate.getFullYear(), endDate.getMonth()\n                , endDate.getDate(), endDate.getHours(), endDate.getMinutes()));\n        }\n\n        if (searchClone.RangeToDate.startDate) {\n            const startDate = new Date(searchClone.RangeToDate.startDate);\n            searchClone.RangeToDate.startDate = new Date(Date.UTC(startDate.getFullYear(), startDate.getMonth()\n                , startDate.getDate(), startDate.getHours(), startDate.getMinutes()));\n        }\n        if (searchClone.RangeToDate.endDate) {\n            const endDate = new Date(searchClone.RangeToDate.endDate);\n            searchClone.RangeToDate.endDate = new Date(Date.UTC(endDate.getFullYear(), endDate.getMonth()\n                , endDate.getDate(), endDate.getHours(), endDate.getMinutes()));\n        }\n\n        this.query = JSON.stringify(searchClone);\n\n        const queryForHold = { ...searchClone };\n\n        LocalStorageHelper.setItem(\n            'additionalSearchStringChuongTrinhGoiDvMarketing',\n            JSON.stringify(queryForHold)\n        );\n\n        this.gridGoiDv._additionalSearchString = this.query;\n        this.gridGoiDv.searchString = QueryString;\n        this.gridGoiDv.search();\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PermisssionGuard } from 'src/app/core/guards/permission-guard.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { GoiDvCtMarketingAddComponent } from './goi-dv-marketing-create/goi-dv-marketing-create.component';\nimport { GoiDvCtMarketingListComponent } from './goi-dv-marketing-list/goi-dv-marketing-list.component';\nimport { GoiDvCtMarketingUpdateComponent } from './goi-dv-marketing-update/goi-dv-marketing-update.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: GoiDvCtMarketingListComponent,\n        data: {\n            title: 'Danh Mục Chương Trình Marketing Theo Gói Dịch Vụ',\n            DocumentType: DocumentType.GoiDichVuMarketing,\n            SecurityOperation: SecurityOperation.View\n        },\n        canActivate: [PermisssionGuard]\n    },\n    {\n        path: 'them',\n        component: GoiDvCtMarketingAddComponent,\n        data: {\n            title: 'Thêm Chương Trình Marketing Theo Gói Dịch Vụ',\n            DocumentType: DocumentType.GoiDichVuMarketing,\n            SecurityOperation: SecurityOperation.Add\n        },\n        canActivate: [PermisssionGuard]\n    },\n    {\n        path: 'them/:id',\n        component: GoiDvCtMarketingAddComponent,\n        data: {\n            title: 'Thêm Chương Trình Marketing Theo Gói Dịch Vụ',\n            DocumentType: DocumentType.GoiDichVuMarketing,\n            SecurityOperation: SecurityOperation.Add\n        },\n        canActivate: [PermisssionGuard]\n    },\n    {\n        path: 'chinh-sua/:id',\n        component: GoiDvCtMarketingUpdateComponent,\n        data: {\n            title: 'Chỉnh Sửa Chương Trình Marketing Theo Gói Dịch Vụ',\n            DocumentType: DocumentType.GoiDichVuMarketing,\n            SecurityOperation: SecurityOperation.Update\n        },\n        canActivate: [PermisssionGuard]\n    },\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class GoiDvChuongTrinhMarketingRoutingModule { }\n","export default \".second-line-form {\\n  display: inline-flex;\\n  justify-content: flex-start;\\n  width: 100%;\\n  gap: 16px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL21hcmtldGluZy9jaHVvbmctdHJpbmgtbWFya2V0aW5nL3RoZW8tZ29pLWRpY2gtdnUvZ29pLWR2LW1hcmtldGluZy1zaGFyZWQvQzpcXHByb2plY3RcXGZyZWVsYW5jZXJcXGhvc3BpdGFsL3NyY1xcYXBwXFxtb2R1bGVzXFxtYWluXFxtYXJrZXRpbmdcXGNodW9uZy10cmluaC1tYXJrZXRpbmdcXHRoZW8tZ29pLWRpY2gtdnVcXGdvaS1kdi1tYXJrZXRpbmctc2hhcmVkXFxnb2ktZHYtbWFya2V0aW5nLXNoYXJlZC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9tYWluL21hcmtldGluZy9jaHVvbmctdHJpbmgtbWFya2V0aW5nL3RoZW8tZ29pLWRpY2gtdnUvZ29pLWR2LW1hcmtldGluZy1zaGFyZWQvZ29pLWR2LW1hcmtldGluZy1zaGFyZWQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxvQkFBQTtFQUNBLDJCQUFBO0VBQ0EsV0FBQTtFQUNBLFNBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9tYXJrZXRpbmcvY2h1b25nLXRyaW5oLW1hcmtldGluZy90aGVvLWdvaS1kaWNoLXZ1L2dvaS1kdi1tYXJrZXRpbmctc2hhcmVkL2dvaS1kdi1tYXJrZXRpbmctc2hhcmVkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNlY29uZC1saW5lLWZvcm0ge1xuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICB3aWR0aDogMTAwJTtcbiAgZ2FwOiAxNnB4O1xufSIsIi5zZWNvbmQtbGluZS1mb3JtIHtcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgd2lkdGg6IDEwMCU7XG4gIGdhcDogMTZweDtcbn0iXX0= */\"","import { NhapTruocChietKhauPopupComponent } from './../nhap-truoc-chiet-khau-popup/nhap-truoc-chiet-khau-popup.component';\nimport { ActivatedRoute } from '@angular/router';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { BaseService } from 'src/app/core/services/base.service';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icEdit from '@iconify/icons-ic/sharp-edit';\nimport icMoreHoriz from '@iconify/icons-ic/twotone-more-horiz';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { Component, Input, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { MatDialog } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { GoiDvMarketing, SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { GoiDichVuChuongTrinhMarketing, KhuyenMaiKem, LoaiGiaBenhVien, NhomDichVu, QuaTangKem, TruocChietKhau } from '../goi-dv-marketing.model';\nimport { GroupDescriptor } from '@progress/kendo-data-query';\nimport { NhapSauChietKhauPopupComponent } from '../nhap-sau-chiet-khau-popup/nhap-sau-chiet-khau-popup.component';\nimport icAdd from '@iconify/icons-ic/twotone-add';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { LoaiDichVuPopupComponent } from '../loai-dich-vu-popup/loai-dich-vu-popup.component';\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-goi-dv-marketing-shared',\n    templateUrl: './goi-dv-marketing-shared.component.html',\n    styleUrls: ['./goi-dv-marketing-shared.component.scss']\n})\n\nexport class GoiDvCtMarketingSharedComponent implements OnInit {\n    constructor(\n        private route: ActivatedRoute,\n        private apiService: ApiService,\n        private dialog: MatDialog,\n        private notificationService: NotificationService,\n        private baseService: BaseService,\n        private authService: AuthService\n    ) { }\n\n    listDVG: any[] = [];\n    @ViewChild(GridComponent, { static: false }) gridChild: GridComponent;\n    @ViewChild('trangThaiChiTietDichVuGiuongTemplate', { static: true }) trangThaiChiTietDichVuGiuongTemplate: TemplateRef<any>;\n    @ViewChild('tongCongFooterGiuongTemplate', { static: true }) tongCongFooterGiuongTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienFooterGiuongTemplate', { static: true }) thanhTienFooterGiuongTemplate: TemplateRef<any>;\n    @ViewChild('gridQuaTangKem', { static: false }) gridQuaTangKem: GridComponent;\n    @ViewChild('gridKhuyenMaiKem', { static: false }) gridKhuyenMaiKem: GridComponent;\n    @ViewChild('gridNhomDichVu', { static: false }) gridNhomDichVu: GridComponent;\n    goiMarketing = {} as GoiDichVuChuongTrinhMarketing;\n    quaTang = {} as QuaTangKem;\n    khuyenMaiKem = new KhuyenMaiKem();\n    luaChonGoiDichVu = 1;\n    danhSachLoaiGia: LoaiGiaBenhVien[] = [];\n    khamBenhDisabled = false;\n    kyThuatDisabled = false;\n    giuongDisabled = false;\n    loaiGiaKhamBenhDisabled = false;\n    loaiGiaKyThuatDisabled = false;\n    loaiGiaGiuongDisabled = false;\n    idDichVuKhamBenhComponent: number;\n    icAdd = icAdd;\n\n    documentType: DocumentType;\n    validationErrors: any;\n    icDelete = icDelete;\n    icEdit = icEdit;\n    icMoreHoriz = icMoreHoriz;\n    gridColumns: any[] = [];\n    gridColumnsKhuyenMai: any[] = [];\n    gridColumnsNhomDichVu: any[] = [];\n    gridDataSource: any = {\n        data: [],\n        total: 0\n    };\n    gridDataSourceKhuyenMai: any = {\n        data: [],\n        total: 0\n    };\n    gridDataSourceNhomDichVu: any = {\n        data: [],\n        total: 0\n    };\n    id: number = this.route.snapshot.params.id;\n    phanTramChietKhauHienTai = null;\n    coQuaTang = false;\n    coKhuyenMai = false;\n    idQuaTangGrid: number;\n    notAllowChangeGoiDv = false;\n    quaTangDisabled = false;\n    nhomDichVusOld: NhomDichVu[] = [];\n    nhomDichVuIdOld: number = null;\n    @Input() isCreate = false;\n    @ViewChild('trangThaiTemplate', { static: true }) trangThaiTemplate: TemplateRef<any>;\n    @ViewChild('tenDichVuGroupFooterTemplate', { static: true }) tenDichVuGroupFooterTemplate: TemplateRef<any>;\n    @ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n    @ViewChild('loaiGiaTemplate', { static: true }) loaiGiaTemplate: TemplateRef<any>;\n    @ViewChild('soLuongTemplate', { static: true }) soLuongTemplate: TemplateRef<any>;\n    @ViewChild('quaTangTemplate', { static: true }) quaTangTemplate: TemplateRef<any>;\n    @ViewChild('donGiaFooterTemplate', { static: true }) donGiaFooterTemplate: TemplateRef<any>;\n    @ViewChild('tenDichVuKhongChietKhauFooterTemplate', { static: true }) tenDichVuKhongChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienTemplate', { static: true }) thanhTienTemplate: TemplateRef<any>;\n    @ViewChild('ghiChuTemplate', { static: true }) ghiChuTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienFooterTemplate', { static: true }) thanhTienFooterTemplate: TemplateRef<any>;\n    @ViewChild('dichVuFooterTemplate', { static: true }) dichVuFooterTemplate: TemplateRef<any>;\n    @ViewChild('nhomGroupHeaderTemplate', { static: true }) nhomGroupHeaderTemplate: TemplateRef<any>;\n    @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n    @ViewChild('soLuongKMTemplate', { static: true }) soLuongKMTemplate: TemplateRef<any>;\n    @ViewChild('donGiaKMTemplate', { static: true }) donGiaKMTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienKMFooterTemplate', { static: true }) thanhTienKMFooterTemplate: TemplateRef<any>;\n    @ViewChild('donGiaKMFooterTemplate', { static: true }) donGiaKMFooterTemplate: TemplateRef<any>;\n    @ViewChild('trangThaiKMTemplate', { static: true }) trangThaiKMTemplate: TemplateRef<any>;\n    @ViewChild('soNgaySuDungTemplate', { static: true }) soNgaySuDungTemplate: TemplateRef<any>;\n\n\n    @ViewChild('soLuongNhomDichVuTemplate', { static: true }) soLuongNhomDichVuTemplate: TemplateRef<any>;\n    @ViewChild('donGiaBenhVienTemplate', { static: true }) donGiaBenhVienTemplate: TemplateRef<any>;\n    @ViewChild('donGiaTruocChietKhauTemplate', { static: true }) donGiaTruocChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('donGiaSauChietKhauTemplate', { static: true }) donGiaSauChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienBenhVienTemplate', { static: true }) thanhTienBenhVienTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienBenhVienFooterTemplate', { static: true }) thanhTienBenhVienFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienTruocChietKhauTemplate', { static: true }) thanhTienTruocChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienTruocChietKhauFooterTemplate', { static: true }) thanhTienTruocChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienSauChietKhauTemplate', { static: true }) thanhTienSauChietKhauTemplate: TemplateRef<any>;\n    @ViewChild('thanhTienSauChietKhauFooterTemplate', { static: true }) thanhTienSauChietKhauFooterTemplate: TemplateRef<any>;\n    @ViewChild('donGiaTruocChietKhauHeaderTemplate', { static: true }) donGiaTruocChietKhauHeaderTemplate: TemplateRef<any>;\n    @ViewChild('donGiaSauChietKhauHeaderTemplate', { static: true }) donGiaSauChietKhauHeaderTemplate: TemplateRef<any>;\n    //#endregion\n\n    groups: GroupDescriptor[] = [\n        {\n            field: 'NhomDisplay', aggregates: [\n                { field: 'DonGia', aggregate: 'sum' },\n                { field: 'ThanhTien', aggregate: 'sum' }\n            ]\n        }\n    ];\n    public tongThanhTien(field: any) {\n        switch (field) {\n            case 'ThanhTien': {\n                return this.goiMarketing.KhuyenMaiKems.reduce((sum, item) => sum + item.ThanhTien, 0);\n            }\n            case 'ThanhTienBenhVien': {\n                return this.goiMarketing.NhomDichVus.reduce((sum, item) => sum + item.ThanhTienBenhVien, 0);\n            }\n            case 'ThanhTienTruocChietKhau': {\n                this.goiMarketing.GiaTruocChietKhau = this.goiMarketing.NhomDichVus.reduce((sum, item) => sum + item.ThanhTienTruocChietKhau, 0);\n                return this.goiMarketing.GiaTruocChietKhau;\n            }\n            case 'ThanhTienSauChietKhau': {\n                this.goiMarketing.GiaSauChietKhau = this.goiMarketing.NhomDichVus.reduce((sum, item) => sum + item.ThanhTienSauChietKhau, 0);\n                return this.goiMarketing.GiaSauChietKhau;\n            }\n        }\n    }\n    ngOnInit() {\n        this.documentType = DocumentType.GoiDichVuMarketing;\n\n        this.goiMarketing.KhuyenMaiKems = [];\n        this.goiMarketing.NhomDichVus = [];\n        this.goiMarketing.TuNgay = new Date();\n        this.gridColumns = [\n            { Field: 'STT', Title: '#', Width: 35, Template: this.sttTemplate },\n            { Field: 'QuaTang', Title: 'Quà Tặng', MinWidth: 120 },\n            { Field: 'SoLuong', Title: 'Số Lượng', Width: 120, Template: this.soLuongTemplate },\n            {\n                Field: 'GhiChu', Title: 'Ghi Chú', Width: 474,\n                Template: this.ghiChuTemplate\n            },\n            { Field: 'Action', Title: '', Width: 66, Template: this.trangThaiTemplate }\n        ];\n        this.gridColumnsKhuyenMai = [\n            { Field: 'STT', Title: '#', Width: 35, Template: this.sttTemplate },\n            { Field: 'MaDv', Title: 'Mã', Width: 120 },\n            {\n                Field: 'NhomDisplay', Title: 'Nhóm', Width: 200, Hidden: true,\n                TemplateGroupHeader: this.nhomGroupHeaderTemplate\n            },\n            {\n                Field: 'TenDv', Title: 'Tên Dịch Vụ', MinWidth: 200,\n                TemplateGroupFooter: this.tenDichVuGroupFooterTemplate\n            },\n            { Field: 'LoaiGiaDisplay', Title: 'Loại Giá', Width: 120 },\n            { Field: 'SoLuong', Title: 'Số Lượng', Width: 120, Template: this.soLuongKMTemplate },\n            {\n                Field: 'DonGia', Title: 'Đơn Giá', Width: 120,\n                Template: this.donGiaTemplate, TemplateFooter: this.donGiaKMFooterTemplate\n            },\n            {\n                Field: 'DonGiaKhuyenMai', Title: 'Đơn Giá KM', Width: 120,\n                Template: this.donGiaKMTemplate\n            },\n            {\n                Field: 'ThanhTien', Title: 'Thành Tiền', Width: 120,\n                Template: this.thanhTienTemplate, TemplateFooter: this.thanhTienKMFooterTemplate\n            },\n            { Field: 'SoNgaySuDung', Title: 'Số ngày sử dụng', Width: 120, Template: this.soNgaySuDungTemplate },\n            {\n                Field: 'GhiChu', Title: 'Ghi Chú', Width: 474,\n                Template: this.ghiChuTemplate\n            },\n            { Field: 'Action', Title: '', Width: 66, Template: this.trangThaiKMTemplate }\n        ];\n        this.gridColumnsNhomDichVu = [\n            { Field: 'STT', Title: '#', Width: 35, Template: this.sttTemplate },\n            { Field: 'MaDv', Title: 'Mã', Width: 120 },\n            {\n                Field: 'NhomDisplay', Title: 'Nhóm', Width: 200, Hidden: true,\n                TemplateGroupHeader: this.nhomGroupHeaderTemplate\n            },\n            {\n                Field: 'TenDv', Title: 'Tên Dịch Vụ', MinWidth: 200,\n                TemplateGroupFooter: this.tenDichVuGroupFooterTemplate\n            },\n            { Field: 'LoaiGiaDisplay', Title: 'Loại Giá', Width: 120 },\n            { Field: 'SoLuong', Title: 'Số Lượng', Width: 120, Template: this.soLuongNhomDichVuTemplate },\n            {\n                Field: 'DonGiaBenhVien', Title: 'ĐG BV', Width: 120,\n                Template: this.donGiaBenhVienTemplate, TemplateFooter: this.donGiaKMFooterTemplate\n            },\n            {\n                Field: 'DonGiaTruocChietKhau', Title: 'ĐG trước CK', Width: 120,\n                Template: this.donGiaTruocChietKhauTemplate, TemplateHeader: this.donGiaTruocChietKhauHeaderTemplate\n            },\n            {\n                Field: 'DonGiaSauChietKhau', Title: 'ĐG sau CK', Width: 120,\n                Template: this.donGiaSauChietKhauTemplate, TemplateHeader: this.donGiaSauChietKhauHeaderTemplate\n            },\n            {\n                Field: 'ThanhTienBenhVien', Title: 'TT BV', Width: 120,\n                Template: this.thanhTienBenhVienTemplate, TemplateFooter: this.thanhTienBenhVienFooterTemplate\n            },\n            {\n                Field: 'ThanhTienTruocChietKhau', Title: 'TT trước CK', Width: 120,\n                Template: this.thanhTienTruocChietKhauTemplate, TemplateFooter: this.thanhTienTruocChietKhauFooterTemplate\n            },\n            {\n                Field: 'ThanhTienSauChietKhau', Title: 'TT sau CK', Width: 120,\n                Template: this.thanhTienSauChietKhauTemplate, TemplateFooter: this.thanhTienSauChietKhauFooterTemplate\n            }\n        ];\n        if (this.id) {\n            this.OpenLoading();\n            this.getById();\n        }\n    }\n\n    OpenLoading() {\n        this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: 'Đang tải dữ liệu...' }\n        });\n    }\n\n    CloseLoading() {\n        this.dialog.closeAll();\n    }\n\n    getById() {\n        this.baseService.getById<GoiDichVuChuongTrinhMarketing>(this.id).subscribe(resultData => {\n            if (resultData) {\n                this.CloseLoading();\n                if (this.isCreate) {\n                    this.goiMarketing = { ...resultData };\n                    this.goiMarketing.Id = 0;\n                    this.goiMarketing.QuaTangKems.forEach(x => {\n                        x.IdSys = 0;\n                        x.GoiDvChuongTrinhMarketingId = 0;\n                    });\n                    this.coQuaTang = this.goiMarketing.QuaTangKems && this.goiMarketing.QuaTangKems.some(x => x);\n                    this.coKhuyenMai = this.goiMarketing.KhuyenMaiKems && this.goiMarketing.KhuyenMaiKems.some(x => x);\n                    this.setDataGridView();\n                    this.setDataGridViewKhuyenMai();\n                    this.setDataGridViewNhomDichVu();\n\n                    if (this.gridQuaTangKem) {\n                        this.gridQuaTangKem.gridDataSource = { ...this.gridDataSource };\n                        this.gridQuaTangKem.setDataSource();\n                    }\n                    if (this.gridKhuyenMaiKem) {\n                        this.gridKhuyenMaiKem.gridDataSource = { ...this.gridDataSourceKhuyenMai };\n                        this.gridKhuyenMaiKem.setDataSource();\n                    }\n                    if (this.gridNhomDichVu) {\n                        this.gridNhomDichVu.gridDataSource = { ...this.gridDataSourceNhomDichVu };\n                        this.gridNhomDichVu.setDataSource();\n                    }\n                    return;\n                }\n                this.goiMarketing = { ...resultData };\n                this.notAllowChangeGoiDv = this.goiMarketing.CoYeuCauSuDung;\n                this.goiMarketing.TuNgay = this.goiMarketing.TuNgay && this.goiMarketing.TuNgay !== ''\n                    ? new Date(this.goiMarketing.TuNgay) : null;\n                this.goiMarketing.DenNgay = this.goiMarketing.DenNgay && this.goiMarketing.DenNgay !== ''\n                    ? new Date(this.goiMarketing.DenNgay) : null;\n                this.coQuaTang = this.goiMarketing.QuaTangKems && this.goiMarketing.QuaTangKems.some(x => x);\n                this.coKhuyenMai = this.goiMarketing.KhuyenMaiKems && this.goiMarketing.KhuyenMaiKems.some(x => x);\n                this.setDataGridView();\n                this.setDataGridViewKhuyenMai();\n                this.setDataGridViewNhomDichVu();\n\n                if (this.gridQuaTangKem) {\n                    this.gridQuaTangKem.gridDataSource = { ...this.gridDataSource };\n                    this.gridQuaTangKem.setDataSource();\n                }\n                if (this.gridKhuyenMaiKem) {\n                    this.gridKhuyenMaiKem.gridDataSource = { ...this.gridDataSourceKhuyenMai };\n                    this.gridKhuyenMaiKem.setDataSource();\n                }\n                if (this.gridNhomDichVu) {\n                    this.gridNhomDichVu.gridDataSource = { ...this.gridDataSourceNhomDichVu };\n                    this.gridNhomDichVu.setDataSource();\n                }\n                this.nhomDichVuIdOld = JSON.parse(JSON.stringify(this.goiMarketing.GoiDvId));\n                this.nhomDichVusOld = [...this.goiMarketing.NhomDichVus];\n            }\n        }, () => {\n            this.CloseLoading();\n        });\n    }\n\n    getSharedData() {\n        if (this.isCreate) {\n            this.goiMarketing.Id = 0;\n        } else {\n            this.goiMarketing.Id = this.id ? this.id : 0;\n        }\n        this.goiMarketing.GiaSauChietKhau = this.goiMarketing.GiaSauChietKhau ? this.goiMarketing.GiaSauChietKhau : 0;\n        if (!this.coQuaTang && this.goiMarketing.QuaTangKems && this.goiMarketing.QuaTangKems.some(x => x)) {\n            this.goiMarketing.QuaTangKems = [];\n        }\n        if (!this.coKhuyenMai && this.goiMarketing.KhuyenMaiKems && this.goiMarketing.KhuyenMaiKems.some(x => x)) {\n            this.goiMarketing.KhuyenMaiKems = [];\n        }\n        return this.goiMarketing;\n    }\n\n    onChangeGoiDichVu(data: any) {\n        if (data) {\n            this.goiMarketing.GoiDichVu = data.DisplayName;\n            this.goiMarketing.GoiDvId = data.KeyId;\n            this.goiMarketing.MoTaGoiDichVu = data.MoTa;\n            if (this.nhomDichVuIdOld != this.goiMarketing.GoiDvId) {\n                this.apiService.get\n                    (`GoiDichVuChuongTrinhMarketing/GetDanhSachNhomDichVu?goiDvId=${this.goiMarketing.GoiDvId}`).subscribe(\n                        (resultData: any) => {\n                            this.goiMarketing.NhomDichVus = resultData;\n                            this.setDataGridViewNhomDichVu();\n                        });\n            }\n            else {\n                this.goiMarketing.NhomDichVus = this.nhomDichVusOld;\n                this.setDataGridViewNhomDichVu();\n            }\n            return;\n        }\n\n        this.goiMarketing.GoiDichVu = null;\n        this.goiMarketing.GoiDvId = null;\n        this.goiMarketing.GiaTruocChietKhau = null;\n        this.goiMarketing.GiaSauChietKhau = null;\n        this.goiMarketing.TiLeChietKhau = null;\n    }\n\n    onChangeTiLeCk(tiLeCk: number) {\n        this.phanTramChietKhauHienTai = tiLeCk ? tiLeCk : 10;\n        this.goiMarketing.TiLeChietKhau = tiLeCk ? tiLeCk : 0;\n        this.goiMarketing.GiaSauChietKhau =\n            this.goiMarketing.GiaTruocChietKhau ?\n                this.goiMarketing.GiaTruocChietKhau * (100 - this.goiMarketing.TiLeChietKhau) / 100 : null;\n    }\n\n    onChangeGiaSauCk(giaSauCk: number) {\n        this.goiMarketing.GiaSauChietKhau = giaSauCk ? giaSauCk : 0;\n        this.goiMarketing.TiLeChietKhau = this.phanTramChietKhauHienTai =\n            this.goiMarketing.GiaTruocChietKhau ? 100 - (100 * this.goiMarketing.GiaSauChietKhau / this.goiMarketing.GiaTruocChietKhau) : 0;\n    }\n\n    onChangeQuaTang(data: any) {\n        if (data) {\n            this.quaTang.QuaTang = data.DisplayName;\n            this.quaTang.QuaTangId = data.KeyId;\n            return;\n        }\n\n        this.quaTang.QuaTangId = null;\n        this.quaTang.QuaTang = null;\n        this.quaTang.SoLuong = null;\n    }\n\n    Reset() {\n        this.quaTang.IdSys = null;\n        this.quaTang.QuaTangId = null;\n        this.quaTang.QuaTang = null;\n        this.quaTang.Id = null;\n        this.quaTang.SoLuong = null;\n        this.quaTang.GhiChu = null;\n        this.quaTang.GoiDvChuongTrinhMarketingId = null;\n        this.ResetValidateFormForGrid();\n    }\n\n    ResetValidateFormForGrid() {\n        if (this.validationErrors && this.validationErrors.some(x => x.Field.includes('QuaTangId') || x.Field.includes('SoLuong'))) {\n            for (const validationItem of this.validationErrors.filter(x => x.Field.includes('QuaTangId') || x.Field.includes('SoLuong'))) {\n                this.validationErrors.splice(this.validationErrors.indexOf(validationItem), 1);\n            }\n        }\n    }\n\n    ResetValidateForGrid() {\n        if (this.validationErrors && this.validationErrors.some(x => x.Field.includes('dataItem'))) {\n            for (const validationItem of this.validationErrors.filter(x => x.Field.includes('dataItem'))) {\n                this.validationErrors.splice(this.validationErrors.indexOf(validationItem), 1);\n            }\n        }\n    }\n\n    onCheckQuaTang() {\n        this.ResetValidateFormForGrid();\n        this.ResetValidateForGrid();\n    }\n\n    Add() {\n        this.validationFormClient(this.quaTang);\n        this.AddingAfterValidation();\n    }\n\n    AddingAfterValidation() {\n        if (this.validationErrors && !this.validationErrors.some(x => x)) {\n            this.idQuaTangGrid = this.goiMarketing.QuaTangKems ? this.goiMarketing.QuaTangKems.length + 1 : 1;\n\n            let quaTangKem = {} as QuaTangKem;\n            quaTangKem = { ...this.quaTang };\n            quaTangKem.IdSys = 0;\n            quaTangKem.Id = this.idQuaTangGrid;\n            quaTangKem.GoiDvChuongTrinhMarketingId = this.id ? this.id : 0;\n\n            if (!this.goiMarketing.QuaTangKems) { this.goiMarketing.QuaTangKems = []; }\n            this.goiMarketing.QuaTangKems.push(quaTangKem);\n            this.setDataGridView();\n            this.gridQuaTangKem.gridDataSource = { ...this.gridDataSource };\n            this.gridQuaTangKem.setDataSource();\n            this.Reset();\n        }\n    }\n\n    setDataGridView() {\n        this.gridDataSource = {\n            data: [...this.goiMarketing.QuaTangKems],\n            total: this.goiMarketing.QuaTangKems.length\n        };\n    }\n\n    validationFormClient(quaTang: QuaTangKem) {\n        this.validationErrors = [];\n        const array = [];\n        if (quaTang) {\n            if (quaTang.QuaTangId === 0 || quaTang.QuaTangId == null) {\n                array.push({ Field: 'QuaTangId', Message: 'Yêu cầu chọn quà tặng.' });\n            }\n\n            if (quaTang.SoLuong === 0 || quaTang.SoLuong == null) {\n                array.push({ Field: 'SoLuong', Message: 'Số lượng yêu cầu nhập.' });\n            }\n        }\n\n        if (this.checkExist(quaTang.QuaTangId)) {\n            array.push({ Field: 'QuaTangId', Message: 'Quà tặng này đã có trong danh sách' });\n        }\n\n        if (array.length > 0) { this.validationErrors = [...array]; }\n    }\n\n    checkExist(quaTangId: number) {\n        return this.goiMarketing.QuaTangKems && this.goiMarketing.QuaTangKems.some(x => x.QuaTangId === quaTangId);\n    }\n\n    ConfirmDelete(dataItem: QuaTangKem) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: CommonService.format(SystemMessage.MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {\n            if (result === 'Yes') {\n                this.Delete(dataItem);\n            }\n        });\n    }\n\n    Delete(dataItem: QuaTangKem) {\n        this.goiMarketing.QuaTangKems.splice(this.goiMarketing.QuaTangKems.indexOf(dataItem), 1);\n        this.setDataGridView();\n        this.gridQuaTangKem.gridDataSource = { ...this.gridDataSource };\n        this.gridQuaTangKem.setDataSource();\n        this.ResetValidateForGrid();\n    }\n\n    OnValidate() {\n        this.validationErrors = [];\n        if (!this.goiMarketing.Ma) {\n            const validate = {\n                Field: 'Ma',\n                Message: GoiDvMarketing.MessageMaCtNotNull\n            };\n            this.validationErrors.push(validate);\n        }\n\n        if (!this.goiMarketing.Ten) {\n            const validate = {\n                Field: 'Ten',\n                Message: GoiDvMarketing.MessageTenCtNotNull\n            };\n            this.validationErrors.push(validate);\n        }\n\n        if (!this.goiMarketing.GoiDvId) {\n            const validate = {\n                Field: 'GoiDvId',\n                Message: GoiDvMarketing.MessageGoiDvNotNull\n            };\n            this.validationErrors.push(validate);\n        }\n\n        // if (!this.goiMarketing.TiLeChietKhau) {\n        //     const validate = {\n        //         Field: 'TiLeChietKhau',\n        //         Message: GoiDvMarketing.MessageTiLeCkNotNull\n        //     };\n        //     this.validationErrors.push(validate);\n        // }\n\n        if (!this.goiMarketing.TuNgay) {\n            const validate = {\n                Field: 'TuNgay',\n                Message: GoiDvMarketing.MessageTuNgayNotNull\n            };\n            this.validationErrors.push(validate);\n        }\n\n        if (this.goiMarketing.DenNgay && this.goiMarketing.DenNgay < this.goiMarketing.TuNgay) {\n            const validate = {\n                Field: 'DenNgay',\n                Message: GoiDvMarketing.MessageTuNgayNotAllowGreaterThanDenNgay\n            };\n            this.validationErrors.push(validate);\n        }\n\n        const currentDate: Date = new Date();\n        if (this.goiMarketing.DenNgay && this.goiMarketing.DenNgay < currentDate && this.goiMarketing.DenNgay >= this.goiMarketing.TuNgay) {\n            const validate = {\n                Field: 'DenNgay',\n                Message: GoiDvMarketing.MessageTuNgayNotAllowGreaterThanCurrentTime\n            };\n            this.validationErrors.push(validate);\n        }\n\n        if (this.validationErrors && !this.validationErrors.some(x => x) && this.coQuaTang) {\n            if (!this.goiMarketing.QuaTangKems || (this.goiMarketing.QuaTangKems && !this.goiMarketing.QuaTangKems.some(x => x))) {\n                const validate = {\n                    Field: 'dvTrongGoi',\n                    Message: GoiDvMarketing.MessageTiLeCkNotNull\n                };\n                this.validationErrors.push(validate);\n                this.notificationService.showError(GoiDvMarketing.MessageQuaTangKemNotEmpty);\n            }\n\n            if (this.goiMarketing.QuaTangKems && this.goiMarketing.QuaTangKems.some(x => !x.SoLuong)) {\n                for (const quaTang of this.goiMarketing.QuaTangKems.filter(x => !x.SoLuong)) {\n                    const validate = {\n                        Field: 'dataItem[' + this.goiMarketing.QuaTangKems.indexOf(quaTang) + '].SoLuong',\n                        Message: GoiDvMarketing.SoLuongNotNull\n                    };\n                    this.validationErrors.push(validate);\n                }\n            }\n        }\n\n        if (this.validationErrors && !this.validationErrors.some(x => x) && this.coKhuyenMai) {\n            if (this.goiMarketing.KhuyenMaiKems && this.goiMarketing.KhuyenMaiKems.some(x => !x.SoLuong)) {\n                for (const khuyenMai of this.goiMarketing.KhuyenMaiKems.filter(x => !x.SoLuong)) {\n                    const validate = {\n                        Field: 'dataItem[' + this.goiMarketing.KhuyenMaiKems.indexOf(khuyenMai) + '].SoLuong',\n                        Message: GoiDvMarketing.SoLuongNotNull\n                    };\n                    this.validationErrors.push(validate);\n                }\n            }\n            // if (this.goiMarketing.KhuyenMaiKems && this.goiMarketing.KhuyenMaiKems.some(x => !x.DonGiaKhuyenMai)) {\n            //     for (const khuyenMai of this.goiMarketing.KhuyenMaiKems.filter(x => !x.DonGiaKhuyenMai)) {\n            //         const validate = {\n            //             Field: 'dataItem[' + this.goiMarketing.KhuyenMaiKems.indexOf(khuyenMai) + '].DonGiaKhuyenMai',\n            //             Message: GoiDvMarketing.DonGiaKhuyenMaiNotNull\n            //         };\n            //         this.validationErrors.push(validate);\n            //     }\n            // }\n            if (this.goiMarketing.KhuyenMaiKems && this.goiMarketing.KhuyenMaiKems.some(x => !x.SoNgaySuDung)) {\n                for (const khuyenMai of this.goiMarketing.KhuyenMaiKems.filter(x => !x.SoNgaySuDung)) {\n                    const validate = {\n                        Field: 'dataItem[' + this.goiMarketing.KhuyenMaiKems.indexOf(khuyenMai) + '].SoNgaySuDung',\n                        Message: GoiDvMarketing.SoNgaySuDungNotNull\n                    };\n                    this.validationErrors.push(validate);\n                }\n            }\n        }\n\n        if (this.validationErrors && !this.validationErrors.some(x => x)) {\n            if (this.goiMarketing.NhomDichVus && this.goiMarketing.NhomDichVus.some(x => !x.SoLuong)) {\n                for (const nhomDichVu of this.goiMarketing.NhomDichVus.filter(x => !x.SoLuong)) {\n                    const validate = {\n                        Field: 'dataItem[' + this.goiMarketing.NhomDichVus.indexOf(nhomDichVu) + '].SoLuong',\n                        Message: GoiDvMarketing.SoLuongNotNull\n                    };\n                    this.validationErrors.push(validate);\n                }\n            }\n            // if (this.goiMarketing.NhomDichVus && this.goiMarketing.NhomDichVus.some(x => !x.DonGiaTruocChietKhau)) {\n            //     for (const nhomDichVu of this.goiMarketing.NhomDichVus.filter(x => !x.DonGiaTruocChietKhau)) {\n            //         const validate = {\n            //             Field: 'dataItem[' + this.goiMarketing.NhomDichVus.indexOf(nhomDichVu) + '].DonGiaTruocChietKhau',\n            //             Message: GoiDvMarketing.DonGiaTruocChietKhauNotNull\n            //         };\n            //         this.validationErrors.push(validate);\n            //     }\n            // }\n            // if (this.goiMarketing.NhomDichVus && this.goiMarketing.NhomDichVus.some(x => !x.DonGiaSauChietKhau)) {\n            //     for (const nhomDichVu of this.goiMarketing.NhomDichVus.filter(x => !x.DonGiaSauChietKhau)) {\n            //         const validate = {\n            //             Field: 'dataItem[' + this.goiMarketing.NhomDichVus.indexOf(nhomDichVu) + '].DonGiaSauChietKhau',\n            //             Message: GoiDvMarketing.DonGiaSauChietKhauNotNull\n            //         };\n            //         this.validationErrors.push(validate);\n            //     }\n            // }\n        }\n    }\n\n    onKeyAddQua(keyInput: any) {\n        if (keyInput.keyCode === 13) {\n            if (this.quaTangDisabled !== true) {\n                this.Add();\n            } else {\n                this.quaTangDisabled = false;\n            }\n        }\n    }\n\n    openComboboxQuaTang(isOpen: boolean) {\n        this.quaTangDisabled = isOpen;\n    }\n    onCheckKhuyenMai() {\n        this.ResetValidateFormForGridKhuyenMai();\n        this.ResetValidateForGridKhuyenMai();\n    }\n    ResetValidateFormForGridKhuyenMai() {\n        if (this.validationErrors && this.validationErrors.some(x => x.Field.includes('DvId') || x.Field.includes('LoaiGia') || x.Field.includes('SoLuong') || x.Field.includes('DonGiaKhuyenMai'))) {\n            for (const validationItem of this.validationErrors.filter(x => x.Field.includes('DvId') || x.Field.includes('LoaiGia') || x.Field.includes('SoLuong') || x.Field.includes('DonGiaKhuyenMai'))) {\n                this.validationErrors.splice(this.validationErrors.indexOf(validationItem), 1);\n            }\n        }\n    }\n\n    ResetValidateForGridKhuyenMai() {\n        if (this.validationErrors && this.validationErrors.some(x => x.Field.includes('dataItemKhuyenMai'))) {\n            for (const validationItem of this.validationErrors.filter(x => x.Field.includes('dataItemKhuyenMai'))) {\n                this.validationErrors.splice(this.validationErrors.indexOf(validationItem), 1);\n            }\n        }\n    }\n\n    onChangeGoiDvLuaChon(event: any) {\n        if (event == 3) {\n            this.danhSachLoaiGia = null;\n            this.khuyenMaiKem.LoaiGia = null;\n        }\n        this.ResetKhuyenMai();\n    }\n    ResetKhuyenMai() {\n        this.khuyenMaiKem.DonGia = null;\n        this.khuyenMaiKem.DonGiaKhuyenMai = 0;\n        this.khuyenMaiKem.ThanhTien = null;\n        this.khuyenMaiKem.MaDv = null;\n        this.khuyenMaiKem.TenDv = null;\n        this.khuyenMaiKem.Id = null;\n        this.khuyenMaiKem.DvId = null;\n        this.khuyenMaiKem.LoaiGia = null;\n        this.khuyenMaiKem.SoLuong = 1;\n        this.khuyenMaiKem.IdDatabase = null;\n        this.khuyenMaiKem.GhiChu = null;\n        this.khuyenMaiKem.Nhom = null;\n        this.khuyenMaiKem.NhomDisplay = null;\n        this.khuyenMaiKem.SoNgaySuDung = 30;\n        this.ResetValidateFormForGridKhuyenMai();\n    }\n\n    onChangeDichVu(data: any) {\n        if (data) {\n            this.khuyenMaiKem.TenDv = data.DisplayName;\n            this.khuyenMaiKem.DvId = data.KeyId;\n            this.khuyenMaiKem.MaDv = data.Ma;\n            switch (this.luaChonGoiDichVu) {\n                case 1: {\n                    this.danhSachLoaiGia = null;\n                    this.khuyenMaiKem.LoaiGia = null;\n                    this.apiService.post('GoiDichVu/LoaiGiaDichVuKhamBenh?idDichVuKhamBenhId=' + this.khuyenMaiKem.DvId).subscribe(\n                        (resultData: any) => {\n                            this.danhSachLoaiGia = resultData;\n                            if (this.danhSachLoaiGia != null && this.danhSachLoaiGia.length > 0) {\n                                this.khuyenMaiKem.LoaiGia = this.danhSachLoaiGia[0].KeyId;\n                                this.onChangeLoaiGia(this.danhSachLoaiGia[0]);\n                            }\n                        });\n                    break;\n                }\n                case 2: {\n                    this.danhSachLoaiGia = null;\n                    this.khuyenMaiKem.LoaiGia = null;\n                    this.apiService.post('GoiDichVu/LoaiGiaNhomGiaDichVuKyThuatBenhVien?dichVuKyThuatId=' + this.khuyenMaiKem.DvId).subscribe(\n                        (resultData: any) => {\n                            this.danhSachLoaiGia = resultData;\n                            if (this.danhSachLoaiGia != null && this.danhSachLoaiGia.length > 0) {\n                                this.khuyenMaiKem.LoaiGia = this.danhSachLoaiGia[0].KeyId;\n                                this.onChangeLoaiGia(this.danhSachLoaiGia[0]);\n                            }\n                        });\n                    break;\n                }\n                case 3: {\n                    this.danhSachLoaiGia = null;\n                    this.khuyenMaiKem.LoaiGia = null;\n                    this.apiService.post('GoiDichVu/LoaiGiaNhomGiaGiuongBenhVien?dichVuGiuongBenhVienId=' + this.khuyenMaiKem.DvId).subscribe(\n                        (resultData: any) => {\n                            this.danhSachLoaiGia = resultData;\n                            if (this.danhSachLoaiGia != null && this.danhSachLoaiGia.length > 0) {\n                                this.khuyenMaiKem.LoaiGia = this.danhSachLoaiGia[0].KeyId;\n                                this.onChangeLoaiGia(this.danhSachLoaiGia[0]);\n                            }\n                        });\n                    break;\n                }\n            }\n            return;\n        }\n        else {\n            this.danhSachLoaiGia = null;\n            this.khuyenMaiKem.LoaiGia = null;\n        }\n        this.khuyenMaiKem.DonGia = null;\n        this.khuyenMaiKem.DonGiaKhuyenMai = 0;\n        this.khuyenMaiKem.ThanhTien = null;\n    }\n\n    onChangeLoaiGia(loaiGia: any) {\n        this.khuyenMaiKem.LoaiGia = loaiGia.KeyId;\n        this.khuyenMaiKem.LoaiGiaDisplay = loaiGia.DisplayName;\n        if (this.validationErrors && this.validationErrors.some(x => x.Field.includes('DonGia'))) {\n            for (const validationItem of this.validationErrors.filter(x => x.Field.includes('DonGia'))) {\n                this.validationErrors.splice(this.validationErrors.indexOf(validationItem), 1);\n            }\n        }\n        if (this.validationErrors && this.validationErrors.some(x => x.Field.includes('DonGiaKhuyenMai'))) {\n            for (const validationItem of this.validationErrors.filter(x => x.Field.includes('DonGiaKhuyenMai'))) {\n                this.validationErrors.splice(this.validationErrors.indexOf(validationItem), 1);\n            }\n        }\n        if (this.khuyenMaiKem.DvId) {\n            switch (this.luaChonGoiDichVu) {\n                case 1: {\n                    this.apiService.post('GoiDichVu/GetChiPhiHienTaiDichVuKhamBenh?dichVuKhamBenhBenhVienId=' + this.khuyenMaiKem.DvId +\n                        '&nhomGiaDichVuKhamBenhBenhVienId=' + this.khuyenMaiKem.LoaiGia).subscribe(\n                            (resultData: any) => {\n                                this.khuyenMaiKem.DonGia = resultData;\n                                this.khuyenMaiKem.DonGiaKhuyenMai = resultData;\n                                this.khuyenMaiKem.ThanhTien = this.khuyenMaiKem.SoLuong != null ?\n                                    resultData * this.khuyenMaiKem.SoLuong : resultData;\n                            });\n                    break;\n                }\n                case 2: {\n                    this.apiService.post('GoiDichVu/GetChiPhiHienTaiDichVuKyThuat?dichVuKyThuatBenhVienId=' + this.khuyenMaiKem.DvId +\n                        '&nhomGiaDichVuKyThuatBenhVienId=' + this.khuyenMaiKem.LoaiGia).subscribe(\n                            (resultData: any) => {\n                                this.khuyenMaiKem.DonGia = resultData;\n                                this.khuyenMaiKem.DonGiaKhuyenMai = resultData;\n                                this.khuyenMaiKem.ThanhTien = this.khuyenMaiKem.SoLuong != null ?\n                                    resultData * this.khuyenMaiKem.SoLuong : resultData;\n                            });\n                    break;\n                }\n                case 3: {\n                    this.apiService.post('GoiDichVu/GetChiPhiChoDichVuGiuong?dichVuGiuongBenhVienId=' + this.khuyenMaiKem.DvId +\n                        '&nhomGiaId=' + this.khuyenMaiKem.LoaiGia).subscribe(\n                            (resultData: any) => {\n                                this.khuyenMaiKem.DonGia = resultData;\n                                this.khuyenMaiKem.DonGiaKhuyenMai = resultData;\n                                this.khuyenMaiKem.ThanhTien = this.khuyenMaiKem.SoLuong != null ?\n                                    resultData * this.khuyenMaiKem.SoLuong : resultData;\n                            });\n                    break;\n                }\n            }\n            return;\n        }\n\n        this.khuyenMaiKem.DonGia = null;\n        this.khuyenMaiKem.DonGiaKhuyenMai = 0;\n        this.khuyenMaiKem.ThanhTien = null;\n    }\n\n    ChangeSoLuong(soluong: number) {\n        this.khuyenMaiKem.SoLuong = soluong;\n        this.khuyenMaiKem.ThanhTien = this.khuyenMaiKem.DonGiaKhuyenMai != null ?\n            this.khuyenMaiKem.DonGiaKhuyenMai * soluong : null;\n    }\n\n    ChangeSoLuongDataItem(soLuong: number, data: KhuyenMaiKem) {\n        data.SoLuong = soLuong;\n        data.ThanhTien = data.SoLuong != null ?\n            data.DonGiaKhuyenMai * soLuong : data.DonGiaKhuyenMai;\n    }\n\n    ChangeDonGiaKhuyenMai(donGiaKhuyenMai: number) {\n        this.khuyenMaiKem.ThanhTien = donGiaKhuyenMai != null ?\n            donGiaKhuyenMai * this.khuyenMaiKem.SoLuong : null;\n    }\n\n    ChangeDonGiaKhuyenMaiDataItem(donGiaKhuyenMai: number, data: KhuyenMaiKem) {\n        data.ThanhTien = data.SoLuong != null ?\n            donGiaKhuyenMai * data.SoLuong : donGiaKhuyenMai;\n    }\n    openComboboxKhamBenh(isOpen: boolean) {\n        this.khamBenhDisabled = isOpen;\n    }\n\n    openComboboxKyThuat(isOpen: boolean) {\n        this.kyThuatDisabled = isOpen;\n    }\n\n    openComboboxLoaiGiaKhamBenh(isOpen: boolean) {\n        this.loaiGiaKhamBenhDisabled = isOpen;\n    }\n\n    openComboboxLoaiGiaKyThuat(isOpen: boolean) {\n        this.loaiGiaKyThuatDisabled = isOpen;\n    }\n    openComboboxLoaiGiaGiuong(isOpen: boolean) {\n        this.loaiGiaGiuongDisabled = isOpen;\n    }\n\n    onKeyAddDv(keyInput: any, loai = 0) {\n        if (keyInput.keyCode === 13) {\n            this.AddKhuyenMai();\n        }\n    }\n\n    AddKhuyenMai() {\n        switch (this.luaChonGoiDichVu) {\n            case 1: {\n                this.validationFormClientForKhamBenh(this.khuyenMaiKem);\n                this.AddingAfterValidationKhuyenMai(1);\n                break;\n            }\n            case 2: {\n                this.validationFormClientForKyThuat(this.khuyenMaiKem);\n                this.AddingAfterValidationKhuyenMai(2);\n                break;\n            }\n            case 3: {\n                this.validationFormClientForGiuong(this.khuyenMaiKem);\n                this.AddingAfterValidationKhuyenMai(3);\n                break;\n            }\n        }\n    }\n\n    AddingAfterValidationKhuyenMai(loaiNhom: number) {\n        if (this.validationErrors && !this.validationErrors.some(x => x)) {\n            this.khuyenMaiKem.Nhom = loaiNhom;\n            this.apiService.get('GoiDichVuMarketing/GetResultEnumDichVuTongHop?enumTongHop=' + this.khuyenMaiKem.Nhom).subscribe(\n                (resultData: any) => {\n                    this.idDichVuKhamBenhComponent = this.goiMarketing.KhuyenMaiKems.length + 1;\n\n                    let goiDichVuModel = new KhuyenMaiKem();\n                    goiDichVuModel = { ...this.khuyenMaiKem };\n                    goiDichVuModel.IdDatabase = 0;\n                    goiDichVuModel.Id = this.idDichVuKhamBenhComponent;\n                    goiDichVuModel.NhomDisplay = resultData;\n                    goiDichVuModel.GoiDichVuId = this.id ? this.id : 0;\n\n                    this.goiMarketing.KhuyenMaiKems.push(goiDichVuModel);\n                    this.setDataGridViewKhuyenMai();\n                    this.gridKhuyenMaiKem.gridDataSource = { ...this.gridDataSource };\n                    this.gridKhuyenMaiKem.setDataSource();\n                    this.ResetKhuyenMai();\n                }\n            );\n        }\n    }\n\n    setDataGridViewKhuyenMai() {\n        this.gridDataSourceKhuyenMai = {\n            data: [...this.goiMarketing.KhuyenMaiKems],\n            total: this.goiMarketing.KhuyenMaiKems.length\n        };\n    }\n    validationFormClientForKhamBenh(dataval: KhuyenMaiKem) {\n        this.validationErrors = [];\n        const array = [];\n        if (dataval) {\n            if (dataval.DvId === 0 || dataval.DvId == null) {\n                array.push({ Field: 'DvId', Message: 'Yêu cầu chọn dịch vụ khám bệnh' });\n            }\n\n            if (dataval.LoaiGia === 0 || dataval.LoaiGia == null) {\n                array.push({ Field: 'LoaiGia', Message: 'Yêu cầu chọn loại giá' });\n            }\n\n            if (dataval.SoLuong === 0 || dataval.SoLuong == null) {\n                array.push({ Field: 'SoLuong', Message: 'Yêu cầu chọn số lượng' });\n            }\n\n            // if (dataval.DonGia === 0) {\n            //     array.push({ Field: 'DonGia', Message: 'Không có đơn giá. Chọn lại dịch vụ hoặc loại giá' });\n            // }\n            // if (dataval.DonGiaKhuyenMai == null) {\n            //     array.push({ Field: 'DonGiaKhuyenMai', Message: 'Yêu cầu nhập đơn giá KM' });\n            // }\n        }\n\n        if (this.checkExistKhuyenMai(dataval.DvId, 1)) {\n            array.push({ Field: 'DvId', Message: 'Dịch vụ khám bệnh này đã có trong danh sách' });\n        }\n\n        if (array.length > 0) { this.validationErrors = [...array]; }\n    }\n\n    validationFormClientForKyThuat(dataval: KhuyenMaiKem) {\n        this.validationErrors = [];\n        const array = [];\n        if (dataval) {\n            if (dataval.DvId === 0 || dataval.DvId == null) {\n                array.push({ Field: 'DvId', Message: 'Yêu cầu chọn dịch vụ kỹ thuật' });\n            }\n\n            if (dataval.LoaiGia === 0 || dataval.LoaiGia == null) {\n                array.push({ Field: 'LoaiGia', Message: 'Yêu cầu chọn loại giá' });\n            }\n\n            if (dataval.SoLuong === 0 || dataval.SoLuong == null) {\n                array.push({ Field: 'SoLuong', Message: 'Yêu cầu chọn số lượng' });\n            }\n\n            // if (dataval.DonGia === 0) {\n            //     array.push({ Field: 'DonGia', Message: 'Không có đơn giá. Chọn lại dịch vụ hoặc loại giá' });\n            // }\n            // if (dataval.DonGiaKhuyenMai == null) {\n            //     array.push({ Field: 'DonGiaKhuyenMai', Message: 'Yêu cầu nhập đơn giá KM' });\n            // }\n        }\n\n        // check lai kỹ thuat\n        if (this.checkExistKhuyenMai(dataval.DvId, 2)) {\n            array.push({ Field: 'DvId', Message: 'Dịch vụ kỹ thuật này đã có trong danh sách' });\n        }\n\n        if (array.length > 0) { this.validationErrors = [...array]; }\n    }\n\n    validationFormClientForGiuong(dataval: KhuyenMaiKem) {\n        this.validationErrors = [];\n        const array = [];\n        if (dataval) {\n            if (dataval.DvId === 0 || dataval.DvId == null) {\n                array.push({ Field: 'DvId', Message: 'Yêu cầu chọn dịch vụ giường' });\n            }\n\n            if (dataval.LoaiGia === 0 || dataval.LoaiGia == null) {\n                array.push({ Field: 'LoaiGia', Message: 'Yêu cầu chọn loại giá' });\n            }\n\n            if (dataval.SoLuong === 0 || dataval.SoLuong == null) {\n                array.push({ Field: 'SoLuong', Message: 'Yêu cầu chọn số lượng' });\n            }\n            // if (dataval.DonGiaKhuyenMai == null) {\n            //     array.push({ Field: 'DonGiaKhuyenMai', Message: 'Yêu cầu nhập đơn giá KM' });\n            // }\n        }\n\n        // check lai giuong benh\n        if (this.checkExistKhuyenMai(dataval.DvId, 3)) {\n            array.push({ Field: 'DvId', Message: 'Dịch vụ giường này đã có trong danh sách' });\n        }\n\n        if (array.length > 0) { this.validationErrors = [...array]; }\n    }\n\n    checkExistKhuyenMai(dichVuKhamBenhBenhVienId: number, loaiNhom: number) {\n        return this.goiMarketing.KhuyenMaiKems.some(x => x.Nhom === loaiNhom && x.DvId === dichVuKhamBenhBenhVienId);\n    }\n    ConfirmDeleteKM(dataItem: KhuyenMaiKem) {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: 'Xác nhận', Message: CommonService.format(SystemMessage.MessConfirm, ['xóa']) }\n        }).afterClosed().subscribe(result => {\n            if (result === 'Yes') {\n                this.DeleteKM(dataItem);\n            }\n        });\n    }\n\n    DeleteKM(dataItem: KhuyenMaiKem) {\n        this.goiMarketing.KhuyenMaiKems.splice(this.goiMarketing.KhuyenMaiKems.indexOf(dataItem), 1);\n        this.setDataGridViewKhuyenMai();\n        this.gridKhuyenMaiKem.gridDataSource = { ...this.gridDataSourceKhuyenMai };\n        this.gridKhuyenMaiKem.setDataSource();\n        this.ResetValidateForGridKhuyenMai();\n    }\n\n\n    //Nhóm DV\n    setDataGridViewNhomDichVu() {\n        this.gridDataSourceNhomDichVu = {\n            data: [...this.goiMarketing.NhomDichVus],\n            total: this.goiMarketing.NhomDichVus.length\n        };\n    }\n    ChangeSoLuongNhomDichVuDataItem(soLuong: number, data: NhomDichVu) {\n        data.SoLuong = soLuong;\n        data.ThanhTienBenhVien = data.SoLuong != null ?\n            data.DonGiaBenhVien * data.SoLuong : data.DonGiaBenhVien;\n        data.ThanhTienTruocChietKhau = data.SoLuong != null ?\n            data.DonGiaTruocChietKhau * data.SoLuong : data.DonGiaTruocChietKhau;\n        data.ThanhTienSauChietKhau = data.SoLuong != null ?\n            data.DonGiaSauChietKhau * data.SoLuong : data.DonGiaSauChietKhau;\n    }\n\n    ChangeDonGiaTruocChietKhauDataItem(donGia: number, data: NhomDichVu) {\n        if (donGia != undefined && donGia != null) {\n            data.ThanhTienTruocChietKhau = data.SoLuong != null ?\n                donGia * data.SoLuong : donGia;\n        }\n        else {\n            data.DonGiaTruocChietKhau = 0;\n        }\n    }\n    ChangeDonGiaSauChietKhauDataItem(donGia: number, data: NhomDichVu) {\n        if (donGia != undefined && donGia != null) {\n            data.ThanhTienSauChietKhau = data.SoLuong != null ?\n                donGia * data.SoLuong : donGia;\n        } else {\n            data.DonGiaSauChietKhau = 0;\n        }\n    }\n    confrim: any = null;\n    showFormNhapTruocChietKhauPopup() {\n        if (this.confrim != null) {\n            this.dialog.closeAll();\n            this.confrim = null;\n        }\n        this.confrim = this.dialog\n            .open(NhapTruocChietKhauPopupComponent, {\n                disableClose: true,\n                width: \"300px\",\n                data: {},\n            })\n            .afterClosed()\n            .subscribe((result: TruocChietKhau) => {\n                if (result != null) {\n                    this.goiMarketing.NhomDichVus.forEach(item => {\n                        if (result.LoaiChietKhau == 1) {\n                            item.DonGiaTruocChietKhau = item.DonGiaBenhVien + item.DonGiaBenhVien * (result.ChietKhau / 100)\n                        }\n                        else {\n                            item.DonGiaTruocChietKhau = item.DonGiaBenhVien - item.DonGiaBenhVien * (result.ChietKhau / 100)\n                        }\n                        this.ChangeDonGiaTruocChietKhauDataItem(item.DonGiaTruocChietKhau, item);\n                    });\n                }\n            });\n    }\n    showFormNhapSauChietKhauPopup() {\n        if (this.confrim != null) {\n            this.dialog.closeAll();\n            this.confrim = null;\n        }\n        this.confrim = this.dialog\n            .open(NhapSauChietKhauPopupComponent, {\n                disableClose: true,\n                width: \"300px\",\n                data: {},\n            })\n            .afterClosed()\n            .subscribe((result: number) => {\n                if (result != null) {\n                    this.goiMarketing.NhomDichVus.forEach(item => {\n                        item.DonGiaSauChietKhau = item.DonGiaTruocChietKhau - item.DonGiaTruocChietKhau * (result / 100);\n                        this.ChangeDonGiaSauChietKhauDataItem(item.DonGiaSauChietKhau, item);\n                    });\n                }\n            });\n    }\n\n    themLoaiGoi() {\n        if (this.authService.hasPermission(this.documentType, SecurityOperation.View)) {\n            this.dialog.open(LoaiDichVuPopupComponent, {\n                disableClose: false,\n                width: '1400px',\n                data: {}\n            }).afterClosed().subscribe(result => {\n\n            });\n        }\n        else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9tYXJrZXRpbmcvY2h1b25nLXRyaW5oLW1hcmtldGluZy90aGVvLWdvaS1kaWNoLXZ1L2dvaS1kdi1tYXJrZXRpbmctdXBkYXRlL2dvaS1kdi1tYXJrZXRpbmctdXBkYXRlLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, HostListener, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormfooterComponent } from 'src/app/shared/component/formfooter/formfooter.component';\n\nimport { GoiDvCtMarketingSharedComponent } from '../goi-dv-marketing-shared/goi-dv-marketing-shared.component';\n\n@Component({\n    // tslint:disable-next-line: component-selector\n    selector: 'app-goi-dv-marketing-update',\n    templateUrl: './goi-dv-marketing-update.component.html',\n    styleUrls: ['./goi-dv-marketing-update.component.scss']\n})\nexport class GoiDvCtMarketingUpdateComponent implements OnInit {\n\n    idsub: number;\n    @ViewChild(GoiDvCtMarketingSharedComponent, { static: true }) shared;\n    @ViewChild('footer', { static: false }) footer: FormfooterComponent;\n\n    constructor(private router: Router, private route: ActivatedRoute) { }\n\n    ngOnInit() {\n        this.idsub = this.route.snapshot.params.id;\n    }\n\n    onUpdated() {\n        this.router.navigate(['/marketing/ct-marketing/goi-dv'], {\n            queryParamsHandling: 'preserve',\n        });\n    }\n\n    onValidateClient(isValidate: boolean) {\n        if (isValidate) {\n            this.shared.OnValidate();\n        }\n    }\n\n    @HostListener('document:keydown', ['$event'])\n    keyEvent(event: KeyboardEvent) {\n        if (event.keyCode === 83 && event.ctrlKey) {\n            // ctrl + s\n            this.footer.update();\n            event.preventDefault();\n        }\n\n        if (event.keyCode === 27 && !event.ctrlKey) {\n            // esc\n            this.footer.cancel();\n            event.preventDefault();\n        }\n    }\n}\n","export class GoiDichVuChuongTrinhMarketing {\n    constructor(\n        public Id: number = null,\n        public Ma: string = null,\n        public Ten: string = null,\n        public GoiDvId: number = null,\n        public GoiDv: string = null,\n        public GoiDichVu: number = null,\n        public GiaTruocChietKhau: number = null,\n        public TiLeChietKhau: number = null,\n        public GiaSauChietKhau: number = null,\n        public TuNgay: any = new Date(),\n        public TuNgayDisplay: string = null,\n        public DenNgay: any = null,\n        public CongTyBaoHiemTuNhanId: any = null,\n        public DenNgayDisplay: string = null,\n        public TamNgung: boolean = null,\n        public MoTaGoiDichVu: string = null,\n        public CoYeuCauSuDung: boolean = null,\n        public GoiDvIdCu: number = null,\n        public GoiSoSinh: boolean = null,\n        public LoaiGoiDichVuId: number = null,\n        public TenLoaiGoiDichVu: string = null,\n        public QuaTangKems: QuaTangKem[] = [],\n        public YeuCauSuDungChuongTrinhs: any[] = [],\n        public KhuyenMaiKems: KhuyenMaiKem[] = [],\n        public NhomDichVus: NhomDichVu[] = []\n    ) { }\n}\n\nexport class NhomDichVu {\n    constructor(\n        public Id: number = null,\n        public DvId: number = null,\n        public MaDv: string = null,\n        public TenDv: string = null,\n        public NhomDisplay: string = null, \n        public LoaiGiaDisplay: string = null,\n        public SoLuong: number = 1,\n        public DonGiaBenhVien: number = null,\n        public DonGiaTruocChietKhau: number = null,\n        public DonGiaSauChietKhau: number = null,\n        public ThanhTienBenhVien: number = null,\n        public ThanhTienTruocChietKhau: number = null,\n        public ThanhTienSauChietKhau: number = null\n    ) { }\n}\nexport class QuaTangKem {\n    constructor(\n        public Id: number = null,\n        public IdSys: number = null,\n        public QuaTangId: number = null,\n        public QuaTang: string = null,\n        public SoLuong: number = null,\n        public GhiChu: string = null,\n        public GoiDvChuongTrinhMarketingId: number = null\n    ) { }\n}\n\nexport class KhuyenMaiKem {\n    constructor(\n        public Id: number = null,\n        public MaDv: string = null,\n        public TenDv: string = null,\n        public DvId: number = null,\n        public LoaiGia: number = null,\n        public GoiDichVuId: number = null,\n        public LoaiGiaDisplay: string = null,\n        public SoLuong: number = 1,\n        public IdDatabase: number = null,\n        public DonGia: number = null,\n        public DonGiaKhuyenMai:number=0,\n        public ThanhTien: number = null,\n        public GhiChu: string = null,\n        public Nhom: number = null, // 1 là khám bệnh, 2 là kỹ thuật, 3 là giường bệnh\n        public NhomDisplay: string = null,        \n        public SoNgaySuDung: number = 30,\n    ) { }\n}\n\nexport class GoiDichVuChuongTrinhMarketingSearch {\n    constructor(\n        public SearchString: string = null,\n        // tslint:disable-next-line: no-use-before-declare\n        public RangeFromDate: RangeDate = new RangeDate(),\n        // tslint:disable-next-line: no-use-before-declare\n        public RangeToDate: RangeDate = new RangeDate()\n    ) { }\n}\n\nexport class RangeDate {\n    constructor(\n        public startDate: Date = null,\n        public endDate: Date = null\n    ) { }\n}\nexport class LoaiGiaBenhVien {\n    constructor(public KeyId: number, public DisplayName: string = \"\") { }\n}\nexport class TruocChietKhau {\n    constructor(public ChietKhau: number, public LoaiChietKhau: number = 1) { }\n}\n\n\nexport class LoaiGoiDichVu {\n    constructor(\n        public Id: number = 0,\n        public Ma: string = null,\n        public Ten: string = null,\n        public IsDefault: boolean = false,\n    ) { }\n}","import { NhapSauChietKhauPopupComponent } from './nhap-sau-chiet-khau-popup/nhap-sau-chiet-khau-popup.component';\nimport { NhapTruocChietKhauPopupComponent } from './nhap-truoc-chiet-khau-popup/nhap-truoc-chiet-khau-popup.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TooltipModule } from '@progress/kendo-angular-tooltip';\nimport { GoiDvChuongTrinhMarketingService } from './goi-dv-marketing.service';\nimport { BaseService } from 'src/app/core/services/base.service';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { MatIconModule } from '@angular/material/icon';\nimport { IconModule } from '@visurel/iconify-angular';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { GoiDvCtMarketingSharedComponent } from './goi-dv-marketing-shared/goi-dv-marketing-shared.component';\n\nimport { GoiDvChuongTrinhMarketingRoutingModule } from './goi-dv-marketing-routing.module';\nimport { BreadcrumbsModule } from 'src/@vex/components/breadcrumbs/breadcrumbs.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { PageLayoutModule } from 'src/@vex/components/page-layout/page-layout.module';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatButtonModule } from '@angular/material/button';\nimport { GridModule } from '@progress/kendo-angular-grid';\nimport { GoiDvCtMarketingListComponent } from './goi-dv-marketing-list/goi-dv-marketing-list.component';\nimport { GoiDvCtMarketingUpdateComponent } from './goi-dv-marketing-update/goi-dv-marketing-update.component';\nimport { GoiDvCtMarketingAddComponent } from './goi-dv-marketing-create/goi-dv-marketing-create.component';\nimport {\n    ChiTietSuDungChuongTrinhGoiDvComponent\n} from './chi-tiet-su-dung-chuong-trinh-goi-dv/chi-tiet-su-dung-chuong-trinh-goi-dv.component';\nimport { LoaiDichVuPopupComponent } from './loai-dich-vu-popup/loai-dich-vu-popup.component';\n\nimport { MatInputModule, MatOptionModule, MatSelectModule, MatTabsModule } from '@angular/material';\nimport { LayoutModule } from '@progress/kendo-angular-layout';\nimport { MatDialogModule, MatCheckboxModule } from '@angular/material';\n\n@NgModule({\n    declarations: [\n        GoiDvCtMarketingListComponent,\n        GoiDvCtMarketingUpdateComponent,\n        GoiDvCtMarketingAddComponent,\n        GoiDvCtMarketingSharedComponent,\n        ChiTietSuDungChuongTrinhGoiDvComponent,\n        NhapTruocChietKhauPopupComponent,\n        NhapSauChietKhauPopupComponent,\n        LoaiDichVuPopupComponent\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        SharedModule,\n        MatIconModule,\n        IconModule,\n        TooltipModule,\n        MatMenuModule,\n        PageLayoutModule,\n        BreadcrumbsModule,\n        FlexLayoutModule,\n        MatButtonToggleModule,\n        MatDialogModule,\n        MatTooltipModule,\n        ReactiveFormsModule,\n        MatButtonModule,\n        MatCheckboxModule,\n        GridModule,\n        GoiDvChuongTrinhMarketingRoutingModule,\n\n        MatInputModule, MatOptionModule, MatSelectModule,\n        MatTabsModule,\n        LayoutModule,\n        MatDialogModule,\n        MatCheckboxModule,\n    ],\n    providers: [\n        GoiDvChuongTrinhMarketingService,\n        { provide: BaseService, useClass: GoiDvChuongTrinhMarketingService },\n    ],\n    entryComponents: [\n        ChiTietSuDungChuongTrinhGoiDvComponent,\n        NhapTruocChietKhauPopupComponent,\n        NhapSauChietKhauPopupComponent,\n        LoaiDichVuPopupComponent\n    ]\n})\nexport class GoiDvMarketingModule { }\n","import { Injectable } from '@angular/core';\nimport { BaseService } from 'src/app/core/services/base.service';\nimport { ApiService } from 'src/app/core/services/api.service';\n\n@Injectable({\n    providedIn: 'root'\n})\n\nexport class GoiDvChuongTrinhMarketingService extends BaseService {\n    controllerName = 'GoiDichVuChuongTrinhMarketing';\n    constructor(apiService: ApiService) {\n        super(apiService);\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9tYXJrZXRpbmcvY2h1b25nLXRyaW5oLW1hcmtldGluZy90aGVvLWdvaS1kaWNoLXZ1L2xvYWktZGljaC12dS1wb3B1cC9sb2FpLWRpY2gtdnUtcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport icFilterList from '@iconify/icons-ic/twotone-filter-list';\nimport icFileExcel from \"@iconify/icons-fa-solid/file-excel\";\nimport icSearch from \"@iconify/icons-ic/twotone-search\";\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icAdd from '@iconify/icons-ic/twotone-add';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { FormControl } from '@angular/forms';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport icDone from '@iconify/icons-ic/twotone-done';\nimport { LoaiGoiDichVu } from '../goi-dv-marketing.model';\n\n@Component({\n  selector: 'app-loai-dich-vu-popup',\n  templateUrl: './loai-dich-vu-popup.component.html',\n  styleUrls: ['./loai-dich-vu-popup.component.scss']\n})\nexport class LoaiDichVuPopupComponent implements OnInit {\n  loaiGoiDichVu: LoaiGoiDichVu = new LoaiGoiDichVu();\n  isCreate = false;\n  icDone = icDone;\n  icClose = icClose;\n  icSearch = icSearch;\n  icFileExcel = icFileExcel;\n  icFilterList = icFilterList;\n  icDelete = icDelete;\n  icAdd = icAdd;\n  documentType: DocumentType = DocumentType.DanhMucNoiGioiThieu;\n  searchString: string = null;\n  searchCtrl = new FormControl();\n  validationErrors: any;\n  popupLoadingData: any;\n  popupDeletingData: any;\n  isShow: boolean = false;\n  gridColumns: any[] = [];\n  _gridColumnsFilter: any[] = [];\n  _isCheckColumnFilter: boolean = true;\n  urlGetData = \"GoiDichVuChuongTrinhMarketing/GetDataForGridLoaiGoiMarketingAsync\";\n  urlGetTotalPage = \"GoiDichVuChuongTrinhMarketing/GetTotalPageForGridLoaiGoiMarketingAsync\";\n  @ViewChild('maTemplate', { static: true }) maTemplate: TemplateRef<any>;\n  @ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n  @ViewChild('trangThaiTemplate', { static: true }) trangThaiTemplate: TemplateRef<any>;\n\n  @ViewChild(\"grid\", { static: true }) grid: GridComponent;\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private authService: AuthService,\n    private notificationService: NotificationService,\n    private apiService: ApiService,\n    private dialog: MatDialog\n  ) { }\n\n  ngOnInit() {\n    this.gridColumns = [\n      { Field: \"Ma\", Title: \"Mã\", Width: 80, Sortable: true, Template: this.maTemplate },\n      { Field: \"Ten\", Title: \"Tên\", Width: 260, Sortable: true },\n      // { Field: \"IsDefault\", Title: \"Trạng Thái\", Width: 200, Template: this.trangThaiTemplate },\n      { Field: \"Action\", Title: \"\", Width: 40, Sortable: false, Template: this.actionTemplate }\n    ];\n    this._gridColumnsFilter = this.gridColumns.filter(p => p.Title != '');\n\n  }\n  onKey(event: any) {\n    if (event.key == \"Enter\") {\n      this.grid.searchString = this.searchString;\n      this.grid.search();\n    }\n  }\n\n  searchChange(event: any) {\n    if (event == null || event == \"\") {\n      this.clearSearch();\n    }\n  }\n\n  clearSearch() {\n    this.searchString = null;\n    this.grid.searchString = null;\n    this.grid.search();\n  }\n\n  popupSavingData: any = null;\n  savingPage() {\n    this.popupSavingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang lưu dữ liệu...\" },\n    });\n  }\n\n  closepopupSavingData() {\n    if (this.popupSavingData != undefined && this.popupSavingData != null) {\n      this.popupSavingData.close();\n    }\n  }\n\n  popupAddingData: any = null;\n  addingPage() {\n    this.popupAddingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang thêm dữ liệu...\" },\n    });\n  }\n\n  closePopupAddingData() {\n    if (this.popupAddingData != undefined && this.popupAddingData != null) {\n      this.popupAddingData.close();\n    }\n  }\n\n  loadingPage() {\n    this.popupLoadingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang tải dữ liệu...\" },\n    });\n  }\n\n  closePopupLoadingData() {\n    if (this.popupLoadingData != undefined && this.popupLoadingData != null) {\n      this.popupLoadingData.close();\n    }\n  }\n\n  deletingPage() {\n    this.popupDeletingData = this.dialog.open(LoadingComponent, {\n      disableClose: true,\n      width: \"200px\",\n      height: \"90px\",\n      data: { Title: \"Đang xóa dữ liệu...\" },\n    });\n  }\n\n  closePopupDeletingData() {\n    if (this.popupDeletingData != undefined && this.popupDeletingData != null) {\n      this.popupDeletingData.close();\n    }\n  }\n\n  them() {\n    this.validationErrors = [];\n    this.loaiGoiDichVu = new LoaiGoiDichVu();\n    this.isShow = true;\n    this.isCreate = true;\n  }\n  isDefault: boolean = false;\n  luu() {\n    if (this.isCreate) {\n      if (this.authService.hasPermission(this.documentType, SecurityOperation.Add)) {\n        this.addingPage();\n        this.apiService.post<any>(\"GoiDichVuChuongTrinhMarketing/ThemLoaiGoi\", this.loaiGoiDichVu).subscribe(\n          () => {\n            this.closePopupAddingData();\n            let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Thêm\"]);\n            this.notificationService.showSuccess(mess);\n            this.grid.search();\n            this.huy();\n          },\n          (err: ApiError) => {\n            this.validationErrors = err.ValidationErrors;\n            if (err.Message != \"Validation Failed\") {\n              this.notificationService.showError(err.Message);\n            }\n            this.closePopupAddingData();\n          });\n      }\n      else {\n        this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n      }\n    } else {\n      if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n        if (this.isDefault) {\n          this.notificationService.showError(\"Dữ liệu này không thể sửa (dữ liệu mặc định).\");\n        } else {\n          this.savingPage();\n          this.apiService.post<any>(\"GoiDichVuChuongTrinhMarketing/CapNhatLoaiGoi\", this.loaiGoiDichVu).subscribe(\n            () => {\n              this.closepopupSavingData();\n              let mess = CommonService.format(SystemMessage.ActionSuccessfully, [\"Lưu\"]);\n              this.notificationService.showSuccess(mess);\n              this.grid.search();\n              this.huy();\n            },\n            (err: ApiError) => {\n              this.validationErrors = err.ValidationErrors;\n              if (err.Message != \"Validation Failed\") {\n                this.notificationService.showError(err.Message);\n              }\n              this.closepopupSavingData();\n            });\n        }\n      }\n      else {\n        this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n      }\n    }\n  }\n\n  huy() {\n    this.validationErrors = [];\n    this.loaiGoiDichVu = new LoaiGoiDichVu();\n    this.isShow = false;\n    this.isCreate = false;\n  }\n\n  xem(id: number, isDefault: boolean) {\n    this.isDefault = isDefault;\n    if (this.authService.hasPermission(this.documentType, SecurityOperation.Update)) {\n      this.loadingPage();\n      this.apiService.get<any>(\"GoiDichVuChuongTrinhMarketing/GetLoaiGoi?id=\" + id)\n        .subscribe((resultData) => {\n          this.loaiGoiDichVu = resultData;\n          this.isShow = true;\n          this.closePopupLoadingData();\n        },\n          (err: ApiError) => {\n            if (err.Message != \"Validation Failed\") {\n              this.notificationService.showError(err.Message);\n            }\n            this.closePopupLoadingData();\n          }\n        );\n    }\n    else {\n      this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n    }\n  }\n\n  xoa(id: number, isDefault: boolean) {\n    if (isDefault) {\n      this.notificationService.showError(\"Dữ liệu này không thể xóa (dữ liệu mặc định).\");\n    } else {\n\n      this.dialog.open(ConfirmComponent, {\n        disableClose: false,\n        width: '400px',\n        data: { Title: \"Xác nhận\", Message: CommonService.format(SystemMessage.MessConfirm, [\"xóa\"]) }\n      }).afterClosed().subscribe(result => {\n        if (result === 'Yes') {\n          if (this.authService.hasPermission(this.documentType, SecurityOperation.Delete)) {\n            this.deletingPage();\n            this.apiService.post<any>(\"GoiDichVuChuongTrinhMarketing/XoaLoaiGoi?id=\" + id)\n              .subscribe(() => {\n                this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Xóa\"]));\n                this.huy();\n                this.grid.search();\n                this.closePopupDeletingData();\n              },\n                (err: ApiError) => {\n                  this.validationErrors = err.ValidationErrors;\n                  if (err.Message != \"Validation Failed\") {\n                    this.notificationService.showError(err.Message);\n                  }\n                  this.closePopupDeletingData();\n                }\n              );\n          }\n          else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n          }\n        }\n      });\n    }\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9tYXJrZXRpbmcvY2h1b25nLXRyaW5oLW1hcmtldGluZy90aGVvLWdvaS1kaWNoLXZ1L25oYXAtc2F1LWNoaWV0LWtoYXUtcG9wdXAvbmhhcC1zYXUtY2hpZXQta2hhdS1wb3B1cC5jb21wb25lbnQuc2NzcyJ9 */\"","import { ChangeDetectorRef, Component, Inject, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport icClose from \"@iconify/icons-ic/twotone-close\";\n\n@Component({\n  selector: 'app-nhap-sau-chiet-khau-popup',\n  templateUrl: './nhap-sau-chiet-khau-popup.component.html',\n  styleUrls: ['./nhap-sau-chiet-khau-popup.component.scss']\n})\nexport class NhapSauChietKhauPopupComponent implements OnInit {\n\n  icClose = icClose;\n\tvalidationErrors: any;\n  chietKhau:number;\n\tconstructor(@Inject(MAT_DIALOG_DATA) public data: any, public sanitizer: DomSanitizer, private cdRef: ChangeDetectorRef, private dialogRef: MatDialogRef<any>) {}\n\n\tngOnInit() {\n  }\n\n\tclose() {\n\t\tthis.dialogRef.close(null);\n\t}\n  apDung(){\n    this.validationErrors = [];\n\t\tthis.cdRef.detectChanges();\n\t\tif ((this.chietKhau === undefined)) {\n\t\t\tthis.validationErrors.push({\n\t\t\t\tMessage: \"Vui lòng nhập chiết khấu (%).\",\n\t\t\t\tField: \"ChietKhau\",\n\t\t\t});\n\t\t}\n\t\tif (this.validationErrors.length > 0) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\tthis.dialogRef.close(this.chietKhau);\n\t\t}\n\n  }\n  \n  onKeyUp(keyInput: any) {\n    if (keyInput.keyCode === 13) {\n        this.apDung();\n    }\n}\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9tYXJrZXRpbmcvY2h1b25nLXRyaW5oLW1hcmtldGluZy90aGVvLWdvaS1kaWNoLXZ1L25oYXAtdHJ1b2MtY2hpZXQta2hhdS1wb3B1cC9uaGFwLXRydW9jLWNoaWV0LWtoYXUtcG9wdXAuY29tcG9uZW50LnNjc3MifQ== */\"","import { ChangeDetectorRef, Component, Inject, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport icClose from \"@iconify/icons-ic/twotone-close\";\nimport { TruocChietKhau } from '../goi-dv-marketing.model';\n\n@Component({\n  selector: 'app-nhap-truoc-chiet-khau-popup',\n  templateUrl: './nhap-truoc-chiet-khau-popup.component.html',\n  styleUrls: ['./nhap-truoc-chiet-khau-popup.component.scss']\n})\nexport class NhapTruocChietKhauPopupComponent implements OnInit {\n\n\ticClose = icClose;\n\tvalidationErrors: any;\n  truocChietKhau:TruocChietKhau={} as TruocChietKhau;\n\tconstructor(@Inject(MAT_DIALOG_DATA) public data: any, public sanitizer: DomSanitizer, private cdRef: ChangeDetectorRef, private dialogRef: MatDialogRef<any>) {}\n\n\tngOnInit() {\n    this.truocChietKhau.LoaiChietKhau=1;\n  }\n\n\tclose() {\n\t\tthis.dialogRef.close(null);\n\t}\n  apDung(){\n    this.validationErrors = [];\n\t\tthis.cdRef.detectChanges();\n\t\tif ((this.truocChietKhau.ChietKhau === undefined)) {\n\t\t\tthis.validationErrors.push({\n\t\t\t\tMessage: \"Vui lòng nhập chiết khấu (%).\",\n\t\t\t\tField: \"ChietKhau\",\n\t\t\t});\n\t\t}\n\t\tif (this.validationErrors.length > 0) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\tthis.dialogRef.close(this.truocChietKhau);\n\t\t}\n\n  }\n  onKeyUp(keyInput: any) {\n    if (keyInput.keyCode === 13) {\n        this.apDung();\n    }\n}\n}\n"],"sourceRoot":"webpack:///"}