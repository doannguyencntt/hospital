{"version":3,"sources":["./node_modules/@iconify/icons-ic/twotone-done.js","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-chi-tiet-popup/voucher-chi-tiet-popup.component.html","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-create/voucher-create.component.html","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-in-popup/voucher-in-popup.component.html","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-list/voucher-list.component.html","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-shared/voucher-shared.component.html","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-update/voucher-update.component.html","./src/@vex/animations/fade-in-up.animation.ts","./src/@vex/animations/stagger.animation.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-chi-tiet-popup/voucher-chi-tiet-popup.component.scss","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-chi-tiet-popup/voucher-chi-tiet-popup.component.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-create/voucher-create.component.scss","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-create/voucher-create.component.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-in-popup/voucher-in-popup.component.scss","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-in-popup/voucher-in-popup.component.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-list/voucher-list.component.scss","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-list/voucher-list.component.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-routing.module.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-shared/voucher-shared.component.scss","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-shared/voucher-shared.component.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-update/voucher-update.component.scss","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher-update/voucher-update.component.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher.model.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher.module.ts","./src/app/modules/main/marketing/chuong-trinh-marketing/theo-voucher/voucher.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AAAe,iZAAkV,cAAc,4LAA4L,YAAY,+DAA+D,aAAa,+DAA+D,sBAAsB,oGAAoG,kFAAkF,gIAAgI,yBAAyB,8HAA8H,uBAAuB,sEAAsE,4EAA4E,oEAAoE,sBAAsB,8FAA8F,uBAAuB,0GAA0G,cAAc,uBAAuB,uBAAuB,KAAK,wBAAwB,yzBAAyzB,cAAc,kFAAkF,0BAA0B,kB;;;;;;;;;;;;ACAnpF;AAAe,6HAA8D,+BAA+B,QAAQ,4CAA4C,QAAQ,+EAA+E,iBAAiB,gBAAgB,42C;;;;;;;;;;;;ACAxR;AAAe,wXAAyT,cAAc,slBAAslB,WAAW,ymBAAymB,oDAAoD,gBAAgB,6KAA6K,+BAA+B,YAAY,2EAA2E,gBAAgB,aAAa,wDAAwD,SAAS,YAAY,gIAAgI,0BAA0B,sBAAsB,cAAc,UAAU,yGAAyG,cAAc,6JAA6J,WAAW,kN;;;;;;;;;;;;ACAx9E;AAAe,2VAA4R,+BAA+B,wBAAwB,4CAA4C,wBAAwB,gFAAgF,q5FAAq5F,gBAAgB,irBAAirB,6gEAA6gE,gBAAgB,6ZAA6Z,iCAAiC,sEAAsE,wBAAwB,uEAAuE,yBAAyB,ugC;;;;;;;;;;;;ACAruN;AAAe,m9GAAo5G,wCAAwC,mpBAAmpB,aAAa,qCAAqC,sBAAsB,0lFAA0lF,6EAA6E,0pBAA0pB,4DAA4D,2xEAA2xE,WAAW,2gNAA2gN,OAAO,yvBAAyvB,0CAA0C,gsBAAgsB,cAAc,oMAAoM,yEAAyE,kiBAAkiB,cAAc,+CAA+C,kDAAkD,6oCAA6oC,cAAc,8MAA8M,yEAAyE,+eAA+e,cAAc,qnBAAqnB,iGAAiG,2HAA2H,6GAA6G,w5C;;;;;;;;;;;;ACAvlrB;AAAe,6HAA8D,+BAA+B,QAAQ,4CAA4C,QAAQ,gFAAgF,iBAAiB,gBAAgB,4vC;;;;;;;;;;;;;;;;;;ACA/M;AAEnE,SAAS,iBAAiB,CAAC,QAAgB;IAChD,OAAO,mEAAO,CAAC,UAAU,EAAE;QACzB,sEAAU,CAAC,QAAQ,EAAE;YACnB,iEAAK,CAAC;gBACJ,SAAS,EAAE,kBAAkB;gBAC7B,OAAO,EAAE,CAAC;aACX,CAAC;YACF,mEAAO,CAAC,GAAG,QAAQ,mCAAmC,EAAE,iEAAK,CAAC;gBAC5D,SAAS,EAAE,eAAe;gBAC1B,OAAO,EAAE,CAAC;aACX,CAAC,CAAC;SACJ,CAAC;KACH,CAAC,CAAC;AACL,CAAC;AAEM,MAAM,aAAa,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;ACjBoC;AAEjF,SAAS,gBAAgB,CAAC,MAAc;IAC7C,OAAO,mEAAO,CAAC,SAAS,EAAE;QACxB,sEAAU,CAAC,QAAQ,EAAE;YACnB,iEAAK,CAAC,mCAAmC,EAAE,mEAAO,CAAC,MAAM,EAAE,wEAAY,EAAE,CAAC,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;SAChG,CAAC;KACH,CAAC,CAAC;AACL,CAAC;AAEM,MAAM,WAAW,GAAG,gBAAgB,CAAC,EAAE,CAAC,CAAC;AACzC,MAAM,WAAW,GAAG,gBAAgB,CAAC,EAAE,CAAC,CAAC;AACzC,MAAM,WAAW,GAAG,gBAAgB,CAAC,EAAE,CAAC,CAAC;AACzC,MAAM,WAAW,GAAG,gBAAgB,CAAC,EAAE,CAAC,CAAC;;;;;;;;;;;;;ACbhD;AAAe,6GAA8C,uQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAqB;AACL;AACd;AACE;AACU;AACM;AACX;AACzB;AACgC;AACnB;AAGJ;AACE;AAQxD,IAAa,4BAA4B,GAAzC,MAAa,4BAA4B;IAsBrC,YAA4C,IAAS,EACjC,MAAiB,EAAU,SAA4B,EACvD,UAAsB,EAAU,gBAAkC,EAAU,mBAAwC,EAAU,WAAwB;QAF9H,SAAI,GAAJ,IAAI,CAAK;QACjC,WAAM,GAAN,MAAM,CAAW;QAAU,cAAS,GAAT,SAAS,CAAmB;QACvD,eAAU,GAAV,UAAU,CAAY;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;QAAU,wBAAmB,GAAnB,mBAAmB,CAAqB;QAAU,gBAAW,GAAX,WAAW,CAAa;QAvB1K,iBAAY,GAAiB,mFAAY,CAAC,gBAAgB,CAAC;QAC3D,eAAU,GAAG,IAAI,0DAAW,CAAC;QAG7B,kBAAa,GAAG,6DAAa,CAAC;QAC9B,yBAAoB,GAAW,CAAC,CAAC;QAGjC,YAAO,GAAG,uEAAO,CAAC;QAClB,aAAQ,GAAG,wEAAQ,CAAC;QAEpB,gBAAW,GAAU,EAAE,CAAC;QAExB,yCAAoC,GAAG,oDAAoD;QAC3F,8CAAyC,GAAG,yDAAyD;IASyE,CAAC;IAE/K,QAAQ;QACJ,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;QAC9B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;QAEzB,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,6BAA6B,EAAE,CAAC;QAErC,IAAI,CAAC,WAAW,GAAG;YACf,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAG,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE;YACvF,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE;YAClE,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE;YAClE,EAAE,KAAK,EAAE,aAAa,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE;YACrE,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE;YACjE,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,gBAAgB,EAAE;YACrG,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE;SACzE,CAAC;IACN,CAAC;IAED,KAAK;QACD,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;IAC3B,CAAC;IAED,6BAA6B;QACzB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAM,mDAAmD,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC1G,IAAI,CAAC,oBAAoB,GAAG,GAAG,CAAC;QACpC,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;YACjB,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACpD,CAAC,CAAC;IACN,CAAC;IAED,kBAAkB;QACd,IAAI,CAAC,UAAU,CAAC,GAAG,CAAM,+CAA+C,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YACtG,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC;QAC/B,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;YACjB,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACpD,CAAC,CAAC;IACN,CAAC;CACJ;;4CAzCgB,oDAAM,SAAC,iEAAe;YACP,2DAAS;YAAqB,8DAAY;YACtC,4EAAU;YAA4B,wFAAgB;YAA+B,8FAAmB;YAAuB,8EAAW;;AAN9H;IAA3C,+DAAS,CAAC,aAAa,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;iEAA+B;AACzB;IAAhD,+DAAS,CAAC,kBAAkB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;sEAAoC;AACzC;IAA1C,+DAAS,CAAC,0FAAa,EAAE,EAAC,MAAM,EAAE,KAAK,EAAC,CAAC;+DAA0B;AApB3D,4BAA4B;IANxC,+DAAS,CAAC;QACP,QAAQ,EAAE,4BAA4B;QACtC,iUAAsD;;KAEzD,CAAC;IAwBe,6GAAM,CAAC,iEAAe,CAAC;GAtB3B,4BAA4B,CA+DxC;AA/DwC;;;;;;;;;;;;;ACrBzC;AAAe,6GAA8C,mP;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACf;AACL;AACwC;AACZ;AACyB;AACI;AAEd;AAOpF,IAAa,sBAAsB,GAAnC,MAAa,sBAAsB;IAG/B,YAAoB,MAAe,EAAU,MAAiB,EAC1C,mBAAwC;QADxC,WAAM,GAAN,MAAM,CAAS;QAAU,WAAM,GAAN,MAAM,CAAW;QAC1C,wBAAmB,GAAnB,mBAAmB,CAAqB;IAAI,CAAC;IAEjE,QAAQ;IACR,CAAC;IAED,gBAAgB;IAChB,iEAAiE;IACjE,IAAI;IAEJ,GAAG;QACC,6DAA6D;QAC7D,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,gDAAgD,CAAC,CAAC;IAChF,CAAC;IAED,WAAW;QACP,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,2GAAgB,EAAE;YAC/B,YAAY,EAAE,KAAK;YACnB,KAAK,EAAE,OAAO;YACd,IAAI,EAAE;gBACF,KAAK,EAAE,UAAU;gBACjB,OAAO,EAAE,kFAAa,CAAC,MAAM,CAAC,sFAAa,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,CAAC;aACrE;SACJ,CAAC,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YAC/B,IAAI,GAAG,IAAI,KAAK,EAAE;gBACd,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;aACrB;QACL,CAAC,CAAC;IACN,CAAC;CAmBJ;;YA/CgC,sDAAM;YAAkB,2DAAS;YACrB,8FAAmB;;AAHP;IAApD,+DAAS,CAAC,+FAAsB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;sDAAgC;AAD3E,sBAAsB;IALlC,+DAAS,CAAC;QACP,QAAQ,EAAE,oBAAoB;QAC9B,ySAA8C;;KAEjD,CAAC;GACW,sBAAsB,CAkDlC;AAlDkC;;;;;;;;;;;;;ACfnC;AAAe,sFAAuB,kCAAkC,GAAG,uBAAuB,uBAAuB,gBAAgB,kBAAkB,GAAG,8BAA8B,uBAAuB,WAAW,YAAY,gBAAgB,iBAAiB,GAAG,yCAAyC,mCAAmC,wBAAwB,GAAG,6CAA6C,m4D;;;;;;;;;;;;;;;;;;;;;;;;;ACAxW;AACmB;AACd;AACE;AACU;AACM;AAE1B;AACD;AAOtD,IAAa,uBAAuB,GAApC,MAAa,uBAAuB;IAsBhC,YAA4C,IAAS,EACjC,MAAiB,EAAU,SAA4B,EACvD,UAAsB,EAAU,gBAAkC,EAAU,mBAAwC,EAAU,WAAwB;QAF9H,SAAI,GAAJ,IAAI,CAAK;QACjC,WAAM,GAAN,MAAM,CAAW;QAAU,cAAS,GAAT,SAAS,CAAmB;QACvD,eAAU,GAAV,UAAU,CAAY;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;QAAU,wBAAmB,GAAnB,mBAAmB,CAAqB;QAAU,gBAAW,GAAX,WAAW,CAAa;QAtB1K,gBAAW,GAAW,UAAU,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACvD,WAAM,GAAW,EAAE,CAAC;QACpB,cAAS,GAAW,EAAE,CAAC;QAQvB,cAAS,GAAW,CAAC,CAAC;QACtB,WAAM,GAAW,CAAC,CAAC;QAEnB,wBAAmB,GAAwB,IAAI,kEAAmB,EAAE,CAAC;QAErE,gBAAW,GAAW,WAAW,CAAC;QAClC,cAAS,GAAW,IAAI,CAAC;QAEzB,YAAO,GAAG,sEAAO,CAAC;IAI4J,CAAC;IAE/K,QAAQ;QACJ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;QAChC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;QAC9B,kCAAkC;QAClC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC;QACjD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC;QAC3C,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC;QAErE,qBAAqB;QACrB,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,KAAK;QACD,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;IAC3B,CAAC;IAED,iBAAiB;IACjB,mGAAmG;IACnG,iCAAiC;IACjC,8BAA8B;IAC9B,2DAA2D;IAC3D,SAAS;IACT,IAAI;IAEJ,aAAa,CAAC,GAAG;QACb,IAAG,GAAG,EAAE;YACJ,IAAI,aAAa,GAAG,IAAI,CAAC,eAAe,GAAG,GAAG,GAAG,CAAC,CAAC;YACnD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;SAC3E;IACL,CAAC;IAED,UAAU,CAAC,GAAG;QACV,IAAG,GAAG,EAAE;YACJ,IAAI,aAAa,GAAG,IAAI,CAAC,eAAe,GAAG,GAAG,GAAG,CAAC,CAAC;YACnD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;SACpF;IACL,CAAC;IAED,iBAAiB;QACb,IAAI,CAAC,mBAAmB,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACxD,IAAI,CAAC,mBAAmB,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;QAC/C,IAAI,CAAC,mBAAmB,CAAC,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC;QAC7C,IAAI,CAAC,mBAAmB,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC;QAClD,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC9C,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;IACpE,CAAC;IAED,kBAAkB;QACd,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;YACzB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAM,wBAAwB,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;gBACjG,OAAO,CAAC,UAAU,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;QAEH,kCAAkC;QAClC,uPAAuP;QACvP,+BAA+B;QAC/B,UAAU;QACV,MAAM;IACV,CAAC;IAED,SAAS;QACL,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAM,wBAAwB,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;YACjG,+BAA+B;YAC/B,IAAI,CAAC,SAAS,GAAG,+BAA+B,GAAG,kBAAkB,CAAC,UAAU,CAAC,CAAC;QACtF,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;YACjB,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;QAEH,sNAAsN;QACtN,sCAAsC;QACtC,yFAAyF;QACzF,0BAA0B;QAC1B,uDAAuD;QACvD,MAAM;IACV,CAAC;CACJ;;4CAtFgB,oDAAM,SAAC,iEAAe;YACP,2DAAS;YAAqB,8DAAY;YACtC,4EAAU;YAA4B,wFAAgB;YAA+B,8FAAmB;YAAuB,8EAAW;;AAxBjK,uBAAuB;IALnC,+DAAS,CAAC;QACP,QAAQ,EAAE,sBAAsB;QAChC,+SAAgD;;KAEnD,CAAC;IAuBe,6GAAM,CAAC,iEAAe,CAAC;GAtB3B,uBAAuB,CA4GnC;AA5GmC;;;;;;;;;;;;;ACfpC;AAAe,6GAA8C,2O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAa;AAC5B;AACH;AACoB;AACE;AACgB;AACJ;AACP;AACb;AAEuB;AACc;AACzB;AACI;AACiC;AACZ;AAC7C;AACgC;AACpC;AAEO;AACE;AACE;AACJ;AACW;AACT;AACE;AACK;AACI;AACf;AAQlD,IAAa,oBAAoB,GAAjC,MAAa,oBAAoB;IAiC7B,YAAoB,WAAwB,EAAU,mBAAwC,EAAU,UAAsB,EAC1G,MAAiB,EAAU,MAAc,EAAU,KAAqB,EAAU,QAAkB;QADpG,gBAAW,GAAX,WAAW,CAAa;QAAU,wBAAmB,GAAnB,mBAAmB,CAAqB;QAAU,eAAU,GAAV,UAAU,CAAY;QAC1G,WAAM,GAAN,MAAM,CAAW;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,UAAK,GAAL,KAAK,CAAgB;QAAU,aAAQ,GAAR,QAAQ,CAAU;QAjCxH,iBAAY,GAAiB,mFAAY,CAAC,gBAAgB,CAAC;QAE3D,cAAS,GAAW,iCAAiC,CAAC;QAEtD,cAAS,GAAQ,IAAI,CAAC;QACtB,2BAAsB,GAAW,IAAI,CAAC;QAEtC,eAAU,GAAG,IAAI,2DAAW,CAAC;QAK7B,gBAAW,GAAU,EAAE,CAAC;QACxB,kBAAa,GAAU,EAAE,CAAC;QAE1B,WAAM,GAAG,sEAAM,CAAC;QAChB,YAAO,GAAG,uEAAO,CAAC;QAClB,aAAQ,GAAG,wEAAQ,CAAC;QACpB,WAAM,GAAG,sEAAM,CAAC;QAChB,gBAAW,GAAG,4EAAW,CAAC;QAC1B,aAAQ,GAAG,sEAAQ,CAAC;QACpB,aAAQ,GAAG,wEAAQ,CAAC;QACrB,gBAAW,GAAG,0EAAW,CAAC;QACzB,iBAAY,GAAG,6EAAY,CAAC;QAC5B,UAAK,GAAG,qEAAK,CAAC;IAS8G,CAAC;IAE7H,QAAQ;QACJ,IAAI,CAAC,aAAa,GAAG,IAAI,6DAAa,EAAE,CAAC;QAEzC,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS,IAAI,SAAS,EAAE;YACjE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS,CAAC;SAC3D;QAED,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,IAAI,+FAAkB,CAAC,OAAO,CAAC,wCAAwC,CAAC,IAAI,IAAI,EAAE;YAC3G,IAAI,CAAC,sBAAsB,GAAG,+FAAkB,CAAC,OAAO,CAAC,wCAAwC,CAAC,CAAC;YACnG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;SAC7D;aAAM;YACN,+FAAkB,CAAC,OAAO,CAAC,wCAAwC,EAAE,IAAI,CAAC,CAAC;YAC3E,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SAC3D;QAED,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAE5D,IAAI,CAAC,WAAW,GAAG;YACf,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE;YAClF,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE;YAC7D,EAAE,KAAK,EAAE,iBAAiB,EAAE,KAAK,EAAE,cAAc,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,uBAAuB,EAAE;YACvH,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,mBAAmB,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc,EAAE;YAC1G,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,oBAAoB,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,eAAe,EAAE;YAC7G,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,aAAa,EAAE;SAC1E,CAAC;QAEF,IAAI,CAAC,aAAa,GAAG;YACjB,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,YAAY,EAAE;YACpC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE;YAC9B,EAAE,KAAK,EAAE,iBAAiB,EAAE,KAAK,EAAE,cAAc,EAAE;YACnD,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,mBAAmB,EAAE;YAC/C,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,oBAAoB,EAAE;SACpD,CAAC;IACN,CAAC;IAED,IAAI,CAAC,QAAQ;QACT,IAAG,QAAQ,EAAE;YACT,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,6CAA6C,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;SACtF;IACL,CAAC;IAED,MAAM,CAAC,QAAQ;QACX,IAAG,QAAQ,EAAE;YACT,IAAI,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,EAAE,8FAAiB,CAAC,MAAM,CAAC,EAAE;gBAC7E,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,4GAAgB,EAAE;oBAC/B,YAAY,EAAE,KAAK;oBACnB,KAAK,EAAE,OAAO;oBACd,IAAI,EAAE,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,mFAAa,CAAC,MAAM,CAAC,uFAAa,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE;iBACjG,CAAC,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;oBAChC,IAAI,MAAM,IAAI,KAAK,EAAE;wBACjB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;4BAC5D,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;4BACxB,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,mFAAa,CAAC,MAAM,CAAC,uFAAa,CAAC,kBAAkB,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;wBAC1G,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;4BACjB,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;wBACpD,CAAC,CAAC,CAAC;qBACN;gBACL,CAAC,CAAC,CAAC;aACN;iBAAM;gBACH,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,uFAAa,CAAC,mBAAmB,CAAC,CAAC;aACzE;SACJ;IACL,CAAC;IAED,OAAO,CAAC,QAAQ;QACZ,IAAG,QAAQ,EAAE;YACT,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sHAA4B,EAAE;gBAC3C,YAAY,EAAE,IAAI;gBAClB,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,MAAM;gBACd,IAAI,EAAE,QAAQ;aACjB,CAAC;iBACD,WAAW,EAAE;iBACb,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACnB,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED,WAAW;QACP,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,4GAAgB,EAAE;YAC/B,YAAY,EAAE,IAAI;YAClB,KAAK,EAAE,OAAO;YACd,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,EAAE,KAAK,EAAE,oBAAoB,EAAE;SACxC,CAAC,CAAC;QAEH,IAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,EAAE,8FAAiB,CAAC,OAAO,CAAC,EAAE;YAC7E,IAAI,CAAC,UAAU,CAAC,eAAe,CAAS,+CAA+C,EAAE,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;gBACpI,IAAI,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;gBAC7B,mFAAa,CAAC,YAAY,CAAC,GAAG,EAAE,0BAA0B,EAAE,iCAAiC,GAAG,WAAW,CAAC,WAAW,EAAE,GAAG,OAAO,CAAC,CAAC;gBACrI,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YAC3B,CAAC,EAAE,GAAG,CAAC,EAAE;gBACL,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBAChD,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YAC3B,CAAC,CAAC;SACL;aACI;YACD,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,uFAAa,CAAC,mBAAmB,CAAC,CAAC;SACzE;IACL,CAAC;IAED,KAAK,CAAC,KAAU;QAClB,IAAI,KAAK,CAAC,GAAG,IAAI,OAAO,EAAE;YACvB,IAAI,CAAC,OAAO,EAAE,CAAC;SACjB;IACC,CAAC;IAED,WAAW;QACb,IAAI,IAAI,CAAC,aAAa,CAAC,YAAY,IAAI,EAAE,IAAI,IAAI,CAAC,aAAa,CAAC,YAAY,IAAI,IAAI,EAAE;YACrF,IAAI,CAAC,OAAO,EAAE,CAAC;SACf;IACC,CAAC;IAED,OAAO;QACH,IAAG,IAAI,CAAC,SAAS,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,GAAG,iBAAiB,CAAC,CAAC;YAE/D,IAAI,WAAW,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,uBAAuB,GAAG,IAAI,CAAC;YAC9C,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC;YAE9C,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAE/C,IAAI,CAAC,SAAS,CAAC,uBAAuB,GAAG,KAAK,CAAC;YAC/C,IAAI,CAAC,SAAS,CAAC,YAAY,GAAG,WAAW,CAAC;YAC1C,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;YAExB,IAAI,CAAC,eAAe,EAAE,CAAC;YAEvB,+FAAkB,CAAC,OAAO,CAAC,wCAAwC,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;SAC5G;IACL,CAAC;IAED,oBAAoB;QACtB,IAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,SAAS,EAAE;YAChD,IAAI,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;YAC5E,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;SACjO;QAED,IAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,OAAO,EAAE;YAC9C,IAAI,CAAC,cAAc,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YAC3E,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;SACpO;IACF,CAAC;IAED,eAAe;QACd,IAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,SAAS,EAAE;YAChD,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC,CAAC;SACvN;QAED,IAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,OAAO,EAAE;YAC9C,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC,CAAC;SAC1N;IACF,CAAC;IAEE,GAAG;QACC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,sCAAsC,CAAC,CAAC,CAAC;IACnE,CAAC;CACJ;;YAlKoC,8EAAW;YAA+B,8FAAmB;YAAsB,4EAAU;YAClG,2DAAS;YAAkB,sDAAM;YAAiB,8DAAc;YAAoB,wDAAQ;;AAPhE;IAAvD,+DAAS,CAAC,yBAAyB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;qEAA2C;AACnD;IAA9C,+DAAS,CAAC,gBAAgB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;4DAAkC;AAChC;IAA/C,+DAAS,CAAC,iBAAiB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;6DAAmC;AACpC;IAA7C,+DAAS,CAAC,eAAe,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;2DAAiC;AACnC;IAA1C,+DAAS,CAAC,0FAAa,EAAE,EAAC,MAAM,EAAE,KAAK,EAAC,CAAC;uDAA0B;AA/B3D,oBAAoB;IANhC,+DAAS,CAAC;QACP,QAAQ,EAAE,kBAAkB;QAC5B,mSAA4C;;KAE/C,CAAC;GAEW,oBAAoB,CAmMhC;AAnMgC;;;;;;;;;;;;;;;;;;;;;;;;;ACrCQ;AACc;AACe;AACU;AACA;AACH;AACM;AACA;AAEnF,MAAM,MAAM,GAAW;IACnB;QACI,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,yFAAoB;QAC/B,IAAI,EAAE;YACJ,KAAK,EAAE,oBAAoB;YAC3B,YAAY,EAAE,mFAAY,CAAC,gBAAgB;YAC3C,iBAAiB,EAAC,6FAAiB,CAAC,IAAI;SACzC;QACD,WAAW,EAAE,CAAC,6FAAgB,CAAC;KAClC;IACD;QACI,IAAI,EAAE,MAAM;QACZ,SAAS,EAAE,+FAAsB;QACjC,IAAI,EAAE;YACJ,KAAK,EAAE,cAAc;YACrB,YAAY,EAAE,mFAAY,CAAC,gBAAgB;YAC3C,iBAAiB,EAAC,6FAAiB,CAAC,GAAG;SACxC;QACD,WAAW,EAAE,CAAC,6FAAgB,CAAC;KAClC;IACD;QACI,IAAI,EAAE,eAAe;QACrB,SAAS,EAAE,+FAAsB;QACjC,IAAI,EAAE;YACJ,KAAK,EAAE,mBAAmB;YAC1B,YAAY,EAAE,mFAAY,CAAC,gBAAgB;YAC3C,iBAAiB,EAAC,6FAAiB,CAAC,MAAM;SAC3C;QACD,WAAW,EAAE,CAAC,6FAAgB,CAAC;KAClC;CACJ,CAAC;AAOF,IAAa,oBAAoB,GAAjC,MAAa,oBAAoB;CAAI;AAAxB,oBAAoB;IALhC,8DAAQ,CAAC;QACN,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KAC1B,CAAC;GAEW,oBAAoB,CAAI;AAAJ;;;;;;;;;;;;;AC/CjC;AAAe,2FAA4B,4BAA4B,GAAG,iBAAiB,0BAA0B,GAAG,6CAA6C,mjC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACArD;AACvD;AACM;AACE;AACgB;AAGiD;AAC5D;AAExB;AACgD;AACzB;AAC6B;AAC1C;AASxD,IAAa,sBAAsB,GAAnC,MAAa,sBAAsB;IAqElC,YAAoB,KAAqB,EAAU,MAAc,EAAU,UAAsB,EACtF,WAAwB,EAAW,mBAAwC,EAC3E,EAAqB,EAAU,MAAiB;QAFvC,UAAK,GAAL,KAAK,CAAgB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,eAAU,GAAV,UAAU,CAAY;QACtF,gBAAW,GAAX,WAAW,CAAa;QAAW,wBAAmB,GAAnB,mBAAmB,CAAqB;QAC3E,OAAE,GAAF,EAAE,CAAmB;QAAU,WAAM,GAAN,MAAM,CAAW;QAtE3D,+BAA0B,GAAG,yEAA0B,CAAC;QACxD,kBAAa,GAAG,4DAAa,CAAC;QAC9B,uBAAkB,GAAG,iEAAkB,CAAC;QAGxC,YAAO,GAAG,EAAa,CAAC;QACxB,kBAAa,GAAG,EAA4B,CAAC;QAC7C,2CAA2C;QAE3C,2CAA2C;QACxC,aAAQ,GAAG,IAAI,CAAC;QAEnB,iBAAY,GAAiB,mFAAY,CAAC,gBAAgB,CAAC;QAC3D,cAAS,GAAW,CAAC,CAAC;QACtB,yBAAoB,GAAW,CAAC,CAAC;QACjC,sBAAiB,GAAY,KAAK,CAAC;QACnC,oBAAe,GAAW,CAAC,CAAC;QAC5B,gCAA2B,GAAY,KAAK,CAAC;QAC7C,+BAA0B,GAAY,KAAK,CAAC;QAE5C,2BAAsB,GAAY,KAAK,CAAC;QACxC,0BAAqB,GAAY,KAAK,CAAC;QAEvC,gBAAW,GAAU,EAAE,CAAC;QACxB,mBAAc,GAAQ,EAAE,CAAC;QAEzB,0BAAqB,GAAU,EAAE,CAAC;QAClC,6BAAwB,GAAQ,EAAE,CAAC;QAEnC,4BAAuB,GAAG,+CAA+C,IAAI,CAAC,SAAS,EAAE,CAAC;QAC1F,iCAA4B,GAAG,oDAAoD,IAAI,CAAC,SAAS,EAAE,CAAC;QAEpG,gCAA2B,GAAG,mDAAmD,IAAI,CAAC,SAAS,EAAE,CAAC;QAClG,qCAAgC,GAAG,wDAAwD,IAAI,CAAC,SAAS,EAAE,CAAC;QAE5G,qBAAgB,GAAG;YAClB,EAAE,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE;YACnF,EAAE,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,UAAU,EAAE,IAAI,EAAE,cAAc,EAAE,QAAQ,EAAE,KAAK,EAAE;YAC5F,EAAE,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,WAAW,EAAE,IAAI,EAAE,gBAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE;SAC/F,CAAC;QAEF,wBAAmB,GAAG;YACrB,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE,IAAI,EAAE,iBAAiB,EAAE;YAC1E,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE,IAAI,EAAE,WAAW,EAAE;SAClE,CAAC;QAEF,+BAA0B,GAAG;YAC5B,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE,IAAI,EAAE,GAAG,EAAE;YAC5D,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE,IAAI,EAAE,GAAG,EAAE;SAC1D,CAAC;QAEF,aAAQ,GAAG,wEAAQ,CAAC;IAmB2C,CAAC;IAEhE,QAAQ;QACP,MAAM,EAAE,GAAW,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;QAE3C,IAAG,EAAE,EAAE;YACZ,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YAEpB,IAAI,CAAC,uBAAuB,GAAG,+CAA+C,IAAI,CAAC,SAAS,EAAE,CAAC;YAC/F,IAAI,CAAC,4BAA4B,GAAG,oDAAoD,IAAI,CAAC,SAAS,EAAE,CAAC;YACzG,IAAI,CAAC,2BAA2B,GAAG,mDAAmD,IAAI,CAAC,SAAS,EAAE,CAAC;YACvG,IAAI,CAAC,gCAAgC,GAAG,wDAAwD,IAAI,CAAC,SAAS,EAAE,CAAC;YAEjH,IAAI,CAAC,6BAA6B,EAAE,CAAC;YAC5B,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YACjB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;SAC/B;aAAM;YACN,IAAI,CAAC,OAAO,CAAC,oBAAoB,GAAG,IAAI,CAAC;YACzC,IAAI,CAAC,OAAO,CAAC,0BAA0B,GAAG,yEAA0B,CAAC,MAAM,CAAC;YAC5E,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,4DAAa,CAAC,mBAAmB,CAAC;YAC/D,IAAI,CAAC,OAAO,CAAC,yBAAyB,GAAG,EAAE,CAAC;YAC5C,IAAI,CAAC,OAAO,CAAC,mCAAmC,GAAG,EAAE,CAAC;SACtD;QAED,SAAS;QACT,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC;QAC1E,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,IAAI,CAAC;QACxC,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,IAAI,CAAC;QAE1C,MAAM;QACN,IAAI,CAAC,WAAW,GAAG;YAClB,+IAA+I;YAC/I,EAAE,KAAK,EAAE,2BAA2B,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,mBAAmB,EAAE,IAAI,CAAC,kBAAkB,EAAE;YACzH,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE;YAC9C,EAAE,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,aAAa,EAAE,QAAQ,EAAE,GAAG,EAAE;YAC/D,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,eAAe,EAAE;YACrF,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc,EAAE;YAChF,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,iBAAiB,EAAE;YACzF,EAAE,KAAK,EAAE,oBAAoB,EAAE,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,0BAA0B,EAAE;YAC/G,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc,EAAE;YAChF,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc,EAAE;SACxE;QAED,IAAI,CAAC,qBAAqB,GAAG;YAC5B,EAAE,KAAK,EAAE,mBAAmB,EAAE,KAAK,EAAE,cAAc,EAAE,QAAQ,EAAE,GAAG,EAAE;YACpE,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,2BAA2B,EAAE;YACnG,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,wBAAwB,EAAE;YAC1F,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc,EAAE;SACxE;IACF,CAAC;IAED,6BAA6B;QACtB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAM,mDAAmD,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC1G,IAAI,CAAC,oBAAoB,GAAG,GAAG,CAAC;QACpC,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;YACjB,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACpD,CAAC,CAAC;IACN,CAAC;IAEJ,OAAO,CAAC,EAAU;QACX,IAAI,CAAC,WAAW,CAAC,OAAO,CAAU,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC3D,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;YACnB,+EAA+E;YAC/E,kEAAkE;YAElE,IAAI,CAAC,OAAO,CAAC,yBAAyB,GAAG,EAAE,CAAC;YAC5C,IAAI,CAAC,OAAO,CAAC,mCAAmC,GAAG,EAAE,CAAC;YAEtD,sDAAsD;YACtD,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;YACzD,IAAI,CAAC,UAAU,EAAE,CAAC;QACb,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;YACjB,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAChD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iCAAiC,CAAC,CAAC,CAAC;QAC9D,CAAC,CAAC;IACT,CAAC;IAED,8CAA8C;IAC9C,sCAAsC;IACtC,KAAK;IACL,oDAAoD;IACpD,wGAAwG;IACxG,kHAAkH;IAClH,eAAe;IACf,wDAAwD;IACxD,gHAAgH;IAChH,0HAA0H;IAC1H,eAAe;IACf,sDAAsD;IACtD,YAAY;IACZ,aAAa;IACb,qGAAqG;IACrG,+GAA+G;IAC/G,6GAA6G;IAC7G,uHAAuH;IACvH,YAAY;IACZ,KAAK;IACL,IAAI;IAEJ,0BAA0B;QACzB,IAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/F,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,CAAC;SACjE;aAAM,IAAG,IAAI,CAAC,OAAO,CAAC,mCAAmC,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1H,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,0BAA0B,CAAC,UAAU,CAAC,CAAC;SACrE;aAAM;YACN,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;SAC5B;IACF,CAAC;IAED,mBAAmB,CAAC,0BAA0B;QAC7C,QAAO,0BAA0B,EACjC;YACC,KAAK,IAAI,CAAC,0BAA0B,CAAC,MAAM;gBAC1C,IAAI,CAAC,gBAAgB,GAAG;oBACvB,EAAE,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE;oBACnF,EAAE,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,UAAU,EAAE,IAAI,EAAE,cAAc,EAAE,QAAQ,EAAE,KAAK,EAAE;oBAC5F,EAAE,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,WAAW,EAAE,IAAI,EAAE,gBAAgB,EAAE,QAAQ,EAAE,IAAI,EAAE;iBAC9F,CAAC;gBACF,MAAM;YACP,KAAK,IAAI,CAAC,0BAA0B,CAAC,UAAU;gBAC9C,IAAI,CAAC,gBAAgB,GAAG;oBACvB,EAAE,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE;oBACnF,EAAE,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,UAAU,EAAE,IAAI,EAAE,cAAc,EAAE,QAAQ,EAAE,KAAK,EAAE;oBAC5F,EAAE,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,WAAW,EAAE,IAAI,EAAE,gBAAgB,EAAE,QAAQ,EAAE,IAAI,EAAE;iBAC9F,CAAC;gBACF,MAAM;YACP,KAAK,IAAI,CAAC,0BAA0B,CAAC,WAAW;gBAC/C,IAAI,CAAC,gBAAgB,GAAG;oBACvB,EAAE,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE;oBAClF,EAAE,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,UAAU,EAAE,IAAI,EAAE,cAAc,EAAE,QAAQ,EAAE,IAAI,EAAE;oBAC3F,EAAE,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,WAAW,EAAE,IAAI,EAAE,gBAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE;iBAC/F,CAAC;gBACF,MAAM;YACP;gBACC,IAAI,CAAC,gBAAgB,GAAG;oBACvB,EAAE,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE;oBACnF,EAAE,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,UAAU,EAAE,IAAI,EAAE,cAAc,EAAE,QAAQ,EAAE,KAAK,EAAE;oBAC5F,EAAE,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,WAAW,EAAE,IAAI,EAAE,gBAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE;iBAC/F,CAAC;gBACF,MAAM;SACP;IACF,CAAC;IAEE,aAAa;QACT,OAAO,IAAI,CAAC,OAAO,CAAC;IAC3B,CAAC;IAED,gCAAgC,CAAC,GAAG;QACnC,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAE3B,IAAI,CAAC,aAAa,GAAG,EAA4B,CAAC;QAClD,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC;QAC1E,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,IAAI,CAAC;QACxC,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,IAAI,CAAC;QAE1C,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC;QACpE,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;QAClC,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC;QAEpC,IAAG,GAAG,KAAK,IAAI,CAAC,0BAA0B,CAAC,WAAW,EAAE;YACvD,IAAI,CAAC,OAAO,CAAC,oBAAoB,GAAG,IAAI,CAAC;SACzC;aAAM;YACN,IAAI,CAAC,OAAO,CAAC,oBAAoB,GAAG,KAAK,CAAC;SAC1C;IACF,CAAC;IAED,eAAe,CAAC,GAAG;QAClB,IAAI,CAAC,UAAU,EAAE,CAAC;IACnB,CAAC;IAED,qBAAqB,CAAC,GAAG;QACxB,IAAI,CAAC,UAAU,EAAE,CAAC;IACnB,CAAC;IAED,UAAU;QACT,IAAG,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE;YACnD,IAAI,MAAM,GAAG,EAAE,CAAC;YAChB,MAAM,IAAI,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAEzE,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG;YAC7G,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE;SAC3E;aAAM;YACN,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,EAAE,CAAC;SAC1B;IACF,CAAC;IAED,uBAAuB;QACtB,IAAG,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7D,IAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,KAAK,CAAC,EAAE;gBACpE,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAChI;YAED,IAAG,IAAI,CAAC,aAAa,CAAC,SAAS,IAAI,IAAI,CAAC,aAAa,CAAC,SAAS,KAAK,CAAC,EAAE;gBACtE,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aACjI;YAED,IAAG,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;gBAChE,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAC9H;SACD;IACF,CAAC;IAED,eAAe,CAAC,GAAG;QAClB,IAAG,GAAG,EAAE;YACP,IAAI,CAAC,aAAa,CAAC,kBAAkB,GAAG,GAAG,CAAC,UAAU,CAAC;YACvD,IAAI,CAAC,aAAa,CAAC,yBAAyB,GAAG,GAAG,CAAC,UAAU,IAAI,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC,kBAAkB,CAAC;YAC7I,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,GAAG,CAAC,WAAW,CAAC;YACnD,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,GAAG,CAAC,EAAE,CAAC;YAErC,qIAAqI;YACrI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAM,mDAAmD,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;gBAC9G,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;gBACnB,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;gBAC5C,IAAI,CAAC,aAAa,CAAC,cAAc,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;gBAEvD,IAAI,CAAC,SAAS,EAAE,CAAC;YAClB,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;gBACpB,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACjD,CAAC,CAAC;SACF;aAAM;YACN,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YAClB,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC;SACpC;IACF,CAAC;IAED,gBAAgB,CAAC,GAAG;QACnB,IAAG,GAAG,EAAE;YACP,IAAI,CAAC,aAAa,CAAC,iBAAiB,GAAG,GAAG,CAAC,WAAW,CAAC;YACvD,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,GAAG,CAAC,QAAQ,CAAC;YAClD,IAAI,CAAC,aAAa,CAAC,kBAAkB,GAAG,GAAG,CAAC,KAAK,CAAC;SAClD;IACF,CAAC;IACD,aAAa,CAAC,GAAG;QAChB,cAAc;QACd,IAAG,GAAG,EAAE;YACP,IAAI,CAAC,SAAS,EAAE,CAAC;SACjB;aAAM;YACN,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC;YAC9B,IAAI,CAAC,qBAAqB,EAAE,CAAC;SAC7B;IACF,CAAC;IAED,mBAAmB,CAAC,GAAG,EAAE,QAAQ;QAChC,IAAG,GAAG,EAAE;YACP,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;SAC/B;aAAM;YACN,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;YACpB,IAAI,CAAC,8BAA8B,CAAC,QAAQ,CAAC,CAAC;SAC9C;IACF,CAAC;IAED,SAAS;QACR,IAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,SAAS,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;YACxG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAM,uCAAuC,IAAI,CAAC,aAAa,CAAC,QAAQ,cAAc,IAAI,CAAC,aAAa,CAAC,SAAS,eAAe,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;gBAC7M,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,GAAG,CAAC;gBAEhC,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC9B,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;gBACpB,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACjD,CAAC,CAAC;SACF;IACF,CAAC;IAED,eAAe,CAAC,QAAQ;QACvB,IAAG,QAAQ,CAAC,QAAQ,IAAI,QAAQ,CAAC,SAAS,IAAI,QAAQ,CAAC,kBAAkB,EAAE;YAC1E,IAAI,CAAC,UAAU,CAAC,IAAI,CAAM,uCAAuC,QAAQ,CAAC,QAAQ,cAAc,QAAQ,CAAC,SAAS,eAAe,QAAQ,CAAC,kBAAkB,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;gBAC/K,QAAQ,CAAC,MAAM,GAAG,GAAG,CAAC;gBAEtB,IAAI,CAAC,8BAA8B,CAAC,QAAQ,CAAC,CAAC;YAC/C,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;gBACpB,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACjD,CAAC,CAAC;SACF;IACF,CAAC;IAED,mBAAmB,CAAC,GAAG;QACtB,IAAG,GAAG,EAAE;YACP,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,IAAI,CAAC;YACxC,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,IAAI;YACzC,wCAAwC;YACxC,qEAAqE;YACrE,IAAI,CAAC,qBAAqB,EAAE,CAAC;SAC7B;IACF,CAAC;IAED,gCAAgC,CAAC,GAAG,EAAE,QAAQ;QAC7C,IAAG,GAAG,EAAE;YACP,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC;YAC9B,QAAQ,CAAC,eAAe,GAAG,IAAI;YAC/B,wCAAwC;YACxC,qEAAqE;YACrE,IAAI,CAAC,8BAA8B,CAAC,QAAQ,CAAC,CAAC;SAC9C;IACF,CAAC;IAED,oCAAoC,CAAC,GAAG,EAAE,QAAQ;QACjD,IAAG,GAAG,EAAE;YACP,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC;YAC9B,QAAQ,CAAC,eAAe,GAAG,IAAI;SAC/B;IACF,CAAC;IAED,eAAe,CAAC,GAAG;QAClB,IAAG,GAAG,EAAE;YACP,IAAG,IAAI,CAAC,aAAa,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE;gBAC9E,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC;aACvG;YAED,gCAAgC;SAChC;QAED,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC9B,CAAC;IAED,qBAAqB,CAAC,GAAG,EAAE,QAAQ;QAClC,IAAG,GAAG,EAAE;YACP,IAAG,QAAQ,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE;gBACpE,QAAQ,CAAC,eAAe,GAAG,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC;gBAEzE,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,mBAAmB,CAAC,CAAC,EAAE;oBAC7K,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,mBAAmB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBAClN;aACD;iBAAM;gBACN,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,iBAAiB,CAAC,CAAC,EAAE;oBAC3K,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,iBAAiB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBAChN;aACD;YAED,iDAAiD;SACjD;QAED,IAAI,CAAC,8BAA8B,CAAC,QAAQ,CAAC,CAAC;IAC/C,CAAC;IAED,qBAAqB;QACpB,IAAG,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,CAAC,EAAE;YAC/D,QAAO,IAAI,CAAC,aAAa,CAAC,aAAa,EACvC;gBACC,KAAK,IAAI,CAAC,aAAa,CAAC,mBAAmB;oBAC1C,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC;oBACrK,IAAI,CAAC,aAAa,CAAC,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC;oBACvG,MAAM;gBACP,KAAK,IAAI,CAAC,aAAa,CAAC,iBAAiB;oBACxC,IAAI,CAAC,aAAa,CAAC,kBAAkB,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC,GAAG,GAAG,CAAC;oBACrH,MAAM;aACP;SACD;aAAM;YACN,IAAI,CAAC,aAAa,CAAC,kBAAkB,GAAG,CAAC,CAAC;SAC1C;QAED,IAAI,CAAC,uBAAuB,EAAE,CAAC;IAChC,CAAC;IAED,8BAA8B,CAAC,QAAQ;QACtC,IAAG,QAAQ,CAAC,MAAM,IAAI,QAAQ,CAAC,MAAM,IAAI,CAAC,EAAE;YAC3C,QAAO,QAAQ,CAAC,aAAa,EAC7B;gBACC,KAAK,IAAI,CAAC,aAAa,CAAC,mBAAmB;oBAC1C,QAAQ,CAAC,kBAAkB,GAAG,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,eAAe,CAAC;oBACzE,MAAM;gBACP,KAAK,IAAI,CAAC,aAAa,CAAC,iBAAiB;oBACxC,QAAQ,CAAC,kBAAkB,GAAG,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,GAAG,GAAG,CAAC;oBACvF,MAAM;aACP;SACD;aAAM;YACN,QAAQ,CAAC,kBAAkB,GAAG,CAAC,CAAC;SAChC;IACF,CAAC;IAED,oBAAoB;QACnB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAE3B,MAAM,KAAK,GAAG,EAAE,CAAC;QAEX,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE;gBACnE,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,iGAAuB,CAAC,qBAAqB,EAAE,CAAC,CAAC;aAC7F;YAED,IAAI,IAAI,CAAC,aAAa,CAAC,SAAS,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE;gBACrE,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO,EAAE,iGAAuB,CAAC,sBAAsB,EAAE,CAAC,CAAC;aACxG;YAED,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;gBAClE,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,iGAAuB,CAAC,oBAAoB,EAAE,CAAC,CAAC;aACvF;YAED,IAAG,IAAI,CAAC,aAAa,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE;gBAC9E,IAAG,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,IAAI,IAAI,CAAC,aAAa,CAAC,eAAe,KAAK,CAAC,EAAE;oBACnF,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,iBAAiB,EAAE,OAAO,EAAE,iGAAuB,CAAC,8BAA8B,EAAE,CAAC,CAAC;iBAC1G;qBAAM,IAAI,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;oBAC1E,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,iBAAiB,EAAE,OAAO,EAAE,iGAAuB,CAAC,+CAA+C,EAAE,CAAC,CAAC;iBAC3H;qBAAM,IAAI,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,IAAI,EAAE;oBACrD,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,iBAAiB,EAAE,OAAO,EAAE,iGAAuB,CAAC,gCAAgC,EAAE,CAAC,CAAC;iBAC5G;aACD;YAED,IAAG,IAAI,CAAC,aAAa,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE;gBAC5E,IAAG,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,aAAa,KAAK,CAAC,EAAE;oBAC/E,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,eAAe,EAAE,OAAO,EAAE,iGAAuB,CAAC,4BAA4B,EAAE,CAAC,CAAC;iBACtG;aACD;SACK;QAED,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE;YAC9C,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,iGAAuB,CAAC,4BAA4B,EAAE,CAAC,CAAC;SACpG;QAED,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YAAE,IAAI,CAAC,gBAAgB,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC;SAAE;IACpE,CAAC;IAED,8BAA8B;QAC7B,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAE3B,MAAM,KAAK,GAAG,EAAE,CAAC;QACX,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,IAAI,CAAC,aAAa,CAAC,YAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE;gBAC3E,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,cAAc,EAAE,OAAO,EAAE,iGAAuB,CAAC,yBAAyB,EAAE,CAAC,CAAC;aAC9G;YAED,IAAG,IAAI,CAAC,aAAa,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE;gBAC9E,IAAG,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,IAAI,IAAI,CAAC,aAAa,CAAC,eAAe,KAAK,CAAC,EAAE;oBACnF,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,2BAA2B,EAAE,OAAO,EAAE,iGAAuB,CAAC,8BAA8B,EAAE,CAAC,CAAC;iBACpH;qBAAM,IAAG,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,IAAI,EAAE;oBACpD,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,2BAA2B,EAAE,OAAO,EAAE,iGAAuB,CAAC,gCAAgC,EAAE,CAAC,CAAC;iBACtH;aACD;YAED,IAAG,IAAI,CAAC,aAAa,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE;gBAC5E,IAAG,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,aAAa,KAAK,CAAC,EAAE;oBAC/E,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,yBAAyB,EAAE,OAAO,EAAE,iGAAuB,CAAC,4BAA4B,EAAE,CAAC,CAAC;iBAChH;aACD;SACK;QAED,IAAI,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE;YAC5D,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,cAAc,EAAE,OAAO,EAAE,iGAAuB,CAAC,gCAAgC,EAAE,CAAC,CAAC;SAClH;aAAM,IAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,EAAE;YAC3E,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,cAAc,EAAE,OAAO,EAAE,iGAAuB,CAAC,mCAAmC,EAAE,CAAC,CAAC;SAC5G;aAAM,IAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,EAAE;YAC9E,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,cAAc,EAAE,OAAO,EAAE,iGAAuB,CAAC,mCAAmC,EAAE,CAAC,CAAC;SAC5G;QAED,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YAAE,IAAI,CAAC,gBAAgB,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC;SAAE;IAC9D,CAAC;IAED,UAAU,CAAC,QAAgB;QACpB,OAAO,IAAI,CAAC,OAAO,CAAC,yBAAyB,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAC;IAClI,CAAC;IAED,oBAAoB,CAAC,YAAoB;QACxC,OAAO,IAAI,CAAC,OAAO,CAAC,mCAAmC,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,YAAY,KAAK,YAAY,CAAC;IACvJ,CAAC;IAED,uBAAuB,CAAC,eAAuB;QAC9C,OAAO,IAAI,CAAC,OAAO,CAAC,mCAAmC,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,YAAY,KAAK,eAAe,CAAC;IAC1J,CAAC;IAED,uBAAuB,CAAC,kBAAyB;QAChD,IAAG,kBAAkB,IAAI,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACvD,IAAI,OAAO,GAAY,KAAK,CAAC;YAE7B,kBAAkB,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBACjC,IAAG,IAAI,CAAC,OAAO,CAAC,mCAAmC,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,YAAY,KAAK,IAAI,CAAC,KAAK,CAAC,EAAE;oBACjJ,OAAO,GAAG,IAAI,CAAC;iBACf;YACF,CAAC,CAAC;YAEF,IAAG,OAAO,EAAE;gBACX,OAAO,IAAI,CAAC;aACZ;SACD;QAED,OAAO,KAAK,CAAC;IACd,CAAC;IAED,oBAAoB;QACnB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,OAAO,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACzC,2DAA2D;QAC3D,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC;QAC/F,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC;QAElG,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,IAAI,IAAI,CAAC,gBAAgB,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;YACjE,IAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,KAAK,CAAC,EAAE;gBAC1C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAM,0DAA0D,IAAI,CAAC,SAAS,aAAa,IAAI,CAAC,aAAa,CAAC,QAAQ,uBAAuB,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;oBACzN,IAAG,GAAG,EAAE;wBACP,IAAI,CAAC,aAAa,CAAC,YAAY,GAAG,IAAI,CAAC;wBAEvC,IAAI,aAAa,GAAG,EAA4B,CAAC;wBACjD,aAAa,qBAAQ,IAAI,CAAC,aAAa,CAAE,CAAC;wBAE1C,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;wBAC3D,IAAI,CAAC,eAAe,EAAE,CAAC;wBACvB,IAAI,CAAC,kBAAkB,CAAC,cAAc,qBAAQ,IAAI,CAAC,cAAc,CAAE,CAAC;wBACpE,IAAI,CAAC,kBAAkB,CAAC,aAAa,EAAE,CAAC;wBAExC,IAAI,CAAC,GAAG,EAAE,CAAC;wBACX,IAAI,CAAC,0BAA0B,EAAE,CAAC;qBAClC;yBAAM;wBACN,MAAM,QAAQ,GAAG;4BAChB,KAAK,EAAE,UAAU;4BACjB,OAAO,EAAE,iGAAuB,CAAC,sBAAsB;yBACvD,CAAC;wBAEF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBACrC;gBACF,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;oBACpB,GAAG,CAAC,gBAAgB,KAAK,IAAI,IAAI,GAAG,CAAC,gBAAgB,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC;gBACpK,CAAC,CAAC;aACF;iBACI;gBACJ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAM,qEAAqE,IAAI,CAAC,aAAa,CAAC,QAAQ,uBAAuB,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;oBACvN,IAAG,GAAG,EAAE;wBACP,IAAI,CAAC,aAAa,CAAC,YAAY,GAAG,IAAI,CAAC;wBAEvC,IAAI,aAAa,GAAG,EAA4B,CAAC;wBACjD,aAAa,qBAAQ,IAAI,CAAC,aAAa,CAAE,CAAC;wBAE1C,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;wBAC3D,IAAI,CAAC,eAAe,EAAE,CAAC;wBACvB,IAAI,CAAC,kBAAkB,CAAC,cAAc,qBAAQ,IAAI,CAAC,cAAc,CAAE,CAAC;wBACpE,IAAI,CAAC,kBAAkB,CAAC,aAAa,EAAE,CAAC;wBAExC,IAAI,CAAC,GAAG,EAAE,CAAC;wBACX,IAAI,CAAC,0BAA0B,EAAE,CAAC;qBAClC;yBAAM;wBACN,MAAM,QAAQ,GAAG;4BAChB,KAAK,EAAE,UAAU;4BACjB,OAAO,EAAE,iGAAuB,CAAC,sBAAsB;yBACvD,CAAC;wBAEF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBACrC;gBACF,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;oBACpB,GAAG,CAAC,gBAAgB,KAAK,IAAI,IAAI,GAAG,CAAC,gBAAgB,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC;gBACpK,CAAC,CAAC;aACF;SACD;IACF,CAAC;IAED,wBAAwB;QACvB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,OAAO,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACzC,IAAI,CAAC,aAAa,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC;QAE3G,IAAI,CAAC,8BAA8B,EAAE,CAAC;QAEtC,IAAI,IAAI,CAAC,gBAAgB,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;YACjE,IAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,KAAK,CAAC,EAAE;gBAC1C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAM,qDAAqD,IAAI,CAAC,SAAS,iBAAiB,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;oBAChK,IAAG,GAAG,EAAE;wBACP,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,IAAI,CAAC;wBACnC,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC;wBAEpC,IAAI,aAAa,GAAG,EAA4B,CAAC;wBACjD,aAAa,qBAAQ,IAAI,CAAC,aAAa,CAAE,CAAC;wBAE1C,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;wBACrE,IAAI,CAAC,yBAAyB,EAAE,CAAC;wBACjC,IAAI,CAAC,sBAAsB,CAAC,cAAc,qBAAQ,IAAI,CAAC,wBAAwB,CAAE,CAAC;wBAClF,IAAI,CAAC,sBAAsB,CAAC,aAAa,EAAE,CAAC;wBAE5C,IAAI,CAAC,GAAG,EAAE,CAAC;wBACX,IAAI,CAAC,0BAA0B,EAAE,CAAC;qBAClC;yBAAM;wBACN,MAAM,QAAQ,GAAG;4BAChB,KAAK,EAAE,cAAc;4BACrB,OAAO,EAAE,iGAAuB,CAAC,0BAA0B;yBAC3D,CAAC;wBAEF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBACrC;gBACF,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;oBACpB,GAAG,CAAC,gBAAgB,KAAK,IAAI,IAAI,GAAG,CAAC,gBAAgB,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC;gBACpK,CAAC,CAAC;aACF;iBAAM;gBACN,IAAI,CAAC,UAAU,CAAC,IAAI,CAAM,qEAAqE,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;oBAC/J,IAAG,GAAG,EAAE;wBACP,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,IAAI,CAAC;wBACnC,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC;wBAEpC,IAAI,aAAa,GAAG,EAA4B,CAAC;wBACjD,aAAa,qBAAQ,IAAI,CAAC,aAAa,CAAE,CAAC;wBAE1C,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;wBACrE,IAAI,CAAC,yBAAyB,EAAE,CAAC;wBACjC,IAAI,CAAC,sBAAsB,CAAC,cAAc,qBAAQ,IAAI,CAAC,wBAAwB,CAAE,CAAC;wBAClF,IAAI,CAAC,sBAAsB,CAAC,aAAa,EAAE,CAAC;wBAE5C,IAAI,CAAC,GAAG,EAAE,CAAC;wBACX,IAAI,CAAC,0BAA0B,EAAE,CAAC;qBAClC;yBAAM;wBACN,MAAM,QAAQ,GAAG;4BAChB,KAAK,EAAE,cAAc;4BACrB,OAAO,EAAE,iGAAuB,CAAC,0BAA0B;yBAC3D,CAAC;wBAEF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBACrC;gBACF,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;oBACpB,GAAG,CAAC,gBAAgB,KAAK,IAAI,IAAI,GAAG,CAAC,gBAAgB,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC;gBACpK,CAAC,CAAC;aACF;SACD;IACF,CAAC;IAED,gCAAgC;IAChC,iCAAiC;IAEjC,2CAA2C;IAC3C,6CAA6C;IAE7C,uEAAuE;IACvE,8CAA8C;IAC9C,uCAAuC;IACvC,KAAK;IACL,IAAI;IAEJ,mBAAmB,CAAC,QAAQ;QAC3B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,2GAAgB,EAAE;YACzB,YAAY,EAAE,KAAK;YACnB,KAAK,EAAE,OAAO;YACd,IAAI,EAAE,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,2BAA2B,QAAQ,CAAC,aAAa,SAAS,EAAE;SACnG,CAAC,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YAChC,IAAI,MAAM,KAAK,KAAK,EAAE;gBAClB,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;gBACvH,IAAI,CAAC,eAAe,EAAE,CAAC;gBACvB,IAAI,CAAC,kBAAkB,CAAC,cAAc,qBAAQ,IAAI,CAAC,cAAc,CAAE,CAAC;gBACpE,IAAI,CAAC,kBAAkB,CAAC,aAAa,EAAE,CAAC;gBACxC,IAAI,CAAC,0BAA0B,EAAE,CAAC;gBAClC,+BAA+B;aACtB;QACL,CAAC,CAAC,CAAC;IACV,CAAC;IAED,uBAAuB,CAAC,QAAQ;QAC/B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,2GAAgB,EAAE;YACzB,YAAY,EAAE,KAAK;YACnB,KAAK,EAAE,OAAO;YACd,IAAI,EAAE,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,gCAAgC,QAAQ,CAAC,iBAAiB,SAAS,EAAE;SAC5G,CAAC,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YAChC,IAAI,MAAM,KAAK,KAAK,EAAE;gBAClB,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC3I,IAAI,CAAC,yBAAyB,EAAE,CAAC;gBACjC,IAAI,CAAC,sBAAsB,CAAC,cAAc,qBAAQ,IAAI,CAAC,wBAAwB,CAAE,CAAC;gBAClF,IAAI,CAAC,sBAAsB,CAAC,aAAa,EAAE,CAAC;gBAC5C,IAAI,CAAC,0BAA0B,EAAE,CAAC;gBAClC,+BAA+B;aACtB;QACL,CAAC,CAAC,CAAC;IACV,CAAC;IAED,wBAAwB;QACvB,IAAI,CAAC,OAAO,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAC1C,IAAI,CAAC,0BAA0B,EAAE,CAAC;IACnC,CAAC;IAED,8BAA8B;QAC7B,8BAA8B;QAE9B,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE;YAC7G,KAAK,MAAM,cAAc,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE;gBAC9F,MAAM,QAAQ,GAAG;oBAChB,KAAK,EAAE,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,WAAW;oBACjG,OAAO,EAAE,iGAAuB,CAAC,qBAAqB;iBACtD,CAAC;gBACF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACrC;SACD;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,EAAE;YAC7I,KAAK,MAAM,cAAc,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,EAAE;gBAC9H,MAAM,QAAQ,GAAG;oBAChB,KAAK,EAAE,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,WAAW;oBACjG,OAAO,EAAE,iGAAuB,CAAC,wBAAwB;iBACzD,CAAC;gBACF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACrC;SACD;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,IAAI,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE;YAChL,KAAK,MAAM,cAAc,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,IAAI,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE;gBACjK,MAAM,QAAQ,GAAG;oBAChB,KAAK,EAAE,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,mBAAmB;oBACzG,OAAO,EAAE,iGAAuB,CAAC,6BAA6B;iBAC9D,CAAC;gBACF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACrC;SACD;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,IAAI,CAAC,CAAC,eAAe,IAAI,CAAC,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE;YAC3M,KAAK,MAAM,cAAc,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,IAAI,CAAC,CAAC,eAAe,IAAI,CAAC,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE;gBAC5L,MAAM,QAAQ,GAAG;oBAChB,KAAK,EAAE,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,mBAAmB;oBACzG,OAAO,EAAE,iGAAuB,CAAC,gCAAgC;iBACjE,CAAC;gBACF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACrC;SACD;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,iBAAiB,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC,aAAa,KAAK,CAAC,CAAC,CAAC,EAAE;YACvM,KAAK,MAAM,cAAc,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,iBAAiB,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC,EAAE;gBAC7J,MAAM,QAAQ,GAAG;oBAChB,KAAK,EAAE,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,iBAAiB;oBACvG,OAAO,EAAE,iGAAuB,CAAC,2BAA2B;iBAC5D,CAAC;gBACF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACrC;SACD;IACF,CAAC;IAED,kCAAkC;QACjC,8BAA8B;QAE9B,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,IAAI,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE;YACpM,KAAK,MAAM,cAAc,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,IAAI,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE;gBAC3K,MAAM,QAAQ,GAAG;oBAChB,KAAK,EAAE,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,6BAA6B;oBAC7H,OAAO,EAAE,iGAAuB,CAAC,6BAA6B;iBAC9D,CAAC;gBACF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACrC;SACD;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,IAAI,CAAC,CAAC,eAAe,IAAI,CAAC,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE;YAC/N,KAAK,MAAM,cAAc,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,IAAI,CAAC,CAAC,eAAe,IAAI,CAAC,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE;gBACtM,MAAM,QAAQ,GAAG;oBAChB,KAAK,EAAE,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,6BAA6B;oBAC7H,OAAO,EAAE,iGAAuB,CAAC,gCAAgC;iBACjE,CAAC;gBACF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACrC;SACD;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,iBAAiB,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC,EAAE;YAChM,KAAK,MAAM,cAAc,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,iBAAiB,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC,aAAa,KAAK,CAAC,CAAC,CAAC,EAAE;gBAClM,MAAM,QAAQ,GAAG;oBAChB,KAAK,EAAE,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,2BAA2B;oBAC3H,OAAO,EAAE,iGAAuB,CAAC,2BAA2B;iBAC5D,CAAC;gBACF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACrC;SACD;IACF,CAAC;IAED,+BAA+B;QAC9B,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAE3B,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE;YACtD,IAAG,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE;gBACxE,IAAG,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,KAAK,CAAC,EAAE;oBACvE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,4BAA4B,EAAE,OAAO,EAAE,iGAAuB,CAAC,8BAA8B,EAAE,CAAC,CAAC;iBACrI;qBAAM,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,IAAI,EAAE;oBAC/E,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,4BAA4B,EAAE,OAAO,EAAE,iGAAuB,CAAC,gCAAgC,EAAE,CAAC,CAAC;iBACvI;aACD;YAED,IAAG,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE;gBACtE,IAAG,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,KAAK,CAAC,EAAE;oBACnE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,0BAA0B,EAAE,OAAO,EAAE,iGAAuB,CAAC,4BAA4B,EAAE,CAAC,CAAC;iBACjI;qBAAM,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,CAAC,EAAE;oBACxE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,0BAA0B,EAAE,OAAO,EAAE,iGAAuB,CAAC,2BAA2B,EAAE,CAAC,CAAC;iBAChI;aACD;SACD;IACC,CAAC;IAEJ,eAAe;QACR,IAAI,CAAC,cAAc,GAAG;YAClB,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC;YACjD,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM;SACvD,CAAC;IACT,CAAC;IAED,yBAAyB;QACxB,IAAI,CAAC,wBAAwB,GAAG;YACtB,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC;YAC3D,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,MAAM;SACjE,CAAC;IACT,CAAC;IAED,GAAG;QACF,IAAI,CAAC,aAAa,GAAG,EAA4B,CAAC;QAClD,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC;QAC1E,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,IAAI,CAAC;QACxC,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,IAAI,CAAC;QAE1C,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;IAC5B,CAAC;IAED,GAAG;QACF,IAAI,CAAC,OAAO,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAExC,QAAO,IAAI,CAAC,OAAO,CAAC,0BAA0B,EAC9C;YACC,KAAK,IAAI,CAAC,0BAA0B,CAAC,MAAM;gBAC1C,IAAI,CAAC,SAAS,EAAE,CAAC;gBACjB,MAAM;YACP,KAAK,IAAI,CAAC,0BAA0B,CAAC,UAAU;gBAC9C,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,MAAM;YACP,KAAK,IAAI,CAAC,0BAA0B,CAAC,WAAW;gBAC/C,IAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,MAAM;SACP;IAEF,CAAC;IAED,SAAS;QACR,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAE3B,IAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,yBAAyB,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,mCAAmC,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE;YAC5N,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,iGAAuB,CAAC,oBAAoB,CAAC;YAChF,OAAO;SACP;QAED,IAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/F,IAAI,CAAC,8BAA8B,EAAE,CAAC;SACtC;QAED,IAAG,IAAI,CAAC,OAAO,CAAC,mCAAmC,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,MAAM,GAAG,CAAC,EAAE;YACnH,IAAI,CAAC,kCAAkC,EAAE,CAAC;SAC1C;QAED,IAAG,IAAI,CAAC,gBAAgB,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,KAAK,CAAC,EAAE;YACvE,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;YAClC,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;YAClC,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC;YAEpC,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBACrD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAC1B,CAAC,CAAC;YAEF,IAAI,CAAC,UAAU,CAAC,GAAG,CAAM,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;gBACjE,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,mFAAa,CAAC,MAAM,CAAC,uFAAa,CAAC,kBAAkB,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBAC5G,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iCAAiC,CAAC,CAAC,CAAC;YAC3D,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;gBACpB,GAAG,CAAC,gBAAgB,KAAK,IAAI,IAAI,GAAG,CAAC,gBAAgB,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC;YACpK,CAAC,CAAC;SACF;IACF,CAAC;IAED,aAAa;QACZ,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAE3B,IAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,yBAAyB,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,mCAAmC,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE;YAC5N,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,iGAAuB,CAAC,wBAAwB,CAAC;YACpF,OAAO;SACP;QAED,IAAG,IAAI,CAAC,OAAO,CAAC,mCAAmC,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,MAAM,GAAG,CAAC,EAAE;YACnH,IAAI,CAAC,kCAAkC,EAAE,CAAC;SAC1C;QAED,IAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/F,IAAI,CAAC,8BAA8B,EAAE,CAAC;SACtC;QAED,IAAG,IAAI,CAAC,gBAAgB,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,KAAK,CAAC,EAAE;YACvE,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;YAClC,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;YAClC,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC;YAEpC,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBAC/D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACvB,CAAC,CAAC;YAEF,IAAI,CAAC,UAAU,CAAC,GAAG,CAAM,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;gBACjE,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,mFAAa,CAAC,MAAM,CAAC,uFAAa,CAAC,kBAAkB,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBAC5G,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iCAAiC,CAAC,CAAC,CAAC;YAC3D,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;gBACpB,GAAG,CAAC,gBAAgB,KAAK,IAAI,IAAI,GAAG,CAAC,gBAAgB,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC;YACpK,CAAC,CAAC;SACF;IACF,CAAC;IAED,cAAc;QACb,IAAI,CAAC,+BAA+B,EAAE,CAAC;QAEvC,IAAG,IAAI,CAAC,gBAAgB,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,KAAK,CAAC,EAAE;YACvE,IAAG,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE;gBACxE,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;aAClC;iBAAM;gBACN,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC;aACpC;YAED,IAAI,CAAC,UAAU,CAAC,GAAG,CAAM,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;gBACjE,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,mFAAa,CAAC,MAAM,CAAC,uFAAa,CAAC,kBAAkB,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBAC5G,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iCAAiC,CAAC,CAAC,CAAC;YAC3D,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;gBACpB,GAAG,CAAC,gBAAgB,KAAK,IAAI,IAAI,GAAG,CAAC,gBAAgB,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC;YACpK,CAAC,CAAC;SACF;IACF,CAAC;IAED,IAAI;QACH,IAAI,CAAC,OAAO,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAExC,QAAO,IAAI,CAAC,OAAO,CAAC,0BAA0B,EAC9C;YACC,KAAK,IAAI,CAAC,0BAA0B,CAAC,MAAM;gBAC1C,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,MAAM;YACP,KAAK,IAAI,CAAC,0BAA0B,CAAC,UAAU;gBAC9C,IAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,MAAM;YACP,KAAK,IAAI,CAAC,0BAA0B,CAAC,WAAW;gBAC/C,IAAI,CAAC,eAAe,EAAE,CAAC;gBACvB,MAAM;SACP;IACF,CAAC;IAED,UAAU;QACT,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAE3B,IAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,yBAAyB,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,mCAAmC,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE;YAC5N,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,iGAAuB,CAAC,oBAAoB,CAAC;YAChF,OAAO;SACP;QAED,IAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/F,IAAI,CAAC,8BAA8B,EAAE,CAAC;SACtC;QAED,IAAG,IAAI,CAAC,OAAO,CAAC,mCAAmC,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,MAAM,GAAG,CAAC,EAAE;YACnH,IAAI,CAAC,kCAAkC,EAAE,CAAC;SAC1C;QAED,IAAG,IAAI,CAAC,gBAAgB,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,KAAK,CAAC,EAAE;YACvE,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;YAClC,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;YAClC,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC;YAEpC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAM,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;gBAClE,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,mFAAa,CAAC,MAAM,CAAC,uFAAa,CAAC,kBAAkB,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACvG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iCAAiC,CAAC,CAAC,CAAC;YAC3D,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;gBACpB,GAAG,CAAC,gBAAgB,KAAK,IAAI,IAAI,GAAG,CAAC,gBAAgB,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC;YACpK,CAAC,CAAC;SACF;IACF,CAAC;IAED,cAAc;QACb,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAE3B,IAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,yBAAyB,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,mCAAmC,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE;YAC5N,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,iGAAuB,CAAC,wBAAwB,CAAC;YACpF,OAAO;SACP;QAED,IAAG,IAAI,CAAC,OAAO,CAAC,mCAAmC,IAAI,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,MAAM,GAAG,CAAC,EAAE;YACnH,IAAI,CAAC,kCAAkC,EAAE,CAAC;SAC1C;QAED,IAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,IAAI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/F,IAAI,CAAC,8BAA8B,EAAE,CAAC;SACtC;QAED,IAAG,IAAI,CAAC,gBAAgB,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,KAAK,CAAC,EAAE;YACvE,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;YAClC,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;YAClC,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC;YAEpC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAM,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;gBAClE,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,mFAAa,CAAC,MAAM,CAAC,uFAAa,CAAC,kBAAkB,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACvG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iCAAiC,CAAC,CAAC,CAAC;YAC3D,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;gBACpB,GAAG,CAAC,gBAAgB,KAAK,IAAI,IAAI,GAAG,CAAC,gBAAgB,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC;YACpK,CAAC,CAAC;SACF;IACF,CAAC;IAED,eAAe;QACd,IAAI,CAAC,+BAA+B,EAAE,CAAC;QAEvC,IAAG,IAAI,CAAC,gBAAgB,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,KAAK,CAAC,EAAE;YACvE,IAAG,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE;gBACxE,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;aAClC;iBAAM;gBACN,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC;aACpC;YAED,IAAI,CAAC,UAAU,CAAC,IAAI,CAAM,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;gBAClE,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,mFAAa,CAAC,MAAM,CAAC,uFAAa,CAAC,kBAAkB,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACvG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iCAAiC,CAAC,CAAC,CAAC;YAC3D,CAAC,EAAE,CAAC,GAAa,EAAE,EAAE;gBACpB,GAAG,CAAC,gBAAgB,KAAK,IAAI,IAAI,GAAG,CAAC,gBAAgB,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC;YACpK,CAAC,CAAC;SACF;IACF,CAAC;IAED,0BAA0B,CAAC,KAAU;QACpC,IAAG,CAAC,IAAI,CAAC,2BAA2B,EAAE;YACrC,IAAI,KAAK,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACnC,IAAI,CAAC,OAAO,CAAC,yBAAyB,GAAG,KAAK,CAAC,IAAI,CAAC;gBACpD,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;aACnC;iBAAM;gBACN,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;aACpC;YAED,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;SACxC;aAAM;YACN,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,kBAAkB,CAAC,cAAc,qBAAQ,IAAI,CAAC,cAAc,CAAE,CAAC;YACpE,IAAI,CAAC,kBAAkB,CAAC,aAAa,EAAE,CAAC;YACxC,IAAI,CAAC,0BAA0B,EAAE,CAAC;SAClC;IACF,CAAC;IAED,yBAAyB,CAAC,KAAU;QACnC,IAAG,CAAC,IAAI,CAAC,0BAA0B,EAAE;YACpC,IAAI,KAAK,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACnC,IAAI,CAAC,OAAO,CAAC,mCAAmC,GAAG,KAAK,CAAC,IAAI,CAAC;gBAC9D,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;aAClC;iBAAM;gBACN,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;aACnC;YAED,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;SACvC;aAAM;YACN,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACjC,IAAI,CAAC,sBAAsB,CAAC,cAAc,qBAAQ,IAAI,CAAC,wBAAwB,CAAE,CAAC;YAClF,IAAI,CAAC,sBAAsB,CAAC,aAAa,EAAE,CAAC;YAC5C,IAAI,CAAC,0BAA0B,EAAE,CAAC;SAClC;IACF,CAAC;IAED,WAAW,CAAC,GAAG;QACd,IAAI,GAAG,CAAC,GAAG,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;YAClD,IAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,EAAE;gBACnC,IAAI,CAAC,oBAAoB,EAAE,CAAC;aAC5B;iBAAM;gBACJ,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;aACjC;SACD;IACF,CAAC;IAED,eAAe,CAAC,GAAG;QAClB,IAAG,GAAG,CAAC,GAAG,KAAK,OAAO,EAAE;YACvB,IAAI,CAAC,wBAAwB,EAAE,CAAC;SAChC;IACF,CAAC;IAED,kBAAkB,CAAC,KAAU;QACtB,IAAG,KAAK,EAAC;YACL,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;SACjC;aACG;YACA,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;SAClC;IACL,CAAC;CACJ;;YAtiC2B,8DAAc;YAAkB,sDAAM;YAAsB,4EAAU;YACzE,8EAAW;YAAgC,8FAAmB;YACvE,+DAAiB;YAAkB,2DAAS;;AAfR;IAAlD,+DAAS,CAAC,oBAAoB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;kEAAsC;AACxC;IAA/C,+DAAS,CAAC,iBAAiB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;+DAAmC;AACnC;IAA9C,+DAAS,CAAC,gBAAgB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;8DAAkC;AAC9B;IAAjD,+DAAS,CAAC,mBAAmB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;iEAAqC;AAC1B;IAA3D,+DAAS,CAAC,6BAA6B,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;2EAA+C;AAC/C;IAA1D,+DAAS,CAAC,4BAA4B,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;0EAA8C;AACzD;IAA9C,+DAAS,CAAC,gBAAgB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;8DAAkC;AACvB;IAAxD,+DAAS,CAAC,0BAA0B,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;wEAA4C;AACrD;IAA9C,+DAAS,CAAC,gBAAgB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;8DAAkC;AAE5B;IAAnD,+DAAS,CAAC,oBAAoB,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;kEAAmC;AAC9B;IAAvD,+DAAS,CAAC,wBAAwB,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;sEAAuC;AAnElF,sBAAsB;IAPlC,+DAAS,CAAC;QACV,QAAQ,EAAE,oBAAoB;QAC9B,ySAA8C;QAE9C,aAAa,EAAE,+DAAiB,CAAC,IAAI;;KACrC,CAAC;GAEW,sBAAsB,CA2mClC;AA3mCkC;;;;;;;;;;;;;ACvBnC;AAAe,6EAAc,gBAAgB,GAAG,6CAA6C,u1B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAb;AACvC;AAC2C;AAChB;AACK;AACgB;AAC3C;AACoD;AACjB;AACa;AACzB;AAYrE,IAAa,sBAAsB,GAAnC,MAAa,sBAAsB;IAG/B,YAAoB,MAAc,EAAU,MAAiB,EACzC,mBAAwC;QADxC,WAAM,GAAN,MAAM,CAAQ;QAAU,WAAM,GAAN,MAAM,CAAW;QACzC,wBAAmB,GAAnB,mBAAmB,CAAqB;IAAI,CAAC;IAEjE,QAAQ;IACR,CAAC;IAED,gBAAgB;IAChB,iEAAiE;IACjE,IAAI;IAEJ,GAAG;QACC,6DAA6D;QAC7D,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,gDAAgD,CAAC,CAAC;IAChF,CAAC;IAED,GAAG;QACC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,4GAAgB,EAAE;YAC/B,YAAY,EAAE,KAAK;YACnB,KAAK,EAAE,OAAO;YACd,IAAI,EAAE;gBACF,KAAK,EAAE,UAAU;gBACjB,OAAO,EAAE,mFAAa,CAAC,MAAM,CAAC,sFAAa,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,CAAC;aAC1E;SACJ,CAAC,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YAC/B,IAAI,GAAG,IAAI,KAAK,EAAE;gBACd,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;aACrB;QACL,CAAC,CAAC;IACN,CAAC;IAED,EAAE;QACE,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;QAEvC,IAAG,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAC/D,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,gGAAuB,CAAC,sBAAsB,CAAC;SACrF;aAAM;YACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oGAAuB,EAAE;gBACtC,YAAY,EAAE,IAAI;gBAClB,KAAK,EAAE,OAAO;gBACd,MAAM,EAAE,OAAO;gBACf,IAAI,EAAE,IAAI;aACb,CAAC;iBACD,WAAW,EAAE;iBACb,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACnB,CAAC,CAAC,CAAC;SACN;IACL,CAAC;CACJ;;YA/C+B,sDAAM;YAAkB,2DAAS;YACpB,8FAAmB;;AAHZ;IAAlD,+DAAS,CAAC,+FAAsB,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC,CAAC;sDAAgC;AADtE,sBAAsB;IAVlC,+DAAS,CAAC;QACV,QAAQ,EAAE,oBAAoB;QAC9B,ySAA8C;QAE3C,UAAU,EAAE;YACR,gFAAW;YACX,qFAAa;SAChB;;KAEJ,CAAC;GACW,sBAAsB,CAkDlC;AAlDkC;;;;;;;;;;;;;;;;;;;;;;;;ACtB5B,MAAM,OAAO;IAApB;QAeI,wBAAmB,GAAY,KAAK,CAAC;QAErC,8BAAyB,GAA6B,EAAE,CAAC;QACzD,wCAAmC,GAA6B,EAAE,CAAC;IACvE,CAAC;CAAA;AAEM,MAAM,sBAAsB;CAqBlC;AAED,IAAY,0BAIX;AAJD,WAAY,0BAA0B;IAClC,+EAAU;IACV,uFAAc;IACd,yFAAe;AACnB,CAAC,EAJW,0BAA0B,KAA1B,0BAA0B,QAIrC;AAED,IAAY,aAGX;AAHD,WAAY,aAAa;IACrB,2EAAqB;IACrB,+EAAuB;AAC3B,CAAC,EAHW,aAAa,KAAb,aAAa,QAGxB;AAED,IAAY,kBAIX;AAJD,WAAY,kBAAkB;IAC1B,mEAAY;IACZ,iEAAW;IACX,iBAAiB;AACrB,CAAC,EAJW,kBAAkB,KAAlB,kBAAkB,QAI7B;AAEM,MAAM,aAAa;IAA1B;QACW,iBAAY,GAAW,EAAE,CAAC;QAC1B,oBAAe,GAAc,IAAI,SAAS,EAAE,CAAC;IACxD,CAAC;CAAA;AAEM,MAAM,SAAS;IAClB,YACW,YAAkB,IAAI,EACtB,UAAgB,IAAI;QADpB,cAAS,GAAT,SAAS,CAAa;QACtB,YAAO,GAAP,OAAO,CAAa;IAC7B,CAAC;CACN;AAEM,MAAM,mBAAmB;IAC5B,YACW,cAAsB,IAAI,EAC1B,MAAc,IAAI,EAClB,KAAa,IAAI,EACjB,UAAkB,IAAI,EACtB,SAAiB,IAAI,EACrB,kBAA0B,IAAI;QAL9B,gBAAW,GAAX,WAAW,CAAe;QAC1B,QAAG,GAAH,GAAG,CAAe;QAClB,OAAE,GAAF,EAAE,CAAe;QACjB,YAAO,GAAP,OAAO,CAAe;QACtB,WAAM,GAAN,MAAM,CAAe;QACrB,oBAAe,GAAf,eAAe,CAAe;IACrC,CAAC;CACR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClFwC;AACM;AACkB;AACH;AACiL;AACnL;AACM;AACF;AACsB;AACC;AAC/B;AACF;AACI;AACI;AACE;AACb;AAC0B;AACM;AACA;AACA;AACK;AACiB;AAyCzG,IAAa,aAAa,GAA1B,MAAa,aAAa;CAAI;AAAjB,aAAa;IAvCzB,8DAAQ,CAAC;QACN,YAAY,EAAE,CAAE,0FAAoB,EAAE,gGAAsB,EAAE,gGAAsB,EAAE,gGAAsB,EAAE,qGAAuB,EAAE,sHAA4B,CAAE;QACrK,OAAO,EAAE;YACL,4DAAY;YACZ,4EAAY;YACZ,2EAAY;YACZ,iEAAe;YACf,+DAAa;YACb,yEAAY;YACZ,0DAAW;YACX,kEAAmB;YACnB,6EAAa;YACb,kGAAgB;YAChB,oGAAiB;YACjB,sEAAgB;YAChB,+DAAa;YACb,oEAAU;YACV,+DAAa;YACb,uEAAqB;YACrB,kEAAgB;YAChB,iEAAe;YACf,iEAAe;YACf,gEAAc;YACd,iEAAe;YACf,gEAAc;YACd,mEAAiB;YACjB,wEAAU;YACV,6EAAoB;SACvB;QACD,eAAe,EAAE;YACb,qGAAuB;YACvB,sHAA4B;SAC/B;QACD,SAAS,EAAE;YACP,gEAAc;YACd,EAAE,OAAO,EAAE,8EAAW,EAAE,QAAQ,EAAE,gEAAc,EAAE;SACrD;KACJ,CAAC;GAEW,aAAa,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;AC9DiB;AACoB;AACE;AAMjE,IAAa,cAAc,GAA3B,MAAa,cAAe,SAAQ,8EAAW;IAG3C,YAAY,UAAsB;QAC9B,KAAK,CAAC,UAAU,CAAC,CAAC;QAHtB,mBAAc,GAAG,SAAS,CAAC;IAI3B,CAAC;CACJ;;YAH2B,4EAAU;;AAHzB,cAAc;IAJ1B,gEAAU,CAAC;QACR,UAAU,EAAE,MAAM;KACrB,CAAC;GAEW,cAAc,CAM1B;AAN0B","file":"marketing-chuong-trinh-marketing-theo-voucher-voucher-module-es2015.js","sourcesContent":["var data = {\n\t\"body\": \"<path d=\\\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\\\" fill=\\\"currentColor\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>CHI TIT NGI BNH  S DNG</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n\\n<mat-dialog-content style=\\\"flex-direction: column;display: flex;\\\">\\n    <div class=\\\"row ml-1 mb-2\\\">\\n        <fieldset fxFlex=\\\"100%\\\">\\n            <div fxFlex=\\\"100%\\\">\\n                <ul class=\\\"inline\\\">\\n                    <li>M: <strong>{{voucher.Ma}}</strong></li>\\n                    <li>Tn voucher: <strong>{{voucher.Ten}}</strong></li>\\n                    <!-- <li>Gi DV: <strong>{{benhNhanHienTai.MaTN}}</strong></li> -->\\n                    <li *ngIf=\\\"voucher.LoaiChietKhau\\\">Loi voucher: <strong>{{voucher.LoaiChietKhau == loaiChietKhau.ChietKhauTheoSoTien ? 'S tin' : 'T l'}}</strong></li>\\n                    <li *ngIf=\\\"voucher.LoaiChietKhau == loaiChietKhau.ChietKhauTheoSoTien\\\">S tin: <strong>{{voucher.SoTienChietKhau}}</strong></li>\\n                    <li *ngIf=\\\"voucher.LoaiChietKhau == loaiChietKhau.ChietKhauTheoTiLe\\\">S tin: <strong>{{voucher.TiLeChietKhau}}</strong></li>\\n                    <li>S lng pht hnh: <strong>{{soLuongPhatHanh ? soLuongPhatHanh.SoLuongDisplay : voucher.SoLuongPhatHanh}}</strong></li>\\n                    <li>S lng NB dng: <strong>{{tongSoBenhNhanSuDung}}</strong></li>\\n                    <li *ngIf=\\\"!voucher.DenNgayDisplay\\\">Hn dng: <strong>{{voucher.TuNgayDisplay}} - </strong></li>\\n                    <li *ngIf=\\\"voucher.DenNgayDisplay\\\" style=\\\"display: inline-block; width: 250px;\\\">Hn dng: <strong>{{voucher.TuNgayDisplay}} - {{voucher.DenNgayDisplay}}</strong></li>\\n                </ul>\\n            </div>\\n        </fieldset>\\n    </div>\\n\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"p-2 mb-6 clear-margin-bottom\\\">\\n        <app-grid #gridChiTietBenhNhanDaSuDung [height]=\\\"320\\\"\\n            [gridColumns]=\\\"gridColumns\\\" [documentType]=\\\"documentType\\\" [useHeaderDefault]=\\\"true\\\"\\n            [useAddDeault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\"\\n            [additionalSearchString]=\\\"idVoucher\\\"\\n            [urlGetData]=\\\"urlGetChiTietBenhNhanDaSuDungForGrid\\\"\\n            [urlGetTotalPage]=\\\"urlGetPagesChiTietBenhNhanDaSuDungForGrid\\\">\\n        </app-grid>\\n    </div>\\n</mat-dialog-content>\\n\\n<ng-template #sttTemplate let-rowIndex=\\\"rowIndex\\\">\\n    <strong>{{rowIndex + 1}}</strong>\\n</ng-template> \\n\\n<ng-template #ngayDungTemplate let-dataItem>\\n    {{dataItem.NgayDungDisplay}}\\n</ng-template> \"","export default \"<app-header-form [isicMoreVert]=\\\"false\\\" [crumbs]=\\\"[\\n    { Title: 'Marketing', Path: '' },\\n    { Title: 'Chng Trnh Marketing', Path: '' },\\n    { Title: 'Theo Voucher', Path: '/marketing/ct-marketing/voucher', queryParams: {holdQuery : true}, Active: true }]\\\">\\n</app-header-form>\\n\\n<div class=\\\"p-gutter\\\" vexContainer>\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n        <div class=\\\"card\\\" fxFlex=\\\"auto\\\">\\n            <div class=\\\"px-6 py-4 border-b\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n                <h2 class=\\\"title m-0\\\">Thm Voucher</h2>\\n            </div>\\n\\n            <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\">\\n                <app-voucher-shared></app-voucher-shared>\\n\\n                <div>\\n                    <div kendoTooltip class=\\\"sticky-button-action py-3 text-right\\\">\\n                        <!-- <button type=\\\"button\\\" mat-button mat-raised-button color=\\\"primary\\\" class=\\\"float-left\\\" (click)=\\\"in()\\\">In</button> -->\\n                        <button type=\\\"button\\\" mat-button color=\\\"primary\\\" (click)=\\\"huy()\\\">Hy</button>\\n                        <button type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"themVoucher()\\\">Lu</button>\\n                    </div>\\n                </div>\\n                <!-- <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" fxLayoutGap=\\\"8px\\\" class=\\\"pt-4\\\">\\n                    <app-formfooter [bodyComponent]=\\\"shared\\\" type=\\\"create\\\" (created)=\\\"onCreated()\\\">\\n                    </app-formfooter>\\n                </div> -->\\n            </div>\\n        </div>\\n    </div>\\n</div>\"","export default \"<div mat-dialog-title fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <div>VOUCHER</div>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"close()\\\" tabindex=\\\"-1\\\">\\n        <mat-icon [icIcon]=\\\"icClose\\\"></mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content style=\\\"flex-direction: column;display: flex;\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\" class=\\\"p-2 mb-6 clear-margin-bottom\\\">\\n        \\n        <app-textboxnumeric fxFlex=\\\"50%\\\" [required]=\\\"true\\\" id=\\\"so-luong\\\" label=\\\"S lng\\\"\\n            [min]=\\\"1\\\" [max]=\\\"soLuongPhatHanh\\\"\\n            [(model)]=\\\"soLuongIn\\\" (modelChange)=\\\"soLuongChange($event)\\\"\\n            [validationerror]=\\\"'SoLuong' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n        <app-textboxnumeric fxFlex=\\\"50%\\\" [required]=\\\"true\\\" id=\\\"ma-so\\\" label=\\\"M s t: {{maVoucher}}-\\\"\\n            [min]=\\\"1\\\" [max]=\\\"soLuongPhatHanh\\\" [format]=\\\"format\\\"\\n            [(model)]=\\\"maSoIn\\\" (modelChange)=\\\"maSoChange($event)\\\"\\n            [validationerror]=\\\"'MaSo' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n\\n        <div class=\\\"container-iframe\\\" fxFlex=\\\"100%\\\">\\n            <iframe width=\\\"100%\\\" [src]=\\\"iframeSrc| safe\\\" allowTransparency=\\\"true\\\" background=\\\"transparent\\\"></iframe>\\n        </div>\\n        <!-- <div fxFlex=\\\"100%\\\">\\n            <div fxLayout=\\\"row wrap\\\">\\n                <div fxFlex=\\\"20%\\\" fxFlex.sm=\\\"100%\\\" style=\\\"text-align: center;\\\">\\n                    <img style=\\\"display:block; margin: 0 auto;\\\" class=\\\"select-none flex-none\\\" src=\\\"assets/img/logo.png\\\">\\n                </div>\\n\\n                <div fxFlex=\\\"80%\\\" fxFlex.sm=\\\"100%\\\" style=\\\"text-align: center;\\\">\\n                    <h2>{{tenVoucher}}</h2>\\n                    <img *ngIf=\\\"urlBarcode\\\" style=\\\"display:block; margin: 0 auto; height: 70%;\\\" class=\\\"select-none flex-none\\\" src=\\\"data:image/png;base64,{{urlBarcode}}\\\" alt=\\\"barcode\\\">\\n                </div>\\n            </div>\\n        </div> -->\\n\\n        <div style=\\\"flex-direction: row;justify-content: flex-end;align-items: flex-end;display: flex;margin: 0;\\\" fxFlex=\\\"100%\\\" class=\\\"mt-2\\\">\\n            <!-- <button type=\\\"button\\\" style=\\\"background: #005dab; color: white;\\\" mat-raised-button mat-button class=\\\"mr-1 mt-2\\\" (click)=\\\"in()\\\">In</button> -->\\n            <app-print-form textPrint=\\\"In\\\" type=\\\"PDF\\\" typeSize=\\\"{{printSize}}\\\"\\n                [bodyComponent]=\\\"this\\\" [showInMenuItem]=\\\"false\\\" [showIconPrint]=\\\"false\\\" [typeLayout]=\\\"printLayout\\\">\\n            </app-print-form>\\n        </div>\\n    </div>\\n</mat-dialog-content>\"","export default \"<vex-page-layout>\\n    <vex-page-layout-header class=\\\"pb-15\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center start\\\">\\n        <div [class.px-gutter]=\\\"true\\\" class=\\\"w-full flex justify-between\\\">\\n            <div>\\n                <vex-breadcrumbs [crumbs]=\\\"[\\n                    { Title: 'Marketing', Path: '' },\\n                    { Title: 'Chng Trnh Marketing', Path: '' },\\n                    { Title: 'Theo Voucher', Path: '/marketing/ct-marketing/voucher' , Active: true }]\\\">\\n                </vex-breadcrumbs>\\n            </div>\\n        </div>\\n    </vex-page-layout-header>\\n    <vex-page-layout-content [class.px-gutter]=\\\"true\\\" class=\\\"-mt-6\\\">\\n        <div class=\\\"card overflow-auto -mt-15\\\">\\n            <app-grid baseRoute=\\\"/marketing/ct-marketing/voucher\\\"\\n                [gridColumns]=\\\"gridColumns\\\" [documentType]=\\\"documentType\\\"\\n                [showExportExcel]=\\\"true\\\" (extExportExcel)=\\\"exportExcel()\\\" [showStt]=\\\"true\\\"\\n                [useActionDefault]=\\\"false\\\" [lazyLoadPage]=\\\"true\\\"\\n                [useHeaderDefault]=\\\"false\\\" [headerTemplate]=\\\"headerTemplate\\\" [additionalSearchString]=\\\"firstSearchString\\\">\\n            </app-grid>\\n        </div>\\n    </vex-page-layout-content> \\n</vex-page-layout>\\n\\n<!-- <ng-template #headerTemplate>\\n    <div class=\\\"bg-app-bar p-0 h-15 border-b sticky left-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n        <div class=\\\"bg-card rounded-full border mb-1 ml-2\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs\\n            fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n            <ic-icon class=\\\"ml-4\\\" [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n            <input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\"\\n                type=\\\"search\\\" name=\\\"searchString\\\" [(ngModel)]=\\\"voucherSearch.SearchString\\\"\\n                (keyup)=\\\"onKey($event)\\\" (ngModelChange)=\\\"clearSearch()\\\" placeholder=\\\"Nhp t kha...\\\" />\\n\\n            <app-daterangepicker id=\\\"ThoiGianApDung\\\" fxFlex=\\\"300px\\\" fxFlex.sm=\\\"auto\\\" class=\\\"mt-1 ml-2 on-header\\\"\\n                [(model)]=\\\"voucherSearch.RangeNgayApDung\\\" \\n                label=\\\"T ngy - n ngy\\\" (modelChange)=\\\"timKiem()\\\">\\n            </app-daterangepicker>\\n        </div>\\n\\n        <button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n        </button>\\n\\n        <span fxFlex></span>\\n        \\n        <button [matMenuTriggerFor]=\\\"columnFilterMenu\\\" class=\\\"mr-4\\\" fxFlex=\\\"none\\\" mat-icon-button\\n            kendoTooltip title=\\\"Lc ct\\\" type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icFilterList\\\"></mat-icon>\\n        </button>\\n\\n        <button (click)=\\\"exportExcel()\\\" class=\\\"mr-4\\\" fxFlex=\\\"none\\\" mat-icon-button kendoTooltip title=\\\"Xut Excel\\\"\\n            type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icFileExcel\\\"></mat-icon>\\n        </button>\\n\\n        <mat-menu #columnFilterMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n            <div *ngFor=\\\"let column of filterColumns\\\">\\n                <button\\n                    class=\\\"checkbox-item mat-menu-item mat-checkbox mat-primary mat-checkbox-disabled _mat-animation-noopable ng-untouched ng-pristine mat-checkbox-checked\\\">\\n                    <mat-checkbox [disabled]=\\\"true\\\" color=\\\"primary\\\">\\n                        {{ column.Title }}\\n                    </mat-checkbox>\\n                </button>\\n            </div>\\n        </mat-menu>\\n\\n        <button (click)=\\\"add()\\\" color=\\\"primary\\\" fxFlex=\\\"none\\\" mat-mini-fab kendoTooltip title=\\\"Thm\\\" type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icAdd\\\"></mat-icon>\\n        </button>\\n    </div>\\n</ng-template> -->\\n<ng-template #headerTemplate>\\n    <div class=\\\"bg-app-bar pl-0 h-15 border-b sticky left-0 px-6\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n        <div class=\\\"bg-card rounded-full border px-4 ml-2\\\" fxFlex=\\\"400px\\\" fxFlex.lt-md=\\\"auto\\\" fxHide.xs fxLayout=\\\"row\\\"\\n                fxLayoutAlign=\\\"start center\\\" style=\\\"margin-top: 2px;\\\">\\n                <ic-icon [icIcon]=\\\"icSearch\\\" size=\\\"20px\\\"></ic-icon>\\n                <input [formControl]=\\\"searchCtrl\\\" class=\\\"px-4 py-2 border-0 outline-none w-full bg-transparent\\\" type=\\\"search\\\"\\n                    name=\\\"searchString\\\" [(ngModel)]=\\\"voucherSearch.SearchString\\\" (keyup)=\\\"onKey($event)\\\"\\n                    (ngModelChange)=\\\"clearSearch()\\\" placeholder=\\\"Nhp t kha...\\\" />\\n            </div>\\n            <button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\" (click)=\\\"clearSearch()\\\">\\n                <mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n            </button>\\n\\n        <app-daterangepicker id=\\\"tuNgayDenNgay\\\" fxFlex=\\\"300px\\\" fxFlex.sm=\\\"auto\\\" class=\\\"mt-1 ml-2 on-header\\\"\\n            [(model)]=\\\"voucherSearch.RangeNgayApDung\\\" \\n            label=\\\"T ngy - n ngy\\\" (modelChange)=\\\"timKiem()\\\">\\n        </app-daterangepicker>\\n\\n        <button class=\\\"ml-4\\\" fxFlex=\\\"none\\\" fxHide.gt-xs mat-icon-button type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icSearch\\\"></mat-icon>\\n        </button>\\n\\n        <span fxFlex></span>\\n\\n        <button [matMenuTriggerFor]=\\\"columnFilterMenu\\\" class=\\\"ml-3\\\" fxFlex=\\\"none\\\" mat-icon-button\\n            kendoTooltip title=\\\"Lc ct\\\" type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icFilterList\\\"></mat-icon>\\n        </button>\\n\\n        <button (click)=\\\"exportExcel()\\\" class=\\\"ml-3\\\" fxFlex=\\\"none\\\" mat-icon-button kendoTooltip title=\\\"Xut Excel\\\"\\n            type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icFileExcel\\\"></mat-icon>\\n        </button>\\n\\n        <mat-menu #columnFilterMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n            <div *ngFor=\\\"let column of filterColumns\\\">\\n                <button\\n                    class=\\\"checkbox-item mat-menu-item mat-checkbox mat-primary mat-checkbox-disabled _mat-animation-noopable ng-untouched ng-pristine mat-checkbox-checked\\\">\\n                    <mat-checkbox [disabled]=\\\"true\\\" color=\\\"primary\\\">\\n                        {{ column.Title }}\\n                    </mat-checkbox>\\n                </button>\\n            </div>\\n        </mat-menu>\\n\\n        <button (click)=\\\"add()\\\" class=\\\"ml-3\\\" color=\\\"primary\\\" fxFlex=\\\"none\\\" mat-mini-fab kendoTooltip title=\\\"Thm\\\" type=\\\"button\\\">\\n            <mat-icon [icIcon]=\\\"icAdd\\\"></mat-icon>\\n        </button>\\n    </div>\\n</ng-template>\\n\\n<ng-template #soLuongPhatHanhTemplate let-dataItem>\\n    {{dataItem.SoLuongPhatHanhDisplay}}\\n</ng-template>\\n\\n<ng-template #tuNgayTemplate let-dataItem>\\n    {{dataItem.TuNgayDisplay}}\\n</ng-template>\\n\\n<ng-template #denNgayTemplate let-dataItem>\\n    {{dataItem.DenNgayDisplay}}\\n</ng-template>\\n\\n<ng-template #groupTemplate let-dataItem >\\n    <button (click)=\\\"$event.stopPropagation()\\\" kendoTooltip title=\\\"Hnh ng\\\" [matMenuTriggerFor]=\\\"actionsMenu\\\"\\n        mat-icon-button type=\\\"button\\\">\\n        <mat-icon [icIcon]=\\\"icMoreHoriz\\\"></mat-icon>\\n    </button>\\n    <mat-menu #actionsMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" yPosition=\\\"below\\\">\\n        <ng-template matMenuContent>\\n            <button (click)=\\\"edit(dataItem)\\\" mat-menu-item>\\n                <mat-icon [icIcon]=\\\"icEdit\\\"></mat-icon>\\n                <span>Sa</span>\\n            </button>\\n            <button (click)=\\\"delete(dataItem)\\\" mat-menu-item>\\n                <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n                <span>Xo</span>\\n            </button>\\n            <button (click)=\\\"chiTiet(dataItem)\\\" mat-menu-item>\\n                <mat-icon [icIcon]=\\\"icDetail\\\"></mat-icon>\\n                <span>Chi tit s dng</span>\\n            </button>\\n        </ng-template>\\n    </mat-menu>\\n</ng-template>\"","export default \"<div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"16px grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n    <app-textbox id=\\\"Ma\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"100%\\\" [required]=\\\"true\\\" [(model)]=\\\"voucher.Ma\\\" label=\\\"M\\\"\\n        maxlength=\\\"5\\\" [validationerror]=\\\"'Ma' | validationerror: validationErrors\\\"\\n        (modelChange)=\\\"maVoucherChange($event)\\\"\\n        [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\">\\n    </app-textbox>\\n\\n    <app-textbox id=\\\"Ten\\\" fxFlex=\\\"40%\\\" fxFlex.sm=\\\"100%\\\" [required]=\\\"true\\\" [(model)]=\\\"voucher.Ten\\\" label=\\\"Tn voucher\\\"\\n        maxlength=\\\"250\\\" [validationerror]=\\\"'Ten' | validationerror: validationErrors\\\"\\n        [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\">\\n    </app-textbox>\\n\\n    <app-textboxnumeric fxFlex=\\\"10%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"SL pht hnh\\\" required=\\\"true\\\" [min]=\\\"0\\\" [max]=\\\"9999999\\\" id=\\\"SoLuongPhatHanh\\\"\\n        [(model)]=\\\"voucher.SoLuongPhatHanh\\\"\\n        [validationerror]=\\\"'SoLuongPhatHanh' | validationerror: validationErrors\\\"\\n        (modelChange)=\\\"soLuongPhatHanhChange($event)\\\"\\n        [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n        [isFormatCurrenly]=\\\"true\\\">\\n    </app-textboxnumeric>\\n\\n    <app-textbox id=\\\"MaSoTu\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"100%\\\" [disabled]=\\\"true\\\" label=\\\"M s t\\\" \\n        [(model)]=\\\"voucher.MaSoTu\\\"\\n        [disabled]=\\\"true\\\" [validationerror]=\\\"'MaSoTu' | validationerror: validationErrors\\\">\\n    </app-textbox>\\n\\n    <app-textbox id=\\\"MaSoDen\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"100%\\\" [disabled]=\\\"true\\\" label=\\\"M s n\\\"\\n        [(model)]=\\\"voucher.MaSoDen\\\"\\n        [disabled]=\\\"true\\\"  [validationerror]=\\\"'MaSoDen' | validationerror: validationErrors\\\">\\n    </app-textbox>\\n\\n    <app-datepicker id=\\\"TuNgay\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Ngy bt u\\\"\\n        [(model)]=\\\"voucher.TuNgay\\\" [required]=\\\"true\\\"\\n        [validationerror]=\\\"'TuNgay' | validationerror:validationErrors\\\"\\n        [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\">\\n    </app-datepicker>\\n\\n    <app-datepicker id=\\\"DenNgay\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Ngy kt thc\\\"\\n        [(model)]=\\\"voucher.DenNgay\\\"\\n        [validationerror]=\\\"'DenNgay' | validationerror:validationErrors\\\">\\n    </app-datepicker>\\n\\n    <h3 fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" class=\\\"sub-title mr-4\\\">DCH V</h3>\\n\\n    <app-radio id=\\\"IsDisabled\\\" fxFlex=\\\"30%\\\" fxFlex.sm=\\\"30%\\\" name=\\\"isDisabled\\\" label=\\\"S dng\\\"\\n        [items]=\\\"radioDichVuItems\\\"\\n        [(model)]=\\\"voucher.LoaiDichVuVoucherMarketing\\\"\\n        [validationerror]=\\\"'HieuLuc' | validationerror: validationErrors\\\"\\n        [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n        (modelChange)=\\\"loaiDichVuVoucherMarketingChange($event)\\\">\\n    </app-radio>\\n\\n    <!-- Dch v -->\\n    <ng-container *ngIf=\\\"voucher.LoaiDichVuVoucherMarketing == loaiDichVuVoucherMarketing.DichVu\\\">\\n        <app-combobox #dichVu popupSettings=\\\"null\\\" id=\\\"TenDichVu\\\" fxFlex=\\\"20%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Tn DV\\\" class=\\\"item-no-padding\\\" url=\\\"Voucher/GetListDichVuChoVoucher\\\"\\n            [required]=\\\"true\\\" (selectionChange)=\\\"tenDichVuChange($event)\\\"\\n            [(model)]=\\\"dichVuVoucher.DichVuId\\\" [modelText]=\\\"dichVuVoucher.DichVuDisplay\\\"\\n            [template]=\\\"dichVuTemplate\\\" [templateHeader]=\\\"dichVuTemplateHeader\\\"\\n            [validationerror]=\\\"'DichVuId' | validationerror:validationErrors\\\"\\n            [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\" [popupSettings]=\\\"{width: 500,popupClass:'item-no-padding'}\\\"\\n            (keyup)=\\\"keyUpDichVu($event)\\\" (openCombobox)=\\\"openComboboxDichVu($event)\\\"  (modelChange)=\\\"loaiGiaChange($event)\\\">\\n            <ng-template #dichVuTemplateHeader let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <th width=\\\"20%\\\">M</th>\\n                        <th>Tn dch v</th>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n            <ng-template #dichVuTemplate let-dataItem>\\n                <table width=\\\"100%\\\" class=\\\"table-combobox\\\">\\n                    <tr>\\n                        <td width=\\\"20%\\\">{{dataItem.Ma}}</td>\\n                        <td>{{dataItem.DisplayName}}</td>\\n                    </tr>\\n                </table>\\n            </ng-template>\\n        </app-combobox>\\n\\n        <app-dropdownlist popupSettings=\\\"null\\\" id=\\\"LoaiGia\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Loi gi\\\" class=\\\"item-no-padding\\\"\\n            [required]=\\\"true\\\" [url]=\\\"'Voucher/GetListTatCaLoaiGiaChoDichVu?loaiDichVu=' + (this.dichVuVoucher.LoaiDichVuBenhVien ? this.dichVuVoucher.LoaiDichVuBenhVien : loaiDichVuBenhVien.KyThuat)\\\" [(model)]=\\\"dichVuVoucher.LoaiGiaId\\\" (modelChange)=\\\"loaiGiaChange($event)\\\"\\n            [autoSelectFirstItem]=\\\"true\\\" [bind]=\\\"true\\\"\\n            [validationerror]=\\\"'LoaiGiaId' | validationerror:validationErrors\\\"\\n            [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n            (keyup)=\\\"keyUpDichVu($event)\\\">\\n        </app-dropdownlist>\\n\\n        <!-- <app-combobox popupSettings=\\\"null\\\" id=\\\"LoaiGia\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Loi gi\\\" class=\\\"item-no-padding\\\"\\n            [required]=\\\"true\\\" [data]=\\\"loaiGia\\\" [(model)]=\\\"dichVuVoucher.LoaiGiaId\\\" (modelChange)=\\\"loaiGiaChange($event)\\\"\\n            [autoSelectFirstItem]=\\\"true\\\" [bind]=\\\"true\\\"\\n            [validationerror]=\\\"'LoaiGiaId' | validationerror:validationErrors\\\"\\n            [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n            (keyup)=\\\"keyUpDichVu($event)\\\">\\n        </app-combobox> -->\\n\\n        <app-textboxnumeric id=\\\"DonGia\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"100%\\\" min=\\\"0\\\"\\n            [(model)]=\\\"dichVuVoucher.DonGia\\\" label=\\\"n gi\\\" disabled=\\\"true\\\"\\n            [validationerror]=\\\"'DonGia' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n\\n        <div fxFlex=\\\"20%\\\" fxFlex.sm=\\\"100%\\\" class=\\\"radio-numeric\\\">\\n            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                <app-radio fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"ChietKhau\\\" name=\\\"ChietKhau\\\"\\n                    [items]=\\\"radioChietKhauItems\\\" [(model)]=\\\"dichVuVoucher.LoaiChietKhau\\\" label=\\\" \\\"\\n                    (modelChange)=\\\"loaiChietKhauChange($event)\\\"\\n                    [validationerror]=\\\"'ChietKhau' | validationerror:validationErrors\\\" class=\\\"no-label\\\"\\n                    [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\">\\n                </app-radio>        \\n                <app-textboxnumeric id=\\\"ChietKhauSoTien\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"250\\\" [(model)]=\\\"dichVuVoucher.SoTienChietKhau\\\"\\n                    label=\\\" \\\" [validationerror]=\\\"'SoTienChietKhau' | validationerror:validationErrors\\\" class=\\\"no-label\\\"\\n                    min=\\\"0\\\" step=\\\"1000\\\" max=\\\"{{dichVuVoucher.DonGia && dichVuVoucher.DonGia > 0 ? dichVuVoucher.DonGia : 0}}\\\" *ngIf=\\\"dichVuVoucher.LoaiChietKhau == loaiChietKhau.ChietKhauTheoSoTien\\\"\\n                    (modelChange)=\\\"chietKhauChange($event)\\\"\\n                    [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n                    (keyup)=\\\"keyUpDichVu($event)\\\"\\n                    [isFormatCurrenly]=\\\"true\\\">\\n                </app-textboxnumeric>\\n                <app-textboxnumeric id=\\\"ChietKhauPhamTram\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"250\\\" [(model)]=\\\"dichVuVoucher.TiLeChietKhau\\\"\\n                    label=\\\" \\\" [validationerror]=\\\"'TiLeChietKhau' | validationerror:validationErrors\\\" class=\\\"no-label\\\" \\n                    min=\\\"0\\\" max=\\\"{{dichVuVoucher.DonGia && dichVuVoucher.DonGia > 0 ? 100 : 0}}\\\" step=\\\"1\\\" *ngIf=\\\"dichVuVoucher.LoaiChietKhau == loaiChietKhau.ChietKhauTheoTiLe\\\"\\n                    (modelChange)=\\\"chietKhauChange($event)\\\"\\n                    [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n                    (keyup)=\\\"keyUpDichVu($event)\\\"\\n                    [isFormatCurrenly]=\\\"true\\\">\\n                </app-textboxnumeric>\\n            </div>\\n        </div>\\n\\n        <app-textboxnumeric id=\\\"DonGiaSauChietKhau\\\" fxFlex=\\\"10%\\\" fxFlex.sm=\\\"100%\\\" min=\\\"0\\\"\\n            [(model)]=\\\"dichVuVoucher.DonGiaSauChietKhau\\\" label=\\\"n gi sau CK\\\" disabled=\\\"true\\\"\\n            [validationerror]=\\\"'DonGiaSauChietKhau' | validationerror:validationErrors\\\">\\n        </app-textboxnumeric>\\n\\n        <app-textbox id=\\\"GhiChu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Ghi ch\\\" maxlength=\\\"1000\\\" minHeight=\\\"25\\\"\\n            [(model)]=\\\"dichVuVoucher.GhiChu\\\"\\n            [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n            (keyup)=\\\"keyUpDichVu($event)\\\">\\n        </app-textbox>\\n\\n        <div fxFlex=\\\"100%\\\">\\n            <!-- <app-formfooter [bodyComponent]=\\\"shared\\\" type=\\\"update\\\" (updated)=\\\"onUpdated()\\\"></app-formfooter> -->\\n            <div kendoTooltip class=\\\"sticky-button-action py-3 text-right\\\">\\n                <button type=\\\"button\\\" mat-button color=\\\"primary\\\" (click)=\\\"huy()\\\" [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\">Hy</button>\\n                <button type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button title=\\\"Phm tt: Enter\\\" (click)=\\\"themDichVuChoVoucher()\\\" [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\">Thm</button>\\n            </div>\\n        </div>\\n    </ng-container>\\n\\n    <!-- Nhm dch v -->\\n    <ng-container *ngIf=\\\"voucher.LoaiDichVuVoucherMarketing == loaiDichVuVoucherMarketing.NhomDichVu\\\">\\n        <app-combobox-tree popupSettings=\\\"null\\\" fxFlex=\\\"20%\\\" label=\\\"Nhm DV\\\" id=\\\"NhomDichVu\\\" required=\\\"true\\\"\\n            url=\\\"Voucher/GetListNhomDichVuChoVoucher\\\" hierarchyKeyToSend=\\\"NhomDichVuBenhVienId\\\"\\n            [(model)]=\\\"dichVuVoucher.NhomDichVuId\\\" [modelText]=\\\"dichVuVoucher.NhomDichVuDisplay\\\"\\n            (selectionChange)=\\\"nhomDichVuChange($event)\\\"\\n            [validationerror]=\\\"'NhomDichVuId' | validationerror:validationErrors\\\"\\n            [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\" [popupSettings]=\\\"{width: 500}\\\"\\n            (keyup)=\\\"keyUpNhomDichVu($event)\\\">\\n        </app-combobox-tree>\\n\\n        <div fxFlex=\\\"20%\\\" fxFlex.sm=\\\"100%\\\" class=\\\"radio-numeric\\\">\\n            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                <app-radio fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"ChietKhauNhomDichVu\\\" name=\\\"ChietKhauNhomDichVu\\\"\\n                    [items]=\\\"radioChietKhauItems\\\" [(model)]=\\\"dichVuVoucher.LoaiChietKhau\\\" label=\\\" \\\"\\n                    [validationerror]=\\\"'ChietKhauNhomDichVu' | validationerror:validationErrors\\\" class=\\\"no-label\\\"\\n                    [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n                    (modelChange)=\\\"loaiChietKhauChange($event)\\\">\\n                </app-radio>        \\n                <app-textboxnumeric id=\\\"ChietKhauSoTienNhomDichVu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"250\\\" [(model)]=\\\"dichVuVoucher.SoTienChietKhau\\\"\\n                    label=\\\" \\\" [validationerror]=\\\"'SoTienChietKhauNhomDichVu' | validationerror:validationErrors\\\" class=\\\"no-label\\\"\\n                    min=\\\"0\\\" step=\\\"1000\\\" *ngIf=\\\"dichVuVoucher.LoaiChietKhau == loaiChietKhau.ChietKhauTheoSoTien\\\"\\n                    [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n                    (keyup)=\\\"keyUpNhomDichVu($event)\\\"\\n                    [isFormatCurrenly]=\\\"true\\\">\\n                </app-textboxnumeric>\\n                <app-textboxnumeric id=\\\"ChietKhauPhamTramNhomDichVu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"250\\\" [(model)]=\\\"dichVuVoucher.TiLeChietKhau\\\"\\n                    label=\\\" \\\" [validationerror]=\\\"'TiLeChietKhauNhomDichVu' | validationerror:validationErrors\\\" class=\\\"no-label\\\" \\n                    min=\\\"0\\\" max=\\\"100\\\" step=\\\"1\\\" *ngIf=\\\"dichVuVoucher.LoaiChietKhau == loaiChietKhau.ChietKhauTheoTiLe\\\"\\n                    [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n                    (keyup)=\\\"keyUpNhomDichVu($event)\\\"\\n                    [isFormatCurrenly]=\\\"true\\\">\\n                </app-textboxnumeric>\\n            </div>\\n        </div>\\n\\n        <app-textbox id=\\\"GhiChuNhomDichVu\\\" fxFlex=\\\"30%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Ghi ch\\\" maxlength=\\\"1000\\\" minHeight=\\\"25\\\"\\n            [(model)]=\\\"dichVuVoucher.GhiChu\\\"\\n            [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n            (keyup)=\\\"keyUpNhomDichVu($event)\\\">\\n        </app-textbox>\\n\\n        <div fxFlex=\\\"100%\\\">\\n            <div kendoTooltip class=\\\"sticky-button-action py-3 text-right\\\">\\n                <button type=\\\"button\\\" mat-button color=\\\"primary\\\" (click)=\\\"huy()\\\" [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\">Hy</button>\\n                <button type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button title=\\\"Phm tt: Enter\\\" (click)=\\\"themNhomDichVuChoVoucher()\\\" [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\">Thm</button>\\n            </div>\\n        </div>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"voucher.LoaiDichVuVoucherMarketing != loaiDichVuVoucherMarketing.TatCaDichVu\\\">\\n        <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Dch v</h3>\\n        <app-grid #gridDanhSachDichVu fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridColumns\\\" [useAddDeault]=\\\"false\\\"\\n            [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [HideHeader]=\\\"false\\\" [documentType]=\\\"documentType\\\"\\n            [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" [urlGetData]=\\\"urlGetListDichVuForGrid\\\" [urlGetTotalPage]=\\\"urlGetPagesListDichVuForGrid\\\"\\n            [pageable]=\\\"false\\\" [showStt]=\\\"true\\\"\\n            (extOnDataBound)=\\\"onDataBoundGridDichVuDonLe($event)\\\">\\n        </app-grid>\\n\\n        <h3 fxFlex=\\\"100%\\\" class=\\\"sub-title mt-0\\\">Nhm dch v</h3>\\n        <app-grid #gridDanhSachNhomDichVu fxFlex=\\\"100%\\\" class=\\\"k-grid-border\\\" [gridColumns]=\\\"gridNhomDichVuColumns\\\" [useAddDeault]=\\\"false\\\"\\n            [useHeaderDefault]=\\\"false\\\" [useActionDefault]=\\\"false\\\" [checkboxAble]=\\\"false\\\" [HideHeader]=\\\"false\\\" [documentType]=\\\"documentType\\\"\\n            [lazyLoadPage]=\\\"true\\\" [autoHeight]=\\\"true\\\" [urlGetData]=\\\"urlGetListNhomDichVuForGrid\\\" [urlGetTotalPage]=\\\"urlGetPagesListNhomDichVuForGrid\\\"\\n            [pageable]=\\\"false\\\" [showStt]=\\\"true\\\"\\n            (extOnDataBound)=\\\"onDataBoundGridNhomDichVu($event)\\\">\\n        </app-grid>\\n    </ng-container>\\n\\n    <!-- Tt c dch v -->\\n    <ng-container *ngIf=\\\"voucher.LoaiDichVuVoucherMarketing == loaiDichVuVoucherMarketing.TatCaDichVu\\\">\\n        <div fxFlex=\\\"20%\\\" fxFlex.sm=\\\"100%\\\" class=\\\"radio-numeric\\\">\\n            <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n                <app-radio fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" id=\\\"ChietKhauTatCaDichVu\\\" name=\\\"ChietKhauTatCaDichVu\\\"\\n                    [items]=\\\"radioChietKhauItems\\\" [(model)]=\\\"voucher.LoaiChietKhau\\\" label=\\\" \\\"\\n                    [validationerror]=\\\"'ChietKhauTatCaDichVu' | validationerror:validationErrors\\\" class=\\\"no-label\\\"\\n                    [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\">\\n                </app-radio>        \\n                <app-textboxnumeric id=\\\"ChietKhauSoTienTatCaDichVu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"250\\\" [(model)]=\\\"voucher.SoTienChietKhau\\\"\\n                    label=\\\" \\\" [validationerror]=\\\"'SoTienChietKhauTatCaDichVu' | validationerror:validationErrors\\\" class=\\\"no-label\\\"\\n                    min=\\\"0\\\" step=\\\"1000\\\" *ngIf=\\\"voucher.LoaiChietKhau == loaiChietKhau.ChietKhauTheoSoTien\\\"\\n                    [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n                    [isFormatCurrenly]=\\\"true\\\">\\n                </app-textboxnumeric>\\n                <app-textboxnumeric id=\\\"ChietKhauPhamTramTatCaDichVu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"250\\\" [(model)]=\\\"voucher.TiLeChietKhau\\\"\\n                    label=\\\" \\\" [validationerror]=\\\"'TiLeChietKhauTatCaDichVu' | validationerror:validationErrors\\\" class=\\\"no-label\\\" \\n                    min=\\\"0\\\" max=\\\"100\\\" step=\\\"1\\\" *ngIf=\\\"voucher.LoaiChietKhau == loaiChietKhau.ChietKhauTheoTiLe\\\"\\n                    [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n                    [isFormatCurrenly]=\\\"true\\\">\\n                </app-textboxnumeric>\\n            </div>\\n        </div>\\n\\n        <app-textbox id=\\\"GhiChuTatCaDichVu\\\" fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\" label=\\\"Ghi ch\\\" maxlength=\\\"1000\\\"\\n            [(model)]=\\\"voucher.GhiChu\\\" minHeight=\\\"25\\\"\\n            [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\">\\n        </app-textbox>\\n    </ng-container>\\n</div>\\n\\n<ng-template #nhomDichVuTemplate let-value=\\\"value\\\">\\n    <strong>{{value}}</strong>\\n</ng-template>\\n\\n<ng-template #loaiGiaTemplate let-dataItem>\\n    <app-combobox popupSettings=\\\"null\\\" label=\\\" \\\"  class=\\\"no-label p-0\\\"\\n        [required]=\\\"true\\\" [url]=\\\"'Voucher/GetListTatCaLoaiGiaChoDichVu?loaiDichVu=' + dataItem.LoaiDichVuBenhVien\\\"\\n        [(model)]=\\\"dataItem.LoaiGiaId\\\"  [modelText]=\\\"dataItem.LoaiGiaDisplay\\\"\\n        [autoSelectFirstItem]=\\\"true\\\" [bind]=\\\"true\\\"\\n        (modelChange)=\\\"loaiGiaDichVuChange($event, dataItem)\\\"\\n        [validationerror]=\\\"'dataItem[' + voucher.lstVoucherChiTietMienGiam.indexOf(dataItem) + '].LoaiGia' | validationerror:validationErrors\\\"\\n        [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\">\\n    </app-combobox>\\n</ng-template>\\n\\n<ng-template #donGiaTemplate let-dataItem>\\n    {{dataItem.DonGia | number:'0.2-2':'vi-VN'}}\\n</ng-template>\\n\\n<ng-template #chietKhauTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <app-radio fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\" name=\\\"ChietKhauChiTiet\\\"\\n            [items]=\\\"radioChietKhauChiTietItems\\\" [(model)]=\\\"dataItem.LoaiChietKhau\\\" label=\\\" \\\"  class=\\\"no-label p-0\\\"\\n            [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n            (modelChange)=\\\"loaiChietKhauChiTietDichVuChange($event, dataItem)\\\">\\n        </app-radio>   \\n        <app-textboxnumeric fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"250\\\" [(model)]=\\\"dataItem.SoTienChietKhau\\\"\\n            id=\\\"{{rowIndex + 1}}SoTienChietKhau\\\"\\n            *ngIf=\\\"dataItem.LoaiChietKhau == loaiChietKhau.ChietKhauTheoSoTien\\\" label=\\\" \\\" class=\\\"no-label p-0 text-height-42\\\"\\n            min=\\\"0\\\" step=\\\"1000\\\" max=\\\"{{dataItem.DonGia && dataItem.DonGia > 0 ? dataItem.DonGia : 999999999999}}\\\"\\n            (modelChange)=\\\"chietKhauDichVuChange($event, dataItem)\\\"\\n            [validationerror]=\\\"'dataItem[' + voucher.lstVoucherChiTietMienGiam.indexOf(dataItem) + '].SoTienChietKhau' | validationerror:validationErrors\\\"\\n            [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n            [isFormatCurrenly]=\\\"true\\\">\\n        </app-textboxnumeric>\\n        <app-textboxnumeric fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"250\\\" [(model)]=\\\"dataItem.TiLeChietKhau\\\" label=\\\" \\\" class=\\\"no-label p-0 text-height-42\\\"\\n            id=\\\"{{rowIndex + 1}}TiLeChietKhau\\\"\\n            min=\\\"0\\\" max=\\\"{{dataItem.DonGia && dataItem.DonGia > 0 ? 100 : 0}}\\\" step=\\\"1\\\" *ngIf=\\\"dataItem.LoaiChietKhau == loaiChietKhau.ChietKhauTheoTiLe\\\"\\n            (modelChange)=\\\"chietKhauDichVuChange($event, dataItem)\\\"\\n            [validationerror]=\\\"'dataItem[' + voucher.lstVoucherChiTietMienGiam.indexOf(dataItem) + '].TiLeChietKhau' | validationerror:validationErrors\\\"\\n            [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n            [isFormatCurrenly]=\\\"true\\\">\\n        </app-textboxnumeric>\\n    </div>\\n</ng-template>\\n\\n<ng-template #chietKhauNhomDichVuTemplate let-dataItem let-rowIndex=\\\"rowIndex\\\">\\n    <div fxLayout=\\\"row wrap\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutGap=\\\"0 grid\\\" fxLayoutGap.lt-sm=\\\"0\\\">\\n        <app-radio fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\" name=\\\"ChietKhauChiTiet\\\"\\n            [items]=\\\"radioChietKhauChiTietItems\\\" [(model)]=\\\"dataItem.LoaiChietKhau\\\" label=\\\" \\\" class=\\\"no-label p-0\\\"\\n            [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n            (modelChange)=\\\"loaiChietKhauChiTietNhomDichVuChange($event, dataItem)\\\">\\n        </app-radio>     \\n        <app-textboxnumeric fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"250\\\" [(model)]=\\\"dataItem.SoTienChietKhau\\\"\\n            id=\\\"{{rowIndex + 1}}SoTienChietKhauNhomDichVu\\\"\\n            *ngIf=\\\"dataItem.LoaiChietKhau == loaiChietKhau.ChietKhauTheoSoTien\\\" label=\\\" \\\" class=\\\"no-label p-0 text-height-42\\\"\\n            min=\\\"0\\\" step=\\\"1000\\\" max=\\\"{{dataItem.DonGia && dataItem.DonGia > 0 ? dataItem.DonGia : 999999999999}}\\\"\\n            [validationerror]=\\\"'dataItem[' + voucher.lstVoucherChiTietMienGiamNhomDichVu.indexOf(dataItem) + '].SoTienChietKhauNhomDichVu' | validationerror:validationErrors\\\"\\n            [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n            [isFormatCurrenly]=\\\"true\\\">\\n        </app-textboxnumeric>\\n        <app-textboxnumeric fxFlex=\\\"50%\\\" fxFlex.sm=\\\"100%\\\" maxlength=\\\"250\\\" [(model)]=\\\"dataItem.TiLeChietKhau\\\" label=\\\" \\\" class=\\\"no-label p-0 text-height-42\\\"\\n            id=\\\"{{rowIndex + 1}}TiLeChietKhauNhomDichVu\\\"\\n            min=\\\"0\\\" max=\\\"100\\\" step=\\\"1\\\" *ngIf=\\\"dataItem.LoaiChietKhau == loaiChietKhau.ChietKhauTheoTiLe\\\"\\n            [validationerror]=\\\"'dataItem[' + voucher.lstVoucherChiTietMienGiamNhomDichVu.indexOf(dataItem) + '].TiLeChietKhauNhomDichVu' | validationerror:validationErrors\\\"\\n            [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\"\\n            [isFormatCurrenly]=\\\"true\\\">\\n        </app-textboxnumeric>\\n    </div>\\n</ng-template>\\n\\n<ng-template #donGiaSauChietKhauTemplate let-dataItem>\\n    <ng-container *ngIf=\\\"dataItem.LoaiChietKhau == loaiChietKhau.ChietKhauTheoSoTien\\\">\\n        {{(dataItem.DonGia > 0 ? dataItem.DonGia - dataItem.SoTienChietKhau : 0) | number:'0.2-2':'vi-VN'}}\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"dataItem.LoaiChietKhau == loaiChietKhau.ChietKhauTheoTiLe\\\">\\n        {{(dataItem.DonGia > 0 ? (dataItem.DonGia * (100 - dataItem.TiLeChietKhau))/100 : 0) | number:'0.2-2':'vi-VN'}}\\n    </ng-container>\\n</ng-template>\\n\\n<ng-template #ghiChuTemplate let-dataItem>\\n    <app-textbox id=\\\"GhiChuDichVu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\" \\\" maxlength=\\\"1000\\\" minHeight=\\\"25\\\" class=\\\"no-label p-0\\\"\\n        [(model)]=\\\"dataItem.GhiChu\\\"\\n        [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\">\\n    </app-textbox>\\n</ng-template>\\n\\n<ng-template #ghiChuNhomDichVuTemplate let-dataItem>\\n    <app-textbox id=\\\"GhiChuNhomDichVu\\\" fxFlex=\\\"100%\\\" fxFlex.sm=\\\"100%\\\" label=\\\" \\\" maxlength=\\\"1000\\\" minHeight=\\\"25\\\" class=\\\"no-label p-0\\\"\\n        [(model)]=\\\"dataItem.GhiChu\\\"\\n        [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\">\\n    </app-textbox>\\n</ng-template>\\n\\n<ng-template #actionTemplate let-dataItem>\\n    <div class=\\\"text-center\\\" kendoTooltip>\\n        <button *ngIf=\\\"dataItem.DichVuId && dataItem.DichVuId > 0\\\" style=\\\"color: red\\\" mat-icon-button kendoTooltip title=\\\"Xa\\\" type=\\\"button\\\" (click)=\\\"xoaDichVuChoVoucher(dataItem)\\\" [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\">\\n            <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n        </button>\\n        <button *ngIf=\\\"dataItem.NhomDichVuId && dataItem.NhomDichVuId > 0\\\" style=\\\"color: red\\\" mat-icon-button kendoTooltip title=\\\"Xa\\\" type=\\\"button\\\" (click)=\\\"xoaNhomDichVuChoVoucher(dataItem)\\\" [disabled]=\\\"tongSoBenhNhanSuDung > 0\\\">\\n            <mat-icon [icIcon]=\\\"icDelete\\\"></mat-icon>\\n        </button>\\n    </div>\\n</ng-template>\"","export default \"<app-header-form [isicMoreVert]=\\\"false\\\" [crumbs]=\\\"[\\n    { Title: 'Marketing', Path: '' },\\n    { Title: 'Chng Trnh Marketing', Path: '' },\\n    { Title: 'Theo Voucher', Path: '/marketing/ct-marketing/voucher' , queryParams: {holdQuery : true}, Active: true }]\\\">\\n</app-header-form>\\n\\n<div [@stagger]=\\\"true\\\" class=\\\"p-gutter\\\" vexContainer>\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\n        <div @fadeInUp class=\\\"card\\\" fxFlex=\\\"auto\\\">\\n            <div class=\\\"px-6 py-4 border-b\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\n                <h2 class=\\\"title m-0\\\">Chnh Sa Voucher</h2>\\n            </div>\\n\\n            <div class=\\\"px-6 py-4\\\" fxLayout=\\\"column\\\">\\n                <app-voucher-shared></app-voucher-shared>\\n                \\n                <div>\\n                    <!-- <app-formfooter [bodyComponent]=\\\"shared\\\" type=\\\"update\\\" (updated)=\\\"onUpdated()\\\"></app-formfooter> -->\\n                    <div kendoTooltip class=\\\"sticky-button-action py-3 text-right\\\">\\n                        <button type=\\\"button\\\" mat-button mat-raised-button color=\\\"primary\\\" class=\\\"float-left\\\" (click)=\\\"in()\\\">In</button>\\n                        <button type=\\\"button\\\" mat-button color=\\\"primary\\\" (click)=\\\"huy()\\\">Hy</button>\\n                        <button type=\\\"button\\\" class=\\\"mr-2\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"luu()\\\">Lu</button>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n</div>\\n\"","import { animate, style, transition, trigger } from '@angular/animations';\n\nexport function fadeInUpAnimation(duration: number) {\n  return trigger('fadeInUp', [\n    transition(':enter', [\n      style({\n        transform: 'translateY(20px)',\n        opacity: 0\n      }),\n      animate(`${duration}ms cubic-bezier(0.35, 0, 0.25, 1)`, style({\n        transform: 'translateY(0)',\n        opacity: 1\n      }))\n    ])\n  ]);\n}\n\nexport const fadeInUp400ms = fadeInUpAnimation(400);\n","import { animateChild, query, stagger, transition, trigger } from '@angular/animations';\n\nexport function staggerAnimation(timing: number) {\n  return trigger('stagger', [\n    transition('* => *', [ // each time the binding value changes\n      query('@fadeInUp, @fadeInRight, @scaleIn', stagger(timing, animateChild()), { optional: true }),\n    ])\n  ]);\n}\n\nexport const stagger80ms = staggerAnimation(80);\nexport const stagger60ms = staggerAnimation(60);\nexport const stagger40ms = staggerAnimation(40);\nexport const stagger20ms = staggerAnimation(20);\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9tYXJrZXRpbmcvY2h1b25nLXRyaW5oLW1hcmtldGluZy90aGVvLXZvdWNoZXIvdm91Y2hlci1jaGktdGlldC1wb3B1cC92b3VjaGVyLWNoaS10aWV0LXBvcHVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, Inject, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { BroadcastService } from 'src/app/core/services/broadcast.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { FormControl } from '@angular/forms';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { LoaiChietKhau, Voucher } from '../voucher.model';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\n\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport icSearch from '@iconify/icons-ic/twotone-search';\n\n@Component({\n    selector: 'app-voucher-chi-tiet-popup',\n    templateUrl: './voucher-chi-tiet-popup.component.html',\n    styleUrls: ['./voucher-chi-tiet-popup.component.scss']\n})\n\nexport class VoucherChiTietPopupComponent implements OnInit {\n    documentType: DocumentType = DocumentType.VoucherMarketing;\n    searchCtrl = new FormControl;\n    idVoucher: number;\n    voucher: any;\n    loaiChietKhau = LoaiChietKhau;\n    tongSoBenhNhanSuDung: number = 0;\n    soLuongPhatHanh: any;\n\n    icClose = icClose;\n    icSearch = icSearch;\n\n    gridColumns: any[] = [];\n\n    urlGetChiTietBenhNhanDaSuDungForGrid = 'Voucher/GetListChiTietBenhNhanDaSuDungForGridAsync'\n    urlGetPagesChiTietBenhNhanDaSuDungForGrid = 'Voucher/GetPagesListChiTietBenhNhanDaSuDungForGridAsync'\n    addtionalSearchString: any;\n\n    @ViewChild('sttTemplate', { static: true }) sttTemplate: TemplateRef<any>;\n    @ViewChild('ngayDungTemplate', { static: true }) ngayDungTemplate: TemplateRef<any>;\n    @ViewChild(GridComponent, {static: false}) gridChild: GridComponent;\n\n    constructor(@Inject(MAT_DIALOG_DATA) public data: any,\n                private dialog: MatDialog, private dialogRef: MatDialogRef<any>,\n                private apiService: ApiService, private broadcastService: BroadcastService, private notificationService: NotificationService, private authService: AuthService) { }\n\n    ngOnInit() {\n        this.idVoucher = this.data.Id;\n        this.voucher = this.data;\n\n        this.getSoLuongPhatHanh();\n        this.getTongSoBenhNhanSuDungDichVu();\n\n        this.gridColumns = [\n            { Field: \"STT\", Title: \"STT\", Width: 25 , Sortable: false, Template: this.sttTemplate },\n            { Field: \"MaTiepNhan\", Title: \"M TN\", Width: 80, Sortable: true },\n            { Field: \"MaBenhNhan\", Title: \"M NB\", Width: 80, Sortable: true },\n            { Field: \"TenBenhNhan\", Title: \"Tn NB\", Width: 100, Sortable: true },\n            { Field: \"DiaChi\", Title: \"a ch\", Width: 100, Sortable: true },\n            { Field: \"NgayDung\", Title: \"Ngy dng\", Width: 80, Sortable: true, Template: this.ngayDungTemplate },\n            { Field: \"MaVoucher\", Title: \"M voucher\", Width: 80, Sortable: true }\n        ];\n    }\n\n    close() {\n        this.dialog.closeAll();\n    }\n\n    getTongSoBenhNhanSuDungDichVu() {\n        this.apiService.get<any>(`Voucher/GetTongSoBenhNhanSuDungDichVu?voucherId=${this.idVoucher}`).subscribe(res => {\n            this.tongSoBenhNhanSuDung = res;\n        }, (err: ApiError) => {\n            this.notificationService.showError(err.Message);\n        })\n    }\n\n    getSoLuongPhatHanh() {\n        this.apiService.get<any>(`Voucher/GetSoLuongPhatHanhVoucher?voucherId=${this.idVoucher}`).subscribe(res => {\n            this.soLuongPhatHanh = res;\n        }, (err: ApiError) => {\n            this.notificationService.showError(err.Message);\n        })\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9tYXJrZXRpbmcvY2h1b25nLXRyaW5oLW1hcmtldGluZy90aGVvLXZvdWNoZXIvdm91Y2hlci1jcmVhdGUvdm91Y2hlci1jcmVhdGUuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { MatDialog } from '@angular/material';\nimport { Router } from '@angular/router';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { SystemMessage, VoucherMarketingMessage } from 'src/app/shared/configdata/system-message';\nimport { VoucherInPopupComponent } from '../voucher-in-popup/voucher-in-popup.component';\nimport { VoucherSharedComponent } from '../voucher-shared/voucher-shared.component';\n\n@Component({\n    selector: 'app-voucher-create',\n    templateUrl: './voucher-create.component.html',\n    styleUrls: ['./voucher-create.component.scss']\n})\nexport class VoucherCreateComponent implements OnInit {\n    @ViewChild(VoucherSharedComponent, { static: true }) shared: VoucherSharedComponent;\n\n    constructor(private router : Router, private dialog: MatDialog,\n                private notificationService: NotificationService) { }\n\n    ngOnInit() {\n    }\n\n    // onCreated() {\n    //     this.router.navigate(['/marketing/ct-marketing/voucher']);\n    // }\n\n    huy() {\n        // this.router.navigate(['/marketing/ct-marketing/voucher']);\n        this.router.navigateByUrl(\"/marketing/ct-marketing/voucher?holdQuery=true\");\n    }\n\n    themVoucher() {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: \"500px\",\n            data: {\n                Title: \"Xc nhn\",\n                Message: CommonService.format(SystemMessage.MessConfirm, [\"thm\"]),\n            },\n        }).afterClosed().subscribe((res) => {\n            if (res == \"Yes\") {\n                this.shared.them()\n            }\n        })\n    }\n\n    // in() {\n    //     let data = this.shared.getSharedData();\n\n    //     if(!data.Ma || !data.Ten || !data.SoLuongPhatHanh || !data.TuNgay) {\n    //         this.notificationService.showError(VoucherMarketingMessage.MessageThongTinNotNull)\n    //     } else {\n    //         this.dialog.open(VoucherInPopupComponent, {\n    //             disableClose: true,\n    //             width: '700px',\n    //             height: 'auto',\n    //             data: data\n    //         })\n    //         .afterClosed()\n    //         .subscribe((res) => {\n    //         });\n    //     }\n    // }\n}\n","export default \".clear-margin-bottom {\\n  margin-bottom: 0px !important;\\n}\\n\\n.container-iframe {\\n  position: relative;\\n  width: 100%;\\n  height: 300px;\\n}\\n\\n.container-iframe iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.container-iframe iframe .pagebreak {\\n  border-bottom: 2px dashed #000;\\n  margin-bottom: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL21hcmtldGluZy9jaHVvbmctdHJpbmgtbWFya2V0aW5nL3RoZW8tdm91Y2hlci92b3VjaGVyLWluLXBvcHVwL0M6XFxwcm9qZWN0XFxmcmVlbGFuY2VyXFxob3NwaXRhbC9zcmNcXGFwcFxcbW9kdWxlc1xcbWFpblxcbWFya2V0aW5nXFxjaHVvbmctdHJpbmgtbWFya2V0aW5nXFx0aGVvLXZvdWNoZXJcXHZvdWNoZXItaW4tcG9wdXBcXHZvdWNoZXItaW4tcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9tYXJrZXRpbmcvY2h1b25nLXRyaW5oLW1hcmtldGluZy90aGVvLXZvdWNoZXIvdm91Y2hlci1pbi1wb3B1cC92b3VjaGVyLWluLXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsNkJBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0UsOEJBQUE7RUFDQSxtQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9tYWluL21hcmtldGluZy9jaHVvbmctdHJpbmgtbWFya2V0aW5nL3RoZW8tdm91Y2hlci92b3VjaGVyLWluLXBvcHVwL3ZvdWNoZXItaW4tcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2xlYXItbWFyZ2luLWJvdHRvbSB7XG4gIG1hcmdpbi1ib3R0b206IDBweCAhaW1wb3J0YW50O1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMzAwcHg7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUgLnBhZ2VicmVhayB7XG4gIGJvcmRlci1ib3R0b206IDJweCBkYXNoZWQgIzAwMDtcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcbn0iLCIuY2xlYXItbWFyZ2luLWJvdHRvbSB7XG4gIG1hcmdpbi1ib3R0b206IDBweCAhaW1wb3J0YW50O1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMzAwcHg7XG59XG5cbi5jb250YWluZXItaWZyYW1lIGlmcmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4uY29udGFpbmVyLWlmcmFtZSBpZnJhbWUgLnBhZ2VicmVhayB7XG4gIGJvcmRlci1ib3R0b206IDJweCBkYXNoZWQgIzAwMDtcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcbn0iXX0= */\"","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { BroadcastService } from 'src/app/core/services/broadcast.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { VoucherThongTinHTML } from '../voucher.model';\nimport icClose from '@iconify/icons-ic/twotone-close';\n\n@Component({\n    selector: 'app-voucher-in-popup',\n    templateUrl: './voucher-in-popup.component.html',\n    styleUrls: ['./voucher-in-popup.component.scss']\n})\nexport class VoucherInPopupComponent implements OnInit {\n    validationErrors: any;\n    hostingName: string = `http://${window.location.host}`;\n    format: string = '';\n    iframeSrc: string = \"\";\n\n    tenVoucher: string;\n    maVoucher: string;\n    // maSoTu: string;\n    soLuongPhatHanh: number;\n    urlBarcode: string;\n\n    soLuongIn: number = 1;\n    maSoIn: number = 1;\n\n    voucherThongTinHTML: VoucherThongTinHTML = new VoucherThongTinHTML();\n\n    printLayout: string = 'landscape';\n    printSize: string = 'A4';\n\n    icClose = icClose;\n\n    constructor(@Inject(MAT_DIALOG_DATA) public data: any,\n                private dialog: MatDialog, private dialogRef: MatDialogRef<any>,\n                private apiService: ApiService, private broadcastService: BroadcastService, private notificationService: NotificationService, private authService: AuthService) { }\n\n    ngOnInit() {\n        this.tenVoucher = this.data.Ten;\n        this.maVoucher = this.data.Ma;\n        // this.maSoTu = this.data.MaSoTu;\n        this.soLuongPhatHanh = this.data.SoLuongPhatHanh;\n        this.soLuongIn = this.data.SoLuongPhatHanh;\n        this.maSoIn = 1;\n        this.format = \"0\".repeat(this.data.SoLuongPhatHanh.toString().length)\n\n        // this.getBarcode();\n        this.getIframe();\n    }\n\n    close() {\n        this.dialog.closeAll();\n    }\n\n    // getBarcode() {\n    //     this.apiService.get<any>(`Voucher/GetBarcodeBasedOnMa?ma=${this.maSoTu}`).subscribe(res => {\n    //         this.urlBarcode = res;\n    //     }, (err: ApiError) => {\n    //         this.notificationService.showError(err.Message);\n    //     })\n    // }\n\n    soLuongChange(evt) {\n        if(evt) {\n            let soLuongConLai = this.soLuongPhatHanh - evt + 1;\n            this.maSoIn = this.maSoIn > soLuongConLai ? soLuongConLai : this.maSoIn;\n        }\n    }\n\n    maSoChange(evt) {\n        if(evt) {\n            let soLuongConLai = this.soLuongPhatHanh - evt + 1;\n            this.soLuongIn = this.soLuongIn > soLuongConLai ? soLuongConLai : this.soLuongIn;\n        }\n    }\n\n    mergeThongTinHTML() {\n        this.voucherThongTinHTML.HostingName = this.hostingName;\n        this.voucherThongTinHTML.Ten = this.tenVoucher;\n        this.voucherThongTinHTML.Ma = this.maVoucher;\n        this.voucherThongTinHTML.SoLuong = this.soLuongIn;\n        this.voucherThongTinHTML.MaSoTu = this.maSoIn;\n        this.voucherThongTinHTML.SoLuongPhatHanh = this.soLuongPhatHanh;\n    }\n\n    getSharedPrintForm() {\n        this.mergeThongTinHTML();\n\n        return new Promise(resolve => {\n            this.apiService.post<any>(`Voucher/GetHtmlVoucher`, this.voucherThongTinHTML).subscribe(resultData => {\n                resolve(resultData);\n            });\n        });\n\n        // return new Promise(resolve => {\n        //     this.apiService.get<any>(`Voucher/GetHtmlVoucher?hostingName=${this.hostingName}&ten=${this.tenVoucher}&ma=${this.maVoucher}&soLuong=${this.soLuongIn}&maSoTu=${this.maSoIn}&soLuongPhatHanh=${this.soLuongPhatHanh}`).subscribe(resultData => {\n        //         resolve(resultData);\n        //     });\n        // });\n    }\n\n    getIframe() {\n        this.soLuongIn = 1;\n        this.mergeThongTinHTML();\n\n        this.apiService.post<any>(`Voucher/GetHtmlVoucher`, this.voucherThongTinHTML).subscribe(resultData => {\n            // this.iframeSrc = resultData;\n            this.iframeSrc = \"data:text/html;charset=utf-8,\" + encodeURIComponent(resultData);\n        }, (err: ApiError) => {\n            this.notificationService.showError(err.Message);\n        });\n\n        // this.apiService.get<any>(`Voucher/GetHtmlVoucher?hostingName=${this.hostingName}&ten=${this.tenVoucher}&ma=${this.maVoucher}&soLuong=1&maSoTu=1&soLuongPhatHanh=${this.soLuongPhatHanh}`).subscribe(resultData => {\n        //     // this.iframeSrc = resultData;\n        //     this.iframeSrc = \"data:text/html;charset=utf-8,\" + encodeURIComponent(resultData);\n        // }, (err: ApiError) => {\n        //     this.notificationService.showError(err.Message);\n        // });\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9tYXJrZXRpbmcvY2h1b25nLXRyaW5oLW1hcmtldGluZy90aGVvLXZvdWNoZXIvdm91Y2hlci1saXN0L3ZvdWNoZXItbGlzdC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { MatDialog } from '@angular/material';\nimport { Location } from '@angular/common';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage } from 'src/app/shared/configdata/system-message';\nimport { VoucherChiTietPopupComponent } from '../voucher-chi-tiet-popup/voucher-chi-tiet-popup.component';\nimport { LoadingComponent } from 'src/app/shared/component/dialogs/loading/loading.component';\nimport { VoucherSearch } from '../voucher.model';\nimport { LocalStorageHelper } from 'src/app/core/utilities/local-storage.helper';\nimport { FormControl } from '@angular/forms';\n\nimport icDone from '@iconify/icons-ic/twotone-done';\nimport icClose from '@iconify/icons-ic/twotone-close';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\nimport icEdit from '@iconify/icons-ic/twotone-edit';\nimport icMoreHoriz from '@iconify/icons-ic/twotone-more-horiz';\nimport icDetail from '@iconify/icons-ic/twotone-apps';\nimport icSearch from '@iconify/icons-ic/twotone-search';\nimport icFileExcel from '@iconify/icons-fa-solid/file-excel';\nimport icFilterList from '@iconify/icons-ic/twotone-filter-list';\nimport icAdd from '@iconify/icons-ic/twotone-add';\n\n@Component({\n    selector: 'app-voucher-list',\n    templateUrl: './voucher-list.component.html',\n    styleUrls: ['./voucher-list.component.scss']\n})\n\nexport class VoucherListComponent implements OnInit {\n    documentType: DocumentType = DocumentType.VoucherMarketing;\n\n    baseRoute: string = \"/marketing/ct-marketing/voucher\";\n    voucherSearch: VoucherSearch;\n    holdQuery: any = null;\n    additionalSearchString: string = null;\n    firstSearchString: any;\n    searchCtrl = new FormControl;\n\n    voucherTuNgay: any;\n    voucherDenNgay: any;\n\n    gridColumns: any[] = [];\n    filterColumns: any[] = [];\n\n    icdone = icDone;\n    icclose = icClose;\n    icDelete = icDelete;\n    icEdit = icEdit;\n    icMoreHoriz = icMoreHoriz;\n    icDetail = icDetail;\n    icSearch = icSearch;\n  \ticFileExcel = icFileExcel;\n    icFilterList = icFilterList;\n    icAdd = icAdd;\n\n    @ViewChild('soLuongPhatHanhTemplate', { static: true }) soLuongPhatHanhTemplate: TemplateRef<any>;\n    @ViewChild('tuNgayTemplate', { static: true }) tuNgayTemplate: TemplateRef<any>;\n    @ViewChild('denNgayTemplate', { static: true }) denNgayTemplate: TemplateRef<any>;\n    @ViewChild('groupTemplate', { static: true }) groupTemplate: TemplateRef<any>;\n    @ViewChild(GridComponent, {static: false}) gridChild: GridComponent;\n    \n    constructor(private authService: AuthService, private notificationService: NotificationService, private apiService: ApiService,\n                private dialog: MatDialog, private router: Router, private route: ActivatedRoute, private location: Location) { }\n\n    ngOnInit() {\n        this.voucherSearch = new VoucherSearch();\n\n        if (this.route.snapshot.queryParams.holdQuery != undefined) {\n\t\t\tthis.holdQuery = this.route.snapshot.queryParams.holdQuery;\n\t\t}\n\n\t\tif (this.holdQuery != null && LocalStorageHelper.getItem('additionalSearchStringVoucherMarketing') != null) {\n\t\t\tthis.additionalSearchString = LocalStorageHelper.getItem('additionalSearchStringVoucherMarketing');     \n\t\t\tthis.voucherSearch = JSON.parse(this.additionalSearchString);\n\t\t} else {\n\t\t\tLocalStorageHelper.setItem('additionalSearchStringVoucherMarketing', null);\n\t\t\tthis.additionalSearchString = JSON.stringify(this.voucherSearch);\n        }\n\n        this.firstSearchString = JSON.stringify(this.voucherSearch);\n        \n        this.gridColumns = [\n            { Field: \"Ma\", Title: \"M voucher\", Width: 150, Sortable: true, LinkDetail: true },\n            { Field: \"Ten\", Title: \"Tn\", MinWidth: 200, Sortable: true },\n            { Field: \"SoLuongPhatHanh\", Title: \"SL pht hnh\", Width: 150, Sortable: true, Template: this.soLuongPhatHanhTemplate },\n            { Field: \"TuNgay\", Title: \"Thi gian bt u\", Width: 150, Sortable: true, Template: this.tuNgayTemplate },\n            { Field: \"DenNgay\", Title: \"Thi gian kt thc\", Width: 150, Sortable: true, Template: this.denNgayTemplate },\n            { Field: \"Action\", Title: \"\", Width: 50, Template: this.groupTemplate }\n        ];\n\n        this.filterColumns = [\n            { Field: \"Ma\", Title: \"M voucher\" },\n            { Field: \"Ten\", Title: \"Tn\" },\n            { Field: \"SoLuongPhatHanh\", Title: \"SL pht hnh\" },\n            { Field: \"TuNgay\", Title: \"Thi gian bt u\" },\n            { Field: \"DenNgay\", Title: \"Thi gian kt thc\" }\n        ];\n    }\n\n    edit(dataItem) {\n        if(dataItem) {\n            this.router.navigate([`/marketing/ct-marketing/voucher/chinh-sua/${dataItem.Id}`]);\n        }\n    }\n\n    delete(dataItem) {\n        if(dataItem) {\n            if (this.authService.hasPermission(this.documentType, SecurityOperation.Delete)) {\n                this.dialog.open(ConfirmComponent, {\n                    disableClose: false,\n                    width: '400px',\n                    data: { Title: 'Xc nhn', Message: CommonService.format(SystemMessage.MessConfirm, ['xa']) }\n                }).afterClosed().subscribe(result => {/* result is a string:Yes,No,No answer*/\n                    if (result == 'Yes') {\n                        this.apiService.delete(`Voucher/${dataItem.Id}`).subscribe(() => {\n                            this.gridChild.search();\n                            this.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, ['Xa']));\n                        }, (err: ApiError) => {\n                            this.notificationService.showError(err.Message);\n                        });\n                    }\n                });\n            } else {\n                this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n            }\n        }\n    }\n\n    chiTiet(dataItem) {\n        if(dataItem) {\n            this.dialog.open(VoucherChiTietPopupComponent, {\n                disableClose: true,\n                width: '1000px',\n                height: 'auto',\n                data: dataItem\n            })\n            .afterClosed()\n            .subscribe((res) => {\n            });\n        }\n    }\n\n    exportExcel() {\n        this.dialog.open(LoadingComponent, {\n            disableClose: true,\n            width: '200px',\n            height: '90px',\n            data: { Title: 'ang xut excel...' }\n        });\n        \n        if(this.authService.hasPermission(this.documentType, SecurityOperation.Process)) {\n            this.apiService.postExportExcel<string>(\"Voucher/ExportChuongTrinhMarketingTheoVoucher\", this.gridChild._gridQueryInfo).subscribe(res => {\n                let dateTimeNow = new Date();\n                CommonService.downLoadFile(res, \"application/vnd.ms-excel\", \"ChuongTrinhMarketingTheoVoucher\" + dateTimeNow.getFullYear() + \".xlsx\");\n                this.dialog.closeAll();\n            }, err => {\n                this.notificationService.showError(err.Message);\n                this.dialog.closeAll();\n            })\n        }\n        else {\n            this.notificationService.showError(SystemMessage.UnAuthorizedMessage);\n        }\n    }\n\n    onKey(event: any) {\n\t\tif (event.key == \"Enter\") {\n\t\t  \tthis.timKiem();\n\t\t}\n    }\n    \n    clearSearch() {\n\t\tif (this.voucherSearch.SearchString == \"\" || this.voucherSearch.SearchString == null) {\n\t\t\tthis.timKiem();\n\t\t}\n    }\n    \n    timKiem() {\n        if(this.gridChild) {\n            this.location.replaceState(this.baseRoute + '?holdQuery=true');\n\n            let QueryString = null;\n            this.gridChild._additionalSearchString = null;\n            QueryString = this.voucherSearch.SearchString;\n            \n            this.convertDateTimeToUTC();\n            var query = JSON.stringify(this.voucherSearch);\n            \n            this.gridChild._additionalSearchString = query;\n            this.gridChild.searchString = QueryString;\n            this.gridChild.search();\n    \n            this.reverseDateTime();\n\n            LocalStorageHelper.setItem(\"additionalSearchStringVoucherMarketing\", JSON.stringify(this.voucherSearch));\n        }\n    }\n\n    convertDateTimeToUTC() {\n\t\tif(this.voucherSearch.RangeNgayApDung.startDate) {\n\t\t\tthis.voucherTuNgay = new Date(this.voucherSearch.RangeNgayApDung.startDate); \n\t\t\tthis.voucherSearch.RangeNgayApDung.startDate = new Date(Date.UTC(this.voucherTuNgay.getFullYear(), this.voucherTuNgay.getMonth(), this.voucherTuNgay.getDate(), this.voucherTuNgay.getHours(), this.voucherTuNgay.getMinutes()));\n\t\t}\n\n\t\tif(this.voucherSearch.RangeNgayApDung.endDate) {\n\t\t\tthis.voucherDenNgay = new Date(this.voucherSearch.RangeNgayApDung.endDate);\n\t\t\tthis.voucherSearch.RangeNgayApDung.endDate = new Date(Date.UTC(this.voucherDenNgay.getFullYear(), this.voucherDenNgay.getMonth(), this.voucherDenNgay.getDate(), this.voucherDenNgay.getHours(), this.voucherDenNgay.getMinutes()));\n\t\t}\n\t}\n\n\treverseDateTime() {\n\t\tif(this.voucherSearch.RangeNgayApDung.startDate) {\n\t\t\tthis.voucherSearch.RangeNgayApDung.startDate = new Date(this.voucherTuNgay.getFullYear(), this.voucherTuNgay.getMonth(), this.voucherTuNgay.getDate(), this.voucherTuNgay.getHours(), this.voucherTuNgay.getMinutes());\n\t\t}\n\n\t\tif(this.voucherSearch.RangeNgayApDung.endDate) {\n\t\t\tthis.voucherSearch.RangeNgayApDung.endDate = new Date(this.voucherDenNgay.getFullYear(), this.voucherDenNgay.getMonth(), this.voucherDenNgay.getDate(), this.voucherDenNgay.getHours(), this.voucherDenNgay.getMinutes());\n\t\t}\n\t}\n    \n    add() {\n        this.router.navigate(['/marketing/ct-marketing/voucher/them']);\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { SecurityOperation } from 'src/app/shared/enum/security-operation.enum';\nimport { PermisssionGuard } from 'src/app/core/guards/permission-guard.service';\nimport { VoucherListComponent } from './voucher-list/voucher-list.component';\nimport { VoucherCreateComponent } from './voucher-create/voucher-create.component';\nimport { VoucherUpdateComponent } from './voucher-update/voucher-update.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: VoucherListComponent,\n        data: {\n          title: 'Danh sch qu tng',      \n          DocumentType: DocumentType.VoucherMarketing,\n          SecurityOperation:SecurityOperation.View\n        },\n        canActivate: [PermisssionGuard]\n    },\n    {\n        path: 'them',\n        component: VoucherCreateComponent,\n        data: {\n          title: 'Thm voucher',      \n          DocumentType: DocumentType.VoucherMarketing,\n          SecurityOperation:SecurityOperation.Add\n        },\n        canActivate: [PermisssionGuard]\n    },\n    {\n        path: 'chinh-sua/:id',\n        component: VoucherUpdateComponent,\n        data: {\n          title: 'Chnh sa voucher',      \n          DocumentType: DocumentType.VoucherMarketing,\n          SecurityOperation:SecurityOperation.Update\n        },\n        canActivate: [PermisssionGuard]\n    },\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\n\nexport class VoucherRoutingModule { }","export default \"app-radio mat-radio-group {\\n  height: 42px !important;\\n}\\n\\n.no-padding {\\n  padding: 0 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL21hcmtldGluZy9jaHVvbmctdHJpbmgtbWFya2V0aW5nL3RoZW8tdm91Y2hlci92b3VjaGVyLXNoYXJlZC9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXG1hcmtldGluZ1xcY2h1b25nLXRyaW5oLW1hcmtldGluZ1xcdGhlby12b3VjaGVyXFx2b3VjaGVyLXNoYXJlZFxcdm91Y2hlci1zaGFyZWQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9tYXJrZXRpbmcvY2h1b25nLXRyaW5oLW1hcmtldGluZy90aGVvLXZvdWNoZXIvdm91Y2hlci1zaGFyZWQvdm91Y2hlci1zaGFyZWQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1QkFBQTtBQ0NGOztBREVBO0VBQ0UscUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbWFpbi9tYXJrZXRpbmcvY2h1b25nLXRyaW5oLW1hcmtldGluZy90aGVvLXZvdWNoZXIvdm91Y2hlci1zaGFyZWQvdm91Y2hlci1zaGFyZWQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhcHAtcmFkaW8gbWF0LXJhZGlvLWdyb3VwIHtcbiAgaGVpZ2h0OiA0MnB4ICFpbXBvcnRhbnQ7XG59XG5cbi5uby1wYWRkaW5nIHtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xufSIsImFwcC1yYWRpbyBtYXQtcmFkaW8tZ3JvdXAge1xuICBoZWlnaHQ6IDQycHggIWltcG9ydGFudDtcbn1cblxuLm5vLXBhZGRpbmcge1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG59Il19 */\"","import { ChangeDetectorRef, Component, OnInit, TemplateRef, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { BaseService } from 'src/app/core/services/base.service';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ApiError } from 'src/app/shared/models/api-error.model';\nimport { LookupItemVo } from 'src/app/shared/models/common.model';\nimport { LoaiChietKhau, LoaiDichVuBenhVien, LoaiDichVuVoucherMarketing, Voucher, VoucherChiTietMienGiam } from '../voucher.model';\nimport { DocumentType } from 'src/app/shared/enum/document-type.enum';\nimport { GridComponent } from 'src/app/shared/component/grid/grid.component';\nimport { MatDialog } from '@angular/material';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\nimport { SystemMessage, VoucherMarketingMessage } from 'src/app/shared/configdata/system-message';\nimport icDelete from '@iconify/icons-ic/twotone-delete';\n\n@Component({\n\tselector: 'app-voucher-shared',\n\ttemplateUrl: './voucher-shared.component.html',\n\tstyleUrls: ['./voucher-shared.component.scss'],\n\tencapsulation: ViewEncapsulation.None\n})\n\nexport class VoucherSharedComponent implements OnInit {\n\tloaiDichVuVoucherMarketing = LoaiDichVuVoucherMarketing;\n\tloaiChietKhau = LoaiChietKhau;\n\tloaiDichVuBenhVien = LoaiDichVuBenhVien;\n\tloaiGia: Array<LookupItemVo>;\n\t\n\tvoucher = {} as Voucher;\n\tdichVuVoucher = {} as VoucherChiTietMienGiam;\n\t// lstDichVuVouchers: DichVuVoucher[] = [];\n\n\t// loaiDichVuBenhVien: number; //DVKT, DVBV\n    isCreate = true;\n\tvalidationErrors: any;\n\tdocumentType: DocumentType = DocumentType.VoucherMarketing;\n\tidVoucher: number = 0;\n\ttongSoBenhNhanSuDung: number = 0;\n\tisSelectingDichVu: boolean = false;\n\tcurrentDichVuId: number = 0;\n\tisAlreadyGetDataDichVuDonLe: boolean = false;\n\tisAlreadyGetDataNhomDichVu: boolean = false;\n\n\tisExistDataDichVuDonLe: boolean = false;\n\tisExistDataNhomDichVu: boolean = false;\n\t\n\tgridColumns: any[] = [];\n\tgridDataSource: any = {};\n\n\tgridNhomDichVuColumns: any[] = [];\n\tgridNhomDichVuDataSource: any = {};\n\t\n\turlGetListDichVuForGrid = `Voucher/GetListDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\turlGetPagesListDichVuForGrid = `Voucher/GetPagesListDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\n\turlGetListNhomDichVuForGrid = `Voucher/GetListNhomDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\turlGetPagesListNhomDichVuForGrid = `Voucher/GetPagesListNhomDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\n\tradioDichVuItems = [\n\t\t{ Value: this.loaiDichVuVoucherMarketing.DichVu, Text: 'Dch v', Disabled: false },\n\t\t{ Value: this.loaiDichVuVoucherMarketing.NhomDichVu, Text: 'Nhm dch v', Disabled: false },\n\t\t{ Value: this.loaiDichVuVoucherMarketing.TatCaDichVu, Text: 'Tt c dch v', Disabled: false }\n\t];\n\n\tradioChietKhauItems = [\n\t\t{ Value: this.loaiChietKhau.ChietKhauTheoSoTien, Text: 'CK theo s tin' },\n\t\t{ Value: this.loaiChietKhau.ChietKhauTheoTiLe, Text: 'CK theo %' }\n\t];\n\n\tradioChietKhauChiTietItems = [\n\t\t{ Value: this.loaiChietKhau.ChietKhauTheoSoTien, Text: '$' },\n\t\t{ Value: this.loaiChietKhau.ChietKhauTheoTiLe, Text: '%' }\n\t];\n\n\ticDelete = icDelete;\n\n\t// @ViewChild('checkBoxHeaderTemplate', {read: TemplateRef, static: true}) checkBoxHeaderTemplate: TemplateRef<any>;\n\t// @ViewChild('checkBoxTemplate', {read: TemplateRef, static: true}) checkBoxTemplate: TemplateRef<any>;\n\t@ViewChild('nhomDichVuTemplate', { static: true }) nhomDichVuTemplate: TemplateRef<any>;\n\t@ViewChild('loaiGiaTemplate', { static: true }) loaiGiaTemplate: TemplateRef<any>;\n\t@ViewChild('donGiaTemplate', { static: true }) donGiaTemplate: TemplateRef<any>;\n\t@ViewChild('chietKhauTemplate', { static: true }) chietKhauTemplate: TemplateRef<any>;\n\t@ViewChild('chietKhauNhomDichVuTemplate', { static: true }) chietKhauNhomDichVuTemplate: TemplateRef<any>;\n\t@ViewChild('donGiaSauChietKhauTemplate', { static: true }) donGiaSauChietKhauTemplate: TemplateRef<any>;\n\t@ViewChild('ghiChuTemplate', { static: true }) ghiChuTemplate: TemplateRef<any>;\n\t@ViewChild('ghiChuNhomDichVuTemplate', { static: true }) ghiChuNhomDichVuTemplate: TemplateRef<any>;\n\t@ViewChild('actionTemplate', { static: true }) actionTemplate: TemplateRef<any>;\n\n\t@ViewChild('gridDanhSachDichVu', { static: false }) gridDanhSachDichVu: GridComponent;\n\t@ViewChild('gridDanhSachNhomDichVu', { static: false }) gridDanhSachNhomDichVu: GridComponent;\n\t\n\tconstructor(private route: ActivatedRoute, private router: Router, private apiService: ApiService,\n\t\t\t\tprivate baseService: BaseService,  private notificationService: NotificationService,\n\t\t\t\tprivate cd: ChangeDetectorRef, private dialog: MatDialog) { }\n\n\tngOnInit() {\n\t\tconst id: number = this.route.snapshot.params.id;\n\t\t\n        if(id) {\n\t\t\tthis.idVoucher = id;\n\n\t\t\tthis.urlGetListDichVuForGrid = `Voucher/GetListDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\t\t\tthis.urlGetPagesListDichVuForGrid = `Voucher/GetPagesListDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\t\t\tthis.urlGetListNhomDichVuForGrid = `Voucher/GetListNhomDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\t\t\tthis.urlGetPagesListNhomDichVuForGrid = `Voucher/GetPagesListNhomDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\n\t\t\tthis.getTongSoBenhNhanSuDungDichVu();\n            this.getById(id);\n            this.isCreate = false;\n\t\t} else {\n\t\t\tthis.voucher.ChietKhauTatCaDichVu = true;\n\t\t\tthis.voucher.LoaiDichVuVoucherMarketing = LoaiDichVuVoucherMarketing.DichVu;\n\t\t\tthis.voucher.LoaiChietKhau = LoaiChietKhau.ChietKhauTheoSoTien;\n\t\t\tthis.voucher.lstVoucherChiTietMienGiam = [];\n\t\t\tthis.voucher.lstVoucherChiTietMienGiamNhomDichVu = [];\n\t\t}\n\n\t\t//Dch v\n\t\tthis.loaiGia = [];\n\t\tthis.dichVuVoucher.LoaiGiaId = null;\n\t\tthis.dichVuVoucher.LoaiChietKhau = this.loaiChietKhau.ChietKhauTheoSoTien;\n\t\tthis.dichVuVoucher.TiLeChietKhau = null;\n\t\tthis.dichVuVoucher.SoTienChietKhau = null;\n\n\t\t//Grid\n\t\tthis.gridColumns = [\n\t\t\t// { Field: \"CheckBox\", Title: \"\", Width: 20 , Sortable: false, Template: this.checkBoxTemplate, TemplateHeader: this.checkBoxHeaderTemplate },\n\t\t\t{ Field: \"LoaiDichVuBenhVienDisplay\", Title: \"\", Width: 150, Hidden: true, TemplateGroupHeader: this.nhomDichVuTemplate },\n\t\t\t{ Field: \"MaDichVu\", Title: \"M\", Width: 100 },\n\t\t\t{ Field: \"DichVuDisplay\", Title: \"Tn dch v\", MinWidth: 180 },\n\t\t\t{ Field: \"LoaiGiaId\", Title: \"Loi gi\", Width: 100, Template: this.loaiGiaTemplate },\n\t\t\t{ Field: \"DonGia\", Title: \"n gi\", Width: 150, Template: this.donGiaTemplate },\n\t\t\t{ Field: \"ChietKhau\", Title: \"Chit khu\", Width: 230, Template: this.chietKhauTemplate },\n\t\t\t{ Field: \"DonGiaSauChietKhau\", Title: \"n gi sau CK\", Width: 150, Template: this.donGiaSauChietKhauTemplate },\n\t\t\t{ Field: \"GhiChu\", Title: \"Ghi ch\", Width: 200, Template: this.ghiChuTemplate },\n\t\t\t{ Field: \"Action\", Title: \"\", Width: 30, Template: this.actionTemplate }\n\t\t]\n\n\t\tthis.gridNhomDichVuColumns = [\n\t\t\t{ Field: \"NhomDichVuDisplay\", Title: \"Nhm dch v\", MinWidth: 200 },\n\t\t\t{ Field: \"ChietKhau\", Title: \"Chit khu\", Width: 230, Template: this.chietKhauNhomDichVuTemplate },\n\t\t\t{ Field: \"GhiChu\", Title: \"Ghi ch\", Width: 200, Template: this.ghiChuNhomDichVuTemplate },\n\t\t\t{ Field: \"Action\", Title: \"\", Width: 30, Template: this.actionTemplate }\n\t\t]\n\t}\n\n\tgetTongSoBenhNhanSuDungDichVu() {\n        this.apiService.get<any>(`Voucher/GetTongSoBenhNhanSuDungDichVu?voucherId=${this.idVoucher}`).subscribe(res => {\n            this.tongSoBenhNhanSuDung = res;\n        }, (err: ApiError) => {\n            this.notificationService.showError(err.Message);\n        })\n    }\n\n\tgetById(id: number) {\n        this.baseService.getById<Voucher>(id).subscribe(res => {\n\t\t\tthis.voucher = res;\n\t\t\t// this.voucher.LoaiDichVuVoucherMarketing = LoaiDichVuVoucherMarketing.DichVu;\n\t\t\t// this.voucher.LoaiChietKhau = LoaiChietKhau.ChietKhauTheoSoTien;\n\n\t\t\tthis.voucher.lstVoucherChiTietMienGiam = [];\n\t\t\tthis.voucher.lstVoucherChiTietMienGiamNhomDichVu = [];\n\n\t\t\t// this.getUrlForGrid(res.LoaiDichVuVoucherMarketing);\n\t\t\tthis.getRadioDichVuItems(res.LoaiDichVuVoucherMarketing);\n\t\t\tthis.changeMaSo();\n        }, (err: ApiError) => {\n            this.notificationService.showError(err.Message);\n            this.router.navigate(['/marketing/ct-marketing/voucher']);\n        })\n\t}\n\n\t// getUrlForGrid(loaiDichVuVoucherMarketing) {\n\t// \tswitch(loaiDichVuVoucherMarketing)\n\t// \t{\n\t// \t\t// case this.loaiDichVuVoucherMarketing.DichVu:\n\t// \t\t// \tthis.urlGetListDichVuForGrid = `Voucher/GetListDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\t// \t\t// \tthis.urlGetPagesListDichVuForGrid = `Voucher/GetPagesListDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\t// \t\t// \tbreak;\n\t// \t\t// case this.loaiDichVuVoucherMarketing.NhomDichVu:\n\t// \t\t// \tthis.urlGetListNhomDichVuForGrid = `Voucher/GetListNhomDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\t// \t\t// \tthis.urlGetPagesListNhomDichVuForGrid = `Voucher/GetPagesListNhomDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\t// \t\t// \tbreak;\n\t// \t\tcase this.loaiDichVuVoucherMarketing.TatCaDichVu:\n\t// \t\t\tbreak;\n\t// \t\tdefault:\n\t// \t\t\tthis.urlGetListDichVuForGrid = `Voucher/GetListDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\t// \t\t\tthis.urlGetPagesListDichVuForGrid = `Voucher/GetPagesListDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\t// \t\t\tthis.urlGetListNhomDichVuForGrid = `Voucher/GetListNhomDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\t// \t\t\tthis.urlGetPagesListNhomDichVuForGrid = `Voucher/GetPagesListNhomDichVuForGridAsync?voucherId=${this.idVoucher}`;\n\t// \t\t\tbreak;\n\t// \t}\n\t// }\n\n\tcheckTogetRadioDichVuItems() {\n\t\tif(this.voucher.lstVoucherChiTietMienGiam && this.voucher.lstVoucherChiTietMienGiam.length > 0) {\n\t\t\tthis.getRadioDichVuItems(this.loaiDichVuVoucherMarketing.DichVu);\n\t\t} else if(this.voucher.lstVoucherChiTietMienGiamNhomDichVu && this.voucher.lstVoucherChiTietMienGiamNhomDichVu.length > 0) {\n\t\t\tthis.getRadioDichVuItems(this.loaiDichVuVoucherMarketing.NhomDichVu);\n\t\t} else {\n\t\t\tthis.getRadioDichVuItems(0);\n\t\t}\n\t}\n\t\n\tgetRadioDichVuItems(loaiDichVuVoucherMarketing) {\n\t\tswitch(loaiDichVuVoucherMarketing)\n\t\t{\n\t\t\tcase this.loaiDichVuVoucherMarketing.DichVu:\n\t\t\t\tthis.radioDichVuItems = [\n\t\t\t\t\t{ Value: this.loaiDichVuVoucherMarketing.DichVu, Text: 'Dch v', Disabled: false },\n\t\t\t\t\t{ Value: this.loaiDichVuVoucherMarketing.NhomDichVu, Text: 'Nhm dch v', Disabled: false },\n\t\t\t\t\t{ Value: this.loaiDichVuVoucherMarketing.TatCaDichVu, Text: 'Tt c dch v', Disabled: true }\n\t\t\t\t];\n\t\t\t\tbreak;\n\t\t\tcase this.loaiDichVuVoucherMarketing.NhomDichVu:\n\t\t\t\tthis.radioDichVuItems = [\n\t\t\t\t\t{ Value: this.loaiDichVuVoucherMarketing.DichVu, Text: 'Dch v', Disabled: false },\n\t\t\t\t\t{ Value: this.loaiDichVuVoucherMarketing.NhomDichVu, Text: 'Nhm dch v', Disabled: false },\n\t\t\t\t\t{ Value: this.loaiDichVuVoucherMarketing.TatCaDichVu, Text: 'Tt c dch v', Disabled: true }\n\t\t\t\t];\n\t\t\t\tbreak;\n\t\t\tcase this.loaiDichVuVoucherMarketing.TatCaDichVu:\n\t\t\t\tthis.radioDichVuItems = [\n\t\t\t\t\t{ Value: this.loaiDichVuVoucherMarketing.DichVu, Text: 'Dch v', Disabled: true },\n\t\t\t\t\t{ Value: this.loaiDichVuVoucherMarketing.NhomDichVu, Text: 'Nhm dch v', Disabled: true },\n\t\t\t\t\t{ Value: this.loaiDichVuVoucherMarketing.TatCaDichVu, Text: 'Tt c dch v', Disabled: false }\n\t\t\t\t];\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.radioDichVuItems = [\n\t\t\t\t\t{ Value: this.loaiDichVuVoucherMarketing.DichVu, Text: 'Dch v', Disabled: false },\n\t\t\t\t\t{ Value: this.loaiDichVuVoucherMarketing.NhomDichVu, Text: 'Nhm dch v', Disabled: false },\n\t\t\t\t\t{ Value: this.loaiDichVuVoucherMarketing.TatCaDichVu, Text: 'Tt c dch v', Disabled: false }\n\t\t\t\t];\n\t\t\t\tbreak;\n\t\t}\n\t}\n    \n    getSharedData() {\n        return this.voucher;\n\t}\n\n\tloaiDichVuVoucherMarketingChange(evt) {\n\t\tthis.validationErrors = [];\n\n\t\tthis.dichVuVoucher = {} as VoucherChiTietMienGiam;\n\t\tthis.dichVuVoucher.LoaiGiaId = null;\n\t\tthis.dichVuVoucher.LoaiChietKhau = this.loaiChietKhau.ChietKhauTheoSoTien;\n\t\tthis.dichVuVoucher.TiLeChietKhau = null;\n\t\tthis.dichVuVoucher.SoTienChietKhau = null;\n\t\t\n\t\tthis.voucher.LoaiChietKhau = this.loaiChietKhau.ChietKhauTheoSoTien;\n\t\tthis.voucher.TiLeChietKhau = null;\n\t\tthis.voucher.SoTienChietKhau = null;\n\n\t\tif(evt === this.loaiDichVuVoucherMarketing.TatCaDichVu) {\n\t\t\tthis.voucher.ChietKhauTatCaDichVu = true;\n\t\t} else {\n\t\t\tthis.voucher.ChietKhauTatCaDichVu = false;\n\t\t}\n\t}\n\t\n\tmaVoucherChange(evt) {\n\t\tthis.changeMaSo();\n\t}\n\n\tsoLuongPhatHanhChange(evt) {\n\t\tthis.changeMaSo();\n\t}\n\n\tchangeMaSo() {\n\t\tif(this.voucher.Ma && this.voucher.SoLuongPhatHanh) {\n\t\t\tlet maSoTu = '';\n\t\t\tmaSoTu += \"0\".repeat(this.voucher.SoLuongPhatHanh.toString().length - 1);\n\t\t\t\n\t\t\tthis.voucher.MaSoTu = `${this.voucher.Ma}-${\"0\".repeat(this.voucher.SoLuongPhatHanh.toString().length - 1)}1`\n\t\t\tthis.voucher.MaSoDen = `${this.voucher.Ma}-${this.voucher.SoLuongPhatHanh}`\n\t\t} else {\n\t\t\tthis.voucher.MaSoTu = '';\n\t\t\tthis.voucher.MaSoDen = '';\n\t\t}\n\t}\n\n\tremoveValidationsDichVu() {\n\t\tif(this.validationErrors && this.validationErrors.length > 0) {\n\t\t\tif(this.dichVuVoucher.DichVuId && this.dichVuVoucher.DichVuId !== 0) {\n\t\t\t\tthis.validationErrors.splice(this.validationErrors.indexOf(this.validationErrors.filter(p => p.Field.includes('DichVuId'))), 1);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.dichVuVoucher.LoaiGiaId && this.dichVuVoucher.LoaiGiaId !== 0) {\n\t\t\t\tthis.validationErrors.splice(this.validationErrors.indexOf(this.validationErrors.filter(p => p.Field.includes('LoaiGiaId'))), 1);\n\t\t\t}\n\t\n\t\t\tif(this.dichVuVoucher.DonGia && this.dichVuVoucher.DonGia !== 0) {\n\t\t\t\tthis.validationErrors.splice(this.validationErrors.indexOf(this.validationErrors.filter(p => p.Field.includes('DonGia'))), 1);\n\t\t\t}\n\t\t}\n\t}\n\n\ttenDichVuChange(evt) {\n\t\tif(evt) {\n\t\t\tthis.dichVuVoucher.LoaiDichVuBenhVien = evt.LoaiDichVu;\n\t\t\tthis.dichVuVoucher.LoaiDichVuBenhVienDisplay = evt.LoaiDichVu == this.loaiDichVuBenhVien.KhamBenh ? 'DCH V KHM BNH' : 'DCH V K THUT';\n\t\t\tthis.dichVuVoucher.DichVuDisplay = evt.DisplayName;\n\t\t\tthis.dichVuVoucher.MaDichVu = evt.Ma;\n\t\t\t\n\t\t\t// this.apiService.post<any>(`Voucher/GetListLoaiGiaChoDichVu?dichVuId=${evt.KeyId}&loaiDichVu=${evt.LoaiDichVu}`).subscribe(res => {\n\t\t\tthis.apiService.post<any>(`Voucher/GetListTatCaLoaiGiaChoDichVu?loaiDichVu=${evt.LoaiDichVu}`).subscribe(res => {\n\t\t\t\tthis.loaiGia = res;\n\t\t\t\tthis.dichVuVoucher.LoaiGiaId = res[0].KeyId;\n\t\t\t\tthis.dichVuVoucher.LoaiGiaDisplay = res[0].DisplayName;\n\n\t\t\t\tthis.getDonGia();\n\t\t\t}, (err: ApiError) => {\n\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t})\n\t\t} else {\n\t\t\tthis.loaiGia = [];\n\t\t\tthis.dichVuVoucher.LoaiGiaId = null;\n\t\t}\n\t}\n\n\tnhomDichVuChange(evt) {\n\t\tif(evt) {\n\t\t\tthis.dichVuVoucher.NhomDichVuDisplay = evt.DisplayName;\n\t\t\tthis.dichVuVoucher.NhomDichVuChaId = evt.ParentId;\n\t\t\tthis.dichVuVoucher.NhomDichVuConItems = evt.Items;\n\t\t}\n\t}\n\tloaiGiaChange(evt) {\n\t\t// if(evt && )\n\t\tif(evt) {\n\t\t\tthis.getDonGia();\n\t\t} else {\n\t\t\tthis.dichVuVoucher.DonGia = 0;\n\t\t\tthis.getDonGiaSauChietKhau();\n\t\t}\n\t}\n\n\tloaiGiaDichVuChange(evt, dataItem) {\n\t\tif(evt) {\n\t\t\tthis.getDonGiaDichVu(dataItem);\n\t\t} else {\n\t\t\tdataItem.DonGia = 0;\n\t\t\tthis.getDonGiaSauChietKhauChoDichVu(dataItem);\n\t\t}\n\t}\n\n\tgetDonGia() {\n\t\tif(this.dichVuVoucher.DichVuId && this.dichVuVoucher.LoaiGiaId && this.dichVuVoucher.LoaiDichVuBenhVien) {\n\t\t\tthis.apiService.post<any>(`Voucher/GetDonGiaChoDichVu?dichVuId=${this.dichVuVoucher.DichVuId}&loaiGiaId=${this.dichVuVoucher.LoaiGiaId}&loaiDichVu=${this.dichVuVoucher.LoaiDichVuBenhVien}`).subscribe(res => {\n\t\t\t\tthis.dichVuVoucher.DonGia = res;\n\n\t\t\t\tthis.getDonGiaSauChietKhau();\n\t\t\t}, (err: ApiError) => {\n\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t})\n\t\t}\n\t}\n\n\tgetDonGiaDichVu(dataItem) {\n\t\tif(dataItem.DichVuId && dataItem.LoaiGiaId && dataItem.LoaiDichVuBenhVien) {\n\t\t\tthis.apiService.post<any>(`Voucher/GetDonGiaChoDichVu?dichVuId=${dataItem.DichVuId}&loaiGiaId=${dataItem.LoaiGiaId}&loaiDichVu=${dataItem.LoaiDichVuBenhVien}`).subscribe(res => {\n\t\t\t\tdataItem.DonGia = res;\n\n\t\t\t\tthis.getDonGiaSauChietKhauChoDichVu(dataItem);\n\t\t\t}, (err: ApiError) => {\n\t\t\t\tthis.notificationService.showError(err.Message);\n\t\t\t})\n\t\t}\n\t}\n\n\tloaiChietKhauChange(evt) {\n\t\tif(evt) {\n\t\t\tthis.dichVuVoucher.TiLeChietKhau = null;\n\t\t\tthis.dichVuVoucher.SoTienChietKhau = null\n\t\t\t// this.dichVuVoucher.TiLeChietKhau = 0;\n\t\t\t// this.dichVuVoucher.DonGiaSauChietKhau = this.dichVuVoucher.DonGia;\n\t\t\tthis.getDonGiaSauChietKhau();\n\t\t}\n\t}\n\n\tloaiChietKhauChiTietDichVuChange(evt, dataItem) {\n\t\tif(evt) {\n\t\t\tdataItem.TiLeChietKhau = null;\n\t\t\tdataItem.SoTienChietKhau = null\n\t\t\t// this.dichVuVoucher.TiLeChietKhau = 0;\n\t\t\t// this.dichVuVoucher.DonGiaSauChietKhau = this.dichVuVoucher.DonGia;\n\t\t\tthis.getDonGiaSauChietKhauChoDichVu(dataItem);\n\t\t}\n\t}\n\n\tloaiChietKhauChiTietNhomDichVuChange(evt, dataItem) {\n\t\tif(evt) {\n\t\t\tdataItem.TiLeChietKhau = null;\n\t\t\tdataItem.SoTienChietKhau = null\n\t\t}\n\t}\n\n\tchietKhauChange(evt) {\n\t\tif(evt) {\n\t\t\tif(this.dichVuVoucher.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoSoTien) {\n\t\t\t\tthis.dichVuVoucher.SoTienChietKhau = evt > this.dichVuVoucher.DonGia ? this.dichVuVoucher.DonGia : evt;\n\t\t\t}\n\n\t\t\t// this.getDonGiaSauChietKhau();\n\t\t}\n\n\t\tthis.getDonGiaSauChietKhau();\n\t}\n\n\tchietKhauDichVuChange(evt, dataItem) {\n\t\tif(evt) {\n\t\t\tif(dataItem.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoSoTien) {\n\t\t\t\tdataItem.SoTienChietKhau = evt > dataItem.DonGia ? dataItem.DonGia : evt;\n\n\t\t\t\tif (this.validationErrors && this.validationErrors.some(p => p.Field.includes('dataItem[' + this.voucher.lstVoucherChiTietMienGiam.indexOf(dataItem) + '].SoTienChietKhau'))) {\n\t\t\t\t\tthis.validationErrors.splice(this.validationErrors.indexOf(this.validationErrors.filter(p => p.Field.includes('dataItem[' + this.voucher.lstVoucherChiTietMienGiam.indexOf(dataItem) + '].SoTienChietKhau'))), 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.validationErrors && this.validationErrors.some(p => p.Field.includes('dataItem[' + this.voucher.lstVoucherChiTietMienGiam.indexOf(dataItem) + '].TiLeChietKhau'))) {\n\t\t\t\t\tthis.validationErrors.splice(this.validationErrors.indexOf(this.validationErrors.filter(p => p.Field.includes('dataItem[' + this.voucher.lstVoucherChiTietMienGiam.indexOf(dataItem) + '].TiLeChietKhau'))), 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// this.getDonGiaSauChietKhauChoDichVu(dataItem);\n\t\t}\n\n\t\tthis.getDonGiaSauChietKhauChoDichVu(dataItem);\n\t}\n\n\tgetDonGiaSauChietKhau() {\n\t\tif(this.dichVuVoucher.DonGia && this.dichVuVoucher.DonGia != 0) {\n\t\t\tswitch(this.dichVuVoucher.LoaiChietKhau)\n\t\t\t{\n\t\t\t\tcase this.loaiChietKhau.ChietKhauTheoSoTien:\n\t\t\t\t\tthis.dichVuVoucher.SoTienChietKhau = this.dichVuVoucher.SoTienChietKhau > this.dichVuVoucher.DonGia ? this.dichVuVoucher.DonGia : this.dichVuVoucher.SoTienChietKhau;\n\t\t\t\t\tthis.dichVuVoucher.DonGiaSauChietKhau = this.dichVuVoucher.DonGia - this.dichVuVoucher.SoTienChietKhau;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.loaiChietKhau.ChietKhauTheoTiLe:\n\t\t\t\t\tthis.dichVuVoucher.DonGiaSauChietKhau = (this.dichVuVoucher.DonGia * (100 - this.dichVuVoucher.TiLeChietKhau)) / 100;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.dichVuVoucher.DonGiaSauChietKhau = 0;\n\t\t}\n\n\t\tthis.removeValidationsDichVu();\n\t}\n\n\tgetDonGiaSauChietKhauChoDichVu(dataItem) {\n\t\tif(dataItem.DonGia && dataItem.DonGia != 0) {\n\t\t\tswitch(dataItem.LoaiChietKhau)\n\t\t\t{\n\t\t\t\tcase this.loaiChietKhau.ChietKhauTheoSoTien:\n\t\t\t\t\tdataItem.DonGiaSauChietKhau = dataItem.DonGia - dataItem.SoTienChietKhau;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.loaiChietKhau.ChietKhauTheoTiLe:\n\t\t\t\t\tdataItem.DonGiaSauChietKhau = (dataItem.DonGia * (100 - dataItem.TiLeChietKhau)) / 100;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tdataItem.DonGiaSauChietKhau = 0;\n\t\t}\n\t}\n\n\tvalidationFormClient() {\n\t\tthis.validationErrors = [];\n\t\t\n\t\tconst array = [];\n\t\t\n        if (this.dichVuVoucher) {\n            if (this.dichVuVoucher.DichVuId === 0 || !this.dichVuVoucher.DichVuId) {\n                array.push({ Field: 'DichVuId', Message: VoucherMarketingMessage.MessageDichVuRequired });\n            }\n\n            if (this.dichVuVoucher.LoaiGiaId === 0 || !this.dichVuVoucher.LoaiGiaId) {\n                array.push({ Field: 'LoaiGiaId', Message: VoucherMarketingMessage.MessageLoaiGiaRequired });\n\t\t\t}\n\n\t\t\tif (!this.dichVuVoucher.DonGia || this.dichVuVoucher.DonGia === 0) {\n\t\t\t\tarray.push({ Field: 'DonGia', Message: VoucherMarketingMessage.MessageDonGiaNotNull });\n\t\t\t}\n\t\t\t\n\t\t\tif(this.dichVuVoucher.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoSoTien) {\n\t\t\t\tif(!this.dichVuVoucher.SoTienChietKhau || this.dichVuVoucher.SoTienChietKhau === 0) {\n\t\t\t\t\tarray.push({ Field: 'SoTienChietKhau', Message: VoucherMarketingMessage.MessageSoTienChietKhauRequired });\n\t\t\t\t} else if (this.dichVuVoucher.SoTienChietKhau > this.dichVuVoucher.DonGia) {\n\t\t\t\t\tarray.push({ Field: 'SoTienChietKhau', Message: VoucherMarketingMessage.MessageSoTienChietKhauGreaterThanDonGiaRequired });\n\t\t\t\t} else if (this.dichVuVoucher.SoTienChietKhau < 1000) {\n\t\t\t\t\tarray.push({ Field: 'SoTienChietKhau', Message: VoucherMarketingMessage.MessageSoTienChietKhauItNhat1000 });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.dichVuVoucher.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoTiLe) {\n\t\t\t\tif(!this.dichVuVoucher.TiLeChietKhau || this.dichVuVoucher.TiLeChietKhau === 0) {\n\t\t\t\t\tarray.push({ Field: 'TiLeChietKhau', Message: VoucherMarketingMessage.MessageTiLeChietKhauRequired });\n\t\t\t\t}\n\t\t\t}\n        }\n\n        if (this.checkExist(this.dichVuVoucher.DichVuId)) {\n            array.push({ Field: 'DichVuId', Message: VoucherMarketingMessage.MessageDichVuIsExistedInList });\n        }\n\n        if (array.length > 0) { this.validationErrors = [...array]; }\n\t}\n\n\tvalidationFormNhomDichVuClient() {\n\t\tthis.validationErrors = [];\n\t\t\n\t\tconst array = [];\n        if (this.dichVuVoucher) {\n            if (this.dichVuVoucher.NhomDichVuId === 0 || !this.dichVuVoucher.NhomDichVuId) {\n                array.push({ Field: 'NhomDichVuId', Message: VoucherMarketingMessage.MessageNhomDichVuRequired });\n\t\t\t}\n\t\t\t\n\t\t\tif(this.dichVuVoucher.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoSoTien) {\n\t\t\t\tif(!this.dichVuVoucher.SoTienChietKhau || this.dichVuVoucher.SoTienChietKhau === 0) {\n\t\t\t\t\tarray.push({ Field: 'SoTienChietKhauNhomDichVu', Message: VoucherMarketingMessage.MessageSoTienChietKhauRequired });\n\t\t\t\t} else if(this.dichVuVoucher.SoTienChietKhau < 1000) {\n\t\t\t\t\tarray.push({ Field: 'SoTienChietKhauNhomDichVu', Message: VoucherMarketingMessage.MessageSoTienChietKhauItNhat1000 });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.dichVuVoucher.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoTiLe) {\n\t\t\t\tif(!this.dichVuVoucher.TiLeChietKhau || this.dichVuVoucher.TiLeChietKhau === 0) {\n\t\t\t\t\tarray.push({ Field: 'TiLeChietKhauNhomDichVu', Message: VoucherMarketingMessage.MessageTiLeChietKhauRequired });\n\t\t\t\t}\n\t\t\t}\n        }\n\n        if (this.checkExistNhomDichVu(this.dichVuVoucher.NhomDichVuId)) {\n            array.push({ Field: 'NhomDichVuId', Message: VoucherMarketingMessage.MessageNhomDichVuIsExistedInList });\n\t\t} else if(this.checkExistNhomDichVuCha(this.dichVuVoucher.NhomDichVuChaId)) {\n\t\t\tarray.push({ Field: 'NhomDichVuId', Message: VoucherMarketingMessage.MessageNhomDichVuChaIsExistedInList });\n\t\t} else if(this.checkExistNhomDichVuCon(this.dichVuVoucher.NhomDichVuConItems)) {\n\t\t\tarray.push({ Field: 'NhomDichVuId', Message: VoucherMarketingMessage.MessageNhomDichVuConIsExistedInList });\n\t\t}\n\n\t\tif (array.length > 0) { this.validationErrors = [...array]; }\n\t}\n\t\n\tcheckExist(dichVuId: number) {\n        return this.voucher.lstVoucherChiTietMienGiam && this.voucher.lstVoucherChiTietMienGiam.some(p => p.DichVuId === dichVuId);\n\t}\n\t\n\tcheckExistNhomDichVu(nhomDichVuId: number) {\n\t\treturn this.voucher.lstVoucherChiTietMienGiamNhomDichVu && this.voucher.lstVoucherChiTietMienGiamNhomDichVu.some(p => p.NhomDichVuId === nhomDichVuId)\n\t}\n\n\tcheckExistNhomDichVuCha(nhomDichVuChaId: number) {\n\t\treturn this.voucher.lstVoucherChiTietMienGiamNhomDichVu && this.voucher.lstVoucherChiTietMienGiamNhomDichVu.some(p => p.NhomDichVuId === nhomDichVuChaId)\n\t}\n\t\n\tcheckExistNhomDichVuCon(nhomDichVuConItems: any[]) {\n\t\tif(nhomDichVuConItems && nhomDichVuConItems.length > 0) {\n\t\t\tlet existed: boolean = false;\n\t\t\t\n\t\t\tnhomDichVuConItems.forEach(item => {\n\t\t\t\tif(this.voucher.lstVoucherChiTietMienGiamNhomDichVu && this.voucher.lstVoucherChiTietMienGiamNhomDichVu.some(p => p.NhomDichVuId === item.KeyId)) {\n\t\t\t\t\texisted = true;\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif(existed) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tthemDichVuChoVoucher() {\n\t\tthis.validationErrors = null;\n\t\tthis.voucher.IsThemHoacLuuDichVu = false;\n\t\t// this.dichVuVoucher.LoaiDichVu = this.loaiDichVuBenhVien;\n\t\tthis.dichVuVoucher.DichVuId = this.dichVuVoucher.DichVuId ? this.dichVuVoucher.DichVuId : null;\n\t\tthis.dichVuVoucher.LoaiGiaId = this.dichVuVoucher.LoaiGiaId ? this.dichVuVoucher.LoaiGiaId : null;\n\n\t\tthis.validationFormClient();\n\n\t\tif (this.validationErrors && !this.validationErrors.some(x => x)) {\n\t\t\tif(this.idVoucher && this.idVoucher !== 0) {\n\t\t\t\tthis.apiService.post<any>(`Voucher/KiemTraDichVuDaTonTaiTrongNhomDichVu?voucherId=${this.idVoucher}&dichVuId=${this.dichVuVoucher.DichVuId}&loaiDichVuBenhVien=${this.dichVuVoucher.LoaiDichVuBenhVien}`).subscribe(res => {\n\t\t\t\t\tif(res) {\n\t\t\t\t\t\tthis.dichVuVoucher.NhomDichVuId = null;\n\t\n\t\t\t\t\t\tlet dichVuVoucher = {} as VoucherChiTietMienGiam;\n\t\t\t\t\t\tdichVuVoucher = { ...this.dichVuVoucher };\n\t\t\t\t\n\t\t\t\t\t\tthis.voucher.lstVoucherChiTietMienGiam.push(dichVuVoucher);\n\t\t\t\t\t\tthis.setDataGridView();\n\t\t\t\t\t\tthis.gridDanhSachDichVu.gridDataSource = { ...this.gridDataSource };\n\t\t\t\t\t\tthis.gridDanhSachDichVu.setDataSource();\n\t\t\t\n\t\t\t\t\t\tthis.huy();\n\t\t\t\t\t\tthis.checkTogetRadioDichVuItems();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst validate = {\n\t\t\t\t\t\t\tField: 'DichVuId',\n\t\t\t\t\t\t\tMessage: VoucherMarketingMessage.MessageDichVuIsExisted\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.validationErrors.push(validate);\n\t\t\t\t\t}\n\t\t\t\t}, (err: ApiError) => {\n\t\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n\t\t\t\t})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.apiService.post<any>(`Voucher/KiemTraDichVuDaTonTaiTrongNhomDichVuTheoDanhSach?dichVuId=${this.dichVuVoucher.DichVuId}&loaiDichVuBenhVien=${this.dichVuVoucher.LoaiDichVuBenhVien}`, this.voucher).subscribe(res => {\n\t\t\t\t\tif(res) {\n\t\t\t\t\t\tthis.dichVuVoucher.NhomDichVuId = null;\n\t\n\t\t\t\t\t\tlet dichVuVoucher = {} as VoucherChiTietMienGiam;\n\t\t\t\t\t\tdichVuVoucher = { ...this.dichVuVoucher };\n\t\t\t\t\n\t\t\t\t\t\tthis.voucher.lstVoucherChiTietMienGiam.push(dichVuVoucher);\n\t\t\t\t\t\tthis.setDataGridView();\n\t\t\t\t\t\tthis.gridDanhSachDichVu.gridDataSource = { ...this.gridDataSource };\n\t\t\t\t\t\tthis.gridDanhSachDichVu.setDataSource();\n\t\t\t\n\t\t\t\t\t\tthis.huy();\n\t\t\t\t\t\tthis.checkTogetRadioDichVuItems();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst validate = {\n\t\t\t\t\t\t\tField: 'DichVuId',\n\t\t\t\t\t\t\tMessage: VoucherMarketingMessage.MessageDichVuIsExisted\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.validationErrors.push(validate);\n\t\t\t\t\t}\n\t\t\t\t}, (err: ApiError) => {\n\t\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tthemNhomDichVuChoVoucher() {\n\t\tthis.validationErrors = null;\n\t\tthis.voucher.IsThemHoacLuuDichVu = false;\n\t\tthis.dichVuVoucher.NhomDichVuId = this.dichVuVoucher.NhomDichVuId ? this.dichVuVoucher.NhomDichVuId : null;\n\n\t\tthis.validationFormNhomDichVuClient();\n\n\t\tif (this.validationErrors && !this.validationErrors.some(x => x)) {\n\t\t\tif(this.idVoucher && this.idVoucher !== 0) {\n\t\t\t\tthis.apiService.post<any>(`Voucher/KiemTraNhomDichVuDaBaoGomDichVu?voucherId=${this.idVoucher}&nhomDichVuId=${this.dichVuVoucher.NhomDichVuId}`).subscribe(res => {\n\t\t\t\t\tif(res) {\n\t\t\t\t\t\tthis.dichVuVoucher.DichVuId = null;\n\t\t\t\t\t\tthis.dichVuVoucher.LoaiGiaId = null;\n\t\n\t\t\t\t\t\tlet dichVuVoucher = {} as VoucherChiTietMienGiam;\n\t\t\t\t\t\tdichVuVoucher = { ...this.dichVuVoucher };\n\t\t\t\t\n\t\t\t\t\t\tthis.voucher.lstVoucherChiTietMienGiamNhomDichVu.push(dichVuVoucher);\n\t\t\t\t\t\tthis.setDataGridViewNhomDichVu();\n\t\t\t\t\t\tthis.gridDanhSachNhomDichVu.gridDataSource = { ...this.gridNhomDichVuDataSource };\n\t\t\t\t\t\tthis.gridDanhSachNhomDichVu.setDataSource();\n\t\n\t\t\t\t\t\tthis.huy();\n\t\t\t\t\t\tthis.checkTogetRadioDichVuItems();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst validate = {\n\t\t\t\t\t\t\tField: 'NhomDichVuId',\n\t\t\t\t\t\t\tMessage: VoucherMarketingMessage.MessageNhomDichVuIsExisted\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.validationErrors.push(validate);\n\t\t\t\t\t}\n\t\t\t\t}, (err: ApiError) => {\n\t\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.apiService.post<any>(`Voucher/KiemTraNhomDichVuDaBaoGomDichVuTheoDanhSach?&nhomDichVuId=${this.dichVuVoucher.NhomDichVuId}`, this.voucher).subscribe(res => {\n\t\t\t\t\tif(res) {\n\t\t\t\t\t\tthis.dichVuVoucher.DichVuId = null;\n\t\t\t\t\t\tthis.dichVuVoucher.LoaiGiaId = null;\n\t\n\t\t\t\t\t\tlet dichVuVoucher = {} as VoucherChiTietMienGiam;\n\t\t\t\t\t\tdichVuVoucher = { ...this.dichVuVoucher };\n\t\t\t\t\n\t\t\t\t\t\tthis.voucher.lstVoucherChiTietMienGiamNhomDichVu.push(dichVuVoucher);\n\t\t\t\t\t\tthis.setDataGridViewNhomDichVu();\n\t\t\t\t\t\tthis.gridDanhSachNhomDichVu.gridDataSource = { ...this.gridNhomDichVuDataSource };\n\t\t\t\t\t\tthis.gridDanhSachNhomDichVu.setDataSource();\n\t\n\t\t\t\t\t\tthis.huy();\n\t\t\t\t\t\tthis.checkTogetRadioDichVuItems();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst validate = {\n\t\t\t\t\t\t\tField: 'NhomDichVuId',\n\t\t\t\t\t\t\tMessage: VoucherMarketingMessage.MessageNhomDichVuIsExisted\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.validationErrors.push(validate);\n\t\t\t\t\t}\n\t\t\t\t}, (err: ApiError) => {\n\t\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\t// themTatCaDichVuChoVoucher() {\n\t// \tthis.validationErrors = null;\n\n\t// \tthis.onValidateTatCaDichVuChoVoucher();\n\t// \tthis.voucher.IsThemHoacLuuDichVu = false;\n\n\t// \tif (this.validationErrors && !this.validationErrors.some(x => x)) {\n\t// \t\tthis.voucher.ChietKhauTatCaDichVu = true;\n\t// \t\tthis.checkTogetRadioDichVuItems();\n\t// \t}\n\t// }\n\n\txoaDichVuChoVoucher(dataItem) {\n\t\tthis.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xc nhn\", Message: `Bn c mun xo dch v ${dataItem.DichVuDisplay} khng?` }\n        }).afterClosed().subscribe(result => {\n            if (result === \"Yes\") {\n                this.voucher.lstVoucherChiTietMienGiam.splice(this.voucher.lstVoucherChiTietMienGiam.indexOf(dataItem), 1);\n\t\t\t\tthis.setDataGridView();\n\t\t\t\tthis.gridDanhSachDichVu.gridDataSource = { ...this.gridDataSource };\n\t\t\t\tthis.gridDanhSachDichVu.setDataSource();\n\t\t\t\tthis.checkTogetRadioDichVuItems();\n\t\t\t\t// this.ResetValidateForGrid();\n            }\n        });\n\t}\n\n\txoaNhomDichVuChoVoucher(dataItem) {\n\t\tthis.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: '400px',\n            data: { Title: \"Xc nhn\", Message: `Bn c mun xo nhm dch v ${dataItem.NhomDichVuDisplay} khng?` }\n        }).afterClosed().subscribe(result => {\n            if (result === \"Yes\") {\n                this.voucher.lstVoucherChiTietMienGiamNhomDichVu.splice(this.voucher.lstVoucherChiTietMienGiamNhomDichVu.indexOf(dataItem), 1);\n\t\t\t\tthis.setDataGridViewNhomDichVu();\n\t\t\t\tthis.gridDanhSachNhomDichVu.gridDataSource = { ...this.gridNhomDichVuDataSource };\n\t\t\t\tthis.gridDanhSachNhomDichVu.setDataSource();\n\t\t\t\tthis.checkTogetRadioDichVuItems();\n\t\t\t\t// this.ResetValidateForGrid();\n            }\n        });\n\t}\n\n\txoaTatCaDichVuChoVoucher() {\n\t\tthis.voucher.ChietKhauTatCaDichVu = false;\n\t\tthis.checkTogetRadioDichVuItems();\n\t}\n\n\tonValidateGridDichVuChoVoucher() {\n\t\t// this.validationErrors = [];\n\n\t\tif (this.voucher.lstVoucherChiTietMienGiam && this.voucher.lstVoucherChiTietMienGiam.some(p => !p.LoaiGiaId)) {\n\t\t\tfor (const chiTietVoucher of this.voucher.lstVoucherChiTietMienGiam.filter(p => !p.LoaiGiaId)) {\n\t\t\t\tconst validate = {\n\t\t\t\t\tField: 'dataItem[' + this.voucher.lstVoucherChiTietMienGiam.indexOf(chiTietVoucher) + '].LoaiGia',\n\t\t\t\t\tMessage: VoucherMarketingMessage.MessageLoaiGiaNotNull\n\t\t\t\t};\n\t\t\t\tthis.validationErrors.push(validate);\n\t\t\t}\n\t\t}\n\n\t\tif (this.voucher.lstVoucherChiTietMienGiam && this.voucher.lstVoucherChiTietMienGiam.some(p => p.LoaiGiaId && (!p.DonGia || p.DonGia === 0))) {\n\t\t\tfor (const chiTietVoucher of this.voucher.lstVoucherChiTietMienGiam.filter(p => p.LoaiGiaId && (!p.DonGia || p.DonGia === 0))) {\n\t\t\t\tconst validate = {\n\t\t\t\t\tField: 'dataItem[' + this.voucher.lstVoucherChiTietMienGiam.indexOf(chiTietVoucher) + '].LoaiGia',\n\t\t\t\t\tMessage: VoucherMarketingMessage.MessageDonGiaGridNotNull\n\t\t\t\t};\n\t\t\t\tthis.validationErrors.push(validate);\n\t\t\t}\n\t\t}\n\n\t\tif (this.voucher.lstVoucherChiTietMienGiam && this.voucher.lstVoucherChiTietMienGiam.some(p => p.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoSoTien && !p.SoTienChietKhau)) {\n\t\t\tfor (const chiTietVoucher of this.voucher.lstVoucherChiTietMienGiam.filter(p => p.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoSoTien && !p.SoTienChietKhau)) {\n\t\t\t\tconst validate = {\n\t\t\t\t\tField: 'dataItem[' + this.voucher.lstVoucherChiTietMienGiam.indexOf(chiTietVoucher) + '].SoTienChietKhau',\n\t\t\t\t\tMessage: VoucherMarketingMessage.MessageSoTienChietKhauNotNull\n\t\t\t\t};\n\t\t\t\tthis.validationErrors.push(validate);\n\t\t\t}\n\t\t}\n\n\t\tif (this.voucher.lstVoucherChiTietMienGiam && this.voucher.lstVoucherChiTietMienGiam.some(p => p.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoSoTien && p.SoTienChietKhau && p.SoTienChietKhau < 1000)) {\n\t\t\tfor (const chiTietVoucher of this.voucher.lstVoucherChiTietMienGiam.filter(p => p.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoSoTien && p.SoTienChietKhau && p.SoTienChietKhau < 1000)) {\n\t\t\t\tconst validate = {\n\t\t\t\t\tField: 'dataItem[' + this.voucher.lstVoucherChiTietMienGiam.indexOf(chiTietVoucher) + '].SoTienChietKhau',\n\t\t\t\t\tMessage: VoucherMarketingMessage.MessageSoTienChietKhauItNhat1000\n\t\t\t\t};\n\t\t\t\tthis.validationErrors.push(validate);\n\t\t\t}\n\t\t}\n\n\t\tif (this.voucher.lstVoucherChiTietMienGiam && this.voucher.lstVoucherChiTietMienGiam.some(p => p.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoTiLe && (!p.TiLeChietKhau || p.TiLeChietKhau === 0))) {\n\t\t\tfor (const chiTietVoucher of this.voucher.lstVoucherChiTietMienGiam.filter(p => p.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoTiLe && !p.TiLeChietKhau)) {\n\t\t\t\tconst validate = {\n\t\t\t\t\tField: 'dataItem[' + this.voucher.lstVoucherChiTietMienGiam.indexOf(chiTietVoucher) + '].TiLeChietKhau',\n\t\t\t\t\tMessage: VoucherMarketingMessage.MessageTiLeChietKhauNotNull\n\t\t\t\t};\n\t\t\t\tthis.validationErrors.push(validate);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tonValidateGridNhomDichVuChoVoucher() {\n\t\t// this.validationErrors = [];\n\n\t\tif (this.voucher.lstVoucherChiTietMienGiamNhomDichVu && this.voucher.lstVoucherChiTietMienGiamNhomDichVu.some(p => p.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoSoTien && !p.SoTienChietKhau)) {\n\t\t\tfor (const chiTietVoucher of this.voucher.lstVoucherChiTietMienGiamNhomDichVu.filter(p => p.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoSoTien && !p.SoTienChietKhau)) {\n\t\t\t\tconst validate = {\n\t\t\t\t\tField: 'dataItem[' + this.voucher.lstVoucherChiTietMienGiamNhomDichVu.indexOf(chiTietVoucher) + '].SoTienChietKhauNhomDichVu',\n\t\t\t\t\tMessage: VoucherMarketingMessage.MessageSoTienChietKhauNotNull\n\t\t\t\t};\n\t\t\t\tthis.validationErrors.push(validate);\n\t\t\t}\n\t\t}\n\n\t\tif (this.voucher.lstVoucherChiTietMienGiamNhomDichVu && this.voucher.lstVoucherChiTietMienGiamNhomDichVu.some(p => p.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoSoTien && p.SoTienChietKhau && p.SoTienChietKhau < 1000)) {\n\t\t\tfor (const chiTietVoucher of this.voucher.lstVoucherChiTietMienGiamNhomDichVu.filter(p => p.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoSoTien && p.SoTienChietKhau && p.SoTienChietKhau < 1000)) {\n\t\t\t\tconst validate = {\n\t\t\t\t\tField: 'dataItem[' + this.voucher.lstVoucherChiTietMienGiamNhomDichVu.indexOf(chiTietVoucher) + '].SoTienChietKhauNhomDichVu',\n\t\t\t\t\tMessage: VoucherMarketingMessage.MessageSoTienChietKhauItNhat1000\n\t\t\t\t};\n\t\t\t\tthis.validationErrors.push(validate);\n\t\t\t}\n\t\t}\n\n\t\tif (this.voucher.lstVoucherChiTietMienGiamNhomDichVu && this.voucher.lstVoucherChiTietMienGiamNhomDichVu.some(p => p.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoTiLe && !p.TiLeChietKhau)) {\n\t\t\tfor (const chiTietVoucher of this.voucher.lstVoucherChiTietMienGiamNhomDichVu.filter(p => p.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoTiLe && (!p.TiLeChietKhau || p.TiLeChietKhau === 0))) {\n\t\t\t\tconst validate = {\n\t\t\t\t\tField: 'dataItem[' + this.voucher.lstVoucherChiTietMienGiamNhomDichVu.indexOf(chiTietVoucher) + '].TiLeChietKhauNhomDichVu',\n\t\t\t\t\tMessage: VoucherMarketingMessage.MessageTiLeChietKhauNotNull\n\t\t\t\t};\n\t\t\t\tthis.validationErrors.push(validate);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tonValidateTatCaDichVuChoVoucher() {\n\t\tthis.validationErrors = [];\n\n\t\tif (this.voucher && this.voucher.ChietKhauTatCaDichVu) {\t\t\t\n\t\t\tif(this.voucher.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoSoTien) {\n\t\t\t\tif(!this.voucher.SoTienChietKhau || this.voucher.SoTienChietKhau === 0) {\n\t\t\t\t\tthis.validationErrors.push({ Field: 'SoTienChietKhauTatCaDichVu', Message: VoucherMarketingMessage.MessageSoTienChietKhauRequired });\n\t\t\t\t} else if (this.voucher.SoTienChietKhau && this.voucher.SoTienChietKhau < 1000) {\n\t\t\t\t\tthis.validationErrors.push({ Field: 'SoTienChietKhauTatCaDichVu', Message: VoucherMarketingMessage.MessageSoTienChietKhauItNhat1000 });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.voucher.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoTiLe) {\n\t\t\t\tif(!this.voucher.TiLeChietKhau || this.voucher.TiLeChietKhau === 0) {\n\t\t\t\t\tthis.validationErrors.push({ Field: 'TiLeChietKhauTatCaDichVu', Message: VoucherMarketingMessage.MessageTiLeChietKhauRequired });\n\t\t\t\t} else if (this.voucher.TiLeChietKhau && this.voucher.TiLeChietKhau < 1) {\n\t\t\t\t\tthis.validationErrors.push({ Field: 'TiLeChietKhauTatCaDichVu', Message: VoucherMarketingMessage.MessageTiLeChietKhauItNhat1 });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n    }\n\n\tsetDataGridView() {\n        this.gridDataSource = {\n            data: [...this.voucher.lstVoucherChiTietMienGiam],\n            total: this.voucher.lstVoucherChiTietMienGiam.length\n        };\n\t}\n\t\n\tsetDataGridViewNhomDichVu() {\n\t\tthis.gridNhomDichVuDataSource = {\n            data: [...this.voucher.lstVoucherChiTietMienGiamNhomDichVu],\n            total: this.voucher.lstVoucherChiTietMienGiamNhomDichVu.length\n        };\n\t}\n\n\thuy() {\n\t\tthis.dichVuVoucher = {} as VoucherChiTietMienGiam;\n\t\tthis.dichVuVoucher.LoaiGiaId = null;\n\t\tthis.dichVuVoucher.LoaiChietKhau = this.loaiChietKhau.ChietKhauTheoSoTien;\n\t\tthis.dichVuVoucher.TiLeChietKhau = null;\n\t\tthis.dichVuVoucher.SoTienChietKhau = null;\n\t\t\n\t\tthis.validationErrors = [];\n\t}\n\n\tluu() {\n\t\tthis.voucher.IsThemHoacLuuDichVu = true;\n\n\t\tswitch(this.voucher.LoaiDichVuVoucherMarketing)\n\t\t{\n\t\t\tcase this.loaiDichVuVoucherMarketing.DichVu:\n\t\t\t\tthis.luuDichVu();\n\t\t\t\tbreak;\n\t\t\tcase this.loaiDichVuVoucherMarketing.NhomDichVu:\n\t\t\t\tthis.luuNhomDichVu();\n\t\t\t\tbreak;\n\t\t\tcase this.loaiDichVuVoucherMarketing.TatCaDichVu:\n\t\t\t\tthis.luuTatCaDichVu();\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t}\n\n\tluuDichVu() {\n\t\tthis.validationErrors = [];\n\n\t\tif((!this.voucher.lstVoucherChiTietMienGiam || this.voucher.lstVoucherChiTietMienGiam.length === 0) && (!this.voucher.lstVoucherChiTietMienGiamNhomDichVu || this.voucher.lstVoucherChiTietMienGiamNhomDichVu.length === 0)) {\n\t\t\tthis.notificationService.showError(VoucherMarketingMessage.MessageDichVuNotNull)\n\t\t\treturn;\n\t\t}\n\n\t\tif(this.voucher.lstVoucherChiTietMienGiam && this.voucher.lstVoucherChiTietMienGiam.length > 0) {\n\t\t\tthis.onValidateGridDichVuChoVoucher();\n\t\t}\n\n\t\tif(this.voucher.lstVoucherChiTietMienGiamNhomDichVu && this.voucher.lstVoucherChiTietMienGiamNhomDichVu.length > 0) {\n\t\t\tthis.onValidateGridNhomDichVuChoVoucher();\n\t\t}\n\n\t\tif(this.validationErrors != null && this.validationErrors.length === 0) {\n\t\t\tthis.voucher.LoaiChietKhau = null;\n\t\t\tthis.voucher.TiLeChietKhau = null;\n\t\t\tthis.voucher.SoTienChietKhau = null;\n\n\t\t\tthis.voucher.lstVoucherChiTietMienGiam.forEach(item => {\n\t\t\t\titem.NhomDichVuId = null;\n\t\t\t})\n\n\t\t\tthis.apiService.put<any>(`Voucher`, this.voucher).subscribe(res => {\n\t\t\t\tthis.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Chnh sa\"]));\n\t\t\t\tthis.router.navigate(['/marketing/ct-marketing/voucher']);\n\t\t\t}, (err: ApiError) => {\n\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n\t\t\t})\n\t\t}\n\t}\n\n\tluuNhomDichVu() {\n\t\tthis.validationErrors = [];\n\n\t\tif((!this.voucher.lstVoucherChiTietMienGiam || this.voucher.lstVoucherChiTietMienGiam.length === 0) && (!this.voucher.lstVoucherChiTietMienGiamNhomDichVu || this.voucher.lstVoucherChiTietMienGiamNhomDichVu.length === 0)) {\n\t\t\tthis.notificationService.showError(VoucherMarketingMessage.MessageNhomDichVuNotNull)\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(this.voucher.lstVoucherChiTietMienGiamNhomDichVu && this.voucher.lstVoucherChiTietMienGiamNhomDichVu.length > 0) {\n\t\t\tthis.onValidateGridNhomDichVuChoVoucher();\n\t\t}\n\n\t\tif(this.voucher.lstVoucherChiTietMienGiam && this.voucher.lstVoucherChiTietMienGiam.length > 0) {\n\t\t\tthis.onValidateGridDichVuChoVoucher();\n\t\t}\n\n\t\tif(this.validationErrors != null && this.validationErrors.length === 0) {\n\t\t\tthis.voucher.LoaiChietKhau = null;\n\t\t\tthis.voucher.TiLeChietKhau = null;\n\t\t\tthis.voucher.SoTienChietKhau = null;\n\n\t\t\tthis.voucher.lstVoucherChiTietMienGiamNhomDichVu.forEach(item => {\n\t\t\t\titem.DichVuId = null;\n\t\t\t\titem.LoaiGiaId = null;\n\t\t\t})\n\n\t\t\tthis.apiService.put<any>(`Voucher`, this.voucher).subscribe(res => {\n\t\t\t\tthis.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Chnh sa\"]));\n\t\t\t\tthis.router.navigate(['/marketing/ct-marketing/voucher']);\n\t\t\t}, (err: ApiError) => {\n\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n\t\t\t})\n\t\t}\n\t}\n\n\tluuTatCaDichVu() {\n\t\tthis.onValidateTatCaDichVuChoVoucher();\n\n\t\tif(this.validationErrors != null && this.validationErrors.length === 0) {\n\t\t\tif(this.voucher.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoSoTien) {\n\t\t\t\tthis.voucher.TiLeChietKhau = null;\n\t\t\t} else {\n\t\t\t\tthis.voucher.SoTienChietKhau = null;\n\t\t\t}\n\n\t\t\tthis.apiService.put<any>(`Voucher`, this.voucher).subscribe(res => {\n\t\t\t\tthis.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Chnh sa\"]));\n\t\t\t\tthis.router.navigate(['/marketing/ct-marketing/voucher']);\n\t\t\t}, (err: ApiError) => {\n\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n\t\t\t})\n\t\t}\n\t}\n\n\tthem() {\n\t\tthis.voucher.IsThemHoacLuuDichVu = true;\n\n\t\tswitch(this.voucher.LoaiDichVuVoucherMarketing)\n\t\t{\n\t\t\tcase this.loaiDichVuVoucherMarketing.DichVu:\n\t\t\t\tthis.themDichVu();\n\t\t\t\tbreak;\n\t\t\tcase this.loaiDichVuVoucherMarketing.NhomDichVu:\n\t\t\t\tthis.themNhomDichVu();\n\t\t\t\tbreak;\n\t\t\tcase this.loaiDichVuVoucherMarketing.TatCaDichVu:\n\t\t\t\tthis.themTatCaDichVu();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tthemDichVu() {\n\t\tthis.validationErrors = [];\n\n\t\tif((!this.voucher.lstVoucherChiTietMienGiam || this.voucher.lstVoucherChiTietMienGiam.length === 0) && (!this.voucher.lstVoucherChiTietMienGiamNhomDichVu || this.voucher.lstVoucherChiTietMienGiamNhomDichVu.length === 0)) {\n\t\t\tthis.notificationService.showError(VoucherMarketingMessage.MessageDichVuNotNull)\n\t\t\treturn;\n\t\t}\n\n\t\tif(this.voucher.lstVoucherChiTietMienGiam && this.voucher.lstVoucherChiTietMienGiam.length > 0) {\n\t\t\tthis.onValidateGridDichVuChoVoucher();\n\t\t}\n\n\t\tif(this.voucher.lstVoucherChiTietMienGiamNhomDichVu && this.voucher.lstVoucherChiTietMienGiamNhomDichVu.length > 0) {\n\t\t\tthis.onValidateGridNhomDichVuChoVoucher();\n\t\t}\n\n\t\tif(this.validationErrors != null && this.validationErrors.length === 0) {\n\t\t\tthis.voucher.LoaiChietKhau = null;\n\t\t\tthis.voucher.TiLeChietKhau = null;\n\t\t\tthis.voucher.SoTienChietKhau = null;\n\n\t\t\tthis.apiService.post<any>(`Voucher`, this.voucher).subscribe(res => {\n\t\t\t\tthis.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Thm\"]));\n\t\t\t\tthis.router.navigate(['/marketing/ct-marketing/voucher']);\n\t\t\t}, (err: ApiError) => {\n\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n\t\t\t})\n\t\t}\n\t}\n\n\tthemNhomDichVu() {\n\t\tthis.validationErrors = [];\n\n\t\tif((!this.voucher.lstVoucherChiTietMienGiam || this.voucher.lstVoucherChiTietMienGiam.length === 0) && (!this.voucher.lstVoucherChiTietMienGiamNhomDichVu || this.voucher.lstVoucherChiTietMienGiamNhomDichVu.length === 0)) {\n\t\t\tthis.notificationService.showError(VoucherMarketingMessage.MessageNhomDichVuNotNull)\n\t\t\treturn;\n\t\t}\n\n\t\tif(this.voucher.lstVoucherChiTietMienGiamNhomDichVu && this.voucher.lstVoucherChiTietMienGiamNhomDichVu.length > 0) {\n\t\t\tthis.onValidateGridNhomDichVuChoVoucher();\n\t\t}\n\n\t\tif(this.voucher.lstVoucherChiTietMienGiam && this.voucher.lstVoucherChiTietMienGiam.length > 0) {\n\t\t\tthis.onValidateGridDichVuChoVoucher();\n\t\t}\n\n\t\tif(this.validationErrors != null && this.validationErrors.length === 0) {\n\t\t\tthis.voucher.LoaiChietKhau = null;\n\t\t\tthis.voucher.TiLeChietKhau = null;\n\t\t\tthis.voucher.SoTienChietKhau = null;\n\n\t\t\tthis.apiService.post<any>(`Voucher`, this.voucher).subscribe(res => {\n\t\t\t\tthis.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Thm\"]));\n\t\t\t\tthis.router.navigate(['/marketing/ct-marketing/voucher']);\n\t\t\t}, (err: ApiError) => {\n\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n\t\t\t})\n\t\t}\n\t}\n\n\tthemTatCaDichVu() {\n\t\tthis.onValidateTatCaDichVuChoVoucher();\n\n\t\tif(this.validationErrors != null && this.validationErrors.length === 0) {\n\t\t\tif(this.voucher.LoaiChietKhau == this.loaiChietKhau.ChietKhauTheoSoTien) {\n\t\t\t\tthis.voucher.TiLeChietKhau = null;\n\t\t\t} else {\n\t\t\t\tthis.voucher.SoTienChietKhau = null;\n\t\t\t}\n\n\t\t\tthis.apiService.post<any>(`Voucher`, this.voucher).subscribe(res => {\n\t\t\t\tthis.notificationService.showSuccess(CommonService.format(SystemMessage.ActionSuccessfully, [\"Thm\"]));\n\t\t\t\tthis.router.navigate(['/marketing/ct-marketing/voucher']);\n\t\t\t}, (err: ApiError) => {\n\t\t\t\terr.ValidationErrors === null || err.ValidationErrors.length == 0 ? this.notificationService.showError(err.Message) : this.validationErrors = err.ValidationErrors;\n\t\t\t})\n\t\t}\n\t}\n\n\tonDataBoundGridDichVuDonLe(event: any) {\n\t\tif(!this.isAlreadyGetDataDichVuDonLe) {\n\t\t\tif (event && event.Data.length > 0) {\n\t\t\t\tthis.voucher.lstVoucherChiTietMienGiam = event.Data;\n\t\t\t\tthis.isExistDataDichVuDonLe = true;\n\t\t\t} else {\n\t\t\t\tthis.isExistDataDichVuDonLe = false;\n\t\t\t}\n\n\t\t\tthis.isAlreadyGetDataDichVuDonLe = true;\n\t\t} else {\n\t\t\tthis.setDataGridView();\n\t\t\tthis.gridDanhSachDichVu.gridDataSource = { ...this.gridDataSource };\n\t\t\tthis.gridDanhSachDichVu.setDataSource();\n\t\t\tthis.checkTogetRadioDichVuItems();\n\t\t}\n\t}\n\t\n\tonDataBoundGridNhomDichVu(event: any) {\n\t\tif(!this.isAlreadyGetDataNhomDichVu) {\n\t\t\tif (event && event.Data.length > 0) {\n\t\t\t\tthis.voucher.lstVoucherChiTietMienGiamNhomDichVu = event.Data;\n\t\t\t\tthis.isExistDataNhomDichVu = true;\n\t\t\t} else {\n\t\t\t\tthis.isExistDataNhomDichVu = false;\n\t\t\t}\n\n\t\t\tthis.isAlreadyGetDataNhomDichVu = true;\n\t\t} else {\n\t\t\tthis.setDataGridViewNhomDichVu();\n\t\t\tthis.gridDanhSachNhomDichVu.gridDataSource = { ...this.gridNhomDichVuDataSource };\n\t\t\tthis.gridDanhSachNhomDichVu.setDataSource();\n\t\t\tthis.checkTogetRadioDichVuItems();\n\t\t} \n\t}\n\n\tkeyUpDichVu(evt) {\n\t\tif (evt.key == \"Enter\" && !this.isSelectingDichVu) {\n\t\t\tif (this.isSelectingDichVu != true) {\n\t\t\t\tthis.themDichVuChoVoucher();\n\t\t\t} else {\n\t\t\t  \tthis.isSelectingDichVu = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tkeyUpNhomDichVu(evt) {\n\t\tif(evt.key === 'Enter') {\n\t\t\tthis.themNhomDichVuChoVoucher();\n\t\t}\n\t}\n\n\topenComboboxDichVu(event: any) {\n        if(event){\n            this.isSelectingDichVu = true;\n        }\n        else{\n            this.isSelectingDichVu = false;\n        }\n    }\n}","export default \".float-left {\\n  float: left;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9tYWluL21hcmtldGluZy9jaHVvbmctdHJpbmgtbWFya2V0aW5nL3RoZW8tdm91Y2hlci92b3VjaGVyLXVwZGF0ZS9DOlxccHJvamVjdFxcZnJlZWxhbmNlclxcaG9zcGl0YWwvc3JjXFxhcHBcXG1vZHVsZXNcXG1haW5cXG1hcmtldGluZ1xcY2h1b25nLXRyaW5oLW1hcmtldGluZ1xcdGhlby12b3VjaGVyXFx2b3VjaGVyLXVwZGF0ZVxcdm91Y2hlci11cGRhdGUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvbWFpbi9tYXJrZXRpbmcvY2h1b25nLXRyaW5oLW1hcmtldGluZy90aGVvLXZvdWNoZXIvdm91Y2hlci11cGRhdGUvdm91Y2hlci11cGRhdGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL21haW4vbWFya2V0aW5nL2NodW9uZy10cmluaC1tYXJrZXRpbmcvdGhlby12b3VjaGVyL3ZvdWNoZXItdXBkYXRlL3ZvdWNoZXItdXBkYXRlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZsb2F0LWxlZnQge1xuICBmbG9hdDogbGVmdDtcbn0iLCIuZmxvYXQtbGVmdCB7XG4gIGZsb2F0OiBsZWZ0O1xufSJdfQ== */\"","import { Component, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { VoucherSharedComponent } from '../voucher-shared/voucher-shared.component';\nimport { stagger60ms } from 'src/@vex/animations/stagger.animation';\nimport { fadeInUp400ms } from 'src/@vex/animations/fade-in-up.animation';\nimport { VoucherInPopupComponent } from '../voucher-in-popup/voucher-in-popup.component';\nimport { MatDialog } from '@angular/material';\nimport { SystemMessage, VoucherMarketingMessage } from 'src/app/shared/configdata/system-message';\nimport { NotificationService } from 'src/app/core/services/notification.service';\nimport { ConfirmComponent } from 'src/app/shared/component/dialogs/confirm/confirm.component';\nimport { CommonService } from 'src/app/core/utilities/common.helper';\n\n@Component({\n\tselector: 'app-voucher-update',\n\ttemplateUrl: './voucher-update.component.html',\n    styleUrls: ['./voucher-update.component.scss'],\n    animations: [\n        stagger60ms,\n        fadeInUp400ms\n    ],\n    // encapsulation: ViewEncapsulation.None\n})\nexport class VoucherUpdateComponent implements OnInit {\n\t@ViewChild(VoucherSharedComponent, {static: true}) shared: VoucherSharedComponent;\n    \n    constructor(private router: Router, private dialog: MatDialog,\n                private notificationService: NotificationService) { }\n\n    ngOnInit() {\n    }\n\n    // onUpdated() {\n    //     this.router.navigate(['/marketing/ct-marketing/voucher']);\n    // }\n\n    huy() {\n        // this.router.navigate(['/marketing/ct-marketing/voucher']);\n        this.router.navigateByUrl(\"/marketing/ct-marketing/voucher?holdQuery=true\");\n    }\n\n    luu() {\n        this.dialog.open(ConfirmComponent, {\n            disableClose: false,\n            width: \"500px\",\n            data: {\n                Title: \"Xc nhn\",\n                Message: CommonService.format(SystemMessage.MessConfirm, [\"chnh sa\"]),\n            },\n        }).afterClosed().subscribe((res) => {\n            if (res == \"Yes\") {\n                this.shared.luu();\n            }\n        })\n    }\n\n    in() {\n        let data = this.shared.getSharedData();\n\n        if(!data.Ma || !data.Ten || !data.SoLuongPhatHanh || !data.TuNgay) {\n            this.notificationService.showError(VoucherMarketingMessage.MessageThongTinNotNull)\n        } else {\n            this.dialog.open(VoucherInPopupComponent, {\n                disableClose: true,\n                width: '900px',\n                height: '550px',\n                data: data\n            })\n            .afterClosed()\n            .subscribe((res) => {\n            });\n        }\n    }\n}\n","export class Voucher {\n    Ten: string;\n    Ma: string;\n    MoTa: string;\n    SoLuongPhatHanh: number;\n    MaSoTu: string;\n    MaSoDen: string;\n    TuNgay: Date;\n    DenNgay: Date;\n    ChietKhauTatCaDichVu: boolean;\n    LoaiChietKhau: LoaiChietKhau;\n    TiLeChietKhau: number;\n    SoTienChietKhau: number;\n    LoaiDichVuVoucherMarketing: LoaiDichVuVoucherMarketing;\n    GhiChu: string;\n    IsThemHoacLuuDichVu: boolean = false;\n\n    lstVoucherChiTietMienGiam: VoucherChiTietMienGiam[] = [];\n    lstVoucherChiTietMienGiamNhomDichVu: VoucherChiTietMienGiam[] = [];\n}\n\nexport class VoucherChiTietMienGiam {\n    // VoucherId: number;\n    // LoaiDichVu: LoaiDichVuVoucherMarketing;\n    LoaiDichVuBenhVien: LoaiDichVuBenhVien; //DVKT, DVKB\n    LoaiDichVuBenhVienDisplay: string;\n    DichVuId: number;\n    DichVuDisplay: string;\n    MaDichVu: string;\n    LoaiGiaId: number;\n    LoaiGiaDisplay: string;\n    DonGia: number;\n    LoaiChietKhau: LoaiChietKhau;\n    TiLeChietKhau: number;\n    SoTienChietKhau: number\n    DonGiaSauChietKhau: number;\n    GhiChu: string;\n\n    NhomDichVuId: number;\n    NhomDichVuDisplay: string;\n    NhomDichVuChaId : number;\n    NhomDichVuConItems: any[];\n}\n\nexport enum LoaiDichVuVoucherMarketing {\n    DichVu = 1,\n    NhomDichVu = 2,\n    TatCaDichVu = 3\n}\n\nexport enum LoaiChietKhau {\n    ChietKhauTheoTiLe = 1,\n    ChietKhauTheoSoTien = 2,\n}\n\nexport enum LoaiDichVuBenhVien {\n    KhamBenh = 1,\n    KyThuat = 2,\n    // GiuongBenh = 3\n}\n\nexport class VoucherSearch {\n    public SearchString: string = \"\";\n    public RangeNgayApDung: rangeDate = new rangeDate();\n}\n\nexport class rangeDate {\n    constructor(\n        public startDate: Date = null,\n        public endDate: Date = null,\n    ){}\n}\n\nexport class VoucherThongTinHTML {\n    constructor (\n        public HostingName: string = null,\n        public Ten: string = null,\n        public Ma: string = null,\n        public SoLuong: number = null,\n        public MaSoTu: number = null,\n        public SoLuongPhatHanh: number = null,\n    ) { }\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BaseService } from 'src/app/core/services/base.service';\nimport { LayoutModule } from '@progress/kendo-angular-layout';\nimport { MatDialogModule, MatTabsModule, MatIconModule, MatMenuModule, MatButtonToggleModule, MatTooltipModule, MatButtonModule, MatInputModule, MatCheckboxModule, MatSelectModule, MatRadioModule, MatOptionModule} from '@angular/material';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TooltipModule } from '@progress/kendo-angular-tooltip';\nimport { PageLayoutModule } from 'src/@vex/components/page-layout/page-layout.module';\nimport { BreadcrumbsModule } from 'src/@vex/components/breadcrumbs/breadcrumbs.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { IconModule } from '@visurel/iconify-angular';\nimport { GridModule } from '@progress/kendo-angular-grid';\nimport { InputsModule } from '@progress/kendo-angular-inputs';\nimport { VoucherRoutingModule } from './voucher-routing.module';\nimport { VoucherService } from './voucher.service';\nimport { VoucherListComponent } from './voucher-list/voucher-list.component';\nimport { VoucherCreateComponent } from './voucher-create/voucher-create.component';\nimport { VoucherSharedComponent } from './voucher-shared/voucher-shared.component';\nimport { VoucherUpdateComponent } from './voucher-update/voucher-update.component';\nimport { VoucherInPopupComponent } from './voucher-in-popup/voucher-in-popup.component';\nimport { VoucherChiTietPopupComponent } from './voucher-chi-tiet-popup/voucher-chi-tiet-popup.component';\n\n@NgModule({\n    declarations: [ VoucherListComponent, VoucherCreateComponent, VoucherSharedComponent, VoucherUpdateComponent, VoucherInPopupComponent, VoucherChiTietPopupComponent ],\n    imports: [\n        CommonModule,\n        InputsModule,\n        LayoutModule,\n        MatDialogModule,\n        MatTabsModule,\n        SharedModule,\n        FormsModule,\n        ReactiveFormsModule,\n        TooltipModule,\n        PageLayoutModule,\n        BreadcrumbsModule,\n        FlexLayoutModule,\n        MatIconModule,\n        IconModule,\n        MatMenuModule,\n        MatButtonToggleModule,\n        MatTooltipModule,\n        MatButtonModule,\n        MatSelectModule,\n        MatRadioModule,\n        MatOptionModule,\n        MatInputModule,\n        MatCheckboxModule,\n        GridModule,\n        VoucherRoutingModule\n    ],\n    entryComponents: [\n        VoucherInPopupComponent,\n        VoucherChiTietPopupComponent\n    ],\n    providers: [\n        VoucherService,\n        { provide: BaseService, useClass: VoucherService },\n    ],\n})\n\nexport class VoucherModule { }\n","import { Injectable } from '@angular/core';\nimport { ApiService } from 'src/app/core/services/api.service';\nimport { BaseService } from 'src/app/core/services/base.service';\n\n@Injectable({\n    providedIn: 'root'\n})\n\nexport class VoucherService extends BaseService {\n    controllerName = 'Voucher';\n\n    constructor(apiService: ApiService) { \n        super(apiService);\n    }\n}"],"sourceRoot":"webpack:///"}